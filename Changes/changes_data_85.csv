id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible-os_aodh~master~I883d84859811714362c5b58f33dfae808317bfdc,openstack/openstack-ansible-os_aodh,master,I883d84859811714362c5b58f33dfae808317bfdc,Support service tokens,MERGED,2022-06-15 15:22:00.000000000,2022-06-18 23:40:33.000000000,2022-06-18 23:39:28.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-15 15:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/e5560d4869657c622d6fc19620ad954109b41206', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I883d84859811714362c5b58f33dfae808317bfdc\n'}, {'number': 2, 'created': '2022-06-17 13:40:57.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'templates/aodh.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/3e94523ec73c1c3197ad3c4f820f0c55c2cd306d', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/846347\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I883d84859811714362c5b58f33dfae808317bfdc\n'}]",4,846010,3e94523ec73c1c3197ad3c4f820f0c55c2cd306d,24,3,2,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_gnocchi/+/846347
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I883d84859811714362c5b58f33dfae808317bfdc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/10/846010/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'templates/aodh.conf.j2']",3,e5560d4869657c622d6fc19620ad954109b41206,osa/service_tokens," service_token_roles_required = {{ aodh_service_token_roles_required | bool }} service_token_roles = {{ aodh_service_token_roles | join(',') }} service_type = {{ aodh_service_type }} ",,12,2
openstack%2Fswift~master~Iaba3725551bd47d75067a634a7571485b9afa2de,openstack/swift,master,Iaba3725551bd47d75067a634a7571485b9afa2de,formpost: Add support for sha256/512 signatures,MERGED,2022-04-19 05:38:23.000000000,2022-06-18 18:56:04.000000000,2022-06-18 18:54:45.000000000,"[{'_account_id': 1179}, {'_account_id': 6968}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-19 05:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0644def3daa8d92d157e979255dbb82c23eff808', 'message': 'formpost: Add support for sha256/512 signatures\n\nSha1 has known to be deprecated for a while so allow the formpost\nmiddleware to use SHA256 and SHA512. Which also follows the tempurl\nmodel where we can prepend the digest to the signature:\n\n  sha256:<sig>\nor\n  sha512:<sig>\n\nChange-Id: Iaba3725551bd47d75067a634a7571485b9afa2de\n'}, {'number': 2, 'created': '2022-04-22 10:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/81eb8fe66177219266fc99a58d1d8a02b4418027', 'message': 'formpost: Add support for sha256/512 signatures\n\nSha1 has known to be deprecated for a while so allow the formpost\nmiddleware to use SHA256 and SHA512. Which also follows the tempurl\nmodel where we can prepend the digest to the signature:\n\n  sha256:<sig>\nor\n  sha512:<sig>\n\nChange-Id: Iaba3725551bd47d75067a634a7571485b9afa2de\n'}, {'number': 3, 'created': '2022-04-27 23:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bb24e0fd79cd7ac1581b48af5683ddbf8a620990', 'message': 'formpost: Add support for sha256/512 signatures\n\nSha1 has known to be deprecated for a while so allow the formpost\nmiddleware to use SHA256 and SHA512. Which also follows the tempurl\nmodel where we can prepend the digest to the signature:\n\n  sha256:<sig>\nor\n  sha512:<sig>\n\nChange-Id: Iaba3725551bd47d75067a634a7571485b9afa2de\n'}, {'number': 4, 'created': '2022-05-02 07:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1834becb99ba973559e1014d80447847af15ccb2', 'message': 'formpost: Add support for sha256/512 signatures\n\nSha1 has known to be deprecated for a while so allow the formpost\nmiddleware to use SHA256 and SHA512. Which also follows the tempurl\nmodel where we can prepend the digest to the signature:\n\n  sha256:<sig>\nor\n  sha512:<sig>\n\nChange-Id: Iaba3725551bd47d75067a634a7571485b9afa2de\n'}, {'number': 5, 'created': '2022-06-07 14:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bc6f3ab5d1cc04daf859822c6286ef2fa7798165', 'message': ""formpost: Add support for sha256/512 signatures\n\nSha1 has known to be deprecated for a while so allow the formpost\nmiddleware to use SHA256 and SHA512. Follow the tempurl model and\naccept signatures of the form:\n\n   <hex-encoded signature>\n\nor\n\n   sha1:<base64-encoded signature>\n   sha256:<base64-encoded signature>\n   sha512:<base64-encoded signature>\n\nwhere the base64-encoding can be either standard or URL-safe, and the\ntrailing '=' chars may be stripped off.\n\nAs part of this, pull the signature-parsing out to a new function, and\nadd detection for hex-encoded sha512 signatures to tempurl.\n\nChange-Id: Iaba3725551bd47d75067a634a7571485b9afa2de\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1794601\n""}, {'number': 6, 'created': '2022-06-07 18:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f87968a5b73f3a8ddeaece0fc1e201ffc4fa48e8', 'message': ""formpost: Add support for sha256/512 signatures\n\nSha1 has known to be deprecated for a while so allow the formpost\nmiddleware to use SHA256 and SHA512. Follow the tempurl model and\naccept signatures of the form:\n\n   <hex-encoded signature>\n\nor\n\n   sha1:<base64-encoded signature>\n   sha256:<base64-encoded signature>\n   sha512:<base64-encoded signature>\n\nwhere the base64-encoding can be either standard or URL-safe, and the\ntrailing '=' chars may be stripped off.\n\nAs part of this, pull the signature-parsing out to a new function, and\nadd detection for hex-encoded sha512 signatures to tempurl.\n\nChange-Id: Iaba3725551bd47d75067a634a7571485b9afa2de\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1794601\n""}, {'number': 7, 'created': '2022-06-16 16:52:46.000000000', 'files': ['test/unit/common/middleware/test_formpost.py', 'swift/common/utils.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/formpost.py', 'test/unit/common/middleware/test_tempurl.py', 'test/functional/test_tempurl.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ef31baf3fc064f7c83c7116d8d4374295915ec1c', 'message': ""formpost: Add support for sha256/512 signatures\n\nSha1 has known to be deprecated for a while so allow the formpost\nmiddleware to use SHA256 and SHA512. Follow the tempurl model and\naccept signatures of the form:\n\n   <hex-encoded signature>\n\nor\n\n   sha1:<base64-encoded signature>\n   sha256:<base64-encoded signature>\n   sha512:<base64-encoded signature>\n\nwhere the base64-encoding can be either standard or URL-safe, and the\ntrailing '=' chars may be stripped off.\n\nAs part of this, pull the signature-parsing out to a new function, and\nadd detection for hex-encoded sha512 signatures to tempurl.\n\nChange-Id: Iaba3725551bd47d75067a634a7571485b9afa2de\nRelated-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046\nCo-Authored-By: Tim Burke <tim.burke@gmail.com>\nCloses-Bug: #1794601\n""}]",45,838434,ef31baf3fc064f7c83c7116d8d4374295915ec1c,51,5,7,7233,,,0,"formpost: Add support for sha256/512 signatures

Sha1 has known to be deprecated for a while so allow the formpost
middleware to use SHA256 and SHA512. Follow the tempurl model and
accept signatures of the form:

   <hex-encoded signature>

or

   sha1:<base64-encoded signature>
   sha256:<base64-encoded signature>
   sha512:<base64-encoded signature>

where the base64-encoding can be either standard or URL-safe, and the
trailing '=' chars may be stripped off.

As part of this, pull the signature-parsing out to a new function, and
add detection for hex-encoded sha512 signatures to tempurl.

Change-Id: Iaba3725551bd47d75067a634a7571485b9afa2de
Related-Change: Ia9dd1a91cc3c9c946f5f029cdefc9e66bcf01046
Co-Authored-By: Tim Burke <tim.burke@gmail.com>
Closes-Bug: #1794601
",git fetch https://review.opendev.org/openstack/swift refs/changes/34/838434/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_formpost.py', 'swift/common/middleware/formpost.py']",2,0644def3daa8d92d157e979255dbb82c23eff808,bug/1733634,"The signature attribute is the HMAC signature of the form. Here is from hashlib import sha512 signature = hmac.new(key, hmac_body, sha512).hexdigest()import hashlibfrom swift.common.middleware.tempurl import get_tempurl_keys_from_metadata, \ DEFAULT_ALLOWED_DIGESTS, SUPPORTED_DIGESTS close_if_possible, get_logger # Defaulting to SUPPORTED_DIGESTS just so we don't completely # deprecate sha1 yet. We'll change this to DEFAULT_ALLOWED_DIGESTS # later. self.allowed_digests = conf.get( 'allowed_digests', SUPPORTED_DIGESTS) signature = attributes.get('signature', '') hash_algorithm = 'sha512' if ':' in signature: hash_algorithm, signature = signature.split(':', 1) attributes['signature'] = signature if hash_algorithm not in self.allowed_digests: raise FormUnauthorized('invalid signature') elif len(signature) == 40: hash_algorithm = 'sha1' if six.PY2: hash_algorithm = getattr(hashlib, hash_algorithm) sig = hmac.new(key, hmac_body, hash_algorithm).hexdigest() logger = get_logger(conf, log_route='formpost') allowed_digests = set(conf.get( 'allowed_digests', DEFAULT_ALLOWED_DIGESTS).split()) not_supported = allowed_digests - SUPPORTED_DIGESTS if not_supported: logger.warning('The following digest algorithms are configured but ' 'not supported: %s', ', '.join(not_supported)) allowed_digests -= not_supported if not allowed_digests: raise ValueError('No valid digest algorithms are configured ' 'for formpost') info = {'allowed_digests': sorted(allowed_digests)} register_swift_info('formpost', **info) conf.update(info)","The signature attribute is the HMAC-SHA1 signature of the form. Here is from hashlib import sha1 signature = hmac.new(key, hmac_body, sha1).hexdigest()from hashlib import sha1from swift.common.middleware.tempurl import get_tempurl_keys_from_metadata close_if_possible sig = hmac.new(key, hmac_body, sha1).hexdigest() register_swift_info('formpost') ",107,18
openstack%2Fnova~master~I7fe691b1e4d46dac2dfe8062b259b711efd90e20,openstack/nova,master,I7fe691b1e4d46dac2dfe8062b259b711efd90e20,squash to first dev_spec,ABANDONED,2022-06-18 13:17:06.000000000,2022-06-18 15:51:28.000000000,,[],"[{'number': 1, 'created': '2022-06-18 13:17:06.000000000', 'files': ['nova/compute/pci_placement_translator.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05ccd428a47ed5c4f083cb8ade69e19157c5d7fb', 'message': 'squash to first dev_spec\n\nChange-Id: I7fe691b1e4d46dac2dfe8062b259b711efd90e20\n'}]",0,846465,05ccd428a47ed5c4f083cb8ade69e19157c5d7fb,4,0,1,9708,,,0,"squash to first dev_spec

Change-Id: I7fe691b1e4d46dac2dfe8062b259b711efd90e20
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/846465/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/pci_placement_translator.py'],1,05ccd428a47ed5c4f083cb8ade69e19157c5d7fb,bp/pci-device-tracking-in-placement," ""Device spec is not found for device %s in [pci]device_spec. """," ""Device spec is not found for device %s in [pci]dev_spec. """,1,1
openstack%2Frpm-packaging~master~Icfa0f76bb928a6444e4aed3eb4299f9a99a95a4d,openstack/rpm-packaging,master,Icfa0f76bb928a6444e4aed3eb4299f9a99a95a4d,python-mistralclient: add osc-lib,MERGED,2022-06-18 13:39:42.000000000,2022-06-18 13:52:33.000000000,2022-06-18 13:52:33.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-18 13:39:42.000000000', 'files': ['openstack/python-mistralclient/python-mistralclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a56af4829501d1d91d72cbfba24dce1e1a3e2155', 'message': 'python-mistralclient: add osc-lib\n\nChange-Id: Icfa0f76bb928a6444e4aed3eb4299f9a99a95a4d\n'}]",0,846468,a56af4829501d1d91d72cbfba24dce1e1a3e2155,7,3,1,6593,,,0,"python-mistralclient: add osc-lib

Change-Id: Icfa0f76bb928a6444e4aed3eb4299f9a99a95a4d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/68/846468/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-mistralclient/python-mistralclient.spec.j2'],1,a56af4829501d1d91d72cbfba24dce1e1a3e2155,,BuildRequires: {{ py3('osc-lib') }},,1,0
openstack%2Frpm-packaging~master~If90bde4ea32087464be6f8860b6e13ba5235ae28,openstack/rpm-packaging,master,If90bde4ea32087464be6f8860b6e13ba5235ae28,manilaclient: add osc-lib dependency,MERGED,2022-06-18 13:35:55.000000000,2022-06-18 13:47:22.000000000,2022-06-18 13:47:22.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-18 13:35:55.000000000', 'files': ['openstack/python-manilaclient/python-manilaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3a51918e75f7827acb837c52db1ebee42daf9e57', 'message': 'manilaclient: add osc-lib dependency\n\nChange-Id: If90bde4ea32087464be6f8860b6e13ba5235ae28\n'}]",0,846467,3a51918e75f7827acb837c52db1ebee42daf9e57,7,3,1,6593,,,0,"manilaclient: add osc-lib dependency

Change-Id: If90bde4ea32087464be6f8860b6e13ba5235ae28
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/67/846467/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-manilaclient/python-manilaclient.spec.j2'],1,3a51918e75f7827acb837c52db1ebee42daf9e57,,BuildRequires: {{ py3('osc-lib') }}Requires: {{ py3('osc-lib') }},,2,0
openstack%2Fnova~stable%2Fxena~Ice5a2c7aca77f47ea6328a10d835854d9aff408e,openstack/nova,stable/xena,Ice5a2c7aca77f47ea6328a10d835854d9aff408e,Add missing condition,MERGED,2022-05-30 17:24:58.000000000,2022-06-18 12:46:36.000000000,2022-06-18 12:45:23.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 17:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b09e46311aa62540d231dc3b7d5f893cd64ee8da', 'message': ""Add missing condition\n\nChange [1] added new fields 'src|dst_supports_numa_live_migration'\nto LibvirtLiveMigrateData object, but missed if condition for\ndst_supports_numa_live_migration field in obj_make_compatible\nmethod.\n\nThis change adds the if condition as well as fix typo in unit test\nbecause of which this wasn't catched earlier.\n\nCloses-Bug: #1975891\nChange-Id: Ice5a2c7aca77f47ea6328a10d835854d9aff408e\n(cherry picked from commit 3aa77a3999a7dcabbd4c0141d4c56b07a4624128)\n""}, {'number': 2, 'created': '2022-06-18 10:03:43.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7c4059669c079787e5dbdc873a1cf767a95b2c54', 'message': ""Add missing condition\n\nChange [1] added new fields 'src|dst_supports_numa_live_migration'\nto LibvirtLiveMigrateData object, but missed if condition for\ndst_supports_numa_live_migration field in obj_make_compatible\nmethod.\n\nThis change adds the if condition as well as fix typo in unit test\nbecause of which this wasn't catched earlier.\n\nCloses-Bug: #1975891\nChange-Id: Ice5a2c7aca77f47ea6328a10d835854d9aff408e\n(cherry picked from commit 3aa77a3999a7dcabbd4c0141d4c56b07a4624128)\n(cherry picked from commit dfa05d62da441eeaf144e312cf33ba0e029452f0)\n""}]",2,843821,7c4059669c079787e5dbdc873a1cf767a95b2c54,19,7,2,20733,,,0,"Add missing condition

Change [1] added new fields 'src|dst_supports_numa_live_migration'
to LibvirtLiveMigrateData object, but missed if condition for
dst_supports_numa_live_migration field in obj_make_compatible
method.

This change adds the if condition as well as fix typo in unit test
because of which this wasn't catched earlier.

Closes-Bug: #1975891
Change-Id: Ice5a2c7aca77f47ea6328a10d835854d9aff408e
(cherry picked from commit 3aa77a3999a7dcabbd4c0141d4c56b07a4624128)
(cherry picked from commit dfa05d62da441eeaf144e312cf33ba0e029452f0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/843821/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_migrate_data.py']",2,b09e46311aa62540d231dc3b7d5f893cd64ee8da,bz_1975891," src_supports_numa_live_migration=True, dst_supports_numa_live_migration=True,"," src_supports_numa_live_migraton=True, dst_supports_numa_live_migraton=True,",5,2
openstack%2Fnova~master~Ie65c95f5a2e3fa4235aaae59f510d21c6c3eb339,openstack/nova,master,Ie65c95f5a2e3fa4235aaae59f510d21c6c3eb339,mypy-squas it back,ABANDONED,2022-06-18 11:54:46.000000000,2022-06-18 12:25:41.000000000,,[],"[{'number': 1, 'created': '2022-06-18 11:54:46.000000000', 'files': ['mypy-files.txt', 'nova/compute/pci_placement_translator.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf10b5f55b045aa26e5ab16ba144597221cb49f7', 'message': 'mypy-squas it back\n\nChange-Id: Ie65c95f5a2e3fa4235aaae59f510d21c6c3eb339\n'}]",0,846464,bf10b5f55b045aa26e5ab16ba144597221cb49f7,3,0,1,9708,,,0,"mypy-squas it back

Change-Id: Ie65c95f5a2e3fa4235aaae59f510d21c6c3eb339
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/846464/1 && git format-patch -1 --stdout FETCH_HEAD,"['mypy-files.txt', 'nova/compute/pci_placement_translator.py']",2,bf10b5f55b045aa26e5ab16ba144597221cb49f7,bp/pci-device-tracking-in-placement,"def _is_placement_tracking_enabled() -> bool: def __init__(self, name: str) -> None: self.children_devs: ty.List[pci_device.PciDevice] = [] self.resource_class: ty.Optional[str] = None self.traits: ty.Optional[ty.Set[str]] = None def add_child(self, dev: pci_device.PciDevice) -> None: self.traits = set() def add_parent(self, dev: pci_device.PciDevice) -> None: self.traits = set() def update_provider_tree( self, provider_tree: provider_tree.ProviderTree ) -> None: def __str__(self) -> str: return ( f""RP({self.name}, {self.resource_class}={len(self.devs)}, "" f""traits={','.join(self.traits or set())})"" ) def __init__(self, hypervisor_hostname: str) -> None: self.rps: ty.Dict[str, PciResourceProvider] = {} def _add_child(self, dev: pci_device.PciDevice) -> None: def _add_parent(self, dev: pci_device.PciDevice) -> None: def __str__(self) -> str: def update_provider_tree( self, provider_tree: provider_tree.ProviderTree ) -> None:","def _is_placement_tracking_enabled(): def __init__(self, name: str): self.children_devs = [] self.resource_class = None self.traits = None def add_child(self, dev): self.traits = [] def add_parent(self, dev): self.traits = [] def __str__(self): return ( f""RP({self.name}, {self.resource_class}={len(self.devs)}, "" f""traits={','.join(self.traits)})"" ) def update_provider_tree(self, provider_tree: provider_tree.ProviderTree): def __init__(self, hypervisor_hostname: str): self.rps = {} def _add_child(self, dev: pci_device.PciDevice): def _add_parent(self, dev: pci_device.PciDevice): def __str__(self): def update_provider_tree(self, provider_tree: provider_tree.ProviderTree):",27,22
openstack%2Fopenstack-ansible-os_magnum~master~I986113491800f9432ebcc8ea82b8f4362671c5d2,openstack/openstack-ansible-os_magnum,master,I986113491800f9432ebcc8ea82b8f4362671c5d2,Fixed dest typo in config_template,MERGED,2022-06-15 14:06:35.000000000,2022-06-18 12:24:00.000000000,2022-06-18 12:22:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-15 14:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/ac0a14710eb2398a6920d0d025fd7f4138874e62', 'message': 'Fixed dest typo in config_template\n\nChange-Id: I986113491800f9432ebcc8ea82b8f4362671c5d2\n'}, {'number': 2, 'created': '2022-06-16 10:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/bdb2683cf4268402a86b1b74c746cf96f0386b0c', 'message': 'Fixed dest typo in config_template\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846145\nChange-Id: I986113491800f9432ebcc8ea82b8f4362671c5d2\n'}, {'number': 3, 'created': '2022-06-16 18:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/ae012267143cbddd4ea5ba00d15f131e35d154cc', 'message': 'Fixed dest typo in config_template\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846145\nChange-Id: I986113491800f9432ebcc8ea82b8f4362671c5d2\n'}, {'number': 4, 'created': '2022-06-17 08:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/14eec8e8df9fb8127bac9478523d7ba5b892e88b', 'message': 'Fixed dest typo in config_template\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846145\nChange-Id: I986113491800f9432ebcc8ea82b8f4362671c5d2\n'}, {'number': 5, 'created': '2022-06-18 07:42:47.000000000', 'files': ['tasks/magnum_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/719280a83ec1984874a7dac4c7e38e479164094b', 'message': 'Fixed dest typo in config_template\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846145\nChange-Id: I986113491800f9432ebcc8ea82b8f4362671c5d2\n'}]",1,845993,719280a83ec1984874a7dac4c7e38e479164094b,23,4,5,34921,,,0,"Fixed dest typo in config_template

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846145
Change-Id: I986113491800f9432ebcc8ea82b8f4362671c5d2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/93/845993/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/magnum_post_install.yml'],1,ac0a14710eb2398a6920d0d025fd7f4138874e62,fix-dest-typo," dest: ""{{ magnum_etc_directory }}/policy.yaml"""," destination: ""{{ magnum_etc_directory }}/policy.yaml""",1,1
openstack%2Fnova~stable%2Fwallaby~Ia593b500425c81e54eb401e38264db5cc5fc1f93,openstack/nova,stable/wallaby,Ia593b500425c81e54eb401e38264db5cc5fc1f93,libvirt: Abort live-migration job when monitoring fails,MERGED,2022-04-11 19:16:49.000000000,2022-06-18 12:05:39.000000000,2022-06-18 12:04:08.000000000,"[{'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-04-11 19:16:49.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/76ea8ee37707e0e2160d30cdb5c74d1fcad60de3', 'message': 'libvirt: Abort live-migration job when monitoring fails\n\nDuring live migration process, a _live_migration_monitor thread\nchecks progress of migration on source host, if for any reason\nwe hit infrastructure issue involving a DB/RPC/libvirt-timeout\nfailure, an Exception is raised to the nova-compute service and\ninstance/migration is set to ERROR state.\n\nThe issue is that we may let live-migration job running out of nova\ncontrol. At the end of job, guest is resumed on target host while\nnova still reports it on source host, this may lead to a split-brain\nsituation if instance is restarted.\n\nThis change proposes to abort live-migration job if issue occurs\nduring _live_migration_monitor.\n\nChange-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93\nCloses-Bug: #1905944\n(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)\n'}]",3,837320,76ea8ee37707e0e2160d30cdb5c74d1fcad60de3,15,5,1,7130,,,0,"libvirt: Abort live-migration job when monitoring fails

During live migration process, a _live_migration_monitor thread
checks progress of migration on source host, if for any reason
we hit infrastructure issue involving a DB/RPC/libvirt-timeout
failure, an Exception is raised to the nova-compute service and
instance/migration is set to ERROR state.

The issue is that we may let live-migration job running out of nova
control. At the end of job, guest is resumed on target host while
nova still reports it on source host, this may lead to a split-brain
situation if instance is restarted.

This change proposes to abort live-migration job if issue occurs
during _live_migration_monitor.

Change-Id: Ia593b500425c81e54eb401e38264db5cc5fc1f93
Closes-Bug: #1905944
(cherry picked from commit 39f0af5d18d6bea34fa15b8f7778115b25432749)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/837320/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,76ea8ee37707e0e2160d30cdb5c74d1fcad60de3,bug/1905944," @mock.patch.object(libvirt_driver.LibvirtDriver, ""live_migration_abort"") def _test_live_migration_main(self, mock_abort, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn, mon_side_effect=None): mock_monitor.side_effect = mon_side_effect if mon_side_effect: self.assertRaises(mon_side_effect, drvr._live_migration, self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) mock_abort.assert_called_once_with(instance) else: drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data) def test_live_migration_main(self): self._test_live_migration_main() def test_live_migration_main_monitoring_failed(self): self._test_live_migration_main(mon_side_effect=Exception) "," def test_live_migration_main(self, mock_copy_disk_path, mock_running, mock_guest, mock_monitor, mock_thread, mock_conn): drvr._live_migration(self.context, instance, ""fakehost"", fake_post, fake_recover, True, migrate_data)",33,6
openstack%2Fkolla-ansible~master~Iaa4cf2505a899a9a88247ebb0b7e02143688a22c,openstack/kolla-ansible,master,Iaa4cf2505a899a9a88247ebb0b7e02143688a22c,Add clouds.yaml file and use it,ABANDONED,2022-06-18 09:05:48.000000000,2022-06-18 11:34:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-18 09:05:48.000000000', 'files': ['ansible/roles/common/templates/clouds.yaml.j2', 'tools/example-clouds.yaml', 'doc/source/user/quickstart.rst', 'ansible/post-deploy.yml', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/init-runonce'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa0cbf988fe67e6ef2ae4c90a0d4ba0f49b484d7', 'message': ""Add clouds.yaml file and use it\n\nclouds.yaml[0] is a richer way to express configuration for OpenStack\nclouds. It's also fully supported by Ansible's OpenStack modules as\nwell as python-openstackclient and openstacksdk. It's the future - who\ndoesn't like the future?\n\nWrite a file with both an internal and external entry for the admin\nuser. Also, change all of the examples to reference it and to get\npython-openstackclient to use it too.\n\n[0] https://docs.openstack.org/openstacksdk/latest/user/guides/connect_from_config.html\nImplements: blueprint use-clouds-yaml\nChange-Id: I557d2e4975c7b3d3c713a556b9ba47af9567ce6e\n\nChange-Id: Iaa4cf2505a899a9a88247ebb0b7e02143688a22c\n""}]",0,846458,aa0cbf988fe67e6ef2ae4c90a0d4ba0f49b484d7,4,1,1,13252,,,0,"Add clouds.yaml file and use it

clouds.yaml[0] is a richer way to express configuration for OpenStack
clouds. It's also fully supported by Ansible's OpenStack modules as
well as python-openstackclient and openstacksdk. It's the future - who
doesn't like the future?

Write a file with both an internal and external entry for the admin
user. Also, change all of the examples to reference it and to get
python-openstackclient to use it too.

[0] https://docs.openstack.org/openstacksdk/latest/user/guides/connect_from_config.html
Implements: blueprint use-clouds-yaml
Change-Id: I557d2e4975c7b3d3c713a556b9ba47af9567ce6e

Change-Id: Iaa4cf2505a899a9a88247ebb0b7e02143688a22c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/846458/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/clouds.yaml.j2', 'tools/example-clouds.yaml', 'ansible/post-deploy.yml', 'doc/source/user/quickstart.rst', 'doc/source/contributor/vagrant-dev-env.rst', 'tools/init-runonce']",6,aa0cbf988fe67e6ef2ae4c90a0d4ba0f49b484d7,bp/use-clouds-yaml,"# Test for clouds.yaml if [[ ! -f /etc/openstack/clouds.yaml ]]; then echo ""/etc/openstack/clouds.yaml is missing."" echo "" Did your deploy finish successfully?"" exit 1# Select admin account from clouds.yaml. The normal deploy only creates one # entry, so this is not strictly necessary ... but better safe than sorry in # case someone creates more entries. export OS_CLOUD=admin openstack --os-cloud=admin server create \\","# Test for credentials set if [[ ""${OS_USERNAME}"" == """" ]]; then echo ""No Keystone credentials specified. Try running source /etc/kolla/admin-openrc.sh command"" exitopenstack server create \\",97,10
openstack%2Fopenstack-ansible-os_octavia~master~I8cd6c47c64601089173671652a463ecc291d8ca1,openstack/openstack-ansible-os_octavia,master,I8cd6c47c64601089173671652a463ecc291d8ca1,Support service tokens,MERGED,2022-06-15 09:50:47.000000000,2022-06-18 11:28:47.000000000,2022-06-18 11:27:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-15 09:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/f86456faa71e01c65021f69d681b1bf8f1030c87', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I8cd6c47c64601089173671652a463ecc291d8ca1\n'}, {'number': 2, 'created': '2022-06-17 13:40:17.000000000', 'files': ['tasks/main.yml', 'templates/octavia.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/87e78ee34c7f0126ba0d6a1eb8252d9141726681', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I8cd6c47c64601089173671652a463ecc291d8ca1\n'}]",5,845913,87e78ee34c7f0126ba0d6a1eb8252d9141726681,19,3,2,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I8cd6c47c64601089173671652a463ecc291d8ca1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/13/845913/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/octavia.conf.j2', 'defaults/main.yml']",3,f86456faa71e01c65021f69d681b1bf8f1030c87,osa/service_tokens,"octavia_service_role_names: - admin - service octavia_service_token_roles: - service octavia_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",octavia_service_role_name: admin,10,4
openstack%2Fopenstack-ansible-os_ironic~master~I1d70c2c46fef6ffc0fcebe4b56a0ecdedc1d3298,openstack/openstack-ansible-os_ironic,master,I1d70c2c46fef6ffc0fcebe4b56a0ecdedc1d3298,Support service tokens,MERGED,2022-06-15 16:38:22.000000000,2022-06-18 11:22:54.000000000,2022-06-18 11:21:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 16:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/319b511421a221ae5c7884f8bb304cfc5f69527b', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I1d70c2c46fef6ffc0fcebe4b56a0ecdedc1d3298\n'}, {'number': 2, 'created': '2022-06-15 16:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3a83ad7889f352801558cc39ea485cf1b6bc167c', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I1d70c2c46fef6ffc0fcebe4b56a0ecdedc1d3298\n'}, {'number': 3, 'created': '2022-06-15 16:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/1a714efc9ab9eb84bb42774a97b461330c2f4db1', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I1d70c2c46fef6ffc0fcebe4b56a0ecdedc1d3298\n'}, {'number': 4, 'created': '2022-06-17 06:26:07.000000000', 'files': ['templates/ironic.conf.j2', 'defaults/main.yml', 'vars/main.yml', 'templates/inspector.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/20a533dd535bec90ba69f3b25008351dd47e6d7d', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I1d70c2c46fef6ffc0fcebe4b56a0ecdedc1d3298\n'}]",2,846033,20a533dd535bec90ba69f3b25008351dd47e6d7d,16,3,4,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I1d70c2c46fef6ffc0fcebe4b56a0ecdedc1d3298
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/33/846033/4 && git format-patch -1 --stdout FETCH_HEAD,"['templates/ironic.conf.j2', 'defaults/main.yml', 'templates/inspector.conf.j2', 'vars/main.yml']",4,319b511421a221ae5c7884f8bb304cfc5f69527b,osa/service_tokens, 'role': ironic_service_role_names 'role': ironic_inspector_service_role_names, 'role': ironic_service_role_name 'role': ironic_inspector_service_role_name,23,4
openstack%2Fopenstack-ansible-os_masakari~master~I3db09c840b448c665c9f2a16c78fe0e0a38f158a,openstack/openstack-ansible-os_masakari,master,I3db09c840b448c665c9f2a16c78fe0e0a38f158a,Support service tokens,MERGED,2022-06-15 16:49:39.000000000,2022-06-18 11:13:05.000000000,2022-06-18 11:11:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-15 16:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/ce710b3f56c18d1851f0c8dda6ee704b18d05e46', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845994\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845894\nChange-Id: I3db09c840b448c665c9f2a16c78fe0e0a38f158a\n'}, {'number': 2, 'created': '2022-06-15 16:50:30.000000000', 'files': ['tasks/main.yml', 'templates/masakari.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/1ac273041bdd7742c80a817f560759061670d012', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845994\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845894\nChange-Id: I3db09c840b448c665c9f2a16c78fe0e0a38f158a\n'}]",3,846035,1ac273041bdd7742c80a817f560759061670d012,15,3,2,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845994
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845894
Change-Id: I3db09c840b448c665c9f2a16c78fe0e0a38f158a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/35/846035/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/masakari.conf.j2', 'defaults/main.yml']",3,ce710b3f56c18d1851f0c8dda6ee704b18d05e46,osa/service_tokens,"masakari_service_role_names: - admin - service masakari_service_token_roles: - service masakari_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",masakari_role_name: admin,12,2
openstack%2Fopenstack-ansible-plugins~master~I7761c2083eec8081cd719f7b285f2d657066d343,openstack/openstack-ansible-plugins,master,I7761c2083eec8081cd719f7b285f2d657066d343,Let git choose the branch when cloning a repo,MERGED,2022-06-17 19:45:54.000000000,2022-06-18 10:54:46.000000000,2022-06-18 10:53:36.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-17 19:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/54a1f7aff34a8291a8d913d022b7fb65e7f40b52', 'message': 'Let git choose the branch when cloning a repo\n\nIn this branch of the code we clone then checkout the required refspec.\nThe branch name used during the initial clone does not affect the\ncheckout to the required refspec.\n\nHardcoding the initial clone to master has generally worked  up to\nthe time that repos started migrating default branch names from master\nto main.\n\nBy not specifying a branch name in the initial clone we avoid and\nproblems with master/main migration, or with a repo which legitimately\nuses a non standard default branch name.\n\nChange-Id: I7761c2083eec8081cd719f7b285f2d657066d343\n'}, {'number': 2, 'created': '2022-06-17 19:49:16.000000000', 'files': ['plugins/modules/git_requirements'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d8d6391b033c15b4575e77aa909c1b46b8279b61', 'message': ""Let git choose the branch when cloning a repo\n\nIn this path of the code we clone then checkout the required refspec.\nThe branch name used during the initial clone does not affect the\ncheckout to the required refspec.\n\nHardcoding the initial clone to master has worked when the default\nbranch name for repos has been 'master'. The migration of default\nbranch names to 'main' breaks this assumption.\n\nBy not specifying a branch name in the initial clone we avoid\nproblems with master/main migration, or with a repo which legitimately\nuses a non standard default branch name.\n\nChange-Id: I7761c2083eec8081cd719f7b285f2d657066d343\n""}]",1,846440,d8d6391b033c15b4575e77aa909c1b46b8279b61,11,3,2,25023,,,0,"Let git choose the branch when cloning a repo

In this path of the code we clone then checkout the required refspec.
The branch name used during the initial clone does not affect the
checkout to the required refspec.

Hardcoding the initial clone to master has worked when the default
branch name for repos has been 'master'. The migration of default
branch names to 'main' breaks this assumption.

By not specifying a branch name in the initial clone we avoid
problems with master/main migration, or with a repo which legitimately
uses a non standard default branch name.

Change-Id: I7761c2083eec8081cd719f7b285f2d657066d343
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/40/846440/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/git_requirements'],1,54a1f7aff34a8291a8d913d022b7fb65e7f40b52,,," branch='master',",0,1
openstack%2Fhorizon~master~Ic0c3dc7b42d8bd1ffd367c18b25d59a1ce3bd612,openstack/horizon,master,Ic0c3dc7b42d8bd1ffd367c18b25d59a1ce3bd612,fix: linting issues fixed on specified files,ABANDONED,2022-06-18 10:13:47.000000000,2022-06-18 10:33:25.000000000,,[],"[{'number': 1, 'created': '2022-06-18 10:13:47.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9297a5d6f01d352a0679a464bcef72de865da0e2', 'message': 'fix: linting issues fixed on specified files\n\nnpx eslint --fix executed on modified files.\n\nChange-Id: Ic0c3dc7b42d8bd1ffd367c18b25d59a1ce3bd612\n'}]",0,846461,9297a5d6f01d352a0679a464bcef72de865da0e2,2,0,1,35013,,,0,"fix: linting issues fixed on specified files

npx eslint --fix executed on modified files.

Change-Id: Ic0c3dc7b42d8bd1ffd367c18b25d59a1ce3bd612
",git fetch https://review.opendev.org/openstack/horizon refs/changes/61/846461/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js']",2,9297a5d6f01d352a0679a464bcef72de865da0e2,fix_empty_vip_subnet_id," * The network id to retrieve subnets for. Optional. If empty, * then list of all available subnets will be returned."," * The network id to retrieve subnets for. Optional. If empty, then list of all available subnets will be returned.",61,60
openstack%2Fhorizon~master~Ifdd7daaac2d66dc6cf1c6f13c5443001f1f4babc,openstack/horizon,master,Ifdd7daaac2d66dc6cf1c6f13c5443001f1f4babc,fix function getSubnets to use a proper api call,ABANDONED,2022-06-17 13:42:41.000000000,2022-06-18 10:33:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-17 13:42:41.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/43babc17631ee74cc5d4d443cef7ceca041bad36', 'message': 'fix function getSubnets to use a proper api call\n\nhttps://wiki.openstack.org/wiki/Neutron/APIv2-specification#List_Subnets\nthis change is required to fix:\nhttps://bugs.launchpad.net/magnum-ui/+bug/1929579\nFurther changes will be delivered in separated MR\nfor Magnum-UI repository.\nAdditionally formatting changes have been performed by linter.\n\nChange-Id: Ifdd7daaac2d66dc6cf1c6f13c5443001f1f4babc\n'}]",0,846369,43babc17631ee74cc5d4d443cef7ceca041bad36,3,1,1,35013,,,0,"fix function getSubnets to use a proper api call

https://wiki.openstack.org/wiki/Neutron/APIv2-specification#List_Subnets
this change is required to fix:
https://bugs.launchpad.net/magnum-ui/+bug/1929579
Further changes will be delivered in separated MR
for Magnum-UI repository.
Additionally formatting changes have been performed by linter.

Change-Id: Ifdd7daaac2d66dc6cf1c6f13c5443001f1f4babc
",git fetch https://review.opendev.org/openstack/horizon refs/changes/69/846369/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js'],1,43babc17631ee74cc5d4d443cef7ceca041bad36,fix_empty_vip_subnet_id,"(function() { * @param {string} params - The parameters * @param {string} params.network_id * The network id to retrieve subnets for. Optional. If empty, then list of all available subnets will be returned. function getSubnets(params) { var config = params ? { 'params': params } : {}; return apiService.get('/api/neutron/subnets/', config) var config = params ? { 'params': params } : {}; toastService.add('error', interpolate(msg, { id: id }, true)); var config = params ? { 'params': params } : {}; /** * @name createNetworkQoSPolicy * @description * Create a new network qos policy. * @returns {Object} The new network qos policy object on success. * * @param {Object} newQosPolicy * The network qos policy to create. Required. * * Example new qos policy object * { * ""name"": ""myNewNetworkQoSPolicy"", * ""description"": ""new network qos policy"", * ""shared"": true, * } * * Description of properties on the qos policy object * * @property {string} newQosPolicy.name * The name of the new network qos policy. Required. * * @property {string} newQosPolicy.description * The description of the qos policy. Optional. * * @property {boolean} newQosPolicy.shared * Indicates whether this network qos policy is shared across all other projects. * By default, it is unchecked (false). Optional. * */ /** * @name deletePolicy * @description * Delete a single neutron qos policy. * @param {string} policyId * Specifies the id of the policy to be deleted. */ '/bandwidth_limit_rules/', ruleId) .catch(function onError() { toastService.add('error', gettext('Unable to add the bandwidthrule .')); }); '/dscp_marking_rules/', ruleId) .catch(function onError() { toastService.add('error', gettext('Unable to add the dscp_marking_rule .')); }); '/minimum_bandwidth_rules/', ruleId) .catch(function onError() { toastService.add('error', gettext('Unable to add the minimum_bandwidth_rule .')); }); '/minimum_packet_rate_rules/', ruleId) '/bandwidth_limit_rules/' + ruleId, updateRuleId) .catch(function onError() { toastService.add('error', gettext('Unable to update the bandwidthrule.')); }); '/dscp_marking_rules/' + ruleId, updateRuleId) .catch(function onError() { toastService.add('error', gettext('Unable to update the dscp marking rule.')); }); '/minimum_bandwidth_rules/' + ruleId, updateRuleId) .catch(function onError() { toastService.add('error', gettext('Unable to update the minimum bandwidth rule.')); }); '/minimum_packet_rate_rules/' + ruleId, updateRuleId) '/bandwidth_limit_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the bandwidth_limit_rule.')); }); '/dscp_marking_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the dscp_marking_rule.')); }); '/minimum_bandwidth_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the minimum_bandwidth_rule .')); }); '/minimum_packet_rate_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the minimum_packet_rate_rule .')); }); toastService.add('error', interpolate(msg, { id: id }, true)); var config = params ? { 'params': params } : {}; .catch(function onError() { toastService.add('error', gettext('Unable to update the trunk.')); });","(function () { * @param {string} networkId * The network id to retrieve subnets for. Required. function getSubnets(networkId) { return apiService.get('/api/neutron/subnets/', networkId) var config = params ? { 'params' : params} : {}; toastService.add('error', interpolate(msg, {id: id}, true)); var config = params ? {'params' : params} : {}; /** * @name createNetworkQoSPolicy * @description * Create a new network qos policy. * @returns {Object} The new network qos policy object on success. * * @param {Object} newQosPolicy * The network qos policy to create. Required. * * Example new qos policy object * { * ""name"": ""myNewNetworkQoSPolicy"", * ""description"": ""new network qos policy"", * ""shared"": true, * } * * Description of properties on the qos policy object * * @property {string} newQosPolicy.name * The name of the new network qos policy. Required. * * @property {string} newQosPolicy.description * The description of the qos policy. Optional. * * @property {boolean} newQosPolicy.shared * Indicates whether this network qos policy is shared across all other projects. * By default, it is unchecked (false). Optional. * */ /** * @name deletePolicy * @description * Delete a single neutron qos policy. * @param {string} policyId * Specifies the id of the policy to be deleted. */ '/bandwidth_limit_rules/', ruleId) .catch(function onError() { toastService.add('error', gettext('Unable to add the bandwidthrule .')); }); '/dscp_marking_rules/', ruleId) .catch(function onError() { toastService.add('error', gettext('Unable to add the dscp_marking_rule .')); }); '/minimum_bandwidth_rules/', ruleId) .catch(function onError() { toastService.add('error', gettext('Unable to add the minimum_bandwidth_rule .')); }); '/minimum_packet_rate_rules/', ruleId) '/bandwidth_limit_rules/' + ruleId , updateRuleId) .catch(function onError() { toastService.add('error', gettext('Unable to update the bandwidthrule.')); }); '/dscp_marking_rules/' + ruleId , updateRuleId) .catch(function onError() { toastService.add('error', gettext('Unable to update the dscp marking rule.')); }); '/minimum_bandwidth_rules/' + ruleId , updateRuleId) .catch(function onError() { toastService.add('error', gettext('Unable to update the minimum bandwidth rule.')); }); '/minimum_packet_rate_rules/' + ruleId , updateRuleId) '/bandwidth_limit_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the bandwidth_limit_rule.')); }); '/dscp_marking_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the dscp_marking_rule.')); }); '/minimum_bandwidth_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the minimum_bandwidth_rule .')); }); '/minimum_packet_rate_rules/' + deleteRuleId).catch(function onError() { toastService.add('error', gettext('Unable to delete the minimum_packet_rate_rule .')); }); toastService.add('error', interpolate(msg, {id: id}, true)); var config = params ? {'params' : params} : {}; .catch(function onError() { toastService.add('error', gettext('Unable to update the trunk.')); });",89,87
openstack%2Fhorizon~master~I6f3f7d2aa28f4efd1dbdeb26d00ae0778016f711,openstack/horizon,master,I6f3f7d2aa28f4efd1dbdeb26d00ae0778016f711,tests: updated 1 test case and 1 added,ABANDONED,2022-06-18 09:32:36.000000000,2022-06-18 10:33:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-18 09:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e4da6c7ccf4b18cdfd38db7035393ca6dc1ee1f4', 'message': 'fix tests\n\nChange-Id: I6f3f7d2aa28f4efd1dbdeb26d00ae0778016f711\n'}, {'number': 2, 'created': '2022-06-18 09:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f3e9b8229cad07fdb27c71b9d7f0a9e1e528f2ce', 'message': ""tests: updated 1 test case and 1 added\n\ntests related to the getSubnets fix\nNeutron API defines the getSubnets call properly FAILED\n\tExpected spy get to have been called with:\n\t  [ '/api/neutron/subnets/', 42 ]\n\tbut actual calls were:\n\t  [ '/api/neutron/subnets/', Object({ params: 42 }) ].\n\n\tCall 0:\n\t  Expected $[1] = Object({ params: 42 }) to equal 42.\n\t<Jasmine>\n\ttestCall@static/app/core/openstack-service-api/common-test.mock.js:78:41 <- static/app/core/openstack-service-api/common-test.mock.js:45:381\n\t@static/app/core/openstack-service-api/neutron.service.spec.js:447:18\n\t<Jasmine>\n\nChange-Id: I6f3f7d2aa28f4efd1dbdeb26d00ae0778016f711\n""}, {'number': 3, 'created': '2022-06-18 10:30:50.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9175a7d0701914b26adf34e68e3ce1e154d2b9c2', 'message': ""tests: updated 1 test case and 1 added\n\ntests related to the getSubnets fix\nNeutron API defines the getSubnets call properly FAILED\n\tExpected spy get to have been called with:\n\t  [ '/api/neutron/subnets/', 42 ]\n\tbut actual calls were:\n\t  [ '/api/neutron/subnets/', Object({ params: 42 }) ].\n\n\tCall 0:\n\t  Expected $[1] = Object({ params: 42 }) to equal 42.\n\t<Jasmine>\n\ttestCall@static/app/core/openstack-service-api/common-test.mock.js:78:41 <- static/app/core/openstack-service-api/common-test.mock.js:45:381\n\t@static/app/core/openstack-service-api/neutron.service.spec.js:447:18\n\t<Jasmine>\n\nChange-Id: I6f3f7d2aa28f4efd1dbdeb26d00ae0778016f711\n""}]",0,846459,9175a7d0701914b26adf34e68e3ce1e154d2b9c2,5,1,3,35013,,,0,"tests: updated 1 test case and 1 added

tests related to the getSubnets fix
Neutron API defines the getSubnets call properly FAILED
	Expected spy get to have been called with:
	  [ '/api/neutron/subnets/', 42 ]
	but actual calls were:
	  [ '/api/neutron/subnets/', Object({ params: 42 }) ].

	Call 0:
	  Expected $[1] = Object({ params: 42 }) to equal 42.
	<Jasmine>
	testCall@static/app/core/openstack-service-api/common-test.mock.js:78:41 <- static/app/core/openstack-service-api/common-test.mock.js:45:381
	@static/app/core/openstack-service-api/neutron.service.spec.js:447:18
	<Jasmine>

Change-Id: I6f3f7d2aa28f4efd1dbdeb26d00ae0778016f711
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/846459/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js'],1,e4da6c7ccf4b18cdfd38db7035393ca6dc1ee1f4,fix_empty_vip_subnet_id," 'or getQosPolicy', function() { var response = { data: { id: 1, created_at: '2017-11-16', updated_at: '2017-11-16' spyOn(apiService, 'get').and.callFake(function() { return { then: function(c) { c(response); return this; }, catch: function(c) { c(); return this; } }; }); service.getTrunk(response.data.id, true).then(function(result) { expect(result.data.id).toEqual(response.data.id); expect(result.data.created_at).toEqual(new Date(response.data.created_at)); expect(result.data.updated_at).toEqual(new Date(response.data.updated_at)); }); service.getQosPolicy(response.data.id, true).then(function(result) { expect(result.data.id).toEqual(response.data.id); expect(result.data.created_at).toEqual(new Date(response.data.created_at)); expect(result.data.updated_at).toEqual(new Date(response.data.updated_at)); }); 'or getQoSPolicies', function() { var response = { data: { items: [{ id: 1, created_at: '2017-11-16', updated_at: '2017-11-16' }] spyOn(apiService, 'get').and.callFake(function() { return { then: function(c) { c(response); return this; }, catch: function(c) { c(); return this; } }; }); service.getTrunks().then(function(result) { result.data.items.forEach(function(trunk) { expect(trunk.id).toEqual(response.data.items[0].id); expect(trunk.created_at).toEqual(new Date(response.data.items[0].created_at)); expect(trunk.updated_at).toEqual(new Date(response.data.items[0].updated_at)); }); }); service.getQoSPolicies().then(function(result) { result.data.items.forEach(function(policy) { expect(policy.id).toEqual(response.data.items[0].id); expect(policy.created_at).toEqual(new Date(response.data.items[0].created_at)); expect(policy.updated_at).toEqual(new Date(response.data.items[0].updated_at)); }); ""data"": { params: { network_id: 42 } }, { network_id: 42 } ""func"": ""getSubnets"", ""method"": ""get"", ""path"": ""/api/neutron/subnets/"", ""data"": {}, ""error"": ""Unable to retrieve the subnets."" }, { ""data"": {""dscp_marking_rule"": {""dscp_mark"": 16}}, {""dscp_marking_rule"": {""dscp_mark"": 16}} {""bandwidth_limit_rule"": {""max_kbps"": 10000}} {""minimum_banwdiwth_rule"": {""min_kbps"": 1000, ""direction"": ""egress""}} {""minimum_packet_rate_rule"": {""min_kpps"": 1000, ""direction"": ""ingress""}} ""data"": {""dscp_marking_rule"": {""dscp_mark"": 16}}, {""dscp_marking_rule"": {""dscp_mark"": 16}} {""bandwidth_limit_rule"": {""max_kbps"": ""11000""}} {""minimum_bandwidth_rule"": {""min_kbps"": 1000, ""direction"": ""ingress""}} {""minimum_packet_rate_rule"": {""min_kpps"": 1000, ""direction"": ""ingress""}}"," 'or getQosPolicy',function() { var response = {data: { id: 1, created_at: '2017-11-16', updated_at: '2017-11-16' }}; spyOn(apiService, 'get').and.callFake(function() { return { then: function(c) { c(response); return this; }, catch: function(c) { c(); return this; service.getTrunk(response.data.id, true).then(function(result) { expect(result.data.id).toEqual(response.data.id); expect(result.data.created_at).toEqual(new Date(response.data.created_at)); expect(result.data.updated_at).toEqual(new Date(response.data.updated_at)); }); service.getQosPolicy(response.data.id, true).then(function(result) { expect(result.data.id).toEqual(response.data.id); expect(result.data.created_at).toEqual(new Date(response.data.created_at)); expect(result.data.updated_at).toEqual(new Date(response.data.updated_at)); }); }); 'or getQoSPolicies', function() { var response = {data: {items: [{ id: 1, created_at: '2017-11-16', updated_at: '2017-11-16' }]}}; spyOn(apiService, 'get').and.callFake(function() { return { then: function(c) { c(response); return this; }, catch: function(c) { c(); return this; }); service.getTrunks().then(function(result) { result.data.items.forEach(function(trunk) { expect(trunk.id).toEqual(response.data.items[0].id); expect(trunk.created_at).toEqual(new Date(response.data.items[0].created_at)); expect(trunk.updated_at).toEqual(new Date(response.data.items[0].updated_at)); service.getQoSPolicies().then(function(result) { result.data.items.forEach(function(policy) { expect(policy.id).toEqual(response.data.items[0].id); expect(policy.created_at).toEqual(new Date(response.data.items[0].created_at)); expect(policy.updated_at).toEqual(new Date(response.data.items[0].updated_at)); }); }); }); ""data"": 42, 42 ""data"": {""dscp_marking_rule"":{""dscp_mark"":16}}, {""dscp_marking_rule"":{""dscp_mark"": 16}} {""bandwidth_limit_rule"": {""max_kbps"": 10000}} {""minimum_banwdiwth_rule"": {""min_kbps"": 1000, ""direction"": ""egress""}} {""minimum_packet_rate_rule"": {""min_kpps"": 1000, ""direction"": ""ingress""}} ""data"": {""dscp_marking_rule"":{""dscp_mark"":16}}, {""dscp_marking_rule"":{""dscp_mark"": 16}} {""bandwidth_limit_rule"": {""max_kbps"": ""11000""}} {""minimum_bandwidth_rule"": {""min_kbps"": 1000, ""direction"": ""ingress""}} {""minimum_packet_rate_rule"": {""min_kpps"": 1000, ""direction"": ""ingress""}}",86,67
openstack%2Fhorizon~master~If457ee568f024a07a4472f684e99f9ac524b7354,openstack/horizon,master,If457ee568f024a07a4472f684e99f9ac524b7354,remove spaces before and after nonempty braces,ABANDONED,2022-06-18 09:32:36.000000000,2022-06-18 10:33:01.000000000,,[],"[{'number': 1, 'created': '2022-06-18 09:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0f3d2529feb8e8b7bff1c0a86f936f941c5f5327', 'message': 'remove spaces before and after nonempty braces\n\nChange-Id: If457ee568f024a07a4472f684e99f9ac524b7354\n'}, {'number': 2, 'created': '2022-06-18 09:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d5dea42ed30e6ef7d38271a1c96391f0de24b825', 'message': 'Remove spaces before and after nonempty braces\n\nthis change\n\nChange-Id: If457ee568f024a07a4472f684e99f9ac524b7354\n'}, {'number': 3, 'created': '2022-06-18 09:48:13.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c74a3cca17910ce8a8295af28b33adb0bd01c9f6', 'message': 'remove spaces before and after nonempty braces\n\nChange-Id: If457ee568f024a07a4472f684e99f9ac524b7354\n'}]",0,846460,c74a3cca17910ce8a8295af28b33adb0bd01c9f6,6,0,3,35013,,,0,"remove spaces before and after nonempty braces

Change-Id: If457ee568f024a07a4472f684e99f9ac524b7354
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/846460/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js'],1,0f3d2529feb8e8b7bff1c0a86f936f941c5f5327,fix_empty_vip_subnet_id," var config = params ? {'params': params} : {}; var config = params ? {'params': params} : {}; toastService.add('error', interpolate(msg, {id: id}, true)); var config = params ? {'params': params} : {}; toastService.add('error', interpolate(msg, {id: policyId}, true)); toastService.add('error', interpolate(msg, {id: id}, true)); var config = params ? {'params': params} : {}; toastService.add('error', interpolate(msg, {id: trunkId}, true));"," var config = params ? { 'params': params } : {}; var config = params ? { 'params': params } : {}; toastService.add('error', interpolate(msg, { id: id }, true)); var config = params ? { 'params': params } : {}; toastService.add('error', interpolate(msg, { id: policyId }, true)); toastService.add('error', interpolate(msg, { id: id }, true)); var config = params ? { 'params': params } : {}; toastService.add('error', interpolate(msg, { id: trunkId }, true));",8,8
openstack%2Fdesignate~master~Id03b49a3f7dc9bb9affb160099faf5bb1c67a291,openstack/designate,master,Id03b49a3f7dc9bb9affb160099faf5bb1c67a291,DNM: Test jsonschema bump,ABANDONED,2022-06-16 07:32:58.000000000,2022-06-18 08:25:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 07:32:58.000000000', 'files': ['designate/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/cdaa256793bccc507a4ee2d348ea4ba70c75d8ce', 'message': 'DNM: Test jsonschema bump\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/845859\nChange-Id: Id03b49a3f7dc9bb9affb160099faf5bb1c67a291\n'}]",3,846104,cdaa256793bccc507a4ee2d348ea4ba70c75d8ce,7,1,1,13252,,,0,"DNM: Test jsonschema bump

Depends-On: https://review.opendev.org/c/openstack/requirements/+/845859
Change-Id: Id03b49a3f7dc9bb9affb160099faf5bb1c67a291
",git fetch https://review.opendev.org/openstack/designate refs/changes/04/846104/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/__init__.py'],1,cdaa256793bccc507a4ee2d348ea4ba70c75d8ce,,# DNM,,1,0
openstack%2Fopenstack-ansible-os_ironic~master~Id6694d61d874a8542971075cb2377fb7f38bca96,openstack/openstack-ansible-os_ironic,master,Id6694d61d874a8542971075cb2377fb7f38bca96,Allow redhat vars file to cover different RHEL derivatives,MERGED,2022-05-31 09:36:21.000000000,2022-06-18 07:26:59.000000000,2022-06-18 07:25:49.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-31 09:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/56a9086ba1e33ed364dab94bb41d26eb2a0ae777', 'message': ""Allow redhat vars file to over different RHEL derivatives\n\nSome paths are hardcoded to 'centos', when these are actually 'rocky'\non Rocky Linux installations. Use an ansible fact to obtain the correct\npath.\n\nChange-Id: Id6694d61d874a8542971075cb2377fb7f38bca96\n""}, {'number': 2, 'created': '2022-05-31 10:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/97b7ea171060392a474ce13a969a53610e52ecb2', 'message': ""Allow redhat vars file to cover different RHEL derivatives\n\nSome paths are hardcoded to 'centos', when these are actually 'rocky'\non Rocky Linux installations. Use an ansible fact to obtain the correct\npath.\n\nChange-Id: Id6694d61d874a8542971075cb2377fb7f38bca96\n""}, {'number': 3, 'created': '2022-06-16 20:44:52.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/d88b2f50c0c3115affc4ae868b3e1fb681821a11', 'message': ""Allow redhat vars file to cover different RHEL derivatives\n\nSome paths are hardcoded to 'centos', when these are actually 'rocky'\non Rocky Linux installations. Use an ansible fact to obtain the correct\npath.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846224\nChange-Id: Id6694d61d874a8542971075cb2377fb7f38bca96\n""}]",7,844021,d88b2f50c0c3115affc4ae868b3e1fb681821a11,31,4,3,25023,,,0,"Allow redhat vars file to cover different RHEL derivatives

Some paths are hardcoded to 'centos', when these are actually 'rocky'
on Rocky Linux installations. Use an ansible fact to obtain the correct
path.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846224
Change-Id: Id6694d61d874a8542971075cb2377fb7f38bca96
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/21/844021/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,56a9086ba1e33ed364dab94bb41d26eb2a0ae777,," path: ""/boot/efi/EFI/{{ ansible_facts['distribution'] | lower }}/shimx64.efi"" path: ""/boot/efi/EFI/{{ ansible_facts['distribution'] | lower }}/grubx64.efi""ironic_grub_dir: ""/tftpboot/EFI/{{ ansible_facts['distribution'] | lower }}"""," path: ""/boot/efi/EFI/centos/shimx64.efi"" path: ""/boot/efi/EFI/centos/grubx64.efi""ironic_grub_dir: ""/tftpboot/EFI/centos""",3,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I7d8712223d077ab8e25239b891bd03a1324e01a8,openstack/tripleo-heat-templates,stable/wallaby,I7d8712223d077ab8e25239b891bd03a1324e01a8,Filter empty string in PingTestGatewayIPsMap yagl,MERGED,2022-05-23 09:25:29.000000000,2022-06-18 07:19:00.000000000,2022-06-18 07:17:55.000000000,"[{'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-23 09:25:29.000000000', 'files': ['overcloud.j2.yaml', 'releasenotes/notes/fix-PingTestGatewayIPsMap-yaql-filter-empty-string-b024ce1bce9754ef.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba7ef6b6ce6619e0c03f724abee2f41b9ca00ecf', 'message': 'Filter empty string in PingTestGatewayIPsMap yagl\n\nWhen using `ManageNetworks: false` the gateway IPs are\nempty string instead of `null` when not set. The YAQL\nexpression filters `null` values, but the empty string\nvalue is included in the list. The ping gateway test end\nup trying to run ""ping $args $empty_string"" which fails.\n\nThis change improves the yaql expression to also filter\nstrings with 0 lenght.\n\nCloses-Bug: #1973866\nChange-Id: I7d8712223d077ab8e25239b891bd03a1324e01a8\n(cherry picked from commit 7f6a4b43856246995b8fa26b833155559f95e2ca)\n'}]",6,842934,ba7ef6b6ce6619e0c03f724abee2f41b9ca00ecf,31,4,1,24245,,,0,"Filter empty string in PingTestGatewayIPsMap yagl

When using `ManageNetworks: false` the gateway IPs are
empty string instead of `null` when not set. The YAQL
expression filters `null` values, but the empty string
value is included in the list. The ping gateway test end
up trying to run ""ping $args $empty_string"" which fails.

This change improves the yaql expression to also filter
strings with 0 lenght.

Closes-Bug: #1973866
Change-Id: I7d8712223d077ab8e25239b891bd03a1324e01a8
(cherry picked from commit 7f6a4b43856246995b8fa26b833155559f95e2ca)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/842934/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'releasenotes/notes/fix-PingTestGatewayIPsMap-yaql-filter-empty-string-b024ce1bce9754ef.yaml']",2,ba7ef6b6ce6619e0c03f724abee2f41b9ca00ecf,bug/1973866-stable/wallaby,"--- fixes: - | Fixes an issue where gateway ping validations performed during deployment would fail. When setting the `ManageNetworks` parameter to `false` and no gateway was configured, the list of gateway IP addresses to ping would include empty strings for networks with no gateway. The validation would attempt to run a ping command without the address to ping, which caused the deployment to fail. See bug: `1973866 <https://bugs.launchpad.net/tripleo/+bug/1973866>`_. ",,12,1
openstack%2Ffreezer~master~If6c82699a088644aa7515021f62b1d08cb6c61fb,openstack/freezer,master,If6c82699a088644aa7515021f62b1d08cb6c61fb,Dropped the python 3.6/3.7 in zed cycle testing runtime,MERGED,2022-05-15 01:12:40.000000000,2022-06-18 04:02:54.000000000,2022-06-18 04:01:49.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-15 01:12:40.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer/commit/111dfafb6249d80b9085cbff25ffeb469395c89b', 'message': 'Dropped the python 3.6/3.7 in zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: If6c82699a088644aa7515021f62b1d08cb6c61fb\n'}]",0,841820,111dfafb6249d80b9085cbff25ffeb469395c89b,8,2,1,21069,,,0,"Dropped the python 3.6/3.7 in zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: If6c82699a088644aa7515021f62b1d08cb6c61fb
",git fetch https://review.opendev.org/openstack/freezer refs/changes/20/841820/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,111dfafb6249d80b9085cbff25ffeb469395c89b,,,[testenv:py36] basepython = python3.6 ,1,5
openstack%2Ffreezer-tempest-plugin~master~Ibb7949a7fcda59f70a1e99abda404ac7f568467c,openstack/freezer-tempest-plugin,master,Ibb7949a7fcda59f70a1e99abda404ac7f568467c,Dropped the python 3.6/3.7 in zed cycle testing runtime,MERGED,2022-05-15 01:18:43.000000000,2022-06-18 03:59:17.000000000,2022-06-18 03:59:17.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-15 01:18:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/35e77f9e1c3136332bf8c30b8b617529024be280', 'message': 'Dropped the python 3.6/3.7 in zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ibb7949a7fcda59f70a1e99abda404ac7f568467c\n'}]",0,841822,35e77f9e1c3136332bf8c30b8b617529024be280,6,2,1,21069,,,0,"Dropped the python 3.6/3.7 in zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ibb7949a7fcda59f70a1e99abda404ac7f568467c
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/22/841822/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,35e77f9e1c3136332bf8c30b8b617529024be280,,python_requires = >=3.8, Programming Language :: Python :: 3.6,1,1
openstack%2Ftripleo-quickstart-extras~master~If2c9fc02c62a0cf060a73938ca8f8b4101d8c640,openstack/tripleo-quickstart-extras,master,If2c9fc02c62a0cf060a73938ca8f8b4101d8c640,Only deploy ceph before the overcloud in master,MERGED,2022-06-16 12:29:59.000000000,2022-06-18 03:45:45.000000000,2022-06-18 03:45:45.000000000,"[{'_account_id': 4264}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 30002}, {'_account_id': 31075}, {'_account_id': 31779}]","[{'number': 1, 'created': '2022-06-16 12:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/52992ce8029709fbd5dc32f2a4a64b58fc26326a', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}, {'number': 2, 'created': '2022-06-16 13:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d712c117d79bbe2bfc46847de63c4e88a695f09', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}, {'number': 3, 'created': '2022-06-16 13:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4c7273a0f00a949ade985923f0c1ac26c3b4b6bf', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}, {'number': 4, 'created': '2022-06-16 15:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d82b8bf3a5b3c686f4607e7b5101887b05a4f474', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nCloses-Bug: #1978956\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}, {'number': 5, 'created': '2022-06-17 04:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2f36a54c8dfe9eabe8c2283afaa863895ec8ef41', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/846194\nCloses-Bug: #1978956\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}, {'number': 6, 'created': '2022-06-17 13:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/176e8fc2f3a076e6f2798b1f34255e76c5525b7f', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/845807/\nCloses-Bug: #1978956\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}, {'number': 7, 'created': '2022-06-17 13:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/645983254f3fad3fd9ce441d8a680b64ea82e407', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/845807/\nCloses-Bug: #1978956\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}, {'number': 8, 'created': '2022-06-17 16:42:49.000000000', 'files': ['roles/standalone/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d2008175420e839925bf0856272cdfeb3d280032', 'message': 'Only deploy ceph before the overcloud in master\n\nI982dedb53582fbd76391165c3ca72954c129b84a added\nthe ceph deploy task before the overcloud.\nThis action was also happening on stable branch\njobs in non-branched repos.\n\nThis review adds a condition to skip the task\nfor current branch_override jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-common/+/846287\nCloses-Bug: #1978956\nChange-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640\n'}]",11,846159,d2008175420e839925bf0856272cdfeb3d280032,65,13,8,9976,,,0,"Only deploy ceph before the overcloud in master

I982dedb53582fbd76391165c3ca72954c129b84a added
the ceph deploy task before the overcloud.
This action was also happening on stable branch
jobs in non-branched repos.

This review adds a condition to skip the task
for current branch_override jobs.

Depends-On: https://review.opendev.org/c/openstack/tripleo-common/+/846287
Closes-Bug: #1978956
Change-Id: If2c9fc02c62a0cf060a73938ca8f8b4101d8c640
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/59/846159/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/tasks/main.yml'],1,52992ce8029709fbd5dc32f2a4a64b58fc26326a,ceph-branch-override," when: > # TODO(fultonj) use ['master', 'wallaby'] after backport - zuul.branch_override is not defined or zuul.branch_override not in ['stable/rhos-16.2', 'stable/rhos-17', 'stable/train', 'stable/victoria', 'stable/wallaby']"," when: # TODO(fultonj) use ['master', 'wallaby'] after backport",2,1
openstack%2Ffreezer-web-ui~master~I57fbd274c237a9f48820a13b123df64c028d34f4,openstack/freezer-web-ui,master,I57fbd274c237a9f48820a13b123df64c028d34f4,Dropped the python 3.6/3.7 in zed cycle testing runtime,MERGED,2022-05-15 01:14:50.000000000,2022-06-18 03:44:53.000000000,2022-06-18 03:44:53.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-15 01:14:50.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/cd02688d894e586a8917a528db5f65af6deee90e', 'message': 'Dropped the python 3.6/3.7 in zed cycle testing runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I57fbd274c237a9f48820a13b123df64c028d34f4\n'}]",0,841821,cd02688d894e586a8917a528db5f65af6deee90e,6,2,1,21069,,,0,"Dropped the python 3.6/3.7 in zed cycle testing runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I57fbd274c237a9f48820a13b123df64c028d34f4
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/21/841821/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,cd02688d894e586a8917a528db5f65af6deee90e,,"envlist = py38,py39,pep8,pylint,docs","envlist = py36,py38,py39,pep8,pylint,docs[testenv:py36] basepython = python3.6 ",2,6
openstack%2Frequirements~stable%2Fyoga~I0c7b7f270b9023aad627d6d98cc6af7f5af459fc,openstack/requirements,stable/yoga,I0c7b7f270b9023aad627d6d98cc6af7f5af459fc,update constraint for python-designateclient to new release 4.5.1,MERGED,2022-06-17 10:17:07.000000000,2022-06-18 02:58:29.000000000,2022-06-18 02:58:29.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:17:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5228a6045ccb57150016c9303359d89207a28334', 'message': 'update constraint for python-designateclient to new release 4.5.1\n\nmeta: version: 4.5.1\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Change-Id: I9e21438534a0f449ce0599d2e96010fc772d8a01\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I0c7b7f270b9023aad627d6d98cc6af7f5af459fc\n'}]",0,846298,5228a6045ccb57150016c9303359d89207a28334,17,2,1,11131,,,0,"update constraint for python-designateclient to new release 4.5.1

meta: version: 4.5.1
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: I9e21438534a0f449ce0599d2e96010fc772d8a01
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I0c7b7f270b9023aad627d6d98cc6af7f5af459fc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/846298/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5228a6045ccb57150016c9303359d89207a28334,new-release,python-designateclient===4.5.1,python-designateclient===4.5.0,1,1
openstack%2Frequirements~stable%2Fwallaby~I0d2a8271d4d083ac094c91ed924cc4ae8db767f4,openstack/requirements,stable/wallaby,I0d2a8271d4d083ac094c91ed924cc4ae8db767f4,update constraint for python-designateclient to new release 4.2.1,MERGED,2022-06-17 10:12:21.000000000,2022-06-18 02:58:24.000000000,2022-06-18 02:58:24.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:12:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b11cc5edc1d393005b5e2665fc40f03ce4967332', 'message': 'update constraint for python-designateclient to new release 4.2.1\n\nmeta: version: 4.2.1\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Change-Id: I8238b07b380e55bd9a5a418c8bd9f6075ea3f737\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I0d2a8271d4d083ac094c91ed924cc4ae8db767f4\n'}]",0,846295,b11cc5edc1d393005b5e2665fc40f03ce4967332,9,2,1,11131,,,0,"update constraint for python-designateclient to new release 4.2.1

meta: version: 4.2.1
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: I8238b07b380e55bd9a5a418c8bd9f6075ea3f737
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I0d2a8271d4d083ac094c91ed924cc4ae8db767f4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/846295/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b11cc5edc1d393005b5e2665fc40f03ce4967332,new-release,python-designateclient===4.2.1,python-designateclient===4.2.0,1,1
openstack%2Frequirements~master~I81eadb644c652832160a0214b2eb7a41f3ebf997,openstack/requirements,master,I81eadb644c652832160a0214b2eb7a41f3ebf997,Updated from generate-constraints,ABANDONED,2022-06-18 02:42:49.000000000,2022-06-18 02:52:32.000000000,,[],"[{'number': 1, 'created': '2022-06-18 02:42:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9310ac594380d621a8e3b76150d8c1652e43452c', 'message': 'Updated from generate-constraints\n\nChange-Id: I81eadb644c652832160a0214b2eb7a41f3ebf997\n'}]",0,846451,9310ac594380d621a8e3b76150d8c1652e43452c,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I81eadb644c652832160a0214b2eb7a41f3ebf997
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/846451/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9310ac594380d621a8e3b76150d8c1652e43452c,openstack/requirements/constraints,fixtures===4.0.0cryptography===37.0.2pkg_resources===0.0.0boto3===1.24.12Sphinx===5.0.2botocore===1.27.12jmespath===1.0.1python-designateclient===4.5.1,fixtures===3.0.0cryptography===36.0.2boto3===1.24.11Sphinx===4.5.0botocore===1.27.11jmespath===1.0.0python-designateclient===4.5.0,8,7
openstack%2Ftelemetry-specs~master~I3eef3b3b27a7fbd2092457c34da8e3bbe7cbf0d5,openstack/telemetry-specs,master,I3eef3b3b27a7fbd2092457c34da8e3bbe7cbf0d5,Migrate from testr to stestr,MERGED,2021-07-04 15:29:36.000000000,2022-06-18 02:36:34.000000000,2022-06-18 02:34:45.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-04 15:29:36.000000000', 'files': ['requirements.txt', '.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/69c89432fd5ef0f4ca0c4686502f2979e72ae18f', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, tox.ini and requirements.txt files accordingly\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I3eef3b3b27a7fbd2092457c34da8e3bbe7cbf0d5\n'}]",0,799417,69c89432fd5ef0f4ca0c4686502f2979e72ae18f,10,6,1,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore, tox.ini and requirements.txt files accordingly

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I3eef3b3b27a7fbd2092457c34da8e3bbe7cbf0d5
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/17/799417/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf']",5,69c89432fd5ef0f4ca0c4686502f2979e72ae18f,stestr,[DEFAULT] test_path=./tests/ top_dir=./ ,,16,9
openstack%2Ftempest~master~Ibd12542ee08f5020eddafcb253a978ac50f9e53a,openstack/tempest,master,Ibd12542ee08f5020eddafcb253a978ac50f9e53a,Create default net in ImagesNegativeTestJSON,MERGED,2022-06-17 15:04:10.000000000,2022-06-18 01:10:53.000000000,2022-06-18 01:09:44.000000000,"[{'_account_id': 8556}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 15:04:10.000000000', 'files': ['tempest/api/compute/images/test_images_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/de258f9956dd5eb4f57a4031c5785d5f2664bc0f', 'message': 'Create default net in ImagesNegativeTestJSON\n\nAs the test result [1] showed we missed ImagesNegativeTestJSON when\nfixed https://bugs.launchpad.net/tempest/+bug/1844568\n\nRelated-Bug: #1844568\n\n[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_7a3/846187/3/check/nova-next/7a30291/testr_results.html\n\nChange-Id: Ibd12542ee08f5020eddafcb253a978ac50f9e53a\n'}]",0,846419,de258f9956dd5eb4f57a4031c5785d5f2664bc0f,8,3,1,9708,,,0,"Create default net in ImagesNegativeTestJSON

As the test result [1] showed we missed ImagesNegativeTestJSON when
fixed https://bugs.launchpad.net/tempest/+bug/1844568

Related-Bug: #1844568

[1] https://storage.gra.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_7a3/846187/3/check/nova-next/7a30291/testr_results.html

Change-Id: Ibd12542ee08f5020eddafcb253a978ac50f9e53a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/846419/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/images/test_images_negative.py'],1,de258f9956dd5eb4f57a4031c5785d5f2664bc0f,bug/1844568, create_default_network = True,,1,0
openstack%2Ftempest~master~I898db6351e39fb4569e9fefeddf870fb8af0671c,openstack/tempest,master,I898db6351e39fb4569e9fefeddf870fb8af0671c,compute: Move volume attached live migration tests to use SSHABLE,MERGED,2022-06-17 12:02:44.000000000,2022-06-18 01:08:35.000000000,2022-06-18 01:07:09.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 12:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7a05fe60109722239d3b1ab1df6bfdd3558f31db', 'message': 'compute: Move volume attached live migration tests to use SSHABLE\n\nLive migration tests the volume attachment and checking the\nserver ssh-able will help to avoid any race during attachment\noperation.\n\nNote we merged this once Icdb3398061d0274fec8b4e10d955a4b00edf4524 but\nthat was reverted in I005755b0e527255362923a6b4bbbba2f7c1dfbd1 as it was\nbroken. This patch tries to make it right the second time.\n\nChange-Id: I898db6351e39fb4569e9fefeddf870fb8af0671c\n'}, {'number': 2, 'created': '2022-06-17 14:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f11bd630aa2899a708e5ae48f58a90c2ea7f6244', 'message': 'compute: Move volume attached live migration tests to use SSHABLE\n\nLive migration tests the volume attachment and checking the\nserver ssh-able will help to avoid any race during attachment\noperation.\n\nNote we merged this once Icdb3398061d0274fec8b4e10d955a4b00edf4524 but\nthat was reverted in I005755b0e527255362923a6b4bbbba2f7c1dfbd1 as it was\nbroken. This patch tries to make it right the second time.\n\nChange-Id: I898db6351e39fb4569e9fefeddf870fb8af0671c\n'}, {'number': 3, 'created': '2022-06-17 17:49:21.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c852639184f47976562c9ec2ea152719f57e4f41', 'message': 'compute: Move volume attached live migration tests to use SSHABLE\n\nLive migration tests the volume attachment and checking the\nserver ssh-able will help to avoid any race during attachment\noperation.\n\nNote we merged this once Icdb3398061d0274fec8b4e10d955a4b00edf4524 but\nthat was reverted in I005755b0e527255362923a6b4bbbba2f7c1dfbd1 as it was\nbroken. This patch tries to make it right the second time.\n\nChange-Id: I898db6351e39fb4569e9fefeddf870fb8af0671c\n'}]",6,846345,c852639184f47976562c9ec2ea152719f57e4f41,16,3,3,9708,,,0,"compute: Move volume attached live migration tests to use SSHABLE

Live migration tests the volume attachment and checking the
server ssh-able will help to avoid any race during attachment
operation.

Note we merged this once Icdb3398061d0274fec8b4e10d955a4b00edf4524 but
that was reverted in I005755b0e527255362923a6b4bbbba2f7c1dfbd1 as it was
broken. This patch tries to make it right the second time.

Change-Id: I898db6351e39fb4569e9fefeddf870fb8af0671c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/846345/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,7a05fe60109722239d3b1ab1df6bfdd3558f31db,wait_until_sshable_pingable," @classmethod def setup_credentials(cls): cls.prepare_instance_network() super(LiveMigrationTest, cls).setup_credentials() validation_resources = self.get_test_validation_resources( self.os_primary) server = self.create_test_server( validatable=True, validation_resources=validation_resources, wait_until=""SSHABLE"")"," # These tests don't attempt any SSH validation nor do they use # floating IPs on the instance, so all we need is a network and # a subnet so the instance being migrated has a single port, but # we need that to make sure we are properly updating the port # host bindings during the live migration. server = self.create_test_server(wait_until=""ACTIVE"")",11,6
openstack%2Fdesignate~master~I66847e801b65911870d51314c985baa0d3c09ef9,openstack/designate,master,I66847e801b65911870d51314c985baa0d3c09ef9,Remove invalid use of jsonschema.compat,MERGED,2022-06-15 15:43:41.000000000,2022-06-18 00:56:05.000000000,2022-06-18 00:54:58.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-15 15:43:41.000000000', 'files': ['designate/schema/format.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2cb4caa363255c158f0a2996adc2e4a42573ec07', 'message': 'Remove invalid use of jsonschema.compat\n\nDesignate was using a private module in jsonschema that has been removed in the jsonschema versions greater than 4.0.0.\nThis patch removes this use from Designate to allow support for jsonschema newer than 4.0.0.\n\nChange-Id: I66847e801b65911870d51314c985baa0d3c09ef9\n'}]",4,846014,2cb4caa363255c158f0a2996adc2e4a42573ec07,19,5,1,11628,,,0,"Remove invalid use of jsonschema.compat

Designate was using a private module in jsonschema that has been removed in the jsonschema versions greater than 4.0.0.
This patch removes this use from Designate to allow support for jsonschema newer than 4.0.0.

Change-Id: I66847e801b65911870d51314c985baa0d3c09ef9
",git fetch https://review.opendev.org/openstack/designate refs/changes/14/846014/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/schema/format.py'],1,2cb4caa363255c158f0a2996adc2e4a42573ec07,," if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str): if not isinstance(instance, str):","from jsonschema import compat if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types): if not isinstance(instance, compat.str_types):",14,15
openstack%2Fopenstack-ansible-os_gnocchi~master~Iaed7f2b4a724aed0f4165e32f3d40aac9d74edd7,openstack/openstack-ansible-os_gnocchi,master,Iaed7f2b4a724aed0f4165e32f3d40aac9d74edd7,Support service tokens,MERGED,2022-06-15 16:26:27.000000000,2022-06-18 00:41:24.000000000,2022-06-18 00:39:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-15 16:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/3e3f9cebf21fbed50e11779b210d55ac9966b7e1', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Iaed7f2b4a724aed0f4165e32f3d40aac9d74edd7\n'}, {'number': 2, 'created': '2022-06-17 14:10:25.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/6f3bcbe892e94cf78d184e0853935a95a331751f', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Iaed7f2b4a724aed0f4165e32f3d40aac9d74edd7\n'}]",3,846030,6f3bcbe892e94cf78d184e0853935a95a331751f,18,4,2,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Iaed7f2b4a724aed0f4165e32f3d40aac9d74edd7
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/30/846030/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'templates/gnocchi.conf.j2']",3,3e3f9cebf21fbed50e11779b210d55ac9966b7e1,osa/service_tokens,"service_token_roles_required = {{ gnocchi_service_token_roles_required | bool }} service_token_roles = {{ gnocchi_service_token_roles | join(',') }} service_type = {{ gnocchi_service_type }} ",,11,2
openstack%2Fopenstack-ansible-os_gnocchi~master~Idcaec649a4de03f5714c61fda694ada45da41dbc,openstack/openstack-ansible-os_gnocchi,master,Idcaec649a4de03f5714c61fda694ada45da41dbc,Control amount of metricd workers,MERGED,2022-06-17 12:27:40.000000000,2022-06-18 00:40:28.000000000,2022-06-18 00:39:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-17 12:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/2be06894c876f74adca9bc1aa2353e4ce2272ccf', 'message': ""Control amount of metricd workers\n\nAs of today we didn't manage amount of gnocchi-metricd that equal to\namount of CPU on host. So things can go off regarding CPU and memory\nconsumption. For better control of ressources we add a variable to\ncontrol the number of workers.\n\nChange-Id: Idcaec649a4de03f5714c61fda694ada45da41dbc\n""}, {'number': 2, 'created': '2022-06-17 12:43:15.000000000', 'files': ['releasenotes/notes/gnocchi_metricd_workers-e179af4e37d1531d.yaml', 'defaults/main.yml', 'templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/af3c87535db22fcf03e59be49c6e2df977f303fb', 'message': ""Control amount of metricd workers\n\nAs of today we didn't manage amount of gnocchi-metricd that equal to\namount of CPU on host. So things can go off regarding CPU and memory\nconsumption. For better control of ressources we add a variable to\ncontrol the number of workers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846349\n\nChange-Id: Idcaec649a4de03f5714c61fda694ada45da41dbc\n""}]",1,846347,af3c87535db22fcf03e59be49c6e2df977f303fb,12,3,2,13095,,,0,"Control amount of metricd workers

As of today we didn't manage amount of gnocchi-metricd that equal to
amount of CPU on host. So things can go off regarding CPU and memory
consumption. For better control of ressources we add a variable to
control the number of workers.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846349

Change-Id: Idcaec649a4de03f5714c61fda694ada45da41dbc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/47/846347/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/gnocchi_metricd_workers-e179af4e37d1531d.yaml', 'defaults/main.yml', 'templates/gnocchi.conf.j2']",3,2be06894c876f74adca9bc1aa2353e4ce2272ccf,,workers = {{ gnocchi_metricd_workers }},#workers = 1,11,1
openstack%2Fopenstack-ansible-os_masakari~master~I1ea93fd9bdb456387fd2cd2c124e399486bda46e,openstack/openstack-ansible-os_masakari,master,I1ea93fd9bdb456387fd2cd2c124e399486bda46e,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:53:13.000000000,2022-06-17 23:48:49.000000000,2022-06-17 23:47:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/48d499f1b7a9d5656b1268b8cd345d46d7f50187', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I1ea93fd9bdb456387fd2cd2c124e399486bda46e\n'}, {'number': 2, 'created': '2022-06-14 18:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/423918b6546b8960030f37594a4eff05ab3eccf0', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I1ea93fd9bdb456387fd2cd2c124e399486bda46e\n'}, {'number': 3, 'created': '2022-06-15 08:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/393a3b66821c982f786654214d9b221228f69afa', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845894\nChange-Id: I1ea93fd9bdb456387fd2cd2c124e399486bda46e\n'}, {'number': 4, 'created': '2022-06-15 14:09:47.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/e096ded6316559e73d0658c0422d4a511b065aa2', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845994\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845894\nChange-Id: I1ea93fd9bdb456387fd2cd2c124e399486bda46e\n'}]",3,845798,e096ded6316559e73d0658c0422d4a511b065aa2,18,3,4,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845994
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845894
Change-Id: I1ea93fd9bdb456387fd2cd2c124e399486bda46e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/98/845798/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,48d499f1b7a9d5656b1268b8cd345d46d7f50187,osa/manage_lb,, - meta: noop listen: Manage LB when: false,0,4
openstack%2Fopenstack-ansible-os_mistral~master~I03aaecd4286535ae80aca249778ea9b209b87129,openstack/openstack-ansible-os_mistral,master,I03aaecd4286535ae80aca249778ea9b209b87129,Add mistral-extra in the mistral venv,MERGED,2022-05-31 13:01:22.000000000,2022-06-17 23:33:02.000000000,2022-06-17 23:31:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-31 13:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/dbcea328c6d9d0b614b1101a2637f2c14d3bc81f', 'message': 'Add mistra-extra in the mistral venv\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/844048\nMistral has split the openstack action from the main repo, this patch\ninstall the extra actions into the venv so we can have openstack-action\nin it.\n\nChange-Id: I03aaecd4286535ae80aca249778ea9b209b87129\n'}, {'number': 2, 'created': '2022-05-31 17:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/9461c6e838b33af4f3961f569a630672ae14e405', 'message': 'Add mistra-extra in the mistral venv\n\nMistral has split the openstack action from the main repo, this patch\ninstall the extra actions into the venv so we can have openstack-action\nin it.\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/844048\n\nChange-Id: I03aaecd4286535ae80aca249778ea9b209b87129\n'}, {'number': 3, 'created': '2022-05-31 17:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/1b30b4049c58d46bd2f5ddbcc521d4027d81a249', 'message': 'Add mistral-extra in the mistral venv\n\nMistral has split the openstack action from the main repo, this patch\ninstall the extra actions into the venv so we can have openstack-action\nin it.\n\nDepends-On:  https://review.opendev.org/c/openstack/openstack-ansible/+/844048\n\nChange-Id: I03aaecd4286535ae80aca249778ea9b209b87129\n'}, {'number': 4, 'created': '2022-06-16 09:00:38.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/cb8e97fbf6f5d1b4bf2d7daf16952e200dacc074', 'message': 'Add mistral-extra in the mistral venv\n\nMistral has split the openstack action from the main repo, this patch\ninstall the extra actions into the venv so we can have openstack-action\nin it.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/844048\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846135\nChange-Id: I03aaecd4286535ae80aca249778ea9b209b87129\n'}]",3,844049,cb8e97fbf6f5d1b4bf2d7daf16952e200dacc074,18,3,4,13095,,,0,"Add mistral-extra in the mistral venv

Mistral has split the openstack action from the main repo, this patch
install the extra actions into the venv so we can have openstack-action
in it.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/844048
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846135
Change-Id: I03aaecd4286535ae80aca249778ea9b209b87129
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/49/844049/4 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,dbcea328c6d9d0b614b1101a2637f2c14d3bc81f,mistra-extra,"mistral_extra_git_repo: https://opendev.org/openstack/mistral-extra mistral_extra_git_install_branch: master - ""git+{{ mistral_extra_git_repo }}@{{ mistral_extra_git_install_branch }}#egg=mistral-extra""",,3,0
openstack%2Fopenstack-ansible~master~I957a5e1a53bb0d296db29c9899bdca8eff124209,openstack/openstack-ansible,master,I957a5e1a53bb0d296db29c9899bdca8eff124209,[doc] Update link to Ansible doc in manifesto,MERGED,2022-06-17 13:08:37.000000000,2022-06-17 23:24:33.000000000,2022-06-17 23:21:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-06-17 13:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/af798a9eec17675aa2cd1d74e22afb0556e78395', 'message': '[doc] Update link to Ansible doc in manifesto\n\nCloses-Bug: #1979057\nChange-Id: I957a5e1a53bb0d296db29c9899bdca8eff124209\n'}, {'number': 2, 'created': '2022-06-17 20:54:27.000000000', 'files': ['doc/source/reference/architecture/manifesto.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5597c39ce3f30b38afe52a2ba461d70145894c4b', 'message': '[doc] Update link to Ansible doc in manifesto\n\nCloses-Bug: #1979057\nChange-Id: I957a5e1a53bb0d296db29c9899bdca8eff124209\n'}]",0,846358,5597c39ce3f30b38afe52a2ba461d70145894c4b,12,3,2,28619,,,0,"[doc] Update link to Ansible doc in manifesto

Closes-Bug: #1979057
Change-Id: I957a5e1a53bb0d296db29c9899bdca8eff124209
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/846358/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/architecture/manifesto.rst'],1,af798a9eec17675aa2cd1d74e22afb0556e78395,bug/1979057,Playbooks <https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html>`_.,Playbooks <https://docs.ansible.com/playbooks_intro.html>`_.,1,1
openstack%2Fopenstack-ansible~master~I68d5f31282c9dac5e17784558d57fd00530a8fc7,openstack/openstack-ansible,master,I68d5f31282c9dac5e17784558d57fd00530a8fc7,Stop NetworkManager on centos 9.,MERGED,2022-06-16 20:25:00.000000000,2022-06-17 23:23:26.000000000,2022-06-17 23:21:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-16 20:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c2bff53c7b4f32473eb224cc4a020c206a083b47', 'message': 'Disable network manager on centos 9.\n\nChange-Id: I68d5f31282c9dac5e17784558d57fd00530a8fc7\n'}, {'number': 2, 'created': '2022-06-16 20:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5f12238632b62fb30d25e18e848bdc374285dbfe', 'message': 'Stop NetworkManager on centos 9.\n\nChange-Id: I68d5f31282c9dac5e17784558d57fd00530a8fc7\n'}, {'number': 3, 'created': '2022-06-17 10:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7cee90f7acfccec0410fa9a3fbd2a37a508056d5', 'message': 'Stop NetworkManager on centos 9.\n\nChange-Id: I68d5f31282c9dac5e17784558d57fd00530a8fc7\n'}, {'number': 4, 'created': '2022-06-17 17:59:04.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_networking.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7be9c847a160f68fc397dc5bc69d047a70fbb0df', 'message': 'Stop NetworkManager on centos 9.\n\nChange-Id: I68d5f31282c9dac5e17784558d57fd00530a8fc7\n'}]",8,846224,7be9c847a160f68fc397dc5bc69d047a70fbb0df,27,3,4,13095,,,0,"Stop NetworkManager on centos 9.

Change-Id: I68d5f31282c9dac5e17784558d57fd00530a8fc7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/846224/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_networking.yml'],1,c2bff53c7b4f32473eb224cc4a020c206a083b47,network-manager,- name: Disable NetworkManager become: True service: name: NetworkManager state: stopped when: - ansible_facts['os_family'] == 'RedHat' - ansible_facts['distribution_major_version'] == '9' ,,9,0
openstack%2Fnova~stable%2Ftrain~Iea8896682fc28e3a5cd25afa45238272bee745e1,openstack/nova,stable/train,Iea8896682fc28e3a5cd25afa45238272bee745e1,compute: Ensure updates to bdms during pre_live_migration are saved,NEW,2022-05-30 20:25:37.000000000,2022-06-17 23:06:30.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 20:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c16cb9cc52ab35312ef724140916bf2d299dd174', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts:\n* nova/compute/manager.py\n  6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removed nova-net firewall\n  support in ussuri and changed the context around this change.\n* nova/tests/functional/compute/test_live_migration.py\n  2c949cb3eea9cd9282060da12d32771582953aa2 added Neutron live\n  migration tests in ussuri and changed the context around this\n  change.\n\nThis includes the following commits that were squashed into the\nprevious backports:\n\nfup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n\nfup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 9ccd2bc36287e0cc217609c503d74bb036b9d93b)\n(cherry picked from commit d016f3b3539587e6c8230d26f03d4d82d634d5d0)\n(cherry picked from commit 5a70e92f577417e7b0c992d79fab3a4075fe59be)\n'}, {'number': 2, 'created': '2022-06-05 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cc52ddbc2b1246617a7a3dfe344c18e93348ef3', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n(cherry picked from commit 8d1933a969a8b530e984b5781261e111c32587b6)\n'}, {'number': 3, 'created': '2022-06-05 19:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3c5043da54ce8ea723a4410e8769769571dd3e6', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n(cherry picked from commit 8d1933a969a8b530e984b5781261e111c32587b6)\n'}, {'number': 4, 'created': '2022-06-06 14:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50666a8beeffd66e485c00ab853edc1b34b2e22c', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n(cherry picked from commit 8d1933a969a8b530e984b5781261e111c32587b6)\n'}, {'number': 5, 'created': '2022-06-08 21:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a573bc9aaf8668e1474b6922fc6bc7b5ddd224a4', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n(cherry picked from commit 8d1933a969a8b530e984b5781261e111c32587b6)\n'}, {'number': 6, 'created': '2022-06-15 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/398ab575375c90f05bb98178fc50508073e18d51', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n(cherry picked from commit 8d1933a969a8b530e984b5781261e111c32587b6)\n'}, {'number': 7, 'created': '2022-06-17 17:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50fd0f26468a1faa24d3774ba4ebd58458dd3b22', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 1e819ad7245e8ef69fa4d5ef48453b895b453717)\n(cherry picked from commit e8974b27ac346c2b982f688371498f73875157ca)\n(cherry picked from commit 2157ac01516fe12079872684349e347759441257)\n'}, {'number': 8, 'created': '2022-06-17 19:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cab47867d74b7d67e62ff9f98eef410ede7a2079', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 573e767ea53a5077ac5cc56fff642d16b067947c)\n(cherry picked from commit f607260a6061e1867b1dcda7cf1ab3bd9b298d8d)\n(cherry picked from commit 459557d3089a677dc33cf9d689c326626b91937e)\n'}, {'number': 9, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12d9f408b3147c50145c38000e9c26c156eeed12', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nConflicts in nova/compute/manager.py due to\n6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall\nsupport in ussuri and changing the context around this change.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)\n(cherry picked from commit 911d1063e06684137952aec6b260cc54738ee5de)\n(cherry picked from commit caa6d8e0a21e9dd0e6de61acf974846f40323d9e)\n'}]",6,843960,12d9f408b3147c50145c38000e9c26c156eeed12,27,2,9,8864,,,0,"compute: Ensure updates to bdms during pre_live_migration are saved

When connecting volumes to the underlying host the virt drivers can
attempt to stash additional metadata returned from os-brick into the
connection_info associated with a bdm. This pretty janky behaviour
relies on someone later calling .save() against the underlying
BlockDeviceMapping object to persist these changes into the database as
happens in the driver block device layer during a standard volume
attach.

However during pre_live_migration no call was made to .save() resulting
in the changes made to the connection_info being lost. This change
simply introduces this call at the end of the pre_live_migration method
on the destination via the driver bdm objects we provide in
block_device_info.

Conflicts in nova/compute/manager.py due to
6af7c36ac737c4a5a5a16f01f91b6fd8f529feb7 removing nova-net firewall
support in ussuri and changing the context around this change.

Closes-Bug: #1939545
Change-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1
(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)
(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)
(cherry picked from commit 911d1063e06684137952aec6b260cc54738ee5de)
(cherry picked from commit caa6d8e0a21e9dd0e6de61acf974846f40323d9e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/843960/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/fixtures.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",5,c16cb9cc52ab35312ef724140916bf2d299dd174,bug/1939545," # Again get the volume bdm and assert that the saved connection_info # contains device_path. self.assertIn('device_path', connection_info.get('data'))"," # FIXME(lyarwood): This is bug #1939545, again get the volume bdm and # assert that the saved connection_info doesn't contain device_path. self.assertNotIn('device_path', connection_info.get('data'))",191,15
openstack%2Fnova~stable%2Fussuri~Iea8896682fc28e3a5cd25afa45238272bee745e1,openstack/nova,stable/ussuri,Iea8896682fc28e3a5cd25afa45238272bee745e1,compute: Ensure updates to bdms during pre_live_migration are saved,NEW,2022-05-30 18:38:21.000000000,2022-06-17 23:05:29.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 18:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a70e92f577417e7b0c992d79fab3a4075fe59be', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nThis includes the following commits that were squashed into the\nprevious backports:\n\nfup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n\nfup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 9ccd2bc36287e0cc217609c503d74bb036b9d93b)\n(cherry picked from commit d016f3b3539587e6c8230d26f03d4d82d634d5d0)\n'}, {'number': 2, 'created': '2022-06-02 17:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/700d873d2021d9478df8f086e6a8293dad79d3ec', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nThis includes the following commits that were squashed into the\nprevious backports:\n\nfup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n\nfup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 9ccd2bc36287e0cc217609c503d74bb036b9d93b)\n(cherry picked from commit cb8d233aafef57d2f020f4d71d1d2abe5d9dc956)\n'}, {'number': 3, 'created': '2022-06-03 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d1933a969a8b530e984b5781261e111c32587b6', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n'}, {'number': 4, 'created': '2022-06-16 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bde8f02f68868a732e3be8d8a6871d1fc50b67bb', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n'}, {'number': 5, 'created': '2022-06-16 17:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf5394419020195aaff5fe5df2de1e18f6ac30d0', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit aad7dabc5a9d790193d42b2155f186e7ec74a408)\n(cherry picked from commit 012c635a38c686b37456c1d86a58a1fc26fde9e2)\n'}, {'number': 6, 'created': '2022-06-17 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2157ac01516fe12079872684349e347759441257', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 1e819ad7245e8ef69fa4d5ef48453b895b453717)\n(cherry picked from commit e8974b27ac346c2b982f688371498f73875157ca)\n'}, {'number': 7, 'created': '2022-06-17 19:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/459557d3089a677dc33cf9d689c326626b91937e', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 573e767ea53a5077ac5cc56fff642d16b067947c)\n(cherry picked from commit f607260a6061e1867b1dcda7cf1ab3bd9b298d8d)\n'}, {'number': 8, 'created': '2022-06-17 21:19:51.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/caa6d8e0a21e9dd0e6de61acf974846f40323d9e', 'message': 'compute: Ensure updates to bdms during pre_live_migration are saved\n\nWhen connecting volumes to the underlying host the virt drivers can\nattempt to stash additional metadata returned from os-brick into the\nconnection_info associated with a bdm. This pretty janky behaviour\nrelies on someone later calling .save() against the underlying\nBlockDeviceMapping object to persist these changes into the database as\nhappens in the driver block device layer during a standard volume\nattach.\n\nHowever during pre_live_migration no call was made to .save() resulting\nin the changes made to the connection_info being lost. This change\nsimply introduces this call at the end of the pre_live_migration method\non the destination via the driver bdm objects we provide in\nblock_device_info.\n\nCloses-Bug: #1939545\nChange-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1\n(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)\n(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)\n(cherry picked from commit 911d1063e06684137952aec6b260cc54738ee5de)\n'}]",3,843952,caa6d8e0a21e9dd0e6de61acf974846f40323d9e,26,2,8,8864,,,0,"compute: Ensure updates to bdms during pre_live_migration are saved

When connecting volumes to the underlying host the virt drivers can
attempt to stash additional metadata returned from os-brick into the
connection_info associated with a bdm. This pretty janky behaviour
relies on someone later calling .save() against the underlying
BlockDeviceMapping object to persist these changes into the database as
happens in the driver block device layer during a standard volume
attach.

However during pre_live_migration no call was made to .save() resulting
in the changes made to the connection_info being lost. This change
simply introduces this call at the end of the pre_live_migration method
on the destination via the driver bdm objects we provide in
block_device_info.

Closes-Bug: #1939545
Change-Id: Iea8896682fc28e3a5cd25afa45238272bee745e1
(cherry picked from commit 962eda94d52321c3237da870c3d0455c6f0e851b)
(cherry picked from commit 9bccc5a04354b0490fbe7e0f0b98cf55d4b7c9c4)
(cherry picked from commit 911d1063e06684137952aec6b260cc54738ee5de)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/843952/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/fixtures.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",5,5a70e92f577417e7b0c992d79fab3a4075fe59be,bug/1939545," # Again get the volume bdm and assert that the saved connection_info # contains device_path. self.assertIn('device_path', connection_info.get('data'))"," # FIXME(lyarwood): This is bug #1939545, again get the volume bdm and # assert that the saved connection_info doesn't contain device_path. self.assertNotIn('device_path', connection_info.get('data'))",111,25
openstack%2Fopenstack-ansible-os_neutron~master~Icba65866407a142fb110d1ec25b9ebdcba75d821,openstack/openstack-ansible-os_neutron,master,Icba65866407a142fb110d1ec25b9ebdcba75d821,Deprecate allow_overlapping_ips option,MERGED,2022-06-17 06:05:47.000000000,2022-06-17 23:01:37.000000000,2022-06-17 23:00:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-17 06:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d6ffc5742dbaa0725f5d169f529444af852c4048', 'message': 'Deprecate allow_overlapping_ips option\n\nThis option has been deprecated and ignored by the service.\n\nChange-Id: Icba65866407a142fb110d1ec25b9ebdcba75d821\n'}, {'number': 2, 'created': '2022-06-17 14:59:14.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/1700cc37ca70667d2d8c107db764025720bd174e', 'message': 'Deprecate allow_overlapping_ips option\n\nThis option has been deprecated and ignored by the service.\n\nChange-Id: Icba65866407a142fb110d1ec25b9ebdcba75d821\n'}]",4,846272,1700cc37ca70667d2d8c107db764025720bd174e,13,3,2,28619,,,0,"Deprecate allow_overlapping_ips option

This option has been deprecated and ignored by the service.

Change-Id: Icba65866407a142fb110d1ec25b9ebdcba75d821
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/72/846272/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,d6ffc5742dbaa0725f5d169f529444af852c4048,,,"allow_overlapping_ips = Trueservice_token_roles_required = {{ neutron_service_token_roles_required | bool }} service_token_roles = {{ neutron_service_token_roles | join(',') }} service_type = {{ neutron_service_type }} ",0,5
openstack%2Fopenstack-ansible-os_murano~master~I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1,openstack/openstack-ansible-os_murano,master,I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 18:05:02.000000000,2022-06-17 22:53:34.000000000,2022-06-17 22:52:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 18:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/068e181b93be4666f08ce64629742379d7b00e79', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1\n'}, {'number': 2, 'created': '2022-06-16 18:12:47.000000000', 'files': ['handlers/main.yml', 'tasks/murano_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/4b1385c6b4907ce108487fdeeb79a7931c80f2bd', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1\n'}]",1,845802,4b1385c6b4907ce108487fdeeb79a7931c80f2bd,12,3,2,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I27c2ddedc3997d63ddcb08c9f4c06ec1cb287ed1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/02/845802/2 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'tasks/murano_post_install.yml']",2,068e181b93be4666f08ce64629742379d7b00e79,osa/manage_lb,, - Manage LB,0,5
openstack%2Fopenstack-ansible-os_murano~master~I87c5c56838bdec247bb46062fe8c9c4f063abde1,openstack/openstack-ansible-os_murano,master,I87c5c56838bdec247bb46062fe8c9c4f063abde1,Use global service variables,MERGED,2022-06-16 13:05:11.000000000,2022-06-17 22:49:34.000000000,2022-06-17 22:47:31.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 13:05:11.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/a8373f1c7f004bfc9c2606b70a84edd8dc37e2c9', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I87c5c56838bdec247bb46062fe8c9c4f063abde1\n'}]",1,846165,a8373f1c7f004bfc9c2606b70a84edd8dc37e2c9,10,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I87c5c56838bdec247bb46062fe8c9c4f063abde1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/65/846165/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,a8373f1c7f004bfc9c2606b70a84edd8dc37e2c9,osa/service_variables,"murano_install_method: ""{{ service_install_method | default('source') }}""murano_package_state: ""{{ package_state | default('latest') }}""","murano_install_method: ""source""murano_package_state: latest",2,2
openstack%2Fopenstack-ansible-os_murano~master~I9c432b4a24127fad3bfe0f24d02fa750170f483e,openstack/openstack-ansible-os_murano,master,I9c432b4a24127fad3bfe0f24d02fa750170f483e,Delegate package import to setup host,MERGED,2022-06-16 11:30:28.000000000,2022-06-17 22:48:36.000000000,2022-06-17 22:47:26.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-06-16 11:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/0643030626780eca0e35c0bbd4ae5ba0550edbe4', 'message': ""Delegate package import to setup host\n\nInstead of running muranoclient on murano host, we're delegating\nexecution to service_setup_host. This reduce\ncomplexity and remove some requirements for murano hosts.\n\nWith that we also replace usage of muranoclient\nwith openstackclient.\n\nChange-Id: I9c432b4a24127fad3bfe0f24d02fa750170f483e\n""}, {'number': 2, 'created': '2022-06-16 12:55:44.000000000', 'files': ['tasks/murano_import_libraries.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/c85b8def8b66625b421a945a581fe80c4ce888a9', 'message': ""Delegate package import to setup host\n\nInstead of running muranoclient on murano host, we're delegating\nexecution to service_setup_host. This reduce\ncomplexity and remove some requirements for murano hosts.\n\nWith that we also replace usage of muranoclient\nwith openstackclient.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846162\nChange-Id: I9c432b4a24127fad3bfe0f24d02fa750170f483e\n""}]",3,846147,c85b8def8b66625b421a945a581fe80c4ce888a9,20,3,2,28619,,,0,"Delegate package import to setup host

Instead of running muranoclient on murano host, we're delegating
execution to service_setup_host. This reduce
complexity and remove some requirements for murano hosts.

With that we also replace usage of muranoclient
with openstackclient.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846162
Change-Id: I9c432b4a24127fad3bfe0f24d02fa750170f483e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/47/846147/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/murano_import_libraries.yml'],1,0643030626780eca0e35c0bbd4ae5ba0550edbe4,,"- name: Install murano packages on service_setup host delegate_to: ""{{ murano_service_setup_host }}"" vars: ansible_python_interpreter: ""{{ murano_service_setup_host_python_interpreter }}"" block: - name: Creating temporary directory for Core modules tempfile: state: directory suffix: murano register: murano_repo - name: Clone murano repo git: dest: ""{{ murano_repo.path }}/murano"" repo: ""{{ murano_git_repo }}"" version: ""{{ murano_git_install_branch }}"" - name: Pack common libraries archive: format: zip path: ""{{ murano_repo.path }}/murano/meta/{{ item }}/*"" dest: ""{{ murano_repo.path }}/{{ item }}.zip"" with_items: - io.murano - io.murano.applications - name: Import packed libraries shell: ""openstack {{ keystone_service_publicuri_insecure | ternary('--insecure', '') }} package import --exists-action u --is-public {{ murano_repo.path }}/{{ item }}.zip"" environment: OS_USERNAME: ""{{ murano_service_user_name }}"" OS_PASSWORD: ""{{ murano_service_password }}"" OS_PROJECT_NAME: ""{{ murano_service_project_name }}"" OS_AUTH_URL: ""{{ keystone_service_adminurl }}"" OS_USER_DOMAIN_ID: ""{{ murano_service_user_domain_id }}"" OS_PROJECT_DOMAIN_ID: ""{{ murano_service_project_domain_id }}"" OS_REGION_NAME: ""{{ murano_service_region }}"" register: import_libraries until: import_libraries is success retries: 10 delay: 5 with_items: - io.murano - io.murano.applications - name: Drop temporary directory file: path: ""{{ murano_repo.path }}"" state: ""absent""","- name: Creating temporary directory for Core modules tempfile: state: directory suffix: murano register: murano_repo - name: Clone murano repo git: dest: ""{{ murano_repo.path }}/murano"" repo: ""{{ murano_git_repo }}"" version: ""{{ murano_git_install_branch }}"" - name: Pack common libraries archive: format: zip path: ""{{ murano_repo.path }}/murano/meta/{{ item }}/*"" dest: ""{{ murano_repo.path }}/{{ item }}.zip"" with_items: - io.murano - io.murano.applications - name: Import packed libraries shell: ""{{ murano_bin }}/murano {{ keystone_service_publicuri_insecure | ternary('--insecure', '') }} package-import --exists-action u --is-public {{ murano_repo.path }}/{{ item }}.zip"" environment: OS_USERNAME: ""{{ murano_service_user_name }}"" OS_PASSWORD: ""{{ murano_service_password }}"" OS_PROJECT_NAME: ""{{ murano_service_project_name }}"" OS_AUTH_URL: ""{{ keystone_service_adminurl }}"" OS_USER_DOMAIN_ID: ""{{ murano_service_user_domain_id }}"" OS_PROJECT_DOMAIN_ID: ""{{ murano_service_project_domain_id }}"" OS_REGION_NAME: ""{{ murano_service_region }}"" register: import_libraries until: import_libraries is success retries: 10 delay: 5 with_items: - io.murano - io.murano.applications - name: Drop temporary directory file: path: ""{{ murano_repo.path }}"" state: ""absent""",44,39
openstack%2Fopenstack-ansible-os_murano~master~I07b63c327639fd69ff8705f11909ee62b582fede,openstack/openstack-ansible-os_murano,master,I07b63c327639fd69ff8705f11909ee62b582fede,Support service tokens,MERGED,2022-06-16 13:00:11.000000000,2022-06-17 22:47:29.000000000,2022-06-17 22:47:29.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-16 13:00:11.000000000', 'files': ['tasks/main.yml', 'templates/murano.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/aa3be8264c83659dddca510163f7da60408f4f52', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I07b63c327639fd69ff8705f11909ee62b582fede\n'}]",1,846163,aa3be8264c83659dddca510163f7da60408f4f52,11,4,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I07b63c327639fd69ff8705f11909ee62b582fede
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/63/846163/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/murano.conf.j2', 'defaults/main.yml']",3,aa3be8264c83659dddca510163f7da60408f4f52,osa/service_tokens,"murano_service_role_names: - admin - service murano_service_token_roles: - service murano_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",murano_role_name: admin,11,2
openstack%2Fnova~stable%2Ftrain~If1a45886adfc6448a626a54449ff66f400879b83,openstack/nova,stable/train,If1a45886adfc6448a626a54449ff66f400879b83,func: Add live migration rollback volume attachment tests,NEW,2022-06-05 16:59:52.000000000,2022-06-17 22:33:06.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-05 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e83643e80505e05cf7aede037c593cf6c6e0758e', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n'}, {'number': 2, 'created': '2022-06-05 19:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09ec6bda92d2b14f5a5795ed02cfd5d1bdbeadca', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n'}, {'number': 3, 'created': '2022-06-05 21:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53a8a07af3ea6ca9035574c643df2198cc709bf3', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) A tiny manual change was needed to fix the way super() is\ncalled to match the Python 2 style.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n'}, {'number': 4, 'created': '2022-06-06 14:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/384bd40a3811b3d39f45a3bf85db4f207d5365d2', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) A tiny manual change was needed to fix the way super() is\ncalled to match the Python 2 style.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n'}, {'number': 5, 'created': '2022-06-08 21:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7a726d102b2c002e0120bb60efb55d31b4decf2', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style.\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 6, 'created': '2022-06-09 13:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6a2bc0bf6768d0e1e0fe1fe9a006e94776dc28b', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style.\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 7, 'created': '2022-06-09 15:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b574d4e5953c88be4695db0eeb7f1a038078ada4', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style.\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 8, 'created': '2022-06-09 18:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11f60b8f1853cdd53fc81c142ffc6c0f0c9fbf5f', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style.\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter to the new test class, needed by the\n  stable/train version of the _build_server() helper.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 9, 'created': '2022-06-09 18:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d63b2e11c82c1821ce45c09b523917f13ec3f222', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style.\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 10, 'created': '2022-06-10 00:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c23e4e0aa7c9f4a34d38df354fac0a6f0c28715c', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style.\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper.\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train.\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 11, 'created': '2022-06-10 09:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7b54e06a48fdb7d89985089b628cd66b4ab2c18', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state\n* use the NeutronFixture explicitly\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 12, 'created': '2022-06-10 13:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d177b5f5e7b64e51b91e4d0bab5ad59e87c679e', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style\n* calls to the non-existent in stable/train_start_compute() helper\n  replaced with start_service('compute')\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state\n* declare USE_NEUTRON explicitly\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 13, 'created': '2022-06-15 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d23955613a7e1d134d843b6dc2ccaa38d48c83ad', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state\n* declare USE_NEUTRON explicitly\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 14, 'created': '2022-06-17 17:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7edd86b3b01dc50cec0a6db461a8459d615cacd', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state\n* declare USE_NEUTRON explicitly\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 15, 'created': '2022-06-17 19:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8435f9aca54a21d99cdec768b8ddccc22dbf356', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state\n* declare USE_NEUTRON explicitly\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}, {'number': 16, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/13fe11120f4e6bc063587e26ddeec63dd4cb210d', 'message': ""func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nNOTE(artom) Changes for the cherry-pick:\n* a tiny manual change was needed to fix the way super() is called to\n  match the Python 2 style\n* add self.api_major_version to be compatible with stable/train\n  _setup_services()\n* adjust usage of the _builder_server() helper to be compatible with\n  the stable/train way\n* add self._image_ref_parameter and self._flavor_ref_parameter to the\n  new test class, needed by the stable/train version of the\n  _build_server() helper\n* make the new test class inherit from the InstanceHelperMixin, as\n  that's there the _wait_for_state_change() helper is in stable/train\n* call _wait_for_state_change() in the stable/train fashion, passing\n  self.api in addition to the server and state\n* declare USE_NEUTRON explicitly\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)\n(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)\n""}]",2,844745,13fe11120f4e6bc063587e26ddeec63dd4cb210d,40,2,16,8864,,,0,"func: Add live migration rollback volume attachment tests

This test asserts that the original source host volume attachments
remain intact after a failure and rollback during the main live
migration flow on the virt driver.

NOTE(artom) Changes for the cherry-pick:
* a tiny manual change was needed to fix the way super() is called to
  match the Python 2 style
* add self.api_major_version to be compatible with stable/train
  _setup_services()
* adjust usage of the _builder_server() helper to be compatible with
  the stable/train way
* add self._image_ref_parameter and self._flavor_ref_parameter to the
  new test class, needed by the stable/train version of the
  _build_server() helper
* make the new test class inherit from the InstanceHelperMixin, as
  that's there the _wait_for_state_change() helper is in stable/train
* call _wait_for_state_change() in the stable/train fashion, passing
  self.api in addition to the server and state
* declare USE_NEUTRON explicitly

Change-Id: If1a45886adfc6448a626a54449ff66f400879b83
(cherry picked from commit e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb)
(cherry picked from commit 6070c55793d184bb3484b6af8ccadded0a907cbb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/844745/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_live_migration.py'],1,e83643e80505e05cf7aede037c593cf6c6e0758e,bug/1939545,"import mockfrom nova import test class TestVolAttachmentsDuringLiveMigration( integrated_helpers._IntegratedTestBase ): """"""Assert the lifecycle of volume attachments during LM rollbacks """""" # Default self.api to the self.admin_api as live migration is admin only ADMIN_API = True microversion = 'latest' def setUp(self): super().setUp() self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) def _setup_compute_service(self): self._start_compute('src') self._start_compute('dest') @mock.patch('nova.virt.fake.FakeDriver.live_migration') def test_vol_attachments_during_driver_live_mig_failure(self, mock_lm): """"""Assert volume attachments during live migration rollback * Mock live_migration to always rollback and raise a failure within the fake virt driver * Launch a boot from volume instance * Assert that the volume is attached correctly to the instance * Live migrate the instance to another host invoking the mocked live_migration method * Assert that the instance is still on the source host * Assert that the original source host volume attachment remains """""" # Mock out driver.live_migration so that we always rollback def _fake_live_migration_with_rollback( context, instance, dest, post_method, recover_method, block_migration=False, migrate_data=None): # Just call the recover_method to simulate a rollback recover_method(context, instance, dest, migrate_data) # raise test.TestingException here to imitate a virt driver raise test.TestingException() mock_lm.side_effect = _fake_live_migration_with_rollback volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server = self._build_server( name='test_bfv_live_migration_failure', image_uuid='', networks='none' ) server['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': volume_id }] server = self.api.post_server({'server': server}) self._wait_for_state_change(server, 'ACTIVE') # Fetch the source host for use later server = self.api.get_server(server['id']) src_host = server['OS-EXT-SRV-ATTR:host'] # Assert that the volume is connected to the instance self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Assert that we have an active attachment in the fixture attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(1, len(attachments)) # Fetch the attachment_id for use later once we have migrated src_attachment_id = list(attachments.keys())[0] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of live_migration raising TestingException self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_migration_status(server, ['error']) # Assert that we called the fake live_migration method mock_lm.assert_called_once() # Assert that the instance is listed as ERROR on the source self._wait_for_state_change(server, 'ERROR') server = self.api.get_server(server['id']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host']) # Assert that the src attachment is still present attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertIn(src_attachment_id, attachments.keys()) self.assertEqual(1, len(attachments))",,93,0
openstack%2Fnova~stable%2Ftrain~Ib8009f38f20b008d08148f7f591af13b1ca5b420,openstack/nova,stable/train,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,NEW,2022-06-05 16:59:52.000000000,2022-06-17 22:31:25.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-05 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f3a54dbc467bfff2a4981ee8037b3b408f33485', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 2, 'created': '2022-06-05 19:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d034d9336f1f851627c2d96de4fe9aa6ab78132e', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 3, 'created': '2022-06-05 21:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c6c9acab9846b02416135adf9a951d9bc212282', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 4, 'created': '2022-06-06 14:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b24bb324f96db8c2f9ba4ae08302e186dc03fbe4', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 5, 'created': '2022-06-08 21:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0dd461ae56423da176013ecb9f2ce6e2da54131', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 6, 'created': '2022-06-09 13:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0405e9eb2a578e6d861cafd30e94fa2cf375aa6', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 7, 'created': '2022-06-09 15:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d356120b4ce43fcacb3c969dc34501b55f89f39', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\nAlso, as in the previous patch, fix how we use the _build_server()\nhelper to match how it works in stable/train.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 8, 'created': '2022-06-09 18:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79dd72142f7425c32b5c99409eef3865199ec93d', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\nAlso, as in the previous patch, fix how we use the _build_server()\nhelper to match how it works in stable/train.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 9, 'created': '2022-06-09 18:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21b52404d178bb1598103c04d2897db3e1757bbb', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\nAlso, as in the previous patch, fix how we use the _build_server()\nhelper to match how it works in stable/train.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 10, 'created': '2022-06-09 21:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9588a8316e796fbda834d42e2ff4c0d49a9155a4', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\nAlso, as in the previous patch, fix how we use the _build_server()\nhelper to match how it works in stable/train.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 11, 'created': '2022-06-10 00:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc3800acf1018be92fc9e05ea3e6696fc761d8f6', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\nAlso, as in the previous patch, fix how we use the _build_server()\nhelper to match how it works in stable/train.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 12, 'created': '2022-06-10 09:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/288094aa2e6611edaea776599da1ceb2795efa24', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nConflicts in nova/tests/functional/compute/test_live_migration.py due\nto 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\nmigration tests in ussuri and changing the context around this change.\nAlso, as in the previous patch, fix how we use the _build_server()\nhelper to match how it works in stable/train.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 13, 'created': '2022-06-10 13:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d58370f7c8890bce4cde3a2606606eac1ae3da4', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nNOTE(artom) Conflicts and changes:\n* Conflicts in nova/tests/functional/compute/test_live_migration.py due\n  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\n  migration tests in ussuri and changing the context around this change.\n* Fix how we use the _build_server() helper to match how it works in\n  stable/train.\n* Stop using the _live_migrate() helper as it does not exist in\n  stable/train, and use an explicit self.api.post_server_action()\n  call.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 14, 'created': '2022-06-10 14:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b8935f80a99d38281bb30d1e331f24c2614fe2', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nNOTE(artom) Conflicts and changes:\n* Conflicts in nova/tests/functional/compute/test_live_migration.py due\n  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\n  migration tests in ussuri and changing the context around this change.\n* Fix how we use the _build_server() helper to match how it works in\n  stable/train.\n* Stop using the _live_migrate() helper as it does not exist in\n  stable/train, and use an explicit self.api.post_server_action()\n  call.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 15, 'created': '2022-06-15 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6649b37ac1a60ebf451e54a5f596ba5a319424b1', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nNOTE(artom) Conflicts and changes:\n* Conflicts in nova/tests/functional/compute/test_live_migration.py due\n  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\n  migration tests in ussuri and changing the context around this change.\n* Fix how we use the _build_server() helper to match how it works in\n  stable/train.\n* Stop using the _live_migrate() helper as it does not exist in\n  stable/train, and use an explicit self.api.post_server_action()\n  call.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n(cherry picked from commit 6cdd1504cd33067a2ba56189ee61e65639126ce2)\n'}, {'number': 16, 'created': '2022-06-17 17:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/246ab1751487e788077fd089100e673ab58b64f0', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nNOTE(artom) Conflicts and changes:\n* Conflicts in nova/tests/functional/compute/test_live_migration.py due\n  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\n  migration tests in ussuri and changing the context around this change.\n* Fix how we use the _build_server() helper to match how it works in\n  stable/train.\n* Stop using the _live_migrate() helper as it does not exist in\n  stable/train, and use an explicit self.api.post_server_action()\n  call.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 3d9a91329838a494671e407a0f35c33d55369172)\n(cherry picked from commit 5a660194218b78798e46531fcdc323bcbc346a18)\n(cherry picked from commit bac8397cc0b7169668ce8240f16a2fa2a55cce19)\n'}, {'number': 17, 'created': '2022-06-17 19:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62bce68c02658083d91653d31a7de23bf5b25072', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nNOTE(artom) Conflicts and changes:\n* Conflicts in nova/tests/functional/compute/test_live_migration.py due\n  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\n  migration tests in ussuri and changing the context around this change.\n* Fix how we use the _build_server() helper to match how it works in\n  stable/train.\n* Stop using the _live_migrate() helper as it does not exist in\n  stable/train, and use an explicit self.api.post_server_action()\n  call.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit c3aa302b4e4f7bfb273360fe0f0ff0e4bbcb78e0)\n(cherry picked from commit 95e22786e456f840f3caa4ab435fd39f05e7da47)\n(cherry picked from commit b6059dcd28a1f83e15b0f1c0d7e3121c94c8164c)\n'}, {'number': 18, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1032302c8e87e84e6a08397fe15625514136797a', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nNOTE(artom) Conflicts and changes:\n* Conflicts in nova/tests/functional/compute/test_live_migration.py due\n  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live\n  migration tests in ussuri and changing the context around this change.\n* Fix how we use the _build_server() helper to match how it works in\n  stable/train.\n* Stop using the _live_migrate() helper as it does not exist in\n  stable/train, and use an explicit self.api.post_server_action()\n  call.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)\n(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)\n(cherry picked from commit 58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8)\n'}]",4,844746,1032302c8e87e84e6a08397fe15625514136797a,46,2,18,8864,,,0,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

NOTE(artom) Conflicts and changes:
* Conflicts in nova/tests/functional/compute/test_live_migration.py due
  to 2c949cb3eea9cd9282060da12d32771582953aa2 adding Neutron live
  migration tests in ussuri and changing the context around this change.
* Fix how we use the _build_server() helper to match how it works in
  stable/train.
* Stop using the _live_migrate() helper as it does not exist in
  stable/train, and use an explicit self.api.post_server_action()
  call.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)
(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)
(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)
(cherry picked from commit 58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/46/844746/17 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_live_migration.py'],1,1f3a54dbc467bfff2a4981ee8037b3b408f33485,bug/1939545,"from oslo_serialization import jsonutilsfrom nova import contextfrom nova import objects * Launch a boot from volume instance on src * Assert that the expected source attachment is recorded in the bdm * Wrap pre_live_migration on the dest and assert that we switch over to the new attachment and connection_info on the dest. * Assert that the original src connection_info is in the bdm name='test_bfv_live_migration_failure', image_uuid='', networks='none', host='src' 'uuid': volume_id, # Assert that the instance has landed correctly on src self.assertEqual('src', server['OS-EXT-SRV-ATTR:host']) # Assert that this attachment_id is stashed in the connection_info # of the bdm so we can assert things again after the failure ctxt = context.get_admin_context() bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertEqual(src_attachment_id, bdm.attachment_id) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( src_attachment_id, connection_info['data']['attachment_id']) dest_pre_live_mig = self.computes['dest'].manager.pre_live_migration # Wrap pre_live_migration on the destination so we can assert that # we do switch over to the new attachment before the failure # and then later rollback to the source attachment def wrap_pre_live_migration(*args, **kwargs): # Continue with pre_live_migration before we assert anything migrate_data = dest_pre_live_mig(*args, **kwargs) # Assert that we now have two attachments in the fixture, one for # the src and another for the dest. attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(2, len(attachments)) # Assert that the dest attachment id is saved in the bdm # and the connection_info. bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertNotEqual(src_attachment_id, bdm.attachment_id) dest_attachment_id = bdm.attachment_id connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( dest_attachment_id, connection_info['data']['attachment_id']) return migrate_data with mock.patch.object( self.computes['dest'].manager, 'pre_live_migration', wrap_pre_live_migration ): # Migrate the instance and wait until the migration errors out # thanks to our mocked version of live_migration raising # TestingException self._live_migrate(server, 'error', server_expected_state='ERROR') self.assertEqual('src', server['OS-EXT-SRV-ATTR:host']) # Assert that the connection_info has reverted back to the src bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertEqual(src_attachment_id, bdm.attachment_id) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( src_attachment_id, connection_info['data']['attachment_id'])"," * Launch a boot from volume instance name='test_bfv_live_migration_failure', image_uuid='', networks='none' 'uuid': volume_id # Fetch the source host for use later src_host = server['OS-EXT-SRV-ATTR:host'] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of live_migration raising TestingException self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_migration_status(server, ['error']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host'])",72,13
openstack%2Fnova~stable%2Ftrain~Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,openstack/nova,stable/train,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,NEW,2022-06-05 16:59:52.000000000,2022-06-17 22:30:44.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-05 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0398b26f97930a76a0de210ae2d0697c33dd0d1c', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n(cherry picked from commit 5f70c6dbf716d2e031dfd368395a40e17d1bec5b)\n'}, {'number': 2, 'created': '2022-06-05 19:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a7ae8e171eb5b23152fbc26a49f6789a29f8687', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n(cherry picked from commit 5f70c6dbf716d2e031dfd368395a40e17d1bec5b)\n'}, {'number': 3, 'created': '2022-06-06 14:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e6b50761e7e5ad40a6b17a9fc54d510ad897515', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n(cherry picked from commit 5f70c6dbf716d2e031dfd368395a40e17d1bec5b)\n'}, {'number': 4, 'created': '2022-06-08 21:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b76e3475cad7749ef6e879e13310d465a17336c0', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n(cherry picked from commit 5f70c6dbf716d2e031dfd368395a40e17d1bec5b)\n'}, {'number': 5, 'created': '2022-06-15 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa11942a532686b571e0c5badc7565ad7b18907c', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n(cherry picked from commit 5f70c6dbf716d2e031dfd368395a40e17d1bec5b)\n'}, {'number': 6, 'created': '2022-06-17 17:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5ba23d7e5fd79f0c4834f289a056e3511f410b3', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit df36aa8807e7fbb4d3c9ed3729ab35121eebd878)\n(cherry picked from commit 5b487a4bd92df8239d81c4b0aad752dde2e8d73e)\n(cherry picked from commit 0708b2f72475eb01afbaa617ca59d35b72085443)\n'}, {'number': 7, 'created': '2022-06-17 19:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7644d80480eccd982c2fd64a6467c2f1b0f61337', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit 2737c52af0f8bac0d46d3e9d960093aed6ca9a76)\n(cherry picked from commit 5b24574c6485f4fb452be87db53652fc3f7fd001)\n(cherry picked from commit 6053d1373823e00388eb7253e7ec914ce86a91e6)\n'}, {'number': 8, 'created': '2022-06-17 21:23:13.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ea8d60f72592d31e7b84de7cc00ed8ad90e8b9d6', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)\n(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)\n(cherry picked from commit 48b04ccbd42c257c4978ff021ac0bb523ae51eb9)\n'}]",1,844744,ea8d60f72592d31e7b84de7cc00ed8ad90e8b9d6,23,2,8,8864,,,0,"fup: Make connection_info returned by CinderFixture unique per attachment

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)
(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)
(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)
(cherry picked from commit 48b04ccbd42c257c4978ff021ac0bb523ae51eb9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/44/844744/8 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,0398b26f97930a76a0de210ae2d0697c33dd0d1c,bug/1939545," # Dict of connection_info for the above volumes keyed by the volume id def _find_connection_info(volume_id, attachment_id): """"""Find the connection_info associated with an attachment :returns: A connection_info dict based on a deepcopy associated with the volume_id but containing the attachment_id, making it unique for the attachment. """""" connection_info = copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake') ) ) connection_info['data']['attachment_id'] = attachment_id return connection_info attachment['connection_info'] = _find_connection_info( volume_id, attachment_id) 'connection_info': _find_connection_info( volume_id, attachment_id) 'connection_info': _find_connection_info( volume_id, attachment_id)"," # Dict of connection_info for the above volumes key'd by the volume id # TODO(lyarwood): Make this unique and tracked per attachment somehow. connection_info = self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake')) attachment['connection_info'] = copy.deepcopy(connection_info) 'connection_info': copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake'))) 'connection_info': copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake')))",22,12
openstack%2Fneutron~stable%2Fyoga~I6cf1167d556f0c2c2aa2013f05c809648020b377,openstack/neutron,stable/yoga,I6cf1167d556f0c2c2aa2013f05c809648020b377,"Set ""type=virtual"" for OVN LSP with parent ports",MERGED,2022-06-15 09:22:15.000000000,2022-06-17 22:23:16.000000000,2022-06-17 22:21:44.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-15 09:22:15.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/316b55440ab7a2b27e0468a87545ee1db9e85b84', 'message': 'Set ""type=virtual"" for OVN LSP with parent ports\n\nThis is a follow-up of [1]. Before this patch, any virtual logical\nswitch port that was updated and the ""device_owner"" was not and empty\nstring, had its type set to \'\' (empty string).\n\nThis maintenance task, that is executed only once, lists all logical\nswitch ports, checks the presence or not of virtual parents and\nsets the type to ""virtual"" if needed.\n\nRelated-Bug: #1973276\n\n[1]https://review.opendev.org/c/openstack/neutron/+/841711\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: I6cf1167d556f0c2c2aa2013f05c809648020b377\n(cherry picked from commit 3c93da7bdf35c3be6081384b7f6d9a4ce13510d3)\n'}]",1,845906,316b55440ab7a2b27e0468a87545ee1db9e85b84,15,4,1,16688,,,0,"Set ""type=virtual"" for OVN LSP with parent ports

This is a follow-up of [1]. Before this patch, any virtual logical
switch port that was updated and the ""device_owner"" was not and empty
string, had its type set to '' (empty string).

This maintenance task, that is executed only once, lists all logical
switch ports, checks the presence or not of virtual parents and
sets the type to ""virtual"" if needed.

Related-Bug: #1973276

[1]https://review.opendev.org/c/openstack/neutron/+/841711

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: I6cf1167d556f0c2c2aa2013f05c809648020b377
(cherry picked from commit 3c93da7bdf35c3be6081384b7f6d9a4ce13510d3)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/845906/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",7,316b55440ab7a2b27e0468a87545ee1db9e85b84,bug/1973276," # TODO(ralonsoh): Remove this in the Z+4 cycle @periodics.periodic(spacing=600, run_immediately=True) def update_port_virtual_type(self): """"""Set type=virtual to those ports with parents Before LP#1973276, any virtual port with ""device_owner"" defined, lost its type=virtual. This task restores the type for those ports updated before the fix https://review.opendev.org/c/openstack/neutron/+/841711. """""" if not self.has_lock: return context = n_context.get_admin_context() cmds = [] for lsp in self._nb_idl.lsp_list().execute(check_error=True): if lsp.type != '': continue port = self._ovn_client._plugin.get_port(context, lsp.name) for ip in port.get('fixed_ips', []): if utils.get_virtual_port_parents( self._nb_idl, ip['ip_address'], port['network_id'], port['id']): cmds.append(self._nb_idl.db_set( 'Logical_Switch_Port', lsp.uuid, ('type', ovn_const.LSP_TYPE_VIRTUAL))) break if cmds: with self._nb_idl.transaction(check_error=True) as txn: for cmd in cmds: txn.add(cmd) raise periodics.NeverAgain() ",,71,39
openstack%2Fswift~master~I40b252446b3a1294a5ca8b531f224ce9c16f9aba,openstack/swift,master,I40b252446b3a1294a5ca8b531f224ce9c16f9aba,Fix s3api cross policy copy,MERGED,2022-06-17 16:49:11.000000000,2022-06-17 22:23:13.000000000,2022-06-17 22:21:57.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 16:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aa46c421aff4b8896ec335a4f5acb9cb51930a58', 'message': 'obvious fix and test\n\nChange-Id: I40b252446b3a1294a5ca8b531f224ce9c16f9aba\n'}, {'number': 2, 'created': '2022-06-17 16:53:29.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7a996a5c38f6c554b6a4389d3d6035cca87e922d', 'message': ""Fix s3api cross policy copy\n\nIn s3api's request object we copy backend headers into the request\nenviron for logging after we call get_response.  The problem with s3api\ncopy is that we make a pre-flight HEAD request to the source object\nusing the same request object, so the first response backend headers\npollute the request and the proxy won't over-ride the backend header\nwith the correct storage policy.\n\nAs a possible fix we simply remove the problematic header from the\nrequest object after the pre-flight HEAD request finishes.\n\nChange-Id: I40b252446b3a1294a5ca8b531f224ce9c16f9aba\n""}]",4,846428,7a996a5c38f6c554b6a4389d3d6035cca87e922d,10,2,2,1179,,,0,"Fix s3api cross policy copy

In s3api's request object we copy backend headers into the request
environ for logging after we call get_response.  The problem with s3api
copy is that we make a pre-flight HEAD request to the source object
using the same request object, so the first response backend headers
pollute the request and the proxy won't over-ride the backend header
with the correct storage policy.

As a possible fix we simply remove the problematic header from the
request object after the pre-flight HEAD request finishes.

Change-Id: I40b252446b3a1294a5ca8b531f224ce9c16f9aba
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/846428/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/helpers.py']",3,aa46c421aff4b8896ec335a4f5acb9cb51930a58,s3-cross-policy-copy-fix," req.headers['X-Backend-Storage-Policy-Index'] = headers.get( 'x-backend-storage-policy-index', '2')", req.headers['X-Backend-Storage-Policy-Index'] = '2',28,1
openstack%2Frequirements~master~Ie800f4856248c39f7cc70f094097b350baa078c2,openstack/requirements,master,Ie800f4856248c39f7cc70f094097b350baa078c2,Skip networkx 2.8.4,MERGED,2022-06-17 12:27:49.000000000,2022-06-17 22:23:03.000000000,2022-06-17 22:21:49.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 12:27:49.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/93a7ed6d5569c9311bc54474194b3b28cf52644c', 'message': 'Skip networkx 2.8.4\n\nnetworkx release 2.8.4 has a bug [0] that affects the Octavia doc job\n(via Taskflow), skip this version.\n\n[0] https://github.com/networkx/networkx/issues/5790\n\nChange-Id: Ie800f4856248c39f7cc70f094097b350baa078c2\n'}]",0,846348,93a7ed6d5569c9311bc54474194b3b28cf52644c,9,2,1,29244,,,0,"Skip networkx 2.8.4

networkx release 2.8.4 has a bug [0] that affects the Octavia doc job
(via Taskflow), skip this version.

[0] https://github.com/networkx/networkx/issues/5790

Change-Id: Ie800f4856248c39f7cc70f094097b350baa078c2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/846348/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,93a7ed6d5569c9311bc54474194b3b28cf52644c,,networkx===2.8.3,networkx===2.8.4,2,2
openstack%2Frequirements~stable%2Fxena~I5bb7d7a7b7f5cb509c5a9086b2478259661305ad,openstack/requirements,stable/xena,I5bb7d7a7b7f5cb509c5a9086b2478259661305ad,update constraint for python-designateclient to new release 4.3.1,MERGED,2022-06-17 10:19:30.000000000,2022-06-17 22:21:52.000000000,2022-06-17 22:21:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:19:30.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/03061a94bf2b6e856d5ea8436d7e8d54a8bbc4e4', 'message': 'update constraint for python-designateclient to new release 4.3.1\n\nmeta: version: 4.3.1\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Change-Id: Ie2188d20a5bbea269c38a7bbdfd4795093c0e917\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I5bb7d7a7b7f5cb509c5a9086b2478259661305ad\n'}]",0,846300,03061a94bf2b6e856d5ea8436d7e8d54a8bbc4e4,10,2,1,11131,,,0,"update constraint for python-designateclient to new release 4.3.1

meta: version: 4.3.1
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: Ie2188d20a5bbea269c38a7bbdfd4795093c0e917
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I5bb7d7a7b7f5cb509c5a9086b2478259661305ad
",git fetch https://review.opendev.org/openstack/requirements refs/changes/00/846300/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,03061a94bf2b6e856d5ea8436d7e8d54a8bbc4e4,new-release,python-designateclient===4.3.1,python-designateclient===4.3.0,1,1
openstack%2Fnova~stable%2Fussuri~Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,openstack/nova,stable/ussuri,Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa,fup: Make connection_info returned by CinderFixture unique per attachment,NEW,2022-06-03 15:19:05.000000000,2022-06-17 21:52:15.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f70c6dbf716d2e031dfd368395a40e17d1bec5b', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n'}, {'number': 2, 'created': '2022-06-16 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c18fd3d8f0a4360ad204a71fe36c8d7127ef70d2', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n'}, {'number': 3, 'created': '2022-06-16 17:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ad1e8713ad2d0d1b999ca3728f752afbbd6944d', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit f76fdd63cd350a20b0a0bf4605130d7796702b8a)\n(cherry picked from commit 3b138ac9f4a716e6c6155c595425c2a304366d97)\n'}, {'number': 4, 'created': '2022-06-17 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0708b2f72475eb01afbaa617ca59d35b72085443', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit df36aa8807e7fbb4d3c9ed3729ab35121eebd878)\n(cherry picked from commit 5b487a4bd92df8239d81c4b0aad752dde2e8d73e)\n'}, {'number': 5, 'created': '2022-06-17 19:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6053d1373823e00388eb7253e7ec914ce86a91e6', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit 2737c52af0f8bac0d46d3e9d960093aed6ca9a76)\n(cherry picked from commit 5b24574c6485f4fb452be87db53652fc3f7fd001)\n'}, {'number': 6, 'created': '2022-06-17 21:19:51.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/48b04ccbd42c257c4978ff021ac0bb523ae51eb9', 'message': 'fup: Make connection_info returned by CinderFixture unique per attachment\n\nChange-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa\n(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)\n(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)\n(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)\n'}]",1,844606,48b04ccbd42c257c4978ff021ac0bb523ae51eb9,19,2,6,8864,,,0,"fup: Make connection_info returned by CinderFixture unique per attachment

Change-Id: Iff3a3d13fb43357b4ae6fcd52b6197635e1c00fa
(cherry picked from commit d4cc10d7bbc1448ae8a38da63ebe2ee8c3243d30)
(cherry picked from commit 8e008925343f27f017b8c3d6d49a2cfa2aea8aeb)
(cherry picked from commit a26bdac24c1eb2e6503bd2683c935799096d93e9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/844606/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,5f70c6dbf716d2e031dfd368395a40e17d1bec5b,bug/1939545," # Dict of connection_info for the above volumes keyed by the volume id def _find_connection_info(volume_id, attachment_id): """"""Find the connection_info associated with an attachment :returns: A connection_info dict based on a deepcopy associated with the volume_id but containing the attachment_id, making it unique for the attachment. """""" connection_info = copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake') ) ) connection_info['data']['attachment_id'] = attachment_id return connection_info attachment['connection_info'] = _find_connection_info( volume_id, attachment_id) 'connection_info': _find_connection_info( volume_id, attachment_id) 'connection_info': _find_connection_info( volume_id, attachment_id)"," # Dict of connection_info for the above volumes key'd by the volume id # TODO(lyarwood): Make this unique and tracked per attachment somehow. connection_info = self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake')) attachment['connection_info'] = copy.deepcopy(connection_info) 'connection_info': copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake'))) 'connection_info': copy.deepcopy( self.VOLUME_CONNECTION_INFO.get( volume_id, self.VOLUME_CONNECTION_INFO.get('fake')))",22,12
openstack%2Fnova~stable%2Fussuri~I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,openstack/nova,stable/ussuri,I3f1073d70e4332737e33f3c9c00cf129d0ef76b4,Add a regression test for bug 1939545,NEW,2022-05-30 18:38:21.000000000,2022-06-17 21:50:55.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 18:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47938c4891a72373486b2357e005ba464f55c3ce', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 57cab3144860b2a34b661dba8290b3687d9ce365)\n(cherry picked from commit 42a6589091b480578a9e2d79d7d3b64e57dca611)\n""}, {'number': 2, 'created': '2022-06-02 17:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a74bf7d9696077b59b8fb5555aa4b3c0a20619cf', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Adjustments to make this work on stable/ussuri:\n* Use the old-style self.start_computes() helper, as\n  self.start_compute() didn't exist yet.\n* Explicitly use the CinderFixture, since the base class doesn't do\n  this for us.\n* Pass the 'completed' migration status to the self._live_migrate()\n  helper.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 57cab3144860b2a34b661dba8290b3687d9ce365)\n(cherry picked from commit 79e7dc3889a1aea0c72838ffe22980004c6ee493)\n""}, {'number': 3, 'created': '2022-06-03 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d59e5b4e5f1e2d2de22ad67b2aea0c0e9a8c9d8b', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Adjustments to make this work on stable/ussuri:\n* Use the old-style self.start_computes() helper, as\n  self.start_compute() didn't exist yet.\n* Explicitly use the CinderFixture, since the base class doesn't do\n  this for us.\n* Pass the 'completed' migration status to the self._live_migrate()\n  helper.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 57cab3144860b2a34b661dba8290b3687d9ce365)\n(cherry picked from commit 79e7dc3889a1aea0c72838ffe22980004c6ee493)\n""}, {'number': 4, 'created': '2022-06-16 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa5258c160c2e4d2dd9b5f76e7359dd6c7c9d270', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Adjustments to make this work on stable/ussuri:\n* Use the old-style self.start_computes() helper, as\n  self.start_compute() didn't exist yet.\n* Explicitly use the CinderFixture, since the base class doesn't do\n  this for us.\n* Pass the 'completed' migration status to the self._live_migrate()\n  helper.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 57cab3144860b2a34b661dba8290b3687d9ce365)\n(cherry picked from commit 79e7dc3889a1aea0c72838ffe22980004c6ee493)\n""}, {'number': 5, 'created': '2022-06-16 17:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e861aee5e7f344b3308e4ebe3c7d5c4c5f2cc8d9', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Adjustments to make this work on stable/ussuri:\n* Use the old-style self.start_computes() helper, as\n  self.start_compute() didn't exist yet.\n* Explicitly use the CinderFixture, since the base class doesn't do\n  this for us.\n* Pass the 'completed' migration status to the self._live_migrate()\n  helper.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 57cab3144860b2a34b661dba8290b3687d9ce365)\n(cherry picked from commit 79e7dc3889a1aea0c72838ffe22980004c6ee493)\n""}, {'number': 6, 'created': '2022-06-17 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7df4197482210ba0912a99d68ac5e6974ce96e3c', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Adjustments to make this work on stable/ussuri:\n* Use the old-style self.start_computes() helper, as\n  self.start_compute() didn't exist yet.\n* Explicitly use the CinderFixture, since the base class doesn't do\n  this for us.\n* Pass the 'completed' migration status to the self._live_migrate()\n  helper.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 44ec33ded0f154e487c2ce1ec45509696fac806c)\n(cherry picked from commit 0de53e24739af7284327d9e0a79909bac7c7f9fa)\n""}, {'number': 7, 'created': '2022-06-17 19:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f7b98861a387c1d90616899832ef7a9a0d92543', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Adjustments to make this work on stable/ussuri:\n* Use the old-style self.start_computes() helper, as\n  self.start_compute() didn't exist yet.\n* Explicitly use the CinderFixture, since the base class doesn't do\n  this for us.\n* Pass the 'completed' migration status to the self._live_migrate()\n  helper.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 093d8bc637d47f92cdba830cc71a8204b6e0bde7)\n(cherry picked from commit 4c599d0690e238c2b7224a28c54218d55e065e11)\n""}, {'number': 8, 'created': '2022-06-17 21:19:51.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15bde1b68d10f940a349e46b4bd5abaafc5899ef', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nNOTE(artom) Adjustments to make this work on stable/ussuri:\n* Use the old-style self.start_computes() helper, as\n  self.start_compute() didn't exist yet.\n* Explicitly use the CinderFixture, since the base class doesn't do\n  this for us.\n* Pass the 'completed' migration status to the self._live_migrate()\n  helper.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)\n(cherry picked from commit 9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5)\n(cherry picked from commit 02854cc4458f1a68deaf840a49f7cab7aed0cb05)\n""}]",3,843951,15bde1b68d10f940a349e46b4bd5abaafc5899ef,25,2,8,8864,,,0,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

NOTE(artom) Adjustments to make this work on stable/ussuri:
* Use the old-style self.start_computes() helper, as
  self.start_compute() didn't exist yet.
* Explicitly use the CinderFixture, since the base class doesn't do
  this for us.
* Pass the 'completed' migration status to the self._live_migrate()
  helper.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
(cherry picked from commit 268b7169554f871d3813d78e79861934d086484d)
(cherry picked from commit 9f7b81c4cfe9f6a41fb28ec3b9d20616817ceab5)
(cherry picked from commit 02854cc4458f1a68deaf840a49f7cab7aed0cb05)
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/843951/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",2,47938c4891a72373486b2357e005ba464f55c3ce,bug/1939545,"# Copyright 2021, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock from oslo_serialization import jsonutils from nova import context from nova import objects from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.functional.libvirt import base from nova.tests.unit.virt.libvirt import fakelibvirt from nova.tests.unit.virt.libvirt import fake_os_brick_connector class TestLiveMigrateUpdateDevicePath( base.ServersTestBase, integrated_helpers.InstanceHelperMixin ): """"""Regression test for bug 1939545 Assert the behaviour of the libvirt driver during pre_live_migration with instances that have block based volumes attached. Bug #1939545 covering the case where the returned path from os-brick isn't being saved into the connection_info of the associated bdm in Nova. """""" api_major_version = 'v2.1' microversion = 'latest' ADMIN_API = True def setUp(self): super().setUp() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.connector', fake_os_brick_connector)) # TODO(lyarwood): Move into base.ServersTestBase to allow live # migrations to pass without changes by the test classes. self.useFixture(fixtures.MonkeyPatch( 'nova.tests.fixtures.libvirt.Domain.migrateToURI3', self._migrate_stub)) self.start_compute( hostname='src', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.start_compute( hostname='dest', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) def _migrate_stub(self, domain, destination, params, flags): dest = self.computes['dest'] dest.driver._host.get_connection().createXML( params['destination_xml'], 'fake-createXML-doesnt-care-about-flags') source = self.computes['src'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server['id']) dom.complete_job() # TODO(lyarwood): Move this into the os-brick fixture and repeat for all # provided connectors at runtime. @mock.patch( 'os_brick.initiator.connectors.iscsi.ISCSIConnector.connect_volume') @mock.patch( 'os_brick.initiator.connectors.iscsi.ISCSIConnector.disconnect_volume') def test_live_migrate_update_device_path( self, mock_disconnect_volume, mock_connect_volume ): self.server = self._create_server(host='src', networks='none') volume_id = self.cinder.ISCSI_BACKED_VOL # TODO(lyarwood): As above, move this into the os-brick fixture. mock_connect_volume.return_value = {'path': '/dev/sda'} self.api.post_server_volume( self.server['id'], {'volumeAttachment': {'volumeId': volume_id}}) # Get the volume bdm and assert that the connection_info is set with # device_path from the volume driver. ctxt = context.get_admin_context() bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, self.server['id']) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('device_path', connection_info.get('data')) # Live migrate the instance to another host self._live_migrate(self.server) # FIXME(lyarwood): This is bug #1939545, again get the volume bdm and # assert that the saved connection_info doesn't contain device_path. bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, self.server['id']) connection_info = jsonutils.loads(bdm.connection_info) self.assertNotIn('device_path', connection_info.get('data')) ",,155,13
openstack%2Fnova~stable%2Fussuri~Ib8009f38f20b008d08148f7f591af13b1ca5b420,openstack/nova,stable/ussuri,Ib8009f38f20b008d08148f7f591af13b1ca5b420,fup: Assert state of connection_info during LM rollback in func tests,NEW,2022-06-03 15:19:05.000000000,2022-06-17 21:50:10.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6cdd1504cd33067a2ba56189ee61e65639126ce2', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n'}, {'number': 2, 'created': '2022-06-16 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c62b8813b17129706c3b644dfce9005349ba1278', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n'}, {'number': 3, 'created': '2022-06-16 17:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/923c2dc85aa12f416ba2bf2ff40eaf79c4736137', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 53d37de10ff5e389f2916b43a2246b62fb6af23d)\n(cherry picked from commit f1c931c992c95f10ab30f709ac101fd76a4ec406)\n'}, {'number': 4, 'created': '2022-06-17 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bac8397cc0b7169668ce8240f16a2fa2a55cce19', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit 3d9a91329838a494671e407a0f35c33d55369172)\n(cherry picked from commit 5a660194218b78798e46531fcdc323bcbc346a18)\n'}, {'number': 5, 'created': '2022-06-17 19:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6059dcd28a1f83e15b0f1c0d7e3121c94c8164c', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit c3aa302b4e4f7bfb273360fe0f0ff0e4bbcb78e0)\n(cherry picked from commit 95e22786e456f840f3caa4ab435fd39f05e7da47)\n'}, {'number': 6, 'created': '2022-06-17 21:19:51.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8', 'message': 'fup: Assert state of connection_info during LM rollback in func tests\n\nThis came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as\nsomething we should be asserting in our func tests somewhere. I had\nthought it already was but this is as close as we got. Add that coverage\nhere.\n\nChange-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420\n(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)\n(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)\n(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)\n'}]",1,844607,58264ad5bb8c3b2e64f7a0d5d02461ec26d802f8,19,2,6,8864,,,0,"fup: Assert state of connection_info during LM rollback in func tests

This came up during Iea8896682fc28e3a5cd25afa45238272bee745e1 as
something we should be asserting in our func tests somewhere. I had
thought it already was but this is as close as we got. Add that coverage
here.

Change-Id: Ib8009f38f20b008d08148f7f591af13b1ca5b420
(cherry picked from commit 31bedfc09c1d35242e0b8101343f6e64ac63157d)
(cherry picked from commit c248986eeb8e9b9c3586c83b01663d3585132c3f)
(cherry picked from commit 212ef3e9753a3bc6cd1dbd6aa1bd48fd56fbbf96)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/844607/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_live_migration.py'],1,6cdd1504cd33067a2ba56189ee61e65639126ce2,bug/1939545,"from oslo_serialization import jsonutilsfrom nova import contextfrom nova import objects * Launch a boot from volume instance on src * Assert that the expected source attachment is recorded in the bdm * Wrap pre_live_migration on the dest and assert that we switch over to the new attachment and connection_info on the dest. * Assert that the original src connection_info is in the bdm name='test_bfv_live_migration_failure', image_uuid='', networks='none', host='src' 'uuid': volume_id, # Assert that the instance has landed correctly on src self.assertEqual('src', server['OS-EXT-SRV-ATTR:host']) # Assert that this attachment_id is stashed in the connection_info # of the bdm so we can assert things again after the failure ctxt = context.get_admin_context() bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertEqual(src_attachment_id, bdm.attachment_id) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( src_attachment_id, connection_info['data']['attachment_id']) dest_pre_live_mig = self.computes['dest'].manager.pre_live_migration # Wrap pre_live_migration on the destination so we can assert that # we do switch over to the new attachment before the failure # and then later rollback to the source attachment def wrap_pre_live_migration(*args, **kwargs): # Continue with pre_live_migration before we assert anything migrate_data = dest_pre_live_mig(*args, **kwargs) # Assert that we now have two attachments in the fixture, one for # the src and another for the dest. attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(2, len(attachments)) # Assert that the dest attachment id is saved in the bdm # and the connection_info. bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertNotEqual(src_attachment_id, bdm.attachment_id) dest_attachment_id = bdm.attachment_id connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( dest_attachment_id, connection_info['data']['attachment_id']) return migrate_data with mock.patch.object( self.computes['dest'].manager, 'pre_live_migration', wrap_pre_live_migration ): # Migrate the instance and wait until the migration errors out # thanks to our mocked version of live_migration raising # TestingException self._live_migrate(server, 'error', server_expected_state='ERROR') self.assertEqual('src', server['OS-EXT-SRV-ATTR:host']) # Assert that the connection_info has reverted back to the src bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, server['id']) self.assertEqual(src_attachment_id, bdm.attachment_id) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('attachment_id', connection_info['data']) self.assertEqual( src_attachment_id, connection_info['data']['attachment_id']) "," * Launch a boot from volume instance name='test_bfv_live_migration_failure', image_uuid='', networks='none' 'uuid': volume_id # Fetch the source host for use later src_host = server['OS-EXT-SRV-ATTR:host'] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of live_migration raising TestingException self._live_migrate(server, 'error', server_expected_state='ERROR') self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host'])",72,10
openstack%2Fopenstack-ansible~master~I30337ffac1ff49793af983207c4619091a1d1677,openstack/openstack-ansible,master,I30337ffac1ff49793af983207c4619091a1d1677,"Revert ""Add release note about Ceph-Ansible deprecation""",MERGED,2022-06-17 19:39:59.000000000,2022-06-17 20:54:44.000000000,2022-06-17 20:51:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-17 19:39:59.000000000', 'files': ['releasenotes/notes/ceph_ansible-3fcd9643b53a4b29.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f5fcdb029e5f8aa50d433eaa8eadccc202d05445', 'message': 'Revert ""Add release note about Ceph-Ansible deprecation""\n\nThis reverts commit f6429b558f744c7dce05bd9484c2ed0ec6f6dae1.\n\nReason for revert: Ceph-Ansible removed deprecation/non-supported note. we also had some ideas on contributing to it.\n\nChange-Id: I30337ffac1ff49793af983207c4619091a1d1677\n'}]",0,846259,f5fcdb029e5f8aa50d433eaa8eadccc202d05445,8,4,1,28619,,,0,"Revert ""Add release note about Ceph-Ansible deprecation""

This reverts commit f6429b558f744c7dce05bd9484c2ed0ec6f6dae1.

Reason for revert: Ceph-Ansible removed deprecation/non-supported note. we also had some ideas on contributing to it.

Change-Id: I30337ffac1ff49793af983207c4619091a1d1677
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/846259/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ceph_ansible-3fcd9643b53a4b29.yaml'],1,f5fcdb029e5f8aa50d433eaa8eadccc202d05445,,,"--- deprecations: - | Ceph-ansible has been deprecated by upstream maintainers in favor of cephadm [1]. With that we don't have any other choice rather than deprecate Ceph deployment with Ceph Ansible. It's still available in Yoga, but will be removed in the future releases. [1] https://github.com/ceph/ceph-ansible/commit/893944102743dad302249a45e3b2682d325ee2e5 ",0,9
openstack%2Fopenstack-ansible~master~I26c98c3a6f2252fefd3b45629d43a9cc41bd3cef,openstack/openstack-ansible,master,I26c98c3a6f2252fefd3b45629d43a9cc41bd3cef,Update magnum tags and images for CI,MERGED,2022-06-16 10:03:47.000000000,2022-06-17 20:53:23.000000000,2022-06-17 20:51:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-16 10:03:47.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3881b5c7cb419b67047a09c76842b3c738547f3b', 'message': 'Update magnum tags and images for CI\n\nOn Yoga defaults for Magnum went on and new images and k8s tags\nshould be used and tested.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_magnum/+/845993\nChange-Id: I26c98c3a6f2252fefd3b45629d43a9cc41bd3cef\n'}]",0,846145,3881b5c7cb419b67047a09c76842b3c738547f3b,10,3,1,28619,,,0,"Update magnum tags and images for CI

On Yoga defaults for Magnum went on and new images and k8s tags
should be used and tested.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_magnum/+/845993
Change-Id: I26c98c3a6f2252fefd3b45629d43a9cc41bd3cef
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/846145/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'],1,3881b5c7cb419b67047a09c76842b3c738547f3b,," file: https://builds.coreos.fedoraproject.org/prod/streams/stable/builds/35.20220424.3.0/x86_64/fedora-coreos-35.20220424.3.0-openstack.x86_64.qcow2.xz checksum: ""sha256:55e1741989ee38fb023528bfc9038f6362cae472aeb724add02309e47aa6acbd"" kube_tag: v1.23.3-rancher1 etcd_tag: 3.4.6 kube_version: v1.23.3 cloud_provider_tag: v1.23.1"," file: https://builds.coreos.fedoraproject.org/prod/streams/stable/builds/33.20210117.3.2/x86_64/fedora-coreos-33.20210117.3.2-openstack.x86_64.qcow2.xz checksum: ""sha256:e7604b7ca881b01befa3a3759b40b17836cafc1cb521c00f3cddef4dc1229595"" kube_tag: v1.18.2 etcd_tag: 3.3.17 kube_version: v1.18.2 cloud_provider_tag: v1.15.0",6,6
openstack%2Fopenstack-ansible~master~Ia17c6df379957cb73092c65d0940eefa9b523a28,openstack/openstack-ansible,master,Ia17c6df379957cb73092c65d0940eefa9b523a28,Limit the number of wsgi process to 1.,MERGED,2022-06-17 14:12:31.000000000,2022-06-17 20:51:34.000000000,2022-06-17 20:51:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-17 14:12:31.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/16440ef7f45aba94d6f6bcd7ea48696978cba1c2', 'message': 'Limit the number of wsgi process to 1.\n\nIn order to use les smemory we scale down the number of wsgi process to\n1 for all openstack services.\n\nChange-Id: Ia17c6df379957cb73092c65d0940eefa9b523a28\n'}]",0,846385,16440ef7f45aba94d6f6bcd7ea48696978cba1c2,7,3,1,13095,,,0,"Limit the number of wsgi process to 1.

In order to use les smemory we scale down the number of wsgi process to
1 for all openstack services.

Change-Id: Ia17c6df379957cb73092c65d0940eefa9b523a28
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/846385/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,16440ef7f45aba94d6f6bcd7ea48696978cba1c2,wsgi-process,keystone_wsgi_processes: 1barbican_wsgi_processes: 1cinder_wsgi_processes: 1cinder_osapi_volume_workers_max: 1cloudkitty_wsgi_processes: 1glance_wsgi_processes: 1placement_wsgi_processes: 1manila_wsgi_processes: 1mistral_wsgi_processes: 1nova_wsgi_processes: 1neutron_wsgi_processes: 1octavia_wsgi_processes: 1sahara_wsgi_processes: 1zun_wsgi_processes: 1,keystone_wsgi_processes_max: 2barbican_wsgi_processes: 2cinder_wsgi_processes_max: 2cinder_osapi_volume_workers_max: 2cloudkitty_wsgi_processes_max: 2glance_api_threads_max: 2glance_wsgi_processes_max: 2 glance_wsgi_processes: 2placement_wsgi_processes_max: 2 placement_wsgi_processes: 2manila_wsgi_processes_max: 2 manila_wsgi_processes: 2mistral_wsgi_processes_max: 2nova_wsgi_processes_max: 2 nova_wsgi_processes: 2nova_api_threads_max: 2neutron_api_threads_max: 2neutron_wsgi_processes: 2octavia_wsgi_processes_max: 2 octavia_wsgi_processes: 2heat_api_threads_max: 2heat_wsgi_processes_max: 2horizon_wsgi_threads_max: 2ceilometer_notification_workers_max: 2aodh_wsgi_processes_max: 2gnocchi_wsgi_processes_max: 2swift_proxy_server_workers_max: 2ironic_wsgi_processes_max: 2ironic_inspector_wsgi_processes_max: 2trove_api_workers_max: 2trove_conductor_workers_max: 2trove_wsgi_processes_max: 2sahara_api_workers_max: 2sahara_wsgi_processes_max: 2 sahara_wsgi_processes: 2zun_api_threads_max: 2zun_wsgi_processes_max: 2 zun_wsgi_processes: 2,14,38
openstack%2Fopenstack-ansible~master~I7e0e6dcc72fa8b4e6be1f8c17f752eefe6bd36bf,openstack/openstack-ansible,master,I7e0e6dcc72fa8b4e6be1f8c17f752eefe6bd36bf,Set the max number of gnicchi-metricd workers,MERGED,2022-06-17 12:35:22.000000000,2022-06-17 20:34:52.000000000,2022-06-17 20:32:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-17 12:35:22.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d9803d25dece69f620c8447028a478f6b11e61af', 'message': 'Set the max number of gnicchi-metricd workers\n\nChange-Id: I7e0e6dcc72fa8b4e6be1f8c17f752eefe6bd36bf\n'}]",0,846349,d9803d25dece69f620c8447028a478f6b11e61af,8,3,1,13095,,,0,"Set the max number of gnicchi-metricd workers

Change-Id: I7e0e6dcc72fa8b4e6be1f8c17f752eefe6bd36bf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/846349/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,d9803d25dece69f620c8447028a478f6b11e61af,gnocchi_workers,gnocchi_metricd_workers: 1,,1,0
openstack%2Fopenstack-ansible~stable%2Fxena~I325dee6ec071b6675bcfdadaf884ce8c26cf1ae9,openstack/openstack-ansible,stable/xena,I325dee6ec071b6675bcfdadaf884ce8c26cf1ae9,Install rally only when rally_install is set,MERGED,2022-06-14 14:54:54.000000000,2022-06-17 20:34:49.000000000,2022-06-17 20:32:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 14:54:54.000000000', 'files': ['playbooks/os-rally-install.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93280fe48b6184d6f9bd959514d53bf68792a815', 'message': 'Install rally only when rally_install is set\n\nCurrently we install rally regardless of user will.\nIt is default behaviour which is not possible to override.\nSo we add rally_install variable which defaults to false to control\nwhether to proceed with rally installation or not.\n\nChange-Id: I325dee6ec071b6675bcfdadaf884ce8c26cf1ae9\n(cherry picked from commit 65c4d7ca432ec36915295a6c7167800a8acda5b0)\n'}]",5,845684,93280fe48b6184d6f9bd959514d53bf68792a815,23,4,1,28619,,,0,"Install rally only when rally_install is set

Currently we install rally regardless of user will.
It is default behaviour which is not possible to override.
So we add rally_install variable which defaults to false to control
whether to proceed with rally installation or not.

Change-Id: I325dee6ec071b6675bcfdadaf884ce8c26cf1ae9
(cherry picked from commit 65c4d7ca432ec36915295a6c7167800a8acda5b0)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/845684/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-rally-install.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2']",2,93280fe48b6184d6f9bd959514d53bf68792a815,,rally_install: yes,,5,0
openstack%2Fpuppet-glance~master~Iacebc227e074da592aa0ca8ff6f8226f3e850a66,openstack/puppet-glance,master,Iacebc227e074da592aa0ca8ff6f8226f3e850a66,Fix typos in parameter descriptions,MERGED,2022-06-17 10:11:46.000000000,2022-06-17 20:03:25.000000000,2022-06-17 20:03:25.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/79993c29416c982db3fe0fa5256b59e64e20b8df', 'message': 'Fix typos in parameter descriptions\n\nChange-Id: Iacebc227e074da592aa0ca8ff6f8226f3e850a66\n'}, {'number': 2, 'created': '2022-06-17 16:17:30.000000000', 'files': ['manifests/api/logging.pp', 'manifests/backend/cinder.pp', 'manifests/backend/multistore/s3.pp', 'manifests/limit.pp', 'manifests/backend/multistore/rbd.pp', 'manifests/notify/rabbitmq.pp', 'manifests/api.pp', 'manifests/backend/multistore/cinder.pp', 'manifests/backend/multistore/file.pp', 'manifests/backend/rbd.pp', 'manifests/client.pp', 'manifests/deps.pp', 'manifests/healthcheck.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/499a898468c4b22fbe16eae3216ac0293c91f275', 'message': 'Fix typos in parameter descriptions\n\nChange-Id: Iacebc227e074da592aa0ca8ff6f8226f3e850a66\n'}]",5,846294,499a898468c4b22fbe16eae3216ac0293c91f275,15,5,2,20733,,,0,"Fix typos in parameter descriptions

Change-Id: Iacebc227e074da592aa0ca8ff6f8226f3e850a66
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/94/846294/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api/logging.pp', 'manifests/backend/cinder.pp', 'manifests/backend/multistore/s3.pp', 'manifests/limit.pp', 'manifests/backend/multistore/rbd.pp', 'manifests/notify/rabbitmq.pp', 'manifests/api.pp', 'manifests/backend/multistore/cinder.pp', 'manifests/backend/multistore/file.pp', 'manifests/backend/rbd.pp', 'manifests/client.pp', 'manifests/deps.pp', 'manifests/healthcheck.pp', 'manifests/keystone/auth.pp']",14,79993c29416c982db3fe0fa5256b59e64e20b8df,param-typos,# (Optional) The endpoint's public url.,# (0ptional) The endpoint's public url.,18,18
openstack%2Fopenstack-ansible-os_octavia~master~I9dd6fcea23154f781ec111a0927a26aba28954f1,openstack/openstack-ansible-os_octavia,master,I9dd6fcea23154f781ec111a0927a26aba28954f1,Set CentOS 9 Stream as NV,MERGED,2022-06-17 12:35:54.000000000,2022-06-17 20:01:57.000000000,2022-06-17 19:59:45.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-06-17 12:35:54.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/fbdfd529d886aa7174fb6bbbc42e2ec295682fd9', 'message': 'Set CentOS 9 Stream as NV\n\nCurrently CentOS 9 Stream hits libvirt bug [1] that occurs on attaching\ninterface to running VM. Octavia is most affected by that as this is\npart of usual workflow.\nFix for the bug has been already proposed and should be released\nquite soon. Not to spend a lot of time on that, we rather wait for new\nlibvirt version to be released  for CentOS 9 Stream and until then\nset jobs as NV.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2092856\n\nChange-Id: I9dd6fcea23154f781ec111a0927a26aba28954f1\n'}]",0,846350,fbdfd529d886aa7174fb6bbbc42e2ec295682fd9,8,3,1,28619,,,0,"Set CentOS 9 Stream as NV

Currently CentOS 9 Stream hits libvirt bug [1] that occurs on attaching
interface to running VM. Octavia is most affected by that as this is
part of usual workflow.
Fix for the bug has been already proposed and should be released
quite soon. Not to spend a lot of time on that, we rather wait for new
libvirt version to be released  for CentOS 9 Stream and until then
set jobs as NV.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2092856

Change-Id: I9dd6fcea23154f781ec111a0927a26aba28954f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/50/846350/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fbdfd529d886aa7174fb6bbbc42e2ec295682fd9,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-9-stream: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-9-stream: voting: false,,9,0
openstack%2Fnova~stable%2Ftrain~I066fb5617bae944a03273049117fc2b5bf329283,openstack/nova,stable/train,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,NEW,2022-05-30 20:25:37.000000000,2022-06-17 19:59:08.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 20:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8503e8868275593c1a9adc23a88695af487969fe', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit c5bed50368196cdc45d1dfa68da927a0a7bc0ff8)\n(cherry picked from commit 113414eaf4d74f0ec257bf3a3ff7836dffc6dd07)\n(cherry picked from commit f48591c7f367bddf38ef91dd868c3f35ef1be425)\n""}, {'number': 2, 'created': '2022-06-05 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9e7081c426e6d8fa8d23ab68b8fd6bf32bbe977', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit c5bed50368196cdc45d1dfa68da927a0a7bc0ff8)\n(cherry picked from commit 113414eaf4d74f0ec257bf3a3ff7836dffc6dd07)\n(cherry picked from commit ec73ce4022a600896b25186715e17b3dcb2f6cc8)\n""}, {'number': 3, 'created': '2022-06-15 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/911a686ba3266d636c09f6dc357ad55970529bad', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit c5bed50368196cdc45d1dfa68da927a0a7bc0ff8)\n(cherry picked from commit 113414eaf4d74f0ec257bf3a3ff7836dffc6dd07)\n(cherry picked from commit ec73ce4022a600896b25186715e17b3dcb2f6cc8)\n""}, {'number': 4, 'created': '2022-06-17 17:18:07.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d719add14f3c97e17ee3c385374c476d70e5cc10', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)\n(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)\n(cherry picked from commit 62106532d010808c3609be89ac3c6485eba7bacd)\n""}]",1,843958,d719add14f3c97e17ee3c385374c476d70e5cc10,14,2,4,8864,,,0,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)
(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)
(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)
(cherry picked from commit 62106532d010808c3609be89ac3c6485eba7bacd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/843958/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py']",3,8503e8868275593c1a9adc23a88695af487969fe,bug/1939545, # TODO(lyarwood): This is no longer used and should be removed.,,31,19
openstack%2Fneutron~master~Id2239b6827485a4d466b0916947428ceabef9139,openstack/neutron,master,Id2239b6827485a4d466b0916947428ceabef9139,"Fix ""ip route"" commands to work with pyroute2 APIv2",MERGED,2022-06-17 08:37:24.000000000,2022-06-17 19:45:38.000000000,2022-06-17 13:33:14.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-06-17 08:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/524518b2385c6019aa21a10d5afc8ca3f5b9584f', 'message': 'Fix ""ip route"" commands to work with pyroute2 APIv2\n\nFixed ""ip route"" commands to work with pyroute2 >= 0.6.10, that\nintroduces APIv2 for link, neighbour and route [1].\n\n[1]https://github.com/svinota/pyroute2/commit/bc0f5e2209a937fdec6e9931ca7b3c45c0278f31\n\nCloses-Bug: #1979031\nChange-Id: Id2239b6827485a4d466b0916947428ceabef9139\n'}, {'number': 2, 'created': '2022-06-17 08:39:58.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dbcd76517fead73f91adaab9cdaf0e92a4aff4e', 'message': 'Fix ""ip route"" commands to work with pyroute2 APIv2\n\nFixed ""ip route"" commands to work with pyroute2 >= 0.6.10, that\nintroduces APIv2 for link, neighbour and route [1].\n\n[1]https://github.com/svinota/pyroute2/commit/bc0f5e2209a937fdec6e9931ca7b3c45c0278f31\n\nCloses-Bug: #1979031\nChange-Id: Id2239b6827485a4d466b0916947428ceabef9139\n'}]",0,846286,4dbcd76517fead73f91adaab9cdaf0e92a4aff4e,14,8,2,16688,,,0,"Fix ""ip route"" commands to work with pyroute2 APIv2

Fixed ""ip route"" commands to work with pyroute2 >= 0.6.10, that
introduces APIv2 for link, neighbour and route [1].

[1]https://github.com/svinota/pyroute2/commit/bc0f5e2209a937fdec6e9931ca7b3c45c0278f31

Closes-Bug: #1979031
Change-Id: Id2239b6827485a4d466b0916947428ceabef9139
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/846286/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",3,524518b2385c6019aa21a10d5afc8ca3f5b9584f,bug/1979031," table=None, metric=None, scope=None, proto=rtnl.rt_proto['static'], **kwargs): namespace, ip_version, None, device, None, table, None, 'universe', None))"," table=None, metric=None, scope=None, proto='static', **kwargs): namespace, ip_version, None, device, None, table, None, None, None))",7,3
openstack%2Fopenstack-ansible~master~I6fd1b82d1c273f2c080caf8bbe3f73c1d604bf57,openstack/openstack-ansible,master,I6fd1b82d1c273f2c080caf8bbe3f73c1d604bf57,Add release note about Ceph-Ansible deprecation,MERGED,2022-05-28 05:35:05.000000000,2022-06-17 19:39:59.000000000,2022-05-30 10:14:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-05-28 05:35:05.000000000', 'files': ['releasenotes/notes/ceph_ansible-3fcd9643b53a4b29.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6429b558f744c7dce05bd9484c2ed0ec6f6dae1', 'message': 'Add release note about Ceph-Ansible deprecation\n\nChange-Id: I6fd1b82d1c273f2c080caf8bbe3f73c1d604bf57\n'}]",0,843704,f6429b558f744c7dce05bd9484c2ed0ec6f6dae1,9,3,1,28619,,,0,"Add release note about Ceph-Ansible deprecation

Change-Id: I6fd1b82d1c273f2c080caf8bbe3f73c1d604bf57
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/843704/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ceph_ansible-3fcd9643b53a4b29.yaml'],1,f6429b558f744c7dce05bd9484c2ed0ec6f6dae1,,"--- deprecations: - | Ceph-ansible has been deprecated by upstream maintainers in favor of cephadm [1]. With that we don't have any other choice rather than deprecate Ceph deployment with Ceph Ansible. It's still available in Yoga, but will be removed in the future releases. [1] https://github.com/ceph/ceph-ansible/commit/893944102743dad302249a45e3b2682d325ee2e5 ",,9,0
openstack%2Fcinder~master~I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce,openstack/cinder,master,I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce,NetApp ONTAP: Fixed get_ontap_version,MERGED,2022-02-16 12:26:07.000000000,2022-06-17 19:23:29.000000000,2022-06-17 19:21:43.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 26693}, {'_account_id': 30615}, {'_account_id': 33301}]","[{'number': 1, 'created': '2022-02-16 12:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1aaec71343773c59da28dce8722aaf1d8163e8e', 'message': ""NetApp ONTAP: Fixed get_ontap_version\n\nChanged the method get_ontap_version, adjusting the code to return\na tuple (generation, major, minor) instead of a string, to avoid\nproblems when comparing strings in alphabetical order (e.g. '9.5' >\n'9.10').\n\nChange-Id: I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce\nCloses-Bug: #1955057\n""}, {'number': 2, 'created': '2022-03-31 14:29:30.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'releasenotes/notes/bug-1955057-fix-get-ontap-version-4d9fa1f6c5d2eaf3.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b13eab894ac878dcb1debedd5bf503c646446d2', 'message': ""NetApp ONTAP: Fixed get_ontap_version\n\nChanged the method get_ontap_version, adjusting the code to return\na tuple (generation, major, minor) instead of a string, to avoid\nproblems when comparing strings in alphabetical order (e.g. '9.5' >\n'9.10').\n\nChange-Id: I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce\nCloses-Bug: #1955057\n""}]",7,829529,3b13eab894ac878dcb1debedd5bf503c646446d2,62,6,2,33648,,,0,"NetApp ONTAP: Fixed get_ontap_version

Changed the method get_ontap_version, adjusting the code to return
a tuple (generation, major, minor) instead of a string, to avoid
problems when comparing strings in alphabetical order (e.g. '9.5' >
'9.10').

Change-Id: I2305b49ab7d2a1c4d9affd55a4b5b746a1ae4dce
Closes-Bug: #1955057
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/829529/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'releasenotes/notes/bug-1955057-fix-get-ontap-version-4d9fa1f6c5d2eaf3.yaml', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",5,d1aaec71343773c59da28dce8722aaf1d8163e8e,bug/1955057," if ontap_version >= (9, 5, 0):", if ontap_version >= '9.5':,55,46
openstack%2Fneutron~master~I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a,openstack/neutron,master,I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a,Remove unneeded contexts in ``_create_port_security_group_binding``,MERGED,2022-06-10 15:47:26.000000000,2022-06-17 19:23:28.000000000,2022-06-17 19:21:37.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-10 15:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/18e187ac21e320a25e11d744ad0e634a4d968033', 'message': ""Remove unneeded contexts in ``_create_port_security_group_binding``\n\nRemoved unneeded database context in\n``_create_port_security_group_binding``. This method is called always\nfrom inside an active database transaction, when the port is udpated\nor created.\n\nThe retry context only makes sense when a method is called outside\nan active database transaction. It doesn't retry the command if the\ncontext passed has an active transaction.\n\nTrivial-Fix\n\nChange-Id: I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a\n""}, {'number': 2, 'created': '2022-06-10 15:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/627ab7e3157aa0f10579dd4e327ac694254e577f', 'message': ""Remove unneeded contexts in ``_create_port_security_group_binding``\n\nRemoved unneeded database context in\n``_create_port_security_group_binding``. This method is called always\nfrom inside an active database transaction, when the port is udpated\nor created.\n\nThe retry context only makes sense when a method is called outside\nan active database transaction. It doesn't retry the command if the\ncontext passed has an active transaction.\n\nTrivial-Fix\n\nChange-Id: I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a\n""}, {'number': 3, 'created': '2022-06-13 08:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/347f17a0d23f3aa0cd006e91d3d88bb3f4cad382', 'message': ""Remove unneeded contexts in ``_create_port_security_group_binding``\n\nRemoved unneeded database context in\n``_create_port_security_group_binding``. This method is called always\nfrom inside an active database transaction, when the port is udpated\nor created.\n\nThe retry context only makes sense when a method is called outside\nan active database transaction. It doesn't retry the command if the\ncontext passed has an active transaction.\n\nTrivial-Fix\n\nChange-Id: I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a\n""}, {'number': 4, 'created': '2022-06-14 06:43:18.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3b84ed099dee38b75192cd0aadab325f089c1f5', 'message': ""Remove unneeded contexts in ``_create_port_security_group_binding``\n\nRemoved unneeded database context in\n``_create_port_security_group_binding``. This method is called always\nfrom inside an active database transaction, when the port is udpated\nor created.\n\nThe retry context only makes sense when a method is called outside\nan active database transaction. It doesn't retry the command if the\ncontext passed has an active transaction.\n\nTrivial-Fix\n\nChange-Id: I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a\n""}]",10,845363,f3b84ed099dee38b75192cd0aadab325f089c1f5,39,6,4,16688,,,0,"Remove unneeded contexts in ``_create_port_security_group_binding``

Removed unneeded database context in
``_create_port_security_group_binding``. This method is called always
from inside an active database transaction, when the port is udpated
or created.

The retry context only makes sense when a method is called outside
an active database transaction. It doesn't retry the command if the
context passed has an active transaction.

Trivial-Fix

Change-Id: I8f84c1bce0d1ce2538789e3511fd8f7b64fcd41a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/845363/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/plugins/ml2/plugin.py']",2,18e187ac21e320a25e11d744ad0e634a4d968033,remove_unneeded_contexts, need_port_update_notify |= self._update_security_group_on_port(, need_port_update_notify |= self.update_security_group_on_port(,7,8
openstack%2Frequirements~master~I61fae8f7de90f9fc892e841ebe7477ce33a49bc9,openstack/requirements,master,I61fae8f7de90f9fc892e841ebe7477ce33a49bc9,update constraint for virtualbmc to new release 2.2.2,MERGED,2022-06-17 10:20:38.000000000,2022-06-17 19:17:47.000000000,2022-06-17 19:15:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:20:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/57031c3618f3a7431644e79bc7a9fd3865726e8b', 'message': 'update constraint for virtualbmc to new release 2.2.2\n\nmeta: version: 2.2.2\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Change-Id: Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd\nmeta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I61fae8f7de90f9fc892e841ebe7477ce33a49bc9\n'}]",0,846302,57031c3618f3a7431644e79bc7a9fd3865726e8b,8,2,1,11131,,,0,"update constraint for virtualbmc to new release 2.2.2

meta: version: 2.2.2
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Commit: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Change-Id: Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd
meta: release:Code-Review+1: Iury Gregory Melo Ferreira <iurygregory@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I61fae8f7de90f9fc892e841ebe7477ce33a49bc9
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/846302/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,57031c3618f3a7431644e79bc7a9fd3865726e8b,new-release,virtualbmc===2.2.2,virtualbmc===2.2.1,1,1
openstack%2Fnova~stable%2Fussuri~I066fb5617bae944a03273049117fc2b5bf329283,openstack/nova,stable/ussuri,I066fb5617bae944a03273049117fc2b5bf329283,fake: Ensure need_legacy_block_device_info returns False,NEW,2022-05-30 18:38:21.000000000,2022-06-17 19:17:23.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-30 18:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f48591c7f367bddf38ef91dd868c3f35ef1be425', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit c5bed50368196cdc45d1dfa68da927a0a7bc0ff8)\n(cherry picked from commit 113414eaf4d74f0ec257bf3a3ff7836dffc6dd07)\n""}, {'number': 2, 'created': '2022-06-02 17:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/927bf2d5e4b1e5375c4b232c19e442a632c48a97', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit c5bed50368196cdc45d1dfa68da927a0a7bc0ff8)\n(cherry picked from commit 113414eaf4d74f0ec257bf3a3ff7836dffc6dd07)\n""}, {'number': 3, 'created': '2022-06-03 15:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec73ce4022a600896b25186715e17b3dcb2f6cc8', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit c5bed50368196cdc45d1dfa68da927a0a7bc0ff8)\n(cherry picked from commit 113414eaf4d74f0ec257bf3a3ff7836dffc6dd07)\n""}, {'number': 4, 'created': '2022-06-16 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdb98c8a1536475be04a2aa5f9c8bf380ea9f14b', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit c5bed50368196cdc45d1dfa68da927a0a7bc0ff8)\n(cherry picked from commit 113414eaf4d74f0ec257bf3a3ff7836dffc6dd07)\n""}, {'number': 5, 'created': '2022-06-17 15:25:00.000000000', 'files': ['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/62106532d010808c3609be89ac3c6485eba7bacd', 'message': ""fake: Ensure need_legacy_block_device_info returns False\n\nThe legacy block_device_info format has not been used for a while in the\nvirt drivers and the Fake virt drivers shouldn't be using it anymore.\n\nSome compute tests have been updated as they were previously asserting\nthe legacy format incorrectly. TODOs are also left to remove support for\nthe legacy format in a follow up change.\n\nChange-Id: I066fb5617bae944a03273049117fc2b5bf329283\n(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)\n(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)\n(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)\n""}]",3,843950,62106532d010808c3609be89ac3c6485eba7bacd,24,2,5,8864,,,0,"fake: Ensure need_legacy_block_device_info returns False

The legacy block_device_info format has not been used for a while in the
virt drivers and the Fake virt drivers shouldn't be using it anymore.

Some compute tests have been updated as they were previously asserting
the legacy format incorrectly. TODOs are also left to remove support for
the legacy format in a follow up change.

Change-Id: I066fb5617bae944a03273049117fc2b5bf329283
(cherry-picked from commit d102b751b743b5315557cac0997198152c0cac74)
(cherry picked from commit 74160240526ccc64b7c86b66969b2e22f8a2c683)
(cherry picked from commit 2ce7dc32d5f58e0be4c464faff00b53fb4671a22)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/843950/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/fake.py', 'nova/tests/unit/compute/test_compute.py', 'nova/virt/driver.py']",3,f48591c7f367bddf38ef91dd868c3f35ef1be425,bug/1939545, # TODO(lyarwood): This is no longer used and should be removed.,,31,19
openstack%2Frequirements~master~Ib21fe2d3ad137100733e425cbee9ee802cbd47aa,openstack/requirements,master,Ib21fe2d3ad137100733e425cbee9ee802cbd47aa,update constraint for oslo.policy to new release 4.0.0,MERGED,2022-06-17 10:19:36.000000000,2022-06-17 19:16:44.000000000,2022-06-17 19:15:31.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:19:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eb63e36916e1fa70661e327019f73cf3bde8f54c', 'message': 'update constraint for oslo.policy to new release 4.0.0\n\nmeta: version: 4.0.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib21fe2d3ad137100733e425cbee9ee802cbd47aa\n'}]",0,846301,eb63e36916e1fa70661e327019f73cf3bde8f54c,8,2,1,11131,,,0,"update constraint for oslo.policy to new release 4.0.0

meta: version: 4.0.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib21fe2d3ad137100733e425cbee9ee802cbd47aa
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/846301/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eb63e36916e1fa70661e327019f73cf3bde8f54c,new-release,oslo.policy===4.0.0,oslo.policy===3.12.1,1,1
openstack%2Frequirements~master~I7c5c4669eb61ade89333ab0daab4b22cbf73b365,openstack/requirements,master,I7c5c4669eb61ade89333ab0daab4b22cbf73b365,update constraint for oslo.vmware to new release 4.0.0,MERGED,2022-06-17 10:17:17.000000000,2022-06-17 19:14:37.000000000,2022-06-17 19:12:10.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:17:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bc220272ac4924220888beaf209d158300e1497e', 'message': 'update constraint for oslo.vmware to new release 4.0.0\n\nmeta: version: 4.0.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I7c5c4669eb61ade89333ab0daab4b22cbf73b365\n'}]",0,846299,bc220272ac4924220888beaf209d158300e1497e,8,2,1,11131,,,0,"update constraint for oslo.vmware to new release 4.0.0

meta: version: 4.0.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I7c5c4669eb61ade89333ab0daab4b22cbf73b365
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/846299/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bc220272ac4924220888beaf209d158300e1497e,new-release,oslo.vmware===4.0.0,oslo.vmware===3.10.0,1,1
openstack%2Frequirements~master~If03bd1377a30c6c6cf1d0d4a96cecb702be2c67f,openstack/requirements,master,If03bd1377a30c6c6cf1d0d4a96cecb702be2c67f,update constraint for oslo.utils to new release 5.0.0,MERGED,2022-06-17 10:16:32.000000000,2022-06-17 19:13:35.000000000,2022-06-17 19:12:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:16:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4eee98a78274f6ff2dd4acf75579eeeae389878e', 'message': 'update constraint for oslo.utils to new release 5.0.0\n\nmeta: version: 5.0.0\nmeta: diff-start: -\nmeta: series: zed\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: If03bd1377a30c6c6cf1d0d4a96cecb702be2c67f\n'}]",0,846297,4eee98a78274f6ff2dd4acf75579eeeae389878e,8,2,1,11131,,,0,"update constraint for oslo.utils to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: zed
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: If03bd1377a30c6c6cf1d0d4a96cecb702be2c67f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/846297/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4eee98a78274f6ff2dd4acf75579eeeae389878e,new-release,oslo.utils===5.0.0,oslo.utils===4.13.0,1,1
openstack%2Fopenstack-ansible-nspawn_container_create~stable%2Fvictoria~I89b3054a37daf570136a664e6aa6e35e0935d455,openstack/openstack-ansible-nspawn_container_create,stable/victoria,I89b3054a37daf570136a664e6aa6e35e0935d455,Updated from OpenStack Ansible Tests,ABANDONED,2022-01-15 10:36:14.000000000,2022-06-17 18:53:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-15 10:36:14.000000000', 'files': ['run_tests.sh', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/b8266ba089d2c6e80b88c56a310e3533eb3c4b92', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I89b3054a37daf570136a664e6aa6e35e0935d455\n'}]",0,824812,b8266ba089d2c6e80b88c56a310e3533eb3c4b92,3,1,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I89b3054a37daf570136a664e6aa6e35e0935d455
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/12/824812/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Vagrantfile']",2,b8266ba089d2c6e80b88c56a310e3533eb3c4b92,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""centos8"" do |centos8| centos8.vm.box = ""centos/8"""," config.vm.define ""centos7"" do |centos7| centos7.vm.box = ""centos/7""",3,6
openstack%2Fnova~stable%2Fwallaby~Icf61f88e9e11413a99e9c891358eea085d7762a8,openstack/nova,stable/wallaby,Icf61f88e9e11413a99e9c891358eea085d7762a8,Add a regression test for bug 1939545,ABANDONED,2022-05-28 04:59:42.000000000,2022-06-17 18:26:47.000000000,,"[{'_account_id': 4690}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-28 04:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb16989e4cb20ae6676a4e4bf6d67e4c65383abb', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nConflicts: nova/tests/fixtures/cinder.py did not exist, applied\nchanges to CinderFixture class in nova/tests/fixtures.py. Also:\n* Switched to using uuidsentinel instead of uuids, as the import is\n  done as the former in stable/wallaby.\n* Fixed the fakelibvirt import to match where it lives in\n  stable/wallaby.\n* Replace use of OSBrickFixture() that didn't exist in stable/wallaby\n  with the fake_os_brick_connector from the libvirt unit tests.\n* Fix fakelibvirt migrateToURI3 monkeypatch to use correct path for\n  stable/wallaby.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n\nChange-Id: Icf61f88e9e11413a99e9c891358eea085d7762a8\n""}, {'number': 2, 'created': '2022-06-03 14:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92433d898360478337b6b434319e4c871ab2f863', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nConflicts: nova/tests/fixtures/cinder.py did not exist, applied\nchanges to CinderFixture class in nova/tests/fixtures.py. Also:\n* Switched to using uuidsentinel instead of uuids, as the import is\n  done as the former in stable/wallaby.\n* Fixed the fakelibvirt import to match where it lives in\n  stable/wallaby.\n* Replace use of OSBrickFixture() that didn't exist in stable/wallaby\n  with the fake_os_brick_connector from the libvirt unit tests.\n* Fix fakelibvirt migrateToURI3 monkeypatch to use correct path for\n  stable/wallaby.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n\nChange-Id: Icf61f88e9e11413a99e9c891358eea085d7762a8\n""}, {'number': 3, 'created': '2022-06-16 14:28:22.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/44ec33ded0f154e487c2ce1ec45509696fac806c', 'message': ""Add a regression test for bug 1939545\n\nAssert the behaviour of the libvirt driver during pre_live_migration\nwith instances that have block based volumes attached.\n\nBug #1939545 covering the case where the returned path from os-brick\nisn't being saved into the connection_info of the associated bdm in\nNova.\n\nThe cinder fixture is extended as part of this change to offer\nconnection_info listing the iscsi volume type in order to correctly\nassert the behaviour of the associated libvirt volume driver.\n\nConflicts: nova/tests/fixtures/cinder.py did not exist, applied\nchanges to CinderFixture class in nova/tests/fixtures.py. Also:\n* Switched to using uuidsentinel instead of uuids, as the import is\n  done as the former in stable/wallaby.\n* Fixed the fakelibvirt import to match where it lives in\n  stable/wallaby.\n* Replace use of OSBrickFixture() that didn't exist in stable/wallaby\n  with the fake_os_brick_connector from the libvirt unit tests.\n* Fix fakelibvirt migrateToURI3 monkeypatch to use correct path for\n  stable/wallaby.\n\nRelated-Bug: #1939545\nChange-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4\n(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)\n\nChange-Id: Icf61f88e9e11413a99e9c891358eea085d7762a8\n""}]",3,843702,44ec33ded0f154e487c2ce1ec45509696fac806c,21,3,3,8864,,,0,"Add a regression test for bug 1939545

Assert the behaviour of the libvirt driver during pre_live_migration
with instances that have block based volumes attached.

Bug #1939545 covering the case where the returned path from os-brick
isn't being saved into the connection_info of the associated bdm in
Nova.

The cinder fixture is extended as part of this change to offer
connection_info listing the iscsi volume type in order to correctly
assert the behaviour of the associated libvirt volume driver.

Conflicts: nova/tests/fixtures/cinder.py did not exist, applied
changes to CinderFixture class in nova/tests/fixtures.py. Also:
* Switched to using uuidsentinel instead of uuids, as the import is
  done as the former in stable/wallaby.
* Fixed the fakelibvirt import to match where it lives in
  stable/wallaby.
* Replace use of OSBrickFixture() that didn't exist in stable/wallaby
  with the fake_os_brick_connector from the libvirt unit tests.
* Fix fakelibvirt migrateToURI3 monkeypatch to use correct path for
  stable/wallaby.

Related-Bug: #1939545
Change-Id: I3f1073d70e4332737e33f3c9c00cf129d0ef76b4
(cherry-picked from commit 268b7169554f871d3813d78e79861934d086484d)

Change-Id: Icf61f88e9e11413a99e9c891358eea085d7762a8
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/843702/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/regressions/test_bug_1939545.py']",2,fb16989e4cb20ae6676a4e4bf6d67e4c65383abb,bug/1939545,"# Copyright 2021, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock from oslo_serialization import jsonutils from nova import context from nova import objects from nova.tests.functional import integrated_helpers from nova.tests.functional.libvirt import base from nova.tests.unit.virt.libvirt import fake_os_brick_connector from nova.tests.unit.virt.libvirt import fakelibvirt class TestLiveMigrateUpdateDevicePath( base.ServersTestBase, integrated_helpers.InstanceHelperMixin ): """"""Regression test for bug 1939545 Assert the behaviour of the libvirt driver during pre_live_migration with instances that have block based volumes attached. Bug #1939545 covering the case where the returned path from os-brick isn't being saved into the connection_info of the associated bdm in Nova. """""" api_major_version = 'v2.1' microversion = 'latest' ADMIN_API = True def setUp(self): super().setUp() self.useFixture(fixtures.MonkeyPatch( 'nova.virt.libvirt.driver.connector', fake_os_brick_connector)) # TODO(lyarwood): Move into base.ServersTestBase to allow live # migrations to pass without changes by the test classes. self.useFixture(fixtures.MonkeyPatch( 'nova.tests.unit.virt.libvirt.fakelibvirt.Domain.migrateToURI3', self._migrate_stub)) self.start_compute( hostname='src', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) self.start_compute( hostname='dest', host_info=fakelibvirt.HostInfo( cpu_nodes=1, cpu_sockets=1, cpu_cores=4, cpu_threads=1)) def _migrate_stub(self, domain, destination, params, flags): dest = self.computes['dest'] dest.driver._host.get_connection().createXML( params['destination_xml'], 'fake-createXML-doesnt-care-about-flags') source = self.computes['src'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server['id']) dom.complete_job() # TODO(lyarwood): Move this into the os-brick fixture and repeat for all # provided connectors at runtime. @mock.patch( 'os_brick.initiator.connectors.iscsi.ISCSIConnector.connect_volume') @mock.patch( 'os_brick.initiator.connectors.iscsi.ISCSIConnector.disconnect_volume') def test_live_migrate_update_device_path( self, mock_disconnect_volume, mock_connect_volume ): self.server = self._create_server(host='src', networks='none') volume_id = self.cinder.ISCSI_BACKED_VOL # TODO(lyarwood): As above, move this into the os-brick fixture. mock_connect_volume.return_value = {'path': '/dev/sda'} self.api.post_server_volume( self.server['id'], {'volumeAttachment': {'volumeId': volume_id}}) # Get the volume bdm and assert that the connection_info is set with # device_path from the volume driver. ctxt = context.get_admin_context() bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, self.server['id']) connection_info = jsonutils.loads(bdm.connection_info) self.assertIn('device_path', connection_info.get('data')) # Live migrate the instance to another host self._live_migrate(self.server) # FIXME(lyarwood): This is bug #1939545, again get the volume bdm and # assert that the saved connection_info doesn't contain device_path. bdm = objects.BlockDeviceMapping.get_by_volume_and_instance( ctxt, volume_id, self.server['id']) connection_info = jsonutils.loads(bdm.connection_info) self.assertNotIn('device_path', connection_info.get('data')) ",,151,15
openstack%2Fnova~stable%2Ftrain~Ie74fcd689a627c178f80ec60df2dfef40576f182,openstack/nova,stable/train,Ie74fcd689a627c178f80ec60df2dfef40576f182,tests: work around malformed serial XML,NEW,2022-06-05 16:59:52.000000000,2022-06-17 18:22:25.000000000,,"[{'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-05 16:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e55fa2597b4fa49cc8a8b85157e1e1d571e7ba28', 'message': ""tests: work around malformed serial XML\n\nThe serial elements in fakelibvirt's XMLDesc() are malformed. They are\nonly enough to pass existing unit tests, but are not future-proof, and\nwould not work with something like migration._update_serial_xml(). In\naddition, two of them (type=file and type=pty) are not actually used by\nanything.\n\nThis patch removes the unused types and starts checking the\nCONF.serial_console.enabled flag before including any serial XML in\nthe fake domain. This allows tests that don't set\nserial_console_enabled (like the subsequent NUMA LM func test) to not\nhave to deal with the broken serial XML, while tests that relied on it\nin the past now just set serial_console_enabled = True.\n\nNOTE(artom) This enables the live migration functional test in the\nsubsequent patch to work.\n\nChange-Id: Ie74fcd689a627c178f80ec60df2dfef40576f182\n(cherry picked from commit 4ba00c803b8707ca40492f493997df058696ca15)\n""}, {'number': 2, 'created': '2022-06-15 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08334dae2959b664b5fd395728ed299543bca4da', 'message': ""tests: work around malformed serial XML\n\nThe serial elements in fakelibvirt's XMLDesc() are malformed. They are\nonly enough to pass existing unit tests, but are not future-proof, and\nwould not work with something like migration._update_serial_xml(). In\naddition, two of them (type=file and type=pty) are not actually used by\nanything.\n\nThis patch removes the unused types and starts checking the\nCONF.serial_console.enabled flag before including any serial XML in\nthe fake domain. This allows tests that don't set\nserial_console_enabled (like the subsequent NUMA LM func test) to not\nhave to deal with the broken serial XML, while tests that relied on it\nin the past now just set serial_console_enabled = True.\n\nNOTE(artom) This enables the live migration functional test in the\nsubsequent patch to work.\n\nChange-Id: Ie74fcd689a627c178f80ec60df2dfef40576f182\n(cherry picked from commit 4ba00c803b8707ca40492f493997df058696ca15)\n""}, {'number': 3, 'created': '2022-06-17 17:18:07.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a863d808260547e62c8eb09452963b8fe07af713', 'message': ""tests: work around malformed serial XML\n\nThe serial elements in fakelibvirt's XMLDesc() are malformed. They are\nonly enough to pass existing unit tests, but are not future-proof, and\nwould not work with something like migration._update_serial_xml(). In\naddition, two of them (type=file and type=pty) are not actually used by\nanything.\n\nThis patch removes the unused types and starts checking the\nCONF.serial_console.enabled flag before including any serial XML in\nthe fake domain. This allows tests that don't set\nserial_console_enabled (like the subsequent NUMA LM func test) to not\nhave to deal with the broken serial XML, while tests that relied on it\nin the past now just set serial_console_enabled = True.\n\nNOTE(artom) This enables the live migration functional test in the\nsubsequent patch to work.\n\nChange-Id: Ie74fcd689a627c178f80ec60df2dfef40576f182\n(cherry picked from commit 4ba00c803b8707ca40492f493997df058696ca15)\n""}]",1,844743,a863d808260547e62c8eb09452963b8fe07af713,10,2,3,8864,,,0,"tests: work around malformed serial XML

The serial elements in fakelibvirt's XMLDesc() are malformed. They are
only enough to pass existing unit tests, but are not future-proof, and
would not work with something like migration._update_serial_xml(). In
addition, two of them (type=file and type=pty) are not actually used by
anything.

This patch removes the unused types and starts checking the
CONF.serial_console.enabled flag before including any serial XML in
the fake domain. This allows tests that don't set
serial_console_enabled (like the subsequent NUMA LM func test) to not
have to deal with the broken serial XML, while tests that relied on it
in the past now just set serial_console_enabled = True.

NOTE(artom) This enables the live migration functional test in the
subsequent patch to work.

Change-Id: Ie74fcd689a627c178f80ec60df2dfef40576f182
(cherry picked from commit 4ba00c803b8707ca40492f493997df058696ca15)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/844743/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/test_virt_drivers.py']",2,e55fa2597b4fa49cc8a8b85157e1e1d571e7ba28,bug/1939545," self.flags(enabled=True, group='serial_console')",,12,12
openstack%2Fnova~stable%2Ftrain~Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,openstack/nova,stable/train,Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,functional: Use tempdir for CONF.instances_path,NEW,2022-06-05 19:58:10.000000000,2022-06-17 18:16:55.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-05 19:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed83edec0c3ebd7c7d38db6e72e959fe372f7a3b', 'message': ""functional: Use tempdir for CONF.instances_path\n\nThis was being set in an ad-hoc manner throughout the code, but it's\nnecessary for all kinds of live migration and evacuation operations.\nJust centralize the configuration.\n\nConflicts:\n* nova/tests/functional/libvirt/base.py due to 6c4d1a6aabb changing\n the context around the line this cherry-pick adds.\n* nova/tests/functional/libvirt/test_numa_live_migration.py didn't\n  exist in stable/train.\n\nNOTE(artom) This is needed to prevent the live migration test added\nin the subsequent patch from failing in the gate (and only in the\ngate, the failure could not be reproduced locally) with `No such file\nor directory:\n'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd'`.\n\nChange-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)\n""}, {'number': 2, 'created': '2022-06-15 16:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3aacc07d734398b324f69e5982ec689b1571f064', 'message': ""functional: Use tempdir for CONF.instances_path\n\nThis was being set in an ad-hoc manner throughout the code, but it's\nnecessary for all kinds of live migration and evacuation operations.\nJust centralize the configuration.\n\nConflicts:\n* nova/tests/functional/libvirt/base.py due to 6c4d1a6aabb changing\n the context around the line this cherry-pick adds.\n* nova/tests/functional/libvirt/test_numa_live_migration.py didn't\n  exist in stable/train.\n\nNOTE(artom) This is needed to prevent the live migration test added\nin the subsequent patch from failing in the gate (and only in the\ngate, the failure could not be reproduced locally) with `No such file\nor directory:\n'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd'`.\n\nChange-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)\n""}, {'number': 3, 'created': '2022-06-17 17:18:07.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/libvirt/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef66e1a44ac4544e37a7cdced86444d6e2ddc9a8', 'message': ""functional: Use tempdir for CONF.instances_path\n\nThis was being set in an ad-hoc manner throughout the code, but it's\nnecessary for all kinds of live migration and evacuation operations.\nJust centralize the configuration.\n\nNOTE(artom) This is being backported because a functional test failure\nwas observed when running functional tests that are added by\nsubsequent patches. The specific error was:\n\nNo such file or directory:\n'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd\n\nThe failure is not always reproducible, but never happened again with\nthis patch included in the series.\n\nChange-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)\n(cherry picked from commit 05c88a4e21b523ad30ab133093b627a0fae78adf)\n""}]",1,844750,ef66e1a44ac4544e37a7cdced86444d6e2ddc9a8,10,2,3,8864,,,0,"functional: Use tempdir for CONF.instances_path

This was being set in an ad-hoc manner throughout the code, but it's
necessary for all kinds of live migration and evacuation operations.
Just centralize the configuration.

NOTE(artom) This is being backported because a functional test failure
was observed when running functional tests that are added by
subsequent patches. The specific error was:

No such file or directory:
'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd

The failure is not always reproducible, but never happened again with
this patch included in the series.

Change-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)
(cherry picked from commit 05c88a4e21b523ad30ab133093b627a0fae78adf)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/844750/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/libvirt/base.py']",2,ed83edec0c3ebd7c7d38db6e72e959fe372f7a3b,bug/1939545, self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) ,,2,5
openstack%2Fnetworking-ovn~stable%2Ftrain~I1881da52bbf67a9624369ff1042e8ff6dd65cd0d,openstack/networking-ovn,stable/train,I1881da52bbf67a9624369ff1042e8ff6dd65cd0d,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-16 06:46:21.000000000,2022-06-17 18:08:43.000000000,2022-06-17 18:07:16.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-16 06:46:21.000000000', 'files': ['networking_ovn/common/utils.py', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4d980c6678f6a90e9eefaac010374b3d9a23620b', 'message': '[OVN]Any string type dhcp options should be quoted\n\nAny dhcp option[1] which value is string type in ovn\nshould be added quotes, otherwise it would be regard\nas constant.\n\n[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116\n\nCherry-picked from Neutron:\n  https://review.opendev.org/c/openstack/neutron/+/846115\n\nCloses-Bug: #1946764\nChange-Id: Id174cd944c3b883b749046bc49d00e011eb891fe\n(manually cherry picked from commit\n18c32e4339cbcb0993d9c162e2715f6fcfa932cc)\n\nChange-Id: I1881da52bbf67a9624369ff1042e8ff6dd65cd0d\n'}]",1,846102,4d980c6678f6a90e9eefaac010374b3d9a23620b,9,6,1,13861,,,0,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Cherry-picked from Neutron:
  https://review.opendev.org/c/openstack/neutron/+/846115

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(manually cherry picked from commit
18c32e4339cbcb0993d9c162e2715f6fcfa932cc)

Change-Id: I1881da52bbf67a9624369ff1042e8ff6dd65cd0d
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/02/846102/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/utils.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/common/test_utils.py', 'networking_ovn/tests/functional/test_ovn_db_sync.py', 'networking_ovn/tests/functional/test_ovn_db_resources.py']",5,4d980c6678f6a90e9eefaac010374b3d9a23620b,neutron-ci-improvements," 'tftp_server': '""10.0.0.100""', 'tftp_server': '""100.0.0.100""'}} 'tftp_server': '""8.8.8.8""'}}"," 'tftp_server': '10.0.0.100', 'tftp_server': '100.0.0.100'}} 'tftp_server': '8.8.8.8'}}",24,9
openstack%2Fopenstack-ansible~master~Ic2735465a6f2774f95bb9e234cb1edbce60e59df,openstack/openstack-ansible,master,Ic2735465a6f2774f95bb9e234cb1edbce60e59df,Install murano client for distro installs,MERGED,2022-06-16 12:53:47.000000000,2022-06-17 17:59:05.000000000,2022-06-17 17:57:28.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-16 12:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab05f36d18dcee13f9da8e807a2a6e32d4738e73', 'message': 'Install murano client for distro installs\n\nChange-Id: Ic2735465a6f2774f95bb9e234cb1edbce60e59df\n'}, {'number': 2, 'created': '2022-06-17 06:20:22.000000000', 'files': ['inventory/group_vars/utility_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f2ac17069b458acd4acf8ca4e3cbc11b045c7e32', 'message': 'Install murano client for distro installs\n\nChange-Id: Ic2735465a6f2774f95bb9e234cb1edbce60e59df\n'}]",4,846162,f2ac17069b458acd4acf8ca4e3cbc11b045c7e32,24,4,2,28619,,,0,"Install murano client for distro installs

Change-Id: Ic2735465a6f2774f95bb9e234cb1edbce60e59df
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/846162/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/utility_all.yml'],1,ab05f36d18dcee13f9da8e807a2a6e32d4738e73,, - python3-cinderclient - python3-muranoclient, - python3-cinderclient,2,1
openstack%2Fpuppet-cinder~master~I244fb52ec9212877b9f5a0bec6338b7bfcee3efe,openstack/puppet-cinder,master,I244fb52ec9212877b9f5a0bec6338b7bfcee3efe,Fix some typos in parameter descriptions,MERGED,2022-06-17 10:57:52.000000000,2022-06-17 17:56:53.000000000,2022-06-17 17:56:53.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:57:52.000000000', 'files': ['manifests/backend/emc_vnx.pp', 'manifests/logging.pp', 'manifests/backend/nvmeof.pp', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp', 'manifests/backend/pure.pp', 'manifests/backend/netapp.pp', 'manifests/backend/dellemc_sc.pp', 'manifests/backend/dellemc_powerflex.pp', 'manifests/scheduler.pp', 'spec/classes/cinder_wsgi_apache_spec.rb', 'manifests/backends.pp', 'manifests/deps.pp', 'manifests/healthcheck.pp', 'manifests/backend/dellsc_iscsi.pp', 'spec/classes/cinder_quota_spec.rb', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c7faae56366bead66ca5c150a1a1203f381b8f7e', 'message': 'Fix some typos in parameter descriptions\n\nChange-Id: I244fb52ec9212877b9f5a0bec6338b7bfcee3efe\n'}]",0,846337,c7faae56366bead66ca5c150a1a1203f381b8f7e,9,4,1,20733,,,0,"Fix some typos in parameter descriptions

Change-Id: I244fb52ec9212877b9f5a0bec6338b7bfcee3efe
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/37/846337/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/emc_vnx.pp', 'manifests/logging.pp', 'manifests/backend/nvmeof.pp', 'spec/classes/cinder_init_spec.rb', 'manifests/init.pp', 'manifests/backend/pure.pp', 'manifests/backend/netapp.pp', 'manifests/backend/dellemc_sc.pp', 'manifests/backend/dellemc_powerflex.pp', 'manifests/scheduler.pp', 'spec/classes/cinder_wsgi_apache_spec.rb', 'manifests/backends.pp', 'manifests/deps.pp', 'manifests/healthcheck.pp', 'manifests/backend/dellsc_iscsi.pp', 'spec/classes/cinder_quota_spec.rb', 'manifests/keystone/auth.pp']",17,c7faae56366bead66ca5c150a1a1203f381b8f7e,param_typos,# (Optional) The v3 endpoint's public url.,# (0ptional) The v3 endpoint's public url.,22,22
openstack%2Fhorizon~master~Ifdad18e805953957bfaa1b42908dfbbe8976dbcb,openstack/horizon,master,Ifdad18e805953957bfaa1b42908dfbbe8976dbcb,Migrate to AngularJS v1.8.2,MERGED,2022-05-25 20:36:54.000000000,2022-06-17 16:27:54.000000000,2022-06-10 09:13:40.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-05-25 20:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7eac7b5c1589ebcb95284b1460192d16ae162d6f', 'message': 'Migrate to AngularJS v1.8.2\n\nChange-Id: Ifdad18e805953957bfaa1b42908dfbbe8976dbcb\n'}, {'number': 2, 'created': '2022-06-08 19:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/57e934e9953028456485d492ea7c58465d4a4ea6', 'message': 'Migrate to AngularJS v1.8.2\n\nThis patch aligns current code with AngularJS v1.8.2 requirements.\n\nChange-Id: Ifdad18e805953957bfaa1b42908dfbbe8976dbcb\n'}, {'number': 3, 'created': '2022-06-08 20:43:24.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/common-test.mock.js', 'horizon/static/framework/widgets/wizard/wizard.spec.js', 'openstack_dashboard/static/app/core/network_qos/actions/delete.action.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree.controller.js', 'horizon/static/framework/widgets/property/hz-resource-property.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.controller.spec.js', 'openstack_dashboard/karma.conf.js', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.controller.js', 'openstack_dashboard/static/app/core/openstack-service-api/security-group.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/settings.service.spec.js', 'horizon/static/framework/util/http/http.spec.js', 'openstack_dashboard/static/app/app.module.js', 'openstack_dashboard/static/app/core/openstack-service-api/network.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/policy.service.js', 'openstack_dashboard/static/app/core/server_groups/actions/delete.action.service.spec.js', 'openstack_dashboard/static/app/core/trunks/actions/delete.action.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.spec.js', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.controller.js', 'openstack_dashboard/static/app/core/openstack-service-api/cinder.service.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/domains/actions/delete.service.js', 'openstack_dashboard/static/app/core/images/images.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/keystone.service.js', 'horizon/static/framework/widgets/metadata/display/metadata-display.controller.js', 'openstack_dashboard/static/app/core/openstack-service-api/settings.service.js', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.controller.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/glance.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/policy.service.spec.js', 'horizon/static/framework/framework.module.spec.js', 'openstack_dashboard/static/app/core/images/actions/delete-image.service.js', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.controller.spec.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/domains/actions/delete.service.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/containers/objects-row-actions.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f044c4b0a30da4b4b5e3df1b7888811efddce447', 'message': 'Migrate to AngularJS v1.8.2\n\nThis patch aligns current code with AngularJS v1.8.2 requirements.\n\nChange-Id: Ifdad18e805953957bfaa1b42908dfbbe8976dbcb\n'}]",6,843346,f044c4b0a30da4b4b5e3df1b7888811efddce447,18,5,3,6914,,,0,"Migrate to AngularJS v1.8.2

This patch aligns current code with AngularJS v1.8.2 requirements.

Change-Id: Ifdad18e805953957bfaa1b42908dfbbe8976dbcb
",git fetch https://review.opendev.org/openstack/horizon refs/changes/46/843346/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/openstack-service-api/common-test.mock.js', 'horizon/static/framework/widgets/wizard/wizard.spec.js', 'openstack_dashboard/static/app/core/network_qos/actions/delete.action.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree.controller.js', 'horizon/static/framework/widgets/property/hz-resource-property.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/containers/containers.controller.spec.js', 'openstack_dashboard/karma.conf.js', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.controller.js', 'openstack_dashboard/static/app/core/openstack-service-api/security-group.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/settings.service.spec.js', 'requirements.txt', 'horizon/static/framework/util/http/http.spec.js', 'openstack_dashboard/static/app/app.module.js', 'openstack_dashboard/static/app/core/openstack-service-api/network.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/neutron.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/policy.service.js', 'openstack_dashboard/static/app/core/server_groups/actions/delete.action.service.spec.js', 'openstack_dashboard/static/app/core/trunks/actions/delete.action.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/nova.service.spec.js', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.controller.js', 'openstack_dashboard/static/app/core/openstack-service-api/cinder.service.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/domains/actions/delete.service.js', 'openstack_dashboard/static/app/core/images/images.service.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/keystone.service.js', 'horizon/static/framework/widgets/metadata/display/metadata-display.controller.js', 'openstack_dashboard/static/app/core/openstack-service-api/settings.service.js', 'openstack_dashboard/static/app/core/images/steps/create-image/create-image.controller.spec.js', 'openstack_dashboard/static/app/core/openstack-service-api/glance.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/policy.service.spec.js', 'horizon/static/framework/framework.module.spec.js', 'openstack_dashboard/static/app/core/images/actions/delete-image.service.js', 'openstack_dashboard/static/app/core/images/steps/create-volume/create-volume.controller.spec.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/domains/actions/delete.service.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/containers/objects-row-actions.service.spec.js']",40,7eac7b5c1589ebcb95284b1460192d16ae162d6f,angular_updates," var rowActions, $uibModal, $httpBackend, $rootScope, model; beforeEach(inject(function inject($injector, _$uibModal_, _$httpBackend_, _$rootScope_) { $httpBackend = _$httpBackend_; $httpBackend.expectGET('/static/dashboard/project/containers/objects.html').respond({});"," var rowActions, $uibModal, $rootScope, model; beforeEach(inject(function inject($injector, _$uibModal_, _$rootScope_) {",422,415
openstack%2Ftripleo-ansible~master~If642620e1cb285a2ac47c6ac09edd5abbb94b1ba,openstack/tripleo-ansible,master,If642620e1cb285a2ac47c6ac09edd5abbb94b1ba,Add ceph_config_set before applying the spec,MERGED,2022-06-08 09:39:36.000000000,2022-06-17 16:27:13.000000000,2022-06-17 16:27:13.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32704}]","[{'number': 1, 'created': '2022-06-08 09:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac226eb991a7b9f1cbf14bf2e6e472d0f82c20b0', 'message': 'Add ceph_config_set before applying the spec\n\nWe need to make sure that the monitoring stack (or any other) container\nimages are set: apply spec is skipped with deployed ceph and that task\nis never executed.\nThis patch adds the missing task on the main playbook.\n\nCloses-Bug: #1977956\nChange-Id: If642620e1cb285a2ac47c6ac09edd5abbb94b1ba\n'}, {'number': 2, 'created': '2022-06-08 09:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c8b8a7fc76a52777297d7d6eb32502b6b0e4bef7', 'message': ""Add ceph_config_set before applying the spec\n\nWe need to make sure that the monitoring stack (or any other) container\nimages are set: apply spec is skipped with deployed ceph and that task\nis never executed.\nThis patch adds the missing task on the main playbook, because we can't\nexecute these tasks during deployed ceph for two reasons:\n\n1. deployed ceph has no clues about additional enabled services (tht is\n   still the main user interface)\n\n2. the tripleo variables to define the dashboard images are set via tht\n   (external_deploy_steps)\n\nCloses-Bug: #1977956\nChange-Id: If642620e1cb285a2ac47c6ac09edd5abbb94b1ba\n""}, {'number': 3, 'created': '2022-06-10 12:23:43.000000000', 'files': ['tripleo_ansible/playbooks/cephadm.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1c0ae795b7f83adf9086803fc3bcce2f74780cb', 'message': ""Add ceph_config_set before applying the spec\n\nWe need to make sure that the monitoring stack (or any other) container\nimages are set: apply spec is skipped with deployed ceph and that task\nis never executed.\nThis patch adds the missing task on the main playbook, because we can't\nexecute these tasks during deployed ceph for two reasons:\n\n1. deployed ceph has no clues about additional enabled services (tht is\n   still the main user interface)\n\n2. the tripleo variables to define the dashboard images are set via tht\n   (external_deploy_steps)\n\nCloses-Bug: #1977956\nChange-Id: If642620e1cb285a2ac47c6ac09edd5abbb94b1ba\n""}]",2,845111,b1c0ae795b7f83adf9086803fc3bcce2f74780cb,17,6,3,25402,,,0,"Add ceph_config_set before applying the spec

We need to make sure that the monitoring stack (or any other) container
images are set: apply spec is skipped with deployed ceph and that task
is never executed.
This patch adds the missing task on the main playbook, because we can't
execute these tasks during deployed ceph for two reasons:

1. deployed ceph has no clues about additional enabled services (tht is
   still the main user interface)

2. the tripleo variables to define the dashboard images are set via tht
   (external_deploy_steps)

Closes-Bug: #1977956
Change-Id: If642620e1cb285a2ac47c6ac09edd5abbb94b1ba
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/845111/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cephadm.yml'],1,ac226eb991a7b9f1cbf14bf2e6e472d0f82c20b0,fix_config_set, - name: Run ceph config set to prepare additional parameters import_role: name: tripleo_cephadm tasks_from: cephadm_config_set.yaml ,,5,0
openstack%2Fpuppet-glance~master~Id837c84c03e2492ed586a8a20df7419e6131a5e9,openstack/puppet-glance,master,Id837c84c03e2492ed586a8a20df7419e6131a5e9,Fix typo in spec test,MERGED,2022-06-17 10:13:57.000000000,2022-06-17 16:22:35.000000000,2022-06-17 16:22:35.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:13:57.000000000', 'files': ['spec/defines/glance_backend_multistore_file_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/abe6f06acb475f7236b631c09534623551967216', 'message': 'Fix typo in spec test\n\nChange-Id: Id837c84c03e2492ed586a8a20df7419e6131a5e9\n'}]",0,846296,abe6f06acb475f7236b631c09534623551967216,7,4,1,20733,,,0,"Fix typo in spec test

Change-Id: Id837c84c03e2492ed586a8a20df7419e6131a5e9
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/96/846296/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/glance_backend_multistore_file_spec.rb'],1,abe6f06acb475f7236b631c09534623551967216,trivial-fix," :filesystem_store_datadirs => ['/var/lib/glance/images', '/var/lib/glance/images_alt'] .with_value(['/var/lib/glance/images', '/var/lib/glance/images_alt']) .with_value(['/var/lib/glance/images', '/var/lib/glance/images_alt'])"," :filesystem_store_datadirs => ['/var/lib/glance/images', '/var/lib/gnance/images_alt'] .with_value(['/var/lib/glance/images', '/var/lib/gnance/images_alt']) .with_value(['/var/lib/glance/images', '/var/lib/gnance/images_alt'])",3,3
openstack%2Ftripleo-upgrade~stable%2Fussuri~Iae27f89e64a9276017a453db194e9f357ef338e2,openstack/tripleo-upgrade,stable/ussuri,Iae27f89e64a9276017a453db194e9f357ef338e2,Fix validation inventory setup.,ABANDONED,2022-06-16 08:47:06.000000000,2022-06-17 16:09:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 08:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9230679d8c746195193e3ec0d00adda387736ec4', 'message': ""Fix validation inventory setup.\n\nThe tripleo-ansible-inventory needs the authentication information in\nthe environment and the inventory option doesn't work on train.\n\nChange-Id: Iae27f89e64a9276017a453db194e9f357ef338e2\nCloses-Bug: 1973743\n(cherry picked from commit b9c5180034453ed771d751ad46bb089b7cd5e4d7)\n(cherry picked from commit 48d0b7f70ef9e8ba8caae631f45dd512e2f69c5a)\n(cherry picked from commit d591e5c446651279e4c6b2652a5d3dcbbe28f251)\n""}, {'number': 2, 'created': '2022-06-16 09:16:06.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/924ff4ffebf2f36136f73a8ac0370f560cb131a3', 'message': ""Fix validation inventory setup.\n\nThe tripleo-ansible-inventory needs the authentication information in\nthe environment and the inventory option doesn't work on train.\n\nChange-Id: Iae27f89e64a9276017a453db194e9f357ef338e2\nCloses-Bug: 1973743\n(cherry picked from commit 4b5baada818cfb470000751c412bcc2b81aef49e)\n""}]",0,846133,924ff4ffebf2f36136f73a8ac0370f560cb131a3,5,1,2,8297,,,0,"Fix validation inventory setup.

The tripleo-ansible-inventory needs the authentication information in
the environment and the inventory option doesn't work on train.

Change-Id: Iae27f89e64a9276017a453db194e9f357ef338e2
Closes-Bug: 1973743
(cherry picked from commit 4b5baada818cfb470000751c412bcc2b81aef49e)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/33/846133/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,9230679d8c746195193e3ec0d00adda387736ec4,, shell: | source {{ undercloud_rc }} tripleo-ansible-inventory --stack {{ overcloud_stack_name }} --static-yaml-inventory {{ upgrade_validation_inventory }}," command: ""tripleo-ansible-inventory --stack {{ overcloud_stack_name }} --static-yaml-inventory {{ upgrade_validation_inventory }}""",3,1
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Iae27f89e64a9276017a453db194e9f357ef338e2,openstack/tripleo-upgrade,stable/victoria,Iae27f89e64a9276017a453db194e9f357ef338e2,Fix validation inventory setup.,ABANDONED,2022-06-16 08:45:25.000000000,2022-06-17 16:09:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 08:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d591e5c446651279e4c6b2652a5d3dcbbe28f251', 'message': ""Fix validation inventory setup.\n\nThe tripleo-ansible-inventory needs the authentication information in\nthe environment and the inventory option doesn't work on train.\n\nChange-Id: Iae27f89e64a9276017a453db194e9f357ef338e2\nCloses-Bug: 1973743\n(cherry picked from commit b9c5180034453ed771d751ad46bb089b7cd5e4d7)\n(cherry picked from commit 48d0b7f70ef9e8ba8caae631f45dd512e2f69c5a)\n""}, {'number': 2, 'created': '2022-06-16 09:15:09.000000000', 'files': ['tasks/common/validation_group_run.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4b5baada818cfb470000751c412bcc2b81aef49e', 'message': ""Fix validation inventory setup.\n\nThe tripleo-ansible-inventory needs the authentication information in\nthe environment and the inventory option doesn't work on train.\n\nChange-Id: Iae27f89e64a9276017a453db194e9f357ef338e2\nCloses-Bug: 1973743\n(cherry picked from commit 48d0b7f70ef9e8ba8caae631f45dd512e2f69c5a)\n""}]",1,846132,4b5baada818cfb470000751c412bcc2b81aef49e,5,1,2,8297,,,0,"Fix validation inventory setup.

The tripleo-ansible-inventory needs the authentication information in
the environment and the inventory option doesn't work on train.

Change-Id: Iae27f89e64a9276017a453db194e9f357ef338e2
Closes-Bug: 1973743
(cherry picked from commit 48d0b7f70ef9e8ba8caae631f45dd512e2f69c5a)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/32/846132/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/validation_group_run.yaml'],1,d591e5c446651279e4c6b2652a5d3dcbbe28f251,, shell: | source {{ undercloud_rc }} tripleo-ansible-inventory --stack {{ overcloud_stack_name }} --static-yaml-inventory {{ upgrade_validation_inventory }}," command: ""tripleo-ansible-inventory --stack {{ overcloud_stack_name }} --static-yaml-inventory {{ upgrade_validation_inventory }}""",3,1
openstack%2Fnova~master~Ic308a19374bdefd12fdc4845e2d9270c256efc65,openstack/nova,master,Ic308a19374bdefd12fdc4845e2d9270c256efc65,Add a functest for verifying multiple VGPU allocations,NEW,2022-06-14 13:09:35.000000000,2022-06-17 16:05:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-14 13:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d5575f100e0df933a82835b171dec6f87eb802d', 'message': ""Add a functest for verifying multiple VGPU allocations\n\nIn libvirt, we have a TODO note explaining that we don't support more than one\nallocation per resource provider for VGPU resource class.\nThat means that if someone wants to ask for multiple vGPUs be using different\npGPUs, this won't work.\n\nIn order to support more than one vGPU, we need to fix this TODO.\n\nChange-Id: Ic308a19374bdefd12fdc4845e2d9270c256efc65\nRelated-Bug: #1874664\n""}, {'number': 2, 'created': '2022-06-17 13:27:36.000000000', 'files': ['nova/tests/functional/libvirt/test_vgpu.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e4fdf326bdda62fc088b94deb681c46f2635e3d', 'message': ""Add a functest for verifying multiple VGPU allocations\n\nIn libvirt, we have a TODO note explaining that we don't support more than one\nallocation per resource provider for VGPU resource class.\nThat means that if someone wants to ask for multiple vGPUs be using different\npGPUs, this won't work.\n\nIn order to support more than one vGPU, we need to fix this TODO.\n\nChange-Id: Ic308a19374bdefd12fdc4845e2d9270c256efc65\nRelated-Bug: #1758086\n""}]",0,845747,0e4fdf326bdda62fc088b94deb681c46f2635e3d,15,1,2,7166,,,0,"Add a functest for verifying multiple VGPU allocations

In libvirt, we have a TODO note explaining that we don't support more than one
allocation per resource provider for VGPU resource class.
That means that if someone wants to ask for multiple vGPUs be using different
pGPUs, this won't work.

In order to support more than one vGPU, we need to fix this TODO.

Change-Id: Ic308a19374bdefd12fdc4845e2d9270c256efc65
Related-Bug: #1758086
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/845747/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_vgpu.py'],1,8d5575f100e0df933a82835b171dec6f87eb802d,test_multiple_vgpus," def test_create_server_with_two_vgpus_isolated(self): # Let's try to ask for two vGPUs with each of them be in a different # physical GPU. extra_spec = {""resources1:VGPU"": ""1"", ""resources2:VGPU"": ""1"", ""group_policy"": ""isolate""} flavor = self._create_flavor(extra_spec=extra_spec) self._create_server( image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', flavor_id=flavor, networks='auto', host=self.compute1.host) # FIXME(sbauza): Unfortunately, we only accept one allocation per # instance by the libvirt driver as you can see in _allocate_mdevs(). # So, eventually, we only have one vGPU for this instance. self.assert_mdev_usage(self.compute1, expected_amount=1) ",,15,0
openstack%2Fnova~stable%2Fussuri~Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,openstack/nova,stable/ussuri,Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320,functional: Use tempdir for CONF.instances_path,NEW,2022-06-16 17:00:23.000000000,2022-06-17 15:53:05.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/086cb551c25eff0448712f4f33a50e40d596e444', 'message': ""functional: Use tempdir for CONF.instances_path\n\nThis was being set in an ad-hoc manner throughout the code, but it's\nnecessary for all kinds of live migration and evacuation operations.\nJust centralize the configuration.\n\nNOTE(artom) This is being backported because a functional test failure\nwas observed in the stable/gate when running functional tests that are\nadded by subsequent patches. The specific error was:\n\nNo such file or directory:\n'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd\n\nThe failure is not always reproducible, but never happened again with\nthis patch cherry-picked to stable/train. Because this is a useful\npatch to have regardless, and to avoid skipping a stable release,\ncherry-pick it to stable/ussuri as well.\n\nConflicts:\n* nova/tests/functional/libvirt/base.py due to 6c4d1a6aabb changing\n the context around the line this cherry-pick adds.\n* nova/tests/functional/libvirt/test_numa_live_migration.py didn't\n  exist in stable/train.\n\nChange-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)\n""}, {'number': 2, 'created': '2022-06-16 17:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2640824d358789bf5826519363a63325a3b0c7f6', 'message': ""functional: Use tempdir for CONF.instances_path\n\nThis was being set in an ad-hoc manner throughout the code, but it's\nnecessary for all kinds of live migration and evacuation operations.\nJust centralize the configuration.\n\nNOTE(artom) This is being backported because a functional test failure\nwas observed in the stable/train when running functional tests that are\nadded by subsequent patches. The specific error was:\n\nNo such file or directory:\n'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd\n\nThe failure is not always reproducible, but never happened again with\nthis patch cherry-picked to stable/train. Because this is a useful\npatch to have regardless, and to avoid skipping a stable release,\ncherry-pick it to stable/ussuri as well.\n\nConflicts:\n* nova/tests/functional/libvirt/base.py due to 6c4d1a6aabb changing\n the context around the line this cherry-pick adds.\n* nova/tests/functional/libvirt/test_numa_live_migration.py didn't\n  exist in stable/ussuri.\n\nChange-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)\n""}, {'number': 3, 'created': '2022-06-17 15:25:00.000000000', 'files': ['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/libvirt/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05c88a4e21b523ad30ab133093b627a0fae78adf', 'message': ""functional: Use tempdir for CONF.instances_path\n\nThis was being set in an ad-hoc manner throughout the code, but it's\nnecessary for all kinds of live migration and evacuation operations.\nJust centralize the configuration.\n\nNOTE(artom) This is being backported because a functional test failure\nwas observed in stable/train when running functional tests that are\nadded by subsequent patches. The specific error was:\n\nNo such file or directory:\n'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd\n\nThe failure is not always reproducible, but never happened again with\nthis patch cherry-picked to stable/train. Because this is a useful\npatch to have regardless, and to avoid skipping a stable release,\ncherry-pick it to stable/ussuri as well.\n\nConflicts:\n* nova/tests/functional/libvirt/base.py due to 6c4d1a6aabb changing\n the context around the line this cherry-pick adds.\n* nova/tests/functional/libvirt/test_numa_live_migration.py didn't\n  exist in stable/ussuri.\n\nChange-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)\n""}]",0,846204,05c88a4e21b523ad30ab133093b627a0fae78adf,9,2,3,8864,,,0,"functional: Use tempdir for CONF.instances_path

This was being set in an ad-hoc manner throughout the code, but it's
necessary for all kinds of live migration and evacuation operations.
Just centralize the configuration.

NOTE(artom) This is being backported because a functional test failure
was observed in stable/train when running functional tests that are
added by subsequent patches. The specific error was:

No such file or directory:
'/home/zuul/src/opendev.org/openstack/nova/instances/tmpif84g_jd

The failure is not always reproducible, but never happened again with
this patch cherry-picked to stable/train. Because this is a useful
patch to have regardless, and to avoid skipping a stable release,
cherry-pick it to stable/ussuri as well.

Conflicts:
* nova/tests/functional/libvirt/base.py due to 6c4d1a6aabb changing
 the context around the line this cherry-pick adds.
* nova/tests/functional/libvirt/test_numa_live_migration.py didn't
  exist in stable/ussuri.

Change-Id: Iab455e22aa075bb1b3fb9b7d1870b1eb7314e320
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 980711f3d3f2db9dfd792a8c6fd15cb45a85f615)
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/846204/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_evacuate.py', 'nova/tests/functional/libvirt/base.py']",2,086cb551c25eff0448712f4f33a50e40d596e444,bug/1939545, self.flags(instances_path=self.useFixture(fixtures.TempDir()).path) ,,2,5
openstack%2Ftripleo-ci~master~I55a9feb105e13d6ab99810f09459bd9760cf1e9e,openstack/tripleo-ci,master,I55a9feb105e13d6ab99810f09459bd9760cf1e9e,"Revert ""Install Python38 on CentOS-8""",MERGED,2022-06-16 05:53:31.000000000,2022-06-17 15:45:28.000000000,2022-06-17 15:45:28.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31779}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-06-16 05:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a229aad06ac6034fa8c7ca9c4194d82be78c3f3', 'message': 'Revert ""Install Python38 on CentOS-8""\n\nThis reverts commit 6d7eaa96f73f348ecdd8b63c8a31ad64e2411119.\n\nCloses-Bug: #1977888\n\nReason for revert: https://review.opendev.org/c/openstack/diskimage-builder/+/845217\n\nChange-Id: I55a9feb105e13d6ab99810f09459bd9760cf1e9e\n'}, {'number': 2, 'created': '2022-06-16 05:56:19.000000000', 'files': ['roles/oooci-build-images/tasks/main.yaml', 'roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c5254c2224a80ebfbd33b21eb1aaa7686d91dc97', 'message': 'Revert ""Install Python38 on CentOS-8""\n\nThis reverts commit 6d7eaa96f73f348ecdd8b63c8a31ad64e2411119.\n\nCloses-Bug: #1977888\n\nReason for revert: https://review.opendev.org/c/openstack/diskimage-builder/+/845217\n\nChange-Id: I55a9feb105e13d6ab99810f09459bd9760cf1e9e\n'}]",4,846113,c5254c2224a80ebfbd33b21eb1aaa7686d91dc97,20,9,2,12393,,,0,"Revert ""Install Python38 on CentOS-8""

This reverts commit 6d7eaa96f73f348ecdd8b63c8a31ad64e2411119.

Closes-Bug: #1977888

Reason for revert: https://review.opendev.org/c/openstack/diskimage-builder/+/845217

Change-Id: I55a9feb105e13d6ab99810f09459bd9760cf1e9e
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/846113/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/tasks/main.yaml', 'roles/oooci-build-images/tasks/pre.yaml']",2,7a229aad06ac6034fa8c7ca9c4194d82be78c3f3,workaround_py36,,"- name: Use Python38 for EL8 when: ansible_distribution_major_version is version(8, '==') become: true block: - name: Install Python38 for CentOS-8 package: name: ""{{ item }}"" state: present with_items: - python38 - python38-devel - name: Set virtualenv_python for Python38 set_fact: ensure_pip_virtualenv_command: ""/usr/bin/python3.8 -m venv"" cacheable: true ",12,17
openstack%2Fproject-config~master~I525634ba5a6d142d28f7254e13761d4eb7420aed,openstack/project-config,master,I525634ba5a6d142d28f7254e13761d4eb7420aed,Use virtualenv in translation update jobs,MERGED,2022-06-17 14:26:53.000000000,2022-06-17 15:44:08.000000000,2022-06-17 15:44:08.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 14:26:53.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e06aa44fe1ec21ff070b503e804d93c0b5726c46', 'message': 'Use virtualenv in translation update jobs\n\n""python3.8 -m venv"" is not working as python3.8-venv\nis not installed due to an issue mentioned in [1], let\'s\nswitch to ""virtualenv"" command that supports -p option\nto pass required python version.\n\n[1] https://review.opendev.org/c/zuul/zuul-jobs/+/846201\n\nChange-Id: I525634ba5a6d142d28f7254e13761d4eb7420aed\n'}]",1,846390,e06aa44fe1ec21ff070b503e804d93c0b5726c46,7,4,1,13861,,,0,"Use virtualenv in translation update jobs

""python3.8 -m venv"" is not working as python3.8-venv
is not installed due to an issue mentioned in [1], let's
switch to ""virtualenv"" command that supports -p option
to pass required python version.

[1] https://review.opendev.org/c/zuul/zuul-jobs/+/846201

Change-Id: I525634ba5a6d142d28f7254e13761d4eb7420aed
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/846390/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e06aa44fe1ec21ff070b503e804d93c0b5726c46,fix-propose-updates," ensure_pip_virtualenv_command: ""virtualenv -p python3.8"" ensure_pip_virtualenv_command: ""virtualenv -p python3.8"""," ensure_pip_virtualenv_command: ""/usr/bin/python3.8 -m venv"" ensure_pip_virtualenv_command: ""/usr/bin/python3.8 -m venv""",2,2
openstack%2Fproject-config~master~Ib0e7aa374b4fcf8b4a825fe883a5f3de13a129a5,openstack/project-config,master,Ib0e7aa374b4fcf8b4a825fe883a5f3de13a129a5,Add github svinota/pyroute2 to project list,MERGED,2022-06-17 13:37:28.000000000,2022-06-17 15:24:49.000000000,2022-06-17 14:05:19.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 13:37:28.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8f229e13f23f766f6c9d917eb209a54f575ac655', 'message': 'Add github svinota/pyroute2 to project list\n\nAddig pyroute2 to project listwe can have jobs in Neutron which\nexecuted with master pyroute2 to have early feedback.\nSee: https://review.opendev.org/c/openstack/neutron/+/846288\n\nChange-Id: Ib0e7aa374b4fcf8b4a825fe883a5f3de13a129a5\n'}]",2,846364,8f229e13f23f766f6c9d917eb209a54f575ac655,9,4,1,8313,,,0,"Add github svinota/pyroute2 to project list

Addig pyroute2 to project listwe can have jobs in Neutron which
executed with master pyroute2 to have early feedback.
See: https://review.opendev.org/c/openstack/neutron/+/846288

Change-Id: Ib0e7aa374b4fcf8b4a825fe883a5f3de13a129a5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/64/846364/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,8f229e13f23f766f6c9d917eb209a54f575ac655,pyroute2_master_jobs, - svinota/pyroute2,,1,0
openstack%2Fopenstack-ansible~stable%2Fxena~I75bdab29353f33fa009bf9a7ff1f565f1660ed59,openstack/openstack-ansible,stable/xena,I75bdab29353f33fa009bf9a7ff1f565f1660ed59,Define corosync interface for facts gathering,MERGED,2022-06-16 13:50:38.000000000,2022-06-17 15:24:46.000000000,2022-06-17 15:21:49.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-16 13:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9ecd6902f8f8c5d8a2a2815e7b5c724333088db3', 'message': ""Define corosync interface for facts gathering\n\nWhen moving facts gathering to independent play we forgot to\ndefine variable that's being used for filtering. This makes playbook\nfail.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_masakari/+/845798\nChange-Id: I75bdab29353f33fa009bf9a7ff1f565f1660ed59\n""}, {'number': 2, 'created': '2022-06-17 10:25:27.000000000', 'files': ['playbooks/os-masakari-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/41547fc5bd4841a7584105b271733fdc990541e5', 'message': ""Define corosync interface for facts gathering\n\nWhen moving facts gathering to independent play we forgot to\ndefine variable that's being used for filtering. This makes playbook\nfail.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_masakari/+/845798\nChange-Id: I75bdab29353f33fa009bf9a7ff1f565f1660ed59\n""}]",2,846124,41547fc5bd4841a7584105b271733fdc990541e5,17,3,2,28619,,,0,"Define corosync interface for facts gathering

When moving facts gathering to independent play we forgot to
define variable that's being used for filtering. This makes playbook
fail.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_masakari/+/845798
Change-Id: I75bdab29353f33fa009bf9a7ff1f565f1660ed59
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/24/846124/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-masakari-install.yml'],1,9ecd6902f8f8c5d8a2a2815e7b5c724333088db3,," vars: pacemaker_corosync_ring_interface: ""{{ masakari_monitor_corosync_multicast_interface }}""",,2,0
openstack%2Fcharm-manila-netapp~stable%2Fxena~Ib18f5265ade81a56fcace08fc66306f5d7bcb1a3,openstack/charm-manila-netapp,stable/xena,Ib18f5265ade81a56fcace08fc66306f5d7bcb1a3,"Update the bundles to use the stable track, edge risk for xena",MERGED,2022-06-17 10:48:00.000000000,2022-06-17 15:08:49.000000000,2022-06-17 15:08:49.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 10:48:00.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-netapp/commit/e4c86ac626d53db30c3e643af4adba754036698c', 'message': 'Update the bundles to use the stable track, edge risk for xena\n\nThis update points the charms to the appropriate channel for\nthe charm being used, either from ceph, openstack, ovn or the\nmisc tracks for xena.\n\nChange-Id: Ib18f5265ade81a56fcace08fc66306f5d7bcb1a3\n'}]",1,846326,e4c86ac626d53db30c3e643af4adba754036698c,7,3,1,20870,,,0,"Update the bundles to use the stable track, edge risk for xena

This update points the charms to the appropriate channel for
the charm being used, either from ceph, openstack, ovn or the
misc tracks for xena.

Change-Id: Ib18f5265ade81a56fcace08fc66306f5d7bcb1a3
",git fetch https://review.opendev.org/openstack/charm-manila-netapp refs/changes/26/846326/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-wallaby.yaml']",2,e4c86ac626d53db30c3e643af4adba754036698c,update-bundles-xena,local_overlay_enabled: False channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge,local_overlay_enabled: True channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge channel: 8.0.19/edge,16,16
openstack%2Ftripleo-ansible~master~I56d8862522fe82cb9f2373574ee067fbe4cae98d,openstack/tripleo-ansible,master,I56d8862522fe82cb9f2373574ee067fbe4cae98d,Set current ceph dashboard mgr backend fact,MERGED,2022-06-08 10:41:16.000000000,2022-06-17 15:08:41.000000000,2022-06-17 15:08:41.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32704}]","[{'number': 1, 'created': '2022-06-08 10:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/54e2d1bd79c945a059e69af5977f09494e17780d', 'message': ""Set current ceph dashboard mgr backend fact\n\nDue to a potential issue related to regex_replace combinated to an\nansible varialble value rendering, it's recommended setting the\nfact and simplify the Ceph command that is supposed to set the backend.\n\nChange-Id: I56d8862522fe82cb9f2373574ee067fbe4cae98d\n""}, {'number': 2, 'created': '2022-06-10 12:23:31.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/configure_dashboard_backends.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a2200b6eea3f8ff8ac1df34f523778d9426f9c75', 'message': ""Set current ceph dashboard mgr backend fact\n\nDue to a potential issue related to regex_replace combinated to an\nansible varialble value rendering, it's recommended setting the\nfact and simplify the Ceph command that is supposed to set the backend.\n\nChange-Id: I56d8862522fe82cb9f2373574ee067fbe4cae98d\n""}]",2,845115,a2200b6eea3f8ff8ac1df34f523778d9426f9c75,16,6,2,25402,,,0,"Set current ceph dashboard mgr backend fact

Due to a potential issue related to regex_replace combinated to an
ansible varialble value rendering, it's recommended setting the
fact and simplify the Ceph command that is supposed to set the backend.

Change-Id: I56d8862522fe82cb9f2373574ee067fbe4cae98d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/845115/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/configure_dashboard_backends.yml'],1,54e2d1bd79c945a059e69af5977f09494e17780d,set_backend_fact," set_fact: current_mgr: ""{{ ceph_mgr.stdout | regex_replace('^-n mgr.(.*)(?P<inst>) -f (.*)+$', '\\1') }}"" - name: Check the resulting mgr container instance debug: msg: ""{{ current_mgr }}"" mgr mgr/dashboard/{{ current_mgr }}/server_addr \"," debug: msg: ""{{ ceph_mgr.stdout | regex_replace('^-n mgr.(.*)(?P<inst>) -f (.*)+$', '\\1') }}"" mgr mgr/dashboard/{{ ceph_mgr.stdout | regex_replace('^-n mgr.(.*)(?P<inst>) -f (.*)+$', '\\1') }}/server_addr \ changed_when: false",6,3
openstack%2Fopenstack-ansible-os_neutron~master~I79775c4200bbeffca1e9188543237a92f19c756c,openstack/openstack-ansible-os_neutron,master,I79775c4200bbeffca1e9188543237a92f19c756c,Fix templated max agents for l3 and dhcp,ABANDONED,2018-11-12 22:32:59.000000000,2022-06-17 15:01:23.000000000,,"[{'_account_id': 14805}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-11-12 22:32:59.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f00c80ee6f5948178a1c705aff56b185e6338bc3', 'message': ""Fix templated max agents for l3 and dhcp\n\nIf there are more than two l3 or dhcp agents within an environment the\ntemplated 'max_l3_agents_per_router' and 'dhcp_agents_per_network' were\nset to the total number of agents.\n\nThis has been corrected to limit the agents per router and agents per\nnetwork to a maximum of 2 agents.\n\nChange-Id: I79775c4200bbeffca1e9188543237a92f19c756c\n""}]",0,617388,f00c80ee6f5948178a1c705aff56b185e6338bc3,8,4,1,14805,,,0,"Fix templated max agents for l3 and dhcp

If there are more than two l3 or dhcp agents within an environment the
templated 'max_l3_agents_per_router' and 'dhcp_agents_per_network' were
set to the total number of agents.

This has been corrected to limit the agents per router and agents per
network to a maximum of 2 agents.

Change-Id: I79775c4200bbeffca1e9188543237a92f19c756c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/88/617388/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,f00c80ee6f5948178a1c705aff56b185e6338bc3,limit_max_agents,{% set max_l3_router = num_agent if num_agent < 2 else 2 %}{% set dhcp_agents_max = num_agent if num_agent < 2 else 2 %},{% set max_l3_router = num_agent if num_agent > 2 else 2 %}{% set dhcp_agents_max = num_agent if num_agent > 2 else 2 %},2,2
openstack%2Fansible-config_template~master~Iadddef84eae31fab9478ad02220ae49d1c91fa4c,openstack/ansible-config_template,master,Iadddef84eae31fab9478ad02220ae49d1c91fa4c,Use ensure SafeDumper used yaml configs,MERGED,2022-04-15 10:51:30.000000000,2022-06-17 14:53:45.000000000,2022-06-16 09:25:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-15 10:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/ebb26f01bec9ddbee6d1866b64e6d333e64e2f90', 'message': 'Use SafeDumper for yaml configs\n\nWith ansible 2.12 they started using CSafeDumper instead of\nSafeDumper which ignores indent in yaml files.\nTo preserver behaviour and config formats we fallback to original\nbehaviour with indent of 2.\n\n[1] https://github.com/ansible/ansible/blob/bfd93c835afdca638fe0757d64a9a2a4e7e72cdc/lib/ansible/module_utils/common/yaml.py#L30\n\nChange-Id: Iadddef84eae31fab9478ad02220ae49d1c91fa4c\n'}, {'number': 2, 'created': '2022-04-15 12:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/365244afff0148845891c5e9955c5325997f23bc', 'message': 'Use SafeDumper for yaml configs\n\nWith ansible 2.12 they started using CSafeDumper instead of\nSafeDumper which ignores indent in yaml files.\nTo preserver behaviour and config formats we fallback to original\nbehaviour with indent of 2.\n\n[1] https://github.com/ansible/ansible/blob/bfd93c835afdca638fe0757d64a9a2a4e7e72cdc/lib/ansible/module_utils/common/yaml.py#L30\n\nChange-Id: Iadddef84eae31fab9478ad02220ae49d1c91fa4c\n'}, {'number': 3, 'created': '2022-04-15 13:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/1d78b4410849244bd521b04f035fad34c0d3dfa3', 'message': ""Use ensure SafeDumper used yaml configs\n\nWith ansible 2.12 they started using CSafeDumper instead of\nSafeDumper which ignores indent in yaml files.\nTo preserver behaviour and config formats we fallback to original\nbehaviour with indenting.\nFor that we adjust parenting of AnsibleDumper and adding SafeDumper\nwhen it's not present there.\n\n[1] https://github.com/ansible/ansible/blob/bfd93c835afdca638fe0757d64a9a2a4e7e72cdc/lib/ansible/module_utils/common/yaml.py#L30\n\nChange-Id: Iadddef84eae31fab9478ad02220ae49d1c91fa4c\n""}, {'number': 4, 'created': '2022-06-15 10:59:42.000000000', 'files': ['plugins/action/config_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/3222aeda8f6a2d380802153a15a5fd961d356024', 'message': ""Use ensure SafeDumper used yaml configs\n\nWith ansible 2.12 they started using CSafeDumper instead of\nSafeDumper which ignores indent in yaml files.\nTo preserver behaviour and config formats we fallback to original\nbehaviour with indenting.\nFor that we adjust parenting of AnsibleDumper and adding SafeDumper\nwhen it's not present there.\n\n[1] https://github.com/ansible/ansible/blob/bfd93c835afdca638fe0757d64a9a2a4e7e72cdc/lib/ansible/module_utils/common/yaml.py#L30\n\nChange-Id: Iadddef84eae31fab9478ad02220ae49d1c91fa4c\n""}]",3,838141,3222aeda8f6a2d380802153a15a5fd961d356024,15,4,4,28619,,,0,"Use ensure SafeDumper used yaml configs

With ansible 2.12 they started using CSafeDumper instead of
SafeDumper which ignores indent in yaml files.
To preserver behaviour and config formats we fallback to original
behaviour with indenting.
For that we adjust parenting of AnsibleDumper and adding SafeDumper
when it's not present there.

[1] https://github.com/ansible/ansible/blob/bfd93c835afdca638fe0757d64a9a2a4e7e72cdc/lib/ansible/module_utils/common/yaml.py#L30

Change-Id: Iadddef84eae31fab9478ad02220ae49d1c91fa4c
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/41/838141/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/action/config_template.py'],1,ebb26f01bec9ddbee6d1866b64e6d333e64e2f90,,class IDumper(yaml.SafeDumper):,from ansible.parsing.yaml.dumper import AnsibleDumperclass IDumper(AnsibleDumper):,1,2
openstack%2Ftripleo-ci~master~Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d,openstack/tripleo-ci,master,Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d,Added standalone-full-tempest-api & -scenario -options jobs,MERGED,2022-05-25 12:03:36.000000000,2022-06-17 14:51:00.000000000,2022-06-17 14:51:00.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-05-25 12:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bb2c760b86fc1c0d16917bf575b24f92c733c324', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 2, 'created': '2022-05-25 12:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6f3a417e533e2e959daa72c616cd6e432f13b9bc', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 3, 'created': '2022-05-25 13:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c95d32d673906c31a21616705ade6b4a5f0530d9', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 4, 'created': '2022-06-06 12:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/44eb8432915592c4136c66817bdfb7c7cb5fca0f', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nThese job definitions are defined in github.com/rdo-infra/rdo-jobs\nrepo and reduplicated in downstream jobs repo.\n\nWe can not define the -options jobs in RDO because rdo-jobs repos\nare not shadowed downstream (as it brings so many job definitions,\nwhich are hard to manage downstream). So it needs to be defined in\ntripleo-ci upstream repo and inherited where ever required.\n\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 5, 'created': '2022-06-07 10:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b756936e840dfe0857aa968d6d845441fd9ff8fb', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nThese job definitions are defined in github.com/rdo-infra/rdo-jobs\nrepo and reduplicated in downstream jobs repo.\n\nWe can not define the -options jobs in RDO because rdo-jobs repos\nare not shadowed downstream (as it brings so many job definitions,\nwhich are hard to manage downstream). So it needs to be defined in\ntripleo-ci upstream repo and inherited where ever required.\n\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 6, 'created': '2022-06-07 10:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4f23ba3ec14e57afdeb48bd568fb0819cd60b6f', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nThese job definitions are defined in github.com/rdo-infra/rdo-jobs\nrepo e.g. [1] and reduplicated in downstream jobs repo.\n\nWe can not define the -options jobs in RDO because rdo-jobs repos\nare not shadowed downstream (as it brings so many job definitions,\nwhich are hard to manage downstream). So it needs to be defined in\ntripleo-ci upstream repo and inherited where ever required.\n\n[1] https://github.com/rdo-infra/rdo-jobs/blob/3b7557a6f24f8f1776f0a70ee13eb1c32c118753/zuul.d/standalone-jobs.yaml#L245-L255\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 7, 'created': '2022-06-09 10:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a3e54762a2cb4bc7ccbcd5fca0f48641fda5f88', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nThese job definitions are defined in github.com/rdo-infra/rdo-jobs\nrepo e.g. [1] and reduplicated in downstream jobs repo.\n\nWe can not define the -options jobs in RDO because rdo-jobs repos\nare not shadowed downstream (as it brings so many job definitions,\nwhich are hard to manage downstream). So it needs to be defined in\ntripleo-ci upstream repo and inherited where ever required.\n\n[1] https://github.com/rdo-infra/rdo-jobs/blob/3b7557a6f24f8f1776f0a70ee13eb1c32c118753/zuul.d/standalone-jobs.yaml#L245-L255\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 8, 'created': '2022-06-13 10:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/257e929474c55fec893b39f060211dbe1b1c62be', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nThese job definitions are defined in github.com/rdo-infra/rdo-jobs\nrepo e.g. [1] and reduplicated in downstream jobs repo.\n\nWe can not define the -options jobs in RDO because rdo-jobs repos\nare not shadowed downstream (as it brings so many job definitions,\nwhich are hard to manage downstream). So it needs to be defined in\ntripleo-ci upstream repo and inherited where ever required.\n\n[1] https://github.com/rdo-infra/rdo-jobs/blob/3b7557a6f24f8f1776f0a70ee13eb1c32c118753/zuul.d/standalone-jobs.yaml#L245-L255\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 9, 'created': '2022-06-13 10:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e6332177da6592f0f3290db22d8fd7552fab5372', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nThese job definitions are defined in github.com/rdo-infra/rdo-jobs\nrepo e.g. [1] and reduplicated in downstream jobs repo.\n\nWe can not define the -options jobs in RDO because rdo-jobs repos\nare not shadowed downstream (as it brings so many job definitions,\nwhich are hard to manage downstream). So it needs to be defined in\ntripleo-ci upstream repo and inherited where ever required.\n\n[1] https://github.com/rdo-infra/rdo-jobs/blob/3b7557a6f24f8f1776f0a70ee13eb1c32c118753/zuul.d/standalone-jobs.yaml#L245-L255\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}, {'number': 10, 'created': '2022-06-13 12:29:23.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/25a426031774d2093f487c3d33da80625c2b9f71', 'message': 'Added standalone-full-tempest-api & -scenario -options jobs\n\nThese job definitions are defined in github.com/rdo-infra/rdo-jobs\nrepo e.g. [1] and reduplicated in downstream jobs repo.\n\nWe can not define the -options jobs in RDO because rdo-jobs repos\nare not shadowed downstream (as it brings so many job definitions,\nwhich are hard to manage downstream). So it needs to be defined in\ntripleo-ci upstream repo and inherited where ever required.\n\n[1] https://github.com/rdo-infra/rdo-jobs/blob/3b7557a6f24f8f1776f0a70ee13eb1c32c118753/zuul.d/standalone-jobs.yaml#L245-L255\nChange-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d\n'}]",24,843268,25a426031774d2093f487c3d33da80625c2b9f71,60,8,10,20182,,,0,"Added standalone-full-tempest-api & -scenario -options jobs

These job definitions are defined in github.com/rdo-infra/rdo-jobs
repo e.g. [1] and reduplicated in downstream jobs repo.

We can not define the -options jobs in RDO because rdo-jobs repos
are not shadowed downstream (as it brings so many job definitions,
which are hard to manage downstream). So it needs to be defined in
tripleo-ci upstream repo and inherited where ever required.

[1] https://github.com/rdo-infra/rdo-jobs/blob/3b7557a6f24f8f1776f0a70ee13eb1c32c118753/zuul.d/standalone-jobs.yaml#L245-L255
Change-Id: Ied2f16ddc3da1d2eecf49d738427cbddd0f75f8d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/843268/10 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,bb2c760b86fc1c0d16917bf575b24f92c733c324,create-tempest-options-jobs, ######################################################## # standalone-full-tempest-scenario & - api options job # # ###################################################### - job: name: tripleo-ci-standalone-full-tempest-scenario-options vars: featureset: '052' release: master featureset_override: run_tempest: false tempest_run_concurrency: 4 tempest_services: - cinder - horizon - neutron tempest_test_whitelist: - 'scenario' use_os_tempest: true - job: name: tripleo-ci-standalone-full-tempest-api-options vars: featureset: '052' release: master featureset_override: run_tempest: false tempest_run_concurrency: 4 tempest_services: - cinder - horizon - neutron tempest_test_whitelist: - 'api' use_os_tempest: true,,36,0
openstack%2Fansible-collections-openstack~master~Ibaa74ee6095a84aa84cedc2d02e97a679c68b9d0,openstack/ansible-collections-openstack,master,Ibaa74ee6095a84aa84cedc2d02e97a679c68b9d0,"Revert ""Update endpoint to new proxy layer""",ABANDONED,2022-06-16 04:54:32.000000000,2022-06-17 14:43:42.000000000,,"[{'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}, {'_account_id': 32962}]","[{'number': 1, 'created': '2022-06-16 04:54:32.000000000', 'files': ['plugins/modules/endpoint.py', '.zuul.yaml', 'ci/roles/endpoint/tasks/main.yml', 'ci/run-collection.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e28c26db793de566a3f9e1d7b60c2c6be619c4ce', 'message': 'Revert ""Update endpoint to new proxy layer""\n\nThis reverts commit 452404ee870ab72d496c9bd3d02933a2167963c7.\n\nReason for revert: testing\n\nChange-Id: Ibaa74ee6095a84aa84cedc2d02e97a679c68b9d0\n'}]",0,846112,e28c26db793de566a3f9e1d7b60c2c6be619c4ce,4,6,1,34208,,,0,"Revert ""Update endpoint to new proxy layer""

This reverts commit 452404ee870ab72d496c9bd3d02933a2167963c7.

Reason for revert: testing

Change-Id: Ibaa74ee6095a84aa84cedc2d02e97a679c68b9d0
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/12/846112/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/endpoint.py', '.zuul.yaml', 'ci/roles/endpoint/tasks/main.yml', 'ci/run-collection.yml']",4,e28c26db793de566a3f9e1d7b60c2c6be619c4ce,endpoint," - { role: floating_ip_info, tags: floating_ip_info }"," - { role: endpoint, tags: endpoint } - { role: floating_ip_info, tags: floating_ip_info }",26,103
openstack%2Fcharm-guide~master~I724633bac00793b0e90c855545050f5f4fec40bf,openstack/charm-guide,master,I724633bac00793b0e90c855545050f5f4fec40bf,vgpu: Add virtual workstation example,MERGED,2022-06-17 11:04:21.000000000,2022-06-17 14:42:45.000000000,2022-06-17 14:40:48.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-06-17 11:04:21.000000000', 'files': ['doc/source/admin/vgpu.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/226b4cbe10f8775897b55558d6e8e6a155605660', 'message': 'vgpu: Add virtual workstation example\n\nAdd an example on how to configured a hypervisor for use as a\nvirtual workstation rather than for general compute workloads.\n\nThis specifically excludes setup of required guest instance\nGRIDD drivers and selection of remote desktop access utilities;\ndrivers are NVIDIA propriety and require licenses and numerous\npropriety remote desktop solutions exist.\n\nOpen Source remote desktop solutions are still fairly primitive.\n\nChange-Id: I724633bac00793b0e90c855545050f5f4fec40bf\n'}]",0,846339,226b4cbe10f8775897b55558d6e8e6a155605660,7,2,1,935,,,0,"vgpu: Add virtual workstation example

Add an example on how to configured a hypervisor for use as a
virtual workstation rather than for general compute workloads.

This specifically excludes setup of required guest instance
GRIDD drivers and selection of remote desktop access utilities;
drivers are NVIDIA propriety and require licenses and numerous
propriety remote desktop solutions exist.

Open Source remote desktop solutions are still fairly primitive.

Change-Id: I724633bac00793b0e90c855545050f5f4fec40bf
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/39/846339/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/vgpu.rst'],1,226b4cbe10f8775897b55558d6e8e6a155605660,virtual-workstation,"Alternatively, to have two Virtual Workstation optimized (``GRID V100-8Q``) vGPUs become available (``max_instances=2``), vGPU type ``nvidia-108`` (on physical GPU ``0000:c1:00.0``) can be selected: .. code-block:: none juju config nova-compute-nvidia-vgpu vgpu-device-mappings=""{'nvidia-108': ['0000:c1:00.0']}"" Instances provisioned using this vGPU type could then be used as virtual workstations and accessed using suitable hardware accelerated remote desktop utilities. ",,12,0
openstack%2Fcharm-guide~master~I7f53becdda539697e459bf47db627b99e67f1fff,openstack/charm-guide,master,I7f53becdda539697e459bf47db627b99e67f1fff,Update vGPU guide for compatible GPU type,MERGED,2022-05-18 15:13:12.000000000,2022-06-17 14:29:51.000000000,2022-06-17 14:27:51.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2022-05-18 15:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7338439af43b79af4de9f50b404da209c40e96bc', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}, {'number': 2, 'created': '2022-05-19 13:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/99992ea6368cb66d5a0a7fb6792ce404b001d7e0', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}, {'number': 3, 'created': '2022-05-20 13:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/d9b9ed89730aefdb87923eec27f6eb7e33ab0fcc', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}, {'number': 4, 'created': '2022-05-23 08:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c58bbfef91e806b0ef4d11a529c9776e54b8beca', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}, {'number': 5, 'created': '2022-05-23 13:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/fcb0eede562376bc80260a988bfffd69c1958ae3', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}, {'number': 6, 'created': '2022-05-25 12:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/07fbfb1c4f4f2b7b5f98ef7e07739740386f29d5', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nBump baseline to Ubuntu 20.04 LTS with OpenStack Ussuri; this\nis the earliest release combination that is tested.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}, {'number': 7, 'created': '2022-06-01 04:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/77512538f4fb8b37ba11cb620e69da697b6f7209', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nBump baseline to Ubuntu 20.04 LTS with OpenStack Ussuri; this\nis the earliest release combination that is tested.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}, {'number': 8, 'created': '2022-06-17 10:20:48.000000000', 'files': ['doc/source/admin/vgpu.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8018bb3de5ba1c215e770a4e303d6e9a8b462307', 'message': 'Update vGPU guide for compatible GPU type\n\nEnsure that a suitable GPU type is configured for the vGPU\nmediated devices - some types are not compatible with the\nNVIDIA GRID driver.\n\nBump baseline to Ubuntu 20.04 LTS with OpenStack Ussuri; this\nis the earliest release combination that is tested.\n\nChange-Id: I7f53becdda539697e459bf47db627b99e67f1fff\n'}]",6,842374,8018bb3de5ba1c215e770a4e303d6e9a8b462307,26,3,8,935,,,0,"Update vGPU guide for compatible GPU type

Ensure that a suitable GPU type is configured for the vGPU
mediated devices - some types are not compatible with the
NVIDIA GRID driver.

Bump baseline to Ubuntu 20.04 LTS with OpenStack Ussuri; this
is the earliest release combination that is tested.

Change-Id: I7f53becdda539697e459bf47db627b99e67f1fff
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/74/842374/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/vgpu.rst'],1,7338439af43b79af4de9f50b404da209c40e96bc,vgpu-grid-types,"``nvidia-108`` (on physical GPU ``0000:c1:00.0``) can be selected: juju config nova-compute-nvidia-vgpu vgpu-device-mappings=""{'nvidia-108': ['0000:c1:00.0']}"" | 807d28f4-4b30-4f85-a770-1bcebd1236d3 | node-sparky.maas_pci_0000_c1_00_0 | 1 | e0f99e40-a7a5-42bb-a222-387a540c3725 | e0f99e40-a7a5-42bb-a222-387a540c3725 |","``nvidia-442`` (on physical GPU ``0000:41:00.0``) can be selected: juju config nova-compute-nvidia-vgpu vgpu-device-mappings=""{'nvidia-442': ['0000:41:00.0']}"" | 807d28f4-4b30-4f85-a770-1bcebd1236d3 | node-sparky.maas_pci_0000_41_00_0 | 1 | e0f99e40-a7a5-42bb-a222-387a540c3725 | e0f99e40-a7a5-42bb-a222-387a540c3725 |",3,3
openstack%2Fopenstack-ansible-os_magnum~master~Ic77d8645613d265997895b6742b334336ce00ec1,openstack/openstack-ansible-os_magnum,master,Ic77d8645613d265997895b6742b334336ce00ec1,Support service tokens,MERGED,2022-06-15 16:58:20.000000000,2022-06-17 14:06:44.000000000,2022-06-17 14:03:43.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 16:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a90dd301eca50887eb80dd6b074618355aef55dc', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Ic77d8645613d265997895b6742b334336ce00ec1\n'}, {'number': 2, 'created': '2022-06-16 09:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/a6aaf9950da1504b2f0f3eb98b530afcc1833d3d', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846142\nChange-Id: Ic77d8645613d265997895b6742b334336ce00ec1\n'}, {'number': 3, 'created': '2022-06-16 18:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/837be8a1b7f066d4d09ec16a69dd8cedfa83a17e', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846142\nChange-Id: Ic77d8645613d265997895b6742b334336ce00ec1\n'}, {'number': 4, 'created': '2022-06-17 08:29:33.000000000', 'files': ['tasks/magnum_service_setup.yml', 'defaults/main.yml', 'templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/4c4c70a3768fa12b1b3ed077ab1736b85d8fd43a', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846142\nChange-Id: Ic77d8645613d265997895b6742b334336ce00ec1\n'}]",1,846037,4c4c70a3768fa12b1b3ed077ab1736b85d8fd43a,17,4,4,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846142
Change-Id: Ic77d8645613d265997895b6742b334336ce00ec1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/37/846037/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/magnum_service_setup.yml', 'defaults/main.yml', 'templates/magnum.conf.j2']",3,a90dd301eca50887eb80dd6b074618355aef55dc,osa/service_tokens,"service_token_roles_required = {{ magnum_service_token_roles_required | bool }} service_token_roles = {{ magnum_service_token_roles | join(',') }} service_type = {{ magnum_service_type }}",,18,22
openstack%2Fopenstack-ansible-os_magnum~master~I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739,openstack/openstack-ansible-os_magnum,master,I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739,Control amount of conductor workers,MERGED,2022-06-16 11:52:36.000000000,2022-06-17 14:05:22.000000000,2022-06-17 14:03:40.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 11:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/c37ec6f2aa83f88cb30bd0c1bd01acc6bce99073', 'message': ""Control amount of conductor workers\n\nAs of today we didn't manage amount of magnum-conductors that equal to\namount of CPU on host. So things can go off regarding CPU and memory\nconsumption. For better control on resources we add variable to control\nconductor workers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846151\nChange-Id: I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739\n""}, {'number': 2, 'created': '2022-06-17 08:24:58.000000000', 'files': ['releasenotes/notes/magnum_conductor_workers-3f7eafeb4429dd0b.yaml', 'defaults/main.yml', 'templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/5e1780b8098216fc645e2de353d716b744c4a1b6', 'message': ""Control amount of conductor workers\n\nAs of today we didn't manage amount of magnum-conductors that equal to\namount of CPU on host. So things can go off regarding CPU and memory\nconsumption. For better control on resources we add variable to control\nconductor workers.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846151\nChange-Id: I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739\n""}]",3,846153,5e1780b8098216fc645e2de353d716b744c4a1b6,15,4,2,28619,,,0,"Control amount of conductor workers

As of today we didn't manage amount of magnum-conductors that equal to
amount of CPU on host. So things can go off regarding CPU and memory
consumption. For better control on resources we add variable to control
conductor workers.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/846151
Change-Id: I3eedd74717b3b621b4e0b6ae4a8df4ee6f1eb739
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/53/846153/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/magnum_conductor_workers-3f7eafeb4429dd0b.yaml', 'defaults/main.yml', 'templates/magnum.conf.j2']",3,c37ec6f2aa83f88cb30bd0c1bd01acc6bce99073,,[conductor] workers = {{ magnum_conductor_workers }} ,,13,0
openstack%2Ftripleo-heat-templates~master~I3a73996b00e7d169756875b39aba18f8f305a718,openstack/tripleo-heat-templates,master,I3a73996b00e7d169756875b39aba18f8f305a718,Remove legacy network-isolation env files,MERGED,2022-05-09 12:54:39.000000000,2022-06-17 14:04:17.000000000,2022-05-10 18:04:07.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-05-09 12:54:39.000000000', 'files': ['environments/network-isolation.j2.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'environments/network-isolation-v6.j2.yaml', 'environments/network-isolation-no-tunneling.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f71723aa591955a5cc9b64bd8416a388d5d9911f', 'message': 'Remove legacy network-isolation env files\n\nThese environment files no longer work. In\nfact, using them will cause errors during the\ndeployment. We should remove them to avoid\ncausing confusion for users.\n\nChange-Id: I3a73996b00e7d169756875b39aba18f8f305a718\n'}]",2,841112,f71723aa591955a5cc9b64bd8416a388d5d9911f,11,6,1,30073,,,0,"Remove legacy network-isolation env files

These environment files no longer work. In
fact, using them will cause errors during the
deployment. We should remove them to avoid
causing confusion for users.

Change-Id: I3a73996b00e7d169756875b39aba18f8f305a718
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/841112/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/network-isolation.j2.yaml', 'environments/network-isolation-v6-all.j2.yaml', 'environments/network-isolation-v6.j2.yaml', 'environments/network-isolation-no-tunneling.j2.yaml']",4,f71723aa591955a5cc9b64bd8416a388d5d9911f,legacy-env,,"# ****************************************************************************** # DEPRECATED: Modify networks used for custom roles by modifying the role file # in the roles/ directory, or disable the network entirely by setting network to # ""enabled: false"" in network_data.yaml. # ****************************************************************************** # Enable the creation of Neutron networks for isolated Overcloud # traffic and configure each role to assign ports (related # to that role) on these networks. This version of the environment # has no dedicated VLAN for tunneling, for deployments that use # VLAN mode, flat provider networks, etc. resource_registry: # networks as defined in network_data.yaml, except for tenant net {%- for network in networks if network.enabled|default(true) and network.name != 'Tenant' %} OS::TripleO::Network::{{network.name}}: ../network/{{network.name_lower|default(network.name.lower())}}.yaml {%- endfor %} OS::TripleO::Network::Tenant: OS::Heat::None # Port assignments for the VIPs {%- for network in networks if network.vip and network.name != 'Tenant' %} OS::TripleO::Network::Ports::{{network.name}}VipPort: ../network/ports/{{network.name_lower|default(network.name.lower())}}.yaml {%- endfor %} # Port assignments for each role are determined by the role definition. {%- for role in roles %} {#- Convert net map or net list to internal list of networks #} {#- NOTE(hjensas): For backward compatibility support role data with both #} {#- networks map (new schema) and network list (old schema). #} {%- if role.networks is mapping %} {%- set _role_networks = [] %} {%- for key, val in role.networks.items() %} {%- set _ = _role_networks.append(key) %} {%- endfor %} {%- else %} {%- set _role_networks = role.networks %} {%- endif %} # Port assignments for the {{role.name}} role. {%- for network in networks %} {%- if network.name in _role_networks and network.enabled|default(true) and network.name != 'Tenant'%} OS::TripleO::{{role.name}}::Ports::{{network.name}}Port: ../network/ports/{{network.name_lower|default(network.name.lower())}}.yaml {%- elif network.enabled|default(true) %} OS::TripleO::{{role.name}}::Ports::{{network.name}}Port: ../network/ports/noop.yaml {%- endif %} {%- endfor %} {%- endfor %} ",0,189
openstack%2Fcharm-vault~master~I54cc83d5ce02dc823a6a21baf8045392eed5ab6f,openstack/charm-vault,master,I54cc83d5ce02dc823a6a21baf8045392eed5ab6f,Add action to get vault status,NEW,2020-12-18 02:34:07.000000000,2022-06-17 13:54:01.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 02:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/a4f9be28419b4a534c589cb2dac65671af105bfd', 'message': ""Add action to get vault status\n\nAs requested by bug #1846282, add\n'status' action that will emit output\nequivalent to the CLI command of\n`systemctl status vault`.\n\nThis change also added unit test for\n'status' action.\n\nCloses-Bug: #1846282\nChange-Id: I54cc83d5ce02dc823a6a21baf8045392eed5ab6f\n""}, {'number': 2, 'created': '2020-12-18 02:44:29.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/actions.yaml', 'src/actions/status', 'src/actions/actions.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/5873b6c2d77f5588926aed920b0662807da7c985', 'message': ""Add action to get vault status\n\nAs requested by bug #1846282, add 'status' action\nthat will emit output equivalent to the CLI command\nof `systemctl status vault`.\n\nThis change also added unit and functional test for\n'status' action.\n\nCloses-Bug: #1846282\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/474\n\nChange-Id: I54cc83d5ce02dc823a6a21baf8045392eed5ab6f\n""}]",2,767655,5873b6c2d77f5588926aed920b0662807da7c985,12,4,2,32578,,,0,"Add action to get vault status

As requested by bug #1846282, add 'status' action
that will emit output equivalent to the CLI command
of `systemctl status vault`.

This change also added unit and functional test for
'status' action.

Closes-Bug: #1846282
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/474

Change-Id: I54cc83d5ce02dc823a6a21baf8045392eed5ab6f
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/55/767655/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/actions.yaml', 'src/actions/status', 'src/actions/actions.py', 'src/reactive/vault_handlers.py']",5,a4f9be28419b4a534c589cb2dac65671af105bfd,bug/1846282," action_set, action_fail, def get_vault_status(): """"""Get vault status"""""" outmap = {} cmd = ""systemctl status vault --no-pager"" try: outmap['vault-status'] = subprocess.check_output( cmd, shell=True).decode('UTF-8') except subprocess.CalledProcessError as e: log(e) action_fail( ""Getting vault status failed: {}"".format(e.message) ) action_set(outmap)",,42,0
openstack%2Fcharm-neutron-openvswitch~stable%2Fwallaby~Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac,openstack/charm-neutron-openvswitch,stable/wallaby,Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac,Pin tempest for python<3.8,ABANDONED,2022-06-16 17:35:42.000000000,2022-06-17 13:35:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 17:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f668972232e694447d20899b00d12cc8bcbf07e5', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac\n'}, {'number': 2, 'created': '2022-06-16 17:45:53.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/efe699c3d5db72a680bc7334672af8d8d07dacb3', 'message': 'Pin tempest for python<3.8\n\nChange-Id: Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac\n'}]",0,846211,efe699c3d5db72a680bc7334672af8d8d07dacb3,5,1,2,10058,,,0,"Pin tempest for python<3.8

Change-Id: Idd97e21dd04dae6b1afe6cd5ef57a92ad9dfebac
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/11/846211/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f668972232e694447d20899b00d12cc8bcbf07e5,fix-py36,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fcharm-magpie~master~I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d,openstack/charm-magpie,master,I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d,Detect minor packet loss in ping step,MERGED,2022-05-16 02:03:21.000000000,2022-06-17 13:24:42.000000000,2022-06-17 13:24:42.000000000,"[{'_account_id': 8108}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 02:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/dc9c5bd9dd445e25358a672f30ff9f7ed1fade54', 'message': 'WIP: PoC detect packet loss in ping step\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 2, 'created': '2022-05-16 03:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/20dce4b8ba77852d58bb0424eb9472339164036f', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 3, 'created': '2022-05-16 04:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/cabf584dd09e889e8a52a393f72e792defa2044c', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 4, 'created': '2022-05-16 04:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/acbdf4b8a38ced5174f3b7efcf8eab63518bcdc3', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 5, 'created': '2022-05-16 05:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/df141233c4d1de1f0796176e0118be9d3d391530', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 6, 'created': '2022-05-16 05:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/e5ecda2ba140de34db12fd5fa2a062f931c84d77', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 7, 'created': '2022-05-16 05:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/ba4d2de5fe4b2bd242b1e1245cfee6f5b6292ca9', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 8, 'created': '2022-05-16 05:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/e7a3596c30960606f5dc27cd65fad0037b3ab107', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 9, 'created': '2022-05-16 06:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/07a91c19592a3379a12630563882e4c7d0f5a3c6', 'message': 'WIP: PoC detect packet loss in ping step\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 10, 'created': '2022-05-16 23:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/99ba58c59734707e7e247d370d8adcb01130ede9', 'message': 'WIP: PoC detect packet loss in ping step\n\nplus start working on refactoring iperf step\nto detect packet loss there too\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 11, 'created': '2022-05-16 23:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/6645b4a80d3117676d69d15f29762c8a7f8f4fb9', 'message': 'WIP: PoC detect packet loss in ping step\n\nplus start working on refactoring iperf step\nto detect packet loss there too\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 12, 'created': '2022-05-17 00:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/e9f71a043e1626625b6cd3de2ad7b00fcf650e03', 'message': 'WIP: PoC detect packet loss in ping step\n\nplus start working on refactoring iperf step\nto detect packet loss there too\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 13, 'created': '2022-05-17 01:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/31366a528db13cf43cb92a3e50278b296324343a', 'message': 'WIP: PoC detect packet loss in ping step\n\nplus start working on refactoring iperf step\nto detect packet loss there too\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 14, 'created': '2022-05-17 01:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/28db2da379a05a5e8def1c4460f849da13f01f61', 'message': 'WIP: PoC detect packet loss in ping step\n\nplus start working on refactoring iperf step\nto detect packet loss there too\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nLP: #1973606\nLP: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 15, 'created': '2022-05-17 01:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/7263752b27f3442e5f15781114ac51af20604bf8', 'message': 'WIP: PoC detect packet loss in ping step\n\nplus start working on refactoring iperf step\nto detect packet loss there too\n\nwheelhouse changes are hopefully temporary;\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 16, 'created': '2022-05-17 01:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/8d1f156328ceb3e801031d7f4ca3bf661dc5fa3a', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for packet loss threshold\nand interval between sending ping packets,\nso we have more control for tuning if required.\n\nThere is also some minor refactoring with the iperf step.\nThis was done in preparation for adding packet loss detection there too,\nbut it turned out to be a larger task.\nI left the refactoring, because I think it's more maintainable now.\n\nNote: wheelhouse.txt changes are hopefully temporary:\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 17, 'created': '2022-05-17 01:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/6866e28b7d002928cca06821984ed47721528c4d', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for packet loss threshold\nand interval between sending ping packets,\nso we have more control for tuning if required.\n\nThere is also some minor refactoring with the iperf step.\nThis was done in preparation for adding packet loss detection there too,\nbut it turned out to be a larger task.\nI left the refactoring, because I think it's more maintainable now.\n\nNote: wheelhouse.txt changes are hopefully temporary:\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 18, 'created': '2022-05-17 01:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/6a11f878e90c958ba22106531b0a145818f9fb60', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for packet loss threshold\nand interval between sending ping packets,\nso we have more control for tuning if required.\n\nThere is also some minor refactoring with the iperf step.\nThis was done in preparation for adding packet loss detection there too,\nbut it turned out to be a larger task.\nI left the refactoring, because I think it's more maintainable now.\n\nNote: wheelhouse.txt changes are hopefully temporary:\na workaround for https://github.com/pypa/setuptools_scm/issues/713\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 19, 'created': '2022-05-17 03:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/f03e78a2b07c72694281141c9992d0576a597237', 'message': 'Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for interval between sending ping packets,\nso we have more control for tuning if required.\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n'}, {'number': 20, 'created': '2022-05-17 05:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/c69462f2c7245cb4141e7150a43acfccd8ab3fb0', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for interval between sending ping packets,\nso we have more control for tuning if required.\n\nIn the juju status output message,\nthe percentage of packet loss will now be shown for each host\nif there was packet loss.\nExamples:\n\n- 100% loss (total failure): icmp failed: ['1']\n- some loss, but not total: icmp failed: ['1: 25% packet loss']\n- host 1 total failure, host 2 with some packet loss:\n    icmp failed: ['1', '2: 25% packet loss']\n- all good: icmp ok\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 21, 'created': '2022-05-17 06:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/cd7a240c85d2b005ba3f4292f88299774fca3145', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for interval between sending ping packets,\nso we have more control for tuning if required.\n\nIn the juju status output message,\nthe percentage of packet loss will now be shown for each host\nif there was packet loss.\nExamples:\n\n- 100% loss (total failure): icmp failed: ['1']\n- some loss, but not total: icmp failed: ['1: 25% packet loss']\n- host 1 total failure, host 2 with some packet loss:\n    icmp failed: ['1', '2: 25% packet loss']\n- all good: icmp ok\n\nFinally, drop the py35 tox test env,\nbecause python 3.5 is no longer supported.\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 22, 'created': '2022-05-17 23:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/54a49131a27d380c0b2fc3282e5b2a94f0db704c', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for interval between sending ping packets,\nso we have more control for tuning if required.\n\nIn the juju status output message,\nthe percentage of packet loss will now be shown for each host\nif there was packet loss.\nExamples:\n\n- 100% loss (total failure): icmp failed: ['1']\n- some loss, but not total: icmp failed: ['1: 25% packet loss']\n- host 1 total failure, host 2 with some packet loss:\n    icmp failed: ['1', '2: 25% packet loss']\n- all good: icmp ok\n\nFinally, drop the py35 tox test env,\nbecause python 3.5 is no longer supported.\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 23, 'created': '2022-05-31 04:06:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/db0a80d9ad8de506db8659ea050aceae2f194c1d', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for interval between sending ping packets,\nso we have more control for tuning if required.\n\nIn the juju status output message,\nthe percentage of packet loss will now be shown for each host\nif there was packet loss.\nExamples:\n\n- 100% loss (total failure): icmp failed: ['1']\n- some loss, but not total: icmp failed: ['1: 25% packet loss']\n- host 1 total failure, host 2 with some packet loss:\n    icmp failed: ['1', '2: 25% packet loss']\n- all good: icmp ok\n\nFinally, drop the py35 tox test env,\nbecause python 3.5 is no longer supported.\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 24, 'created': '2022-05-31 05:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/57de26a5cc417bbb7c09d19b89e1ab0dbcfa6576', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for interval between sending ping packets,\nso we have more control for tuning if required.\n\nIn the juju status output message,\nthe percentage of packet loss will now be shown for each host\nif there was packet loss.\nExamples:\n\n- 100% loss (total failure): icmp failed: ['1']\n- some loss, but not total: icmp failed: ['1: 25% packet loss']\n- host 1 total failure, host 2 with some packet loss:\n    icmp failed: ['1', '2: 25% packet loss']\n- all good: icmp ok\n\nFinally, drop the py35 tox test env,\nbecause python 3.5 is no longer supported.\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}, {'number': 25, 'created': '2022-06-05 22:31:37.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/lib/charms/layer/magpie_tools.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/ca6b68cf4198ed9656c86b4c124785f97f098f24', 'message': ""Detect minor packet loss in ping step\n\nImprove how the ping check works to detect packet loss.\nPreviously, the ping check would only fail\nwith high packet loss situations.\n\nAdd charm config for interval between sending ping packets,\nso we have more control for tuning if required.\n\nIn the juju status output message,\nthe percentage of packet loss will now be shown for each host\nif there was packet loss.\nExamples:\n\n- 100% loss (total failure): icmp failed: ['1: 100% packet loss']\n- some loss, but not total: icmp failed: ['1: 25% packet loss']\n- host 1 total failure, host 2 with some packet loss:\n    icmp failed: ['1: 100% packet loss', '2: 25% packet loss']\n- all good: icmp ok\n\nFinally, drop the py35 tox test env,\nbecause python 3.5 is no longer supported.\n\nCloses-Bug: #1973606\nCloses-Bug: #1973659\n\nChange-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d\n""}]",68,841826,ca6b68cf4198ed9656c86b4c124785f97f098f24,103,5,25,34352,,,0,"Detect minor packet loss in ping step

Improve how the ping check works to detect packet loss.
Previously, the ping check would only fail
with high packet loss situations.

Add charm config for interval between sending ping packets,
so we have more control for tuning if required.

In the juju status output message,
the percentage of packet loss will now be shown for each host
if there was packet loss.
Examples:

- 100% loss (total failure): icmp failed: ['1: 100% packet loss']
- some loss, but not total: icmp failed: ['1: 25% packet loss']
- host 1 total failure, host 2 with some packet loss:
    icmp failed: ['1: 100% packet loss', '2: 25% packet loss']
- all good: icmp ok

Finally, drop the py35 tox test env,
because python 3.5 is no longer supported.

Closes-Bug: #1973606
Closes-Bug: #1973659

Change-Id: I50dbbf4d0e0df8f36b9eb63aedd69ddc845f167d
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/26/841826/5 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charms/layer/magpie_tools.py'],1,dc9c5bd9dd445e25358a672f30ff9f7ed1fade54,detect-packet-loss,"from typing import Listdef ping(addr, timeout, count, mtu=None) -> int: """""" Ping `addr` with provided options. Return an integer between 0 and 100, representing the percentage of packet loss. """""" args = [""ping"", ""-c"", count, ""-w"", timeout] if mtu: args.extend((""-M"", ""do"", ""-s"", str(int(mtu) - 28))) args.append(addr) hookenv.log('Ping command: {}'.format("" "".join(args)), 'DEBUG') try: output = subprocess.check_output(args) except subprocess.CalledProcessError as e: output = e.output hookenv.log(f""pinging {addr} failed with message '{output}'"", ""DEBUG"") return 100 # total failure match = re.search(r'(\d+)%\s+packet\s+loss', output) if match: return int(match.group(1)) hookenv.log(f""unknown failing pinging {addr}"", ""DEBUG"") hookenv.log(output, ""DEBUG"") return 100def check_ping(nodes, mtu=None) -> List[str]: """""" Ping nodes and return list of unreachable unit ids. """""" try: # XXX: what is this for? Why would `unreachable` be already defined? # threshold is the maximum permitted packet loss percentage # as an integer between 0 and 100 inclusive. # TODO: make threshold configurable threshold = 0 packet_loss = ping(node[1], ping_time, ping_tries, mtu=mtu) if packet_loss > threshold: hookenv.log( f'Ping FAILED for unit_id: {unit_id}. ' '{packet_loss}% packet loss', 'ERROR' ) hookenv.log( f'Ping OK for unit_id: {unit_id}. ' {packet_loss}% packet loss', 'INFO' )","def ping(input, ping_time, ping_tries, mtu=None): ping_size = """" if mtu: ping_size = ""-M do -s {}"".format(str(int(mtu) - 28)) ping_string = ""ping -c {} -w {} {} {} > /dev/null 2>&1""\ .format(ping_tries, ping_time, input, ping_size) hookenv.log('Ping command: {}'.format(ping_string), 'DEBUG') response = os.system(ping_string) if response == 0: return 0 else: return 1def check_ping(nodes, mtu=None): try: if ping(node[1], ping_time, ping_tries, mtu=mtu) == 1: hookenv.log('Ping FAILED for unit_id: ' + str(unit_id), 'ERROR') hookenv.log('Ping OK for unit_id: ' + str(unit_id), 'INFO')",45,16
openstack%2Fdevstack-tools~master~Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1,openstack/devstack-tools,master,Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1,Drop py3.6 and py3.7 from devstack-tools,MERGED,2022-06-16 09:06:43.000000000,2022-06-17 13:19:27.000000000,2022-06-17 13:17:02.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-06-16 09:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/a5b1c9071770b560a1d012edbdbd73359906e0a0', 'message': 'DNM CI jobs health check\n\nChange-Id: Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1\n'}, {'number': 2, 'created': '2022-06-16 10:09:23.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'releasenotes/notes/Drop-py3.6-and-py3.7-from-devstack-tools-92af6155b0dc3314.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-tools/commit/325d17522d528380c8ca5fc5b1df9f4ff86c2f4a', 'message': 'Drop py3.6 and py3.7 from devstack-tools\n\nIn zed cycle, OpenStack projects and oslo lib have dropped\nthe py3.6 and py3.7 support:\n\n- https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1\n'}]",1,846138,325d17522d528380c8ca5fc5b1df9f4ff86c2f4a,11,3,2,22873,,,0,"Drop py3.6 and py3.7 from devstack-tools

In zed cycle, OpenStack projects and oslo lib have dropped
the py3.6 and py3.7 support:

- https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Iaa3a96e20dc8aeb89d237f267612d5a3397b3dd1
",git fetch https://review.opendev.org/openstack/devstack-tools refs/changes/38/846138/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a5b1c9071770b560a1d012edbdbd73359906e0a0,, # DNM change,,1,0
openstack%2Fovn-octavia-provider~master~I7c75003516015863320e53f0175dec8fdf4e2cf7,openstack/ovn-octavia-provider,master,I7c75003516015863320e53f0175dec8fdf4e2cf7,Apply ServiceMonitorEvent to affected LBs,MERGED,2022-06-01 11:48:10.000000000,2022-06-17 13:15:10.000000000,2022-06-17 13:13:59.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 11:48:10.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7db9e23fd9642eacb78731bf215a4820978436ca', 'message': 'Apply ServiceMonitorEvent to affected LBs\n\nEvery Health_Monitor over a LB creates Load_Balancer_Health_Check\nNB entry, and it creates 1..n Service_Monitor OVN SB entries according\nto the member to be monitored. When more than one LB exists on the\nsame network segment for the same member, Service_Monitor SB\nentries are not duplicated, in order to not performing multiple\nchecks on the same member.\n\nWhen a ServiceMonitorUpdateEvent is received with status information\nfrom a member, the LBs that match the event information (protocol,\nip, port and logical_port) are searched. At this way we ensure that\nnetwork segments are separated where the same ip and port could match\nbut the logical_port would be different.\n\nThe current logic will update just the status of the first LB selected\nas ""related"" to the member event received from the Service_Monitor,\nbut we could use this information to keep updated all those LBs, that\nare in the same network segment and have a Health_Monitor associated\nto.\n\nThis patch will fix this behaviour in order to provide status to\nOctavia of all LBs affected by a ServiceMonitorUpdateEvent.\n\nPartial-Bug: #1965772\nCloses-Bug: #1965772\nChange-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7\n'}]",11,844283,7db9e23fd9642eacb78731bf215a4820978436ca,30,3,1,34451,,,0,"Apply ServiceMonitorEvent to affected LBs

Every Health_Monitor over a LB creates Load_Balancer_Health_Check
NB entry, and it creates 1..n Service_Monitor OVN SB entries according
to the member to be monitored. When more than one LB exists on the
same network segment for the same member, Service_Monitor SB
entries are not duplicated, in order to not performing multiple
checks on the same member.

When a ServiceMonitorUpdateEvent is received with status information
from a member, the LBs that match the event information (protocol,
ip, port and logical_port) are searched. At this way we ensure that
network segments are separated where the same ip and port could match
but the logical_port would be different.

The current logic will update just the status of the first LB selected
as ""related"" to the member event received from the Service_Monitor,
but we could use this information to keep updated all those LBs, that
are in the same network segment and have a Health_Monitor associated
to.

This patch will fix this behaviour in order to provide status to
Octavia of all LBs affected by a ServiceMonitorUpdateEvent.

Partial-Bug: #1965772
Closes-Bug: #1965772
Change-Id: I7c75003516015863320e53f0175dec8fdf4e2cf7
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/83/844283/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,7db9e23fd9642eacb78731bf215a4820978436ca,," {'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], 'ovn_lb': [self.ovn_hm_lb], def _add_member(self, lb, subnet, port, ip=None): if not ip: fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = lb.external_ids[pool_key] existing_member_status = lb.external_ids[ lb.external_ids[pool_key] = existing_members lb.external_ids[ lb.external_ids[pool_key] = member_line lb.external_ids[ member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) def test_hm_update_status_offline_two_lbs_affected(self): fake_subnet = fakes.FakeSubnet.create_one_subnet() ovn_hm_lb_2 = copy.deepcopy(self.ovn_hm_lb) ovn_hm_lb_2.uuid = uuidutils.generate_uuid() member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member( ovn_hm_lb_2, fake_subnet, 8080, ip=member['address']) info = { 'ovn_lb': [self.ovn_hm_lb, ovn_hm_lb_2], 'ip': member['address'], 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': '8080', 'protocol': self.ovn_hm_lb.protocol, 'status': ['offline']} self._update_member_status(self.ovn_hm_lb, member['id'], 'offline') self._update_member_status(ovn_hm_lb_2, member_2['id'], 'offline') status = self.helper.hm_update_event(info) self.assertEqual(status['pools'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][0]['operating_status'], constants.ERROR) self.assertEqual(status['members'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][0]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][0]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][0]['operating_status'], constants.ERROR) self.assertEqual(status['pools'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['pools'][1]['operating_status'], constants.ERROR) self.assertEqual(status['members'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['members'][1]['operating_status'], constants.ERROR) self.assertEqual(status['loadbalancers'][1]['provisioning_status'], constants.ACTIVE) self.assertEqual(status['loadbalancers'][1]['operating_status'], constants.ERROR) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081) member_1 = self._add_member(self.ovn_hm_lb, fake_subnet, 8080) member_2 = self._add_member(self.ovn_hm_lb, fake_subnet, 8081)"," {'ovn_lb': self.ovn_hm_lb, def test_hm_update_event_lb_protocol_not_found(self): self.helper.ovn_nbdb_api.db_find_rows.\ side_effect = [self.ovn_hm_lb, idlutils.RowNotFound] self.hm_update_event = ovn_event.ServiceMonitorUpdateEvent( self.helper) row = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'ip': self.member_address, 'logical_port': 'a-logical-port', 'src_ip': '10.22.33.4', 'port': self.member_port, 'protocol': 'unknown', 'status': ['offline']}) self.hm_update_event.run('update', row, mock.ANY) self.mock_add_request.assert_not_called() 'ovn_lb': self.ovn_hm_lb, 'ovn_lb': self.ovn_hm_lb, def _add_member(self, subnet, port): fake_port = fakes.FakePort.create_one_port( attrs={'allowed_address_pairs': ''}) ip = fake_port['fixed_ips'][0]['ip_address'] existing_members = self.ovn_hm_lb.external_ids[pool_key] existing_member_status = self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = existing_members self.ovn_hm_lb.external_ids[ self.ovn_hm_lb.external_ids[pool_key] = member_line self.ovn_hm_lb.external_ids[ member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member = self._add_member(fake_subnet, 8080) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081) member_1 = self._add_member(fake_subnet, 8080) member_2 = self._add_member(fake_subnet, 8081)",114,71
openstack%2Freleases~master~I762eed44fa0e0953af1a450d4b2f4ee49fb14625,openstack/releases,master,I762eed44fa0e0953af1a450d4b2f4ee49fb14625,EOL Pike branch for OpenStack-Ansible,ABANDONED,2022-06-17 12:58:15.000000000,2022-06-17 12:58:57.000000000,,[],"[{'number': 1, 'created': '2022-06-17 12:58:15.000000000', 'files': ['deliverables/pike/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7832fbb98f15203c4fa4c1bdd1c6818d6caa6827', 'message': 'EOL Pike branch for OpenStack-Ansible\n\nChange-Id: I762eed44fa0e0953af1a450d4b2f4ee49fb14625\n'}]",0,846355,7832fbb98f15203c4fa4c1bdd1c6818d6caa6827,2,0,1,28619,,,0,"EOL Pike branch for OpenStack-Ansible

Change-Id: I762eed44fa0e0953af1a450d4b2f4ee49fb14625
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/846355/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/openstack-ansible.yaml'],1,7832fbb98f15203c4fa4c1bdd1c6818d6caa6827,release_osa, - projects: - hash: 72ac0ad58642528bf7bccde799f7456a1079ab68 repo: openstack/ansible-hardening - hash: 378dee772f27bd0778f89cc76fdb08e4c4b3fd81 repo: openstack/openstack-ansible - hash: 92843a2b6d193d36a50823c086b16afb0d70cd8d repo: openstack/openstack-ansible-apt_package_pinning - hash: 54c67bc17e78c68922604088a0634b0eec2f8f9b repo: openstack/openstack-ansible-ceph_client - hash: 3674d03d97b5cf65fa07b0325bc06397953b3585 repo: openstack/openstack-ansible-galera_client - hash: 1f8992758b54eaa8b9967e94332584660c7dca92 repo: openstack/openstack-ansible-galera_server - hash: 6cb02e317cf723686e99e4985770d23bcac0c898 repo: openstack/openstack-ansible-haproxy_server - hash: be247ba507ccbfec6c71e964ea35dc450f9708b9 repo: openstack/openstack-ansible-lxc_container_create - hash: eda0e0d8c035932568cb70619712aa2f6237647c repo: openstack/openstack-ansible-lxc_hosts - hash: 28b28d54316a2c56fe5b5035236438a7aa3e8fdd repo: openstack/openstack-ansible-memcached_server - hash: 0168d5b607cb5ae34684b0835432a6f51d43b88e repo: openstack/openstack-ansible-openstack_hosts - hash: 7640644df40b32fa7007251def780558a134808d repo: openstack/openstack-ansible-openstack_openrc - hash: fae312554e964c570b79097807cb282da2273c23 repo: openstack/openstack-ansible-os_aodh - hash: ccedad4fc7200907d9f6993cbaafbb151573c379 repo: openstack/openstack-ansible-os_barbican - hash: 0f97d64e5b4c2fd7d1dbd87a0f30a11d045f7e4e repo: openstack/openstack-ansible-os_ceilometer - hash: b8c07ccbe929adb4da6125a32a0523c52f70c90b repo: openstack/openstack-ansible-os_cinder - hash: 5276faa18427171fc1e6530acb1e0a8ab0f8bed1 repo: openstack/openstack-ansible-os_designate - hash: cf5c79a760e711e7fd47ed960b2577e2104cf768 repo: openstack/openstack-ansible-os_glance - hash: 3ce8acdd1637992c8c9abdd82f05c2069eea04c4 repo: openstack/openstack-ansible-os_gnocchi - hash: e0b2623245d2d935fc8d2d7a8c901a5eff3d32c3 repo: openstack/openstack-ansible-os_heat - hash: 7248c8acdf453e0393b730817660479c0cc180f1 repo: openstack/openstack-ansible-os_horizon - hash: 57cc3e8bcdc8b67d2646aa036848ac7a0b4dc56d repo: openstack/openstack-ansible-os_ironic - hash: fb078647cb81433f8136281d5d83ce953e8fa175 repo: openstack/openstack-ansible-os_keystone - hash: 6cfced89d58f47c5057cd7122746a4c063252278 repo: openstack/openstack-ansible-os_magnum - hash: 05021cac2a76f5a860a8297ccaf617845672e1dd repo: openstack/openstack-ansible-os_molteniron - hash: ee662941d5db670f358b4e09e7df731d799e6884 repo: openstack/openstack-ansible-os_neutron - hash: 8904b23a051d24cd4ef6ed7b5a33efe42ba3186b repo: openstack/openstack-ansible-os_nova - hash: 7f98b2cc6e138e3d532c88b09460e4a6870ec844 repo: openstack/openstack-ansible-os_octavia - hash: 09beb352c9d17108c0841e1bab38b2855e2ea3b7 repo: openstack/openstack-ansible-os_rally - hash: cc7849bd0ecfee4a8907f71a91313c66427a3ce3 repo: openstack/openstack-ansible-os_sahara - hash: 30155d70aa659e6177b79244f69e5839d1f6e550 repo: openstack/openstack-ansible-os_swift - hash: 7e7626f152bc8c6bd5fcc71d0fa4e5fd64dfe516 repo: openstack/openstack-ansible-os_tempest - hash: 9c83e785e2c7f87f5a437b0fcb76462fa3a8e7f1 repo: openstack/openstack-ansible-os_trove - hash: d72772b4aefab352eeb7f6f25764059b15ecedfb repo: openstack/openstack-ansible-pip_install - hash: 86567389c10f02038e0f020c0d6cb326a771fbac repo: openstack/openstack-ansible-plugins - hash: 71f737efc55c7589ec47ba3520539fe0fd0be1b9 repo: openstack/openstack-ansible-rabbitmq_server - hash: 857f2eb12a0bc35c9e5c1a513965018d806e5c96 repo: openstack/openstack-ansible-repo_build - hash: e0996d29ddef9537c46616ab3053e3502207c030 repo: openstack/openstack-ansible-repo_server - hash: 895560c9603626c243185dbf6540b7bc14412908 repo: openstack/openstack-ansible-rsyslog_client - hash: 2c2dfceec20042c97bbad6a4a52034bca2136d56 repo: openstack/openstack-ansible-rsyslog_server version: pike-eol,,82,0
openstack%2Fopenstack-ansible~master~I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe,openstack/openstack-ansible,master,I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe,Disable service_token requirement by default,MERGED,2021-12-27 12:25:18.000000000,2022-06-17 12:17:48.000000000,2022-06-17 12:14:34.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-27 12:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3b7cfc1eeae43716124f80a2dac1c9e938ba5954', 'message': 'Disable service_token requirement by default\n\nSince requirement of service tokens will break services during upgrade,\nwe disable verification by default and will drop override\nwith next release.\n\nChange-Id: I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe\n'}, {'number': 2, 'created': '2022-06-14 06:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f19ad66b1a855051db3bf37646354eb165457d28', 'message': 'Disable service_token requirement by default\n\nSince requirement of service tokens will break services during upgrade,\nwe disable verification by default and will drop override\nwith next release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/823009\nChange-Id: I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe\n'}, {'number': 3, 'created': '2022-06-14 07:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/106ad219e7e8edf1c3e3add1c4d73708a4fd54e9', 'message': 'Disable service_token requirement by default\n\nSince requirement of service tokens will break services during upgrade,\nwe disable verification by default and will drop override\nwith next release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/823009\nChange-Id: I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe\n'}, {'number': 4, 'created': '2022-06-14 09:32:35.000000000', 'files': ['inventory/group_vars/all/keystone.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e19a93b5f5b5789e3feb3ea81abba55e1084595c', 'message': 'Disable service_token requirement by default\n\nSince requirement of service tokens will break services during upgrade,\nwe disable verification by default and will drop override\nwith next release.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/823009\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/845717\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/845708\nChange-Id: I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe\n'}]",5,823005,e19a93b5f5b5789e3feb3ea81abba55e1084595c,27,4,4,28619,,,0,"Disable service_token requirement by default

Since requirement of service tokens will break services during upgrade,
we disable verification by default and will drop override
with next release.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/823009
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/845717
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/845708
Change-Id: I62496355bd5a80133d7eb97eb9744c6c1cc1f8fe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/823005/4 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/keystone.yml'],1,3b7cfc1eeae43716124f80a2dac1c9e938ba5954,osa/service_tokens, # NOTE(noonedeadpunk): Drop variable after Y release. Placed for upgrade purposes only openstack_service_token_roles_required: False,,3,0
openstack%2Fopenstack-ansible~stable%2Fpike~I1360988e87d08468d93832226b804dbe666713ca,openstack/openstack-ansible,stable/pike,I1360988e87d08468d93832226b804dbe666713ca,EOL Pike branch,MERGED,2022-01-29 10:10:14.000000000,2022-06-17 12:17:33.000000000,2022-06-17 12:14:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28752}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-29 10:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91ab5227473908b5f21f018289b48738e4083f4d', 'message': 'EOL Pike branch\n\nWe agreed to EOL Pike as we have no futher plans to provide any patches\nto the stable/pike branch.\n\nDue to specifics of releases repo for older branches, we have to\nEOL integrated repo and services repos in one shot, so we have to switch\nroles to tags that not yet exist.\n\nChange-Id: I1360988e87d08468d93832226b804dbe666713ca\n'}, {'number': 2, 'created': '2022-01-31 09:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fca969dbd5a4d6b8f9f2aa8ec3a9a7b5f8b306ef', 'message': 'EOL Pike branch\n\nWe agreed to EOL Pike as we have no futher plans to provide any patches\nto the stable/pike branch.\n\nDue to specifics of releases repo for older branches, we have to\nEOL integrated repo and services repos in one shot, so we have to switch\nroles to tags that not yet exist.\n\nChange-Id: I1360988e87d08468d93832226b804dbe666713ca\n'}, {'number': 3, 'created': '2022-02-21 14:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3f0d68f38f4cad595fc68ff5f4fe41cfb66a5f16', 'message': 'EOL Pike branch\n\nWe agreed to EOL Pike as we have no futher plans to provide any patches\nto the stable/pike branch.\n\nDue to specifics of releases repo for older branches, we have to\nEOL integrated repo and services repos in one shot, so we have to switch\nroles to tags that not yet exist.\n\nChange-Id: I1360988e87d08468d93832226b804dbe666713ca\n'}, {'number': 4, 'created': '2022-02-25 18:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00de01b7616c8da851ca257a56792e6cedefddc3', 'message': 'EOL Pike branch\n\nWe agreed to EOL Pike as we have no futher plans to provide any patches\nto the stable/pike branch.\n\nDue to specifics of releases repo for older branches, we have to\nEOL integrated repo and services repos in one shot, so we have to switch\nroles to tags that not yet exist.\n\nChange-Id: I1360988e87d08468d93832226b804dbe666713ca\n'}, {'number': 5, 'created': '2022-05-29 18:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11603dbc258798214c5399ceb287d398f54694ac', 'message': 'EOL Pike branch\n\nWe agreed to EOL Pike as we have no futher plans to provide any patches\nto the stable/pike branch.\n\nDue to specifics of releases repo for older branches, we have to\nEOL integrated repo and services repos in one shot, so we have to switch\nroles to tags that not yet exist.\n\nWe switch to noop jobs as the Pike branch relies on external versions\nof get-pip.py which no longer exist at the original URL.\nChange-Id: I1360988e87d08468d93832226b804dbe666713ca\n'}, {'number': 6, 'created': '2022-06-17 07:39:23.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'test-requirements.txt', 'playbooks/defaults/repo_packages/gnocchi.yml', 'zuul.d/project.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/378dee772f27bd0778f89cc76fdb08e4c4b3fd81', 'message': 'EOL Pike branch\n\nWe agreed to EOL Pike as we have no futher plans to provide any patches\nto the stable/pike branch.\n\nDue to specifics of releases repo for older branches, we have to\nEOL integrated repo and services repos in one shot, so we have to switch\nroles to tags that not yet exist.\n\nWe switch to noop jobs as the Pike branch relies on external versions\nof get-pip.py which no longer exist at the original URL.\n\nChange-Id: I1360988e87d08468d93832226b804dbe666713ca\n'}]",2,826956,378dee772f27bd0778f89cc76fdb08e4c4b3fd81,26,5,6,28619,,,0,"EOL Pike branch

We agreed to EOL Pike as we have no futher plans to provide any patches
to the stable/pike branch.

Due to specifics of releases repo for older branches, we have to
EOL integrated repo and services repos in one shot, so we have to switch
roles to tags that not yet exist.

We switch to noop jobs as the Pike branch relies on external versions
of get-pip.py which no longer exist at the original URL.

Change-Id: I1360988e87d08468d93832226b804dbe666713ca
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/826956/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'playbooks/defaults/repo_packages/gnocchi.yml', 'ansible-role-requirements.yml']",4,91ab5227473908b5f21f018289b48738e4083f4d,826956, version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch:, version: 72ac0ad58642528bf7bccde799f7456a1079ab68 trackbranch: stable/pike version: 92843a2b6d193d36a50823c086b16afb0d70cd8d trackbranch: stable/pike version: d72772b4aefab352eeb7f6f25764059b15ecedfb trackbranch: stable/pike version: 3674d03d97b5cf65fa07b0325bc06397953b3585 trackbranch: stable/pike version: 1f8992758b54eaa8b9967e94332584660c7dca92 trackbranch: stable/pike version: 54c67bc17e78c68922604088a0634b0eec2f8f9b trackbranch: stable/pike version: 6cb02e317cf723686e99e4985770d23bcac0c898 trackbranch: stable/pike version: be247ba507ccbfec6c71e964ea35dc450f9708b9 trackbranch: stable/pike version: eda0e0d8c035932568cb70619712aa2f6237647c trackbranch: stable/pike version: 28b28d54316a2c56fe5b5035236438a7aa3e8fdd trackbranch: stable/pike version: 0168d5b607cb5ae34684b0835432a6f51d43b88e trackbranch: stable/pike version: fb078647cb81433f8136281d5d83ce953e8fa175 trackbranch: stable/pike version: 7640644df40b32fa7007251def780558a134808d trackbranch: stable/pike version: fae312554e964c570b79097807cb282da2273c23 trackbranch: stable/pike version: ccedad4fc7200907d9f6993cbaafbb151573c379 trackbranch: stable/pike version: 0f97d64e5b4c2fd7d1dbd87a0f30a11d045f7e4e trackbranch: stable/pike version: b8c07ccbe929adb4da6125a32a0523c52f70c90b trackbranch: stable/pike version: 5276faa18427171fc1e6530acb1e0a8ab0f8bed1 trackbranch: stable/pike version: cf5c79a760e711e7fd47ed960b2577e2104cf768 trackbranch: stable/pike version: 3ce8acdd1637992c8c9abdd82f05c2069eea04c4 trackbranch: stable/pike version: e0b2623245d2d935fc8d2d7a8c901a5eff3d32c3 trackbranch: stable/pike version: 7248c8acdf453e0393b730817660479c0cc180f1 trackbranch: stable/pike version: 57cc3e8bcdc8b67d2646aa036848ac7a0b4dc56d trackbranch: stable/pike version: 6cfced89d58f47c5057cd7122746a4c063252278 trackbranch: stable/pike version: 05021cac2a76f5a860a8297ccaf617845672e1dd trackbranch: stable/pike version: ee662941d5db670f358b4e09e7df731d799e6884 trackbranch: stable/pike version: 8904b23a051d24cd4ef6ed7b5a33efe42ba3186b trackbranch: stable/pike version: 7f98b2cc6e138e3d532c88b09460e4a6870ec844 trackbranch: stable/pike version: 09beb352c9d17108c0841e1bab38b2855e2ea3b7 trackbranch: stable/pike version: cc7849bd0ecfee4a8907f71a91313c66427a3ce3 trackbranch: stable/pike version: 30155d70aa659e6177b79244f69e5839d1f6e550 trackbranch: stable/pike version: 7e7626f152bc8c6bd5fcc71d0fa4e5fd64dfe516 trackbranch: stable/pike version: 9c83e785e2c7f87f5a437b0fcb76462fa3a8e7f1 trackbranch: stable/pike version: 86567389c10f02038e0f020c0d6cb326a771fbac trackbranch: stable/pike version: 71f737efc55c7589ec47ba3520539fe0fd0be1b9 trackbranch: stable/pike version: 857f2eb12a0bc35c9e5c1a513965018d806e5c96 trackbranch: stable/pike version: e0996d29ddef9537c46616ab3053e3502207c030 trackbranch: stable/pike version: 895560c9603626c243185dbf6540b7bc14412908 trackbranch: stable/pike version: 2c2dfceec20042c97bbad6a4a52034bca2136d56 trackbranch: stable/pike,125,120
openstack%2Ftempest~master~Icdb3398061d0274fec8b4e10d955a4b00edf4524,openstack/tempest,master,Icdb3398061d0274fec8b4e10d955a4b00edf4524,compute: Move volume attached live migration tests to use SSHABLE,MERGED,2021-11-12 14:59:27.000000000,2022-06-17 12:04:44.000000000,2022-06-15 11:52:36.000000000,"[{'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-12 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/22ed151878d1a63a828ec9f2b6600f8fe28d827a', 'message': 'WIP compute: Move volume attached live migration tests to use SSHABLE\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}, {'number': 2, 'created': '2021-11-17 13:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8d2c54cd1d30640c4dd434131d73d03b1e6fb02', 'message': 'WIP compute: Move volume attached live migration tests to use SSHABLE\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}, {'number': 3, 'created': '2021-11-24 14:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4c8f648b3deb23ca54263f351d4d4819b3232294', 'message': 'WIP compute: Move volume attached live migration tests to use SSHABLE\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}, {'number': 4, 'created': '2021-11-25 10:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/83d53a40daaf89a244c5b23a337659e4c1157e56', 'message': 'WIP compute: Move volume attached live migration tests to use SSHABLE\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}, {'number': 5, 'created': '2022-03-01 14:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d1ea1396d93445c6d93f9faf3c4fb2559308bdc1', 'message': 'WIP compute: Move volume attached live migration tests to use SSHABLE\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}, {'number': 6, 'created': '2022-03-02 19:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c66bce21510bc775cda4e4a627b3eee1e8392256', 'message': 'compute: Move volume attached live migration tests to use SSHABLE\n\nLive migration tests the volume attachment and checking the\nserver ssh-able will help to avoid any race during attachment\noperation.\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}, {'number': 7, 'created': '2022-05-30 15:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd19a552b299dc3bafc2f566c0210a189601b1c9', 'message': 'compute: Move volume attached live migration tests to use SSHABLE\n\nLive migration tests the volume attachment and checking the\nserver ssh-able will help to avoid any race during attachment\noperation.\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}, {'number': 8, 'created': '2022-06-03 08:34:20.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/00bdb22cc31db962986ca910a909c0a25b3f590f', 'message': 'compute: Move volume attached live migration tests to use SSHABLE\n\nLive migration tests the volume attachment and checking the\nserver ssh-able will help to avoid any race during attachment\noperation.\n\nChange-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524\n'}]",13,817772,00bdb22cc31db962986ca910a909c0a25b3f590f,40,3,8,10135,,,0,"compute: Move volume attached live migration tests to use SSHABLE

Live migration tests the volume attachment and checking the
server ssh-able will help to avoid any race during attachment
operation.

Change-Id: Icdb3398061d0274fec8b4e10d955a4b00edf4524
",git fetch https://review.opendev.org/openstack/tempest refs/changes/72/817772/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,22ed151878d1a63a828ec9f2b6600f8fe28d827a,wait_until_sshable_pingable," validation_resources = self.get_test_validation_resources( self.os_primary) server = self.create_test_server( validatable=True, validation_resources=validation_resources, wait_until=""SSHABLE"")"," # These tests don't attempt any SSH validation nor do they use # floating IPs on the instance, so all we need is a network and # a subnet so the instance being migrated has a single port, but # we need that to make sure we are properly updating the port # host bindings during the live migration. server = self.create_test_server(wait_until=""ACTIVE"")",6,6
openstack%2Fnova~stable%2Fwallaby~Ic46345ceeb445164aea6ae9b35c457c6150765f6,openstack/nova,stable/wallaby,Ic46345ceeb445164aea6ae9b35c457c6150765f6,Fix eventlet.tpool import,NEW,2022-06-15 10:43:27.000000000,2022-06-17 11:52:22.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 10:43:27.000000000', 'files': ['nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/33663379018907ae8c931978ee5608eb93881bea', 'message': 'Fix eventlet.tpool import\n\nCurrently nova.utils.tpool_execute() only works by chance. And as the\nbug report shows there are env where it fails.\n\nThe nova.utils.tpool_execute() call tries to uses eventlet.tpool.execute\nbut the tpool module is not imported by the utils module only eventlet.\nIn devstack it works by chance as the wsgi init actually imports\neventlet.tpool indirectly via:\n\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\n  File ""/opt/stack/nova/nova/api/openstack/compute/__init__.py"", line 21, in <module>\n    from nova.api.openstack.compute.routes import APIRouterV21 # noqa\n  File ""/opt/stack/nova/nova/api/openstack/compute/routes.py"", line 20, in <module>\n    from nova.api.openstack.compute import admin_actions\n  File ""/opt/stack/nova/nova/api/openstack/compute/admin_actions.py"", line 17, in <module>\n    from nova.api.openstack import common\n  File ""/opt/stack/nova/nova/api/openstack/common.py"", line 27, in <module>\n    from nova.compute import task_states\n  File ""/opt/stack/nova/nova/compute/task_states.py"", line 26, in <module>\n    from nova.objects import fields\n  File ""/opt/stack/nova/nova/objects/fields.py"", line 24, in <module>\n    from nova.network import model as network_model\n  File ""/opt/stack/nova/nova/network/model.py"", line 23, in <module>\n    from nova import utils\n  File ""/opt/stack/nova/nova/utils.py"", line 39, in <module>\n    from oslo_concurrency import processutils\n  File ""/usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py"", line 57, in <module>\n    from eventlet import tpool\n\nThis was broken since I8dbc579e0037969aab4f2bb500fccfbde4190726. This\npatch adds the correct import statement.\n\nChange-Id: Ic46345ceeb445164aea6ae9b35c457c6150765f6\nCloses-Bug: #1915400\n(cherry picked from commit b2d28f890872747d099a262e4a208e146b882f3f)\n(cherry picked from commit a9f444a997cd0a26aae3dac821299adf0e944121)\n(cherry picked from commit b57fce8d14b94059c65526450468d48dab736983)\n'}]",2,845838,33663379018907ae8c931978ee5608eb93881bea,19,2,1,9708,,,0,"Fix eventlet.tpool import

Currently nova.utils.tpool_execute() only works by chance. And as the
bug report shows there are env where it fails.

The nova.utils.tpool_execute() call tries to uses eventlet.tpool.execute
but the tpool module is not imported by the utils module only eventlet.
In devstack it works by chance as the wsgi init actually imports
eventlet.tpool indirectly via:

Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
  File ""/opt/stack/nova/nova/api/openstack/compute/__init__.py"", line 21, in <module>
    from nova.api.openstack.compute.routes import APIRouterV21 # noqa
  File ""/opt/stack/nova/nova/api/openstack/compute/routes.py"", line 20, in <module>
    from nova.api.openstack.compute import admin_actions
  File ""/opt/stack/nova/nova/api/openstack/compute/admin_actions.py"", line 17, in <module>
    from nova.api.openstack import common
  File ""/opt/stack/nova/nova/api/openstack/common.py"", line 27, in <module>
    from nova.compute import task_states
  File ""/opt/stack/nova/nova/compute/task_states.py"", line 26, in <module>
    from nova.objects import fields
  File ""/opt/stack/nova/nova/objects/fields.py"", line 24, in <module>
    from nova.network import model as network_model
  File ""/opt/stack/nova/nova/network/model.py"", line 23, in <module>
    from nova import utils
  File ""/opt/stack/nova/nova/utils.py"", line 39, in <module>
    from oslo_concurrency import processutils
  File ""/usr/local/lib/python3.8/dist-packages/oslo_concurrency/processutils.py"", line 57, in <module>
    from eventlet import tpool

This was broken since I8dbc579e0037969aab4f2bb500fccfbde4190726. This
patch adds the correct import statement.

Change-Id: Ic46345ceeb445164aea6ae9b35c457c6150765f6
Closes-Bug: #1915400
(cherry picked from commit b2d28f890872747d099a262e4a208e146b882f3f)
(cherry picked from commit a9f444a997cd0a26aae3dac821299adf0e944121)
(cherry picked from commit b57fce8d14b94059c65526450468d48dab736983)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/845838/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/utils.py'],1,33663379018907ae8c931978ee5608eb93881bea,bug/1915400,"from eventlet import tpool tpool.execute(func, *args, **kwargs)"," eventlet.tpool.execute(func, *args, **kwargs)",2,1
openstack%2Fopenstack-ansible~master~Iec646c86f314acf825b06917149adcf7ce1e2248,openstack/openstack-ansible,master,Iec646c86f314acf825b06917149adcf7ce1e2248,Fix deprecations handling in journal logs,MERGED,2022-06-16 15:30:08.000000000,2022-06-17 11:11:41.000000000,2022-06-17 11:08:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 15:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0450a511788b021209882981c7cd678bda8d1c7f', 'message': 'Fix deprecations handling in journal logs\n\nCurrently deprecations log is only created for the first service, as\nindent is incorrect, so log created only when destination\ndirectory does not exist.\n\nAdditionally flow changed to include deprications in output_files and\nmoving verification of directory existance out of\ncycle.\n\nWe also now interate over unique set of services, as before\ncommon_log_names and a-r-r were containing duplicates.\n\nChange-Id: Iec646c86f314acf825b06917149adcf7ce1e2248\n'}, {'number': 2, 'created': '2022-06-16 21:27:04.000000000', 'files': ['scripts/journal_dump.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe627c50d2e1910b6f5a04024f97e974114875f1', 'message': 'Fix deprecations handling in journal logs\n\nCurrently deprecations log is only created for the first service, as\nindent is incorrect, so log created only when destination\ndirectory does not exist.\n\nAdditionally flow changed to include deprications in output_files and\nmoving verification of directory existance out of\ncycle.\n\nWe also now interate over unique set of services, as before\ncommon_log_names and a-r-r were containing duplicates.\n\nChange-Id: Iec646c86f314acf825b06917149adcf7ce1e2248\n'}]",1,846189,fe627c50d2e1910b6f5a04024f97e974114875f1,11,3,2,28619,,,0,"Fix deprecations handling in journal logs

Currently deprecations log is only created for the first service, as
indent is incorrect, so log created only when destination
directory does not exist.

Additionally flow changed to include deprications in output_files and
moving verification of directory existance out of
cycle.

We also now interate over unique set of services, as before
common_log_names and a-r-r were containing duplicates.

Change-Id: Iec646c86f314acf825b06917149adcf7ce1e2248
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/846189/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/journal_dump.py'],1,0450a511788b021209882981c7cd678bda8d1c7f,," # Create regular logs directory # Create deperecations directory if not os.path.isdir(d_dir): os.makedirs(d_dir) if d_filename not in output_files: output_files[d_filename] = open(d_filename, 'w') output_files[d_filename].write(unit + ' ' + message + ""\n"") for fd in output_files.values(): fd.close()service_names = set(common_log_names + get_ansible_role_names())"," if not os.path.isdir(d_dir): os.makedirs(d_dir) with open(d_filename, 'a') as d: d.write(unit + ' ' + message + ""\n"")service_names = common_log_names + get_ansible_role_names()",12,5
openstack%2Fopenstack-ansible~master~I9414a7453caf5e8056537582f1e9fb8bca676a80,openstack/openstack-ansible,master,I9414a7453caf5e8056537582f1e9fb8bca676a80,Explicitly use collection for haproxy module,MERGED,2022-06-14 12:35:49.000000000,2022-06-17 11:10:10.000000000,2022-06-17 11:08:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 12:35:49.000000000', 'files': ['playbooks/common-tasks/haproxy-endpoint-manage.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5237dd40f310b702559a2d5bfd2d67afbca439d0', 'message': ""Explicitly use collection for haproxy module\n\nIt's worth to be explicit what module from what collection is used.\n\nChange-Id: I9414a7453caf5e8056537582f1e9fb8bca676a80\n""}]",4,845740,5237dd40f310b702559a2d5bfd2d67afbca439d0,15,3,1,28619,,,0,"Explicitly use collection for haproxy module

It's worth to be explicit what module from what collection is used.

Change-Id: I9414a7453caf5e8056537582f1e9fb8bca676a80
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/40/845740/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/haproxy-endpoint-manage.yml'],1,5237dd40f310b702559a2d5bfd2d67afbca439d0,, community.general.haproxy:, haproxy:,1,1
openstack%2Fopenstack-ansible~master~Ic00a2c64a59b889426240e5f4c9ecced4b658ccc,openstack/openstack-ansible,master,Ic00a2c64a59b889426240e5f4c9ecced4b658ccc,Reduce m1.magnum flavor,MERGED,2022-06-16 09:43:47.000000000,2022-06-17 11:08:24.000000000,2022-06-17 11:08:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 09:43:47.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b336c6a7d772d60fad94b7706c0baed95dc80a8a', 'message': ""Reduce m1.magnum flavor\n\nIn CI we apparently don't have enough RAM to provision cluster with\ncurrent flavors. Trying to reduce flavor size to make CI more reliable.\n\nChange-Id: Ic00a2c64a59b889426240e5f4c9ecced4b658ccc\n""}]",0,846142,b336c6a7d772d60fad94b7706c0baed95dc80a8a,7,3,1,28619,,,0,"Reduce m1.magnum flavor

In CI we apparently don't have enough RAM to provision cluster with
current flavors. Trying to reduce flavor size to make CI more reliable.

Change-Id: Ic00a2c64a59b889426240e5f4c9ecced4b658ccc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/846142/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_magnum.yml.j2'],1,b336c6a7d772d60fad94b7706c0baed95dc80a8a,, ram: 340, ram: 512,1,1
openstack%2Fneutron~stable%2Fwallaby~If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,openstack/neutron,stable/wallaby,If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,[OVN][QoS] Add external_ids reference to port QoS registers,MERGED,2022-06-15 16:21:57.000000000,2022-06-17 11:06:48.000000000,2022-06-17 11:04:48.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 16:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e1ce3ee4264da359c9e51930c229152429e74d6', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)\n(cherry picked from commit 88d97c9fa6d5745db5d923ae4bbe6c0043c7c9c8)\n'}, {'number': 2, 'created': '2022-06-16 13:51:48.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3090ed0cdfecec22e6c2d57af42dad261864457c', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)\n(cherry picked from commit 92e8a6a37863d8e0f9bbc8ea96a6440b922c7bf5)\n'}]",0,846028,3090ed0cdfecec22e6c2d57af42dad261864457c,14,5,2,16688,,,0,"[OVN][QoS] Add external_ids reference to port QoS registers

Same as with floating IP QoS OVN registers, port QoSes should have a
""external_ids"" reference to the port ID this QoS is attached to.

Related-Bug: #1947334

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3
(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)
(cherry picked from commit 92e8a6a37863d8e0f9bbc8ea96a6440b922c7bf5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/846028/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",5,4e1ce3ee4264da359c9e51930c229152429e74d6,bug/1947334,"import re # TODO(ralonsoh): Remove this in the Z+2 cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def update_port_qos_with_external_ids_reference(self): """"""Update all OVN QoS registers with the port ID This method will only update the OVN QoS registers related to port QoS, not FIP QoS. FIP QoS have the corresponding ""external_ids"" reference. """""" if not self.has_lock: return regex = re.compile( r'(inport|outport) == \""(?P<port_id>[a-z0-9\-]{36})\""') cmds = [] for ls in self._nb_idl.ls_list().execute(check_error=True): for qos in self._nb_idl.qos_list(ls.name).execute( check_error=True): if qos.external_ids: continue match = re.match(regex, qos.match) if not match: continue port_id = match.group('port_id') external_ids = {ovn_const.OVN_PORT_EXT_ID_KEY: port_id} cmds.append(self._nb_idl.db_set( 'QoS', qos.uuid, ('external_ids', external_ids))) ",,78,12
openstack%2Fneutron~stable%2Fxena~If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,openstack/neutron,stable/xena,If14ccff79f77618133cce4bf95e3f1eea7ba8cf3,[OVN][QoS] Add external_ids reference to port QoS registers,MERGED,2022-06-15 16:21:15.000000000,2022-06-17 11:06:26.000000000,2022-06-17 11:04:44.000000000,"[{'_account_id': 5756}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 16:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/88d97c9fa6d5745db5d923ae4bbe6c0043c7c9c8', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)\n'}, {'number': 2, 'created': '2022-06-16 13:49:12.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/92e8a6a37863d8e0f9bbc8ea96a6440b922c7bf5', 'message': '[OVN][QoS] Add external_ids reference to port QoS registers\n\nSame as with floating IP QoS OVN registers, port QoSes should have a\n""external_ids"" reference to the port ID this QoS is attached to.\n\nRelated-Bug: #1947334\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n\nChange-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3\n(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)\n'}]",1,846027,92e8a6a37863d8e0f9bbc8ea96a6440b922c7bf5,14,5,2,16688,,,0,"[OVN][QoS] Add external_ids reference to port QoS registers

Same as with floating IP QoS OVN registers, port QoSes should have a
""external_ids"" reference to the port ID this QoS is attached to.

Related-Bug: #1947334

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py

Change-Id: If14ccff79f77618133cce4bf95e3f1eea7ba8cf3
(cherry picked from commit ce7f2795384e05b7e086bdab41226a69708dfdc5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/846027/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",5,88d97c9fa6d5745db5d923ae4bbe6c0043c7c9c8,bug/1947334,"import re # TODO(ralonsoh): Remove this in the Z+2 cycle # A static spacing value is used here, but this method will only run # once per lock due to the use of periodics.NeverAgain(). @periodics.periodic(spacing=600, run_immediately=True) def update_port_qos_with_external_ids_reference(self): """"""Update all OVN QoS registers with the port ID This method will only update the OVN QoS registers related to port QoS, not FIP QoS. FIP QoS have the corresponding ""external_ids"" reference. """""" if not self.has_lock: return regex = re.compile( r'(inport|outport) == \""(?P<port_id>[a-z0-9\-]{36})\""') cmds = [] for ls in self._nb_idl.ls_list().execute(check_error=True): for qos in self._nb_idl.qos_list(ls.name).execute( check_error=True): if qos.external_ids: continue match = re.match(regex, qos.match) if not match: continue port_id = match.group('port_id') external_ids = {ovn_const.OVN_PORT_EXT_ID_KEY: port_id} cmds.append(self._nb_idl.db_set( 'QoS', qos.uuid, ('external_ids', external_ids))) ",,78,12
openstack%2Fopenstack-ansible~master~I561ac698e007925abb414d74fecb332fbbe56f74,openstack/openstack-ansible,master,I561ac698e007925abb414d74fecb332fbbe56f74,Limit magnum workers in CI,MERGED,2022-06-16 11:47:46.000000000,2022-06-17 11:02:31.000000000,2022-06-17 11:00:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 11:47:46.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2ccd1521f9324ba1708848941416ec8cb08b3bbb', 'message': 'Limit magnum workers in CI\n\nReduce amount of wrokers for magnum to bare minimum when launched in CI.\n\nChange-Id: I561ac698e007925abb414d74fecb332fbbe56f74\n'}]",1,846151,2ccd1521f9324ba1708848941416ec8cb08b3bbb,10,3,1,28619,,,0,"Limit magnum workers in CI

Reduce amount of wrokers for magnum to bare minimum when launched in CI.

Change-Id: I561ac698e007925abb414d74fecb332fbbe56f74
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/846151/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,2ccd1521f9324ba1708848941416ec8cb08b3bbb,,## Magnum magnum_wsgi_processes: 1 magnum_conductor_workers: 1 ,,4,0
openstack%2Fopenstack-ansible-os_nova~master~I6be16f7621899a45271a70e7c39d76b837d8c5c9,openstack/openstack-ansible-os_nova,master,I6be16f7621899a45271a70e7c39d76b837d8c5c9,Remove AvailabilityZoneFilter from scheduler,MERGED,2022-06-17 06:03:40.000000000,2022-06-17 11:01:13.000000000,2022-06-17 10:59:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-17 06:03:40.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/611722ffd7e979c5ac0872109e601ce8ddd0c7e7', 'message': ""Remove AvailabilityZoneFilter from scheduler\n\nThe 'AvailabilityZoneFilter' is deprecated since the 24.0.0 (Xena)\nrelease. The feature is enabled by query_placement_for_availability_zone\nconfig option and is now enabled by default.\n\nChange-Id: I6be16f7621899a45271a70e7c39d76b837d8c5c9\n""}]",0,846271,611722ffd7e979c5ac0872109e601ce8ddd0c7e7,8,3,1,28619,,,0,"Remove AvailabilityZoneFilter from scheduler

The 'AvailabilityZoneFilter' is deprecated since the 24.0.0 (Xena)
release. The feature is enabled by query_placement_for_availability_zone
config option and is now enabled by default.

Change-Id: I6be16f7621899a45271a70e7c39d76b837d8c5c9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/71/846271/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,611722ffd7e979c5ac0872109e601ce8ddd0c7e7,,, - AvailabilityZoneFilter,0,1
openstack%2Fopenstack-ansible~master~I5d778dd4fbe216eb2c0c88f5c397268e39980808,openstack/openstack-ansible,master,I5d778dd4fbe216eb2c0c88f5c397268e39980808,Add mistral-extra to required projects in CI,MERGED,2022-06-16 08:59:50.000000000,2022-06-17 10:56:58.000000000,2022-06-17 10:53:15.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 08:59:50.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e112e895e9b2e91fbcda06ce73f99b454f861756', 'message': ""Add mistral-extra to required projects in CI\n\nWe can't reference the local zuul version of this repo without\nadding it here.\n\nChange-Id: I5d778dd4fbe216eb2c0c88f5c397268e39980808\n""}]",2,846135,e112e895e9b2e91fbcda06ce73f99b454f861756,13,3,1,25023,,,0,"Add mistral-extra to required projects in CI

We can't reference the local zuul version of this repo without
adding it here.

Change-Id: I5d778dd4fbe216eb2c0c88f5c397268e39980808
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/35/846135/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e112e895e9b2e91fbcda06ce73f99b454f861756,, - name: openstack/mistral-extra,,1,0
openstack%2Fnova~master~Ib3a0cdff00cdf127036c045e91292ead49339acd,openstack/nova,master,Ib3a0cdff00cdf127036c045e91292ead49339acd,DNM: Testing memory usage of n-cpu (3/3),ABANDONED,2022-06-16 17:11:38.000000000,2022-06-17 10:51:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 17:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b90482683116e708f770a3ce4b877bed8f1e0a9', 'message': 'DNM: Testing memory usage of n-cpu (3/3)\n\nAsk glibc to trim memory and release it to the system and use a single\narena for all native threads and disable dynamic threshold calculations\n(this comes from the devstack dependency).\n\nDepends-On: Ic9030d01468b3189350f83b04a8d1d346c489d3c\nChange-Id: Ib3a0cdff00cdf127036c045e91292ead49339acd\n'}, {'number': 2, 'created': '2022-06-16 17:14:53.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef9c66e8fd4a2947f2642a095518935fbfa157e4', 'message': 'DNM: Testing memory usage of n-cpu (3/3)\n\nAsk glibc to trim memory and release it to the system and use a single\narena for all native threads and disable dynamic threshold calculations\n(this comes from the devstack dependency).\n\nDepends-On: Ic9030d01468b3189350f83b04a8d1d346c489d3c\nChange-Id: Ib3a0cdff00cdf127036c045e91292ead49339acd\n'}]",0,846209,ef9c66e8fd4a2947f2642a095518935fbfa157e4,13,1,2,9535,,,0,"DNM: Testing memory usage of n-cpu (3/3)

Ask glibc to trim memory and release it to the system and use a single
arena for all native threads and disable dynamic threshold calculations
(this comes from the devstack dependency).

Depends-On: Ic9030d01468b3189350f83b04a8d1d346c489d3c
Change-Id: Ib3a0cdff00cdf127036c045e91292ead49339acd
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/846209/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,5b90482683116e708f770a3ce4b877bed8f1e0a9,wip-memory,,,0,1
openstack%2Fnova~master~I31f418e68baf525057b15f857911018c71b0b1ce,openstack/nova,master,I31f418e68baf525057b15f857911018c71b0b1ce,DNM: Testing memory usage of n-cpu (2/3),ABANDONED,2022-06-16 17:11:38.000000000,2022-06-17 10:50:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 17:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65a95d065c1a197c492ccb4a93ac307a57c82f4f', 'message': 'DNM: Testing memory usage of n-cpu (2/3)\n\nAsk glibc to trim memory and release it to the system.\n\nChange-Id: I31f418e68baf525057b15f857911018c71b0b1ce\n'}, {'number': 2, 'created': '2022-06-16 17:14:53.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc43df115f2246444217a17b290109a2eeb4f5b1', 'message': 'DNM: Testing memory usage of n-cpu (2/3)\n\nAsk glibc to trim memory and release it to the system.\n\nChange-Id: I31f418e68baf525057b15f857911018c71b0b1ce\n'}]",0,846208,bc43df115f2246444217a17b290109a2eeb4f5b1,15,1,2,9535,,,0,"DNM: Testing memory usage of n-cpu (2/3)

Ask glibc to trim memory and release it to the system.

Change-Id: I31f418e68baf525057b15f857911018c71b0b1ce
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/846208/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,65a95d065c1a197c492ccb4a93ac307a57c82f4f,wip-memory,"import ctypesLIBC = ctypes.CDLL('libc.so.6') # Ask glibc to release memory every 15 seconds @periodic_task.periodic_task(spacing=15) def trim_memory(self, context): res = LIBC.malloc_trim(0) LOG.warning('Trimmed' if res else 'Not trimmed') ",,9,0
openstack%2Fnova~master~I342071bcc6200030a61ea24af2e10c16b2a8ef6f,openstack/nova,master,I342071bcc6200030a61ea24af2e10c16b2a8ef6f,DNM: Testing memory usage of n-cpu (1/3),ABANDONED,2022-06-16 17:11:38.000000000,2022-06-17 10:50:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 17:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b226cdfa80132ca481d984883b7777824416d694', 'message': 'DNM: Testing memory usage of n-cpu (1/3)\n\nLeave only the nova-multi-cell check job to see if we can figure out\nsomething on why n-cpu consumes so much memory on the compute only node.\n\nThis is going to be a series of 3 patches\n\n- Code as it is (this patch)\n- Asking glibc to release memory to the system\n- Same as above + Single malloc arena\n\nChange-Id: I342071bcc6200030a61ea24af2e10c16b2a8ef6f\n'}, {'number': 2, 'created': '2022-06-16 17:14:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/226ec6180cbd7b23304e67f90421855e94fb22f2', 'message': 'DNM: Testing memory usage of n-cpu (1/3)\n\nLeave only the nova-multi-cell check job to see if we can figure out\nsomething on why n-cpu consumes so much memory on the compute only node.\n\nThis is going to be a series of 3 patches\n\n- Code as it is (this patch)\n- Asking glibc to release memory to the system\n- Same as above + Single malloc arena\n\nChange-Id: I342071bcc6200030a61ea24af2e10c16b2a8ef6f\n'}]",0,846207,226ec6180cbd7b23304e67f90421855e94fb22f2,12,1,2,9535,,,0,"DNM: Testing memory usage of n-cpu (1/3)

Leave only the nova-multi-cell check job to see if we can figure out
something on why n-cpu consumes so much memory on the compute only node.

This is going to be a series of 3 patches

- Code as it is (this patch)
- Asking glibc to release memory to the system
- Same as above + Single malloc arena

Change-Id: I342071bcc6200030a61ea24af2e10c16b2a8ef6f
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/846207/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b226cdfa80132ca481d984883b7777824416d694,wip-memory,, templates: - check-requirements - integrated-gate-compute - openstack-cover-jobs - openstack-python3-zed-jobs - openstack-python3-zed-jobs-arm64 - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *nova-base-irrelevant-files - nova-ceph-multistore: irrelevant-files: *nova-base-irrelevant-files - neutron-linuxbridge-tempest: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-live-migration - nova-live-migration-ceph - nova-lvm - nova-next - nova-ovs-hybrid-plug - nova-tox-validate-backport: voting: false - nova-tox-functional-py38 - nova-tox-functional-py39 - nova-tox-functional-py310: voting: false - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - grenade-skip-level: irrelevant-files: *policies-irrelevant-files - nova-grenade-multinode: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *nova-base-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *nova-base-irrelevant-files - cyborg-tempest: irrelevant-files: *nova-base-irrelevant-files voting: false - barbican-tempest-plugin-simple-crypto: irrelevant-files: *nova-base-irrelevant-files voting: false - tempest-integrated-compute-centos-9-stream: irrelevant-files: *nova-base-irrelevant-files,0,68
openstack%2Fopenstack-ansible-os_zun~master~Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc,openstack/openstack-ansible-os_zun,master,Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc,Support service tokens,MERGED,2022-06-15 17:33:51.000000000,2022-06-17 10:45:34.000000000,2022-06-17 10:44:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 17:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/96bd01acef00dff1b001dea7ae0d1fdf7b12857a', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc\n'}, {'number': 2, 'created': '2022-06-16 14:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/06b5cf172f3e3ae755fc802d77e1e559e631b232', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc\n'}, {'number': 3, 'created': '2022-06-16 19:24:26.000000000', 'files': ['tasks/main.yml', 'templates/zun.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/04b99a0f81ea592ff5036dbde970670f4b40a658', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc\n'}]",2,846046,04b99a0f81ea592ff5036dbde970670f4b40a658,14,3,3,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Id451d06bcc40c94e9ef021dd7e3c1d14703e73cc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/46/846046/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/zun.conf.j2', 'defaults/main.yml']",3,96bd01acef00dff1b001dea7ae0d1fdf7b12857a,osa/service_tokens,"zun_service_role_names: - admin - service zun_service_token_roles: - service zun_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""","zun_service_role_name: ""admin""",11,3
openstack%2Fopenstack-ansible-os_zun~master~Ie8f7af4f4028e3447319039fee8b0f82005c7add,openstack/openstack-ansible-os_zun,master,Ie8f7af4f4028e3447319039fee8b0f82005c7add,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 18:06:53.000000000,2022-06-17 10:41:17.000000000,2022-06-17 10:39:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 18:06:53.000000000', 'files': ['doc/source/index.rst', 'tasks/zun_compute.yml', 'handlers/main.yml', 'tasks/zun_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/9a39e22b0f5802d54422f4290eaa9ebc98837931', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: Ie8f7af4f4028e3447319039fee8b0f82005c7add\n'}]",2,845803,9a39e22b0f5802d54422f4290eaa9ebc98837931,13,3,1,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ie8f7af4f4028e3447319039fee8b0f82005c7add
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/03/845803/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tasks/zun_compute.yml', 'handlers/main.yml', 'tasks/zun_post_install.yml']",4,9a39e22b0f5802d54422f4290eaa9ebc98837931,osa/manage_lb,, - Manage LB,0,19
openstack%2Frequirements~master~I31f3323345a15c699327c3feff8b979504e052d4,openstack/requirements,master,I31f3323345a15c699327c3feff8b979504e052d4,Cap pyroute2 to 0.6.9,ABANDONED,2022-06-17 07:34:56.000000000,2022-06-17 10:36:19.000000000,,"[{'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-17 07:34:56.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/03fc36e2e323a029a8c90a293596ca0d7f92c11a', 'message': 'Cap pyroute2 to 0.6.9\n\nUntil we fix the regressions introduced in 0.6.10, we need to\nlimit the maximum version of this library.\n\nRelated-Bug: #1979031\nChange-Id: I31f3323345a15c699327c3feff8b979504e052d4\n'}]",4,846277,03fc36e2e323a029a8c90a293596ca0d7f92c11a,13,4,1,16688,,,0,"Cap pyroute2 to 0.6.9

Until we fix the regressions introduced in 0.6.10, we need to
limit the maximum version of this library.

Related-Bug: #1979031
Change-Id: I31f3323345a15c699327c3feff8b979504e052d4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/77/846277/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,03fc36e2e323a029a8c90a293596ca0d7f92c11a,bug/1979031,pyroute2.nftables===0.6.9pyroute2===0.6.9pyroute2.ethtool===0.6.9pyroute2.nslink===0.6.9pyroute2.ndb===0.6.9pyroute2.core===0.6.9pyroute2.ipdb===0.6.9pyroute2.ipset===0.6.9,pyroute2.nftables===0.6.12pyroute2===0.6.12pyroute2.ethtool===0.6.12pyroute2.nslink===0.6.12pyroute2.ndb===0.6.12pyroute2.core===0.6.12pyroute2.ipdb===0.6.12pyroute2.ipset===0.6.12,8,8
openstack%2Fneutron~stable%2Fwallaby~I94f0832d09d263837262ada109a567e864915a1a,openstack/neutron,stable/wallaby,I94f0832d09d263837262ada109a567e864915a1a,[OVN][Migration] More robust checks on stop-agents,MERGED,2022-05-31 18:05:55.000000000,2022-06-17 10:26:46.000000000,2022-06-17 10:23:45.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 18:05:55.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5ba40a236cac5092398282b6a5dbbc786733258', 'message': '[OVN][Migration] More robust checks on stop-agents\n\nOn OSP17 there are some ml2 ovs services that are not\npresent on some computes eventhought is defined on the\nansible service facts.\n\nThis patch will ensure that only those services that are\nactually running will be stopped.\n\nChange-Id: I94f0832d09d263837262ada109a567e864915a1a\n(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)\n'}]",0,844076,f5ba40a236cac5092398282b6a5dbbc786733258,10,3,1,8655,,,0,"[OVN][Migration] More robust checks on stop-agents

On OSP17 there are some ml2 ovs services that are not
present on some computes eventhought is defined on the
ansible service facts.

This patch will ensure that only those services that are
actually running will be stopped.

Change-Id: I94f0832d09d263837262ada109a567e864915a1a
(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/844076/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'],1,f5ba40a236cac5092398282b6a5dbbc786733258,," when: - ansible_facts.services[item] is defined - ansible_facts.services[item][""state""] == ""running""# If file is already deleted this won't fail",,4,0
openstack%2Fneutron~stable%2Fyoga~I94f0832d09d263837262ada109a567e864915a1a,openstack/neutron,stable/yoga,I94f0832d09d263837262ada109a567e864915a1a,[OVN][Migration] More robust checks on stop-agents,MERGED,2022-05-31 18:05:33.000000000,2022-06-17 10:26:45.000000000,2022-06-17 10:23:37.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 18:05:33.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2f09820da48f9e63b476ef0cac587c2fe3e6fa5', 'message': '[OVN][Migration] More robust checks on stop-agents\n\nOn OSP17 there are some ml2 ovs services that are not\npresent on some computes eventhought is defined on the\nansible service facts.\n\nThis patch will ensure that only those services that are\nactually running will be stopped.\n\nChange-Id: I94f0832d09d263837262ada109a567e864915a1a\n(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)\n'}]",1,844074,c2f09820da48f9e63b476ef0cac587c2fe3e6fa5,9,3,1,8655,,,0,"[OVN][Migration] More robust checks on stop-agents

On OSP17 there are some ml2 ovs services that are not
present on some computes eventhought is defined on the
ansible service facts.

This patch will ensure that only those services that are
actually running will be stopped.

Change-Id: I94f0832d09d263837262ada109a567e864915a1a
(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/844074/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'],1,c2f09820da48f9e63b476ef0cac587c2fe3e6fa5,," when: - ansible_facts.services[item] is defined - ansible_facts.services[item][""state""] == ""running""# If file is already deleted this won't fail",,4,0
openstack%2Fneutron~stable%2Fxena~I94f0832d09d263837262ada109a567e864915a1a,openstack/neutron,stable/xena,I94f0832d09d263837262ada109a567e864915a1a,[OVN][Migration] More robust checks on stop-agents,MERGED,2022-05-31 18:05:44.000000000,2022-06-17 10:26:36.000000000,2022-06-17 10:23:41.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-31 18:05:44.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/932bfee4d6849fd724333bf33529a415d72948b7', 'message': '[OVN][Migration] More robust checks on stop-agents\n\nOn OSP17 there are some ml2 ovs services that are not\npresent on some computes eventhought is defined on the\nansible service facts.\n\nThis patch will ensure that only those services that are\nactually running will be stopped.\n\nChange-Id: I94f0832d09d263837262ada109a567e864915a1a\n(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)\n'}]",0,844075,932bfee4d6849fd724333bf33529a415d72948b7,10,3,1,8655,,,0,"[OVN][Migration] More robust checks on stop-agents

On OSP17 there are some ml2 ovs services that are not
present on some computes eventhought is defined on the
ansible service facts.

This patch will ensure that only those services that are
actually running will be stopped.

Change-Id: I94f0832d09d263837262ada109a567e864915a1a
(cherry picked from commit 2869d008e2e417e43f3fbf942225a9edc5868e37)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/844075/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/stop-agents/tasks/cleanup.yml'],1,932bfee4d6849fd724333bf33529a415d72948b7,," when: - ansible_facts.services[item] is defined - ansible_facts.services[item][""state""] == ""running""# If file is already deleted this won't fail",,4,0
openstack%2Fplacement~master~Icfe83313e86969b0b9d34c19b6b82a47d685d4d7,openstack/placement,master,Icfe83313e86969b0b9d34c19b6b82a47d685d4d7,Add WA about resource_providers.can_host removal,MERGED,2022-06-14 11:32:45.000000000,2022-06-17 10:25:49.000000000,2022-06-17 10:23:48.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 11:32:45.000000000', 'files': ['doc/source/admin/upgrade-to-stein.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/d8241aac9c871d1c8a77167a55e7b26c09aa80db', 'message': 'Add WA about resource_providers.can_host removal\n\nWe made a mistake and not added resource_providers.can_host to the new\nDB schema of Placement when Placement was split out of Nova. This patch\ndocuments that as can_host is not in the DB model it is safe to drop it\nfrom the DB to remove the schema inconsistency.\n\nRelated-Bug: #1978549\nChange-Id: Icfe83313e86969b0b9d34c19b6b82a47d685d4d7\n'}]",1,845730,d8241aac9c871d1c8a77167a55e7b26c09aa80db,8,3,1,9708,,,0,"Add WA about resource_providers.can_host removal

We made a mistake and not added resource_providers.can_host to the new
DB schema of Placement when Placement was split out of Nova. This patch
documents that as can_host is not in the DB model it is safe to drop it
from the DB to remove the schema inconsistency.

Related-Bug: #1978549
Change-Id: Icfe83313e86969b0b9d34c19b6b82a47d685d4d7
",git fetch https://review.opendev.org/openstack/placement refs/changes/30/845730/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrade-to-stein.rst'],1,d8241aac9c871d1c8a77167a55e7b26c09aa80db,bug/1978549,.. note:: As described in `bug 1978549`_ the ``can_host`` column of the ``resource_providers`` table was removed from the DB model but not from the DB schema while Placement was still part of Nova. Then when Placement was split out its DB schema was altered to not contain ``can_host`` any more. This can create a situation when the actual DB schema and the schema defined by the alembic code is different. As ``can_host`` is not used any more it is safe to manually remove it from the DB to remove the schema inconsistency. .. _bug 1978549: https://bugs.launchpad.net/nova/+bug/1978549,,12,0
openstack%2Fopenstack-ansible-os_mistral~master~Ie34df51cc0284b23713a897c8bc9d4958a1fe385,openstack/openstack-ansible-os_mistral,master,Ie34df51cc0284b23713a897c8bc9d4958a1fe385,Support service tokens,MERGED,2022-06-15 17:14:23.000000000,2022-06-17 10:22:56.000000000,2022-06-17 10:21:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 17:14:23.000000000', 'files': ['tasks/main.yml', 'templates/mistral.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/2a8972b5e8a0938350796edb366fcf09b2c0dff3', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Ie34df51cc0284b23713a897c8bc9d4958a1fe385\n'}]",1,846041,2a8972b5e8a0938350796edb366fcf09b2c0dff3,10,3,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ie34df51cc0284b23713a897c8bc9d4958a1fe385
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/41/846041/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/mistral.conf.j2', 'defaults/main.yml']",3,2a8972b5e8a0938350796edb366fcf09b2c0dff3,osa/service_tokens,"mistral_service_role_names: - admin - service mistral_service_token_roles: - service mistral_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",mistral_role_name: admin,12,2
openstack%2Fopenstack-ansible-os_cloudkitty~master~Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0,openstack/openstack-ansible-os_cloudkitty,master,Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0,Support service tokens,MERGED,2022-06-15 15:53:48.000000000,2022-06-17 10:08:02.000000000,2022-06-17 10:06:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 15:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/40d95ef2fd908c0b4414c81faba27a0868b47ae6', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0\n'}, {'number': 2, 'created': '2022-06-15 19:17:22.000000000', 'files': ['tasks/main.yml', 'templates/cloudkitty.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/b6d15a95cba562a9a58aca0970cb2fec40cb3f62', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0\n'}]",1,846019,b6d15a95cba562a9a58aca0970cb2fec40cb3f62,12,3,2,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Icb1de8c7e0a5196a4df457a5d4a3ca524d4622d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/19/846019/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/cloudkitty.conf.j2', 'defaults/main.yml']",3,40d95ef2fd908c0b4414c81faba27a0868b47ae6,osa/service_tokens,"cloudkitty_service_user_name: cloudkittycloudkitty_service_role_names: - admin - rating - servicecloudkitty_service_type: rating cloudkitty_service_description: ""OpenStack Rating Service""","cloudkitty_service_user_name: cloudkitty cloudkitty_service_role_name: ""admin"" cloudkitty_system_service_name: ""cloudkitty-api""",13,11
openstack%2Fopenstack-ansible-os_sahara~master~I7064765e62d9e1a86fb20232429731840f697a88,openstack/openstack-ansible-os_sahara,master,I7064765e62d9e1a86fb20232429731840f697a88,Support service tokens,MERGED,2022-06-15 17:21:11.000000000,2022-06-17 10:05:39.000000000,2022-06-17 10:04:25.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 17:21:11.000000000', 'files': ['tasks/main.yml', 'templates/sahara.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/816e498c5c02cf02a4d0855dea832ac5ed1f9fe6', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I7064765e62d9e1a86fb20232429731840f697a88\n'}]",1,846044,816e498c5c02cf02a4d0855dea832ac5ed1f9fe6,11,4,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I7064765e62d9e1a86fb20232429731840f697a88
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/44/846044/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/sahara.conf.j2', 'defaults/main.yml']",3,816e498c5c02cf02a4d0855dea832ac5ed1f9fe6,osa/service_tokens,"sahara_service_role_names: - admin - service sahara_service_token_roles: - service sahara_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",sahara_role_name: admin,11,2
openstack%2Freleases~master~Ib2648e597bb3759b6814e4f95622cffc2b62f87e,openstack/releases,master,Ib2648e597bb3759b6814e4f95622cffc2b62f87e,kolla: Add yoctozepto as release liaison,MERGED,2022-06-06 19:22:52.000000000,2022-06-17 10:02:25.000000000,2022-06-17 10:02:25.000000000,"[{'_account_id': 308}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-06 19:22:52.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e390bb5e1e53abd5bc6e585741a8a21870862987', 'message': 'kolla: Add yoctozepto as release liaison\n\nChange-Id: Ib2648e597bb3759b6814e4f95622cffc2b62f87e\n'}]",1,844876,e390bb5e1e53abd5bc6e585741a8a21870862987,8,4,1,22629,,,0,"kolla: Add yoctozepto as release liaison

Change-Id: Ib2648e597bb3759b6814e4f95622cffc2b62f87e
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/844876/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,e390bb5e1e53abd5bc6e585741a8a21870862987,, - name: 'Radoslaw Piliszek' irc: yoctozepto email: radoslaw.piliszek@gmail.com,,3,0
openstack%2Freleases~master~Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd,openstack/releases,master,Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd,Release virtualbmc 2.2.2,MERGED,2022-06-15 11:59:22.000000000,2022-06-17 10:02:22.000000000,2022-06-17 10:02:22.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 11:59:22.000000000', 'files': ['deliverables/_independent/virtualbmc.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c46b8f6bee59fa9705b63a013a2c98f221d68cad', 'message': 'Release virtualbmc 2.2.2\n\nChange-Id: Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd\n'}]",3,845977,c46b8f6bee59fa9705b63a013a2c98f221d68cad,10,5,1,23851,,,0,"Release virtualbmc 2.2.2

Change-Id: Ie292a2d83b9e67a1f3b5bdb2ab629665668261dd
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/845977/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/virtualbmc.yaml'],1,c46b8f6bee59fa9705b63a013a2c98f221d68cad,virtualbmc-222, - version: 2.2.2 projects: - repo: openstack/virtualbmc hash: 835fd3b9e4cbb33a297e979db93df55498ff6ce0,,4,0
openstack%2Freleases~master~Ic7c546eaa8e6215ac8bd09cc5f921472587912f5,openstack/releases,master,Ic7c546eaa8e6215ac8bd09cc5f921472587912f5,Release Designate 12.1.0 (stable/wallaby) bugfixes,MERGED,2022-06-07 00:19:22.000000000,2022-06-17 10:02:19.000000000,2022-06-17 10:02:19.000000000,"[{'_account_id': 308}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-07 00:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9300c3bfd7cbac836a40a5f02d48223537f35398', 'message': 'Release Designate 12.0.2 (stable/wallaby) bugfixes\n\nChange-Id: Ic7c546eaa8e6215ac8bd09cc5f921472587912f5\n'}, {'number': 2, 'created': '2022-06-07 19:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2f4f47dc7a74341386028f84ee60e64b7afe5db9', 'message': 'Release Designate 12.0.2 (stable/wallaby) bugfixes\n\nChange-Id: Ic7c546eaa8e6215ac8bd09cc5f921472587912f5\n'}, {'number': 3, 'created': '2022-06-09 22:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e18273ce9d83ea9cbc426933a2c7d6f34102a9a7', 'message': 'Release Designate 12.0.2 (stable/wallaby) bugfixes\n\nChange-Id: Ic7c546eaa8e6215ac8bd09cc5f921472587912f5\n'}, {'number': 4, 'created': '2022-06-13 14:45:15.000000000', 'files': ['deliverables/wallaby/designate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d7c8a0ef9ed0ec5e6a160fa4c0311de779e47806', 'message': 'Release Designate 12.1.0 (stable/wallaby) bugfixes\n\nChange-Id: Ic7c546eaa8e6215ac8bd09cc5f921472587912f5\n'}]",9,844894,d7c8a0ef9ed0ec5e6a160fa4c0311de779e47806,26,5,4,11628,,,0,"Release Designate 12.1.0 (stable/wallaby) bugfixes

Change-Id: Ic7c546eaa8e6215ac8bd09cc5f921472587912f5
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/844894/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/designate.yaml'],1,9300c3bfd7cbac836a40a5f02d48223537f35398,, - version: 12.0.2 projects: - repo: openstack/designate hash: 1d28cc6f7231ed866b432174affd1d796ca8cb23,,4,0
openstack%2Freleases~master~I8238b07b380e55bd9a5a418c8bd9f6075ea3f737,openstack/releases,master,I8238b07b380e55bd9a5a418c8bd9f6075ea3f737,Release 4.2.1 python-designateclient for Wallaby,MERGED,2022-06-13 18:52:50.000000000,2022-06-17 10:02:17.000000000,2022-06-17 10:02:17.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 18:52:50.000000000', 'files': ['deliverables/wallaby/python-designateclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fc7b1b02150d7c0d2b08c35a9baf325c03e3139e', 'message': 'Release 4.2.1 python-designateclient for Wallaby\n\nChange-Id: I8238b07b380e55bd9a5a418c8bd9f6075ea3f737\n'}]",1,845625,fc7b1b02150d7c0d2b08c35a9baf325c03e3139e,8,3,1,11628,,,0,"Release 4.2.1 python-designateclient for Wallaby

Change-Id: I8238b07b380e55bd9a5a418c8bd9f6075ea3f737
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/845625/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/python-designateclient.yaml'],1,fc7b1b02150d7c0d2b08c35a9baf325c03e3139e,, - version: 4.2.1 projects: - repo: openstack/python-designateclient hash: 7a8d1560868643d24b3431db0a24058c23ceab35,,4,0
openstack%2Freleases~master~Ie2188d20a5bbea269c38a7bbdfd4795093c0e917,openstack/releases,master,Ie2188d20a5bbea269c38a7bbdfd4795093c0e917,Release 4.3.1 python-designateclient for Xena,MERGED,2022-06-13 18:51:37.000000000,2022-06-17 10:02:13.000000000,2022-06-17 10:02:13.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 18:51:37.000000000', 'files': ['deliverables/xena/python-designateclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a8db5665070d34fe22576f31aade647ed51bcf0d', 'message': 'Release 4.3.1 python-designateclient for Xena\n\nChange-Id: Ie2188d20a5bbea269c38a7bbdfd4795093c0e917\n'}]",1,845624,a8db5665070d34fe22576f31aade647ed51bcf0d,8,3,1,11628,,,0,"Release 4.3.1 python-designateclient for Xena

Change-Id: Ie2188d20a5bbea269c38a7bbdfd4795093c0e917
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/845624/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/python-designateclient.yaml'],1,a8db5665070d34fe22576f31aade647ed51bcf0d,, - version: 4.3.1 projects: - repo: openstack/python-designateclient hash: 018b722f43c0d2ae59edee3051cf52160e0c73d9,,4,0
openstack%2Freleases~master~I9e21438534a0f449ce0599d2e96010fc772d8a01,openstack/releases,master,I9e21438534a0f449ce0599d2e96010fc772d8a01,Release 4.5.1 python-designate client for yoga,MERGED,2022-06-13 18:49:56.000000000,2022-06-17 10:02:11.000000000,2022-06-17 10:02:11.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 18:49:56.000000000', 'files': ['deliverables/yoga/python-designateclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e4f3514c17a3c310f7325778ec4b5bb10c27f4c5', 'message': 'Release 4.5.1 python-designate client for yoga\n\nChange-Id: I9e21438534a0f449ce0599d2e96010fc772d8a01\n'}]",1,845623,e4f3514c17a3c310f7325778ec4b5bb10c27f4c5,8,3,1,11628,,,0,"Release 4.5.1 python-designate client for yoga

Change-Id: I9e21438534a0f449ce0599d2e96010fc772d8a01
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/845623/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-designateclient.yaml'],1,e4f3514c17a3c310f7325778ec4b5bb10c27f4c5,, - version: 4.5.1 projects: - repo: openstack/python-designateclient hash: 06887d653894dc539cc4af0652ee20ff2105f65d,,4,0
openstack%2Freleases~master~I813f817dce190fa91d8a9aecdee242f7787505c9,openstack/releases,master,I813f817dce190fa91d8a9aecdee242f7787505c9,Release oslo's Zed deliverables,MERGED,2022-06-08 14:28:29.000000000,2022-06-17 10:02:08.000000000,2022-06-17 10:02:08.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-06-08 14:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5c87f9d89e8746c9e4c48f2e114b717ecaa9d574', 'message': ""Release oslo's Zed deliverables\n\nChange-Id: I813f817dce190fa91d8a9aecdee242f7787505c9\n""}, {'number': 2, 'created': '2022-06-13 09:24:28.000000000', 'files': ['deliverables/zed/oslo.policy.yaml', 'deliverables/zed/oslo.vmware.yaml', 'deliverables/zed/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/013c02f3c94e8fb9acfdfa65447d4e128101ae9f', 'message': ""Release oslo's Zed deliverables\n\nChange-Id: I813f817dce190fa91d8a9aecdee242f7787505c9\n""}]",4,845144,013c02f3c94e8fb9acfdfa65447d4e128101ae9f,12,4,2,28522,,,0,"Release oslo's Zed deliverables

Change-Id: I813f817dce190fa91d8a9aecdee242f7787505c9
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/845144/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/oslo.policy.yaml', 'deliverables/zed/oslo.utils.yaml', 'deliverables/zed/oslo.vmware.yaml']",3,5c87f9d89e8746c9e4c48f2e114b717ecaa9d574,oslo-zed,releases: - version: 3.11.0 projects: - repo: openstack/oslo.vmware hash: 42ca5ddb2660227269ae1e9ce5642338e55304f0,,13,0
openstack%2Fopenstack-ansible-os_swift~master~If34e0170ea0e0f7727cfadba982f3c7dae6ae216,openstack/openstack-ansible-os_swift,master,If34e0170ea0e0f7727cfadba982f3c7dae6ae216,Support service tokens,MERGED,2022-06-15 17:52:15.000000000,2022-06-17 10:01:13.000000000,2022-06-17 09:59:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 17:52:15.000000000', 'files': ['tasks/main.yml', 'templates/proxy-server.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/5139ecc2334f5059c452e99080660be2a36671d5', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: If34e0170ea0e0f7727cfadba982f3c7dae6ae216\n'}]",1,846051,5139ecc2334f5059c452e99080660be2a36671d5,10,3,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: If34e0170ea0e0f7727cfadba982f3c7dae6ae216
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/51/846051/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/proxy-server.conf.j2', 'defaults/main.yml']",3,5139ecc2334f5059c452e99080660be2a36671d5,osa/service_tokens,"swift_service_role_names: - admin - service swift_service_token_roles: - service swift_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""","swift_service_role_name: ""admin""",12,2
openstack%2Fironic-prometheus-exporter~master~Id376a1ded688c52a588a96896fc70f94e803ba7e,openstack/ironic-prometheus-exporter,master,Id376a1ded688c52a588a96896fc70f94e803ba7e,CI: Removing ironic job queue,MERGED,2022-05-19 18:18:40.000000000,2022-06-17 09:57:39.000000000,2022-06-17 09:55:03.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-05-19 18:18:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/5a5f5ef7471ad7ee47c274af90e484f5d31e2faa', 'message': 'CI: Removing ironic job queue\n\nPlease see:\nhttps://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n\nChange-Id: Id376a1ded688c52a588a96896fc70f94e803ba7e\n'}]",0,842603,5a5f5ef7471ad7ee47c274af90e484f5d31e2faa,11,3,1,11655,,,0,"CI: Removing ironic job queue

Please see:
https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes

Change-Id: Id376a1ded688c52a588a96896fc70f94e803ba7e
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/03/842603/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5a5f5ef7471ad7ee47c274af90e484f5d31e2faa,drop-queue-ironic,, queue: ironic,0,1
openstack%2Fkolla-ansible~stable%2Fxena~Id8dffc425ff057b1e45103eb53734543bca8be80,openstack/kolla-ansible,stable/xena,Id8dffc425ff057b1e45103eb53734543bca8be80,Increase openstack-exporter timeout to 45 seconds,MERGED,2022-06-06 09:05:18.000000000,2022-06-17 09:48:01.000000000,2022-06-17 09:46:32.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 09:05:18.000000000', 'files': ['ansible/group_vars/all.yml', 'releasenotes/notes/increase-prometheus-openstack-exporter-timeout-652eebff6a42d198.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f2a4996d28327ebfef981b334732e6d6e2f075d', 'message': 'Increase openstack-exporter timeout to 45 seconds\n\nEven on moderately sized clouds, openstack-exporter can easily take more\nthan 10 seconds to return, causing Prometheus to fail to scrape data.\n\nSince the default scrape internal is 60 seconds, we can increase the\ndefault timeout to 45 seconds.\n\nChange-Id: Id8dffc425ff057b1e45103eb53734543bca8be80\nCloses-Bug: #1976629\n(cherry picked from commit 9653ebe102985e9ce0184d63a51e27152311e9cf)\n'}]",0,844792,5f2a4996d28327ebfef981b334732e6d6e2f075d,9,3,1,15197,,,0,"Increase openstack-exporter timeout to 45 seconds

Even on moderately sized clouds, openstack-exporter can easily take more
than 10 seconds to return, causing Prometheus to fail to scrape data.

Since the default scrape internal is 60 seconds, we can increase the
default timeout to 45 seconds.

Change-Id: Id8dffc425ff057b1e45103eb53734543bca8be80
Closes-Bug: #1976629
(cherry picked from commit 9653ebe102985e9ce0184d63a51e27152311e9cf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/844792/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/increase-prometheus-openstack-exporter-timeout-652eebff6a42d198.yaml']",2,5f2a4996d28327ebfef981b334732e6d6e2f075d,,--- fixes: - | Increases ``prometheus_openstack_exporter_timeout`` to 45 seconds to reduce the odds of scrape failures on deployments with large number of OpenStack resources. `LP#1976629 <https://bugs.launchpad.net/kolla-ansible/+bug/1976629>`__ ,,8,1
openstack%2Fpython-tripleoclient~master~Ic09f6ae222cd1f3bb4be5509c4d2b43269596fca,openstack/python-tripleoclient,master,Ic09f6ae222cd1f3bb4be5509c4d2b43269596fca,Fix config-download playbook name,ABANDONED,2022-06-17 01:56:09.000000000,2022-06-17 09:39:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-17 01:56:09.000000000', 'files': ['tripleoclient/v1/overcloud_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c01bf87f57ed39de634a8f0ff977a4f41950a928', 'message': 'Fix config-download playbook name\n\nThe config-download and config-download-export playbooks were\nmerged in b6f1bfc408ea37dab1cae261b092172058c830dc.\n\nThe path was never updated in the overcloud_config.py to reflect this.\nThis change fixes the path.\n\nChange-Id: Ic09f6ae222cd1f3bb4be5509c4d2b43269596fca\n'}]",0,846241,c01bf87f57ed39de634a8f0ff977a4f41950a928,3,1,1,30073,,,0,"Fix config-download playbook name

The config-download and config-download-export playbooks were
merged in b6f1bfc408ea37dab1cae261b092172058c830dc.

The path was never updated in the overcloud_config.py to reflect this.
This change fixes the path.

Change-Id: Ic09f6ae222cd1f3bb4be5509c4d2b43269596fca
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/846241/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_config.py'],1,c01bf87f57ed39de634a8f0ff977a4f41950a928,config-download-playbook," playbook='cli-config-download.yaml',"," playbook='cli-config-download-export.yaml',",1,1
openstack%2Fpuppet-cinder~master~Ie7cb0c11a2b9526b61a70a5f359862a24723026c,openstack/puppet-cinder,master,Ie7cb0c11a2b9526b61a70a5f359862a24723026c,Support to configure cinder backend_defaults,MERGED,2022-06-14 00:57:07.000000000,2022-06-17 09:14:02.000000000,2022-06-17 09:12:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 00:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a7d9dc876dc6c8f46fa61ad2b3efba32ba4dfde4', 'message': 'Enable use_multipath_for_image_xfer\n\nThis patch enables use_multipath_for_image_xfer for\nall cinder backends by default.\n\nIt is updated in [backend_defaults] section.\n\nChange-Id: Ie7cb0c11a2b9526b61a70a5f359862a24723026c\n'}, {'number': 2, 'created': '2022-06-14 01:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/eb39b8a3a20b978969eb32a303ed35699dfc7772', 'message': 'Enable use_multipath_for_image_xfer\n\nThis patch enables use_multipath_for_image_xfer for\nall cinder backends by default.\n\nIt is updated in [backend_defaults] section.\n\nChange-Id: Ie7cb0c11a2b9526b61a70a5f359862a24723026c\n'}, {'number': 3, 'created': '2022-06-14 10:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0a23f8d516058c0cfe443de93f86c7e780a9787c', 'message': 'Enable use_multipath_for_image_xfer\n\nThis patch introduces a new Class cinder::backend::defaults, that\nprovides a way to enable use_multipath_for_image_xfer for all cinder\nbackends by default in [backend_defaults] section of\ncinder.conf\n\nChange-Id: Ie7cb0c11a2b9526b61a70a5f359862a24723026c\n'}, {'number': 4, 'created': '2022-06-14 10:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c16aeb222eafade6339812f61d178054383a607d', 'message': 'Enable use_multipath_for_image_xfer\n\nThis patch introduces a new Class cinder::backend::defaults, that\nprovides a way to enable use_multipath_for_image_xfer for all cinder\nbackends by default in [backend_defaults] section of\ncinder configuration file.\n\nChange-Id: Ie7cb0c11a2b9526b61a70a5f359862a24723026c\n'}, {'number': 5, 'created': '2022-06-16 09:56:25.000000000', 'files': ['spec/classes/cinder_backends_spec.rb', 'releasenotes/notes/introduce_new_class_for_cinder_backend_defaults-f1f63f755dfdef47.yaml', 'spec/classes/cinder_backend_defaults_spec.rb', 'manifests/backend/defaults.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3a9a21fc0938f5c5a7afb99cecf407c7754c2b90', 'message': 'Support to configure cinder backend_defaults\n\nThis patch introduces a new Class cinder::backend::defaults, that\nprovides a way to configure parameters for all cinder\nbackends by default in [backend_defaults] section of\ncinder configuration file.\n\nThis parameter use_multipath_for_image_xfer is supported currently.\n\nChange-Id: Ie7cb0c11a2b9526b61a70a5f359862a24723026c\n'}]",40,845652,3a9a21fc0938f5c5a7afb99cecf407c7754c2b90,27,4,5,34598,,,0,"Support to configure cinder backend_defaults

This patch introduces a new Class cinder::backend::defaults, that
provides a way to configure parameters for all cinder
backends by default in [backend_defaults] section of
cinder configuration file.

This parameter use_multipath_for_image_xfer is supported currently.

Change-Id: Ie7cb0c11a2b9526b61a70a5f359862a24723026c
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/52/845652/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_backend_defaults_spec.rb', 'manifests/backend/defaults.pp']",2,a7d9dc876dc6c8f46fa61ad2b3efba32ba4dfde4,use_multipath_for_image_xfer,"# == Class: cinder::backend::defaults # # Cinder backend defaults # # === Parameters # [*use_multipath_for_image_xfer*] # (Optional) Whether to use multipath during create-volume-from-image and # copy-volume-to-image operations. # Defaults to $::os_service_default # class cinder::backend::defaults ( $use_multipath_for_image_xfer = $::os_service_default, ) { cinder_config { 'backend_defaults/use_multipath_for_image_xfer': value => $use_multipath_for_image_xfer; } } ",,31,0
openstack%2Fheat~stable%2Fussuri~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/ussuri,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-15 12:33:08.000000000,2022-06-17 09:03:43.000000000,2022-06-17 09:00:55.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 12:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/16ae97ab6aec917a2981dc89bc635827b1a67149', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nBackport note:\nChange I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33\nby f66, is merged into this backport to unblock CI.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)\n(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)\n(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)\n""}, {'number': 2, 'created': '2022-06-15 12:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/58e45a946ee33ce984dbad8e000d38134bcc4c11', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nBackport note:\nChange I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33\nby f66, is merged into this backport to unblock CI.\n\nBackport note to ussuri.\nThis change was adjusted to avoid config error in zuul. The grenade\njob is already made non-voting in stable/ussuri.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)\n(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)\n(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)\n""}, {'number': 3, 'created': '2022-06-16 17:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/462505b91830981b0793199974ca57853561e3d2', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nBackport note:\nChange I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33\nby f66, is merged into this backport to unblock CI.\n\nBackport note to ussuri:\nChange I703229320320295b4a90e72c543f8959f85daaa9, which removed l-c\njob is merged into this backport because the job is failing now.\nThis change was adjusted to avoid config error in zuul. The grenade\njob is already made non-voting in stable/ussuri.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)\n(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)\n(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)\n""}, {'number': 4, 'created': '2022-06-16 23:26:03.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', 'roles/run-heat-tests/defaults/main.yaml', 'requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'roles/run-heat-tests/tasks/main.yaml', 'tox.ini', 'heat_integrationtests/prepare_test_env.sh', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/f3d895e960b359ec9ccf45e5c2921cfbe98475fd', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nBackport note:\nChange I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33\nby f66, is merged into this backport to unblock CI.\n\nBackport notes to ussuri:\n- Change I703229320320295b4a90e72c543f8959f85daaa9, which removed l-c\n  job is merged into this backport because the job is failing now.\n- Change Ibe60d1e536f0e887eceea32b7cb4eec6318e96af is partially pulled\n  into this change to fix the requirements-check job.\n- This change was adjusted to avoid config error in zuul. The grenade\n  job is already made non-voting in stable/ussuri.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)\n(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)\n(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)\n""}]",0,845981,f3d895e960b359ec9ccf45e5c2921cfbe98475fd,13,2,4,9816,,,0,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Backport note:
Change I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33
by f66, is merged into this backport to unblock CI.

Backport notes to ussuri:
- Change I703229320320295b4a90e72c543f8959f85daaa9, which removed l-c
  job is merged into this backport because the job is failing now.
- Change Ibe60d1e536f0e887eceea32b7cb4eec6318e96af is partially pulled
  into this change to fix the requirements-check job.
- This change was adjusted to avoid config error in zuul. The grenade
  job is already made non-voting in stable/ussuri.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)
(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)
",git fetch https://review.opendev.org/openstack/heat refs/changes/81/845981/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', 'roles/run-heat-tests/defaults/main.yaml', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'roles/run-heat-tests/tasks/main.yaml', 'heat_integrationtests/prepare_test_env.sh']",7,16ae97ab6aec917a2981dc89bc635827b1a67149,venv-tempest-stable/ussuri, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-36-1.5.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64,33,10
openstack%2Fironic~master~I293f1c110227a09909ea2225346c24143f851a71,openstack/ironic,master,I293f1c110227a09909ea2225346c24143f851a71,Docs: replace nova cli calls with openstack,MERGED,2022-06-15 23:41:54.000000000,2022-06-17 08:50:52.000000000,2022-06-17 08:48:37.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 23:41:54.000000000', 'files': ['doc/source/admin/drivers/ilo.rst', 'doc/source/install/configdrive.rst', 'doc/source/install/include/boot-mode.inc', 'doc/source/install/include/disk-label.inc', 'doc/source/install/include/local-boot-partition-images.inc', 'doc/source/admin/inspection.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/39a7f58002eac8ad10720c7347f001c8afd24a6f', 'message': 'Docs: replace nova cli calls with openstack\n\nChange-Id: I293f1c110227a09909ea2225346c24143f851a71\n'}]",0,846072,39a7f58002eac8ad10720c7347f001c8afd24a6f,8,3,1,4571,,,0,"Docs: replace nova cli calls with openstack

Change-Id: I293f1c110227a09909ea2225346c24143f851a71
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/846072/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ilo.rst', 'doc/source/install/configdrive.rst', 'doc/source/install/include/boot-mode.inc', 'doc/source/install/include/disk-label.inc', 'doc/source/install/include/local-boot-partition-images.inc', 'doc/source/admin/inspection.rst']",6,39a7f58002eac8ad10720c7347f001c8afd24a6f,novacli," openstack flavor set my-baremetal-flavor --property capabilities:pci_gpu_devices=""> 0"" openstack flavor set my-baremetal-flavor --property capabilities:secure_boot=""true"""," nova flavor-key my-baremetal-flavor set capabilities:pci_gpu_devices=""> 0"" nova flavor-key my-baremetal-flavor set capabilities:secure_boot=""true""",15,15
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~I22abfbbf09110ff333d6dbe0ba96982a8593b6ee,openstack/charm-nova-compute-nvidia-vgpu,master,I22abfbbf09110ff333d6dbe0ba96982a8593b6ee,Filter mediated devices for 3D controllers,MERGED,2022-05-19 13:30:57.000000000,2022-06-17 08:38:43.000000000,2022-06-17 08:38:43.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 13:30:57.000000000', 'files': ['unit_tests/test_nvidia_utils.py', 'src/nvidia_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/eda2fb6545191a1291fccad42396a119e6d313e5', 'message': 'Filter mediated devices for 3D controllers\n\nEnsure that only mediated devices for 3D controller are returned\nwhen listing the available mediated device types on a given\nmachine.\n\nChange-Id: I22abfbbf09110ff333d6dbe0ba96982a8593b6ee\n'}]",4,842543,eda2fb6545191a1291fccad42396a119e6d313e5,13,3,1,935,,,0,"Filter mediated devices for 3D controllers

Ensure that only mediated devices for 3D controller are returned
when listing the available mediated device types on a given
machine.

Change-Id: I22abfbbf09110ff333d6dbe0ba96982a8593b6ee
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/43/842543/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nvidia_utils.py', 'src/nvidia_utils.py']",2,eda2fb6545191a1291fccad42396a119e6d313e5,action-filter-devices,"GPU_DEVICE_CLASS = '0x030200' # Other types of device can present mediated devices # so ensure that only 3D controller class devices # are listed device_class = ( Path(os.path.join(root, 'class')).read_text().rstrip() ) if device_class != GPU_DEVICE_CLASS: continue logging.debug(device_class)",,14,14
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~I26663ca8da99083a409e085ea239e43245ef6265,openstack/charm-nova-compute-nvidia-vgpu,master,I26663ca8da99083a409e085ea239e43245ef6265,Refactor unit status output,MERGED,2022-05-12 08:32:08.000000000,2022-06-17 08:33:10.000000000,2022-06-17 08:33:10.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-12 08:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/f10418cc4bb148a1fb391f6aaa45f4490cb9cbda', 'message': 'Refactor unit status output\n\nThe unit status output for this charm was verbose compared to\nothers;  refactor to display minimal information when active\nand pertinent information when in a blocked state.\n\nNote that the NVIDIA driver version should really be in the\napplication version; this will require further refactoring\nto expose this information to the operator framework.\n\nChange-Id: I26663ca8da99083a409e085ea239e43245ef6265\n'}, {'number': 2, 'created': '2022-05-17 10:22:47.000000000', 'files': ['unit_tests/test_charm_utils.py', '.gitignore', 'test-requirements.txt', 'unit_tests/test_nvidia_utils.py', 'src/charm_utils.py', 'src/nvidia_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/37e0fe598295474fd8a1b1f00d2b0632dd652047', 'message': 'Refactor unit status output\n\nThe unit status output for this charm was verbose compared to\nothers;  refactor to display minimal information when active\nand pertinent information when in a blocked state.\n\nNote that the NVIDIA driver version should really be in the\napplication version; this will require further refactoring\nto expose this information to the operator framework.\n\nChange-Id: I26663ca8da99083a409e085ea239e43245ef6265\n'}]",4,841555,37e0fe598295474fd8a1b1f00d2b0632dd652047,14,3,2,935,,,0,"Refactor unit status output

The unit status output for this charm was verbose compared to
others;  refactor to display minimal information when active
and pertinent information when in a blocked state.

Note that the NVIDIA driver version should really be in the
application version; this will require further refactoring
to expose this information to the operator framework.

Change-Id: I26663ca8da99083a409e085ea239e43245ef6265
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/55/841555/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_charm_utils.py', '.gitignore', 'test-requirements.txt', 'unit_tests/test_nvidia_utils.py', 'src/charm_utils.py', 'src/nvidia_utils.py']",6,f10418cc4bb148a1fb391f6aaa45f4490cb9cbda,ux-updates," :returns: a tuple of (bool, int) indicating if NVIDIA GPU hardware is found and how many GPU's where detected. :rtype: (bool, int) num_nvidia_devices = 0 num_nvidia_devices += 1 if num_nvidia_devices == 0: return num_nvidia_devices > 0, num_nvidia_devices", :returns: True if some NVIDIA GPU hardware is found on the current unit. :rtype: bool nvidia_gpu_hardware_found = False nvidia_gpu_hardware_found = True if not nvidia_gpu_hardware_found: return nvidia_gpu_hardware_found,49,48
openstack%2Freleases~master~I575cf1bc607b1690ae186909601fe7f39c1612ad,openstack/releases,master,I575cf1bc607b1690ae186909601fe7f39c1612ad,Release sushy-tools 0.19.0,MERGED,2022-06-15 11:58:22.000000000,2022-06-17 08:32:35.000000000,2022-06-17 08:32:35.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-15 11:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/02747bd86e8ef7bde190004df7149e4393d4d544', 'message': 'Release sushy-tools 0.18.3\n\nChange-Id: I575cf1bc607b1690ae186909601fe7f39c1612ad\n'}, {'number': 2, 'created': '2022-06-16 11:47:43.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/49a0566ec7ea7b6bd5fab76c757a0c23fad43f2d', 'message': 'Release sushy-tools 0.19.0\n\nChange-Id: I575cf1bc607b1690ae186909601fe7f39c1612ad\n'}]",3,845976,49a0566ec7ea7b6bd5fab76c757a0c23fad43f2d,16,5,2,23851,,,0,"Release sushy-tools 0.19.0

Change-Id: I575cf1bc607b1690ae186909601fe7f39c1612ad
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/845976/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,02747bd86e8ef7bde190004df7149e4393d4d544,sushy-tools-0190, - version: 0.18.3 projects: - repo: openstack/sushy-tools hash: b0e7380047ba127d2ac57992665af737bb2139d7,,4,0
openstack%2Ftap-as-a-service~master~I2856a6e89cb5a434d43092481f1c8bec59dcd56e,openstack/tap-as-a-service,master,I2856a6e89cb5a434d43092481f1c8bec59dcd56e,DNM: test master,ABANDONED,2022-06-15 15:33:08.000000000,2022-06-17 08:05:51.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-15 15:33:08.000000000', 'files': ['neutron_taas/services/taas/service_drivers/taas_agent_api.py'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/8d12f22b374ea9e5ea41dccc792cfb1baa8712bb', 'message': 'DNM: test master\n\nChange-Id: I2856a6e89cb5a434d43092481f1c8bec59dcd56e\n'}]",0,846011,8d12f22b374ea9e5ea41dccc792cfb1baa8712bb,3,1,1,8313,,,0,"DNM: test master

Change-Id: I2856a6e89cb5a434d43092481f1c8bec59dcd56e
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/11/846011/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_taas/services/taas/service_drivers/taas_agent_api.py'],1,8d12f22b374ea9e5ea41dccc792cfb1baa8712bb,dnm, self.host = host, self.host = host,1,1
openstack%2Fheat~stable%2Fvictoria~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/victoria,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:49:18.000000000,2022-06-17 07:46:48.000000000,2022-06-17 07:43:34.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 04:49:18.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/ddc926b6321a170ca02dc014b6a812957d487feb', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nConflicts:\n\t.zuul.yaml\n\tlower-constraints.txt\n\nChange-Id: I703229320320295b4a90e72c543f8959f85daaa9\n(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)\n(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)\n(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)\n(cherry picked from commit 5a6bff198752e5e984c080bcdce5b690dabb63db)\n'}]",0,846097,ddc926b6321a170ca02dc014b6a812957d487feb,7,2,1,9816,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)
(cherry picked from commit 5a6bff198752e5e984c080bcdce5b690dabb63db)
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/846097/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,ddc926b6321a170ca02dc014b6a812957d487feb,drop-l-c,, [testenv:lower-constraints] install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,170
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8,openstack/python-tripleoclient,stable/victoria,Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8,Remove deprecation warnings for the role command,MERGED,2021-08-16 10:56:06.000000000,2022-06-17 07:43:50.000000000,2022-06-17 07:42:15.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-08-16 10:56:06.000000000', 'files': ['tripleoclient/v1/overcloud_roles.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/69b9da1e17fa16971180bc09e6fa1fa7b6673617', 'message': ""Remove deprecation warnings for the role command\n\nThe `role` commands are warning users that they have been deprecated\nand informing users that they should use the alternative `roles`\ncommands. Sadly, we have no such `roles` plugin, so following the\ndeprecation warning provides false information which results in an\nerror should the command be used.\n\nThis change removes the deprecations warnings for the `role` commands.\nIf this needs to be refactored later we can; however, given the\ninformation is wrong and there's no alternative plugin to use, making\nthe UX bad, we're removing the misinformation.\n\nChange-Id: Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit f0f1d271a1e35568e0c979aca3442cfad543db96)\n(cherry picked from commit a88ba3767f518cf4f0cdf678f3ace21a56e4b6fa)\n""}]",11,804714,69b9da1e17fa16971180bc09e6fa1fa7b6673617,35,7,1,32114,,,0,"Remove deprecation warnings for the role command

The `role` commands are warning users that they have been deprecated
and informing users that they should use the alternative `roles`
commands. Sadly, we have no such `roles` plugin, so following the
deprecation warning provides false information which results in an
error should the command be used.

This change removes the deprecations warnings for the `role` commands.
If this needs to be refactored later we can; however, given the
information is wrong and there's no alternative plugin to use, making
the UX bad, we're removing the misinformation.

Change-Id: Ie048cdbe52f5b935ddd4b42febb373f9ff96d8d8
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit f0f1d271a1e35568e0c979aca3442cfad543db96)
(cherry picked from commit a88ba3767f518cf4f0cdf678f3ace21a56e4b6fa)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/804714/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_roles.py'],1,69b9da1e17fa16971180bc09e6fa1fa7b6673617,tinkering-netv2-stable/wallaby-stable/victoria," """"""List availables roles."""""" """"""Show information about a given role."""""" "," """"""List availables roles (DEPRECATED). Please use ""openstack overcloud roles list"" instead. """""" self.log.warning('This command is deprecated. Please use ""openstack ' 'overcloud roles list"" instead.') """"""Show information about a given role (DEPRECATED). Please use ""openstack overcloud roles show"" intead. """""" self.log.warning('This command is deprecated. Please use ""openstack ' 'overcloud roles show"" instead.')",2,11
openstack%2Ftripleo-quickstart-extras~master~I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a,openstack/tripleo-quickstart-extras,master,I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a,"Revert ""Temporarily freeze openssl""",MERGED,2022-06-16 17:13:08.000000000,2022-06-17 07:42:20.000000000,2022-06-17 07:42:20.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-06-16 17:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/30fe83479449d2b564253f5d70b86e76dd41ec16', 'message': 'Revert ""Temporarily freeze openssl""\n\nThis reverts commit 8175a19fd9e4cccd36c5ede80906023da0f43ee6.\n\nReason for revert: openssl version is now 1:3.0.1-33.el9 \n\nChange-Id: I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a\n'}, {'number': 2, 'created': '2022-06-16 20:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e77e561ac632a4f3039e1807e6e0ad496e85a34b', 'message': 'Revert ""Temporarily freeze openssl""\n\nThis reverts commit 8175a19fd9e4cccd36c5ede80906023da0f43ee6.\n\nReason for revert: openssl version is now 1:3.0.1-33.el9 \n\nChange-Id: I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a\n'}, {'number': 3, 'created': '2022-06-16 20:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0c0aff7877427e7b6325cdf60fc1a6fc92c9056e', 'message': 'Revert ""Temporarily freeze openssl""\n\nThis reverts commit 8175a19fd9e4cccd36c5ede80906023da0f43ee6.\nThis also reverts change:\nI3b1345ac6cacf04ad0903dfb7c6c95622a129cae.\n\nReason for revert: openssl version is now 1:3.0.1-33.el9\n\nChange-Id: I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a\n'}, {'number': 4, 'created': '2022-06-16 22:03:03.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'roles/freeipa-setup/templates/deploy_freeipa.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d4f5c79a13a836d1c661a5b4c8fbe43dd434f70e', 'message': 'Revert ""Temporarily freeze openssl""\n\nThis reverts commit 8175a19fd9e4cccd36c5ede80906023da0f43ee6.\nThis also reverts change:\nI3b1345ac6cacf04ad0903dfb7c6c95622a129cae.\n\nReason for revert: openssl version is now 1:3.0.1-33.el9\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/846194/\nChange-Id: I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a\n'}]",1,846125,d4f5c79a13a836d1c661a5b4c8fbe43dd434f70e,23,7,4,9976,,,0,"Revert ""Temporarily freeze openssl""

This reverts commit 8175a19fd9e4cccd36c5ede80906023da0f43ee6.
This also reverts change:
I3b1345ac6cacf04ad0903dfb7c6c95622a129cae.

Reason for revert: openssl version is now 1:3.0.1-33.el9

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/846194/
Change-Id: I0dd8bfe1d13181cb7ab2a2a95bf28ebefaa6ff3a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/25/846125/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'],1,30fe83479449d2b564253f5d70b86e76dd41ec16,bug/1963675,,"- name: Temporarily downgrade openssl become: true shell: > dnf downgrade openssl-3.0.1-5.el9 -y; when: - ansible_distribution|lower in ['centos'] - ansible_distribution_major_version is version('9', '==') ",0,8
openstack%2Fironic-python-agent~master~I11192fd37f6e4a29459ff649072a9171f2901aaf,openstack/ironic-python-agent,master,I11192fd37f6e4a29459ff649072a9171f2901aaf,lsblk: output all available columns,NEW,2022-06-14 16:23:29.000000000,2022-06-17 07:40:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-06-14 16:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/23a376ddbf2ce3d15aeb7b3061b881508efa393b', 'message': 'lsblk: output all available columns\n\nWhen listing block devices using lsblk, instead of selecting specific\ncolumns to show, we just ouput all of them.\n\nChange-Id: I11192fd37f6e4a29459ff649072a9171f2901aaf\n'}, {'number': 2, 'created': '2022-06-16 12:38:30.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f88f0b36505ac5180e49420e351a602d397f6eec', 'message': 'lsblk: output all available columns\n\nWhen listing block devices using lsblk, instead of selecting specific\ncolumns to show, we just ouput all of them.\n\nChange-Id: I11192fd37f6e4a29459ff649072a9171f2901aaf\n'}]",2,845785,f88f0b36505ac5180e49420e351a602d397f6eec,7,2,2,23851,,,0,"lsblk: output all available columns

When listing block devices using lsblk, instead of selecting specific
columns to show, we just ouput all of them.

Change-Id: I11192fd37f6e4a29459ff649072a9171f2901aaf
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/85/845785/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/utils.py']",4,23a376ddbf2ce3d15aeb7b3061b881508efa393b,lsblk-json," 'lsblk': ['lsblk', '--all', '-O'],"," LSBLK_COLUMNS = ['KNAME', 'MODEL', 'SIZE', 'ROTA', 'TYPE', 'UUID', 'PARTUUID'] 'lsblk': ['lsblk', '--all', '-o%s' % ','.join(LSBLK_COLUMNS)],",17,53
openstack%2Fopenstack-ansible~stable%2Fpike~If6f51354a0e623c38d60ce6973bbac7097e30d21,openstack/openstack-ansible,stable/pike,If6f51354a0e623c38d60ce6973bbac7097e30d21,EOL Pike branch,ABANDONED,2022-06-17 07:37:41.000000000,2022-06-17 07:38:35.000000000,,[],"[{'number': 1, 'created': '2022-06-17 07:37:41.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'test-requirements.txt', 'playbooks/defaults/repo_packages/gnocchi.yml', 'zuul.d/project.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7a1a828063fecc902d6d5d51783e6c005c042f7d', 'message': 'EOL Pike branch\n\nWe agreed to EOL Pike as we have no futher plans to provide any patches\nto the stable/pike branch.\n\nDue to specifics of releases repo for older branches, we have to\nEOL integrated repo and services repos in one shot, so we have to switch\nroles to tags that not yet exist.\n\nWe switch to noop jobs as the Pike branch relies on external versions\nof get-pip.py which no longer exist at the original URL.\nChange-Id: I1360988e87d08468d93832226b804dbe666713ca\n\nChange-Id: If6f51354a0e623c38d60ce6973bbac7097e30d21\n'}]",0,846279,7a1a828063fecc902d6d5d51783e6c005c042f7d,2,0,1,28619,,,0,"EOL Pike branch

We agreed to EOL Pike as we have no futher plans to provide any patches
to the stable/pike branch.

Due to specifics of releases repo for older branches, we have to
EOL integrated repo and services repos in one shot, so we have to switch
roles to tags that not yet exist.

We switch to noop jobs as the Pike branch relies on external versions
of get-pip.py which no longer exist at the original URL.
Change-Id: I1360988e87d08468d93832226b804dbe666713ca

Change-Id: If6f51354a0e623c38d60ce6973bbac7097e30d21
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/79/846279/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'test-requirements.txt', 'playbooks/defaults/repo_packages/gnocchi.yml', 'zuul.d/project.yaml', 'ansible-role-requirements.yml']",6,7a1a828063fecc902d6d5d51783e6c005c042f7d,826956, version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch: version: pike-eol trackbranch:, version: 72ac0ad58642528bf7bccde799f7456a1079ab68 trackbranch: stable/pike version: 92843a2b6d193d36a50823c086b16afb0d70cd8d trackbranch: stable/pike version: d72772b4aefab352eeb7f6f25764059b15ecedfb trackbranch: stable/pike version: 3674d03d97b5cf65fa07b0325bc06397953b3585 trackbranch: stable/pike version: 1f8992758b54eaa8b9967e94332584660c7dca92 trackbranch: stable/pike version: 54c67bc17e78c68922604088a0634b0eec2f8f9b trackbranch: stable/pike version: 6cb02e317cf723686e99e4985770d23bcac0c898 trackbranch: stable/pike version: be247ba507ccbfec6c71e964ea35dc450f9708b9 trackbranch: stable/pike version: eda0e0d8c035932568cb70619712aa2f6237647c trackbranch: stable/pike version: 28b28d54316a2c56fe5b5035236438a7aa3e8fdd trackbranch: stable/pike version: 0168d5b607cb5ae34684b0835432a6f51d43b88e trackbranch: stable/pike version: fb078647cb81433f8136281d5d83ce953e8fa175 trackbranch: stable/pike version: 7640644df40b32fa7007251def780558a134808d trackbranch: stable/pike version: fae312554e964c570b79097807cb282da2273c23 trackbranch: stable/pike version: ccedad4fc7200907d9f6993cbaafbb151573c379 trackbranch: stable/pike version: 0f97d64e5b4c2fd7d1dbd87a0f30a11d045f7e4e trackbranch: stable/pike version: b8c07ccbe929adb4da6125a32a0523c52f70c90b trackbranch: stable/pike version: 5276faa18427171fc1e6530acb1e0a8ab0f8bed1 trackbranch: stable/pike version: cf5c79a760e711e7fd47ed960b2577e2104cf768 trackbranch: stable/pike version: 3ce8acdd1637992c8c9abdd82f05c2069eea04c4 trackbranch: stable/pike version: e0b2623245d2d935fc8d2d7a8c901a5eff3d32c3 trackbranch: stable/pike version: 7248c8acdf453e0393b730817660479c0cc180f1 trackbranch: stable/pike version: 57cc3e8bcdc8b67d2646aa036848ac7a0b4dc56d trackbranch: stable/pike version: 6cfced89d58f47c5057cd7122746a4c063252278 trackbranch: stable/pike version: 05021cac2a76f5a860a8297ccaf617845672e1dd trackbranch: stable/pike version: ee662941d5db670f358b4e09e7df731d799e6884 trackbranch: stable/pike version: 8904b23a051d24cd4ef6ed7b5a33efe42ba3186b trackbranch: stable/pike version: 7f98b2cc6e138e3d532c88b09460e4a6870ec844 trackbranch: stable/pike version: 09beb352c9d17108c0841e1bab38b2855e2ea3b7 trackbranch: stable/pike version: cc7849bd0ecfee4a8907f71a91313c66427a3ce3 trackbranch: stable/pike version: 30155d70aa659e6177b79244f69e5839d1f6e550 trackbranch: stable/pike version: 7e7626f152bc8c6bd5fcc71d0fa4e5fd64dfe516 trackbranch: stable/pike version: 9c83e785e2c7f87f5a437b0fcb76462fa3a8e7f1 trackbranch: stable/pike version: 86567389c10f02038e0f020c0d6cb326a771fbac trackbranch: stable/pike version: 71f737efc55c7589ec47ba3520539fe0fd0be1b9 trackbranch: stable/pike version: 857f2eb12a0bc35c9e5c1a513965018d806e5c96 trackbranch: stable/pike version: e0996d29ddef9537c46616ab3053e3502207c030 trackbranch: stable/pike version: 895560c9603626c243185dbf6540b7bc14412908 trackbranch: stable/pike version: 2c2dfceec20042c97bbad6a4a52034bca2136d56 trackbranch: stable/pike,129,135
openstack%2Fpuppet-keystone~master~I1c45f1fcb8663383b09014aa5095c9b0e99fb231,openstack/puppet-keystone,master,I1c45f1fcb8663383b09014aa5095c9b0e99fb231,Fix several typos in parameter descriptions.,MERGED,2022-06-15 10:36:35.000000000,2022-06-17 07:33:03.000000000,2022-06-17 07:33:03.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 10:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/07d17b66641657b8a90bf976dcb574527c162857', 'message': 'Trivial fix\n\nThis change fixes parameter value typo as well as typo in\nos_service_default.\n\nChange-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231\n'}, {'number': 2, 'created': '2022-06-16 07:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/dd2db4a00633c4b0ad94046df70716860a10f0b2', 'message': 'Trivial fix\n\nThis change fixes parameter value typo as well as typo in\nos_service_default.\n\nChange-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231\n'}, {'number': 3, 'created': '2022-06-16 08:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b8ad67025e669d128bc72300c2061d5fe7375037', 'message': 'Trivial fix\n\nThis change fixes parameter value typo as well as typo in\nos_service_default.\n\nChange-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231\n'}, {'number': 4, 'created': '2022-06-16 08:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2c798c5870aa688bb46903d8cc578dabfa86a86d', 'message': 'Fix a few typos\n\nThis change fixes a few typos in parameter descriptions.\n\nChange-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231\n'}, {'number': 5, 'created': '2022-06-16 11:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2982730ac4c7bd42e4e283d07251b6abda9ed957', 'message': 'Fix a few typos\n\nThis change fixes a few typos in parameter descriptions.\n\nChange-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231\n'}, {'number': 6, 'created': '2022-06-16 13:30:08.000000000', 'files': ['lib/puppet/type/keystone_domain_config.rb', 'manifests/logging.pp', 'manifests/init.pp', 'manifests/federation/mellon.pp', 'spec/acceptance/keystone_wsgi_apache_spec.rb', 'manifests/cache.pp', 'spec/shared_examples.rb', 'manifests/wsgi/apache.pp', 'lib/puppet/provider/keystone_endpoint/openstack.rb', 'spec/defines/keystone_resource_authtoken_spec.rb', 'manifests/params.pp', 'manifests/deps.pp', 'manifests/healthcheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c6a3840a8e24cedd5d1116ce6081e7e76886cfcb', 'message': 'Fix several typos in parameter descriptions.\n\nChange-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231\n'}]",14,845918,c6a3840a8e24cedd5d1116ce6081e7e76886cfcb,30,3,6,20733,,,0,"Fix several typos in parameter descriptions.

Change-Id: I1c45f1fcb8663383b09014aa5095c9b0e99fb231
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/18/845918/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",2,07d17b66641657b8a90bf976dcb574527c162857,trivial-fix," { :package_name => 'openstack-keystone',"," { :package_name => 'opnestack-keystone',",2,2
openstack%2Frequirements~master~Ie9cd13323256e881380e55b92349cc5e8832399a,openstack/requirements,master,Ie9cd13323256e881380e55b92349cc5e8832399a,Updated from generate-constraints,MERGED,2022-06-16 02:41:05.000000000,2022-06-17 07:19:08.000000000,2022-06-17 07:17:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 02:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4e3fd8ae05ba6905d359cf6a2fad2121acb16e6a', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9cd13323256e881380e55b92349cc5e8832399a\n'}, {'number': 2, 'created': '2022-06-16 07:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5393207d8528b4f5dc95361b32045966817a13c3', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9cd13323256e881380e55b92349cc5e8832399a\n'}, {'number': 3, 'created': '2022-06-16 11:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3ad73fe995361a0ccae76a891dc88d183b2faf3f', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9cd13323256e881380e55b92349cc5e8832399a\n'}, {'number': 4, 'created': '2022-06-17 02:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a605c82c0d58f260115c78a78ed144bed0f392c5', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9cd13323256e881380e55b92349cc5e8832399a\n'}, {'number': 5, 'created': '2022-06-17 03:37:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/46db00e91baa6ecd46e4dfb0b4dbdf185102b4a1', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9cd13323256e881380e55b92349cc5e8832399a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,846082,46db00e91baa6ecd46e4dfb0b4dbdf185102b4a1,20,2,5,11131,,,0,"Updated from generate-constraints

Change-Id: Ie9cd13323256e881380e55b92349cc5e8832399a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/846082/5 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4e3fd8ae05ba6905d359cf6a2fad2121acb16e6a,openstack/requirements/constraints/noclob,rcssmin===1.1.0fixtures===4.0.0moto===3.1.13networkx===2.8.4google-api-core===2.8.2zeroconf===0.38.7pyghmi===1.5.47pyroute2.nftables===0.6.12pyroute2===0.6.12 google-auth===2.8.0pyroute2.ethtool===0.6.12ifaddr===0.2.0cryptography===37.0.2pkg_resources===0.0.0django-compressor===4.0google-api-python-client===2.51.0boto3===1.24.10Sphinx===5.0.1botocore===1.27.10pyroute2.nslink===0.6.12pyroute2.ndb===0.6.12pyroute2.core===0.6.12pyroute2.ipdb===0.6.12pyroute2.ipset===0.6.12importlib-resources===5.8.0;python_version=='3.8'rjsmin===1.2.0Babel===2.10.2,rcssmin===1.0.6fixtures===3.0.0moto===3.1.12networkx===2.8.3google-api-core===2.8.1zeroconf===0.38.6pyghmi===1.5.45pyroute2.nftables===0.6.9pyroute2===0.6.9 google-auth===2.7.0pyroute2.ethtool===0.6.9ifaddr===0.1.7cryptography===36.0.2django-compressor===2.4.1google-api-python-client===2.50.0boto3===1.24.7Sphinx===4.5.0botocore===1.27.7pyroute2.nslink===0.6.9pyroute2.ndb===0.6.9pyroute2.core===0.6.9pyroute2.ipdb===0.6.9pyroute2.ipset===0.6.9importlib-resources===5.7.1;python_version=='3.8'rjsmin===1.1.0Babel===2.10.1,27,26
openstack%2Fnova~master~I1d8dbbe85b7c9a377807acb12f11cbad8743bda6,openstack/nova,master,I1d8dbbe85b7c9a377807acb12f11cbad8743bda6,privsep: Return QemuImgInfo objects from qemu-img info calls,ABANDONED,2022-01-27 18:03:18.000000000,2022-06-17 06:30:52.000000000,,"[{'_account_id': 4690}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 18:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42c2682b84f4e43e41f80bf30b9ce1e892feb2a8', 'message': 'privsep: Return QemuImgInfo objects from qemu-img info calls\n\nChange-Id: I1d8dbbe85b7c9a377807acb12f11cbad8743bda6\n'}, {'number': 2, 'created': '2022-02-18 21:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35a00c2247b831fe46b67f9a2751a26ea01a9c71', 'message': 'privsep: Return QemuImgInfo objects from qemu-img info calls\n\nChange-Id: I1d8dbbe85b7c9a377807acb12f11cbad8743bda6\n'}, {'number': 3, 'created': '2022-04-05 05:36:32.000000000', 'files': ['nova/privsep/qemu.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/242e7ec2769a16cbb455b0fd3621ffc0183a9f48', 'message': 'privsep: Return QemuImgInfo objects from qemu-img info calls\n\nChange-Id: I1d8dbbe85b7c9a377807acb12f11cbad8743bda6\n'}]",1,826751,242e7ec2769a16cbb455b0fd3621ffc0183a9f48,21,3,3,10135,,,0,"privsep: Return QemuImgInfo objects from qemu-img info calls

Change-Id: I1d8dbbe85b7c9a377807acb12f11cbad8743bda6
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/826751/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/privsep/qemu.py', 'nova/virt/images.py']",2,42c2682b84f4e43e41f80bf30b9ce1e892feb2a8,specs/yoga/approved/ephemeral-encryption-libvirt," return nova.privsep.qemu.unprivileged_qemu_img_info(path, format=format) return nova.privsep.qemu.privileged_qemu_img_info(path, format=format)","from oslo_utils import imageutils info = nova.privsep.qemu.unprivileged_qemu_img_info(path, format=format) return imageutils.QemuImgInfo(info, format='json') info = nova.privsep.qemu.privileged_qemu_img_info(path, format=format) return imageutils.QemuImgInfo(info, format='json')",4,6
openstack%2Fnova~master~I4851acef7e362a64832fee52197a0576acf194fe,openstack/nova,master,I4851acef7e362a64832fee52197a0576acf194fe,privsep: Move qemu-img create calls under nova.privsep.qemu,ABANDONED,2022-01-27 18:03:18.000000000,2022-06-17 06:29:48.000000000,,"[{'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-27 18:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e4531a1b640a2890367a64b1a3865ba4ccfc4b8', 'message': 'privsep: Move qemu-img create calls under nova.privsep.qemu\n\nChange-Id: I4851acef7e362a64832fee52197a0576acf194fe\n'}, {'number': 2, 'created': '2022-02-18 21:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d3be43139787f542b003561a531e5ccfd84b1e0', 'message': 'privsep: Move qemu-img create calls under nova.privsep.qemu\n\nChange-Id: I4851acef7e362a64832fee52197a0576acf194fe\n'}, {'number': 3, 'created': '2022-04-05 05:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15af46ce73c32af940528baad74ccb826d9962e3', 'message': 'privsep: Move qemu-img create calls under nova.privsep.qemu\n\nChange-Id: I4851acef7e362a64832fee52197a0576acf194fe\n'}, {'number': 4, 'created': '2022-06-10 05:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3f1626d4784ca03f44882ad582fd8c9c50d45f9', 'message': 'privsep: Move qemu-img create calls under nova.privsep.qemu\n\nChange-Id: I4851acef7e362a64832fee52197a0576acf194fe\n'}, {'number': 5, 'created': '2022-06-10 21:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bc7d90e3ebbae43a83e5013da2ace387b716ae7', 'message': 'privsep: Move qemu-img create calls under nova.privsep.qemu\n\nChange-Id: I4851acef7e362a64832fee52197a0576acf194fe\n'}, {'number': 6, 'created': '2022-06-11 00:17:10.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/test_images.py', 'nova/privsep/qemu.py', 'nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/privsep/test_qemu.py', 'nova/virt/libvirt/utils.py', 'nova/virt/libvirt/imagebackend.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a353a51bd6f8caf0af69fc25aa2eb56a456ec5ad', 'message': 'privsep: Move qemu-img create calls under nova.privsep.qemu\n\nChange-Id: I4851acef7e362a64832fee52197a0576acf194fe\n'}]",10,826750,a353a51bd6f8caf0af69fc25aa2eb56a456ec5ad,37,5,6,10135,,,0,"privsep: Move qemu-img create calls under nova.privsep.qemu

Change-Id: I4851acef7e362a64832fee52197a0576acf194fe
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/826750/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/privsep/qemu.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py', 'nova/virt/libvirt/imagebackend.py']",5,7e4531a1b640a2890367a64b1a3865ba4ccfc4b8,specs/yoga/approved/ephemeral-encryption-libvirt,"import nova.privsep.qemu nova.privsep.qemu.unprivileged_create_image( target, 'qcow2', size, backing_file=base)"," libvirt_utils.create_cow_image(base, target, size)",57,87
openstack%2Fheat~stable%2Fwallaby~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/wallaby,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:45:36.000000000,2022-06-17 05:22:17.000000000,2022-06-17 05:19:56.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 04:45:36.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/5a6bff198752e5e984c080bcdce5b690dabb63db', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nConflicts:\n\t.zuul.yaml\n\tlower-constraints.txt\n\nChange-Id: I703229320320295b4a90e72c543f8959f85daaa9\n(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)\n(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)\n(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)\n'}]",0,846096,5a6bff198752e5e984c080bcdce5b690dabb63db,8,2,1,9816,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)
",git fetch https://review.opendev.org/openstack/heat refs/changes/96/846096/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,5a6bff198752e5e984c080bcdce5b690dabb63db,drop-l-c,, [testenv:lower-constraints] install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,171
openstack%2Fopenstack-ansible~master~I75bdab29353f33fa009bf9a7ff1f565f1660ed59,openstack/openstack-ansible,master,I75bdab29353f33fa009bf9a7ff1f565f1660ed59,Define corosync interface for facts gathering,MERGED,2022-06-15 08:00:48.000000000,2022-06-17 01:25:09.000000000,2022-06-17 01:23:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 08:00:48.000000000', 'files': ['playbooks/os-masakari-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a8d2ad902eaee6ae181cfdb24174ea379c775a67', 'message': ""Define corosync interface for facts gathering\n\nWhen moving facts gathering to independent play we forgot to\ndefine variable that's being used for filtering. This makes playbook\nfail.\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_masakari/+/845798\nChange-Id: I75bdab29353f33fa009bf9a7ff1f565f1660ed59\n""}]",2,845894,a8d2ad902eaee6ae181cfdb24174ea379c775a67,17,4,1,28619,,,0,"Define corosync interface for facts gathering

When moving facts gathering to independent play we forgot to
define variable that's being used for filtering. This makes playbook
fail.

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_masakari/+/845798
Change-Id: I75bdab29353f33fa009bf9a7ff1f565f1660ed59
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/845894/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/os-masakari-install.yml'],1,a8d2ad902eaee6ae181cfdb24174ea379c775a67,," vars: pacemaker_corosync_ring_interface: ""{{ masakari_monitor_corosync_multicast_interface }}""",,2,0
openstack%2Fpuppet-nova~stable%2Fwallaby~Ie60fceb0d51a314ede395db567a8155a773c9b15,openstack/puppet-nova,stable/wallaby,Ie60fceb0d51a314ede395db567a8155a773c9b15,Expose [workaround]/disable_compute_service_check_for_ffu,MERGED,2022-06-14 12:23:06.000000000,2022-06-17 00:58:43.000000000,2022-06-17 00:57:40.000000000,"[{'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a96f5d88b3e1cbed000ff48ce394ce909e9c68b5', 'message': 'Expose [workaround]/disable_compute_service_check_for_ffu\n\nThis exposes the nova workaround to set the normal safety check\nfor old compute services will be treated as a warning instead\nof an error.\n\nhttps://review.opendev.org/c/openstack/nova/+/826097 adds\nthe service version check workaround for FFU.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15\n(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)\n(cherry picked from commit d0e7fb981985fbe42708822149a4c9012d3ad6a6)\n'}, {'number': 2, 'created': '2022-06-14 12:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/af6e96c52531b7a604ae1bbe2b568a1868d57e40', 'message': 'Expose [workaround]/disable_compute_service_check_for_ffu\n\nThis exposes the nova workaround to set the normal safety check\nfor old compute services will be treated as a warning instead\nof an error.\n\nhttps://review.opendev.org/c/openstack/nova/+/826097 adds\nthe service version check workaround for FFU.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15\n'}, {'number': 3, 'created': '2022-06-14 12:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ad6c249d54fb6f8297a0e276901b495bd6953321', 'message': 'Expose [workaround]/disable_compute_service_check_for_ffu\n\nThis exposes the nova workaround to set the normal safety check\nfor old compute services will be treated as a warning instead\nof an error.\n\nhttps://review.opendev.org/c/openstack/nova/+/826097 adds\nthe service version check workaround for FFU.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15\n'}, {'number': 4, 'created': '2022-06-14 13:08:24.000000000', 'files': ['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/add-workarounds-disable_compute_service_check_for_ffu-4c4cc458df3ca33b.yaml', 'manifests/workarounds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ce4d7a04b84c464a450d587eca89bcd8bd89905c', 'message': 'Expose [workaround]/disable_compute_service_check_for_ffu\n\nThis exposes the nova workaround to set the normal safety check\nfor old compute services will be treated as a warning instead\nof an error.\n\nhttps://review.opendev.org/c/openstack/nova/+/826097 adds\nthe service version check workaround for FFU.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15\n(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)\n(cherry picked from commit d0e7fb981985fbe42708822149a4c9012d3ad6a6)\n'}]",3,845737,ce4d7a04b84c464a450d587eca89bcd8bd89905c,15,4,4,11166,,,0,"Expose [workaround]/disable_compute_service_check_for_ffu

This exposes the nova workaround to set the normal safety check
for old compute services will be treated as a warning instead
of an error.

https://review.opendev.org/c/openstack/nova/+/826097 adds
the service version check workaround for FFU.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15
(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)
(cherry picked from commit d0e7fb981985fbe42708822149a4c9012d3ad6a6)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/37/845737/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/add-workarounds-disable_compute_service_check_for_ffu-4c4cc458df3ca33b.yaml', 'manifests/workarounds.pp']",3,a96f5d88b3e1cbed000ff48ce394ce909e9c68b5,cs9-standalone-upgrade-stable/xena-stable/wallaby,"# [*disable_compute_service_check_for_ffu*] # (Optional) If this is set, the normal safety check for old compute services will # be treated as a warning instead of an error. This is only to be enabled to # facilitate a Fast-Forward upgrade where new control services are being started # before compute nodes have been able to update their service record. # Defaults to $::os_service_default # $disable_compute_service_check_for_ffu = $::os_service_default, 'workarounds/disable_compute_service_check_for_ffu': value => $disable_compute_service_check_for_ffu;",,19,0
openstack%2Fcinderlib~master~Ia6147a823768d885d186207fcb14a71a1bb9921b,openstack/cinderlib,master,Ia6147a823768d885d186207fcb14a71a1bb9921b,Update python testing as per zed cycle teting runtime,ABANDONED,2022-06-15 06:34:01.000000000,2022-06-17 00:44:56.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 06:34:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/ab84fbcdabc81490379cadbd1e5a7f2ff3fb6df7', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ia6147a823768d885d186207fcb14a71a1bb9921b\n'}]",2,845881,ab84fbcdabc81490379cadbd1e5a7f2ff3fb6df7,5,2,1,33436,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ia6147a823768d885d186207fcb14a71a1bb9921b
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/81/845881/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ab84fbcdabc81490379cadbd1e5a7f2ff3fb6df7,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Ftripleo-heat-templates~master~I4a5adb871db3e669660ca79a41e24fa7549aa3c8,openstack/tripleo-heat-templates,master,I4a5adb871db3e669660ca79a41e24fa7549aa3c8,"Revert ""Revert ""Move CA cert injection to host_prep_tasks""""",ABANDONED,2022-06-17 00:24:21.000000000,2022-06-17 00:24:44.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-17 00:24:21.000000000', 'files': ['deployment/certs/ca-certs-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be76324ded6a677ba750921729b459248d0f17c5', 'message': 'Revert ""Revert ""Move CA cert injection to host_prep_tasks""""\n\nThis reverts commit ab1599765ca110f8a2e8f65b6977ac7a98c557c1.\n\nReason for revert: TBD\n\nChange-Id: I4a5adb871db3e669660ca79a41e24fa7549aa3c8\n'}]",0,846126,be76324ded6a677ba750921729b459248d0f17c5,3,7,1,9816,,,0,"Revert ""Revert ""Move CA cert injection to host_prep_tasks""""

This reverts commit ab1599765ca110f8a2e8f65b6977ac7a98c557c1.

Reason for revert: TBD

Change-Id: I4a5adb871db3e669660ca79a41e24fa7549aa3c8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/846126/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/ca-certs-baremetal-puppet.yaml'],1,be76324ded6a677ba750921729b459248d0f17c5,add_ca_update_role, description: Extra hieradata needed to inject CA certificates value: null host_prep_tasks: description: Extra ansible tasks needed to inject CA certificates value: - name: inject CA certs into the system store import_role: name: tripleo_update_trusted_cas vars: tripleo_update_trusted_cas_ca_map: {get_param: CAMap} , tripleo::trusted_cas::ca_map: {get_param: CAMap} step_config: | include tripleo::trusted_cas,11,3
openstack%2Ftripleo-heat-templates~master~I9e8c2c96706e9abf9739b8a857231f522542fa5f,openstack/tripleo-heat-templates,master,I9e8c2c96706e9abf9739b8a857231f522542fa5f,"Revert ""Move CA cert injection to host_prep_tasks""",MERGED,2020-12-29 15:15:57.000000000,2022-06-17 00:24:21.000000000,2020-12-30 06:39:15.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-29 15:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8da4741620830d0720797f4eee4e0f003e655004', 'message': 'Revert ""Move CA cert injection to host_prep_tasks""\n\nThis reverts commit 8e5d5283cc466b07616a57eeeee28859300022ab.\n\nReason for revert: test if this broke periodic jobs\n\nChange-Id: I9e8c2c96706e9abf9739b8a857231f522542fa5f\n'}, {'number': 2, 'created': '2020-12-29 22:29:56.000000000', 'files': ['deployment/certs/ca-certs-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab1599765ca110f8a2e8f65b6977ac7a98c557c1', 'message': 'Revert ""Move CA cert injection to host_prep_tasks""\n\nThis reverts commit 8e5d5283cc466b07616a57eeeee28859300022ab.\n\nReason for revert: broke OVB periodic jobs\nCloses-Bug: #1908976\n\nChange-Id: I9e8c2c96706e9abf9739b8a857231f522542fa5f\n'}]",0,768737,ab1599765ca110f8a2e8f65b6977ac7a98c557c1,16,7,2,10969,,,0,"Revert ""Move CA cert injection to host_prep_tasks""

This reverts commit 8e5d5283cc466b07616a57eeeee28859300022ab.

Reason for revert: broke OVB periodic jobs
Closes-Bug: #1908976

Change-Id: I9e8c2c96706e9abf9739b8a857231f522542fa5f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/768737/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/certs/ca-certs-baremetal-puppet.yaml'],1,8da4741620830d0720797f4eee4e0f003e655004,add_ca_update_role, tripleo::trusted_cas::ca_map: {get_param: CAMap} step_config: | include tripleo::trusted_cas, description: Extra hieradata needed to inject CA certificates value: null host_prep_tasks: description: Extra ansible tasks needed to inject CA certificates value: - name: inject CA certs into the system store import_role: name: tripleo_update_trusted_cas vars: tripleo_update_trusted_cas_ca_map: {get_param: CAMap} ,3,11
openstack%2Fopenstack-ansible-os_manila~master~Ia04bd0a729100ed3f0bade9185b0703ce903635f,openstack/openstack-ansible-os_manila,master,Ia04bd0a729100ed3f0bade9185b0703ce903635f,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 18:01:32.000000000,2022-06-16 23:22:29.000000000,2022-06-16 23:21:28.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 18:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/14d86dc025ac8fba9e53703d2ffc097e4c9597dd', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: Ia04bd0a729100ed3f0bade9185b0703ce903635f\n'}, {'number': 2, 'created': '2022-06-15 17:01:41.000000000', 'files': ['doc/source/index.rst', 'handlers/main.yml', 'tasks/manila_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0ea23558e7b3c338a4c6d65983da440344dc780a', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: Ia04bd0a729100ed3f0bade9185b0703ce903635f\n'}]",1,845801,0ea23558e7b3c338a4c6d65983da440344dc780a,15,4,2,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ia04bd0a729100ed3f0bade9185b0703ce903635f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/01/845801/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'handlers/main.yml', 'tasks/manila_post_install.yml']",3,14d86dc025ac8fba9e53703d2ffc097e4c9597dd,osa/manage_lb,, - Manage LB,0,18
openstack%2Fopenstack-ansible-os_manila~master~Ie5ebb4d68ed06cff26462dc55092fda8a9ad2f44,openstack/openstack-ansible-os_manila,master,Ie5ebb4d68ed06cff26462dc55092fda8a9ad2f44,Support service tokens,MERGED,2022-06-15 17:11:33.000000000,2022-06-16 23:04:04.000000000,2022-06-16 23:02:53.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 17:11:33.000000000', 'files': ['tasks/main.yml', 'templates/manila.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/f728ca5707b8d4e200877ac55de15198edb7142c', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Ie5ebb4d68ed06cff26462dc55092fda8a9ad2f44\n'}]",1,846040,f728ca5707b8d4e200877ac55de15198edb7142c,15,5,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ie5ebb4d68ed06cff26462dc55092fda8a9ad2f44
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/40/846040/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/manila.conf.j2', 'defaults/main.yml']",3,f728ca5707b8d4e200877ac55de15198edb7142c,osa/service_tokens,"manila_service_role_names: - admin - service manila_service_token_roles: - service manila_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",manila_service_role_name: admin,11,2
openstack%2Fopenstack-ansible-plugins~master~Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88,openstack/openstack-ansible-plugins,master,Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88,Wait for all volumes when starting glusterd.service,MERGED,2022-06-15 13:21:08.000000000,2022-06-16 22:29:44.000000000,2022-06-16 22:28:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 13:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/a1ce396d46bf5fe3a35485b44fbbded27016ca9b', 'message': ""Wait for all volumes when starting glusterd.service\n\nWhen glusterd.service starts, there is a short period when service is\nalready marked as active but volumes are not ready yet.\n\nWhen repo container is started, var-www-repo.mount is executed without\nchecking if target gluster volume is really active at the moment.\n\nIf all repo containers are started after complete outage,\nvar-www-repo.mount may fail because its GFS volume is not available yet\n(even if glusterd.service is reported as active).\n\nAFAIK there's no way in systemd-mount to make several mount attempts.\nThat is why we should wait for all gluster volumes to become available\nbefore the service is marked as active.\n\nSide note: At the beginning I also thought about making\nvar-www-repo.mount dependent on glusterd.service\n(instead of network-online.target) but it doesn't make any sense as\nglusterd.service is started before network-online.target\n\nChange-Id: Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88\n""}, {'number': 2, 'created': '2022-06-15 13:32:31.000000000', 'files': ['roles/glusterfs/tasks/main.yml', 'roles/glusterfs/files/glusterfs-wait.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/04d1a03c65224a0a3bdf5bcbc2d36f7e7a085666', 'message': ""Wait for all volumes when starting glusterd.service\n\nWhen glusterd.service starts, there is a short period when service is\nalready marked as active but volumes are not ready yet.\n\nWhen repo container is started, var-www-repo.mount is executed without\nchecking if target gluster volume is really active at the moment.\n\nIf all repo containers are started after complete outage,\nvar-www-repo.mount may fail because its GFS volume is not available yet\n(even if glusterd.service is reported as active).\n\nAFAIK there's no way in systemd-mount to make several mount attempts.\nThat is why we should wait for all gluster volumes to become available\nbefore the service is marked as active.\n\nSide note: At the beginning I also thought about making\nvar-www-repo.mount dependent on glusterd.service\n(instead of network-online.target) but it doesn't make any sense as\nglusterd.service is started before network-online.target\n\nChange-Id: Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88\n""}]",5,845987,04d1a03c65224a0a3bdf5bcbc2d36f7e7a085666,23,3,2,32666,,,0,"Wait for all volumes when starting glusterd.service

When glusterd.service starts, there is a short period when service is
already marked as active but volumes are not ready yet.

When repo container is started, var-www-repo.mount is executed without
checking if target gluster volume is really active at the moment.

If all repo containers are started after complete outage,
var-www-repo.mount may fail because its GFS volume is not available yet
(even if glusterd.service is reported as active).

AFAIK there's no way in systemd-mount to make several mount attempts.
That is why we should wait for all gluster volumes to become available
before the service is marked as active.

Side note: At the beginning I also thought about making
var-www-repo.mount dependent on glusterd.service
(instead of network-online.target) but it doesn't make any sense as
glusterd.service is started before network-online.target

Change-Id: Ifccfd771ae2ca8d4a1e8f1e53285e00957851c88
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/87/845987/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/glusterfs/tasks/main.yml', 'roles/glusterfs/files/glusterfs-wait.sh']",2,a1ce396d46bf5fe3a35485b44fbbded27016ca9b,osa-gluster,#!/bin/bash # wait until all volumes are ready while ! gluster volume status all; do sleep 1 done ,,22,0
openstack%2Fcharm-ceph-iscsi~master~I0ea7ba72bb78efcb8e188b060b22857560bf8801,openstack/charm-ceph-iscsi,master,I0ea7ba72bb78efcb8e188b060b22857560bf8801,Use the fix in fix in the functional tests,ABANDONED,2022-06-07 17:22:55.000000000,2022-06-16 22:14:09.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 17:22:55.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/6bfe7a2610c2f88bc637e18c7e36a001b9b330d5', 'message': 'Use the fix in fix in the functional tests\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/779\nChange-Id: I0ea7ba72bb78efcb8e188b060b22857560bf8801\n'}]",3,845017,6bfe7a2610c2f88bc637e18c7e36a001b9b330d5,10,2,1,33717,,,0,"Use the fix in fix in the functional tests

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/779
Change-Id: I0ea7ba72bb78efcb8e188b060b22857560bf8801
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/17/845017/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,6bfe7a2610c2f88bc637e18c7e36a001b9b330d5,partprobe-tests, # The end user has most likely provided an invalid value for, # The end user has most likely provided a invalid value for,1,1
openstack%2Fopenstack-ansible-os_placement~master~I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b,openstack/openstack-ansible-os_placement,master,I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b,Support service tokens,MERGED,2022-06-14 08:58:15.000000000,2022-06-16 19:59:50.000000000,2022-06-16 19:58:37.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-06-14 08:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/fa87812fd3989568b105dde95066dfc4f7a72b81', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b\nRelated-Bug: #1948456\n'}, {'number': 2, 'created': '2022-06-16 10:48:53.000000000', 'files': ['tasks/main.yml', 'templates/placement.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/242e17c230651ce4718d839b5d77590a296469a3', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b\nRelated-Bug: #1948456\n'}]",4,845708,242e17c230651ce4718d839b5d77590a296469a3,20,3,2,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I4e9fff59bbfa9c8a1ae0236d077ac9ee2881c04b
Related-Bug: #1948456
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/08/845708/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/placement.conf.j2', 'defaults/main.yml']",3,fa87812fd3989568b105dde95066dfc4f7a72b81,osa/service_tokens,"# List of roles assigned to placement_service_user_name placement_service_role_names: - admin - service # List of roles for which service tokens will be accepted placement_service_token_roles: - service placement_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}"" ",placement_role_name: admin,15,2
openstack%2Fos-brick~stable%2Fwallaby~I252dd958767dcdd4f9a2767b362aaf675edb79c4,openstack/os-brick,stable/wallaby,I252dd958767dcdd4f9a2767b362aaf675edb79c4,NVMe-oF: Return right nqn when missing hostnqn,MERGED,2022-03-22 10:34:32.000000000,2022-06-16 19:54:40.000000000,2022-06-16 09:46:41.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30092}]","[{'number': 1, 'created': '2022-03-22 10:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/cd559df417082724c7105b87783186bf0f86f11f', 'message': 'NVMe-oF: Return right nqn when missing hostnqn\n\nThis patch fixes a problem where we don\'t return the right nqn value\nwhen the /etc/nvme/hostnqn file doesn\'t exist.\n\nCurrently get_connector_properties returns a new nqn value every time it\ngets called if the hostnqn file is not present in the system.\n\nThe reason for this is that we are calling ""nvme gen-hostnqn"" and piping\nit to tee, but for some reason tee is failing to write the file, so on\neach call we\'ll generate a new nqn.\n\nEven if we were successfully creating the hostnqn file, that could\ncreate problems if we have already attached some volumes, since those\nwould have used the existing nqn.\n\nThis patch replaces the series of command executions (mkdir, nvme,\nchmod) with a privsep method that then leverages the equivalent python\nmethods when possible and also tries to use the show-hostnqn nvme\nsubcommand first to get the existing nqn before defaulting to generating\na new one with gen-hostnqn.  This way we don\'t replace the current nqn\nvalue that may be already being used by other nvme connections.\n\nSubcommand show-hostnqn returns the host NQN configured for the system.\nFirst looks for /etc/nvme/hostnqn, if it\'s not present (our case when we\ncall the new create_hostnqn method) tries to construct it from dmi\n(/sys/firmware/dmi/entries) or from systemd\'s application-specific\nmachine IDs for the system [1].\n\nIt\'s important to differentiate between the ENOENT returned as OSError\nand the same value returned by nvme [2] when show-hostnqn cannot return\nanything.\n\n[1]: https://github.com/linux-nvme/nvme-cli/blob/ed9538622ac6fc9e0094dd6804fc3b2ab46477b9/fabrics.c#L858-L875\n[2]: https://github.com/linux-nvme/nvme-cli/blob/5b8b065b1d036d8e9050adc49ffeb3b7adad1dbf/nvme.c#L5642-L5643\n\nCloses-Bug: #1928944\nChange-Id: I252dd958767dcdd4f9a2767b362aaf675edb79c4\n(cherry picked from commit 37d57c4306acc59dfe8f025040b7701dea2d304c)\n'}, {'number': 2, 'created': '2022-03-22 10:52:44.000000000', 'files': ['os_brick/tests/privileged/test_nvmeof.py', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/nvme-hostnqn-c2611dc56729183b.yaml', 'os_brick/privileged/nvmeof.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a5f53fd3fcbc35952f0e890beef7fbb8c18a45c5', 'message': 'NVMe-oF: Return right nqn when missing hostnqn\n\nThis patch fixes a problem where we don\'t return the right nqn value\nwhen the /etc/nvme/hostnqn file doesn\'t exist.\n\nCurrently get_connector_properties returns a new nqn value every time it\ngets called if the hostnqn file is not present in the system.\n\nThe reason for this is that we are calling ""nvme gen-hostnqn"" and piping\nit to tee, but for some reason tee is failing to write the file, so on\neach call we\'ll generate a new nqn.\n\nEven if we were successfully creating the hostnqn file, that could\ncreate problems if we have already attached some volumes, since those\nwould have used the existing nqn.\n\nThis patch replaces the series of command executions (mkdir, nvme,\nchmod) with a privsep method that then leverages the equivalent python\nmethods when possible and also tries to use the show-hostnqn nvme\nsubcommand first to get the existing nqn before defaulting to generating\na new one with gen-hostnqn.  This way we don\'t replace the current nqn\nvalue that may be already being used by other nvme connections.\n\nSubcommand show-hostnqn returns the host NQN configured for the system.\nFirst looks for /etc/nvme/hostnqn, if it\'s not present (our case when we\ncall the new create_hostnqn method) tries to construct it from dmi\n(/sys/firmware/dmi/entries) or from systemd\'s application-specific\nmachine IDs for the system [1].\n\nIt\'s important to differentiate between the ENOENT returned as OSError\nand the same value returned by nvme [2] when show-hostnqn cannot return\nanything.\n\n[1]: https://github.com/linux-nvme/nvme-cli/blob/ed9538622ac6fc9e0094dd6804fc3b2ab46477b9/fabrics.c#L858-L875\n[2]: https://github.com/linux-nvme/nvme-cli/blob/5b8b065b1d036d8e9050adc49ffeb3b7adad1dbf/nvme.c#L5642-L5643\n\nCloses-Bug: #1928944\nChange-Id: I252dd958767dcdd4f9a2767b362aaf675edb79c4\n(cherry picked from commit 37d57c4306acc59dfe8f025040b7701dea2d304c)\n'}]",6,834604,a5f53fd3fcbc35952f0e890beef7fbb8c18a45c5,16,5,2,26693,,,0,"NVMe-oF: Return right nqn when missing hostnqn

This patch fixes a problem where we don't return the right nqn value
when the /etc/nvme/hostnqn file doesn't exist.

Currently get_connector_properties returns a new nqn value every time it
gets called if the hostnqn file is not present in the system.

The reason for this is that we are calling ""nvme gen-hostnqn"" and piping
it to tee, but for some reason tee is failing to write the file, so on
each call we'll generate a new nqn.

Even if we were successfully creating the hostnqn file, that could
create problems if we have already attached some volumes, since those
would have used the existing nqn.

This patch replaces the series of command executions (mkdir, nvme,
chmod) with a privsep method that then leverages the equivalent python
methods when possible and also tries to use the show-hostnqn nvme
subcommand first to get the existing nqn before defaulting to generating
a new one with gen-hostnqn.  This way we don't replace the current nqn
value that may be already being used by other nvme connections.

Subcommand show-hostnqn returns the host NQN configured for the system.
First looks for /etc/nvme/hostnqn, if it's not present (our case when we
call the new create_hostnqn method) tries to construct it from dmi
(/sys/firmware/dmi/entries) or from systemd's application-specific
machine IDs for the system [1].

It's important to differentiate between the ENOENT returned as OSError
and the same value returned by nvme [2] when show-hostnqn cannot return
anything.

[1]: https://github.com/linux-nvme/nvme-cli/blob/ed9538622ac6fc9e0094dd6804fc3b2ab46477b9/fabrics.c#L858-L875
[2]: https://github.com/linux-nvme/nvme-cli/blob/5b8b065b1d036d8e9050adc49ffeb3b7adad1dbf/nvme.c#L5642-L5643

Closes-Bug: #1928944
Change-Id: I252dd958767dcdd4f9a2767b362aaf675edb79c4
(cherry picked from commit 37d57c4306acc59dfe8f025040b7701dea2d304c)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/04/834604/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/privileged/test_nvmeof.py', 'os_brick/tests/initiator/connectors/test_nvmeof.py', 'os_brick/initiator/connectors/nvmeof.py', 'releasenotes/notes/nvme-hostnqn-c2611dc56729183b.yaml', 'os_brick/privileged/nvmeof.py']",5,cd559df417082724c7105b87783186bf0f86f11f,nvme-hostnqn-stable/wallaby,"# Copyright (c) 2021, Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import errno import os from oslo_concurrency import processutils as putils from oslo_log import log as logging import os_brick.privileged from os_brick.privileged import rootwrap LOG = logging.getLogger(__name__) @os_brick.privileged.default.entrypoint def create_hostnqn(): """"""Create the hostnqn file to speed up finding out the nqn. By having the /etc/nvme/hostnqn not only do we make sure that that value is always used on this system, but we are also able to just open the file to get the nqn on each get_connector_properties call instead of having to make a call to nvme show-hostnqn command. """""" host_nqn = '' try: os.makedirs('/etc/nvme', mode=0o755, exist_ok=True) # Try to get existing nqn generated from dmi or systemd try: host_nqn, err = rootwrap.custom_execute('nvme', 'show-hostnqn') host_nqn = host_nqn.strip() # This is different from OSError's ENOENT, which is missing nvme # command. This ENOENT is when nvme says there isn't an nqn. except putils.ProcessExecutionError as e: if e.exit_code != errno.ENOENT: raise LOG.debug('No nqn could be formed from dmi or systemd.') if not host_nqn: LOG.debug('Generating nqn') host_nqn, err = rootwrap.custom_execute('nvme', 'gen-hostnqn') host_nqn = host_nqn.strip() with open('/etc/nvme/hostnqn', 'w') as f: LOG.debug('Writing hostnqn file') f.write(host_nqn) os.chmod('/etc/nvme/hostnqn', 0o644) except Exception as e: LOG.warning(""Could not generate host nqn: %s"" % str(e)) return host_nqn ",,194,20
openstack%2Fvalidations-libs~stable%2F1.6~I5cf39ea9c537c9f2f8537df1bb117c258379a326,openstack/validations-libs,stable/1.6,I5cf39ea9c537c9f2f8537df1bb117c258379a326,Clarifying project branching model in CONTRIBUTING.rst,MERGED,2022-05-30 06:50:18.000000000,2022-06-16 19:05:07.000000000,2022-06-16 18:59:56.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-30 06:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/72e0ab049786ced422c979e243f1092bd91852eb', 'message': 'Clarifying project branching model in CONTRIBUTING.rst\n\nThe CONTRIBUTING.rst is now included among the files\ntriggering execution of the tox-docs job.\nThis patches a dimunitive but nonetheless extant hole\nin our doc CI coverage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326\n(cherry picked from commit 98b792d58f364c704c4166d37456a55777fbec92)\n'}, {'number': 2, 'created': '2022-06-16 08:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/bb430d07e856eaa3f09ff167643f7b22f692fb23', 'message': 'Clarifying project branching model in CONTRIBUTING.rst\n\nThe CONTRIBUTING.rst is now included among the files\ntriggering execution of the tox-docs job.\nThis patches a dimunitive but nonetheless extant hole\nin our doc CI coverage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326\n(cherry picked from commit 98b792d58f364c704c4166d37456a55777fbec92)\n'}, {'number': 3, 'created': '2022-06-16 13:45:56.000000000', 'files': ['CONTRIBUTING.rst', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e79c4976ac29f484bf699e110e3516b46220a5d5', 'message': 'Clarifying project branching model in CONTRIBUTING.rst\n\nThe CONTRIBUTING.rst is now included among the files\ntriggering execution of the tox-docs job.\nThis patches a dimunitive but nonetheless extant hole\nin our doc CI coverage.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326\n(cherry picked from commit 98b792d58f364c704c4166d37456a55777fbec92)\n'}]",5,843782,e79c4976ac29f484bf699e110e3516b46220a5d5,26,4,3,32926,,,0,"Clarifying project branching model in CONTRIBUTING.rst

The CONTRIBUTING.rst is now included among the files
triggering execution of the tox-docs job.
This patches a dimunitive but nonetheless extant hole
in our doc CI coverage.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I5cf39ea9c537c9f2f8537df1bb117c258379a326
(cherry picked from commit 98b792d58f364c704c4166d37456a55777fbec92)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/82/843782/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', '.zuul.yaml']",2,72e0ab049786ced422c979e243f1092bd91852eb,vf/branching-explanation, - ^CONTRIBUTING.rst,,13,0
openstack%2Fvalidations-libs~stable%2F1.6~Id621332124817fba0d0e84bde0d8d44fe324f3ec,openstack/validations-libs,stable/1.6,Id621332124817fba0d0e84bde0d8d44fe324f3ec,[Stable-Only] Refactoring the stable/1.6 CI pipeline,MERGED,2022-05-13 10:20:41.000000000,2022-06-16 19:04:00.000000000,2022-06-16 18:59:51.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-13 10:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2bcd1fedf60b4cc860f3069a75b160265c90af16', 'message': '[Stable-Only] Setting train deps\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 2, 'created': '2022-05-13 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2a336bb9e229365607e3a26f8918035190897b38', 'message': '[Stable-Only] Setting train deps\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 3, 'created': '2022-05-13 13:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1215051ad0cabb4071c2e3763754e6348461f171', 'message': '[Stable-Only] Setting train deps\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 4, 'created': '2022-05-13 13:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/30175fd67b6e04fd4ad2a392bbefeddaa39e49ec', 'message': '[Stable-Only] Setting train deps\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 5, 'created': '2022-05-13 13:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4acc5c680bea4ae5f4b188fb1bb120ea38ec303f', 'message': '[Stable-Only] Setting train deps\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 6, 'created': '2022-05-13 13:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5d1c874fbea12dec67196b1deb802e3e4e18f3fc', 'message': '[Stable-Only] Setting train deps\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 7, 'created': '2022-05-13 13:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8f017c0a5a79b82c794a55b13b0615aae9277b2f', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 8, 'created': '2022-05-13 14:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/443eaf080df010e75c3b3641641361f6da5316cd', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 9, 'created': '2022-05-13 14:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/eecf82e2af7a01be843bfbbc40dfd6d33619fe5e', 'message': 'x[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 10, 'created': '2022-05-13 14:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9a197c5ede4d256aafc74772e371af69d04fd974', 'message': 'x[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 11, 'created': '2022-05-13 14:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b79f75febc92de72ad7a827f65c64ba8224a9721', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 12, 'created': '2022-05-13 15:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0797447e690f0a3ca7ea54a548be96cee3838e7d', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 13, 'created': '2022-05-16 06:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8c5f09e79209a68a1df9f65fdb7f42d0d15aa486', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 14, 'created': '2022-05-16 07:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/72afc09b5a9d29b9007cb13fe4f158a7c4d36274', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 15, 'created': '2022-05-16 07:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5ee8546a52143db07c1910dfcc99780274851afe', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 16, 'created': '2022-05-16 07:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0f97a314e7894eef85ebe23a6252bcdbdcf39686', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 17, 'created': '2022-05-16 07:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b80bede63f6411adfd77971f2ec37a22c677bbde', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 18, 'created': '2022-05-16 09:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0ec75fff4b883be97cd5ba21db1109539fd6c363', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 19, 'created': '2022-05-16 09:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8b2688ad5e4d43d16883f9eee696f7991a316a57', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 20, 'created': '2022-05-16 09:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/19863b8be09249085fa7cec0a73bc0dcae8653f9', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 21, 'created': '2022-05-16 09:35:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0ba869408f07dd79dc5db8f080a4d7acccaeb6ec', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 22, 'created': '2022-05-16 10:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8c2dc9fc34dd91217b22421f0625917c18685e52', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841863\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 23, 'created': '2022-05-16 10:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f61eb69c79be007de348b91d01364c1a1a7f00e6', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 24, 'created': '2022-05-16 12:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9fb80d1c2f98ba43d754b76806136b15eaf6ae2f', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 25, 'created': '2022-05-16 12:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2ed69b73cdcead4f1efabb52052e303e7127fbb6', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 26, 'created': '2022-05-16 12:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/68e0f5fb4b3acc75174e5f8d712bde9335536203', 'message': '[Stable-Only] Setting train deps\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 27, 'created': '2022-05-16 14:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6a9595a31cd91cecd809353ab910da8479f89e15', 'message': '[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 28, 'created': '2022-05-17 06:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8ec71d3b69cc3b0253eb513e1dea4ddb2aff5c08', 'message': '[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 29, 'created': '2022-05-17 09:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/247ad6f9de1881571889997987adfef8030cf656', 'message': '[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 30, 'created': '2022-05-17 14:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4c70263028d7b786e1c2e1c713e607772fdb40cb', 'message': '[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 31, 'created': '2022-05-19 11:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/857f02b4c096dd2c60563ca8924e189dd1c5f669', 'message': '[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n'}, {'number': 32, 'created': '2022-05-19 14:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b776198628756997d94fa1db54b9be06d72adf95', 'message': ""[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n""}, {'number': 33, 'created': '2022-05-23 09:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/7bc65b6cee8b3f96791a4628b17a3bec407d5b80', 'message': ""[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n""}, {'number': 34, 'created': '2022-06-16 08:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fff30eca7322ef9e0024ec0ed6239246491a5ccf', 'message': ""[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n""}, {'number': 35, 'created': '2022-06-16 13:45:49.000000000', 'files': ['.zuul.yaml', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/87278e5c0ccace318acab29495468f26f221a124', 'message': ""[Stable-Only] Refactoring the stable/1.6 CI pipeline\n\nCI pipeline was refactored to allow for proper testing of the stable/1.6 branch.\nNew jobs were introduced to build and test package against 'train' release of the openstack project.\nThe constraints were updated to respect Openstack train dependencies.\nExcess lines in the zuul configuration file were replaced with anchors.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec\n""}]",13,841713,87278e5c0ccace318acab29495468f26f221a124,81,4,35,32926,,,0,"[Stable-Only] Refactoring the stable/1.6 CI pipeline

CI pipeline was refactored to allow for proper testing of the stable/1.6 branch.
New jobs were introduced to build and test package against 'train' release of the openstack project.
The constraints were updated to respect Openstack train dependencies.
Excess lines in the zuul configuration file were replaced with anchors.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/841762
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/842273

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id621332124817fba0d0e84bde0d8d44fe324f3ec
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/13/841713/32 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2bcd1fedf60b4cc860f3069a75b160265c90af16,vf/stable-branch/ci, -c {env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/stable/train/upper-constraints.txt}, -c {env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r {toxinidir}/doc/requirements.txt,1,2
openstack%2Fcinder-tempest-plugin~master~I88c084020541e865be64053426b1ace522f04257,openstack/cinder-tempest-plugin,master,I88c084020541e865be64053426b1ace522f04257,Adds new scenario test for revert to snapshot,ABANDONED,2018-11-28 11:46:24.000000000,2022-06-16 18:11:05.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27615}]","[{'number': 1, 'created': '2018-11-28 11:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/467d81677da695a97b5a8fdce80f10782960e8eb', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 2, 'created': '2019-02-14 16:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9ef92d009f98df662dffb2813624aa5006c8eb77', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 3, 'created': '2019-02-20 18:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/943f23b458f434e457576c579e445b6bf5bd4686', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 4, 'created': '2021-03-01 14:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fde53cf6c3e6da26e30dfc2a7d735fc6faea35fe', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 5, 'created': '2021-03-01 17:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/28b59c054dc74548e4de82dc0c475305f20704a4', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 6, 'created': '2021-03-02 00:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b89ad325bfdf8208732993b72e4870b9cafce0c0', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 7, 'created': '2021-03-02 09:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/eca67878111c70bce2683562f53197b6af87bcf0', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 8, 'created': '2021-03-02 13:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/80750d875e660c6bbf4b3133a7ba224c20a9f5a7', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 9, 'created': '2021-03-02 14:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4fbf383a44e245185acbacd3c664f89c094478fe', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}, {'number': 10, 'created': '2021-04-07 17:59:52.000000000', 'files': ['cinder_tempest_plugin/scenario/manager.py', 'cinder_tempest_plugin/scenario/test_volume_revert.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5779bdba05b957ae29b3407b9bbff7617c884830', 'message': 'Adds new scenario test for revert to snapshot\n\nThe current tests for revert to snapshot does not checks whether the\ndriver is properly doing the operation. In this test, we write to the\nvolume, create a snapshot, delete the data and revert to the given\nsnapshot to guarantee that we can see the data back.\n\nChange-Id: I88c084020541e865be64053426b1ace522f04257\n'}]",16,620577,5779bdba05b957ae29b3407b9bbff7617c884830,56,9,10,10058,,,0,"Adds new scenario test for revert to snapshot

The current tests for revert to snapshot does not checks whether the
driver is properly doing the operation. In this test, we write to the
volume, create a snapshot, delete the data and revert to the given
snapshot to guarantee that we can see the data back.

Change-Id: I88c084020541e865be64053426b1ace522f04257
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/77/620577/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/scenario/manager.py', 'cinder_tempest_plugin/scenario/test_volume_revert.py']",2,467d81677da695a97b5a8fdce80f10782960e8eb,revert-to-snapshot-tests,"# Copyright (c) 2018 NetApp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging import manager as scn_manager from tempest import config from tempest.lib import decorators from tempest.lib import exceptions CONF = config.CONF LOG = logging.getLogger(__name__) class VolumeRevertTests(scn_manager.ScenarioTest): min_microversion = '3.40' @classmethod def skip_checks(cls): super(VolumeRevertTests, cls).skip_checks() if not CONF.volume_feature_enabled.volume_revert: raise cls.skipException(""Cinder volume revert feature disabled"") @classmethod def setup_clients(cls): cls._api_version = 3 super(VolumeRevertTests, cls).setup_clients() cls.volumes_client = cls.os_primary.volumes_v3_client @decorators.attr(type='slow') @decorators.idempotent_id('85cf1892-d946-11e8-923b-072bea8e084e') def test_volume_revert_to_snapshot(self): keypair = self.create_keypair() LOG.debug('Keypair is: %s', keypair) security_groups = [{'name': self._create_security_group()['name']}] LOG.debug('Created security group: %s', security_groups) volume = self.create_volume() LOG.debug('Created volume: %s', volume) server = self.create_server(key_name=keypair['name'], security_groups=security_groups) LOG.debug('Created server: %s', server) ip = self.get_server_ip(server) server['ip'] = ip self.nova_volume_attach(server, volume, cleanup=True) LOG.debug('Volume %s is attached', volume['id']) stamp1 = self.create_timestamp( ip, private_key=keypair['private_key'], server=server, dev_name=CONF.compute.volume_device_name) LOG.debug('Timestamp is: %s', stamp1) snapshot = self.create_volume_snapshot(volume['id'], force=True) LOG.debug('Created snapshot: %s', snapshot) self.erase_volume_data(ip, CONF.compute.volume_device_name, keypair['private_key'], server) LOG.debug(""Data erased from volume %s"", volume['id']) # get timestamp should fail self.assertRaises(exceptions.SSHExecCommandFailed, self.get_timestamp, ip, private_key=keypair['private_key'], server=server, dev_name=CONF.compute.volume_device_name) self.nova_volume_detach(server, volume) LOG.debug('Volume detached') self.revert_volume_to_snapshot(volume, snapshot) LOG.debug('reverted to snapshot %s.', snapshot['id']) # We don't need to cleanup this attachment as we have added the # cleanup previously and detached explicitly once. self.nova_volume_attach(server, volume) LOG.debug('Attached volume %s 2nd time', volume['id']) stamp2 = self.get_timestamp( ip, private_key=keypair['private_key'], server=server, dev_name=CONF.compute.volume_device_name) self.assertEqual(stamp1, stamp2) ",,550,0
openstack%2Fpuppet-nova~stable%2Fwallaby~I7fc60bf3ba35f270ab843df917d43e5deaf047fd,openstack/puppet-nova,stable/wallaby,I7fc60bf3ba35f270ab843df917d43e5deaf047fd,Add wait_for_vif_plugged_event_during_hard_reboot,MERGED,2022-06-14 12:23:06.000000000,2022-06-16 18:06:55.000000000,2022-06-16 18:05:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/02554b0efdbfb1878ce6c5093e4a684b712ec2c0', 'message': 'Add wait_for_vif_plugged_event_during_hard_reboot\n\nAdds parameter for the Nova workaround that waits\nfor Neutron ML2 backend to sent vif plugged on\nhard reboot.\n\nChange-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd\n(cherry picked from commit 84e565b1a04ce8d27a7621e88a0dbbc59fab982e)\n(cherry picked from commit a66c8b4c176ef16582f78903a436f540ec5ffff1)\n'}, {'number': 2, 'created': '2022-06-14 13:06:52.000000000', 'files': ['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/workarounds-wait_for_vif_plugged_event_during_hard_reboot-092dada6f6a1e632.yaml', 'manifests/workarounds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/35581554cb52821c4bc78b59d8f21ea379999148', 'message': 'Add wait_for_vif_plugged_event_during_hard_reboot\n\nAdds parameter for the Nova workaround that waits\nfor Neutron ML2 backend to sent vif plugged on\nhard reboot.\n\nChange-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd\n(cherry picked from commit 84e565b1a04ce8d27a7621e88a0dbbc59fab982e)\n(cherry picked from commit a66c8b4c176ef16582f78903a436f540ec5ffff1)\n'}]",1,845736,35581554cb52821c4bc78b59d8f21ea379999148,11,3,2,11166,,,0,"Add wait_for_vif_plugged_event_during_hard_reboot

Adds parameter for the Nova workaround that waits
for Neutron ML2 backend to sent vif plugged on
hard reboot.

Change-Id: I7fc60bf3ba35f270ab843df917d43e5deaf047fd
(cherry picked from commit 84e565b1a04ce8d27a7621e88a0dbbc59fab982e)
(cherry picked from commit a66c8b4c176ef16582f78903a436f540ec5ffff1)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/36/845736/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/workarounds-wait_for_vif_plugged_event_during_hard_reboot-092dada6f6a1e632.yaml', 'manifests/workarounds.pp']",3,02554b0efdbfb1878ce6c5093e4a684b712ec2c0,,"# [*wait_for_vif_plugged_event_during_hard_reboot*] # (Optional) If set Nova will wait for the Neutron ML2 backend to sent vif # plugged events when performing hard reboot. # Defaults to $::os_service_default # $never_download_image_if_on_rbd = $::os_service_default, $ensure_libvirt_rbd_instance_dir_cleanup = $::os_service_default, $enable_qemu_monitor_announce_self = $::os_service_default, $wait_for_vif_plugged_event_during_hard_reboot = $::os_service_default, 'workarounds/wait_for_vif_plugged_event_during_hard_reboot': value => join(any2array($wait_for_vif_plugged_event_during_hard_reboot), ',');"," $never_download_image_if_on_rbd = $::os_service_default, $ensure_libvirt_rbd_instance_dir_cleanup = $::os_service_default, $enable_qemu_monitor_announce_self = $::os_service_default,",23,7
openstack%2Fheat~stable%2Fxena~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/xena,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:42:20.000000000,2022-06-16 18:01:14.000000000,2022-06-16 17:58:22.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 04:42:20.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/d1c0f628945caca01b0c986adf97e93e7795cf49', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nConflicts:\n\t.zuul.yaml\n\tlower-constraints.txt\n\nChange-Id: I703229320320295b4a90e72c543f8959f85daaa9\n(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)\n(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)\n'}]",0,846095,d1c0f628945caca01b0c986adf97e93e7795cf49,8,2,1,9816,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
",git fetch https://review.opendev.org/openstack/heat refs/changes/95/846095/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,d1c0f628945caca01b0c986adf97e93e7795cf49,drop-l-c,, [testenv:lower-constraints] install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,171
openstack%2Fansible-config_template~master~Icb839e648388ab4f12679e40f554a12d3461497d,openstack/ansible-config_template,master,Icb839e648388ab4f12679e40f554a12d3461497d,Release config-template to 1.3.0,MERGED,2022-06-14 08:08:22.000000000,2022-06-16 17:57:25.000000000,2022-06-16 17:56:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 08:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/91b01c28c019a7154c883445096056de26868a59', 'message': 'Release config-template to 1.3.0\n\nWe have merged bunch of changes to the collection, so worth releasing it\nnow.\n\nChange-Id: Icb839e648388ab4f12679e40f554a12d3461497d\n'}, {'number': 2, 'created': '2022-06-15 11:00:44.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/a17a949e9987616a98e60a4dba32357376871ae2', 'message': 'Release config-template to 1.3.0\n\nWe have merged bunch of changes to the collection, so worth releasing it\nnow.\n\nChange-Id: Icb839e648388ab4f12679e40f554a12d3461497d\n'}]",3,845699,a17a949e9987616a98e60a4dba32357376871ae2,18,3,2,28619,,,0,"Release config-template to 1.3.0

We have merged bunch of changes to the collection, so worth releasing it
now.

Change-Id: Icb839e648388ab4f12679e40f554a12d3461497d
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/99/845699/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,91b01c28c019a7154c883445096056de26868a59,,"version: ""1.3.0""","version: ""1.2.1""",1,1
openstack%2Fpython-glanceclient~master~I7973fbfd3ed1f730f9d86e59c74502e4c2fd5f8b,openstack/python-glanceclient,master,I7973fbfd3ed1f730f9d86e59c74502e4c2fd5f8b,Vendor warlock,ABANDONED,2022-06-16 16:11:36.000000000,2022-06-16 17:53:04.000000000,,[],"[{'number': 1, 'created': '2022-06-16 16:11:36.000000000', 'files': ['glanceclient/tests/unit/common/test_validation.py', 'glanceclient/v2/image_tags.py', 'glanceclient/common/validation.py', 'glanceclient/tests/unit/common/__init__.py', 'glanceclient/v2/schemas.py', 'glanceclient/v2/images.py', 'glanceclient/v2/metadefs.py', 'requirements.txt', 'glanceclient/v2/image_members.py', 'glanceclient/tests/unit/v2/test_schemas.py', 'glanceclient/tests/unit/common/schemas/country.json', 'glanceclient/tests/unit/common/schemas/person.json', 'glanceclient/v2/tasks.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/2139a445834e48bc77d10c1a0951bd67c5759093', 'message': 'Vendor warlock\n\nThis library is no longer actively maintained and its use is preventing\nus bumping our version of jsonschema in global-requirements. Vendor the\nlibrary.\n\nChange-Id: I7973fbfd3ed1f730f9d86e59c74502e4c2fd5f8b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",1,846197,2139a445834e48bc77d10c1a0951bd67c5759093,3,0,1,15334,,,0,"Vendor warlock

This library is no longer actively maintained and its use is preventing
us bumping our version of jsonschema in global-requirements. Vendor the
library.

Change-Id: I7973fbfd3ed1f730f9d86e59c74502e4c2fd5f8b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/97/846197/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/common/test_validation.py', 'glanceclient/v2/image_tags.py', 'glanceclient/common/validation.py', 'glanceclient/tests/unit/common/__init__.py', 'glanceclient/v2/schemas.py', 'glanceclient/v2/images.py', 'glanceclient/v2/metadefs.py', 'requirements.txt', 'glanceclient/v2/image_members.py', 'glanceclient/tests/unit/v2/test_schemas.py', 'glanceclient/tests/unit/common/schemas/country.json', 'glanceclient/tests/unit/common/schemas/person.json', 'glanceclient/v2/tasks.py']",13,2139a445834e48bc77d10c1a0951bd67c5759093,remove-warlock,from glanceclient.common import validation as warlock,import warlock,517,14
openstack%2Fopenstack-ansible~stable%2Fxena~Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,openstack/openstack-ansible,stable/xena,Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3,Reduce neutron WSGI workers for CI,MERGED,2022-06-16 07:37:15.000000000,2022-06-16 17:49:32.000000000,2022-06-16 17:47:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-16 07:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8858362a50df2b9f4ff789bd94a5e7f08820ab90', 'message': 'Reduce neutron WSGI workers for CI\n\nChange-Id: Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3\n(cherry picked from commit 6eb2dec708b41f3f8b8c61d4a916549205bfb562)\n'}, {'number': 2, 'created': '2022-06-16 10:14:00.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f6d7c4033170ac2948cbb97106996fb44ef0f8ab', 'message': 'Reduce neutron WSGI workers for CI\n\nWe backporting that to reduce RAM consumption in upgrade jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/846120\nChange-Id: Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3\n(cherry picked from commit 6eb2dec708b41f3f8b8c61d4a916549205bfb562)\n'}]",0,846117,f6d7c4033170ac2948cbb97106996fb44ef0f8ab,12,3,2,25023,,,0,"Reduce neutron WSGI workers for CI

We backporting that to reduce RAM consumption in upgrade jobs.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/846120
Change-Id: Ic91ba0be3c5c37bf7e47b7a9a8360b6ccb18e9c3
(cherry picked from commit 6eb2dec708b41f3f8b8c61d4a916549205bfb562)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/846117/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,8858362a50df2b9f4ff789bd94a5e7f08820ab90,,neutron_wsgi_processes: 2,,1,0
openstack%2Ftripleo-ansible~master~Ibaf9694e15edff5575165819fbafb52a9db70f3b,openstack/tripleo-ansible,master,Ibaf9694e15edff5575165819fbafb52a9db70f3b,Add a new role to manage certificate files,ABANDONED,2022-06-16 14:11:18.000000000,2022-06-16 17:29:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-16 14:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59dad6b583bcdc27c6b76558f98b9739acc88fa3', 'message': 'Add a new role to manage certificate files\n\nThis change introduces a new tripleo_certs role, which can be used to\nmanage certificate files (eg. CA certificates).\n\nChange-Id: Ibaf9694e15edff5575165819fbafb52a9db70f3b\n'}, {'number': 2, 'created': '2022-06-16 14:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6ac4596e1dfac43debf6da18961c78802e50773', 'message': 'Add a new role to manage certificate files\n\nThis change introduces a new tripleo_certs role, which can be used to\nmanage certificate files (eg. CA certificates).\n\nChange-Id: Ibaf9694e15edff5575165819fbafb52a9db70f3b\n'}, {'number': 3, 'created': '2022-06-16 14:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da45831305f641f90ec703e638e19f0b1e19839b', 'message': 'Add a new role to manage certificate files\n\nThis change introduces a new tripleo_certs role, which can be used to\nmanage certificate files (eg. CA certificates).\n\nChange-Id: Ibaf9694e15edff5575165819fbafb52a9db70f3b\n'}, {'number': 4, 'created': '2022-06-16 16:47:22.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/verify.yaml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_certs/defaults/main.yml', 'doc/source/roles/role-tripleo_certs.rst', 'tripleo_ansible/roles/tripleo_certs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_certs/tasks/ca_certs.yml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_certs/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_certs/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4d75e89e4c1f7bb5b30fb2ed43ce98f7b15c80d', 'message': 'Add a new role to manage certificate files\n\nThis change introduces a new tripleo_certs role, which can be used to\nmanage certificate files (eg. CA certificates).\n\nChange-Id: Ibaf9694e15edff5575165819fbafb52a9db70f3b\n'}]",0,846178,a4d75e89e4c1f7bb5b30fb2ed43ce98f7b15c80d,7,2,4,9816,,,0,"Add a new role to manage certificate files

This change introduces a new tripleo_certs role, which can be used to
manage certificate files (eg. CA certificates).

Change-Id: Ibaf9694e15edff5575165819fbafb52a9db70f3b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/846178/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_certs/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/verify.yaml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/molecule.yml', 'doc/source/roles/role-tripleo_certs.rst', 'tripleo_ansible/roles/tripleo_certs/tasks/main.yml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_certs/vars/main.yml', 'tripleo_ansible/roles/tripleo_certs/molecule/default/prepare.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_certs/handlers/main.yml', 'tripleo_ansible/roles/tripleo_certs/files/.gitkeep', 'tripleo_ansible/roles/tripleo_certs/defaults/main.yml', 'tripleo_ansible/roles/tripleo_certs/tasks/ca_certs.yaml', 'tripleo_ansible/roles/tripleo_certs/meta/main.yml']",14,59dad6b583bcdc27c6b76558f98b9739acc88fa3,ca-cert-ansible,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. galaxy_info: author: OpenStack description: TripleO OpenStack Role -- tripleo_certs company: Red Hat license: Apache-2.0 min_ansible_version: 2.7 namespace: openstack # # Provide a list of supported platforms, and for each platform a list of versions. # If you don't wish to enumerate all versions for a particular platform, use 'all'. # To view available platforms and versions (or releases), visit: # https://galaxy.ansible.com/api/v1/platforms/ # platforms: - name: CentOS versions: - 8 - 9 galaxy_tags: - tripleo # List your role dependencies here, one per line. Be sure to remove the '[]' above, # if you add dependencies to this list. dependencies: []",,369,14
openstack%2Fdesignate~master~Ib3e9d87c29a612e4c77212bd3a414c53ee1d9fe0,openstack/designate,master,Ib3e9d87c29a612e4c77212bd3a414c53ee1d9fe0,Bump hacking version,MERGED,2022-06-16 07:32:03.000000000,2022-06-16 17:25:18.000000000,2022-06-16 17:23:54.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-16 07:32:03.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/cdf81bb56e0cd2ee503153d31ceab24570f123fa', 'message': 'Bump hacking version\n\nWe can also drop some excludes that no longer affect us\n\nChange-Id: Ib3e9d87c29a612e4c77212bd3a414c53ee1d9fe0\n'}]",3,846103,cdf81bb56e0cd2ee503153d31ceab24570f123fa,9,4,1,13252,,,0,"Bump hacking version

We can also drop some excludes that no longer affect us

Change-Id: Ib3e9d87c29a612e4c77212bd3a414c53ee1d9fe0
",git fetch https://review.opendev.org/openstack/designate refs/changes/03/846103/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,cdf81bb56e0cd2ee503153d31ceab24570f123fa,hacking,"ignore = H105,H404,H405,H501,E126,E128,W504","# H302 import only modules # H238 old style class declaration, use new style (inherit from `object`) # H402 one line docstring needs punctuation# H904 Wrap long lines in parentheses instead of a backslashignore = H105,H302,H238,H402,H404,H405,H501,H904,E126,E128,W504",2,6
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,openstack/puppet-openstack-integration,stable/train,I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99,CentOS: Re-enable ml2+linux bridge,MERGED,2022-06-08 00:28:53.000000000,2022-06-16 17:23:42.000000000,2022-06-16 17:23:42.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-08 00:28:53.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/884a6ce774a9c87322b937d53ac2a5d257d5b31f', 'message': 'CentOS: Re-enable ml2+linux bridge\n\nConflicts:\n\tfixtures/scenario003.pp\n\nChange-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99\n(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)\n(cherry picked from commit c54d97d95d45b6051bb47e5f527ebfc054cda6bc)\n(cherry picked from commit 2d4c99c3dd35d9a9f4a4c84776359425ae57401b)\n(cherry picked from commit 5171c319ae4b2ca1d6211068036090ed3d3a9dca)\n(cherry picked from commit 78e0c85ba70a9c77e4cacdcf7beb4fdca44ad431)\n(cherry picked from commit 32d5faae96ddfaadf99328e877bcfd3495f868c4)\n'}]",2,845064,884a6ce774a9c87322b937d53ac2a5d257d5b31f,9,3,1,9816,,,0,"CentOS: Re-enable ml2+linux bridge

Conflicts:
	fixtures/scenario003.pp

Change-Id: I0fd491c27708e303fc5f8fd1bb4c3ca13a9a5c99
(cherry picked from commit 85b8e3a4bdd3f2be071afcc25d583e6147114cb1)
(cherry picked from commit c54d97d95d45b6051bb47e5f527ebfc054cda6bc)
(cherry picked from commit 2d4c99c3dd35d9a9f4a4c84776359425ae57401b)
(cherry picked from commit 5171c319ae4b2ca1d6211068036090ed3d3a9dca)
(cherry picked from commit 78e0c85ba70a9c77e4cacdcf7beb4fdca44ad431)
(cherry picked from commit 32d5faae96ddfaadf99328e877bcfd3495f868c4)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/64/845064/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,884a6ce774a9c87322b937d53ac2a5d257d5b31f,," driver => 'linuxbridge',","# RHEL8 has an issue with linuxbridge driver https://bugzilla.redhat.com/show_bug.cgi?id=1720637 if ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { $neutron_driver = undef } else { $neutron_driver = 'linuxbridge' } driver => $neutron_driver,",1,7
openstack%2Fopenstack-ansible-os_manila~master~Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0,openstack/openstack-ansible-os_manila,master,Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0,Delegate share type creation to setup host,MERGED,2022-06-15 10:18:14.000000000,2022-06-16 17:17:31.000000000,2022-06-16 17:16:02.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 10:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/c9ee1e1b7b5b6ac97a3b3f384a7f8ce61185dfec', 'message': ""Delegate share type creation to setup host\n\nInstead of running manilaclient on manila host, we're delegating\nexecution to service_setup_host. This reduce\ncomplexity and remove some requirements for manila hosts.\n\nWith that we also replace usage of manilaclient\nwith openstackclient.\n\nChange-Id: Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0\n""}, {'number': 2, 'created': '2022-06-15 14:32:02.000000000', 'files': ['tasks/manila_backends.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/0db9f1f9598fe4bd6c3ca167618dabdd60101b16', 'message': ""Delegate share type creation to setup host\n\nInstead of running manilaclient on manila host, we're delegating\nexecution to service_setup_host. This reduce\ncomplexity and remove some requirements for manila hosts.\n\nWith that we also replace usage of manilaclient\nwith openstackclient.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845998\nChange-Id: Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0\n""}]",2,845917,0db9f1f9598fe4bd6c3ca167618dabdd60101b16,17,5,2,28619,,,0,"Delegate share type creation to setup host

Instead of running manilaclient on manila host, we're delegating
execution to service_setup_host. This reduce
complexity and remove some requirements for manila hosts.

With that we also replace usage of manilaclient
with openstackclient.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/845998
Change-Id: Ie04d9e1690e0f053e86e28e0bf1d6c3aa43774b0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/17/845917/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/manila_backends.yml', 'defaults/main.yml']",2,c9ee1e1b7b5b6ac97a3b3f384a7f8ce61185dfec,,, - python-manilaclient - python-openstackclient,25,30
openstack%2Ftripleo-quickstart-extras~master~I99c7ec5d5271745ca8d0856a8141787b99880161,openstack/tripleo-quickstart-extras,master,I99c7ec5d5271745ca8d0856a8141787b99880161,Temporarily freeze openssl,MERGED,2022-03-04 17:34:43.000000000,2022-06-16 17:13:08.000000000,2022-03-08 10:03:31.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-03-04 17:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a3fe77807b7defe4b7875ed5a0f870e7d5bd46ea', 'message': 'Temporarily freeze openssl\n\nDue to issues with latest openssl version use working version\nof openssl for ipa-multinode job.\n\nRelated-Bug: 1963675\nChange-Id: I99c7ec5d5271745ca8d0856a8141787b99880161\n'}, {'number': 2, 'created': '2022-03-04 18:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6ff099fe2ec2b9d79ec4b447fc9707a1bc0214e8', 'message': 'Temporarily freeze openssl\n\nDue to issues with latest openssl version use working version\nof openssl for ipa-multinode job.\n\nRelated-Bug: 1963675\nChange-Id: I99c7ec5d5271745ca8d0856a8141787b99880161\n'}, {'number': 3, 'created': '2022-03-07 13:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6412ba2b9fc3b3603a8b98e23432cd7bfd6e050e', 'message': 'Temporarily freeze openssl\n\nDue to issues with latest openssl version use working version\nof openssl for ipa-multinode job.\n\nRelated-Bug: 1963675\nChange-Id: I99c7ec5d5271745ca8d0856a8141787b99880161\n'}, {'number': 4, 'created': '2022-03-07 20:10:52.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8175a19fd9e4cccd36c5ede80906023da0f43ee6', 'message': 'Temporarily freeze openssl\n\nDue to issues with latest openssl version use working version\nof openssl for ipa-multinode job.\n\nRelated-Bug: 1963675\nChange-Id: I99c7ec5d5271745ca8d0856a8141787b99880161\n'}]",5,832116,8175a19fd9e4cccd36c5ede80906023da0f43ee6,26,4,4,14611,,,0,"Temporarily freeze openssl

Due to issues with latest openssl version use working version
of openssl for ipa-multinode job.

Related-Bug: 1963675
Change-Id: I99c7ec5d5271745ca8d0856a8141787b99880161
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/16/832116/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml'],1,a3fe77807b7defe4b7875ed5a0f870e7d5bd46ea,bug/1963675,"- name: Temporarily downgrade openssl become: yes shell: > if [[ ""$(rpm -qa | grep openssl)"" == *""3.0.1-12""* ]]; then sudo dnf downgrade openssl 1:3.0.1-5 -y; fi ",,7,0
openstack%2Fheat~stable%2Fussuri~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/ussuri,I703229320320295b4a90e72c543f8959f85daaa9,Use constraints when creating tempest venv,ABANDONED,2022-06-16 17:05:10.000000000,2022-06-16 17:06:02.000000000,,[],"[{'number': 1, 'created': '2022-06-16 17:05:10.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', 'roles/run-heat-tests/defaults/main.yaml', 'requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'roles/run-heat-tests/tasks/main.yaml', 'tox.ini', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/c9e6f143321128a58b85771b8dbdc5f5c7c8b6ea', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nBackport note:\nChange I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33\nby f66, is merged into this backport to unblock CI.\n\nBackport note to ussuri:\nChange I703229320320295b4a90e72c543f8959f85daaa9, which removed l-c\njob is merged into this backport because the job is failing now.\nThis change was adjusted to avoid config error in zuul. The grenade\njob is already made non-voting in stable/ussuri.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)\n(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)\n(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)\n\nDrop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nConflicts:\n\t.zuul.yaml\n\tlower-constraints.txt\n\nChange-Id: I703229320320295b4a90e72c543f8959f85daaa9\n(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)\n(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)\n(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)\n(cherry picked from commit 5a6bff198752e5e984c080bcdce5b690dabb63db)\n""}]",0,846205,c9e6f143321128a58b85771b8dbdc5f5c7c8b6ea,2,0,1,9816,,,0,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Backport note:
Change I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33
by f66, is merged into this backport to unblock CI.

Backport note to ussuri:
Change I703229320320295b4a90e72c543f8959f85daaa9, which removed l-c
job is merged into this backport because the job is failing now.
This change was adjusted to avoid config error in zuul. The grenade
job is already made non-voting in stable/ussuri.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)
(cherry picked from commit 87b40ed75ea4d8f91db3d7dbec236adeb9516020)

Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml
	lower-constraints.txt

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
(cherry picked from commit 80ce36214bf2d8b2e28740916b2e87ee9e10ae44)
(cherry picked from commit d1c0f628945caca01b0c986adf97e93e7795cf49)
(cherry picked from commit 5a6bff198752e5e984c080bcdce5b690dabb63db)
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/846205/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', 'roles/run-heat-tests/defaults/main.yaml', 'requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'roles/run-heat-tests/tasks/main.yaml', 'tox.ini', 'heat_integrationtests/prepare_test_env.sh']",10,c9e6f143321128a58b85771b8dbdc5f5c7c8b6ea,, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-36-1.5.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64,36,177
openstack%2Fneutron-tempest-plugin~master~Icded7e5a3b6484178ea2c9b145068788f23554e2,openstack/neutron-tempest-plugin,master,Icded7e5a3b6484178ea2c9b145068788f23554e2,Bump swap to 2GB in linuxbridge/openvswitch jobs,MERGED,2022-06-15 07:33:18.000000000,2022-06-16 17:05:18.000000000,2022-06-16 17:05:18.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 07:33:18.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9853a013f29a24cd7e259c0b0f1c26fab0399851', 'message': 'Bump swap to 2GB in linuxbridge/openvswitch jobs\n\nCurrently these jobs are running with 1GB swap\nand fails sometimes with oom kill as node goes out\nof memory.\n\nDoubling the space to 2GB should help in avoiding\nthese random failures.\n\nThe issue seems to be triggered after api/scenario\njobs are combined[1]. So bumping only for the affected\njobs and also not bumping to 4GB/8GB because\nin that case we may hide future actual issues.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912\n\nRelated-Bug: #1940243\nChange-Id: Icded7e5a3b6484178ea2c9b145068788f23554e2\n'}]",2,845888,9853a013f29a24cd7e259c0b0f1c26fab0399851,8,5,1,13861,,,0,"Bump swap to 2GB in linuxbridge/openvswitch jobs

Currently these jobs are running with 1GB swap
and fails sometimes with oom kill as node goes out
of memory.

Doubling the space to 2GB should help in avoiding
these random failures.

The issue seems to be triggered after api/scenario
jobs are combined[1]. So bumping only for the affected
jobs and also not bumping to 4GB/8GB because
in that case we may hide future actual issues.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912

Related-Bug: #1940243
Change-Id: Icded7e5a3b6484178ea2c9b145068788f23554e2
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/88/845888/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,9853a013f29a24cd7e259c0b0f1c26fab0399851,bug/1940243, configure_swap_size: 2048 configure_swap_size: 2048 configure_swap_size: 2048,,3,0
openstack%2Fheat~stable%2Fvictoria~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/victoria,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-07 09:38:19.000000000,2022-06-16 17:04:23.000000000,2022-06-15 15:23:15.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 09:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9b8e6f6df6c4ef8f4ee479345e74be56c38ad129', 'message': ""WIP Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/844774\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 2, 'created': '2022-06-07 10:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5b61d6f11183b7fcbb9c3eedc00d33d27ff69449', 'message': ""WIP Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/844774\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 3, 'created': '2022-06-08 02:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1c9ee54a03c415fa61967af35d35ed2995c8759e', 'message': ""WIP Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 4, 'created': '2022-06-08 04:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e5add0ce4023066a41cae0d8173a6e8fc8bf3be4', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nAlso changes to use f36 instead of f33 for testing from I7d1017bcd7147329c4e187336daee1a1ae280fa9\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n""}, {'number': 5, 'created': '2022-06-15 12:32:16.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', 'roles/run-heat-tests/defaults/main.yaml', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'roles/run-heat-tests/tasks/main.yaml', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/87b40ed75ea4d8f91db3d7dbec236adeb9516020', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nBackport note:\nChange I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33\nby f66, is merged into this backport to unblock CI.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)\n(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)\n""}]",1,844932,87b40ed75ea4d8f91db3d7dbec236adeb9516020,17,2,5,8833,,,0,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Backport note:
Change I7d1017bcd7147329c4e187336daee1a1ae280fa9, which replaced f33
by f66, is merged into this backport to unblock CI.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
(cherry picked from commit d05b683ef65996ae5d1d6cc31d547169669abf45)
",git fetch https://review.opendev.org/openstack/heat refs/changes/32/844932/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-heat-tests/defaults/main.yaml', 'roles/run-heat-tests/tasks/main.yaml']",2,9b8e6f6df6c4ef8f4ee479345e74be56c38ad129,venv-tempest-stable/victoria,"- name: Set OS_TEST_TIMEOUT if requested set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'OS_TEST_TIMEOUT': tempest_test_timeout}) }}"" when: tempest_test_timeout != '' - name: Set TOX_CONSTRAINTS_FILE set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'UPPER_CONSTRAINTS_FILE': constraints_file}) | combine({'TOX_CONSTRAINTS_FILE': constraints_file}) }}"" - name: Allow git to read plugin directories become: true command: git config --system --add safe.directory {{heat_tempest_plugin}} - name: Install plugins command: tox -evenv-tempest -- pip install -c{{constraints_file}} {{heat_tempest_plugin}} become: true args: chdir: ""{{devstack_base_dir}}/tempest"" environment: ""{{ tempest_tox_environment }}"" environment: ""{{ tempest_tox_environment }}"""," become_user: tempest environment: '{{ {""OS_TEST_TIMEOUT"": tempest_test_timeout} if tempest_test_timeout else {} }}'",24,2
openstack%2Fswift~master~I43e7a7ab7c14c57701b190b214a9987ae1abbb05,openstack/swift,master,I43e7a7ab7c14c57701b190b214a9987ae1abbb05,formpost: info test assert for not supported digests,ABANDONED,2022-06-16 03:30:17.000000000,2022-06-16 16:56:56.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 03:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3e1f9e9db11bad6f3d6c959be8ca5ce069206ad0', 'message': ""formpost: info test assert for not supported digests\n\nWe have an info test, test_non_default_methods, where it adds non\nsupported digests. But we don't assert the log warnings.\n\nThis patch adds such an assertion\n\nChange-Id: I43e7a7ab7c14c57701b190b214a9987ae1abbb05\n""}, {'number': 2, 'created': '2022-06-16 06:08:15.000000000', 'files': ['test/unit/common/middleware/test_formpost.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/27e1a1c78d68fef7eb76a7880df401bcec7650dc', 'message': ""formpost: info test assert for not supported digests\n\nWe have an info test, test_non_default_methods, where it adds non\nsupported digests. But we don't assert the log warnings.\n\nThis patch adds such an assertion\n\nChange-Id: I43e7a7ab7c14c57701b190b214a9987ae1abbb05\n""}]",1,846092,27e1a1c78d68fef7eb76a7880df401bcec7650dc,8,2,2,7233,,,0,"formpost: info test assert for not supported digests

We have an info test, test_non_default_methods, where it adds non
supported digests. But we don't assert the log warnings.

This patch adds such an assertion

Change-Id: I43e7a7ab7c14c57701b190b214a9987ae1abbb05
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/846092/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/test_formpost.py'],1,3e1f9e9db11bad6f3d6c959be8ca5ce069206ad0,bug/1733634,"from unittest import mockfrom test.debug_logger import debug_logger logger = debug_logger() with mock.patch('swift.common.middleware.formpost.get_logger', return_value=logger): formpost.filter_factory({ 'allowed_digests': 'sha1 sha512 md5 not-a-valid-digest', }) warning_lines = logger.get_lines_for_level('warning') self.assertIn( 'The following digest algorithms are configured ' 'but not supported:', warning_lines[0]) self.assertIn('not-a-valid-digest', warning_lines[0]) self.assertIn('md5', warning_lines[0])"," formpost.filter_factory({ 'allowed_digests': 'sha1 sha512 md5 not-a-valid-digest', })",15,3
openstack%2Fopenstack-ansible~master~I8174ad220f408113231e83dcab621860e7fc5535,openstack/openstack-ansible,master,I8174ad220f408113231e83dcab621860e7fc5535,Create  containers for rally/tempest independently,NEW,2022-05-05 14:55:57.000000000,2022-06-16 16:54:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-05-05 14:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fd9fac08f6a71aea63304f0fd925994168a91fe6', 'message': ""Create  containers for rally/tempest independently\n\nCurrent behaviour is to install both tempest and rally inside\nutility containers. While it's handy, it also make sense for them to\nhave own env.d and be installed inside own containers or even on\nseparate hosts.\nThis would also align tempest/rally with all other services OSA deploys.\n\nFor backawards compatability we introduce variables rally_user_hosts\nand tempest_user_hosts that can be used to preserve behaviour by defining\nutility_all in there.\n\nChange-Id: I8174ad220f408113231e83dcab621860e7fc5535\n""}, {'number': 2, 'created': '2022-05-05 15:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4bb0c6fb2125a48aef99d3443cab46c1b1ed5c1c', 'message': ""Create  containers for rally/tempest independently\n\nCurrent behaviour is to install both tempest and rally inside\nutility containers. While it's handy, it also make sense for them to\nhave own env.d and be installed inside own containers or even on\nseparate hosts.\nThis would also align tempest/rally with all other services OSA deploys.\n\nFor backawards compatability we introduce variables rally_user_hosts\nand tempest_user_hosts that can be used to preserve behaviour by defining\nutility_all in there.\n\nChange-Id: I8174ad220f408113231e83dcab621860e7fc5535\n""}, {'number': 3, 'created': '2022-06-14 17:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/21f92e51e2910cd46a3f914b0f165d191a3a9bcb', 'message': ""Create  containers for rally/tempest independently\n\nCurrent behaviour is to install both tempest and rally inside\nutility containers. While it's handy, it also make sense for them to\nhave own env.d and be installed inside own containers or even on\nseparate hosts.\nThis would also align tempest/rally with all other services OSA deploys.\n\nFor backawards compatability we introduce variables rally_user_hosts\nand tempest_user_hosts that can be used to preserve behaviour by defining\nutility_all in there.\n\nChange-Id: I8174ad220f408113231e83dcab621860e7fc5535\n""}, {'number': 4, 'created': '2022-06-16 14:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/58dc6e634241813d0bf142f5844649df1f8f5a94', 'message': ""Create  containers for rally/tempest independently\n\nCurrent behaviour is to install both tempest and rally inside\nutility containers. While it's handy, it also make sense for them to\nhave own env.d and be installed inside own containers or even on\nseparate hosts.\nThis would also align tempest/rally with all other services OSA deploys.\n\nFor backawards compatability we introduce variables rally_user_hosts\nand tempest_user_hosts that can be used to preserve behaviour by defining\nutility_all in there.\n\nChange-Id: I8174ad220f408113231e83dcab621860e7fc5535\n""}, {'number': 5, 'created': '2022-06-16 14:15:16.000000000', 'files': ['playbooks/os-rally-install.yml', 'etc/openstack_deploy/conf.d/os-test.yml.aio', 'releasenotes/notes/os-test-inventory-449753f7dcf60fe8.yaml', 'inventory/env.d/tempest.yml', 'playbooks/os-tempest-install.yml', 'inventory/group_vars/tempest_all.yml', 'inventory/group_vars/utility_all.yml', 'inventory/env.d/os-test.yml', 'etc/openstack_deploy/conf.d/rally.yml.aio', 'inventory/env.d/rally.yml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'tests/roles/bootstrap-host/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d1cdd4bca928bf092dcd9ced54bd8105dee1950', 'message': ""Create  containers for rally/tempest independently\n\nCurrent behaviour is to install both tempest and rally inside\nutility containers. While it's handy, it also make sense for them to\nhave own env.d and be installed inside own containers or even on\nseparate hosts.\nThis would also align tempest/rally with all other services OSA deploys.\n\nFor backawards compatability we introduce variables rally_user_hosts\nand tempest_user_hosts that can be used to preserve behaviour by defining\nutility_all in there.\n\nChange-Id: I8174ad220f408113231e83dcab621860e7fc5535\n""}]",7,840685,0d1cdd4bca928bf092dcd9ced54bd8105dee1950,16,3,5,28619,,,0,"Create  containers for rally/tempest independently

Current behaviour is to install both tempest and rally inside
utility containers. While it's handy, it also make sense for them to
have own env.d and be installed inside own containers or even on
separate hosts.
This would also align tempest/rally with all other services OSA deploys.

For backawards compatability we introduce variables rally_user_hosts
and tempest_user_hosts that can be used to preserve behaviour by defining
utility_all in there.

Change-Id: I8174ad220f408113231e83dcab621860e7fc5535
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/85/840685/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/os-test-inventory-449753f7dcf60fe8.yaml', 'inventory/env.d/tempest.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-rally-install.yml', 'inventory/env.d/os-test.yml', 'etc/openstack_deploy/conf.d/rally.yml.aio', 'inventory/env.d/rally.yml']",7,fd9fac08f6a71aea63304f0fd925994168a91fe6,840685,"--- # Copyright 2022, City Network International AB # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. component_skel: rally: belongs_to: - rally_all container_skel: rally_container: belongs_to: - sla_containers - os-test_containers contains: - rally physical_skel: sla_containers: belongs_to: - all_containers sla_hosts: belongs_to: - hosts ",,127,14
openstack%2Fpuppet-keystone~stable%2Fxena~Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,openstack/puppet-keystone,stable/xena,Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,Make sure keystone package name is asserted,MERGED,2022-06-16 03:29:46.000000000,2022-06-16 16:25:45.000000000,2022-06-16 16:25:45.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 03:29:46.000000000', 'files': ['spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/114272ff57f37945f075eff3428ba77c6ae47537', 'message': 'Make sure keystone package name is asserted\n\n... and fix a type in a spec file.\n\nChange-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n(cherry picked from commit fd5b32aeb639d7d0f615902ccd360a6e837aad94)\n(cherry picked from commit 36335f093343df78f2fdda48ab3331fac0ab6a42)\n'}]",0,846111,114272ff57f37945f075eff3428ba77c6ae47537,8,4,1,9816,,,0,"Make sure keystone package name is asserted

... and fix a type in a spec file.

Change-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c
Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>
(cherry picked from commit fd5b32aeb639d7d0f615902ccd360a6e837aad94)
(cherry picked from commit 36335f093343df78f2fdda48ab3331fac0ab6a42)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/11/846111/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_init_spec.rb'],1,114272ff57f37945f075eff3428ba77c6ae47537,," :ensure => 'present', :name => platform_params[:package_name], :tag => ['openstack', 'keystone-package'], { :package_name => 'openstack-keystone',"," 'ensure' => 'present', 'tag' => ['openstack', 'keystone-package'], { :package_name => 'opnestack-keystone',",4,3
openstack%2Fcharm-ceph-mon~stable%2Fpacific~I01aa61da7abd66bd4ca864713b0a44872a229187,openstack/charm-ceph-mon,stable/pacific,I01aa61da7abd66bd4ca864713b0a44872a229187,Backport changes in charms.ceph for rbd-mirror capabilities,ABANDONED,2022-06-15 23:27:12.000000000,2022-06-16 16:24:52.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 23:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/463c4f2316c49b06857238d26cae264fdb3dc28c', 'message': 'Backport changes in charms.ceph for rbd-mirror capabilities\n\nThis patchset adds the required config get/set permissions\nfor the rbd-mirror daemon.\n\nChange-Id: I01aa61da7abd66bd4ca864713b0a44872a229187\n'}, {'number': 2, 'created': '2022-06-15 23:47:30.000000000', 'files': ['lib/charms_ceph/utils.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8acab1e30ea31764b7dc1d9678b0ed9a9c94ffa3', 'message': 'Backport changes in charms.ceph for rbd-mirror capabilities\n\nThis patchset adds the required config get/set permissions\nfor the rbd-mirror daemon.\n\nChange-Id: I01aa61da7abd66bd4ca864713b0a44872a229187\n'}]",1,846071,8acab1e30ea31764b7dc1d9678b0ed9a9c94ffa3,8,2,2,33717,,,0,"Backport changes in charms.ceph for rbd-mirror capabilities

This patchset adds the required config get/set permissions
for the rbd-mirror daemon.

Change-Id: I01aa61da7abd66bd4ca864713b0a44872a229187
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/71/846071/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/charms_ceph/utils.py'],1,463c4f2316c49b06857238d26cae264fdb3dc28c,pacific-rbd-backport," ('mon', ['allow profile rbd-mirror-peer', 'allow command ""service dump""', 'allow command ""service status""' ]),"," ('mon', ['profile rbd; allow r']),",4,1
openstack%2Fcharm-guide~master~Ie3b359467f6819b75ac3723a7b3594eca0e609bf,openstack/charm-guide,master,Ie3b359467f6819b75ac3723a7b3594eca0e609bf,Grammar and link improvements to Getting started,MERGED,2022-06-16 15:35:27.000000000,2022-06-16 16:24:00.000000000,2022-06-16 16:22:46.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 15:35:27.000000000', 'files': ['doc/source/getting-started/settings.rst', 'doc/source/getting-started/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/613ab9f9ade3d34dde06133d95b616cf00b33ca4', 'message': 'Grammar and link improvements to Getting started\n\nChange-Id: Ie3b359467f6819b75ac3723a7b3594eca0e609bf\n'}]",0,846190,613ab9f9ade3d34dde06133d95b616cf00b33ca4,7,2,1,30561,,,0,"Grammar and link improvements to Getting started

Change-Id: Ie3b359467f6819b75ac3723a7b3594eca0e609bf
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/90/846190/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting-started/settings.rst', 'doc/source/getting-started/index.rst']",2,613ab9f9ade3d34dde06133d95b616cf00b33ca4,corrections-to-getting-started,This tutorial shows how to deploy a test Charmed OpenStack cloud. Its major.. _bundles: https://juju.is/docs/sdk/manage-bundles.. _network spaces: https://maas.io/docs/maas-concepts-and-terms-reference#heading--spaces,This tutorial shows how to deploy a test Charmed OpenStack cloud. It's major* The MAAS server must have Focal amd64 images available. .. _bundles: https://jaas.ai/docs/sdk/manage-bundles.. _network spaces: https://maas.io/docs/snap/3.1/ui/concepts-and-terms#heading--spaces,4,6
openstack%2Fpuppet-keystone~stable%2Fyoga~Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,openstack/puppet-keystone,stable/yoga,Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,Make sure keystone package name is asserted,MERGED,2022-06-16 03:29:29.000000000,2022-06-16 16:22:03.000000000,2022-06-16 16:22:03.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 03:29:29.000000000', 'files': ['spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/36335f093343df78f2fdda48ab3331fac0ab6a42', 'message': 'Make sure keystone package name is asserted\n\n... and fix a type in a spec file.\n\nChange-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n(cherry picked from commit fd5b32aeb639d7d0f615902ccd360a6e837aad94)\n'}]",0,846110,36335f093343df78f2fdda48ab3331fac0ab6a42,8,4,1,9816,,,0,"Make sure keystone package name is asserted

... and fix a type in a spec file.

Change-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c
Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>
(cherry picked from commit fd5b32aeb639d7d0f615902ccd360a6e837aad94)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/10/846110/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_init_spec.rb'],1,36335f093343df78f2fdda48ab3331fac0ab6a42,," :ensure => 'present', :name => platform_params[:package_name], :tag => ['openstack', 'keystone-package'], { :package_name => 'openstack-keystone',"," 'ensure' => 'present', 'tag' => ['openstack', 'keystone-package'], { :package_name => 'opnestack-keystone',",4,3
openstack%2Fpuppet-cinder~master~I908755dce1bbd1400b27c59e250a8d74d043ef15,openstack/puppet-cinder,master,I908755dce1bbd1400b27c59e250a8d74d043ef15,Make extra_options backend specific,NEW,2022-06-16 12:39:17.000000000,2022-06-16 16:00:10.000000000,,"[{'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 34598}]","[{'number': 1, 'created': '2022-06-16 12:39:17.000000000', 'files': ['manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8fb74a4727a0ebde6d57ec7794721ad70a99c6ce', 'message': 'Make extra_options backend specific\n\nWIP: fix the other defined types once we agree with this direction\n\nDefined types to configure volume backends support the extra_options\nparameter, which allows users to configure additional parameters which\nare not supported by the define types.\n\nHowever this interface is quite confusing, because it requires and\nallows defining parameter sections.\n\n- The parameters can be used to inject parameters to ""any"" section.\n  This is effectively duplicate of cinder::config::cinder_config.\n\n- Users need to understand how the parameter section is determined.\n\n- It\'s not possible to define the common option as a default value\n  (eg. create_resource(cinder::backend::foo, $config, $default)).\n  This is because the parameter is populated by all resources and\n  causes duplicate declaration of the given parameters.\n\nThis change removes that requirement to pass the section name and let\nthe defined types to add it automatically. Old behavior which accepts\nexplicit section names is still kept to avoid breaking existing\nmanifests.\n\nChange-Id: I908755dce1bbd1400b27c59e250a8d74d043ef15\n'}]",3,846160,8fb74a4727a0ebde6d57ec7794721ad70a99c6ce,4,3,1,9816,,,0,"Make extra_options backend specific

WIP: fix the other defined types once we agree with this direction

Defined types to configure volume backends support the extra_options
parameter, which allows users to configure additional parameters which
are not supported by the define types.

However this interface is quite confusing, because it requires and
allows defining parameter sections.

- The parameters can be used to inject parameters to ""any"" section.
  This is effectively duplicate of cinder::config::cinder_config.

- Users need to understand how the parameter section is determined.

- It's not possible to define the common option as a default value
  (eg. create_resource(cinder::backend::foo, $config, $default)).
  This is because the parameter is populated by all resources and
  causes duplicate declaration of the given parameters.

This change removes that requirement to pass the section name and let
the defined types to add it automatically. Old behavior which accepts
explicit section names is still kept to avoid breaking existing
manifests.

Change-Id: I908755dce1bbd1400b27c59e250a8d74d043ef15
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/60/846160/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb']",2,8fb74a4727a0ebde6d57ec7794721ad70a99c6ce,," context 'rbd backend with additional configurations' do params.merge!( :extra_options => { 'rbd-ssd/param1' => { 'value' => 'value1' }, 'rbd-hdd/param2' => { 'value' => 'value2' }, 'param2' => { 'value' => 'value3' }, } ) it { is_expected.to contain_cinder_config('rbd-hdd/param2').with_value('value2') } it { is_expected.to contain_cinder_config('rbd-ssd/param3').with_value('value3') }", context 'rbd backend with additional configuration' do params.merge!( :extra_options => {'rbd-ssd/param1' => { 'value' => 'value1' }} ),21,4
openstack%2Fheat~stable%2Fyoga~I703229320320295b4a90e72c543f8959f85daaa9,openstack/heat,stable/yoga,I703229320320295b4a90e72c543f8959f85daaa9,Drop lower-constraints.txt and its testing,MERGED,2022-06-16 04:41:13.000000000,2022-06-16 15:56:53.000000000,2022-06-16 15:54:06.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 04:41:13.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/80ce36214bf2d8b2e28740916b2e87ee9e10ae44', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nConflicts:\n\t.zuul.yaml\n\nChange-Id: I703229320320295b4a90e72c543f8959f85daaa9\n(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)\n'}]",0,846094,80ce36214bf2d8b2e28740916b2e87ee9e10ae44,8,2,1,9816,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Conflicts:
	.zuul.yaml

Change-Id: I703229320320295b4a90e72c543f8959f85daaa9
(cherry picked from commit 49cbb92ed611899728425877e86396a70f5d7c5f)
",git fetch https://review.opendev.org/openstack/heat refs/changes/94/846094/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,80ce36214bf2d8b2e28740916b2e87ee9e10ae44,drop-l-c,, [testenv:lower-constraints] install_command = pip install {opts} {packages} deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,169
openstack%2Fvalidations-libs~stable%2F1.6~Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,openstack/validations-libs,stable/1.6,Ib302190408c4c684b96cc30e9cf2cb6b1c00c086,Man pages compatibility,MERGED,2022-05-30 06:50:18.000000000,2022-06-16 15:42:53.000000000,2022-06-16 15:41:23.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-05-30 06:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/48ab7ff38d13269578828f0d377dc9df182ebe48', 'message': 'Man pages compatibility\n\nCreated section describing structure of our man pages.\nRemoved superflous title in the CLI documentation to improve\nman page readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n(cherry picked from commit 9ed3888273b7f9704ed962cca02ae8f2c8f41144)\n'}, {'number': 2, 'created': '2022-06-16 08:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fe8a6a4b2691c263d775dd02597f4026a8ed2873', 'message': 'Man pages compatibility\n\nCreated section describing structure of our man pages.\nRemoved superflous title in the CLI documentation to improve\nman page readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n(cherry picked from commit 9ed3888273b7f9704ed962cca02ae8f2c8f41144)\n'}, {'number': 3, 'created': '2022-06-16 08:42:16.000000000', 'files': ['doc/source/cli.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ca1f4ebf93485e2153c43dc7a51fc41773ff444c', 'message': 'Man pages compatibility\n\nCreated section describing structure of our man pages.\nRemoved superflous title in the CLI documentation to improve\nman page readability.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086\n(cherry picked from commit 9ed3888273b7f9704ed962cca02ae8f2c8f41144)\n'}]",0,843783,ca1f4ebf93485e2153c43dc7a51fc41773ff444c,12,4,3,32926,,,0,"Man pages compatibility

Created section describing structure of our man pages.
Removed superflous title in the CLI documentation to improve
man page readability.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib302190408c4c684b96cc30e9cf2cb6b1c00c086
(cherry picked from commit 9ed3888273b7f9704ed962cca02ae8f2c8f41144)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/83/843783/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli.rst', 'doc/source/conf.py']",2,48ab7ff38d13269578828f0d377dc9df182ebe48,vf/stable-branch/ci,"# Settings MAN pages targets man_pages = [( 'cli', 'vf', 'validate environments', 'Openstack', '1'), ( 'reference/index', 'validations-libs', 'API description', 'Openstack', '3')] ",,14,6
openstack%2Fvalidations-common~stable%2F1.6~I429f65498960f3555326f23b1ec2af592414a95f,openstack/validations-common,stable/1.6,I429f65498960f3555326f23b1ec2af592414a95f,Explaining stable branches in CONTRIBUTING.rst,MERGED,2022-05-30 06:51:29.000000000,2022-06-16 15:41:21.000000000,2022-06-16 15:41:21.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-05-30 06:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9b13935e4751846817fccd2b3e5055e6fad7ed31', 'message': 'Explaining stable branches in CONTRIBUTING.rst\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I429f65498960f3555326f23b1ec2af592414a95f\n(cherry picked from commit 723985f71808f499f7b72da6b9bdd7505c05af2f)\n'}, {'number': 2, 'created': '2022-06-07 12:13:22.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ac7b9d5c9fd82d16c2b68e20ec3524e4119c6c3d', 'message': 'Explaining stable branches in CONTRIBUTING.rst\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I429f65498960f3555326f23b1ec2af592414a95f\n(cherry picked from commit 723985f71808f499f7b72da6b9bdd7505c05af2f)\n'}]",0,843784,ac7b9d5c9fd82d16c2b68e20ec3524e4119c6c3d,11,5,2,32926,,,0,"Explaining stable branches in CONTRIBUTING.rst

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I429f65498960f3555326f23b1ec2af592414a95f
(cherry picked from commit 723985f71808f499f7b72da6b9bdd7505c05af2f)
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/84/843784/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,9b13935e4751846817fccd2b3e5055e6fad7ed31,vf/branching-explanation,"The information below will cover the project specific information you'll need to get started with validation-framework. Branches and version management =============================== Validation Framework project uses semantic versioning and derives names of stable branches from the released minor versions. The latest minor version released is the only exception as it is derived from the `master` branch. Therefore, all code used by version 1.n.* of the project resides in `stable/1.n` branch, and when version 1.(n+1) is released, new branch `stable/1.(n+1)` will be created. By default, stable branches recieve only bug fixes and feature backports are decided on case basis after all the necessary discussions and procedures have taken place.",The information below will cover the project specific information you need to get started with TripleO.,14,1
openstack%2Ftripleo-operator-ansible~master~I3e97dcc08fb5b9370b1fa2ce732572a0c70aa947,openstack/tripleo-operator-ansible,master,I3e97dcc08fb5b9370b1fa2ce732572a0c70aa947,update tripleo_operator_ansible VF hooks since CLI has changed,MERGED,2022-06-15 13:26:59.000000000,2022-06-16 15:41:05.000000000,2022-06-16 15:41:05.000000000,"[{'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-06-15 13:26:59.000000000', 'files': ['roles/tripleo_validator_run/README.md', 'roles/tripleo_validator_run/defaults/main.yml', 'roles/tripleo_validator_run/tasks/main.yml', 'roles/tripleo_validator_run/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/fd8f962e70cf5bcec602a45b79fe43faa85f644e', 'message': 'update tripleo_operator_ansible VF hooks since CLI has changed\n\nthis patch amends tripleo operator ansible vf hooks - two changes\n\n1) no more plan files - removed that CLI option\n2) static inventory is simply inventory - amended that argument\n\nChange-Id: I3e97dcc08fb5b9370b1fa2ce732572a0c70aa947\n'}]",1,845988,fd8f962e70cf5bcec602a45b79fe43faa85f644e,8,5,1,27427,,,0,"update tripleo_operator_ansible VF hooks since CLI has changed

this patch amends tripleo operator ansible vf hooks - two changes

1) no more plan files - removed that CLI option
2) static inventory is simply inventory - amended that argument

Change-Id: I3e97dcc08fb5b9370b1fa2ce732572a0c70aa947
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/88/845988/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_validator_run/README.md', 'roles/tripleo_validator_run/defaults/main.yml', 'roles/tripleo_validator_run/tasks/main.yml', 'roles/tripleo_validator_run/molecule/default/converge.yml']",4,fd8f962e70cf5bcec602a45b79fe43faa85f644e,bz1901993,," - name: Check parameter ""tripleo_validator_run_plan"" include_role: name: ""tripleo_validator_run"" vars: tripleo_validator_run_plan: 'my-thing' tripleo_validator_run_group: 'no-op' - name: Assert ""tripleo_validator_run_plan"" assert: that: - tripleo_validator_run_result.stdout == 'tripleo validator run --plan my-thing --group no-op' ",3,19
openstack%2Fproject-config~master~Iecbdcb50063cb461b3a09ddfa205d071c7d77b75,openstack/project-config,master,Iecbdcb50063cb461b3a09ddfa205d071c7d77b75,[proposal-updates] Run ensure-python before git-review setup,MERGED,2022-06-16 06:09:34.000000000,2022-06-16 15:25:36.000000000,2022-06-16 15:25:36.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 06:09:34.000000000', 'files': ['playbooks/proposal/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0ef308725f800cbcaef97a6992fbf6ad08d13685', 'message': ""[proposal-updates] Run ensure-python before git-review setup\n\nInstall git-review task relies on ensure_pip_virtualenv_command\nvariable but with [1] this is set to python3.8 in translation\nupdate jobs but it get's installed later by ensure-python role,\nlet's run it earlier to fix the issue.\n\n[1] https://review.opendev.org/c/openstack/project-config/+/845907\n\nChange-Id: Iecbdcb50063cb461b3a09ddfa205d071c7d77b75\n""}]",1,846100,0ef308725f800cbcaef97a6992fbf6ad08d13685,8,5,1,13861,,,0,"[proposal-updates] Run ensure-python before git-review setup

Install git-review task relies on ensure_pip_virtualenv_command
variable but with [1] this is set to python3.8 in translation
update jobs but it get's installed later by ensure-python role,
let's run it earlier to fix the issue.

[1] https://review.opendev.org/c/openstack/project-config/+/845907

Change-Id: Iecbdcb50063cb461b3a09ddfa205d071c7d77b75
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/846100/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/proposal/pre.yaml'],1,0ef308725f800cbcaef97a6992fbf6ad08d13685,fix-propose-updates, - name: Ensure python include_role: name: ensure-python , - ensure-python,4,1
openstack%2Fopenstack-ansible-os_murano~master~I6b21b2a6bc2d14bdd3fce0ee874385f72a6581d8,openstack/openstack-ansible-os_murano,master,I6b21b2a6bc2d14bdd3fce0ee874385f72a6581d8,use {{ service_install_method }},ABANDONED,2022-05-05 19:45:41.000000000,2022-06-16 15:24:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-05 19:45:41.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/17b2d0b06df8f3279bf4c62d1ff79d342c40037c', 'message': 'use {{ service_install_method }}\n\nChange-Id: I6b21b2a6bc2d14bdd3fce0ee874385f72a6581d8\n'}]",0,840729,17b2d0b06df8f3279bf4c62d1ff79d342c40037c,3,1,1,13095,,,0,"use {{ service_install_method }}

Change-Id: I6b21b2a6bc2d14bdd3fce0ee874385f72a6581d8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/29/840729/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,17b2d0b06df8f3279bf4c62d1ff79d342c40037c,osa/service_variables,"murano_install_method: ""{{ service_install_method | default('source') }}""","murano_install_method: ""source""",1,1
openstack%2Fopenstack-ansible-os_neutron~master~Id2a50a1df6287789eeb59d6ed5246e2375d93b52,openstack/openstack-ansible-os_neutron,master,Id2a50a1df6287789eeb59d6ed5246e2375d93b52,Support service tokens,MERGED,2022-06-15 09:14:28.000000000,2022-06-16 15:01:50.000000000,2022-06-16 15:00:19.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 09:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/533f4fcc4f12cd95ca52967f7328c09a4e58de40', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Id2a50a1df6287789eeb59d6ed5246e2375d93b52\n'}, {'number': 2, 'created': '2022-06-15 14:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/dd631c292d0dde8f6e5c374cfabeeb65a03aa785', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepneds-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/845903\nChange-Id: Id2a50a1df6287789eeb59d6ed5246e2375d93b52\n'}, {'number': 3, 'created': '2022-06-15 16:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/a1e487681c9a655e4f231a989189c2d1963977e7', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepneds-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823005\nChange-Id: Id2a50a1df6287789eeb59d6ed5246e2375d93b52\n'}, {'number': 4, 'created': '2022-06-16 06:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/6b0f32abd31fde9f26a0792b5b1dd43b3f191177', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/823005\nChange-Id: Id2a50a1df6287789eeb59d6ed5246e2375d93b52\n'}, {'number': 5, 'created': '2022-06-16 06:50:17.000000000', 'files': ['templates/neutron.conf.j2', 'tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/ce9992335e4f39c0362905ab69abde7398b79bba', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/845903\nChange-Id: Id2a50a1df6287789eeb59d6ed5246e2375d93b52\n'}]",1,845904,ce9992335e4f39c0362905ab69abde7398b79bba,17,4,5,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/845903
Change-Id: Id2a50a1df6287789eeb59d6ed5246e2375d93b52
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/04/845904/5 && git format-patch -1 --stdout FETCH_HEAD,"['templates/neutron.conf.j2', 'tasks/main.yml', 'defaults/main.yml']",3,533f4fcc4f12cd95ca52967f7328c09a4e58de40,osa/service_tokens,"neutron_service_role_names: - admin - service neutron_service_token_roles: - service neutron_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",neutron_service_role_name: admin,11,2
openstack%2Fheat-dashboard~master~I6443c802029ca0dec579802c8e30b296ea52b335,openstack/heat-dashboard,master,I6443c802029ca0dec579802c8e30b296ea52b335,Add api calling related settings in doc,NEW,2018-07-06 07:53:49.000000000,2022-06-16 14:56:57.000000000,,"[{'_account_id': 841}, {'_account_id': 9816}, {'_account_id': 19224}, {'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-07-06 07:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/b47391656b79966170efa065448c53ca51f79ff7', 'message': ""Add api calling related settings in doc\n\nCurrent configuration guide doesn't refer a couple of settings for api\ncalling which happnens in the template generator page creation.\n\nChange-Id: I6443c802029ca0dec579802c8e30b296ea52b335\nTask: 18893\nStory: 1753897\n""}, {'number': 2, 'created': '2018-07-10 10:40:19.000000000', 'files': ['doc/source/configuration/configuration.rst', 'heat_dashboard/content/template_generator/api.py', 'heat_dashboard/local_settings.d/_1699_orchestration_settings.py'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/58d53c76df1e1e31df74e5f907e7533a6d24890d', 'message': ""Add api calling related settings in doc\n\nCurrent configuration guide doesn't refer a couple of settings for api\ncalling which happnens in the template generator page creation.\n\nChange-Id: I6443c802029ca0dec579802c8e30b296ea52b335\nTask: 18893\nStory: 1753897\n""}]",7,580576,58d53c76df1e1e31df74e5f907e7533a6d24890d,10,5,2,25221,,,0,"Add api calling related settings in doc

Current configuration guide doesn't refer a couple of settings for api
calling which happnens in the template generator page creation.

Change-Id: I6443c802029ca0dec579802c8e30b296ea52b335
Task: 18893
Story: 1753897
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/76/580576/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/configuration.rst'],1,b47391656b79966170efa065448c53ca51f79ff7,, .. versionadded:: 1.0.0(Queens) Template Generator: .. code-block:: python HEAT_TEMPLATE_GENERATOR_API_TIMEOUT = 60 HEAT_TEMPLATE_GENERATOR_API_PARALLEL = 2 Settings for api callings to build pull-down menu in the template generator. You can specify timeout value and parallel level of it.,.. versionadded:: 9.0.0(Mitaka) ,12,2
openstack%2Fneutron~stable%2Fussuri~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/ussuri,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-16 06:23:42.000000000,2022-06-16 14:49:13.000000000,2022-06-16 14:47:10.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 06:23:42.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52bb040e4e21b9db7e9787cec8ac86de5644eadb', 'message': '[OVN]Any string type dhcp options should be quoted\n\nAny dhcp option[1] which value is string type in ovn\nshould be added quotes, otherwise it would be regard\nas constant.\n\n[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116\n\nCloses-Bug: #1946764\nChange-Id: Id174cd944c3b883b749046bc49d00e011eb891fe\n(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)\n(cherry picked from commit f1e7d20b01e452efc234b1f169ee356333adf499)\n'}]",1,846115,52bb040e4e21b9db7e9787cec8ac86de5644eadb,12,3,1,13861,,,0,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
(cherry picked from commit f1e7d20b01e452efc234b1f169ee356333adf499)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/846115/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",5,52bb040e4e21b9db7e9787cec8ac86de5644eadb,bug/1946764-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,"# OVN string type DHCP options OVN_STR_TYPE_DHCP_OPTS = [ 'domain_name', 'bootfile_name', 'path_prefix', 'wpad', 'tftp_server'] ",,24,9
openstack%2Fcoverage2sql~master~Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1,openstack/coverage2sql,master,Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1,Update python testing as per zed cycle teting runtime,MERGED,2022-05-07 05:00:28.000000000,2022-06-16 14:47:58.000000000,2022-06-16 14:45:04.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-07 05:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/29d0391f23fa9aa51c08bab8ed2b4570e8c787b6', 'message': 'Update python testing as per zed cycle teting runtime\n\nChange-Id: Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1\n'}, {'number': 2, 'created': '2022-05-07 05:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/60faed2ee97363b0b99e7df62df8c56221cb3791', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1\n'}, {'number': 3, 'created': '2022-06-16 09:00:04.000000000', 'files': ['releasenotes/notes/Drop-py3.6-and-py3.7-from-coverage2sql-92af6155b0dc3314.yaml', '.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/7bf6a65ff951e12fb5002ad3c077ea45277a01f3', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1\n'}]",0,841002,7bf6a65ff951e12fb5002ad3c077ea45277a01f3,10,2,3,33881,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: Ie3c38ca062b2bce644d11c48403c9c77ca0de9a1
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/02/841002/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,29d0391f23fa9aa51c08bab8ed2b4570e8c787b6,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Floci~master~I5faea02cffc8943e536b7d89fe1a09ee96d7e406,openstack/loci,master,I5faea02cffc8943e536b7d89fe1a09ee96d7e406,Add ubuntu jammy base to dockerfiles,ABANDONED,2022-04-22 21:17:45.000000000,2022-06-16 14:45:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-22 21:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/3e1fb4503e74f50abc4475a79adcc5e62b2c2433', 'message': 'Add ubuntu jammy base to dockerfiles\n\nThis change adds in the base for Ubuntu 22.04 Jammy release\nunder dockerfiles.\n\nChange-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406\n'}, {'number': 2, 'created': '2022-04-22 21:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8afcd26c0d2792ff84972241d305f0cc8c3bf229', 'message': 'Add ubuntu jammy base to dockerfiles\n\nThis change adds in the base for Ubuntu 22.04 Jammy release\nunder dockerfiles.\n\nChange-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406\n'}, {'number': 3, 'created': '2022-04-25 19:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/bab4e6a10bc3e539a0e5c4f03c5741ccd82e2e07', 'message': 'Add ubuntu jammy base to dockerfiles\n\nThis change adds in the base for Ubuntu 22.04 Jammy release\nunder dockerfiles.\n\nChange-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406\n'}, {'number': 4, 'created': '2022-04-28 18:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/c44c71bc028b435ffc2d37c63be11c558331de14', 'message': 'Add ubuntu jammy base to dockerfiles\n\nThis change adds in the base for Ubuntu 22.04 Jammy release\nunder dockerfiles.\n\nChange-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406\n'}, {'number': 5, 'created': '2022-06-01 03:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/5c63694b686433c24c806e5eb0feeb040673756b', 'message': 'Add ubuntu jammy base to dockerfiles\n\nThis change adds in the base for Ubuntu 22.04 Jammy release\nunder dockerfiles.\n\nChange-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406\n'}, {'number': 6, 'created': '2022-06-15 23:20:48.000000000', 'files': ['dockerfiles/ubuntu_jammy/ceph.gpg', 'dockerfiles/ubuntu_jammy/cloud-archive.gpg', 'playbooks/vars.yaml', 'dockerfiles/ubuntu_jammy/Dockerfile', 'dockerfiles/ubuntu_jammy/sources.list'], 'web_link': 'https://opendev.org/openstack/loci/commit/f2269eec4e85b698aa0fde3735a652c36aa62f87', 'message': 'Add ubuntu jammy base to dockerfiles\n\nThis change adds in the base for Ubuntu 22.04 Jammy release\nunder dockerfiles.\n\nChange-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406\n'}]",5,839104,f2269eec4e85b698aa0fde3735a652c36aa62f87,24,1,6,21420,,,0,"Add ubuntu jammy base to dockerfiles

This change adds in the base for Ubuntu 22.04 Jammy release
under dockerfiles.

Change-Id: I5faea02cffc8943e536b7d89fe1a09ee96d7e406
",git fetch https://review.opendev.org/openstack/loci refs/changes/04/839104/5 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/ubuntu_jammy/ceph.gpg', 'dockerfiles/ubuntu_jammy/cloud-archive.gpg', 'dockerfiles/ubuntu_jammy/Dockerfile', 'dockerfiles/ubuntu_jammy/sources.list']",4,3e1fb4503e74f50abc4475a79adcc5e62b2c2433,add-jammy,deb %%UBUNTU_URL%% jammy main universe deb %%UBUNTU_URL%% jammy-updates main universe deb %%UBUNTU_URL%% jammy-backports main universe deb %%UBUNTU_URL%% jammy-security main universe deb %%CEPH_URL%% focal main deb %%CLOUD_ARCHIVE_URL%% focal-updates/yoga main ,,29,0
openstack%2Fcharms.ceph~stable%2Fpacific~If2169734f67d21c1c7c1b75677f14ebd0ea054ae,openstack/charms.ceph,stable/pacific,If2169734f67d21c1c7c1b75677f14ebd0ea054ae,Add permission in mon key for newly named command,MERGED,2022-06-15 20:50:37.000000000,2022-06-16 14:36:36.000000000,2022-06-16 14:36:36.000000000,"[{'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 20:50:37.000000000', 'files': ['charms_ceph/broker.py', 'charms_ceph/utils.py', 'unit_tests/test_utils.py', 'unit_tests/test_broker.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/d43881c20f4312ebc559e6d8b616c7479c29f7c5', 'message': ""Add permission in mon key for newly named command\n\nStarting with Pacific, the 'osd blacklist' command was renamed to\n'osd blocklist'. This patchset changes the allowed commands to\nreflect this change.\n\nChange-Id: If2169734f67d21c1c7c1b75677f14ebd0ea054ae\nCloses-Bug: #1968369\n(cherry picked from commit 5745ed3ba856b34b0094cbc8e6aed312b142c019)\n""}]",0,845849,d43881c20f4312ebc559e6d8b616c7479c29f7c5,7,3,1,20634,,,0,"Add permission in mon key for newly named command

Starting with Pacific, the 'osd blacklist' command was renamed to
'osd blocklist'. This patchset changes the allowed commands to
reflect this change.

Change-Id: If2169734f67d21c1c7c1b75677f14ebd0ea054ae
Closes-Bug: #1968369
(cherry picked from commit 5745ed3ba856b34b0094cbc8e6aed312b142c019)
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/49/845849/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/broker.py', 'charms_ceph/utils.py', 'unit_tests/test_utils.py', 'unit_tests/test_broker.py']",4,d43881c20f4312ebc559e6d8b616c7479c29f7c5,bug/1968369-stable/pacific," 'mon', ('allow r, allow command ""osd blacklist""' ', allow command ""osd blocklist""'), 'mon', ('allow r, allow command ""osd blacklist""' ', allow command ""osd blocklist""'), 'allow r, allow command ""osd blacklist""' + ', allow command ""osd blocklist""', ('allow r, allow command ""osd blacklist""' ', allow command ""osd blocklist""'), ('allow r, allow command ""osd blacklist""' ', allow command ""osd blocklist""'), ('allow r, allow command ""osd blacklist""' ', allow command ""osd blocklist""'),"," 'mon', 'allow r, allow command ""osd blacklist""', 'mon', 'allow r, allow command ""osd blacklist""', 'allow r, allow command ""osd blacklist""', 'allow r, allow command ""osd blacklist""', 'allow r, allow command ""osd blacklist""', 'allow r, allow command ""osd blacklist""',",20,10
openstack%2Fcharms.ceph~stable%2Fpacific~I777650ae2194609a95e5cfb101e343824b3d0a34,openstack/charms.ceph,stable/pacific,I777650ae2194609a95e5cfb101e343824b3d0a34,Stop setting default capabilities in get_named_key.,MERGED,2022-03-07 14:31:01.000000000,2022-06-16 14:36:33.000000000,2022-06-16 14:36:33.000000000,"[{'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-07 14:31:01.000000000', 'files': ['charms_ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/a7930e2617674710e758745fe8480c239a4fa929', 'message': 'Stop setting default capabilities in get_named_key.\n\nWhen get_named_key is called on a keyring that\nhas customised capabilities, it overwrites the\ncapabilities to the default capabilities.\n\nChange-Id: I777650ae2194609a95e5cfb101e343824b3d0a34\n(cherry picked from commit d364605a49b088d932178e23566aa405315ea9f3)\n'}]",0,831866,a7930e2617674710e758745fe8480c239a4fa929,7,3,1,20634,,,0,"Stop setting default capabilities in get_named_key.

When get_named_key is called on a keyring that
has customised capabilities, it overwrites the
capabilities to the default capabilities.

Change-Id: I777650ae2194609a95e5cfb101e343824b3d0a34
(cherry picked from commit d364605a49b088d932178e23566aa405315ea9f3)
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/66/831866/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,a7930e2617674710e758745fe8480c239a4fa929,,," # NOTE(jamespage); # Apply any changes to key capabilities, dealing with # upgrades which requires new caps for operation. upgrade_key_caps(key_name, caps or _default_caps, pool_list)",0,6
openstack%2Fcharms.ceph~stable%2Fyoga~Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,openstack/charms.ceph,stable/yoga,Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,Amend rbd-mirror capabilities,MERGED,2022-04-21 11:03:10.000000000,2022-06-16 14:35:01.000000000,2022-06-16 14:35:01.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-04-21 11:03:10.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/216a8f7ce34a5651356d55f771d231bea109bd56', 'message': 'Amend rbd-mirror capabilities\n\nUpdate rbd-mirror key caps to use the rbd-mirror-peer mon profile.\n\nThis adds required config get/set permissions for the rbd-mirror\ndaemon.\n\nAlso add permission to use the service {dump,status} mon commands;\nthese are not required by the rbd-mirror daemon but are needed by\nthe charm to check pool mirror status.\n\nChange-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1\nCloses-Bug: 1879749\n(cherry picked from commit 89f5ee0d0425649de8a7e981f6268e488b22c037)\n'}]",4,838707,216a8f7ce34a5651356d55f771d231bea109bd56,11,5,1,20634,,,0,"Amend rbd-mirror capabilities

Update rbd-mirror key caps to use the rbd-mirror-peer mon profile.

This adds required config get/set permissions for the rbd-mirror
daemon.

Also add permission to use the service {dump,status} mon commands;
these are not required by the rbd-mirror daemon but are needed by
the charm to check pool mirror status.

Change-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1
Closes-Bug: 1879749
(cherry picked from commit 89f5ee0d0425649de8a7e981f6268e488b22c037)
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/07/838707/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/utils.py', 'unit_tests/test_utils.py']",2,216a8f7ce34a5651356d55f771d231bea109bd56,rbd-mirror-peer-stable/yoga," ('mon', ['allow profile rbd-mirror-peer', 'allow command ""service dump""', 'allow command ""service status""']),"," ('mon', ['profile rbd; allow r']),",7,2
openstack%2Fkayobe~master~Ibf4b928222713bedb7e856307f5ad91e60953795,openstack/kayobe,master,Ibf4b928222713bedb7e856307f5ad91e60953795,Use openstack-ci-mirrors in overcloud and ipa image builds,MERGED,2021-12-14 08:49:56.000000000,2022-06-16 14:04:46.000000000,2022-06-16 14:02:58.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-12-14 08:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e773ae39443947ee32fa33fa9ce164846089b760', 'message': 'WIP: Use openstack-ci-mirrors in ipa image build\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 2, 'created': '2021-12-14 10:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/42ee0e83e8890db4250bdf492e8767032e1fdc04', 'message': 'WIP: Use openstack-ci-mirrors and centos-minimal in ipa image build\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 3, 'created': '2022-02-17 06:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b8ab4c9d08cbafc347b6e7b1623aa031faf4608c', 'message': 'WIP: Use openstack-ci-mirrors and centos-minimal in ipa image build\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 4, 'created': '2022-03-17 20:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6a30cc38a4c695e2cb8723d5b70aab25a76f6e18', 'message': 'Use openstack-ci-mirrors in ipa image build\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 5, 'created': '2022-03-18 09:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/47cbdc9969ddff6d6958a84d53bd3aaf87ffb8b0', 'message': 'Use openstack-ci-mirrors in ipa image build\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 6, 'created': '2022-03-23 11:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/46c5745d4e9ba2701cc8884e8f4e4e0b784516d7', 'message': 'Use openstack-ci-mirrors in ipa image build\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 7, 'created': '2022-04-29 09:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dbd806aaa3d6d957556f70b3e537199d6dc461db', 'message': 'Use openstack-ci-mirrors in ipa image build\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 8, 'created': '2022-06-09 20:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/832e49d52c79a1a10584a06218184dd7026bfcf0', 'message': 'Use openstack-ci-mirrors in overcloud and ipa image builds\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}, {'number': 9, 'created': '2022-06-10 15:38:14.000000000', 'files': ['playbooks/kayobe-seed-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/002c08e032dbad62840ec31932dcd1208d9a4639', 'message': 'Use openstack-ci-mirrors in overcloud and ipa image builds\n\nChange-Id: Ibf4b928222713bedb7e856307f5ad91e60953795\n'}]",15,821675,002c08e032dbad62840ec31932dcd1208d9a4639,43,4,9,22629,,,0,"Use openstack-ci-mirrors in overcloud and ipa image builds

Change-Id: Ibf4b928222713bedb7e856307f5ad91e60953795
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/75/821675/8 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-seed-base/overrides.yml.j2'],1,e773ae39443947ee32fa33fa9ce164846089b760,," - ""openstack-ci-mirrors""",,1,0
openstack%2Fcharms.ceph~stable%2Fpacific~Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,openstack/charms.ceph,stable/pacific,Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1,Amend rbd-mirror capabilities,MERGED,2022-06-15 16:47:36.000000000,2022-06-16 13:57:13.000000000,2022-06-16 13:57:13.000000000,"[{'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 16:47:36.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/eb24194126cfd68484eb869714facf66f518215c', 'message': 'Amend rbd-mirror capabilities\n\nUpdate rbd-mirror key caps to use the rbd-mirror-peer mon profile.\n\nThis adds required config get/set permissions for the rbd-mirror\ndaemon.\n\nAlso add permission to use the service {dump,status} mon commands;\nthese are not required by the rbd-mirror daemon but are needed by\nthe charm to check pool mirror status.\n\nChange-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1\nCloses-Bug: 1879749\n(cherry picked from commit 89f5ee0d0425649de8a7e981f6268e488b22c037)\n'}]",0,845847,eb24194126cfd68484eb869714facf66f518215c,8,4,1,20634,,,0,"Amend rbd-mirror capabilities

Update rbd-mirror key caps to use the rbd-mirror-peer mon profile.

This adds required config get/set permissions for the rbd-mirror
daemon.

Also add permission to use the service {dump,status} mon commands;
these are not required by the rbd-mirror daemon but are needed by
the charm to check pool mirror status.

Change-Id: Ia5efa090f5b7fa23d7261da53592d6a527dcbfe1
Closes-Bug: 1879749
(cherry picked from commit 89f5ee0d0425649de8a7e981f6268e488b22c037)
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/47/845847/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_ceph/utils.py', 'unit_tests/test_utils.py']",2,eb24194126cfd68484eb869714facf66f518215c,rbd-mirror-peer-stable/pacific," ('mon', ['allow profile rbd-mirror-peer', 'allow command ""service dump""', 'allow command ""service status""']),"," ('mon', ['profile rbd; allow r']),",7,2
openstack%2Fcharm-nova-compute~stable%2Fxena~I0f7c8dd48be6c3ed19928179379d562674915040,openstack/charm-nova-compute,stable/xena,I0f7c8dd48be6c3ed19928179379d562674915040,Pin tempest for python<3.8,ABANDONED,2022-06-14 18:56:29.000000000,2022-06-16 13:47:57.000000000,,[],"[{'number': 1, 'created': '2022-06-14 18:56:29.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/21102f79268d5fa3900e8d009dbb03db265d746f', 'message': 'Pin tempest for python<3.8\n\nChange-Id: I0f7c8dd48be6c3ed19928179379d562674915040\n'}]",1,845809,21102f79268d5fa3900e8d009dbb03db265d746f,3,0,1,2424,,,0,"Pin tempest for python<3.8

Change-Id: I0f7c8dd48be6c3ed19928179379d562674915040
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/09/845809/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,21102f79268d5fa3900e8d009dbb03db265d746f,fix-py36,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fansible-role-qdrouterd~master~I32d3d2ecb7d5862fa68edb353a8d3ea71dfd3276,openstack/ansible-role-qdrouterd,master,I32d3d2ecb7d5862fa68edb353a8d3ea71dfd3276,Use templates instead of set of jobs,ABANDONED,2021-06-30 09:29:31.000000000,2022-06-16 13:42:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-30 09:29:31.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-qdrouterd/commit/7c72e01f5ef93c5b1442d9873d7a73f027d539f0', 'message': 'Use templates instead of set of jobs\n\nIn order to manage ran jobs more efficiently we replace explicit\nset of jobs definition with templates.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/798638\nChange-Id: I32d3d2ecb7d5862fa68edb353a8d3ea71dfd3276\n'}]",0,798819,7c72e01f5ef93c5b1442d9873d7a73f027d539f0,5,1,1,28619,,,0,"Use templates instead of set of jobs

In order to manage ran jobs more efficiently we replace explicit
set of jobs definition with templates.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-tests/+/798638
Change-Id: I32d3d2ecb7d5862fa68edb353a8d3ea71dfd3276
",git fetch https://review.opendev.org/openstack/ansible-role-qdrouterd refs/changes/19/798819/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,7c72e01f5ef93c5b1442d9873d7a73f027d539f0,, - openstack-ansible-linters-jobs - openstack-ansible-role-jobs, check: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-centos-8 - openstack-ansible-functional-ubuntu-bionic - openstack-ansible-functional-ubuntu-focal experimental: jobs: - openstack-ansible-integrated-deploy-aio gate: jobs: - openstack-ansible-linters - openstack-ansible-functional-centos-7 - openstack-ansible-functional-centos-8 - openstack-ansible-functional-ubuntu-bionic - openstack-ansible-functional-ubuntu-focal,2,17
openstack%2Fcharms.openstack~master~I9221188b817fbb570700406b97e194aacf6ef786,openstack/charms.openstack,master,I9221188b817fbb570700406b97e194aacf6ef786,Add new Trilio version template property,MERGED,2022-06-16 10:02:32.000000000,2022-06-16 13:41:03.000000000,2022-06-16 13:41:03.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 10:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/b21242b1dc922a08433e66b01c9ea94fa38100f7', 'message': 'dd new Trilio version template property\n\nThis change adds a new `trilio_compat_version` that can be used\nin templates when an option is gated on the trilio Major and\nMinor version. The config option cannot be used for examining\natch versions as it relies on a float representation of the\npackage version.\n\nChange-Id: I9221188b817fbb570700406b97e194aacf6ef786\n'}, {'number': 2, 'created': '2022-06-16 10:02:57.000000000', 'files': ['charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/1079a19e2e7a39708334c9fe1affe8efeb279f8c', 'message': 'Add new Trilio version template property\n\nThis change adds a new `trilio_compat_version` that can be used\nin templates when an option is gated on the trilio Major and\nMinor version. The config option cannot be used for examining\natch versions as it relies on a float representation of the\npackage version.\n\nChange-Id: I9221188b817fbb570700406b97e194aacf6ef786\n'}]",0,846144,1079a19e2e7a39708334c9fe1affe8efeb279f8c,7,2,2,12549,,,0,"Add new Trilio version template property

This change adds a new `trilio_compat_version` that can be used
in templates when an option is gated on the trilio Major and
Minor version. The config option cannot be used for examining
atch versions as it relies on a float representation of the
package version.

Change-Id: I9221188b817fbb570700406b97e194aacf6ef786
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/44/846144/2 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py']",2,b21242b1dc922a08433e66b01c9ea94fa38100f7,trilio-version-property," def _version_compare(a, b): if a > b: return 1 if a == b: return 0 if a < b: return -1 self.version_compare.side_effect = _version_compare { 'db_type': 'legacy', 'transport_type': 'legacy', 'trilio_compat_version': 4.0}) cls_mock.charm_instance.release_pkg_version = lambda: '4.1' { 'db_type': 'dedicated', 'transport_type': 'dmapi', 'trilio_compat_version': 4.1}) cls_mock.charm_instance.release_pkg_version = lambda: 'a4.1.1' with self.assertRaises(ValueError): trilio.trilio_properties(cls_mock)"," self.version_compare.return_value = 0 {'db_type': 'dedicated', 'transport_type': 'dmapi'}) self.version_compare.return_value = -1 {'db_type': 'legacy', 'transport_type': 'legacy'})",35,11
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fxena~Ia438ee3b0aa1ba95aff014776e936516b83181ec,openstack/openstack-ansible-rabbitmq_server,stable/xena,Ia438ee3b0aa1ba95aff014776e936516b83181ec,Use cloudsmith repo for rabbit and erlang,MERGED,2022-06-16 08:29:00.000000000,2022-06-16 13:40:18.000000000,2022-06-16 13:38:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-16 08:29:00.000000000', 'files': ['files/gpg/A16A4251', 'tasks/install_yum.yml', 'releasenotes/notes/rabbit_cloudsmith-36ccc2f807688f4f.yaml', 'vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/A14F4FCA', 'tasks/install_apt.yml', 'files/gpg/C072C960', 'files/gpg/0A9AF211'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/285aee6a615fee0c978a9d84c71e88b14601fabf', 'message': 'Use cloudsmith repo for rabbit and erlang\n\nSwitch to using cloudsmith repo as a source for rabbitmq and erlang.\n\nThis allows us to be consistent about repository that is\nused across supported distributions along with switching from\nunreliable erlang-solutions that tend to fail periodically.\n\nChange-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec\n(cherry picked from commit 4ab856bfefd07ca5fb39d66c93530e9b7ab0fe76)\n'}]",0,846120,285aee6a615fee0c978a9d84c71e88b14601fabf,9,5,1,28619,,,0,"Use cloudsmith repo for rabbit and erlang

Switch to using cloudsmith repo as a source for rabbitmq and erlang.

This allows us to be consistent about repository that is
used across supported distributions along with switching from
unreliable erlang-solutions that tend to fail periodically.

Change-Id: Ia438ee3b0aa1ba95aff014776e936516b83181ec
(cherry picked from commit 4ab856bfefd07ca5fb39d66c93530e9b7ab0fe76)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/20/846120/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/gpg/A16A4251', 'tasks/install_yum.yml', 'releasenotes/notes/rabbit_cloudsmith-36ccc2f807688f4f.yaml', 'vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/A14F4FCA', 'tasks/install_apt.yml', 'files/gpg/C072C960', 'files/gpg/0A9AF211']",10,285aee6a615fee0c978a9d84c71e88b14601fabf,,-----BEGIN PGP PUBLIC KEY BLOCK----- xsFNBFc6394BEACzae+l1pU31AMhJrRx4BqYv8ZCVUBOeiS3xIcgme1Oq2HSq/Vt x49VPU9xY9ni4GjOU9c9/J9/esuigbctCN7CdR8bqN/srwqmuIPNIS/MvGhNimjO /EUKcZtmJ5fnFk08bzjkyS/ScEzf3jdJadrercoPpbAKWnzCUblX8AdFDyDJhl65 TlSKS9+Sz0tfSdUIa0LpyJHZmLQ4chCy6KbDUAvchM2xUTIEJwx+sL4n/J6yYkZl L90mVi4QEYl1Cajioeg9zxduoUmXq0SR5gQe6VIaXYrIk2gOEMNQL4P/4CKEn9No 1yvUP1+dSYTyvbmF+1pr16xPyNpw3ydmxDX9VxZAEnzPabB8Uortirtt0Dpopufy TJR99dPcKV+BWJtQF6xD30kj8LaDfhyVeB6Bo+L0hhhvnZYWkps8ZJ1swcoBjir7 RDq8hJVqu8YHrzsiFL5Ut/pRkNhrK83GVOxnTndmj/MNboExD3IR/yjCiWNxC9Zu Iaedv2ux+0KrQVTDU7I97x2GDwyiUMnKL7IKWSOTDR4osv5RlJzAovuv2+lZ8sle ZvCEWOGeEYYM1VLDgXhPQdMwyizJ113oobxbqF+InlWq/T9mWmJDLb4wAiha3KKE XJi8wXkJMdRQ0ftM1zKD8qBMukyVndZ6yNQrx3uHAP/Yl2XKPUbtkq/KVQARAQAB zTBSYWJiaXRNUSBSZWxlYXNlIFNpZ25pbmcgS2V5IDxpbmZvQHJhYmJpdG1xLmNv bT7CwXcEEwEKACEFAlc6394CGwMFCwkIBwMFFQoJCAsFFgIDAQACHgECF4AACgkQ a3OjbmAm38qiJQ/+PkS0I+Be1jQINT2F4f8Mwq4Zxcqm4whbg6DH6zkvvqSqXFNB wg7HVsC3qQ9Uh6OPw3dziBHmsOE50DpeqCGjHGacJ/Az/00PHKUn8eJQ/dIB1rla PcSOBUP2CrMLLh9PbP1ZDm2/6gpInyYIRQox8k7j5PnHSVprYAA6tp/11i351WOQ WkuN54482svVRfUEttt0NPLXtXJQl4V1eBt8+J11ZSh0mq2QSTxg211YBY0ugeVx Q0PBIWvrNmcsnBttj5MJ/4L9nFmuemiSS3M9ONjwDBxaiaWCwxFwKXGensNOWeZy bBfbhQxTpOKSNgyk+MymrG5EyI7fVlbmmHEhuYmV4pJadXmW1a9wvRHap/aLR1Aw akFI29CABbnYD3ZXg+DmNqqE6um5Uem2zYr/9hfSL5KuuwawoyW8HV4gKBe+MgW1 n1lECvECt9Bn2VepjIUCv4gfHBDel5v1CXxZpTnHLt8Hsno1qTf6dGvvBYEPyTA+ cAlUeCmfjhBVNQEapUzgW0D7E8JaWHAbJPtwwp/iIO/xqEps3VGOouG+G4GPiABh CP7hYUceecgVAF5g75gcI2mZeXAfbHVdfffZZXSYA7RjOAA1bLOopjq6UvYyIBhe D72feGzkEPtjTpHtqttDFO9ypBEwnJjTpw2uTcBIbc6E7AThaZeEF/JC84bOwU0E Vzrf3gEQAN4Nor5B6nG+Rrb0yzI7Q1sOVM+OD6CdCN4Ic9E3u+pgsfbtRQKRuSNk 8LyPVOpI5rpsJhqGKEDOUWEtb7uyfZxVJ57QhbhIiJTJsFp50mofC58Kb8+vQ4x6 QKdW9dwNSH3+BzwHi6QN+b+ZFifC4J6Hq/1Ebu1b6q7aWjY7dPh2K+XgKTIq6qio 9HFqUTGdj2QM0eLiQ6FDDKH0cMvVqPGDdwJXAYoG5Br6WeYFyoBiygfaKXMVu72d L9YhyeUfGJtrZkRv6zqrkwnjWL7Xu1Rd5gdYXV1QBz3SyBdZYS3MCbvkMLEkBCXr MG4zvReasrkanMANRQyM/XPMS5joO5dDcvL5FDQeOy7+YlznkM5pAar2SLrJDerj VLBvXdCBX4MjsW05t3OPg6ryMId1rHbYXtPslrCm9abox53dUtd16Gp/FSxs2TT3 Wbos0/zel/zOIyj4kcVR3QjplMchlWOAYLYO5VwM1f49/xvFOEMiyb98ameS0fFf 1pNAstLodEDxgXIdzoelxbybYrRLymgDtp3gkf53mhSN1q5Qu+/CQbSChqbcAsT8 qUSdeGkvzR4qKEzDh+dEo4lheNwi7xPZ/kj2RjaKs6jjxUWw9oyqxdGt9IwbRo+0 TV+gLKUv/uj/lVKO5O3alNN37lobLQbF5fFTrp9oXz2eerqAJFI7ABEBAAHCwV8E GAEKAAkFAlc6394CGwwACgkQa3OjbmAm38pltg//W37vxUm6OMmXaKuLtE/G4GsM 7QHD/OIvXZw+HIzyVClsM8v0+DGolOGUQif9HBRZfrgEWHTVeTDkynq3y7hbA2ek XEGvdKMVTt1JqRWgWPP57dAu8aVaJuR6b4HLS0dfavXxnG1K2zunq3eARoOpynUJ RzdG95JjXaLyYd1FGU6WBfyaVEnaZumpo6evG8VcH8fj/h88vhc3qlU+FdP0B8pb 6QQpkqZGJeeiKP/yVFI/wQEqITIs1/STstzNGzIeUnNITjUCm/O2Hy+VmrYeFqFN Y0SSdRriENnbcxOZN4raQfhBToe5wdgovUXCJaaVTd5WMGJX6Gn3GevMaLjO8YlR fcqnD7rAFUGwTKdGRjgc2NbD0L3fB2MoY6SIAhEFbVWp/IExGhF+RTX0GldX/NgY MGvf6onlCRbY6By24I+OJhluD6lFaogGvyar4hPA2PMw2LUjR5sZGHPGd65LtXvi Rn6E1nAJ8CM9g9s6LD5nA9A7m+FEI0rLLVJf9GjgRbyD6QF53AZanwGUoKUPaF+J p6HhVXNWEyc2xV1GQL+9U2/BX6zyzAZPfVeMPOtWIF9ZPqp7nQw9hhzfYWxJRh4U Z90/ErwzKYzZLYZJcPNMSbScPVB/th/nFfI07vQHGzzlrJi+064X5V6BdvKB25qB q67GbYw88+XcrM6R+Uk= =94II -----END PGP PUBLIC KEY BLOCK----- ,,130,127
openstack%2Ftempest~master~I5c6d9afa1148772537d69a2a3321fcf32ad7eea5,openstack/tempest,master,I5c6d9afa1148772537d69a2a3321fcf32ad7eea5,Make test_server_actions.resource_setup() wait for SSHABLE,MERGED,2022-05-24 14:50:37.000000000,2022-06-16 13:33:23.000000000,2022-06-16 13:31:07.000000000,"[{'_account_id': 8367}, {'_account_id': 11075}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-05-24 14:50:37.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/34ea7e9e0420b96aff4a44b5f230413ca941939b', 'message': ""Make test_server_actions.resource_setup() wait for SSHABLE\n\nContinuing the work of 4fc47f68c7710ccfb67c3ad28a58e047a8b51c1a, we\nmissed a spot in the recreate_server() call from resource_setup().\nStart passing wait_until='SSHABLE' in that call.\n\nChange-Id: I5c6d9afa1148772537d69a2a3321fcf32ad7eea5\n""}]",15,843155,34ea7e9e0420b96aff4a44b5f230413ca941939b,20,4,1,8864,,,0,"Make test_server_actions.resource_setup() wait for SSHABLE

Continuing the work of 4fc47f68c7710ccfb67c3ad28a58e047a8b51c1a, we
missed a spot in the recreate_server() call from resource_setup().
Start passing wait_until='SSHABLE' in that call.

Change-Id: I5c6d9afa1148772537d69a2a3321fcf32ad7eea5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/843155/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,34ea7e9e0420b96aff4a44b5f230413ca941939b,wait_until_sshable_pingable," cls.server_id = cls.recreate_server(None, validatable=True, wait_until='SSHABLE')"," cls.server_id = cls.recreate_server(None, validatable=True)",2,1
openstack%2Fneutron~stable%2Fvictoria~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/victoria,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-16 06:23:25.000000000,2022-06-16 13:32:49.000000000,2022-06-16 13:31:14.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-16 06:23:25.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eecfddb06dc88337252498dd8a5937dc3de02d87', 'message': '[OVN]Any string type dhcp options should be quoted\n\nAny dhcp option[1] which value is string type in ovn\nshould be added quotes, otherwise it would be regard\nas constant.\n\n[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116\n\nCloses-Bug: #1946764\nChange-Id: Id174cd944c3b883b749046bc49d00e011eb891fe\n(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)\n(cherry picked from commit f1e7d20b01e452efc234b1f169ee356333adf499)\n'}]",0,846114,eecfddb06dc88337252498dd8a5937dc3de02d87,8,3,1,13861,,,0,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
(cherry picked from commit f1e7d20b01e452efc234b1f169ee356333adf499)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/846114/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",5,eecfddb06dc88337252498dd8a5937dc3de02d87,bug/1946764-stable/yoga-stable/xena-stable/wallaby-stable/victoria,"# OVN string type DHCP options OVN_STR_TYPE_DHCP_OPTS = [ 'domain_name', 'bootfile_name', 'path_prefix', 'wpad', 'tftp_server'] ",,24,9
openstack%2Frequirements~master~Ieb57695815b5dd1478b8be5e878fb162de33d8fd,openstack/requirements,master,Ieb57695815b5dd1478b8be5e878fb162de33d8fd,Updated from generate-constraints,MERGED,2022-06-15 02:46:15.000000000,2022-06-16 13:32:29.000000000,2022-06-16 13:31:10.000000000,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 02:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/671874f5a779e57ab7260edf826b9aa30831dd53', 'message': 'Updated from generate-constraints\n\nChange-Id: Ieb57695815b5dd1478b8be5e878fb162de33d8fd\n'}, {'number': 2, 'created': '2022-06-15 03:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b1c4d9a6206cabd25456abe20c80f1c82c53e2e4', 'message': 'Updated from generate-constraints\n\nChange-Id: Ieb57695815b5dd1478b8be5e878fb162de33d8fd\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-06-16 07:28:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/33a0385bbac3bd506593dd5479b5efb2565673ca', 'message': 'Updated from generate-constraints\n\nChange-Id: Ieb57695815b5dd1478b8be5e878fb162de33d8fd\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,845871,33a0385bbac3bd506593dd5479b5efb2565673ca,15,3,3,11131,,,0,"Updated from generate-constraints

Change-Id: Ieb57695815b5dd1478b8be5e878fb162de33d8fd
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/845871/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,671874f5a779e57ab7260edf826b9aa30831dd53,openstack/requirements/constraints/noclob2,rcssmin===1.1.0fixtures===4.0.0moto===3.1.13networkx===2.8.4zeroconf===0.38.7pyghmi===1.5.47pyroute2.nftables===0.6.12pyroute2===0.6.12 google-auth===2.8.0pyroute2.ethtool===0.6.12cryptography===37.0.2pkg_resources===0.0.0django-compressor===4.0google-api-python-client===2.51.0boto3===1.24.9Sphinx===5.0.1botocore===1.27.9pyroute2.nslink===0.6.12pyroute2.ndb===0.6.12pyroute2.core===0.6.12pyroute2.ipdb===0.6.12pyroute2.ipset===0.6.12rjsmin===1.2.0Babel===2.10.2,rcssmin===1.0.6fixtures===3.0.0moto===3.1.12networkx===2.8.3zeroconf===0.38.6pyghmi===1.5.45pyroute2.nftables===0.6.9pyroute2===0.6.9 google-auth===2.7.0pyroute2.ethtool===0.6.9cryptography===36.0.2django-compressor===2.4.1google-api-python-client===2.50.0boto3===1.24.7Sphinx===4.5.0botocore===1.27.7pyroute2.nslink===0.6.9pyroute2.ndb===0.6.9pyroute2.core===0.6.9pyroute2.ipdb===0.6.9pyroute2.ipset===0.6.9rjsmin===1.1.0Babel===2.10.1,24,23
openstack%2Fopenstack-ansible~master~I5c770171102092f9c2ecf9d664c06695509cc615,openstack/openstack-ansible,master,I5c770171102092f9c2ecf9d664c06695509cc615,Bump SHA for pacemaker-corosync role,MERGED,2022-06-15 14:07:03.000000000,2022-06-16 13:25:48.000000000,2022-06-16 13:23:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 14:07:03.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d132d37669cbf7f91c300bf625086caa48c52203', 'message': 'Bump SHA for pacemaker-corosync role\n\nThis adds support for centos-9\n\nChange-Id: I5c770171102092f9c2ecf9d664c06695509cc615\n'}]",0,845994,d132d37669cbf7f91c300bf625086caa48c52203,8,3,1,25023,,,0,"Bump SHA for pacemaker-corosync role

This adds support for centos-9

Change-Id: I5c770171102092f9c2ecf9d664c06695509cc615
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/845994/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,d132d37669cbf7f91c300bf625086caa48c52203,, version: dacff1ed6ede207b8afcbfff5e990d875580893b, version: 70d3c59efea4c3080fa66aeef75eadd0a032a83e,1,1
openstack%2Fcinder-specs~master~I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae,openstack/cinder-specs,master,I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae,Replication disable reason for replication backend,ABANDONED,2021-08-11 06:26:19.000000000,2022-06-16 13:22:46.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32036}, {'_account_id': 32075}]","[{'number': 1, 'created': '2021-08-11 06:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/9c23c74d754eeba673752e2babe20f06fb1a4ff1', 'message': 'Replication disable reason for replication backend\n\nImplements: https://blueprints.launchpad.net/cinder/+spec/replication-diasabled-reason\nChange-Id: I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae\n'}, {'number': 2, 'created': '2021-08-24 07:53:24.000000000', 'files': ['specs/xena/replication_disabled_reason.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/d1ecd6130033aa46e2178240754b9f45b7519196', 'message': 'Replication disable reason for replication backend\n\nImplements: https://blueprints.launchpad.net/cinder/+spec/replication-diasabled-reason\nChange-Id: I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae\n'}]",22,804204,d1ecd6130033aa46e2178240754b9f45b7519196,10,12,2,32171,,,0,"Replication disable reason for replication backend

Implements: https://blueprints.launchpad.net/cinder/+spec/replication-diasabled-reason
Change-Id: I6bf5bfe51634642226ec0d6e5d0c040eb32a71ae
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/04/804204/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/replication_disabled_reason.rst'],1,9c23c74d754eeba673752e2babe20f06fb1a4ff1,bp/s,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================= Replication disabled reason for replication enabled backends. ============================================================= URL of launchpad blueprint: https://blueprints.launchpad.net/cinder/+spec/replication-diasabled-reason Problem description =================== For replication enabled backends at the time of intialization any of the site may go down because of some reason. The existing behavior of cinder is on the replication status is set to disabled and user doesn't know why the backend is diabled. Need some way to give the information to user. Use Cases ========= use case is user is trying to initialize the replication backend which consists of primary site and secondary site. During initialization any of the site may go down because of some and user needs some message why the replication is disabled. Proposed change =============== Intorduce the new field in service to store the replication disabled reason and disabled reason when ever the user uses ""--withreplication"" option with ""cinder service-list"" command. Modify the ""cinder/volume/manager.py"" file to update the disbaled reason only for replicaion enabled backed. Get the disabled_reason from the stats of backend and update the reason in service if ""replication_status"" is disabled. Alternatives ------------ None Data model impact ----------------- New field will be added into cinder service database. REST API impact --------------- None Security impact --------------- None Active/Active HA impact ----------------------- None Notifications impact -------------------- None Other end user impact --------------------- None. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: Girish Other contributors: Core reviewers, katkumar, amar7ibm Work Items ---------- None. Dependencies ============ None. Testing ======= 1. Initialize the replication enabled backends and check all the attributes are updated correctly. 2. After the successfull initialization of replication enabled backend verify the replication related the features. 3. If any of the site is down during initialization verify disabled reason is updated and also verify the verify supported replication related features. Documentation Impact ==================== New fields/attributes will be added to service database and document needs to updated regarding this updated fields. References ========== None. ",,140,0
openstack%2Fopenstack-ansible-os_glance~master~Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6,openstack/openstack-ansible-os_glance,master,Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6,Support service tokens,MERGED,2021-12-27 13:06:02.000000000,2022-06-16 13:22:43.000000000,2022-06-16 13:21:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-27 13:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/d10813601effe3779c26c3e88ad2a45bb93c12fe', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 2, 'created': '2021-12-27 13:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/c0b90244276e1f00b148a09ba55ff6c3ad590cd5', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 3, 'created': '2021-12-27 13:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/4db3a3749ebb63c99cb017dd52940739aba8cdd8', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/822998\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 4, 'created': '2021-12-27 13:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/25356408f35401b0062e43f0732547c4e7ed0f64', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/822998\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 5, 'created': '2021-12-27 17:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/65a686ae2f72c262391dbaa2490322472eddcbfb', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/822998\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 6, 'created': '2021-12-27 17:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/cc60aa5ea571553e63dd874c034d819e8ce32bfc', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/822998\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 7, 'created': '2022-04-04 11:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/051ebe6b28943c0654d27daaedeed54493351dd8', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-python_venv_build/+/822998\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 8, 'created': '2022-06-14 06:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/db5a82e757ad131186de18c9ae15dbccfa3f02c4', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\nAlso new variable _service_token_roles is introduced that\ncontrolls which roles are considered as trusted once verification\nis required.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 9, 'created': '2022-06-14 07:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6a8cf06f595595322c9f7f8a1888150b5e9093d9', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}, {'number': 10, 'created': '2022-06-14 14:36:52.000000000', 'files': ['tasks/main.yml', 'templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/fc6f34219426594c7c48229e2fe8fdd76511d7cd', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6\nRelated-Bug: #1948456\n'}]",4,823009,fc6f34219426594c7c48229e2fe8fdd76511d7cd,34,4,10,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ib7fd1a80affe0fa8c6b030fdbfdd60693f104cd6
Related-Bug: #1948456
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/09/823009/9 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/glance-api.conf.j2', 'defaults/main.yml', 'vars/main.yml']",4,d10813601effe3779c26c3e88ad2a45bb93c12fe,osa/service_tokens,"_glance_service_users: | {% set users = [{ 'name': {{ glance_service_user_name }}, 'password': {{ glance_service_password }}, }] %} {% for role in glance_service_role_names %} {% set _ = users.append({ 'name': glance_service_user_name, 'role': role }) %} {% endfor %} {{ users }}",,27,6
openstack%2Fcinder-specs~master~I20e1633a3a51f81a213f15007738b862fdb16374,openstack/cinder-specs,master,I20e1633a3a51f81a213f15007738b862fdb16374,Migration support for a volume with replication status enabled,ABANDONED,2020-12-09 05:33:18.000000000,2022-06-16 13:22:11.000000000,,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-09 05:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/375740de9e9264c2fedd28814cbcd9fa1e4d86ad', 'message': 'Migration support for a volume with replication status enabled\n\nChange-Id: I20e1633a3a51f81a213f15007738b862fdb16374\n'}, {'number': 2, 'created': '2020-12-09 09:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/78726141a0a1d41d4b228d0ba052908e241d1eba', 'message': 'Migration support for a volume with replication status enabled\n\nImplements: https://blueprints.launchpad.net/cinder/+spec/support-to-migrate-replicated-volumes\nChange-Id: I20e1633a3a51f81a213f15007738b862fdb16374\n'}, {'number': 3, 'created': '2021-06-07 11:17:59.000000000', 'files': ['specs/wallaby/replicated_volume_migration.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/b9d4456bcec6c05bed466f4ae53e7339dbd4eb65', 'message': 'Migration support for a volume with replication status enabled\n\nImplements: https://blueprints.launchpad.net/cinder/+spec/support-to-migrate-replicated-volumes\nChange-Id: I20e1633a3a51f81a213f15007738b862fdb16374\n'}]",16,766130,b9d4456bcec6c05bed466f4ae53e7339dbd4eb65,17,4,3,32075,,,0,"Migration support for a volume with replication status enabled

Implements: https://blueprints.launchpad.net/cinder/+spec/support-to-migrate-replicated-volumes
Change-Id: I20e1633a3a51f81a213f15007738b862fdb16374
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/30/766130/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/replicated_volume_migration.rst'],1,375740de9e9264c2fedd28814cbcd9fa1e4d86ad,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================================================== Migration support for a volume with replication status enabled ============================================================== https://blueprints.launchpad.net/cinder/+spec/support-to-migrate-replicated-volumes Problem description =================== Currently, the end user can only migrate non-replicated volumes but not the replicated volumes from one pool to another of same backend. Even if we could allow this feature basing on driver:extra-spec this could effect other backends as the code changes are done at API-level. FYI : https://review.opendev.org/#/c/747425/11 So, API should have a better mechanism to check if the given backend has a capability to allow migartion of replicated-volumes and driver should have the control for proposed feature(migration of replicated volumes) ========= Use Cases ========= To migrate a volume from one pool to another of same backend with replication status as enabled. Proposed change =============== There are three things need to be mentioned: 1.The operator has to set things up correctly, so if the operator offers a volume type that is replicated, then it's the operator's responsibility to make sure that volume type is mapped to a backend that is set up to do replication. 2.If we could come up with a way to report the backend info(which includes replication capability)back to cinder-API(cinder/volume/api.py). We could then migrate the volume safely basing on the capability check info that we got from backend. 3.At the driver side, we need to have a control to allow or not to allow the proposed feature from thier respective driver-configuration. Alternatives ------------ none Data model impact ----------------- none REST API impact --------------- none Security impact --------------- none Active/Active HA impact ----------------------- none Notifications impact -------------------- none Other end user impact --------------------- none Performance Impact ------------------ none Other deployer impact --------------------- none Developer impact ---------------- none Implementation ============== Assignee(s) ----------- amar7ibm Work Items ---------- none Dependencies ============ none Testing ======= 1.Manually test different corner cases whether migrate is happening when the proposed mechanism works i.e, reporting the backend info to API-level. 2.Some UT changes need to be done with respective to the proposed feature. Documentation Impact ==================== none References ========== We could follow the multiattach implementation for this spec proposal https://specs.openstack.org/openstack/cinder-specs/specs/queens/enable-multiattach.html ",,139,0
openstack%2Fcinder-specs~master~If5ef8f64f56e4fd1e377967b479ecde4e8385e3d,openstack/cinder-specs,master,If5ef8f64f56e4fd1e377967b479ecde4e8385e3d,Add provider_metadata spec,ABANDONED,2021-03-10 20:07:24.000000000,2022-06-16 13:21:46.000000000,,"[{'_account_id': 5314}, {'_account_id': 13425}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 20:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ffa9239279f90d847f04e69b95ad8e9cbc205448', 'message': 'Add provider_metadata spec\n\nChange-Id: If5ef8f64f56e4fd1e377967b479ecde4e8385e3d\n'}, {'number': 2, 'created': '2021-03-10 21:15:25.000000000', 'files': ['specs/xena/provider_metadata.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/4cc45cebd7ac7ac21e131a3321417d349fc3b462', 'message': 'Add provider_metadata spec\n\nChange-Id: If5ef8f64f56e4fd1e377967b479ecde4e8385e3d\n'}]",8,779855,4cc45cebd7ac7ac21e131a3321417d349fc3b462,10,3,2,5997,,,0,"Add provider_metadata spec

Change-Id: If5ef8f64f56e4fd1e377967b479ecde4e8385e3d
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/55/779855/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/provider_metadata.rst'],1,ffa9239279f90d847f04e69b95ad8e9cbc205448,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Vendor/driver Provider metadata ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/cinder/+spec/example This spec discusses the idea of allowing drivers to store backend volume metadata information into the cinder DB and also make that metadata available to admins/deployers. Problem description =================== Currently in cinder there are multiple places where various vendors store information needed by the driver's operation at various times that are specific to the driver itself. There is volume.provider_id, volume.provider_location, volume.admin_metadata. provider_id and provider_location are used sometimes during replication setup. volume.volume_admin_metadata and volume.admin_metadata are used by the volume manager, scheduler to store some private fields and is also accessed and set by the ibm driver via a direct db call. The volume manager currently has a concept of synchronizing provider information at init_host() time for all volumes and snapshots. But the only information stored is provider_id. Both solidfire and pure storage drivers concatonate limited information as part of provider_id, but the provider_id field is limited in size (255 chars in a single db column in the volumes table) Use Cases ========= As an operator/deployer some of this information I want to see without looking into the db manually. I've had times where we have lost track of volumes on our backend, and cinder was the only record of the volume entry. Getting access to the required information from the cinder db is via db sql queries only, since none of the entries described are available in volume show commands or the API. If the driver was able to store relevant data into the cinder db, then it might be possible to recover lost volumes when cinder is the only reliable source of information. Proposed change =============== Drivers need a central location that can store deployer only information about each volume. A new table called provider_metadata would fit that bill. A drive can return model_update dictionaries in all the existing manager to driver api calls, and return a 'provider_metadata' dict as part of the model_update. The volume object would be updated to store that provider_metadata dict as key/value pairs into the provider_metadata DB table. The cinder API would be modified to include all lof the provider_metadata fields when the user requesting the information is an admin context. Non admin context users would not be allowed to view the provider_metadata fields. Alternatives ------------ The volumes.admin_metadata would also work, but there are some fields in the admin_metadata that are used for various cinder internal functions to track a volume's readonly attribute. So there is a potential for key conflicts that might not be future proof. Currently the API only allows 2 specific keys to be returned as part of the admin_metadata. So, any provider related fields will always be filtered out. Data model impact ----------------- Would need a new DB table to track the provider_metadata. This table would look exactly like the admin_metadata field and would be updated/managed in the same way, via the cinder volume object. Since this is a new table, for driver specific fields, there is no migration needed, other than to create the table. Existing volumes wouldn't have any provider_metadata, but the driver could detect that and provide a model_update dictionary as part of ensure_export() call, which is called by the volume manager at cinder volume service startup. REST API impact --------------- The only change to the API would be to include the provider_metadata on cinder volume gets if and only if the user calling the API is an admin. * microversion bump The cinder/api/schemas/volumes.py would be updated to include the new field:: 'volume': { ... 'properties': { ... 'provider_metadata': parameter_types.metadata_allows_null, } } Security impact --------------- Drivers should not use this field to store usernames, passwords to access their storage backend. Active/Active HA impact ----------------------- None Notifications impact -------------------- None Other end user impact --------------------- End users would not see the new provider_metadata Performance Impact ------------------ A small impact here just to store/load the provider_metadata keys for a volume. Other deployer impact --------------------- Deployer (as admin) Would be able to see the provider metadata stored along with each volume. Developer impact ---------------- A volume driver would be able to provide a model_update dictionary that includes any vendor specific data as key/value pairs. model_update dicts can be already be returned in the following driver api calls: * create_volume * create_snapshot * create_export * initialize_connection * initialize_connection_snapshot * accept_transfer * migrate_volume * get_replication_error_status * retype * create_group * create_group_from_src * delete_group * update_group Implementation ============== Assignee(s) ----------- Primary assignee: <walter-boring> Work Items ---------- * Add provider_metadata DB table * Add provider_metadata save/load from volume object * Add policy * Add policy authorized call to add provider_metadata to volume dict in the API Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ None Testing ======= Have to add unit tests to ensure provider_metadata dict exists when the user is an admin. Also ensure that non admins don't see the provider_metadata Documentation Impact ==================== None References ========== * volume_admin_metadata is partially added to volume return REST api here: https://github.com/openstack/cinder/blob/master/cinder/api/api_utils.py#L68-L71 * sync_provider_info already exists here: https://github.com/openstack/cinder/blob/master/cinder/volume/manager.py#L382 ",,219,0
openstack%2Fcinder-specs~master~I5252f05f027216bce890c93b32d6248e7729fa39,openstack/cinder-specs,master,I5252f05f027216bce890c93b32d6248e7729fa39,Moving to using the database to get information for the scheduler,ABANDONED,2018-03-26 13:55:00.000000000,2022-06-16 13:18:39.000000000,,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7166}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 13425}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 28743}]","[{'number': 1, 'created': '2018-03-26 13:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/b4e7113ec3a8efa79f2bf518fc79ae2ea3cf687d', 'message': 'Moving to using the database to get information for the scheduler\n\nRelated blueprint: using-db-in-scheduler\n\nChange-Id: I5252f05f027216bce890c93b32d6248e7729fa39\n'}, {'number': 2, 'created': '2018-03-26 14:50:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ad61343372b41f30089d78c5e2a64f1ad60ce359', 'message': 'Moving to using the database to get information for the scheduler\n\nRelated blueprint: using-db-in-scheduler\n\nChange-Id: I5252f05f027216bce890c93b32d6248e7729fa39\n'}, {'number': 3, 'created': '2019-06-26 10:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/552d9f4c11589d46ba463f7685099bed932de5cd', 'message': 'Moving to using the database to get information for the scheduler\n\nRelated blueprint: using-db-in-scheduler\n\nChange-Id: I5252f05f027216bce890c93b32d6248e7729fa39\n'}, {'number': 4, 'created': '2019-06-26 20:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/3dceb442954cc9c86f9e103cca191beeb625d520', 'message': 'Moving to using the database to get information for the scheduler\n\nRelated blueprint: using-db-in-scheduler\n\nChange-Id: I5252f05f027216bce890c93b32d6248e7729fa39\n'}, {'number': 5, 'created': '2019-06-26 20:25:32.000000000', 'files': ['specs/train/persistent-scheduler.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/e6ffda54063badba29a769226ee2c5dde55adfc1', 'message': 'Moving to using the database to get information for the scheduler\n\nRelated blueprint: using-db-in-scheduler\n\nChange-Id: I5252f05f027216bce890c93b32d6248e7729fa39\n'}]",23,556529,e6ffda54063badba29a769226ee2c5dde55adfc1,34,15,5,1736,,,0,"Moving to using the database to get information for the scheduler

Related blueprint: using-db-in-scheduler

Change-Id: I5252f05f027216bce890c93b32d6248e7729fa39
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/29/556529/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/using-db-in-scheduler.rst'],1,b4e7113ec3a8efa79f2bf518fc79ae2ea3cf687d,bp/using-db-in-scheduler,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================= Moving to using the database to get information for the scheduler ================================================================= https://blueprints.launchpad.net/cinder/+spec/using-db-in-scheduler The purpose of this spec is to address HA issues in scheduler changing it to use infromation from the DB. Problem description =================== Current scheduler implementation is racy. If you have several scheduler services to acive HA schedulers don't know anything about other instances and actions. E.g.: if you have multiple schedulers (like 3) each one will think it has 100 GB of space. If you create 3, 100 GB spaces you can allocated 300 GB when you really only had 100. Use Cases ========= To be able to deploy several Cinder Scheduler services in a HA mode. Proposed change =============== We should keep our capabilities in the database like we do for Quotas and use this information during resource creation. Scheduler shoud read capabilities and capacity values from the database and use them during volumes and backups sheduling. Alternatives ------------ We can use some DLM during resuorce creation in a scheduler and notify others with new capacity value after creation. In such case, each scheduler service should know about others or request capacity values from each backend to be sure that we use only available resources Data model impact ----------------- New tebles will be created to store reuired data. TBD. REST API impact --------------- None Security impact --------------- None Active/Active HA impact ----------------------- Cinder Scheduler will work on the HA mode Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Due to the DB operations scheduler will bork slower mostly on creating flow. Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Ivan Kolodyazhny <e0ne@e0ne.info> Other contributors: <launchpad-id or None> Work Items ---------- * Implement new logic in a scheduler * Implement DB migrations * Unit-tests Dependencies ============ None Testing ======= Unit tests and current devstack-based jpbs will be enough to test these changes. Documentation Impact ==================== TDB. References ========== * https://etherpad.openstack.org/p/cinder-ptg-rocky-friday ",,138,0
openstack%2Fopenstack-ansible~master~I2bca89c7d6cd431a80c2869559ea1d7bb6994634,openstack/openstack-ansible,master,I2bca89c7d6cd431a80c2869559ea1d7bb6994634,[DNM] test 845987,ABANDONED,2022-06-15 14:26:58.000000000,2022-06-16 12:40:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-15 14:26:58.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4cf206ce8db51748e5a1d1ec50c687c5f380aaaf', 'message': '[DNM] test 845987\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845987\nChange-Id: I2bca89c7d6cd431a80c2869559ea1d7bb6994634\n'}]",0,845997,4cf206ce8db51748e5a1d1ec50c687c5f380aaaf,3,1,1,32666,,,0,"[DNM] test 845987

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845987
Change-Id: I2bca89c7d6cd431a80c2869559ea1d7bb6994634
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/845997/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,4cf206ce8db51748e5a1d1ec50c687c5f380aaaf,,,,0,0
openstack%2Fopenstack-ansible-os_senlin~master~If5c0d4e78760f89e8ce915d0dc72e92a9dd09f73,openstack/openstack-ansible-os_senlin,master,If5c0d4e78760f89e8ce915d0dc72e92a9dd09f73,Support service tokens,MERGED,2022-06-15 17:18:12.000000000,2022-06-16 12:37:08.000000000,2022-06-16 12:35:51.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 17:18:12.000000000', 'files': ['tasks/main.yml', 'templates/senlin.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_senlin/commit/29622374ed05fdf41b3b0de97efdfe16e3549017', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: If5c0d4e78760f89e8ce915d0dc72e92a9dd09f73\n'}]",0,846043,29622374ed05fdf41b3b0de97efdfe16e3549017,11,5,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: If5c0d4e78760f89e8ce915d0dc72e92a9dd09f73
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_senlin refs/changes/43/846043/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/senlin.conf.j2', 'defaults/main.yml']",3,29622374ed05fdf41b3b0de97efdfe16e3549017,osa/service_tokens,"senlin_service_role_names: - admin - service senlin_service_token_roles: - service senlin_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",senlin_service_role_name: admin,11,2
openstack%2Fopenstack-ansible-os_heat~master~Ib5d15aaf56112a776e2b9abb2396f9ea4f4fe319,openstack/openstack-ansible-os_heat,master,Ib5d15aaf56112a776e2b9abb2396f9ea4f4fe319,Support service tokens,MERGED,2022-06-15 16:23:29.000000000,2022-06-16 12:35:19.000000000,2022-06-16 12:33:59.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 16:23:29.000000000', 'files': ['templates/heat.conf.j2', 'tasks/heat_service_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/1d39c7ab4456301ee5de87d811d4bdd8da4466a8', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: Ib5d15aaf56112a776e2b9abb2396f9ea4f4fe319\n'}]",0,846029,1d39c7ab4456301ee5de87d811d4bdd8da4466a8,11,5,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: Ib5d15aaf56112a776e2b9abb2396f9ea4f4fe319
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/29/846029/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/heat.conf.j2', 'tasks/heat_service_setup.yml', 'defaults/main.yml']",3,1d39c7ab4456301ee5de87d811d4bdd8da4466a8,osa/service_tokens,"heat_service_role_names: - admin - service heat_service_token_roles: - service heat_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",heat_service_role_name: admin,11,2
openstack%2Fopenstack-ansible-os_nova~master~I04b22722b32b6dc8b1dc95e18c3fe96ad17e51ac,openstack/openstack-ansible-os_nova,master,I04b22722b32b6dc8b1dc95e18c3fe96ad17e51ac,Support service tokens,MERGED,2022-06-15 09:08:57.000000000,2022-06-16 12:30:59.000000000,2022-06-16 12:29:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 09:08:57.000000000', 'files': ['tasks/main.yml', 'templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c36fdaa960c7a31b7d86b4f684babd1bc0fe8ee9', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I04b22722b32b6dc8b1dc95e18c3fe96ad17e51ac\n'}]",0,845903,c36fdaa960c7a31b7d86b4f684babd1bc0fe8ee9,10,4,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I04b22722b32b6dc8b1dc95e18c3fe96ad17e51ac
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/03/845903/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/nova.conf.j2', 'defaults/main.yml']",3,c36fdaa960c7a31b7d86b4f684babd1bc0fe8ee9,osa/service_tokens,"nova_service_role_names: - admin - service nova_service_token_roles: - service nova_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""","nova_service_role_name: ""admin""",11,2
openstack%2Fopenstack-ansible-os_designate~master~I7eafa6b989a2fd726369b3959b5e6ba024b82274,openstack/openstack-ansible-os_designate,master,I7eafa6b989a2fd726369b3959b5e6ba024b82274,Support service tokens,MERGED,2022-06-15 16:19:38.000000000,2022-06-16 12:29:59.000000000,2022-06-16 12:28:27.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 16:19:38.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/50ee7fe8a96cfdaea0c0cb93d4245965ffd53101', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I7eafa6b989a2fd726369b3959b5e6ba024b82274\n'}]",0,846026,50ee7fe8a96cfdaea0c0cb93d4245965ffd53101,11,5,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I7eafa6b989a2fd726369b3959b5e6ba024b82274
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/26/846026/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'templates/designate.conf.j2']",3,50ee7fe8a96cfdaea0c0cb93d4245965ffd53101,osa/service_tokens,"service_token_roles_required = {{ designate_service_token_roles_required | bool }} service_token_roles = {{ designate_service_token_roles | join(',') }} service_type = {{ designate_service_type }} ",,11,5
openstack%2Fopenstack-ansible-os_cinder~master~I1d0156a2ad829aa730419e1d9dfa1cd49026a6be,openstack/openstack-ansible-os_cinder,master,I1d0156a2ad829aa730419e1d9dfa1cd49026a6be,Support service tokens,MERGED,2022-06-14 09:30:40.000000000,2022-06-16 12:29:19.000000000,2022-06-16 12:28:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-14 09:30:40.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml', 'templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/f755eadadfddfbea471fe80df66b41f140d9db2e', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I1d0156a2ad829aa730419e1d9dfa1cd49026a6be\nRelated-Bug: #1948456\n'}]",1,845717,f755eadadfddfbea471fe80df66b41f140d9db2e,14,4,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I1d0156a2ad829aa730419e1d9dfa1cd49026a6be
Related-Bug: #1948456
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/17/845717/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml', 'templates/cinder.conf.j2']",3,f755eadadfddfbea471fe80df66b41f140d9db2e,osa/service_tokens,"service_token_roles_required = {{ cinder_service_token_roles_required | bool }} service_token_roles = {{ cinder_service_token_roles | join(',') }} service_type = {{ cinder_service_type }} ",,11,2
openstack%2Fopenstack-ansible-os_blazar~master~I3a1c2d87a39eaf342411f3b607bc909f924944cb,openstack/openstack-ansible-os_blazar,master,I3a1c2d87a39eaf342411f3b607bc909f924944cb,Support service tokens,MERGED,2022-06-15 15:43:58.000000000,2022-06-16 12:28:14.000000000,2022-06-16 12:26:50.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 15:43:58.000000000', 'files': ['tasks/main.yml', 'templates/blazar.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/711160baeac765eaa6248d9ffad0a8011349520e', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I3a1c2d87a39eaf342411f3b607bc909f924944cb\n'}]",0,846015,711160baeac765eaa6248d9ffad0a8011349520e,11,5,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I3a1c2d87a39eaf342411f3b607bc909f924944cb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/15/846015/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/blazar.conf.j2', 'defaults/main.yml']",3,711160baeac765eaa6248d9ffad0a8011349520e,osa/service_tokens,"blazar_service_role_names: - admin - service blazar_service_token_roles: - service blazar_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",blazar_role_name: admin,10,2
openstack%2Fopenstack-ansible-os_tacker~master~I9fa323e544849f7c24ccd7b860160bb5756ada28,openstack/openstack-ansible-os_tacker,master,I9fa323e544849f7c24ccd7b860160bb5756ada28,Support service tokens,MERGED,2022-06-15 17:41:08.000000000,2022-06-16 12:27:20.000000000,2022-06-16 12:26:06.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 17:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/d8ddfe14475fb58e430e475026feac017f21321b', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I9fa323e544849f7c24ccd7b860160bb5756ada28\n'}, {'number': 2, 'created': '2022-06-15 17:42:11.000000000', 'files': ['tasks/main.yml', 'templates/tacker.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/0e27d6a3a1e8232ffa4ddfa818e4c37c3b4b3c0a', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I9fa323e544849f7c24ccd7b860160bb5756ada28\n'}]",0,846050,0e27d6a3a1e8232ffa4ddfa818e4c37c3b4b3c0a,12,5,2,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I9fa323e544849f7c24ccd7b860160bb5756ada28
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/50/846050/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/tacker.conf.j2', 'defaults/main.yml']",3,d8ddfe14475fb58e430e475026feac017f21321b,osa/service_tokens,"tacker_service_role_names: - admin - service tacker_service_token_roles: - service tacker_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",tacker_role_name: admin,10,4
openstack%2Fopenstack-ansible-os_barbican~master~I6a5e16a4fc2a81dedc4bc459f13ac7781292f5a8,openstack/openstack-ansible-os_barbican,master,I6a5e16a4fc2a81dedc4bc459f13ac7781292f5a8,Support service tokens,MERGED,2022-06-15 15:40:16.000000000,2022-06-16 12:26:45.000000000,2022-06-16 12:25:19.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 15:40:16.000000000', 'files': ['templates/barbican.conf.j2', 'tasks/main.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/cb6c38ab92e8f9df1b7e22e50286e62e7904963e', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I6a5e16a4fc2a81dedc4bc459f13ac7781292f5a8\n'}]",0,846013,cb6c38ab92e8f9df1b7e22e50286e62e7904963e,11,5,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I6a5e16a4fc2a81dedc4bc459f13ac7781292f5a8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/13/846013/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/barbican.conf.j2', 'tasks/main.yml', 'defaults/main.yml', 'vars/main.yml']",4,cb6c38ab92e8f9df1b7e22e50286e62e7904963e,osa/service_tokens,," barbican_service_users: |- {% set users = [{ 'name': barbican_service_user_name, 'password': barbican_service_password }] %} {% for role in barbican_default_role_names %} {% set _ = users.append({'role': role}) %} {% endfor %} {% for user_role in barbican_service_role_names %} {% set _ = users.append({ 'name': barbican_service_user_name, 'role': user_role }) %} {% endfor %} {{ users }}",13,19
openstack%2Fopenstack-ansible-os_trove~master~I7b01de89b459b4992ed9531e6c81259af21ba997,openstack/openstack-ansible-os_trove,master,I7b01de89b459b4992ed9531e6c81259af21ba997,Support service tokens,MERGED,2022-06-15 17:37:10.000000000,2022-06-16 12:25:48.000000000,2022-06-16 12:23:42.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 17:37:10.000000000', 'files': ['tasks/main.yml', 'templates/trove.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/3ddd45d335cc930697b4fda687878457b84cea9c', 'message': 'Support service tokens\n\nImplement support for service_tokens. For that we convert\nrole_name to be a list along with renaming corresponding variable.\n\nAdditionally service_type is defined now for keystone_authtoken which\nenables to validate tokens with restricted access rules\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690\nChange-Id: I7b01de89b459b4992ed9531e6c81259af21ba997\n'}]",0,846049,3ddd45d335cc930697b4fda687878457b84cea9c,11,5,1,28619,,,0,"Support service tokens

Implement support for service_tokens. For that we convert
role_name to be a list along with renaming corresponding variable.

Additionally service_type is defined now for keystone_authtoken which
enables to validate tokens with restricted access rules

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-plugins/+/845690
Change-Id: I7b01de89b459b4992ed9531e6c81259af21ba997
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/49/846049/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/trove.conf.j2', 'defaults/main.yml']",3,3ddd45d335cc930697b4fda687878457b84cea9c,osa/service_tokens," - service trove_service_token_roles: - service trove_service_token_roles_required: ""{{ openstack_service_token_roles_required | default(True) }}""",,12,6
openstack%2Fkayobe-config~stable%2Fstein~I0106963122f9369cf27b4884ce3255b916d7a5d4,openstack/kayobe-config,stable/stein,I0106963122f9369cf27b4884ce3255b916d7a5d4,Add kayobe as a dependency,ABANDONED,2019-09-20 14:06:07.000000000,2022-06-16 12:21:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-20 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/1d38fae9456c9df961ed7233b959045df8d0e266', 'message': 'Add kayobe as a dependency\n\nThis is the first step in describing a kayobe enviroment within a kayobe\nconfig repository.\n\nChange-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4\nStory: 2005488\nTask: 30588\n'}, {'number': 2, 'created': '2019-09-20 14:07:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/96300cffefc3c8a4ca42961976301111dcb85194', 'message': 'Add kayobe as a dependency\n\nThis is the first step in describing a kayobe enviroment within a kayobe\nconfig repository.\n\nChange-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4\nStory: 2005488\nTask: 30588\n'}]",1,683393,96300cffefc3c8a4ca42961976301111dcb85194,5,1,2,28048,,,0,"Add kayobe as a dependency

This is the first step in describing a kayobe enviroment within a kayobe
config repository.

Change-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4
Story: 2005488
Task: 30588
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/93/683393/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1d38fae9456c9df961ed7233b959045df8d0e266,pip-stable/rocky-stable/stein,"kayobe>=5.0.0,<6.0.0 # Apache-2.0 ",,1,0
openstack%2Fkayobe-config~stable%2Frocky~I0106963122f9369cf27b4884ce3255b916d7a5d4,openstack/kayobe-config,stable/rocky,I0106963122f9369cf27b4884ce3255b916d7a5d4,Add kayobe as a dependency,ABANDONED,2019-08-23 15:09:57.000000000,2022-06-16 12:21:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-23 15:09:57.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/d1231a781f50e1739d36b9516dd74b860ddbe07b', 'message': 'Add kayobe as a dependency\n\nThis is the first step in describing a kayobe enviroment within a kayobe\nconfig repository.\n\nChange-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4\nStory: 2005488\nTask: 30588\n'}]",1,678251,d1231a781f50e1739d36b9516dd74b860ddbe07b,5,1,1,28048,,,0,"Add kayobe as a dependency

This is the first step in describing a kayobe enviroment within a kayobe
config repository.

Change-Id: I0106963122f9369cf27b4884ce3255b916d7a5d4
Story: 2005488
Task: 30588
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/51/678251/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d1231a781f50e1739d36b9516dd74b860ddbe07b,pip-stable/rocky,"kayobe>=5.0.0,<6.0.0 # Apache-2.0 ",,1,0
openstack%2Fkayobe~master~Ie36a8dadd13bd440827bfff04e46defd4bac7a36,openstack/kayobe,master,Ie36a8dadd13bd440827bfff04e46defd4bac7a36,DNM: Test zuul jobs with ansible-version 5,ABANDONED,2022-06-16 08:06:27.000000000,2022-06-16 12:20:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 08:06:27.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1fb0a8963838f32199919d614a713b38c6718fe4', 'message': 'DNM: Test zuul jobs with ansible-version 5\n\nChange-Id: Ie36a8dadd13bd440827bfff04e46defd4bac7a36\n'}]",0,846106,1fb0a8963838f32199919d614a713b38c6718fe4,3,1,1,15197,,,0,"DNM: Test zuul jobs with ansible-version 5

Change-Id: Ie36a8dadd13bd440827bfff04e46defd4bac7a36
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/06/846106/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,1fb0a8963838f32199919d614a713b38c6718fe4,, ansible-version: 5 ansible-version: 5 ansible-version: 5 ansible-version: 5,,4,0
openstack%2Fovsdbapp~stable%2Fxena~I21b6e8dd603847b9a757799f24b8a7dd63d76a36,openstack/ovsdbapp,stable/xena,I21b6e8dd603847b9a757799f24b8a7dd63d76a36,"Update QoS register in ""QoSAddCommand"" if exists",MERGED,2022-06-15 16:10:42.000000000,2022-06-16 12:06:01.000000000,2022-06-16 12:04:37.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 16:10:42.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/4d4402ce06b070a3bc0391aa9caf66505af8dc78', 'message': 'Update QoS register in ""QoSAddCommand"" if exists\n\n""QoSAddCommand"" can return an existing QoS register if ""may_exist"" is\nenabled. Now this register can be updated if the arguments passed to\nthe creation method differ.\n\nThis patch also adds the ability to retrieve a QoS rule by its\n""external_ids"".\n\nRelated-Bug: #1947334\nChange-Id: I21b6e8dd603847b9a757799f24b8a7dd63d76a36\n(cherry picked from commit 3ad4a1db97f92aa356f6c184d8fec6b447228b9d)\n'}]",0,846022,4d4402ce06b070a3bc0391aa9caf66505af8dc78,9,4,1,16688,,,0,"Update QoS register in ""QoSAddCommand"" if exists

""QoSAddCommand"" can return an existing QoS register if ""may_exist"" is
enabled. Now this register can be updated if the arguments passed to
the creation method differ.

This patch also adds the ability to retrieve a QoS rule by its
""external_ids"".

Related-Bug: #1947334
Change-Id: I21b6e8dd603847b9a757799f24b8a7dd63d76a36
(cherry picked from commit 3ad4a1db97f92aa356f6c184d8fec6b447228b9d)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/22/846022/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",3,4d4402ce06b070a3bc0391aa9caf66505af8dc78,bug/1947334,"import uuid return idlutils.frozen_row(row) row = self._qos_add(*args, external_ids={'port_id': '1'}) row2 = self._qos_add(*args, external_ids={'port_id': '1'}, may_exist=True) def test_qos_add_may_exist_update_using_external_ids_match(self): args = ('from-lport', 0, 'output == ""fake_port"" && ip') kwargs = {'rate': 1000, 'burst': 800, 'dscp': 16, 'external_ids': {'port_id': '1'}} row = self._qos_add(*args, **kwargs) # Update QoS parameters: rate, burst and DSCP. kwargs = {'rate': 1200, 'burst': 900, 'dscp': 24} row2 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row2.uuid) self.assertEqual(row2.bandwidth, {'rate': 1200, 'burst': 900}) self.assertEqual(row2.action, {'dscp': 24}) # Remove QoS parameters. kwargs = {'rate': 1500, 'burst': 1100} row3 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row3.uuid) self.assertEqual(row3.bandwidth, {'rate': 1500, 'burst': 1100}) self.assertEqual(row3.action, {}) kwargs = {'rate': 2000} row4 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row4.uuid) self.assertEqual(row4.bandwidth, {'rate': 2000}) self.assertEqual(row4.action, {}) kwargs = {'dscp': 16} row5 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row5.uuid) self.assertEqual(row5.bandwidth, {}) self.assertEqual(row5.action, {'dscp': 16}) def test_qos_add_may_exist_using_external_ids_match(self): _uuid = str(uuid.uuid4()) _uuid2 = str(uuid.uuid4()) for key in ('neutron:port_id', 'neutron:fip_id'): args = ('from-lport', 0, 'output == ""fake_port"" && ip') kwargs = {'rate': 1000, 'burst': 800, 'dscp': 16} self._qos_add(*args, external_ids={key: _uuid}, **kwargs) # ""args"" in this second call are different, ""QoSAddCommand"" will # use the ""external_ids_match"" reference passed instead to match # the QoS rules. args = ('from-lport', 1, 'output == ""fake_port"" && ip') self._qos_add(*args, external_ids_match={key: _uuid}, may_exist=True, **kwargs) qos_rules = self.api.qos_list(self.switch.uuid).execute( check_error=True) self.assertEqual(1, len(qos_rules)) # This call will update the ""external_ids"" to ""_uuid2"". Before # changing it, ""_uuid"" will be used to find the register. self._qos_add(*args, external_ids_match={key: _uuid}, external_ids={key: _uuid2}, may_exist=True, **kwargs) qos_rules = self.api.qos_list(self.switch.uuid).execute( check_error=True) self.assertEqual(1, len(qos_rules)) # The deletion call uses ""_uuid2"" because it was changed in the # previous call. self.api.qos_del_ext_ids(self.switch.name, {key: _uuid2}).execute(check_error=True) qos_rules = self.api.qos_list(self.switch.uuid).execute( check_error=True) self.assertEqual(0, len(qos_rules)) qos_rules = [idlutils.frozen_row(row) for row in self.switch.qos_rules] self.assertNotIn(r1, qos_rules) self.assertIn(r2, qos_rules) qos_rules = [idlutils.frozen_row(row) for row in self.switch.qos_rules] self.assertNotIn(r1, qos_rules) self.assertIn(r2, qos_rules) qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules]"," return row row = self._qos_add(*args) row2 = self._qos_add(*args, may_exist=True) self.assertNotIn(r1, self.switch.qos_rules) self.assertIn(r2, self.switch.qos_rules) self.assertNotIn(r1, self.switch.qos_rules) self.assertIn(r2, self.switch.qos_rules)",130,12
openstack%2Fovsdbapp~stable%2Fwallaby~I21b6e8dd603847b9a757799f24b8a7dd63d76a36,openstack/ovsdbapp,stable/wallaby,I21b6e8dd603847b9a757799f24b8a7dd63d76a36,"Update QoS register in ""QoSAddCommand"" if exists",MERGED,2022-06-15 16:11:00.000000000,2022-06-16 12:05:54.000000000,2022-06-16 12:04:35.000000000,"[{'_account_id': 5756}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 16:11:00.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f804411ef6b1dc3a5a53519077fbb0ac0c97b46b', 'message': 'Update QoS register in ""QoSAddCommand"" if exists\n\n""QoSAddCommand"" can return an existing QoS register if ""may_exist"" is\nenabled. Now this register can be updated if the arguments passed to\nthe creation method differ.\n\nThis patch also adds the ability to retrieve a QoS rule by its\n""external_ids"".\n\nRelated-Bug: #1947334\nChange-Id: I21b6e8dd603847b9a757799f24b8a7dd63d76a36\n(cherry picked from commit 3ad4a1db97f92aa356f6c184d8fec6b447228b9d)\n'}]",0,846023,f804411ef6b1dc3a5a53519077fbb0ac0c97b46b,9,4,1,16688,,,0,"Update QoS register in ""QoSAddCommand"" if exists

""QoSAddCommand"" can return an existing QoS register if ""may_exist"" is
enabled. Now this register can be updated if the arguments passed to
the creation method differ.

This patch also adds the ability to retrieve a QoS rule by its
""external_ids"".

Related-Bug: #1947334
Change-Id: I21b6e8dd603847b9a757799f24b8a7dd63d76a36
(cherry picked from commit 3ad4a1db97f92aa356f6c184d8fec6b447228b9d)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/23/846023/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",3,f804411ef6b1dc3a5a53519077fbb0ac0c97b46b,bug/1947334,"import uuid return idlutils.frozen_row(row) row = self._qos_add(*args, external_ids={'port_id': '1'}) row2 = self._qos_add(*args, external_ids={'port_id': '1'}, may_exist=True) def test_qos_add_may_exist_update_using_external_ids_match(self): args = ('from-lport', 0, 'output == ""fake_port"" && ip') kwargs = {'rate': 1000, 'burst': 800, 'dscp': 16, 'external_ids': {'port_id': '1'}} row = self._qos_add(*args, **kwargs) # Update QoS parameters: rate, burst and DSCP. kwargs = {'rate': 1200, 'burst': 900, 'dscp': 24} row2 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row2.uuid) self.assertEqual(row2.bandwidth, {'rate': 1200, 'burst': 900}) self.assertEqual(row2.action, {'dscp': 24}) # Remove QoS parameters. kwargs = {'rate': 1500, 'burst': 1100} row3 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row3.uuid) self.assertEqual(row3.bandwidth, {'rate': 1500, 'burst': 1100}) self.assertEqual(row3.action, {}) kwargs = {'rate': 2000} row4 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row4.uuid) self.assertEqual(row4.bandwidth, {'rate': 2000}) self.assertEqual(row4.action, {}) kwargs = {'dscp': 16} row5 = self._qos_add(*args, external_ids_match={'port_id': '1'}, may_exist=True, **kwargs) self.assertEqual(row.uuid, row5.uuid) self.assertEqual(row5.bandwidth, {}) self.assertEqual(row5.action, {'dscp': 16}) def test_qos_add_may_exist_using_external_ids_match(self): _uuid = str(uuid.uuid4()) _uuid2 = str(uuid.uuid4()) for key in ('neutron:port_id', 'neutron:fip_id'): args = ('from-lport', 0, 'output == ""fake_port"" && ip') kwargs = {'rate': 1000, 'burst': 800, 'dscp': 16} self._qos_add(*args, external_ids={key: _uuid}, **kwargs) # ""args"" in this second call are different, ""QoSAddCommand"" will # use the ""external_ids_match"" reference passed instead to match # the QoS rules. args = ('from-lport', 1, 'output == ""fake_port"" && ip') self._qos_add(*args, external_ids_match={key: _uuid}, may_exist=True, **kwargs) qos_rules = self.api.qos_list(self.switch.uuid).execute( check_error=True) self.assertEqual(1, len(qos_rules)) # This call will update the ""external_ids"" to ""_uuid2"". Before # changing it, ""_uuid"" will be used to find the register. self._qos_add(*args, external_ids_match={key: _uuid}, external_ids={key: _uuid2}, may_exist=True, **kwargs) qos_rules = self.api.qos_list(self.switch.uuid).execute( check_error=True) self.assertEqual(1, len(qos_rules)) # The deletion call uses ""_uuid2"" because it was changed in the # previous call. self.api.qos_del_ext_ids(self.switch.name, {key: _uuid2}).execute(check_error=True) qos_rules = self.api.qos_list(self.switch.uuid).execute( check_error=True) self.assertEqual(0, len(qos_rules)) qos_rules = [idlutils.frozen_row(row) for row in self.switch.qos_rules] self.assertNotIn(r1, qos_rules) self.assertIn(r2, qos_rules) qos_rules = [idlutils.frozen_row(row) for row in self.switch.qos_rules] self.assertNotIn(r1, qos_rules) self.assertIn(r2, qos_rules) qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules] qos_rules = [idlutils.frozen_row(row) for row in qos_rules]"," return row row = self._qos_add(*args) row2 = self._qos_add(*args, may_exist=True) self.assertNotIn(r1, self.switch.qos_rules) self.assertIn(r2, self.switch.qos_rules) self.assertNotIn(r1, self.switch.qos_rules) self.assertIn(r2, self.switch.qos_rules)",130,12
openstack%2Fmanila-tempest-plugin~master~Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d,openstack/manila-tempest-plugin,master,Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d,add list share types by is public attr testcase,NEW,2022-06-14 07:57:28.000000000,2022-06-16 12:05:36.000000000,,"[{'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-06-14 07:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/9a8544b364fa48d2c8bb5f9a395c2ac1baa7641b', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}, {'number': 2, 'created': '2022-06-14 10:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4f1fb9d02009dd8a80d99a4f3653566610372a66', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}, {'number': 3, 'created': '2022-06-14 11:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f063e949eec00fca5159d94ba9965c19a44f4785', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}, {'number': 4, 'created': '2022-06-15 03:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/850e584b54fe7a1d6f710830d89bd70e5c8c0eee', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}, {'number': 5, 'created': '2022-06-15 06:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/89a8b43bd331016b01cd9edc427da96c814d0f76', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}, {'number': 6, 'created': '2022-06-15 08:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/427ebbb05aa160690e40d3dda046beed1866016d', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}, {'number': 7, 'created': '2022-06-16 08:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/fb038e96cd0439627f435a59aea54bb7b38bfde0', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}, {'number': 8, 'created': '2022-06-16 11:06:15.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_share_types.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b94ff91394e37bf9483c81f223d10cc5438afa64', 'message': 'add list share types by is public attr testcase\n\nadd list share types by is public filter testcase in manila module\n\nChange-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d\n'}]",48,845697,b94ff91394e37bf9483c81f223d10cc5438afa64,25,3,8,30409,,,0,"add list share types by is public attr testcase

add list share types by is public filter testcase in manila module

Change-Id: Ia69f9cafbbfcdcf21533ab2484f0c65e6f16584d
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/97/845697/8 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_share_types.py'],1,9a8544b364fa48d2c8bb5f9a395c2ac1baa7641b,master1," @decorators.idempotent_id('924e9048-157c-4dc9-9c6b-12d1f19f2ece') @tc.attr(base.TAG_POSITIVE, base.TAG_API) @ddt.data(*utils.deduplicate(('2.46', '2.6', LATEST_MICROVERSION))) def test_list_share_types_by_is_public(self, version): utils.check_skip_if_microversion_not_supported(version) name = data_utils.rand_name(""tempest-manila"") extra_specs = self.add_extra_specs_to_dict() # Create share type self.create_share_type( name, extra_specs=extra_specs, version=version) # list share types by is public param = {""is_public"": True} st_list = self.shares_v2_client.list_share_types( params=param, version=version) self.assertNotEqual(0, len(st_list)) for st in st_list['share_types']: if utils.is_microversion_ge(version, '2.6'): self.assertTrue(st['share_type_access:is_public']) else: self.assertTrue(st['os-share-type-access:is_public'])",,23,0
openstack%2Ftripleo-common~stable%2Ftrain~Ibdeb5741b32f8060c14ca79d2300886dee68555f,openstack/tripleo-common,stable/train,Ibdeb5741b32f8060c14ca79d2300886dee68555f,build_catalog should loop deeper than one level,MERGED,2022-04-14 13:15:40.000000000,2022-06-16 11:40:01.000000000,2022-06-16 11:38:40.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-04-14 13:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a17a6ef1375ef1f9489dcd3ccee1d40802f67225', 'message': ""build_catalog should loop deeper than one level\n\nThere's some scenarios where our catalog is nested under more than one\nlayer of folder. build_catalog should take this into account.\n\nCloses-bug: 1966222\nChange-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f\n(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)\n(cherry picked from commit fcc8a0c69f80317f606a3ecf96d0eb9de90ba64b)\n(cherry picked from commit cb440bb49b2463785481f658432ed817a85840a6)\n""}, {'number': 2, 'created': '2022-04-19 11:42:00.000000000', 'files': ['tripleo_common/image/image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/242c568c7eea15782666f2e490f4d5d6f6b0dde9', 'message': ""build_catalog should loop deeper than one level\n\nThere's some scenarios where our catalog is nested under more than one\nlayer of folder. build_catalog should take this into account.\n\nNOTE(dvd): Had to remove fstrings for py27.\n\nCloses-bug: 1966222\nChange-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f\n(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)\n(cherry picked from commit fcc8a0c69f80317f606a3ecf96d0eb9de90ba64b)\n(cherry picked from commit cb440bb49b2463785481f658432ed817a85840a6)\n""}]",0,837805,242c568c7eea15782666f2e490f4d5d6f6b0dde9,13,4,2,27419,,,0,"build_catalog should loop deeper than one level

There's some scenarios where our catalog is nested under more than one
layer of folder. build_catalog should take this into account.

NOTE(dvd): Had to remove fstrings for py27.

Closes-bug: 1966222
Change-Id: Ibdeb5741b32f8060c14ca79d2300886dee68555f
(cherry picked from commit 5c909793655e182619e1b1ac0c75ace47bc2fe71)
(cherry picked from commit fcc8a0c69f80317f606a3ecf96d0eb9de90ba64b)
(cherry picked from commit cb440bb49b2463785481f658432ed817a85840a6)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/837805/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_export.py'],1,a17a6ef1375ef1f9489dcd3ccee1d40802f67225,," LOG.debug(f'Rebuilding {catalog_path} Based on images_path {images_path}') metadata_set = set(['blobs', 'manifests', 'tags']) for folder, contents_set, files in os.walk(images_path): if metadata_set.issubset(contents_set): image = folder.replace(f'{images_path}/', '') LOG.debug(f'Adding image {image} to catalog') catalog_entries.append(image)"," LOG.debug('Rebuilding %s' % catalog_path) for namespace in os.listdir(images_path): namespace_path = os.path.join(images_path, namespace) if not os.path.isdir(namespace_path): continue contents_set = set(os.listdir(namespace_path)) # handle containers with no namespaces if metadata_set.issubset(contents_set): catalog_entries.append(namespace) for image in list(contents_set - metadata_set): catalog_entries.append('%s/%s' % (namespace, image))",6,11
openstack%2Fos-vif~master~I38a41071ac540e3b58f9d18ead88b86203a4c843,openstack/os-vif,master,I38a41071ac540e3b58f9d18ead88b86203a4c843,Drop lower-constraints.txt and its testing,MERGED,2022-04-30 02:02:54.000000000,2022-06-16 11:34:18.000000000,2022-06-16 11:31:28.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-30 02:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/97b3e8a2ec10d6c8d7e5823822708838898f78bc', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I38a41071ac540e3b58f9d18ead88b86203a4c843\n'}, {'number': 2, 'created': '2022-04-30 19:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/07911dc26aaae5ae6a1446c70abf459fe3aedba3', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I38a41071ac540e3b58f9d18ead88b86203a4c843\n'}, {'number': 3, 'created': '2022-05-01 00:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7fc39a53c4fbb2451986982fb97c3436377fbc99', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I38a41071ac540e3b58f9d18ead88b86203a4c843\n'}, {'number': 4, 'created': '2022-05-27 18:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/6eb299873089af51886d54d6af13970c0cbee00b', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I38a41071ac540e3b58f9d18ead88b86203a4c843\n'}, {'number': 5, 'created': '2022-06-16 04:47:02.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/1651a730c1c9a8bd38f03d47f7b51b4bb6949575', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: I38a41071ac540e3b58f9d18ead88b86203a4c843\n'}]",12,840020,1651a730c1c9a8bd38f03d47f7b51b4bb6949575,35,6,5,8556,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: I38a41071ac540e3b58f9d18ead88b86203a4c843
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/20/840020/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,97b3e8a2ec10d6c8d7e5823822708838898f78bc,drop-l-c,"envlist = py3,pep8,docs,releasenotes,cover","envlist = py3,pep8,docs,releasenotes,cover,lower-constraints[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/doc/requirements.txt commands = stestr run --black-regex "".tests.functional"" {posargs} sphinx-build -W doc/source doc/build ",4,33
openstack%2Fos-brick~stable%2Fyoga~Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,openstack/os-brick,stable/yoga,Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58,Fix encryption symlink issues,MERGED,2022-06-15 14:07:10.000000000,2022-06-16 11:26:11.000000000,2022-06-16 10:43:08.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-06-15 14:07:10.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/lightos.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'os_brick/initiator/connectors/storpool.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0bd5dc99152261d1d59ecb788faf4aea3e299edd', 'message': 'Fix encryption symlink issues\n\nThis patch fixes 2 issues related to the symlinks, or lack of, that\nconnectors\' connect_volume methods return.\n\nSome connectors always return the block device instead of a symlink for\nencrypted volumes, and other connectors return a symlink that is owned\nby the system\'s udev rules.  Both cases are problematic\n\nReturning the real device can prevent the encryptor connect_volume to\ncomplete successfully, and in other cases (such as nvmeof) it completes,\nbut on the connector\'s disconnect volume it will leave the device behind\n(i.e., /dev/nvme0n1) preventing new connections that would use that same\ndevice name.\n\nReturning a symlink owned by the system\'s udev rules means that they can\nbe reclaimed by those rules at any time.  This can happen with\ncryptsetup, because when it creates a new mapping it triggers udev rules\nfor the device that can reclaim the symlink after os-brick has replaced\nit.\n\nThis patch creates a couple of decorators to facilitate this for all\nconnectors. These decorators transform the paths so that the callers\ngets the expected symlink, but the connector doesn\'t need to worry about\nit and will always see the value it returns regardless of what symlink\nthe caller gets.\n\nFrom this moment onwards we use our own custom symlink that starts with\n""/dev/disk/by-id/os-brick"".\n\nThe patch fixes bugs in other connectors (such as the RBD local\nconnection), but since there are no open bugs they have not been\nreported.\n\nCloses-Bug: #1964379\nCloses-Bug: #1967790\nChange-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58\n(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)\n'}]",4,845845,0bd5dc99152261d1d59ecb788faf4aea3e299edd,14,3,1,20813,,,0,"Fix encryption symlink issues

This patch fixes 2 issues related to the symlinks, or lack of, that
connectors' connect_volume methods return.

Some connectors always return the block device instead of a symlink for
encrypted volumes, and other connectors return a symlink that is owned
by the system's udev rules.  Both cases are problematic

Returning the real device can prevent the encryptor connect_volume to
complete successfully, and in other cases (such as nvmeof) it completes,
but on the connector's disconnect volume it will leave the device behind
(i.e., /dev/nvme0n1) preventing new connections that would use that same
device name.

Returning a symlink owned by the system's udev rules means that they can
be reclaimed by those rules at any time.  This can happen with
cryptsetup, because when it creates a new mapping it triggers udev rules
for the device that can reclaim the symlink after os-brick has replaced
it.

This patch creates a couple of decorators to facilitate this for all
connectors. These decorators transform the paths so that the callers
gets the expected symlink, but the connector doesn't need to worry about
it and will always see the value it returns regardless of what symlink
the caller gets.

From this moment onwards we use our own custom symlink that starts with
""/dev/disk/by-id/os-brick"".

The patch fixes bugs in other connectors (such as the RBD local
connection), but since there are no open bugs they have not been
reported.

Closes-Bug: #1964379
Closes-Bug: #1967790
Change-Id: Ie373ab050dcc0a35c749d9a53b6cf5ca060bcb58
(cherry picked from commit 1583a5038d34fd560b554e0eee5c1c5a7612722f)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/45/845845/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py', 'os_brick/privileged/rootwrap.py', 'os_brick/tests/privileged/test_rootwrap.py', 'os_brick/tests/test_utils.py', 'releasenotes/notes/encryption-a642889a82ff9207.yaml', 'os_brick/initiator/connectors/lightos.py', 'os_brick/initiator/connectors/fibre_channel.py', 'os_brick/initiator/initiator_connector.py', 'os_brick/initiator/connectors/iscsi.py', 'os_brick/utils.py', 'os_brick/initiator/connectors/nvmeof.py', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/initiator/connectors/rbd.py', 'os_brick/initiator/connectors/storpool.py']",17,0bd5dc99152261d1d59ecb788faf4aea3e299edd,fix-decrypt-stable/yoga,from os_brick import utils @utils.connect_volume_prepare_result @utils.connect_volume_undo_prepare_result(unlink_after=True) @utils.connect_volume_undo_prepare_result,,572,185
openstack%2Frequirements~master~I2fd61816159dba06ce5107fbe15cd89c1e0e4862,openstack/requirements,master,I2fd61816159dba06ce5107fbe15cd89c1e0e4862,DNM: things that break horizon,ABANDONED,2022-01-05 03:11:44.000000000,2022-06-16 11:25:48.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 03:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f7aa8fcb293cbae877e9251213c1ef91be8e135e', 'message': 'DNM: things that break horizon\n\nChange-Id: I2fd61816159dba06ce5107fbe15cd89c1e0e4862\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2022-06-10 06:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e909487db4b1a2690eccf831378d85eb52ee7d92', 'message': 'DNM: things that break horizon\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/843346\nChange-Id: I2fd61816159dba06ce5107fbe15cd89c1e0e4862\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-06-14 07:12:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/34238c0008330bb75577808d30f140bf313fe48f', 'message': 'DNM: things that break horizon\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/843346\nChange-Id: I2fd61816159dba06ce5107fbe15cd89c1e0e4862\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,823449,34238c0008330bb75577808d30f140bf313fe48f,11,2,3,14288,,,0,"DNM: things that break horizon

Depends-On: https://review.opendev.org/c/openstack/horizon/+/843346
Change-Id: I2fd61816159dba06ce5107fbe15cd89c1e0e4862
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/823449/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f7aa8fcb293cbae877e9251213c1ef91be8e135e,things-that-break,rcssmin===1.1.0XStatic-Angular===1.8.2.1django-compressor===3.1rjsmin===1.2.0,rcssmin===1.0.6XStatic-Angular===1.5.8.0django-compressor===2.4.1rjsmin===1.1.0,4,4
openstack%2Fcharm-nova-compute~master~I1254d8f7016387598250fe73c5be326c2efd938c,openstack/charm-nova-compute,master,I1254d8f7016387598250fe73c5be326c2efd938c,Disable use of xattrs when running Nova in LXD.,NEW,2021-09-12 16:05:08.000000000,2022-06-16 10:59:55.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-09-12 16:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f142d1a8bbceb4bc8ddec97d55708b0a3ef5cabe', 'message': 'Disable use of xattrs by libvirt when running Nova in LXD containers\n\nSee\nhttps://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466\n\nIn Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to\nsave the original owner of files prior to domain startup (in order to\nrestore them later). xattrs require privileged containers, which is\nundesirable.\n\nThis commit adds a check for whether nova-compute is running inside an\nLXD container by checking whether /dev/lxd/sock is a socket, whether the\nOpenStack version is Ussuri or newer, and sets `remember_owner = 0` if\nso.\n\nChange-Id: I1254d8f7016387598250fe73c5be326c2efd938c\n'}, {'number': 2, 'created': '2021-09-12 16:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d936e0b3b681cab04c74a2a25981aba1a2ccbf9a', 'message': 'Disable use of xattrs by libvirt when running Nova in LXD containers\n\nSee\nhttps://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466\n\nIn Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to\nsave the original owner of files prior to domain startup (in order to\nrestore them later). xattrs require privileged containers, which is\nundesirable.\n\nThis commit adds a check for whether nova-compute is running inside an\nLXD container by checking whether /dev/lxd/sock is a socket, whether the\nOpenStack version is Ussuri or newer, and sets `remember_owner = 0` if\nso.\n\nChange-Id: I1254d8f7016387598250fe73c5be326c2efd938c\n'}, {'number': 3, 'created': '2022-01-10 14:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/706ed78a232b29dace73fbe09bdfa2ce0c9d8471', 'message': 'Disable use of xattrs when running Nova in LXD.\n\nIn Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to\nsave the original owner of files prior to domain startup (in order to\nrestore them later). xattrs require privileged containers, which is\nundesirable.\n\nThis commit adds a check for whether nova-compute is running inside an\nLXD container, whether the OpenStack version is Ussuri or newer, and\nsets `remember_owner = 0` if so.\n\nMore details at\nhttps://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466\n\nChange-Id: I1254d8f7016387598250fe73c5be326c2efd938c\n'}, {'number': 4, 'created': '2022-02-22 13:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/c3ea8bd67ca3f785a3dd9cd8dea964f1048879dd', 'message': 'Disable use of xattrs when running Nova in LXD.\n\nIn Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to\nsave the original owner of files prior to domain startup (in order to\nrestore them later). xattrs require privileged containers, which is\nundesirable.\n\nThis commit adds a check for whether nova-compute is running inside an\nLXD container, whether the OpenStack version is Ussuri or newer, and\nsets `remember_owner = 0` if so.\n\nMore details at\nhttps://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466\n\nChange-Id: I1254d8f7016387598250fe73c5be326c2efd938c\n'}, {'number': 5, 'created': '2022-02-22 15:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f5f54f4b488462e681f1934a05ca5e15c7999565', 'message': 'Disable use of xattrs when running Nova in LXD.\n\nIn Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to\nsave the original owner of files prior to domain startup (in order to\nrestore them later). xattrs require privileged containers, which is\nundesirable.\n\nThis commit adds a check for whether nova-compute is running inside an\nLXD container, whether the OpenStack version is Ussuri or newer, and\nsets `remember_owner = 0` if so.\n\nMore details at\nhttps://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466\n\nCo-Authored-By: Felipe Reyes <felipe.reyes@canonical.com>\nChange-Id: I1254d8f7016387598250fe73c5be326c2efd938c\n'}, {'number': 6, 'created': '2022-06-15 16:08:00.000000000', 'files': ['hooks/nova_compute_context.py', 'unit_tests/test_nova_compute_contexts.py', 'templates/qemu.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/773a89adaaba27cda5a2447ac9433d2b6394f8f6', 'message': 'Disable use of xattrs when running Nova in LXD.\n\nIn Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to\nsave the original owner of files prior to domain startup (in order to\nrestore them later). xattrs require privileged containers, which is\nundesirable.\n\nThis commit adds a check for whether nova-compute is running inside an\nLXD container, whether the OpenStack version is Ussuri or newer, and\nsets `remember_owner = 0` if so.\n\nMore details at\nhttps://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466\n\nCo-Authored-By: Felipe Reyes <felipe.reyes@canonical.com>\nChange-Id: I1254d8f7016387598250fe73c5be326c2efd938c\n'}]",7,808568,773a89adaaba27cda5a2447ac9433d2b6394f8f6,27,2,6,32203,,,0,"Disable use of xattrs when running Nova in LXD.

In Charmed OpenStack Ussuri and newer, by default libvirt uses xattrs to
save the original owner of files prior to domain startup (in order to
restore them later). xattrs require privileged containers, which is
undesirable.

This commit adds a check for whether nova-compute is running inside an
LXD container, whether the OpenStack version is Ussuri or newer, and
sets `remember_owner = 0` if so.

More details at
https://discuss.linuxcontainers.org/t/cant-run-libvirt-qemu-kvm-in-an-unprivileged-domain-anymore-unable-to-set-xattr/9466

Co-Authored-By: Felipe Reyes <felipe.reyes@canonical.com>
Change-Id: I1254d8f7016387598250fe73c5be326c2efd938c
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/68/808568/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'hooks/nova_compute_utils.py', 'templates/qemu.conf']",3,f142d1a8bbceb4bc8ddec97d55708b0a3ef5cabe,qemu-fix-lxd-containerised,{% if remember_owner is defined -%} remember_owner = {{ remember_owner }} {%- endif %} ,,29,0
openstack%2Foctavia~stable%2Fyoga~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,stable/yoga,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:48:07.000000000,2022-06-16 10:47:28.000000000,2022-06-16 10:45:55.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-06-08 14:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01c00f438607576002139afeaf775f641f0a02b3', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 2, 'created': '2022-06-08 15:27:19.000000000', 'files': ['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/399c2f17504fa156e65c664cc4bfeb1c98f7d9d0', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}]",2,845042,399c2f17504fa156e65c664cc4bfeb1c98f7d9d0,11,3,2,11628,,,0,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
",git fetch https://review.opendev.org/openstack/octavia refs/changes/42/845042/2 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py']",2,01c00f438607576002139afeaf775f641f0a02b3,, 'total': sum((int(i) for i in vals[2:])), 'total': sum([int(i) for i in vals[2:]]),1,6
openstack%2Fopenstack-ansible-plugins~master~I6019f53eb189e27678492b2164a0aaa12d2a8e8d,openstack/openstack-ansible-plugins,master,I6019f53eb189e27678492b2164a0aaa12d2a8e8d,Add support for role list,MERGED,2022-06-14 06:30:10.000000000,2022-06-16 10:39:37.000000000,2022-06-16 10:38:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 06:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c0e5e0bca1311b930b4d6c382876dbe2815f7448', 'message': ""Add support for role list\n\nThere're cases when you might want to assign multiple roles to the same\nuser. In order to do that and keep backwards compatability\nrole assignment moved to the include file, where another loop can be\nperformed.\n\nChange-Id: I6019f53eb189e27678492b2164a0aaa12d2a8e8d\n""}, {'number': 2, 'created': '2022-06-14 08:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/811348d0f7cd78d77f08fa871ef81bff509565d6', 'message': ""Add support for role list\n\nThere're cases when you might want to assign multiple roles to the same\nuser. In order to do that and keep backwards compatability\nrole assignment moved to the include file, where another loop can be\nperformed.\n\nChange-Id: I6019f53eb189e27678492b2164a0aaa12d2a8e8d\n""}, {'number': 3, 'created': '2022-06-14 08:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0db8f9f1bbfd19f5124fda8ffe580ce2ede7a0df', 'message': ""Add support for role list\n\nThere're cases when you might want to assign multiple roles to the same\nuser. In order to do that and keep backwards compatability\nrole assignment moved to the include file, where another loop can be\nperformed.\n\nChange-Id: I6019f53eb189e27678492b2164a0aaa12d2a8e8d\n""}, {'number': 4, 'created': '2022-06-14 10:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/247d96fb124e240a8e846646170a72b6a2e34e11', 'message': ""Add support for role list\n\nThere're cases when you might want to assign multiple roles to the same\nuser. In order to do that and keep backwards compatability\nrole assignment moved to the include file, where another loop can be\nperformed.\n\nChange-Id: I6019f53eb189e27678492b2164a0aaa12d2a8e8d\n""}, {'number': 5, 'created': '2022-06-14 12:01:33.000000000', 'files': ['roles/service_setup/tasks/main.yml', 'roles/service_setup/tasks/setup_roles.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/15e596cb8eda024c4079191634edbc26d44f3249', 'message': ""Add support for role list\n\nThere're cases when you might want to assign multiple roles to the same\nuser. In order to do that and keep backwards compatability\nrole assignment moved to the include file, where another loop can be\nperformed.\n\nChange-Id: I6019f53eb189e27678492b2164a0aaa12d2a8e8d\n""}]",0,845690,15e596cb8eda024c4079191634edbc26d44f3249,17,3,5,28619,,,0,"Add support for role list

There're cases when you might want to assign multiple roles to the same
user. In order to do that and keep backwards compatability
role assignment moved to the include file, where another loop can be
performed.

Change-Id: I6019f53eb189e27678492b2164a0aaa12d2a8e8d
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/90/845690/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/service_setup/tasks/setup_role_assignment.yml', 'roles/service_setup/tasks/main.yml']",2,c0e5e0bca1311b930b4d6c382876dbe2815f7448,osa/service_tokens," - name: Include task for role assignment include_task: setup_role_assignment.yml loop: ""{{ _service_users }}"" loop_control: loop_var: user"," - name: Add service users to the role openstack.cloud.role_assignment: cloud: default state: present user: ""{{ item.name }}"" role: ""{{ item.role }}"" project: ""{{ item.project | default(_service_project_name) }}"" domain: ""{{ item.domain | default(omit) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True",60,16
openstack%2Foctavia~master~Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79,openstack/octavia,master,Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79,Validate L7Rule value and cookie name,MERGED,2022-03-25 14:58:38.000000000,2022-06-16 10:12:49.000000000,2022-06-16 10:11:14.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-03-25 14:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/11edfef38e0b5b360331785de6898774b2a09f4d', 'message': 'Validate L7Rule value and cookie name\n\nPrevents possible remote execution on amphorae.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}, {'number': 2, 'created': '2022-03-25 15:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0a1e2fa0626882e254c4f8a02ed54c7d67ef0c7', 'message': 'Validate L7Rule value and cookie name\n\nPrevents possible remote execution on amphorae.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}, {'number': 3, 'created': '2022-03-25 15:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ece612854ca149f4f28190119beb4cb81954b0bf', 'message': 'Validate L7Rule value and cookie name\n\nPrevents possible remote execution on amphorae.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}, {'number': 4, 'created': '2022-03-30 09:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c9f29f91dadf9c3b861c3ef9d0691cf2dcf5233f', 'message': 'Validate L7Rule value and cookie name\n\nPrevents insertion of arbitrary strings in HAProxy configuration.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}, {'number': 5, 'created': '2022-03-30 09:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a2231b3d1b2591766f68ff1c29b8ae54f773b357', 'message': 'Validate L7Rule value and cookie name\n\nPrevents insertion of arbitrary strings in HAProxy configuration.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}, {'number': 6, 'created': '2022-04-08 13:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a86703b251138315cd53ebbf89db59c8617965f5', 'message': 'Validate L7Rule value and cookie name\n\nPrevents insertion of arbitrary strings in HAProxy configuration.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}, {'number': 7, 'created': '2022-05-06 08:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3b9fbe77e837ede93ed92e7fb1f24f6ccf7c94b1', 'message': 'Validate L7Rule value and cookie name\n\nAdds validations in L7 rule and session cookie APIs in order to prevent\nauthenticated and authorized users to inject code into HAProxy\nconfiguration. CR and LF (\\r and \\n) are no longer allowed in L7\nrule keys and values. The session persistence cookie names must follow\nthe rules described in\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}, {'number': 8, 'created': '2022-05-09 08:52:23.000000000', 'files': ['octavia/api/v2/types/pool.py', 'octavia/tests/unit/api/v2/types/test_pool.py', 'octavia/tests/unit/api/v2/types/test_l7rule.py', 'releasenotes/notes/fixed-API-validation-for-L7-rules-and-session-cookies-cb88f3f1b90171f9.yaml', 'octavia/api/v2/types/l7rule.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/3cf866dbc096ff2b6136d1e06da3f668f6ffeaaa', 'message': 'Validate L7Rule value and cookie name\n\nAdds validations in L7 rule and session cookie APIs in order to prevent\nauthenticated and authorized users to inject code into HAProxy\nconfiguration. CR and LF (\\r and \\n) are no longer allowed in L7\nrule keys and values. The session persistence cookie names must follow\nthe rules described in\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie.\n\nStory: 2008994\nTask: 44859\nChange-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79\n'}]",10,835240,3cf866dbc096ff2b6136d1e06da3f668f6ffeaaa,28,5,8,34429,,,0,"Validate L7Rule value and cookie name

Adds validations in L7 rule and session cookie APIs in order to prevent
authenticated and authorized users to inject code into HAProxy
configuration. CR and LF (\r and \n) are no longer allowed in L7
rule keys and values. The session persistence cookie names must follow
the rules described in
https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie.

Story: 2008994
Task: 44859
Change-Id: Ic370e9edc3fb5548e9cf0d66b85df66e01c41e79
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/835240/8 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/types/pool.py', 'octavia/tests/unit/api/v2/types/test_pool.py', 'octavia/tests/unit/api/v2/types/test_l7rule.py', 'octavia/api/v2/types/l7rule.py']",4,11edfef38e0b5b360331785de6898774b2a09f4d,agent-remote-execution," value = wtypes.wsattr(wtypes.StringType(max_length=255, pattern=r'^[^\r\n]*$'), mandatory=True) value = wtypes.wsattr(wtypes.StringType(max_length=255, pattern=r'^[^\r\n]*$'))"," value = wtypes.wsattr(wtypes.StringType(max_length=255), mandatory=True) value = wtypes.wsattr(wtypes.StringType(max_length=255))",34,7
openstack%2Fcharms.openstack~master~Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462,openstack/charms.openstack,master,Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462,Support Trilio 4.2 Share hashes,ABANDONED,2022-06-16 09:53:40.000000000,2022-06-16 09:59:11.000000000,,[],"[{'number': 1, 'created': '2022-06-16 09:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/e7dfa5d341017bfed7a374736e016089142b2a84', 'message': 'Support Trilio 4.2 Share hashes\n\nThe Trilio 4.2 changes the way that hashes are generated for nfs\nmount points. The hash is now generated from the directory only,\nthe source IP address is ignored. This patch updates the ghost-share\naction to accommodate that.\n\nChange-Id: Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462\n'}, {'number': 2, 'created': '2022-06-16 09:55:38.000000000', 'files': ['charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/21627ec62bf2c67d87595b46f7c6c81121e699f2', 'message': 'Support Trilio 4.2 Share hashes\n\nThe Trilio 4.2 changes the way that hashes are generated for nfs\nmount points. The hash is now generated from the directory only,\nthe source IP address is ignored. This patch updates the ghost-share\naction to accommodate that.\n\nChange-Id: Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462\n'}]",0,846143,21627ec62bf2c67d87595b46f7c6c81121e699f2,3,0,2,12549,,,0,"Support Trilio 4.2 Share hashes

The Trilio 4.2 changes the way that hashes are generated for nfs
mount points. The hash is now generated from the directory only,
the source IP address is ignored. This patch updates the ghost-share
action to accommodate that.

Change-Id: Ibfb540e6ed79f9aeb0cc2994e5e02f612eeee462
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/43/846143/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/plugins/__init__.py', 'charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py']",3,e7dfa5d341017bfed7a374736e016089142b2a84,trilio-version-property," _ghost_share = ""50.20.30.40:/srv/trilioghostshare""class TestTrilioVault42CharmGhostAction(BaseOpenStackCharmTest): _nfs_share = ""10.20.30.40:/srv/trilioshare"" _ghost_share = ""50.20.30.40:/srv/trilioghostshare"" def setUp(self): super().setUp(trilio.TrilioVaultCharmGhostAction, {}) self.patch_object(trilio.ch_core.hookenv, ""config"") self.patch_object(trilio.ch_core.host, ""mounts"") self.patch_object(trilio.ch_core.host, ""mount"") self.patch_object(trilio.os.path, ""exists"") self.patch_object(trilio.os, ""mkdir"") self.trilio_charm = trilio.TrilioVault42CharmGhostAction() self._nfs_path = os.path.join( trilio.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._nfs_share), ) self._ghost_path = os.path.join( trilio.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._ghost_share), ) def test__ghost_nfs_share(self): self.config.return_value = self._nfs_share self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_share], ] self.exists.return_value = False self.trilio_charm._ghost_nfs_share(self._nfs_share, self._ghost_share) self.exists.assert_called_once_with(self._ghost_path) self.mkdir.assert_called_once_with(self._ghost_path) self.mount.assert_called_once_with( self._nfs_path, self._ghost_path, options=""bind"" ) def test__ghost_nfs_share_already_bound(self): self.config.return_value = self._nfs_share self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_share], [self._ghost_path, self._nfs_share], ] with self.assertRaises(trilio.GhostShareAlreadyMountedException): self.trilio_charm._ghost_nfs_share(self._nfs_share, self._ghost_share) self.mount.assert_not_called() def test__ghost_nfs_share_nfs_unmounted(self): self.config.return_value = self._nfs_share self.mounts.return_value = [[""/srv/nova"", ""/dev/sda""]] self.exists.return_value = False with self.assertRaises(trilio.NFSShareNotMountedException): self.trilio_charm._ghost_nfs_share(self._nfs_share, self._ghost_share) self.mount.assert_not_called() def test_ghost_nfs_share(self): self.patch_object(self.trilio_charm, ""_ghost_nfs_share"") self.config.return_value = ( ""10.20.30.40:/srv/trilioshare,10.20.30.40:/srv/trilioshare2"" ) self.trilio_charm.ghost_nfs_share( ""50.20.30.40:/srv/trilioshare,50.20.30.40:/srv/trilioshare2"" ) self._ghost_nfs_share.assert_has_calls([ mock.call(""10.20.30.40:/srv/trilioshare"", ""50.20.30.40:/srv/trilioshare""), mock.call(""10.20.30.40:/srv/trilioshare2"", ""50.20.30.40:/srv/trilioshare2"") ]) def test_ghost_nfs_share_mismatch(self): self.patch_object(self.trilio_charm, ""_ghost_nfs_share"") self.config.return_value = ( ""10.20.30.40:/srv/trilioshare,10.20.30.40:/srv/trilioshare2"" ) with self.assertRaises(trilio.MismatchedConfigurationException): self.trilio_charm.ghost_nfs_share( ""50.20.30.40:/srv/trilioshare"" ) def _version_compare(a, b): if a > b: return 1 if a == b: return 0 if a < b: return -1 self.version_compare.side_effect = _version_compare { 'db_type': 'legacy', 'transport_type': 'legacy', 'trilio_compat_version': 4.0}) cls_mock.charm_instance.release_pkg_version = lambda: '4.1' { 'db_type': 'dedicated', 'transport_type': 'dmapi', 'trilio_compat_version': 4.1}) cls_mock.charm_instance.release_pkg_version = lambda: 'a4.1.1' with self.assertRaises(ValueError): trilio.trilio_properties(cls_mock)"," _ghost_share = ""50.20.30.40:/srv/trilioshare"" self.version_compare.return_value = 0 {'db_type': 'dedicated', 'transport_type': 'dmapi'}) self.version_compare.return_value = -1 {'db_type': 'legacy', 'transport_type': 'legacy'})",175,16
openstack%2Fopenstack-ansible-os_glance~master~I01225e479e22f3867e811055c8e5e87f644bf46e,openstack/openstack-ansible-os_glance,master,I01225e479e22f3867e811055c8e5e87f644bf46e,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:50:54.000000000,2022-06-16 09:58:19.000000000,2022-06-16 09:57:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/889d4fe7b8ebce331f09069cb4bedf07e3021083', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I01225e479e22f3867e811055c8e5e87f644bf46e\n'}, {'number': 2, 'created': '2022-06-14 17:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2703010e584e4c9d3d0bafbad67df55fe84c0b77', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I01225e479e22f3867e811055c8e5e87f644bf46e\n'}, {'number': 3, 'created': '2022-06-14 18:02:06.000000000', 'files': ['tasks/glance_post_install.yml', 'doc/source/index.rst', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/613e645a203769119162dc26cccc153c9f013a4d', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I01225e479e22f3867e811055c8e5e87f644bf46e\n'}]",1,845796,613e645a203769119162dc26cccc153c9f013a4d,12,3,3,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I01225e479e22f3867e811055c8e5e87f644bf46e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/96/845796/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/glance_post_install.yml', 'doc/source/index.rst', 'handlers/main.yml']",3,889d4fe7b8ebce331f09069cb4bedf07e3021083,osa/manage_lb,, - meta: noop listen: Manage LB when: false,0,18
openstack%2Fopenstack-ansible~master~If55df8a00da912b76656f797e3650adb465fdf2d,openstack/openstack-ansible,master,If55df8a00da912b76656f797e3650adb465fdf2d,Increase manila flavor size,MERGED,2022-06-15 14:31:45.000000000,2022-06-16 09:57:06.000000000,2022-06-16 09:54:56.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-15 14:31:45.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7976439d5fa987a818169a7e7603e7c76525cac1', 'message': 'Increase manila flavor size\n\nChange-Id: If55df8a00da912b76656f797e3650adb465fdf2d\n'}]",1,845998,7976439d5fa987a818169a7e7603e7c76525cac1,11,4,1,28619,,,0,"Increase manila flavor size

Change-Id: If55df8a00da912b76656f797e3650adb465fdf2d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/845998/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_manila.yml.j2'],1,7976439d5fa987a818169a7e7603e7c76525cac1,, ram: 350, ram: 320,1,1
openstack%2Fopenstack-ansible-os_glance~master~I4f445f280a71173f1b72a3b37bd9d54ea5694ac2,openstack/openstack-ansible-os_glance,master,I4f445f280a71173f1b72a3b37bd9d54ea5694ac2,Fix glance mounts compatability,MERGED,2022-06-14 14:36:23.000000000,2022-06-16 09:56:43.000000000,2022-06-16 09:55:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 14:36:23.000000000', 'files': ['tasks/glance_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/c9a9e2f87bcd07849a6037e0e5c5a9078bff89d0', 'message': ""Fix glance mounts compatability\n\nWhen default value has any concatenation, it tries to resolve variables\nand always contcatenate even when it's not needed.\n\nWith that we need to set defaults for the variables that are inside\ndefaults, otherwise even if default not needed - task would fail on\ndefault being undefined.\n\nChange-Id: I4f445f280a71173f1b72a3b37bd9d54ea5694ac2\n""}]",0,845767,c9a9e2f87bcd07849a6037e0e5c5a9078bff89d0,8,3,1,28619,,,0,"Fix glance mounts compatability

When default value has any concatenation, it tries to resolve variables
and always contcatenate even when it's not needed.

With that we need to set defaults for the variables that are inside
defaults, otherwise even if default not needed - task would fail on
default being undefined.

Change-Id: I4f445f280a71173f1b72a3b37bd9d54ea5694ac2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/67/845767/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/glance_post_install.yml'],1,c9a9e2f87bcd07849a6037e0e5c5a9078bff89d0,," what: ""{{ mount_var.what | default(mount_var.server | default('') ~ ':' ~ mount_var.remote_path | default('')) }}"""," what: ""{{ mount_var.what | default(mount_var.server ~ ':' ~ mount_var.remote_path) }}""",1,1
openstack%2Frequirements~master~I4bd5a74aab1307fcee16fefb0f53926ab1293b38,openstack/requirements,master,I4bd5a74aab1307fcee16fefb0f53926ab1293b38,Updated from generate-constraints,ABANDONED,2022-06-14 02:45:02.000000000,2022-06-16 09:56:28.000000000,,"[{'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 02:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/5eda7755f64c2605ed2442b087ca4891a4be758a', 'message': 'Updated from generate-constraints\n\nChange-Id: I4bd5a74aab1307fcee16fefb0f53926ab1293b38\n'}, {'number': 2, 'created': '2022-06-14 03:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b7d476c00523aa3a6c8373c306f4e7ceebb85ea9', 'message': 'Updated from generate-constraints\n\nChange-Id: I4bd5a74aab1307fcee16fefb0f53926ab1293b38\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 3, 'created': '2022-06-14 09:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/be8edbc0d344180c9bdd4a61374bd310ee83b7db', 'message': 'Updated from generate-constraints\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/845715\nChange-Id: I4bd5a74aab1307fcee16fefb0f53926ab1293b38\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 4, 'created': '2022-06-14 11:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/45f95a3445741916b8b8cb6ddf031ceff299f31d', 'message': 'Updated from generate-constraints\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/845715\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/845171\nChange-Id: I4bd5a74aab1307fcee16fefb0f53926ab1293b38\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 5, 'created': '2022-06-16 07:26:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e0b7418d74dc75f57563192ebd5588196e506830', 'message': 'Updated from generate-constraints\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/845715\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/845171\nChange-Id: I4bd5a74aab1307fcee16fefb0f53926ab1293b38\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",5,845661,e0b7418d74dc75f57563192ebd5588196e506830,22,3,5,11131,,,0,"Updated from generate-constraints

Depends-On: https://review.opendev.org/c/openstack/neutron/+/845715
Depends-On: https://review.opendev.org/c/openstack/octavia/+/845171
Change-Id: I4bd5a74aab1307fcee16fefb0f53926ab1293b38
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/845661/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5eda7755f64c2605ed2442b087ca4891a4be758a,openstack/requirements/constraints/noclob,rcssmin===1.1.0fixtures===4.0.0moto===3.1.13pyroute2.nftables===0.6.12pyroute2===0.6.12pyroute2.ethtool===0.6.12cryptography===37.0.2pkg_resources===0.0.0django-compressor===4.0boto3===1.24.8Sphinx===5.0.1botocore===1.27.8pyroute2.nslink===0.6.12pyroute2.ndb===0.6.12pyroute2.core===0.6.12pyroute2.ipdb===0.6.12pyroute2.ipset===0.6.12rjsmin===1.2.0,rcssmin===1.0.6fixtures===3.0.0moto===3.1.12pyroute2.nftables===0.6.9pyroute2===0.6.9pyroute2.ethtool===0.6.9cryptography===36.0.2django-compressor===2.4.1boto3===1.24.7Sphinx===4.5.0botocore===1.27.7pyroute2.nslink===0.6.9pyroute2.ndb===0.6.9pyroute2.core===0.6.9pyroute2.ipdb===0.6.9pyroute2.ipset===0.6.9rjsmin===1.1.0,18,17
openstack%2Frpm-packaging~master~Id58ed046a7cdb1b09b3f561c15cdee99d756cb82,openstack/rpm-packaging,master,Id58ed046a7cdb1b09b3f561c15cdee99d756cb82,Use TOX_CONSTRAINTS_FILE,MERGED,2020-12-24 08:00:12.000000000,2022-06-16 09:43:04.000000000,2022-06-16 09:43:04.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-12-24 08:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d28af00844094c518be3b89b6e0032ade1f59272', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Id58ed046a7cdb1b09b3f561c15cdee99d756cb82\n'}, {'number': 2, 'created': '2022-06-16 09:06:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a162e98fa9a2064db7bc483fdf6407ae3e793e70', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: Id58ed046a7cdb1b09b3f561c15cdee99d756cb82\n'}]",0,768450,a162e98fa9a2064db7bc483fdf6407ae3e793e70,19,5,2,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: Id58ed046a7cdb1b09b3f561c15cdee99d756cb82
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/50/768450/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d28af00844094c518be3b89b6e0032ade1f59272,,install_command = pip install -U -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible-plugins~master~I46c6c9f4652d2bac49de07d81ae95b51139ac4a6,openstack/openstack-ansible-plugins,master,I46c6c9f4652d2bac49de07d81ae95b51139ac4a6,Use shlex_quote from ansible module_utils rather than SSH plugin,MERGED,2022-06-14 17:40:52.000000000,2022-06-16 09:28:50.000000000,2022-06-16 09:27:37.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 17:40:52.000000000', 'files': ['plugins/connection/ssh.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/0fb0aaa0ef7f963dc31b13e5bb027e6ad78f2cfc', 'message': 'Use shlex_quote from ansible module_utils rather than SSH plugin\n\nChange-Id: I46c6c9f4652d2bac49de07d81ae95b51139ac4a6\n'}]",0,845792,0fb0aaa0ef7f963dc31b13e5bb027e6ad78f2cfc,8,3,1,25023,,,0,"Use shlex_quote from ansible module_utils rather than SSH plugin

Change-Id: I46c6c9f4652d2bac49de07d81ae95b51139ac4a6
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/92/845792/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/connection/ssh.py'],1,0fb0aaa0ef7f963dc31b13e5bb027e6ad78f2cfc,,from ansible.module_utils.six.moves import shlex_quote shlex_quote(cmd), SSH.shlex_quote(cmd),3,1
openstack%2Fopenstack-ansible-lxc_container_create~master~I707dbfc6878095f7593abe3fca3a5e5b310063e5,openstack/openstack-ansible-lxc_container_create,master,I707dbfc6878095f7593abe3fca3a5e5b310063e5,Add ovs support for lxc containers.,MERGED,2022-04-13 15:07:42.000000000,2022-06-16 09:15:09.000000000,2022-06-16 09:13:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-04-13 15:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/4fbc6ab8246ac291514ece3bdb3da03dd5b3e99f', 'message': ""Add ovs support for lxc containers. The main problem this commit is resolving is that with openvswitch,\nthe ports were not get cleaned up, and after restart (hard restart or even with soft restart\nlxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.\n\nChange-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5\n""}, {'number': 2, 'created': '2022-04-13 15:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/2b6aace8c05975c9755ccfd2f57d50745b1d3b6d', 'message': ""Add ovs support for lxc containers.\n\nThe main problem this commit is resolving is that with openvswitch,\nthe ports were not get cleaned up, and after restart (hard restart or even with soft restart\nlxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.\n\nChange-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5\n""}, {'number': 3, 'created': '2022-04-17 07:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/bcc1033b9ecd117847bbf9ce7e1c14ffa76dc2be', 'message': ""Add ovs support for lxc containers.\n\nThe main problem this commit is resolving is that with openvswitch,\nthe ports were not get cleaned up, and after restart (hard restart or even with soft restart\nlxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.\n\nChange-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837742\n""}, {'number': 4, 'created': '2022-04-17 11:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/df87e9ee76f4467de6847274265de476395d0f06', 'message': ""Add ovs support for lxc containers.\n\nThe main problem this commit is resolving is that with openvswitch,\nthe ports were not get cleaned up, and after restart (hard restart or even with soft restart\nlxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.\n\nChange-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837742\n""}, {'number': 5, 'created': '2022-05-21 08:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/71d5598e082b7fb20740ec41c1bb2b9244c2311f', 'message': ""Add ovs support for lxc containers.\n\nThe main problem this commit is resolving is that with openvswitch,\nthe ports were not get cleaned up, and after restart (hard restart or even with soft restart\nlxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.\n\nChange-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837742\n""}, {'number': 6, 'created': '2022-06-08 08:10:06.000000000', 'files': ['files/lxc-veth-wiring.sh', 'templates/veth-cleanup.sh.j2', 'tasks/lxc_container_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/0b7a8645de235f9fd1d06a059bf767f8cd618ee3', 'message': ""Add ovs support for lxc containers.\n\nThe main problem this commit is resolving is that with openvswitch,\nthe ports were not get cleaned up, and after restart (hard restart or even with soft restart\nlxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.\n\nChange-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837742\n""}]",10,837734,0b7a8645de235f9fd1d06a059bf767f8cd618ee3,28,3,6,29605,,,0,"Add ovs support for lxc containers.

The main problem this commit is resolving is that with openvswitch,
the ports were not get cleaned up, and after restart (hard restart or even with soft restart
lxc.service gets time-out) containers couldn't start properly, due to existing port on the bridges.

Change-Id: I707dbfc6878095f7593abe3fca3a5e5b310063e5
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/837742
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/34/837734/6 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_container_ovs_overrides.yml', 'templates/veth-cleanup.sh.j2', 'tasks/lxc_container_config.yml']",3,4fbc6ab8246ac291514ece3bdb3da03dd5b3e99f,,"- name: Check if container interface bridges are linuxbridge or openvswitch include_tasks: lxc_container_ovs_overrides.yml with_indexed_items: ""{{ (lxc_container_networks_combined.values() | list) | sort(attribute='interface') }}"" ",,20,0
openstack%2Fbashate~master~I6a44ac9ab6969fe23e7504d44fc75a7242362528,openstack/bashate,master,I6a44ac9ab6969fe23e7504d44fc75a7242362528,Do not run pre-commit verbose by default,MERGED,2022-04-01 11:23:08.000000000,2022-06-16 09:14:50.000000000,2022-06-16 09:13:13.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 24162}]","[{'number': 1, 'created': '2022-04-01 11:23:08.000000000', 'files': ['.pre-commit-hooks.yaml'], 'web_link': 'https://opendev.org/openstack/bashate/commit/3e1e5d0d2e30f17f27307c451be8a3e733589aeb', 'message': 'Do not run pre-commit verbose by default\n\nChange-Id: I6a44ac9ab6969fe23e7504d44fc75a7242362528\n'}]",4,836142,3e1e5d0d2e30f17f27307c451be8a3e733589aeb,10,7,1,30902,,,0,"Do not run pre-commit verbose by default

Change-Id: I6a44ac9ab6969fe23e7504d44fc75a7242362528
",git fetch https://review.opendev.org/openstack/bashate refs/changes/42/836142/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-hooks.yaml'],1,3e1e5d0d2e30f17f27307c451be8a3e733589aeb,silent_precommit,# See usage instructions at https://pre-commit.com,# See usage instructions at http://pre-commit.com verbose: true,1,2
openstack%2Fopenstack-ansible-os_cinder~master~I62a4ba182cc752a5bc4f6e8c4d2430f7e7aafe54,openstack/openstack-ansible-os_cinder,master,I62a4ba182cc752a5bc4f6e8c4d2430f7e7aafe54,Forcefully remove Cinder v2 endpoints,MERGED,2022-06-14 09:16:15.000000000,2022-06-16 09:09:51.000000000,2022-06-16 09:08:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-06-14 09:16:15.000000000', 'files': ['releasenotes/notes/remove_cinderv2_api-a9e848a63c055bb2.yaml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/9a8ea212c0dbf77e08d43fc75cb65c6ed488ce10', 'message': 'Forcefully remove Cinder v2 endpoints\n\nNowadays Cinder does not support v2 api so it makes sense to ensure\nthat these endpoints or service is not present in catalog.\n\nChange-Id: I62a4ba182cc752a5bc4f6e8c4d2430f7e7aafe54\n'}]",0,845714,9a8ea212c0dbf77e08d43fc75cb65c6ed488ce10,8,3,1,28619,,,0,"Forcefully remove Cinder v2 endpoints

Nowadays Cinder does not support v2 api so it makes sense to ensure
that these endpoints or service is not present in catalog.

Change-Id: I62a4ba182cc752a5bc4f6e8c4d2430f7e7aafe54
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/14/845714/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_cinderv2_api-a9e848a63c055bb2.yaml', 'defaults/main.yml', 'vars/main.yml']",3,9a8ea212c0dbf77e08d43fc75cb65c6ed488ce10,," state: ""absent"" state: ""absent"" state: ""absent"" state: ""absent"""," state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}"" state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}"" state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}"" state: ""{{ (cinder_enable_v2_api | bool) | ternary('present', 'absent') }}""",10,7
openstack%2Fgrenade~master~I642ca62018d2133eb3048a91ab2fa605b999c24a,openstack/grenade,master,I642ca62018d2133eb3048a91ab2fa605b999c24a,docs: fix typo in README,MERGED,2022-04-25 17:44:27.000000000,2022-06-16 09:09:43.000000000,2022-06-16 09:08:14.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-25 17:44:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/grenade/commit/53056fc21202c375bb8c8e28653c39204e511875', 'message': 'docs: fix typo in README\n\nChange-Id: I642ca62018d2133eb3048a91ab2fa605b999c24a\n'}]",0,839247,53056fc21202c375bb8c8e28653c39204e511875,7,2,1,5314,,,0,"docs: fix typo in README

Change-Id: I642ca62018d2133eb3048a91ab2fa605b999c24a
",git fetch https://review.opendev.org/openstack/grenade refs/changes/47/839247/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,53056fc21202c375bb8c8e28653c39204e511875,readme,"If you are running Grenade on the same machine you cloned to, you **do","If you are running Grenade on the same maching you cloned to, you **do",1,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~Iaa503b8979af25083896f8b6f2f34fcd9540a1eb,openstack/tripleo-upgrade,stable/train,Iaa503b8979af25083896f8b6f2f34fcd9540a1eb,[update] Run undercloud workaround after updating required packages,ABANDONED,2022-04-05 12:47:25.000000000,2022-06-16 08:50:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-05 12:47:25.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d9c199fc896ee0df41e96cfbf4bcb5a9e8c67506', 'message': '[update] Run undercloud workaround after updating required packages\n\nThis enables us to patch Tripleo-Heat-Template before running the\nupdate.\n\nChange-Id: Iaa503b8979af25083896f8b6f2f34fcd9540a1eb\n'}]",0,836648,d9c199fc896ee0df41e96cfbf4bcb5a9e8c67506,3,1,1,8297,,,0,"[update] Run undercloud workaround after updating required packages

This enables us to patch Tripleo-Heat-Template before running the
update.

Change-Id: Iaa503b8979af25083896f8b6f2f34fcd9540a1eb
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/48/836648/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,d9c199fc896ee0df41e96cfbf4bcb5a9e8c67506,, - name: install/update required packages before updating the undercloud become: true become_user: root import_tasks: ../common/undercloud_prerequisites.yaml , - name: install/update required packages before updating the undercloud become: true become_user: root import_tasks: ../common/undercloud_prerequisites.yaml ,5,5
openstack%2Fneutron~stable%2Fyoga~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/yoga,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-15 13:42:24.000000000,2022-06-16 08:22:34.000000000,2022-06-16 08:20:46.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 13:42:24.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/46c359ca4e6ae2858334a6b4182806586b5b26b0', 'message': '[OVN]Any string type dhcp options should be quoted\n\nAny dhcp option[1] which value is string type in ovn\nshould be added quotes, otherwise it would be regard\nas constant.\n\n[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116\n\nCloses-Bug: #1946764\nChange-Id: Id174cd944c3b883b749046bc49d00e011eb891fe\n(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)\n'}]",1,845842,46c359ca4e6ae2858334a6b4182806586b5b26b0,17,3,1,13861,,,0,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/845842/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",5,46c359ca4e6ae2858334a6b4182806586b5b26b0,bug/1946764-stable/yoga,"# OVN string type DHCP options OVN_STR_TYPE_DHCP_OPTS = [ 'domain_name', 'bootfile_name', 'path_prefix', 'wpad', 'tftp_server'] ",,24,9
openstack%2Foctavia~stable%2Fxena~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,stable/xena,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:48:51.000000000,2022-06-16 08:17:31.000000000,2022-06-16 08:15:16.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-06-08 14:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/541e1f9e7ce230035843c560d25d8bfc252bfa09', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 2, 'created': '2022-06-08 15:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27f828caa362c79184841d8d332a2e6df0dd4747', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 3, 'created': '2022-06-08 20:37:42.000000000', 'files': ['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d668e1f2055e0124cce4a4b7abae06ade340e24a', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}]",7,845043,d668e1f2055e0124cce4a4b7abae06ade340e24a,13,4,3,11628,,,0,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/845043/2 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py']",2,541e1f9e7ce230035843c560d25d8bfc252bfa09,, 'total': sum((int(i) for i in vals[2:])), 'total': sum([int(i) for i in vals[2:]]),1,6
openstack%2Foctavia~stable%2Fwallaby~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,stable/wallaby,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:49:00.000000000,2022-06-16 08:17:20.000000000,2022-06-16 08:15:19.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-06-08 14:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7819ba590ed6217e11a64a896e09a2e82635c32d', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 2, 'created': '2022-06-08 15:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4596cd50c585ac6786c1ef1050d93fe7bf6b7d0c', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 3, 'created': '2022-06-08 20:37:03.000000000', 'files': ['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a870525df503605b6e7c1ff932487ac61234dbb6', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}]",7,845044,a870525df503605b6e7c1ff932487ac61234dbb6,13,4,3,11628,,,0,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
",git fetch https://review.opendev.org/openstack/octavia refs/changes/44/845044/2 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py']",2,7819ba590ed6217e11a64a896e09a2e82635c32d,, 'total': sum((int(i) for i in vals[2:])), 'total': sum([int(i) for i in vals[2:]]),1,6
openstack%2Fheat~stable%2Fyoga~I2de594258231e3f1c217904afce88a83a8f94df3,openstack/heat,stable/yoga,I2de594258231e3f1c217904afce88a83a8f94df3,Make grenade job voting again,MERGED,2022-06-15 12:27:32.000000000,2022-06-16 06:27:58.000000000,2022-06-16 06:25:39.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 12:27:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e', 'message': 'Make grenade job voting again\n\nBecause change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported\nto the previous stable branch.\n\nChange-Id: I2de594258231e3f1c217904afce88a83a8f94df3\n(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)\n'}]",0,845839,03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e,8,2,1,9816,,,0,"Make grenade job voting again

Because change I7d1017bcd7147329c4e187336daee1a1ae280fa9 was backported
to the previous stable branch.

Change-Id: I2de594258231e3f1c217904afce88a83a8f94df3
(cherry picked from commit fee8c40c23fb160a4fe64e95a71f827528287690)
",git fetch https://review.opendev.org/openstack/heat refs/changes/39/845839/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03e4f9af62ed66a4df72f5da793f8ce4caf8ac3e,,, voting: false,0,1
openstack%2Fcharm-openstack-dashboard~stable%2Fvictoria~Iff9357e5efb7937927a8d0a6de072d4afaa98906,openstack/charm-openstack-dashboard,stable/victoria,Iff9357e5efb7937927a8d0a6de072d4afaa98906,Ease KeepAliveTimeout,MERGED,2022-04-05 02:00:35.000000000,2022-06-16 05:57:29.000000000,2022-06-16 05:57:29.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 02:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/f142445997f2c7c2787884444492bd3707abfbb5', 'message': ""Ease KeepAliveTimeout\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, connections from a web\nbrowser to Horizon application can be terminated unnecessarily during\nmultiple requests in a session due to the short KeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nservices behind a reverse proxy since it's the default value of nginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906\n(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)\n""}, {'number': 2, 'created': '2022-05-23 02:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/300feb8ce98ddfad72eeec456ed7f4afaebef28b', 'message': ""Ease KeepAliveTimeout\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, connections from a web\nbrowser to Horizon application can be terminated unnecessarily during\nmultiple requests in a session due to the short KeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nservices behind a reverse proxy since it's the default value of nginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906\n(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)\n""}, {'number': 3, 'created': '2022-06-10 03:04:29.000000000', 'files': ['templates/default-ssl', 'templates/default'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/674370b301d5022b46532db5e4a3d442de8144e9', 'message': ""Ease KeepAliveTimeout\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, connections from a web\nbrowser to Horizon application can be terminated unnecessarily during\nmultiple requests in a session due to the short KeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nservices behind a reverse proxy since it's the default value of nginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906\n(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)\n""}]",2,836431,674370b301d5022b46532db5e4a3d442de8144e9,17,4,3,8108,,,0,"Ease KeepAliveTimeout

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, connections from a web
browser to Horizon application can be terminated unnecessarily during
multiple requests in a session due to the short KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
services behind a reverse proxy since it's the default value of nginx.

Closes-Bug: #1947010
Change-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906
(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/31/836431/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default-ssl', 'templates/default']",2,f142445997f2c7c2787884444492bd3707abfbb5,bug/1947010, KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,4,0
openstack%2Ftripleo-ci~master~Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1,openstack/tripleo-ci,master,Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1,Install Python38 on CentOS-8,MERGED,2022-06-08 04:09:01.000000000,2022-06-16 05:53:31.000000000,2022-06-10 10:22:51.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14611}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-06-08 04:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a024f97db7a5714f8bbb6eab5417b40ee43c0b46', 'message': '[Workaround] Use python_version to 3.6 for dib\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nWokarounding the python_version in setup.cfg fixes the issue.\n\nRelated-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 2, 'created': '2022-06-08 04:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a14d8acd2cd341de9348db203d87ddae4e5088bd', 'message': '[Workaround] Use python_version to 3.6 for dib\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nWokarounding the python_version in setup.cfg fixes the issue.\n\nRelated-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 3, 'created': '2022-06-08 05:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0869d2a438af7e909d8402e13150005c4ad1f1a4', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\n[1]. https://pkgs.org/download/python38\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 4, 'created': '2022-06-08 05:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e517d0992a20ff9f4f224a7be1fee9d49ab1bb35', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\n[1]. https://pkgs.org/download/python38\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 5, 'created': '2022-06-08 05:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5267b8caa5065081ab36bdf3073d5c73c94c4ed3', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\n[1]. https://pkgs.org/download/python38\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 6, 'created': '2022-06-08 06:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5e74c8a95f2e798a97b3a0a9f660992650097213', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\nIt also drops python3-tripleoclient and python3-devel installation\nfrom main.yml. It is already taken care by release file.\n\n[1]. https://pkgs.org/download/python38\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 7, 'created': '2022-06-08 06:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e842eb7db682a3161595ef50520cc449ce9200c5', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\nIt also drops python3-tripleoclient and python3-devel installation\nfrom main.yml. It is already taken care by release file.\n\npy38 does not works well with Ansible on CentOS-8[2].\n\nSo we also adds virtualenv_python var to pip ansible module\nto explicitly set python_version based on need.\n\n[1]. https://pkgs.org/download/python38\n[2]. https://github.com/ansible/ansible/issues/67083\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 8, 'created': '2022-06-08 07:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3c8372a60b7e13ff8597731f0bcad5d2ac9ebe6', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\nIt also drops python3-tripleoclient and python3-devel installation\nfrom main.yml. It is already taken care by release file.\n\npy38 does not works well with Ansible on CentOS-8[2].\n\nSo we also set ensure_pip_virtualenv_command var to pip ansible module\nto explicitly use python_version based on need.\n\n[1]. https://pkgs.org/download/python38\n[2]. https://github.com/ansible/ansible/issues/67083\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 9, 'created': '2022-06-08 07:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8b55ed57d5620f3a725c02633a3e605b9bc1fbba', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\nIt also drops python3-tripleoclient and python3-devel installation\nfrom main.yml. It is already taken care by release file.\n\npy38 does not works well with Ansible on CentOS-8[2].\n\nSo we also set ensure_pip_virtualenv_command var to pip ansible module\nto explicitly use python_version based on need.\n\n[1]. https://pkgs.org/download/python38\n[2]. https://github.com/ansible/ansible/issues/67083\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 10, 'created': '2022-06-09 18:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/554eac86c2e48f8ba2b700d832989137ac96d1ed', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\nIt also drops python3-tripleoclient and python3-devel installation\nfrom main.yml. It is already taken care by release file.\n\npy38 does not works well with Ansible on CentOS-8[2].\n\nSo we also set ensure_pip_virtualenv_command var to pip ansible module\nto explicitly use python_version based on need.\n\n[1]. https://pkgs.org/download/python38\n[2]. https://github.com/ansible/ansible/issues/67083\n\nCloses-Bug: #1977888\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}, {'number': 11, 'created': '2022-06-09 21:18:12.000000000', 'files': ['roles/oooci-build-images/tasks/main.yaml', 'roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6d7eaa96f73f348ecdd8b63c8a31ad64e2411119', 'message': 'Install Python38 on CentOS-8\n\nDIB is a branchless project and it gets pulled from master.\nhttps://review.opendev.org/c/openstack/diskimage-builder/+/836229\ndrops the py36 support and is breaking cs8 image build.\n\nInstalling Python38[1] will fix the issue.\n\nIt also drops python3-tripleoclient and python3-devel installation\nfrom main.yml. It is already taken care by release file.\n\npy38 does not works well with Ansible on CentOS-8[2].\n\nSo we also set ensure_pip_virtualenv_command var to pip ansible module\nto explicitly use python_version based on need.\n\n[1]. https://pkgs.org/download/python38\n[2]. https://github.com/ansible/ansible/issues/67083\n\nCloses-Bug: #1977888\n\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/845189\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1\n'}]",8,845081,6d7eaa96f73f348ecdd8b63c8a31ad64e2411119,36,7,11,12393,,,0,"Install Python38 on CentOS-8

DIB is a branchless project and it gets pulled from master.
https://review.opendev.org/c/openstack/diskimage-builder/+/836229
drops the py36 support and is breaking cs8 image build.

Installing Python38[1] will fix the issue.

It also drops python3-tripleoclient and python3-devel installation
from main.yml. It is already taken care by release file.

py38 does not works well with Ansible on CentOS-8[2].

So we also set ensure_pip_virtualenv_command var to pip ansible module
to explicitly use python_version based on need.

[1]. https://pkgs.org/download/python38
[2]. https://github.com/ansible/ansible/issues/67083

Closes-Bug: #1977888

Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/845189

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ib87eb7bbe6b523e3bf78c7f870cff96d5b5dd7e1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/81/845081/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,a024f97db7a5714f8bbb6eab5417b40ee43c0b46,workaround_py36,"- name: Workaround DIB python_requires = >=3.8 for CentOS-8 replace: path: ""{{ openstack_git_root }}/requirements/setup.cfg"" regexp: ""python_requires = >=3.8"" replace: ""python_requires = >=3.6"" ignore_errors: True when: ansible_distribution_major_version is version(8, '==') ",,8,0
openstack%2Fdesignate-dashboard~master~Ie1e3e7579cff979535a40585d8c11ed94557e6e1,openstack/designate-dashboard,master,Ie1e3e7579cff979535a40585d8c11ed94557e6e1,Remove unused designateclient,MERGED,2022-05-18 11:15:46.000000000,2022-06-16 05:45:39.000000000,2022-06-16 05:43:25.000000000,"[{'_account_id': 9816}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-18 11:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/d2cb2e1c7e98840df4f987010301153127fad8f4', 'message': 'Remove unused designateclient\n\ndesignateclient was used by API v1 dashboard, but it was already\nremoved.\n\nAPI v2 dashaobard does not depend on designateclient but it uses\npassthough APIs\n\nChange-Id: Ie1e3e7579cff979535a40585d8c11ed94557e6e1\n'}, {'number': 2, 'created': '2022-05-18 11:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ba015784ea9bc3f36beb0bc1d23dc5e5a377c0b8', 'message': 'Remove unused designateclient\n\ndesignateclient was used by API v1 dashboard, but it was already\nremoved.\n\nAPI v2 dashaobard does not depend on designateclient but it uses\npassthough APIs\n\nChange-Id: Ie1e3e7579cff979535a40585d8c11ed94557e6e1\n'}, {'number': 3, 'created': '2022-05-18 11:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/529a40ac545809647a8e8a9e9e37dab57a7e82cb', 'message': 'Remove unused designateclient\n\ndesignateclient was used by API v1 dashboard, but it was already\nremoved.\n\nAPI v2 dashaobard does not depend on designateclient but it uses\npassthough APIs\n\nChange-Id: Ie1e3e7579cff979535a40585d8c11ed94557e6e1\n'}, {'number': 4, 'created': '2022-05-18 12:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/a3c4564047e0157165aaa96b82d2e0207acaab9c', 'message': 'Remove unused designateclient\n\ndesignateclient was used by API v1 dashboard, but it was already\nremoved.\n\nAPI v2 dashaobard does not depend on designateclient but it uses\npassthough APIs\n\nChange-Id: Ie1e3e7579cff979535a40585d8c11ed94557e6e1\n'}, {'number': 5, 'created': '2022-05-18 15:20:18.000000000', 'files': ['requirements.txt', 'designatedashboard/enabled/_1722_dns_reversedns_panel.py', 'designatedashboard/enabled/_1721_dns_zones_panel.py', 'designatedashboard/local_settings.d/_1799_dns_settings.py', 'releasenotes/notes/remove-designateclient-e98963b8baa4aa4f.yaml', 'designatedashboard/exceptions.py'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/d409496dd622a43cd0285acc3edfea2fcf7224f8', 'message': 'Remove unused designateclient\n\ndesignateclient was used by API v1 dashboard, but it was already\nremoved.\n\nAPI v2 dashaobard does not depend on designateclient but it uses\npassthough APIs\n\nChange-Id: Ie1e3e7579cff979535a40585d8c11ed94557e6e1\n'}]",3,842333,d409496dd622a43cd0285acc3edfea2fcf7224f8,17,5,5,9816,,,0,"Remove unused designateclient

designateclient was used by API v1 dashboard, but it was already
removed.

API v2 dashaobard does not depend on designateclient but it uses
passthough APIs

Change-Id: Ie1e3e7579cff979535a40585d8c11ed94557e6e1
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/33/842333/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'designatedashboard/enabled/_1722_dns_reversedns_panel.py', 'designatedashboard/enabled/_1721_dns_zones_panel.py', 'designatedashboard/local_settings.d/_1799_dns_settings.py', 'designatedashboard/exceptions.py']",5,d2cb2e1c7e98840df4f987010301153127fad8f4,,,"# Copyright (c) 2014 Rackspace Hosting. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. from designateclient import exceptions as designateclient from openstack_dashboard import exceptions NOT_FOUND = exceptions.NOT_FOUND + ( designateclient.ResourceNotFound, designateclient.NotFound, ) RECOVERABLE = exceptions.RECOVERABLE + ( designateclient.BadRequest, designateclient.Conflict, ) UNAUTHORIZED = exceptions.UNAUTHORIZED + ( designateclient.Forbidden, ) ",3,49
openstack%2Fdesignate-dashboard~master~I2a4f029d5081bb27b30a6889b73f2ad655e74f42,openstack/designate-dashboard,master,I2a4f029d5081bb27b30a6889b73f2ad655e74f42,Replace usage of oslo.log,MERGED,2022-05-18 15:26:45.000000000,2022-06-16 05:44:37.000000000,2022-06-16 05:43:21.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-05-18 15:26:45.000000000', 'files': ['requirements.txt', 'releasenotes/notes/remove-oslo-log-078df11995380f36.yaml', 'designatedashboard/api/rest/passthrough.py'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/02c92fd2b52637e1ec513ec47160a607fe38f3ab', 'message': ""Replace usage of oslo.log\n\nHorizon doesn't rely on oslo.log and use the generic logging library\nand the Django logger. Following that, this change replaces oslo.log\nby the generic logging library, because the only requirement is to\nprovide access to the root logger instance which doesn't really require\noslo.log.\n\nChange-Id: I2a4f029d5081bb27b30a6889b73f2ad655e74f42\n""}]",1,842378,02c92fd2b52637e1ec513ec47160a607fe38f3ab,8,3,1,9816,,,0,"Replace usage of oslo.log

Horizon doesn't rely on oslo.log and use the generic logging library
and the Django logger. Following that, this change replaces oslo.log
by the generic logging library, because the only requirement is to
provide access to the root logger instance which doesn't really require
oslo.log.

Change-Id: I2a4f029d5081bb27b30a6889b73f2ad655e74f42
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/78/842378/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/remove-oslo-log-078df11995380f36.yaml', 'designatedashboard/api/rest/passthrough.py']",3,02c92fd2b52637e1ec513ec47160a607fe38f3ab,,import logging,from oslo_log import log as logging,5,2
openstack%2Fdesignate-dashboard~master~If2e0efb4240a72bedfbd09988707d4dabe9d5d1f,openstack/designate-dashboard,master,If2e0efb4240a72bedfbd09988707d4dabe9d5d1f,Fix manage.py for the default case,MERGED,2022-06-15 20:04:53.000000000,2022-06-16 05:43:23.000000000,2022-06-16 05:43:23.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-06-15 20:04:53.000000000', 'files': ['manage.py'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/ef686c490cb6ed4df2eca3aad36d1d07574b69d1', 'message': 'Fix manage.py for the default case\n\nThe manage.py included in designate-dashboard pointed to a settings file that does not exist. The tests (in tox.ini) already override these settings to use those under designatedashboard/tests/settings.py.\nThis patch updates manage.py to use the settings from horizon by default to reduce the confusion over which manage.py should be used to update the static files.\n\nChange-Id: If2e0efb4240a72bedfbd09988707d4dabe9d5d1f\n'}]",1,846064,ef686c490cb6ed4df2eca3aad36d1d07574b69d1,8,3,1,11628,,,0,"Fix manage.py for the default case

The manage.py included in designate-dashboard pointed to a settings file that does not exist. The tests (in tox.ini) already override these settings to use those under designatedashboard/tests/settings.py.
This patch updates manage.py to use the settings from horizon by default to reduce the confusion over which manage.py should be used to update the static files.

Change-Id: If2e0efb4240a72bedfbd09988707d4dabe9d5d1f
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/64/846064/1 && git format-patch -1 --stdout FETCH_HEAD,['manage.py'],1,ef686c490cb6ed4df2eca3aad36d1d07574b69d1,," ""DJANGO_SETTINGS_MODULE"", ""openstack_dashboard.settings"")"," ""DJANGO_SETTINGS_MODULE"", ""designatedashboard.settings"")",1,1
openstack%2Foctavia~master~Ic953d5a63f630e556af0fde7096fe3d686eff06c,openstack/octavia,master,Ic953d5a63f630e556af0fde7096fe3d686eff06c,Fix pyroute2.netns mock in some tests,MERGED,2022-06-08 20:21:02.000000000,2022-06-16 04:54:25.000000000,2022-06-16 04:53:08.000000000,"[{'_account_id': 11628}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-06-08 20:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f11a79eacdbe0e14180b190876d2bd82b008705f', 'message': 'Fix pyroute2.netns mock in some tests\n\nWith pyroute 0.6.11 the netns module import has been refactored so that\nit is no longer available as an attribute. Adapt our mocks accordingly\nso that the unit tests continue to work with both older versions and the\nnew one.\n\nChange-Id: Ic953d5a63f630e556af0fde7096fe3d686eff06c\n'}, {'number': 2, 'created': '2022-06-08 20:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3a3f4023ef759bf7ae8ab00113da34ab2ddc2d3c', 'message': 'Fix pyroute2.netns mock in some tests\n\nWith pyroute 0.6.11 the netns module import has been refactored so that\nit is no longer available as an attribute. Adapt our mocks accordingly\nso that the unit tests continue to work with both older versions and the\nnew one.\n\nChange-Id: Ic953d5a63f630e556af0fde7096fe3d686eff06c\n'}, {'number': 3, 'created': '2022-06-15 15:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/181aba081900bd2d1351d68a495d7ae0c05ed9c6', 'message': 'Fix pyroute2.netns mock in some tests\n\nWith pyroute 0.6.11 the netns module import has been refactored so that\nit is no longer available as an attribute. Adapt our mocks accordingly\nso that the unit tests continue to work with both older versions and the\nnew one.\n\nChange-Id: Ic953d5a63f630e556af0fde7096fe3d686eff06c\n'}, {'number': 4, 'created': '2022-06-15 15:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3825c1f5c11b7653fa338b7a8a511636df7e3943', 'message': 'Fix pyroute2.netns mock in some tests\n\nWith pyroute 0.6.11 the netns module import has been refactored so that\nit is no longer available as an attribute. Adapt our mocks accordingly\nso that the unit tests continue to work with both older versions and the\nnew one.\n\nChange-Id: Ic953d5a63f630e556af0fde7096fe3d686eff06c\n'}, {'number': 5, 'created': '2022-06-15 17:39:16.000000000', 'files': ['octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/66d7b6c7d106441aea2d606c5bcadf1a5d4958d2', 'message': 'Fix pyroute2.netns mock in some tests\n\nWith pyroute 0.6.11 the netns module import has been refactored so that\nit is no longer available as an attribute. Adapt our mocks accordingly\nso that the unit tests continue to work with both older versions and the\nnew one.\n\nChange-Id: Ic953d5a63f630e556af0fde7096fe3d686eff06c\n'}]",8,845171,66d7b6c7d106441aea2d606c5bcadf1a5d4958d2,28,5,5,13252,,,0,"Fix pyroute2.netns mock in some tests

With pyroute 0.6.11 the netns module import has been refactored so that
it is no longer available as an attribute. Adapt our mocks accordingly
so that the unit tests continue to work with both older versions and the
new one.

Change-Id: Ic953d5a63f630e556af0fde7096fe3d686eff06c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/845171/5 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py'],1,f11a79eacdbe0e14180b190876d2bd82b008705f,fix-pyroute2-netns-mock," @mock.patch('pyroute2.netns', create=True) mock_check_output, mock_netns, mock_netns2, mock_netns_create, @mock.patch('pyroute2.netns', create=True) mock_check_output, mock_netns, mock_netns2, mock_netns_create, @mock.patch('pyroute2.netns', create=True) mock_check_output, mock_netns, mock_netns2, mock_netns_create,"," mock_check_output, mock_netns, mock_netns_create, mock_check_output, mock_netns, mock_netns_create, mock_check_output, mock_netns, mock_netns_create,",9,3
openstack%2Foctavia~master~I2261342377e7acb1d2bc4fc742a351dfc66e4305,openstack/octavia,master,I2261342377e7acb1d2bc4fc742a351dfc66e4305,Fix new pylint issues,MERGED,2022-06-08 14:47:28.000000000,2022-06-16 04:51:14.000000000,2022-06-16 04:49:43.000000000,"[{'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-06-08 14:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e132cf4ded7bb97d955ee6333b62c5c7d041e8fc', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 2, 'created': '2022-06-08 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/23d55beb959eeb3c6d0559779889f8bc33e9bb80', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 3, 'created': '2022-06-10 08:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/650611879155a4ada6451e3c7c7c29769b257bba', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nDepends-On: https://review.opendev.org/c/openstack/taskflow/+/845293\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}, {'number': 4, 'created': '2022-06-10 10:20:08.000000000', 'files': ['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d590d6c7051a9d9941900efc85959e9158609e08', 'message': 'Fix new pylint issues\n\nThe new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.\n\nChange-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305\n'}]",9,845146,d590d6c7051a9d9941900efc85959e9158609e08,31,4,4,11628,,,0,"Fix new pylint issues

The new pylint release removed a few rule sets and added a check for generators. This patch updates Octavia for those changes.

Change-Id: I2261342377e7acb1d2bc4fc742a351dfc66e4305
",git fetch https://review.opendev.org/openstack/octavia refs/changes/46/845146/1 && git format-patch -1 --stdout FETCH_HEAD,"['.pylintrc', 'octavia/amphorae/backends/agent/api_server/amphora_info.py']",2,e132cf4ded7bb97d955ee6333b62c5c7d041e8fc,, 'total': sum((int(i) for i in vals[2:])), 'total': sum([int(i) for i in vals[2:]]),1,6
openstack%2Fskyline-console~master~Ib3414964c3d319737742f94084c113b636d5be3b,openstack/skyline-console,master,Ib3414964c3d319737742f94084c113b636d5be3b,fix: Fix user group list in project detail page,ABANDONED,2022-06-16 03:00:18.000000000,2022-06-16 03:24:57.000000000,,[],"[{'number': 1, 'created': '2022-06-16 03:00:18.000000000', 'files': ['src/stores/keystone/user-group.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0aa78d79b8b0900e9e5b98efbede6f4c56fecf27', 'message': 'fix: Fix user group list in project detail page\n\nFix user group list in project detail page: fix request params\n\nChange-Id: Ib3414964c3d319737742f94084c113b636d5be3b\n'}]",0,846086,0aa78d79b8b0900e9e5b98efbede6f4c56fecf27,2,0,1,30434,,,0,"fix: Fix user group list in project detail page

Fix user group list in project detail page: fix request params

Change-Id: Ib3414964c3d319737742f94084c113b636d5be3b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/86/846086/1 && git format-patch -1 --stdout FETCH_HEAD,['src/stores/keystone/user-group.js'],1,0aa78d79b8b0900e9e5b98efbede6f4c56fecf27,, params['scope.project.id'] = projectId;, params['project.id'] = projectId;,1,1
openstack%2Fcharm-openstack-dashboard~stable%2Fwallaby~Iff9357e5efb7937927a8d0a6de072d4afaa98906,openstack/charm-openstack-dashboard,stable/wallaby,Iff9357e5efb7937927a8d0a6de072d4afaa98906,Ease KeepAliveTimeout,MERGED,2022-04-05 02:00:21.000000000,2022-06-16 03:18:18.000000000,2022-06-16 03:18:18.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 02:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ec042423080bed424ff3ee3acf4bee3d9455441b', 'message': ""Ease KeepAliveTimeout\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, connections from a web\nbrowser to Horizon application can be terminated unnecessarily during\nmultiple requests in a session due to the short KeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nservices behind a reverse proxy since it's the default value of nginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906\n(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)\n""}, {'number': 2, 'created': '2022-06-10 03:03:18.000000000', 'files': ['templates/default-ssl', 'templates/default'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/1e34723cd24ec1c2cfc2ac724a79b1bcca0e1438', 'message': ""Ease KeepAliveTimeout\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, connections from a web\nbrowser to Horizon application can be terminated unnecessarily during\nmultiple requests in a session due to the short KeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nservices behind a reverse proxy since it's the default value of nginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906\n(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)\n""}]",3,836430,1e34723cd24ec1c2cfc2ac724a79b1bcca0e1438,16,4,2,8108,,,0,"Ease KeepAliveTimeout

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, connections from a web
browser to Horizon application can be terminated unnecessarily during
multiple requests in a session due to the short KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
services behind a reverse proxy since it's the default value of nginx.

Closes-Bug: #1947010
Change-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906
(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/30/836430/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default-ssl', 'templates/default']",2,ec042423080bed424ff3ee3acf4bee3d9455441b,bug/1947010, KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,4,0
openstack%2Fcharm-openstack-dashboard~stable%2Fussuri~Iff9357e5efb7937927a8d0a6de072d4afaa98906,openstack/charm-openstack-dashboard,stable/ussuri,Iff9357e5efb7937927a8d0a6de072d4afaa98906,Ease KeepAliveTimeout,MERGED,2022-04-05 02:00:48.000000000,2022-06-16 03:18:16.000000000,2022-06-16 03:18:16.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 02:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/095aaac271802a8a76c53186034149ff9e3c2de2', 'message': ""Ease KeepAliveTimeout\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, connections from a web\nbrowser to Horizon application can be terminated unnecessarily during\nmultiple requests in a session due to the short KeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nservices behind a reverse proxy since it's the default value of nginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906\n(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)\n""}, {'number': 2, 'created': '2022-06-10 00:48:04.000000000', 'files': ['templates/default-ssl', 'templates/default'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4c9b244ac7689c0e8c8f767c91a91c1ce40f8c85', 'message': ""Ease KeepAliveTimeout\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, connections from a web\nbrowser to Horizon application can be terminated unnecessarily during\nmultiple requests in a session due to the short KeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nservices behind a reverse proxy since it's the default value of nginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906\n(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)\n""}]",2,836432,4c9b244ac7689c0e8c8f767c91a91c1ce40f8c85,13,4,2,8108,,,0,"Ease KeepAliveTimeout

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, connections from a web
browser to Horizon application can be terminated unnecessarily during
multiple requests in a session due to the short KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
services behind a reverse proxy since it's the default value of nginx.

Closes-Bug: #1947010
Change-Id: Iff9357e5efb7937927a8d0a6de072d4afaa98906
(cherry picked from commit dbc4077ba5abeaced91d99f55ef876584f55ed69)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/32/836432/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/default-ssl', 'templates/default']",2,095aaac271802a8a76c53186034149ff9e3c2de2,bug/1947010, KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,4,0
openstack%2Fpython-heatclient~master~Ib452429e937dd859d150681740fb77292dbeaebb,openstack/python-heatclient,master,Ib452429e937dd859d150681740fb77292dbeaebb,Remove unicode literal from code,NEW,2022-06-16 03:03:57.000000000,2022-06-16 03:17:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-16 03:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/6aac4dbc090d2b30b5b8e0ff83bda2b809a10f0b', 'message': 'Remove unicode literal from code\n\nChange-Id: Ib452429e937dd859d150681740fb77292dbeaebb\n'}, {'number': 2, 'created': '2022-06-16 03:05:39.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/cd58946839e254ac0c30f8e30ef55334759ca637', 'message': ""Remove unicode literal from code\n\nAll strings are considered as unicode literal string from Python 3.\n\nThis patch drops the explicit unicode literal (u'...')\nappearances from the unicode strings.\n\nChange-Id: Ib452429e937dd859d150681740fb77292dbeaebb\n""}]",0,846087,cd58946839e254ac0c30f8e30ef55334759ca637,3,1,2,33881,,,0,"Remove unicode literal from code

All strings are considered as unicode literal string from Python 3.

This patch drops the explicit unicode literal (u'...')
appearances from the unicode strings.

Change-Id: Ib452429e937dd859d150681740fb77292dbeaebb
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/87/846087/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,6aac4dbc090d2b30b5b8e0ff83bda2b809a10f0b,,"project = 'Python-heatclient releasenotes' copyright = '2017, Heat team' author = 'Heat team' 'Python-heatclient releasenotes Documentation', 'Heat team', 'manual'), 'Python-heatclient releasenotes Documentation', 'Python-heatclient releasenotes Documentation',","project = u'Python-heatclient releasenotes' copyright = u'2017, Heat team' author = u'Heat team' u'Python-heatclient releasenotes Documentation', u'Heat team', 'manual'), u'Python-heatclient releasenotes Documentation', u'Python-heatclient releasenotes Documentation',",12,12
openstack%2Fcharm-keystone~stable%2Fussuri~Iff24f0f4b35fcc239abc14f37a76dcad8380d785,openstack/charm-keystone,stable/ussuri,Iff24f0f4b35fcc239abc14f37a76dcad8380d785,Ease KeepAliveTimeout in line with keystoneauth1.session.Session,MERGED,2022-04-05 02:02:51.000000000,2022-06-16 03:12:12.000000000,2022-06-16 03:12:12.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 02:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/7162aeb14154508d5ca2195be26402e73b046410', 'message': ""Ease KeepAliveTimeout in line with keystoneauth1.session.Session\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, sessions and connection\npools created by keystoneauth1.session.Session can be terminated\nunnecessarily during multiple API calls in a session due to the short\nKeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nAPI services behind a reverse proxy since it's the default value of\nnginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785\n(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)\n""}, {'number': 2, 'created': '2022-06-10 00:47:09.000000000', 'files': ['templates/wsgi-openstack-api.conf', 'templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/6e6fb7c8ffa0430ca20c4dcccfe41e0aa9561255', 'message': ""Ease KeepAliveTimeout in line with keystoneauth1.session.Session\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, sessions and connection\npools created by keystoneauth1.session.Session can be terminated\nunnecessarily during multiple API calls in a session due to the short\nKeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nAPI services behind a reverse proxy since it's the default value of\nnginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785\n(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)\n""}]",2,836436,6e6fb7c8ffa0430ca20c4dcccfe41e0aa9561255,12,4,2,8108,,,0,"Ease KeepAliveTimeout in line with keystoneauth1.session.Session

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, sessions and connection
pools created by keystoneauth1.session.Session can be terminated
unnecessarily during multiple API calls in a session due to the short
KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
API services behind a reverse proxy since it's the default value of
nginx.

Closes-Bug: #1947010
Change-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785
(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/36/836436/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/wsgi-openstack-api.conf', 'templates/openstack_https_frontend.conf']",2,7162aeb14154508d5ca2195be26402e73b046410,, KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,8,0
openstack%2Fpuppet-keystone~master~Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,openstack/puppet-keystone,master,Ibb80e96982f5639ef7235d4ea893d4d12c05a14c,Make sure keystone package name is asserted,MERGED,2022-06-15 11:41:40.000000000,2022-06-16 03:09:57.000000000,2022-06-16 03:09:57.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 11:41:40.000000000', 'files': ['spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fd5b32aeb639d7d0f615902ccd360a6e837aad94', 'message': 'Make sure keystone package name is asserted\n\n... and fix a type in a spec file.\n\nChange-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c\nCo-Authored-By: Rajesh Tailor <ratailor@redhat.com>\n'}]",0,845925,fd5b32aeb639d7d0f615902ccd360a6e837aad94,7,3,1,9816,,,0,"Make sure keystone package name is asserted

... and fix a type in a spec file.

Change-Id: Ibb80e96982f5639ef7235d4ea893d4d12c05a14c
Co-Authored-By: Rajesh Tailor <ratailor@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/25/845925/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/keystone_init_spec.rb'],1,fd5b32aeb639d7d0f615902ccd360a6e837aad94,," :ensure => 'present', :name => platform_params[:package_name], :tag => ['openstack', 'keystone-package'], { :package_name => 'openstack-keystone',"," 'ensure' => 'present', 'tag' => ['openstack', 'keystone-package'], { :package_name => 'opnestack-keystone',",4,3
openstack%2Fcharm-keystone~stable%2Fvictoria~Iff24f0f4b35fcc239abc14f37a76dcad8380d785,openstack/charm-keystone,stable/victoria,Iff24f0f4b35fcc239abc14f37a76dcad8380d785,Ease KeepAliveTimeout in line with keystoneauth1.session.Session,MERGED,2022-04-05 02:02:39.000000000,2022-06-16 02:59:50.000000000,2022-06-16 02:59:50.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 02:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/2a079dd612e13ce204895044074a3590ae126b76', 'message': ""Ease KeepAliveTimeout in line with keystoneauth1.session.Session\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, sessions and connection\npools created by keystoneauth1.session.Session can be terminated\nunnecessarily during multiple API calls in a session due to the short\nKeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nAPI services behind a reverse proxy since it's the default value of\nnginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785\n(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)\n""}, {'number': 2, 'created': '2022-05-23 02:04:31.000000000', 'files': ['templates/wsgi-openstack-api.conf', 'templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3cebc9fe528ed53c3743ffbfec491757d4941f45', 'message': ""Ease KeepAliveTimeout in line with keystoneauth1.session.Session\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, sessions and connection\npools created by keystoneauth1.session.Session can be terminated\nunnecessarily during multiple API calls in a session due to the short\nKeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nAPI services behind a reverse proxy since it's the default value of\nnginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785\n(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)\n""}]",2,836435,3cebc9fe528ed53c3743ffbfec491757d4941f45,14,4,2,8108,,,0,"Ease KeepAliveTimeout in line with keystoneauth1.session.Session

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, sessions and connection
pools created by keystoneauth1.session.Session can be terminated
unnecessarily during multiple API calls in a session due to the short
KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
API services behind a reverse proxy since it's the default value of
nginx.

Closes-Bug: #1947010
Change-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785
(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/35/836435/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/wsgi-openstack-api.conf', 'templates/openstack_https_frontend.conf']",2,2a079dd612e13ce204895044074a3590ae126b76,bug/1947010, KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,8,0
openstack%2Fcharm-keystone~stable%2Fwallaby~Iff24f0f4b35fcc239abc14f37a76dcad8380d785,openstack/charm-keystone,stable/wallaby,Iff24f0f4b35fcc239abc14f37a76dcad8380d785,Ease KeepAliveTimeout in line with keystoneauth1.session.Session,MERGED,2022-04-05 02:02:26.000000000,2022-06-16 02:47:07.000000000,2022-06-16 02:47:07.000000000,"[{'_account_id': 2424}, {'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-05 02:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/8849132c9becb7668330651543dbc088d791a6ce', 'message': ""Ease KeepAliveTimeout in line with keystoneauth1.session.Session\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, sessions and connection\npools created by keystoneauth1.session.Session can be terminated\nunnecessarily during multiple API calls in a session due to the short\nKeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nAPI services behind a reverse proxy since it's the default value of\nnginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785\n(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)\n""}, {'number': 2, 'created': '2022-06-10 03:01:47.000000000', 'files': ['templates/wsgi-openstack-api.conf', 'templates/openstack_https_frontend.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/aea59e822e493f8049f31047f38dc50daf9929db', 'message': ""Ease KeepAliveTimeout in line with keystoneauth1.session.Session\n\nApache2's default value for KeepAliveTimeout is 5 seconds, which is okay\nfor general web-page serving use cases. However, sessions and connection\npools created by keystoneauth1.session.Session can be terminated\nunnecessarily during multiple API calls in a session due to the short\nKeepAliveTimeout.\n\nLet's ease KeepAliveTimeout to 75 seconds, which is fairly standard for\nAPI services behind a reverse proxy since it's the default value of\nnginx.\n\nCloses-Bug: #1947010\nChange-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785\n(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)\n""}]",7,836434,aea59e822e493f8049f31047f38dc50daf9929db,22,4,2,8108,,,0,"Ease KeepAliveTimeout in line with keystoneauth1.session.Session

Apache2's default value for KeepAliveTimeout is 5 seconds, which is okay
for general web-page serving use cases. However, sessions and connection
pools created by keystoneauth1.session.Session can be terminated
unnecessarily during multiple API calls in a session due to the short
KeepAliveTimeout.

Let's ease KeepAliveTimeout to 75 seconds, which is fairly standard for
API services behind a reverse proxy since it's the default value of
nginx.

Closes-Bug: #1947010
Change-Id: Iff24f0f4b35fcc239abc14f37a76dcad8380d785
(cherry picked from commit 44bf92f6bf0c1396222433a7fd2717960987f1ce)
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/34/836434/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/wsgi-openstack-api.conf', 'templates/openstack_https_frontend.conf']",2,8849132c9becb7668330651543dbc088d791a6ce,, KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,8,0
openstack%2Fdiskimage-builder~master~Iefd7c23512c460e33117d12bbc33606134daa9e2,openstack/diskimage-builder,master,Iefd7c23512c460e33117d12bbc33606134daa9e2,Fix backward regex match,MERGED,2022-06-15 17:53:11.000000000,2022-06-16 00:54:13.000000000,2022-06-16 00:52:57.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 7118}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 17:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/edec4c61f149bdfa6014a668c678e2f79a24ad92', 'message': ""Fix backward regex match\n\n'9-stream' was being matched against the\nregex '9', causing builds on RHEL9 to try\nto install C9S RPMs.  We want this the\nother way (DIB_RELEASE=9 will not match\nthe regex '9-stream')\n\nResolves: rhbz#2097443\n\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\nChange-Id: Iefd7c23512c460e33117d12bbc33606134daa9e2\n""}, {'number': 2, 'created': '2022-06-15 17:56:08.000000000', 'files': ['diskimage_builder/elements/redhat-common/post-install.d/05-selinux-9-stream'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/887546d9270b6b8061abb578edd2a33a50d3f34d', 'message': ""Fix backward regex match\n\n'9-stream' was being matched against the regex '9',\ncausing builds on RHEL9 to try to install C9S RPMs.\nWe want this the other way so that DIB_RELEASE=9\nwill not match the regex '9-stream'.\n\nResolves: rhbz#2097443\n\nSigned-off-by: Lon Hohberger <lhh@redhat.com>\nChange-Id: Iefd7c23512c460e33117d12bbc33606134daa9e2\n""}]",2,846052,887546d9270b6b8061abb578edd2a33a50d3f34d,16,5,2,8161,,,0,"Fix backward regex match

'9-stream' was being matched against the regex '9',
causing builds on RHEL9 to try to install C9S RPMs.
We want this the other way so that DIB_RELEASE=9
will not match the regex '9-stream'.

Resolves: rhbz#2097443

Signed-off-by: Lon Hohberger <lhh@redhat.com>
Change-Id: Iefd7c23512c460e33117d12bbc33606134daa9e2
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/52/846052/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/redhat-common/post-install.d/05-selinux-9-stream'],1,edec4c61f149bdfa6014a668c678e2f79a24ad92,,if [[ ${DIB_RELEASE} =~ '9-stream' ]]; then,if [[ '9-stream' =~ ${DIB_RELEASE} ]]; then,1,1
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I8a985e496aa0161193becb38ad043835c4c21778,openstack/tripleo-upgrade,stable/wallaby,I8a985e496aa0161193becb38ad043835c4c21778,Make config-heat and config-resource options comptatible with OOOQ,MERGED,2022-06-14 12:39:59.000000000,2022-06-16 00:10:28.000000000,2022-06-16 00:10:28.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:39:59.000000000', 'files': ['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'infrared_plugin/main.yml', 'tasks/common/build_extra_template.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fe14899d2016f7e0d5c275f8a7004cd33a4b9a0c', 'message': 'Make config-heat and config-resource options comptatible with OOOQ\n\nThe original implementation restricted the usage strictly to infrared, see[1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/709972\n\nChange-Id: I8a985e496aa0161193becb38ad043835c4c21778\n(cherry picked from commit 7c3968536fa17ff154d0f24a8c28c3d9e5fad8ca)\n'}]",0,845680,fe14899d2016f7e0d5c275f8a7004cd33a4b9a0c,6,3,1,33080,,,0,"Make config-heat and config-resource options comptatible with OOOQ

The original implementation restricted the usage strictly to infrared, see[1].

[1] https://review.opendev.org/c/openstack/tripleo-upgrade/+/709972

Change-Id: I8a985e496aa0161193becb38ad043835c4c21778
(cherry picked from commit 7c3968536fa17ff154d0f24a8c28c3d9e5fad8ca)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/80/845680/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/create-overcloud-update-scripts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'infrared_plugin/main.yml', 'tasks/common/build_extra_template.yaml']",4,fe14899d2016f7e0d5c275f8a7004cd33a4b9a0c,,,"- name: set parameter_defaults for config_heat_extra.yaml set_fact: config_heat_extra_yaml: parameter_defaults: ""{{ install.get('config', {}).get('heat', {}) }}"" when: install.get('config', {}).get('heat', {}) - name: set resource_registry for config_heat_extra.yaml vars: config_resource: ""{{ install.get('config', {}).get('resource', {}) }}"" set_fact: config_heat_extra_yaml: ""{{ config_heat_extra_yaml | default({}) | combine({'resource_registry': config_resource}) }}"" when: install.get('config', {}).get('resource', {}) when: config_heat_extra_yaml is defined",15,18
openstack%2Fproject-config~master~Ibba8260fb13e6baf6d33103b9ea71c142cddc7c6,openstack/project-config,master,Ibba8260fb13e6baf6d33103b9ea71c142cddc7c6,neutron-tempest-plugin grafana update,MERGED,2022-06-15 11:59:33.000000000,2022-06-15 23:47:47.000000000,2022-06-15 23:41:24.000000000,"[{'_account_id': 5263}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 11:59:33.000000000', 'files': ['grafana/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/284172c14c5787400972c4dc4a0d21e53b66fce0', 'message': 'neutron-tempest-plugin grafana update\n\nReplace jobs which are no longer running with\njobs which are running from recent releases.\n\nqueens/rocky/stein/train jobs are no longer running\nin neutron-tempest-plugin gate, instead now we run\nwallaby/xena/yoga jobs, update dashboard to reflect\nthe same.\n\nChange-Id: Ibba8260fb13e6baf6d33103b9ea71c142cddc7c6\n'}]",0,845978,284172c14c5787400972c4dc4a0d21e53b66fce0,8,6,1,13861,,,0,"neutron-tempest-plugin grafana update

Replace jobs which are no longer running with
jobs which are running from recent releases.

queens/rocky/stein/train jobs are no longer running
in neutron-tempest-plugin gate, instead now we run
wallaby/xena/yoga jobs, update dashboard to reflect
the same.

Change-Id: Ibba8260fb13e6baf6d33103b9ea71c142cddc7c6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/845978/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron-tempest-plugin.yaml'],1,284172c14c5787400972c4dc4a0d21e53b66fce0,neutron-grafana-updates," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-wallaby.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-wallaby.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-wallaby') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-xena.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-xena.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-xena') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-wallaby.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-wallaby') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-xena.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-xena') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-yoga') - title: Yoga Release Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-yoga') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-yoga') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-yoga (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-yoga') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-yoga') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-yoga') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-sfc-yoga') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe-yoga') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-yoga.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-yoga.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-fwaas-yoga') - title: Number of Yoga Release Failures (Check queue) - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-yoga (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-sfc-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe-yoga') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-yoga.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-fwaas-yoga') - title: Xena Release Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-xena.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-xena.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-xena') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-xena.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-xena.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-xena') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-xena.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-xena.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-xena (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-xena.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-xena.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-xena') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-xena.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-xena.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-xena') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-xena.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-xena.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-xena') - title: Number of Xena Release Failures (Check queue) - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-xena.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-xena') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-xena.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-xena') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-xena.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-xena (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-xena.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-xena') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-xena.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-xena') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-xena.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-xena') - title: Wallaby Release Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-wallaby.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-wallaby.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-wallaby') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-wallaby.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-wallaby.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-wallaby') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-wallaby.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-wallaby.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-wallaby (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-wallaby.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-wallaby.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-wallaby') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-wallaby.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-wallaby.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-wallaby') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-wallaby.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-wallaby.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-wallaby') - title: Number of Wallaby Release Failures (Check queue) - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-wallaby.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-wallaby') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-wallaby.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-wallaby') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-wallaby.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-wallaby (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-wallaby.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-wallaby') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-wallaby.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-wallaby') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-wallaby.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-wallaby')"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-train') - title: Train Release Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-train (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-sfc-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe-train') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-train.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-train.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-fwaas-train') - title: Number of Train Release Failures (Check queue) - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-train (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-sfc-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe-train') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas-train.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-fwaas-train') - title: Stein Release Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein') - title: Number of Stein Release Failures (Check queue) - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein') - title: Rocky Release Failure Rates (Check queue) - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky') - title: Number of Rocky Release Failures (Check queue) - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky') type: graph - title: Queens Release Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-queens') type: graph - title: Number of Queens Release Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-queens')",54,74
openstack%2Ftempest~master~I63afbec5e3e5619e0ab1f0c504e56dee56ae88da,openstack/tempest,master,I63afbec5e3e5619e0ab1f0c504e56dee56ae88da,Pass the global request ID as logging context,MERGED,2022-05-10 17:21:26.000000000,2022-06-15 23:43:24.000000000,2022-06-15 23:41:51.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-05-10 17:21:26.000000000', 'files': ['tempest/lib/common/rest_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8aa5f89c2f595c2a65644475c6a3b782f1131afb', 'message': 'Pass the global request ID as logging context\n\nChange-Id: I63afbec5e3e5619e0ab1f0c504e56dee56ae88da\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",5,841310,8aa5f89c2f595c2a65644475c6a3b782f1131afb,15,5,1,15334,,,0,"Pass the global request ID as logging context

Change-Id: I63afbec5e3e5619e0ab1f0c504e56dee56ae88da
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/841310/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/rest_client.py'],1,8aa5f89c2f595c2a65644475c6a3b782f1131afb,log-global_request_id," def _get_global_request_id(self, resp): if 'x-openstack-request-id' in resp: return resp['x-openstack-request-id'] return '' extra = { 'request_id': self._get_request_id(resp), 'global_request_id': self._get_global_request_id(resp), }", extra = dict(request_id=self._get_request_id(resp)),9,1
openstack%2Fproject-config~master~I70c468090204354bdf7ec0a45c715b30a2343f19,openstack/project-config,master,I70c468090204354bdf7ec0a45c715b30a2343f19,Update Neutron Grafana as per recent changes,MERGED,2022-06-15 11:56:40.000000000,2022-06-15 23:42:55.000000000,2022-06-15 23:36:46.000000000,"[{'_account_id': 5263}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 11:56:40.000000000', 'files': ['grafana/neutron-lib.yaml', 'grafana/neutron.yaml', 'grafana/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4486d28ebd2411ce9ff4a80e0bafddd15fec1570', 'message': 'Update Neutron Grafana as per recent changes\n\nneutron-tempest-plugin scenario jobs were renamed and api\njob was dropped with [1], more jobs are added to neutron-lib [2].\n\nThis patch adapts dashboard as per it.\n\n[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912\n[2] https://review.opendev.org/c/openstack/neutron-lib/+/837590\n\nChange-Id: I70c468090204354bdf7ec0a45c715b30a2343f19\n'}]",1,845975,4486d28ebd2411ce9ff4a80e0bafddd15fec1570,8,6,1,13861,,,0,"Update Neutron Grafana as per recent changes

neutron-tempest-plugin scenario jobs were renamed and api
job was dropped with [1], more jobs are added to neutron-lib [2].

This patch adapts dashboard as per it.

[1] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/836912
[2] https://review.opendev.org/c/openstack/neutron-lib/+/837590

Change-Id: I70c468090204354bdf7ec0a45c715b30a2343f19
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/845975/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/neutron-lib.yaml', 'grafana/neutron-tempest-plugin.yaml', 'grafana/neutron.yaml']",3,4486d28ebd2411ce9ff4a80e0bafddd15fec1570,neutron-grafana-updates," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-openvswitch') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-openvswitch-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-ovn.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-ovn.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-ovn') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-openvswitch-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-ovn.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-ovn') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-openvswitch') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-openvswitch-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-ovn.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-ovn.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-ovn') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-openvswitch-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-ovn.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-ovn')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-ovn') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-ovn') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-api') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-linuxbridge.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-plugin-scenario-ovn') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-plugin-scenario-ovn.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-ovn')",50,42
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,openstack/tripleo-heat-templates,stable/train,Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,Only run mysql upgrade commands when needed,MERGED,2022-06-15 14:56:29.000000000,2022-06-15 23:26:39.000000000,2022-06-15 23:26:39.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-15 14:56:29.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1d934301bfcef79eef9c4df1a9d4a4f399a9520', 'message': 'Only run mysql upgrade commands when needed\n\nDuring upgrade tasks, a transient container performs\nmysql upgrades on disk. This action can fail if mysql\nhas been stopped improperly (leaving tc.log behind),\nand block further runs of upgrade tasks. To avoid that,\ndo no run mysql upgrade script if we detect that it has\nalready been done once for the current mysql version.\n\nTested by running a FFU once, stopping galera on a node,\nand rerunning ""overcloud upgrade run"".\n\nCloses-Bug: #1962770\nChange-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37\n(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)\n(cherry picked from commit 5c847345791e8cb56e7499b4e455de7bc61b5607)\n'}]",0,846004,b1d934301bfcef79eef9c4df1a9d4a4f399a9520,7,3,1,31245,,,0,"Only run mysql upgrade commands when needed

During upgrade tasks, a transient container performs
mysql upgrades on disk. This action can fail if mysql
has been stopped improperly (leaving tc.log behind),
and block further runs of upgrade tasks. To avoid that,
do no run mysql upgrade script if we detect that it has
already been done once for the current mysql version.

Tested by running a FFU once, stopping galera on a node,
and rerunning ""overcloud upgrade run"".

Closes-Bug: #1962770
Change-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37
(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)
(cherry picked from commit 5c847345791e8cb56e7499b4e455de7bc61b5607)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/846004/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,b1d934301bfcef79eef9c4df1a9d4a4f399a9520,," upgraded_ver=$(cat /var/lib/mysql/mysql_upgrade_info 2>/dev/null || true) mysql_ver=$(mysql --version | awk -F'[ ,]*' '{print $5}') if [ ""${upgraded_ver}"" = ""${mysql_ver}"" ]; then echo ""mysql already upgraded"" exit 0 fi",,6,0
openstack%2Fdiskimage-builder~master~Idc0373f9a639cd66925543376fb1e2e3398666da,openstack/diskimage-builder,master,Idc0373f9a639cd66925543376fb1e2e3398666da,"Revert ""Remove py 3.6 support and update jobs""",MERGED,2022-06-09 05:16:31.000000000,2022-06-15 22:42:25.000000000,2022-06-15 22:41:13.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 12393}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-09 05:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f9640570bc1631d0e9aea2c0009edf5df57a769', 'message': 'Revert ""Remove py 3.6 support and update jobs""\n\nThis reverts commit fe0e5324d4248d114660ec35111ae9601e05b95b.\n\nReason for revert: Python3.6 is still being used on Centos 8 based\nplatforms.\n\nChange-Id: Idc0373f9a639cd66925543376fb1e2e3398666da\n'}, {'number': 2, 'created': '2022-06-09 06:53:00.000000000', 'files': ['releasenotes/notes/python-3.8-b401ad4f2bbbc99f.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/931f5b0a335947f579b7afc71a6a5d7fefdcb70f', 'message': 'Revert ""Remove py 3.6 support and update jobs""\n\nThis reverts commit fe0e5324d4248d114660ec35111ae9601e05b95b.\n\nReason for revert: Python3.6 is still being used on Centos 8 based\nplatforms.\n\nThis is a partial revert, since the py36 job is currently failing, it\nwill be restored in a follow-up patch.\n\nChange-Id: Idc0373f9a639cd66925543376fb1e2e3398666da\n'}]",5,845217,931f5b0a335947f579b7afc71a6a5d7fefdcb70f,22,7,2,13252,,,0,"Revert ""Remove py 3.6 support and update jobs""

This reverts commit fe0e5324d4248d114660ec35111ae9601e05b95b.

Reason for revert: Python3.6 is still being used on Centos 8 based
platforms.

This is a partial revert, since the py36 job is currently failing, it
will be restored in a follow-up patch.

Change-Id: Idc0373f9a639cd66925543376fb1e2e3398666da
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/17/845217/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'releasenotes/notes/python-3.8-b401ad4f2bbbc99f.yaml', '.zuul.d/project.yaml', 'setup.cfg']",4,8f9640570bc1631d0e9aea2c0009edf5df57a769,revert-py36-drop, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7python_requires = >=3.6,python_requires = >=3.8,7,8
openstack%2Ftripleo-heat-templates~master~I3c3299ceb9557ca42e7c3bd89dae740f8bd79996,openstack/tripleo-heat-templates,master,I3c3299ceb9557ca42e7c3bd89dae740f8bd79996,Support for multiple Cinder NFS storage backends,MERGED,2022-05-18 14:40:10.000000000,2022-06-15 22:38:33.000000000,2022-06-15 22:37:17.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-18 14:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd1f5f6e3d013a87869cad83269b9de495fd57af', 'message': 'Support for multiple Cinder NFS storage backends\n\nCinderNfsBackendName is enhanced to support a list of backend names,\nand the following new parameters are added.\n\n\xa0- CinderNfsMultiConfig provides a way to specify\n\xa0 \xa0parameter values for each backend.\n\n - CinderNfsSharesConfig allows you to pass NFS shares config for\n   a backend instead of hard coded input.\n\xa0\xa0 This parameter is required to support multi-config where\n\xa0\xa0 unique NFS shares config is needed for every backend.\n\nChange-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996\n'}, {'number': 2, 'created': '2022-05-18 16:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be6608dbc906e7826b9eb55991dc488573f9a7d6', 'message': 'Support for multiple Cinder NFS storage backends\n\nCinderNfsBackendName is enhanced to support a list of backend names,\nand the following new parameters are added.\n\n\xa0- CinderNfsMultiConfig provides a way to specify\n\xa0 \xa0parameter values for each backend.\n\n - CinderNfsSharesConfig allows you to pass NFS shares config for\n   a backend instead of hard coded input.\n\xa0\xa0 This parameter is required to support multi-config where\n\xa0\xa0 unique NFS shares config is needed for every backend.\n\nChange-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996\n'}, {'number': 3, 'created': '2022-05-19 15:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78fa4397bd88db5b364660098066aec013d009be', 'message': 'Support for multiple Cinder NFS storage backends\n\nCinderNfsBackendName is enhanced to support a list of backend names,\nand the following new parameters are added.\n\n\xa0- CinderNfsMultiConfig provides a way to specify\n\xa0 \xa0parameter values for each backend.\n\n - CinderNfsSharesConfig allows you to pass NFS shares config for\n   a backend instead of hard coded input.\n\xa0\xa0 This parameter is required to support multi-config where\n\xa0\xa0 unique NFS shares config is needed for every backend.\n\nDepends-On: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\nChange-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996\n'}, {'number': 4, 'created': '2022-06-07 12:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c24640355fd726c07c8731bb713216c8dca4b672', 'message': 'Support for multiple Cinder NFS storage backends\n\nCinderNfsBackendName is enhanced to support a list of backend names,\nand the following new parameters are added.\n\n\xa0- CinderNfsMultiConfig provides a way to specify\n\xa0 \xa0parameter values for each backend.\n\n - CinderNfsSharesConfig allows you to pass NFS shares config for\n   a backend instead of hard coded input.\n\xa0\xa0 This parameter is required to support multi-config where\n\xa0\xa0 unique NFS shares config is needed for every backend.\n\nDepends-On: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\nChange-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996\n'}, {'number': 5, 'created': '2022-06-14 21:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7555eb1135a5b29a7a79cc7364218e565d729651', 'message': 'Support for multiple Cinder NFS storage backends\n\nCinderNfsBackendName is enhanced to support a list of backend names,\nand the following new parameters are added.\n\n\xa0- CinderNfsMultiConfig provides a way to specify\n\xa0 \xa0parameter values for each backend.\n\n - CinderNfsSharesConfig allows you to pass NFS shares config for\n   a backend instead of hard coded input.\n\xa0\xa0 This parameter is required to support multi-config where\n\xa0\xa0 unique NFS shares config is needed for every backend.\n\nChange-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996\n'}, {'number': 6, 'created': '2022-06-14 22:19:18.000000000', 'files': ['environments/cinder-nfs-config.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'releasenotes/notes/cinder-multiple-nfs-backends-a6b7a107be066596.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ee95985b2133e1018c6ecdd8e987ef3125b1dbc', 'message': 'Support for multiple Cinder NFS storage backends\n\nCinderNfsBackendName is enhanced to support a list of backend names,\nand the following new parameters are added.\n\n\xa0- CinderNfsMultiConfig provides a way to specify\n\xa0 \xa0parameter values for each backend.\n\n - CinderNfsSharesConfig allows you to pass NFS shares config for\n   a backend instead of hard coded input.\n\xa0\xa0 This parameter is required to support multi-config where\n\xa0\xa0 unique NFS shares config is needed for every backend.\n\nDepends-On: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c\nChange-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996\n'}]",13,842370,8ee95985b2133e1018c6ecdd8e987ef3125b1dbc,33,5,6,34598,,,0,"Support for multiple Cinder NFS storage backends

CinderNfsBackendName is enhanced to support a list of backend names,
and the following new parameters are added.

 - CinderNfsMultiConfig provides a way to specify
   parameter values for each backend.

 - CinderNfsSharesConfig allows you to pass NFS shares config for
   a backend instead of hard coded input.
   This parameter is required to support multi-config where
   unique NFS shares config is needed for every backend.

Depends-On: I6d387f6df0e9b85896b25b414ae2cf8bfea4152c
Change-Id: I3c3299ceb9557ca42e7c3bd89dae740f8bd79996
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/842370/6 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-nfs-config.yaml', 'environments/storage/cinder-nfs.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'releasenotes/notes/cinder-multiple-nfs-backends-a6b7a107be066596.yaml']",4,cd1f5f6e3d013a87869cad83269b9de495fd57af,cinder-nfs-multiconfig,"--- features: - | Support deploying multiple Cinder NFS storage backends. CinderNfsBackendName is enhanced to support a list of backend names, and the following new parameters are added. - ``CinderNfsMultiConfig`` provides a way to specify parameter values for each backend. - ``CinderNfsSharesConfig`` allows you to pass NFS shares config for a backend instead of hard coded input. ",,61,0
openstack%2Fopenstack-helm-infra~master~I050bc8df976032b094154a4c6612dd80eb4d54f8,openstack/openstack-helm-infra,master,I050bc8df976032b094154a4c6612dd80eb4d54f8,Add pods watch and list permissions,MERGED,2022-06-13 18:53:08.000000000,2022-06-15 21:18:50.000000000,2022-06-15 21:16:51.000000000,"[{'_account_id': 16768}, {'_account_id': 20248}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2022-06-13 18:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6b74883f1ebc04bdaf91cdf4ec2867bb3914a034', 'message': 'Add pods watch and list permissions\n\nChange-Id: I050bc8df976032b094154a4c6612dd80eb4d54f8\n'}, {'number': 2, 'created': '2022-06-13 19:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1a8423ff4f67968587bcaa739c64a74334d9de61', 'message': 'Add pods watch and list permissions\n\nChange-Id: I050bc8df976032b094154a4c6612dd80eb4d54f8\n'}, {'number': 3, 'created': '2022-06-13 19:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/96d74d380d737063021b526527a173970b06e369', 'message': 'Add pods watch and list permissions\n\nChange-Id: I050bc8df976032b094154a4c6612dd80eb4d54f8\n'}, {'number': 4, 'created': '2022-06-13 19:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d43c23a072809bbbb4cb16ac41b85ff05f184390', 'message': 'Add pods watch and list permissions\n\nChange-Id: I050bc8df976032b094154a4c6612dd80eb4d54f8\n'}, {'number': 5, 'created': '2022-06-15 18:59:47.000000000', 'files': ['releasenotes/notes/ceph-provisioners.yaml', 'ceph-provisioners/Chart.yaml', 'ceph-provisioners/templates/deployment-csi-rbd-provisioner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9dad642c84bde9e01298e9c18c55d28c50f41b67', 'message': 'Add pods watch and list permissions\n\nChange-Id: I050bc8df976032b094154a4c6612dd80eb4d54f8\n'}]",1,845626,9dad642c84bde9e01298e9c18c55d28c50f41b67,17,5,5,33949,,,0,"Add pods watch and list permissions

Change-Id: I050bc8df976032b094154a4c6612dd80eb4d54f8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/26/845626/5 && git format-patch -1 --stdout FETCH_HEAD,['ceph-provisioners/templates/deployment-csi-rbd-provisioner.yaml'],1,6b74883f1ebc04bdaf91cdf4ec2867bb3914a034,csi-impr," resources: [""pods""] verbs: [""list"", ""watch""] - apiGroups: [""""]",,3,0
openstack%2Fopenstack-helm-infra~master~I93a1426c2ca02b060f7a606495893feb2813c142,openstack/openstack-helm-infra,master,I93a1426c2ca02b060f7a606495893feb2813c142,[ceph-mon] Allow for unconditional mon restart,MERGED,2022-06-13 16:54:06.000000000,2022-06-15 21:14:43.000000000,2022-06-15 21:13:32.000000000,"[{'_account_id': 8898}, {'_account_id': 16768}, {'_account_id': 21040}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 32190}, {'_account_id': 32433}, {'_account_id': 34057}]","[{'number': 1, 'created': '2022-06-13 16:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9692c47b9835e992f5167c253f43cf8b94e8344b', 'message': '[ceph-mon] Allow for unconditional mon restart\n\nThis change allows mons to be restarted unconditionally by the\nceph-mon chart. This can be useful in upgrade scenarios where\nceph-mon pods need to be forcibly restarted for any reason.\n\nChange-Id: I93a1426c2ca02b060f7a606495893feb2813c142\n'}, {'number': 2, 'created': '2022-06-13 17:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d4db5951eca8da587a4d416845ebc6c19d1da658', 'message': '[ceph-mon] Allow for unconditional mon restart\n\nThis change allows mons to be restarted unconditionally by the\nceph-mon chart. This can be useful in upgrade scenarios where\nceph-mon pods need to be forcibly restarted for any reason.\n\nChange-Id: I93a1426c2ca02b060f7a606495893feb2813c142\n'}, {'number': 3, 'created': '2022-06-13 20:53:03.000000000', 'files': ['ceph-mon/Chart.yaml', 'ceph-mon/templates/job-post-apply.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-mon/templates/bin/_post-apply.sh.tpl', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13fd81b8d98359099b2cb099f3ae4fb43945c12f', 'message': '[ceph-mon] Allow for unconditional mon restart\n\nThis change allows mons to be restarted unconditionally by the\nceph-mon chart. This can be useful in upgrade scenarios where\nceph-mon pods need to be forcibly restarted for any reason.\n\nChange-Id: I93a1426c2ca02b060f7a606495893feb2813c142\n'}]",1,845610,13fd81b8d98359099b2cb099f3ae4fb43945c12f,20,9,3,29974,,,0,"[ceph-mon] Allow for unconditional mon restart

This change allows mons to be restarted unconditionally by the
ceph-mon chart. This can be useful in upgrade scenarios where
ceph-mon pods need to be forcibly restarted for any reason.

Change-Id: I93a1426c2ca02b060f7a606495893feb2813c142
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/845610/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/Chart.yaml', 'ceph-mon/templates/job-post-apply.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-mon/templates/bin/_post-apply.sh.tpl', 'ceph-mon/values.yaml']",5,9692c47b9835e992f5167c253f43cf8b94e8344b,," # The post-apply job will try to determine if mons need to be restarted # and only restart them if necessary. Set this value to ""true"" to restart # mons unconditionally. unconditional_mon_restart: ""false"" ",,11,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,openstack/tripleo-heat-templates,stable/wallaby,I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767,Add service OS::TripleO::Services::ManilaBackendPowerMax,MERGED,2022-05-18 12:08:59.000000000,2022-06-15 21:01:15.000000000,2022-06-15 21:01:15.000000000,"[{'_account_id': 6796}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-05-18 12:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa10628b9b7f64944f0afb2ef21a196a7157c4ec', 'message': ""Add service OS::TripleO::Services::ManilaBackendPowerMax\n\nThe templates were added in [1]; but the service wasn't added\nto the overcloud resource registry. Also add it in standard\nroles and CI environments for consistency. Since [1] was backported\nto stable/train, this commit is appropriate for backport as well.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105\nCloses-Bug: #1951131\n\nChange-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 4263134776be2fe765b9515c05d85ca1c61d26d6)\n""}, {'number': 2, 'created': '2022-05-19 16:28:48.000000000', 'files': ['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79e5bb4ae2823905b73df68d139d2152752e90e1', 'message': ""Add service OS::TripleO::Services::ManilaBackendPowerMax\n\nThe templates were added in [1]; but the service wasn't added\nto the overcloud resource registry. Also add it in standard\nroles and CI environments for consistency. Since [1] was backported\nto stable/train, this commit is appropriate for backport as well.\n\n[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105\nCloses-Bug: #1951131\n\nChange-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 9b06e0850fa332f97519ec2b10c24e70ceeae12a)\n""}]",4,842315,79e5bb4ae2823905b73df68d139d2152752e90e1,29,4,2,16643,,,0,"Add service OS::TripleO::Services::ManilaBackendPowerMax

The templates were added in [1]; but the service wasn't added
to the overcloud resource registry. Also add it in standard
roles and CI environments for consistency. Since [1] was backported
to stable/train, this commit is appropriate for backport as well.

[1] https://review.opendev.org/c/openstack/tripleo-heat-templates/+/818105
Closes-Bug: #1951131

Change-Id: I1d4e50632bae7dc9f5ccb5acaf3345ab78e2b767
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 9b06e0850fa332f97519ec2b10c24e70ceeae12a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/842315/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml']",16,aa10628b9b7f64944f0afb2ef21a196a7157c4ec,bug/1951131, - OS::TripleO::Services::ManilaBackendPowerMax,,17,0
openstack%2Ftripleo-quickstart-extras~master~I982dedb53582fbd76391165c3ca72954c129b84a,openstack/tripleo-quickstart-extras,master,I982dedb53582fbd76391165c3ca72954c129b84a,Deploy Ceph before the Overcloud for standalone CI,MERGED,2022-03-18 19:58:44.000000000,2022-06-15 20:57:25.000000000,2022-06-15 20:57:25.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-03-18 19:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d90ddde01fa7628c498721508d2622d9173811f4', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 2, 'created': '2022-03-18 20:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f8c9eff3a07f37e576f96db1fb6b429a9486d1ad', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 3, 'created': '2022-03-18 20:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9db1947cf3760bf448f4c0b123ba069b54facde3', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 4, 'created': '2022-03-19 11:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/30f7c2d147d00c2edeb483a592516477209edcc3', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 5, 'created': '2022-03-19 13:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/80252c1a50cc72f3550ee94dac36b141824e89be', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 6, 'created': '2022-03-19 18:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/23aa57a97ca937a82432ff322944cbf401628733', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 7, 'created': '2022-03-19 18:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf71f07e8e520c43b1ab783c15169056784f4882', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 8, 'created': '2022-03-21 15:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e57ce8f3b25b61590be584f75f3e31703dd0cd29', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 9, 'created': '2022-03-21 15:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d88d60eb003f5d27e16c8f69ba533ec91221caff', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 10, 'created': '2022-03-22 15:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/27bce95ab88bb8f64c7628f5f524d69d52d0c604', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 11, 'created': '2022-03-22 18:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/495b33db22dc5e1339a677ca9c96d53400e238f5', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 12, 'created': '2022-03-23 12:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b2d54878d4c923cabdc8662aaf4eb9baa41587b7', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 13, 'created': '2022-03-23 12:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/31e5eb673ee3c53e5065f1775131a057cbecca68', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 14, 'created': '2022-03-23 14:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9f0670c2d951d2c8c806a80f5acb3f5290dfee99', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 15, 'created': '2022-03-23 17:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8fd678ae563634a93222b39cccc0f3b456640871', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 16, 'created': '2022-03-23 20:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/360914fcce5d685b20c34c217ec8a15d1523678a', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 17, 'created': '2022-03-24 11:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/26886de7a4ce3faabce5f01e782ff8ac005086c2', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 18, 'created': '2022-03-24 14:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9ad8e02de0bb85f14cf2e3a9ed4474c9d57e6301', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 19, 'created': '2022-03-24 17:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ce353f211693f76ac80989080d65ecdeb04a2fe', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 20, 'created': '2022-03-24 19:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1494a2abc0508841c78ef3d6dfb4ff89bd729dc5', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 21, 'created': '2022-03-26 16:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6152a4b83db33064d2a68adf26b13608051bb09a', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 22, 'created': '2022-03-26 19:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e4fe7ad58bbb1eec261417289ca81e35159ccc1b', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 23, 'created': '2022-03-28 12:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/602935beb0737111f91248787619eb626e8add05', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 24, 'created': '2022-03-28 18:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7a5d33b095e5f92a09a24d722566cabb244ddfe9', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 25, 'created': '2022-03-28 21:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3ce5306e90c3a24b2d26ebfea717d9c9299c1352', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I6434d03d93bc50574246e26fab483ff75ffabace\n'}, {'number': 26, 'created': '2022-03-29 14:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/56c33fd27f2a3fb47049cb1d7ac5626bbfec7365', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 27, 'created': '2022-03-29 17:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8f164ff0c6f17c63811e59588375e7945d1b4668', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 28, 'created': '2022-03-30 14:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/03be5cbc46708c4f18bd650327804e69be9c266a', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 29, 'created': '2022-03-30 20:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/80da2ebac69d81bd83bfc6bc8f3de789c035da2c', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 30, 'created': '2022-03-31 17:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/361b017295c3f2ebc03c962c080965c6f1e8b837', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 31, 'created': '2022-03-31 19:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bceb72c7edb2ef5b228795bcceb6dd3d9699cd7d', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 32, 'created': '2022-03-31 22:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0d1d14ff039c0919f483c6e6485deef1cb8bbca', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 33, 'created': '2022-04-07 15:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/03eb21851ed427eaaa0493a789b0454d95bf1b9c', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 34, 'created': '2022-04-07 18:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4026684ce5a38eff08933a10a32d5329056e924b', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 35, 'created': '2022-04-07 20:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/66d52f2cbd573231efba15d22efae39e60a21309', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 36, 'created': '2022-04-08 11:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/531f3bd2c6b08982391ef5810f8808180c655c49', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 37, 'created': '2022-04-11 11:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ea9dc7371b703696222c9172fbcc69c71174e62', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepenends-On: Id6d0699123b9e9b75011ee94949ec4a69012f9af\n'}, {'number': 38, 'created': '2022-04-11 16:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bc33c6e91983e7c5b48f6bfe5ef2aec9e873c7ab', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new playbook to tripleo-quickstart-extras so that CI\ncan use ""deployed ceph"" [1]. This playbook uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands to do so.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 39, 'created': '2022-04-19 16:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8224a3d7bf72967c321ddba3c18fabcc90fcf597', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new tasks file to the standalone role so that CI\ncan deploy ceph before overcloud . Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 40, 'created': '2022-04-19 17:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4447b2ae83b171adfe6762afd80f4e746550ca68', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new tasks file to the standalone role so that CI\ncan deploy ceph before overcloud . Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8\n'}, {'number': 41, 'created': '2022-04-19 20:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a6ee9fedaac84dd3d103e58a1a0598bade2f900c', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new tasks file to the standalone role so that CI\ncan deploy ceph before overcloud . Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8\n'}, {'number': 42, 'created': '2022-04-20 14:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/332bbe02b366651e6b0da9ea6a5247069469292c', 'message': 'Add ceph-install playbook to install ceph before overcloud\n\nAdd new tasks file to the standalone role so that CI\ncan deploy ceph before overcloud . Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ib9271716e8f0c92e96c90fa9b557a590abb9ccf8\n'}, {'number': 43, 'created': '2022-04-21 13:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8fc1986db5f80067958de02326f74a994f31df4a', 'message': 'Deploy Ceph before the Overcloud\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Id5deeff5cf3e789d9b087a6c22e15557f39533f7\n'}, {'number': 44, 'created': '2022-04-21 14:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f3a137a12b4b29d4b6b45cb7d365b861fbfcbd42', 'message': 'Deploy Ceph before the Overcloud\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains two TODO items so that this scenario will also\nbe tested for W after supporting patches are backported\nand so that this scenario is limited to 001 for now.\nAfter 001 is stable and 004/010 are tested, all scen_*\nvariables will be removed from main.yml in a future\npatch. Then all standalone_ceph jobs going back to W\nwill deloy Ceph before the Overcloud.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 45, 'created': '2022-04-25 18:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/75cd1c7d67c2cc435a4fafe236159db968232c23', 'message': 'Deploy Ceph before the Overcloud\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains two TODO items so that this scenario will also\nbe tested for W after supporting patches are backported\nand so that this scenario is limited to 001 for now.\nAfter 001 is stable and 004/010 are tested, all scen_*\nvariables will be removed from main.yml in a future\npatch. Then all standalone_ceph jobs going back to W\nwill deloy Ceph before the Overcloud.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 46, 'created': '2022-04-26 12:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/04c46b2751c1096546edf9ba249491a0f19c12c0', 'message': 'Deploy Ceph before the Overcloud for CI scen001\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains two TODO items so that this scenario will also\nbe tested for W after supporting patches are backported\nand so that this scenario is limited to 001 for now.\nAfter 001 is stable and 004/010 are tested, all scen_*\nvariables will be removed from main.yml in a future\npatch. Then all standalone_ceph jobs going back to W\nwill deloy Ceph before the Overcloud.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 47, 'created': '2022-04-27 11:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b9806cfd55accc471a0eb4f9314b9e7e7af3b2c7', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ie09f917c6cb9491d7f4a6a4625ea2545b21bef2e\n'}, {'number': 48, 'created': '2022-04-27 15:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e1d87cf184c34a5e5db9a078076e2dd9baff6a99', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ie09f917c6cb9491d7f4a6a4625ea2545b21bef2e\n'}, {'number': 49, 'created': '2022-04-28 12:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6eca42ff4f604eb7bcf37fe64ba8ea670b3fbf0', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ie09f917c6cb9491d7f4a6a4625ea2545b21bef2e\n'}, {'number': 50, 'created': '2022-04-28 16:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ab6242eb9ebefa3dea553a5cdb3e5ebb3035fe96', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ie09f917c6cb9491d7f4a6a4625ea2545b21bef2e\n'}, {'number': 51, 'created': '2022-04-29 11:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ffa445bbe99719d3d70a0f73e7bb77143fcd2cc0', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 52, 'created': '2022-05-02 20:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e1d03bc60aa2dbb5411076507f4a5c1ca358f034', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 53, 'created': '2022-05-02 22:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/154de5d9e13bd97c0f8a38d2fd9d768ad199e918', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 54, 'created': '2022-05-03 11:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/af821f3f8fbd442d47ae76a27593b7420fb23ba2', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 55, 'created': '2022-05-03 15:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5bf9d9154d0b223734514672e58cd78ddf51adab', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 56, 'created': '2022-05-03 19:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8d8ad352aace1d7bc6ce42aa6cb2e0ab7d14390b', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 57, 'created': '2022-05-03 21:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1eda79d58367bc1a6fe32c972534b72a8599981f', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I9efc5c5fd53ac89710bb9c5f4721f6afb55d8e3c\n'}, {'number': 58, 'created': '2022-05-04 09:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/53868f3f9d4dcae90aa4a582470b1120871e5076', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I9efc5c5fd53ac89710bb9c5f4721f6afb55d8e3c\n'}, {'number': 59, 'created': '2022-05-05 17:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7271055b6ac9b8d7cf3f38f68603e4610d18ab21', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: Ic52ee6091ebab6f937a4a15c83a28f0b3918d374\n'}, {'number': 60, 'created': '2022-05-17 14:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/97140ecb41daf979bea6db0a6710986ffe725f66', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 61, 'created': '2022-05-17 14:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7bf76bf1d5fa3cc3957a6fba7f656ac1b292627f', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 62, 'created': '2022-05-17 14:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1fdafcfa91ca1ed68a00098e64917cb77069bee7', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 63, 'created': '2022-05-17 15:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1119e97f0c42a0a822be16a49e6bb92b21f5bed3', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 64, 'created': '2022-05-17 18:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5359b83ac7976d5fb89e961addb995f3568c0773', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 65, 'created': '2022-05-17 19:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/57fe1a8fe34f2dfab466ab211c19916488c14969', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 66, 'created': '2022-05-17 21:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0c7ab0720c7be0a6c5b14ea0b46b8e70371b1e7d', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 67, 'created': '2022-05-18 00:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c139b9a9b77e53dc9e8c08b239551b1ed130bf1f', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 68, 'created': '2022-05-18 10:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6af1644c444ecfc92e2975ab1264ab36b6cb9d39', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 69, 'created': '2022-05-20 12:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9f74a7fe6e77e1e35e823c9b71cb265e1b9e1ca1', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 70, 'created': '2022-05-20 12:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5b80326981a4352648ab1448dcce0ee241889149', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I26228293f3be34fa092b3d3b1ced86a3520f64b3\n'}, {'number': 71, 'created': '2022-05-20 13:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b3b037a9e54c25742ef30e6a32c924705627ed86', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I26228293f3be34fa092b3d3b1ced86a3520f64b3\n'}, {'number': 72, 'created': '2022-05-22 16:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8f77101909134a5d744d0336bb1ffb44320235d0', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I26228293f3be34fa092b3d3b1ced86a3520f64b3\n'}, {'number': 73, 'created': '2022-05-22 16:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/26b3892607132b64aa3eacd6d4c536035fb2b451', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I26228293f3be34fa092b3d3b1ced86a3520f64b3\nDepends-On: I06adec92cc19214878f41001ea2999eb7923b9bd\n'}, {'number': 74, 'created': '2022-05-23 19:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4015f53d05a569616cdd37f47e26972cfa971746', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: I06adec92cc19214878f41001ea2999eb7923b9bd\n'}, {'number': 75, 'created': '2022-05-25 17:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d8baee5e887a7d5960f7259f4d9274aab25ddafc', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\nDepends-On: If196dfcd0fd2cec3b7784394e86c4addbfbf039d\n'}, {'number': 76, 'created': '2022-06-01 21:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/042bba3fe6873a07e1a642c3c14c0bdf73c80d3b', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 77, 'created': '2022-06-01 23:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ca62f1b764d9433dae76146517e71be3a7448a6', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 78, 'created': '2022-06-02 02:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/40c63e2c903ade5a995156d08653e224046f015e', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 79, 'created': '2022-06-02 11:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2ce792f9f7889de894cf75f380b9b57dbd288043', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nAdditional tasks file storage-network.yml creates a\ndummy interface for a separate storage network so that\nCeph has a network to bootstrap in before the control\nplane network (192.168.24.0/24) is created by standalone\novercloud deployment. Same tasks file creates Heat inputs\nso overcloud is deployed with network isolation in order\nto use the storage network.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 80, 'created': '2022-06-02 18:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4c7ad88dc220275f2a11715834bad45bcd6eb7d7', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nAdditional tasks file storage-network.yml creates a\ndummy interface for a separate storage network so that\nCeph has a network to bootstrap in before the control\nplane network (192.168.24.0/24) is created by standalone\novercloud deployment. Same tasks file creates Heat inputs\nso overcloud is deployed with network isolation in order\nto use the storage network.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}, {'number': 81, 'created': '2022-06-02 21:20:30.000000000', 'files': ['roles/standalone/tasks/main.yml', 'roles/standalone/tasks/storage-network.yml', 'roles/standalone/tasks/standalone-install.yml', 'roles/standalone/tasks/ceph-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be8dccb7455b62266da2ce1c6d7e7ac667d43084', 'message': 'Deploy Ceph before the Overcloud for standalone CI\n\nAdd new tasks file to the standalone role so that CI can\ndeploy Ceph before the Overcloud. Tasks file uses three\ntripleo-operator-ansible roles which create a Ceph spec,\ncreate the ceph-admin user, and deploy Ceph by calling\ntripleo-client commands.\n\nAdditional tasks file storage-network.yml creates a\ndummy interface for a separate storage network so that\nCeph has a network to bootstrap in before the control\nplane network (192.168.24.0/24) is created by standalone\novercloud deployment. Same tasks file creates Heat inputs\nso overcloud is deployed with network isolation in order\nto use the storage network.\n\nContains a TODO item so that this scenario will also\nbe tested for W after supporting patches are backported.\n\nChange-Id: I982dedb53582fbd76391165c3ca72954c129b84a\n'}]",183,834352,be8dccb7455b62266da2ce1c6d7e7ac667d43084,630,8,81,18002,,,0,"Deploy Ceph before the Overcloud for standalone CI

Add new tasks file to the standalone role so that CI can
deploy Ceph before the Overcloud. Tasks file uses three
tripleo-operator-ansible roles which create a Ceph spec,
create the ceph-admin user, and deploy Ceph by calling
tripleo-client commands.

Additional tasks file storage-network.yml creates a
dummy interface for a separate storage network so that
Ceph has a network to bootstrap in before the control
plane network (192.168.24.0/24) is created by standalone
overcloud deployment. Same tasks file creates Heat inputs
so overcloud is deployed with network isolation in order
to use the storage network.

Contains a TODO item so that this scenario will also
be tested for W after supporting patches are backported.

Change-Id: I982dedb53582fbd76391165c3ca72954c129b84a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/52/834352/81 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/tasks/main.yml', 'roles/standalone/tasks/standalone-install.yml', 'roles/standalone/tasks/ceph-install.yml']",3,d90ddde01fa7628c498721508d2622d9173811f4,deployed_ceph_ci,"--- - name: Set facts for Ceph set_fact: stack: standalone mon_ip: ""{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }}"" osd_spec: ""{{ working_dir }}/osd_spec.yaml"" initial_ceph_conf: ""{{ working_dir }}/initial_ceph.conf"" ceph_spec: ""{{ working_dir }}/ceph_spec.yaml"" deployed_ceph: ""{{ working_dir }}/deployed_ceph.yaml"" - name: Create OSD spec file copy: dest: ""{{ osd_spec }}"" content: | data_devices: paths: - /dev/vg2/data-lv2 - name: Create initial ceph.conf file copy: dest: ""{{ initial_ceph_conf }}"" content: | # passing initial conf has side effect of not # setting public/cluster networks which is good # for standlone as ctlplane network is default # but it is not yet configured [global] osd pool default size = 1 [mon] mon_warn_on_pool_no_redundancy = false - name: Create Ceph Spec file via tripleo-operator-ansible collections: - tripleo.operator include_role: name: tripleo_ceph_spec vars: tripleo_ceph_spec_standalone: true tripleo_ceph_spec_overwrite: true tripleo_ceph_spec_mon_ip: ""{{ mon_ip }}"" tripleo_ceph_spec_stack: ""{{ stack }}"" tripleo_ceph_spec_file: ""{{ ceph_spec }}"" tripleo_ceph_spec_osd_spec: ""{{ osd_spec }}"" tripleo_ceph_spec_debug: true tripleo_ceph_spec_generate_scripts: true - name: Create ceph-admin user via tripleo-operator-ansible collections: - tripleo.operator include_role: name: tripleo_ceph_user vars: tripleo_ceph_user_spec: ""{{ ceph_spec }}"" tripleo_ceph_user_enable: enable tripleo_ceph_user_stack: ""{{ stack }}"" tripleo_ceph_user_standalone: true tripleo_ceph_user_debug: true tripleo_ceph_user_generate_scripts: true - name: Deploy Ceph via tripleo-operator-ansible collections: - tripleo.operator include_role: name: tripleo_ceph_deploy vars: tripleo_ceph_deploy_standalone: true tripleo_ceph_deploy_single_host_defaults: true tripleo_ceph_deploy_skip_user_create: true tripleo_ceph_deploy_skip_hosts_config: true tripleo_ceph_deploy_skip_container_registry_config: true tripleo_ceph_deploy_mon_ip: ""{{ mon_ip }}"" tripleo_ceph_deploy_spec: ""{{ ceph_spec }}"" tripleo_ceph_deploy_stack: ""{{ stack }}"" tripleo_ceph_deploy_config: ""{{ initial_ceph_conf }}"" tripleo_ceph_deploy_output: ""{{ deployed_ceph }}"" tripleo_ceph_deploy_cephadm_extra_args: ""--log-to-file --skip-prepare-host"" tripleo_ceph_deploy_force: true tripleo_ceph_deploy_become: true tripleo_ceph_deploy_overwrite: true tripleo_ceph_deploy_debug: true tripleo_ceph_deploy_generate_scripts: true ",,86,0
openstack%2Fpuppet-nova~master~I81aa8f0b0338662f0dcf9bec866dc5610a9141e8,openstack/puppet-nova,master,I81aa8f0b0338662f0dcf9bec866dc5610a9141e8,Fix some typos,MERGED,2022-06-14 17:28:14.000000000,2022-06-15 20:32:07.000000000,2022-06-15 20:32:07.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 17:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ff7acf51a0898d674ca89313baae432855c928a4', 'message': 'Fix some typos\n\nThis change fixes some of the typos in parameter descriptions,\nconditions and tests.\n\nChange-Id: I81aa8f0b0338662f0dcf9bec866dc5610a9141e8\n'}, {'number': 2, 'created': '2022-06-15 04:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bec0cc92b3af03314538813ba02eedbbfea2a493', 'message': 'Fix some typos\n\nThis change fixes some of the typos in parameter descriptions,\nconditions and tests.\n\nChange-Id: I81aa8f0b0338662f0dcf9bec866dc5610a9141e8\n'}, {'number': 3, 'created': '2022-06-15 08:08:33.000000000', 'files': ['spec/classes/nova_network_neutron_spec.rb', 'manifests/wsgi/apache_api.pp', 'manifests/limit.pp', 'manifests/api.pp', 'manifests/compute/libvirt/virtlockd.pp', 'spec/unit/provider/virtlockd_config/ini_setting_spec.rb', 'spec/unit/provider/virtnodedevd_config/ini_setting_spec.rb', 'spec/unit/provider/virtsecretd_config/ini_setting_spec.rb', 'manifests/compute.pp', 'manifests/compute/libvirt/virtlogd.pp', 'spec/classes/nova_placement_spec.rb', 'manifests/params.pp', 'manifests/compute/rbd.pp', 'manifests/scheduler/filter.pp', 'spec/unit/provider/virtlogd_config/ini_setting_spec.rb', 'manifests/logging.pp', 'spec/unit/provider/virtqemud_config/ini_setting_spec.rb', 'spec/unit/provider/virtproxyd_config/ini_setting_spec.rb', 'manifests/migration/libvirt.pp', 'manifests/wsgi/apache_metadata.pp', 'manifests/cache.pp', 'spec/unit/provider/virtstoraged_config/ini_setting_spec.rb', 'manifests/scheduler.pp', 'manifests/vncproxy.pp', 'manifests/compute/libvirt/qemu.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/72109eaf9a557931571fb2c682bc89737ec4e376', 'message': 'Fix some typos\n\nThis change fixes some of the typos in parameter descriptions,\nconditions and tests.\n\nChange-Id: I81aa8f0b0338662f0dcf9bec866dc5610a9141e8\n'}]",5,845791,72109eaf9a557931571fb2c682bc89737ec4e376,19,3,3,20733,,,0,"Fix some typos

This change fixes some of the typos in parameter descriptions,
conditions and tests.

Change-Id: I81aa8f0b0338662f0dcf9bec866dc5610a9141e8
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/91/845791/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_network_neutron_spec.rb', 'manifests/wsgi/apache_api.pp', 'manifests/limit.pp', 'manifests/api.pp', 'manifests/compute/libvirt/virtlockd.pp', 'spec/unit/provider/virtlockd_config/ini_setting_spec.rb', 'spec/unit/provider/virtnodedevd_config/ini_setting_spec.rb', 'spec/unit/provider/virtsecretd_config/ini_setting_spec.rb', 'manifests/compute.pp', 'manifests/compute/libvirt/virtlogd.pp', 'spec/classes/nova_placement_spec.rb', 'manifests/params.pp', 'manifests/compute/rbd.pp', 'manifests/scheduler/filter.pp', 'spec/unit/provider/virtlogd_config/ini_setting_spec.rb', 'manifests/logging.pp', 'spec/unit/provider/virtqemud_config/ini_setting_spec.rb', 'spec/unit/provider/virtproxyd_config/ini_setting_spec.rb', 'manifests/migration/libvirt.pp', 'manifests/wsgi/apache_metadata.pp', 'manifests/cache.pp', 'spec/unit/provider/virtstoraged_config/ini_setting_spec.rb', 'manifests/scheduler.pp', 'manifests/vncproxy.pp', 'manifests/compute/libvirt/qemu.pp']",25,ff7acf51a0898d674ca89313baae432855c928a4,typos, fail('libvirt version < 4.5 is no longer supported'), fail('libvirt verson < 4.5 is no longer supported'),30,30
openstack%2Fcharm-cinder~stable%2Fyoga~I363fa0de51ad94df8ac83fef48ac4216781e0bdb,openstack/charm-cinder,stable/yoga,I363fa0de51ad94df8ac83fef48ac4216781e0bdb,"Update the bundles to use the stable track, edge risk for yoga",MERGED,2022-06-15 11:48:49.000000000,2022-06-15 20:21:22.000000000,2022-06-15 20:21:22.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 11:48:49.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/162b5c90f5e2bd8e2a3c46c3ed4fdba129b930b6', 'message': 'Update the bundles to use the stable track, edge risk for yoga\n\nThe bundles for the yoga channel currently point to ""latest/edge""\nchannel for all the charms.  This update points the charms to the\nappropriate channel for the charm being used, either from ceph,\nopenstack, ovn or the misc tracks.\n\nChange-Id: I363fa0de51ad94df8ac83fef48ac4216781e0bdb\n'}]",1,845929,162b5c90f5e2bd8e2a3c46c3ed4fdba129b930b6,8,4,1,20870,,,0,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I363fa0de51ad94df8ac83fef48ac4216781e0bdb
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/29/845929/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/impish-xena.yaml']",4,162b5c90f5e2bd8e2a3c46c3ed4fdba129b930b6,update-bundles-yoga,local_overlay_enabled: False channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 3.9/edge, channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,40,32
openstack%2Fopenstack-ansible-os_mistral~master~I126a9180d37fe3242762776837e2b15abc9924e2,openstack/openstack-ansible-os_mistral,master,I126a9180d37fe3242762776837e2b15abc9924e2,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:58:10.000000000,2022-06-15 19:43:54.000000000,2022-06-15 19:42:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/8f3a0fff884ef6325feb0bae14b8919140507f03', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I126a9180d37fe3242762776837e2b15abc9924e2\n'}, {'number': 2, 'created': '2022-06-14 18:01:48.000000000', 'files': ['tasks/mistral_post_install.yml', 'doc/source/index.rst', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/7dd254b652829750f7a6dcfcc357d1580d3279e6', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I126a9180d37fe3242762776837e2b15abc9924e2\n'}]",0,845800,7dd254b652829750f7a6dcfcc357d1580d3279e6,9,3,2,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I126a9180d37fe3242762776837e2b15abc9924e2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/00/845800/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/mistral_post_install.yml', 'doc/source/index.rst', 'handlers/main.yml']",3,8f3a0fff884ef6325feb0bae14b8919140507f03,osa/manage_lb,, - meta: noop listen: Manage LB when: false,0,18
openstack%2Fswift~master~I7cf1b0ee7f928fcaa89a799a734e0d028d705383,openstack/swift,master,I7cf1b0ee7f928fcaa89a799a734e0d028d705383,Clear logger txn_id after making requests,MERGED,2017-09-26 23:19:28.000000000,2022-06-15 19:26:23.000000000,2022-06-15 19:24:45.000000000,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-26 23:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1cbd28501163f8cfbaf36a8619d0bcb1fecd676a', 'message': ""Clear logger txn_id after making requests\n\nOtherwise, transaction IDs start bleeding over to messages where they\ndont't make sense.\n\nChange-Id: I7cf1b0ee7f928fcaa89a799a734e0d028d705383\n""}, {'number': 2, 'created': '2021-10-30 06:28:47.000000000', 'files': ['test/unit/common/test_internal_client.py', 'swift/container/sharder.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d13eeabdb5c293b09ad6a9a2189d2a635b055526', 'message': ""Clear logger txn_id after making requests\n\nOtherwise, transaction IDs start bleeding over to messages where they\ndon't make sense.\n\nChange-Id: I7cf1b0ee7f928fcaa89a799a734e0d028d705383\n""}]",3,507706,d13eeabdb5c293b09ad6a9a2189d2a635b055526,19,7,2,15343,,,0,"Clear logger txn_id after making requests

Otherwise, transaction IDs start bleeding over to messages where they
don't make sense.

Change-Id: I7cf1b0ee7f928fcaa89a799a734e0d028d705383
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/507706/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py']",2,1cbd28501163f8cfbaf36a8619d0bcb1fecd676a,," finally: # Since some of our tests replace self.app with a function # that has no logger... if hasattr(self.app, 'logger'): self.app.logger.txn_id = None",,34,1
openstack%2Fneutron~stable%2Fwallaby~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/wallaby,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-15 13:42:52.000000000,2022-06-15 19:22:25.000000000,2022-06-15 19:20:45.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 13:42:52.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1e7d20b01e452efc234b1f169ee356333adf499', 'message': '[OVN]Any string type dhcp options should be quoted\n\nAny dhcp option[1] which value is string type in ovn\nshould be added quotes, otherwise it would be regard\nas constant.\n\n[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116\n\nCloses-Bug: #1946764\nChange-Id: Id174cd944c3b883b749046bc49d00e011eb891fe\n(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)\n'}]",0,845844,f1e7d20b01e452efc234b1f169ee356333adf499,11,3,1,13861,,,0,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/845844/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",5,f1e7d20b01e452efc234b1f169ee356333adf499,bug/1946764-stable/yoga-stable/xena-stable/wallaby,"# OVN string type DHCP options OVN_STR_TYPE_DHCP_OPTS = [ 'domain_name', 'bootfile_name', 'path_prefix', 'wpad', 'tftp_server'] ",,24,9
openstack%2Fneutron~stable%2Fxena~Id174cd944c3b883b749046bc49d00e011eb891fe,openstack/neutron,stable/xena,Id174cd944c3b883b749046bc49d00e011eb891fe,[OVN]Any string type dhcp options should be quoted,MERGED,2022-06-15 13:42:39.000000000,2022-06-15 19:22:21.000000000,2022-06-15 19:20:41.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 13:42:39.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb23e60f4d7c47baa51c04bc3f1b9fde25f5a03d', 'message': '[OVN]Any string type dhcp options should be quoted\n\nAny dhcp option[1] which value is string type in ovn\nshould be added quotes, otherwise it would be regard\nas constant.\n\n[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116\n\nCloses-Bug: #1946764\nChange-Id: Id174cd944c3b883b749046bc49d00e011eb891fe\n(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)\n'}]",0,845843,cb23e60f4d7c47baa51c04bc3f1b9fde25f5a03d,11,3,1,13861,,,0,"[OVN]Any string type dhcp options should be quoted

Any dhcp option[1] which value is string type in ovn
should be added quotes, otherwise it would be regard
as constant.

[1]https://github.com/ovn-org/ovn/blob/main/lib/ovn-l7.h#L116

Closes-Bug: #1946764
Change-Id: Id174cd944c3b883b749046bc49d00e011eb891fe
(cherry picked from commit 18c32e4339cbcb0993d9c162e2715f6fcfa932cc)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/845843/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",5,cb23e60f4d7c47baa51c04bc3f1b9fde25f5a03d,bug/1946764-stable/yoga-stable/xena,"# OVN string type DHCP options OVN_STR_TYPE_DHCP_OPTS = [ 'domain_name', 'bootfile_name', 'path_prefix', 'wpad', 'tftp_server'] ",,24,9
openstack%2Ftempest~master~I18eff5a4216d5683a5d49ad0e400ac663650e7a9,openstack/tempest,master,I18eff5a4216d5683a5d49ad0e400ac663650e7a9,Create router and dhcp when create_default_network set,MERGED,2021-11-12 14:59:27.000000000,2022-06-15 19:22:16.000000000,2022-06-15 19:20:37.000000000,"[{'_account_id': 8313}, {'_account_id': 8367}, {'_account_id': 11075}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-11-12 14:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f12eebcd4181ef10e887f5372ac605f789b928a0', 'message': 'WIP compute: Create router and dhcp when create_default_network set\n\nChange-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9\n'}, {'number': 2, 'created': '2021-11-17 13:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f331a0426e54e90317693e22ab084fb53026bc8', 'message': 'WIP compute: Create router and dhcp when create_default_network set\n\nChange-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9\n'}, {'number': 3, 'created': '2021-11-24 14:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/399bd9b4b2773a55ad2032300d0e583df61eb732', 'message': 'WIP compute: Create router and dhcp when create_default_network set\n\nChange-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9\n'}, {'number': 4, 'created': '2021-11-25 10:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2871b34d080d5307c6c3c4d4920c44cbaf2a16e9', 'message': 'WIP compute: Create router and dhcp when create_default_network set\n\nChange-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9\n'}, {'number': 5, 'created': '2022-03-01 14:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4befa7856da943fe14890183572e1f1ac54ff6d3', 'message': 'WIP compute: Create router and dhcp when create_default_network set\n\nChange-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9\n'}, {'number': 6, 'created': '2022-03-02 18:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/14a66d501f82f2eb6a0c51d7715cd24c0eb3e8d1', 'message': 'WIP compute: Create router and dhcp when create_default_network set\n\nChange-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9\n'}, {'number': 7, 'created': '2022-05-30 17:04:13.000000000', 'files': ['tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/db2f561cdf8fb51053373a4d3b0edc0ce8a6578d', 'message': 'Create router and dhcp when create_default_network set\n\nWe are trying to make server SSH-able before detach volume\nis performed (details in bug mentioned below). Creating\nrouter and dhcp is needed to setup the proper network path\nfor server otherwise it fail\n- https://zuul.opendev.org/t/openstack/build/04e11a0eac12447f8a3c47fb385b0753\n\nRelated-Bug: #1960346\n\nChange-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9\n'}]",2,817771,db2f561cdf8fb51053373a4d3b0edc0ce8a6578d,26,5,7,10135,,,0,"Create router and dhcp when create_default_network set

We are trying to make server SSH-able before detach volume
is performed (details in bug mentioned below). Creating
router and dhcp is needed to setup the proper network path
for server otherwise it fail
- https://zuul.opendev.org/t/openstack/build/04e11a0eac12447f8a3c47fb385b0753

Related-Bug: #1960346

Change-Id: I18eff5a4216d5683a5d49ad0e400ac663650e7a9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/817771/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,f12eebcd4181ef10e887f5372ac605f789b928a0,wait_until_sshable_pingable," subnet=cls.create_default_network, router=cls.create_default_network, dhcp=cls.create_default_network)", subnet=cls.create_default_network),3,1
openstack%2Fproject-config~master~Ic40babff12e40e5925a91d2ce7009ce039301c7a,openstack/project-config,master,Ic40babff12e40e5925a91d2ce7009ce039301c7a,Use python3.8 venv in translation-update jobs,MERGED,2022-06-15 09:24:24.000000000,2022-06-15 19:14:21.000000000,2022-06-15 19:14:21.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 09:24:24.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ebb04f16978ff66dbc998afa72e862361d07998c', 'message': ""Use python3.8 venv in translation-update jobs\n\nThese jobs runs on ubuntu-bionic which have default python 3.6\nbut since deps from master upper-constraints are not compatible\nwith python 3.6 these jobs are broken, let's use python 3.8 venv\nto fix these jobs.\n\nChange-Id: Ic40babff12e40e5925a91d2ce7009ce039301c7a\n""}]",0,845907,ebb04f16978ff66dbc998afa72e862361d07998c,7,6,1,13861,,,0,"Use python3.8 venv in translation-update jobs

These jobs runs on ubuntu-bionic which have default python 3.6
but since deps from master upper-constraints are not compatible
with python 3.6 these jobs are broken, let's use python 3.8 venv
to fix these jobs.

Change-Id: Ic40babff12e40e5925a91d2ce7009ce039301c7a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/07/845907/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,ebb04f16978ff66dbc998afa72e862361d07998c,fix-propose-updates," # ubuntu-bionic default python is 3.6 and master upper-constraints are not compatible with it ensure_pip_virtualenv_command: ""/usr/bin/python3.8 -m venv"" # ubuntu-bionic default python is 3.6 and master upper-constraints are not compatible with it ensure_pip_virtualenv_command: ""/usr/bin/python3.8 -m venv""",,4,0
openstack%2Fopenstack-ansible-os_keystone~master~Ib21a5f5caa590daa827e45d26015bf32abe39cf2,openstack/openstack-ansible-os_keystone,master,Ib21a5f5caa590daa827e45d26015bf32abe39cf2,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 12:42:45.000000000,2022-06-15 18:59:47.000000000,2022-06-15 18:58:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 12:42:45.000000000', 'files': ['doc/source/index.rst', 'tasks/keystone_federation_sp_shib_setup.yml', 'tasks/keystone_post_install.yml', 'tasks/keystone_idp_setup.yml', 'tasks/keystone_install.yml', 'handlers/main.yml', 'tasks/keystone_db_sync.yml', 'tasks/keystone_ldap_setup.yml', 'tasks/keystone_apache.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/e26aabe440b75d134ee90907656207445ddfcf64', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: Ib21a5f5caa590daa827e45d26015bf32abe39cf2\n'}]",0,845741,e26aabe440b75d134ee90907656207445ddfcf64,8,3,1,28619,,,0,"Remove mention of haproxy-endpoints role

Keystone role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ib21a5f5caa590daa827e45d26015bf32abe39cf2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/41/845741/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tasks/keystone_federation_sp_shib_setup.yml', 'tasks/keystone_post_install.yml', 'tasks/keystone_idp_setup.yml', 'tasks/keystone_install.yml', 'handlers/main.yml', 'tasks/keystone_db_sync.yml', 'tasks/keystone_ldap_setup.yml', 'tasks/keystone_apache.yml']",9,e26aabe440b75d134ee90907656207445ddfcf64,osa/manage_lb,, - Manage LB - Manage LB - Manage LB - Manage LB - Manage LB - Manage LB - Manage LB - Manage LB - Manage LB - Manage LB,0,39
openstack%2Fopenstack-ansible-os_placement~master~I4614e0249d65fda1762c6d31d93b3b77babb290e,openstack/openstack-ansible-os_placement,master,I4614e0249d65fda1762c6d31d93b3b77babb290e,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:52:17.000000000,2022-06-15 18:54:57.000000000,2022-06-15 18:53:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/bbfa7204084fec7408c7aa4c0352a77acebcb6f3', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I4614e0249d65fda1762c6d31d93b3b77babb290e\n'}, {'number': 2, 'created': '2022-06-14 18:02:22.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/240cd95c59ddc5d704b4682e4d34531d7e8f82f9', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I4614e0249d65fda1762c6d31d93b3b77babb290e\n'}]",0,845797,240cd95c59ddc5d704b4682e4d34531d7e8f82f9,9,3,2,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I4614e0249d65fda1762c6d31d93b3b77babb290e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/97/845797/2 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,bbfa7204084fec7408c7aa4c0352a77acebcb6f3,osa/manage_lb,, - meta: noop listen: Manage LB when: false,0,4
openstack%2Fdevstack~master~Ifcb8f0e719942d740fb7ff7cd701af24e5f44249,openstack/devstack,master,Ifcb8f0e719942d740fb7ff7cd701af24e5f44249,Disable c-bak by default in our CI jobs,NEW,2022-04-12 21:44:07.000000000,2022-06-15 18:47:12.000000000,,"[{'_account_id': 4146}, {'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-04-12 21:44:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/459c593c15ac79e3d6f51035a58d1854b3838853', 'message': 'Disable c-bak by default in our CI jobs\n\nc-bak has historically been a large memory consumer and we have removed\nit form tests like grenade in the past. Remove it from the default set\nto try and trim things down. Jobs that depend on c-bak can mix it back\nin explicitly.\n\nChange-Id: Ifcb8f0e719942d740fb7ff7cd701af24e5f44249\n'}]",7,837630,459c593c15ac79e3d6f51035a58d1854b3838853,9,5,1,4146,,,0,"Disable c-bak by default in our CI jobs

c-bak has historically been a large memory consumer and we have removed
it form tests like grenade in the past. Remove it from the default set
to try and trim things down. Jobs that depend on c-bak can mix it back
in explicitly.

Change-Id: Ifcb8f0e719942d740fb7ff7cd701af24e5f44249
",git fetch https://review.opendev.org/openstack/devstack refs/changes/30/837630/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,459c593c15ac79e3d6f51035a58d1854b3838853,disbale-c-bak, c-bak: false c-bak: false, c-bak: true c-bak: true,2,2
openstack%2Fopenstack-ansible-galera_server~master~I2a83e31a9de998cd10dd95fc0cffc1ad68061da5,openstack/openstack-ansible-galera_server,master,I2a83e31a9de998cd10dd95fc0cffc1ad68061da5,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:08:08.000000000,2022-06-15 18:44:13.000000000,2022-06-15 18:43:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:08:08.000000000', 'files': ['tasks/galera_server_main.yml', 'doc/source/index.rst', 'tasks/galera_install_dnf.yml', 'tasks/galera_server_post_install.yml', 'handlers/main.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/c9da7d697591ec9343897badee9ce66a18a7fe9e', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I2a83e31a9de998cd10dd95fc0cffc1ad68061da5\n'}]",0,845787,c9da7d697591ec9343897badee9ce66a18a7fe9e,8,3,1,28619,,,0,"Remove mention of haproxy-endpoints role

Keystone role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I2a83e31a9de998cd10dd95fc0cffc1ad68061da5
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/87/845787/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_main.yml', 'doc/source/index.rst', 'tasks/galera_install_dnf.yml', 'tasks/galera_server_post_install.yml', 'handlers/main.yml', 'tasks/galera_install_apt.yml']",6,c9da7d697591ec9343897badee9ce66a18a7fe9e,osa/manage_lb,, - Manage LB,0,22
openstack%2Fansible-role-uwsgi~master~Ie397e5d28027341a3c3b67ea588dcce035121d19,openstack/ansible-role-uwsgi,master,Ie397e5d28027341a3c3b67ea588dcce035121d19,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:49:12.000000000,2022-06-15 18:42:27.000000000,2022-06-15 18:41:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/eaf9385b17570e2d0fda95f4174afe070a4663ea', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: Ie397e5d28027341a3c3b67ea588dcce035121d19\n'}, {'number': 2, 'created': '2022-06-14 18:02:52.000000000', 'files': ['tasks/uwsgi_install.yml', 'tasks/uwsgi_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/d77e0583f28a297dd1fe378840a7eea50452c750', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: Ie397e5d28027341a3c3b67ea588dcce035121d19\n'}]",0,845795,d77e0583f28a297dd1fe378840a7eea50452c750,9,3,2,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: Ie397e5d28027341a3c3b67ea588dcce035121d19
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/95/845795/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/uwsgi_install.yml', 'tasks/uwsgi_post_install.yml', 'handlers/main.yml']",3,eaf9385b17570e2d0fda95f4174afe070a4663ea,osa/manage_lb,, - meta: noop listen: Manage LB when: false,0,6
openstack%2Fopenstack-ansible-os_nova~master~I3693ee3a9a756161324e3a79464f9650fb7a9f1a,openstack/openstack-ansible-os_nova,master,I3693ee3a9a756161324e3a79464f9650fb7a9f1a,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:42:04.000000000,2022-06-15 18:40:39.000000000,2022-06-15 18:39:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:42:04.000000000', 'files': ['doc/source/index.rst', 'tasks/consoles/nova_console_novnc_ssl.yml', 'tasks/consoles/nova_console_spice_install.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'handlers/main.yml', 'tasks/nova_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/604085ffe6b08df8291a0c12d09961a7b6fb8663', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I3693ee3a9a756161324e3a79464f9650fb7a9f1a\n'}]",0,845793,604085ffe6b08df8291a0c12d09961a7b6fb8663,8,3,1,28619,,,0,"Remove mention of haproxy-endpoints role

Keystone role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I3693ee3a9a756161324e3a79464f9650fb7a9f1a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/93/845793/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tasks/consoles/nova_console_novnc_ssl.yml', 'tasks/consoles/nova_console_spice_install.yml', 'tasks/consoles/nova_console_novnc_install.yml', 'handlers/main.yml', 'tasks/nova_post_install.yml']",6,604085ffe6b08df8291a0c12d09961a7b6fb8663,osa/manage_lb,, - Manage LB - Manage LB - Manage LB,0,23
openstack%2Fopenstack-ansible-os_cinder~master~I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9,openstack/openstack-ansible-os_cinder,master,I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9,Remove mention of haproxy-endpoints role,MERGED,2022-06-14 17:46:36.000000000,2022-06-15 18:35:24.000000000,2022-06-15 18:34:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-06-14 17:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/ffc3795040c669a168c170b70350168a8a4dc79c', 'message': 'Remove mention of haproxy-endpoints role\n\nKeystone role was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9\n'}, {'number': 2, 'created': '2022-06-14 18:02:35.000000000', 'files': ['doc/source/index.rst', 'tasks/cinder_post_install.yml', 'handlers/main.yml', 'tasks/cinder_install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/f3b2abb8876b5152fbe379b061b43095eb8556e0', 'message': 'Remove mention of haproxy-endpoints role\n\nRole was never migrated to usage of haproxy-endpoints role\nand included task was used instead the whole time.\nWith that to reduce complexity and to have unified approach, all mention\nof the role and handler are removed from the code.\n\nChange-Id: I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9\n'}]",0,845794,f3b2abb8876b5152fbe379b061b43095eb8556e0,9,3,2,28619,,,0,"Remove mention of haproxy-endpoints role

Role was never migrated to usage of haproxy-endpoints role
and included task was used instead the whole time.
With that to reduce complexity and to have unified approach, all mention
of the role and handler are removed from the code.

Change-Id: I0c055393ccb1c8d61affc2c1bb6d01f0c329afe9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/94/845794/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'tasks/cinder_post_install.yml', 'handlers/main.yml', 'tasks/cinder_install_source.yml']",4,ffc3795040c669a168c170b70350168a8a4dc79c,osa/manage_lb,, - Manage LB,0,20
openstack%2Fopenstack-helm-infra~master~I5a7993b3cad2d48af3f73218d6c61c216520e1c5,openstack/openstack-helm-infra,master,I5a7993b3cad2d48af3f73218d6c61c216520e1c5,Add run migrator job prior running grafana pods,MERGED,2022-06-14 20:42:11.000000000,2022-06-15 18:21:03.000000000,2022-06-15 18:19:45.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32433}, {'_account_id': 34520}]","[{'number': 1, 'created': '2022-06-14 20:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61712f33da93fd78fa682a61f2409e7161fbe8be', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 2, 'created': '2022-06-14 20:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a333df823a1398ab90b3cf9061e87a82012630a4', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 3, 'created': '2022-06-14 20:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a9b9aab7ecbdab95bdea44633c8257df40da9888', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 4, 'created': '2022-06-14 21:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b13eb5a815009784d9a2c814d1006557ea5bd7f', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 5, 'created': '2022-06-14 21:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5c3905339aee096855f05c188af268e611dca4b7', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 6, 'created': '2022-06-14 21:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b7d6558f41b7fe460cbc4a6aebacc01a1437078a', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 7, 'created': '2022-06-14 22:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20023362a579d7888d2d388fa350d9dc53ebec62', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 8, 'created': '2022-06-14 22:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1041ab0158ef1cb5076904a213d89807fb34e470', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 9, 'created': '2022-06-15 00:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6a2c2d6e573cd2414c0d2d3940a9fa3151da5409', 'message': 'Run migrator job prior grafana pods\n\nDuring the first run, grafana will run migrator, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them).\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}, {'number': 10, 'created': '2022-06-15 02:33:02.000000000', 'files': ['grafana/values.yaml', 'releasenotes/notes/grafana.yaml', 'grafana/templates/job-run-migrator.yaml', 'grafana/Chart.yaml', 'grafana/templates/bin/_grafana.sh.tpl', 'grafana/values_overrides/apparmor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e99dfc1c8422a2b2cc3e29264d8ce8f45e89e754', 'message': 'Add run migrator job prior running grafana pods\n\nDuring the first run, grafana will run migrator job, which populates\nnecessary fields in database. Previously, if there are two or more\ngrafana pods which start up simultaneously, it causes the race condition\nfor database access and finally one of the pods will fail (in some\ncases both of them), leaving the grafana database in incomplete state.\n\nSigned-off-by: Ruslan Aliev <raliev@mirantis.com>\nChange-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5\n'}]",0,845818,e99dfc1c8422a2b2cc3e29264d8ce8f45e89e754,22,5,10,16768,,,0,"Add run migrator job prior running grafana pods

During the first run, grafana will run migrator job, which populates
necessary fields in database. Previously, if there are two or more
grafana pods which start up simultaneously, it causes the race condition
for database access and finally one of the pods will fail (in some
cases both of them), leaving the grafana database in incomplete state.

Signed-off-by: Ruslan Aliev <raliev@mirantis.com>
Change-Id: I5a7993b3cad2d48af3f73218d6c61c216520e1c5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/18/845818/10 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/job-run-migrator.yaml', 'grafana/values_overrides/apparmor.yaml']",3,61712f33da93fd78fa682a61f2409e7161fbe8be,grafana-imp, grafana-run-migrator: grafana-run-migrator: runtime/default init: runtime/default,,180,0
openstack%2Fdesignate-tempest-plugin~master~I7b5038fa45de0972da064da384b47ba94785613c,openstack/designate-tempest-plugin,master,I7b5038fa45de0972da064da384b47ba94785613c,Remove six,MERGED,2022-05-10 07:50:51.000000000,2022-06-15 18:15:07.000000000,2022-06-15 18:13:39.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-05-10 07:50:51.000000000', 'files': ['designate_tempest_plugin/services/dns/query/query_client.py', 'designate_tempest_plugin/services/dns/json/base.py', 'designate_tempest_plugin/tests/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/c136230e7eca58ece932781e995ac1780bd1e6ce', 'message': 'Remove six\n\nPython 2 is no longer supported, thus usage of six can be removed.\n\nChange-Id: I7b5038fa45de0972da064da384b47ba94785613c\n'}]",2,841221,c136230e7eca58ece932781e995ac1780bd1e6ce,10,5,1,9816,,,0,"Remove six

Python 2 is no longer supported, thus usage of six can be removed.

Change-Id: I7b5038fa45de0972da064da384b47ba94785613c
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/21/841221/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/services/dns/query/query_client.py', 'designate_tempest_plugin/services/dns/json/base.py', 'designate_tempest_plugin/tests/base.py']",3,c136230e7eca58ece932781e995ac1780bd1e6ce,remove-six," for key, value in expected.items():","import six for key, value in six.iteritems(expected):",5,8
openstack%2Fmagnum~master~I5b2f45928d6e33bc391044d217bc7da006bda4c2,openstack/magnum,master,I5b2f45928d6e33bc391044d217bc7da006bda4c2,Set --node-cidr-mask-size to flannel's subnetlen.,NEW,2022-06-15 16:59:57.000000000,2022-06-15 17:58:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-15 16:59:57.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/1d54f4b527c860c59cf97474cb52a2b9c20e5c9e', 'message': 'Set --node-cidr-mask-size to flannel\'s subnetlen.\n\nWhen changing the subnet size via ""--labels flannel_network_subnetlen=N""\nit\'s neccesary to pass this value to kube-controller-manager, so it can\nconfigure deployed nodes with the expected netmask instead of the\ndefault (/24).\n\nstory: 2010092\ntask: 45633\nChange-Id: I5b2f45928d6e33bc391044d217bc7da006bda4c2\n'}]",0,846038,1d54f4b527c860c59cf97474cb52a2b9c20e5c9e,2,1,1,2424,,,0,"Set --node-cidr-mask-size to flannel's subnetlen.

When changing the subnet size via ""--labels flannel_network_subnetlen=N""
it's neccesary to pass this value to kube-controller-manager, so it can
configure deployed nodes with the expected netmask instead of the
default (/24).

story: 2010092
task: 45633
Change-Id: I5b2f45928d6e33bc391044d217bc7da006bda4c2
",git fetch https://review.opendev.org/openstack/magnum refs/changes/38/846038/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'],1,1d54f4b527c860c59cf97474cb52a2b9c20e5c9e,story/2010092,"KUBE_CONTROLLER_MANAGER_ARGS=""${KUBE_CONTROLLER_MANAGER_ARGS} --node-cidr-mask-size=${FLANNEL_NETWORK_SUBNETLEN}""",,1,0
openstack%2Fopenstack-helm-images~master~I01c1e2c39f76adebf05640c36af492121309e8d3,openstack/openstack-helm-images,master,I01c1e2c39f76adebf05640c36af492121309e8d3,Clean up older tempest distro releases,MERGED,2022-06-15 16:16:39.000000000,2022-06-15 17:55:34.000000000,2022-06-15 17:52:21.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2022-06-15 16:16:39.000000000', 'files': ['tempest/Dockerfile.opensuse_15', 'zuul.d/tempest.yaml', 'tempest/Cloud:OpenStack:Master-openSUSE_Leap_15.0.gpgkey', 'tempest/Dockerfile.ubuntu_bionic'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f60c30cdc4968c7027d12aebccad7442d68fe46f', 'message': 'Clean up older tempest distro releases\n\nCurrently tempest has several older linux distro Dockerfiles that\nare either not maintained or used, this change removes them to\nreduce the number of build targets we are doing to focus more\non what we actually use.\n\nChange-Id: I01c1e2c39f76adebf05640c36af492121309e8d3\n'}]",0,846025,f60c30cdc4968c7027d12aebccad7442d68fe46f,9,3,1,21420,,,0,"Clean up older tempest distro releases

Currently tempest has several older linux distro Dockerfiles that
are either not maintained or used, this change removes them to
reduce the number of build targets we are doing to focus more
on what we actually use.

Change-Id: I01c1e2c39f76adebf05640c36af492121309e8d3
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/25/846025/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/Dockerfile.opensuse_15', 'zuul.d/tempest.yaml', 'tempest/Cloud:OpenStack:Master-openSUSE_Leap_15.0.gpgkey', 'tempest/Dockerfile.ubuntu_bionic']",4,f60c30cdc4968c7027d12aebccad7442d68fe46f,update-tempest,,ARG FROM=ubuntu:18.04 FROM ${FROM} RUN set -ex ;\ export DEBIAN_FRONTEND=noninteractive ;\ apt-get update ;\ apt-get upgrade -y ;\ apt-get install netbase -y ;\ apt-get install --no-install-recommends -y \ python3-dev \ build-essential \ python3-pip \ libssl-dev \ git ;\ pip3 install -U pip ;\ git clone https://git.openstack.org/openstack/tempest ;\ git clone https://git.openstack.org/openstack/cinder-tempest-plugin ;\ git clone https://git.openstack.org/openstack/heat-tempest-plugin ;\ git clone https://git.openstack.org/openstack/keystone-tempest-plugin ;\ git clone https://git.openstack.org/openstack/neutron-tempest-plugin ;\ pip3 install -U setuptools==58.0.0 ;\ pip3 install wheel ;\ pip3 install -e tempest/ \ cinder-tempest-plugin/ \ heat-tempest-plugin/ \ keystone-tempest-plugin/ \ neutron-tempest-plugin/ ;\ ,0,75
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I0093bf9c1c8346963b6fc299527e37b7698c51ce,openstack/python-tripleoclient,stable/wallaby,I0093bf9c1c8346963b6fc299527e37b7698c51ce,bnr - Set properly the default inventory file,MERGED,2022-03-21 16:26:10.000000000,2022-06-15 17:21:55.000000000,2022-06-15 17:20:14.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 32968}]","[{'number': 1, 'created': '2022-03-21 16:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab578d2432ffad995fc6a3b090322625258d0aa9', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}, {'number': 2, 'created': '2022-03-21 16:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/70fa6a094b0bf4bc210f6e9882bc3a071abdb3ac', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}, {'number': 3, 'created': '2022-03-22 10:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42c47654fabfe67301a4daf57357997da612210d', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}, {'number': 4, 'created': '2022-06-06 15:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c6cee183e1cd5de43b3e6b04dca8d0dfbae97a9', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}, {'number': 5, 'created': '2022-06-06 15:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e13ec61b355b2c6681ec387819a16a81a2dee27', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}, {'number': 6, 'created': '2022-06-07 06:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/50b3a67f44fccca836471ffc46b50c7df2bcfa63', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}, {'number': 7, 'created': '2022-06-07 08:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4cd5c3e7a4dd96d19c47af897d13fbce578e3ba9', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}, {'number': 8, 'created': '2022-06-07 08:23:47.000000000', 'files': ['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py', 'tripleoclient/v1/overcloud_restore.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/33bb74cae96a0fcc63cbb86e4c51d3006ca9a426', 'message': 'bnr - Set properly the default inventory file\n\nThe default path is addressed to /home/stack/tripleo-inventory.yaml.\nThe new release the inventory is generated automatically and the path is not that one.\n\nAlso the inventory argument in the restoration command has been added\n\nChange-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce\n(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)\n'}]",9,834474,33bb74cae96a0fcc63cbb86e4c51d3006ca9a426,36,6,8,34423,,,0,"bnr - Set properly the default inventory file

The default path is addressed to /home/stack/tripleo-inventory.yaml.
The new release the inventory is generated automatically and the path is not that one.

Also the inventory argument in the restoration command has been added

Change-Id: I0093bf9c1c8346963b6fc299527e37b7698c51ce
(cherry picked from commit 719a26aaf1c59d0f407f8a9951950032e9d4cb33)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/834474/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_backup.py', 'tripleoclient/v1/overcloud_backup.py', 'tripleoclient/v1/overcloud_restore.py']",3,ab578d2432ffad995fc6a3b090322625258d0aa9,BZ/2049498-stable/wallaby,"<<<<<<< HEAD (70a622 Merge ""Adds openstack-py3-wallaby python jobs to template re)======= INVENTORY = constants.ANSIBLE_INVENTORY.format('overcloud') >>>>>>> CHANGE (719a26 bnr - Set properly the default inventory file)<<<<<<< HEAD (70a622 Merge ""Adds openstack-py3-wallaby python jobs to template re) ======= parser.add_argument( '--stack', nargs='?', help=_('Name or ID of heat stack to delete' '(default=Env: OVERCLOUD_STACK_NAME)'), default=osc_utils.env('OVERCLOUD_STACK_NAME')) >>>>>>> CHANGE (719a26 bnr - Set properly the default inventory file)<<<<<<< HEAD (70a622 Merge ""Adds openstack-py3-wallaby python jobs to template re)======= playbook='cli-overcloud-restore-node.yaml', inventory=parsed_args.inventory, tags=None, skip_tags=None, extra_vars=extra_vars, ssh_user='stack' ) >>>>>>> CHANGE (719a26 bnr - Set properly the default inventory file)",,32,4
openstack%2Fglance-tempest-plugin~master~I93bab21bdeda18c564b64218d12735d16a5ee8d6,openstack/glance-tempest-plugin,master,I93bab21bdeda18c564b64218d12735d16a5ee8d6,Refactor rbac tests structure,MERGED,2022-04-27 17:12:31.000000000,2022-06-15 17:07:44.000000000,2022-06-15 17:07:44.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 32761}, {'_account_id': 34510}]","[{'number': 1, 'created': '2022-04-27 17:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/d4f4159563bb08247ad15fd7ce102b77bdf290ec', 'message': 'Refactor rbac tests structure\n\nCreate multiple test files admin, memeber and reader\nMove abstract class to base\n\nIts very hard to maintain code in a single file\n\nChange-Id: I93bab21bdeda18c564b64218d12735d16a5ee8d6\n'}, {'number': 2, 'created': '2022-04-27 18:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/49ae057e2c1af8ddcba6b4dd60977b0c88cb83f4', 'message': 'Refactor rbac tests structure\n\nCreate multiple test files admin, memeber and reader\nMove abstract class to base\nCreated id per testcase\nIts very hard to maintain code in a single file\n\nChange-Id: I93bab21bdeda18c564b64218d12735d16a5ee8d6\n'}, {'number': 3, 'created': '2022-05-17 14:09:04.000000000', 'files': ['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_reader_tests.py', 'glance_tempest_plugin/tests/rbac/v2/test_images.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_admin_tests.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_members_tests.py'], 'web_link': 'https://opendev.org/openstack/glance-tempest-plugin/commit/6e06a9c1f4cb629e7ccfc8c100f7e9192d10cca5', 'message': 'Refactor rbac tests structure\n\nCreate multiple test files admin, memeber and reader\nMove abstract class to base\nCreated id per testcase\nIts very hard to maintain code in a single file\n\nChange-Id: I93bab21bdeda18c564b64218d12735d16a5ee8d6\n'}]",4,839605,6e06a9c1f4cb629e7ccfc8c100f7e9192d10cca5,15,7,3,11075,,,0,"Refactor rbac tests structure

Create multiple test files admin, memeber and reader
Move abstract class to base
Created id per testcase
Its very hard to maintain code in a single file

Change-Id: I93bab21bdeda18c564b64218d12735d16a5ee8d6
",git fetch https://review.opendev.org/openstack/glance-tempest-plugin refs/changes/05/839605/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_tempest_plugin/tests/rbac/v2/base.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_reader_tests.py', 'glance_tempest_plugin/tests/rbac/v2/test_images.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_admin_tests.py', 'glance_tempest_plugin/tests/rbac/v2/test_project_members_tests.py']",5,d4f4159563bb08247ad15fd7ce102b77bdf290ec,refactor-rbac-tests,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions from glance_tempest_plugin.tests.rbac.v2.base import ImageV2RbacImageTest from glance_tempest_plugin.tests.rbac.v2.base import ImageV2RbacTemplate CONF = config.CONF class ProjectMemberTests(ImageV2RbacImageTest, ImageV2RbacTemplate): credentials = ['project_member', 'project_admin', 'system_admin', 'project_alt_admin'] @decorators.idempotent_id('a71e7caf-2403-4fed-a4bf-9717949ecde2') def test_create_image(self): image = self.do_request('create_image', expected_status=201, **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) image = self.do_request('create_image', expected_status=201, **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) image = self.do_request('create_image', expected_status=201, **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('create_image', expected_status=exceptions.Forbidden, **self.image(visibility='public')) @decorators.idempotent_id('2adf7202-7fc9-4a6e-b6dd-fb3d40365ccb') def test_get_image(self): # Ensure users can get private images owned by their project. project_id = self.persona.credentials.project_id project_member = self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image', image_id=image['id']) image = project_member.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image', image_id=image['id']) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image', expected_status=exceptions.NotFound, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image', expected_status=exceptions.NotFound, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image', expected_status=exceptions.NotFound, image_id=image['id']) project_id = self.persona.credentials.project_id self.admin_client.image_member_client_v2.create_image_member( image['id'], member=project_id) self.addCleanup( self.admin_client.image_member_client_v2.delete_image_member, image['id'], project_id) self.do_request('show_image', image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image', image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image', image_id=image['id']) self.do_request('show_image', expected_status=exceptions.NotFound, image_id=data_utils.rand_uuid()) @decorators.idempotent_id('259d5578-410e-4b0f-bb2d-cb5b057bc696') def test_list_images(self): project_id = self.persona.credentials.project_id project_member = self.setup_user_client(project_id=project_id) project_client = self.setup_user_client() # Create a private image in the project private_image_in_project = project_member.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, private_image_in_project['id']) # Create a private image without an owner private_image_no_owner = self.admin_images_client.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, private_image_no_owner['id']) # Create a private image in another project private_image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, private_image['id']) # Create a public image public_image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, public_image['id']) resp = self.do_request('list_images', expected_status=200) image_ids = set(image['id'] for image in resp['images']) self.assertNotIn(private_image_no_owner['id'], image_ids) self.assertNotIn(private_image['id'], image_ids) self.assertIn(public_image['id'], image_ids) self.assertIn(private_image_in_project['id'], image_ids) # Create a shared image in another project shared_image_1 = project_client.image_client_v2.create_image( **self.image(visibility='shared')) shared_image_2 = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, shared_image_1['id']) self.addCleanup(self.admin_images_client.delete_image, shared_image_2['id']) # Share the image from the other project with the user's project project_id = self.persona.credentials.project_id self.admin_client.image_member_client_v2.create_image_member( shared_image_1['id'], member=project_id) self.addCleanup( self.admin_client.image_member_client_v2.delete_image_member, shared_image_1['id'], project_id) # List images and assert the shared image is not in the list of images # because it hasn't been accepted, yet. resp = self.do_request('list_images', expected_status=200) image_ids = set(image['id'] for image in resp['images']) self.assertNotIn(shared_image_1['id'], image_ids) self.assertNotIn(shared_image_2['id'], image_ids) # Accept the image and ensure it's returned in the list of images project_member.image_member_client_v2.update_image_member( shared_image_1['id'], project_id, status='accepted') resp = self.do_request('list_images', expected_status=200) image_ids = set(image['id'] for image in resp['images']) self.assertIn(shared_image_1['id'], image_ids) self.assertNotIn(shared_image_2['id'], image_ids) @decorators.idempotent_id('13f8949b-3419-4a4a-bd0b-71fa711206fd') def test_update_image(self): image = self.client.create_image(**self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=200, image_id=image['id'], patch=patch_body) image = self.client.create_image(**self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=200, image_id=image['id'], patch=patch_body) image = self.admin_images_client.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=exceptions.NotFound, image_id=image['id'], patch=patch_body) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=exceptions.NotFound, image_id=image['id'], patch=patch_body) image = self.client.create_image(**self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=200, image_id=image['id'], patch=patch_body) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=exceptions.NotFound, image_id=image['id'], patch=patch_body) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=exceptions.Forbidden, image_id=image['id'], patch=patch_body) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) name = data_utils.rand_name('new-image-name') patch_body = [dict(replace='/name', value=name)] self.do_request('update_image', expected_status=exceptions.Forbidden, image_id=image['id'], patch=patch_body) @decorators.idempotent_id('bd5845dc-d96b-4d83-a8da-7978bd91ddc1') def test_upload_image(self): file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) # upload file for private image - pass image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('store_image_file', expected_status=204, image_id=image['id'], data=image_data) # upload file for shared image - pass image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('store_image_file', expected_status=204, image_id=image['id'], data=image_data) image = self.admin_images_client.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('store_image_file', expected_status=exceptions.NotFound, image_id=image['id'], data=image_data) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('store_image_file', expected_status=exceptions.NotFound, image_id=image['id'], data=image_data) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('store_image_file', expected_status=exceptions.NotFound, image_id=image['id'], data=image_data) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('store_image_file', expected_status=exceptions.Forbidden, image_id=image['id'], data=image_data) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('store_image_file', expected_status=exceptions.Forbidden, image_id=image['id'], data=image_data) @decorators.idempotent_id('3dfa6f70-f6fe-4ed5-96eb-5f4634064aa3') def test_download_image(self): project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image_file', expected_status=204, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image_file', expected_status=204, image_id=image['id']) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image_file', expected_status=exceptions.NotFound, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image_file', expected_status=exceptions.NotFound, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image_file', expected_status=exceptions.NotFound, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image_file', expected_status=204, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.do_request('show_image_file', expected_status=204, image_id=image['id']) @decorators.idempotent_id('326d267a-de9d-4217-aadc-a0f2b5993537') def test_delete_image(self): image = self.admin_images_client.create_image( **self.image(visibility='private')) self.do_request('delete_image', expected_status=exceptions.NotFound, image_id=image['id']) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.do_request('delete_image', expected_status=exceptions.NotFound, image_id=image['id']) self.addCleanup(self.admin_images_client.delete_image, image['id']) image = self.client.create_image( **self.image(visibility='private')) self.do_request('delete_image', expected_status=204, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.do_request('delete_image', expected_status=exceptions.NotFound, image_id=image['id']) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_id = self.persona.credentials.project_id project_member = self.setup_user_client(project_id=project_id) image = project_member.image_client_v2.create_image( **self.image(visibility='shared')) self.do_request('delete_image', expected_status=204, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='community')) self.do_request('delete_image', expected_status=exceptions.Forbidden, image_id=image['id']) self.addCleanup(self.admin_images_client.delete_image, image['id']) image = self.client.create_image( **self.image(visibility='community')) self.do_request('delete_image', expected_status=204, image_id=image['id']) image = self.admin_images_client.create_image( **self.image(visibility='public')) self.do_request('delete_image', expected_status=exceptions.Forbidden, image_id=image['id']) self.addCleanup(self.admin_images_client.delete_image, image['id']) @decorators.idempotent_id('395579c9-92bb-40a9-a8b6-9daaa20ae610') def test_add_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) # As users with authorization on the project that owns the image, we # should be able to share that image with other projects. self.do_request('create_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member=member_project_id) @decorators.idempotent_id('67510e3f-57cd-4a76-9e96-577e49229677') def test_get_image_member(self): member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) self.do_request('show_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=member_project_id) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) # The user can't show the members for this image because they can't get # the image or pass the get_image policy, which is processed before # fetching the members. self.do_request('show_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id) @decorators.idempotent_id('64ec16c4-3b8d-464d-88fb-f274241b1302') def test_list_image_members(self): # Stash the project_id for this persona. project_id = self.persona.credentials.project_id other_member_client = self.setup_user_client() other_member_project_id = other_member_client.credentials.project_id # Create an image as an other user in a separate project and share that # image with this user and the other member. project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) for p_id in [project_id, other_member_project_id]: project_client.image_member_client_v2.create_image_member( image['id'], member=p_id) resp = self.do_request('list_image_members', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id']) members = set(m['member_id'] for m in resp['members']) # Make sure this user (persona) can't view members of an image other # than themselves. self.assertIn(project_id, members) self.assertNotIn(other_member_project_id, members) @decorators.idempotent_id('12636be0-6188-4003-8824-de4f89e3c745') def test_update_image_member(self): # Create a new user with authorization on another project. other_project_client = self.setup_user_client() # Create a shared image in the other project and share the image with # the persona user's project. image = other_project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) other_project_client.image_member_client_v2.create_image_member( image['id'], member=self.persona.credentials.project_id) # Make sure the persona users can accept the image. self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=self.persona.credentials.project_id, status='accepted') # Make sure the persona users can reject the image. self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=200, image_id=image['id'], member_id=self.persona.credentials.project_id, status='rejected') # Create a new user with authorization on another project to act as a # different member. member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id # Create another image with the first project_client to share with the # new member user. image = other_project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) other_project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) # Make sure the persona user can't accept images for other projects # they are not a member of. self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id, status='accepted') # Make sure the persona user can't reject images for other projects # they are not a member of. self.do_request('update_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id, status='rejected') @decorators.idempotent_id('bcfda1fa-ea65-47ce-8434-a64d85512fcf') def test_delete_image_member(self): # Create a new user with authorization on a separate project. member_client = self.setup_user_client() member_project_id = member_client.credentials.project_id # Create an image in the persona user's project and share that image # with the new member user. project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) # Make sure the persona user can delete image members from images they # own. self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=204, image_id=image['id'], member_id=member_project_id) project_client = self.setup_user_client() image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_member_client_v2.create_image_member( image['id'], member=member_project_id) # Make sure the persona user can't delete image members from images # outside their project. self.do_request('delete_image_member', client=self.persona.image_member_client_v2, expected_status=exceptions.NotFound, image_id=image['id'], member_id=member_project_id) @decorators.idempotent_id('abf9fe8b-ada3-4509-b15b-76d04e58f4e8') def test_deactivate_image(self): # Create a new user with authorization on the persona user's project. project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) # Create a private image in the persona user's project and make sure # the persona user can deactivate it. image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) resp = self.client.show_image(image_id=image['id']) self.assertTrue(resp['status'] == 'deactivated') # Create a shared image in the persona user's project and make sure the # persona user can deactivate it. image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=204, image_id=image['id']) resp = self.client.show_image(image_id=image['id']) self.assertTrue(resp['status'] == 'deactivated') # Create a new user with authorization on a separate project. project_client = self.setup_user_client() # Create a private image in that new project. image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) # The user can't deactivate this image because they can't find it. self.do_request('deactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) # Create a shared image in the new project. image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) # The user can't deactivate this image because they can't find it. self.do_request('deactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) # Project users can't deactivate community images, only administrators # should be able to do this. image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) # Project users can't deactivate public images, only administrators # should be able to do this. image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.do_request('deactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) @decorators.idempotent_id('58558447-8618-4dbe-97ce-bfc39b3743e7') def test_reactivate_image(self): # Create a new user with authorization on the persona user's project. project_id = self.persona.credentials.project_id project_client = self.setup_user_client(project_id=project_id) file_contents = data_utils.random_bytes() image_data = six.BytesIO(file_contents) # Create a private image within the persona user's project and make # sure we can reactivate it. image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) resp = self.client.show_image(image_id=image['id']) self.assertTrue(resp['status'] == 'deactivated') self.do_request('reactivate_image', expected_status=204, image_id=image['id']) resp = self.client.show_image(image_id=image['id']) self.assertTrue(resp['status'] == 'active') # Create a shared image within the persona user's project and make sure # we can reactivate it. image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) resp = self.client.show_image(image_id=image['id']) self.assertTrue(resp['status'] == 'deactivated') self.do_request('reactivate_image', expected_status=204, image_id=image['id']) resp = self.client.show_image(image_id=image['id']) self.assertTrue(resp['status'] == 'active') # Create a new user with authorization on a separate project. project_client = self.setup_user_client() # Create a private image in the separate project. image = project_client.image_client_v2.create_image( **self.image(visibility='private')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) # The user can't reactivate this image because they can't find it. self.do_request('reactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) image = project_client.image_client_v2.create_image( **self.image(visibility='shared')) self.addCleanup(self.admin_images_client.delete_image, image['id']) project_client.image_client_v2.store_image_file(image['id'], image_data) project_client.image_client_v2.deactivate_image(image['id']) # The user can't reactivate this image because they can't find it. self.do_request('reactivate_image', expected_status=exceptions.NotFound, image_id=image['id']) # Only administrators can reactivate community images. image = self.admin_images_client.create_image( **self.image(visibility='community')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) # Only administrators can reactivate public images. image = self.admin_images_client.create_image( **self.image(visibility='public')) self.addCleanup(self.admin_images_client.delete_image, image['id']) self.admin_images_client.store_image_file(image['id'], image_data) self.admin_images_client.deactivate_image(image['id']) self.do_request('reactivate_image', expected_status=exceptions.Forbidden, image_id=image['id']) ",,2218,2133
openstack%2Fopenstack-ansible-plugins~master~I791421268664aec2a003d7fb0b44a3d7ed1bf787,openstack/openstack-ansible-plugins,master,I791421268664aec2a003d7fb0b44a3d7ed1bf787,Use system-scope by default,NEW,2022-03-09 18:13:16.000000000,2022-06-15 17:05:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-03-09 18:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9375a57387db64be72ed6ce618d158c48bfc2d5e', 'message': 'Use system-scope by default\n\nCurrently, if no domain or project is explicitly provided for users,\n_service_project_name would be used. We change that behaviour to\nassigning system-scope when neither domain not project is defined.\n\nMost of service users should have system-scoped privileges rather then\nproject or domain scoped ones.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193\nChange-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787\n'}, {'number': 2, 'created': '2022-04-04 11:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/06de137816c80ca3c982a5cc084cc765be637fe6', 'message': 'Use system-scope by default\n\nCurrently, if no domain or project is explicitly provided for users,\n_service_project_name would be used. We change that behaviour to\nassigning system-scope when neither domain not project is defined.\n\nMost of service users should have system-scoped privileges rather then\nproject or domain scoped ones.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193\nDepends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202\nChange-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787\n'}, {'number': 3, 'created': '2022-06-14 06:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/79d0c2fb7b99b9c6420ab55b1c0f3e9e7804ecd1', 'message': 'Use system-scope by default\n\nCurrently, if no domain or project is explicitly provided for users,\n_service_project_name would be used. We change that behaviour to\nassigning system-scope when neither domain not project is defined.\n\nMost of service users should have system-scoped privileges rather then\nproject or domain scoped ones.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193\nDepends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202\nChange-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787\n'}, {'number': 4, 'created': '2022-06-14 08:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/b64b938df5d5b885cf7a4dac3f3c8b3908fabd28', 'message': 'Use system-scope by default\n\nCurrently, if no domain or project is explicitly provided for users,\n_service_project_name would be used. We change that behaviour to\nassigning system-scope when neither domain not project is defined.\n\nMost of service users should have system-scoped privileges rather then\nproject or domain scoped ones.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193\nDepends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202\nChange-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787\n'}, {'number': 5, 'created': '2022-06-14 08:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/ff7f2af5aea22f58cdae05bb83344e1c4ea7763e', 'message': 'Use system-scope by default\n\nCurrently, if no domain or project is explicitly provided for users,\n_service_project_name would be used. We change that behaviour to\nassigning system-scope when neither domain not project is defined.\n\nMost of service users should have system-scoped privileges rather then\nproject or domain scoped ones.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193\nDepends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202\nChange-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787\n'}, {'number': 6, 'created': '2022-06-14 12:00:57.000000000', 'files': ['roles/service_setup/tasks/setup_role_assignment.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/9bdb61682dc871ecc1ef96fabbedc2affc66b150', 'message': 'Use system-scope by default\n\nCurrently, if no domain or project is explicitly provided for users,\n_service_project_name would be used. We change that behaviour to\nassigning system-scope when neither domain not project is defined.\n\nMost of service users should have system-scoped privileges rather then\nproject or domain scoped ones.\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193\nDepends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202\nChange-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787\n'}]",0,832837,9bdb61682dc871ecc1ef96fabbedc2affc66b150,20,2,6,28619,,,0,"Use system-scope by default

Currently, if no domain or project is explicitly provided for users,
_service_project_name would be used. We change that behaviour to
assigning system-scope when neither domain not project is defined.

Most of service users should have system-scoped privileges rather then
project or domain scoped ones.

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/826193
Depends-On: https://review.opendev.org/c/openstack/ansible-collections-openstack/+/836202
Change-Id: I791421268664aec2a003d7fb0b44a3d7ed1bf787
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/37/832837/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/service_setup/tasks/main.yml'],1,9375a57387db64be72ed6ce618d158c48bfc2d5e,osa/service_tokens," project: ""{{ item.project | default(omit) }}"" system: ""{{ item.system | default(('project' in item or 'domain' in item) | ternary(omit, 'all')) }}"""," project: ""{{ item.project | default(_service_project_name) }}""",2,1
openstack%2Floci~master~Ideb497c169828184d301b6be4359a7c2228aa444,openstack/loci,master,Ideb497c169828184d301b6be4359a7c2228aa444,Reduce build targets,MERGED,2021-07-20 19:49:31.000000000,2022-06-15 16:55:38.000000000,2022-06-15 16:55:38.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-07-20 19:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/766179e0ea379313843bc2af25c9aa8f0add64e9', 'message': ""Reduce build targets\n\nUbuntu Xenial is EOL since April 2021, which also runs builds\nfor Ocata only that also has been in EM for a long time and\nnot really maintained.\n\nOpenSUSE LEAP is currently not in use by any known downstream\nusers and it has been broken for quite sometime, leaving the gate\nin a broken state and unable to land any code.  There's no active\nmaintainer for it as well.\n\nDebian support was added by us (VEXXHOST) but we decided that\nwe're not going to continue using it and move towards Ubuntu, so\nwe do not want to maintain it, as well as that it is building images\nfor Train only.\n\nIt also updates the README file accordingly as well as includes\nfocal in there which has been recently added.\n\nChange-Id: Ideb497c169828184d301b6be4359a7c2228aa444\n""}, {'number': 2, 'created': '2021-07-28 17:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e929d6861c8fd99fe6e3d5c83ecd6c80a117ad94', 'message': ""Reduce build targets\n\nUbuntu Xenial is EOL since April 2021, which also runs builds\nfor Ocata only that also has been in EM for a long time and\nnot really maintained.\n\nOpenSUSE LEAP is currently not in use by any known downstream\nusers and it has been broken for quite sometime, leaving the gate\nin a broken state and unable to land any code.  There's no active\nmaintainer for it as well.\n\nDebian support was added by us (VEXXHOST) but we decided that\nwe're not going to continue using it and move towards Ubuntu, so\nwe do not want to maintain it, as well as that it is building images\nfor Train only.\n\nIt also updates the README file accordingly as well as includes\nfocal in there which has been recently added.\n\nChange-Id: Ideb497c169828184d301b6be4359a7c2228aa444\n""}, {'number': 3, 'created': '2022-05-17 19:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/529a0ec746baabcbdc17a6e3c9d9368602dd59d1', 'message': ""Reduce build targets\n\nUbuntu Xenial is EOL since April 2021, which also runs builds\nfor Ocata only that also has been in EM for a long time and\nnot really maintained.\n\nOpenSUSE LEAP is currently not in use by any known downstream\nusers and it has been broken for quite sometime, leaving the gate\nin a broken state and unable to land any code.  There's no active\nmaintainer for it as well.\n\nDebian support was added by us (VEXXHOST) but we decided that\nwe're not going to continue using it and move towards Ubuntu, so\nwe do not want to maintain it, as well as that it is building images\nfor Train only.\n\nIt also updates the README file accordingly as well as includes\nfocal in there which has been recently added.\n\nChange-Id: Ideb497c169828184d301b6be4359a7c2228aa444\n""}, {'number': 4, 'created': '2022-05-17 19:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/ac7291257ae5c1053ad3df1bb8c935d9501d8aff', 'message': ""Reduce build targets\n\nUbuntu Xenial is EOL since April 2021, which also runs builds\nfor Ocata only that also has been in EM for a long time and\nnot really maintained.\n\nOpenSUSE LEAP is currently not in use by any known downstream\nusers and it has been broken for quite sometime, leaving the gate\nin a broken state and unable to land any code.  There's no active\nmaintainer for it as well.\n\nDebian support was added by us (VEXXHOST) but we decided that\nwe're not going to continue using it and move towards Ubuntu, so\nwe do not want to maintain it, as well as that it is building images\nfor Train only.\n\nIt also updates the README file accordingly as well as includes\nfocal in there which has been recently added.\n\nChange-Id: Ideb497c169828184d301b6be4359a7c2228aa444\n""}, {'number': 5, 'created': '2022-05-19 17:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/86a51eeac795119c004f2db9385ab432e877de5d', 'message': ""Reduce build targets\n\nUbuntu Xenial is EOL since April 2021, which also runs builds\nfor Ocata only that also has been in EM for a long time and\nnot really maintained.\n\nOpenSUSE LEAP is currently not in use by any known downstream\nusers and it has been broken for quite sometime, leaving the gate\nin a broken state and unable to land any code.  There's no active\nmaintainer for it as well.\n\nDebian support was added by us (VEXXHOST) but we decided that\nwe're not going to continue using it and move towards Ubuntu, so\nwe do not want to maintain it, as well as that it is building images\nfor Train only.\n\nIt also updates the README file accordingly as well as includes\nfocal in there which has been recently added.\n\nChange-Id: Ideb497c169828184d301b6be4359a7c2228aa444\n""}, {'number': 6, 'created': '2022-05-23 15:59:49.000000000', 'files': ['scripts/collect_info.sh', 'scripts/install_packages.sh', 'scripts/cleanup.sh', 'dockerfiles/debian/Dockerfile', 'dockerfiles/debian/ceph.gpg', 'playbooks/vars.yaml', 'scripts/install.sh', 'dockerfiles/leap15/Dockerfile', 'README.md', 'dockerfiles/debian/sources.list'], 'web_link': 'https://opendev.org/openstack/loci/commit/9e7b71c3043245baeae16ecc0c8f3563e2c25c98', 'message': ""Reduce build targets\n\nOpenSUSE LEAP is currently not in use by any known downstream\nusers and it has been broken for quite sometime, leaving the gate\nin a broken state and unable to land any code.  There's no active\nmaintainer for it as well.\n\nDebian support was added by us (VEXXHOST) but we decided that\nwe're not going to continue using it and move towards Ubuntu, so\nwe do not want to maintain it, as well as that it is building images\nfor Train only.\n\nIt also updates the README file accordingly as well as includes\nfocal in there which has been recently added.\n\nChange-Id: Ideb497c169828184d301b6be4359a7c2228aa444\n""}]",3,801526,9e7b71c3043245baeae16ecc0c8f3563e2c25c98,25,4,6,1004,,,0,"Reduce build targets

OpenSUSE LEAP is currently not in use by any known downstream
users and it has been broken for quite sometime, leaving the gate
in a broken state and unable to land any code.  There's no active
maintainer for it as well.

Debian support was added by us (VEXXHOST) but we decided that
we're not going to continue using it and move towards Ubuntu, so
we do not want to maintain it, as well as that it is building images
for Train only.

It also updates the README file accordingly as well as includes
focal in there which has been recently added.

Change-Id: Ideb497c169828184d301b6be4359a7c2228aa444
",git fetch https://review.opendev.org/openstack/loci refs/changes/26/801526/2 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/ubuntu_xenial/sources.list', 'dockerfiles/ubuntu_xenial/Dockerfile', 'scripts/collect_info.sh', 'scripts/install_packages.sh', 'dockerfiles/debian/Dockerfile', 'dockerfiles/debian/ceph.gpg', 'playbooks/vars.yaml', 'scripts/install.sh', 'README.md', 'dockerfiles/ubuntu_xenial/ceph.gpg', 'scripts/cleanup.sh', 'dockerfiles/leap15/Dockerfile', 'dockerfiles/ubuntu_xenial/cloud-archive.gpg', 'dockerfiles/debian/sources.list']",14,766179e0ea379313843bc2af25c9aa8f0add64e9,build-targets,,deb %%DEBIAN_URL%% stretch main deb %%DEBIAN_URL%% stretch-updates main deb %%DEBIAN_URL%% stretch-backports main deb %%DEBIAN_SECURITY_URL%% %%DEBIAN_SECURITY_DISTRIBUTION%% main deb %%CEPH_URL%% stretch main ,9,181
openstack%2Fcinder~master~I0c0f3d2246b840326579748027b9cd15bf174ff8,openstack/cinder,master,I0c0f3d2246b840326579748027b9cd15bf174ff8,PowerMax Driver - Improve error handling around deletes,MERGED,2021-06-14 14:33:01.000000000,2022-06-15 16:47:35.000000000,2022-06-15 16:45:31.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32171}, {'_account_id': 32266}, {'_account_id': 32761}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-06-14 14:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d90e679842ca9081b268db35086cd7a52a3fd65b', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Allow for None value in unlink_snapshot.\n3. Add extra debugging information for device id\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 2, 'created': '2021-06-14 15:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/12774a6dd8dafb7ac8307b921dba77788ac863eb', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Allow for None value in unlink_snapshot.\n3. Add extra debugging information for device id\n4. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 3, 'created': '2021-06-15 13:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f9827d6d6f1c17f73459690bebb81a736cdf405', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 4, 'created': '2021-06-16 08:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/304e15a48017d7c15099f1605a066cd1504e77cc', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 5, 'created': '2021-06-16 10:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8acf92f3ba73b76ad45559f51d32d945c1ffdc62', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 6, 'created': '2021-06-17 13:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04154df7096cd105dbcd606741f49b66f1f0ae2d', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 7, 'created': '2021-06-17 21:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b09356d0e553ec4cbd930a90dd5fd553724965e', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 8, 'created': '2021-06-23 13:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/322c2a989489604f604f492a7601b0700e92aebf', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 9, 'created': '2021-06-29 19:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/542f55f57337c1ac926e1e162e8536a3775373bf', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 10, 'created': '2021-06-30 14:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6be33cc50dfab2c3c773aa4483d9522d8a002d3c', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 11, 'created': '2021-06-30 17:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/856565aa36afa69c89a83ca0176b3125f65abafd', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 12, 'created': '2021-07-05 11:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f819d44d4fb616c3e7874a5533d6a637797a7649', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 13, 'created': '2021-07-05 15:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/242492ead212b0b99a87d4c8b0e21ea275b745bf', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 14, 'created': '2021-07-06 15:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e75b495dfafaf32998675310e0e92c0ec8e4810a', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 15, 'created': '2021-07-07 11:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8955241048c8af94997e93996bf044ed9859e51e', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 16, 'created': '2021-07-08 16:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99070278678fc8fc0d96f71fc034a69b2403f71d', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id\n5. Error handling in mv connection info\n6. Pylint fixes\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 17, 'created': '2021-07-14 10:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2393e55e0928c1842e0f9fcd02a6443519f36eb5', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 18, 'created': '2021-07-23 14:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b86a108d99dff0887d5f19939cca2ec4733e35b', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 19, 'created': '2021-07-30 15:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb54d4d92127ec8cf99ea96f8cfdb6af8fe55e23', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 20, 'created': '2021-08-04 16:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/318438d28ed8b03adbe9e90d394e108e7d69b374', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 21, 'created': '2021-09-16 10:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f547084e43983b9e09fa6955667952b5ff749529', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 22, 'created': '2021-11-02 14:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce8a94bc8b08be7e839fe74c38176e6b3b07a7fb', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n10. Retry on a failed delete with a cleanup snapvx in exception.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 23, 'created': '2021-12-13 17:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb3b976daf7cd15b7e8e43ca92e0c23738b5ef6d', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n10. Retry on a failed delete with a cleanup snapvx in exception.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}, {'number': 24, 'created': '2022-01-06 14:05:59.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_masking.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1f6de6f836e1d534d0196ba43e6642bc5e279c6', 'message': 'PowerMax Driver - Improve error handling around deletes\n\n1. Bring storage group check within delete volume so that\nit can be used in every place it is called and not just the\ndelete method.\n2. Remove the reset identifier_name name as this makes the\ndevice available for use straight away even if is not deleted.\n3. Allow for None value in unlink_snapshot.\n4. Add extra debugging information for device id.\n5. Retry on getting connection info for volume.\n6. Validate a masking view on an attach operation.\n7. Reset identifier name on a rollback.\n8. Retry a cleanup if snap id not available at the time.\n9. Pylint fixes.\n10. Retry on a failed delete with a cleanup snapvx in exception.\n\nChange-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8\n'}]",22,796286,e1f6de6f836e1d534d0196ba43e6642bc5e279c6,552,10,24,12670,,,0,"PowerMax Driver - Improve error handling around deletes

1. Bring storage group check within delete volume so that
it can be used in every place it is called and not just the
delete method.
2. Remove the reset identifier_name name as this makes the
device available for use straight away even if is not deleted.
3. Allow for None value in unlink_snapshot.
4. Add extra debugging information for device id.
5. Retry on getting connection info for volume.
6. Validate a masking view on an attach operation.
7. Reset identifier name on a rollback.
8. Retry a cleanup if snap id not available at the time.
9. Pylint fixes.
10. Retry on a failed delete with a cleanup snapvx in exception.

Change-Id: I0c0f3d2246b840326579748027b9cd15bf174ff8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/796286/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py']",6,d90e679842ca9081b268db35086cd7a52a3fd65b,delete_error_handling," # Check if volume is in any storage group sg_list = self.get_storage_groups_from_volume( array, device_id) if sg_list: exception_message = (_( ""Device %(device_id)s is in storage group(s) "" ""%(sg_list)s prior to delete. Delete will fail."") % {'device_id': device_id, 'sg_list': sg_list}) LOG.error(exception_message) raise exception.VolumeBackendAPIException(exception_message) LOG.warning('Delete volume %(dev)s failed with %(e)s.', {'dev': device_id, 'e': e}) LOG.warning('Deallocate volume %(dev)s failed with %(e)s.' 'Attempting delete.', {'dev': device_id, 'e': e})"," LOG.warning('Delete volume failed with %(e)s.', {'e': e}) LOG.warning('Deallocate volume failed with %(e)s.' 'Attempting delete.', {'e': e})",47,19
openstack%2Fhorizon~master~I7fa6fd350bb16eea437734b30610c84a13dc222a,openstack/horizon,master,I7fa6fd350bb16eea437734b30610c84a13dc222a,[DNR] Test horizon with latest XStatic-Angular version,ABANDONED,2021-06-04 10:33:06.000000000,2022-06-15 16:45:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-04 10:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/06d2760eb0f547a57344603d71ad254dac94d045', 'message': '[DNR] Test horizon with latest XStatic-Angular version\n\nChange-Id: I7fa6fd350bb16eea437734b30610c84a13dc222a\n'}, {'number': 2, 'created': '2021-06-06 14:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e59de8d880c5699955e736e4a5e4e53e9ba10ab6', 'message': '[DNR] Test horizon with latest XStatic-Angular version\n\nChange-Id: I7fa6fd350bb16eea437734b30610c84a13dc222a\n'}, {'number': 3, 'created': '2021-06-08 05:13:43.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a03a2384ca3bfa200029044e5addbd14e765020f', 'message': '[DNR] Test horizon with latest XStatic-Angular version\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/794258\nChange-Id: I7fa6fd350bb16eea437734b30610c84a13dc222a\n'}]",0,794774,a03a2384ca3bfa200029044e5addbd14e765020f,12,2,3,29313,,,0,"[DNR] Test horizon with latest XStatic-Angular version

Depends-On: https://review.opendev.org/c/openstack/requirements/+/794258
Change-Id: I7fa6fd350bb16eea437734b30610c84a13dc222a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/74/794774/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,06d2760eb0f547a57344603d71ad254dac94d045,,XStatic-Angular==1.8.2.0,XStatic-Angular==1.5.8.0,2,2
openstack%2Fos-brick~master~I7d6fff66c5cc27bbd1f5caa737f01bc7784af710,openstack/os-brick,master,I7d6fff66c5cc27bbd1f5caa737f01bc7784af710,Fix Unit Test failures due to host's ANA support,MERGED,2022-06-08 15:13:09.000000000,2022-06-15 16:44:03.000000000,2022-06-15 14:02:20.000000000,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-06-08 15:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/a87a6a5278a59e81d550c855c8f63ed9c53efdc0', 'message': ""Fix Unit Test failures due to host's ANA support\n\nWe recently added NVMe-oF native multipathing support but the unit tests\nassume that the host they are run on doesn't support it, so when running\nthem on a system that does support it then 6 tests fail.\n\nThis patch just forces this assumption on the class attribute changing\nthe value of native_multipath_supported from None to False and thus\ndisabling the detection mechanism.\n\nChange-Id: I7d6fff66c5cc27bbd1f5caa737f01bc7784af710\n""}, {'number': 2, 'created': '2022-06-10 14:16:15.000000000', 'files': ['os_brick/tests/base.py', 'os_brick/tests/initiator/connectors/test_nvmeof.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/924af884db5797092e16e6176e9a70feddc9c892', 'message': ""Fix Unit Test failures due to host's ANA support\n\nWe recently added NVMe-oF native multipathing support (Change-Id\nI3af33c5e43cfb104e436fb785b08fb28b50a031a) but the unit tests assume\nthat the host they are run on doesn't support it, so when running them\non a system that does support it then 6 tests fail.\n\nThis patch just forces this assumption on the class attribute changing\nthe value of native_multipath_supported from None to False and thus\ndisabling the detection mechanism.\n\nIt also adds a couple of tests for the _set_native_multipath_supported\nmethod that had no tests.\n\nChange-Id: I7d6fff66c5cc27bbd1f5caa737f01bc7784af710\n""}]",13,845149,924af884db5797092e16e6176e9a70feddc9c892,36,3,2,9535,,,0,"Fix Unit Test failures due to host's ANA support

We recently added NVMe-oF native multipathing support (Change-Id
I3af33c5e43cfb104e436fb785b08fb28b50a031a) but the unit tests assume
that the host they are run on doesn't support it, so when running them
on a system that does support it then 6 tests fail.

This patch just forces this assumption on the class attribute changing
the value of native_multipath_supported from None to False and thus
disabling the detection mechanism.

It also adds a couple of tests for the _set_native_multipath_supported
method that had no tests.

Change-Id: I7d6fff66c5cc27bbd1f5caa737f01bc7784af710
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/49/845149/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/tests/base.py'],1,a87a6a5278a59e81d550c855c8f63ed9c53efdc0,nvme-4,from os_brick.initiator.connectors import nvmeof # Regardless of the system force no native NVMe-oF multipathing nvmeof.NVMeOFConnector.native_multipath_supported = False ,,5,0
openstack%2Frequirements~master~Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc,openstack/requirements,master,Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc,update constraint for taskflow to new release 5.0.0,MERGED,2022-06-15 12:25:25.000000000,2022-06-15 16:21:41.000000000,2022-06-15 16:20:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-06-15 12:25:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9c6e1b39d26efb3fabfbcfc1f37c41f207688afa', 'message': 'update constraint for taskflow to new release 5.0.0\n\nmeta: version: 5.0.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta: release:Change-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342\nmeta: release:Code-Review+1: Tom Weininger <tweining@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc\n'}]",1,845980,9c6e1b39d26efb3fabfbcfc1f37c41f207688afa,9,3,1,11131,,,0,"update constraint for taskflow to new release 5.0.0

meta: version: 5.0.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michael Johnson <johnsomor@gmail.com>
meta: release:Commit: Michael Johnson <johnsomor@gmail.com>
meta: release:Change-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342
meta: release:Code-Review+1: Tom Weininger <tweining@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Icc33ef59e7ff6b716b6c95addfca1a6d856b26fc
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/845980/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9c6e1b39d26efb3fabfbcfc1f37c41f207688afa,new-release,taskflow===5.0.0,taskflow===4.7.0,1,1
openstack%2Fpuppet-nova~stable%2Fwallaby~Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,openstack/puppet-nova,stable/wallaby,Ia96e00ccc1b3f056605d63fe2570c4e795f509ab,Add enable_qemu_monitor_announce_self workaround,MERGED,2022-06-14 12:19:06.000000000,2022-06-15 16:21:19.000000000,2022-06-15 16:20:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5d88894dc091a8e8d09b89d87de789bec3f1b645', 'message': 'Add enable_qemu_monitor_announce_self workaround\n\nThis adds the enable_qemu_monitor_announce_self param\nthat will be introduced by [1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/741529\n\nDepends-On: https://review.opendev.org/825064\nChange-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab\n(cherry picked from commit 4a77e0a5b9b46ff33e86a7e117a021dd15b7400e)\n(cherry picked from commit 7238c13a3a9a07f2361ead354e34f31be91f2ad1)\n'}, {'number': 2, 'created': '2022-06-14 13:06:04.000000000', 'files': ['releasenotes/notes/add-workarounds-enable_qemu_monitor_announce_self-9e307efdb0061fce.yaml', 'spec/classes/nova_workarounds_spec.rb', 'manifests/workarounds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8cbd5d02281195504ac22f3987eaf2bef788b0cb', 'message': 'Add enable_qemu_monitor_announce_self workaround\n\nThis adds the enable_qemu_monitor_announce_self param\nthat will be introduced by [1].\n\n[1] https://review.opendev.org/c/openstack/nova/+/741529\n\nDepends-On: https://review.opendev.org/825178\nChange-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab\n(cherry picked from commit 4a77e0a5b9b46ff33e86a7e117a021dd15b7400e)\n(cherry picked from commit 7238c13a3a9a07f2361ead354e34f31be91f2ad1)\n'}]",4,845679,8cbd5d02281195504ac22f3987eaf2bef788b0cb,13,3,2,11166,,,0,"Add enable_qemu_monitor_announce_self workaround

This adds the enable_qemu_monitor_announce_self param
that will be introduced by [1].

[1] https://review.opendev.org/c/openstack/nova/+/741529

Depends-On: https://review.opendev.org/825178
Change-Id: Ia96e00ccc1b3f056605d63fe2570c4e795f509ab
(cherry picked from commit 4a77e0a5b9b46ff33e86a7e117a021dd15b7400e)
(cherry picked from commit 7238c13a3a9a07f2361ead354e34f31be91f2ad1)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/79/845679/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-workarounds-enable_qemu_monitor_announce_self-9e307efdb0061fce.yaml', 'spec/classes/nova_workarounds_spec.rb', 'manifests/workarounds.pp']",3,5d88894dc091a8e8d09b89d87de789bec3f1b645,,"# (Optional) refuse to boot an instance if it would require downloading from# (Optional) Ensure the instance directory is removed during clean up when using# [*enable_qemu_monitor_announce_self*] # (Optional) If it is set to True the libvirt driver will try as a best effort to # send the announce-self command to the QEMU monitor so that it generates RARP frames # to update network switches in the post live migration phase on the destination. # Defaults to $::os_service_default # $never_download_image_if_on_rbd = $::os_service_default, $enable_qemu_monitor_announce_self = $::os_service_default, $enable_numa_live_migration = undef, 'workarounds/enable_qemu_monitor_announce_self': value => $enable_qemu_monitor_announce_self;","# (optional) refuse to boot an instance if it would require downloading from# (optional) Ensure the instance directory is removed during clean up when using $never_download_image_if_on_rbd = $::os_service_default, $enable_numa_live_migration = undef,",26,8
openstack%2Ftripleo-common~stable%2Fwallaby~Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,openstack/tripleo-common,stable/wallaby,Ia1154701c70c8f9cc02a201d24fbadbc11ae7697,Drop collectd-dbi from collectd base container,MERGED,2022-06-08 13:02:29.000000000,2022-06-15 16:14:36.000000000,2022-06-15 16:13:17.000000000,"[{'_account_id': 4264}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-08 13:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e68f64349a5dd27a48be2f1f0606ff97068e6f71', 'message': 'Drop collectd-dbi from collectd base container\n\nWith this patch, Dropping collectd-dbi from collectd base container\nthe necessary dependencies to build these were removed from the\ndistribution and the Plugins were not used (more details in [1])\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2094409\n\nCloses-Bug: rhbz#2094811\nChange-Id: Ia1154701c70c8f9cc02a201d24fbadbc11ae7697\n'}, {'number': 2, 'created': '2022-06-08 13:03:55.000000000', 'files': ['container-images/tcib/base/collectd/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d71101a39df2d4500b561fbf85921f249f4bb584', 'message': 'Drop collectd-dbi from collectd base container\n\nWith this patch, Dropping collectd-dbi from collectd base container\nthe necessary dependencies to build these were removed from the\ndistribution and the Plugins were not used (more details in [1])\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2094409\n\nCloses-Bug: rhbz#2094811\nChange-Id: Ia1154701c70c8f9cc02a201d24fbadbc11ae7697\n(cherry picked from commit f73c56eff4c17d3f22e2b71ddba8bd530b41941c)\n'}]",3,845040,d71101a39df2d4500b561fbf85921f249f4bb584,23,7,2,29775,,,0,"Drop collectd-dbi from collectd base container

With this patch, Dropping collectd-dbi from collectd base container
the necessary dependencies to build these were removed from the
distribution and the Plugins were not used (more details in [1])

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2094409

Closes-Bug: rhbz#2094811
Change-Id: Ia1154701c70c8f9cc02a201d24fbadbc11ae7697
(cherry picked from commit f73c56eff4c17d3f22e2b71ddba8bd530b41941c)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/845040/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/collectd/collectd.yaml'],1,e68f64349a5dd27a48be2f1f0606ff97068e6f71,,, - collectd-dbi,0,1
openstack%2Ftripleo-validations~master~Ie02259336c763cfa980b59ad64f9e478d05690fb,openstack/tripleo-validations,master,Ie02259336c763cfa980b59ad64f9e478d05690fb,Deprecates tripleo-ansible-inventory and remove tripleo-validation scripts,MERGED,2021-10-11 20:50:36.000000000,2022-06-15 16:13:43.000000000,2022-06-15 16:12:10.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-10-11 20:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/03b9752faa21c7356580ccbba290fcc733510985', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 2, 'created': '2021-10-12 07:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8a131a09f3a9f65ecd06a8543435b65d1bd0b519', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 3, 'created': '2021-10-12 12:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8d016959b026ff025035e3948de7658d6a8df48f', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 4, 'created': '2021-10-12 12:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fe00401470b8c356fc1cadd6a1a6afbf158f6e18', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 5, 'created': '2021-10-13 06:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b2c469f91a2e3f23d5364c2c80a328f991cf50b7', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 6, 'created': '2021-10-13 07:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a38867c4c2699caea4146c952b76c6e4476d6521', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 7, 'created': '2021-10-13 07:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/09e550b2e4401d46fa0fa8411f578947ac202596', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 8, 'created': '2021-10-13 07:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6c6bbf4004236a2da54a5ec9a463ead7a989335a', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 9, 'created': '2021-10-13 07:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7dea65bd00c034dfc56e2726a484f7b4a2d98dd1', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 10, 'created': '2022-04-28 13:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c9b91f4fec1e51370143effa1670da0f0206e8e5', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 11, 'created': '2022-05-31 12:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bfc5423659d05985cbc25f8b300a0fc6fb17fedd', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 12, 'created': '2022-06-02 17:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f1f0c2047bb8baaa22d0b35ddc1c3ba7425d95e5', 'message': 'Deprecate tripleo-ansible-inventory and tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is deprecated\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\n'}, {'number': 13, 'created': '2022-06-14 13:24:40.000000000', 'files': ['scripts/tripleo-validation.py', 'scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/08e2e1a060332bb5dfba4e9b52d526d2272dd343', 'message': 'Deprecates tripleo-ansible-inventory and remove tripleo-validation scripts\n\ntripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit\nto what tripleo is actually deploying:\n* tripleo-deploy directory contains a valid inventory\n* tripleo-ansible with the playbook cli-config-download.yaml offers a way to\n  regenerate a fresh inventory.\n\nThis review also removed the scripts/tripleo-validation.py which is not longer functional\nwith the current VF CLI.\n\nChange-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb\nCloses-Bug: #1936406\nResolves: rhbz#2008426\n'}]",20,813535,08e2e1a060332bb5dfba4e9b52d526d2272dd343,52,9,13,16515,,,0,"Deprecates tripleo-ansible-inventory and remove tripleo-validation scripts

tripleo-ansible-inventory is broken in Master/Wallaby and need to be revisit
to what tripleo is actually deploying:
* tripleo-deploy directory contains a valid inventory
* tripleo-ansible with the playbook cli-config-download.yaml offers a way to
  regenerate a fresh inventory.

This review also removed the scripts/tripleo-validation.py which is not longer functional
with the current VF CLI.

Change-Id: Ie02259336c763cfa980b59ad64f9e478d05690fb
Closes-Bug: #1936406
Resolves: rhbz#2008426
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/35/813535/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/tripleo-validation.py', 'scripts/tripleo-ansible-inventory', 'tripleo_validations/utils.py', 'tripleo_validations/constants.py']",4,03b9752faa21c7356580ccbba290fcc733510985,lp/1936406,,"# Copyright 2015 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # TRIPLEO_META_USAGE_KEY is inserted into metadata for containers created in # Swift via SwiftPlanStorageBackend to identify them from other containers TRIPLEO_META_USAGE_KEY = 'x-container-meta-usage-tripleo' ",6,300
openstack%2Fos-net-config~stable%2Fwallaby~I2398e3881310746f349e2c9a89c64956efbc13b2,openstack/os-net-config,stable/wallaby,I2398e3881310746f349e2c9a89c64956efbc13b2,Format json output properly,MERGED,2022-05-26 05:41:48.000000000,2022-06-15 16:13:38.000000000,2022-06-15 16:12:12.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-26 05:41:48.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/bf263b66fb47f90892eb8e347322f5cf3808edb1', 'message': 'Format json output properly\n\nstr(dict) or print(dict) format a dict value into an invalid json\nstring because it uses single quotes(\') instead of double quotes("").\n\nThis also fixes the log messages which mentions \'JSON\' but doesn\'t\nconvert a dict value to a valid json string.\n\nCloses-Bug: #1973566\nChange-Id: I2398e3881310746f349e2c9a89c64956efbc13b2\n(cherry picked from commit 88a4c885f6feec08209aebbb859f34957b952b26)\n'}]",0,843390,bf263b66fb47f90892eb8e347322f5cf3808edb1,10,3,1,9816,,,0,"Format json output properly

str(dict) or print(dict) format a dict value into an invalid json
string because it uses single quotes(') instead of double quotes("").

This also fixes the log messages which mentions 'JSON' but doesn't
convert a dict value to a valid json string.

Closes-Bug: #1973566
Change-Id: I2398e3881310746f349e2c9a89c64956efbc13b2
(cherry picked from commit 88a4c885f6feec08209aebbb859f34957b952b26)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/90/843390/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,bf263b66fb47f90892eb8e347322f5cf3808edb1,bug/1973566,"import json main_logger.debug(f""interface_mapping: {iface_mapping}"") print(json.dumps(reported_nics)) main_logger.debug(f""network_config: {iface_array}"")"," main_logger.debug(f""interface_mapping JSON: {str(iface_mapping)}"") print(reported_nics) main_logger.debug(f""network_config JSON: {str(iface_array)}"")",4,3
openstack%2Fopenstack-ansible-plugins~master~Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b,openstack/openstack-ansible-plugins,master,Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b,Use the integrated repo infra jobs for testing,MERGED,2022-05-25 13:42:02.000000000,2022-06-15 16:09:34.000000000,2022-06-15 16:06:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-05-25 13:42:02.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c6e89dd52c56883049da383c2c0b9624babbf266', 'message': 'Use the integrated repo infra jobs for testing\n\nThis repo includes an increasing number of ansible roles which\ndo not have functional test coverage, such as glusterfs and ssh-keypairs.\n\nAdd the infra scenario deploy and upgrade jobs to provide some\ntest coverage.\n\nChange-Id: Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b\n'}]",1,843286,c6e89dd52c56883049da383c2c0b9624babbf266,10,3,1,25023,,,0,"Use the integrated repo infra jobs for testing

This repo includes an increasing number of ansible roles which
do not have functional test coverage, such as glusterfs and ssh-keypairs.

Add the infra scenario deploy and upgrade jobs to provide some
test coverage.

Change-Id: Id4e1fdf0099f8d9f9a2a3fd0289f2c0e7364d88b
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/86/843286/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c6e89dd52c56883049da383c2c0b9624babbf266,, - openstack-ansible-upgrade-infra_lxc-jobs - openstack-ansible-deploy-infra_lxc-jobs,,2,0
openstack%2Fpuppet-nova~stable%2Fxena~Ie60fceb0d51a314ede395db567a8155a773c9b15,openstack/puppet-nova,stable/xena,Ie60fceb0d51a314ede395db567a8155a773c9b15,Expose [workaround]/disable_compute_service_check_for_ffu,MERGED,2022-06-14 12:09:59.000000000,2022-06-15 15:47:02.000000000,2022-06-15 15:45:36.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:09:59.000000000', 'files': ['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/add-workarounds-disable_compute_service_check_for_ffu-4c4cc458df3ca33b.yaml', 'manifests/workarounds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d0e7fb981985fbe42708822149a4c9012d3ad6a6', 'message': 'Expose [workaround]/disable_compute_service_check_for_ffu\n\nThis exposes the nova workaround to set the normal safety check\nfor old compute services will be treated as a warning instead\nof an error.\n\nhttps://review.opendev.org/c/openstack/nova/+/826097 adds\nthe service version check workaround for FFU.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15\n(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)\n'}]",2,845678,d0e7fb981985fbe42708822149a4c9012d3ad6a6,10,3,1,11166,,,0,"Expose [workaround]/disable_compute_service_check_for_ffu

This exposes the nova workaround to set the normal safety check
for old compute services will be treated as a warning instead
of an error.

https://review.opendev.org/c/openstack/nova/+/826097 adds
the service version check workaround for FFU.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ie60fceb0d51a314ede395db567a8155a773c9b15
(cherry picked from commit c482a3d86e90d146026019bb35ca85c76f5d7f9e)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/78/845678/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_workarounds_spec.rb', 'releasenotes/notes/add-workarounds-disable_compute_service_check_for_ffu-4c4cc458df3ca33b.yaml', 'manifests/workarounds.pp']",3,d0e7fb981985fbe42708822149a4c9012d3ad6a6,cs9-standalone-upgrade-stable/xena,"# [*disable_compute_service_check_for_ffu*] # (Optional) If this is set, the normal safety check for old compute services will # be treated as a warning instead of an error. This is only to be enabled to # facilitate a Fast-Forward upgrade where new control services are being started # before compute nodes have been able to update their service record. # Defaults to $::os_service_default # $disable_compute_service_check_for_ffu = $::os_service_default, 'workarounds/disable_compute_service_check_for_ffu': value => $disable_compute_service_check_for_ffu;",,19,0
openstack%2Fpuppet-neutron~stable%2Fyoga~I7f0d453b9a3309af346e2d77672124ce064afad6,openstack/puppet-neutron,stable/yoga,I7f0d453b9a3309af346e2d77672124ce064afad6,Support networking-baremetal in Ubuntu/Debian,MERGED,2022-06-14 00:13:58.000000000,2022-06-15 15:36:16.000000000,2022-06-15 15:35:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 00:13:58.000000000', 'files': ['manifests/agents/ml2/networking_baremetal.pp', 'manifests/plugins/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'manifests/params.pp', 'releasenotes/notes/networking_baremetal-debian-563498e4af59a1bb.yaml', 'spec/classes/neutron_plugins_ml2_networking_baremetal_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/025ced6d52d96425f2452cfe60239932a3ede662', 'message': 'Support networking-baremetal in Ubuntu/Debian\n\nThe required packages are already built and provided for these distros.\n\nChange-Id: I7f0d453b9a3309af346e2d77672124ce064afad6\n(cherry picked from commit 5c09c4f6ca4fd1f29c2e03235f4cd53d5f17eaed)\n'}]",0,845408,025ced6d52d96425f2452cfe60239932a3ede662,8,3,1,9816,,,0,"Support networking-baremetal in Ubuntu/Debian

The required packages are already built and provided for these distros.

Change-Id: I7f0d453b9a3309af346e2d77672124ce064afad6
(cherry picked from commit 5c09c4f6ca4fd1f29c2e03235f4cd53d5f17eaed)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/08/845408/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agents/ml2/networking_baremetal.pp', 'manifests/plugins/ml2/networking_baremetal.pp', 'spec/classes/neutron_agents_ml2_networking_baremetal_spec.rb', 'manifests/params.pp', 'releasenotes/notes/networking_baremetal-debian-563498e4af59a1bb.yaml', 'spec/classes/neutron_plugins_ml2_networking_baremetal_spec.rb']",6,025ced6d52d96425f2452cfe60239932a3ede662,, { :networking_baremetal_package => 'python3-ironic-neutron-agent'} it_behaves_like 'networking-baremetal ml2 plugin'," { :networking_baremetal_package => 'python3-networking-baremetal'} case facts[:osfamily] when 'RedHat' it_behaves_like 'networking-baremetal ml2 plugin' when facts[:osfamily] != 'RedHat' it 'fails with unsupported osfamily' do should raise_error(Puppet::Error, /Unsupported osfamily.*/) end end",60,70
openstack%2Fpuppet-openstack-integration~master~I67a2195bd7bf8a88b765096c27ed739dc3e153ce,openstack/puppet-openstack-integration,master,I67a2195bd7bf8a88b765096c27ed739dc3e153ce,Make CentOS 9 Litmus jobs voting,MERGED,2022-06-13 15:49:24.000000000,2022-06-15 15:30:50.000000000,2022-06-15 15:30:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 15:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/33874f3178efac6f8b28c56ec90dd3df7ed193ba', 'message': 'Make CentOS 9 Litmus jobs voting\n\nChange-Id: I67a2195bd7bf8a88b765096c27ed739dc3e153ce\n'}, {'number': 2, 'created': '2022-06-13 15:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f368d976bc2b3c64cfa20066eff68e0e68163a72', 'message': 'Make CentOS 9 Litmus jobs voting\n\nThis is follow-up of 983cd5522522bd79b23b81e6012b41cd609bbed8 and makes\nCentOS 9 litmus jobs voting, because the new bolt release which is\ncompatible with Ruby 3.0 is available now.\n\nChange-Id: I67a2195bd7bf8a88b765096c27ed739dc3e153ce\n'}, {'number': 3, 'created': '2022-06-13 15:53:56.000000000', 'files': ['zuul.d/litmus.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/75cea42d3ebba8a34442b56999589780093f32f9', 'message': 'Make CentOS 9 Litmus jobs voting\n\n... because bolt 3.23.0, which is compatible with Ruby 3.0, has been\nreleased.\n\nChange-Id: I67a2195bd7bf8a88b765096c27ed739dc3e153ce\n'}]",0,845604,75cea42d3ebba8a34442b56999589780093f32f9,9,3,3,9816,,,0,"Make CentOS 9 Litmus jobs voting

... because bolt 3.23.0, which is compatible with Ruby 3.0, has been
released.

Change-Id: I67a2195bd7bf8a88b765096c27ed739dc3e153ce
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/04/845604/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/litmus.yaml'],1,33874f3178efac6f8b28c56ec90dd3df7ed193ba,c9-litmus,, # TODO(tkajinam): Make job voting once bolt supports Ruby >= 3.0 voting: false # TODO(tkajinam): Make job voting once bolt supports Ruby >= 3.0 voting: false,0,4
openstack%2Fkuryr-tempest-plugin~master~If056529d49a053970891f89d12007174f544a551,openstack/kuryr-tempest-plugin,master,If056529d49a053970891f89d12007174f544a551,Use proper ApiException from kubernetes client,MERGED,2022-06-14 13:00:26.000000000,2022-06-15 15:29:21.000000000,2022-06-15 15:28:01.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-06-14 13:00:26.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/28da7f63d3c37459d4366f6b38a6107e842657ae', 'message': 'Use proper ApiException from kubernetes client\n\nSeems like folks developing Python kubernetes client had move the\nApiException around. So the backward-compatible way of using it is\nkubernetes.client.rest.ApiException and trying to use it by\nkubernetes.client.excetpions.ApiException will not work in older library\nversions. As this client is supposed to still be compatible with\nstable/victoria and kubernetes==11.0.0, this commit changes the\nexception module to `rest` where needed.\n\nChange-Id: If056529d49a053970891f89d12007174f544a551\n'}]",8,845745,28da7f63d3c37459d4366f6b38a6107e842657ae,23,3,1,11600,,,0,"Use proper ApiException from kubernetes client

Seems like folks developing Python kubernetes client had move the
ApiException around. So the backward-compatible way of using it is
kubernetes.client.rest.ApiException and trying to use it by
kubernetes.client.excetpions.ApiException will not work in older library
versions. As this client is supposed to still be compatible with
stable/victoria and kubernetes==11.0.0, this commit changes the
exception module to `rest` where needed.

Change-Id: If056529d49a053970891f89d12007174f544a551
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/45/845745/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,28da7f63d3c37459d4366f6b38a6107e842657ae,fix-exceptions, except kubernetes.client.rest.ApiException as e: except kubernetes.client.rest.ApiException as e:, except kubernetes.client.exceptions.ApiException as e: except kubernetes.client.exceptions.ApiException as e:,2,2
openstack%2Fdevstack~master~I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55,openstack/devstack,master,I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55,Run debian platform job with OVN,MERGED,2021-10-21 10:08:28.000000000,2022-06-15 15:17:39.000000000,2022-06-15 15:14:52.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-10-21 10:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b474fb3392287dd5a28d02529768056b74737067', 'message': 'DNM: Test debian with OVN\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55\n'}, {'number': 2, 'created': '2021-10-21 11:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cee23bef9ab3526850dcc014918bf0f008963ce9', 'message': 'DNM: Test debian with OVN\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55\n'}, {'number': 3, 'created': '2021-10-29 12:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/077586708351cdc7bee7f9719bd06c4e5049d056', 'message': 'DNM: Test debian with OVN\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55\n'}, {'number': 4, 'created': '2021-11-04 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e85dd3da042cf1c9c91a08029dd1d11ddabe3e3c', 'message': 'DNM: Test debian with OVN\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55\n'}, {'number': 5, 'created': '2021-11-13 20:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b7eb9548fabb4ffb4e24f3d8a95c7c436aa66520', 'message': 'Run debian platform job with OVN\n\nPackages for OVN are now available in bullseye, so we can drop the\nspecial handling.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55\n'}, {'number': 6, 'created': '2022-05-25 08:57:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/599b241d32cd067a9a26c54fe178dd2bd28426d6', 'message': 'Run debian platform job with OVN\n\nPackages for OVN are now available in bullseye, so we can drop the\nspecial handling.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55\n'}]",21,814891,599b241d32cd067a9a26c54fe178dd2bd28426d6,54,5,6,13252,,,0,"Run debian platform job with OVN

Packages for OVN are now available in bullseye, so we can drop the
special handling.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I5e5c78aa19c5208c207ddcf14e208bae8fbc3c55
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/814891/6 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn_agent', '.zuul.yaml', 'tools/fixup_stuff.sh']",3,b474fb3392287dd5a28d02529768056b74737067,debian-ovn,"# This function is called from ovn-agent installation only if not # installing OVN from source function fixup_ovn { if [[ $os_VENDOR == ""CentOS"" ]]; then # OVN packages are part of this release for CentOS yum_install centos-release-openstack-victoria if [[ $os_VENDOR == ""Debian"" ]]; then apt_install extrepo sudo extrepo enable openstack_xena sudo apt-get update return fi","function fixup_ovn_centos { if [[ $os_VENDOR != ""CentOS"" ]]; then # OVN packages are part of this release for CentOS yum_install centos-release-openstack-victoria",14,83
openstack%2Freleases~master~I53caac81ccf4961906bbcdea21947d2a5a0953e8,openstack/releases,master,I53caac81ccf4961906bbcdea21947d2a5a0953e8,Release cinderlib for Yoga,ABANDONED,2022-06-14 08:11:59.000000000,2022-06-15 15:10:38.000000000,,"[{'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-06-14 08:11:59.000000000', 'files': ['deliverables/yoga/cinderlib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/00b021b0811a38225af40100ea918a177dde3e48', 'message': 'Release cinderlib for Yoga\n\nThe trailing deadline is on 23 June, 2022.\nCutting the Yoga stable branch.\n\nhttps: //releases.openstack.org/zed/schedule.html#z-cycle-trail\nChange-Id: I53caac81ccf4961906bbcdea21947d2a5a0953e8\n'}]",2,845701,00b021b0811a38225af40100ea918a177dde3e48,5,3,1,28522,,,0,"Release cinderlib for Yoga

The trailing deadline is on 23 June, 2022.
Cutting the Yoga stable branch.

https: //releases.openstack.org/zed/schedule.html#z-cycle-trail
Change-Id: I53caac81ccf4961906bbcdea21947d2a5a0953e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/845701/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/cinderlib.yaml'],1,00b021b0811a38225af40100ea918a177dde3e48,yoga-final-trailing,releases: - version: 5.0.0 projects: - repo: openstack/cinderlib hash: 84c6b102b88ce439730fd39015fc5bb4e8afc42d branches: - name: stable/yoga location: 5.0.0,,8,0
openstack%2Fnova~stable%2Fyoga~I575ce06bcc913add7db0849f85728371da2032fc,openstack/nova,stable/yoga,I575ce06bcc913add7db0849f85728371da2032fc,Allow claiming PCI PF if child VF is unavailable,MERGED,2022-05-06 08:36:20.000000000,2022-06-15 15:08:20.000000000,2022-06-15 15:06:39.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 08:36:20.000000000', 'files': ['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270', 'message': ""Allow claiming PCI PF if child VF is unavailable\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail\nwhen try to mark the dependent VFs unavailable.\n\nThis patch changes the PCI claim logic to allow claiming the parent PF\nin the inconsistent situation as we assume that it is safe to do so.\nThis claim also fixed the inconsistency so that when the parent PF is\nfreed the children VFs become available again.\n\nCloses-Bug: #1969496\nChange-Id: I575ce06bcc913add7db0849f85728371da2032fc\n(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)\n""}]",3,840833,4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270,20,3,1,9708,,,0,"Allow claiming PCI PF if child VF is unavailable

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail
when try to mark the dependent VFs unavailable.

This patch changes the PCI claim logic to allow claiming the parent PF
in the inconsistent situation as we assume that it is safe to do so.
This claim also fixed the inconsistency so that when the parent PF is
freed the children VFs become available again.

Closes-Bug: #1969496
Change-Id: I575ce06bcc913add7db0849f85728371da2032fc
(cherry picked from commit 3af2ecc13fa9334de8418accaed4fffefefb41da)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/840833/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/pci_device.py', 'nova/tests/unit/pci/test_manager.py', 'nova/pci/stats.py']",3,4ca4b2e6bc84ca2c209653b46d7428c6c7cbd270,bug/1969496, free_devs = self.get_free_devs() for vf in vfs_list: # NOTE(gibi): do not try to remove a device that are # already removed if vf in free_devs: self.remove_device(vf), for vf in vfs_list: self.remove_device(vf),162,26
openstack%2Fneutron~master~I401d121b69bcf479cba5b9d151bcd65dabf5aea6,openstack/neutron,master,I401d121b69bcf479cba5b9d151bcd65dabf5aea6,Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack,ABANDONED,2022-02-02 12:21:26.000000000,2022-06-15 14:59:24.000000000,,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-02-02 12:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2b9f07ca4a6e89aeaffbc503584e2fa1845d86d', 'message': ""Remove OS_TEST_TIMEOUT=600 from dsvm-fullstack\n\nOS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).\nThose are not affecting fullstack now, but the long timeout causes\njob timeouts, it's time to use the default 180s for test timeout.\n\n[0]: https://bugs.launchpad.net/neutron/+bug/1541742\n\nChange-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6\nRelated-Bug: #1959176\n""}, {'number': 2, 'created': '2022-02-16 17:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/066f812b4a46a9d232f061a8b05d2e48015388aa', 'message': ""Remove OS_TEST_TIMEOUT=600 from dsvm-fullstack\n\nOS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).\nThose are not affecting fullstack now, but the long timeout causes\njob timeouts, it's time to use the default 180s for test timeout.\n\nFullstack test test_ha_router_restart_agents_no_packet_lost fails with\nsmaller timeout, a possible fix is to add fixtures.TimeoutException\nto _kill_process_and_wait, as during fullstack execution processes are\nstarted as Fixtures.\n\n[0]: https://bugs.launchpad.net/neutron/+bug/1541742\n\nChange-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6\nRelated-Bug: #1959176\n""}, {'number': 3, 'created': '2022-02-16 17:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/39a8ec24c5a41b69acf56e02a41051f9680813db', 'message': ""Remove OS_TEST_TIMEOUT=600 from dsvm-fullstack\n\nOS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).\nThose are not affecting fullstack now, but the long timeout causes\njob timeouts, it's time to use the default 180s for test timeout.\n\nFullstack test test_ha_router_restart_agents_no_packet_lost fails with\nsmaller timeout, a possible fix is to add fixtures.TimeoutException\nto _kill_process_and_wait, as during fullstack execution processes are\nstarted as Fixtures.\n\n[0]: https://bugs.launchpad.net/neutron/+bug/1541742\n\nChange-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6\nRelated-Bug: #1959176\n""}, {'number': 4, 'created': '2022-02-17 07:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abc03d755ef9e4a19b159793384f3d3d3102e7c0', 'message': ""Remove OS_TEST_TIMEOUT=600 from dsvm-fullstack\n\nOS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).\nThose are not affecting fullstack now, but the long timeout causes\njob timeouts, it's time to use the default 180s for test timeout.\n\nFullstack test test_ha_router_restart_agents_no_packet_lost fails with\nsmaller timeout, a possible fix is to add fixtures.TimeoutException\nto _kill_process_and_wait, as during fullstack execution processes are\nstarted as Fixtures.\n\n[0]: https://bugs.launchpad.net/neutron/+bug/1541742\n\nChange-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6\nRelated-Bug: #1959176\n""}, {'number': 5, 'created': '2022-03-18 10:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b6b363330eca93602a9776f8e0d2182eaed37c3f', 'message': 'Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack\n\nOS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).\nThose are not affecting fullstack now, but the long timeout causes\njob timeouts. test_ha_router_restart_agents_no_packet_lost execution\ntime is around 180sec, so the OS_TEST_TIMEOUT (180sec) is short for\nfullstack execution, here I changed it to 240.\n\nFullstack test test_ha_router_restart_agents_no_packet_lost fails with\nsmaller timeout, a possible fix is to add fixtures.TimeoutException\nto _kill_process_and_wait, as during fullstack execution processes are\nstarted as Fixtures.\n\n[0]: https://bugs.launchpad.net/neutron/+bug/1541742\n\nChange-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6\nRelated-Bug: #1959176\n'}, {'number': 6, 'created': '2022-03-21 10:53:42.000000000', 'files': ['neutron/agent/common/async_process.py', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c546edc0fb3d346215405bef6a3c8d910d8e67c0', 'message': 'Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack\n\nOS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).\nThose are not affecting fullstack now, but the long timeout causes\njob timeouts. test_ha_router_restart_agents_no_packet_lost execution\ntime is around 180sec, so the OS_TEST_TIMEOUT (180sec) is short for\nfullstack execution, here I changed it to 300.\n\nFullstack test test_ha_router_restart_agents_no_packet_lost fails with\nsmaller timeout, a possible fix is to add fixtures.TimeoutException\nto _kill_process_and_wait, as during fullstack execution processes are\nstarted as Fixtures.\n\n[0]: https://bugs.launchpad.net/neutron/+bug/1541742\n\nChange-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6\nRelated-Bug: #1959176\n'}]",14,827488,c546edc0fb3d346215405bef6a3c8d910d8e67c0,55,9,6,8313,,,0,"Decrease OS_TEST_TIMEOUT to 240 for dsvm-fullstack

OS_TEST_TIMEOUT was set to 600 due to old db teardown issues (see [0]).
Those are not affecting fullstack now, but the long timeout causes
job timeouts. test_ha_router_restart_agents_no_packet_lost execution
time is around 180sec, so the OS_TEST_TIMEOUT (180sec) is short for
fullstack execution, here I changed it to 300.

Fullstack test test_ha_router_restart_agents_no_packet_lost fails with
smaller timeout, a possible fix is to add fixtures.TimeoutException
to _kill_process_and_wait, as during fullstack execution processes are
started as Fixtures.

[0]: https://bugs.launchpad.net/neutron/+bug/1541742

Change-Id: I401d121b69bcf479cba5b9d151bcd65dabf5aea6
Related-Bug: #1959176
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/827488/6 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a2b9f07ca4a6e89aeaffbc503584e2fa1845d86d,bug/1959176,, # workaround for DB teardown lock contention (bug/1541742) OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:600},0,2
openstack%2Fneutron~master~I0d1e8cdddd0430417d00132e8f746a22671c0c1b,openstack/neutron,master,I0d1e8cdddd0430417d00132e8f746a22671c0c1b,"Revert ""Allow usage of legacy 3rd-party interface drivers""",ABANDONED,2022-03-17 13:04:04.000000000,2022-06-15 14:59:18.000000000,,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-17 13:04:04.000000000', 'files': ['neutron/agent/linux/interface.py', 'releasenotes/notes/Deprecate-plug_new-method-without-link_up-parameter-27f8310eb1e1910a.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/132162376cff0948cfc18c2f1c7c90d035e11c55', 'message': 'Revert ""Allow usage of legacy 3rd-party interface drivers""\n\nThis reverts commit 30d573d5abeb4a5251d08dc5384f5c0ff372eff8.\n\nChange-Id: I0d1e8cdddd0430417d00132e8f746a22671c0c1b\n'}]",2,834161,132162376cff0948cfc18c2f1c7c90d035e11c55,9,3,1,6737,,,0,"Revert ""Allow usage of legacy 3rd-party interface drivers""

This reverts commit 30d573d5abeb4a5251d08dc5384f5c0ff372eff8.

Change-Id: I0d1e8cdddd0430417d00132e8f746a22671c0c1b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/834161/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/interface.py', 'releasenotes/notes/Deprecate-plug_new-method-without-link_up-parameter-27f8310eb1e1910a.yaml']",2,132162376cff0948cfc18c2f1c7c90d035e11c55,bug/1965297,,"--- deprecations: - | Abstract method ``plug_new`` from the neutron.agent.linux.interface.LinuxInterfaceDriver class now accepts an optional parameter ``link_up``. Usage of this method, which takes from 5 to 9 positional arguments, without ``link_up`` is now deprecated and will not be possible starting in the W release. Third-party drivers which inherit from this base class should update the implementation of their ``plug_new`` method. ",4,10
openstack%2Fneutron~master~I17597b71344a4c1141e9176b09a4d2e61729b1cd,openstack/neutron,master,I17597b71344a4c1141e9176b09a4d2e61729b1cd,Allow uplink_propagate_status to be updated,ABANDONED,2022-03-29 14:57:46.000000000,2022-06-15 14:59:13.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-29 14:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d325e4e808e89e6871b2aedd0fce7d2e48b40a42', 'message': 'Allow uplink_propagate_status to be updated\n\nAllow uplink_propagate_status to be updated\n\nChange-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd\n'}, {'number': 2, 'created': '2022-03-29 15:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d242b2f2443449778066ec7791a777b488a3d154', 'message': 'Allow uplink_propagate_status to be updated\n\nAllow uplink_propagate_status to be updated\n\nChange-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd\n'}, {'number': 3, 'created': '2022-03-29 15:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f38480480d274760ecb706561b7adc2de66f525', 'message': 'Allow uplink_propagate_status to be updated\n\nAllow uplink_propagate_status to be updated\n\nChange-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd\n'}, {'number': 4, 'created': '2022-03-29 15:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d07136d2d0a0afd98ed32268e70c28eb32eaffb4', 'message': 'Allow uplink_propagate_status to be updated\n\nAllow uplink_propagate_status to be updated\n\nChange-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd\n'}, {'number': 5, 'created': '2022-03-29 15:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2eca9838da0ff1814ff10137e4b561de5a06769', 'message': 'Allow uplink_propagate_status to be updated\n\nAllow uplink_propagate_status to be updated\n\nChange-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637\n'}, {'number': 6, 'created': '2022-03-29 15:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69596d8747210334b0119ea626e60592c9a21c7d', 'message': 'Allow uplink_propagate_status to be updated\n\nAllow uplink_propagate_status to be updated\n\nChange-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637\n'}, {'number': 7, 'created': '2022-03-29 15:50:01.000000000', 'files': ['neutron/plugins/ml2/extensions/uplink_status_propagation.py', 'neutron/db/uplink_status_propagation_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/865173c96efe649a7cbf4eef495922b1de58d2eb', 'message': 'Allow uplink_propagate_status to be updated\n\nAllow uplink_propagate_status to be updated\n\nChange-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd\nDepends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637\n'}]",0,835643,865173c96efe649a7cbf4eef495922b1de58d2eb,36,2,7,7130,,,0,"Allow uplink_propagate_status to be updated

Allow uplink_propagate_status to be updated

Change-Id: I17597b71344a4c1141e9176b09a4d2e61729b1cd
Depends-on: https://review.opendev.org/c/openstack/neutron-lib/+/835637
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/835643/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/extensions/uplink_status_propagation.py', 'neutron/db/uplink_status_propagation_db.py']",2,d325e4e808e89e6871b2aedd0fce7d2e48b40a42,," def _get_propagate_uplink_status(self, context, obj_cls, res_id): obj = obj_cls.get_object(context, id=res_id) # NOTE(ihrachys) the resource may have been created before port # security extension was enabled; return default value return obj.propagate_uplink_status if obj else True",,29,0
openstack%2Fneutron-dynamic-routing~master~Ife03ae4ca1b02d8e68d75ae493636b6fe2298309,openstack/neutron-dynamic-routing,master,Ife03ae4ca1b02d8e68d75ae493636b6fe2298309,[DO NOT MERGE] Test with OVN,ABANDONED,2020-06-29 13:57:51.000000000,2022-06-15 14:58:57.000000000,,"[{'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-29 13:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c9a97e7667df93273b39b5ec278f6a540c17e52b', 'message': '[DO NOT MERGE] Test with OVN\n\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 2, 'created': '2020-06-29 14:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/4e3d17b8403b4dab547d86075068f41aacf614a5', 'message': '[DO NOT MERGE] Test with OVN\n\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 3, 'created': '2020-06-29 15:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/dc2f3b39cacdc4801446de6bb9e33e9ad0840d6c', 'message': '[DO NOT MERGE] Test with OVN\n\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 4, 'created': '2020-06-30 14:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/60a83cc097becab2526cc2c1478f48223bbe7967', 'message': '[DO NOT MERGE] Test with OVN\n\nDepends-On: https://review.opendev.org/738641\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 5, 'created': '2020-07-01 14:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ebf2da6a9b57d5a4aaaf72670d2b7924b703f84d', 'message': '[DO NOT MERGE] Test with OVN\n\nDepends-On: https://review.opendev.org/738861\nDepends-On: https://review.opendev.org/738641\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 6, 'created': '2020-07-08 11:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ed86bc32551019f1d1daedae7f1b05514bddd52f', 'message': '[DO NOT MERGE] Test with OVN\n\nDepends-On: https://review.opendev.org/738861\nDepends-On: https://review.opendev.org/738641\nDepends-On: https://review.opendev.org/739962\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 7, 'created': '2020-07-08 13:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/14a1d0940bc79763702a3c39a764c31f1354ca42', 'message': '[DO NOT MERGE] Test with OVN\n\nDepends-On: https://review.opendev.org/738861\nDepends-On: https://review.opendev.org/738641\nDepends-On: https://review.opendev.org/739962\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 8, 'created': '2020-07-22 08:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8e8a689a1d703a76b24103b0b435cdeaa7e4dbb2', 'message': '[DO NOT MERGE] Test with OVN\n\nDepends-On: https://review.opendev.org/738641\nDepends-On: https://review.opendev.org/739962\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 9, 'created': '2021-10-21 13:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9213783e572da0142b9f4a339c63adb604908b92', 'message': '[DO NOT MERGE] Test with OVN\n\nDepends-On: https://review.opendev.org/738641\nDepends-On: https://review.opendev.org/739962\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}, {'number': 10, 'created': '2022-04-08 08:40:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/a9789710dac591ed7bec7be0493c3c7aae2bf445', 'message': '[DO NOT MERGE] Test with OVN\n\nDepends-On: https://review.opendev.org/738641\nChange-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309\n'}]",2,738450,a9789710dac591ed7bec7be0493c3c7aae2bf445,37,3,10,21798,,,0,"[DO NOT MERGE] Test with OVN

Depends-On: https://review.opendev.org/738641
Change-Id: Ife03ae4ca1b02d8e68d75ae493636b6fe2298309
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/50/738450/8 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c9a97e7667df93273b39b5ec278f6a540c17e52b,ovn_test,"- job: name: neutron-dynamic-routing-ovn-tempest parent: neutron-tempest-plugin-dynamic-routing timeout: 10000 vars: devstack_localrc: Q_AGENT: ovn Q_ML2_PLUGIN_MECHANISM_DRIVERS: ovn,logger Q_ML2_PLUGIN_TYPE_DRIVERS: local,flat,vlan,geneve Q_ML2_TENANT_NETWORK_TYPE: geneve Q_USE_PROVIDERNET_FOR_PUBLIC: true PHYSICAL_NETWORK: public ENABLE_CHASSIS_AS_GW: true OVN_L3_CREATE_PUBLIC_NETWORK: true OVN_DBS_LOG_LEVEL: dbg # TODO(mjozefcz): Stop compiling OVS modules when meter action in kernel # will be released in Ubuntu Bionic. # More info: https://mail.openvswitch.org/pipermail/ovs-discuss/2018-December/048009.html OVN_BUILD_MODULES: True ENABLE_TLS: True OVN_IGMP_SNOOPING_ENABLE: True devstack_services: br-ex-tcpdump: true br-int-flows: true q-ovn-metadata-agent: true ovn-controller: true ovn-northd: true ovs-vswitchd: true ovsdb-server: true q-agt: false q-dhcp: false q-l3: false q-meta: false q-metering: false s-account: false s-container-sync: false s-container: false s-object: false s-proxy: false tls-proxy: true q-qos: true neutron-dr: true neutron-dr-agent: true devstack_local_conf: post-config: $NEUTRON_CONF: DEFAULT: enable_dvr: false /$NEUTRON_CORE_PLUGIN_CONF: ml2: type_drivers: local,flat,vlan,geneve test-config: $TEMPEST_CONFIG: neutron_plugin_options: available_type_drivers: local,flat,vlan,geneve is_igmp_snooping_enabled: True - neutron-dynamic-routing-ovn-temp", - neutron-tempest-plugin-dynamic-routing,58,1
openstack%2Fneutron~master~I91f629fd8fe44e71c3da6eece303c307e48435a1,openstack/neutron,master,I91f629fd8fe44e71c3da6eece303c307e48435a1,Fix create security group rule id check when using integer,ABANDONED,2022-04-08 15:17:11.000000000,2022-06-15 14:58:52.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-08 15:17:11.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6ec99dbbecb511dd9fdfb21458dadf024192a12', 'message': 'Fix create security group rule id check when using integer\n\nsecurity_groups_db._check_security_group is supposed to check the security_group_id\nof the _create_security_group_rule payload. When using an integer e.g. 0,\nas security_group_id, the check succeded because of mysql accepts following query:\n\nSELECT * FROM securitygroups WHERE id in (0)\n\nCasting the security_group_id to a string ensures the check works as expected.\n\nCloses-Bug: #1968343\nChange-Id: I91f629fd8fe44e71c3da6eece303c307e48435a1\n'}]",2,837146,a6ec99dbbecb511dd9fdfb21458dadf024192a12,8,3,1,28514,,,0,"Fix create security group rule id check when using integer

security_groups_db._check_security_group is supposed to check the security_group_id
of the _create_security_group_rule payload. When using an integer e.g. 0,
as security_group_id, the check succeded because of mysql accepts following query:

SELECT * FROM securitygroups WHERE id in (0)

Casting the security_group_id to a string ensures the check works as expected.

Closes-Bug: #1968343
Change-Id: I91f629fd8fe44e71c3da6eece303c307e48435a1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/837146/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py']",2,a6ec99dbbecb511dd9fdfb21458dadf024192a12,fix-security-group-rule-id-check," def test_create_security_group_rule_raise_error_on_not_found(self): with mock.patch(""neutron.objects.securitygroup.SecurityGroup."" ""objects_exist"") as mock_object_exists: with testtools.ExpectedException( securitygroup.SecurityGroupNotFound): rule = copy.deepcopy(FAKE_SECGROUP_RULE) rule['security_group_rule']['security_group_id'] = 0 self.mixin.create_security_group_rule(self.ctx, rule) mock_object_exists.assert_called_once_with(self.ctx, id='0') ",,11,1
openstack%2Fnetworking-midonet~stable%2Fstein~I83e97e3b85bb615d7fd9bb69789ed3b034a26775,openstack/networking-midonet,stable/stein,I83e97e3b85bb615d7fd9bb69789ed3b034a26775,Rename tap-as-a-service from x/ to openstack/ namespace,ABANDONED,2022-01-03 12:04:55.000000000,2022-06-15 14:58:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-03 12:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/95fb8930660d4a965ec0cd19787e15de79878088', 'message': 'Rename tap-as-a-service from x/ to openstack/ namespace\n\nConflicts:\n    .zuul.yaml\n\nChange-Id: I83e97e3b85bb615d7fd9bb69789ed3b034a26775\n'}, {'number': 2, 'created': '2022-04-11 09:37:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b2b068ec526ec78d532cb53c9d5ced0684339ccd', 'message': ""Rename tap-as-a-service from x/ to openstack/ namespace\n\nIt also removes neutron-lbaas from the required projects from\nthe jobs' definitions.\n\nConflicts:\n    .zuul.yaml\n\nChange-Id: I83e97e3b85bb615d7fd9bb69789ed3b034a26775\n""}]",1,823276,b2b068ec526ec78d532cb53c9d5ced0684339ccd,6,1,2,11975,,,0,"Rename tap-as-a-service from x/ to openstack/ namespace

It also removes neutron-lbaas from the required projects from
the jobs' definitions.

Conflicts:
    .zuul.yaml

Change-Id: I83e97e3b85bb615d7fd9bb69789ed3b034a26775
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/76/823276/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,95fb8930660d4a965ec0cd19787e15de79878088,rename-tap-as-a-service, - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service - openstack/tap-as-a-service, - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service - x/tap-as-a-service,14,14
openstack%2Fneutron-fwaas~stable%2Frocky~I3ff84140c080d532e4502882a5a9e4f07dcdc052,openstack/neutron-fwaas,stable/rocky,I3ff84140c080d532e4502882a5a9e4f07dcdc052,Fix CI jobs' definitions,ABANDONED,2022-01-03 13:33:03.000000000,2022-06-15 14:58:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-03 13:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0c60d4435c6e779c0903989528414b4201681e9c', 'message': ""Remove neutron-lbaas from the CI jobs requirements\n\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052\n""}, {'number': 2, 'created': '2022-04-11 09:46:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/9b6f2bb923a482e3569dc8b5cd06f0c5aef47531', 'message': ""Fix CI jobs' definitions\n\n* Remove neutron-lbaas from the CI jobs requirements\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which\n  isn't definited in the networking-midonet repo,\n  \n* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service\n  to openstack/ namespace\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052\n""}]",2,823286,9b6f2bb923a482e3569dc8b5cd06f0c5aef47531,5,1,2,11975,,,0,"Fix CI jobs' definitions

* Remove neutron-lbaas from the CI jobs requirements
Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which
  isn't definited in the networking-midonet repo,
  
* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service
  to openstack/ namespace

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/86/823286/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0c60d4435c6e779c0903989528414b4201681e9c,,, - openstack/neutron-lbaas,0,1
openstack%2Fneutron-fwaas~stable%2Fqueens~I3ff84140c080d532e4502882a5a9e4f07dcdc052,openstack/neutron-fwaas,stable/queens,I3ff84140c080d532e4502882a5a9e4f07dcdc052,Fix CI jobs' definitions,ABANDONED,2022-01-03 13:30:05.000000000,2022-06-15 14:58:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-03 13:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7b38a7d5483a61685242e79708e85a358451a019', 'message': ""Remove neutron-lbaas from the CI jobs requirements\n\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052\n""}, {'number': 2, 'created': '2022-04-11 09:45:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/042c47b5b7717a3887898cdfa4f54628515fdf98', 'message': ""Fix CI jobs' definitions\n\n* Remove neutron-lbaas from the CI jobs requirements\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which\n  isn't definited in the networking-midonet repo,\n  \n* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service\n  to openstack/ namespace\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052\n""}]",3,823283,042c47b5b7717a3887898cdfa4f54628515fdf98,6,1,2,11975,,,0,"Fix CI jobs' definitions

* Remove neutron-lbaas from the CI jobs requirements
Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

* Remove non-voting job neutron-fwaas-networking-midonet-cross-py35 which
  isn't definited in the networking-midonet repo,
  
* rename openstack/networking-l2gw to x/ namespace and x/tap-as-a-service
  to openstack/ namespace

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I3ff84140c080d532e4502882a5a9e4f07dcdc052
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/83/823283/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7b38a7d5483a61685242e79708e85a358451a019,remove-neutron-lbaas,, - openstack/neutron-lbaas,0,1
openstack%2Fneutron~master~Ibfd91832a26c18c8047e026138546eb7ecd43e5c,openstack/neutron,master,Ibfd91832a26c18c8047e026138546eb7ecd43e5c,Ensure to remove conntrack after applying deferred openflows,ABANDONED,2022-04-13 12:45:51.000000000,2022-06-15 14:58:25.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 12:45:51.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/agent/linux/ip_conntrack.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e845a225f42c034b7cee71060bb9bfc308127f8', 'message': 'Ensure to remove conntrack after applying deferred openflows\n\nAvoid race condition between applying deferred openflow rules\nand removing conntrack entries by ensuring that action\nto remove conntrack entries will be started after applying\nflows.\n\nDeferred openflow rules are applies on context exit in\n_apply_port_filter[1] but conntrack entries removing action\nstored in greenlet queue is triggered in the last moment by eventlet sleep in\nprocess_trusted_ports() [2] and also in meantime\nduring openflow batch applying by run_ofctl(). That leads to race condition\nbetween conntrack removal and openflow apply. It may happen that\nconntrack removal action is executed before coresponding flow is\napplied.\n\nTo remove this race condition set a lock on processing conntrack queue\nduring deferred flow apply.\n\nPartial-Bug: #1934917\n\n[1] agent/securitygroups_rpc.py L#175\n[2] openvswitch_firewall/firewall.py L#854\n\nChange-Id: Ibfd91832a26c18c8047e026138546eb7ecd43e5c\n'}]",4,837726,2e845a225f42c034b7cee71060bb9bfc308127f8,14,2,1,30463,,,0,"Ensure to remove conntrack after applying deferred openflows

Avoid race condition between applying deferred openflow rules
and removing conntrack entries by ensuring that action
to remove conntrack entries will be started after applying
flows.

Deferred openflow rules are applies on context exit in
_apply_port_filter[1] but conntrack entries removing action
stored in greenlet queue is triggered in the last moment by eventlet sleep in
process_trusted_ports() [2] and also in meantime
during openflow batch applying by run_ofctl(). That leads to race condition
between conntrack removal and openflow apply. It may happen that
conntrack removal action is executed before coresponding flow is
applied.

To remove this race condition set a lock on processing conntrack queue
during deferred flow apply.

Partial-Bug: #1934917

[1] agent/securitygroups_rpc.py L#175
[2] openvswitch_firewall/firewall.py L#854

Change-Id: Ibfd91832a26c18c8047e026138546eb7ecd43e5c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/837726/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/agent/linux/ip_conntrack.py']",3,2e845a225f42c034b7cee71060bb9bfc308127f8,," self.queue_lock = eventlet.Semaphore() with self.queue_lock: if update.remote_ips: for remote_ip in update.remote_ips: self._delete_conntrack_state( update.device_info_list, update.rule, remote_ip) else: update.device_info_list, update.rule)"," if update.remote_ips: for remote_ip in update.remote_ips: update.device_info_list, update.rule, remote_ip) else: self._delete_conntrack_state( update.device_info_list, update.rule)",16,10
openstack%2Fneutron-vpnaas-dashboard~stable%2Fvictoria~Ic1d068fd11909aec9811216b6df4d7c92ab567a7,openstack/neutron-vpnaas-dashboard,stable/victoria,Ic1d068fd11909aec9811216b6df4d7c92ab567a7,Imported Translations from Zanata,ABANDONED,2022-04-15 03:31:09.000000000,2022-06-15 14:58:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-15 03:31:09.000000000', 'files': ['neutron_vpnaas_dashboard/locale/es/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/a4d18e61458cbec9a0a3fe025c3849f115b45af8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic1d068fd11909aec9811216b6df4d7c92ab567a7\n'}]",0,838077,a4d18e61458cbec9a0a3fe025c3849f115b45af8,3,1,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic1d068fd11909aec9811216b6df4d7c92ab567a7
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/77/838077/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas_dashboard/locale/es/LC_MESSAGES/django.po'],1,a4d18e61458cbec9a0a3fe025c3849f115b45af8,zanata/translations,"# Eugènia Torrella <tester03@es.ibm.com>, 2016. #zanata # Jose Porrua <jose.porrua@netapp.com>, 2016. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2017. #zanata # Carlos Camacho <ccamacho@redhat.com>, 2017. #zanata # Zeus Arias Lucero <zeusariaslucero@gmail.com>, 2017. #zanata # Alberto Molina Coballes <alberto@tinaja.es>, 2021. #zanata msgid """" msgstr """" ""Project-Id-Version: neutron-vpnaas-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2020-12-01 09:27+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2021-06-07 06:55+0000\n"" ""Last-Translator: Alberto Molina Coballes <alberto@tinaja.es>\n"" ""Language-Team: Spanish\n"" ""Language: es\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid """" ""(Deprecated) Remote peer subnet(s) address(es) with mask(s) in CIDR format "" ""separated with commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24)"" msgstr """" ""(Obsoleto) Direccion(es) de subred(es) del par remoto con máscara(s) en "" ""formato CIDR separadas por comas si es necesario (p. ej. 20.1.0.0/24, "" ""21.1.0.0/24)"" msgid ""-"" msgstr ""-"" msgid ""3des"" msgstr ""3des"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Active"" msgstr ""Activa"" msgid ""Add"" msgstr ""Añadir"" msgid ""Add Endpoint Group"" msgstr ""Añadir un grupo de extremo"" msgid ""Add IKE Policy"" msgstr ""Añadir política IKE"" msgid ""Add IPsec Policy"" msgstr ""Añadir política IPsec"" msgid ""Add IPsec Site Connection"" msgstr ""Añadir conexión sitio a sitio IPsec"" msgid ""Add New Endpoint Groups"" msgstr ""Añadir nuevos grupos de extremos"" msgid ""Add New IKE Policy"" msgstr ""Añadir nueva política IKE"" msgid ""Add New IPsec Policy"" msgstr ""Añadir nueva política IPSec"" msgid ""Add New IPsec Site Connection"" msgstr ""Añadir nueva conexión sitio a sitio IPSec"" msgid ""Add New VPN Service"" msgstr ""Añadir nuevo servicio VPN"" msgid ""Add VPN Service"" msgstr ""Añadir servicio VPN"" #, python-format msgid ""Added IKE policy \""%s\""."" msgstr ""Política IKE \""%s\"" añadida."" #, python-format msgid ""Added IPsec policy \""%s\""."" msgstr ""Política IPSec \""%s\"" añadida."" #, python-format msgid ""Added IPsec site connection \""%s\""."" msgstr ""Conexión sitio a sitio IPSec \""%s\"" añadida."" #, python-format msgid ""Added VPN service \""%s\""."" msgstr ""Servicio VPN \""%s\"" añadido."" #, python-format msgid ""Added endpoint group \""%s\""."" msgstr ""Grupo de extremos \""%s\"" añadido."" msgid ""Admin State"" msgstr ""Estado de administración"" msgid ""Admin State is enabled by default."" msgstr ""El estado de administración está activado de forma predeterminada."" msgid ""All fields are optional."" msgstr ""Todos los campos son opcionales."" msgid ""An IKE policy is an association of the following attributes:"" msgstr ""Una política IKE es una asociación de los siguiente atributos:"" msgid ""An IPsec policy is an association of the following attributes"" msgstr ""Una política IPsec es una asociación de los siguientes atributos"" msgid ""Authorization algorithm"" msgstr ""Algoritmo de autorización"" msgid ""Authorization algorithm ="" msgstr ""Algoritmo de autorización ="" msgid ""Authorization mode"" msgstr ""Modo de autorización"" msgid ""CIDR (for external systems)"" msgstr ""CIDR (para sistemas externos)"" msgid ""Create IKE policy for current project."" msgstr ""Crear política IKE para el proyecto actual."" msgid ""Create IPsec policy for current project."" msgstr ""Crear una política IPsec para el proyecto actual."" msgid """" ""Create IPsec site connection for current project. Assign a name and "" ""description for the IPsec site connection. All fields in this tab are "" ""required."" msgstr """" ""Cree una conexión sitio a sitio IPSec para el proyecto actual. Asigne nombre "" ""y descripción para la conexión sitio a sitio IPSec. Todos los campos en esta "" ""pestaña son obligatorios."" msgid ""Create VPN service for current project."" msgstr ""Crear un servicio VPN en el proyecto actual."" msgid ""Create endpoint group for current project."" msgstr ""Crear grupo de extremos para el proyecto actual."" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Created"" msgstr ""Creado"" msgid ""DPD Timeout must be greater than DPD Interval"" msgstr """" ""La desconexión de la detección de pares inactivos debe ser mayor al "" ""intervalo de la misma"" msgid ""Dead peer detection action"" msgstr ""Acción de detección del par inactivo"" msgid ""Dead peer detection actions"" msgstr ""Acciones de detección de pares inactivos"" msgid ""Dead peer detection interval"" msgstr ""Intervalo de detección de pares inactivos"" msgid ""Dead peer detection timeout"" msgstr ""Tiempo límite de detección de pares inactivos"" msgid ""Delete Endpoint Group"" msgid_plural ""Delete Endpoint Groups"" msgstr[0] ""Eliminar grupo de extremos"" msgstr[1] ""Eliminar grupos de extremos"" msgid ""Delete IKE Policy"" msgid_plural ""Delete IKE Policies"" msgstr[0] ""Suprimir política IKE"" msgstr[1] ""Suprimir políticas IKE"" msgid ""Delete IPsec Policy"" msgid_plural ""Delete IPsec Policies"" msgstr[0] ""Eliminar política IKE"" msgstr[1] ""Eliminar políticas IKE"" msgid ""Delete IPsec Site Connection"" msgid_plural ""Delete IPsec Site Connections"" msgstr[0] ""Eliminar conexión sitio a sitio IPSec"" msgstr[1] ""Eliminar Conexiones sitio a sitio IPSec"" msgid ""Delete VPN Service"" msgid_plural ""Delete VPN Services"" msgstr[0] ""Suprimir servicio VPN"" msgstr[1] ""Suprimir servicios VPN"" msgid ""Description"" msgstr ""Descripción "" msgid ""Description:"" msgstr ""Descripción:"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Down"" msgstr ""Abajo"" msgid ""Edit Connection"" msgstr ""Editar conexión"" msgid ""Edit Endpoint Group"" msgstr ""Editar grupo de extremos"" msgid ""Edit IKE Policy"" msgstr ""Editar política IKE"" msgid ""Edit IPsec Policy"" msgstr ""Editar política IPsec"" msgid ""Edit IPsec Site Connection"" msgstr ""Editar la conexión sitio a sitio IPsec"" msgid ""Edit IPsec policy"" msgstr ""Editar política IPsec"" msgid ""Edit IPsec site connection"" msgstr ""Editar conexión sitio a sitio IPsec"" msgid ""Edit VPN Service"" msgstr ""Editar servicio VPN"" msgid ""Enable Admin State"" msgstr ""Activar Estado del Administrador"" msgid ""Encapsulation mode"" msgstr ""Modo de encapsulamiento"" msgid ""Encryption algorithm"" msgstr ""Algoritmo de cifrado"" msgid ""Encryption algorithm ="" msgstr ""Algoritmo de cifrado ="" msgid ""Endpoint Groups"" msgstr ""Grupos de extremos"" msgid ""Endpoint Groups Details"" msgstr ""Detalles del grupo de extremos"" #, python-format msgid ""Endpoint group %s was successfully updated."" msgstr ""El grupo endpoint %s se actuailizó correctamente."" msgid ""Endpoint group for local subnet(s)"" msgstr ""Grupo de extremos para la subred(s) local"" msgid ""Endpoint group for remote peer CIDR(s)"" msgstr ""Grupo de extremos para el CIDR(s) del par remoto "" msgid ""Endpoints"" msgstr ""Extremos"" msgid ""Endpoints ="" msgstr ""Extremos ="" msgid ""Equal to or greater than 60"" msgstr ""Mayor o igual que 60"" msgid """" ""Equal to or greater than 68 if the local subnet is IPv4. Equal to or greater "" ""than 1280 if the local subnet is IPv6."" msgstr """" ""Mayor o igual que 68 si la subred local es IPv4. Igual o mayor que 1280 si "" ""la subred local es IPv6."" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Error"" msgstr ""Error"" msgid ""External System CIDRs"" msgstr ""CIDRs de sistemas externos"" msgid ""External System Subnets"" msgstr ""Subredes de sistemas externos"" #, python-format msgid ""Failed to update IKE policy %s"" msgstr ""Ha ocurrido un fallo al actualizar la política IKE %s"" #, python-format msgid ""Failed to update IPsec policy %s"" msgstr ""Ha ocurrido un fallo al actualizar la política IPsec %s."" #, python-format msgid ""Failed to update IPsec site connection %s"" msgstr ""Ha ocurrido un fallo al actualizar la conexión sitio a sitio IPsec %s"" #, python-format msgid ""Failed to update VPN service %s"" msgstr ""Ha fallado la modificación del servicio VPN %s"" #, python-format msgid ""Failed to update endpoint group %s"" msgstr ""Ha ocurrido un fallo al actualizar el grupo endpoint %s"" msgid """" ""Fields in this tab are optional. You can configure the detail of IPsec site "" ""connection created."" msgstr """" ""Los campos en esta pestaña son opcionales. Puede configurar el detalle de la "" ""conexión IPsec sitio a sitio creada."" msgid ""ID"" msgstr ""ID"" msgid ""IKE Phase 1 negotiation mode"" msgstr ""Modo de negociación IKE Fase 1"" msgid ""IKE Phase1 negotiation mode"" msgstr ""Modo de negociación Phase1 IKE"" msgid ""IKE Policies"" msgstr ""Políticas IKE"" msgid ""IKE Policy"" msgstr ""Política IKE"" msgid ""IKE Policy ="" msgstr ""Política IKE ="" msgid ""IKE Policy Details"" msgstr ""Detalles de la política IKE"" msgid ""IKE Policy ID ="" msgstr ""ID política IKE ="" #, python-format msgid ""IKE policy %s was successfully updated."" msgstr ""La política IKE %s se ha actualizado correctamente."" msgid ""IKE policy associated with this connection"" msgstr ""Política IKE asociada a esta conexión"" msgid ""IKE version"" msgstr ""Versión IKE"" msgid ""IPsec Policies"" msgstr ""Políticas IPsec"" msgid ""IPsec Policy"" msgstr ""Política IPsec"" msgid ""IPsec Policy ="" msgstr ""Política IPSec ="" msgid ""IPsec Policy Details"" msgstr ""Detalles de la política IPsec"" msgid ""IPsec Policy ID ="" msgstr ""ID política IPsec ="" msgid ""IPsec Site Connection Details"" msgstr ""Detalles de la conexión sitio a sitio IPsec"" msgid ""IPsec Site Connections"" msgstr ""Conexiones sitio a sitio IPsec"" msgid ""IPsec connection validation requires that local endpoints are subnets"" msgstr """" ""La validación de la conexión IPsec requiere que los extremos locales sean "" ""subredes."" msgid """" ""IPsec connection validation requires that local endpoints are subnets, and "" ""peer endpoints are CIDRs."" msgstr """" ""La validación de la conexión IPsec requete que los extremos locales sean "" ""subredes y que los extremos del par sean CIDRs."" msgid ""IPsec connection validation requires that peer endpoints are CIDRs"" msgstr """" ""La validación de la conexión IPsec requiere que los extremos del par sean "" ""CIDRs."" #, python-format msgid ""IPsec policy %s was successfully updated."" msgstr ""Se ha actualizaco correctamente la política IPsec %s."" msgid ""IPsec policy associated with this connection"" msgstr ""Política IPSec asociada a esta conexión"" #, python-format msgid ""IPsec site connection %s was successfully updated."" msgstr ""La conexión sitio a sitio IPsec %s se actualizó correctamente."" msgid ""IPv4"" msgstr ""IPv4"" msgid ""IPv4:"" msgstr ""IPv4:"" msgid ""IPv6"" msgstr ""IPv6"" msgid ""IPv6:"" msgstr ""IPv6:"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Inactive"" msgstr ""Inactiva"" msgid ""Initiator state"" msgstr ""Estado del iniciador"" msgid """" ""Life time consists of units and value. Units in 'seconds' and the default "" ""value is 3600."" msgstr """" ""El tiempo de vida consiste en unidades y valores. Unidades en 'segundos' y "" ""el valor predeterminado es 3600."" msgid ""Lifetime"" msgstr ""Tiempo de vida"" msgid ""Lifetime Units"" msgstr ""Unidades del tiempo de vida"" msgid ""Lifetime Value"" msgstr ""Valor del tiempo de vida"" msgid ""Lifetime units"" msgstr ""Unidades de tiempo de vida"" msgid ""Lifetime units for IKE keys"" msgstr ""Unidades de tiempo de vida para las claves IKE"" msgid ""Lifetime value"" msgstr ""Valor de tiempo de vida"" msgid ""Lifetime value for IKE keys"" msgstr ""Valores de tiempo de vida para las claves IKE"" msgid ""Lifetime value for IKE keys "" msgstr ""Valor de tiempo de vida para claves IKE"" msgid ""Local Endpoint Group"" msgstr ""Grupo de extremos local"" msgid ""Local Endpoint Group(s)"" msgstr ""Grupo(s) de extremo local"" msgid ""Local Side Public IPs"" msgstr ""IP públicas del lado local"" msgid ""Local System Subnets"" msgstr ""Subredes de sistemas locales"" msgid ""Local subnet(s). This field is valid if type is Subnet"" msgstr ""Subred(es) local(es). Este campo es válido si el tipo es una subred."" msgid """" ""Local subnets which the new IPsec connection is connected to. Required if no "" ""subnet is specified in a VPN service selected."" msgstr """" ""Subredes locales a las que la nueva conexión IPsec está conectada. "" ""Obligatorio si no se ha especificado una subred en el servicio VPN "" ""seleccionado."" msgid ""MTU"" msgstr ""MTU"" msgid ""Maximum Transmission Unit size for the connection"" msgstr ""Tamaño de la unidad de Transmisión máxima de la conexión"" msgid ""Name"" msgstr ""Nombre"" msgid ""Name ="" msgstr ""Nombre ="" msgid """" ""Note: The recommended way to specify local subnets is to use endpoint groups "" ""in IPsec site connection. It is deprecated to specify subnet in VPN service. "" ""For a new VPN service or IPsec site connection, using endpoint group is "" ""recommended."" msgstr """" ""Nota: La forma recomendada de especificar subredes locales es usar grupos de "" ""extremos en conexiones sitio a sitio IPsec. Especificar una subred en el "" ""servicio VPN está obsoleto. Para un nuevo servicio VPN o una conexión sitio "" ""a sitio IPsec, se recomienda usar un grupo de extremos."" msgid ""Optional Parameters"" msgstr ""Parámetros opcionales"" msgid ""Optional. No need to be specified when you use endpoint groups."" msgstr """" ""Opcional. No es necesario especificarlo cuando se usan grupos de extremo."" msgid ""PFS"" msgstr ""PFS"" msgid ""PFS ="" msgstr ""PFS ="" msgid ""PFS limited to using Diffie-Hellman groups 2, 5 (default) and 14."" msgstr """" ""PFS limitados a usar los grupos 2, 5 (predeterminado) y 14 de Diffie-Hellman."" msgid ""Peer Endpoint Group"" msgstr ""Grupo de extermos del par"" msgid ""Peer Endpoint Group(s)"" msgstr ""Grupo(s) de extremo del par"" msgid ""Peer gateway public IPv4/IPv6 Address or FQDN"" msgstr ""Dirección IPv4/IPv6 pública o FQDN de la puerta de enlace del par"" msgid ""Peer gateway public IPv4/IPv6 address or FQDN for the VPN Connection"" msgstr """" ""Dirección IPv4/IPv6 pública o FQDN de la puerta de enlace del par para la "" ""conexión VPN."" msgid ""Peer router identity for authentication (Peer ID)"" msgstr ""Identidad del router par para autenticación (Peer ID)"" msgid """" ""Peer router identity for authentication. Can be IPv4/IPv6 address, e-mail, "" ""key ID, or FQDN"" msgstr """" ""Identificador de un router par para autenticación. Puede ser una dirección "" ""IPv4/IPv6, una dirección de correo electrónico, un ID de clave o un FQDN"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Create"" msgstr ""Creación Pendiente"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Delete"" msgstr ""Eliminación pendiente"" msgctxt ""Current status of an IPsec site connection and VPN service"" msgid ""Pending Update"" msgstr ""Actualización pendiente"" msgid ""Perfect Forward Secrecy"" msgstr ""Perfect Forward Secrecy"" msgid ""Phase 1 negotiation mode limited to using 'main' and 'aggressive'."" msgstr """" ""El modo de negociación de la fase 1 está limitado a usar 'main' y "" ""'aggressive'."" msgid ""Pre-Shared Key (PSK) string"" msgstr ""Cadena de clave precompartida (PSK)"" msgid ""Project ID"" msgstr ""ID del proyecto"" msgid ""Remote peer CIDR(s) connected to the new IPsec connection."" msgstr ""CIDR(s) del par remoto conectado a la nueva conexión IPsec."" msgid ""Remote peer subnet"" msgstr ""Subred remota del par"" msgid ""Remote peer subnet(s)"" msgstr ""Subred(es) del par remoto"" msgid """" ""Remote peer subnet(s) address(es) with mask(s) in CIDR format separated with "" ""commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24)"" msgstr """" ""Direccion(es) de subred(es) del par remoto con máscara(s) en formato CIDR "" ""separadas por comas si es necesario (p. ej. 20.1.0.0/24, 21.1.0.0/24)"" msgid """" ""Remote peer subnet(s) address(es) with mask(s) in CIDR format separated with "" ""commas if needed (e.g. 20.1.0.0/24, 21.1.0.0/24). This field is valid if "" ""type is CIDR"" msgstr """" ""Direcciones de subredes remotas de los pares con máscara(s) en formato CIDR "" ""separadas con comas si es necesario (p.ej. 20.1.0.0/24, 21.1.0.0/24). Este "" ""campo es válido si el tipo es CIDR"" msgid ""Route mode"" msgstr ""Modo router"" msgid ""Router"" msgstr ""Router"" msgid ""Router ="" msgstr ""Router ="" msgid ""Router ID ="" msgstr ""ID router ="" msgid ""Save Changes"" msgstr ""Guardar cambios"" msgid ""Scheduled deletion of IKE policy"" msgid_plural ""Scheduled deletion of IKE policies"" msgstr[0] ""Se ha programado la eliminación de la política IKE"" msgstr[1] ""Se ha programado la eliminación de las políticas IKE"" msgid ""Scheduled deletion of IPsec policy"" msgid_plural ""Scheduled deletion of IPsec policies"" msgstr[0] ""Se ha programado la eliminación de la política IPsec"" msgstr[1] ""Se ha programado la eliminación de las políticas IPsec"" msgid ""Scheduled deletion of IPsec site connection"" msgid_plural ""Scheduled deletion of IPsec site connections"" msgstr[0] ""Se ha programado la eliminación de la conexión sitio a sitio IPsec"" msgstr[1] """" ""Se ha programado la eliminación de las conexiones sitio a sitio IPsec"" msgid ""Scheduled deletion of VPN service"" msgid_plural ""Scheduled deletion of VPN services"" msgstr[0] ""Se ha programado la eliminación del servicio VPN"" msgstr[1] ""Se ha programado la eliminación de los servicios VPN"" msgid ""Scheduled deletion of endpoint group"" msgid_plural ""Scheduled deletion of endpoint groups"" msgstr[0] ""Se ha programado la eliminación del grupo de extremos"" msgstr[1] ""Se ha programado la eliminación de los grupos de extremos"" msgid ""Select IKE policy"" msgstr ""Seleccionar política IKE"" msgid ""Select IPsec Policy"" msgstr ""Seleccionar política IPsec"" msgid ""Select VPN service"" msgstr ""Seleccionar servicio VPN"" msgid ""Select a Router"" msgstr ""Seleccionar un router"" msgid ""Select a Subnet"" msgstr ""Seleccione una subred"" msgid ""Select local endpoint group"" msgstr ""Seleccionar grupo de extremos local"" msgid ""Select peer endpoint group"" msgstr ""Seleccionar grupo de extremos del par"" msgid """" ""Specify a name, description, router, and subnet (optional) for the VPN "" ""service."" msgstr """" ""Especifique un nombre, descripción, router y subred (opcional) para el "" ""servicio VPN."" msgid ""Status"" msgstr ""Estado"" msgid ""Status ="" msgstr ""Estado ="" msgid ""Subnet"" msgstr ""Subred"" msgid ""Subnet (for local systems)"" msgstr ""Subred (para sistemas locales)"" msgid ""Subnet ="" msgstr ""Suberd ="" msgid ""Subnet ID ="" msgstr ""ID de subred ="" msgid """" ""The VPN service is attached to a router and references to endpoint group or "" ""a single subnet to push to a remote site."" msgstr """" ""El servicio VPN se asocia a un router y referencia a un grupo de extremos o "" ""a una sola subred a la que poner en el sitio remoto."" msgid ""The pre-defined key string between the two peers of the VPN connection"" msgstr ""La cadena de clave predefinida entre los dos pares de la conexión VPN."" msgid """" ""The router and admin state fields require to be enabled. All others are "" ""optional."" msgstr """" ""Son obligatorios los campos router y estado de administración. Todos los "" ""demás son opcionales."" msgid """" ""The state of IPsec site connection to start in. If disabled (not checked), "" ""IPsec site connection does not forward packets."" msgstr """" ""El estado de la conexión sitio a sitio IPsec en la que iniciar. Si está "" ""deshabilitado (no marcado) la conexión IPsec no re-envía paquetes."" msgid """" ""The state of VPN service to start in. If disabled (not checked), VPN service "" ""does not forward packets."" msgstr """" ""El estado del servicio VPN en el que comenzar. Si está deshabilitado (no "" ""marcado) el servicio VPN no re-enviará paquetes."" msgid ""The type of IPsec tunnel (tunnel/transport) to be used."" msgstr ""El tipo de túnel IPsec (tunnel/transport) a usar."" msgid ""The type of protocol (esp, ah, ah-esp) used in IPsec policy."" msgstr ""El tipo de protocolo (esp, ah, ah-esp) a usar en la política IPsec."" msgid ""The type of version (v1/v2) that needs to be filtered."" msgstr ""El tipo de versión (v1/v2) que tiene que ser filtrado."" msgid ""Transform Protocol"" msgstr ""Protocolo de transformación"" msgid ""Type"" msgstr ""Tipo"" msgid ""Type ="" msgstr ""Tipo ="" #, python-format msgid ""Unable to add IKE policy \""%s\""."" msgstr ""No ha sido posible añadir la política IKE \""%s\""."" #, python-format msgid ""Unable to add IPsec policy \""%s\""."" msgstr ""No ha sido posible añadir la política IPSec \""%s\""."" #, python-format msgid ""Unable to add IPsec site connection \""%s\""."" msgstr ""No ha sido posible añadir la conexión sitio a sitio IPSec \""%s\""."" #, python-format msgid ""Unable to add VPN service \""%s\""."" msgstr ""No ha sido posible añadir el servicio VPN \""%s\""."" #, python-format msgid ""Unable to add endpoint group \""%s\""."" msgstr ""No ha sido posible añadir el grupo de extremos \""%s\""."" msgid ""Unable to delete IKE policy."" msgstr ""No ha sido posible eliminar la política IKE."" msgid ""Unable to delete IPsec policy."" msgstr ""No ha sido posible eliminar la política IPsec."" msgid ""Unable to delete IPsec site connection."" msgstr ""No ha sido posible eliminar la conexión sitio a sitio IPSec."" msgid ""Unable to delete VPN service."" msgstr ""No ha sido posible eliminar el servicio VPN."" msgid ""Unable to delete endpoint group."" msgstr ""No ha sido posible eliminar el grupo de extremos."" msgid ""Unable to retrieve IKE policies list."" msgstr ""No ha sido posible obtener la lista de políticas IKE."" msgid ""Unable to retrieve IKE policy details."" msgstr ""No ha sido posible obtener los detalles de la política IKE."" msgid ""Unable to retrieve IPsec policies list."" msgstr ""No ha sido posible obtener la lista de políticas IPSec."" msgid ""Unable to retrieve IPsec policy details."" msgstr ""No ha sido posible obtener los detalles de la política IPSec."" msgid ""Unable to retrieve IPsec policy list."" msgstr ""No ha sido posible obtener la lista de políticas IPsec."" msgid ""Unable to retrieve IPsec site connection details."" msgstr """" ""No ha sido posible obtener los detalles sobre la conexión sitio a sitio "" ""IPSec."" msgid ""Unable to retrieve IPsec site connections list."" msgstr """" ""No ha sido posible obtener la lista de las conexiones sitio a sitio IPsec."" msgid ""Unable to retrieve VPN service details."" msgstr ""No ha sido posible obtener los detalles del servicio VPN."" msgid ""Unable to retrieve VPN services list."" msgstr ""No ha sido posible obtener la lista de servicios VPN."" msgid ""Unable to retrieve endpoint group details."" msgstr ""No ha sido posible obtener los detalles del grupo de extremo."" msgid ""Unable to retrieve endpoint group list."" msgstr ""No ha sido posible obtener la lista de grupo de extremos."" msgid ""Unable to retrieve networks list."" msgstr ""No se ha podido recuperar la lista de redes."" msgid ""Unable to retrieve routers list."" msgstr ""No se ha podido recuperar la lista de routers."" msgid ""VPN"" msgstr ""VPN"" msgid ""VPN Connections"" msgstr ""Conexiones VPN"" msgid ""VPN Service"" msgstr ""Servicio VPN"" msgid ""VPN Service ="" msgstr ""Servicio VPN ="" msgid ""VPN Service Details"" msgstr ""Detalles del servicio VPN"" msgid ""VPN Service ID ="" msgstr ""ID del servicio VPN ="" msgid ""VPN Services"" msgstr ""Servicios VPN"" #, python-format msgid ""VPN service %s was successfully updated."" msgstr ""Servicio VPN %s modificado correctamente."" msgid ""VPN service associated with this connection"" msgstr ""Servicio VPN asociado con esta conexión"" msgid ""Valid algorithms are 3des, aes-128, aes-192 and aes-256."" msgstr ""Los algoritmos válidos son 3des, aes-128, aes-192 y aes-256."" msgid ""Valid algorithms are sha1, sha256, sha384 and sha512."" msgstr ""Los algoritmos válidos son sha1, sha256, sha384 y sha512."" msgid ""Valid integer greater than the DPD interval"" msgstr ""Entero válido mayor al intervalo de detección de pares inactivos"" msgid ""Valid integer lesser than DPD timeout"" msgstr ""Entero válido menor a la desconexión de detección de pares inactivos"" msgid ""Valid integer lesser than the DPD timeout"" msgstr ""Entero válido menor al intervalo de detección de pares inactivos"" msgid ""Virtual Private Network"" msgstr ""Red privada virtual"" msgid ""You may update IKE policy details here."" msgstr ""Puede modificar los detalles de la política IKE aquí."" msgid ""You may update IPsec policy details here."" msgstr ""Puede modificar los detalles de la política IPsec aquí."" msgid ""You may update IPsec site connection details here."" msgstr ""Aquí puede actualizar los detalles de la conexión IPSec sitio a sitio."" msgid ""You may update VPN service details here."" msgstr ""Aquí puede actualizar los detalles del servicio VPN."" msgid ""You may update endpoint group details here."" msgstr ""Debe actualizar los detalles del grupo de extremos aquí."" msgid ""aes-128"" msgstr ""aes-128"" msgid ""aes-192"" msgstr ""aes-192"" msgid ""aes-256"" msgstr ""aes-256"" msgid ""ah"" msgstr ""ah"" msgid ""ah-esp"" msgstr ""ah-esp"" msgid ""bi-directional"" msgstr ""bidireccional"" msgid ""clear"" msgstr ""limpiar"" msgid ""disabled"" msgstr ""deshabilitado"" msgid ""down"" msgstr ""abajo"" msgid ""esp"" msgstr ""esp"" msgid ""group14"" msgstr ""grupo14"" msgid ""group2"" msgstr ""grupo2"" msgid ""group5"" msgstr ""grupo5"" msgid ""hold"" msgstr ""retener"" msgid ""response-only"" msgstr ""sólo respuesta"" msgid ""restart"" msgstr ""reiniciar"" msgid ""restart-by-peer"" msgstr ""reiniciar por el par"" msgid ""seconds"" msgstr ""segundos"" msgid ""sha1"" msgstr ""sha1"" msgid ""sha256"" msgstr ""sha256"" msgid ""sha384"" msgstr ""sha384"" msgid ""sha512"" msgstr ""sha512"" msgid ""transport"" msgstr ""transporte"" msgid ""tunnel"" msgstr ""túnel"" msgid ""up"" msgstr ""arriba"" msgid ""v1"" msgstr ""v1"" msgid ""v2"" msgstr ""v2"" ",,926,0
openstack%2Fnetworking-bgpvpn~master~I7b089a8121d676323f178648ae17c6534d516454,openstack/networking-bgpvpn,master,I7b089a8121d676323f178648ae17c6534d516454,WIP: Add OVN-based Neutron BGPVPN driver,ABANDONED,2021-08-02 09:43:39.000000000,2022-06-15 14:58:10.000000000,,"[{'_account_id': 6469}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-08-02 09:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1c074079f2ef3dc9068cfac367fa7d71b74454d3', 'message': 'WIP: Add OVN-based Neutron BGPVPN driver\n\nChange-Id: I7b089a8121d676323f178648ae17c6534d516454\n'}, {'number': 2, 'created': '2021-09-16 07:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9bb8580c9c60033939d82e881a2aea46153b4047', 'message': 'WIP: Add OVN-based Neutron BGPVPN driver\n\nChange-Id: I7b089a8121d676323f178648ae17c6534d516454\n'}, {'number': 3, 'created': '2021-09-17 08:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f1b43c7e9b1ecffeae17465f96869eed4a04f7c7', 'message': 'WIP: Add OVN-based Neutron BGPVPN driver\n\nNotes: It disables snat on router association, and re-enables it on\nrouter disassociation\n\nChange-Id: I7b089a8121d676323f178648ae17c6534d516454\n'}, {'number': 4, 'created': '2021-09-17 08:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/33de2ba596e187a87620e52fd45162967cceb0c7', 'message': 'WIP: Add OVN-based Neutron BGPVPN driver\n\nNotes: It disables snat on router association, and re-enables it on\nrouter disassociation\n\nChange-Id: I7b089a8121d676323f178648ae17c6534d516454\n'}, {'number': 5, 'created': '2021-09-17 10:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/565b8d263b45378f4848e88881525f1c335b04b0', 'message': 'WIP: Add OVN-based Neutron BGPVPN driver\n\nNotes: It disables snat on router association, and re-enables it on\nrouter disassociation\n\nChange-Id: I7b089a8121d676323f178648ae17c6534d516454\n'}, {'number': 6, 'created': '2021-11-18 09:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/702b00e7303b6fdca77631a5f492938cf893fdab', 'message': 'WIP: Add OVN-based Neutron BGPVPN driver\n\nNotes: It disables snat on router association, and re-enables it on\nrouter disassociation\n\nChange-Id: I7b089a8121d676323f178648ae17c6534d516454\n'}, {'number': 7, 'created': '2022-04-29 05:31:21.000000000', 'files': ['networking_bgpvpn/neutron/services/service_drivers/ovn/common/utils.py', 'networking_bgpvpn/tests/unit/services/ovn/__init__.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/config.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/exceptions.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/ovsdb/impl_idl_ovn.py', 'networking_bgpvpn/neutron/extensions/bgpvpn.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/__init__.py', 'networking_bgpvpn/tests/unit/services/ovn/test_ovn.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/ovsdb/__init__.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/constants.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/helper.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/ovn.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/__init__.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5ed333492b22433813bd4489430f23c1c9c62b24', 'message': 'WIP: Add OVN-based Neutron BGPVPN driver\n\nNotes: It disables snat on router association, and re-enables it on\nrouter disassociation\n\nChange-Id: I7b089a8121d676323f178648ae17c6534d516454\n'}]",4,803161,5ed333492b22433813bd4489430f23c1c9c62b24,19,4,7,6469,,,0,"WIP: Add OVN-based Neutron BGPVPN driver

Notes: It disables snat on router association, and re-enables it on
router disassociation

Change-Id: I7b089a8121d676323f178648ae17c6534d516454
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/61/803161/6 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bgpvpn/neutron/services/service_drivers/ovn/common/utils.py', 'networking_bgpvpn/tests/unit/services/ovn/__init__.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/config.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/exceptions.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/ovsdb/impl_idl_ovn.py', 'networking_bgpvpn/neutron/extensions/bgpvpn.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/__init__.py', 'networking_bgpvpn/tests/unit/services/ovn/test_ovn.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/ovsdb/__init__.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/constants.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/helper.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/ovn.py', 'networking_bgpvpn/neutron/services/service_drivers/ovn/common/__init__.py']",13,1c074079f2ef3dc9068cfac367fa7d71b74454d3,bgpvpn-ovn-driver,,,932,0
openstack%2Fneutron-tempest-plugin~master~Ic23cbd154271988adad8d172c7668a918655c4e2,openstack/neutron-tempest-plugin,master,Ic23cbd154271988adad8d172c7668a918655c4e2,DNM Just test API with enforced new defaults,ABANDONED,2022-04-29 14:21:51.000000000,2022-06-15 14:58:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-29 14:21:51.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/110b876ed1a7a6ad9c2b5c010bd28e46cd15f38b', 'message': 'DNM Just test API with enforced new defaults\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/839952\nChange-Id: Ic23cbd154271988adad8d172c7668a918655c4e2\n'}]",0,839954,110b876ed1a7a6ad9c2b5c010bd28e46cd15f38b,3,1,1,11975,,,0,"DNM Just test API with enforced new defaults

Depends-On: https://review.opendev.org/c/openstack/neutron/+/839952
Change-Id: Ic23cbd154271988adad8d172c7668a918655c4e2
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/54/839954/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,110b876ed1a7a6ad9c2b5c010bd28e46cd15f38b,secure-rbac, NEUTRON_ENFORCE_SCOPE: true,,1,0
openstack%2Fneutron~master~I828de77ff9d23c1df491722480920ab95059ca10,openstack/neutron,master,I828de77ff9d23c1df491722480920ab95059ca10,DNM Just test for the new secure rbac policies,ABANDONED,2022-04-29 14:19:11.000000000,2022-06-15 14:58:00.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-29 14:19:11.000000000', 'files': ['neutron/conf/policies/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07b1e226366a6861ac785edd599b77c764801a9d', 'message': 'DNM Just test for the new secure rbac policies\n\nChange-Id: I828de77ff9d23c1df491722480920ab95059ca10\n'}]",0,839952,07b1e226366a6861ac785edd599b77c764801a9d,7,2,1,11975,,,0,"DNM Just test for the new secure rbac policies

Change-Id: I828de77ff9d23c1df491722480920ab95059ca10
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/839952/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/base.py'],1,07b1e226366a6861ac785edd599b77c764801a9d,secure-rbac,PROJECT_ADMIN = 'role:admin or (role:admin and project_id:%(project_id)s)'PROJECT_MEMBER = 'role:admin or (role:member and project_id:%(project_id)s)'PROJECT_READER = 'role:admin or (role:reader and project_id:%(project_id)s)',PROJECT_ADMIN = 'role:admin and project_id:%(project_id)s'PROJECT_MEMBER = 'role:member and project_id:%(project_id)s'PROJECT_READER = 'role:reader and project_id:%(project_id)s',3,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,openstack/tripleo-heat-templates,stable/victoria,Iedfb543f4a0f2adb02e696a5afa52693d3dcee37,Only run mysql upgrade commands when needed,ABANDONED,2022-06-15 14:38:52.000000000,2022-06-15 14:55:23.000000000,,[{'_account_id': 22954}],"[{'number': 1, 'created': '2022-06-15 14:38:52.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7867fcb9f6d712f4140c9a6e6bfb10efed13a3f0', 'message': 'Only run mysql upgrade commands when needed\n\nDuring upgrade tasks, a transient container performs\nmysql upgrades on disk. This action can fail if mysql\nhas been stopped improperly (leaving tc.log behind),\nand block further runs of upgrade tasks. To avoid that,\ndo no run mysql upgrade script if we detect that it has\nalready been done once for the current mysql version.\n\nTested by running a FFU once, stopping galera on a node,\nand rerunning ""overcloud upgrade run"".\n\nCloses-Bug: #1962770\nChange-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37\n(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)\n(cherry picked from commit 5c847345791e8cb56e7499b4e455de7bc61b5607)\n'}]",1,845999,7867fcb9f6d712f4140c9a6e6bfb10efed13a3f0,3,1,1,31245,,,0,"Only run mysql upgrade commands when needed

During upgrade tasks, a transient container performs
mysql upgrades on disk. This action can fail if mysql
has been stopped improperly (leaving tc.log behind),
and block further runs of upgrade tasks. To avoid that,
do no run mysql upgrade script if we detect that it has
already been done once for the current mysql version.

Tested by running a FFU once, stopping galera on a node,
and rerunning ""overcloud upgrade run"".

Closes-Bug: #1962770
Change-Id: Iedfb543f4a0f2adb02e696a5afa52693d3dcee37
(cherry picked from commit 309c89e90220db90bdcb43db6ce8fa98c6881d48)
(cherry picked from commit 5c847345791e8cb56e7499b4e455de7bc61b5607)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/845999/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,7867fcb9f6d712f4140c9a6e6bfb10efed13a3f0,," upgraded_ver=$(cat /var/lib/mysql/mysql_upgrade_info 2>/dev/null || true) mysql_ver=$(mysql --version | awk -F'[ ,]*' '{print $5}') if [ ""${upgraded_ver}"" = ""${mysql_ver}"" ]; then echo ""mysql already upgraded"" exit 0 fi",,6,0
openstack%2Fcharm-cinder-lvm~master~I7358d722c375bcbda927d8d0189b9f31af3cba62,openstack/charm-cinder-lvm,master,I7358d722c375bcbda927d8d0189b9f31af3cba62,"Update the bundles to use the stable track, edge risk for yoga",ABANDONED,2022-06-15 11:49:24.000000000,2022-06-15 14:46:30.000000000,,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 11:49:24.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-lvm/commit/021b54c17056db1f8115bd3c400ba16901a5ff13', 'message': 'Update the bundles to use the stable track, edge risk for yoga\n\nThe bundles for the yoga channel currently point to ""latest/edge""\nchannel for all the charms.  This update points the charms to the\nappropriate channel for the charm being used, either from ceph,\nopenstack, ovn or the misc tracks.\n\nChange-Id: I7358d722c375bcbda927d8d0189b9f31af3cba62\n'}]",1,845933,021b54c17056db1f8115bd3c400ba16901a5ff13,4,2,1,20870,,,0,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I7358d722c375bcbda927d8d0189b9f31af3cba62
",git fetch https://review.opendev.org/openstack/charm-cinder-lvm refs/changes/33/845933/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/focal-xena.yaml']",4,021b54c17056db1f8115bd3c400ba16901a5ff13,update-bundles-yoga, channel: 8.0/edge channel: 3.9/edge channel: yoga/edge channel: 8.0/edge channel: yoga/edge channel: 8.0/edge, channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,24,24
openstack%2Fneutron-tempest-plugin~master~Iad0b0f5c18753e61458244cfb8106944ad4d2dc3,openstack/neutron-tempest-plugin,master,Iad0b0f5c18753e61458244cfb8106944ad4d2dc3,DNM: Testing stadium jobs on jammy,ABANDONED,2022-05-11 14:19:56.000000000,2022-06-15 14:41:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-11 14:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6ceb1ef1037e5c6c5dcac97cc98a7dcc8a0fb555', 'message': 'DNM: Testing stadium jobs on jammy\n\nAdded\n- neutron-tempest-plugin-sfc-jammy\n- neutron-tempest-plugin-bgpvpn-bagpipe-jammy\n- neutron-tempest-plugin-dynamic-routing-jammy\n- neutron-tempest-plugin-fwaas-jammy\n- neutron-tempest-plugin-vpnaas-jammy\n- neutron-tempest-plugin-tap-as-a-service-jammy\nto see how stadiums work with jammy (ubuntu22.04)\n\nChange-Id: Iad0b0f5c18753e61458244cfb8106944ad4d2dc3\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839359\n'}, {'number': 2, 'created': '2022-05-11 14:40:32.000000000', 'files': ['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/60b9fff10463bd64836711c03fc650ef89553927', 'message': 'DNM: Testing stadium jobs on jammy\n\nAdded\n- neutron-tempest-plugin-sfc-jammy\n- neutron-tempest-plugin-bgpvpn-bagpipe-jammy\n- neutron-tempest-plugin-dynamic-routing-jammy\n- neutron-tempest-plugin-fwaas-jammy\n- neutron-tempest-plugin-vpnaas-jammy\n- neutron-tempest-plugin-tap-as-a-service-jammy\nto see how stadiums work with jammy (ubuntu22.04)\n\nChange-Id: Iad0b0f5c18753e61458244cfb8106944ad4d2dc3\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839359\n'}]",1,841435,60b9fff10463bd64836711c03fc650ef89553927,6,1,2,8313,,,0,"DNM: Testing stadium jobs on jammy

Added
- neutron-tempest-plugin-sfc-jammy
- neutron-tempest-plugin-bgpvpn-bagpipe-jammy
- neutron-tempest-plugin-dynamic-routing-jammy
- neutron-tempest-plugin-fwaas-jammy
- neutron-tempest-plugin-vpnaas-jammy
- neutron-tempest-plugin-tap-as-a-service-jammy
to see how stadiums work with jammy (ubuntu22.04)

Change-Id: Iad0b0f5c18753e61458244cfb8106944ad4d2dc3
Depends-On: https://review.opendev.org/c/openstack/devstack/+/839359
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/35/841435/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/master_jobs.yaml', 'zuul.d/project.yaml']",2,6ceb1ef1037e5c6c5dcac97cc98a7dcc8a0fb555,add-jammy2,# - neutron-tempest-plugin-jobs-victoria # - neutron-tempest-plugin-jobs-wallaby # - neutron-tempest-plugin-jobs-xena # - neutron-tempest-plugin-jobs-yoga# - neutron-tempest-plugin-sfc-victoria # - neutron-tempest-plugin-sfc-wallaby # - neutron-tempest-plugin-sfc-xena # - neutron-tempest-plugin-sfc-yoga# - neutron-tempest-plugin-bgpvpn-bagpipe-victoria # - neutron-tempest-plugin-bgpvpn-bagpipe-wallaby # - neutron-tempest-plugin-bgpvpn-bagpipe-xena # - neutron-tempest-plugin-bgpvpn-bagpipe-yoga# - neutron-tempest-plugin-dynamic-routing-victoria # - neutron-tempest-plugin-dynamic-routing-wallaby # - neutron-tempest-plugin-dynamic-routing-xena # - neutron-tempest-plugin-dynamic-routing-yoga# - neutron-tempest-plugin-vpnaas-victoria # - neutron-tempest-plugin-vpnaas-wallaby # - neutron-tempest-plugin-vpnaas-xena # - neutron-tempest-plugin-vpnaas-yoga# - neutron-tempest-plugin-tap-as-a-service-xena # - neutron-tempest-plugin-tap-as-a-service-yoga, - neutron-tempest-plugin-jobs-victoria - neutron-tempest-plugin-jobs-wallaby - neutron-tempest-plugin-jobs-xena - neutron-tempest-plugin-jobs-yoga - neutron-tempest-plugin-sfc-victoria - neutron-tempest-plugin-sfc-wallaby - neutron-tempest-plugin-sfc-xena - neutron-tempest-plugin-sfc-yoga - neutron-tempest-plugin-bgpvpn-bagpipe-victoria - neutron-tempest-plugin-bgpvpn-bagpipe-wallaby - neutron-tempest-plugin-bgpvpn-bagpipe-xena - neutron-tempest-plugin-bgpvpn-bagpipe-yoga - neutron-tempest-plugin-dynamic-routing-victoria - neutron-tempest-plugin-dynamic-routing-wallaby - neutron-tempest-plugin-dynamic-routing-xena - neutron-tempest-plugin-dynamic-routing-yoga - neutron-tempest-plugin-vpnaas-victoria - neutron-tempest-plugin-vpnaas-wallaby - neutron-tempest-plugin-vpnaas-xena - neutron-tempest-plugin-vpnaas-yoga - neutron-tempest-plugin-tap-as-a-service-xena - neutron-tempest-plugin-tap-as-a-service-yoga,52,22
openstack%2Fneutron~master~If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da,openstack/neutron,master,If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da,ovn: Bump OVN version to v22.03.0,ABANDONED,2021-11-18 16:02:58.000000000,2022-06-15 14:41:06.000000000,,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-18 16:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e8245346d0a65040462528fc92cf08babfc380f', 'message': ""ovn: Bump OVN version to 21.09.1\n\nThere's been a new minor version of OVN. In order to keep as close as\npossible to the new release this patch bumps the version to the latest\nstable.\n\nChange-Id: If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da\n""}, {'number': 2, 'created': '2022-03-29 20:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0539376cca39584392855388bf86124030cea52', 'message': ""ovn: Bump OVN version to v22.03.0\n\nThere's been a new minor version of OVN. In order to keep as close as\npossible to the new release this patch bumps the version to the latest\nstable.\n\nChange-Id: If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da\n""}, {'number': 3, 'created': '2022-04-01 14:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a75b91f908ac132e77452d3bcc52256349f1eb0', 'message': ""ovn: Bump OVN version to v22.03.0\n\nThere's been a new minor version of OVN. In order to keep as close as\npossible to the new release this patch bumps the version to the latest\nstable.\n\nChange-Id: If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da\n""}, {'number': 4, 'created': '2022-04-01 14:42:50.000000000', 'files': ['zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/044239b81e427e20cbb00511d3fa3b01ce1a9d4a', 'message': ""ovn: Bump OVN version to v22.03.0\n\nThere's been a new minor version of OVN. In order to keep as close as\npossible to the new release this patch bumps the version to the latest\nstable.\n\nChange-Id: If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da\n""}]",12,818418,044239b81e427e20cbb00511d3fa3b01ce1a9d4a,30,3,4,8655,,,0,"ovn: Bump OVN version to v22.03.0

There's been a new minor version of OVN. In order to keep as close as
possible to the new release this patch bumps the version to the latest
stable.

Change-Id: If7a9faa702412a5ac0eaf52e6a8e0e0fae22b4da
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/818418/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/grenade.yaml', 'zuul.d/base.yaml']",2,7e8245346d0a65040462528fc92cf08babfc380f,ovn-dep, OVN_BRANCH: v21.09.1, OVN_BRANCH: v21.06.0,3,3
openstack%2Fneutron~master~I3763945733d6bdf241854e1aa203ae4107d87f96,openstack/neutron,master,I3763945733d6bdf241854e1aa203ae4107d87f96,DNM: Testing jammy linuxbridge job,ABANDONED,2022-05-11 12:06:05.000000000,2022-06-15 14:41:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-11 12:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4c24bea7485a729a05674ef8e9e6b3d85faef00', 'message': 'DNM: Testing jammy linuxbridge job\n\nAdded neutron-linuxbridge-tempest-plugin-jammy-scenario-nftables and\nneutron-ovs-tempest-plugin-scenario-jammy-iptables_hybrid-nftables to\nexperimental queue to see how linuxbridge works with jammy (ubuntu22.04)\n\nChange-Id: I3763945733d6bdf241854e1aa203ae4107d87f96\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839359\n'}, {'number': 2, 'created': '2022-05-11 12:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a73182b3ee93f3d08dc7adee11b46e40059f628a', 'message': 'DNM: Testing jammy linuxbridge job\n\nAdded neutron-linuxbridge-tempest-plugin-jammy-scenario-nftables and\nneutron-ovs-tempest-plugin-scenario-jammy-iptables_hybrid-nftables to\nexperimental queue to see how linuxbridge works with jammy (ubuntu22.04)\n\nChange-Id: I3763945733d6bdf241854e1aa203ae4107d87f96\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839359\n'}, {'number': 3, 'created': '2022-05-11 12:31:42.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/965309857e77ada16f36803e93e2fa57dd89c846', 'message': 'DNM: Testing jammy linuxbridge job\n\nAdded neutron-linuxbridge-tempest-plugin-jammy-scenario-nftables and\nneutron-ovs-tempest-plugin-scenario-jammy-iptables_hybrid-nftables to\nexperimental queue to see how linuxbridge works with jammy (ubuntu22.04)\n\nChange-Id: I3763945733d6bdf241854e1aa203ae4107d87f96\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/839359\n'}]",3,841413,965309857e77ada16f36803e93e2fa57dd89c846,17,1,3,8313,,,0,"DNM: Testing jammy linuxbridge job

Added neutron-linuxbridge-tempest-plugin-jammy-scenario-nftables and
neutron-ovs-tempest-plugin-scenario-jammy-iptables_hybrid-nftables to
experimental queue to see how linuxbridge works with jammy (ubuntu22.04)

Change-Id: I3763945733d6bdf241854e1aa203ae4107d87f96
Depends-On: https://review.opendev.org/c/openstack/devstack/+/839359
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/841413/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/job-templates.yaml']",3,e4c24bea7485a729a05674ef8e9e6b3d85faef00,add-jammy2, - neutron-linuxbridge-tempest-plugin-jammy-scenario-nftables - neutron-ovs-tempest-plugin-scenario-jammy-iptables_hybrid-nftables, - neutron-functional - neutron-functional-with-uwsgi-fips - neutron-functional-with-uwsgi-with-neutron-lib-master - neutron-fullstack - neutron-fullstack-with-uwsgi-fips - neutron-fullstack-with-uwsgi-with-neutron-lib-master - neutron-ovn-grenade-multinode - neutron-ovn-grenade-multinode-tick-tick: voting: false - neutron-ovn-tempest-with-uwsgi-loki - neutron-ovn-tempest-full-multinode-ovs-master - neutron-ovn-tempest-ovs-master - neutron-ovn-tempest-with-neutron-lib-master - neutron-ovs-tempest-with-neutron-lib-master - neutron-ovs-tempest-slow - neutron-ovn-tempest-slow - neutron-ovs-tempest-with-os-ken-master - neutron-ovn-tempest-postgres-full - neutron-ovn-tempest-mariadb-full - neutron-ovn-tempest-ovs-release - neutron-ovn-tempest-ovs-release-ipv6-only - neutron-ovn-tempest-ovs-master-fedora - neutron-ovn-tempest-with-neutron-lib-master - neutron-ovs-tempest-fips - neutron-ovn-tempest-ovs-release-fips - devstack-tobiko-neutron: voting: true - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa - openstacksdk-functional-devstack-networking - tripleo-ci-centos-9-content-provider - neutron-centos-9-tripleo-standalone: voting: true vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &consumer_deps - tripleo-ci-centos-9-content-provider - neutron-ovn-tripleo-ci-centos-9-containers-multinode: vars: *consumer_vars dependencies: *consumer_deps - devstack-enforce-scope,40,57
openstack%2Fneutron-fwaas~master~I38f40abab7b4fc28c65c42ba716073114b49a6cf,openstack/neutron-fwaas,master,I38f40abab7b4fc28c65c42ba716073114b49a6cf,add ovn driver,ABANDONED,2022-04-06 05:56:33.000000000,2022-06-15 14:40:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 28056}]","[{'number': 1, 'created': '2022-04-06 05:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6522e37555122442a6cdeaa385cc675a245a8592', 'message': 'add ovn driver\n\nChange-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf\n'}, {'number': 2, 'created': '2022-04-06 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/279f547cec1d685e1304f36173b36c611949d23b', 'message': 'add ovn driver\n\nChange-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf\n'}, {'number': 3, 'created': '2022-04-08 09:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/aeb8ccc556ddc3b336cdc700a8b4127c219ea3ff', 'message': 'add ovn driver\n\nChange-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf\n'}, {'number': 4, 'created': '2022-04-11 09:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/342bec70dbb8191c19a437d2db94bb75321c5144', 'message': 'add ovn driver\n\nChange-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf\n'}, {'number': 5, 'created': '2022-04-26 01:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c99190dccc74a6f603a39e93e27113f33564da6f', 'message': 'add ovn driver\n\nChange-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf\n'}, {'number': 6, 'created': '2022-05-05 01:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7541ea6afe7bfc33ca7b03598d82580a2667fa77', 'message': 'add ovn driver\n\nChange-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf\n'}, {'number': 7, 'created': '2022-05-05 01:03:43.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/ovn/fwaas_driver.py', 'neutron_fwaas/services/firewall/service_drivers/ovn/__init__.py', 'neutron_fwaas/services/firewall/service_drivers/ovn/ovsdb/commands.py', 'neutron_fwaas/services/firewall/service_drivers/ovn/ovsdb/__init__.py', 'neutron_fwaas/common/exceptions.py', 'neutron_fwaas/services/firewall/service_drivers/ovn/ovsdb/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e53a6dabfec59823cbe69a0dca18b84de333b202', 'message': 'add ovn driver\n\nChange-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf\n'}]",18,836729,e53a6dabfec59823cbe69a0dca18b84de333b202,19,2,7,30380,,,0,"add ovn driver

Change-Id: I38f40abab7b4fc28c65c42ba716073114b49a6cf
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/29/836729/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/service_drivers/ovn/__init__.py'],1,6522e37555122442a6cdeaa385cc675a245a8592,fwaas-ovn-driver, ,,1,0
openstack%2Fpython-manilaclient~master~Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610,openstack/python-manilaclient,master,Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610,Add support for --export-location filtering when listing shares,MERGED,2022-05-26 10:46:54.000000000,2022-06-15 14:36:41.000000000,2022-06-15 14:35:17.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2022-05-26 10:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/8da7a54499b588c8c60d68a7e91505c661dc280f', 'message': 'Add support for --export-location filtering when listing shares\n\nThis patch adds support for filtering with either share export\nLocation ID or Path when listing shares.\n\nChange-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610\n'}, {'number': 2, 'created': '2022-05-30 10:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d7cea8173614f6a79d332d189c672146559e6746', 'message': 'Add support for --export-location filtering when listing shares\n\nThis patch adds support for filtering with either share export\nLocation ID or Path when listing shares.\n\nChange-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610\n'}, {'number': 3, 'created': '2022-06-02 09:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/c553efa3292db225c2d6261afff8eda8ae7f2f01', 'message': 'Add support for --export-location filtering when listing shares\n\nThis patch adds support for filtering with either share export\nLocation ID or Path when listing shares.\n\nChange-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610\n'}, {'number': 4, 'created': '2022-06-06 07:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/373bda885c1fe413a452cd76baa0ea7efd7cf42d', 'message': 'Add support for --export-location filtering when listing shares\n\nThis patch adds support for filtering with either share export\nLocation ID or Path when listing shares.\n\nChange-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610\n'}, {'number': 5, 'created': '2022-06-06 10:01:30.000000000', 'files': ['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/bedefd0a7b1fc67e32617acacef795b7d3ec2e12', 'message': 'Add support for --export-location filtering when listing shares\n\nThis patch adds support for filtering with either share export\nLocation ID or Path when listing shares.\n\nChange-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610\n'}]",27,843428,bedefd0a7b1fc67e32617acacef795b7d3ec2e12,23,4,5,34123,,,0,"Add support for --export-location filtering when listing shares

This patch adds support for filtering with either share export
Location ID or Path when listing shares.

Change-Id: Ic6c0bb736bcbe196f8ce7cf4b6c2075071040610
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/28/843428/4 && git format-patch -1 --stdout FETCH_HEAD,['manilaclient/osc/v2/share.py'],1,8da7a54499b588c8c60d68a7e91505c661dc280f,bp/openstack-client-support," 'export_location_id', 'export_location_path', 'Export Location ID', 'Eport Location Path', '--export_location', metavar='<export-location-id-or-path>', help=_('Filter shares by export location id or path.'), ) parser.add_argument( export_location_id = None if parsed_args.export_location: export_location_id = apiutils.find_resource( share_client.export_locations, parsed_args.export_location).id export_location_path = None if parsed_args.export_location: export_location_path = apiutils.find_resource( share_client.export_locations, parsed_agrs.export_location).path 'export_location_id': export_location_id, 'export_location_path': export_location_path,",,23,0
openstack%2Ftripleo-ci~master~Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd,openstack/tripleo-ci,master,Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd,Create sc010 and sc010-ovn-provider -options jobs,ABANDONED,2022-06-15 14:26:26.000000000,2022-06-15 14:26:58.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2022-06-15 14:26:26.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/deprecated-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/99a706dfd8e3b461766514c450b947c12cabc042', 'message': 'Create sc010 and sc010-ovn-provider -options jobs\n\nThis patch created sc010 and sc010-ovn-provider options jobs.\n\nTest patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950\nChange-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1\n\nChange-Id: Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd\n'}]",0,845996,99a706dfd8e3b461766514c450b947c12cabc042,3,1,1,8449,,,0,"Create sc010 and sc010-ovn-provider -options jobs

This patch created sc010 and sc010-ovn-provider options jobs.

Test patch is here: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/844950
Change-Id: Ifc2a5d5ee354aeb9078217a345e64932bd4a3df1

Change-Id: Ie5b2f579aa38c4b5290b2d19e8e75485fd596ebd
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/96/845996/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/standalone-jobs.yaml', 'zuul.d/base.yaml', 'zuul.d/deprecated-jobs.yaml']",3,99a706dfd8e3b461766514c450b947c12cabc042,create-sc010-options-job, - job: name: tripleo-ci-centos-8-scenario010-standalone-base parent: tripleo-ci-base-standalone-centos-8 nodeset: single-centos-8-node-nested-virt abstract: true ,,105,72
openstack%2Fopenstack-ansible~master~I346d0df95dfc04cf830b5b1ff6503270d6cb0b85,openstack/openstack-ansible,master,I346d0df95dfc04cf830b5b1ff6503270d6cb0b85,Add log collection from /etc/ironic-inspector,MERGED,2022-06-15 07:48:50.000000000,2022-06-15 14:25:06.000000000,2022-06-15 14:22:43.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-15 07:48:50.000000000', 'files': ['scripts/log-collect.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/42dc0971300a573f37c6ff98faec3a689d30f03f', 'message': 'Add log collection from /etc/ironic-inspector\n\nThe dnsmasq config file is in this directory.\n\nChange-Id: I346d0df95dfc04cf830b5b1ff6503270d6cb0b85\n'}]",0,845891,42dc0971300a573f37c6ff98faec3a689d30f03f,8,3,1,25023,,,0,"Add log collection from /etc/ironic-inspector

The dnsmasq config file is in this directory.

Change-Id: I346d0df95dfc04cf830b5b1ff6503270d6cb0b85
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/91/845891/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/log-collect.sh'],1,42dc0971300a573f37c6ff98faec3a689d30f03f,, ironic-inspector \,,1,0
openstack%2Fnova~stable%2Ftrain~Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,openstack/nova,stable/train,Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd,Add generic reproducer for bug #1879878,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:15:43.000000000,2022-06-15 14:10:34.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-11 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2da433e7e4dcbf4032d80dbce4b5b969db1a7c7', 'message': ""Add generic reproducer for bug #1879878\n\nNo need for the libvirt driver in all its complexity here.\n\nChanges:\n  nova/tests/functional/regressions/test_bug_1879878.py\n\nNOTE(stephenfin): The '_create_server' and '_delete_server' helpers\ndon't exist here, so we need to use the older helpers like\n'_build_minimal_create_server_request'. Also, we need to support Python\n2 here so we can't use 'super' without arguments :(\n\nChange-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit e1adbced92453329f7285ec38c1dc7821ebb52c7)\n(cherry picked from commit 15da841ecb6cc6152f5e6dbcd63bf09725cac6fc)\n""}, {'number': 2, 'created': '2020-09-14 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7af867c699ef9d4b34a18d86e5bfcef7a5f6b8e3', 'message': ""Add generic reproducer for bug #1879878\n\nNo need for the libvirt driver in all its complexity here.\n\nChanges:\n  nova/tests/functional/regressions/test_bug_1879878.py\n\nNOTE(stephenfin): The '_create_server' and '_delete_server' helpers\ndon't exist here, so we need to use the older helpers like\n'_build_minimal_create_server_request'. Also, we need to support Python\n2 here so we can't use 'super' without arguments :(\n\nChange-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit e1adbced92453329f7285ec38c1dc7821ebb52c7)\n(cherry picked from commit 15da841ecb6cc6152f5e6dbcd63bf09725cac6fc)\n""}, {'number': 3, 'created': '2021-02-04 17:13:23.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1879878.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6d8d2cb24af123c64e65d30988c9b74c0191075b', 'message': ""Add generic reproducer for bug #1879878\n\nNo need for the libvirt driver in all its complexity here.\n\nChanges:\n  nova/tests/functional/regressions/test_bug_1879878.py\n\nNOTE(stephenfin): The '_create_server' and '_delete_server' helpers\ndon't exist here, so we need to use the older helpers like\n'_build_minimal_create_server_request'. Also, we need to support Python\n2 here so we can't use 'super' without arguments :(\n\nChange-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit e1adbced92453329f7285ec38c1dc7821ebb52c7)\n(cherry picked from commit 15da841ecb6cc6152f5e6dbcd63bf09725cac6fc)\n""}]",1,751366,6d8d2cb24af123c64e65d30988c9b74c0191075b,25,7,3,15334,,,0,"Add generic reproducer for bug #1879878

No need for the libvirt driver in all its complexity here.

Changes:
  nova/tests/functional/regressions/test_bug_1879878.py

NOTE(stephenfin): The '_create_server' and '_delete_server' helpers
don't exist here, so we need to use the older helpers like
'_build_minimal_create_server_request'. Also, we need to support Python
2 here so we can't use 'super' without arguments :(

Change-Id: Ifea9a15fb01c0b25e9973024f4f61faecc56e1cd
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit e1adbced92453329f7285ec38c1dc7821ebb52c7)
(cherry picked from commit 15da841ecb6cc6152f5e6dbcd63bf09725cac6fc)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/751366/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1879878.py'],1,d2da433e7e4dcbf4032d80dbce4b5b969db1a7c7,bug/1879878,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt from nova.compute import resource_tracker as rt from nova import context as nova_context from nova import objects from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image @ddt.ddt class TestColdMigrationUsage(integrated_helpers.ProviderUsageBaseTestCase): """"""Reproducer for bug #1879878. Demonstrate the possibility of races caused by running the resource tracker's periodic task between marking a migration as confirmed or reverted and dropping the claim for that migration on the source or destination host, respectively. """""" compute_driver = 'fake.MediumFakeDriver' def setUp(self): super(TestColdMigrationUsage, self).setUp() # Start two computes so we can migrate between them. self._start_compute('host1') self._start_compute('host2') self.ctxt = nova_context.get_admin_context() def _create_server(self): """"""Creates and return a server along with a source host and target host. """""" server = self._build_minimal_create_server_request( self.api, 'test-server', image_uuid=fake_image.get_valid_image_id(), networks='none') server = self.api.post_server({'server': server}) self.addCleanup(self.api.delete_server, server['id']) server = self._wait_for_state_change(self.api, server, 'ACTIVE') source_host = server['OS-EXT-SRV-ATTR:host'] target_host = 'host2' if source_host == 'host1' else 'host1' return server, source_host, target_host def assertUsage(self, hostname, usage): """"""Assert VCPU usage for the given host."""""" cn = objects.ComputeNode.get_by_nodename(self.ctxt, hostname) # we could test anything, but vcpu is easy to grok self.assertEqual(cn.vcpus_used, usage) @ddt.data(True, False) def test_migrate_confirm(self, drop_race): server, src_host, dst_host = self._create_server() # only one instance created, so usage on its host self.assertUsage(src_host, 1) self.assertUsage(dst_host, 0) orig_drop_claim = rt.ResourceTracker.drop_move_claim def fake_drop_move_claim(*args, **kwargs): # run periodics after marking the migration confirmed, simulating a # race between the doing this and actually dropping the claim # check the usage, which should show usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) if drop_race: self._run_periodics() # FIXME(stephenfin): the periodic should not have dropped the # records for the src yet self.assertUsage(src_host, 0) self.assertUsage(dst_host, 1) return orig_drop_claim(*args, **kwargs) self.stub_out( 'nova.compute.resource_tracker.ResourceTracker.drop_move_claim', fake_drop_move_claim, ) # TODO(stephenfin): Use a helper self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') # migration isn't complete so we should have usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) self._confirm_resize(server) # migration is now confirmed so we should once again only have usage on # one host # FIXME(stephenfin): Our usage here should be 0 and 1 for source and # dest respectively when confirming, but that won't happen until we run # the periodic and rebuild our inventory from scratch self.assertUsage(src_host, -1 if drop_race else 0) self.assertUsage(dst_host, 1) # running periodics shouldn't change things self._run_periodics() self.assertUsage(src_host, 0) self.assertUsage(dst_host, 1) @ddt.data(True, False) def test_migrate_revert(self, drop_race): server, src_host, dst_host = self._create_server() # only one instance created, so usage on its host self.assertUsage(src_host, 1) self.assertUsage(dst_host, 0) orig_drop_claim = rt.ResourceTracker.drop_move_claim def fake_drop_move_claim(*args, **kwargs): # run periodics after marking the migration reverted, simulating a # race between the doing this and actually dropping the claim # check the usage, which should show usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) if drop_race: self._run_periodics() # FIXME(stephenfin): the periodic should not have dropped the # records for the src self.assertUsage(src_host, 0) self.assertUsage(dst_host, 1) return orig_drop_claim(*args, **kwargs) self.stub_out( 'nova.compute.resource_tracker.ResourceTracker.drop_move_claim', fake_drop_move_claim, ) # TODO(stephenfin): Use a helper self.api.post_server_action(server['id'], {'migrate': None}) self._wait_for_state_change(self.api, server, 'VERIFY_RESIZE') # migration isn't complete so we should have usage on both hosts self.assertUsage(src_host, 1) self.assertUsage(dst_host, 1) self._revert_resize(server) # migration is now reverted so we should once again only have usage on # one host # FIXME(stephenfin): Our usage here should always be 1 and 0 for source # and dest respectively when reverting, but that won't happen until we # run the periodic and rebuild our inventory from scratch self.assertUsage(src_host, 0 if drop_race else 1) self.assertUsage(dst_host, 1 if drop_race else 0) # running periodics shouldn't change things self._run_periodics() self.assertUsage(src_host, 1) self.assertUsage(dst_host, 0) ",,173,0
openstack%2Fnova~stable%2Ftrain~I56d3cb17260dad8b88f03c0a7b9688efb3258d6f,openstack/nova,stable/train,I56d3cb17260dad8b88f03c0a7b9688efb3258d6f,Only allow one scheduler service in tests,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:14:08.000000000,2022-06-15 14:10:05.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-09-11 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39b37ea234b766c7feb5c027e4b79035b0e011a1', 'message': ""Only allow one scheduler service in tests\n\nThere have been two recent issues [1][2] caused by starting multiple\ninstances of the same service in tests. This can cause races when the\nservices' (shared) state conflicts.\n\nWith this patch, the nexus of nova service starting,\nnova.test.TestCase.start_service, is instrumented to keep track of how\nmany of each service we are running. If we try to run the scheduler\nservice more than once, we fail.\n\nWe could probably do the same thing for conductor, though that's less\nimportant (for now) because conductor is stateless (for now).\n\n[1] https://bugs.launchpad.net/nova/+bug/1844174\n[2] https://review.opendev.org/#/c/681059/ (not a nova service, but same\nclass of problem)\n\nChange-Id: I56d3cb17260dad8b88f03c0a7b9688efb3258d6f\n(cherry picked from commit fe05d004b51dc9801749b0f5572e1a2392004830)\n""}, {'number': 2, 'created': '2021-02-04 17:13:23.000000000', 'files': ['nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bc30d78a5d22720b8bd739b1e6667332f2484d40', 'message': ""Only allow one scheduler service in tests\n\nThere have been two recent issues [1][2] caused by starting multiple\ninstances of the same service in tests. This can cause races when the\nservices' (shared) state conflicts.\n\nWith this patch, the nexus of nova service starting,\nnova.test.TestCase.start_service, is instrumented to keep track of how\nmany of each service we are running. If we try to run the scheduler\nservice more than once, we fail.\n\nWe could probably do the same thing for conductor, though that's less\nimportant (for now) because conductor is stateless (for now).\n\n[1] https://bugs.launchpad.net/nova/+bug/1844174\n[2] https://review.opendev.org/#/c/681059/ (not a nova service, but same\nclass of problem)\n\nChange-Id: I56d3cb17260dad8b88f03c0a7b9688efb3258d6f\n(cherry picked from commit fe05d004b51dc9801749b0f5572e1a2392004830)\n""}]",1,751362,bc30d78a5d22720b8bd739b1e6667332f2484d40,17,9,2,15334,,,0,"Only allow one scheduler service in tests

There have been two recent issues [1][2] caused by starting multiple
instances of the same service in tests. This can cause races when the
services' (shared) state conflicts.

With this patch, the nexus of nova service starting,
nova.test.TestCase.start_service, is instrumented to keep track of how
many of each service we are running. If we try to run the scheduler
service more than once, we fail.

We could probably do the same thing for conductor, though that's less
important (for now) because conductor is stateless (for now).

[1] https://bugs.launchpad.net/nova/+bug/1844174
[2] https://review.opendev.org/#/c/681059/ (not a nova service, but same
class of problem)

Change-Id: I56d3cb17260dad8b88f03c0a7b9688efb3258d6f
(cherry picked from commit fe05d004b51dc9801749b0f5572e1a2392004830)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/751362/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/test.py'],1,39b37ea234b766c7feb5c027e4b79035b0e011a1,bug/1879878,"import collections # How many of which service we've started. {$service-name: $count} self._service_fixture_count = collections.defaultdict(int) # Disallow starting multiple scheduler services if name == 'scheduler' and self._service_fixture_count[name]: raise TestingException(""Duplicate start_service(%s)!"" % name) # Keep track of how many instances of this service are running. self._service_fixture_count[name] += 1 real_stop = svc.service.stop # Make sure stopping the service decrements the active count, so that # start,stop,start doesn't trigger the ""Duplicate start_service"" # exception. def patch_stop(*a, **k): self._service_fixture_count[name] -= 1 return real_stop(*a, **k) self.useFixture(fixtures.MockPatchObject( svc.service, 'stop', patch_stop)) ",,21,0
openstack%2Ftempest~master~I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5,openstack/tempest,master,I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5,Add py310 job in gate,MERGED,2022-03-04 21:28:08.000000000,2022-06-15 14:13:53.000000000,2022-06-15 14:09:08.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 33493}]","[{'number': 1, 'created': '2022-03-04 21:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ccf2f8a86b0255cac3fe6be30658ddcd465adf07', 'message': ""Add py310 job as non voting in gate\n\nAs 3.10 is next python version we will be testing in\nnext cycle (after Zed), let's add it as non-voting and\nwe can fix the things in advance.\n\nChange-Id: I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5\n""}, {'number': 2, 'created': '2022-05-20 19:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bfac787477ab45a638db8d4120387f49879c4ce1', 'message': ""Add py310 job in gate\n\nAs 3.10 is next python version we will be testing in\nnext cycle (after Zed), let's add it in our testing in advance.\n\nChange-Id: I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5\n""}, {'number': 3, 'created': '2022-05-31 17:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc6e7c31d3829d895f688811eb7f4a64592fb4e6', 'message': ""Add py310 job in gate\n\nAs 3.10 is next python version we will be testing in\nnext cycle (after Zed), let's add it in our testing in advance.\n\nChange-Id: I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5\n""}, {'number': 4, 'created': '2022-06-03 19:57:03.000000000', 'files': ['bindep.txt', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/78f5439b7343b4e8591c61ddb96b6905e7baba57', 'message': ""Add py310 job in gate\n\nAs 3.10 is next python version we will be testing in\nnext cycle (after Zed), let's add it in our testing in advance.\n\nChange-Id: I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5\n""}]",3,832144,78f5439b7343b4e8591c61ddb96b6905e7baba57,19,5,4,8556,,,0,"Add py310 job in gate

As 3.10 is next python version we will be testing in
next cycle (after Zed), let's add it in our testing in advance.

Change-Id: I1d60c21473c7b657a3f4ad57525c4561f2cfcfd5
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/832144/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ccf2f8a86b0255cac3fe6be30658ddcd465adf07,, - openstack-tox-py310 - openstack-tox-py310,,2,0
openstack%2Fnova~stable%2Ftrain~Ie092628ac71eb87c9dfa7220255a2953ada9e04d,openstack/nova,stable/train,Ie092628ac71eb87c9dfa7220255a2953ada9e04d,tests: Add reproducer for bug #1879878,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:28.000000000,2022-06-15 14:10:28.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-11 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fa5e5204bc60c099c88e38ff8f1a830022f870f', 'message': ""tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nIt appears there is a potential race between the resource tracker's\nperiodic task and the freeing of these resources, resulting in attempts\nto unpin host cores that have already been unpinned. This test\nhighlights that bug pending a fix.\n\nChanges:\n  nova/tests/functional/libvirt/test_numa_servers.py\n\nNOTE(stephenfin): We don't yet have the '_create_server' helper or the\nmore sensible '_wait_for_state_change' behavior on 'stable/train', so we\nhave to revert to '_build_server' and checking for the state before the\none we want.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n(cherry picked from commit 10f0a42de162c90c701f70c9c28dc31bfada87db)\n(cherry picked from commit 8ffaac493288c73badfa4f1ec6021ecb4f3137b7)\n""}, {'number': 2, 'created': '2020-09-14 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df5c705f5fa8abb1ddbc9fd09644d7affc56e908', 'message': ""tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nIt appears there is a potential race between the resource tracker's\nperiodic task and the freeing of these resources, resulting in attempts\nto unpin host cores that have already been unpinned. This test\nhighlights that bug pending a fix.\n\nChanges:\n  nova/tests/functional/libvirt/test_numa_servers.py\n\nNOTE(stephenfin): We don't yet have the '_create_server' helper or the\nmore sensible '_wait_for_state_change' behavior on 'stable/train', so we\nhave to revert to '_build_server' and checking for the state before the\none we want.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n(cherry picked from commit 10f0a42de162c90c701f70c9c28dc31bfada87db)\n(cherry picked from commit 8ffaac493288c73badfa4f1ec6021ecb4f3137b7)\n""}, {'number': 3, 'created': '2021-02-04 17:13:23.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9f789caded517b5503e6728c3c5859fb5525ad39', 'message': ""tests: Add reproducer for bug #1879878\n\nWhen one resizes a pinned instance, the instance claims host CPUs for\npinning purposes on the destination. However, the host CPUs on the\nsource are not immediately relinquished. Rather, they are held by the\nmigration record, to handle the event that the resize is reverted. It is\nonly when one confirms this resize that the old cores are finally\nrelinquished.\n\nIt appears there is a potential race between the resource tracker's\nperiodic task and the freeing of these resources, resulting in attempts\nto unpin host cores that have already been unpinned. This test\nhighlights that bug pending a fix.\n\nChanges:\n  nova/tests/functional/libvirt/test_numa_servers.py\n\nNOTE(stephenfin): We don't yet have the '_create_server' helper or the\nmore sensible '_wait_for_state_change' behavior on 'stable/train', so we\nhave to revert to '_build_server' and checking for the state before the\none we want.\n\nChange-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1879878\n(cherry picked from commit 10f0a42de162c90c701f70c9c28dc31bfada87db)\n(cherry picked from commit 8ffaac493288c73badfa4f1ec6021ecb4f3137b7)\n""}]",1,751365,9f789caded517b5503e6728c3c5859fb5525ad39,24,7,3,15334,,,0,"tests: Add reproducer for bug #1879878

When one resizes a pinned instance, the instance claims host CPUs for
pinning purposes on the destination. However, the host CPUs on the
source are not immediately relinquished. Rather, they are held by the
migration record, to handle the event that the resize is reverted. It is
only when one confirms this resize that the old cores are finally
relinquished.

It appears there is a potential race between the resource tracker's
periodic task and the freeing of these resources, resulting in attempts
to unpin host cores that have already been unpinned. This test
highlights that bug pending a fix.

Changes:
  nova/tests/functional/libvirt/test_numa_servers.py

NOTE(stephenfin): We don't yet have the '_create_server' helper or the
more sensible '_wait_for_state_change' behavior on 'stable/train', so we
have to revert to '_build_server' and checking for the state before the
one we want.

Change-Id: Ie092628ac71eb87c9dfa7220255a2953ada9e04d
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1879878
(cherry picked from commit 10f0a42de162c90c701f70c9c28dc31bfada87db)
(cherry picked from commit 8ffaac493288c73badfa4f1ec6021ecb4f3137b7)
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/751365/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,9fa5e5204bc60c099c88e38ff8f1a830022f870f,bug/1879878,"import nova def test_resize_bug_1879878(self): """"""Resize a instance with a NUMA topology when confirm takes time. Bug 1879878 describes a race between the periodic tasks of the resource tracker and the libvirt virt driver. The virt driver expects to be the one doing the unpinning of instances, however, the resource tracker is stepping on the virt driver's toes. """""" self.flags( cpu_dedicated_set='0-3', cpu_shared_set='4-7', group='compute') self.flags(vcpu_pin_set=None) orig_confirm = nova.virt.libvirt.driver.LibvirtDriver.confirm_migration def fake_confirm_migration(*args, **kwargs): # run periodics before finally running the confirm_resize routine, # simulating a race between the resource tracker and the virt # driver self._run_periodics() # then inspect the ComputeNode objects for our two hosts src_numa_topology = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, src_host, ).numa_topology, ) dst_numa_topology = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, dst_host, ).numa_topology, ) # FIXME(stephenfin): There should still be two pinned cores here self.assertEqual(0, len(src_numa_topology.cells[0].pinned_cpus)) self.assertEqual(2, len(dst_numa_topology.cells[0].pinned_cpus)) # before continuing with the actualy confirm process return orig_confirm(*args, **kwargs) self.stub_out( 'nova.virt.libvirt.driver.LibvirtDriver.confirm_migration', fake_confirm_migration, ) # start services self.start_computes(save_rp_uuids=True) # create server flavor_a_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) server = self.api.post_server( {'server': self._build_server(flavor_a_id)} ) server = self._wait_for_state_change(server, 'BUILD') src_host = server['OS-EXT-SRV-ATTR:host'] # we don't really care what the new flavor is, so long as the old # flavor is using pinning. We use a similar flavor for simplicity. flavor_b_id = self._create_flavor( vcpu=2, extra_spec={'hw:cpu_policy': 'dedicated'}) # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch( 'nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}', ): # TODO(stephenfin): Replace with a helper post = {'resize': {'flavorRef': flavor_b_id}} self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'VERIFY_RESIZE') dst_host = server['OS-EXT-SRV-ATTR:host'] # Now confirm the resize # FIXME(stephenfin): This should be successful, but it's failing with a # HTTP 500 due to bug #1879878 post = {'confirmResize': None} exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc)) ",,86,0
openstack%2Fnova~stable%2Ftrain~Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,openstack/nova,stable/train,Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f,Helper to start computes with different HostInfos,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:20.000000000,2022-06-15 14:10:20.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27419}, {'_account_id': 29963}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-09-11 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bcb308eae35665e782dbc400eff1fa5e32caf3e', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). In the future this will also be needed by both NUMA-aware\nlive migration functional tests and a regression test for bug 1843639.\nThis patch adds a helper function to the base libvirt function test\nclass that takes a hostname to HostInfo dict and starts a compute for\neach host. Existing tests that can make use of this new helper are\nrefactored.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)\n'}, {'number': 2, 'created': '2020-09-14 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0cb1de34f52cecdc6b7b9b76d07c8b6ce235d39', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). In the future this will also be needed by both NUMA-aware\nlive migration functional tests and a regression test for bug 1843639.\nThis patch adds a helper function to the base libvirt function test\nclass that takes a hostname to HostInfo dict and starts a compute for\neach host. Existing tests that can make use of this new helper are\nrefactored.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)\n'}, {'number': 3, 'created': '2020-12-22 09:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc98f0616cf75ff4290875a38c29b0acd1ba5fab', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). In the future this will also be needed by both NUMA-aware\nlive migration functional tests and a regression test for bug 1843639.\nThis patch adds a helper function to the base libvirt function test\nclass that takes a hostname to HostInfo dict and starts a compute for\neach host. Existing tests that can make use of this new helper are\nrefactored.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)\n'}, {'number': 4, 'created': '2020-12-22 11:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5428f759898b4fa68dd7be5e9986e3df1bccdcde', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). In the future this will also be needed by both NUMA-aware\nlive migration functional tests and a regression test for bug 1843639.\nThis patch adds a helper function to the base libvirt function test\nclass that takes a hostname to HostInfo dict and starts a compute for\neach host. Existing tests that can make use of this new helper are\nrefactored.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)\n'}, {'number': 5, 'created': '2021-02-04 17:13:23.000000000', 'files': ['nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/29ee5984f88b23383d680454c5a106d9c52721bb', 'message': 'Helper to start computes with different HostInfos\n\nSometimes functional tests need to start multiple compute hosts with\ndifferent HostInfo objects (representing, for example, different NUMA\ntopologies). In the future this will also be needed by both NUMA-aware\nlive migration functional tests and a regression test for bug 1843639.\nThis patch adds a helper function to the base libvirt function test\nclass that takes a hostname to HostInfo dict and starts a compute for\neach host. Existing tests that can make use of this new helper are\nrefactored.\n\nChange-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f\n(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)\n'}]",1,751364,29ee5984f88b23383d680454c5a106d9c52721bb,24,9,5,15334,,,0,"Helper to start computes with different HostInfos

Sometimes functional tests need to start multiple compute hosts with
different HostInfo objects (representing, for example, different NUMA
topologies). In the future this will also be needed by both NUMA-aware
live migration functional tests and a regression test for bug 1843639.
This patch adds a helper function to the base libvirt function test
class that takes a hostname to HostInfo dict and starts a compute for
each host. Existing tests that can make use of this new helper are
refactored.

Change-Id: Id3f77c4ecccfdc4caa6dbf120c3df4fbdfce9d0f
(cherry picked from commit 607307c1d8a5a7fbcae96ddbb4cf8e944f46f42b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/751364/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/base.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,5bcb308eae35665e782dbc400eff1fa5e32caf3e,bug/1879878, self.start_computes(save_rp_uuids=True) self.start_computes(save_rp_uuids=True) self.start_computes(save_rp_uuids=True)," host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) self.computes = {} self.compute_rp_uuids = {} for host in ['test_compute0', 'test_compute1']: fake_connection = self._get_connection( host_info=host_info, hostname=host) # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute # and save the UUIDs for the corresponding resource providers self.compute_rp_uuids[host] = self.placement_api.get( '/resource_providers?name=%s' % host).body[ 'resource_providers'][0]['uuid'] self.computes = {} self.compute_rp_uuids = {} for host in ['test_compute0', 'test_compute1']: fake_connection = self._get_connection( host_info=host_info, hostname=host) # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute # and save the UUIDs for the corresponding resource providers self.compute_rp_uuids[host] = self.placement_api.get( '/resource_providers?name=%s' % host).body[ 'resource_providers'][0]['uuid'] host_info = fakelibvirt.HostInfo(cpu_nodes=2, cpu_sockets=1, cpu_cores=2, cpu_threads=2, kB_mem=15740000) self.computes = {} for host in ['test_compute0', 'test_compute1']: fake_connection = self._get_connection( host_info=host_info, hostname=host) # This is fun. Firstly we need to do a global'ish mock so we can # actually start the service. with mock.patch('nova.virt.libvirt.host.Host.get_connection', return_value=fake_connection): compute = self.start_service('compute', host=host) # Once that's done, we need to do some tweaks to each individual # compute ""service"" to make sure they return unique objects compute.driver._host.get_connection = lambda: fake_connection self.computes[host] = compute",56,64
openstack%2Fnova~stable%2Ftrain~I33d8ac0a1cae0b2d275a21287d5e44c008a68122,openstack/nova,stable/train,I33d8ac0a1cae0b2d275a21287d5e44c008a68122,func tests: move _run_periodics() into base class,MERGED,2020-09-11 17:20:55.000000000,2022-06-15 14:10:12.000000000,2022-06-15 14:10:12.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-11 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2250d9ae8dfeca1c5838dbb4bb2939dc795fcc9c', 'message': ""func tests: move _run_periodics() into base class\n\nThere are two almost identical implementations of the _run_periodics()\nhelper - and a third one would have joined them in a subsequent patch,\nif not for this patch. This patch moves the _run_periodics() to the\nbase test class. In addition, _run_periodics() depends on the\nself.computes dict used for compute service tracking. The method that\npopulates that dict, _start_compute(), is therefore also moved to the\nbase class.\n\nThis enables some light refactoring of existing tests that need\neither the _run_periodics() helper, or the compute service tracking.\n\nIn addition, a needless override of _start_compute() in\ntest_aggregates that provided no added value is removed. This is done\nto avoid any potential confusion around _start_compute()'s role.\n\nConflicts:\n  nova/tests/functional/compute/test_cache_image.py\n  nova/tests/functional/integrated_helpers.py\n  nova/tests/functional/test_scheduler.py\n\nNOTE(stephenfin): Conflicts are due to some the two test files not\nexisting yet and the large number of helpers missing from the\n'integrated_helpers' class.\n\nChange-Id: I33d8ac0a1cae0b2d275a21287d5e44c008a68122\n(cherry picked from commit ee05cd8b9e73f8a9a43dbe9ce028e6a6beaec2bd)\n""}, {'number': 2, 'created': '2020-09-14 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca597fd118a75dddd4fdccff41307a60e0453a4f', 'message': ""func tests: move _run_periodics() into base class\n\nThere are two almost identical implementations of the _run_periodics()\nhelper - and a third one would have joined them in a subsequent patch,\nif not for this patch. This patch moves the _run_periodics() to the\nbase test class. In addition, _run_periodics() depends on the\nself.computes dict used for compute service tracking. The method that\npopulates that dict, _start_compute(), is therefore also moved to the\nbase class.\n\nThis enables some light refactoring of existing tests that need\neither the _run_periodics() helper, or the compute service tracking.\n\nIn addition, a needless override of _start_compute() in\ntest_aggregates that provided no added value is removed. This is done\nto avoid any potential confusion around _start_compute()'s role.\n\nConflicts:\n  nova/tests/functional/compute/test_cache_image.py\n  nova/tests/functional/integrated_helpers.py\n  nova/tests/functional/test_scheduler.py\n\nNOTE(stephenfin): Conflicts are due to the two test files not existing\nyet and the large number of helpers missing from the\n'integrated_helpers' class.\n\nChanges:\n  nova/tests/functional/regressions/test_bug_1889108.py\n\nNOTE(stephenfin): Changes are due to a backport that was modified to\nremove use of the functions we're adding here.\n\nChange-Id: I33d8ac0a1cae0b2d275a21287d5e44c008a68122\n(cherry picked from commit ee05cd8b9e73f8a9a43dbe9ce028e6a6beaec2bd)\n""}, {'number': 3, 'created': '2021-02-04 17:13:23.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py', 'nova/tests/functional/test_server_group.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/test_aggregates.py', 'nova/tests/functional/regressions/test_bug_1889108.py', 'nova/tests/functional/test_nova_manage.py', 'nova/test.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0668bc1a86427f848c024d7eab9fb2167a38ccc3', 'message': ""func tests: move _run_periodics() into base class\n\nThere are two almost identical implementations of the _run_periodics()\nhelper - and a third one would have joined them in a subsequent patch,\nif not for this patch. This patch moves the _run_periodics() to the\nbase test class. In addition, _run_periodics() depends on the\nself.computes dict used for compute service tracking. The method that\npopulates that dict, _start_compute(), is therefore also moved to the\nbase class.\n\nThis enables some light refactoring of existing tests that need\neither the _run_periodics() helper, or the compute service tracking.\n\nIn addition, a needless override of _start_compute() in\ntest_aggregates that provided no added value is removed. This is done\nto avoid any potential confusion around _start_compute()'s role.\n\nConflicts:\n  nova/tests/functional/compute/test_cache_image.py\n  nova/tests/functional/integrated_helpers.py\n  nova/tests/functional/test_scheduler.py\n\nNOTE(stephenfin): Conflicts are due to the two test files not existing\nyet and the large number of helpers missing from the\n'integrated_helpers' class.\n\nChanges:\n  nova/tests/functional/regressions/test_bug_1889108.py\n\nNOTE(stephenfin): Changes are due to a backport that was modified to\nremove use of the functions we're adding here.\n\nChange-Id: I33d8ac0a1cae0b2d275a21287d5e44c008a68122\n(cherry picked from commit ee05cd8b9e73f8a9a43dbe9ce028e6a6beaec2bd)\n""}]",5,751363,0668bc1a86427f848c024d7eab9fb2167a38ccc3,20,9,3,15334,,,0,"func tests: move _run_periodics() into base class

There are two almost identical implementations of the _run_periodics()
helper - and a third one would have joined them in a subsequent patch,
if not for this patch. This patch moves the _run_periodics() to the
base test class. In addition, _run_periodics() depends on the
self.computes dict used for compute service tracking. The method that
populates that dict, _start_compute(), is therefore also moved to the
base class.

This enables some light refactoring of existing tests that need
either the _run_periodics() helper, or the compute service tracking.

In addition, a needless override of _start_compute() in
test_aggregates that provided no added value is removed. This is done
to avoid any potential confusion around _start_compute()'s role.

Conflicts:
  nova/tests/functional/compute/test_cache_image.py
  nova/tests/functional/integrated_helpers.py
  nova/tests/functional/test_scheduler.py

NOTE(stephenfin): Conflicts are due to the two test files not existing
yet and the large number of helpers missing from the
'integrated_helpers' class.

Changes:
  nova/tests/functional/regressions/test_bug_1889108.py

NOTE(stephenfin): Changes are due to a backport that was modified to
remove use of the functions we're adding here.

Change-Id: I33d8ac0a1cae0b2d275a21287d5e44c008a68122
(cherry picked from commit ee05cd8b9e73f8a9a43dbe9ce028e6a6beaec2bd)
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/751363/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1830747.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/test_server_group.py', 'nova/test.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/functional/regressions/test_bug_1764883.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/test_aggregates.py']",11,2250d9ae8dfeca1c5838dbb4bb2939dc795fcc9c,bug/1879878," self.start_service('compute', host=host)"," def _start_compute(self, host): """"""Start a nova compute service on the given host :param host: the name of the host that will be associated to the compute service. :return: the nova compute service object """""" compute = self.start_service('compute', host=host) self.computes[host] = compute return compute def _start_compute(self, host): self.start_service('compute', host=host) self._start_compute(host)",53,95
openstack%2Fcharm-nova-compute~stable%2F21.10~I01a33b55e2c91ba255997b6a1ed123d9c71ff48d,openstack/charm-nova-compute,stable/21.10,I01a33b55e2c91ba255997b6a1ed123d9c71ff48d,"Update the bundles to use the stable track, edge risk for yoga",ABANDONED,2022-06-15 11:54:19.000000000,2022-06-15 14:00:55.000000000,,"[{'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-15 11:54:19.000000000', 'files': ['tox.sync-conflict-20220614-112132-32YBA53.ini', '.sync-conflict-20220614-112130-32YBA53.gitignore', 'hooks/charmhelpers/cli/__init__.py', 'charm-helpers-hooks.sync-conflict-20220614-122901-32YBA53.yaml', 'templates/wallaby/nova-compute.conf', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'templates/newton/nova.conf', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/focal-xena.sync-conflict-20220614-122901-32YBA53.yaml', 'templates/stein/nova.conf', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'charm-helpers-hooks.sync-conflict-20220614-112132-32YBA53.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'templates/train/nova.conf', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'tests/bundles/bionic-train.yaml', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/nova-vgpu-relation-joined', '.sync-conflict-20220614-122901-32YBA53.gitignore', 'actions/cloud.py', 'tox.sync-conflict-20220614-122901-32YBA53.ini', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/python.py', 'templates/pike/nova.conf', 'unit_tests/test_actions_cloud.py', 'tests/bundles/focal-xena.sync-conflict-20220614-112131-32YBA53.yaml', 'requirements.txt', 'templates/ocata/nova.conf', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'templates/kilo/nova.conf', 'unit_tests/test_lib_nova_compute_cloud_utils.py', 'templates/mitaka/nova.conf', 'templates/qemu.conf', 'metadata.sync-conflict-20220614-122901-32YBA53.yaml', 'hooks/nova_compute_utils.py', 'tests/tests.sync-conflict-20220614-112130-32YBA53.yaml', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'templates/libvirtd.conf', 'tests/bundles/xenial-mitaka.yaml', 'unit_tests/test_actions_virsh_audit.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'tests/bundles/groovy-victoria.yaml', 'unit_tests/test_nova_compute_contexts.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', '.zuul.sync-conflict-20220614-122901-32YBA53.yaml', 'lib/nova_compute/cloud_utils.py', 'tests/bundles/focal-xena.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', '.sync-conflict-20220614-122901-32YBA53.gitreview', 'charmcraft.yaml', 'hooks/charmhelpers/contrib/hardware/__init__.py', 'unit_tests/test_actions_hugepagereport.py', 'hooks/charmhelpers/core/strutils.py', 'osci.sync-conflict-20220614-122901-32YBA53.yaml', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'config.yaml', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'tests/README.md', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'actions/openstack_upgrade.py', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'osci.sync-conflict-20220614-112130-32YBA53.yaml', 'tests/bundles/jammy-yoga.yaml', 'templates/usr.bin.nova-compute', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'tests/bundles/focal-ussuri.yaml', 'hooks/charmhelpers/__init__.py', 'templates/liberty/nova.conf', '.sync-conflict-20220614-112131-32YBA53.gitreview', 'templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py', 'unit_tests/__init__.py', 'hooks/charmhelpers/core/services/helpers.py', 'tests/bundles/bionic-ussuri.yaml', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'templates/rocky/nova.conf', 'hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_actions_pause_resume.py', 'hooks/nova-vgpu-relation-changed', 'tests/bundles/impish-xena.yaml', 'hooks/charmhelpers/fetch/centos.py', 'tests/bundles/focal-yoga.yaml', 'hooks/charmhelpers/fetch/python/packages.py', 'tests/bundles/xenial-queens.yaml', 'hooks/charmhelpers/contrib/hardware/pci.py', 'tests/bundles/xenial-pike.yaml', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'hooks/nova_compute_context.py', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'unit_tests/test_utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/hirsute-wallaby.yaml', 'tests/tests.sync-conflict-20220614-122901-32YBA53.yaml', 'hooks/charmhelpers/core/templating.py', 'tests/bundles/focal-wallaby.yaml', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'metadata.sync-conflict-20220614-112130-32YBA53.yaml', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'templates/queens/nova.conf', 'test-requirements.sync-conflict-20220614-112132-32YBA53.txt', 'hooks/charmhelpers/core/host_factory/ubuntu.py', '.zuul.sync-conflict-20220614-112132-32YBA53.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/trusty-mitaka.yaml', 'rename.sh', 'test-requirements.sync-conflict-20220614-122901-32YBA53.txt', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/595a3cc6002d5bd5d0199cc2325680935ac0a8b5', 'message': 'Update the bundles to use the stable track, edge risk for yoga\n\nThe bundles for the yoga channel currently point to ""latest/edge""\nchannel for all the charms.  This update points the charms to the\nappropriate channel for the charm being used, either from ceph,\nopenstack, ovn or the misc tracks.\n\nChange-Id: I01a33b55e2c91ba255997b6a1ed123d9c71ff48d\n'}]",2,845966,595a3cc6002d5bd5d0199cc2325680935ac0a8b5,6,2,1,20870,,,0,"Update the bundles to use the stable track, edge risk for yoga

The bundles for the yoga channel currently point to ""latest/edge""
channel for all the charms.  This update points the charms to the
appropriate channel for the charm being used, either from ceph,
openstack, ovn or the misc tracks.

Change-Id: I01a33b55e2c91ba255997b6a1ed123d9c71ff48d
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/66/845966/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.sync-conflict-20220614-112132-32YBA53.ini', '.sync-conflict-20220614-112130-32YBA53.gitignore', 'hooks/charmhelpers/cli/__init__.py', 'charm-helpers-hooks.sync-conflict-20220614-122901-32YBA53.yaml', 'templates/wallaby/nova-compute.conf', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'templates/newton/nova.conf', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/harden.py', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/focal-xena.sync-conflict-20220614-122901-32YBA53.yaml', 'templates/stein/nova.conf', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'charm-helpers-hooks.sync-conflict-20220614-112132-32YBA53.yaml', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'templates/train/nova.conf', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'hooks/charmhelpers/fetch/__init__.py', 'hooks/charmhelpers/fetch/python/debug.py', 'tests/bundles/bionic-train.yaml', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/nova-vgpu-relation-joined', '.sync-conflict-20220614-122901-32YBA53.gitignore', 'actions/cloud.py', 'tox.sync-conflict-20220614-122901-32YBA53.ini', 'hooks/charmhelpers/contrib/openstack/templates/haproxy.cfg', 'hooks/charmhelpers/contrib/python.py', 'templates/pike/nova.conf', 'unit_tests/test_actions_cloud.py', 'tests/bundles/focal-xena.sync-conflict-20220614-112131-32YBA53.yaml', 'requirements.txt', 'templates/ocata/nova.conf', 'hooks/charmhelpers/contrib/hardening/mysql/checks/config.py', 'hooks/charmhelpers/contrib/hardening/utils.py', 'hooks/charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'templates/kilo/nova.conf', 'unit_tests/test_lib_nova_compute_cloud_utils.py', 'templates/mitaka/nova.conf', 'templates/qemu.conf', 'metadata.sync-conflict-20220614-122901-32YBA53.yaml', 'hooks/nova_compute_utils.py', 'tests/tests.sync-conflict-20220614-112130-32YBA53.yaml', 'hooks/charmhelpers/contrib/hardening/templating.py', 'hooks/charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'templates/libvirtd.conf', 'tests/bundles/xenial-mitaka.yaml', 'unit_tests/test_actions_virsh_audit.py', 'hooks/charmhelpers/fetch/archiveurl.py', 'tests/bundles/groovy-victoria.yaml', 'unit_tests/test_nova_compute_contexts.py', 'hooks/charmhelpers/contrib/openstack/templates/openstack_https_frontend', '.zuul.sync-conflict-20220614-122901-32YBA53.yaml', 'lib/nova_compute/cloud_utils.py', 'tests/bundles/focal-xena.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apache.py', '.sync-conflict-20220614-122901-32YBA53.gitreview', 'charmcraft.yaml', 'hooks/charmhelpers/contrib/hardware/__init__.py', 'unit_tests/test_actions_hugepagereport.py', 'hooks/charmhelpers/core/strutils.py', 'osci.sync-conflict-20220614-122901-32YBA53.yaml', 'hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/keystone.py', 'config.yaml', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/charmhelpers/contrib/openstack/templating.py', 'tests/README.md', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'actions/openstack_upgrade.py', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'hooks/charmhelpers/contrib/hardening/host/checks/login.py', 'hooks/charmhelpers/core/hookenv.py', 'osci.sync-conflict-20220614-112130-32YBA53.yaml', 'tests/bundles/jammy-yoga.yaml', 'templates/usr.bin.nova-compute', 'hooks/charmhelpers/contrib/openstack/policyd.py', 'tests/bundles/focal-ussuri.yaml', 'hooks/charmhelpers/__init__.py', 'templates/liberty/nova.conf', '.sync-conflict-20220614-112131-32YBA53.gitreview', 'templates/train/nova-compute.conf', 'unit_tests/test_nova_compute_utils.py', 'unit_tests/__init__.py', 'hooks/charmhelpers/core/services/helpers.py', 'tests/bundles/bionic-ussuri.yaml', 'hooks/charmhelpers/contrib/openstack/neutron.py', 'templates/rocky/nova.conf', 'hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_actions_pause_resume.py', 'hooks/nova-vgpu-relation-changed', 'tests/bundles/impish-xena.yaml', 'hooks/charmhelpers/fetch/centos.py', 'tests/bundles/focal-yoga.yaml', 'hooks/charmhelpers/fetch/python/packages.py', 'tests/bundles/xenial-queens.yaml', 'hooks/charmhelpers/contrib/hardware/pci.py', 'tests/bundles/xenial-pike.yaml', 'hooks/charmhelpers/contrib/hardening/host/checks/sysctl.py', 'hooks/nova_compute_context.py', 'hooks/charmhelpers/contrib/hardening/audits/file.py', 'unit_tests/test_utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/hirsute-wallaby.yaml', 'tests/tests.sync-conflict-20220614-122901-32YBA53.yaml', 'hooks/charmhelpers/core/templating.py', 'tests/bundles/focal-wallaby.yaml', 'hooks/charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'metadata.sync-conflict-20220614-112130-32YBA53.yaml', 'hooks/charmhelpers/core/services/base.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'templates/queens/nova.conf', 'test-requirements.sync-conflict-20220614-112132-32YBA53.txt', 'hooks/charmhelpers/core/host_factory/ubuntu.py', '.zuul.sync-conflict-20220614-112132-32YBA53.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/trusty-mitaka.yaml', 'rename.sh', 'test-requirements.sync-conflict-20220614-122901-32YBA53.txt', 'hooks/charmhelpers/contrib/hardening/apache/checks/config.py']",129,595a3cc6002d5bd5d0199cc2325680935ac0a8b5,update-bundles-yoga," out = subprocess.check_output(['apache2', '-v']).decode('utf-8')","import six out = subprocess.check_output(['apache2', '-v']) if six.PY3: out = out.decode('utf-8')",4602,783
openstack%2Fcharm-neutron-api~stable%2Fvictoria~Icab91299db4ff7ab3e24fe3a66a5056f26e3c727,openstack/charm-neutron-api,stable/victoria,Icab91299db4ff7ab3e24fe3a66a5056f26e3c727,Migrate charm charmhub for stable/victoria,MERGED,2022-05-19 10:37:34.000000000,2022-06-15 13:58:11.000000000,2022-06-15 13:58:11.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 10:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/5746af89c6442b0a8b07b6c1f62485e1e7c9e1ee', 'message': 'Migrate charm charmhub for stable/victoria\n\n- start from stable/victoria branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/victoria for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Icab91299db4ff7ab3e24fe3a66a5056f26e3c727\n'}, {'number': 2, 'created': '2022-05-19 13:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/6f4af368a3d4d55a93c1c3fef44b219218dd1c8b', 'message': 'Migrate charm charmhub for stable/victoria\n\n- start from stable/victoria branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/victoria for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: Icab91299db4ff7ab3e24fe3a66a5056f26e3c727\n'}, {'number': 3, 'created': '2022-06-14 23:34:15.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/72f64017286bb9fe2e6b1da4c0f89399489bf6bd', 'message': 'Migrate charm charmhub for stable/victoria\n\n- start from stable/victoria branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/victoria for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n- pin tempest for python <= 3.6\n\nChange-Id: Icab91299db4ff7ab3e24fe3a66a5056f26e3c727\n'}]",4,842511,72f64017286bb9fe2e6b1da4c0f89399489bf6bd,20,3,3,20870,,,0,"Migrate charm charmhub for stable/victoria

- start from stable/victoria branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/victoria for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- pin tempest for python <= 3.6

Change-Id: Icab91299db4ff7ab3e24fe3a66a5056f26e3c727
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/11/842511/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",29,5746af89c6442b0a8b07b6c1f62485e1e7c9e1ee,charmhub-migration,,"variables: openstack-origin: &openstack-origin distro series: &series impish applications: keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: source: *openstack-origin neutron-api: charm: ../../../neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: True flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin relations: - - neutron-api:amqp - rabbitmq-server:amqp - - neutron-api:identity-service - keystone:identity-service - [""keystone:shared-db"", ""keystone-mysql-router:shared-db""] - [""neutron-api:shared-db"", ""neutron-mysql-router:shared-db""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] ",118,669
openstack%2Fcinder~master~I50fc926275dec1360fc3880bbfb8780078e01bce,openstack/cinder,master,I50fc926275dec1360fc3880bbfb8780078e01bce,PowerMax Docs - Clarify Replication Group,MERGED,2021-09-14 16:15:12.000000000,2022-06-15 13:36:34.000000000,2022-03-29 21:55:47.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32029}, {'_account_id': 33431}]","[{'number': 1, 'created': '2021-09-14 16:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/baaf593f6c1be646fb6eafff8f75d8cf6488529f', 'message': 'PowerMax Docs - Clarify Replication Group\n\nClarification on how to set up a replication group\nfor the PowerMax driver.\n\nChange-Id: I50fc926275dec1360fc3880bbfb8780078e01bce\n'}, {'number': 2, 'created': '2022-03-29 14:55:41.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/12a3e205078e6fb6a51baae5491c9f167274d823', 'message': 'PowerMax Docs - Clarify Replication Group\n\nClarification on how to set up a replication group\nfor the PowerMax driver.\n\nChange-Id: I50fc926275dec1360fc3880bbfb8780078e01bce\n'}]",6,808995,12a3e205078e6fb6a51baae5491c9f167274d823,50,5,2,12670,,,0,"PowerMax Docs - Clarify Replication Group

Clarification on how to set up a replication group
for the PowerMax driver.

Change-Id: I50fc926275dec1360fc3880bbfb8780078e01bce
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/808995/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,baaf593f6c1be646fb6eafff8f75d8cf6488529f,clarify-replication-group,"This is how to create a replication group. Please refer to the official OpenStack `block-storage groups`_ documentation for the most up to date group operations - Make sure there is a `replication_device` for Synchronous in `cinder.conf` .. code-block:: console replication_device = backend_id:backend_id_legacy_rep,target_device_id:0001234567890,remote_port_group:PG1,remote_pool:SRP_1,rdf_group_label:os-sync,mode:Synchronous - Create a volume type with property `replication_enabled=’<is> True’`. .. code-block:: console $ openstack volume type create --property replication_enabled='<is> True' SYNC_REP_VT - Create a Generic group type with extra specs `consistent_group_snapshot_enabled=’<is> True’` and `consistent_group_replication_enabled=’<is> True’`. .. code-block:: console $ cinder --os-volume-api-version 3.38 group-type-create GROUP_REP_VT $ cinder --os-volume-api-version 3.38 group-type-key GROUP_REP_VT set / consistent_group_snapshot_enabled='<is> True' / consistent_group_replication_enabled='<is> True' - Create a Generic group with synchronous volume type SYNC_REP_VT .. code-block:: console $ cinder --os-volume-api-version 3.13 group-create --name GROUP_REP GROUP_REP_VT GROUP_REP_VT - Create a volume in the Generic group .. code-block:: console $ cinder --os-volume-api-version 3.38 create --volume-type SYNC_REP_VT --group-id GROUP_REP / --name VOL_REP_GROUP 1 $ cinder --os-volume-api-version 3.38 group-enable-replication GROUP_REP $ cinder --os-volume-api-version 3.38 group-disable-replication GROUP_REP $ cinder --os-volume-api-version 3.38 group-failover-replication GROUP_REP $ cinder --os-volume-api-version 3.38 group-failover-replication GROUP_REP /", cinder --os-volume-api-version 3.38 group-enable-replication GROUP cinder --os-volume-api-version 3.38 group-disable-replication GROUP cinder --os-volume-api-version 3.38 group-failover-replication GROUP cinder --os-volume-api-version 3.38 group-failover-replication GROUP /,43,4
openstack%2Fnova~stable%2Fyoga~I7b432d7a32aeb1ab765d1f731691c7841a8f1440,openstack/nova,stable/yoga,I7b432d7a32aeb1ab765d1f731691c7841a8f1440,Simulate bug 1969496,MERGED,2022-05-06 08:36:20.000000000,2022-06-15 13:31:12.000000000,2022-06-15 13:06:52.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 08:36:20.000000000', 'files': ['nova/tests/unit/pci/test_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/23c48b670668e9cae886b5113c776077780f5581', 'message': ""Simulate bug 1969496\n\nAs If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for\nthe pci_device table to become inconsistent. Parent PF can be in\n'available' state while children VFs are still in 'unavailable' state.\nIn this situation the PF is schedulable but the PCI claim will fail to\nwhen try to mark the dependent VFs unavailable.\n\nThis patch adds a test case that shows the error.\n\nRelated-Bug: #1969496\n\nChange-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440\n(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)\n""}]",5,840832,23c48b670668e9cae886b5113c776077780f5581,21,3,1,9708,,,0,"Simulate bug 1969496

As If9ab424cc7375a1f0d41b03f01c4a823216b3eb8 stated there is a way for
the pci_device table to become inconsistent. Parent PF can be in
'available' state while children VFs are still in 'unavailable' state.
In this situation the PF is schedulable but the PCI claim will fail to
when try to mark the dependent VFs unavailable.

This patch adds a test case that shows the error.

Related-Bug: #1969496

Change-Id: I7b432d7a32aeb1ab765d1f731691c7841a8f1440
(cherry picked from commit 9ee5d2c66255f83cc8a66f1b5648fa13e1d73f47)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/840832/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/pci/test_manager.py'],1,23c48b670668e9cae886b5113c776077780f5581,bug/1969496,"from nova import exception def test_claim_available_pf_while_child_vf_is_unavailable(self): # NOTE(gibi): this is bug 1969496. The state created here is # inconsistent and should not happen. But it did happen in some cases # where we were not able to track down the way how it happened. # We start with a PF parent and a VF child. The PF is available and # the VF is unavailable. pf = copy.deepcopy(fake_db_dev_3) vf = copy.deepcopy(fake_db_dev_4) vf['status'] = fields.PciDeviceStatus.UNAVAILABLE self._create_tracker([pf, vf]) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) pci_requests_obj = self._create_pci_requests_object( [ { 'count': 1, 'spec': [{'dev_type': fields.PciDeviceType.SRIOV_PF}] } ], instance_uuid=uuidsentinel.instance1, ) # now try to claim and allocate the PF. It should work as it is # available # This is bug 1969496 as the claim fails with exception ex = self.assertRaises( exception.PciDevicePoolEmpty, self.tracker.claim_instance, mock.sentinel.context, pci_requests_obj, None ) self.assertIn( 'Attempt to consume PCI device 1:0000:00:02.1 from empty pool', str(ex) ) pf_dev = self._get_device_by_address(pf['address']) self.assertEqual('available', pf_dev.status) vf_dev = self._get_device_by_address(vf['address']) self.assertEqual('unavailable', vf_dev.status) # This should work when the bug is fixed # self.tracker.claim_instance( # mock.sentinel.context, pci_requests_obj, None) # self.tracker.allocate_instance({'uuid': uuidsentinel.instance1}) # pf_dev = self._get_device_by_address(pf['address']) # self.assertEqual('allocated', pf_dev.status) # vf_dev = self._get_device_by_address(vf['address']) # self.assertEqual('unavailable', vf_dev.status) ",,56,0
openstack%2Fkolla-ansible~stable%2Fwallaby~Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,openstack/kolla-ansible,stable/wallaby,Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f,Switch to Cortex-A72 cpu on AArch64,MERGED,2022-06-02 09:41:05.000000000,2022-06-15 12:56:08.000000000,2022-06-15 12:54:44.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-02 09:41:05.000000000', 'files': ['tests/templates/nova-compute-overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a8fafd6c6d3d10360dee2c28ae12db821937c00', 'message': 'Switch to Cortex-A72 cpu on AArch64\n\nCPU model ""max"" fails to boot CirrOS and some other images when QEMU 7.0\nis used.\n\nChange-Id: Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f\n(cherry picked from commit c9a3dd9cd3c004e61836a252aa34b65b89038bee)\n'}]",0,844385,8a8fafd6c6d3d10360dee2c28ae12db821937c00,9,6,1,24072,,,0,"Switch to Cortex-A72 cpu on AArch64

CPU model ""max"" fails to boot CirrOS and some other images when QEMU 7.0
is used.

Change-Id: Ie34a883ac7ae989d7f74c19b9c9ee9f08a82a35f
(cherry picked from commit c9a3dd9cd3c004e61836a252aa34b65b89038bee)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/844385/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/nova-compute-overrides.j2'],1,8a8fafd6c6d3d10360dee2c28ae12db821937c00,,"# cpu_model=max fails to boot multiple images with QEMU 7.0 and -M virt (works with ""-M virt-6.2"") cpu_model=cortex-a72",cpu_model=max,2,1
openstack%2Fkayobe~master~I0cc48d0d5ed17400badb081e9117c9351677bb38,openstack/kayobe,master,I0cc48d0d5ed17400badb081e9117c9351677bb38,Force use of yoga upper constraints in ipa-builder,MERGED,2022-06-10 09:46:45.000000000,2022-06-15 12:51:09.000000000,2022-06-15 12:49:43.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28048}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-10 09:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/763adf63e7fbb64c68a1c3089e327587c663d5b1', 'message': 'Use yoga ipa-builder for compatibility with Python 3.6\n\nIPA itself is still compatible with Python 3.6, but ipa-builder uses\nmaster upper-constraints which have dropped support for 3.6 and are\npulling importlib-metadata===4.11.4, which requires 3.7.\n\n    ERROR: Cannot install ironic-python-agent==8.6.1.dev13 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        ironic-python-agent 8.6.1.dev13 depends on importlib_metadata>=1.7.0\n        The user requested (constraint) importlib-metadata===4.11.4\n\nChange-Id: I0cc48d0d5ed17400badb081e9117c9351677bb38\n'}, {'number': 2, 'created': '2022-06-10 11:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/df67caeb3fbeb3102d1d5e219598ff20c0b5a575', 'message': 'Force use of yoga upper constraints in ipa-builder\n\nIPA itself is still compatible with Python 3.6, but ipa-builder uses\nmaster upper-constraints which have dropped support for 3.6 and are\npulling importlib-metadata===4.11.4, which requires 3.7.\n\n    ERROR: Cannot install ironic-python-agent==8.6.1.dev13 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        ironic-python-agent 8.6.1.dev13 depends on importlib_metadata>=1.7.0\n        The user requested (constraint) importlib-metadata===4.11.4\n\nChange-Id: I0cc48d0d5ed17400badb081e9117c9351677bb38\n'}, {'number': 3, 'created': '2022-06-10 13:19:34.000000000', 'files': ['ansible/group_vars/all/ipa'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4ce746c1998c4c63502c46ac6185159b316275e8', 'message': 'Force use of yoga upper constraints in ipa-builder\n\nIPA itself is still compatible with Python 3.6, but ipa-builder uses\nmaster upper-constraints which have dropped support for 3.6 and are\npulling importlib-metadata===4.11.4, which requires 3.7.\n\n    ERROR: Cannot install ironic-python-agent==8.6.1.dev13 because these package versions have conflicting dependencies.\n\n    The conflict is caused by:\n        ironic-python-agent 8.6.1.dev13 depends on importlib_metadata>=1.7.0\n        The user requested (constraint) importlib-metadata===4.11.4\n\nChange-Id: I0cc48d0d5ed17400badb081e9117c9351677bb38\n'}]",1,845337,4ce746c1998c4c63502c46ac6185159b316275e8,15,6,3,15197,,,0,"Force use of yoga upper constraints in ipa-builder

IPA itself is still compatible with Python 3.6, but ipa-builder uses
master upper-constraints which have dropped support for 3.6 and are
pulling importlib-metadata===4.11.4, which requires 3.7.

    ERROR: Cannot install ironic-python-agent==8.6.1.dev13 because these package versions have conflicting dependencies.

    The conflict is caused by:
        ironic-python-agent 8.6.1.dev13 depends on importlib_metadata>=1.7.0
        The user requested (constraint) importlib-metadata===4.11.4

Change-Id: I0cc48d0d5ed17400badb081e9117c9351677bb38
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/37/845337/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/ipa'],1,763adf63e7fbb64c68a1c3089e327587c663d5b1,ipa-builder-yoga,"# TODO(priteau): Revert once we use c9s. ipa_build_source_version: ""stable/yoga""","ipa_build_source_version: ""{{ openstack_branch }}""",2,1
openstack%2Fvenus~master~I10ea453f356513f485620b67d4831503ff04d72f,openstack/venus,master,I10ea453f356513f485620b67d4831503ff04d72f,Put the class init in the setup function,MERGED,2022-06-15 10:07:50.000000000,2022-06-15 12:36:29.000000000,2022-06-15 12:35:07.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}]","[{'number': 1, 'created': '2022-06-15 10:07:50.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/abf7eb1ec534556c320c2528bdc488a83aa9bd00', 'message': 'Put the class init in the setup function\n\nChange-Id: I10ea453f356513f485620b67d4831503ff04d72f\n'}]",2,845916,abf7eb1ec534556c320c2528bdc488a83aa9bd00,8,3,1,31412,,,0,"Put the class init in the setup function

Change-Id: I10ea453f356513f485620b67d4831503ff04d72f
",git fetch https://review.opendev.org/openstack/venus refs/changes/16/845916/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,abf7eb1ec534556c320c2528bdc488a83aa9bd00,," self.action = SearchCore() res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) res1, res2, res3 = self.action.get_interval(start_time, end_time) index_names = self.action.get_all_index('test_index') index_names = self.action.get_all_index('test_index') index_names = self.action.get_index_names( index_names = self.action.get_index_names( result = self.action.params('', '', None) result = self.action.params('host_name', '', '') result = self.action.params('host_name', '', None) result = self.action.params('host_name', '', None) result = self.action.params('host_name', '', None) result = self.action.params('level', '', None) result = self.action.params('program_name', '', None) "," action = SearchCore() res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) res1, res2, res3 = action.get_interval(start_time, end_time) action = SearchCore() index_names = action.get_all_index('test_index') action = SearchCore() index_names = action.get_all_index('test_index') action = SearchCore() index_names = action.get_index_names( action = SearchCore() index_names = action.get_index_names( action = SearchCore() result = action.params('', '', None) result = action.params('host_name', '', '') action = SearchCore() result = action.params('host_name', '', None) action = SearchCore() result = action.params('host_name', '', None) action = SearchCore() result = action.params('host_name', '', None) action = SearchCore() result = action.params('level', '', None) action = SearchCore() result = action.params('program_name', '', None) ",23,34
openstack%2Fvenus~master~I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076,openstack/venus,master,I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076,"Remove None for get method, the default value is None",MERGED,2022-06-15 09:31:44.000000000,2022-06-15 12:30:08.000000000,2022-06-15 12:28:41.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27565}]","[{'number': 1, 'created': '2022-06-15 09:31:44.000000000', 'files': ['venus/modules/search/controller.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/e01a91a2b6055c5f1da4e7f8346f55850189ded4', 'message': 'Remove None for get method, the default value is None\n\nChange-Id: I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076\n'}]",2,845908,e01a91a2b6055c5f1da4e7f8346f55850189ded4,8,3,1,31412,,,0,"Remove None for get method, the default value is None

Change-Id: I8ba0be1dc7e5bc255fd1e3bc8d4e165ddbb0d076
",git fetch https://review.opendev.org/openstack/venus refs/changes/08/845908/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/modules/search/controller.py'],1,e01a91a2b6055c5f1da4e7f8346f55850189ded4,," type = req.params.get(""type"") module_name = req.params.get(""module_name"") index_type = req.params.get(""index_type"") host_name = req.params.get(""host_name"") module_name = req.params.get(""module_name"") program_name = req.params.get(""program_name"") level = req.params.get(""level"") user_id = req.params.get(""user_id"") project_id = req.params.get(""project_id"") query = req.params.get(""query"") index_type = req.params.get(""index_type"") start_time = req.params.get(""start_time"") end_time = req.params.get(""end_time"") page_num = req.params.get(""page_num"") page_size = req.params.get(""page_size"") group_name = req.params.get(""group_name"") host_name = req.params.get(""host_name"") module_name = req.params.get(""module_name"") program_name = req.params.get(""program_name"") level = req.params.get(""level"") start_time = req.params.get(""start_time"") end_time = req.params.get(""end_time"") type = req.params.get(""type"") start_time = req.params.get(""start_time"") end_time = req.params.get(""end_time"") request_id = req.params.get(""request_id"") uuid = req.params.get(""uuid"") global_id = req.params.get(""global_id"")"," type = req.params.get(""type"", None) module_name = req.params.get(""module_name"", None) index_type = req.params.get(""index_type"", None) host_name = req.params.get(""host_name"", None) module_name = req.params.get(""module_name"", None) program_name = req.params.get(""program_name"", None) level = req.params.get(""level"", None) user_id = req.params.get(""user_id"", None) project_id = req.params.get(""project_id"", None) query = req.params.get(""query"", None) index_type = req.params.get(""index_type"", None) start_time = req.params.get(""start_time"", None) end_time = req.params.get(""end_time"", None) page_num = req.params.get(""page_num"", None) page_size = req.params.get(""page_size"", None) group_name = req.params.get(""group_name"", None) host_name = req.params.get(""host_name"", None) module_name = req.params.get(""module_name"", None) program_name = req.params.get(""program_name"", None) level = req.params.get(""level"", None) start_time = req.params.get(""start_time"", None) end_time = req.params.get(""end_time"", None) type = req.params.get(""type"", None) start_time = req.params.get(""start_time"", None) end_time = req.params.get(""end_time"", None) request_id = req.params.get(""request_id"", None) uuid = req.params.get(""uuid"", None) global_id = req.params.get(""global_id"", None)",28,28
openstack%2Ftripleo-ansible~stable%2Ftrain~I4554fc54c096be32b85d66030d8b2fc892e595bb,openstack/tripleo-ansible,stable/train,I4554fc54c096be32b85d66030d8b2fc892e595bb,Ensure ceph_ansible_playbook_verbosity is an integer,MERGED,2022-06-14 10:44:14.000000000,2022-06-15 12:20:15.000000000,2022-06-15 12:20:15.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-14 10:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ce18ffccaf72f2b0451f40d9b2fd922e23077146', 'message': 'Ensure ceph_ansible_playbook_verbosity is an integer\n\nThis patch is going directly into stable/wallaby because\nthis role was deprecated in that release and removed in\nthe next release.\n\nChange-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb\nCloses-Bug: #1976122\n(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)\n'}, {'number': 2, 'created': '2022-06-14 19:10:43.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b210f41cfc14bdc7bc0cc18e3f0f14f959adeeb9', 'message': 'Ensure ceph_ansible_playbook_verbosity is an integer\n\nThis patch is going directly into stable/wallaby because\nthis role was deprecated in that release and removed in\nthe next release.\n\nChange-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb\nCloses-Bug: #1976122\n(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)\n'}]",2,845677,b210f41cfc14bdc7bc0cc18e3f0f14f959adeeb9,11,3,2,18002,,,0,"Ensure ceph_ansible_playbook_verbosity is an integer

This patch is going directly into stable/wallaby because
this role was deprecated in that release and removed in
the next release.

Change-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb
Closes-Bug: #1976122
(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/77/845677/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'],1,ce18ffccaf72f2b0451f40d9b2fd922e23077146,bug/1976122-stable/train,"<<<<<<< HEAD (770e62 Merge ""Disable Octavia management gateway on update"" into st) ======= --- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: set ceph-ansible playbook list set_fact: ceph_ansible_playbooks: > {%- if ceph_ansible_playbooks_param != ['default'] -%} {{ ceph_ansible_playbooks_param }} {%- else -%} {{ ceph_ansible_playbooks_default|default(['/usr/share/ceph-ansible/site-container.yml.sample']) }} {%- endif -%} - import_tasks: create_ceph_ansible_remote_tmp.yml vars: ceph_ansible_remote_tmp: '/tmp/ceph_ansible_tmp' - name: set ceph-ansible command list set_fact: ceph_ansible_command_list: - ANSIBLE_ACTION_PLUGINS=/usr/share/ceph-ansible/plugins/actions/ - ANSIBLE_CALLBACK_PLUGINS=/usr/share/ceph-ansible/plugins/callback/ - ANSIBLE_FILTER_PLUGINS=/usr/share/ceph-ansible/plugins/filter/ - ANSIBLE_ROLES_PATH=/usr/share/ceph-ansible/roles/ - ANSIBLE_LOG_PATH=""{{ playbook_dir }}/ceph-ansible/ceph_ansible_command.log"" - ANSIBLE_SSH_CONTROL_PATH_DIR=""/tmp/ceph_ansible_control_path"" - ANSIBLE_LIBRARY=/usr/share/ceph-ansible/library/ - ANSIBLE_CONFIG=/usr/share/ceph-ansible/ansible.cfg - ANSIBLE_REMOTE_TEMP=""{{ ceph_ansible_remote_tmp }}"" - ANSIBLE_FORKS=25 - ANSIBLE_GATHER_TIMEOUT=60 - ANSIBLE_CALLBACK_WHITELIST=profile_tasks - ANSIBLE_STDOUT_CALLBACK=default - ""{{ calling_ansible_environment_variables|join(' ') }}"" - ""{{ ceph_ansible_environment_variables|join(' ') }}"" # NOTE(mwhahaha): we need to force this for now until ansible addresses fact stuff - ANSIBLE_INJECT_FACT_VARS=True - ANSIBLE_GATHER_SUBSET=""all"" - ANSIBLE_CACHE_PLUGIN=""memory"" - ansible-playbook - '{% if ceph_ansible_private_key_file is defined %}--private-key {{ ceph_ansible_private_key_file }}{% endif %}' - '{% if ansible_python_interpreter is defined %}-e ansible_python_interpreter={{ ansible_python_interpreter }}{% endif %}' - '-{%- for number in range(0, ceph_ansible_playbook_verbosity|int) -%}v{% endfor %}' - '{% if ceph_ansible_skip_tags is defined and ceph_ansible_skip_tags|length > 0%}--skip-tags {{ ceph_ansible_skip_tags }}{% endif %}' - '--extra-vars' - '@{{ playbook_dir }}/ceph-ansible/extra_vars.yml' - '{% if ceph_ansible_limit is defined and ceph_ansible_limit|length > 0 %}--limit {{ ceph_ansible_limit }}{% endif %}' - name: try to find ANSIBLE_LOG_PATH in ceph_ansible_environment_variables set_fact: calling_ansible_log_path: ""{{ item | regex_replace('ANSIBLE_LOG_PATH=', '') }}"" when: item is match(""ANSIBLE_LOG_PATH.*"") loop: ""{{ ceph_ansible_environment_variables }}"" - name: do we need to keep looking for the ANSIBLE_LOG_PATH? when: calling_ansible_log_path is undefined block: - name: try to find ANSIBLE_LOG_PATH in calling_ansible_environment_variables set_fact: calling_ansible_log_path: ""{{ item | regex_replace('ANSIBLE_LOG_PATH=', '') }}"" when: item is match(""ANSIBLE_LOG_PATH.*"") loop: ""{{ calling_ansible_environment_variables }}"" - name: Set ANSIBLE_LOG_PATH to default when: calling_ansible_log_path is undefined set_fact: calling_ansible_log_path: ""{{ playbook_dir }}/ceph-ansible/ceph_ansible_command.log"" - name: save ceph-ansible playbook command(s) to shell script copy: dest: ""{{ playbook_dir }}/ceph-ansible/ceph_ansible_command.sh"" mode: '0755' content: | #!/usr/bin/env bash set -e echo ""Running $0"" >> {{ calling_ansible_log_path }} {% set inv = ""-i ""+ playbook_dir +""/ceph-ansible/inventory.yml"" %} {% for playbook in ceph_ansible_playbooks %} {{ ceph_ansible_command_list|join(' ') }} {{ inv }} {{ playbook }} 2>&1 {% endfor %} - when: - ceph_external_multi_config is defined - (ceph_external_multi_config|length) > 0 block: - name: set default facts for ceph_scripts list set_fact: ceph_prefix: ""{{ playbook_dir + '/ceph-ansible/external_' }}"" ceph_suffix: '_ceph_ansible_command.sh' ceph_default: ""{{ [playbook_dir + '/ceph-ansible/ceph_ansible_command.sh'] }}"" - name: save external ceph-ansible playbook command(s) to shell script(s) copy: dest: ""{{ ceph_prefix + item + ceph_suffix }}"" mode: '0755' content: | #!/usr/bin/env bash set -e echo ""Running $0"" >> {{ calling_ansible_log_path }} {% set inv = ""-i "" + ceph_prefix + ""inventory.ini"" %} {% set extra = ""-e @"" + ceph_prefix + item + ""_extra_vars.yml"" %} {% for playbook in ceph_ansible_playbooks %} {{ ceph_ansible_command_list|join(' ') }} {{ inv }} {{ extra }} {{ playbook }} 2>&1 {% endfor %} loop: ""{{ ceph_external_multi_config | map(attribute='cluster') | list }}"" - name: add external ceph-ansible shell script(s) to list of ceph_scripts set_fact: ceph_scripts: ""{{ ceph_scripts|default(ceph_default) + [ceph_prefix + item + ceph_suffix] }}"" loop: ""{{ ceph_external_multi_config | map(attribute='cluster') | list }}"" - name: ""Notify user about upcoming ceph-ansible execution(s)"" debug: msg: ""Running {{ ceph_scripts|default(['ceph_ansible_command.sh'])|length }} ceph-ansible playbook(s) (immediate log at {{ calling_ansible_log_path }})"" - name: run ceph-ansible # Needs become to be able to read the ssh private key become: true shell: ""{{ item }}"" # We want the output chunked into bits to prevent # overflowing Zaqar message size no_log: ""{{ not (tripleo_ceph_run_ansible_debug | bool) }}"" failed_when: false register: outputs tags: run_ceph_ansible when: outputs.rc is undefined or outputs.rc == 0 loop: ""{{ ceph_scripts | default([playbook_dir + '/ceph-ansible/ceph_ansible_command.sh']) }}"" - name: search output of ceph-ansible run(s) non-zero return codes set_fact: ceph_ansible_std_out_err: ""{{ item.stdout_lines | default([]) | union(item.stderr_lines | default([])) }}"" no_log: ""{{ tripleo_ceph_run_ansible_hide_sensitive_logs | bool }}"" when: - item.rc is defined - item.rc != 0 loop: ""{{ outputs.results }}"" tags: - run_ceph_ansible - name: print ceph-ansible output in case of failure debug: var: ceph_ansible_std_out_err when: - ceph_ansible_std_out_err is defined failed_when: - ceph_ansible_std_out_err is defined tags: - run_ceph_ansible >>>>>>> CHANGE (4f8484 Ensure ceph_ansible_playbook_verbosity is an integer) ",,162,0
openstack%2Fnova~stable%2Ftrain~I26b050c402f5721fc490126e9becb643af9279b4,openstack/nova,stable/train,I26b050c402f5721fc490126e9becb643af9279b4,Move confirm resize under semaphore,NEW,2020-09-11 17:20:55.000000000,2022-06-15 12:12:10.000000000,,"[{'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-11 17:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78a4ec49bf735cba5477b030537074a627032e55', 'message': 'Move confirm resize under semaphore\n\nThe \'ResourceTracker.update_available_resource\' periodic task builds\nusage information for the current host by inspecting instances and\nin-progress migrations, combining the two. Specifically, it finds all\ninstances that are not in the \'DELETED\' or \'SHELVED_OFFLOADED\' state,\ncalculates the usage from these, then finds all in-progress migrations\nfor the host that don\'t have an associated instance (to prevent double\naccounting) and includes the usage for these.\n\nIn addition to the periodic task, the \'ResourceTracker\' class has a\nnumber of helper functions to make or drop claims for the inventory\ngenerated by the \'update_available_resource\' periodic task as part of\nthe various instance operations. These helpers naturally assume that\nwhen making a claim for a particular instance or migration, there\nshouldn\'t already be resources allocated for same. Conversely, when\ndropping claims, the resources should currently be allocated. However,\nthe check for *active* instances and *in-progress* migrations in the\nperiodic task means we have to be careful in how we make changes to a\ngiven instance or migration record. Running the periodic task between\nsuch an operation and an attempt to make or drop a claim can result in\nTOCTOU-like races.\n\nThis generally isn\'t an issue: we use the \'COMPUTE_RESOURCE_SEMAPHORE\'\nsemaphore to prevent the periodic task running while we\'re claiming\nresources in helpers like \'ResourceTracker.instance_claim\' and we make\nour changes to the instances and migrations within this context. There\nis one exception though: the \'drop_move_claim\' helper. This function is\nused when dropping a claim for either a cold migration, a resize or a\nlive migration, and will drop usage from either the source host (based\non the ""old"" flavor) for a resize confirm or the destination host (based\non the ""new"" flavor) for a resize revert or live migration rollback.\nUnfortunately, while the function itself is wrapped in the semaphore, no\nchanges to the state or the instance or migration in question are\nprotected by it.\n\nConsider the confirm resize case, which we\'re addressing here. If we\nmark the migration as \'confirmed\' before running \'drop_move_claim\', then\nthe periodic task running between these steps will not account for the\nusage on the source since the migration is allegedly \'confirmed\'. The\ncall to \'drop_move_claim\' will then result in the tracker dropping usage\nthat we\'re no longer accounting for. This ""set migration status before\ndropping usage"" is the current behaviour for both same-cell and\ncross-cell resize, via the \'ComputeManager.confirm_resize\' and\n\'ComputeManager.confirm_snapshot_based_resize_at_source\' functions,\nrespectively. We could reverse those calls and run \'drop_move_claim\'\nbefore marking the migration as \'confirmed\', but while our usage will be\nmomentarily correct, the periodic task running between these steps will\nre-add the usage we just dropped since the migration isn\'t yet\n\'confirmed\'. The correct solution is to close this gap between setting\nthe migration status and dropping the move claim to zero. We do this by\nputting both operations behind the \'COMPUTE_RESOURCE_SEMAPHORE\', just\nlike the claim operations.\n\nConflicts:\n  nova/compute/manager.py\n  nova/compute/resource_tracker.py\n  nova/conductor/tasks/cross_cell_migrate.py\n  nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(stephenfin): The bulk of the conflicts are due to the absence of\nvarious cross-cell resize related patches. The only exception is the\nconflict in \'nova/compute/resource_tracker.py\', which is due to the\nabsence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair\nlocks in resource tracker"") which we can\'t backport since it requires a\nfeature only found in newer versions of \'oslo.concurrency\' and mandates\na lower constraint bump.\n\nChange-Id: I26b050c402f5721fc490126e9becb643af9279b4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\n(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)\n(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)\n'}, {'number': 2, 'created': '2020-09-14 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/602a219f26cbe0cae34b68f69b2398e0042338d5', 'message': 'Move confirm resize under semaphore\n\nThe \'ResourceTracker.update_available_resource\' periodic task builds\nusage information for the current host by inspecting instances and\nin-progress migrations, combining the two. Specifically, it finds all\ninstances that are not in the \'DELETED\' or \'SHELVED_OFFLOADED\' state,\ncalculates the usage from these, then finds all in-progress migrations\nfor the host that don\'t have an associated instance (to prevent double\naccounting) and includes the usage for these.\n\nIn addition to the periodic task, the \'ResourceTracker\' class has a\nnumber of helper functions to make or drop claims for the inventory\ngenerated by the \'update_available_resource\' periodic task as part of\nthe various instance operations. These helpers naturally assume that\nwhen making a claim for a particular instance or migration, there\nshouldn\'t already be resources allocated for same. Conversely, when\ndropping claims, the resources should currently be allocated. However,\nthe check for *active* instances and *in-progress* migrations in the\nperiodic task means we have to be careful in how we make changes to a\ngiven instance or migration record. Running the periodic task between\nsuch an operation and an attempt to make or drop a claim can result in\nTOCTOU-like races.\n\nThis generally isn\'t an issue: we use the \'COMPUTE_RESOURCE_SEMAPHORE\'\nsemaphore to prevent the periodic task running while we\'re claiming\nresources in helpers like \'ResourceTracker.instance_claim\' and we make\nour changes to the instances and migrations within this context. There\nis one exception though: the \'drop_move_claim\' helper. This function is\nused when dropping a claim for either a cold migration, a resize or a\nlive migration, and will drop usage from either the source host (based\non the ""old"" flavor) for a resize confirm or the destination host (based\non the ""new"" flavor) for a resize revert or live migration rollback.\nUnfortunately, while the function itself is wrapped in the semaphore, no\nchanges to the state or the instance or migration in question are\nprotected by it.\n\nConsider the confirm resize case, which we\'re addressing here. If we\nmark the migration as \'confirmed\' before running \'drop_move_claim\', then\nthe periodic task running between these steps will not account for the\nusage on the source since the migration is allegedly \'confirmed\'. The\ncall to \'drop_move_claim\' will then result in the tracker dropping usage\nthat we\'re no longer accounting for. This ""set migration status before\ndropping usage"" is the current behaviour for both same-cell and\ncross-cell resize, via the \'ComputeManager.confirm_resize\' and\n\'ComputeManager.confirm_snapshot_based_resize_at_source\' functions,\nrespectively. We could reverse those calls and run \'drop_move_claim\'\nbefore marking the migration as \'confirmed\', but while our usage will be\nmomentarily correct, the periodic task running between these steps will\nre-add the usage we just dropped since the migration isn\'t yet\n\'confirmed\'. The correct solution is to close this gap between setting\nthe migration status and dropping the move claim to zero. We do this by\nputting both operations behind the \'COMPUTE_RESOURCE_SEMAPHORE\', just\nlike the claim operations.\n\nConflicts:\n  nova/compute/manager.py\n  nova/compute/resource_tracker.py\n  nova/conductor/tasks/cross_cell_migrate.py\n  nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(stephenfin): The bulk of the conflicts are due to the absence of\nvarious cross-cell resize related patches. The only exception is the\nconflict in \'nova/compute/resource_tracker.py\', which is due to the\nabsence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair\nlocks in resource tracker"") which we can\'t backport since it requires a\nfeature only found in newer versions of \'oslo.concurrency\' and mandates\na lower constraint bump.\n\nChange-Id: I26b050c402f5721fc490126e9becb643af9279b4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\n(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)\n(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)\n'}, {'number': 3, 'created': '2021-02-04 17:13:23.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1879878.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c957bd81bae1f23b566b6a51ae96bdca89897719', 'message': 'Move confirm resize under semaphore\n\nThe \'ResourceTracker.update_available_resource\' periodic task builds\nusage information for the current host by inspecting instances and\nin-progress migrations, combining the two. Specifically, it finds all\ninstances that are not in the \'DELETED\' or \'SHELVED_OFFLOADED\' state,\ncalculates the usage from these, then finds all in-progress migrations\nfor the host that don\'t have an associated instance (to prevent double\naccounting) and includes the usage for these.\n\nIn addition to the periodic task, the \'ResourceTracker\' class has a\nnumber of helper functions to make or drop claims for the inventory\ngenerated by the \'update_available_resource\' periodic task as part of\nthe various instance operations. These helpers naturally assume that\nwhen making a claim for a particular instance or migration, there\nshouldn\'t already be resources allocated for same. Conversely, when\ndropping claims, the resources should currently be allocated. However,\nthe check for *active* instances and *in-progress* migrations in the\nperiodic task means we have to be careful in how we make changes to a\ngiven instance or migration record. Running the periodic task between\nsuch an operation and an attempt to make or drop a claim can result in\nTOCTOU-like races.\n\nThis generally isn\'t an issue: we use the \'COMPUTE_RESOURCE_SEMAPHORE\'\nsemaphore to prevent the periodic task running while we\'re claiming\nresources in helpers like \'ResourceTracker.instance_claim\' and we make\nour changes to the instances and migrations within this context. There\nis one exception though: the \'drop_move_claim\' helper. This function is\nused when dropping a claim for either a cold migration, a resize or a\nlive migration, and will drop usage from either the source host (based\non the ""old"" flavor) for a resize confirm or the destination host (based\non the ""new"" flavor) for a resize revert or live migration rollback.\nUnfortunately, while the function itself is wrapped in the semaphore, no\nchanges to the state or the instance or migration in question are\nprotected by it.\n\nConsider the confirm resize case, which we\'re addressing here. If we\nmark the migration as \'confirmed\' before running \'drop_move_claim\', then\nthe periodic task running between these steps will not account for the\nusage on the source since the migration is allegedly \'confirmed\'. The\ncall to \'drop_move_claim\' will then result in the tracker dropping usage\nthat we\'re no longer accounting for. This ""set migration status before\ndropping usage"" is the current behaviour for both same-cell and\ncross-cell resize, via the \'ComputeManager.confirm_resize\' and\n\'ComputeManager.confirm_snapshot_based_resize_at_source\' functions,\nrespectively. We could reverse those calls and run \'drop_move_claim\'\nbefore marking the migration as \'confirmed\', but while our usage will be\nmomentarily correct, the periodic task running between these steps will\nre-add the usage we just dropped since the migration isn\'t yet\n\'confirmed\'. The correct solution is to close this gap between setting\nthe migration status and dropping the move claim to zero. We do this by\nputting both operations behind the \'COMPUTE_RESOURCE_SEMAPHORE\', just\nlike the claim operations.\n\nConflicts:\n  nova/compute/manager.py\n  nova/compute/resource_tracker.py\n  nova/conductor/tasks/cross_cell_migrate.py\n  nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(stephenfin): The bulk of the conflicts are due to the absence of\nvarious cross-cell resize related patches. The only exception is the\nconflict in \'nova/compute/resource_tracker.py\', which is due to the\nabsence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair\nlocks in resource tracker"") which we can\'t backport since it requires a\nfeature only found in newer versions of \'oslo.concurrency\' and mandates\na lower constraint bump.\n\nChange-Id: I26b050c402f5721fc490126e9becb643af9279b4\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nPartial-Bug: #1879878\n(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)\n(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)\n'}]",5,751368,c957bd81bae1f23b566b6a51ae96bdca89897719,21,9,3,15334,,,0,"Move confirm resize under semaphore

The 'ResourceTracker.update_available_resource' periodic task builds
usage information for the current host by inspecting instances and
in-progress migrations, combining the two. Specifically, it finds all
instances that are not in the 'DELETED' or 'SHELVED_OFFLOADED' state,
calculates the usage from these, then finds all in-progress migrations
for the host that don't have an associated instance (to prevent double
accounting) and includes the usage for these.

In addition to the periodic task, the 'ResourceTracker' class has a
number of helper functions to make or drop claims for the inventory
generated by the 'update_available_resource' periodic task as part of
the various instance operations. These helpers naturally assume that
when making a claim for a particular instance or migration, there
shouldn't already be resources allocated for same. Conversely, when
dropping claims, the resources should currently be allocated. However,
the check for *active* instances and *in-progress* migrations in the
periodic task means we have to be careful in how we make changes to a
given instance or migration record. Running the periodic task between
such an operation and an attempt to make or drop a claim can result in
TOCTOU-like races.

This generally isn't an issue: we use the 'COMPUTE_RESOURCE_SEMAPHORE'
semaphore to prevent the periodic task running while we're claiming
resources in helpers like 'ResourceTracker.instance_claim' and we make
our changes to the instances and migrations within this context. There
is one exception though: the 'drop_move_claim' helper. This function is
used when dropping a claim for either a cold migration, a resize or a
live migration, and will drop usage from either the source host (based
on the ""old"" flavor) for a resize confirm or the destination host (based
on the ""new"" flavor) for a resize revert or live migration rollback.
Unfortunately, while the function itself is wrapped in the semaphore, no
changes to the state or the instance or migration in question are
protected by it.

Consider the confirm resize case, which we're addressing here. If we
mark the migration as 'confirmed' before running 'drop_move_claim', then
the periodic task running between these steps will not account for the
usage on the source since the migration is allegedly 'confirmed'. The
call to 'drop_move_claim' will then result in the tracker dropping usage
that we're no longer accounting for. This ""set migration status before
dropping usage"" is the current behaviour for both same-cell and
cross-cell resize, via the 'ComputeManager.confirm_resize' and
'ComputeManager.confirm_snapshot_based_resize_at_source' functions,
respectively. We could reverse those calls and run 'drop_move_claim'
before marking the migration as 'confirmed', but while our usage will be
momentarily correct, the periodic task running between these steps will
re-add the usage we just dropped since the migration isn't yet
'confirmed'. The correct solution is to close this gap between setting
the migration status and dropping the move claim to zero. We do this by
putting both operations behind the 'COMPUTE_RESOURCE_SEMAPHORE', just
like the claim operations.

Conflicts:
  nova/compute/manager.py
  nova/compute/resource_tracker.py
  nova/conductor/tasks/cross_cell_migrate.py
  nova/tests/unit/compute/test_compute_mgr.py

NOTE(stephenfin): The bulk of the conflicts are due to the absence of
various cross-cell resize related patches. The only exception is the
conflict in 'nova/compute/resource_tracker.py', which is due to the
absence of change Ia5e521e0f0c7a78b5ace5de9f343e84d872553f9 (""Use fair
locks in resource tracker"") which we can't backport since it requires a
feature only found in newer versions of 'oslo.concurrency' and mandates
a lower constraint bump.

Change-Id: I26b050c402f5721fc490126e9becb643af9279b4
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Partial-Bug: #1879878
(cherry picked from commit a57800d3825ef2fb833d8024c6f7e5c550f55e2f)
(cherry picked from commit 4fcada57d6c569a3b9c8094cdfb37b77ec2a8cb5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/751368/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/tests/functional/regressions/test_bug_1879878.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",6,78a4ec49bf735cba5477b030537074a627032e55,bug/1879878," def drop_move_claim_at_source(self, context, instance, migration): """"""Drop a move claim after confirming a resize or cold migration."""""" migration.status = 'confirmed' migration.save() self._drop_move_claim( context, instance, migration.source_node, instance.old_flavor, prefix='old_') # NOTE(stephenfin): Unsetting this is unnecessary for cross-cell # resize, since the source and dest instance objects are different and # the source instance will be deleted soon. It's easier to just do it # though. instance.drop_migration_context() @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) self._drop_move_claim( context, instance, nodename, instance_type, prefix='new_') def _drop_move_claim( self, context, instance, nodename, instance_type=None, prefix='new_', ):",,47,43
openstack%2Fkolla~master~I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1,openstack/kolla,master,I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1,Switch OPENSTACK_RELEASE back to master,MERGED,2022-06-07 04:58:36.000000000,2022-06-15 11:57:21.000000000,2022-06-15 11:55:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-07 04:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34ee9b6ed8c37c2a0745f80bee1925da251f8163', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nChange-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1\n'}, {'number': 2, 'created': '2022-06-07 05:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/42da715ff37f34f2d1728d8b7fca47af187ebf62', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905\nChange-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1\n'}, {'number': 3, 'created': '2022-06-08 12:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c90657c42bf64fe9114cd53869187b652ed520f', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905\nChange-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1\n'}, {'number': 4, 'created': '2022-06-09 07:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b3763adbca4b99898faff32cd4600d6c2f57816', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nCap openstacksdk in kolla-toolbox to avoid ansible-openstack-collection\nfrom failing.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905\nChange-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1\n'}, {'number': 5, 'created': '2022-06-09 08:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c6b572bda6befeafac4c8008b6abebfc8561008', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nCap openstacksdk in kolla-toolbox to avoid ansible-openstack-collection\nfrom failing.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905\nChange-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1\n'}, {'number': 6, 'created': '2022-06-09 09:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6af9d430604b7faed084651045f7b6cc966b41fe', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nCap openstacksdk in kolla-toolbox to avoid ansible-openstack-collection\nfrom failing.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905\nChange-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1\n'}, {'number': 7, 'created': '2022-06-09 10:52:28.000000000', 'files': ['docker/kolla-toolbox/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/07a65c9061fe34bbbd39b5247df54ae2ef8a4c5c', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nCap openstacksdk in kolla-toolbox to avoid ansible-openstack-collection\nfrom failing.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905\nChange-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1\n'}]",8,844904,07a65c9061fe34bbbd39b5247df54ae2ef8a4c5c,43,5,7,22629,,,0,"Switch OPENSTACK_RELEASE back to master

Cap openstacksdk in kolla-toolbox to avoid ansible-openstack-collection
from failing.

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/844905
Change-Id: I4d7dcc413cd9ab0b9db550e1aed7d2229b04c5d1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/04/844904/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,34ee9b6ed8c37c2a0745f80bee1925da251f8163,,"OPENSTACK_RELEASE = 'master'DELOREAN = ""https://trunk.rdoproject.org/centos8-master/"" \DELOREAN_DEPS = ""https://trunk.rdoproject.org/centos8-master/"" \","OPENSTACK_RELEASE = 'yoga'DELOREAN = ""https://trunk.rdoproject.org/centos8-yoga/"" \DELOREAN_DEPS = ""https://trunk.rdoproject.org/centos8-yoga/"" \",3,3
openstack%2Fneutron-tempest-plugin~master~I6b5b35ff92d533224ff26cbf2e64bbff62ee308c,openstack/neutron-tempest-plugin,master,I6b5b35ff92d533224ff26cbf2e64bbff62ee308c,Set mac inside vm to the vlan interface,MERGED,2022-06-03 12:59:13.000000000,2022-06-15 11:52:40.000000000,2022-06-15 11:52:40.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 31291}]","[{'number': 1, 'created': '2022-06-03 12:59:13.000000000', 'files': ['neutron_tempest_plugin/common/ip.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/823b1a05bf53715a9d353818c6c6987f1e20d5dd', 'message': 'Set mac inside vm to the vlan interface\n\nmac address should match the neutron port mac address\n\nChange-Id: I6b5b35ff92d533224ff26cbf2e64bbff62ee308c\n'}]",5,844584,823b1a05bf53715a9d353818c6c6987f1e20d5dd,11,6,1,30102,,,0,"Set mac inside vm to the vlan interface

mac address should match the neutron port mac address

Change-Id: I6b5b35ff92d533224ff26cbf2e64bbff62ee308c
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/84/844584/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/common/ip.py'],1,823b1a05bf53715a9d353818c6c6987f1e20d5dd,mac_vlan_trunk," def configure_vlan(self, addresses, port, vlan_tag, subport_ips, mac=None): if mac: self.set_link_address(address=mac, device=subport_device) return self.configure_vlan(addresses, port, vlan_tag, subport_ips, subport['mac_address']) def set_link_address(self, address, device): command = ['set', 'address', address, 'dev', device] return self.execute('link', *command) "," def configure_vlan(self, addresses, port, vlan_tag, subport_ips): return self.configure_vlan(addresses, port, vlan_tag, subport_ips)",9,2
openstack%2Fdevstack~stable%2Fyoga~I831889a09fabe5bed5522d17e352ec8009eac321,openstack/devstack,stable/yoga,I831889a09fabe5bed5522d17e352ec8009eac321,Move openEuler job to experimental pipeline,ABANDONED,2022-04-13 23:53:38.000000000,2022-06-15 11:40:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-04-13 23:53:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/45c6d15da9b975f2c6938f598166e299dc7a90d3', 'message': 'Move openEuler job to experimental pipeline\n\nOpenEuler job fails 100% of the time. As discussed in QA meeting,\nwe agreed to move OpenEuler job to experimental pipeline.\n- https://meetings.opendev.org/meetings/qa/2022/qa.2022-03-22-15.00.log.html#l-76\n\nOnce it is fixed, we can think of adding back to regular pipeline.\n\nChange-Id: I831889a09fabe5bed5522d17e352ec8009eac321\n(cherry picked from commit 45b029064f3f9ebb94cca97e572d9c0500abe21f)\n'}]",1,837791,45c6d15da9b975f2c6938f598166e299dc7a90d3,4,2,1,8556,,,0,"Move openEuler job to experimental pipeline

OpenEuler job fails 100% of the time. As discussed in QA meeting,
we agreed to move OpenEuler job to experimental pipeline.
- https://meetings.opendev.org/meetings/qa/2022/qa.2022-03-22-15.00.log.html#l-76

Once it is fixed, we can think of adding back to regular pipeline.

Change-Id: I831889a09fabe5bed5522d17e352ec8009eac321
(cherry picked from commit 45b029064f3f9ebb94cca97e572d9c0500abe21f)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/91/837791/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,45c6d15da9b975f2c6938f598166e299dc7a90d3,, - devstack-platform-openEuler-20.03-SP2, - devstack-platform-openEuler-20.03-SP2,1,1
openstack%2Ftempest~master~I7d5534f42d5422b06cd32ec01480879a5b10b479,openstack/tempest,master,I7d5534f42d5422b06cd32ec01480879a5b10b479,Add openstack-tox-py310 job as nv,ABANDONED,2022-05-11 12:52:21.000000000,2022-06-15 11:32:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-11 12:52:21.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6277b67a1ca31155136b66c57d36bc4343e3a2f0', 'message': ""Add openstack-tox-py310 job as nv\n\nLet's test against py3.10 to prepare and to make sure the project\nis compatible with py3.10.\n\nChange-Id: I7d5534f42d5422b06cd32ec01480879a5b10b479\n""}]",5,841423,6277b67a1ca31155136b66c57d36bc4343e3a2f0,9,1,1,22873,,,0,"Add openstack-tox-py310 job as nv

Let's test against py3.10 to prepare and to make sure the project
is compatible with py3.10.

Change-Id: I7d5534f42d5422b06cd32ec01480879a5b10b479
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/841423/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6277b67a1ca31155136b66c57d36bc4343e3a2f0,qa-py310, - openstack-tox-py310: voting: false,,2,0
openstack%2Fproject-config~master~I1c410a5a40d79b81e177e69468b17c0c34aafd4f,openstack/project-config,master,I1c410a5a40d79b81e177e69468b17c0c34aafd4f,Switch back translation-update jobs to install python3.8,MERGED,2022-06-15 07:51:27.000000000,2022-06-15 11:30:28.000000000,2022-06-15 11:30:28.000000000,"[{'_account_id': 5263}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-06-15 07:51:27.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/362d97a0bc9b646eb1ca7ffd6cf0d30107b6aad9', 'message': ""Switch back translation-update jobs to install python3.8\n\n[1] switch propose-updates job to install python3.9\nbut there are translation update jobs that inherits\nfrom propose-updates and runs on ubuntu-bionic.\n\nubuntu-bionic don't have python3.9 so these jobs fail.\nThis patch switches these jobs back so they don't\nattempt to install python3.9.\n\n[1] https://review.opendev.org/c/openstack/project-config/+/844422\n\nChange-Id: I1c410a5a40d79b81e177e69468b17c0c34aafd4f\n""}]",4,845892,362d97a0bc9b646eb1ca7ffd6cf0d30107b6aad9,11,6,1,13861,,,0,"Switch back translation-update jobs to install python3.8

[1] switch propose-updates job to install python3.9
but there are translation update jobs that inherits
from propose-updates and runs on ubuntu-bionic.

ubuntu-bionic don't have python3.9 so these jobs fail.
This patch switches these jobs back so they don't
attempt to install python3.9.

[1] https://review.opendev.org/c/openstack/project-config/+/844422

Change-Id: I1c410a5a40d79b81e177e69468b17c0c34aafd4f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/92/845892/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,362d97a0bc9b646eb1ca7ffd6cf0d30107b6aad9,fix-propose-updates, # ubuntu-bionic don't have python 3.9 python_version: 3.8 # ubuntu-bionic don't have python 3.9 python_version: 3.8,,4,0
openstack%2Ftripleo-docs~master~I62c8ba899e23c3235fd1aad40d0051c7fc1c9267,openstack/tripleo-docs,master,I62c8ba899e23c3235fd1aad40d0051c7fc1c9267,Remove wrong repo in 'Get Images' section,ABANDONED,2022-06-03 12:28:43.000000000,2022-06-15 11:16:28.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 12:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/aa50197960c676ad5068b8eb0b5bb03dfd46631d', 'message': ""Remove wrong repo in 'Get Images' section\n\nAs step 2 [1] of 'Get Images' section mentions to install the\ncurrent-tripleo repo and deps repository, but we only installs\ncurrent-tripleo repo only.\n\nThis change remove the unnecessary 'and deps repository' from step 2.\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_overcloud.html#get-images\n\nChange-Id: I62c8ba899e23c3235fd1aad40d0051c7fc1c9267\n""}, {'number': 2, 'created': '2022-06-03 12:53:02.000000000', 'files': ['deploy-guide/source/deployment/install_overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/cc3528b8c583cf8bd2f1f80811175c9695c89d1e', 'message': ""Remove wrong repo in 'Get Images' section\n\nAs step 2 [1] of 'Get Images' section mentions to install the\ncurrent-tripleo repo and deps repository, but we only installs\ncurrent-tripleo repo only.\n\nThis change remove the unnecessary 'and deps repository' from step 2.\n\n[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_overcloud.html#get-images\n\nCloses-Bug: 1976559\nChange-Id: I62c8ba899e23c3235fd1aad40d0051c7fc1c9267\n""}]",1,844579,cc3528b8c583cf8bd2f1f80811175c9695c89d1e,6,6,2,20733,,,0,"Remove wrong repo in 'Get Images' section

As step 2 [1] of 'Get Images' section mentions to install the
current-tripleo repo and deps repository, but we only installs
current-tripleo repo only.

This change remove the unnecessary 'and deps repository' from step 2.

[1] https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/install_overcloud.html#get-images

Closes-Bug: 1976559
Change-Id: I62c8ba899e23c3235fd1aad40d0051c7fc1c9267
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/79/844579/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/install_overcloud.rst'],1,aa50197960c676ad5068b8eb0b5bb03dfd46631d,lp_1976559,#. Install the ``current-tripleo`` delorean repository:,#. Install the ``current-tripleo`` delorean repository and deps repository:,1,1
openstack%2Fkolla~stable%2Ftrain~I5efab66e487e06abd1a56af97d7e7caa1ebc880d,openstack/kolla,stable/train,I5efab66e487e06abd1a56af97d7e7caa1ebc880d,Use jinja2.pass_context instead of contextfilter,ABANDONED,2022-03-28 11:48:32.000000000,2022-06-15 11:11:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-03-28 11:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/139c0b4ff8abdb3243aecb278d747c67f649e619', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}, {'number': 2, 'created': '2022-03-28 17:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c43abdae5af8c6935c5f0bff465680e53b821027', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}, {'number': 3, 'created': '2022-03-28 17:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f8d18aa7e69524065cc5f5919b0e0299fef80b9b', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}, {'number': 4, 'created': '2022-03-28 19:17:31.000000000', 'files': ['kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/48c28005d7f5aed8b4b21c9dbe5e502dee86b0b2', 'message': ""Use jinja2.pass_context instead of contextfilter\n\nThe contextfilter decorator was deprecated in jinja2 3.0.0, and has been\ndropped in 3.1.0. This results in the following warning, and failed\nattempts to use filters:\n\n    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:\n    module 'jinja2' has no attribute 'contextfilter'\n\nThis change switches to use the pass_context decorator. The minimum\nversion of Jinja2 is raised to 3 to ensure pass_context is present.\n\nThis change has been updated to also support Jinja2 2.x releases,\nsince the Wallaby upper constraints specify 2.11.3. In practice, most\nusers will not use UC to install kolla.\n\nCoAuthored-by: Mark Goddard <mark@stackhpc.com>\n\nChange-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d\n""}]",1,835345,48c28005d7f5aed8b4b21c9dbe5e502dee86b0b2,12,2,4,24072,,,0,"Use jinja2.pass_context instead of contextfilter

The contextfilter decorator was deprecated in jinja2 3.0.0, and has been
dropped in 3.1.0. This results in the following warning, and failed
attempts to use filters:

    [WARNING]: Skipping plugin (filters.py) as it seems to be invalid:
    module 'jinja2' has no attribute 'contextfilter'

This change switches to use the pass_context decorator. The minimum
version of Jinja2 is raised to 3 to ensure pass_context is present.

This change has been updated to also support Jinja2 2.x releases,
since the Wallaby upper constraints specify 2.11.3. In practice, most
users will not use UC to install kolla.

CoAuthored-by: Mark Goddard <mark@stackhpc.com>

Change-Id: I5efab66e487e06abd1a56af97d7e7caa1ebc880d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/835345/4 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/template/filters.py', 'releasenotes/notes/jinja2-pass-context-3f3febcd944e3a51.yaml']",2,139c0b4ff8abdb3243aecb278d747c67f649e619,,-- fixes: - | Fixes an issue seen when using Jinja2 3.1.0. ,,11,2
openstack%2Fheat~stable%2Fwallaby~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/wallaby,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2021-07-30 03:56:42.000000000,2022-06-15 11:11:37.000000000,2022-06-15 11:09:53.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-30 03:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/60a1377ac7fc417da5f838163d0d8bc9d79aa946', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 2, 'created': '2021-07-30 06:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dcdf9431fcd4b318d3aba157c7e7077e4e887e19', 'message': ""WIP Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 3, 'created': '2021-08-01 04:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dc778e9d896536474f79b6648040be58a71c730f', 'message': ""WIP Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 4, 'created': '2021-08-01 05:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/864be0cfe0d03ad275f03184a137f2b99d568d6f', 'message': ""WIP Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 5, 'created': '2021-08-01 06:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f9aac94c4ffd60ce8ae6cda42e2d59baff58d179', 'message': ""WIP Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 6, 'created': '2021-08-01 07:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b81891272dd223de73c400b979a829cd1cbcbfb0', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 7, 'created': '2021-08-01 09:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cb782faf0636b75c50497f28408d8df6b67a3bcc', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 8, 'created': '2021-08-01 11:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4d07a474dc7db1a44ad7281bac564c6fd6b5710c', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 9, 'created': '2021-08-01 14:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6b31a239052847a863e695216395e09b1448f0ec', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 10, 'created': '2021-08-01 16:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0e5da27335946c9b0b44878424fd606c9c6d2b8', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 11, 'created': '2021-08-02 02:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c985d621b7b0fc4f8076a8e2816f3296782c3766', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 12, 'created': '2021-08-02 05:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/091236bad966dd1755719e923c0626d898a81733', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 13, 'created': '2021-08-03 02:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/094eb2f2d54bb8e1f3b9128af28036b7be46fdfe', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nMakes the grenade job non-voting for wallaby till devstack pip\nissue with links in constraints has been fixed.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 14, 'created': '2021-08-03 03:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fc9943ec60e4df2f7fe168d0883f7b2335f2455b', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nMakes the grenade job non-voting for wallaby till devstack pip\nissue with links in constraints has been fixed.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 15, 'created': '2021-08-03 04:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c3f4a8222917f2b2a54fca1e9c93e30067b36472', 'message': ""Don't use master constraints for stable branches\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nMakes the grenade job non-voting for wallaby till devstack pip\nissue with links in constraints has been fixed.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n""}, {'number': 16, 'created': '2022-06-08 04:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dc29afd3c13a6e91a5502d26bb19b3622202b131', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n""}, {'number': 17, 'created': '2022-06-15 07:33:11.000000000', 'files': ['roles/run-heat-tests/defaults/main.yaml', 'roles/run-heat-tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/d05b683ef65996ae5d1d6cc31d547169669abf45', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)\n""}]",5,802986,d05b683ef65996ae5d1d6cc31d547169669abf45,68,2,17,8833,,,0,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
(cherry picked from commit 92db02a56e85dd5f890160217a16dc99394b927d)
",git fetch https://review.opendev.org/openstack/heat refs/changes/86/802986/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-heat-tests/defaults/main.yaml', 'roles/run-heat-tests/tasks/main.yaml']",2,60a1377ac7fc417da5f838163d0d8bc9d79aa946,venv-tempest-stable/xena-stable/wallaby,"- name: Set OS_TEST_TIMEOUT if requested set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'OS_TEST_TIMEOUT': tempest_test_timeout}) }}"" when: tempest_test_timeout != '' - name: Set TOX_CONSTRAINTS_FILE set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'UPPER_CONSTRAINTS_FILE': stable_constraints_file}) | combine({'TOX_CONSTRAINTS_FILE': stable_constraints_file}) }}"" environment: ""{{ tempest_tox_environment }}"""," environment: '{{ {""OS_TEST_TIMEOUT"": tempest_test_timeout} if tempest_test_timeout else {} }}'",12,1
openstack%2Freleases~master~I19ed4de233f77469d2cede80e7e7e07ab42e2342,openstack/releases,master,I19ed4de233f77469d2cede80e7e7e07ab42e2342,Release taskflow 5.0.0,MERGED,2022-06-13 18:39:43.000000000,2022-06-15 11:10:25.000000000,2022-06-15 11:10:25.000000000,"[{'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-06-13 18:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c76be4c639075808563e96fb9ae908d8deb7f267', 'message': 'Release taskflow 4.8.0\n\nIncludes a bug fix for issues with newer networkx/pydot and changes the version classifier to remove python 3.6 and 3.7 while adding 3.9.\n\nChange-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342\n'}, {'number': 2, 'created': '2022-06-14 15:12:45.000000000', 'files': ['deliverables/_independent/taskflow.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e0dbe6219b3bbccdc17058eb890451f6601397b3', 'message': 'Release taskflow 5.0.0\n\nIncludes a bug fix for issues with newer networkx/pydot and changes the version classifier to remove python 3.6 and 3.7 while adding 3.9.\n\nChange-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342\n'}]",3,845621,e0dbe6219b3bbccdc17058eb890451f6601397b3,13,6,2,11628,,,0,"Release taskflow 5.0.0

Includes a bug fix for issues with newer networkx/pydot and changes the version classifier to remove python 3.6 and 3.7 while adding 3.9.

Change-Id: I19ed4de233f77469d2cede80e7e7e07ab42e2342
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/845621/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/taskflow.yaml'],1,c76be4c639075808563e96fb9ae908d8deb7f267,, - version: 4.8.0 projects: - repo: openstack/taskflow hash: 6dfc18013a2570c839828d6d879a9ab6a4964d91,,4,0
openstack%2Fneutron-fwaas~master~I102520d28c9189a38cd1760b040eecdd4046b16f,openstack/neutron-fwaas,master,I102520d28c9189a38cd1760b040eecdd4046b16f,Remove usage of six,MERGED,2022-06-03 06:14:52.000000000,2022-06-15 10:45:34.000000000,2022-06-15 10:43:44.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 30380}, {'_account_id': 31412}, {'_account_id': 32029}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-06-03 06:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a060919c3ca8637506c844decf55fe3e31d6c5ea', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.iteritems\n- six.string_types\n\nChange-Id: I102520d28c9189a38cd1760b040eecdd4046b16f\n'}, {'number': 2, 'created': '2022-06-03 06:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/98f37fca0e670305e3d96a53561acab963118e7c', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.iteritems\n- six.string_types\n\nChange-Id: I102520d28c9189a38cd1760b040eecdd4046b16f\n'}, {'number': 3, 'created': '2022-06-03 06:36:23.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/fwaas_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e4555733d40c6b84ec77aaaee25e89f81354ac60', 'message': 'Remove usage of six\n\nRemove six-library Replace the following items with Python 3 style code.\n- six.iteritems\n- six.string_types\n\nChange-Id: I102520d28c9189a38cd1760b040eecdd4046b16f\n'}]",3,844546,e4555733d40c6b84ec77aaaee25e89f81354ac60,16,7,3,32020,,,0,"Remove usage of six

Remove six-library Replace the following items with Python 3 style code.
- six.iteritems
- six.string_types

Change-Id: I102520d28c9189a38cd1760b040eecdd4046b16f
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/46/844546/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/services/firewall/service_drivers/agents/test_agents.py', 'neutron_fwaas/tests/unit/db/firewall/v2/test_firewall_db_v2.py', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/services/firewall/service_drivers/agents/l2/fwaas_v2.py']",4,a060919c3ca8637506c844decf55fe3e31d6c5ea,," return (port if isinstance(port, str)","import six return (port if isinstance(port, six.string_types)",25,29
openstack%2Ftripleo-ci~master~If36c633f1a1898cb88fe36ba52aae3635e175ef7,openstack/tripleo-ci,master,If36c633f1a1898cb88fe36ba52aae3635e175ef7,Heat: Missing trigger for scenario 001 job,MERGED,2022-06-13 08:03:05.000000000,2022-06-15 10:42:14.000000000,2022-06-15 10:42:14.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-13 08:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/22d4680bd79b7a52973d42902bedd4e773c1fe9c', 'message': 'Heat: Missing trigger for scenario 001 job\n\nAny change related to Heat should be tested by the scenario 001 job.\nThis change fixes the missing trigger.\n\nChange-Id: If36c633f1a1898cb88fe36ba52aae3635e175ef7\n'}, {'number': 2, 'created': '2022-06-13 08:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6734c4bed6b7b4e76bd174575fbce85cd1d421e7', 'message': 'Heat: Missing trigger for scenario 001 job\n\nAny change related to Heat should be tested by the scenario 001 job.\nThis change fixes the missing trigger.\n\nChange-Id: If36c633f1a1898cb88fe36ba52aae3635e175ef7\n'}, {'number': 3, 'created': '2022-06-15 05:58:08.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3718815d178ba7c9e6211bd495473fea320030c', 'message': 'Heat: Missing trigger for scenario 001 job\n\nAny change related to Heat should be tested by the scenario 001 job.\nThis change fixes the missing trigger.\n\nChange-Id: If36c633f1a1898cb88fe36ba52aae3635e175ef7\n'}]",3,845562,c3718815d178ba7c9e6211bd495473fea320030c,16,5,3,9816,,,0,"Heat: Missing trigger for scenario 001 job

Any change related to Heat should be tested by the scenario 001 job.
This change fixes the missing trigger.

Change-Id: If36c633f1a1898cb88fe36ba52aae3635e175ef7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/845562/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,22d4680bd79b7a52973d42902bedd4e773c1fe9c,tripleo-ci-coverage, - ^((docker|puppet)/services|deployment)/.*heat.*$ - ^manifests/profile/(base|pacemaker)/heat.*$,,2,0
openstack%2Ftripleo-heat-templates~master~Ide631ce6fdb837e6d874af4f623b9f9de95c818d,openstack/tripleo-heat-templates,master,Ide631ce6fdb837e6d874af4f623b9f9de95c818d,[WIP] Use an overlay mount for /run,ABANDONED,2022-06-15 07:34:31.000000000,2022-06-15 09:58:32.000000000,,[],"[{'number': 1, 'created': '2022-06-15 07:34:31.000000000', 'files': ['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/deprecated/multipathd-container.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95080716d95fc5aed8ecea0150c2525ab112ccbb', 'message': ""[WIP] Use an overlay mount for /run\n\nThis means the container will add an overlay onto the host /run, so that\ncontainer content won't leak on the host; container will still be able\nto access the host /run content.\n\nChange-Id: Ide631ce6fdb837e6d874af4f623b9f9de95c818d\n""}]",0,845889,95080716d95fc5aed8ecea0150c2525ab112ccbb,2,0,1,28223,,,0,"[WIP] Use an overlay mount for /run

This means the container will add an overlay onto the host /run, so that
container content won't leak on the host; container will still be able
to access the host /run content.

Change-Id: Ide631ce6fdb837e6d874af4f623b9f9de95c818d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/845889/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-producer-container-puppet.yaml', 'deployment/designate/designate-worker-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/deprecated/nova/nova-libvirt-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/designate/designate-mdns-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/unbound/unbound-container-ansible.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-libvirt-common.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/designate/designate-bind-container.yaml', 'deployment/metrics/collectd-container-ansible.yaml', 'deployment/designate/designate-sink-container-puppet.yaml', 'deployment/deprecated/multipathd-container.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",21,95080716d95fc5aed8ecea0150c2525ab112ccbb,run-overlay, - /run:/run:O, - /run:/run,26,26
openstack%2Ftripleo-ansible~master~I670ebe013f4652ea3bcc190c3450321cb58f3623,openstack/tripleo-ansible,master,I670ebe013f4652ea3bcc190c3450321cb58f3623,[WIP] Use an overlay mount for /run,ABANDONED,2022-06-15 07:34:46.000000000,2022-06-15 09:58:22.000000000,,[],"[{'number': 1, 'created': '2022-06-15 07:34:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_iscsid/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/949d15b7a1401746ccf2f02859406955728e4951', 'message': ""[WIP] Use an overlay mount for /run\n\nThis means the container will add an overlay onto the host /run, so that\ncontainer content won't leak on the host; container will still be able\nto access the host /run content.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/845889\nChange-Id: I670ebe013f4652ea3bcc190c3450321cb58f3623\n""}]",0,845890,949d15b7a1401746ccf2f02859406955728e4951,2,0,1,28223,,,0,"[WIP] Use an overlay mount for /run

This means the container will add an overlay onto the host /run, so that
container content won't leak on the host; container will still be able
to access the host /run content.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/845889
Change-Id: I670ebe013f4652ea3bcc190c3450321cb58f3623
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/845890/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_iscsid/defaults/main.yml'],1,949d15b7a1401746ccf2f02859406955728e4951,run-overlay, - /run:/run:O, - /run:/run,1,1
openstack%2Fopenstack-helm-infra~master~I51cc6d1de0034affdc0cc616298c2d2cd3476dbb,openstack/openstack-helm-infra,master,I51cc6d1de0034affdc0cc616298c2d2cd3476dbb,[ceph-client] Handle multiple mon versions in the pool job,MERGED,2022-06-14 19:45:08.000000000,2022-06-15 08:06:38.000000000,2022-06-15 08:05:23.000000000,"[{'_account_id': 8898}, {'_account_id': 21040}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 32190}, {'_account_id': 32433}, {'_account_id': 34520}]","[{'number': 1, 'created': '2022-06-14 19:45:08.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2c8de85c9d8d7cf90e91aafb7ee92ede5e15c13', 'message': '[ceph-client] Handle multiple mon versions in the pool job\n\nThe mon version check in the rbd-pool job can cause the script to\nerror and abort if there are multiple mon versions present in the\nCeph cluster. This change chooses the lowest-numbered major version\nfrom the available mon versions when performing the version check\nsince the check is performed in order to determine the right way to\nparse JSON output from a mon query.\n\nChange-Id: I51cc6d1de0034affdc0cc616298c2d2cd3476dbb\n'}]",0,845814,d2c8de85c9d8d7cf90e91aafb7ee92ede5e15c13,12,8,1,29974,,,0,"[ceph-client] Handle multiple mon versions in the pool job

The mon version check in the rbd-pool job can cause the script to
error and abort if there are multiple mon versions present in the
Ceph cluster. This change chooses the lowest-numbered major version
from the available mon versions when performing the version check
since the check is performed in order to determine the right way to
parse JSON output from a mon query.

Change-Id: I51cc6d1de0034affdc0cc616298c2d2cd3476dbb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/14/845814/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml', 'releasenotes/notes/ceph-client.yaml']",3,d2c8de85c9d8d7cf90e91aafb7ee92ede5e15c13,, - 0.1.35 Handle multiple mon versions in the pool job,,3,2
openstack%2Fhorizon~master~Ib4598266b2dcb6a975b990a4a6445886b9286bb4,openstack/horizon,master,Ib4598266b2dcb6a975b990a4a6445886b9286bb4,Added ec2 credentials to openstack dashboard,NEW,2022-06-14 10:11:30.000000000,2022-06-15 07:43:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-14 10:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b75f64dd21e2a778f828f1094a54bee14b0f524e', 'message': 'Added ec2 credentials to openstack dashboard\n\nChange-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4\n'}, {'number': 2, 'created': '2022-06-14 13:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3580f21c8fa756b149fa463a9d040de9ce76b381', 'message': 'Added ec2 credentials to openstack dashboard\n\nChange-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4\n'}, {'number': 3, 'created': '2022-06-14 13:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/df0d2b102984cb1e593ac50cbf98942fc8e203b8', 'message': 'Added ec2 credentials to openstack dashboard\n\nChange-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4\n'}, {'number': 4, 'created': '2022-06-14 15:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb8b81fea539eef8c8b9d74d3ecceb8b92e10f15', 'message': 'Added ec2 credentials to openstack dashboard\n\nChange-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4\n'}, {'number': 5, 'created': '2022-06-15 06:19:32.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/_detail_overview.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/_success.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/views.py', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/detail.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/panel.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/tables.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/__init__.py', 'openstack_dashboard/enabled/_3100_identity_ec2_credentials_panel.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/tests.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/create.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/urls.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/success.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/forms.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/_create.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/index.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/187f7b9e4d0dbf46931c05d462418d5738511a8c', 'message': 'Added ec2 credentials to openstack dashboard\n\nChange-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4\n'}]",384,845722,187f7b9e4d0dbf46931c05d462418d5738511a8c,10,1,5,24679,,,0,"Added ec2 credentials to openstack dashboard

Change-Id: Ib4598266b2dcb6a975b990a4a6445886b9286bb4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/845722/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/_detail_overview.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/_success.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/views.py', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/detail.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/panel.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/tables.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/__init__.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/tests.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/create.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/urls.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/success.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/forms.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/_create.html', 'openstack_dashboard/dashboards/identity/ec2_credentials/templates/ec2_credentials/index.html']",16,b75f64dd21e2a778f828f1094a54bee14b0f524e,ec2_credentials,"{% extends 'base.html' %} {% load i18n %} {% block title %}{% trans ""EC2 Credentials"" %}{% endblock %} {% block page_header %} {% include ""horizon/common/_domain_page_header.html"" with title=page_title %} {% endblock page_header %} {% block main %} {{ table.render }} {% endblock %} ",,499,1
openstack%2Fpbr~master~I7902c33a76c4cce8f50307843476e5d9435c9e2c,openstack/pbr,master,I7902c33a76c4cce8f50307843476e5d9435c9e2c,Specify Changelog procedure,MERGED,2022-06-13 19:45:03.000000000,2022-06-15 07:29:23.000000000,2022-06-15 07:28:11.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-13 19:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/26d50efe05269672f64d02244565e922b41455bf', 'message': 'Specify Changelog procedure\n\nUpdate the CONTRIBUTING file to specify how the changelog is managed.\nThis allows contributors to follow best-practices to ensure the\nChangelog stays up-to-date with all changes.\n\nChange-Id: I7902c33a76c4cce8f50307843476e5d9435c9e2c\n'}, {'number': 2, 'created': '2022-06-13 21:07:45.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/1eadf23b94846a0ebc8402e09190ed1de6dbffd0', 'message': 'Specify Changelog procedure\n\nUpdate the CONTRIBUTING file to specify how release notes are managed.\nThis allows contributors to follow best-practices to ensure the\nauto-generated Changelog stays up-to-date.\n\nChange-Id: I7902c33a76c4cce8f50307843476e5d9435c9e2c\n'}]",2,845628,1eadf23b94846a0ebc8402e09190ed1de6dbffd0,12,3,2,34946,,,0,"Specify Changelog procedure

Update the CONTRIBUTING file to specify how release notes are managed.
This allows contributors to follow best-practices to ensure the
auto-generated Changelog stays up-to-date.

Change-Id: I7902c33a76c4cce8f50307843476e5d9435c9e2c
",git fetch https://review.opendev.org/openstack/pbr refs/changes/28/845628/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,26d50efe05269672f64d02244565e922b41455bf,,The Changelog is managed through the tool `reno <https://pypi.org/project/reno/>`_. This tool will create a new file under the directory ``releasenotes`` that should be checked in with the code changes. ,,5,0
openstack%2Fhorizon~master~I8e3503333a94168152cff4282edc622dae38646d,openstack/horizon,master,I8e3503333a94168152cff4282edc622dae38646d,Update python testing as per zed cycle teting runtime,ABANDONED,2022-06-04 06:59:58.000000000,2022-06-15 07:04:51.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-04 06:59:58.000000000', 'files': ['releasenotes/notes/drop-python-3-6-and-3-7-accaac0c8c31844d.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3ab98f21065016faac1530bb4596fc67a600fed2', 'message': 'Update python testing as per zed cycle teting runtime\n\nIn Zed cycle, we have dropped the python 3.6/3.7[1] testing\nand its support. Removing the py36 centos8 job as well as\nupdating the python classifier also to reflect the same.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/zed.html\n\nChange-Id: I8e3503333a94168152cff4282edc622dae38646d\n'}]",1,844677,3ab98f21065016faac1530bb4596fc67a600fed2,4,2,1,27190,,,0,"Update python testing as per zed cycle teting runtime

In Zed cycle, we have dropped the python 3.6/3.7[1] testing
and its support. Removing the py36 centos8 job as well as
updating the python classifier also to reflect the same.

[1] https://governance.openstack.org/tc/reference/runtimes/zed.html

Change-Id: I8e3503333a94168152cff4282edc622dae38646d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/844677/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-python-3-6-and-3-7-accaac0c8c31844d.yaml', 'setup.cfg', 'tox.ini']",3,3ab98f21065016faac1530bb4596fc67a600fed2,,"envlist = pep8,py38,py39,releasenotes,npm,py3-dj32 py{3,38,39}:PYTHONWARNINGS = once,ignore::PendingDeprecationWarning,ignore::ImportWarning:backports","envlist = pep8,py36,py39,releasenotes,npm,py3-dj32 py{3,36,37}:PYTHONWARNINGS = once,ignore::PendingDeprecationWarning,ignore::ImportWarning:backports",7,4
openstack%2Fheat~stable%2Fxena~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/xena,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-14 09:36:54.000000000,2022-06-15 06:59:05.000000000,2022-06-15 06:57:45.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 09:36:54.000000000', 'files': ['roles/run-heat-tests/defaults/main.yaml', 'roles/run-heat-tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/92db02a56e85dd5f890160217a16dc99394b927d', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)\n""}]",0,845676,92db02a56e85dd5f890160217a16dc99394b927d,10,2,1,9816,,,0,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
(cherry picked from commit b95e6025f61417e7abc24a26d991bd26c57ee444)
",git fetch https://review.opendev.org/openstack/heat refs/changes/76/845676/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-heat-tests/defaults/main.yaml', 'roles/run-heat-tests/tasks/main.yaml']",2,92db02a56e85dd5f890160217a16dc99394b927d,venv-tempest-stable/xena,"- name: Set OS_TEST_TIMEOUT if requested set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'OS_TEST_TIMEOUT': tempest_test_timeout}) }}"" when: tempest_test_timeout != '' - name: Set TOX_CONSTRAINTS_FILE set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'UPPER_CONSTRAINTS_FILE': constraints_file}) | combine({'TOX_CONSTRAINTS_FILE': constraints_file}) }}"" - name: Allow git to read plugin directories become: true command: git config --system --add safe.directory {{heat_tempest_plugin}} - name: Install plugins command: tox -evenv-tempest -- pip install -c{{constraints_file}} {{heat_tempest_plugin}} become: true args: chdir: ""{{devstack_base_dir}}/tempest"" environment: ""{{ tempest_tox_environment }}"" environment: ""{{ tempest_tox_environment }}"""," become_user: tempest environment: '{{ {""OS_TEST_TIMEOUT"": tempest_test_timeout} if tempest_test_timeout else {} }}'",24,2
openstack%2Fheat~stable%2Fxena~I6aee0719b0cdef2b17666a43074c5c18645fc180,openstack/heat,stable/xena,I6aee0719b0cdef2b17666a43074c5c18645fc180,Log parameters merged,MERGED,2022-06-14 04:37:58.000000000,2022-06-15 06:44:39.000000000,2022-06-15 06:43:15.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 04:37:58.000000000', 'files': ['heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f56ca96325c200749144b2922d20d84ac47c63ef', 'message': 'Log parameters merged\n\nThis can help in troubleshooting.\n\nTask: 45579\nChange-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180\n(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)\n(cherry picked from commit d997d70ca13065d1caf96c06af05d084353ca827)\n'}]",0,845665,f56ca96325c200749144b2922d20d84ac47c63ef,8,2,1,9816,,,0,"Log parameters merged

This can help in troubleshooting.

Task: 45579
Change-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180
(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)
(cherry picked from commit d997d70ca13065d1caf96c06af05d084353ca827)
",git fetch https://review.opendev.org/openstack/heat refs/changes/65/845665/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/environment_util.py'],1,f56ca96325c200749144b2922d20d84ac47c63ef,patches-stable/xena,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.debug(""Deep Merging Parameter: %s"", key) LOG.debug(""Merging Parameter: %s"", key) LOG.debug(""Overriding Parameter: %s"", key)",,6,0
openstack%2Fkolla-ansible~master~I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa,openstack/kolla-ansible,master,I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa,CI: Switch upgrades xena->yoga to yoga->master,MERGED,2022-06-07 05:00:23.000000000,2022-06-15 06:41:00.000000000,2022-06-15 06:38:34.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-06-07 05:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/09ed0cd23a53011dfd0c1a0b235418a06ead3620', 'message': 'Upgrade from Yoga\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}, {'number': 2, 'created': '2022-06-07 05:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb96ca50207dbbece450b919f932f42a83a7a870', 'message': 'Upgrade from Yoga\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}, {'number': 3, 'created': '2022-06-09 07:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f4c780314112b33851463d111b8c9edbed485f46', 'message': 'Upgrade from Yoga\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}, {'number': 4, 'created': '2022-06-09 21:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e0c25f7ed267cf1edaf681ac3f48604e696c9184', 'message': 'Upgrade from Yoga\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}, {'number': 5, 'created': '2022-06-09 21:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cb67e047a72bf7b1334f42f2d2bee376a720e7b', 'message': 'Upgrade from Yoga\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}, {'number': 6, 'created': '2022-06-09 21:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a0d40033693702b22501ceb027e4389f0a7ea52', 'message': 'CI: Switch upgrades xena->yoga to yoga->master\n\nR-17: Switch source images to current release\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}, {'number': 7, 'created': '2022-06-10 06:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/913f20c2ca2984405a36dcb2fe31facb1c429c02', 'message': 'CI: Switch upgrades xena->yoga to yoga->master\n\nR-17: Switch source images to current release\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}, {'number': 8, 'created': '2022-06-13 13:05:15.000000000', 'files': ['tests/run.yml', 'ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ebe570bb840d79f78816d13c72729a5c80f159f0', 'message': 'CI: Switch upgrades xena->yoga to yoga->master\n\nR-17: Switch source images to current release\n\nDisable rocky8 and openeuler jobs as master no longer works with\npython3.6.\n\nChange-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa\n'}]",18,844905,ebe570bb840d79f78816d13c72729a5c80f159f0,38,5,8,22629,,,0,"CI: Switch upgrades xena->yoga to yoga->master

R-17: Switch source images to current release

Disable rocky8 and openeuler jobs as master no longer works with
python3.6.

Change-Id: I89dd99b5f25502f5ebe15a9e90ccecc4bd6feafa
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/844905/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml']",3,09ed0cd23a53011dfd0c1a0b235418a06ead3620,, previous_release: yoga, override-checkout: stable/yoga previous_release: xena override-checkout: stable/yoga,3,6
openstack%2Frpm-packaging~master~Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf,openstack/rpm-packaging,master,Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf,sushy: update to 4.2.0,MERGED,2022-06-14 09:51:32.000000000,2022-06-15 06:31:10.000000000,2022-06-15 06:31:10.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-14 09:51:32.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3a4bc91b470093403ec864f82ca24acc32ec954f', 'message': 'sushy: update to 4.2.0\n\nChange-Id: Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf\n'}]",0,845720,3a4bc91b470093403ec864f82ca24acc32ec954f,8,4,1,6593,,,0,"sushy: update to 4.2.0

Change-Id: Ia5563c1b92c1cdaf03c013a8c73575fc11b691cf
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/20/845720/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,3a4bc91b470093403ec864f82ca24acc32ec954f,,{% set upstream_version = upstream_version('4.2.0') %},{% set upstream_version = upstream_version('3.11.0') %},1,1
openstack%2Frpm-packaging~master~I5223c2eb1e4d45bf0ac87a0931f94199592163dc,openstack/rpm-packaging,master,I5223c2eb1e4d45bf0ac87a0931f94199592163dc,pyghmi: update to 1.5.45,MERGED,2022-06-14 09:54:24.000000000,2022-06-15 06:30:58.000000000,2022-06-15 06:30:58.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-06-14 09:54:24.000000000', 'files': ['openstack/pyghmi/pyghmi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e714edb99f5a45b8feb17a480a3ee78dfe88e989', 'message': 'pyghmi: update to 1.5.45\n\nChange-Id: I5223c2eb1e4d45bf0ac87a0931f94199592163dc\n'}]",0,845721,e714edb99f5a45b8feb17a480a3ee78dfe88e989,8,4,1,6593,,,0,"pyghmi: update to 1.5.45

Change-Id: I5223c2eb1e4d45bf0ac87a0931f94199592163dc
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/21/845721/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pyghmi/pyghmi.spec.j2'],1,e714edb99f5a45b8feb17a480a3ee78dfe88e989,,{% set upstream_version = upstream_version('1.5.45') %},{% set upstream_version = upstream_version('1.5.29') %},1,1
openstack%2Ftripleo-quickstart~master~If1c9dd18353c22545baa0262d49adb5cca3fd4e5,openstack/tripleo-quickstart,master,If1c9dd18353c22545baa0262d49adb5cca3fd4e5,c8 wallaby: Remove double quotes from container namespace,MERGED,2022-06-13 23:55:43.000000000,2022-06-15 06:16:41.000000000,2022-06-15 06:15:24.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-06-13 23:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/835eab2eef6f403ba7030bac3c8fad894482b50c', 'message': 'c8 wallaby: Remove double-quotes from container namespace\n\nCommit 12fc4167c70531da80403746c1f172ec56570679 unexpectedly added\ndouble-quotes around the container namespace, which breaks syntax\nof container-prepare-parameters.yaml\n\nCloses-Bug: #1978508\nChange-Id: If1c9dd18353c22545baa0262d49adb5cca3fd4e5\n'}, {'number': 2, 'created': '2022-06-13 23:56:20.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/31a286cb08b93ad2d3e69c62a0452ceea680fae7', 'message': 'c8 wallaby: Remove double quotes from container namespace\n\nCommit 12fc4167c70531da80403746c1f172ec56570679 unexpectedly added\ndouble quotes around the container namespace, which breaks syntax\nof container-prepare-parameters.yaml\n\nCloses-Bug: #1978508\nChange-Id: If1c9dd18353c22545baa0262d49adb5cca3fd4e5\n'}]",3,845649,31a286cb08b93ad2d3e69c62a0452ceea680fae7,30,5,2,9816,,,0,"c8 wallaby: Remove double quotes from container namespace

Commit 12fc4167c70531da80403746c1f172ec56570679 unexpectedly added
double quotes around the container namespace, which breaks syntax
of container-prepare-parameters.yaml

Closes-Bug: #1978508
Change-Id: If1c9dd18353c22545baa0262d49adb5cca3fd4e5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/49/845649/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/wallaby.yml'],1,835eab2eef6f403ba7030bac3c8fad894482b50c,bug/1978508, tripleo{{ release }}," ""tripleo{{ release }}""",1,1
openstack%2Fmanila-tempest-plugin~master~Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b,openstack/manila-tempest-plugin,master,Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b,add list shares without details filter testcase,NEW,2022-06-14 10:15:25.000000000,2022-06-15 05:27:24.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 10:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2dff67e635caab35f7abd516c8d5aa57f908a234', 'message': 'add list shares without details filter testcase\n\nadd list shares without details filter by existed name and fake name\ntestcase\n\nChange-Id: Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b\n'}, {'number': 2, 'created': '2022-06-15 02:25:48.000000000', 'files': ['manila_tempest_tests/tests/api/admin/test_shares_actions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6150e206a342d67dbd8e77dd1d3e5536100ee9aa', 'message': 'add list shares without details filter testcase\n\nadd list shares without details filter by existed name and fake name\ntestcase\n\nChange-Id: Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b\n'}]",0,845723,6150e206a342d67dbd8e77dd1d3e5536100ee9aa,4,2,2,30409,,,0,"add list shares without details filter testcase

add list shares without details filter by existed name and fake name
testcase

Change-Id: Ie9f03c0d3c18aa95b1e0fc66441978c86b79e39b
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/23/845723/2 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/admin/test_shares_actions.py'],1,2dff67e635caab35f7abd516c8d5aa57f908a234,master2," @decorators.idempotent_id('934c4631-b3c4-4901-bf3d-98bd3dfd6939') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_list_shares_filter_by_existed_name(self): # list shares by name, at least one share is expected params = {""name"": self.share_name} shares = self.shares_client.list_shares(params)['shares'] self.assertEqual(self.share_name, shares[0][""name""]) @decorators.idempotent_id('78506983-6830-4a57-bc71-d8e8b332ffea') @tc.attr(base.TAG_POSITIVE, base.TAG_API_WITH_BACKEND) def test_list_shares_filter_by_fake_name(self): # list shares by fake name, no shares are expected params = {""name"": data_utils.rand_name(""fake-nonexistent-name"")} shares = self.shares_client.list_shares(params)['shares'] self.assertEqual(0, len(shares)) ",,16,0
openstack%2Fcharms.openstack~master~I64a1cc95a3a78ce79d57f5b840edb29996f04f9c,openstack/charms.openstack,master,I64a1cc95a3a78ce79d57f5b840edb29996f04f9c,Support Trilio 4.2 Share hashes,MERGED,2022-06-13 16:33:31.000000000,2022-06-15 05:19:21.000000000,2022-06-15 05:19:21.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 16:33:31.000000000', 'files': ['charms_openstack/plugins/__init__.py', 'charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/055fb499b84c204809921f218d919f9cc4f4f3f6', 'message': 'Support Trilio 4.2 Share hashes\n\nThe Trilio 4.2 changes the way that hashes are generated for nfs\nmount points. The hash is now generated from the directory only,\nthe source IP address is ignored. This patch updates the ghost-share\naction to accommodate that.\n\nChange-Id: I64a1cc95a3a78ce79d57f5b840edb29996f04f9c\n'}]",0,845606,055fb499b84c204809921f218d919f9cc4f4f3f6,6,2,1,12549,,,0,"Support Trilio 4.2 Share hashes

The Trilio 4.2 changes the way that hashes are generated for nfs
mount points. The hash is now generated from the directory only,
the source IP address is ignored. This patch updates the ghost-share
action to accommodate that.

Change-Id: I64a1cc95a3a78ce79d57f5b840edb29996f04f9c
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/06/845606/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/plugins/__init__.py', 'charms_openstack/plugins/trilio.py', 'unit_tests/charms_openstack/plugins/test_trilio.py']",3,055fb499b84c204809921f218d919f9cc4f4f3f6,trilio-4.2-encoding," _ghost_share = ""50.20.30.40:/srv/trilioghostshare""class TestTrilioVault42CharmGhostAction(BaseOpenStackCharmTest): _nfs_share = ""10.20.30.40:/srv/trilioshare"" _ghost_share = ""50.20.30.40:/srv/trilioghostshare"" def setUp(self): super().setUp(trilio.TrilioVaultCharmGhostAction, {}) self.patch_object(trilio.ch_core.hookenv, ""config"") self.patch_object(trilio.ch_core.host, ""mounts"") self.patch_object(trilio.ch_core.host, ""mount"") self.patch_object(trilio.os.path, ""exists"") self.patch_object(trilio.os, ""mkdir"") self.trilio_charm = trilio.TrilioVault42CharmGhostAction() self._nfs_path = os.path.join( trilio.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._nfs_share), ) self._ghost_path = os.path.join( trilio.TV_MOUNTS, self.trilio_charm._encode_endpoint(self._ghost_share), ) def test__ghost_nfs_share(self): self.config.return_value = self._nfs_share self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_share], ] self.exists.return_value = False self.trilio_charm._ghost_nfs_share(self._nfs_share, self._ghost_share) self.exists.assert_called_once_with(self._ghost_path) self.mkdir.assert_called_once_with(self._ghost_path) self.mount.assert_called_once_with( self._nfs_path, self._ghost_path, options=""bind"" ) def test__ghost_nfs_share_already_bound(self): self.config.return_value = self._nfs_share self.mounts.return_value = [ [""/srv/nova"", ""/dev/sda""], [self._nfs_path, self._nfs_share], [self._ghost_path, self._nfs_share], ] with self.assertRaises(trilio.GhostShareAlreadyMountedException): self.trilio_charm._ghost_nfs_share(self._nfs_share, self._ghost_share) self.mount.assert_not_called() def test__ghost_nfs_share_nfs_unmounted(self): self.config.return_value = self._nfs_share self.mounts.return_value = [[""/srv/nova"", ""/dev/sda""]] self.exists.return_value = False with self.assertRaises(trilio.NFSShareNotMountedException): self.trilio_charm._ghost_nfs_share(self._nfs_share, self._ghost_share) self.mount.assert_not_called() def test_ghost_nfs_share(self): self.patch_object(self.trilio_charm, ""_ghost_nfs_share"") self.config.return_value = ( ""10.20.30.40:/srv/trilioshare,10.20.30.40:/srv/trilioshare2"" ) self.trilio_charm.ghost_nfs_share( ""50.20.30.40:/srv/trilioshare,50.20.30.40:/srv/trilioshare2"" ) self._ghost_nfs_share.assert_has_calls([ mock.call(""10.20.30.40:/srv/trilioshare"", ""50.20.30.40:/srv/trilioshare""), mock.call(""10.20.30.40:/srv/trilioshare2"", ""50.20.30.40:/srv/trilioshare2"") ]) def test_ghost_nfs_share_mismatch(self): self.patch_object(self.trilio_charm, ""_ghost_nfs_share"") self.config.return_value = ( ""10.20.30.40:/srv/trilioshare,10.20.30.40:/srv/trilioshare2"" ) with self.assertRaises(trilio.MismatchedConfigurationException): self.trilio_charm.ghost_nfs_share( ""50.20.30.40:/srv/trilioshare"" ) "," _ghost_share = ""50.20.30.40:/srv/trilioshare""",140,5
openstack%2Fheat~stable%2Fyoga~I6a8cffdc86c895eebe4269c5cd37841325566c54,openstack/heat,stable/yoga,I6a8cffdc86c895eebe4269c5cd37841325566c54,Use constraints when creating tempest venv,MERGED,2022-06-14 03:49:58.000000000,2022-06-15 05:13:53.000000000,2022-06-15 05:12:09.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 03:49:58.000000000', 'files': ['roles/run-heat-tests/defaults/main.yaml', 'roles/run-heat-tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/b95e6025f61417e7abc24a26d991bd26c57ee444', 'message': ""Use constraints when creating tempest venv\n\nWhen running tempest we run in-tree tests as well. Lots of these\ntests including tempest tests may not work with new client\nlibraries. Let's use the relevant branch upper constraints when\nrunning functional tests.\n\nChange-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54\n(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)\n""}]",0,845409,b95e6025f61417e7abc24a26d991bd26c57ee444,8,2,1,9816,,,0,"Use constraints when creating tempest venv

When running tempest we run in-tree tests as well. Lots of these
tests including tempest tests may not work with new client
libraries. Let's use the relevant branch upper constraints when
running functional tests.

Change-Id: I6a8cffdc86c895eebe4269c5cd37841325566c54
(cherry picked from commit 22c48f57bb29ed62a8c3249ab953043cfd2617d3)
",git fetch https://review.opendev.org/openstack/heat refs/changes/09/845409/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-heat-tests/defaults/main.yaml', 'roles/run-heat-tests/tasks/main.yaml']",2,b95e6025f61417e7abc24a26d991bd26c57ee444,venv-tempest-stable/yoga,"- name: Set OS_TEST_TIMEOUT if requested set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'OS_TEST_TIMEOUT': tempest_test_timeout}) }}"" when: tempest_test_timeout != '' - name: Set TOX_CONSTRAINTS_FILE set_fact: tempest_tox_environment: ""{{ tempest_tox_environment | combine({'UPPER_CONSTRAINTS_FILE': constraints_file}) | combine({'TOX_CONSTRAINTS_FILE': constraints_file}) }}"" - name: Allow git to read plugin directories become: true command: git config --system --add safe.directory {{heat_tempest_plugin}} - name: Install plugins command: tox -evenv-tempest -- pip install -c{{constraints_file}} {{heat_tempest_plugin}} become: true args: chdir: ""{{devstack_base_dir}}/tempest"" environment: ""{{ tempest_tox_environment }}"" environment: ""{{ tempest_tox_environment }}"""," become_user: tempest environment: '{{ {""OS_TEST_TIMEOUT"": tempest_test_timeout} if tempest_test_timeout else {} }}'",24,2
openstack%2Fnova~stable%2Fussuri~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,stable/ussuri,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,MERGED,2021-12-16 21:30:20.000000000,2022-06-15 04:29:57.000000000,2022-06-15 04:28:21.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 33618}, {'_account_id': 33987}]","[{'number': 1, 'created': '2021-12-16 21:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63aa86e621e799570a1f1c2299e61527a1e263c6', 'message': ""[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nConflicts: on resource_tracker: changed\n'MigrationList.get_in_progress_and_error' call back to\n'MigrationList.get_in_progress_by_host_and_node', since this change was\nonly added by 255b3f2f918843ca5dd9b99e109ecd2189b6b749, and is not\npresent in stable/ussuri.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)\n(cherry picked from commit f892061ddd76d4bd9fd948617ea22f2091cad4a3)\n""}, {'number': 2, 'created': '2021-12-30 13:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e3e235fda064f7966befaa8230fd59174ef728b', 'message': ""[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nConflicts: on resource_tracker: changed\n'MigrationList.get_in_progress_and_error' call back to\n'MigrationList.get_in_progress_by_host_and_node', since this change was\nonly added by 255b3f2f918843ca5dd9b99e109ecd2189b6b749, and is not\npresent in stable/ussuri.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)\n(cherry picked from commit f892061ddd76d4bd9fd948617ea22f2091cad4a3)\n""}, {'number': 3, 'created': '2022-03-09 17:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d4af98a60c03dab263b928fd1df9cca11900428', 'message': ""[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nConflicts: on resource_tracker: changed\n'MigrationList.get_in_progress_and_error' call back to\n'MigrationList.get_in_progress_by_host_and_node', since this change was\nonly added by 255b3f2f918843ca5dd9b99e109ecd2189b6b749, and is not\npresent in stable/ussuri.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)\n(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)\n""}, {'number': 4, 'created': '2022-04-28 18:01:05.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1d0b7051da430ed00ae49901a32ec6af46c1a64e', 'message': ""[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nConflicts: on resource_tracker: changed\n'MigrationList.get_in_progress_and_error' call back to\n'MigrationList.get_in_progress_by_host_and_node', since this change was\nonly added by 255b3f2f918843ca5dd9b99e109ecd2189b6b749, and is not\npresent in stable/ussuri.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)\n(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)\n(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)\n""}]",14,822050,1d0b7051da430ed00ae49901a32ec6af46c1a64e,47,6,4,33608,,,0,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Conflicts: on resource_tracker: changed
'MigrationList.get_in_progress_and_error' call back to
'MigrationList.get_in_progress_by_host_and_node', since this change was
only added by 255b3f2f918843ca5dd9b99e109ecd2189b6b749, and is not
present in stable/ussuri.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
(cherry picked from commit 1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c)
(cherry picked from commit 5f2f283a75243d2e2629d3c5f7e5ef4b3994972d)
(cherry picked from commit d54bd316b331d439a26a7318ca68cab5f6280ab2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/822050/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py']",2,63aa86e621e799570a1f1c2299e61527a1e263c6,bug/1953359," # Check for tracked instances with in-progress, incoming, but not # finished migrations. For those instance the migration context # is not applied yet (it will be during finish_resize when the # migration goes to finished state). We need to manually and # temporary apply the migration context here when the resource usage is # updated. See bug 1953359 for more details. instance_by_uuid = {instance.uuid: instance for instance in instances} for migration in migrations: if ( migration.instance_uuid in instance_by_uuid and migration.dest_compute == self.host and migration.dest_node == nodename ): # we does not check for the 'post-migrating' migration status # as applying the migration context for an instance already # in finished migration status is a no-op anyhow. instance = instance_by_uuid[migration.instance_uuid] LOG.debug( 'Applying migration context for instance %s as it has an ' 'incoming, in-progress migration %s. ' 'Migration status is %s', migration.instance_uuid, migration.uuid, migration.status ) # It is OK not to revert the migration context at the end of # the periodic as the instance is not saved during the periodic instance.apply_migration_context() # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) "," # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) ",40,24
openstack%2Fnova~stable%2Fussuri~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/ussuri,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,MERGED,2021-12-16 20:55:22.000000000,2022-06-15 03:31:45.000000000,2022-06-15 03:29:08.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 33618}, {'_account_id': 33987}]","[{'number': 1, 'created': '2021-12-16 20:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a77e6008d44655f8586f76d2647390ee45b24da9', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n(cherry picked from commit 143b6699c969d03edfa8872d2ca2a3fb809adae9)\n'}, {'number': 2, 'created': '2021-12-30 13:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/714742d512a4f48a17f81daa7d3043b324ab4c34', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n(cherry picked from commit 143b6699c969d03edfa8872d2ca2a3fb809adae9)\n'}, {'number': 3, 'created': '2022-03-09 17:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/721e8ed14a552d5449e6401cfed8fe837014126f', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)\n'}, {'number': 4, 'created': '2022-04-28 18:01:05.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9b8e5cec303a621824366e1794665d6b849fefad', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)\n(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)\n(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)\n'}]",5,822048,9b8e5cec303a621824366e1794665d6b849fefad,22,6,4,33608,,,0,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
(cherry picked from commit 0411962938ae1de39f8dccb03efe4567f82ad671)
(cherry picked from commit 94f17be190cce060ba8afcafbade4247b27b86f0)
(cherry picked from commit 8d4487465b60cd165dc76dea5a9fdb3c4dbf5740)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/822048/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,a77e6008d44655f8586f76d2647390ee45b24da9,bug/1953359,"from nova.compute import manager orig_finish_resize = manager.ComputeManager.finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the instance should be # pinned to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology # on the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) # now let the resize finishes return orig_finish_resize(*args, **kwargs) 'nova.compute.manager.ComputeManager.finish_resize', new=fake_finish_resize, ): # this is expected to succeed but logs are emitted # from the racing periodic task. See fake_finish_resize # for the asserts server = self._wait_for_state_change(server, 'VERIFY_RESIZE') # as the periodic job raced and failed during the resize if we revert # the instance now then it tries to unpin its cpus from the dest host # but those was never pinned as the periodic failed. So the unpinning # will fail too. post = {'revertResize': {}} ex = self.assertRaises( client.OpenStackApiException, self.admin_api.post_server_action, server['id'], post # This is still bug 1953359. self.assertEqual(500, ex.response.status_code) server = self.api.get_server(server['id']) self.assertEqual('ERROR', server['status']) 'nova.exception.CPUUnpinningInvalid: CPU set to unpin [1] must be ' 'a subset of pinned CPU set [0]', self.stdlog.logger.output,"," 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log,",45,17
openstack%2Fnova~stable%2Fussuri~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/ussuri,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,MERGED,2021-12-16 20:43:46.000000000,2022-06-15 03:30:38.000000000,2022-06-15 03:29:01.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32349}, {'_account_id': 33618}]","[{'number': 1, 'created': '2021-12-16 20:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30667ea15e5a0a893c49ea12488cf49d41c7f23c', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nConflicts: fixed conflict on test_numa_server to only add test case for\n1953359\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n(cherry picked from commit 7591825faf1a444a271a5399ba612bc26a99d63e)\n'}, {'number': 2, 'created': '2021-12-30 13:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b1c7f6121202c8f510d048fb8bde2dea418b56f', 'message': ""Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nConflicts: fixed conflict on test_numa_server to only add test case for\n1953359\n\nFixes:\n    - Changed 'start_compute' call to 'start_computes', since the former\n      is not present in Ussuri\n    - Added more memory to mock 'host_info', since the default would not\n      fit the instance. Default was changed in later releases\n    - Bumped the API version to 2.1 in the added test, and in\n      VGPUMultipleTypesTests, since they require a creating an instance\n      in a specific host, only possible after microversion 2.74. This\n      was not needed for later releases, because the API version was\n      bumped with some changes made to their parent class by [1]\n    - Reset the original microversion in 'create_server' after the POST\n      request, so that subsequent calls are not affected\n\n[1] Later change that bumps API version on parent classes\nhttps://review.opendev.org/c/openstack/nova/+/741282\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n(cherry picked from commit 7591825faf1a444a271a5399ba612bc26a99d63e)\n""}, {'number': 3, 'created': '2022-03-09 17:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/338992239cee2a9d69b3152bd045a7943f5c30de', 'message': ""Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nConflicts: fixed conflict on test_numa_server to only add test case for\n1953359\n\nFixes:\n    - Changed 'start_compute' call to 'start_computes', since the former\n      is not present in Ussuri\n    - Added more memory to mock 'host_info', since the default would not\n      fit the instance. Default was changed in later releases\n    - Bumped the API version to 2.1 in the added test, and in\n      VGPUMultipleTypesTests, since they require a creating an instance\n      in a specific host, only possible after microversion 2.74. This\n      was not needed for later releases, because the API version was\n      bumped with some changes made to their parent class by [1]\n    - Reset the original microversion in 'create_server' after the POST\n      request, so that subsequent calls are not affected\n\n[1] Later change that bumps API version on parent classes\nhttps://review.opendev.org/c/openstack/nova/+/741282\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)\n""}, {'number': 4, 'created': '2022-04-28 18:01:05.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c92e7821e3b97c8469fc2a68621428549d36d755', 'message': ""Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nConflicts: fixed conflict on test_numa_server to only add test case for\n1953359\n\nFixes:\n    - Changed 'start_compute' call to 'start_computes', since the former\n      is not present in Ussuri\n    - Added more memory to mock 'host_info', since the default would not\n      fit the instance. Default was changed in later releases\n    - Bumped the API version from 2.0 to 2.1 in the test, since\n      microversion 2.47 is required creating an instance\n      in a specific host and 2.0 is not supporting microversions. This\n      was not needed for later releases, because the API version was\n      bumped with some changes made by [1]\n    - Reset the original microversion in 'create_server' after the POST\n      request, so that subsequent calls are not affected\n\n[1] Later change that bumps API version on parent classes\nhttps://review.opendev.org/c/openstack/nova/+/741282\n\nCo-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)\n(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)\n(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)\n""}]",31,822047,c92e7821e3b97c8469fc2a68621428549d36d755,38,7,4,33608,,,0,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Conflicts: fixed conflict on test_numa_server to only add test case for
1953359

Fixes:
    - Changed 'start_compute' call to 'start_computes', since the former
      is not present in Ussuri
    - Added more memory to mock 'host_info', since the default would not
      fit the instance. Default was changed in later releases
    - Bumped the API version from 2.0 to 2.1 in the test, since
      microversion 2.47 is required creating an instance
      in a specific host and 2.0 is not supporting microversions. This
      was not needed for later releases, because the API version was
      bumped with some changes made by [1]
    - Reset the original microversion in 'create_server' after the POST
      request, so that subsequent calls are not affected

[1] Later change that bumps API version on parent classes
https://review.opendev.org/c/openstack/nova/+/741282

Co-Authored-By: Gabriel Silva Trevisan <gabriel.silvatrevisan@windriver.com>

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
(cherry picked from commit f0a6d946aaa6c30f826cfced75c2fb06fdb379a8)
(cherry picked from commit d8859e4f95f5abb20c844d914f2716cba047630e)
(cherry picked from commit e549fec76fd2015e6e21ee5138bf06142a71e71a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/822047/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,30667ea15e5a0a893c49ea12488cf49d41c7f23c,bug/1953359," def test_resize_dedicated_policy_race_on_dest_bug_1953359(self): self.flags(cpu_dedicated_set='0-2', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=2, cpu_threads=1) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', } flavor_id = self._create_flavor(vcpu=1, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 1} server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) # assert that the pcpu 0 is used on compute1 self.assertEqual({'0': 0}, inst.numa_topology.cells[0].cpu_pinning_raw) # start another compute with the same config self.start_compute(host_info=host_info, hostname='compute2') # boot another instance but now on compute2 so that it occupies the # pcpu 0 on compute2 # NOTE(gibi): _run_build_test cannot be used here as it assumes only # compute1 exists server2 = self._create_server( flavor_id=flavor_id, host='compute2', ) inst2 = objects.Instance.get_by_uuid(self.ctxt, server2['id']) self.assertEqual(1, len(inst2.numa_topology.cells)) # assert that the pcpu 0 is used self.assertEqual( {'0': 0}, inst2.numa_topology.cells[0].cpu_pinning_raw) # migrate the first instance from compute1 to compute2 but stop # migrating at the start of finish_resize. Then start a racing periodic # update_available_resources. def fake_finish_resize(*args, **kwargs): # start a racing update_available_resource periodic self._run_periodics() # we expect it that CPU pinning fails on the destination node # as the resource_tracker will use the source node numa_topology # and that does not fit to the dest node as pcpu 0 in the dest # is already occupied. # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}'): with mock.patch( 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize post = {'migrate': None} self.admin_api.post_server_action(server['id'], post) log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) ",,90,1
openstack%2Ftripleo-ansible~master~I618d9493b35dd1ba6993a376f34896113d6e8085,openstack/tripleo-ansible,master,I618d9493b35dd1ba6993a376f34896113d6e8085,Ensure we don't duplicate lines,MERGED,2022-05-31 14:42:34.000000000,2022-06-15 02:55:57.000000000,2022-06-15 02:55:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-05-31 14:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47782e72396af0df2677ef86b3a8b64a3720baf7', 'message': ""Ensure we don't duplicate lines\n\nWhile getting the chain creations and flushes commands duplicated\ndoesn't seem to have any impact, the generated files are really ugly,\nand difficult to read.\nThis patch should change this state and ensure we're clean.\n\nChange-Id: I618d9493b35dd1ba6993a376f34896113d6e8085\n""}, {'number': 2, 'created': '2022-06-07 08:46:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_nftables/templates/flush-chain.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/chains.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca90a739738eb1573b51c4c9103063884fd3f6a3', 'message': ""Ensure we don't duplicate lines\n\nWhile getting the chain creations and flushes commands duplicated\ndoesn't seem to have any impact, the generated files are really ugly,\nand difficult to read.\nThis patch should change this state and ensure we're clean.\n\nChange-Id: I618d9493b35dd1ba6993a376f34896113d6e8085\n""}]",2,844069,ca90a739738eb1573b51c4c9103063884fd3f6a3,18,6,2,28223,,,0,"Ensure we don't duplicate lines

While getting the chain creations and flushes commands duplicated
doesn't seem to have any impact, the generated files are really ugly,
and difficult to read.
This patch should change this state and ensure we're clean.

Change-Id: I618d9493b35dd1ba6993a376f34896113d6e8085
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/844069/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_nftables/templates/flush-chain.j2', 'tripleo_ansible/roles/tripleo_nftables/templates/chains.j2']",2,47782e72396af0df2677ef86b3a8b64a3720baf7,nftables,"# Managed by tripleo-ansible/tripleo_nftables {% set chains = namespace(chains=[]) %}{% set chain_key = rule.get('chain', 'INPUT') ~ rule.get('table', 'filter') %} {%- if chain_key not in chains.chains %} {%- if 'extras' not in rule or rule['extras'].get('ensure', 'present') in ['enabled', 'present'] %}{% endif %} {% set _ = chains.chains.append(chain_key) %}","# Create chain if needed{%- if 'extras' not in rule or rule['extras'].get('ensure', 'present') in ['enabled', 'present'] %}",15,3
openstack%2Fcyborg~master~Ia467087f1b48d158ce6f91dd461138ff514a8c80,openstack/cyborg,master,Ia467087f1b48d158ce6f91dd461138ff514a8c80,Switch openstack-python3-zed-jobs,MERGED,2022-06-08 01:11:02.000000000,2022-06-15 02:12:41.000000000,2022-06-15 02:03:39.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-08 01:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/144903b09ca47f55d1b0a85d575682b0092aa164', 'message': 'Add py39 job in gate\n\nWe have removed py36 and changed the gate job because of decrepated\npy36 and py37 in Zed. But we lost py39 job, this patch adding it.\n\nChange-Id: Ia467087f1b48d158ce6f91dd461138ff514a8c80\n'}, {'number': 2, 'created': '2022-06-09 09:43:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b15bc27ea74d4671a4ac14b5218e7325ded4b56c', 'message': 'Switch openstack-python3-zed-jobs\n\nIn Zed, we decrepated the py36/py37 job, and this patch need to change\nwith zed job[1].\n\n[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504\n\nChange-Id: Ia467087f1b48d158ce6f91dd461138ff514a8c80\n'}]",0,845070,b15bc27ea74d4671a4ac14b5218e7325ded4b56c,10,2,2,26458,,,0,"Switch openstack-python3-zed-jobs

In Zed, we decrepated the py36/py37 job, and this patch need to change
with zed job[1].

[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504

Change-Id: Ia467087f1b48d158ce6f91dd461138ff514a8c80
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/70/845070/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,144903b09ca47f55d1b0a85d575682b0092aa164,, - openstack-tox-py39 - openstack-tox-py39 ,,3,0
openstack%2Ftripleo-heat-templates~master~I46c238c27e571f125e4fbbb2c20d416be93ded2b,openstack/tripleo-heat-templates,master,I46c238c27e571f125e4fbbb2c20d416be93ded2b,Ironic: Enforce usage of snponly.efi,ABANDONED,2021-08-10 05:02:24.000000000,2022-06-15 01:55:33.000000000,,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-08-10 05:02:24.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1d51d01864af93fdf43653cedadde04288cfc25', 'message': 'Ironic: Enforce usage of snponly.efi\n\n... instead of ipxe.efi, because snponly.efi works in more usecase\nespecially where support for the UEFI integrated network stack is\nneeded. From Xena release Ironic uses snponly.efi by default[1] so this\nchange would be redundant, but the main aim of this change is to\nbackport the same switch to stable branches.\n\n[1] 4d13da9cc7b8f8fa9ee428731f88d5723eddeffa\n\nChange-Id: I46c238c27e571f125e4fbbb2c20d416be93ded2b\n'}]",0,804039,e1d51d01864af93fdf43653cedadde04288cfc25,8,5,1,9816,,,0,"Ironic: Enforce usage of snponly.efi

... instead of ipxe.efi, because snponly.efi works in more usecase
especially where support for the UEFI integrated network stack is
needed. From Xena release Ironic uses snponly.efi by default[1] so this
change would be redundant, but the main aim of this change is to
backport the same switch to stable branches.

[1] 4d13da9cc7b8f8fa9ee428731f88d5723eddeffa

Change-Id: I46c238c27e571f125e4fbbb2c20d416be93ded2b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/804039/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ironic/ironic-conductor-container-puppet.yaml'],1,e1d51d01864af93fdf43653cedadde04288cfc25,bootfile_name, ironic::drivers::pxe::uefi_ipxe_bootfile_name: 'snponly.efi' ironic::pxe::ipxe_name_base: 'ipxe-snponly' ironic::pxe::uefi_ipxe_bootfile_name: 'snponly.efi',,3,0
openstack%2Ftripleo-heat-templates~master~Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9,openstack/tripleo-heat-templates,master,Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9,Add logging template files for cinder,ABANDONED,2020-02-25 14:42:17.000000000,2022-06-15 01:53:16.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-25 14:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/69418e0c7d4bd1010d2dfd9925e20785761e8f69', 'message': 'WIP: Add logging template files for cinder\n\nTODO: Update cinder-volume templates\nTODO: Update cinder-backup templates\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 2, 'created': '2020-02-28 01:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7d13c34ff7a3a3f360764587dffa19e63976bff', 'message': 'WIP: Add logging template files for cinder\n\nTODO: Update cinder-volume templates\nTODO: Update cinder-backup templates\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 3, 'created': '2020-02-28 10:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02c34654b6e18e0549e2a8630cf3ac1c3b3d1ec3', 'message': 'WIP: Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 4, 'created': '2020-03-01 01:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/563738bd7f010df16335d5789ec4250d71ecd2cd', 'message': 'WIP: Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 5, 'created': '2020-03-01 02:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/857412a31ded0b4d2b418f3cd074a1b37dd403c8', 'message': 'WIP: Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 6, 'created': '2020-03-01 11:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fcf9b931289c545c6434dd29aec3150743461be', 'message': 'WIP: Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 7, 'created': '2020-03-01 12:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc30a12db77dffd14b6ac9510399ccaf54aa6149', 'message': 'WIP: Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 8, 'created': '2020-03-01 22:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db1c73f6aef298a6fd4c8357692cb1689179e430', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 9, 'created': '2020-05-05 16:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4451972b6ae555ad03f73a0bf38ce0dfad192506', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 10, 'created': '2020-05-05 16:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3bbfc59ef60c1bad5c748a0aa7036ac1d8a3c20b', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 11, 'created': '2020-05-08 14:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2bea7b52d285eaaa1e9893169a432483d138f91', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 12, 'created': '2020-05-08 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a91b941427008d6d2325c67a4bcc364c33e9807', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 13, 'created': '2020-05-09 12:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da1a9baf974b824086dd59dc18a842547d178d08', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 14, 'created': '2020-05-09 15:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ee5f0dd878eeea95e45dd64d3037d1ce8e25075', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 15, 'created': '2020-07-10 14:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5e4ac846eebf5d2ce75c8ef1110c86d4baf85ab', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 16, 'created': '2020-09-13 13:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3c89270ddc7c30398b3bd7a934a85b9cba06eec', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 17, 'created': '2020-10-10 16:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e01b186e5a990f09e03edfb487d0fc7b944dc9cb', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 18, 'created': '2020-11-04 11:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6299240abc264c897228207e5a90a780fa95a41c', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 19, 'created': '2020-11-05 07:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01ea9322927681b9983cd31f90ff90a47840298b', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 20, 'created': '2020-11-05 23:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dcd8bb4c17e80fbea232a0db67229ba0f2a4a5ec', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 21, 'created': '2020-11-09 14:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67caadf9ab78a509a4bf836ba2dd9cb9a0fa6ba0', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 22, 'created': '2020-11-30 15:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/022515a87f7eb473555af001f2be1b24c272ea26', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 23, 'created': '2021-02-01 12:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27e49d240712dcda61ac2bb7218986ab56a0cc96', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 24, 'created': '2021-02-02 02:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/079f7013ec022d616f11700a6d0bf51e2a6bbf02', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 25, 'created': '2021-04-09 03:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7589e89846cb1271b074e7192391dd09d611866c', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 26, 'created': '2021-04-09 03:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49486f2d94955d2f78f13a180e71b402d6554ebf', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}, {'number': 27, 'created': '2022-06-13 05:06:15.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/logging/files/cinder-common.yaml', 'deployment/logging/stdout/cinder-api.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/logging/files/cinder-api.yaml', 'deployment/logging/stdout/cinder-common.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02395049a77844ebc76dfc71ad66d0a93caae49d', 'message': 'Add logging template files for cinder\n\nChange-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9\n'}]",29,709744,02395049a77844ebc76dfc71ad66d0a93caae49d,112,8,27,9816,,,0,"Add logging template files for cinder

Change-Id: Iea09402745abc8f8ec8954b21f329b6c8fe7f1e9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/709744/26 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/logging/files/cinder-api.yaml', 'deployment/logging/stdout/cinder-common.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/logging/files/cinder-common.yaml', 'deployment/logging/stdout/cinder-api.yaml', 'environments/stdout-logging.yaml']",8,69418e0c7d4bd1010d2dfd9925e20785761e8f69,cinder-logging, OS::TripleO::Services::Logging::CinderApi: ../deployment/logging/stdout/cinder-api.yaml OS::TripleO::Services::Logging::CinderCommon: ../deployment/logging/stdout/cinder-common.yaml,,248,47
openstack%2Ftripleo-heat-templates~master~Ia98381c66d0ca8a75ffbf69afcc480c170537bc3,openstack/tripleo-heat-templates,master,Ia98381c66d0ca8a75ffbf69afcc480c170537bc3,Add logging template files for horizon,ABANDONED,2020-03-01 01:46:45.000000000,2022-06-15 01:52:33.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-01 01:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/273de45baae9f721d73ac040bf47694d7cff4c27', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 2, 'created': '2020-03-01 02:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a7b7e366d0e299fec373543eeb6fcfc1ee4ae6b', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 3, 'created': '2020-03-01 11:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d510a878df492436f83970624826e006a0abdbd', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 4, 'created': '2020-03-01 12:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9eac7146f8a33d2d17130efb78c56d2af33ad5a9', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 5, 'created': '2020-03-01 13:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88beb39befd4dbf73de97321aa67a8d2dec33acb', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 6, 'created': '2020-03-01 15:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/698830bca708eef788666ed35212f5dff3a75871', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 7, 'created': '2020-03-01 15:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed94252ced8aa000aa08b7f087b81168fb7a2562', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 8, 'created': '2020-03-01 22:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ad4bb55d200d97b1bcfed317cb711f1806c8a5dd', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 9, 'created': '2020-03-01 23:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a34b437a166c1f8f7bbc549cc525bea41b8f6ca5', 'message': 'WIP: Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 10, 'created': '2020-03-03 12:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f09d8b5de44ed0e46a2d14ee6c9d1dfd39ed8837', 'message': 'Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 11, 'created': '2020-05-05 16:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fb1fbc3193951ae5580cbe1f2645e2cf3372585', 'message': 'Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 12, 'created': '2020-05-05 16:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2b76b7803fc5be54de07e2357b70a48283b429f', 'message': 'Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 13, 'created': '2020-05-18 07:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/721f9ea9a5a81a4f90d3c3a13c41d5de9c7e2059', 'message': 'Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 14, 'created': '2020-07-10 14:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8e96c5c933e34dc87804f3f1a408345de4e68ac', 'message': 'Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}, {'number': 15, 'created': '2021-04-19 07:55:52.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/logging/files/horizon.yaml', 'deployment/logging/stdout/horizon.yaml', 'environments/stdout-logging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9d9a4ee1a3788f6a2e0f1c83893cf448bc2cd14b', 'message': 'Add logging template files for horizon\n\nChange-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3\n'}]",2,710604,9d9a4ee1a3788f6a2e0f1c83893cf448bc2cd14b,67,6,15,9816,,,0,"Add logging template files for horizon

Change-Id: Ia98381c66d0ca8a75ffbf69afcc480c170537bc3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/710604/9 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/horizon/horizon-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/logging/files/horizon.yaml', 'deployment/logging/stdout/horizon.yaml', 'environments/stdout-logging.yaml']",5,273de45baae9f721d73ac040bf47694d7cff4c27,horizon-logging, OS::TripleO::Services::Logging::Horizon: ../deployment/logging/stdout/horizon.yaml,,137,24
openstack%2Fpython-cyborgclient~master~I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44,openstack/python-cyborgclient,master,I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44,Switch openstack-python3-zed-jobs,MERGED,2022-06-09 09:50:50.000000000,2022-06-15 01:50:29.000000000,2022-06-15 01:48:33.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-06-09 09:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/8ca9d41abe04ec635ba69f3059e94bf753bb1227', 'message': 'Switch openstack-python3-zed-jobs\n\nIn Zed, we decrepated the py36/py37 job, and this patch need to change\nwith zed job[1].\n\n[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504\n\nChange-Id: I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44\n'}, {'number': 2, 'created': '2022-06-09 10:17:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/501d9f3e2c3a161b2ec0ae433d6c8b1f4ae32ea9', 'message': 'Switch openstack-python3-zed-jobs\n\nIn Zed, we decrepated the py36/py37 job, and this patch need to change\nwith zed job[1].\n\n[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504\n\nChange-Id: I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44\n'}]",0,845248,501d9f3e2c3a161b2ec0ae433d6c8b1f4ae32ea9,10,2,2,26458,,,0,"Switch openstack-python3-zed-jobs

In Zed, we decrepated the py36/py37 job, and this patch need to change
with zed job[1].

[1]https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/zuul.d/project-templates.yaml#L504

Change-Id: I7612d34b5d25d505f85dcb09b91ad1d3c3bacd44
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/48/845248/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8ca9d41abe04ec635ba69f3059e94bf753bb1227,, - openstack-python3-zed-jobs, check: jobs: - openstack-tox-pep8 - openstack-tox-py38 - openstack-tox-py39 gate: jobs: - openstack-tox-pep8 - openstack-tox-py38 - openstack-tox-py39,1,10
openstack%2Fpython-tripleoclient~master~Ica73e4d04909352646b4518ccd93d01535a243db,openstack/python-tripleoclient,master,Ica73e4d04909352646b4518ccd93d01535a243db,Only export overcloud for --stack-only/full deploy,MERGED,2022-06-01 09:13:25.000000000,2022-06-15 01:29:28.000000000,2022-06-15 01:28:09.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-01 09:13:25.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cbbe7cdd84768160acfaa32e19c8804e28aec380', 'message': 'Only export overcloud for --stack-only/full deploy\n\nOvercloud export contains stack outputs and passwords.\nWith ephemeral heat we save the stack outputs and\nkill heat. We should export only when stack is created\nto generate the configs and not when we run with\n--setup-only/--config-download-only.\n\nAlso, stop using parsed_args.config_download which is\ndeprecated.\n\nChange-Id: Ica73e4d04909352646b4518ccd93d01535a243db\n'}]",1,844267,cbbe7cdd84768160acfaa32e19c8804e28aec380,10,5,1,8833,,,0,"Only export overcloud for --stack-only/full deploy

Overcloud export contains stack outputs and passwords.
With ephemeral heat we save the stack outputs and
kill heat. We should export only when stack is created
to generate the configs and not when we run with
--setup-only/--config-download-only.

Also, stop using parsed_args.config_download which is
deprecated.

Change-Id: Ica73e4d04909352646b4518ccd93d01535a243db
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/844267/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,cbbe7cdd84768160acfaa32e19c8804e28aec380,, if do_stack:, if parsed_args.config_download:,1,1
openstack%2Fcharm-guide~master~I21e3233e4539940f506f327611b6f9538fbb635a,openstack/charm-guide,master,I21e3233e4539940f506f327611b6f9538fbb635a,"Add mapping for tracks, OpenStack, and series",MERGED,2022-05-19 22:56:21.000000000,2022-06-15 00:20:05.000000000,2022-06-15 00:18:53.000000000,"[{'_account_id': 8992}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 22:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b40a7acaa2b1253bc69bca4f17c203f07d77c105', 'message': 'Add mapping for tracks, OpenStack, and series\n\nThis is a WIP.\n\nUsers need to know what the mapping of charm tracks\nare for OpenStack releases and Ubuntu series.\n\nChange-Id: I21e3233e4539940f506f327611b6f9538fbb635a\n'}, {'number': 2, 'created': '2022-05-20 00:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c327cbfc6d7d8fd3cd75ef6179a5a42688bfc091', 'message': 'Add mapping for tracks, OpenStack, and series\n\n- WIP -\n\nUsers need to know what the mapping of charm tracks\nare for OpenStack releases and Ubuntu series.\n\nChange-Id: I21e3233e4539940f506f327611b6f9538fbb635a\n'}, {'number': 3, 'created': '2022-05-20 18:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7ec32a64f6216c5f09c250003fe93dccae55e62a', 'message': 'Add mapping for tracks, OpenStack, and series\n\n- WIP -\n\nUsers need to know what the mapping of charm tracks\nare for OpenStack releases and Ubuntu series.\n\nChange-Id: I21e3233e4539940f506f327611b6f9538fbb635a\n'}, {'number': 4, 'created': '2022-05-20 18:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/beb8817eb2101e88fcd0b1dcfde6280333d01079', 'message': 'Add mapping for tracks, OpenStack, and series\n\n- WIP -\n\nUsers need to know what the mapping of charm tracks\nare for OpenStack releases and Ubuntu series.\n\nChange-Id: I21e3233e4539940f506f327611b6f9538fbb635a\n'}, {'number': 5, 'created': '2022-05-24 14:31:49.000000000', 'files': ['doc/source/project/charm-delivery.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/45f556154c38b26cca42e520f2f026708c415abb', 'message': 'Add mapping for tracks, OpenStack, and series\n\nUsers need to know what the mapping of charm tracks\nare for OpenStack releases and Ubuntu series.\n\nChange-Id: I21e3233e4539940f506f327611b6f9538fbb635a\n'}]",24,842643,45f556154c38b26cca42e520f2f026708c415abb,21,3,5,30561,,,0,"Add mapping for tracks, OpenStack, and series

Users need to know what the mapping of charm tracks
are for OpenStack releases and Ubuntu series.

Change-Id: I21e3233e4539940f506f327611b6f9538fbb635a
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/43/842643/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/project/charm-delivery.rst'],1,b40a7acaa2b1253bc69bca4f17c203f07d77c105,add-mapping-tracks-to-series-to-openstack, +--------------------------+--------------+----------------+--------------+ | Group | Tracks | OpenStack | Series | +==========================+==============+================+==============+ | OpenStack service charms | ``yoga`` | ``Yoga`` | | ``jammy`` | | | | | | ``focal`` | | +--------------+----------------+--------------+ | | ``xena`` | ``Xena`` | ``focal`` | | +--------------+----------------+--------------+ | | ``wallaby`` | ``Wallaby`` | ``focal`` | | +--------------+----------------+--------------+ | | ``victoria`` | ``Victoria`` | ``focal`` | | +--------------+----------------+--------------+ | | ``ussuri`` | ``Ussuri`` | | ``focal`` | | | | | | ``bionic`` | +--------------------------+--------------+----------------+--------------+ | Ceph charms | ``quincy`` | ``Yoga`` | | ``jammy`` | | | | | | ``focal`` | | +--------------+----------------+--------------+ | | ``pacific`` | | ``Xena`` | ``focal`` | | | | | ``Wallaby`` | | | | | | ``Victoria`` | | | +--------------+----------------+--------------+ | | ``octopus`` | ``Ussuri`` | | ``focal`` | | | | | | ``bionic`` | +--------------------------+--------------+----------------+--------------+ | OVN charms | ``22.03`` | ``Yoga`` | | ``jammy`` | | | | | | ``focal`` | | +--------------+----------------+--------------+ | | ``21.09`` | ``Xena`` | ``focal`` | | +--------------+----------------+--------------+ | | ``20.12`` | ``Wallaby`` | ``focal`` | | +--------------+----------------+--------------+ | | ``20.03`` | ``Victoria`` | ``focal`` | | | +----------------+--------------+ | | | ``Ussuri`` | | ``focal`` | | | | | | ``bionic`` | +--------------------------+--------------+----------------+--------------+ | MySQL charms | ``8.0`` | ``Yoga`` | | ``jammy`` | | | | | | ``focal`` | +--------------------------+--------------+----------------+--------------+ | Trilio charms | ``4.1``? | ``Ussuri`` | | ``focal`` | | | | | | ``bionic`` | +--------------------------+--------------+----------------+--------------+ .. group-tab:: Individual charms +--------------------------+--------------+----------------+--------------+ | Charm | Tracks | OpenStack | Series | +==========================+==============+================+==============+ | hacluster | ``2.4`` | ``Yoga`` | | ``jammy`` | | | | | | ``focal`` | | +--------------+----------------+--------------+ | | ``2.0.3`` | | ``Xena`` | ``focal`` | | | | | ``Wallaby`` | | | | | | ``Victoria`` | | | | +----------------+--------------+ | | | ``Ussuri`` | | ``focal`` | | | | | | ``bionic`` | +--------------------------+--------------+----------------+--------------+ | pacemaker-remote | ``2.0.5``? | ? | ? | | +--------------+----------------+--------------+ | | ``2.0.3``? | ? | ? | | +--------------+----------------+--------------+ | | ``1.1.x``? | ? | ? | +--------------------------+--------------+----------------+--------------+ | rabbitmq-server | ``3.9`` | ``Yoga`` | | ``jammy`` | | | | | | ``focal`` | | +--------------+----------------+--------------+ | | ``3.8`` | | ``Xena`` | ``focal`` | | | | | ``Wallaby`` | | | | | | ``Victoria`` | | | | +----------------+--------------+ | | | ``Ussuri`` | | ``focal`` | | | | | | ``bionic`` | +--------------------------+--------------+----------------+--------------+ | vault | ``1.7`` | ``Yoga`` | | ``jammy`` | | | | | | ``focal`` | | +--------------+----------------+--------------+ | | ``1.6`` | ? | ? | | +--------------+----------------+--------------+ | | ``1.5`` | ? | ? | +--------------------------+--------------+----------------+--------------+ | percona-cluster | ``5.7`` | ? | ? | +--------------------------+--------------+----------------+--------------+, +--------------------------+--------------+ | Group | Tracks | +==========================+==============+ | OpenStack service charms | ``yoga`` | | +--------------+ | | ``xena`` | | +--------------+ | | ``wallaby`` | | +--------------+ | | ``victoria`` | | +--------------+ | | ``ussuri`` | +--------------------------+--------------+ | Ceph charms | ``quincy`` | | +--------------+ | | ``pacific`` | | +--------------+ | | ``octopus`` | +--------------------------+--------------+ | OVN charms | ``22.03`` | | +--------------+ | | ``21.09`` | | +--------------+ | | ``20.12`` | | +--------------+ | | ``20.03`` | +--------------------------+--------------+ | MySQL charms | ``8.0`` | +--------------------------+--------------+ | Trilio charms | ``4.1`` | | +--------------+ | | ``4.0`` | +--------------------------+--------------+ .. group-tab:: Supporting charms +--------------------------+--------------+ | Charm | Tracks | +==========================+==============+ | hacluster | ``2.0.5`` | + +--------------+ | | ``2.0.3`` | + +--------------+ | | ``1.1.x`` | +--------------------------+--------------+ | pacemaker-remote | ``2.0.5`` | + +--------------+ | | ``2.0.3`` | + +--------------+ | | ``1.1.x`` | +--------------------------+--------------+ | rabbitmq-server | ``3.9`` | + +--------------+ | | ``3.8`` | + +--------------+ | | ``3.6`` | +--------------------------+--------------+ | vault | ``1.7`` | + +--------------+ | | ``1.6`` | + +--------------+ | | ``1.5`` | +--------------------------+--------------+ | percona-cluster | ``5.7`` | +--------------------------+--------------+,82,63
openstack%2Fcharm-cinder~stable%2Fwallaby~I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f,openstack/charm-cinder,stable/wallaby,I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f,Install ssl_ca for volume service only scenarios,MERGED,2022-04-01 11:05:39.000000000,2022-06-14 22:43:20.000000000,2022-06-14 22:43:20.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-01 11:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/7d96a317e52dff9d396345cbf3beb4b465f897ef', 'message': ""Install ssl_ca for volume service only scenarios\n\nThe CA information is necessary to talk to Keystone or Glance from the\nCinder volume service. This is a follow-up of the following change where\nthe Vault certificate relations is assumed but ssl_ca wasn't addressed\nat that point.\nI69f15c3fd164f7114f5498d100b2832caf93fb00\n\nCloses-Bug: #1967302\nChange-Id: I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f\n(cherry picked from commit a0f44d0f90074495427880e7d03d0c324639a8c4)\n""}, {'number': 2, 'created': '2022-06-10 00:34:41.000000000', 'files': ['hooks/cinder_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/6bcb2bf435d467417292411c1ced812494016a7a', 'message': ""Install ssl_ca for volume service only scenarios\n\nThe CA information is necessary to talk to Keystone or Glance from the\nCinder volume service. This is a follow-up of the following change where\nthe Vault certificate relations is assumed but ssl_ca wasn't addressed\nat that point.\nI69f15c3fd164f7114f5498d100b2832caf93fb00\n\nCloses-Bug: #1967302\nChange-Id: I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f\n(cherry picked from commit a0f44d0f90074495427880e7d03d0c324639a8c4)\n""}]",2,836152,6bcb2bf435d467417292411c1ced812494016a7a,12,3,2,8108,,,0,"Install ssl_ca for volume service only scenarios

The CA information is necessary to talk to Keystone or Glance from the
Cinder volume service. This is a follow-up of the following change where
the Vault certificate relations is assumed but ssl_ca wasn't addressed
at that point.
I69f15c3fd164f7114f5498d100b2832caf93fb00

Closes-Bug: #1967302
Change-Id: I4d7b3721fe7dfd6f7cdfd364d8c5bc340d38c00f
(cherry picked from commit a0f44d0f90074495427880e7d03d0c324639a8c4)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/52/836152/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/cinder_hooks.py'],1,7d96a317e52dff9d396345cbf3beb4b465f897ef,,"from base64 import b64decodefrom charmhelpers.contrib.hahelpers.apache import ( get_ca_cert, install_ca_cert, ) else: # Install CA cert to communicate with Keystone and Glance ca_cert = get_ca_cert() if ca_cert: install_ca_cert(b64decode(ca_cert))",from charmhelpers.contrib.hahelpers.apache import install_ca_cert,10,1
openstack%2Fcharm-cinder~stable%2Fwallaby~I91ac0758c74b43c78eac37bae30e47abaecf4b21,openstack/charm-cinder,stable/wallaby,I91ac0758c74b43c78eac37bae30e47abaecf4b21,Migrate charm charmhub for stable/wallaby,MERGED,2022-05-17 18:13:38.000000000,2022-06-14 22:35:55.000000000,2022-06-14 22:35:55.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 18:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d2e382ed0f125162b91a402b900bd6d99c6ccaf4', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I91ac0758c74b43c78eac37bae30e47abaecf4b21\n'}, {'number': 2, 'created': '2022-06-08 17:29:01.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/trusty-icehouse.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/50fd3d887f7234042e008f49b9b5c7ab8c4b8704', 'message': 'Migrate charm charmhub for stable/wallaby\n\n- start from stable/wallaby branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/wallaby for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n- Pin tempest for python<3.8\n\nChange-Id: I91ac0758c74b43c78eac37bae30e47abaecf4b21\n'}]",4,842170,50fd3d887f7234042e008f49b9b5c7ab8c4b8704,20,4,2,20870,,,0,"Migrate charm charmhub for stable/wallaby

- start from stable/wallaby branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/wallaby for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Pin tempest for python<3.8

Change-Id: I91ac0758c74b43c78eac37bae30e47abaecf4b21
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/70/842170/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/trusty-icehouse.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'tests/bundles/focal-ussuri-volume-only.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",31,d2e382ed0f125162b91a402b900bd6d99c6ccaf4,charmhub-migration,,"variables: openstack-origin: &openstack-origin distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers/mysql-router placement-mysql-router: charm: cs:~openstack-charmers/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' nova-cloud-controller: charm: cs:~openstack-charmers/nova-cloud-controller num_units: 1 options: network-manager: Neutron debug: true openstack-origin: *openstack-origin to: - '4' placement: charm: cs:~openstack-charmers/placement num_units: 1 constraints: mem=1G options: openstack-origin: *openstack-origin to: - '5' neutron-api: charm: cs:~openstack-charmers/neutron-api num_units: 1 options: flat-network-providers: physnet1 neutron-security-groups: true manage-neutron-plugin-legacy-mode: true openstack-origin: *openstack-origin to: - '6' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '7' neutron-gateway: charm: cs:~openstack-charmers/neutron-gateway num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: *openstack-origin to: - '8' glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '9' neutron-openvswitch: charm: cs:~openstack-charmers/neutron-openvswitch nova-compute: charm: cs:~openstack-charmers/nova-compute num_units: 1 constraints: mem=4G cores=4 storage: ephemeral-device: '10G' options: config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce #ephemeral-device: /dev/vdb #ephemeral-unmount: /mnt debug: true openstack-origin: *openstack-origin to: - '10' cinder: num_units: 1 storage: block-devices: '40G' options: openstack-origin: *openstack-origin glance-api-version: 2 block-device: None overwrite: ""true"" to: - '11' relations: - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:image-service' - 'glance:image-service' ",162,2784
openstack%2Fdesignate~master~I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0,openstack/designate,master,I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0,Add zone ownership transfer user guide,MERGED,2022-05-27 22:11:05.000000000,2022-06-14 22:20:09.000000000,2022-06-14 22:18:58.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 31933}]","[{'number': 1, 'created': '2022-05-27 22:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/22cdf3b086de681c9f0b54d0ab225ebdaafd692d', 'message': 'Add zone ownership transfer user guide\n\nThis patch adds a user guide for zone ownership transfers.\nIt also re-organizes the user guide landing page to be a bit easier to read.\n\nChange-Id: I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0\n'}, {'number': 2, 'created': '2022-05-27 22:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5dcde8acd0adfeff5feae6cb5118016f9a36305b', 'message': 'Add zone ownership transfer user guide\n\nThis patch adds a user guide for zone ownership transfers.\nIt also re-organizes the user guide landing page to be a bit easier to read.\n\nChange-Id: I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0\n'}, {'number': 3, 'created': '2022-06-02 23:28:03.000000000', 'files': ['doc/source/user/index.rst', 'doc/source/user/zone-transfer.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/e9faf7da689763aa99028ede9503dc3bdbda5abe', 'message': 'Add zone ownership transfer user guide\n\nThis patch adds a user guide for zone ownership transfers.\nIt also re-organizes the user guide landing page to be a bit easier to read.\n\nChange-Id: I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0\n'}]",13,843695,e9faf7da689763aa99028ede9503dc3bdbda5abe,17,5,3,11628,,,0,"Add zone ownership transfer user guide

This patch adds a user guide for zone ownership transfers.
It also re-organizes the user guide landing page to be a bit easier to read.

Change-Id: I9b1c620b96a95cc8db4a634c26a2a48ca880f2b0
",git fetch https://review.opendev.org/openstack/designate refs/changes/95/843695/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/index.rst', 'doc/source/user/zone-transfer.rst']",2,22cdf3b086de681c9f0b54d0ab225ebdaafd692d,,".. Copyright 2022 Red Hat Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. ======================== Zone Ownership Transfers ======================== Designate allows you to transfer ownership of zones between projects. For example, the engineering team project may want to transfer the ownership of the 'wow.example.com.' zone from the engineering project to the marketing team's project. This can be accomplished without cloud administrator intervention using the zone transfer features in Designate. Both the sending and receiving project must agree to the transfer by using the zone transfer process. Zone Transfer Requests ====================== Creating a Zone Transfer Request -------------------------------- To create a zone transfer offer we create a zone transfer request in Designate. You can optionally provide a target project ID in the request to lock the transfer to a specific project. When using a target project ID, no other project will be allowed to accept the zone transfer. If you do not provide a target project ID, any project that has the transfer request ID and key can receive the zone transfer. .. note:: The target project ID must be provided as the ``ID`` and not the project name. To transfer the zone 'wow.example.com.' to project 6265985fc493465db6a978b318a01996 you would run: .. code-block:: console $ openstack zone transfer request create --target-project-id 1d12e87fad0d437286c2873b36a12316 wow.example.com. +-------------------+-----------------------------------------------------+ | Field | Value | +-------------------+-----------------------------------------------------+ | created_at | 2022-05-26T22:06:39.000000 | | description | None | | id | 63cab5e5-65fa-4480-b26c-c16c267c44b2 | | key | BIFJIQWH | | links | {'self': 'http://127.0.0.1:60053/v2/zones/tasks/tra | | | nsfer_requests/63cab5e5-65fa-4480-b26c-c16c267c44b2 | | | '} | | project_id | 6265985fc493465db6a978b318a01996 | | status | ACTIVE | | target_project_id | 1d12e87fad0d437286c2873b36a12316 | | updated_at | None | | zone_id | 962f08b4-b671-4096-bf24-8908c9d4af0c | | zone_name | wow.example.com. | +-------------------+-----------------------------------------------------+ You will then provide the ID and key to a member of the receiving project. Displaying a Zone Transfer Request ---------------------------------- To display the zone transfer request we created in the previous section you would run: .. code-block:: console $ openstack zone transfer request show 63cab5e5-65fa-4480-b26c-c16c267c44b2 +-------------------+-----------------------------------------------------+ | Field | Value | +-------------------+-----------------------------------------------------+ | created_at | 2022-05-26T22:06:39.000000 | | description | None | | id | 63cab5e5-65fa-4480-b26c-c16c267c44b2 | | key | BIFJIQWH | | links | {'self': 'http://127.0.0.1:60053/v2/zones/tasks/tra | | | nsfer_requests/63cab5e5-65fa-4480-b26c-c16c267c44b2 | | | '} | | project_id | 6265985fc493465db6a978b318a01996 | | status | ACTIVE | | target_project_id | 1d12e87fad0d437286c2873b36a12316 | | updated_at | None | | zone_id | 962f08b4-b671-4096-bf24-8908c9d4af0c | | zone_name | wow.example.com. | +-------------------+-----------------------------------------------------+ Listing Zone Transfer Requests ------------------------------ You can list all of the existing zone transfer requests by using the `openstack zone transfer request list` command: .. code-block:: console $ openstack zone transfer request list +----------+----------+-----------+------------+-------------------+--------+----------+ | id | zone_id | zone_name | project_id | target_project_id | status | key | +----------+----------+-----------+------------+-------------------+--------+----------+ | 63cab5e5 | 962f08b4 | wow.examp | 6265985fc4 | 1d12e87fad0d43728 | ACTIVE | BIFJIQWH | | -65fa-44 | -b671-40 | le.com. | 93465db6a9 | 6c2873b36a12316 | | | | 80-b26c- | 96-bf24- | | 78b318a019 | | | | | c16c267c | 8908c9d4 | | 96 | | | | | 44b2 | af0c | | | | | | +----------+----------+-----------+------------+-------------------+--------+----------+ Updating a Zone Transfer Request -------------------------------- Designate allows you to update a limited set of fields on zone transfer requests, such as the description and target project ID. To add a description the zone transfer request we created above, you would run the following command: .. code-block:: console $ openstack zone transfer request set --description ""wow zone transfer"" 63cab5e5-65fa-4480-b26c-c16c267c44b2 +-------------------+-----------------------------------------------------+ | Field | Value | +-------------------+-----------------------------------------------------+ | created_at | 2022-05-26T22:06:39.000000 | | description | wow zone transfer | | id | 63cab5e5-65fa-4480-b26c-c16c267c44b2 | | key | BIFJIQWH | | links | {'self': 'http://127.0.0.1:60053/v2/zones/tasks/tra | | | nsfer_requests/63cab5e5-65fa-4480-b26c-c16c267c44b2 | | | '} | | project_id | 6265985fc493465db6a978b318a01996 | | status | ACTIVE | | target_project_id | 1d12e87fad0d437286c2873b36a12316 | | updated_at | 2022-05-27T20:52:08.000000 | | zone_id | 962f08b4-b671-4096-bf24-8908c9d4af0c | | zone_name | wow.example.com. | +-------------------+-----------------------------------------------------+ Deleting a Zone Transfer Request -------------------------------- If you would like to cancel a zone transfer you can delete the zone transfer request using the `openstack zone transfer request delete` command: .. code-block:: console $ openstack zone transfer request delete 63cab5e5-65fa-4480-b26c-c16c267c44b2 There is no output from the zone transfer request delete command. Zone Transfer Accepts ===================== Accepting a Zone Transfer Request --------------------------------- Once you have the zone transfer request ID and key, you can create a `zone transfer accept` to finish the zone transfer. Here is an example of accepting the zone transfer we created in the `Zone Transfer Requests`_ section: .. code-block:: console $ openstack zone transfer accept request --transfer-id 63cab5e5-65fa-4480-b26c-c16c267c44b2 --key BIFJIQWH +--------------------------+----------------------------------------------+ | Field | Value | +--------------------------+----------------------------------------------+ | created_at | 2022-05-27T21:37:43.000000 | | id | a4c4f872-c98c-411b-a787-58ed0e2dce11 | | key | BIFJIQWH | | links | {'self': 'http://127.0.0.1:60053/v2/zones/ta | | | sks/transfer_accepts/a4c4f872-c98c-411b-a787 | | | -58ed0e2dce11', 'zone': 'http://127.0.0.1:60 | | | 053/v2/zones/962f08b4-b671-4096-bf24-8908c9d | | | 4af0c'} | | project_id | 1d12e87fad0d437286c2873b36a12316 | | status | COMPLETE | | updated_at | 2022-05-27T21:37:43.000000 | | zone_id | 962f08b4-b671-4096-bf24-8908c9d4af0c | | zone_transfer_request_id | 63cab5e5-65fa-4480-b26c-c16c267c44b2 | +--------------------------+----------------------------------------------+ Displaying a Zone Transfer Accept --------------------------------- To check the status of your zone transfer accept, you can use the `openstack zone transfer accept` command: .. code-block:: console $ openstack zone transfer accept show a4c4f872-c98c-411b-a787-58ed0e2dce11 +--------------------------+----------------------------------------------+ | Field | Value | +--------------------------+----------------------------------------------+ | created_at | 2022-05-27T21:37:43.000000 | | id | a4c4f872-c98c-411b-a787-58ed0e2dce11 | | key | None | | links | {'self': 'http://127.0.0.1:60053/v2/zones/ta | | | sks/transfer_accepts/a4c4f872-c98c-411b-a787 | | | -58ed0e2dce11', 'zone': 'http://127.0.0.1:60 | | | 053/v2/zones/962f08b4-b671-4096-bf24-8908c9d | | | 4af0c'} | | project_id | 1d12e87fad0d437286c2873b36a12316 | | status | COMPLETE | | updated_at | 2022-05-27T21:37:43.000000 | | zone_id | 962f08b4-b671-4096-bf24-8908c9d4af0c | | zone_transfer_request_id | 63cab5e5-65fa-4480-b26c-c16c267c44b2 | +--------------------------+----------------------------------------------+ Listing Zone Transfer Accepts ----------------------------- Designate can provide a list of existing zone transfer accept records using the `openstack zone transfer accept list` command: .. note:: By default, only users with the 'admin' role can list zone transfer accept records. .. code-block:: console $ openstack zone transfer accept list +-------------+-------------+-------------+--------------------------+----------+-----+ | id | zone_id | project_id | zone_transfer_request_id | status | key | +-------------+-------------+-------------+--------------------------+----------+-----+ | a4c4f872-c9 | 962f08b4-b6 | 1d12e87fad0 | 63cab5e5-65fa-4480-b26c- | COMPLETE | | | 8c-411b-a78 | 71-4096-bf2 | d437286c287 | c16c267c44b2 | | | | 7-58ed0e2dc | 4-8908c9d4a | 3b36a12316 | | | | | e11 | f0c | | | | | +-------------+-------------+-------------+--------------------------+----------+-----+ ",,259,1
openstack%2Fos-net-config~master~Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c,openstack/os-net-config,master,Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c,Fix formatting of release list,MERGED,2022-05-27 12:04:02.000000000,2022-06-14 21:39:31.000000000,2022-06-14 21:38:23.000000000,"[{'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 12:04:02.000000000', 'files': ['releasenotes/source/unreleased.rst'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ce073e0a3cecfff02ae89c1e81a64a1540fc4def', 'message': 'Fix formatting of release list\n\nChange-Id: Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c\n'}]",0,843610,ce073e0a3cecfff02ae89c1e81a64a1540fc4def,8,3,1,28522,,,0,"Fix formatting of release list

Change-Id: Ia0bcb14588eaba8d9f979454f4563a9fd0b4231c
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/10/843610/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/unreleased.rst'],1,ce073e0a3cecfff02ae89c1e81a64a1540fc4def,fix-rel-formatting,.. toctree:: , .. toctree::,1,1
openstack%2Fopenstack-helm-images~master~I858360c161330c515c5a8728a5563c33d505249f,openstack/openstack-helm-images,master,I858360c161330c515c5a8728a5563c33d505249f,Add Xena and Yoga jobs to osh-images,MERGED,2022-06-08 15:45:11.000000000,2022-06-14 21:33:38.000000000,2022-06-14 21:31:39.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-08 15:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b7662dd254897043ba8e31e0aa03e472f7771dba', 'message': 'Add Xena and Yoga jobs to osh-images\n\nThis change adds the xena and yoga openstack release jobs to\nthe check and gate for openstack-helm-images.\n\nChange-Id: I858360c161330c515c5a8728a5563c33d505249f\n'}, {'number': 2, 'created': '2022-06-08 15:49:43.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8de5c39a9cd45185bb288b2b557845050f344a82', 'message': 'Add Xena and Yoga jobs to osh-images\n\nThis change adds the xena and yoga openstack release jobs to\nthe check and gate for openstack-helm-images.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/844337\n\nChange-Id: I858360c161330c515c5a8728a5563c33d505249f\n'}]",4,845154,8de5c39a9cd45185bb288b2b557845050f344a82,17,3,2,21420,,,0,"Add Xena and Yoga jobs to osh-images

This change adds the xena and yoga openstack release jobs to
the check and gate for openstack-helm-images.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/844337

Change-Id: I858360c161330c515c5a8728a5563c33d505249f
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/54/845154/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,b7662dd254897043ba8e31e0aa03e472f7771dba,fix-periodic, - openstack-helm-images-compute-kit-xena-ubuntu_focal - openstack-helm-images-cinder-xena-ubuntu_focal - openstack-helm-images-compute-kit-yoga-ubuntu_focal - openstack-helm-images-cinder-yoga-ubuntu_focal - openstack-helm-images-compute-kit-xena-ubuntu_focal - openstack-helm-images-cinder-xena-ubuntu_focal - openstack-helm-images-compute-kit-yoga-ubuntu_focal - openstack-helm-images-cinder-yoga-ubuntu_focal - openstack-helm-images-compute-kit-xena-ubuntu_focal - openstack-helm-images-cinder-xena-ubuntu_focal - openstack-helm-images-compute-kit-yoga-ubuntu_focal - openstack-helm-images-cinder-yoga-ubuntu_focal - job: name: openstack-helm-images-compute-kit-xena-ubuntu_focal parent: openstack-helm-compute-kit-xena-ubuntu_focal match-on-config-updates: false dependencies: - name: openstack-helm-images-build-openvswitch soft: true - name: openstack-helm-images-build-openstack-loci-xena-ubuntu_focal soft: true - name: openstack-helm-images-build-mariadb soft: true - name: openstack-helm-images-build-libvirt soft: true - name: openstack-helm-images-upload-openvswitch soft: true - name: openstack-helm-images-upload-openstack-loci-xena-ubuntu_focal soft: true - name: openstack-helm-images-upload-mariadb soft: true - name: openstack-helm-images-upload-libvirt soft: true files: - openvswitch/.* - zuul.d/openvswitch.yaml - ^openstack/loci/.* - zuul.d/openstack-loci.yaml - mariadb/.* - zuul.d/mariadb.yaml - libvirt/.* - zuul.d/libvirt.yaml - job: name: openstack-helm-images-cinder-xena-ubuntu_focal parent: openstack-helm-cinder-xena-ubuntu_focal match-on-config-updates: false dependencies: - name: openstack-helm-images-build-openstack-loci-xena-ubuntu_focal soft: true - name: openstack-helm-images-build-mariadb soft: true - name: openstack-helm-images-upload-openstack-loci-xena-ubuntu_focal soft: true - name: openstack-helm-images-upload-mariadb soft: true files: - ^openstack/loci/.* - zuul.d/openstack-loci.yaml - mariadb/.* - zuul.d/mariadb.yaml - job: name: openstack-helm-images-compute-kit-yoga-ubuntu_focal parent: openstack-helm-compute-kit-yoga-ubuntu_focal match-on-config-updates: false dependencies: - name: openstack-helm-images-build-openvswitch soft: true - name: openstack-helm-images-build-openstack-loci-yoga-ubuntu_focal soft: true - name: openstack-helm-images-build-mariadb soft: true - name: openstack-helm-images-build-libvirt soft: true - name: openstack-helm-images-upload-openvswitch soft: true - name: openstack-helm-images-upload-openstack-loci-yoga-ubuntu_focal soft: true - name: openstack-helm-images-upload-mariadb soft: true - name: openstack-helm-images-upload-libvirt soft: true files: - openvswitch/.* - zuul.d/openvswitch.yaml - ^openstack/loci/.* - zuul.d/openstack-loci.yaml - mariadb/.* - zuul.d/mariadb.yaml - libvirt/.* - zuul.d/libvirt.yaml - job: name: openstack-helm-images-cinder-yoga-ubuntu_focal parent: openstack-helm-cinder-yoga-ubuntu_focal match-on-config-updates: false dependencies: - name: openstack-helm-images-build-openstack-loci-yoga-ubuntu_focal soft: true - name: openstack-helm-images-build-mariadb soft: true - name: openstack-helm-images-upload-openstack-loci-yoga-ubuntu_focal soft: true - name: openstack-helm-images-upload-mariadb soft: true files: - ^openstack/loci/.* - zuul.d/openstack-loci.yaml - mariadb/.* - zuul.d/mariadb.yaml,,112,0
openstack%2Fopenstack-ansible~master~I538839939e174aebd17f59c156f4ff5db972e76b,openstack/openstack-ansible,master,I538839939e174aebd17f59c156f4ff5db972e76b,DNM nmap c9s test,NEW,2022-06-14 18:35:29.000000000,2022-06-14 21:32:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-14 18:35:29.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a437163b821049172928cee78561e04e98d86aee', 'message': 'DNM nmap c9s test\n\nChange-Id: I538839939e174aebd17f59c156f4ff5db972e76b\n'}]",0,845804,a437163b821049172928cee78561e04e98d86aee,2,1,1,13095,,,0,"DNM nmap c9s test

Change-Id: I538839939e174aebd17f59c156f4ff5db972e76b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/845804/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,a437163b821049172928cee78561e04e98d86aee,c9s-nmap, dnf -y install python3 python3-devel libselinux-python3 nmap, dnf -y install python3 python3-devel libselinux-python3,1,1
openstack%2Fopenstack-helm~master~I1bed5f1ce4c0919df9e772e920f3146fc39ffb79,openstack/openstack-helm,master,I1bed5f1ce4c0919df9e772e920f3146fc39ffb79,Add Xena and Yoga jobs,MERGED,2022-06-01 20:47:30.000000000,2022-06-14 21:17:38.000000000,2022-06-14 21:15:14.000000000,"[{'_account_id': 1131}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2022-06-01 20:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/11a13205dd7a576008a32314e4f764a236704bfb', 'message': 'Testing Xena and Yoga jobs\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 2, 'created': '2022-06-03 03:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b52a46fcb82b55e38d9a6dba84e32870fd4ae80a', 'message': 'Testing Xena and Yoga jobs\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 3, 'created': '2022-06-03 21:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/edc6df2da9662feea38bbd138c28610b5dfdbca9', 'message': 'Testing Xena and Yoga jobs\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 4, 'created': '2022-06-06 14:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2d46a5c5c6610b1f78c5a6ed82a7ffa33297c350', 'message': 'Testing Xena and Yoga jobs\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 5, 'created': '2022-06-06 16:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/653a88cbb9c5602548817788a1c66db78384a791', 'message': 'Testing Xena and Yoga jobs\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 6, 'created': '2022-06-06 19:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40a46139837bd0bfe2700cbacdf666cd1a1ec2e3', 'message': 'Testing Xena and Yoga jobs\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 7, 'created': '2022-06-08 16:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fbcc431e8b262be90dd0b3659bdfa3d987ff823c', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 8, 'created': '2022-06-08 17:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e00709aeb36efae4325cc762981b248786988c74', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 9, 'created': '2022-06-08 21:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1ec971f6fb85df2990982623af304024ec713301', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 10, 'created': '2022-06-09 14:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ac63cbde1c4c84ddd248bf02580ab5cd0b66b11', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 11, 'created': '2022-06-09 18:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fcafd50971f080a97f22e95de14df9db88b45fe7', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 12, 'created': '2022-06-09 19:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d601f9f1026e61119a8379cf3a2bcc47999b1cd', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 13, 'created': '2022-06-13 01:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01f63ee57886ff288ce9f021b728a6edd0f47f6d', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 14, 'created': '2022-06-13 03:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8fff4f04f77e7e55c883ab21da8e8f07c8984e67', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 15, 'created': '2022-06-13 14:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f7e863ae265b240e973ac6ac9dba91a934a945c', 'message': 'Testing Xena and Yoga jobs\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}, {'number': 16, 'created': '2022-06-14 02:23:29.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/01cdea17e4a7a835c9b32879ead90f856abe736c', 'message': 'Add Xena and Yoga jobs\n\nThis change adds both the Xena and Yoga releases of openstack to the\nrunning jobs that openstack-helm uses to test.\n\nA future change will enable the compute-kit yoga job.\n\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156\nDepends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845656\n\nChange-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79\n'}]",10,844337,01cdea17e4a7a835c9b32879ead90f856abe736c,53,4,16,21420,,,0,"Add Xena and Yoga jobs

This change adds both the Xena and Yoga releases of openstack to the
running jobs that openstack-helm uses to test.

A future change will enable the compute-kit yoga job.

Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845156
Depends-on: https://review.opendev.org/c/openstack/openstack-helm/+/845656

Change-Id: I1bed5f1ce4c0919df9e772e920f3146fc39ffb79
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/844337/16 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,11a13205dd7a576008a32314e4f764a236704bfb,xena-yoga, - openstack-helm-cinder-xena-ubuntu_focal - openstack-helm-compute-kit-xena-ubuntu_focal, # - openstack-helm-cinder-xena-ubuntu_focal # - openstack-helm-compute-kit-xena-ubuntu_focal,2,2
openstack%2Fcharm-guide~master~Ia051a861c88a4a33393042e887115d30e39b8275,openstack/charm-guide,master,Ia051a861c88a4a33393042e887115d30e39b8275,Final touches on yoga release notes,MERGED,2022-05-06 23:18:15.000000000,2022-06-14 21:10:54.000000000,2022-06-14 21:09:40.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 23:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/099caa1ee1d3d5c5ef41cff0a897a3d29535a651', 'message': 'Add rabbitmq-server yoga release note\n\nChange-Id: Ia051a861c88a4a33393042e887115d30e39b8275\n'}, {'number': 2, 'created': '2022-05-06 23:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/651d98a07ec575135ef591450bab4678f7753dbc', 'message': 'Add rabbitmq-server yoga release note\n\nThe rabbitmq-server charm had a few options removed.\n\nAlso add a redirect since the name of the release notes\nfile was recently changed (2204.rst => yoga.rst).\n\nChange-Id: Ia051a861c88a4a33393042e887115d30e39b8275\n'}, {'number': 3, 'created': '2022-05-10 23:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9bf6a8fb0b7f3db8024ca9f6767cf37c9fb17c0b', 'message': 'Add rabbitmq-server yoga release note\n\nThe rabbitmq-server charm had a few options removed.\n\nAlso add a redirect since the name of the release notes\nfile was recently changed (2204.rst => yoga.rst).\n\nChange-Id: Ia051a861c88a4a33393042e887115d30e39b8275\n'}, {'number': 4, 'created': '2022-05-31 21:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/1e00898020834f0524a0584d20b01e3154c73d59', 'message': 'Finale touches on yoga release notes\n\nThe rabbitmq-server charm had a few options removed.\n\nAlso add a redirect since the name of the release notes\nfile was recently changed (2204.rst => yoga.rst).\n\nChange-Id: Ia051a861c88a4a33393042e887115d30e39b8275\n'}, {'number': 5, 'created': '2022-05-31 21:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/4973f33ea4e4810f72fec816b0372dc27d73a2af', 'message': 'Final touches on yoga release notes\n\nThe rabbitmq-server charm had a few options removed.\n\nAlso add a redirect since the name of the release notes\nfile was recently changed (2204.rst => yoga.rst).\n\nChange-Id: Ia051a861c88a4a33393042e887115d30e39b8275\n'}, {'number': 6, 'created': '2022-06-02 17:16:35.000000000', 'files': ['doc/source/admin/storage/cinder-replication-overlay.rst', 'doc/source/admin/ha.rst', 'doc/source/admin/storage/cinder-replication-dr.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess', 'doc/source/release-notes/yoga.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/156d2b710cd05a946244132fbdb5d19f110eaf2b', 'message': 'Final touches on yoga release notes\n\nThe rabbitmq-server charm had a few options removed.\n\nAlso add a redirect since the name of the release notes\nfile was recently changed (2204.rst => yoga.rst).\n\nChange-Id: Ia051a861c88a4a33393042e887115d30e39b8275\n'}]",5,840998,156d2b710cd05a946244132fbdb5d19f110eaf2b,19,2,6,30561,,,0,"Final touches on yoga release notes

The rabbitmq-server charm had a few options removed.

Also add a redirect since the name of the release notes
file was recently changed (2204.rst => yoga.rst).

Change-Id: Ia051a861c88a4a33393042e887115d30e39b8275
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/98/840998/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess', 'doc/source/release-notes/yoga.rst']",3,099caa1ee1d3d5c5ef41cff0a897a3d29535a651,yoga-release-note-rabbitmq-options,for the OpenStack Cinder service. It is a subordinate charm used in conjunctionrabbitmq-server: options removed ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The configuration options ``module-nodes`` and ``known-wait`` have been removed from the rabbitmq-server charm as development work related to coordinated node restarts has made them irrelevant. ,for the Openstack Cinder service. It is a subordinate charm used in conjunction,12,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,openstack/tripleo-ansible,stable/train,Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac,Set timeout to default if not configured,MERGED,2022-06-13 14:47:19.000000000,2022-06-14 20:51:02.000000000,2022-06-14 20:51:02.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-13 14:47:19.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b6caf1113ab56a3d3723cd9bbb90b5ecadaea48', 'message': 'Set timeout to default if not configured\n\nWhen ""| int"" is set after ""omit"" it sets parameter to 0 instead\nof omitting.\n\nChange-Id: Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac\n(cherry picked from commit 8a0bccadcdb3c6b5e302cb2c0fdb7df93072bbc1)\n'}]",0,845599,8b6caf1113ab56a3d3723cd9bbb90b5ecadaea48,9,4,1,9816,,,0,"Set timeout to default if not configured

When ""| int"" is set after ""omit"" it sets parameter to 0 instead
of omitting.

Change-Id: Iee9085fa4992846e36c7e71d4c2cfc3bc9db42ac
(cherry picked from commit 8a0bccadcdb3c6b5e302cb2c0fdb7df93072bbc1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/845599/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml'],1,8b6caf1113ab56a3d3723cd9bbb90b5ecadaea48,," stop_timeout: ""{{ lookup('dict', container_data).value.stop_grace_period | default(omit) }}"""," stop_timeout: ""{{ lookup('dict', container_data).value.stop_grace_period | default(omit) | int }}""",1,1
openstack%2Fkuryr-kubernetes~master~I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6,openstack/kuryr-kubernetes,master,I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6,"Strip leading zeros from ""funny"" Service IPs",MERGED,2022-06-09 11:52:35.000000000,2022-06-14 20:34:29.000000000,2022-06-14 20:33:16.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-06-09 11:52:35.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce6fb744b5363a8a81afdee19dbda902981b1070', 'message': 'Strip leading zeros from ""funny"" Service IPs\n\nAccording to [1] we\'re supposed to support ""funny"" Service IPs, which\nmeans IPs with leading zeros. Unlike unix in general we should not parse\nthem as octal values, but rather treat them like without leading zeros.\nThis commit makes sure that we strip the zeros from both ClusterIP and\nLoadBalancerIP before we put them into KuryrLoadBalancer struct. This\nmeans that later on Octavia and Neutron will get values that they\nsupport and will proceed with LB or FIP creation normally.\n\n[1] https://github.com/kubernetes/kubernetes/blob/v1.24.1/test/e2e/network/funny_ips.go\n\nChange-Id: I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6\nCloses-Bug: 1978112\n'}]",8,845266,ce6fb744b5363a8a81afdee19dbda902981b1070,22,4,1,11600,,,0,"Strip leading zeros from ""funny"" Service IPs

According to [1] we're supposed to support ""funny"" Service IPs, which
means IPs with leading zeros. Unlike unix in general we should not parse
them as octal values, but rather treat them like without leading zeros.
This commit makes sure that we strip the zeros from both ClusterIP and
LoadBalancerIP before we put them into KuryrLoadBalancer struct. This
means that later on Octavia and Neutron will get values that they
support and will proceed with LB or FIP creation normally.

[1] https://github.com/kubernetes/kubernetes/blob/v1.24.1/test/e2e/network/funny_ips.go

Change-Id: I0aa8d7326dbf40459f73037ae54d2afc01ea9bb6
Closes-Bug: 1978112
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/66/845266/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_lbaas.py']",2,ce6fb744b5363a8a81afdee19dbda902981b1070,fix-funny-ips,"@mock.patch('kuryr_kubernetes.controller.drivers.base.LBaaSDriver.' 'get_instance', mock.Mock()) @mock.patch('kuryr_kubernetes.clients.get_kubernetes_client', mock.Mock()) 'clusterIP': '192.168.0.11'}} handler = h_lbaas.ServiceHandler() ret = handler._get_service_ip(svc_body) self.assertEqual('192.168.0.11', ret) 'clusterIP': '192.168.0.11'}} ret = handler._get_service_ip(svc_body) self.assertEqual('192.168.0.11', ret) def test_get_service_ip_funny(self): svc_body = {'spec': {'type': 'ClusterIP', 'clusterIP': '172.30.0.011'}} handler = h_lbaas.ServiceHandler() ret = handler._get_service_ip(svc_body) self.assertEqual('172.30.0.11', ret)"," 'clusterIP': mock.sentinel.cluster_ip}} m_handler = mock.Mock(spec=h_lbaas.ServiceHandler) ret = h_lbaas.ServiceHandler._get_service_ip(m_handler, svc_body) self.assertEqual(mock.sentinel.cluster_ip, ret) 'clusterIP': mock.sentinel.cluster_ip}} m_handler = mock.Mock(spec=h_lbaas.ServiceHandler) ret = h_lbaas.ServiceHandler._get_service_ip(m_handler, svc_body) self.assertEqual(mock.sentinel.cluster_ip, ret)",24,11
openstack%2Fopenstack-ansible~master~I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe,openstack/openstack-ansible,master,I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe,Remove usage of haproxy-endpoints role,MERGED,2022-06-14 12:33:28.000000000,2022-06-14 20:33:12.000000000,2022-06-14 20:31:19.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-06-14 12:33:28.000000000', 'files': ['playbooks/galera-install.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0a0a1e062e28cae20fb5d02329cead25cac3ff5f', 'message': 'Remove usage of haproxy-endpoints role\n\nhaproxy-endpoints role was used only to manage galera backends.\nTo have more consistency and as transition was never finished,\nwe rollback to using inlcuded task.\n\nAlso role usage was a bit complex and hard to read. It also had a\ndrawback that service can be broken before handler run, which makes\nendpoint managing a bit useless in this scenario.\n\nAs follow-up we should also drop all ""Manage LB"" handlers in roles.\n\nChange-Id: I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe\n'}]",0,845739,0a0a1e062e28cae20fb5d02329cead25cac3ff5f,8,3,1,28619,,,0,"Remove usage of haproxy-endpoints role

haproxy-endpoints role was used only to manage galera backends.
To have more consistency and as transition was never finished,
we rollback to using inlcuded task.

Also role usage was a bit complex and hard to read. It also had a
drawback that service can be broken before handler run, which makes
endpoint managing a bit useless in this scenario.

As follow-up we should also drop all ""Manage LB"" handlers in roles.

Change-Id: I1293776f58a799c9e9dd70f8cd076ed2e2b1bdfe
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/845739/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/galera-install.yml', 'ansible-role-requirements.yml']",2,0a0a1e062e28cae20fb5d02329cead25cac3ff5f,osa/manage_lb,,- name: haproxy_endpoints scm: git src: https://github.com/logan2211/ansible-haproxy-endpoints version: 8e3a24a35beb16d717072dc83895c5a1f92689fb trackbranch: master shallow_since: '2018-03-22',13,12
openstack%2Ftripleo-validations~master~I0295e31bbaba96c7e60a872a89be7e0ddd07bd36,openstack/tripleo-validations,master,I0295e31bbaba96c7e60a872a89be7e0ddd07bd36,Correct the command that gets the PID of nova_libvirt_launcher.sh.,MERGED,2022-03-21 19:10:37.000000000,2022-06-14 19:55:39.000000000,2022-06-14 19:54:20.000000000,"[{'_account_id': 11090}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-03-21 19:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5f3a620706eb67a1ddd83915271e425ac7f9cd6d', 'message': 'Correct the command that gets the PID of nova_libvirt_launcher.sh, due to a bug that makes the command get two numbers concatenated instead of one.\n\nSigned-off-by: Juan Pablo Martí <jmarti@redhat.com>\nChange-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36\n'}, {'number': 2, 'created': '2022-04-25 13:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a7e8fe45e443cc62ab26f3f2f0d2be94a9cf6cf3', 'message': 'Correct the command that gets the PID of nova_libvirt_launcher.sh.\nThe problem is due to a bug that makes the command get two numbers concatenated instead of one.\n\nSigned-off-by: Juan Pablo Martí <jmarti@redhat.com>\nChange-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36\n'}, {'number': 3, 'created': '2022-04-25 13:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f67dc25fc2bb0330fc636f707e3882a4617700c0', 'message': 'Correct the command that gets the PID of nova_libvirt_launcher.sh.\n\nThe problem is due to a bug that makes the command get two numbers concatenated instead of one.\n\nSigned-off-by: Juan Pablo Martí <jmarti@redhat.com>\nChange-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36\n'}, {'number': 4, 'created': '2022-04-28 13:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b7385ebb51594b415bfd838c00dcb01050c96920', 'message': 'Correct the command that gets the PID of nova_libvirt_launcher.sh.\n\nThe problem is due to a bug that makes the command get two numbers concatenated instead of one.\n\nCloses-Bug: #1970755\n\nSigned-off-by: Juan Pablo Martí <jmarti@redhat.com>\nChange-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36\n'}, {'number': 5, 'created': '2022-06-14 10:39:44.000000000', 'files': ['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bf17c453ecb10c964c5f2e6139664a7f5294ac66', 'message': 'Correct the command that gets the PID of nova_libvirt_launcher.sh.\n\nThe problem is due to a bug that makes the command get two numbers concatenated instead of one.\n\nCloses-Bug: #1970755\n\nSigned-off-by: Juan Pablo Martí <jmarti@redhat.com>\nChange-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36\n'}]",11,834538,bf17c453ecb10c964c5f2e6139664a7f5294ac66,31,7,5,34647,,,0,"Correct the command that gets the PID of nova_libvirt_launcher.sh.

The problem is due to a bug that makes the command get two numbers concatenated instead of one.

Closes-Bug: #1970755

Signed-off-by: Juan Pablo Martí <jmarti@redhat.com>
Change-Id: I0295e31bbaba96c7e60a872a89be7e0ddd07bd36
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/38/834538/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml'],1,5f3a620706eb67a1ddd83915271e425ac7f9cd6d,, ps -Leaf | grep nova_libvirt_launcher.sh | grep -v pts -m 1 | awk '{print $2}'," ps -Leaf | grep nova_libvirt_launcher.sh | grep -v pts | awk '{printf ""%s"", $2}'",1,1
openstack%2Fcharm-guide~master~I16f0b9c64228e2445781bde02a6cd5a8980f0b20,openstack/charm-guide,master,I16f0b9c64228e2445781bde02a6cd5a8980f0b20,Review Shared filesystem services page,MERGED,2022-06-06 14:46:51.000000000,2022-06-14 19:45:35.000000000,2022-06-14 19:44:17.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 14:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/40bcba99d1970beb030e2f0d5ba11e91f66e1583', 'message': 'Review Shared filesystem services page\n\nChange-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20\n'}, {'number': 2, 'created': '2022-06-06 17:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f75f26c9e61e670ff0ac862a638010399dd82cb1', 'message': 'Review Shared filesystem services page\n\nReview the Shared filesystem services page.\n\nDepends-On: ?\nChange-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20\n'}, {'number': 3, 'created': '2022-06-06 20:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b63e82340c000e9f9c5fdf1f98a0a9384f73df68', 'message': 'Review Shared filesystem services page\n\nReview the Shared filesystem services page.\n\nDepends-On: ?\nChange-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20\n'}, {'number': 4, 'created': '2022-06-10 14:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/034206f8e64723b968bf0206b485bbc0be245cf0', 'message': 'Review Shared filesystem services page\n\nReview the Shared filesystem services page.\n\nDepends-On: Ib5efb8e88e2fc8216a150a12f0aebbc363fc6491\nChange-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20\n'}, {'number': 5, 'created': '2022-06-14 18:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/33e6730ccf74c19c607df6a92d0fd80725c5f50d', 'message': 'Review Shared filesystem services page\n\nImprove wording and links.\n\nUse the new & improved method of documenting overlay\nbundles.\n\nLink to newly-contributed Juju documentation for overlay\nusage.\n\nChange-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20\n'}, {'number': 6, 'created': '2022-06-14 18:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/615913f07e633d3e4036ce0957b5cb02bb9b750c', 'message': 'Review Shared filesystem services page\n\nImprove wording and links.\n\nUse the new & improved method of documenting overlay\nbundles.\n\nLink to newly-contributed Juju documentation for overlay\nusage.\n\nChange-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20\n'}, {'number': 7, 'created': '2022-06-14 19:25:49.000000000', 'files': ['doc/source/admin/storage/shared-filesystem-services.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/37c322abffa5864fb8750378e784645e96150870', 'message': 'Review Shared filesystem services page\n\nImprove wording and links.\n\nUse the new & improved method of documenting overlay\nbundles.\n\nLink to newly-contributed Juju documentation for overlay\nusage.\n\nChange-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20\n'}]",2,844853,37c322abffa5864fb8750378e784645e96150870,20,2,7,30561,,,0,"Review Shared filesystem services page

Improve wording and links.

Use the new & improved method of documenting overlay
bundles.

Link to newly-contributed Juju documentation for overlay
usage.

Change-Id: I16f0b9c64228e2445781bde02a6cd5a8980f0b20
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/53/844853/7 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/storage/shared-filesystem-services.rst'],1,40bcba99d1970beb030e2f0d5ba11e91f66e1583,fix-broken-link-filesystem-services,"The overlay bundle below encapsulates what is needed in terms of the deployment. .. important:: The deployment parameters should be tailored according to the local environment (e.g. the machine mappings). In particular, the following placeholders must be replaced with an actual value: * $SERIES * $OPENSTACK_ORIGIN * $VIP series: $SERIES '1': '2': '3': applications: ceph-fs: charm: ch:ceph-fs source: $OPENSTACK_ORIGIN manila-hacluster: charm: ch:hacluster manila-ganesha-hacluster: charm: ch:hacluster manila-ganesha: charm: ch:manila-ganesha openstack-origin: $OPENSTACK_ORIGIN vip: $VIP manila: charm: ch:manila openstack-origin: $OPENSTACK_ORIGIN vip: $VIPTo use an overlay for the deployment juju deploy ./bundle.yaml --overlay ./manila-ganesha-overlay.yaml Where `bundle.yaml` is a bundle to deploy OpenStack. See the `Getting startedoverlay be called ``manila-ganesha-overlay.yaml``. ","As of the 20.02 OpenStack Charms release, with OpenStack Rocky or later,.. warning:: Throughout this guide make sure ``openstack-origin`` matches the value you used when `deploying OpenStack`_. One way to add Manila Ganesha is to do so during the bundle deployment of a new OpenStack cloud. This is done by means of a bundle overlay, such as `manila-ganesha-overlay.yaml`: series: bionic '1': series: bionic '2': series: bionic '3': series: bionic series: bionic applications: ceph-fs: charm: cs:ceph-fs source: cloud:bionic-train manila-hacluster: charm: cs:hacluster manila-ganesha-hacluster: charm: cs:hacluster manila-ganesha: charm: cs:manila-ganesha openstack-origin: cloud:bionic-train vip: <INSERT VIP(S)> manila: charm: cs:manila openstack-origin: cloud:bionic-train vip: <INSERT VIP(S)>.. warning:: The machine mappings will almost certainly need to be changed. juju deploy ./base.yaml --overlay ./manila-ganesha-overlay.yaml Where `base.yaml` is a bundle to deploy OpenStack. See the `Getting started.. _deploying OpenStack: install-openstack",34,29
openstack%2Fcharm-pacemaker-remote~master~Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a,openstack/charm-pacemaker-remote,master,Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a,Add support for Zed,ABANDONED,2022-06-10 20:29:35.000000000,2022-06-14 19:32:31.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-10 20:29:35.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/jammy-basic.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-basic.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/bionic-basic.yaml', 'src/tests/bundles/impish-basic.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-pacemaker-remote/commit/f87a421fdbb8f0ce540158acb7c02766052fd7a5', 'message': 'Add support for Zed\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n\nChange-Id: Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a\n'}]",0,845475,f87a421fdbb8f0ce540158acb7c02766052fd7a5,4,2,1,11805,,,0,"Add support for Zed

* sync charm-helpers to classic charms
* rebuild for reactive charms
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml

Change-Id: Ie2ecf6fb0b800ec3bde82a49805a164999f5b81a
",git fetch https://review.opendev.org/openstack/charm-pacemaker-remote refs/changes/75/845475/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'test-requirements.txt', 'build-requirements.txt', 'src/tests/bundles/jammy-basic.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/focal-basic.yaml', 'rename.sh', 'charmcraft.yaml', 'src/tests/bundles/bionic-basic.yaml', 'src/tests/bundles/impish-basic.yaml', 'tox.ini']",12,f87a421fdbb8f0ce540158acb7c02766052fd7a5,batch-update,"allowlist_externals = charmcraft bash tox rename.shdeps = -r{toxinidir}/build-requirements.txt commands = charmcraft clean charmcraft -v build {toxinidir}/rename.sh [testenv:build-reactive] basepython = python3[testenv:func-target] # Hack to get functional tests working in the charmcraft # world. We should fix this. basepython = python3 passenv = HOME TERM CS_* OS_* TEST_* deps = -r{toxinidir}/src/test-requirements.txt changedir = {toxinidir}/src commands = bash -c ""if [ ! -f ../*.charm ]; then echo 'Charm does not exist. Run tox -e build'; exit 1; fi"" tox --version tox -e func-target {posargs} ",,81,36
openstack%2Fcharm-magpie~master~Ie38a20eea755c8115abf34266eade6d87a28890e,openstack/charm-magpie,master,Ie38a20eea755c8115abf34266eade6d87a28890e,Add support for Zed,ABANDONED,2022-06-10 20:27:12.000000000,2022-06-14 19:23:18.000000000,,"[{'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-10 20:27:12.000000000', 'files': ['src/lib/charms/layer/magpie_tools.py'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/c40738938151577be66288cd0c1edd989471f8bb', 'message': 'Add support for Zed\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n\nChange-Id: Ie38a20eea755c8115abf34266eade6d87a28890e\n'}]",2,845444,c40738938151577be66288cd0c1edd989471f8bb,6,3,1,11805,,,0,"Add support for Zed

* sync charm-helpers to classic charms
* rebuild for reactive charms
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml

Change-Id: Ie38a20eea755c8115abf34266eade6d87a28890e
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/44/845444/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charms/layer/magpie_tools.py'],1,c40738938151577be66288cd0c1edd989471f8bb,batch-update," if ""failed"" not in str(mtu):"," if ""failed"" not in mtu:",1,1
openstack%2Fcharm-glance-simplestreams-sync~stable%2Fussuri~I3316d2299cca9697360aaaa5010e9de7670355d7,openstack/charm-glance-simplestreams-sync,stable/ussuri,I3316d2299cca9697360aaaa5010e9de7670355d7,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:01:47.000000000,2022-06-14 19:22:09.000000000,2022-06-14 19:22:09.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3f50c0212321cc48cc10f2dd460d5e7e8a4bc21d', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I3316d2299cca9697360aaaa5010e9de7670355d7\n'}, {'number': 2, 'created': '2022-05-31 11:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/af2796fb6da7516614f7fd1f72384b9ebfea7f21', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I3316d2299cca9697360aaaa5010e9de7670355d7\n'}, {'number': 3, 'created': '2022-05-31 14:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/9e326f971437efcdf2d1a26e5f277bedb6f20e04', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I3316d2299cca9697360aaaa5010e9de7670355d7\n'}, {'number': 4, 'created': '2022-05-31 14:59:19.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3adc992382dc39a80e971216eb19e33725531cc6', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I3316d2299cca9697360aaaa5010e9de7670355d7\n'}]",0,842762,3adc992382dc39a80e971216eb19e33725531cc6,15,3,4,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I3316d2299cca9697360aaaa5010e9de7670355d7
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/62/842762/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",26,3f50c0212321cc48cc10f2dd460d5e7e8a4bc21d,charmhub-migration,,"variables: source: &source distro series: impish comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': '1': '2': '3': '4': '5': '6': '7': '8': constraints: ""mem=2048"" '9': constraints: ""mem=2048"" '10': constraints: ""mem=2048"" '11': '12': '13': applications: keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router vault-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *source to: - '0' - '1' - '2' vault: charm: cs:~openstack-charmers/vault num_units: 1 to: - '3' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *source to: - '4' glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *source to: - '5' glance-simplestreams-sync: charm: ../../glance-simplestreams-sync num_units: 1 to: - '6' ceph-radosgw: charm: cs:~openstack-charmers/ceph-radosgw num_units: 1 options: source: *source to: - '7' ceph-osd: charm: cs:~openstack-charmers/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *source to: - '8' - '9' - '10' ceph-mon: charm: cs:~openstack-charmers/ceph-mon num_units: 3 options: source: *source to: - '11' - '12' - '13' relations: - ['keystone:certificates', 'vault:certificates'] - ['glance:certificates', 'vault:certificates'] - ['glance-simplestreams-sync:certificates', 'vault:certificates'] - ['glance:identity-service', 'keystone:identity-service'] - ['glance-simplestreams-sync:identity-service', 'keystone:identity-service'] - ['keystone:shared-db','keystone-mysql-router:shared-db'] - ['glance:shared-db','glance-mysql-router:shared-db'] - ['glance:ceph', 'ceph-mon:client'] - ['vault:shared-db','vault-mysql-router:shared-db'] - ['keystone-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['glance-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['vault-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['ceph-osd:mon', 'ceph-mon:osd'] - ['ceph-radosgw:mon', 'ceph-mon:radosgw'] - ['ceph-radosgw:identity-service', 'keystone:identity-service'] - ['ceph-radosgw:certificates', 'vault:certificates'] ",151,1286
openstack%2Fcharm-heat~stable%2Fussuri~If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82,openstack/charm-heat,stable/ussuri,If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82,Migrate charm charmhub for stable/ussuri,MERGED,2022-05-20 19:02:04.000000000,2022-06-14 19:19:42.000000000,2022-06-14 19:19:42.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 19:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/e7fe0de5c7b91051666ce1486b57d64e51576d70', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82\n'}, {'number': 2, 'created': '2022-05-31 11:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a540d01aceaf4389960b40bea4326730538459f4', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82\n'}, {'number': 3, 'created': '2022-05-31 14:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/4017c0f43ea2221e364e021f5385a9680d93dbca', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82\n'}, {'number': 4, 'created': '2022-05-31 15:23:24.000000000', 'files': ['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/086ec32e09aa4bfebddce952f4605cf614bbcc1c', 'message': 'Migrate charm charmhub for stable/ussuri\n\n- start from stable/ussuri branch\n- Do charmcraft, osci, zuul changes\n- Modify libs to point to stable/ussuri for:\n  - charmhelpers\n  - charms.openstack (as needed)\n  - zaza & zaza.openstack.tests\n- Remove unsupported test bundles\n- migration bundles to charmhub.io (ch: prefix + channels)\n- Build on 18.04 amd64\n- Run on 18.04 amd64, s390x, ppc64el, arm64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82\n'}]",0,842764,086ec32e09aa4bfebddce952f4605cf614bbcc1c,15,3,4,20870,,,0,"Migrate charm charmhub for stable/ussuri

- start from stable/ussuri branch
- Do charmcraft, osci, zuul changes
- Modify libs to point to stable/ussuri for:
  - charmhelpers
  - charms.openstack (as needed)
  - zaza & zaza.openstack.tests
- Remove unsupported test bundles
- migration bundles to charmhub.io (ch: prefix + channels)
- Build on 18.04 amd64
- Run on 18.04 amd64, s390x, ppc64el, arm64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: If4a981dafe3ebb96bcbef80d3c1fd9d5eb32bb82
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/64/842764/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.gitignore', '.gitreview', 'test-requirements.txt', 'tests/bundles/xenial-queens.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'build-requirements.txt', '.zuul.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/focal-xena.yaml', 'rename.sh', 'charmcraft.yaml', 'metadata.yaml', 'tox.ini', 'tests/bundles/impish-xena.yaml']",29,e7fe0de5c7b91051666ce1486b57d64e51576d70,charmhub-migration,,"variables: openstack-origin: &openstack-origin distro series: &series impish machines: 0: constraints: ""mem=3072M"" 1: constraints: ""mem=3072M"" 2: constraints: ""mem=3072M"" 3: 4: 5: 6: 7: constraints: ""root-disk=20G mem=4G cores=4"" 8: 9: 10: 11: constaints: ""mem=2048M"" 12: constaints: ""mem=2048M"" # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: heat-mysql-router: charm: cs:~openstack-charmers/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers/mysql-router placement-mysql-router: charm: cs:~openstack-charmers/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers/mysql-router glance-mysql-router: charm: cs:~openstack-charmers/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' rabbitmq-server: charm: cs:~openstack-charmers/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '4' glance: charm: cs:~openstack-charmers/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '5' nova-cloud-controller: charm: cs:~openstack-charmers/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin api-rate-limit-rules: ""( POST, '*', .*, 9999, MINUTE );"" network-manager: Neutron to: - '6' nova-compute: charm: cs:~openstack-charmers/nova-compute num_units: 1 options: openstack-origin: *openstack-origin config-flags: 'auto_assign_floating_ip=False' enable-live-migration: ""False"" to: - '7' placement: charm: cs:~openstack-charmers/placement num_units: 1 options: openstack-origin: *openstack-origin debug: ""True"" to: - '8' neutron-gateway: charm: cs:~openstack-charmers/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin to: - '9' neutron-api: charm: cs:~openstack-charmers/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs openstack-origin: *openstack-origin to: - '10' neutron-openvswitch: charm: cs:~openstack-charmers/neutron-openvswitch heat: charm: ../../../heat num_units: 2 constraints: mem=2048 options: openstack-origin: *openstack-origin debug: ""True"" verbose: ""True"" to: - '11' - '12' relations: - - 'heat:amqp' - 'rabbitmq-server:amqp' - - 'heat:identity-service' - 'keystone:identity-service' - - ""heat:shared-db"" - ""heat-mysql-router:shared-db"" - - ""heat-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - ""nova-cloud-controller:shared-db"" - ""nova-cloud-controller-mysql-router:shared-db"" - - ""nova-cloud-controller-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - ""placement:shared-db"" - ""placement-mysql-router:shared-db"" - - ""placement-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - ""keystone:shared-db"" - ""keystone-mysql-router:shared-db"" - - ""keystone-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'glance:identity-service' - 'keystone:identity-service' - - ""glance:shared-db"" - ""glance-mysql-router:shared-db"" - - ""glance-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - ""neutron-api:shared-db"" - ""neutron-api-mysql-router:shared-db"" - - ""neutron-api-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' ",178,2502
openstack%2Fcharm-nova-cloud-controller~stable%2Fxena~I597b1b5770d63fbd5082d899983ec73b94b49350,openstack/charm-nova-cloud-controller,stable/xena,I597b1b5770d63fbd5082d899983ec73b94b49350,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:49:58.000000000,2022-06-14 19:16:51.000000000,2022-06-14 19:16:51.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/ad30b351ceddac2eda50a61f163d1f4d5babd584', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I597b1b5770d63fbd5082d899983ec73b94b49350\n'}, {'number': 2, 'created': '2022-06-08 13:06:08.000000000', 'files': ['test-requirements.txt', 'charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/44917f58dccf26599a5398e59b09946a978021e9', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n- Adjust test-requirements.txt to pin tempest as tempest development\n  head has dropped py36/py37.\n\nChange-Id: I597b1b5770d63fbd5082d899983ec73b94b49350\n'}]",11,841978,44917f58dccf26599a5398e59b09946a978021e9,36,4,2,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64
- Adjust test-requirements.txt to pin tempest as tempest development
  head has dropped py36/py37.

Change-Id: I597b1b5770d63fbd5082d899983ec73b94b49350
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/78/841978/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,ad30b351ceddac2eda50a61f163d1f4d5babd584,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Fcharm-ironic-api~stable%2Fxena~I3e27530e190209c0951592e44ef57884bc7e1c53,openstack/charm-ironic-api,stable/xena,I3e27530e190209c0951592e44ef57884bc7e1c53,Update the charmcraft.yaml for xena (no 22.04 base),MERGED,2022-05-16 17:46:47.000000000,2022-06-14 19:15:57.000000000,2022-06-14 19:15:57.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-16 17:46:47.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/357af31af26e7636c979605f50f1531985275a97', 'message': 'Update the charmcraft.yaml for xena (no 22.04 base)\n\n- Build on 20.04 amd64\n- Run on 20.04 amd64, s390x, ppc64el, arm64\n\nChange-Id: I3e27530e190209c0951592e44ef57884bc7e1c53\n'}]",6,841956,357af31af26e7636c979605f50f1531985275a97,19,3,1,20870,,,0,"Update the charmcraft.yaml for xena (no 22.04 base)

- Build on 20.04 amd64
- Run on 20.04 amd64, s390x, ppc64el, arm64

Change-Id: I3e27530e190209c0951592e44ef57884bc7e1c53
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/56/841956/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,357af31af26e7636c979605f50f1531985275a97,charmhub-migration," architectures: [amd64, s390x, ppc64el, arm64]", - s390x - ppc64el - arm64,1,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,openstack/tripleo-heat-templates,stable/victoria,Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4,Add ovn_chassis_mac_map to ExtraConfig role,ABANDONED,2022-01-31 16:25:39.000000000,2022-06-14 18:54:58.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-31 16:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/367d4ae1b392c29add4a75303cef1679c9397c11', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827147\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}, {'number': 2, 'created': '2022-02-02 15:06:35.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98d317647edaa33611dee7e72ffcae85a8ef900c', 'message': 'Add ovn_chassis_mac_map to ExtraConfig role\n\nRelated-Bug: #1881593\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827147\n\nChange-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4\n(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)\n'}]",5,827149,98d317647edaa33611dee7e72ffcae85a8ef900c,16,4,2,6681,,,0,"Add ovn_chassis_mac_map to ExtraConfig role

Related-Bug: #1881593
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/827147

Change-Id: Ia766bda0afd5232c13cd28c8bf9162ad1ed580f4
(cherry picked from commit f2fd2a856e95852dd7b4f8eb2f5686b9cbe24c1a)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/827149/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,367d4ae1b392c29add4a75303cef1679c9397c11,bug/1881593, - ovn_chassis_mac_map # provided by tripleo_hieradata,,1,0
openstack%2Fopenstack-ansible~master~Ia751cd2228894ee984f9863fdb4589987488e0a0,openstack/openstack-ansible,master,Ia751cd2228894ee984f9863fdb4589987488e0a0,Replace haproxy common task with handlers,ABANDONED,2017-09-17 16:40:34.000000000,2022-06-14 18:44:13.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17799}, {'_account_id': 18784}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 28619}]","[{'number': 1, 'created': '2017-09-17 16:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5d2d8de7965e9b0d00d6c5d07f7a34360d29bab', 'message': 'Replace haproxy common task with handlers\n\nThe old haproxy-endpoints-manage common-task unconditionally\ndisabled the endpoint in haproxy regardless of whether a service\nrestart or other endpoint impacting work was going to be done.\n\nNow we have a mechanism to implement a ""Manage LB"" listener that\nthe role can notify when it needs orchestrated endpoint management\nonly in cases where a restart or other impactful work is being\nperformed.\n\nChange-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0\n'}, {'number': 2, 'created': '2017-09-19 15:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b309648fa3ca05c92bacd5f633564c810e1310a', 'message': 'Replace haproxy common task with handlers\n\nThe old haproxy-endpoints-manage common-task unconditionally\ndisabled the endpoint in haproxy regardless of whether a service\nrestart or other endpoint impacting work was going to be done.\n\nNow we have a mechanism to implement a ""Manage LB"" listener that\nthe role can notify when it needs orchestrated endpoint management\nonly in cases where a restart or other impactful work is being\nperformed.\n\nChange-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0\n'}, {'number': 3, 'created': '2017-10-27 17:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b95f7ab2821615fdaa9c6605806e7398f815137', 'message': 'Replace haproxy common task with handlers\n\nThe old haproxy-endpoints-manage common-task unconditionally\ndisabled the endpoint in haproxy regardless of whether a service\nrestart or other endpoint impacting work was going to be done.\n\nNow we have a mechanism to implement a ""Manage LB"" listener that\nthe role can notify when it needs orchestrated endpoint management\nonly in cases where a restart or other impactful work is being\nperformed.\n\nChange-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0\n'}, {'number': 4, 'created': '2018-03-22 14:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4bad86e84a5f4ae3aee4fc5424ad4c5ee7b1a5fa', 'message': 'Replace haproxy common task with handlers\n\nThe old haproxy-endpoints-manage common-task unconditionally\ndisabled the endpoint in haproxy regardless of whether a service\nrestart or other endpoint impacting work was going to be done.\n\nNow we have a mechanism to implement a ""Manage LB"" listener that\nthe role can notify when it needs orchestrated endpoint management\nonly in cases where a restart or other impactful work is being\nperformed.\n\nChange-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0\n'}, {'number': 5, 'created': '2018-03-23 02:37:06.000000000', 'files': ['playbooks/os-keystone-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/os-cinder-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/common-tasks/haproxy-endpoint-manage.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e2bff888f820af4b97c9e38a22041628c3f1ef02', 'message': 'Replace haproxy common task with handlers\n\nThe old haproxy-endpoints-manage common-task unconditionally\ndisabled the endpoint in haproxy regardless of whether a service\nrestart or other endpoint impacting work was going to be done.\n\nNow we have a mechanism to implement a ""Manage LB"" listener that\nthe role can notify when it needs orchestrated endpoint management\nonly in cases where a restart or other impactful work is being\nperformed.\n\nChange-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0\n'}]",5,504795,e2bff888f820af4b97c9e38a22041628c3f1ef02,41,7,5,17799,,,0,"Replace haproxy common task with handlers

The old haproxy-endpoints-manage common-task unconditionally
disabled the endpoint in haproxy regardless of whether a service
restart or other endpoint impacting work was going to be done.

Now we have a mechanism to implement a ""Manage LB"" listener that
the role can notify when it needs orchestrated endpoint management
only in cases where a restart or other impactful work is being
performed.

Change-Id: Ia751cd2228894ee984f9863fdb4589987488e0a0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/504795/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/os-keystone-install.yml', 'playbooks/common-playbooks/glance.yml', 'playbooks/os-cinder-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/common-playbooks/cinder.yml', 'playbooks/common-playbooks/nova.yml', 'playbooks/common-tasks/haproxy-endpoint-manage.yml']",7,c5d2d8de7965e9b0d00d6c5d07f7a34360d29bab,haproxy-endpoint-handlers,,"--- # Copyright 2017, Logan Vig <logan2211@gmail.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Set haproxy service state haproxy: socket: /var/run/haproxy.stat backend: ""{{ haproxy_backend | default(omit) }}"" host: ""{{ inventory_hostname }}"" state: ""{{ haproxy_state | default('enabled') }}"" shutdown_sessions: ""{{ haproxy_shutdown_sessions | default(False) | bool }}"" wait: ""{{ haproxy_wait | default(False) | bool }}"" wait_interval: ""{{ haproxy_wait_interval | default(5) }}"" wait_retries: ""{{ haproxy_wait_retries | default(24) }}"" weight: ""{{ haproxy_weight | default(omit) }}"" delegate_to: ""{{ item }}"" with_items: ""{{ groups['haproxy'] }}"" tags: - common-haproxy ",133,194
openstack%2Fos-brick~master~I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f,openstack/os-brick,master,I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f,DNM: Add delay to troubleshoot FIPS failures,ABANDONED,2022-01-12 21:55:20.000000000,2022-06-14 18:10:38.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-12 21:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4f2f76b0516ed939b490834a3e5355f324c09586', 'message': 'DNM: Add delay to troubleshoot FIPS failures\n\nInsert a small delay to test whether it affects how encrypted volumes\nbehave when FIPS is enabled. The goal is to see if the FIPS CI jobs\nin Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba will pass. If they do,\nthe more investigation will be needed to uncover a root cause for the\nprevious failures.\n\nChange-Id: I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f\n'}, {'number': 2, 'created': '2022-01-13 17:50:01.000000000', 'files': ['os_brick/encryptors/luks.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/6e0e326c0fc614fa1e491377be02e84b41ca7314', 'message': 'DNM: Add delay to troubleshoot FIPS failures\n\nInsert a small delay to test whether it affects how encrypted volumes\nbehave when FIPS is enabled. The goal is to see if the FIPS CI jobs\nin Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba will pass. If they do,\nthe more investigation will be needed to uncover a root cause for the\nprevious failures.\n\nChange-Id: I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f\n'}]",1,824490,6e0e326c0fc614fa1e491377be02e84b41ca7314,38,2,2,21129,,,0,"DNM: Add delay to troubleshoot FIPS failures

Insert a small delay to test whether it affects how encrypted volumes
behave when FIPS is enabled. The goal is to see if the FIPS CI jobs
in Ib85b6ecc6f1b12eb8afa866e56afbfb13aad0cba will pass. If they do,
the more investigation will be needed to uncover a root cause for the
previous failures.

Change-Id: I5e4ad4e4cb47d4bc7b71256d9f96bb4fd94a909f
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/90/824490/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/encryptors/luks.py'],1,4f2f76b0516ed939b490834a3e5355f324c09586,add_fips_job,"import time # NOTE(abishop): DNM, for test purposes only. time.sleep(1) ",,5,0
openstack%2Fcharm-guide~master~I86680741f4868ae0f193dc342b832633807efc9e,openstack/charm-guide,master,I86680741f4868ae0f193dc342b832633807efc9e,Add feature documentation guidance,MERGED,2022-06-10 20:43:26.000000000,2022-06-14 18:10:00.000000000,2022-06-14 18:08:17.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-10 20:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/90c7033bdbf563ba3787ea80b081baf9e17044af', 'message': 'Add feature documentation guidance\n\nWhen a feature is developed it should come with\nsupporting documentation. It may also need to\ninclude a bundle overlay to summarise its deployment.\nThis PR covers this in terms of documentation\nrequirements.\n\nChange-Id: I86680741f4868ae0f193dc342b832633807efc9e\n'}, {'number': 2, 'created': '2022-06-13 14:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/b9abb22c782540c6adfa8ef76ca9a0ba1869ba0e', 'message': 'Add feature documentation guidance\n\nWhen a feature is developed it should come with\nsupporting documentation. It may also need to\ninclude a bundle overlay to summarise its deployment.\nThis PR covers this in terms of documentation\nrequirements.\n\nChange-Id: I86680741f4868ae0f193dc342b832633807efc9e\n'}, {'number': 3, 'created': '2022-06-13 15:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/20d575d2670cf993d4dec9be03b72d2c864fb5b3', 'message': 'Add feature documentation guidance\n\nWhen a feature is developed it should come with\nsupporting documentation. It may also need to\ninclude a bundle overlay to summarise its deployment.\nThis PR covers this in terms of documentation\nrequirements.\n\nChange-Id: I86680741f4868ae0f193dc342b832633807efc9e\n'}, {'number': 4, 'created': '2022-06-13 17:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8b28ae3f09414762293d3774ef8b8406dffac1c2', 'message': 'Add feature documentation guidance\n\nWhen a feature is developed it should come with\nsupporting documentation. It may also need to\ninclude a bundle overlay to summarise its deployment.\nThis PR covers this in terms of documentation\nrequirements.\n\nChange-Id: I86680741f4868ae0f193dc342b832633807efc9e\n'}, {'number': 5, 'created': '2022-06-14 17:16:26.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/community/software-contrib/adding-a-charm.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f8f2f205edacd8312925f2bb23784dd704563f07', 'message': 'Add feature documentation guidance\n\nWhen a feature is developed it should come with\nsupporting documentation. It may also need to\ninclude an overlay bundle to summarise its deployment.\nThis PR covers this in terms of documentation\nrequirements and links to the Juju documentation\nfor overlay usage.\n\nChange-Id: I86680741f4868ae0f193dc342b832633807efc9e\n'}]",4,845483,f8f2f205edacd8312925f2bb23784dd704563f07,15,2,5,30561,,,0,"Add feature documentation guidance

When a feature is developed it should come with
supporting documentation. It may also need to
include an overlay bundle to summarise its deployment.
This PR covers this in terms of documentation
requirements and links to the Juju documentation
for overlay usage.

Change-Id: I86680741f4868ae0f193dc342b832633807efc9e
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/83/845483/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/community/software-contrib/index.rst', 'doc/source/community/software-contrib/adding-a-charm.rst']",3,90c7033bdbf563ba3787ea80b081baf9e17044af,add-overlay-guidance-for-devs,"Often the introduction of a new charm coincides with a newly supported feature. In this case, supporting documentation should be submitted in the form of a :ref:`management how-to <howto_management>` (or as an addition to an existing how-to). If the deployment of the new feature is non-trivial then a bundle overlay that summarises the deployment should be included in the how-to (see sub-section `Feature overlays`_ for guidance). Feature overlays ~~~~~~~~~~~~~~~~ Feature overlays should use variable placeholders instead of specific values (e.g. for series, charm options, or charm channels). These should appear in the form of, for example, ``$SERIES``, ``$OPENSTACK_ORIGIN``, and ``$CHANNEL_OPENSTACK``. For an example of a feature overlay see the :doc:`../../admin/storage/shared-filesystem-services` page. A new feature should be deployable as per :doc:`../../admin/overlays`. ",,20,0
openstack%2Fcinder~stable%2Fxena~I216f84ed379d4554d5d9adee31f9af6f4d54ea94,openstack/cinder,stable/xena,I216f84ed379d4554d5d9adee31f9af6f4d54ea94,NetApp ONTAP: Fix check QoS min support for SVM account,MERGED,2022-05-16 14:48:37.000000000,2022-06-14 17:55:18.000000000,2022-05-25 21:18:12.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2022-05-16 14:48:37.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/netapp-ontap-fix-qos-min-support-svm-scoped-account-a8458445d459023c.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b719d99ff2d5b3bb3a1d964d83131ff2910d5b0', 'message': 'NetApp ONTAP: Fix check QoS min support for SVM account\n\nThe SVM account has no access to the node name and it cannot create\nthe QoS policy, so the QoS min support can be dropped.\n\nIncludes the release note formatting fix from change I6544e5d68714.\n\nCloses-Bug: #1924798\nChange-Id: I216f84ed379d4554d5d9adee31f9af6f4d54ea94\n(cherry picked from commit b7466f54f5a9dca1255d0f93017b260d808b42db)\n(cherry picked from commit 4be091c42f9eaeda9df47d33beab8195fa333664)\n'}]",4,841889,4b719d99ff2d5b3bb3a1d964d83131ff2910d5b0,24,5,1,4523,,,0,"NetApp ONTAP: Fix check QoS min support for SVM account

The SVM account has no access to the node name and it cannot create
the QoS policy, so the QoS min support can be dropped.

Includes the release note formatting fix from change I6544e5d68714.

Closes-Bug: #1924798
Change-Id: I216f84ed379d4554d5d9adee31f9af6f4d54ea94
(cherry picked from commit b7466f54f5a9dca1255d0f93017b260d808b42db)
(cherry picked from commit 4be091c42f9eaeda9df47d33beab8195fa333664)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/841889/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'releasenotes/notes/netapp-ontap-fix-qos-min-support-svm-scoped-account-a8458445d459023c.yaml']",3,4b719d99ff2d5b3bb3a1d964d83131ff2910d5b0,bug/1924798-stable/yoga-stable/xena,--- fixes: - | NetApp ONTAP: Fix check QoS minimum support for SVM scoped account. See: `Bug #1924798 <https://bugs.launchpad.net/cinder/+bug/1924798>`_. ,,15,0
openstack%2Fcinder~stable%2Fvictoria~Ia6d0408280cb90da734ec505af7694fdea5333af,openstack/cinder,stable/victoria,Ia6d0408280cb90da734ec505af7694fdea5333af,[stable-only] Cap cinder-tempest-plugin version for stable/victoria,MERGED,2022-05-25 15:54:09.000000000,2022-06-14 17:11:53.000000000,2022-06-14 17:08:36.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 15:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88e0159abc83d988aedacc95f764baa4451b77b7', 'message': 'DNM: testing Tempest pin in stable/victoria\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\nChange-Id: Ia6d0408280cb90da734ec505af7694fdea5333af\n'}, {'number': 2, 'created': '2022-05-26 21:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c8fe1fce602f17c9a37c04183c7355bf317c4e0', 'message': ""[stable-only] Cap cinder-tempest-plugin version for stable/victoria\n\nWe are capping stable/victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\ncinder-tempest-lvm-multibackend and other job failing with\nincompatible Tempest 26.1.0 version with cinder-temepst-plugin master\n\nAttributeError: 'SnapshotDataIntegrityTests' object has no attribute 'create_security_group'\n\n- https://zuul.opendev.org/t/openstack/build/b86e63cc6cfd49dca96817b2ae7fdc71/logs\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843354\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/843319\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nChange-Id: Ia6d0408280cb90da734ec505af7694fdea5333af\n""}, {'number': 3, 'created': '2022-05-26 23:25:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b95831cf7fcf157bb7a4a3c2188de81d500bccff', 'message': ""[stable-only] Cap cinder-tempest-plugin version for stable/victoria\n\nWe are capping stable/victoria testing with Tempest\n26.1.0 (choosing 26.1.0 because of bug#1955418)\n\n- https://review.opendev.org/c/openstack/devstack/+/843295\n\ncinder-tempest-lvm-multibackend and other job failing with\nincompatible Tempest 26.1.0 version with cinder-temepst-plugin master\n\nAttributeError: 'SnapshotDataIntegrityTests' object has no attribute 'create_security_group'\n\n- https://zuul.opendev.org/t/openstack/build/b86e63cc6cfd49dca96817b2ae7fdc71/logs\n\nTo fix that we need to use compatible cinder-tempest-plugin version for\nTempest 26.1.0, which is cinder-tempest-plugin 1.3.0.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843354\nDepends-On: https://review.opendev.org/c/openstack/cinder/+/843092\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/843295\n\nChange-Id: Ia6d0408280cb90da734ec505af7694fdea5333af\n""}]",2,843305,b95831cf7fcf157bb7a4a3c2188de81d500bccff,37,3,3,8556,,,0,"[stable-only] Cap cinder-tempest-plugin version for stable/victoria

We are capping stable/victoria testing with Tempest
26.1.0 (choosing 26.1.0 because of bug#1955418)

- https://review.opendev.org/c/openstack/devstack/+/843295

cinder-tempest-lvm-multibackend and other job failing with
incompatible Tempest 26.1.0 version with cinder-temepst-plugin master

AttributeError: 'SnapshotDataIntegrityTests' object has no attribute 'create_security_group'

- https://zuul.opendev.org/t/openstack/build/b86e63cc6cfd49dca96817b2ae7fdc71/logs

To fix that we need to use compatible cinder-tempest-plugin version for
Tempest 26.1.0, which is cinder-tempest-plugin 1.3.0.

Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/843354
Depends-On: https://review.opendev.org/c/openstack/cinder/+/843092
Depends-On: https://review.opendev.org/c/openstack/devstack/+/843295

Change-Id: Ia6d0408280cb90da734ec505af7694fdea5333af
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/843305/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,88e0159abc83d988aedacc95f764baa4451b77b7,victoria-pin-tempest,#test,,1,0
openstack%2Fkeystone~stable%2Ftrain~I77148641715efe09e3adc2e9432e66e50fb444b4,openstack/keystone,stable/train,I77148641715efe09e3adc2e9432e66e50fb444b4,Fix issue with LDAP backend returning bytes instead of string,MERGED,2022-02-07 09:27:29.000000000,2022-06-14 17:11:30.000000000,2022-06-14 17:08:32.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 09:27:29.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e53bf8d7406c8e02067d861c1bf707fb52333aa6', 'message': 'Fix issue with LDAP backend returning bytes instead of string\n\nWhen connecting to some LDAP server software, the ldap client returns\nbytes instances instead of the expected strings. This can result in\neither being transparently converted to strings, when the data is\ninserted via sqlalchemy into the database, or could be used as\ninput to other functions, and/or cached, which causes unexpected\nresults.\n\nCloses-Bug: #1952458\nResolves: rhbz#1964872\nChange-Id: I77148641715efe09e3adc2e9432e66e50fb444b4\n(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)\n'}]",2,827965,e53bf8d7406c8e02067d861c1bf707fb52333aa6,12,3,1,14250,,,0,"Fix issue with LDAP backend returning bytes instead of string

When connecting to some LDAP server software, the ldap client returns
bytes instances instead of the expected strings. This can result in
either being transparently converted to strings, when the data is
inserted via sqlalchemy into the database, or could be used as
input to other functions, and/or cached, which causes unexpected
results.

Closes-Bug: #1952458
Resolves: rhbz#1964872
Change-Id: I77148641715efe09e3adc2e9432e66e50fb444b4
(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/827965/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,e53bf8d7406c8e02067d861c1bf707fb52333aa6,fix-ldap-bytes-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," value = v[0] except IndexError: value = None # NOTE(xek): Some LDAP servers return bytes data type # We convert it to string here, so that it is consistent with # the other (SQL) backends. # Bytes data type caused issues in the past, because it could # be cached and then passed into str() method to be used as # LDAP filters, which results in an unexpected b'...' prefix. if isinstance(value, bytes): try: value = value.decode('utf-8') except UnicodeDecodeError: LOG.error(""Error decoding value %r (object id %r)."", value, res[0]) raise obj[k] = value", obj[k] = v[0] except IndexError: obj[k] = None,17,2
openstack%2Fcinder~master~Ic646ce475def284850af9b98d7dc2cab61c86a20,openstack/cinder,master,Ic646ce475def284850af9b98d7dc2cab61c86a20,"Groups: remove unneeded ""status"" variable",MERGED,2022-05-04 14:03:28.000000000,2022-06-14 17:11:07.000000000,2022-06-14 17:08:28.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-04 14:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd042c5a0a3e2f0f16723065d73f92ed92913628', 'message': 'Groups: remove unneeded ""status"" variable\n\nTidy up the create_group method a bit.\n\nChange-Id: Ic646ce475def284850af9b98d7dc2cab61c86a20\n'}, {'number': 2, 'created': '2022-05-27 15:21:03.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/70590f991ee4f823f8be291ef2d212aca32805d3', 'message': 'Groups: remove unneeded ""status"" variable\n\nTidy up the create_group method a bit.\n\nChange-Id: Ic646ce475def284850af9b98d7dc2cab61c86a20\n'}]",1,840493,70590f991ee4f823f8be291ef2d212aca32805d3,44,5,2,4523,,,0,"Groups: remove unneeded ""status"" variable

Tidy up the create_group method a bit.

Change-Id: Ic646ce475def284850af9b98d7dc2cab61c86a20
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/840493/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,fd042c5a0a3e2f0f16723065d73f92ed92913628,, group.status = fields.GroupStatus.AVAILABLE, status = fields.GroupStatus.AVAILABLE group.status = status,1,2
openstack%2Fopenstack-ansible-os_ironic~master~I239641e627e9baf3c38f9b68c0074e70346c21e4,openstack/openstack-ansible-os_ironic,master,I239641e627e9baf3c38f9b68c0074e70346c21e4,Updated from OpenStack Ansible Tests,NEW,2022-03-29 17:18:28.000000000,2022-06-14 17:06:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-03-29 17:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3a7479cce8bb0af6a81edcb494f602ba6a4805a4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I239641e627e9baf3c38f9b68c0074e70346c21e4\n'}, {'number': 2, 'created': '2022-04-04 09:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/ab2a6035b2147ef062a8c493f3f38064198a9075', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I239641e627e9baf3c38f9b68c0074e70346c21e4\n'}, {'number': 3, 'created': '2022-06-14 14:52:36.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/6cf41cfa26128b64c422f22a103a8bc98b857f26', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I239641e627e9baf3c38f9b68c0074e70346c21e4\n'}]",0,835709,6cf41cfa26128b64c422f22a103a8bc98b857f26,6,1,3,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I239641e627e9baf3c38f9b68c0074e70346c21e4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/09/835709/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,3a7479cce8bb0af6a81edcb494f602ba6a4805a4,openstack/openstack-ansible-tests/sync-tests," centos|rhel|fedora|rocky) pkg_mgr_cmd=""dnf install -y"" ;;"," centos|rhel|fedora) pkg_mgr_cmd=""dnf install -y"" ;;",1,1
openstack%2Fcinder~master~I018f97a4aace1f536ab816e866b67ce23576609c,openstack/cinder,master,I018f97a4aace1f536ab816e866b67ce23576609c,Ceph: Remove unnecessary convert_str() calls,MERGED,2022-04-25 19:18:33.000000000,2022-06-14 17:01:59.000000000,2022-06-14 16:59:13.000000000,"[{'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32238}, {'_account_id': 34775}]","[{'number': 1, 'created': '2022-04-25 19:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a7ba6e40d331834fc082a0fc03ff14ca69d5e47', 'message': 'Ceph: Remove unnecessary convert_str() calls\n\nThese are no longer needed.\n\nThis is achieved by assuming that fields like\nVolume.name, Snapshot.name, and Snapshot.volume_name\nare already Unicode strings in our objects.\n\nAlso removes some Python 2 compat cruft.\n\nChange-Id: I018f97a4aace1f536ab816e866b67ce23576609c\n'}, {'number': 2, 'created': '2022-04-26 18:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/648ea367fee1321b70f8e226f9d0cfd77c691989', 'message': 'Ceph: Remove unnecessary convert_str() calls\n\nThese are no longer needed.\n\nThis is achieved by assuming that fields like\nVolume.name, Snapshot.name, and Snapshot.volume_name\nare already Unicode strings in our objects.\n\nAlso removes some Python 2 compat cruft.\n\nChange-Id: I018f97a4aace1f536ab816e866b67ce23576609c\n'}, {'number': 3, 'created': '2022-05-19 18:45:01.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b235048d6dc49fee0f3ad83d3216a42c23b69a20', 'message': 'Ceph: Remove unnecessary convert_str() calls\n\nThese are no longer needed.\n\nThis is achieved by assuming that fields like\nVolume.name, Snapshot.name, and Snapshot.volume_name\nare already Unicode strings in our objects.\n\nAlso removes some Python 2 compat cruft.\n\nChange-Id: I018f97a4aace1f536ab816e866b67ce23576609c\n'}]",4,839257,b235048d6dc49fee0f3ad83d3216a42c23b69a20,98,8,3,4523,,,0,"Ceph: Remove unnecessary convert_str() calls

These are no longer needed.

This is achieved by assuming that fields like
Volume.name, Snapshot.name, and Snapshot.volume_name
are already Unicode strings in our objects.

Also removes some Python 2 compat cruft.

Change-Id: I018f97a4aace1f536ab816e866b67ce23576609c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/839257/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/backup/drivers/ceph.py']",2,9a7ba6e40d331834fc082a0fc03ff14ca69d5e47,," return ""backup.%s.meta"" % self._backup_id self._ceph_backup_user = CONF.backup_ceph_user self._ceph_backup_pool = CONF.backup_ceph_pool self._ceph_backup_conf = CONF.backup_ceph_conf pool_to_open = pool or self._ceph_backup_pool return base_name return ""volume-%s.backup.base"" % volume_id base_name = ""volume-%s.backup.base"" % volume_id return ""volume-%s.backup.%s"" % (volume_id, backup.id) src_name = volume_id path = ""%s/%s@%s"" % (src_pool, src_name, src_snap) else: path = ""%s/%s"" % (src_pool, src_name) rbd_path = ""%s/%s"" % (dest_pool, dest_name) return ""backup.%s.snap.%s"" % (backup_id, time.time()) backup_base,"," return utils.convert_str(""backup.%s.meta"" % self._backup_id) self._ceph_backup_user = utils.convert_str(CONF.backup_ceph_user) self._ceph_backup_pool = utils.convert_str(CONF.backup_ceph_pool) self._ceph_backup_conf = utils.convert_str(CONF.backup_ceph_conf) pool_to_open = utils.convert_str(pool or self._ceph_backup_pool) return utils.convert_str(base_name) return utils.convert_str(""volume-%s.backup.base"" % volume_id) base_name = utils.convert_str(""volume-%s.backup.base"" % volume_id) return utils.convert_str(""volume-%s.backup.%s"" % (volume_id, backup.id)) src_name = utils.convert_str(volume_id) path = utils.convert_str(""%s/%s@%s"" % (src_pool, src_name, src_snap)) else: path = utils.convert_str(""%s/%s"" % (src_pool, src_name)) rbd_path = utils.convert_str(""%s/%s"" % (dest_pool, dest_name)) return utils.convert_str(""backup.%s.snap.%s"" % (backup_id, time.time())) utils.convert_str(backup_base),",39,51
openstack%2Fneutron~master~Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8,openstack/neutron,master,Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8,Support pps limitation for openvswitch agent,MERGED,2021-11-05 09:33:14.000000000,2022-06-14 17:01:23.000000000,2022-06-14 16:58:27.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-05 09:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2527229f987b22dd0e40722fd8ff56c39555e628', 'message': 'Support pps limitation for openvswitch agent\n\nThis patch adds the ability to limit neutron port packet\nI/O rate. We will leverage the ovs meter to achive the\nlimitation.\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 2, 'created': '2021-11-09 03:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/632d17b4c97d97cfa31bffb913b39a5ceaf1f4b3', 'message': 'Support pps limitation for openvswitch agent\n\nThis patch adds the ability to limit neutron port packet\nI/O rate. We will leverage the ovs meter to achive the\nlimitation.\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 3, 'created': '2021-11-09 09:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c30220c42cdd4b33397574fa94d98a495f3470a', 'message': 'Support pps limitation for openvswitch agent\n\nThis patch adds the ability to limit neutron port packet\nI/O rate. We will leverage the ovs meter to achive the\nlimitation.\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 4, 'created': '2021-11-10 01:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/220ac34dfb7444cc6527a4122cd9b5edba539c00', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achive the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 5, 'created': '2021-11-12 02:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cc9d468e91ce588855f54e63aed9bde61925d18', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achive the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 6, 'created': '2021-11-26 10:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91fb73a737d09a8b3b8fd499fbf443fc7cf7df0a', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achive the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 7, 'created': '2021-11-29 05:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32b6fcad3b6c2aaf5df0382a0ca8745e45b3420d', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achive the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 8, 'created': '2022-02-08 09:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c0961d5f4ddf2e59c718bd2f822332b93d863ea', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achive the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernerl version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 9, 'created': '2022-02-23 01:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/82192414410c407e7da875583d5480ba46207811', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 10, 'created': '2022-02-28 02:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cd4531aa9cd2988a301d782614b72b81dcf0e71', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 11, 'created': '2022-03-15 02:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/934a00fac49516ab15da83e1504402bee6e9dc4c', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 12, 'created': '2022-03-15 05:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dad8a65095804b43f4e98f3a3deefba9f947eb47', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 13, 'created': '2022-03-17 01:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2705427527b4bae9f5bb86efeaddf71007d3a00', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 14, 'created': '2022-03-22 00:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b41c07241886da8ae010c45ed02fc30edde1eb0b', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 15, 'created': '2022-04-08 00:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27d87c648cf6422925c370f92a25aeffc005bc3c', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 16, 'created': '2022-04-21 07:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/faf2c885e917148681f74ad8615ad8e6076a2ec3', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 17, 'created': '2022-04-22 03:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ecd4b5b4ace485a18beabc6e780298a4dba6107', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}, {'number': 18, 'created': '2022-05-07 05:15:04.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/services/qos/drivers/openvswitch/driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5765186516ae6af3477fc1c1cdd0367e8c878189', 'message': 'Support pps limitation for openvswitch agent\n\nAdd packet rate limit rule to the openvswitch QoS\ndriver SUPPORTED_RULES list. This patch adds the\nability to limit neutron port packet I/O rate. We\nwill leverage the ovs meter to achieve the limitation.\n\nThe meter action is only supoorted when datapath is\nin user mode (with ovs >= 2.7) or ovs kernel datapath with\nkernel version >= 4.15 (and ovs >= 2.10).\n\n[1] https://docs.openvswitch.org/en/latest/faq/releases/\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8\n'}]",40,816802,5765186516ae6af3477fc1c1cdd0367e8c878189,154,5,18,9531,,,0,"Support pps limitation for openvswitch agent

Add packet rate limit rule to the openvswitch QoS
driver SUPPORTED_RULES list. This patch adds the
ability to limit neutron port packet I/O rate. We
will leverage the ovs meter to achieve the limitation.

The meter action is only supoorted when datapath is
in user mode (with ovs >= 2.7) or ovs kernel datapath with
kernel version >= 4.15 (and ovs >= 2.10).

[1] https://docs.openvswitch.org/en/latest/faq/releases/

Partially-Implements: bp/packet-rate-limit
Related-Bug: #1938966
Related-Bug: #1912460
Change-Id: Ib6341ad539afc9f94f1783a721cf5f793ccdc7d8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/816802/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/extension_drivers/qos_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/extension_drivers/test_qos_driver.py']",2,2527229f987b22dd0e40722fd8ff56c39555e628,packet_rate_limit," mock.patch.object( qos_driver.MeterRuleManager, '_init_max_meter_id').start() self.qos_driver.meter_cache.br_int = self.qos_driver.br_int self.qos_driver.meter_cache.max_meter = 65535 self.qos_driver.br_int.list_meter_features = mock.Mock( return_value=[{""max_meter"": 65535, ""band_types"": 2, ""capabilities"": 15, ""max_bands"": 8}]) self.apply_meter_to_port = ( self.qos_driver.br_int.apply_meter_to_port) self.remove_meter_from_port = ( self.qos_driver.br_int.remove_meter_from_port) self.delete_meter = ( self.qos_driver.br_int.delete_meter) self.create_meter = ( self.qos_driver.br_int.create_meter) self.update_meter = ( self.qos_driver.br_int.update_meter) self._create_pps_limit_rule_obj(constants.EGRESS_DIRECTION), self._create_pps_limit_rule_obj(constants.INGRESS_DIRECTION), self.qos_driver.br_int.get_port_tag_by_name = mock.Mock( return_value=1) def _create_pps_limit_rule_obj(self, direction): rule_obj = rule.QosPacketRateLimitRule() rule_obj.id = uuidutils.generate_uuid() rule_obj.max_kpps = 2000 rule_obj.max_burst_kpps = 200 rule_obj.direction = direction rule_obj.obj_reset_changes() return rule_obj port_id = uuidutils.generate_uuid() vif_id = port_id vif_mac = ""aa:bb:cc:dd:ee:ff"" 'port_id': port_id, self.qos_driver.br_int.get_value_from_other_config = mock.Mock() self.qos_driver.br_int.set_value_to_other_config = mock.Mock() self.create_meter.assert_has_calls( [mock.call(mock.ANY, self.rules[2].max_kpps, burst=self.rules[2].max_burst_kpps), mock.call(mock.ANY, self.rules[3].max_kpps, burst=self.rules[3].max_burst_kpps)]) self.apply_meter_to_port.assert_has_calls( [mock.call(mock.ANY, constants.EGRESS_DIRECTION, ""aa:bb:cc:dd:ee:ff"", in_port=111), mock.call(mock.ANY, constants.INGRESS_DIRECTION, ""aa:bb:cc:dd:ee:ff"", local_vlan=1)]) self.create_meter.assert_not_called() self.apply_meter_to_port.assert_not_called() self.assertEqual(2, self.delete_meter.call_count) self.remove_meter_from_port.assert_has_calls( [mock.call(constants.EGRESS_DIRECTION, ""aa:bb:cc:dd:ee:ff"", in_port=111), mock.call(constants.INGRESS_DIRECTION, ""aa:bb:cc:dd:ee:ff"", local_vlan=1)]) self.delete_meter.assert_not_called() self.delete_meter.assert_not_called() self.remove_meter_from_port.assert_not_called() self.create_meter.assert_has_calls( [mock.call(mock.ANY, self.rules[2].max_kpps, burst=self.rules[2].max_burst_kpps), mock.call(mock.ANY, self.rules[3].max_kpps, burst=self.rules[3].max_burst_kpps)]) self.apply_meter_to_port.assert_has_calls( [mock.call(mock.ANY, constants.EGRESS_DIRECTION, ""aa:bb:cc:dd:ee:ff"", in_port=111), mock.call(mock.ANY, constants.INGRESS_DIRECTION, ""aa:bb:cc:dd:ee:ff"", local_vlan=1)]) "," 'port_id': uuidutils.generate_uuid(),",318,2
openstack%2Fcinder~master~I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e,openstack/cinder,master,I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e,cmd/manage and coordination: Clean up exception handling,MERGED,2022-05-17 15:34:59.000000000,2022-06-14 17:00:39.000000000,2022-06-14 16:58:34.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-05-17 15:34:59.000000000', 'files': ['cinder/coordination.py', 'cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b711187838db49506f0971dc25cb92deb6f9e8d', 'message': 'cmd/manage and coordination: Clean up exception handling\n\nThis makes it easier for pylint and mypy to\nvalidate this code, and avoids isinstance() checks.\nFollows the same pattern used in commit 1075d1d.\n\nChange-Id: I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e\n'}]",1,842142,6b711187838db49506f0971dc25cb92deb6f9e8d,34,5,1,4523,,,0,"cmd/manage and coordination: Clean up exception handling

This makes it easier for pylint and mypy to
validate this code, and avoids isinstance() checks.
Follows the same pattern used in commit 1075d1d.

Change-Id: I64c38e74a6b7e8180d63cc5d5d13b8cb76d52d3e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/842142/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/coordination.py', 'cinder/cmd/manage.py']",2,6b711187838db49506f0971dc25cb92deb6f9e8d,," def _err(filename: str, exc: Exception) -> None: print('Failed to cleanup lock %(name)s: %(exc)s', {'name': filename, 'exc': exc}) except OSError as exc: if (exc.errno != errno.ENOENT): _err(filename, exc) except Exception as exc: _err(filename, exc)"," except Exception as exc: if not (isinstance(exc, OSError) and exc.errno == errno.ENOENT): print('Failed to cleanup lock %(name)s: %(exc)s', {'name': filename, 'exc': exc})",17,8
openstack%2Fneutron~master~Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7,openstack/neutron,master,Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7,Meter flows and ovsdb action for ovs bridge,MERGED,2021-11-05 09:33:14.000000000,2022-06-14 17:00:02.000000000,2022-06-14 16:58:22.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32029}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-05 09:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d659d1ff3f8ec409654fddcbe74965404005c583', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nRelated-Bug: #1938966\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 2, 'created': '2021-11-09 03:35:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/818e91ac157810663b2f267c0633d3dd91f8c57d', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nRelated-Bug: #1938966\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 3, 'created': '2021-11-09 09:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a68d581da0568ebb9edea5b4eab11ebff7819e19', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nRelated-Bug: #1938966\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 4, 'created': '2021-11-12 02:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8bd9923710dd5003174834da6e42e6b44228ef7', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nRelated-Bug: #1938966\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 5, 'created': '2021-11-26 10:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85defc0a626dea719a1edbfd8c27b030789c9b45', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 6, 'created': '2022-02-08 09:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7225d82a538e0f903882391fb0f9a571e4380190', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 7, 'created': '2022-02-23 01:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9c721e17d77449733cc59cb42685e9204d77df6c', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 8, 'created': '2022-02-28 02:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fde870ec2cd755e8f9bcf5787928fecf7e83b0ba', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 9, 'created': '2022-03-15 02:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/976b695bd118f1e64025805ecba5fb1ce3f666dd', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 10, 'created': '2022-03-15 05:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e38f4d235c788c1fac12dc202f7c9421fab52e8e', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 11, 'created': '2022-03-17 01:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93f522922916056f6986ae76a5536e07d9e86c82', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 12, 'created': '2022-03-22 00:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea1f59e81847f153e8a218deede96bb8ddd401be', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 13, 'created': '2022-04-08 00:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb5ef1fcba4ccf910c0d5d789e5f3c7bba878eb8', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 14, 'created': '2022-04-21 07:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcf3ec725a9c7ff8642f3db95894007dba60e1e2', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 15, 'created': '2022-04-22 03:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76da3eb6c9fb882783af1d1386145db33f97ef0c', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}, {'number': 16, 'created': '2022-05-07 05:15:04.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/common/exceptions.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0232ead2c33eccc2ccd67f96a12381f2ce7fb470', 'message': 'Meter flows and ovsdb action for ovs bridge\n\nAdd meter flows actions and ovsdb actions for pps\nlimitation. Meter flow actions are:\n* list_meter_features\n* create_meter\n* delete_meter\n* update_meter\n* apply_meter_to_port\n* remove_meter_from_port\n\nOvsdb actions are:\n* get_port_tag_by_name\n* get_value_from_other_config\n* set_value_to_other_config\n* remove_value_from_other_config\n\nPartially-Implements: bp/packet-rate-limit\nRelated-Bug: #1938966\nRelated-Bug: #1912460\nChange-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7\n'}]",52,816800,0232ead2c33eccc2ccd67f96a12381f2ce7fb470,132,9,16,9531,,,0,"Meter flows and ovsdb action for ovs bridge

Add meter flows actions and ovsdb actions for pps
limitation. Meter flow actions are:
* list_meter_features
* create_meter
* delete_meter
* update_meter
* apply_meter_to_port
* remove_meter_from_port

Ovsdb actions are:
* get_port_tag_by_name
* get_value_from_other_config
* set_value_to_other_config
* remove_value_from_other_config

Partially-Implements: bp/packet-rate-limit
Related-Bug: #1938966
Related-Bug: #1912460
Change-Id: Idc9a2b1f39964fc3b603310ac7f22c1bc58d27f7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/816800/16 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/common/exceptions.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",5,d659d1ff3f8ec409654fddcbe74965404005c583,packet_rate_limit," def list_meter_features(self): (dp, _ofp, ofpp) = self._get_dp() req = ofpp.OFPMeterFeaturesStatsRequest(dp, 0) rep = self._send_msg(req, reply_cls=ofpp.OFPMeterFeaturesStatsReply) features = [] for stat in rep.body: features.append({""max_meter"": stat.max_meter, ""band_types"": stat.band_types, ""capabilities"": stat.capabilities, ""max_bands"": stat.max_bands, ""max_color"": stat.max_color}) return features def create_meter(self, meter_id, rate, burst=0): (dp, ofp, ofpp) = self._get_dp() bands = [ ofpp.OFPMeterBandDrop(rate=rate, burst_size=burst, type_=ofp.OFPMBT_DROP)] req = ofpp.OFPMeterMod(datapath=dp, command=ofp.OFPMC_ADD, flags=ofp.OFPMF_PKTPS, meter_id=meter_id, bands=bands) self._send_msg(req) def delete_meter(self, meter_id): (dp, ofp, ofpp) = self._get_dp() req = ofpp.OFPMeterMod(datapath=dp, command=ofp.OFPMC_DELETE, flags=ofp.OFPMF_PKTPS, meter_id=meter_id) self._send_msg(req) def update_meter(self, meter_id, rate, burst=0): (dp, ofp, ofpp) = self._get_dp() bands = [ ofpp.OFPMeterBandDrop(rate=rate, burst_size=burst, type_=ofp.OFPMBT_DROP)] req = ofpp.OFPMeterMod(datapath=dp, command=ofp.OFPMC_MODIFY, flags=ofp.OFPMF_PKTPS, meter_id=meter_id, bands=bands) self._send_msg(req) def apply_meter_to_port(self, meter_id, direction, mac, in_port=None, local_vlan=None): (_dp, ofp, ofpp) = self._get_dp() if direction == lib_consts.EGRESS_DIRECTION and in_port: match = ofpp.OFPMatch(in_port=in_port, eth_src=mac) elif direction == lib_consts.INGRESS_DIRECTION and local_vlan: vlan_vid = local_vlan | ofp.OFPVID_PRESENT match = ofpp.OFPMatch(vlan_vid=vlan_vid, eth_dst=mac) else: LOG.warning(""Meter apply failed no available input."") instructions = [ ofpp.OFPInstructionMeter(meter_id, type_=ofp.OFPIT_METER), ofpp.OFPInstructionGotoTable(table_id=constants.TRANSIENT_TABLE)] self.install_instructions(table_id=constants.PACKET_RATE_LIMIT, priority=100, instructions=instructions, match=match) def remove_meter_from_port(self, meter_id, direction, mac, in_port=None, local_vlan=None): (_dp, ofp, ofpp) = self._get_dp() if direction == lib_consts.EGRESS_DIRECTION and in_port: match = ofpp.OFPMatch(in_port=in_port, eth_src=mac) elif direction == lib_consts.INGRESS_DIRECTION and local_vlan: vlan_vid = local_vlan | ofp.OFPVID_PRESENT match = ofpp.OFPMatch(vlan_vid=vlan_vid, eth_dst=mac) else: LOG.warning(""Meter apply failed no available input."") self.uninstall_flows(table_id=constants.PACKET_RATE_LIMIT, match=match) ",,347,0
openstack%2Fcinder~master~Ia568ac1fc178498d3192315c5277e6de45257527,openstack/cinder,master,Ia568ac1fc178498d3192315c5277e6de45257527,pylint: ibm_storage: Fix E0601 used-before-assignment error,MERGED,2022-05-17 15:56:33.000000000,2022-06-14 16:59:07.000000000,2022-06-14 16:59:07.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32074}]","[{'number': 1, 'created': '2022-05-17 15:56:33.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f060e037dba01297b275b1ec4093f0b083a49e2', 'message': 'pylint: ibm_storage: Fix E0601 used-before-assignment error\n\nSmall refactor to fix E0601 from pylint.\n\nChange-Id: Ia568ac1fc178498d3192315c5277e6de45257527\n'}]",3,842149,2f060e037dba01297b275b1ec4093f0b083a49e2,33,4,1,4523,,,0,"pylint: ibm_storage: Fix E0601 used-before-assignment error

Small refactor to fix E0601 from pylint.

Change-Id: Ia568ac1fc178498d3192315c5277e6de45257527
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/842149/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py'],1,2f060e037dba01297b275b1ec4093f0b083a49e2,, finished = False try:, try: finished = False,2,1
openstack%2Fcinder~master~I11e8e69d64cb50d33fa9f7c114b86140f62ad077,openstack/cinder,master,I11e8e69d64cb50d33fa9f7c114b86140f62ad077,pylint: volume/api: Fix E0601 error,MERGED,2022-05-17 15:56:33.000000000,2022-06-14 16:58:40.000000000,2022-06-14 16:58:40.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-17 15:56:33.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1626d24bbf0ab3c6f5ccb3298769021d05960e2', 'message': 'pylint: volume/api: Fix E0601 error\n\nFix E0601 used-before-assignment error from pylint.\n\nChange-Id: I11e8e69d64cb50d33fa9f7c114b86140f62ad077\n'}]",2,842148,c1626d24bbf0ab3c6f5ccb3298769021d05960e2,32,3,1,4523,,,0,"pylint: volume/api: Fix E0601 error

Fix E0601 used-before-assignment error from pylint.

Change-Id: I11e8e69d64cb50d33fa9f7c114b86140f62ad077
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/842148/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,c1626d24bbf0ab3c6f5ccb3298769021d05960e2,, reservations = None try:, try: reservations = None,1,1
openstack%2Fneutron~master~I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae,openstack/neutron,master,I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae,migration: Remove restarting OVS,MERGED,2022-06-13 20:15:32.000000000,2022-06-14 16:53:10.000000000,2022-06-14 16:49:58.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 20:15:32.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd6adb3e5b11fce9318056d8342a2f84d5673714', 'message': ""migration: Remove restarting OVS\n\nThere was a code that worked around a bug in openvswitch. The bug was\nfixed in openvswitch 2.13 and we no longer use that version. It's safe\nto be removed now.\n\nChange-Id: I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",0,845632,fd6adb3e5b11fce9318056d8342a2f84d5673714,8,3,1,8655,,,0,"migration: Remove restarting OVS

There was a code that worked around a bug in openvswitch. The bug was
fixed in openvswitch 2.13 and we no longer use that version. It's safe
to be removed now.

Change-Id: I8d0e1dac4f6a6d201e29863cc76db3f1ff8595ae
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/32/845632/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'],1,fd6adb3e5b11fce9318056d8342a2f84d5673714,migration,,"# WORKAROUND for https://bugzilla.redhat.com/show_bug.cgi?id=1782834 # By restarting ovs-vswitchd process, new connection is made based # on the protocols values set in OVS database. OVS 2.13 by default # implements OpenFlow protocols up to 1.5 and 1.5 is the one that # is required by ovn-controller. systemctl restart openvswitch ",0,7
openstack%2Fneutron~stable%2Fwallaby~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/wallaby,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:56.000000000,2022-06-14 16:53:03.000000000,2022-06-14 16:49:42.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 16:01:56.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/564c10eca30adccb08c183dcabe0cf018ad00e8c', 'message': 'migration: Fail task if executed script failed\n\nPreviously the migration playbook continued even if tripleo deploy\nfailed which damaged the environment even more. This patch will make the\ntask fail if deploy fails too. There are also other commands which\nreturn code was ignored.\n\nChange-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)\n'}]",0,845405,564c10eca30adccb08c183dcabe0cf018ad00e8c,9,3,1,8655,,,0,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/845405/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml']",2,564c10eca30adccb08c183dcabe0cf018ad00e8c,migration-stable/yoga-stable/xena-stable/wallaby, args: creates: $HOME/ovn-extras.yaml, changed_when: False changed_when: true,2,3
openstack%2Fcinder~master~I9c1896c9eccd77363eedaa2817937cf8431f209a,openstack/cinder,master,I9c1896c9eccd77363eedaa2817937cf8431f209a,db: Move comment,MERGED,2022-06-07 12:27:24.000000000,2022-06-14 16:52:34.000000000,2022-06-14 16:49:46.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 12:27:24.000000000', 'files': ['cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/25d70a00cead040bb00e352fb92eed8c4c6ddb28', 'message': ""db: Move comment\n\nWe split the '_check_sync' helper in 'cinder.db.manage' as part of\nchange Ic8c37145c66069e9194458fa7f622d98022fee4f. A comment was left in\nthis function which really belonged in the now-split function. Move it.\n\nChange-Id: I9c1896c9eccd77363eedaa2817937cf8431f209a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,844964,25d70a00cead040bb00e352fb92eed8c4c6ddb28,30,3,1,15334,,,0,"db: Move comment

We split the '_check_sync' helper in 'cinder.db.manage' as part of
change Ic8c37145c66069e9194458fa7f622d98022fee4f. A comment was left in
this function which really belonged in the now-split function. Move it.

Change-Id: I9c1896c9eccd77363eedaa2817937cf8431f209a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/844964/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,25d70a00cead040bb00e352fb92eed8c4c6ddb28,remove-legacyfacade, # NOTE: It's important to always get the quota first and then the # reservations to prevent deadlocks with quota commit and rollback from # running Cinder services. , # NOTE: It's important to always get the quota first and then the # reservations to prevent deadlocks with quota commit and rollback from # running Cinder services.,4,3
openstack%2Fneutron~stable%2Fwallaby~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/wallaby,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:06:01.000000000,2022-06-14 16:51:42.000000000,2022-06-14 16:49:32.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-14 09:06:01.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9706b2922f60ee63aee79794e5346f1315cdf75', 'message': '""_handle_lb_fip_cmds"" to handle the LB members correctly\n\nThis patch indents the section where the load balancer members\nare properly verified. This section must be executed for each\nload balancer matching the logical switch port with the VIP passed\nas an argument to the method ""_handle_lb_fip_cmds"".\n\nCloses-Bug: #1977969\n\nChange-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8\n(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)\n'}]",1,845711,e9706b2922f60ee63aee79794e5346f1315cdf75,11,4,1,16688,,,0,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/845711/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,e9706b2922f60ee63aee79794e5346f1315cdf75,bug/1977969," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))"," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))",55,55
openstack%2Fneutron~stable%2Fvictoria~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/victoria,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:06:48.000000000,2022-06-14 16:51:38.000000000,2022-06-14 16:49:37.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-14 09:06:48.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a71e1479fc9131a642af50d54105a416771f69e', 'message': '""_handle_lb_fip_cmds"" to handle the LB members correctly\n\nThis patch indents the section where the load balancer members\nare properly verified. This section must be executed for each\nload balancer matching the logical switch port with the VIP passed\nas an argument to the method ""_handle_lb_fip_cmds"".\n\nCloses-Bug: #1977969\n\nChange-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8\n(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)\n'}]",1,845712,1a71e1479fc9131a642af50d54105a416771f69e,9,4,1,16688,,,0,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/845712/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,1a71e1479fc9131a642af50d54105a416771f69e,bug/1977969," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))"," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))",55,55
openstack%2Fneutron~stable%2Fxena~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/xena,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:05:41.000000000,2022-06-14 16:51:37.000000000,2022-06-14 16:49:27.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-14 09:05:41.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e278f1e33f3b7888506016f5f218c3493fecc2ea', 'message': '""_handle_lb_fip_cmds"" to handle the LB members correctly\n\nThis patch indents the section where the load balancer members\nare properly verified. This section must be executed for each\nload balancer matching the logical switch port with the VIP passed\nas an argument to the method ""_handle_lb_fip_cmds"".\n\nCloses-Bug: #1977969\n\nChange-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8\n(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)\n'}]",1,845710,e278f1e33f3b7888506016f5f218c3493fecc2ea,10,4,1,16688,,,0,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/845710/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,e278f1e33f3b7888506016f5f218c3493fecc2ea,bug/1977969," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))"," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))",55,55
openstack%2Fneutron~master~I0d1bc49927b061a91ff6d4ca3f5b826d529d0770,openstack/neutron,master,I0d1bc49927b061a91ff6d4ca3f5b826d529d0770,Use SQL IN clause instead of OR with exact match comparisons,MERGED,2022-06-10 16:13:41.000000000,2022-06-14 16:51:35.000000000,2022-06-14 16:49:11.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22865}]","[{'number': 1, 'created': '2022-06-10 16:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95b45e77d417c3b4c5b03b04fad6197c0284a76b', 'message': 'Use SQL IN clause instead of OR with exact match comparisons\n\nSQL IN clause is faster than several exact match comparisons\nin an OR clause.\n\nTrivial-Fix\n\nChange-Id: I0d1bc49927b061a91ff6d4ca3f5b826d529d0770\n'}, {'number': 2, 'created': '2022-06-13 06:35:25.000000000', 'files': ['neutron/objects/l3agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1d135e3c0865d825127947c65632551436e8894', 'message': 'Use SQL IN clause instead of OR with exact match comparisons\n\nSQL IN clause is faster than several exact match comparisons\nin an OR clause.\n\nTrivial-Fix\n\nChange-Id: I0d1bc49927b061a91ff6d4ca3f5b826d529d0770\n'}]",3,845366,a1d135e3c0865d825127947c65632551436e8894,25,6,2,16688,,,0,"Use SQL IN clause instead of OR with exact match comparisons

SQL IN clause is faster than several exact match comparisons
in an OR clause.

Trivial-Fix

Change-Id: I0d1bc49927b061a91ff6d4ca3f5b826d529d0770
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/845366/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/l3agent.py'],1,95b45e77d417c3b4c5b03b04fad6197c0284a76b,use_sql_in_clause," l3_attrs.RouterExtraAttributes.ha.in_([sql.false(), sql.null()])))"," sa.or_( l3_attrs.RouterExtraAttributes.ha == sql.false(), l3_attrs.RouterExtraAttributes.ha == sql.null())))",2,3
openstack%2Fneutron~stable%2Fyoga~Ib220867106abc59da4fae51a60ef52d0c02592c8,openstack/neutron,stable/yoga,Ib220867106abc59da4fae51a60ef52d0c02592c8,"""_handle_lb_fip_cmds"" to handle the LB members correctly",MERGED,2022-06-14 09:05:16.000000000,2022-06-14 16:51:20.000000000,2022-06-14 16:49:21.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-06-14 09:05:16.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/304aaadf49e6b870fae0cd7f6ea1a4a4ca9a5e2b', 'message': '""_handle_lb_fip_cmds"" to handle the LB members correctly\n\nThis patch indents the section where the load balancer members\nare properly verified. This section must be executed for each\nload balancer matching the logical switch port with the VIP passed\nas an argument to the method ""_handle_lb_fip_cmds"".\n\nCloses-Bug: #1977969\n\nChange-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8\n(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)\n'}]",2,845709,304aaadf49e6b870fae0cd7f6ea1a4a4ca9a5e2b,10,4,1,16688,,,0,"""_handle_lb_fip_cmds"" to handle the LB members correctly

This patch indents the section where the load balancer members
are properly verified. This section must be executed for each
load balancer matching the logical switch port with the VIP passed
as an argument to the method ""_handle_lb_fip_cmds"".

Closes-Bug: #1977969

Change-Id: Ib220867106abc59da4fae51a60ef52d0c02592c8
(cherry picked from commit 096e4df5fc4458a02928c84b40ba01e66618b4ad)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/845709/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,304aaadf49e6b870fae0cd7f6ea1a4a4ca9a5e2b,bug/1977969," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))"," # Find a member LSPs from all linked LS to this LB. for member in members_to_verify: ls = self._nb_idl.lookup( 'Logical_Switch', utils.ovn_name(member['network_id'])) for lsp in ls.ports: if not lsp.addresses: continue if member['ip'] in utils.remove_macs_from_lsp_addresses( lsp.addresses): member['lsp'] = lsp nats = self._nb_idl.db_find_rows( 'NAT', ('external_ids', '=', { ovn_const.OVN_FIP_PORT_EXT_ID_KEY: lsp.name}) ).execute(check_error=True) for nat in nats: if action == ovn_const.FIP_ACTION_ASSOCIATE: # NOTE(mjozefcz): We should delete logical_port # and external_mac entries from member NAT in # order to make traffic work. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP assigned. "" ""In order to make traffic work member "" ""FIP needs to be centralized, even if "" ""this environment is configured as "" ""DVR. Removing logical_port and "" ""external_mac from NAT entry."", lsp.name) commands.extend([ self._nb_idl.db_clear( 'NAT', nat.uuid, 'external_mac'), self._nb_idl.db_clear( 'NAT', nat.uuid, 'logical_port')]) else: # NOTE(mjozefcz): The FIP from LB VIP is # dissassociated now. We can decentralize # member FIPs now. LOG.warning( ""Port %s is configured as a member "" ""of one of OVN Load_Balancers and "" ""Load_Balancer has FIP disassociated. "" ""DVR for this port can be enabled back."", lsp.name) commands.append(self._nb_idl.db_set( 'NAT', nat.uuid, ('logical_port', lsp.name))) port = self._plugin.get_port(context, lsp.name) if port['status'] == const.PORT_STATUS_ACTIVE: commands.append( self._nb_idl.db_set( 'NAT', nat.uuid, ('external_mac', port['mac_address'])))",55,55
openstack%2Fopenstack-helm~master~I0a4a0d81ea9dc041e9095323346c3ea4755d55f5,openstack/openstack-helm,master,I0a4a0d81ea9dc041e9095323346c3ea4755d55f5,Update setup-gateway script to use Xena,MERGED,2022-06-14 02:16:32.000000000,2022-06-14 16:51:14.000000000,2022-06-14 16:47:56.000000000,"[{'_account_id': 1131}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 02:16:32.000000000', 'files': ['tools/deployment/developer/common/170-setup-gateway.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67cf809fcd3fe6126726b27b7ebd707fb60cf6d6', 'message': 'Update setup-gateway script to use Xena\n\nCurrently the 170-setup-gateway.sh script is still hardcoded to\nuse a train neutron image. This change updates the version to\nuse the newer Xena image instead.\n\nChange-Id: I0a4a0d81ea9dc041e9095323346c3ea4755d55f5\n'}]",0,845656,67cf809fcd3fe6126726b27b7ebd707fb60cf6d6,10,4,1,21420,,,0,"Update setup-gateway script to use Xena

Currently the 170-setup-gateway.sh script is still hardcoded to
use a train neutron image. This change updates the version to
use the newer Xena image instead.

Change-Id: I0a4a0d81ea9dc041e9095323346c3ea4755d55f5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/845656/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/developer/common/170-setup-gateway.sh'],1,67cf809fcd3fe6126726b27b7ebd707fb60cf6d6,update-setup-gateway,: ${DNSMASQ_IMAGE:=docker.io/openstackhelm/neutron:xena-ubuntu_focal},: ${DNSMASQ_IMAGE:=docker.io/openstackhelm/neutron:train-ubuntu_bionic},1,1
openstack%2Fneutron~master~I3b7c5d73d2b0d20fb06527ade30af8939b249d75,openstack/neutron,master,I3b7c5d73d2b0d20fb06527ade30af8939b249d75,Move ``PortBindingChassisEvent`` checks to ``match_fn``,MERGED,2022-06-13 06:56:27.000000000,2022-06-14 16:49:52.000000000,2022-06-14 16:49:52.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 06:56:27.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6890204765c5de1a91284b9b0b6bf0565673f53f', 'message': 'Move ``PortBindingChassisEvent`` checks to ``match_fn``\n\nMoved the event checks to ``match_fn`` method, that is the correct\nplace to execute them, before the ``run`` method is called.\n\nThis is a follow-up of\nhttps://review.opendev.org/c/openstack/neutron/+/842147.\n\nRelated-Bug: #1973347\nChange-Id: I3b7c5d73d2b0d20fb06527ade30af8939b249d75\n'}]",1,845547,6890204765c5de1a91284b9b0b6bf0565673f53f,10,6,1,16688,,,0,"Move ``PortBindingChassisEvent`` checks to ``match_fn``

Moved the event checks to ``match_fn`` method, that is the correct
place to execute them, before the ``run`` method is called.

This is a follow-up of
https://review.opendev.org/c/openstack/neutron/+/842147.

Related-Bug: #1973347
Change-Id: I3b7c5d73d2b0d20fb06527ade30af8939b249d75
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/845547/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py'],1,6890204765c5de1a91284b9b0b6bf0565673f53f,bug/1973347," def match_fn(self, event, row, old): return False return False return True def run(self, event, row, old):"," def run(self, event, row, old): return return",7,3
openstack%2Fopenstack-helm~master~I65e016a4cb3fd52707ab29c37f025818fcb6c405,openstack/openstack-helm,master,I65e016a4cb3fd52707ab29c37f025818fcb6c405,Add Xena and Yoga values overrides,MERGED,2022-06-08 16:15:00.000000000,2022-06-14 16:49:45.000000000,2022-06-14 16:47:54.000000000,"[{'_account_id': 1131}, {'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 33519}]","[{'number': 1, 'created': '2022-06-08 16:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/583686dd7aad19af046d6ff007fe6fab9c1365b5', 'message': 'Add Xena and Yoga values overrides\n\nThis change adds the overrides needed to run both the Xena and\nYoga releases in the OSH zuul jobs.\n\nChange-Id: I65e016a4cb3fd52707ab29c37f025818fcb6c405\n'}, {'number': 2, 'created': '2022-06-08 17:22:02.000000000', 'files': ['releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'horizon/Chart.yaml', 'glance/values_overrides/yoga-ubuntu_focal.yaml', 'releasenotes/notes/neutron.yaml', 'glance/values_overrides/xena-ubuntu_focal.yaml', 'cinder/values_overrides/yoga-ubuntu_focal.yaml', 'horizon/values_overrides/xena-ubuntu_focal.yaml', 'placement/values_overrides/yoga-ubuntu_focal.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'keystone/values_overrides/xena-ubuntu_focal.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'neutron/values_overrides/yoga-ubuntu_focal.yaml', 'heat/values_overrides/xena-ubuntu_focal.yaml', 'nova/values_overrides/xena-ubuntu_focal.yaml', 'heat/values_overrides/yoga-ubuntu_focal.yaml', 'neutron/values_overrides/xena-ubuntu_focal.yaml', 'nova/values_overrides/yoga.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/keystone.yaml', 'releasenotes/notes/horizon.yaml', 'barbican/values_overrides/yoga-ubuntu_focal.yaml', 'neutron/Chart.yaml', 'barbican/values_overrides/xena-ubuntu_focal.yaml', 'horizon/values_overrides/yoga-ubuntu_focal.yaml', 'nova/Chart.yaml', 'nova/values_overrides/xena.yaml', 'releasenotes/notes/barbican.yaml', 'cinder/values_overrides/xena-ubuntu_focal.yaml', 'glance/Chart.yaml', 'placement/values_overrides/xena-ubuntu_focal.yaml', 'keystone/values_overrides/yoga-ubuntu_focal.yaml', 'nova/values_overrides/yoga-ubuntu_focal.yaml', 'placement/Chart.yaml', 'keystone/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/89addfd4e1aa7b810e092ca2a2dd22edc48d51b9', 'message': 'Add Xena and Yoga values overrides\n\nThis change adds the overrides needed to run both the Xena and\nYoga releases in the OSH zuul jobs.\n\nChange-Id: I65e016a4cb3fd52707ab29c37f025818fcb6c405\n'}]",0,845156,89addfd4e1aa7b810e092ca2a2dd22edc48d51b9,13,6,2,21420,,,0,"Add Xena and Yoga values overrides

This change adds the overrides needed to run both the Xena and
Yoga releases in the OSH zuul jobs.

Change-Id: I65e016a4cb3fd52707ab29c37f025818fcb6c405
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/845156/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'horizon/Chart.yaml', 'glance/values_overrides/yoga-ubuntu_focal.yaml', 'releasenotes/notes/neutron.yaml', 'glance/values_overrides/xena-ubuntu_focal.yaml', 'cinder/values_overrides/yoga-ubuntu_focal.yaml', 'horizon/values_overrides/xena-ubuntu_focal.yaml', 'placement/values_overrides/yoga-ubuntu_focal.yaml', 'barbican/Chart.yaml', 'cinder/Chart.yaml', 'keystone/values_overrides/xena-ubuntu_focal.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/nova.yaml', 'neutron/values_overrides/yoga-ubuntu_focal.yaml', 'heat/values_overrides/xena-ubuntu_focal.yaml', 'nova/values_overrides/xena-ubuntu_focal.yaml', 'heat/values_overrides/yoga-ubuntu_focal.yaml', 'neutron/values_overrides/xena-ubuntu_focal.yaml', 'releasenotes/notes/glance.yaml', 'releasenotes/notes/placement.yaml', 'releasenotes/notes/keystone.yaml', 'releasenotes/notes/horizon.yaml', 'barbican/values_overrides/yoga-ubuntu_focal.yaml', 'neutron/Chart.yaml', 'barbican/values_overrides/xena-ubuntu_focal.yaml', 'horizon/values_overrides/yoga-ubuntu_focal.yaml', 'nova/Chart.yaml', 'releasenotes/notes/barbican.yaml', 'cinder/values_overrides/xena-ubuntu_focal.yaml', 'glance/Chart.yaml', 'placement/values_overrides/xena-ubuntu_focal.yaml', 'keystone/values_overrides/yoga-ubuntu_focal.yaml', 'nova/values_overrides/yoga-ubuntu_focal.yaml', 'placement/Chart.yaml', 'keystone/Chart.yaml']",36,583686dd7aad19af046d6ff007fe6fab9c1365b5,add-overrides,version: 0.2.26,version: 0.2.25,322,9
openstack%2Fneutron~master~Ie06b987f7efbff8057293893e42bee7b682b9ba1,openstack/neutron,master,Ie06b987f7efbff8057293893e42bee7b682b9ba1,Fix tests involving pyroute2.netlink module,MERGED,2022-06-14 09:27:54.000000000,2022-06-14 16:49:16.000000000,2022-06-14 16:49:16.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 09:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69d90d0fceeb81be6fef6543ae66a1b5ddaf2aa8', 'message': 'Fix tests involving pyroute2.netlink module\n\npyroute2 0.6.11 did some further refactoring of their module imports,\nso using pyroute2.netlink.some_func() doesn\'t work anymore. Since we\ndo ""from pyroute2 import netlink"" anyway, use the imported module\neverywhere.\n\nAlso, mock.patch()ing pyroute2.netlink.rtnl.tcmsg.common.tick_in_usec\ndoesn\'t work anymore, but also doesn\'t seem to be necessary for the\ntests to succeed, so just drop it.\n\nChange-Id: Ie06b987f7efbff8057293893e42bee7b682b9ba1\n'}, {'number': 2, 'created': '2022-06-14 11:47:56.000000000', 'files': ['neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'neutron/tests/unit/agent/linux/test_tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d01700034ac80631893215e742de44cb903ba2a3', 'message': 'Fix tests involving pyroute2.netlink module\n\npyroute2 0.6.11 did some further refactoring of their module imports,\nso using pyroute2.netlink.some_func() doesn\'t work anymore. Since we\ndo ""from pyroute2 import netlink"" anyway, use the imported module\neverywhere.\n\nAlso, mock.patch()ing pyroute2.netlink.rtnl.tcmsg.common.tick_in_usec\ndoesn\'t work anymore, but also doesn\'t seem to be necessary for the\ntests to succeed, so just drop it.\n\nCloses-Bug: 1978564\nChange-Id: Ie06b987f7efbff8057293893e42bee7b682b9ba1\n'}]",6,845715,d01700034ac80631893215e742de44cb903ba2a3,20,5,2,13252,,,0,"Fix tests involving pyroute2.netlink module

pyroute2 0.6.11 did some further refactoring of their module imports,
so using pyroute2.netlink.some_func() doesn't work anymore. Since we
do ""from pyroute2 import netlink"" anyway, use the imported module
everywhere.

Also, mock.patch()ing pyroute2.netlink.rtnl.tcmsg.common.tick_in_usec
doesn't work anymore, but also doesn't seem to be necessary for the
tests to succeed, so just drop it.

Closes-Bug: 1978564
Change-Id: Ie06b987f7efbff8057293893e42bee7b682b9ba1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/845715/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/privileged/agent/linux/test_ip_lib.py', 'neutron/tests/unit/agent/linux/test_tc_lib.py']",2,69d90d0fceeb81be6fef6543ae66a1b5ddaf2aa8,fix-pyroute2-netns-mock,," @mock.patch('pyroute2.netlink.rtnl.tcmsg.common.tick_in_usec', 15.625) @mock.patch('pyroute2.netlink.rtnl.tcmsg.common.tick_in_usec', 15.625)",3,5
openstack%2Fproject-config~master~Id731812c56a526c7dd196a96ff8668de996a8a27,openstack/project-config,master,Id731812c56a526c7dd196a96ff8668de996a8a27,Add py38/py39 jobs to Grafana,MERGED,2022-06-13 14:28:57.000000000,2022-06-14 16:46:39.000000000,2022-06-14 15:58:43.000000000,"[{'_account_id': 5948}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 14:28:57.000000000', 'files': ['grafana/neutron-dynamic-routing.yaml', 'grafana/neutron-lib.yaml', 'grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/97945117ba33035155ba26f537264b9198b8f2b2', 'message': 'Add py38/py39 jobs to Grafana\n\nAdd py39 job to neutron-dynamic-routing and neutron-lib graphs, py38 to\nneutron graphs.\n\nChange-Id: Id731812c56a526c7dd196a96ff8668de996a8a27\n'}]",0,845596,97945117ba33035155ba26f537264b9198b8f2b2,12,6,1,8313,,,0,"Add py38/py39 jobs to Grafana

Add py39 job to neutron-dynamic-routing and neutron-lib graphs, py38 to
neutron graphs.

Change-Id: Id731812c56a526c7dd196a96ff8668de996a8a27
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/845596/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/neutron-dynamic-routing.yaml', 'grafana/neutron-lib.yaml', 'grafana/neutron.yaml']",3,97945117ba33035155ba26f537264b9198b8f2b2,neutron-lower-constratins-py36," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py38.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py38') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py38') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py38.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py38') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py38.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py38')",,8,0
openstack%2Ftripleo-ansible~master~I9b368da796ed6b3ccba13dc9430edb6bca8f91ea,openstack/tripleo-ansible,master,I9b368da796ed6b3ccba13dc9430edb6bca8f91ea,Disable trash purge scheduler,MERGED,2022-06-13 20:57:50.000000000,2022-06-14 16:39:45.000000000,2022-06-14 16:39:45.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-13 20:57:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a449df417b36186ce4a97e8670226fedcf574a62', 'message': 'Disable trash purge scheduler\n\nThis patch introduces a boolean used to set the trash purge\nschedule interval on the cinder related pools.\nThis is false by default and can be enabled via the tripleo\nheat-templates interface.\n\nChange-Id: I9b368da796ed6b3ccba13dc9430edb6bca8f91ea\n'}]",2,845637,a449df417b36186ce4a97e8670226fedcf574a62,9,5,1,25402,,,0,"Disable trash purge scheduler

This patch introduces a boolean used to set the trash purge
schedule interval on the cinder related pools.
This is false by default and can be enabled via the tripleo
heat-templates interface.

Change-Id: I9b368da796ed6b3ccba13dc9430edb6bca8f91ea
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/845637/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml']",2,a449df417b36186ce4a97e8670226fedcf574a62,disable_rbd_trash,tripleo_cephadm_enable_trash_scheduler: false,,2,0
openstack%2Fopenstack-helm~master~Ia5c941fd4adab9f9bf12c298497181580891a612,openstack/openstack-helm,master,Ia5c941fd4adab9f9bf12c298497181580891a612,Update default openstack version in scripts,MERGED,2022-06-14 02:18:51.000000000,2022-06-14 16:37:30.000000000,2022-06-14 16:35:59.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2022-06-14 02:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/febd67646dac6887c2c6af2801b3f198b0712119', 'message': 'Update default get values overrides version\n\nThe version of openstack that the get-values-overrides script is\ncurrently using is stein, which is quite old. This change bumps\nthe version to use Xena by default.\n\nChange-Id: Ia5c941fd4adab9f9bf12c298497181580891a612\n'}, {'number': 2, 'created': '2022-06-14 02:21:33.000000000', 'files': ['tools/deployment/common/get-values-overrides.sh', 'tools/deployment/common/setup-client.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1282d02d27a18a64573104d1265a969044b23f83', 'message': 'Update default openstack version in scripts\n\nSeveral of the deployment scripts in the repo are still currently\nusing stein as their defaults. Since this release is quite old\nnow, this change bumps the version used to be Xena by default.\n\nChange-Id: Ia5c941fd4adab9f9bf12c298497181580891a612\n'}]",0,845658,1282d02d27a18a64573104d1265a969044b23f83,10,3,2,21420,,,0,"Update default openstack version in scripts

Several of the deployment scripts in the repo are still currently
using stein as their defaults. Since this release is quite old
now, this change bumps the version used to be Xena by default.

Change-Id: Ia5c941fd4adab9f9bf12c298497181580891a612
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/845658/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/get-values-overrides.sh'],1,febd67646dac6887c2c6af2801b3f198b0712119,values-overrides,": ""${OPENSTACK_RELEASE:=""xena""}"": ""${CONTAINER_DISTRO_VERSION:=""focal""}""",": ""${OPENSTACK_RELEASE:=""train""}"": ""${CONTAINER_DISTRO_VERSION:=""bionic""}""",2,2
openstack%2Fproject-config~master~Ia7a07b62b492f7065ac478abb6554c2e667591d1,openstack/project-config,master,Ia7a07b62b492f7065ac478abb6554c2e667591d1,Remove lower-constraints and tox-py36 from Neutron Grafana,MERGED,2022-06-01 07:43:56.000000000,2022-06-14 16:04:33.000000000,2022-06-14 15:58:41.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-06-01 07:43:56.000000000', 'files': ['grafana/octavia.yaml', 'grafana/neutron-stable-minusone.yaml', 'grafana/neutron-stable-minustwo.yaml', 'grafana/neutron-dynamic-routing.yaml', 'grafana/neutron-lib.yaml', 'grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e67be4ceece70b685d0a4ca7c07c6b5024ec898d', 'message': 'Remove lower-constraints and tox-py36 from Neutron Grafana\n\nThis patch removes the following graphs:\n- lower-constraints from any Neutron related project.\n- tox-py36 from any Neutron related project in master branch.\n\nChange-Id: Ia7a07b62b492f7065ac478abb6554c2e667591d1\n'}]",15,844254,e67be4ceece70b685d0a4ca7c07c6b5024ec898d,19,8,1,16688,,,0,"Remove lower-constraints and tox-py36 from Neutron Grafana

This patch removes the following graphs:
- lower-constraints from any Neutron related project.
- tox-py36 from any Neutron related project in master branch.

Change-Id: Ia7a07b62b492f7065ac478abb6554c2e667591d1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/844254/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/octavia.yaml', 'grafana/neutron-stable-minusone.yaml', 'grafana/neutron-stable-minustwo.yaml', 'grafana/neutron-dynamic-routing.yaml', 'grafana/neutron-lib.yaml', 'grafana/neutron.yaml']",6,e67be4ceece70b685d0a4ca7c07c6b5024ec898d,neutron-lower-constratins-py36,," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-lower-constraints.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-py36') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-oslo-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-oslo-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-oslo-master') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-ovsdbapp-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.master.job.openstack-tox-py36-with-ovsdbapp-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'openstack-tox-py36-with-ovsdbapp-master')",0,39
openstack%2Ftripleo-validations~stable%2Ftrain~I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae,openstack/tripleo-validations,stable/train,I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae,Change the way the task 'Validation errors' prints the output messages in order to be more readable.,MERGED,2022-06-08 18:30:52.000000000,2022-06-14 15:52:57.000000000,2022-06-14 15:52:57.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-06-08 18:30:52.000000000', 'files': ['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fe5b61e81c4058b3a3efd83308a809272c5ffc3c', 'message': ""Change the way the task 'Validation errors' prints the output messages in order to be more readable.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/835073\nSigned-off-by: Juan Pablo Martí <jmarti@redhat.com>\nChange-Id: I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae\n(cherry picked from commit e809c881b90702641d91807f2724bd21900f94ef)\n""}]",0,845047,fe5b61e81c4058b3a3efd83308a809272c5ffc3c,7,3,1,27427,,,0,"Change the way the task 'Validation errors' prints the output messages in order to be more readable.

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/835073
Signed-off-by: Juan Pablo Martí <jmarti@redhat.com>
Change-Id: I1ecb7dcde70feab479bdcd45ecb8045fb19ffaae
(cherry picked from commit e809c881b90702641d91807f2724bd21900f94ef)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/47/845047/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml'],1,fe5b61e81c4058b3a3efd83308a809272c5ffc3c,," msg: - ""Failed NFV zero packet loss rules:"" - ""{{ validation_msg }}"""," msg: ""Failed NFV zero packet loss rules:\n{{ validation_msg | join('\n') }}""",3,1
openstack%2Fhacking~master~I798dd39afcf2f16a8660ab597b6f5bae70ab2a81,openstack/hacking,master,I798dd39afcf2f16a8660ab597b6f5bae70ab2a81,Drop py36 and py37 support,MERGED,2022-06-03 10:48:30.000000000,2022-06-14 15:21:20.000000000,2022-06-14 15:19:57.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-06-03 10:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/a0937393e01f55ef910163bfeeca98bdb053e557', 'message': 'Drop py36 and py37 support\n\nWe are not testing with py36 and py37 so we cannot be sure hacking works\nwith these versions.\n\nChange-Id: I798dd39afcf2f16a8660ab597b6f5bae70ab2a81\n'}, {'number': 2, 'created': '2022-06-10 07:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/2a18b6787a0808f0fafb5b56684cdf5a4038172e', 'message': 'Drop py36 and py37 support\n\nWe are not testing with py36 and py37 so we cannot be sure hacking works\nwith these versions.\n\nChange-Id: I798dd39afcf2f16a8660ab597b6f5bae70ab2a81\n'}, {'number': 3, 'created': '2022-06-10 09:19:23.000000000', 'files': ['releasenotes/notes/drop-python36-834bb59e53d5fd71.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/hacking/commit/2931131b69af7f1e76d8ab506c250a94b330ffb9', 'message': 'Drop py36 and py37 support\n\nWe are not testing with py36 and py37 so we cannot be sure hacking works\nwith these versions.\n\nAdd releasenote that also mentions the previous changes in py35 and\nflake8 support.\n\nSem-Ver: api-break\nChange-Id: I798dd39afcf2f16a8660ab597b6f5bae70ab2a81\n'}]",5,844570,2931131b69af7f1e76d8ab506c250a94b330ffb9,15,3,3,9708,,,0,"Drop py36 and py37 support

We are not testing with py36 and py37 so we cannot be sure hacking works
with these versions.

Add releasenote that also mentions the previous changes in py35 and
flake8 support.

Sem-Ver: api-break
Change-Id: I798dd39afcf2f16a8660ab597b6f5bae70ab2a81
",git fetch https://review.opendev.org/openstack/hacking refs/changes/70/844570/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a0937393e01f55ef910163bfeeca98bdb053e557,,python_requires = >=3.8,python_requires = >=3.6 Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,1,3
openstack%2Fopenstack-ansible~master~I1a8702d78ebcb39ddf2f42653222588941da11b5,openstack/openstack-ansible,master,I1a8702d78ebcb39ddf2f42653222588941da11b5,add comments to make editing the table clearer,MERGED,2022-06-14 13:43:36.000000000,2022-06-14 15:18:19.000000000,2022-06-14 15:13:28.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-06-14 13:43:36.000000000', 'files': ['doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3d947a53bf3ccd5bfa57d57631f6d86ec4feedf8', 'message': 'add comments to make editing the table clearer\n\nChange-Id: I1a8702d78ebcb39ddf2f42653222588941da11b5\n'}]",0,845758,3d947a53bf3ccd5bfa57d57631f6d86ec4feedf8,9,3,1,13095,,,0,"add comments to make editing the table clearer

Change-Id: I1a8702d78ebcb39ddf2f42653222588941da11b5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/58/845758/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/os-compatibility-matrix.html'],1,3d947a53bf3ccd5bfa57d57631f6d86ec4feedf8,,"<table class=""table table-bordered text-center""> <td>✔</td><!-- Ubuntu 16.04 --> <td>✘</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✔</td><!-- Ubuntu 16.04 --> <td>✘</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✔</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✔</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✔</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- Suse 42 --> <td>✔</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✔</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✔</td><!-- Suse 42 --> <td>✔</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✔</td><!-- Centos 9s --> <td>✔</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td class=""warning"">✔</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✘</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✔</td><!-- Centos 9s --> <td>✔</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td class=""warning"">✔</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✔</td><!-- Centos 7 --> <td>✔</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✔</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td class=""warning"">✔</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✔</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✔</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td class=""warning"">✔</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✔</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✔</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✘</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✔</td><!-- Centos 8 --> <td>✘</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✔</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✔</td><!-- Centos 8 --> <td>✔</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✔</td><!-- Debian 9 --> <td>✔</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✘</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✔</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✔</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✔</td><!-- Centos 8 --> <td>✔</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✔</td><!-- Debian 10 --> <td>✔</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✘</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✔</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✘</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td class=""warning"">E</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✔</td><!-- Centos 8s --> <td>✔</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✔</td><!-- Debian 11 --> <td>✔</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 --> <td>✘</td><!-- Ubuntu 16.04 --> <td>✘</td><!-- Ubuntu 18.04 --> <td>✔</td><!-- Ubuntu 20.04 --> <td>✘</td><!-- Ubuntu 22.04 --> <td>✘</td><!-- Centos 7 --> <td>✘</td><!-- Centos 8 --> <td>✔</td><!-- Centos 8s --> <td>✘</td><!-- Centos 9s --> <td>✘</td><!-- Debian 9 --> <td>✘</td><!-- Debian 10 --> <td>✘</td><!-- Debian 11 --> <td>✘</td><!-- RockyLinux 8 --> <td>✘</td><!-- Suse 42 --> <td>✘</td><!-- Suse 15 -->","<table class=""table table-bordered text-center"" > <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td class=""warning"">✔</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td class=""warning"">✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td class=""warning"">✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td class=""warning"">✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td class=""warning"">E</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✔</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td> <td>✘</td>",253,253
openstack%2Fopenstack-ansible~master~I9cf6b830fabde0dc77d3bf6549703f2729124b11,openstack/openstack-ansible,master,I9cf6b830fabde0dc77d3bf6549703f2729124b11,[doc] Fix compatability matrix layout,MERGED,2022-06-14 11:32:48.000000000,2022-06-14 15:16:07.000000000,2022-06-14 15:13:25.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-06-14 11:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e5ea0c95367d62edea85b54a9707234d3e10daab', 'message': '[doc] Fix compatability matrix layout\n\nChange-Id: I9cf6b830fabde0dc77d3bf6549703f2729124b11\n'}, {'number': 2, 'created': '2022-06-14 12:54:06.000000000', 'files': ['doc/source/admin/upgrades/os-compatibility-matrix.html'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4ee51d18b16f96658f8477695f25cd281da9f51c', 'message': '[doc] Fix compatability matrix layout\n\nChange-Id: I9cf6b830fabde0dc77d3bf6549703f2729124b11\n'}]",0,845731,4ee51d18b16f96658f8477695f25cd281da9f51c,10,3,2,28619,,,0,"[doc] Fix compatability matrix layout

Change-Id: I9cf6b830fabde0dc77d3bf6549703f2729124b11
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/845731/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/upgrades/os-compatibility-matrix.html'],1,e5ea0c95367d62edea85b54a9707234d3e10daab,845731," <th colspan=""4"" class=""text-center col-lg-2"">CentOS</th> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td></td> <td>✔</td> <td>✔</td>"," <th colspan=""3"" class=""text-center col-lg-2"">CentOS</th> <td>✔</td> <td>✔</td>",13,3
openstack%2Fneutron~stable%2Fwallaby~I97e9ca244c0716510fcd4ec81d54046be9c5f8f8,openstack/neutron,stable/wallaby,I97e9ca244c0716510fcd4ec81d54046be9c5f8f8,"Use explicit select condition in SQL query in ""_port_filter_hook""",MERGED,2022-06-06 08:30:47.000000000,2022-06-14 15:06:46.000000000,2022-06-14 15:02:48.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-06 08:30:47.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e587d079e4aa31ad5e87566d3c06089914e39f7', 'message': 'Use explicit select condition in SQL query in ""_port_filter_hook""\n\nInstead of executing a subquery inside a select, use a proper filter\ncondition instead.\n\nCloses-Bug: #1936675\nChange-Id: I97e9ca244c0716510fcd4ec81d54046be9c5f8f8\n(cherry picked from commit 923284fc3791949d93d7ded9820a44f98fc734b8)\n'}]",1,844788,4e587d079e4aa31ad5e87566d3c06089914e39f7,11,4,1,16688,,,0,"Use explicit select condition in SQL query in ""_port_filter_hook""

Instead of executing a subquery inside a select, use a proper filter
condition instead.

Closes-Bug: #1936675
Change-Id: I97e9ca244c0716510fcd4ec81d54046be9c5f8f8
(cherry picked from commit 923284fc3791949d93d7ded9820a44f98fc734b8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/844788/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,4e587d079e4aa31ad5e87566d3c06089914e39f7,bug/1936675,"from sqlalchemy import and_ conditions |= and_( models_v2.Port.network_id == models_v2.Network.id, models_v2.Network.project_id == context.project_id) query = query.distinct()", conditions |= (models_v2.Port.network_id.in_( context.session.query(models_v2.Network.id). filter(context.project_id == models_v2.Network.project_id). subquery())),5,4
openstack%2Fneutron~stable%2Fyoga~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/yoga,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:37.000000000,2022-06-14 15:06:32.000000000,2022-06-14 15:02:52.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 16:01:37.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34e4e6922755c6e9b0ca73952de6a888ffccfd6d', 'message': 'migration: Fail task if executed script failed\n\nPreviously the migration playbook continued even if tripleo deploy\nfailed which damaged the environment even more. This patch will make the\ntask fail if deploy fails too. There are also other commands which\nreturn code was ignored.\n\nChange-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)\n'}]",0,845403,34e4e6922755c6e9b0ca73952de6a888ffccfd6d,8,3,1,8655,,,0,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/845403/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml']",2,34e4e6922755c6e9b0ca73952de6a888ffccfd6d,migration-stable/yoga, args: creates: $HOME/ovn-extras.yaml, changed_when: False changed_when: true,2,3
openstack%2Fneutron~stable%2Fxena~Ib27fa676e126503eacb97b24e95aa7cd2982adab,openstack/neutron,stable/xena,Ib27fa676e126503eacb97b24e95aa7cd2982adab,migration: Fail task if executed script failed,MERGED,2022-06-13 16:01:46.000000000,2022-06-14 15:06:22.000000000,2022-06-14 15:02:57.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 16:01:46.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/65a6033dd9ff01ed9800840cbdd51b6a161a923d', 'message': 'migration: Fail task if executed script failed\n\nPreviously the migration playbook continued even if tripleo deploy\nfailed which damaged the environment even more. This patch will make the\ntask fail if deploy fails too. There are also other commands which\nreturn code was ignored.\n\nChange-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)\n'}]",0,845404,65a6033dd9ff01ed9800840cbdd51b6a161a923d,9,3,1,8655,,,0,"migration: Fail task if executed script failed

Previously the migration playbook continued even if tripleo deploy
failed which damaged the environment even more. This patch will make the
task fail if deploy fails too. There are also other commands which
return code was ignored.

Change-Id: Ib27fa676e126503eacb97b24e95aa7cd2982adab
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit ab62f174095b5d8cdf32134cbca1f3cb79926642)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/845404/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/delete-neutron-resources/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/tripleo-update/tasks/main.yml']",2,65a6033dd9ff01ed9800840cbdd51b6a161a923d,migration-stable/yoga-stable/xena, args: creates: $HOME/ovn-extras.yaml, changed_when: False changed_when: true,2,3
openstack%2Fneutron~master~I413c33970002532d11de5bc2afb145704a8488a9,openstack/neutron,master,I413c33970002532d11de5bc2afb145704a8488a9,Return default value when get router's enable_ndp_proxy from `request_body`,MERGED,2022-06-14 04:05:08.000000000,2022-06-14 15:05:27.000000000,2022-06-14 15:03:01.000000000,"[{'_account_id': 841}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 04:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5243146f4e3a204b6f47b3e4d53559787431fbd1', 'message': ""Return default value when get router's enable_ndp_proxy from `request_body`\n\nIn some cases, the creation of router was called by `l3 plugin` directly,\ndidn't call API. In this way, the router's request_body of the `ndp_proxy`\nservice plugin received has no `enable_ndp_proxy`, this will result in\n`ndp_proxy` service plugin raise error.\n\nCloses-Bug: #1978519\nRelated-Bug: #1877301\nChange-Id: I413c33970002532d11de5bc2afb145704a8488a9\n""}, {'number': 2, 'created': '2022-06-14 04:19:29.000000000', 'files': ['neutron/services/ndp_proxy/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/81a330113b5ae3d9b163eb2a92bfa0a628a31dd1', 'message': ""Return default value when get router's enable_ndp_proxy from `request_body`\n\nIn some cases, the creation of router was called by `l3 plugin`\ndirectly, didn't call API. In this way, the router's request_body\nof the `ndp_proxy` service plugin received has no `enable_ndp_proxy`,\nthis will result in `ndp_proxy` service plugin raise error.\n\nCloses-Bug: #1978519\nRelated-Bug: #1877301\nChange-Id: I413c33970002532d11de5bc2afb145704a8488a9\n""}]",0,845662,81a330113b5ae3d9b163eb2a92bfa0a628a31dd1,12,4,2,28329,,,0,"Return default value when get router's enable_ndp_proxy from `request_body`

In some cases, the creation of router was called by `l3 plugin`
directly, didn't call API. In this way, the router's request_body
of the `ndp_proxy` service plugin received has no `enable_ndp_proxy`,
this will result in `ndp_proxy` service plugin raise error.

Closes-Bug: #1978519
Related-Bug: #1877301
Change-Id: I413c33970002532d11de5bc2afb145704a8488a9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/845662/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ndp_proxy/plugin.py'],1,5243146f4e3a204b6f47b3e4d53559787431fbd1,bug/1978519," ndp_proxy_state = request_body.get( l3_ext_ndp_proxy.ENABLE_NDP_PROXY, lib_consts.ATTR_NOT_SPECIFIED)", ndp_proxy_state = request_body[l3_ext_ndp_proxy.ENABLE_NDP_PROXY],2,1
openstack%2Fneutron~stable%2Fwallaby~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/wallaby,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:27:40.000000000,2022-06-14 15:05:22.000000000,2022-06-14 15:02:35.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 13:27:40.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e325a618cc19eb937e80bb56099a1fcb64e344f9', 'message': 'migration: Delete also SGRs for IPv6\n\nIPv4 and IPv6 have different utility in iptables. This patch adds use of\nip6tables the same way as previously used iptables.\n\nChange-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)\n'}]",0,844972,e325a618cc19eb937e80bb56099a1fcb64e344f9,10,4,1,16688,,,0,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/844972/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,e325a618cc19eb937e80bb56099a1fcb64e344f9,migration, {{ iptables_exec }}-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | {{ iptables_exec }}-restore with_items: - iptables - ip6tables loop_control: loop_var: iptables_exec, iptables-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | iptables-restore,7,2
openstack%2Fneutron~stable%2Fussuri~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/ussuri,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:28:58.000000000,2022-06-14 15:05:10.000000000,2022-06-14 15:02:43.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 13:28:58.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8388c7468d01a18f4d98405144afbf76a1ac1e2c', 'message': 'migration: Delete also SGRs for IPv6\n\nIPv4 and IPv6 have different utility in iptables. This patch adds use of\nip6tables the same way as previously used iptables.\n\nChange-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)\n'}]",0,844975,8388c7468d01a18f4d98405144afbf76a1ac1e2c,8,4,1,16688,,,0,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/844975/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,8388c7468d01a18f4d98405144afbf76a1ac1e2c,migration, {{ iptables_exec }}-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | {{ iptables_exec }}-restore with_items: - iptables - ip6tables loop_control: loop_var: iptables_exec, iptables-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | iptables-restore,7,2
openstack%2Fneutron~stable%2Fvictoria~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/victoria,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:27:58.000000000,2022-06-14 15:04:57.000000000,2022-06-14 15:02:39.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 13:27:58.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe1cf1c9c3e6dadae3380dba7fafcb313505d206', 'message': 'migration: Delete also SGRs for IPv6\n\nIPv4 and IPv6 have different utility in iptables. This patch adds use of\nip6tables the same way as previously used iptables.\n\nChange-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)\n'}]",0,844973,fe1cf1c9c3e6dadae3380dba7fafcb313505d206,9,4,1,16688,,,0,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/844973/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,fe1cf1c9c3e6dadae3380dba7fafcb313505d206,migration, {{ iptables_exec }}-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | {{ iptables_exec }}-restore with_items: - iptables - ip6tables loop_control: loop_var: iptables_exec, iptables-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | iptables-restore,7,2
openstack%2Fneutron~stable%2Fxena~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/xena,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:26:29.000000000,2022-06-14 15:04:50.000000000,2022-06-14 15:02:31.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 13:26:29.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee2291e9687c8d3f8e0b1912b8173ecb58af8e0f', 'message': 'migration: Delete also SGRs for IPv6\n\nIPv4 and IPv6 have different utility in iptables. This patch adds use of\nip6tables the same way as previously used iptables.\n\nChange-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)\n'}]",0,844971,ee2291e9687c8d3f8e0b1912b8173ecb58af8e0f,10,4,1,16688,,,0,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/844971/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,ee2291e9687c8d3f8e0b1912b8173ecb58af8e0f,migration, {{ iptables_exec }}-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | {{ iptables_exec }}-restore with_items: - iptables - ip6tables loop_control: loop_var: iptables_exec, iptables-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | iptables-restore,7,2
openstack%2Fneutron~stable%2Fyoga~I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,openstack/neutron,stable/yoga,I1e8ef2749ac5705563e539a5e9f02c63347b5dbe,migration: Delete also SGRs for IPv6,MERGED,2022-06-07 13:25:49.000000000,2022-06-14 15:04:48.000000000,2022-06-14 15:02:26.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-07 13:25:49.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9550c4b18ff0ee9f6d684edae634c1972b18f95', 'message': 'migration: Delete also SGRs for IPv6\n\nIPv4 and IPv6 have different utility in iptables. This patch adds use of\nip6tables the same way as previously used iptables.\n\nChange-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)\n'}]",0,844970,d9550c4b18ff0ee9f6d684edae634c1972b18f95,9,4,1,16688,,,0,"migration: Delete also SGRs for IPv6

IPv4 and IPv6 have different utility in iptables. This patch adds use of
ip6tables the same way as previously used iptables.

Change-Id: I1e8ef2749ac5705563e539a5e9f02c63347b5dbe
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit d93cd7d0c0e6bc813ab2bb9dc0809b8cc9bd5543)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/844970/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,d9550c4b18ff0ee9f6d684edae634c1972b18f95,migration, {{ iptables_exec }}-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | {{ iptables_exec }}-restore with_items: - iptables - ip6tables loop_control: loop_var: iptables_exec, iptables-save > /tmp/iptables-before-cleanup cat /tmp/iptables-after-cleanup | iptables-restore,7,2
openstack%2Fopenstack-helm-infra~master~I22f6c1f01acde4869f0f6b4067756a6c8587ae5e,openstack/openstack-helm-infra,master,I22f6c1f01acde4869f0f6b4067756a6c8587ae5e,[DNM] Gate test,ABANDONED,2022-06-13 18:48:39.000000000,2022-06-14 14:56:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-13 18:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5e9d85045e2478b7d2897eede7803f221b414e4', 'message': '[DNM] Gate test\n\nChange-Id: I22f6c1f01acde4869f0f6b4067756a6c8587ae5e\n'}, {'number': 2, 'created': '2022-06-13 19:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f8e5d7a233cec64e15950c5fa942132d9d8a4e3', 'message': '[DNM] Gate test\n\nChange-Id: I22f6c1f01acde4869f0f6b4067756a6c8587ae5e\n'}, {'number': 3, 'created': '2022-06-13 20:51:14.000000000', 'files': ['ceph-mon/Chart.yaml', 'releasenotes/notes/ceph-mon.yaml', 'ceph-mon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e552082fece75204a70bcb86bc32c98412b5b13', 'message': '[DNM] Gate test\n\nChange-Id: I22f6c1f01acde4869f0f6b4067756a6c8587ae5e\n'}]",0,845622,1e552082fece75204a70bcb86bc32c98412b5b13,8,1,3,29974,,,0,"[DNM] Gate test

Change-Id: I22f6c1f01acde4869f0f6b4067756a6c8587ae5e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/22/845622/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/Chart.yaml', 'releasenotes/notes/ceph-mon.yaml']",2,f5e9d85045e2478b7d2897eede7803f221b414e4,, - 0.1.25 Test,,2,1
openstack%2Fnova~master~I5adeea81f6be414e1a298b3cb80dfed24e18ce9a,openstack/nova,master,I5adeea81f6be414e1a298b3cb80dfed24e18ce9a,WIP: skeleton for asserting PCI resources in Placement,ABANDONED,2022-05-25 14:35:46.000000000,2022-06-14 14:49:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-05-25 14:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd52755231bc41206cfa072a62f7c80624a8c0e0', 'message': 'WIP: skeleton for asserting PCI resources in Placement\n\nblueprint: pci-device-tracking-in-placement\n\nChange-Id: I5adeea81f6be414e1a298b3cb80dfed24e18ce9a\n'}, {'number': 2, 'created': '2022-05-30 10:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4b83250e76042ce0ea8aac6f0f53f919a998152', 'message': 'WIP: skeleton for asserting PCI resources in Placement\n\nblueprint: pci-device-tracking-in-placement\n\nChange-Id: I5adeea81f6be414e1a298b3cb80dfed24e18ce9a\n'}, {'number': 3, 'created': '2022-05-30 13:28:36.000000000', 'files': ['nova/tests/functional/libvirt/test_pci_sriov_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/238debd8bf11a75eab6bb8be56d6b35e69f7cecf', 'message': 'WIP: skeleton for asserting PCI resources in Placement\n\nblueprint: pci-device-tracking-in-placement\n\nChange-Id: I5adeea81f6be414e1a298b3cb80dfed24e18ce9a\n'}]",3,843291,238debd8bf11a75eab6bb8be56d6b35e69f7cecf,15,1,3,9708,,,0,"WIP: skeleton for asserting PCI resources in Placement

blueprint: pci-device-tracking-in-placement

Change-Id: I5adeea81f6be414e1a298b3cb80dfed24e18ce9a
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/843291/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_pci_sriov_servers.py'],1,fd52755231bc41206cfa072a62f7c80624a8c0e0,bp/pci-device-tracking-in-placement,"import dataclasses@dataclasses.dataclass class PlacementPCIResource: """"""Defining a PCI device RP that expected to exist in Placement """""" # it is assumed to be the parent PF address in case of VFs pci_address: str # it is dict of <rc>:<total> pairs inventories: dict # list of expected trait names traits: list = () # dict of <consumer_uuid>: { <rc>:<allocation> } pairs consumers: dict = dataclasses.field(default_factory=lambda: {}) def assert_placement_pci_view( self, hostname: str, expected_resources, ): """"""Assert that the Placement PCI resource view is in sync with the nova DB view. This call uses the nova DB view as the reference. So the caller needs to make sure that the nova DB view is correct according to the expectations of the test case. param expected_resources: A list of PlacementPCIResource objects defining what PCI devices are expected in placement. """""" compute_rp_uuid = self.compute_rp_uuids[hostname] # This is just to debug what is in the nova DB. Optionally we could # assert that the nova DB and the Placement view are in sync ctxt = context.get_admin_context() db_pci_devices = objects.PciDeviceList.get_by_compute_node( ctxt, objects.ComputeNode.get_by_nodename( ctxt, hostname, ).id, ) for dev in db_pci_devices: print( ""Nova DB:"", dev.address, ""parent:"", dev.parent_addr, dev.vendor_id, dev.product_id, dev.dev_type, dev.status, ""consumer:"", dev.instance_uuid, ) # each type-PCI and type-PF device needs to be represented as an RP # under the compute root RP with proper resource inventories # the parents of each type-VF needs to be represented as an RP with the # VF related inventories. for expected_res in expected_resources: # TODO(gibi): query the RP from placement and check the # inventories and allocations according to the expectations print(""Placement(expected):"", expected_res) # the above pci_info by default defines a set of PCI devices # but the self.PCI_PASSTHROUGH_WHITELIST filters that down to a single # PCI dev via the fakelibvirt.PCI_PROD_ID. So we only expect that # single PCI device to appear in placement. rc = f""CUSTOM_{fakelibvirt.PCI_VEND_ID}_{fakelibvirt.PCI_PROD_ID}"" pci_res = PlacementPCIResource( pci_address=""0000:81:00.0"", inventories={rc: 1} ) self.assert_placement_pci_view('compute1', [pci_res]) server = self._create_server(flavor_id=flavor_id, networks='none') # we expect the same device but now allocated to our server pci_res.consumers = {server['id']: {rc: 1}} self.assert_placement_pci_view('compute1', [pci_res])"," self._create_server(flavor_id=flavor_id, networks='none')",79,1
openstack%2Fcompute-hyperv~master~I8549cd018a53411f2991c8564c548a00b145631f,openstack/compute-hyperv,master,I8549cd018a53411f2991c8564c548a00b145631f,Use TOX_CONSTRAINTS_FILE,MERGED,2022-05-19 07:13:24.000000000,2022-06-14 14:33:45.000000000,2022-06-14 14:33:45.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-19 07:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4be3a95ee9a46c56256df09fd19efb0231d8907f', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nChange-Id: I8549cd018a53411f2991c8564c548a00b145631f\n'}, {'number': 2, 'created': '2022-05-19 07:14:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4b80f61a5c4078ea6c2bbc922cc67faf23a12a19', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I8549cd018a53411f2991c8564c548a00b145631f\n'}]",1,842464,4b80f61a5c4078ea6c2bbc922cc67faf23a12a19,9,2,2,33881,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I8549cd018a53411f2991c8564c548a00b145631f
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/64/842464/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4be3a95ee9a46c56256df09fd19efb0231d8907f,, -c{env:TOX_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fcinder~master~I53b7efc093f7fc5823e0543aca4ce57720b88f5b,openstack/cinder,master,I53b7efc093f7fc5823e0543aca4ce57720b88f5b,Unity: force delete attached snapshots,NEW,2018-10-18 07:02:43.000000000,2022-06-14 14:05:32.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26114}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29637}]","[{'number': 1, 'created': '2018-10-18 07:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/547ec23bcd1fac006e0a9c6949fd34e0698e1ca1', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 2, 'created': '2018-10-19 06:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1588361b1e3ba9286d7dfe9c3eae25181f57a19c', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 3, 'created': '2018-12-11 03:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1be0cc69763fc8c0fb38736fd8ea77291ddfff67', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 4, 'created': '2018-12-17 09:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38faa021382da12b06ea58e2d247d583e87d75dc', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 5, 'created': '2019-02-27 04:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a9944791c4f90afc10b50e603a94d004252e251', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 6, 'created': '2019-04-02 03:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1519d7979fdcc2110c196e35517b6458b8039eca', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 7, 'created': '2019-04-08 03:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e20036f3746afd706fb477dd185178a963579b0b', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 8, 'created': '2019-04-08 05:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86306c32a5f17305e84b117f1d7b716d0a265ad3', 'message': 'Unity: add option to delete attached snapshots\n\nAdd a option to delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}, {'number': 9, 'created': '2021-02-24 08:01:35.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'releasenotes/notes/unity-delete-attached-snapshots-3b5f7fed9995d09a.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd902c0dc8b80aba143d5f60e71fdb951dca382f', 'message': 'Unity: force delete attached snapshots\n\nForce delete the snapshot even if it is attached to hosts.\n\nCloses-bug: #1798529\nChange-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b\n'}]",7,611515,bd902c0dc8b80aba143d5f60e71fdb951dca382f,284,49,9,18742,,,0,"Unity: force delete attached snapshots

Force delete the snapshot even if it is attached to hosts.

Closes-bug: #1798529
Change-Id: I53b7efc093f7fc5823e0543aca4ce57720b88f5b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/611515/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'releasenotes/notes/unity-delete-attached-snapshots-3b5f7fed9995d09a.yaml', 'cinder/volume/drivers/dell_emc/unity/client.py', 'doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst']",5,547ec23bcd1fac006e0a9c6949fd34e0698e1ca1,bug/1798529,"| storops | 0.5.12 or newer |Force delete attached snapshots option -------------------------------------- Set the option to ``True`` to force delete the snapshot even if it is attached to hosts. Enable it carefully, force deleting an attached snapshot could cause data unaccessble and/or data loss. .. code-block:: ini force_delete_attached_snapshots = True ",| storops | 0.5.10 or newer |,36,6
openstack%2Fcinder~master~Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc,openstack/cinder,master,Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc,Mark RSD driver as unsupported,NEW,2020-03-05 16:49:33.000000000,2022-06-14 14:01:52.000000000,,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 29855}, {'_account_id': 31254}]","[{'number': 1, 'created': '2020-03-05 16:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d6a311554b3b12c04de1b877e58c64ea0887df4', 'message': 'Mark RSD driver as unsupported\n\n  * Cinder RSD driver is unsupported and will be removed in upcoming\n    releases\n\n  * RSD driver CI will be disabled by end of March 2020\n\nChange-Id: Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc\nSigned-off-by: Martin Kennelly <martin.kennelly@intel.com>\n'}, {'number': 2, 'created': '2020-05-27 15:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce1e683521664967251aa31c94b2065b5a6f48e8', 'message': 'Mark RSD driver as unsupported\n\n  * Cinder RSD driver is unsupported and will be removed in upcoming\n    releases\n\n  * RSD driver CI will be disabled by end of March 2020\n\nChange-Id: Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc\nSigned-off-by: Martin Kennelly <martin.kennelly@intel.com>\n'}, {'number': 3, 'created': '2020-06-02 09:56:18.000000000', 'files': ['cinder/volume/drivers/rsd.py', 'doc/source/configuration/block-storage/drivers/intel-rsd-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad4e5580c7c744097f00f98f16550b73611c31b0', 'message': 'Mark RSD driver as unsupported\n\n  * Cinder RSD driver is unsupported and will be removed in upcoming\n    releases\n\n  * RSD driver CI is disabled by end of March 2020\n\nChange-Id: Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc\nSigned-off-by: Martin Kennelly <martin.kennelly@intel.com>\n'}]",7,711512,ad4e5580c7c744097f00f98f16550b73611c31b0,106,41,3,29855,,,0,"Mark RSD driver as unsupported

  * Cinder RSD driver is unsupported and will be removed in upcoming
    releases

  * RSD driver CI is disabled by end of March 2020

Change-Id: Ica2d9ab6e90eaa47f3e848215d267ac5f3251dcc
Signed-off-by: Martin Kennelly <martin.kennelly@intel.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/711512/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rsd.py', 'doc/source/configuration/block-storage/drivers/intel-rsd-volume-driver.rst']",2,3d6a311554b3b12c04de1b877e58c64ea0887df4,rsd_unsupported,================================================== Intel Rack Scale Design (RSD) driver (Unsupported) ==================================================.. note:: The RSD driver is unsupported for the U release and will no longer be maintained. ,==================================== Intel Rack Scale Design (RSD) driver ====================================,12,3
openstack%2Ftripleo-heat-templates~master~I9daaf69463e74f0f7fb63586ff6464194391da30,openstack/tripleo-heat-templates,master,I9daaf69463e74f0f7fb63586ff6464194391da30,Keystone: Remove unnecessary binds for admin endpoint,MERGED,2022-06-10 04:57:36.000000000,2022-06-14 14:00:53.000000000,2022-06-14 14:00:53.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-10 04:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d70c6c31f57252e2145d9c38332e688d86c4dc6', 'message': 'Keystone: Remove unnecessary binding of tcp/35357\n\nIn the past Keystone required a separate instance for admin endpoint\nbut that requirement was removed and current TripleO deploys only\na single keystone instance, which listens on tcp/5000, to serve all\nendpoints[1], and haproxy no longer forwards access to Keystone API to\ntcp/35357.\n\nCloses-Bug: #1978131\nChange-Id: I9daaf69463e74f0f7fb63586ff6464194391da30\n'}, {'number': 2, 'created': '2022-06-10 05:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/32c9f9af32c92101feb2d74a9df387fac747ad10', 'message': 'Keystone: Remove unnecessary binding of tcp/35357\n\nIn the past Keystone required a separate instance for admin endpoint.\nHowever that requirement was removed and current TripleO deploys only\na single keystone instance, which listens on tcp/5000, to serve all\nendpoints[1].\n\nNow haproxy forwards all keystone api access to tcp/5000 and no longer\nuses backend on tcp/35357.\n\nCloses-Bug: #1978131\nChange-Id: I9daaf69463e74f0f7fb63586ff6464194391da30\n'}, {'number': 3, 'created': '2022-06-10 05:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b540d71fcc3e8be04e9be65ae213e218a8b596da', 'message': 'Keystone: Remove unnecessary binding of tcp/35357\n\nIn the past Keystone required a separate instance for admin endpoint.\nHowever that requirement was removed and current TripleO deploys only\na single keystone instance, which listens on tcp/5000[1].\n\nNow haproxy forwards all keystone api access to tcp/5000 and no longer\nuses backend on tcp/35357.\n\nCloses-Bug: #1978131\nChange-Id: I9daaf69463e74f0f7fb63586ff6464194391da30\n'}, {'number': 4, 'created': '2022-06-10 05:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25d24e065359e3a0344be737a22cd35b5a27f382', 'message': 'Keystone: Remove unnecessary binding of tcp/35357\n\nIn the past Keystone required a separate instance for admin endpoint.\nHowever that requirement was removed and current TripleO deploys only\na single keystone instance, which listens on tcp/5000[1].\n\nNow haproxy forwards all keystone api access to tcp/5000 and no longer\nuses backend on tcp/35357.\n\n[1] 5bd82e9ef051e732c0f991eaf4f9e3572aac87f6\n\nCloses-Bug: #1978131\nChange-Id: I9daaf69463e74f0f7fb63586ff6464194391da30\n'}, {'number': 5, 'created': '2022-06-10 07:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d078d3da784e0b2a9c890845716a91d56e8e3cd', 'message': 'Keystone: Remove unnecessary binds for admin endpoint\n\nIn the past Keystone required a separate instance for admin endpoint.\nHowever that requirement was removed and current TripleO deploys only\na single keystone instance, which listens on tcp/5000 in\nKeystonePublicApiNetwork [1].\n\nNow haproxy forwards all keystone api access to tcp/5000 in\nKeystonePublicApiNetwork and no longer uses backend on tcp/35357 in\nKeystoneAdminApiNetwork.\n\n[1] 5bd82e9ef051e732c0f991eaf4f9e3572aac87f6\n\nCloses-Bug: #1978131\nChange-Id: I9daaf69463e74f0f7fb63586ff6464194391da30\n'}, {'number': 6, 'created': '2022-06-13 00:41:49.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2de73e76243948036bb1bdcaec5b805ddb26676d', 'message': 'Keystone: Remove unnecessary binds for admin endpoint\n\nIn the past Keystone required a separate instance for admin endpoint.\nHowever that requirement was removed and current TripleO deploys only\na single keystone instance, which listens on tcp/5000 in\nKeystonePublicApiNetwork [1].\n\nNow haproxy forwards all keystone api access to tcp/5000 in\nKeystonePublicApiNetwork and no longer uses backend on tcp/35357 in\nKeystoneAdminApiNetwork.\n\n[1] 5bd82e9ef051e732c0f991eaf4f9e3572aac87f6\n\nCloses-Bug: #1978131\nChange-Id: I9daaf69463e74f0f7fb63586ff6464194391da30\n'}]",7,845317,2de73e76243948036bb1bdcaec5b805ddb26676d,28,7,6,9816,,,0,"Keystone: Remove unnecessary binds for admin endpoint

In the past Keystone required a separate instance for admin endpoint.
However that requirement was removed and current TripleO deploys only
a single keystone instance, which listens on tcp/5000 in
KeystonePublicApiNetwork [1].

Now haproxy forwards all keystone api access to tcp/5000 in
KeystonePublicApiNetwork and no longer uses backend on tcp/35357 in
KeystoneAdminApiNetwork.

[1] 5bd82e9ef051e732c0f991eaf4f9e3572aac87f6

Closes-Bug: #1978131
Change-Id: I9daaf69463e74f0f7fb63586ff6464194391da30
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/845317/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,3d70c6c31f57252e2145d9c38332e688d86c4dc6,bug/1978131,," keystone::wsgi::apache::api_port: - 5000 - {get_param: [EndpointMap, KeystoneAdmin, port]}",0,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I8ee338c3f3e20f1826d98efb38d3b21fefda5031,openstack/tripleo-heat-templates,stable/train,I8ee338c3f3e20f1826d98efb38d3b21fefda5031,Add parameter IronicIPXEUefiSnpOnly,MERGED,2022-02-05 04:22:16.000000000,2022-06-14 13:57:34.000000000,2022-03-24 08:40:23.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-02-05 04:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4229692fc9662acc0e59ae49cbbaa5945613cab9', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nConflicts:\n  deployment/ironic/ironic-conductor-container-puppet.yaml\n\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}, {'number': 2, 'created': '2022-02-07 08:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/314a0d1cce7f3bc7b4be7ede74a4809c171bf81d', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nConflicts:\n  deployment/ironic/ironic-conductor-container-puppet.yaml\n\nDepends-On: https://review.opendev.org/828089\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}, {'number': 3, 'created': '2022-03-20 19:57:03.000000000', 'files': ['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8c554c02f5e1dd3b5c3a4707cc82d35eb54f9da', 'message': ""Add parameter IronicIPXEUefiSnpOnly\n\nAdd new parameter IronicIPXEUefiSnpOnly (default: true).\nWhen `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi\nis used.\n\n'snponly.efi' is the default in puppet-ironic master branch, however\nin Wallaby and earlier releases 'ipxe.efi' is the default. Since\n'ipxe.efi' is not compatible with a lot of hardware TripleO should\nchange this default.\n\nConflicts:\n  deployment/ironic/ironic-conductor-container-puppet.yaml\n\nDepends-On: https://review.opendev.org/828089\nRelated: RHBZ#2049179\nCloses-Bug: 1959726\nChange-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031\n(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)\n""}]",20,827950,f8c554c02f5e1dd3b5c3a4707cc82d35eb54f9da,63,6,3,24245,,,0,"Add parameter IronicIPXEUefiSnpOnly

Add new parameter IronicIPXEUefiSnpOnly (default: true).
When `true` ipxe-snponly.efi is used for UEFI, when `false` ipxe.efi
is used.

'snponly.efi' is the default in puppet-ironic master branch, however
in Wallaby and earlier releases 'ipxe.efi' is the default. Since
'ipxe.efi' is not compatible with a lot of hardware TripleO should
change this default.

Conflicts:
  deployment/ironic/ironic-conductor-container-puppet.yaml

Depends-On: https://review.opendev.org/828089
Related: RHBZ#2049179
Closes-Bug: 1959726
Change-Id: I8ee338c3f3e20f1826d98efb38d3b21fefda5031
(cherry picked from commit bd13adefd106864504240566d2a3530211cc464f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/827950/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-conductor-container-puppet.yaml', 'releasenotes/notes/uefi_ipxe_bootfile_name-f2c9cc8971dc1ed8.yaml']",2,4229692fc9662acc0e59ae49cbbaa5945613cab9,bug/1959726-stable/train,"--- upgrade: - | The default UEFI iPXE bootfile is now `snponly.efi`. The boolean parameter `IronicIPXEUefiSnpOnly` was added to allow custom configuration. When set to `true` snponly is used, when `false` the previous default ipxe.efi is used. See bug: `1959726 <https://bugs.launchpad.net/tripleo/+bug/1959726>`_. ",,21,0
openstack%2Fhorizon~master~I5c8ed10f532f93f73d21755b9c563fe2e64b8f50,openstack/horizon,master,I5c8ed10f532f93f73d21755b9c563fe2e64b8f50,Added ec2 credentials to openstack dashboard * Fix pep8,ABANDONED,2022-06-14 12:03:50.000000000,2022-06-14 13:45:40.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 12:03:50.000000000', 'files': ['openstack_dashboard/dashboards/identity/ec2_credentials/views.py', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/panel.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/forms.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/704419e31c5a650ed432a51a2d89a18af9d61482', 'message': 'Added ec2 credentials to openstack dashboard\n* Fix pep8\n\nChange-Id: I5c8ed10f532f93f73d21755b9c563fe2e64b8f50\n'}]",381,845735,704419e31c5a650ed432a51a2d89a18af9d61482,4,2,1,24679,,,0,"Added ec2 credentials to openstack dashboard
* Fix pep8

Change-Id: I5c8ed10f532f93f73d21755b9c563fe2e64b8f50
",git fetch https://review.opendev.org/openstack/horizon refs/changes/35/845735/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/ec2_credentials/views.py', 'horizon/tables/base.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/forms.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/panel.py', 'openstack_dashboard/dashboards/identity/ec2_credentials/tables.py']",5,704419e31c5a650ed432a51a2d89a18af9d61482,ec2_credentials, tables.DeleteAction):, tables.DeleteAction):,5,13
openstack%2Fkeystone~stable%2Fussuri~I77148641715efe09e3adc2e9432e66e50fb444b4,openstack/keystone,stable/ussuri,I77148641715efe09e3adc2e9432e66e50fb444b4,Fix issue with LDAP backend returning bytes instead of string,MERGED,2022-02-07 09:27:10.000000000,2022-06-14 13:40:12.000000000,2022-06-14 13:38:18.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-07 09:27:10.000000000', 'files': ['keystone/identity/backends/ldap/common.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/256dbe9fe8a7b40dc8f1fd65cc004c92a5721940', 'message': 'Fix issue with LDAP backend returning bytes instead of string\n\nWhen connecting to some LDAP server software, the ldap client returns\nbytes instances instead of the expected strings. This can result in\neither being transparently converted to strings, when the data is\ninserted via sqlalchemy into the database, or could be used as\ninput to other functions, and/or cached, which causes unexpected\nresults.\n\nCloses-Bug: #1952458\nResolves: rhbz#1964872\nChange-Id: I77148641715efe09e3adc2e9432e66e50fb444b4\n(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)\n'}]",1,827964,256dbe9fe8a7b40dc8f1fd65cc004c92a5721940,8,2,1,14250,,,0,"Fix issue with LDAP backend returning bytes instead of string

When connecting to some LDAP server software, the ldap client returns
bytes instances instead of the expected strings. This can result in
either being transparently converted to strings, when the data is
inserted via sqlalchemy into the database, or could be used as
input to other functions, and/or cached, which causes unexpected
results.

Closes-Bug: #1952458
Resolves: rhbz#1964872
Change-Id: I77148641715efe09e3adc2e9432e66e50fb444b4
(cherry picked from commit 1e0cd90191663c100c165d4c6a2b1ca796b5af25)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/64/827964/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/backends/ldap/common.py'],1,256dbe9fe8a7b40dc8f1fd65cc004c92a5721940,fix-ldap-bytes-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," value = v[0] except IndexError: value = None # NOTE(xek): Some LDAP servers return bytes data type # We convert it to string here, so that it is consistent with # the other (SQL) backends. # Bytes data type caused issues in the past, because it could # be cached and then passed into str() method to be used as # LDAP filters, which results in an unexpected b'...' prefix. if isinstance(value, bytes): try: value = value.decode('utf-8') except UnicodeDecodeError: LOG.error(""Error decoding value %r (object id %r)."", value, res[0]) raise obj[k] = value", obj[k] = v[0] except IndexError: obj[k] = None,17,2
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ice012188654cfef7ebdb95630015b656d6fa0032,openstack/tripleo-heat-templates,stable/victoria,Ice012188654cfef7ebdb95630015b656d6fa0032,Use Octavia's own default user_log_format value,ABANDONED,2022-05-06 15:40:13.000000000,2022-06-14 13:34:46.000000000,,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 15:40:13.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/use-octavias-own-user-log-format-default-3e9bb40c678388fc.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b563cf68c3fc9a5a0b97b4fcd4bcd5d8b6a49401', 'message': 'Use Octavia\'s own default user_log_format value\n\nThe HAProxy tenant flow logs are showing ""[ssl_c_s_dn]"" instead of\nthe client certificate DN string because of a bug in the default\nvalue in THT. By using Octavia\'s own default we avoid this.\n\nConflicts:\n\tdeployment/octavia/octavia-base.yaml\n\nChange-Id: Ice012188654cfef7ebdb95630015b656d6fa0032\n(cherry picked from commit 7acb4f490abd1ad58cf6850d6c301322f96cf31a)\n(cherry picked from commit 2cd0a1a5de4a8bcabb06229fe7680d9de3f2efad)\n'}]",3,840928,b563cf68c3fc9a5a0b97b4fcd4bcd5d8b6a49401,8,3,1,34429,,,0,"Use Octavia's own default user_log_format value

The HAProxy tenant flow logs are showing ""[ssl_c_s_dn]"" instead of
the client certificate DN string because of a bug in the default
value in THT. By using Octavia's own default we avoid this.

Conflicts:
	deployment/octavia/octavia-base.yaml

Change-Id: Ice012188654cfef7ebdb95630015b656d6fa0032
(cherry picked from commit 7acb4f490abd1ad58cf6850d6c301322f96cf31a)
(cherry picked from commit 2cd0a1a5de4a8bcabb06229fe7680d9de3f2efad)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/840928/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'releasenotes/notes/use-octavias-own-user-log-format-default-3e9bb40c678388fc.yaml']",2,b563cf68c3fc9a5a0b97b4fcd4bcd5d8b6a49401,,"--- fixes: - | Avoid Octavia HAProxy logs showing ""[ssl_c_s_dn]"" instead of the client certificate DN string. TripleO uses Octavia's own default user_log_format setting now if possible. ",,12,2
openstack%2Ftacker~master~Ic28b5748c8d63d943218d0ac524dcbcfdc06366a,openstack/tacker,master,Ic28b5748c8d63d943218d0ac524dcbcfdc06366a,[DNM] Set different number of instances for same delta and aspectId,NEW,2022-01-21 16:12:14.000000000,2022-06-14 13:21:23.000000000,,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32736}]","[{'number': 1, 'created': '2022-01-21 16:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8353c46bb2b96f7ac349cef2553048ee602c3202', 'message': 'Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels policies with uniform delta"",\nnumber_of_instance of deltas in `VduScalingAspectDeltas`\nis able to have different value even if aspect_id and delta_id.\nThis patch fixes the code which was earlier overwriting the value for same aspect and delta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 2, 'created': '2022-01-21 16:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/50b67f43fe37bc1db7f0d5c7ef575a1b913add5d', 'message': 'Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\neven if aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 3, 'created': '2022-01-21 16:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/35509e35e0ceaa359887a1fc9ad28aa120d2b4be', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\neven if aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 4, 'created': '2022-01-21 16:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4da741dadc6764e1324aca2b28616ceb8734fb88', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 5, 'created': '2022-01-21 18:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/59e2c45e40021bc4fe3092612231eb329ecaa9ea', 'message': 'Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 6, 'created': '2022-01-24 09:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1b9efa898dabd30a6f1259f4b530f1bea812fe96', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 7, 'created': '2022-01-24 12:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8911d10e714ab8e606e5808537fae28e4820577e', 'message': 'Set different number of instances for same delta and aspectId.\n\n[WIP] As per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 8, 'created': '2022-01-24 15:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a5ee3b040cc18d774657fee36545eeb6923acc71', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 9, 'created': '2022-01-25 08:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/367056066115132eb9de4baf76d9d1dae4f9f484', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 10, 'created': '2022-01-25 08:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d3dbdae1572c9dee51bb2cbfa44124badaaa0432', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 11, 'created': '2022-01-25 08:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/850e9962006f1f1e7e67f835d4190b6ccc16eace', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 12, 'created': '2022-01-25 10:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9d37cb74f19444144de114f2baaac9e0ef8b1ec1', 'message': '[WIP] Set different number of instances for same delta and aspectId\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 13, 'created': '2022-01-27 06:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/42b984fe2cab72578e50aaca8544ca6691ab4f0f', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 14, 'created': '2022-01-27 11:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b1729b0a8c9b2d494d3f0e7ce930bd538e306e53', 'message': '[WIP] Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 15, 'created': '2022-01-27 13:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/315bb00243251f8532f3c37a68c38630130c367f', 'message': 'Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\nCloses-Bug: 1906779\n\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 16, 'created': '2022-02-01 06:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8f7d82742a82fa2a316d7f43dce015d6fb66c19e', 'message': 'Set different number of instances for same delta and aspectId.\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\n\nCloses-Bug: 1906779\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 17, 'created': '2022-02-08 14:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b8c1a700ba833ce68e7dabb31410d0a2e7b1fa05', 'message': 'Set different number of instances for same delta and aspectId\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\n\nCloses-Bug: #1906779\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}, {'number': 18, 'created': '2022-06-14 13:20:45.000000000', 'files': ['tacker/vnflcm/utils.py', 'tacker/tests/etc/samples/etsi/nfv/functional8/UserData/lcm_user_data.py', 'tacker/tests/etc/samples/etsi/nfv/functional8/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional8/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional8/Definitions/helloworld3_df_simple.yaml', 'tacker/tosca/utils.py', 'tacker/tests/etc/samples/etsi/nfv/functional8/Definitions/helloworld3_types.yaml', 'tacker/tests/unit/vnfm/tosca/test_utils.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/functional8/UserData/__init__.py', 'tacker/tests/unit/vnflcm/test_utils.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/tests/functional/sol/vnflcm/test_vnf_instance_with_user_data.py', 'tacker/tests/etc/samples/etsi/nfv/functional8/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/etc/samples/etsi/nfv/functional8/BaseHOT/simple/nested/VDU2.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional8/BaseHOT/simple/helloworld3.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/6b492e6e352daa42aac060e7aac2358ff298e4e5', 'message': '[DNM] Set different number of instances for same delta and aspectId\n\nAs per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels\npolicies with uniform delta"",number_of_instance of deltas\nin `VduScalingAspectDeltas`is able to have different value\nfor same aspect_id and delta_id.This patch fixes the code\nwhich was earlier overwriting the value for same aspect and\ndelta id.\n\nCloses-Bug: #1906779\nChange-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a\n'}]",11,825833,6b492e6e352daa42aac060e7aac2358ff298e4e5,40,6,18,34346,,,0,"[DNM] Set different number of instances for same delta and aspectId

As per SOL001(*1) ""A.6.1 ScalingAspect and InstantiationLevels
policies with uniform delta"",number_of_instance of deltas
in `VduScalingAspectDeltas`is able to have different value
for same aspect_id and delta_id.This patch fixes the code
which was earlier overwriting the value for same aspect and
delta id.

Closes-Bug: #1906779
Change-Id: Ic28b5748c8d63d943218d0ac524dcbcfdc06366a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/33/825833/18 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/vnflcm/utils.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/tosca/utils.py']",3,8353c46bb2b96f7ac349cef2553048ee602c3202,, vdu_delta_dict = {vdu_list[0]: delta_num} delta_id_dict[delta_id] = vdu_delta_dict if aspect_id in aspect_delta_dict: existing_delta_id_dict = aspect_delta_dict[aspect_id] if delta_id in existing_delta_id_dict: existing_delta_id_dict[delta_id].update( delta_id_dict[delta_id]) else: aspect_delta_dict[aspect_id].update(delta_id_dict) else: aspect_delta_dict[aspect_id] = delta_id_dict if aspect_id in aspect_vdu_dict: existing_vdu_list = aspect_vdu_dict[aspect_id] vdu_list.extend(existing_vdu_list) # Get delta_num. if delta_id is not None: delta_num = \ aspect_delta_dict.get(aspect_id).get(delta_id).get(vdu), delta_id_dict[delta_id] = delta_num aspect_delta_dict[aspect_id] = delta_id_dict # Get delta_num. if delta_id is not None: delta_num = \ aspect_delta_dict.get(aspect_id).get(delta_id) ,35,10
openstack%2Ftripleo-quickstart-extras~master~I34d93c7f05d4897e3d2e4434d44033bf78461402,openstack/tripleo-quickstart-extras,master,I34d93c7f05d4897e3d2e4434d44033bf78461402,Remove patches from spec with downstream driver,NEW,2022-06-14 09:50:14.000000000,2022-06-14 12:32:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 09:50:14.000000000', 'files': ['roles/build-test-packages/templates/projects.ini.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/554c57169176d209472a661a16b155b799762f86', 'message': 'Remove patches from spec with downstream driver\n\nTo test when using downstream driver.\n\nChange-Id: I34d93c7f05d4897e3d2e4434d44033bf78461402\n'}]",0,845719,554c57169176d209472a661a16b155b799762f86,5,2,1,16312,,,0,"Remove patches from spec with downstream driver

To test when using downstream driver.

Change-Id: I34d93c7f05d4897e3d2e4434d44033bf78461402
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/19/845719/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/templates/projects.ini.j2'],1,554c57169176d209472a661a16b155b799762f86,,"downstream_spec_replace_list=^%global with_doc.+/%global with_doc 0,^%global rhosp.*/%global rhosp 1,^Patch.*/#Patch","downstream_spec_replace_list=^%global with_doc.+/%global with_doc 0,^%global rhosp.*/%global rhosp 1",1,1
openstack%2Fheat~stable%2Fwallaby~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/wallaby,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:38:45.000000000,2022-06-14 12:31:46.000000000,2022-06-14 12:30:13.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 04:38:45.000000000', 'files': ['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bc4e3bb627294629bcd53d05f53ab4a196370b74', 'message': ""Use previous parameter merge strategy\n\nWe don't allow different parameter merge strategies\nin different environment files for a parameter. If\na merge strategy has already been provided in one\nenvironment file, let's use that for subsequent ones\nunless a different merge strategy has been provided.\n\nTask: 45578\nChange-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842\n(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)\n(cherry picked from commit f0507980586711014e28411d53faba30138c3044)\n(cherry picked from commit 66dd43c6555451e4a6f60d82ef8da33cc83f6397)\n""}]",0,845666,bc4e3bb627294629bcd53d05f53ab4a196370b74,8,2,1,9816,,,0,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
(cherry picked from commit f0507980586711014e28411d53faba30138c3044)
(cherry picked from commit 66dd43c6555451e4a6f60d82ef8da33cc83f6397)
",git fetch https://review.opendev.org/openstack/heat refs/changes/66/845666/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py']",2,bc4e3bb627294629bcd53d05f53ab4a196370b74,patches-stable/wallaby,"def get_param_merge_strategy(merge_strategies, param_key, available_strategies=None): if not available_strategies: available_strategies = {} merge_strategy = merge_strategies.get( param_key, available_strategies.get( param_key, env_default)) strategies_in_file, key, available_strategies)","def get_param_merge_strategy(merge_strategies, param_key): merge_strategy = merge_strategies.get(param_key, env_default) strategies_in_file, key)",19,3
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I6f8b4bd15155c5da56ddbb71bf597e292e1adc99,openstack/tripleo-heat-templates,stable/victoria,I6f8b4bd15155c5da56ddbb71bf597e292e1adc99,"[train,ussuri,victoria] Enable cinder RBD deferred deletion",ABANDONED,2022-01-05 20:30:24.000000000,2022-06-14 12:28:15.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 20:30:24.000000000', 'files': ['deployment/cinder/cinder-volume-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1241c944853d9bb92a7c8fc8eca11b9fc3ff0df', 'message': ""[train,ussuri,victoria] Enable cinder RBD deferred deletion\n\nThis patch enables the cinder RBD driver's deferred_deletion feature\nin releases that require it. This is necessary only in train, ussuri\nand victoria, because the feature works differently in wallaby and\nlater releases.\n\nThe patch adds the CephRbdTrashPurgeInterval that was introduced\nin wallaby by I6d560bbd67958ec484248ad0b20ef30f1f9593b8. In wallaby\nthe parameter is used when configuring a deployed ceph cluster, but\nin this patch it configures equivalent functionality in the cinder\nRBD driver. The same THT CephRbdTrashPurgeInterval parameter name\nwas chosen for the sake of consistency.\n\nChange-Id: I6f8b4bd15155c5da56ddbb71bf597e292e1adc99\n""}]",2,823576,e1241c944853d9bb92a7c8fc8eca11b9fc3ff0df,8,2,1,21129,,,0,"[train,ussuri,victoria] Enable cinder RBD deferred deletion

This patch enables the cinder RBD driver's deferred_deletion feature
in releases that require it. This is necessary only in train, ussuri
and victoria, because the feature works differently in wallaby and
later releases.

The patch adds the CephRbdTrashPurgeInterval that was introduced
in wallaby by I6d560bbd67958ec484248ad0b20ef30f1f9593b8. In wallaby
the parameter is used when configuring a deployed ceph cluster, but
in this patch it configures equivalent functionality in the cinder
RBD driver. The same THT CephRbdTrashPurgeInterval parameter name
was chosen for the sake of consistency.

Change-Id: I6f8b4bd15155c5da56ddbb71bf597e292e1adc99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/823576/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-volume-container-puppet.yaml'],1,e1241c944853d9bb92a7c8fc8eca11b9fc3ff0df,cinder-rbd-extra-options," CephRbdTrashPurgeInterval: default: 15 type: string description: | The interval applied to the rbd trash purge scheduler, that can be expressed in minutes. tripleo::profile::base::cinder::volume::rbd::extra_options: backend_defaults/enable_deferred_deletion: value: true backend_defaults/deferred_deletion_purge_interval: value: yaql: expression: int($.data) * 60 data: {get_param: CephRbdTrashPurgeInterval}",,14,0
openstack%2Fzun~master~Icca60d713d004c859ce7b42bea04e2866795f477,openstack/zun,master,Icca60d713d004c859ce7b42bea04e2866795f477,Increase the weight of the scheduling strategy.,NEW,2021-11-30 01:12:14.000000000,2022-06-14 12:25:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 34189}]","[{'number': 1, 'created': '2021-11-30 01:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/215e49696348b81a1355820961dd884e0f112711', 'message': 'Increase the weight of the scheduling strategy.\n\nIn the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Icca60d713d004c859ce7b42bea04e2866795f477\n'}, {'number': 2, 'created': '2021-11-30 01:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/eac0a1481976f731dd0457aaa36cd9a1323a6d8a', 'message': 'Increase the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n\nIn ""zun.scheduler.FilterScheduler._schedule"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=nova.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I5309414a1cf166efeb7b978db763949c5f52ce20\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: If2482eb6a07088212ef340db82ce5851d49662f0\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I42544d2aa308cd5bc679b4ff6134162e1eceb864\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ifb14e0cf7ee69ceea6f52d49257e6eecf121959a\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ie05b83c6a0992ef41f8bfe739672dfb7d7424c90\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ib169da95507e493c8651a713ebbd04b0f56343ab\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I1888c674c58b0cf417938261d476dec08b318dbe\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I84a0bd8bcc6176d711f4c91fc602fcd0d6d938fe\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: If8245cc9c57dc2bf96c3579c350b91d0ff000b65\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I8c0e8ab0f53d343407cffbb00377e65e2e21f0a1\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I11d67a44248c91da02c4a53e0c40ab5b7e534f19\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Iccaee2e4e6277fe1343d6e245c235f736df40363\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I1f0e655f50d6df18adda56a329c941d31e06faf6\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I035ad581392e1e75d7eb69ffba3277cf92c9f9fb\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ie034819ac90c0fca8c0432cf6c538642ddb45c28\n\nIncrease the weight of the scheduling strategy.\n\nIn the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Icca60d713d004c859ce7b42bea04e2866795f477\n'}, {'number': 3, 'created': '2021-11-30 09:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/667c5092580c718b5e6fb765aef81bc1ca46da70', 'message': 'Increase the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n\nIn ""zun.scheduler.FilterScheduler._schedule"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=nova.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I5309414a1cf166efeb7b978db763949c5f52ce20\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: If2482eb6a07088212ef340db82ce5851d49662f0\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I42544d2aa308cd5bc679b4ff6134162e1eceb864\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ifb14e0cf7ee69ceea6f52d49257e6eecf121959a\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ie05b83c6a0992ef41f8bfe739672dfb7d7424c90\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ib169da95507e493c8651a713ebbd04b0f56343ab\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I1888c674c58b0cf417938261d476dec08b318dbe\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I84a0bd8bcc6176d711f4c91fc602fcd0d6d938fe\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: If8245cc9c57dc2bf96c3579c350b91d0ff000b65\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I8c0e8ab0f53d343407cffbb00377e65e2e21f0a1\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I11d67a44248c91da02c4a53e0c40ab5b7e534f19\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Iccaee2e4e6277fe1343d6e245c235f736df40363\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I1f0e655f50d6df18adda56a329c941d31e06faf6\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I035ad581392e1e75d7eb69ffba3277cf92c9f9fb\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ie034819ac90c0fca8c0432cf6c538642ddb45c28\n\nIncrease the weight of the scheduling strategy.\n\nIn the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Icca60d713d004c859ce7b42bea04e2866795f477\n'}, {'number': 4, 'created': '2021-11-30 11:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ff95581f5c78d4ad2e94844265a2ec9f8563cfdb', 'message': 'Increase the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n\nIn ""zun.scheduler.FilterScheduler._schedule"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=nova.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I5309414a1cf166efeb7b978db763949c5f52ce20\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: If2482eb6a07088212ef340db82ce5851d49662f0\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I42544d2aa308cd5bc679b4ff6134162e1eceb864\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ifb14e0cf7ee69ceea6f52d49257e6eecf121959a\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ie05b83c6a0992ef41f8bfe739672dfb7d7424c90\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ib169da95507e493c8651a713ebbd04b0f56343ab\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I1888c674c58b0cf417938261d476dec08b318dbe\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I84a0bd8bcc6176d711f4c91fc602fcd0d6d938fe\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: If8245cc9c57dc2bf96c3579c350b91d0ff000b65\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I8c0e8ab0f53d343407cffbb00377e65e2e21f0a1\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I11d67a44248c91da02c4a53e0c40ab5b7e534f19\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Iccaee2e4e6277fe1343d6e245c235f736df40363\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I1f0e655f50d6df18adda56a329c941d31e06faf6\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: I035ad581392e1e75d7eb69ffba3277cf92c9f9fb\n\nIncrease the weight of the scheduling strategy.\n\nIn the current version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Ie034819ac90c0fca8c0432cf6c538642ddb45c28\n\nIncrease the weight of the scheduling strategy.\n\nIn the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Icca60d713d004c859ce7b42bea04e2866795f477\n'}, {'number': 5, 'created': '2022-05-13 09:33:16.000000000', 'files': ['zun/scheduler/weights/ram.py', 'zun/tests/unit/scheduler/test_filter_scheduler.py', 'test-requirements.txt', 'zun/tests/unit/scheduler/weights/test_weights_ram.py', 'zun/scheduler/weights/__init__.py', 'zun/scheduler/filter_scheduler.py', 'zun/scheduler/weights/cpu.py', 'zun/scheduler/weights/disk.py', 'zun/tests/unit/scheduler/test_weights.py', 'zun/scheduler/utils.py', 'zun/scheduler/weight.py', 'zun/tests/unit/scheduler/weights/test_weights_cpu.py', 'zun/tests/unit/scheduler/weights/test_weights_disk.py', 'zun/scheduler/host_state.py', 'zun/conf/scheduler.py', 'zun/tests/unit/scheduler/weights/__init__.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/ebd2946da82d5cc4b5ad43584738a26d20876279', 'message': 'Increase the weight of the scheduling strategy.\n\nIn the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun\'s overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun\'s scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.\n\nFor the current version, the node hardware configuration of our environment:\n```\ncomputer01\t16H64G7T\tzun-compute\ncomputer02\t16H64G7T\tzun-compute\ncomputer03\t16H64G40T\tnova-compute\ncomputer04\t16H64G7T\tnova-compute\ncontroller01\t16H64G40T\tcontroller\n\n```\nThe ""scheduler"" config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n```\n\nIn ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:\n```\n[\nComputeNode(architecture=\'x86_64\',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,\ndisk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname=\'computer02\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),\nComputeNode(architecture=\'x86_64\',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,\ndisk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname=\'computer01\',kernel_version=\'3.10.0-862.el7.x86_64\',\nlabels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,\nos=\'CentOS Linux 7 (Core)\',os_type=\'linux\',paused_containers=0,pci_device_pools=PciDevicePoolList,\nrp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,\nruntimes=[\'io.containerd.runc.v2\',\'io.containerd.runtime.v1.linux\',\'runc\'],\nstopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)\n]\n```\n\nBut the final selected node is:\n```\ncomputer02 ram: 57234MB disk: 5126GB cpus: 3.0\n```\n\nFinally, the ""scheduler"" sample config of ""zun.conf"" is:\n```\n[scheduler]\ndriver = filter_scheduler\n\navailable_filters = zun.scheduler.filters.all_filters\n\nenabled_filters = CPUFilter\n\nweight_classes=zun.scheduler.weights.all_weighers\n\n```\n\nChange-Id: Icca60d713d004c859ce7b42bea04e2866795f477\n'}]",4,819740,ebd2946da82d5cc4b5ad43584738a26d20876279,21,2,5,34189,,,0,"Increase the weight of the scheduling strategy.

In the latest or train version, the node scheduling strategy only filters the resources, and does not calculate the weight of the nodes, resulting in all containers being created on the same node. Similar to nova, it is mainly to increase the weight calculation of the scheduling strategy, which is very necessary. The impact on zun's overall scheduling process is relatively small. After node filtering, add node weight calculation method, so that zun's scheduling tasks can be distributed to different nodes, making the scheduling strategy more healthy.

For the current version, the node hardware configuration of our environment:
```
computer01	16H64G7T	zun-compute
computer02	16H64G7T	zun-compute
computer03	16H64G40T	nova-compute
computer04	16H64G7T	nova-compute
controller01	16H64G40T	controller

```
The ""scheduler"" config of ""zun.conf"" is:
```
[scheduler]
driver = filter_scheduler

available_filters = zun.scheduler.filters.all_filters

enabled_filters = CPUFilter
```

In ""zun.scheduler.FilterScheduler._schedule()"", we can get node info:
```
[
ComputeNode(architecture='x86_64',cpu_used=13.0,cpus=16,created_at=2021-06-29T21:31:15Z,disk_quota_supported=True,
disk_total=5256,disk_used=130,enable_cpu_pinning=False,hostname='computer02',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=59848,mem_free=57234,mem_total=63890,mem_used=6656,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e,running_containers=13,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=13,total_containers=14,updated_at=2021-11-08T03:47:16Z,uuid=28f40aa4-aec9-4225-b1d3-b040c8adf24e),
ComputeNode(architecture='x86_64',cpu_used=1.0,cpus=16,created_at=2021-06-29T21:31:08Z,disk_quota_supported=True,
disk_total=5356,disk_used=10,enable_cpu_pinning=False,hostname='computer01',kernel_version='3.10.0-862.el7.x86_64',
labels={},mem_available=61946,mem_free=63378,mem_total=63890,mem_used=512,numa_topology=NUMATopology,
os='CentOS Linux 7 (Core)',os_type='linux',paused_containers=0,pci_device_pools=PciDevicePoolList,
rp_uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3,running_containers=1,
runtimes=['io.containerd.runc.v2','io.containerd.runtime.v1.linux','runc'],
stopped_containers=1,total_containers=1,updated_at=2021-11-08T03:47:14Z,uuid=aa5355b2-5ce8-4108-95af-5d724c2d6dc3)
]
```

But the final selected node is:
```
computer02 ram: 57234MB disk: 5126GB cpus: 3.0
```

Finally, the ""scheduler"" sample config of ""zun.conf"" is:
```
[scheduler]
driver = filter_scheduler

available_filters = zun.scheduler.filters.all_filters

enabled_filters = CPUFilter

weight_classes=zun.scheduler.weights.all_weighers

```

Change-Id: Icca60d713d004c859ce7b42bea04e2866795f477
",git fetch https://review.opendev.org/openstack/zun refs/changes/40/819740/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/tests/unit/scheduler/weights/test_weights_ram.py'],1,215e49696348b81a1355820961dd884e0f112711,yyy,,,1,5
openstack%2Ftripleo-puppet-elements~stable%2Fwallaby~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/wallaby,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:58:11.000000000,2022-06-14 12:11:34.000000000,2022-06-14 12:11:34.000000000,"[{'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-09 05:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/d19deedabdc616bc88a7984b6f568ea65f7c64a6', 'message': ""Add sbd and fence-agents-sbd to the list of fence agents\n\nsbd doesn't get pulled in automatically when installing pacemaker\n(anymore?) so we need to have it listed explicitly.\n\nChange-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57\n""}, {'number': 2, 'created': '2022-06-13 14:07:16.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/b238080adfc0a41dbabfb7f72b23911ca80deba0', 'message': ""Add sbd and fence-agents-sbd to the list of fence agents\n\nsbd doesn't get pulled in automatically when installing pacemaker\n(anymore?) so we need to have it listed explicitly.\n\nChange-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57\n(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)\n""}]",4,845194,b238080adfc0a41dbabfb7f72b23911ca80deba0,19,4,2,30126,,,0,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/94/845194/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/pkg-map'],1,d19deedabdc616bc88a7984b6f568ea65f7c64a6,sbd," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute sbd fence-agents-sbd"","," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute"",",1,1
openstack%2Fkuryr-kubernetes~master~I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,openstack/kuryr-kubernetes,master,I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4,Force kvm and host-passthrough for Amphora jobs,MERGED,2022-06-14 08:23:57.000000000,2022-06-14 12:04:56.000000000,2022-06-14 12:02:34.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2022-06-14 08:23:57.000000000', 'files': ['.zuul.d/base.yaml', '.zuul.d/tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d65720cf7434cd2e201415535d316d3189873d9a', 'message': ""Force kvm and host-passthrough for Amphora jobs\n\nWe face general instability of the Amphora jobs that we have. A while\nago we've made sure that these jobs are scheduled on the clouds that\nsupport nested virtualization in order to boost performance of the\nAmphora LB VMs. Now it turns out we haven't configured DevStack to\nactually use kvm instead of qemu, so it's possible that we were still\nrunning these jobs with software virtualization.\n\nThis commit attempts to reconfigure DevStack to actually use kvm and\nnested virtualization.\n\nChange-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4\n""}]",1,845703,d65720cf7434cd2e201415535d316d3189873d9a,9,3,1,11600,,,0,"Force kvm and host-passthrough for Amphora jobs

We face general instability of the Amphora jobs that we have. A while
ago we've made sure that these jobs are scheduled on the clouds that
support nested virtualization in order to boost performance of the
Amphora LB VMs. Now it turns out we haven't configured DevStack to
actually use kvm instead of qemu, so it's possible that we were still
running these jobs with software virtualization.

This commit attempts to reconfigure DevStack to actually use kvm and
nested virtualization.

Change-Id: I57f70c1cb140d4fa54d13b6c759a0179d8adb7b4
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/03/845703/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/base.yaml', '.zuul.d/tempest-jobs.yaml']",2,d65720cf7434cd2e201415535d316d3189873d9a,nested-virt-kvm, LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough,,8,0
openstack%2Fnova~stable%2Fwallaby~Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,openstack/nova,stable/wallaby,Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264,Add service version check workaround for FFU,MERGED,2022-06-01 17:37:12.000000000,2022-06-14 11:58:53.000000000,2022-06-14 11:57:19.000000000,"[{'_account_id': 4393}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-01 17:37:12.000000000', 'files': ['nova/service.py', 'nova/tests/unit/test_service.py', 'nova/api/openstack/wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e8b079a91ee723d0dc45e3d8b80f4efa2c1ce34d', 'message': 'Add service version check workaround for FFU\n\nWe recently added a hard failure to nova service startup for the case\nwhere computes were more than one version old (as indicated by their\nservice record). This helps to prevent starting up new control\nservices when a very old compute is still running. However, during an\nFFU, control services that have skipped multiple versions will be\nstarted and find the older compute records (which could not be updated\nyet due to their reliance on the control services being up) and refuse\nto start. This creates a cross-dependency which is not resolvable\nwithout hacking the database.\n\nThis patch adds a workaround flag to allow turning that hard fail into\na warning to proceed past the issue. This less-than-ideal solution\nis simple and backportable, but perhaps a better solution can be\nimplemented for the future.\n\nRelated-Bug: #1958883\n\nChange-Id: Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264\n(cherry picked from commit 7d2e4815892ddd523c21bf1785cc113981871998)\n(cherry picked from commit 3a5f8924ff42ce3f691f33abf2c2daee88e90fe5)\n'}]",3,844202,e8b079a91ee723d0dc45e3d8b80f4efa2c1ce34d,18,3,1,9708,,,0,"Add service version check workaround for FFU

We recently added a hard failure to nova service startup for the case
where computes were more than one version old (as indicated by their
service record). This helps to prevent starting up new control
services when a very old compute is still running. However, during an
FFU, control services that have skipped multiple versions will be
started and find the older compute records (which could not be updated
yet due to their reliance on the control services being up) and refuse
to start. This creates a cross-dependency which is not resolvable
without hacking the database.

This patch adds a workaround flag to allow turning that hard fail into
a warning to proceed past the issue. This less-than-ideal solution
is simple and backportable, but perhaps a better solution can be
implemented for the future.

Related-Bug: #1958883

Change-Id: Iddbc9b2a13f19cea9a996aeadfe891f4ef3b0264
(cherry picked from commit 7d2e4815892ddd523c21bf1785cc113981871998)
(cherry picked from commit 3a5f8924ff42ce3f691f33abf2c2daee88e90fe5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/844202/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/service.py', 'nova/tests/unit/test_service.py', 'nova/api/openstack/wsgi_app.py', 'nova/tests/unit/api/openstack/test_wsgi_app.py', 'nova/conf/workarounds.py']",5,e8b079a91ee723d0dc45e3d8b80f4efa2c1ce34d,bug/1958883," cfg.BoolOpt('disable_compute_service_check_for_ffu', default=False, help="""""" If this is set, the normal safety check for old compute services will be treated as a warning instead of an error. This is only to be enabled to facilitate a Fast-Forward upgrade where new control services are being started before compute nodes have been able to update their service record. In an FFU, the service records in the database will be more than one version old until the compute nodes start up, but control services need to be online first. """"""),",,64,2
openstack%2Ftempest~master~I4f90bf5e1357992554ced85cd4f75f3fccd73c10,openstack/tempest,master,I4f90bf5e1357992554ced85cd4f75f3fccd73c10,add blank line to code advance,ABANDONED,2022-06-14 11:57:08.000000000,2022-06-14 11:57:59.000000000,,[],"[{'number': 1, 'created': '2022-06-14 11:57:08.000000000', 'files': ['tempest/api/volume/admin/test_volume_types.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f6a0ef072c6f044eb2e1e7cdeb91f32501b9dff', 'message': 'add blank line to code advance\n\nadd blank line to code advance\n\nChange-Id: I4f90bf5e1357992554ced85cd4f75f3fccd73c10\n'}]",0,845732,4f6a0ef072c6f044eb2e1e7cdeb91f32501b9dff,2,0,1,30409,,,0,"add blank line to code advance

add blank line to code advance

Change-Id: I4f90bf5e1357992554ced85cd4f75f3fccd73c10
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/845732/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_types.py'],1,4f6a0ef072c6f044eb2e1e7cdeb91f32501b9dff,master1,,,1,0
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/train,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:58:36.000000000,2022-06-14 11:54:31.000000000,2022-06-14 11:54:31.000000000,"[{'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-09 05:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/a7f87e048ad3084cbddadaaa72e1c27c650c4874', 'message': ""Add sbd and fence-agents-sbd to the list of fence agents\n\nsbd doesn't get pulled in automatically when installing pacemaker\n(anymore?) so we need to have it listed explicitly.\n\nChange-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57\n""}, {'number': 2, 'created': '2022-06-13 14:09:46.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/9f64588ba06842f6478c4fc43f0ec1970806fa67', 'message': ""Add sbd and fence-agents-sbd to the list of fence agents\n\nsbd doesn't get pulled in automatically when installing pacemaker\n(anymore?) so we need to have it listed explicitly.\n\nChange-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57\n(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)\n(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)\n(cherry picked from commit 7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c)\n""}]",1,845195,9f64588ba06842f6478c4fc43f0ec1970806fa67,17,4,2,30126,,,0,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)
(cherry picked from commit 7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/95/845195/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/pkg-map'],1,a7f87e048ad3084cbddadaaa72e1c27c650c4874,sbd," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute sbd fence-agents-sbd"","," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute"",",1,1
openstack%2Ftripleo-puppet-elements~stable%2Fvictoria~If8a40a6fb8aedffcb12e3839a272e2b89e832e57,openstack/tripleo-puppet-elements,stable/victoria,If8a40a6fb8aedffcb12e3839a272e2b89e832e57,Add sbd and fence-agents-sbd to the list of fence agents,MERGED,2022-06-09 05:57:57.000000000,2022-06-14 11:54:29.000000000,2022-06-14 11:54:29.000000000,"[{'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-09 05:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/4698270ee423b38119de59fe20360fa70d4e7309', 'message': ""Add sbd and fence-agents-sbd to the list of fence agents\n\nsbd doesn't get pulled in automatically when installing pacemaker\n(anymore?) so we need to have it listed explicitly.\n\nChange-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57\n""}, {'number': 2, 'created': '2022-06-13 14:08:07.000000000', 'files': ['elements/overcloud-controller/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c', 'message': ""Add sbd and fence-agents-sbd to the list of fence agents\n\nsbd doesn't get pulled in automatically when installing pacemaker\n(anymore?) so we need to have it listed explicitly.\n\nChange-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57\n(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)\n(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)\n""}]",2,845193,7b85576d2eb30ff9f7e278d95ef3ccd22a9f7c8c,15,3,2,30126,,,0,"Add sbd and fence-agents-sbd to the list of fence agents

sbd doesn't get pulled in automatically when installing pacemaker
(anymore?) so we need to have it listed explicitly.

Change-Id: If8a40a6fb8aedffcb12e3839a272e2b89e832e57
(cherry picked from commit a9d7810b3b3bea43dcf29672a047e6d500f1e6de)
(cherry picked from commit b238080adfc0a41dbabfb7f72b23911ca80deba0)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/93/845193/2 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/pkg-map'],1,4698270ee423b38119de59fe20360fa70d4e7309,sbd," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute sbd fence-agents-sbd"","," ""fence_agents_package"": ""fence-agents-redfish fence-agents-ipmilan fence-agents-kdump fence-agents-rhevm fence-agents-compute"",",1,1
openstack%2Ftap-as-a-service~master~I871f72ef4c1e75077ed367a306e4cfbda64474b0,openstack/tap-as-a-service,master,I871f72ef4c1e75077ed367a306e4cfbda64474b0,fix tox python3 overrides,ABANDONED,2018-10-12 09:01:05.000000000,2022-06-14 11:42:43.000000000,,"[{'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 17499}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-10-12 09:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/f8e3f76a18e5b28c879e499a01d64891d9160635', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I871f72ef4c1e75077ed367a306e4cfbda64474b0\n'}, {'number': 2, 'created': '2019-11-28 08:16:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/036c842ac238254465b82e599bf065ef68a1d382', 'message': 'fix tox python3 overrides\n\nWe want to default to running all tox environments under python 3, so\nset the basepython value in each environment.\n\nWe do not want to specify a minor version number, because we do not\nwant to have to update the file every time we upgrade python.\n\nWe do not want to set the override once in testenv, because that\nbreaks the more specific versions used in default environments like\npy35 and py36.\n\nChange-Id: I871f72ef4c1e75077ed367a306e4cfbda64474b0\n'}]",3,609972,036c842ac238254465b82e599bf065ef68a1d382,12,6,2,28543,,,0,"fix tox python3 overrides

We want to default to running all tox environments under python 3, so
set the basepython value in each environment.

We do not want to specify a minor version number, because we do not
want to have to update the file every time we upgrade python.

We do not want to set the override once in testenv, because that
breaks the more specific versions used in default environments like
py35 and py36.

Change-Id: I871f72ef4c1e75077ed367a306e4cfbda64474b0
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/72/609972/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f8e3f76a18e5b28c879e499a01d64891d9160635,,basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3,,8,0
openstack%2Fheat~stable%2Fyoga~I6aee0719b0cdef2b17666a43074c5c18645fc180,openstack/heat,stable/yoga,I6aee0719b0cdef2b17666a43074c5c18645fc180,Log parameters merged,MERGED,2022-06-14 04:30:15.000000000,2022-06-14 11:18:29.000000000,2022-06-14 11:16:59.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 04:30:15.000000000', 'files': ['heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d997d70ca13065d1caf96c06af05d084353ca827', 'message': 'Log parameters merged\n\nThis can help in troubleshooting.\n\nTask: 45579\nChange-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180\n(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)\n'}]",0,845671,d997d70ca13065d1caf96c06af05d084353ca827,8,2,1,9816,,,0,"Log parameters merged

This can help in troubleshooting.

Task: 45579
Change-Id: I6aee0719b0cdef2b17666a43074c5c18645fc180
(cherry picked from commit c0be1f01fd9c208130857efd7c01ece94d4fb0bb)
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/845671/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/common/environment_util.py'],1,d997d70ca13065d1caf96c06af05d084353ca827,patches-stable/yoga,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.debug(""Deep Merging Parameter: %s"", key) LOG.debug(""Merging Parameter: %s"", key) LOG.debug(""Overriding Parameter: %s"", key)",,6,0
openstack%2Fheat~stable%2Fxena~Iec3367667248d0b46196a6d569f3cbb3b200d842,openstack/heat,stable/xena,Iec3367667248d0b46196a6d569f3cbb3b200d842,Use previous parameter merge strategy,MERGED,2022-06-14 04:37:58.000000000,2022-06-14 11:18:15.000000000,2022-06-14 11:16:52.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-14 04:37:58.000000000', 'files': ['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/66dd43c6555451e4a6f60d82ef8da33cc83f6397', 'message': ""Use previous parameter merge strategy\n\nWe don't allow different parameter merge strategies\nin different environment files for a parameter. If\na merge strategy has already been provided in one\nenvironment file, let's use that for subsequent ones\nunless a different merge strategy has been provided.\n\nTask: 45578\nChange-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842\n(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)\n(cherry picked from commit f0507980586711014e28411d53faba30138c3044)\n""}]",0,845664,66dd43c6555451e4a6f60d82ef8da33cc83f6397,8,2,1,9816,,,0,"Use previous parameter merge strategy

We don't allow different parameter merge strategies
in different environment files for a parameter. If
a merge strategy has already been provided in one
environment file, let's use that for subsequent ones
unless a different merge strategy has been provided.

Task: 45578
Change-Id: Iec3367667248d0b46196a6d569f3cbb3b200d842
(cherry picked from commit 94f32ee39f4d705614079bd0ac113cde67dbb7e4)
(cherry picked from commit f0507980586711014e28411d53faba30138c3044)
",git fetch https://review.opendev.org/openstack/heat refs/changes/64/845664/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_common_env_util.py', 'heat/common/environment_util.py']",2,66dd43c6555451e4a6f60d82ef8da33cc83f6397,patches-stable/xena,"def get_param_merge_strategy(merge_strategies, param_key, available_strategies=None): if not available_strategies: available_strategies = {} merge_strategy = merge_strategies.get( param_key, available_strategies.get( param_key, env_default)) strategies_in_file, key, available_strategies)","def get_param_merge_strategy(merge_strategies, param_key): merge_strategy = merge_strategies.get(param_key, env_default) strategies_in_file, key)",19,3
openstack%2Fkayobe-config-dev~stable%2Fxena~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/xena,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:15:09.000000000,2022-06-14 11:02:21.000000000,2022-06-14 11:02:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 08:15:09.000000000', 'files': ['etc/kayobe/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/a267526da91c667eef909affe527463ac60e66d7', 'message': 'Avoid rebooting after disabling SELinux\n\nThis is generally not necessary in development environments, and makes\nfor an awkward development workflow.\n\nChange-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0\n(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)\n'}]",0,845395,a267526da91c667eef909affe527463ac60e66d7,7,3,1,14826,,,0,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/95/845395/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/globals.yml'],1,a267526da91c667eef909affe527463ac60e66d7,,"# SELinux configuration. # Don't reboot after disabling SELinux in all-in-one environments, as Ansible # is typically run directly on the controller. disable_selinux_do_reboot: false ###############################################################################",,7,0
openstack%2Foswin-tempest-plugin~master~Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74,openstack/oswin-tempest-plugin,master,Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74,setup.cfg: Replace dashes with underscores,MERGED,2022-06-04 07:29:59.000000000,2022-06-14 11:01:16.000000000,2022-06-14 11:01:16.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-04 07:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/313e51b34f816c4c17162a907cdd5811015f6beb', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74\n""}, {'number': 2, 'created': '2022-06-14 09:09:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/2cb18192405ea0ef5d7912614a7f629af5762f12', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74\n""}]",2,844682,2cb18192405ea0ef5d7912614a7f629af5762f12,12,2,2,33436,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Idc2841a26f59dc0ba6bf8a24116f5dbcbb059a74
",git fetch https://review.opendev.org/openstack/oswin-tempest-plugin refs/changes/82/844682/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,313e51b34f816c4c17162a907cdd5811015f6beb,,description_file =author_email = info@cloudbasesolutions.com home_page = https://opendev.org/openstack/oswin-tempest-plugin,description-file =author-email = info@cloudbasesolutions.com home-page = https://opendev.org/openstack/oswin-tempest-plugin,3,3
openstack%2Fpuppet-neutron~master~Ib34c67905db31e32653314c8873a938dcbd04ed3,openstack/puppet-neutron,master,Ib34c67905db31e32653314c8873a938dcbd04ed3,Deprecate support for linuxbridge plugin config,MERGED,2022-06-10 00:26:19.000000000,2022-06-14 11:00:53.000000000,2022-06-14 10:59:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-10 00:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/941255739a8326b8a7387527645b802ef80fae57', 'message': 'Deprecate support for linuxbridge plugin config\n\nThe file no longer exists since linuxbridge was integrated to the ml2\nplugin as a mechanism driver.\n\nChange-Id: Ib34c67905db31e32653314c8873a938dcbd04ed3\n'}, {'number': 2, 'created': '2022-06-10 00:35:26.000000000', 'files': ['spec/classes/neutron_config_spec.rb', 'lib/puppet/type/neutron_plugin_linuxbridge.rb', 'manifests/config.pp', 'releasenotes/notes/deprecate-neutron_plugin_linuxbridge-350f4090a187a31e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/959c1cefeea69b65c67670b0ad44376843c9836f', 'message': 'Deprecate support for linuxbridge plugin config\n\nThe file no longer exists since linuxbridge was integrated to the ml2\nplugin as a mechanism driver.\n\nChange-Id: Ib34c67905db31e32653314c8873a938dcbd04ed3\n'}]",0,845309,959c1cefeea69b65c67670b0ad44376843c9836f,9,3,2,9816,,,0,"Deprecate support for linuxbridge plugin config

The file no longer exists since linuxbridge was integrated to the ml2
plugin as a mechanism driver.

Change-Id: Ib34c67905db31e32653314c8873a938dcbd04ed3
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/09/845309/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_config_spec.rb', 'lib/puppet/type/neutron_plugin_linuxbridge.rb', 'manifests/config.pp', 'releasenotes/notes/deprecate-neutron_plugin_linuxbridge-350f4090a187a31e.yaml']",4,941255739a8326b8a7387527645b802ef80fae57,,--- features: - | The ``neutron::config::plugin_linuxbridge_config`` parameter has been deprecated and has no effect. - | The ``neutron_plugin_linuxbridge`` resource type has been deprecated and will be removed in a futrue release. ,,15,11
openstack%2Fkayobe-config-dev~stable%2Fwallaby~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/wallaby,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:15:23.000000000,2022-06-14 10:57:58.000000000,2022-06-14 10:57:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 08:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/03584da9791c412cd96c8f8c6f37f518739975c2', 'message': 'Avoid rebooting after disabling SELinux\n\nThis is generally not necessary in development environments, and makes\nfor an awkward development workflow.\n\nChange-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0\n(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)\n'}, {'number': 2, 'created': '2022-06-13 08:15:47.000000000', 'files': ['etc/kayobe/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/0f67f7e4db9af86bc80d6946b695133b38662ee6', 'message': 'Avoid rebooting after disabling SELinux\n\nThis is generally not necessary in development environments, and makes\nfor an awkward development workflow.\n\nChange-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0\n(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)\n'}]",0,845396,0f67f7e4db9af86bc80d6946b695133b38662ee6,8,2,2,14826,,,0,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/96/845396/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/globals.yml'],1,03584da9791c412cd96c8f8c6f37f518739975c2,,"<<<<<<< HEAD (8c6df7 ironic: use ipmitool retries) ======= # Ansible configuration. # Filter to apply to the setup module when gathering facts. Default is to not # specify a filter. #kayobe_ansible_setup_filter: # Gather subset to apply to the setup module when gathering facts. Default is # to not specify a gather subset. #kayobe_ansible_setup_gather_subset: ############################################################################### # SELinux configuration. # Don't reboot after disabling SELinux in all-in-one environments, as Ansible # is typically run directly on the controller. disable_selinux_do_reboot: false ############################################################################### >>>>>>> CHANGE (05155c Avoid rebooting after disabling SELinux)",,21,0
openstack%2Fkayobe-config-dev~stable%2Fyoga~I7191779c1fb3a192b401886cd591f12c4b0ab2b0,openstack/kayobe-config-dev,stable/yoga,I7191779c1fb3a192b401886cd591f12c4b0ab2b0,Avoid rebooting after disabling SELinux,MERGED,2022-06-13 08:14:58.000000000,2022-06-14 10:57:56.000000000,2022-06-14 10:57:56.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-13 08:14:58.000000000', 'files': ['etc/kayobe/globals.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/23eaac64a2f68b350271fe86fb9010f6cfabd51d', 'message': 'Avoid rebooting after disabling SELinux\n\nThis is generally not necessary in development environments, and makes\nfor an awkward development workflow.\n\nChange-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0\n(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)\n'}]",0,845394,23eaac64a2f68b350271fe86fb9010f6cfabd51d,7,3,1,14826,,,0,"Avoid rebooting after disabling SELinux

This is generally not necessary in development environments, and makes
for an awkward development workflow.

Change-Id: I7191779c1fb3a192b401886cd591f12c4b0ab2b0
(cherry picked from commit 05155c1dcb839da6bd2cf07b71c63a82aae28a65)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/94/845394/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/globals.yml'],1,23eaac64a2f68b350271fe86fb9010f6cfabd51d,,"# SELinux configuration. # Don't reboot after disabling SELinux in all-in-one environments, as Ansible # is typically run directly on the controller. disable_selinux_do_reboot: false ###############################################################################",,7,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,openstack/tripleo-heat-templates,stable/victoria,I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4,Manage octavia flavor in tripleo-ansible,ABANDONED,2022-01-24 16:09:11.000000000,2022-06-14 10:56:40.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 16:09:11.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7b1b46388d10c6d44413ff2bad44a8fdcc92052', 'message': 'Manage octavia flavor in tripleo-ansible\n\nMove the creation of the nova flavor for Octavia in tripleo-ansible, it\nallows us to specifiy the type of the API endpoint we want to use\n(internal endpoint).\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826089\n\nChange-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4\n(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)\n(cherry picked from commit 7cfe7813b63a8882e41413ab70d510f62f1df190)\n'}]",4,826114,b7b1b46388d10c6d44413ff2bad44a8fdcc92052,15,2,1,29244,,,0,"Manage octavia flavor in tripleo-ansible

Move the creation of the nova flavor for Octavia in tripleo-ansible, it
allows us to specifiy the type of the API endpoint we want to use
(internal endpoint).

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/826089

Change-Id: I1cee74c56e110c1840ad3ee5c60dd26ae71c34a4
(cherry picked from commit 9d4d7f9a63f39feffa0d13297c4dd8d3316935e2)
(cherry picked from commit 7cfe7813b63a8882e41413ab70d510f62f1df190)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/826114/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml']",3,b7b1b46388d10c6d44413ff2bad44a8fdcc92052,,, OctaviaFlavorProperties: default: ram : '1024' disk : '3' vcpus: '1' description: Dictionary describing the nova flavor for amphora. type: json OctaviaManageNovaFlavor: default: true description: Configure the nova flavor for the amphora. type: boolean octavia::worker::manage_nova_flavor: {get_param: OctaviaManageNovaFlavor} octavia::worker::nova_flavor_config: {get_param: OctaviaFlavorProperties} container_puppet_tasks: step_5: config_volume: octavia puppet_tags: nova_flavor step_config: | include ::octavia::worker config_image: {get_param: ContainerOctaviaConfigImage} volumes: - /var/lib/config-data/puppet-generated/nova/etc/nova:/etc/nova:ro,20,22
openstack%2Ftripleo-ansible~stable%2Fvictoria~I4554fc54c096be32b85d66030d8b2fc892e595bb,openstack/tripleo-ansible,stable/victoria,I4554fc54c096be32b85d66030d8b2fc892e595bb,Ensure ceph_ansible_playbook_verbosity is an integer,ABANDONED,2022-06-07 11:41:19.000000000,2022-06-14 10:43:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-06-07 11:41:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/391251c8591bde763e8c6fb27a75479ab0485044', 'message': 'Ensure ceph_ansible_playbook_verbosity is an integer\n\nThis patch is going directly into stable/wallaby because\nthis role was deprecated in that release and removed in\nthe next release.\n\nChange-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb\nCloses-Bug: #1976122\n(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)\n'}]",2,844935,391251c8591bde763e8c6fb27a75479ab0485044,8,2,1,18002,,,0,"Ensure ceph_ansible_playbook_verbosity is an integer

This patch is going directly into stable/wallaby because
this role was deprecated in that release and removed in
the next release.

Change-Id: I4554fc54c096be32b85d66030d8b2fc892e595bb
Closes-Bug: #1976122
(cherry picked from commit 4f84847a8d734158588972e32ce58ec5ec2846f9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/844935/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'],1,391251c8591bde763e8c6fb27a75479ab0485044,bug/1976122-stable/victoria," - '-{%- for number in range(0, ceph_ansible_playbook_verbosity|int) -%}v{% endfor %}'"," - '-{%- for number in range(0, ceph_ansible_playbook_verbosity) -%}v{% endfor %}'",1,1
openstack%2Ftripleo-validations~stable%2Fvictoria~Ie268e91341610dad36c3ddc79496cc174f732900,openstack/tripleo-validations,stable/victoria,Ie268e91341610dad36c3ddc79496cc174f732900,Validate libvirtd is not running on the undercloud,ABANDONED,2022-03-03 14:19:33.000000000,2022-06-14 10:41:19.000000000,,"[{'_account_id': 4571}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-03 14:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/622aee3426b9808d7dbc4a2751000c6c6360b32c', 'message': 'Validate libvirtd is not running on the undercloud\n\nValidate libvirtd is not running on the undercloud as its dnsmasq\nprocess is conflicting with ironic-inspector dnsmasq process.\n\nChange-Id: Ie268e91341610dad36c3ddc79496cc174f732900\n(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)\n'}, {'number': 2, 'created': '2022-04-28 14:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4c1f046841fc6a06aee3d18a1a55c45005a618fc', 'message': 'Validate libvirtd is not running on the undercloud\n\nValidate libvirtd is not running on the undercloud as its dnsmasq\nprocess is conflicting with ironic-inspector dnsmasq process.\n\nChange-Id: Ie268e91341610dad36c3ddc79496cc174f732900\n(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)\n'}, {'number': 3, 'created': '2022-05-11 06:58:38.000000000', 'files': ['playbooks/undercloud-disabled-services.yaml', 'roles/undercloud_disabled_services/defaults/main.yml', 'roles/undercloud_disabled_services/tasks/main.yml', 'doc/source/roles/role-undercloud_disabled_services.rst', 'roles/undercloud_disabled_services/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/25c8bf602cb02ac972310b8e507e1811e0d51caa', 'message': 'Validate libvirtd is not running on the undercloud\n\nValidate libvirtd is not running on the undercloud as its dnsmasq\nprocess is conflicting with ironic-inspector dnsmasq process.\n\nChange-Id: Ie268e91341610dad36c3ddc79496cc174f732900\n(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)\n'}]",5,831757,25c8bf602cb02ac972310b8e507e1811e0d51caa,14,2,3,7130,,,0,"Validate libvirtd is not running on the undercloud

Validate libvirtd is not running on the undercloud as its dnsmasq
process is conflicting with ironic-inspector dnsmasq process.

Change-Id: Ie268e91341610dad36c3ddc79496cc174f732900
(cherry picked from commit 30b234a45c45fff2b49f94efef2d0de31fad2c5e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/831757/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/undercloud-disabled-services.yaml', 'roles/undercloud_disabled_services/defaults/main.yml', 'doc/source/roles/role-undercloud_disabled_services.rst', 'roles/undercloud_disabled_services/tasks/main.yml', 'roles/undercloud_disabled_services/vars/main.yaml']",5,622aee3426b9808d7dbc4a2751000c6c6360b32c,libvirt_validation-stable/wallaby-stable/victoria,--- metadata: name: Verify undercloud services state before running update or upgrade description: > Check undercloud status before running a stack update - especially minor update and major upgrade. groups: - post-upgrade - pre-upgrade ,,57,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a,openstack/tripleo-heat-templates,stable/victoria,Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a,DNM testing tripleo-ci/+/822482,ABANDONED,2021-12-22 14:15:55.000000000,2022-06-14 10:00:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-22 14:15:55.000000000', 'files': ['ci/environments/scenario000-multinode-containers.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45b55219784030a045180d5568b998b18e8c9be3', 'message': 'DNM testing tripleo-ci/+/822482\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/822482\nChange-Id: Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a\n'}]",0,822707,45b55219784030a045180d5568b998b18e8c9be3,5,2,1,8449,,,0,"DNM testing tripleo-ci/+/822482

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/822482
Change-Id: Id04d1c45e37b6bd1e890d1cf34f17b12b52b034a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/822707/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario000-multinode-containers.yaml', 'zuul.d/layout.yaml']",2,45b55219784030a045180d5568b998b18e8c9be3,lp1946659,, - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - tripleo-periodic-upgrades-victoria-pipeline - tripleo-ci-centos-8-containers-undercloud-minion: &undercloud_minion vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^sample-env-generator/undercloud-minion.yaml - ^environments/undercloud/undercloud-minion.yaml - ^deployment/undercloud/minion-rabbitmq-puppet.yaml - tripleo-ci-centos-8-containers-undercloud-minion: *undercloud_minion,1,17
