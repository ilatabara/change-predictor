id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpbr~master~I493e88985d2c4d09612fea4d20d8ffa20043a0cb,openstack/pbr,master,I493e88985d2c4d09612fea4d20d8ffa20043a0cb,Add support for virtualenv 20.x,MERGED,2020-04-14 13:50:37.000000000,2020-08-06 08:25:08.000000000,2020-08-06 00:58:23.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-14 13:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/eb8f7ccf6c62ad625086dcd003254dbc451f7c1f', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-06-16 16:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/cd367725d7e3cee12502e22d2cf76866fa27798d', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2020-06-30 16:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/82886f74bab182970d772f643b627b0c0a04a3a5', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2020-06-30 17:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/7c16aa0c469f02c381b45d446d6d2a90cf4f1587', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2020-06-30 18:04:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/224730638817ef29d5fd99c50b228801a6138bd2', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 6, 'created': '2020-07-01 09:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/3d4fd9b2eb19a7bf2b303b5569f8f2479b0ab69f', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 7, 'created': '2020-07-01 14:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/edfd533789e13f5dbeefefde8a1317b221d77d04', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 8, 'created': '2020-07-02 08:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/d00cc4da187e32657c9068f6a579709678f66fe5', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 9, 'created': '2020-07-02 10:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/f96874d2c372e52aea53ff923654a919dc19224a', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 10, 'created': '2020-08-05 16:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/f234afcc6caffeef0a0fed5dc41d9f2e7eeb58e6', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 11, 'created': '2020-08-05 20:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/e6ee9027a9bae25200e1db939aa6ddba949dc72b', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 12, 'created': '2020-08-05 20:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a7fd359227e2fca0f154b71fd4652e8eb8a68848', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 13, 'created': '2020-08-05 20:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/009455f9ed2d5576771948db58044227c86e8c15', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 14, 'created': '2020-08-05 21:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/4a377863bb73b670105af1673f007d0267ad7e52', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}, {'number': 15, 'created': '2020-08-05 22:01:27.000000000', 'files': ['tools/integration.sh', 'pbr/tests/test_core.py', 'pbr/tests/test_integration.py', 'test-requirements.txt', 'pbr/tests/test_packaging.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/73c11c626726ddadc0f43a57e5b7007236da38c5', 'message': 'Add support for virtualenv 20.x\n\nvirtualenv is undergoing a rewrite and has changed how the programmatic\nAPI works [1]. Switch to the ""new way"".\n\nWhile we\'re here, we also need to get Python 2.7 tests passing again.\nThat requires dropping support for upper-constraints and using our own,\nlimited local constraints based on supported Python versions. We also\nneed to migrate integration tests since those run with Python 3 now.\nUpdate the scenarios for pip/setuptools in integration testing\nsimilarly. Finally clean up the installation of all devstack repos as\nrequirements are managed different now. Instead of worrying about\nsyncing them we use constraints.\n\n[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492\n\nChange-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nDepends-On: https://review.opendev.org/739014\n'}]",10,719964,73c11c626726ddadc0f43a57e5b7007236da38c5,54,6,15,15334,,,0,"Add support for virtualenv 20.x

virtualenv is undergoing a rewrite and has changed how the programmatic
API works [1]. Switch to the ""new way"".

While we're here, we also need to get Python 2.7 tests passing again.
That requires dropping support for upper-constraints and using our own,
limited local constraints based on supported Python versions. We also
need to migrate integration tests since those run with Python 3 now.
Update the scenarios for pip/setuptools in integration testing
similarly. Finally clean up the installation of all devstack repos as
requirements are managed different now. Instead of worrying about
syncing them we use constraints.

[1] https://github.com/pypa/virtualenv/issues/1585#issuecomment-585228492

Change-Id: I493e88985d2c4d09612fea4d20d8ffa20043a0cb
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Depends-On: https://review.opendev.org/739014
",git fetch https://review.opendev.org/openstack/pbr refs/changes/64/719964/7 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'pbr/tests/test_packaging.py']",2,eb8f7ccf6c62ad625086dcd003254dbc451f7c1f,trivial, virtualenv.cli_run([path])," virtualenv.create_environment(path, clear=True)",2,2
openstack%2Fwatcher-tempest-plugin~master~I175b41351f4f34ee2a4916dda2f610bc7716d9c3,openstack/watcher-tempest-plugin,master,I175b41351f4f34ee2a4916dda2f610bc7716d9c3,[goal] Migrate watcher-tempest-plugin jobs to focal,MERGED,2020-07-30 21:42:40.000000000,2020-08-06 08:22:50.000000000,2020-08-06 08:22:50.000000000,"[{'_account_id': 8556}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-07-30 21:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/499395257490b6f94692872e8d5cac7ba796f6e7', 'message': '[goal] Migrate watcher-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I175b41351f4f34ee2a4916dda2f610bc7716d9c3\nStory: #2007865\nTask: #40227\n'}, {'number': 2, 'created': '2020-07-31 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/e1f2f0fc7bd1bc3bab788ed728df1b2ac673bc0d', 'message': '[goal] Migrate watcher-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I175b41351f4f34ee2a4916dda2f610bc7716d9c3\nStory: #2007865\nTask: #40227\n'}, {'number': 3, 'created': '2020-07-31 22:16:06.000000000', 'files': ['test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/7fbabcafa39e99b58aeb542214ebd44272bc54ab', 'message': '[goal] Migrate watcher-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nChange-Id: I175b41351f4f34ee2a4916dda2f610bc7716d9c3\nStory: #2007865\nTask: #40227\n'}]",0,744064,7fbabcafa39e99b58aeb542214ebd44272bc54ab,13,4,3,8556,,,0,"[goal] Migrate watcher-tempest-plugin jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.


[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Change-Id: I175b41351f4f34ee2a4916dda2f610bc7716d9c3
Story: #2007865
Task: #40227
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/64/744064/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,499395257490b6f94692872e8d5cac7ba796f6e7,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic,,3,0
openstack%2Frpm-packaging~stable%2Fussuri~Idfb713e231910f32619f68afff81d5b9b6c3654e,openstack/rpm-packaging,stable/ussuri,Idfb713e231910f32619f68afff81d5b9b6c3654e,Ussuri: July Updates,MERGED,2020-08-05 12:06:41.000000000,2020-08-06 08:18:42.000000000,2020-08-06 08:18:41.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 12:06:41.000000000', 'files': ['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/00304d00f9c2be06e9b4e7aa8b59dcece9db5941', 'message': 'Ussuri: July Updates\n\nChange-Id: Idfb713e231910f32619f68afff81d5b9b6c3654e\n'}]",0,744895,00304d00f9c2be06e9b4e7aa8b59dcece9db5941,9,5,1,6593,,,0,"Ussuri: July Updates

Change-Id: Idfb713e231910f32619f68afff81d5b9b6c3654e
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/744895/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2']",4,00304d00f9c2be06e9b4e7aa8b59dcece9db5941,,{% set upstream_version = upstream_version('3.1.1') %},{% set upstream_version = upstream_version('3.1.0') %},4,4
openstack%2Fwatcher~stable%2Frocky~I7c0ca760a7fa414faca03c5293df34a84aad6fac,openstack/watcher,stable/rocky,I7c0ca760a7fa414faca03c5293df34a84aad6fac,Watcher API supports strategy name when creating audit template,MERGED,2020-08-03 09:41:59.000000000,2020-08-06 08:15:24.000000000,2020-08-06 08:15:24.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-08-03 09:41:59.000000000', 'files': ['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/7c90c9c752db0a0fcb0fcca84d4b2f809012874a', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nCloses-Bug: #1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n(cherry picked from commit 3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5)\n'}]",0,744431,7c90c9c752db0a0fcb0fcca84d4b2f809012874a,7,3,1,31455,,,0,"Watcher API supports strategy name when creating audit template

when directly using the `curl` command to create audit template,
strategy name can be accepted.

Closes-Bug: #1884174

Change-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac
(cherry picked from commit 3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/31/744431/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py']",2,7c90c9c752db0a0fcb0fcca84d4b2f809012874a,bug/1884174-stable/rocky," try: if (common_utils.is_uuid_like(audit_template.strategy) or common_utils.is_int_like(audit_template.strategy)): strategy = objects.Strategy.get( AuditTemplatePostType._ctx, audit_template.strategy) else: strategy = objects.Strategy.get_by_name( AuditTemplatePostType._ctx, audit_template.strategy) except Exception: available_strategies = objects.Strategy.list( AuditTemplatePostType._ctx)", available_strategies = objects.Strategy.list( AuditTemplatePostType._ctx) available_strategies_map = { s.uuid: s for s in available_strategies} if audit_template.strategy not in available_strategies_map: strategy = available_strategies_map[audit_template.strategy],40,6
openstack%2Frpm-packaging~stable%2Ftrain~I783ac8dfa4950141497921888b591c8b323bd296,openstack/rpm-packaging,stable/train,I783ac8dfa4950141497921888b591c8b323bd296,Train Updates (july 2020),MERGED,2020-08-05 12:05:02.000000000,2020-08-06 08:12:48.000000000,2020-08-06 08:12:47.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 12:05:02.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/os-win/os-win.spec.j2', 'openstack/python-neutronclient/python-neutronclient.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a82162e1c05e5deca3ce08936382a50d60ce37b5', 'message': 'Train Updates (july 2020)\n\nChange-Id: I783ac8dfa4950141497921888b591c8b323bd296\n'}]",0,744894,a82162e1c05e5deca3ce08936382a50d60ce37b5,9,5,1,6593,,,0,"Train Updates (july 2020)

Change-Id: I783ac8dfa4950141497921888b591c8b323bd296
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/744894/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/neutron-lib/neutron-lib.spec.j2', 'openstack/os-win/os-win.spec.j2', 'openstack/python-neutronclient/python-neutronclient.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/python-glanceclient/python-glanceclient.spec.j2', 'openstack/oslo.context/oslo.context.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/oslo.policy/oslo.policy.spec.j2']",12,a82162e1c05e5deca3ce08936382a50d60ce37b5,,{% set upstream_version = upstream_version('2.3.4') %},{% set upstream_version = upstream_version('2.3.3') %},12,12
openstack%2Fwatcher-specs~master~Icac8fd3e5736a374cde026a42f0fe9195e30fdac,openstack/watcher-specs,master,Icac8fd3e5736a374cde026a42f0fe9195e30fdac,Specificiation for time series framework and analysis,MERGED,2020-06-14 13:56:21.000000000,2020-08-06 07:53:01.000000000,2020-08-06 07:50:01.000000000,"[{'_account_id': 5575}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30623}, {'_account_id': 32161}]","[{'number': 1, 'created': '2020-06-14 13:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/4e6896923a24431a399a6fdc0ce19fd1f92e02a3', 'message': 'Specificiation for time series framework and analysis\n\nIntroduces a specification which would allow for more intricate analysis\nby strategies using simple time series analysis.\n\nChange-Id: Icac8fd3e5736a374cde026a42f0fe9195e30fdac\n'}, {'number': 2, 'created': '2020-07-01 06:16:27.000000000', 'files': ['specs/victoria/approved/time-series-framework.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/2cf70bd7657146df6aa22097df51cb896196a516', 'message': 'Specificiation for time series framework and analysis\n\nIntroduces a specification which would allow for more intricate analysis\nby strategies using simple time series analysis.\n\nChange-Id: Icac8fd3e5736a374cde026a42f0fe9195e30fdac\n'}]",10,735464,2cf70bd7657146df6aa22097df51cb896196a516,17,8,2,29911,,,0,"Specificiation for time series framework and analysis

Introduces a specification which would allow for more intricate analysis
by strategies using simple time series analysis.

Change-Id: Icac8fd3e5736a374cde026a42f0fe9195e30fdac
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/64/735464/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/approved/time-series-framework.rst'],1,4e6896923a24431a399a6fdc0ce19fd1f92e02a3,time-series-framework,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================== Time Series Framework ===================== https://blueprints.launchpad.net/watcher/+spec/time-series-framework Strategies are currently limited to obtain information about metrics in an aggregated form for the most recent measurements. This limits what strategies can achieve as they are unable to retrieve information about past occurrences or information about periodic patterns. Currently, an audit will have to be launched at the same time a specific situation is occurring in order for the strategy to be able to identify this. A time series framework will allow datasources to provide metrics over specific periods without aggregation, allowing strategies to detect periodic patterns such as a weekly contention and resolve these accordingly. Problem description =================== Strategies can only obtain metrics about the current state and not retrieve any metrics over specific periods, in addition, strategies can only obtain an aggregated value over the entire period instead of obtaining a time series. Effectively, this limits the usability of strategies as they are unable to detect any periodic patterns or resolves issues which occur sporadically. Combined with that it generally takes a long time to run an audit this complicates detecting problems. Use Cases ---------- - As a user I want strategies to detect current and past problems and optimize the infrastructure accordingly. - As a developer I want to make more effective strategies that can detect periodic patterns and make more informed decisions. - As a developer I want to develop an external machine learning component to integrate with Watcher but still use already existing components of Watcher effectively. Proposed change =============== To enable time series the datasource base class will need a new method. This method will allow metrics to be retrieved over a specific period with a specific granularity. This method will return a list of values according to the supplied parameters and will subsequently be implemented by all current datasources. In addition, a new class will be added that can utilize a datasource to perform time series analysis. Features will include, decomposing trends, periodic variations (daily, weekly, seasonal) and irregular variations (residuals). As well as determining the stationarity. Any machine learning aspects such as predicting future values through models like ARIMA will **not** be part of this time series class. A best effort should be made to find a lightweight library that implements the desired time series functionality as libraries such as `numpy`_ or `scikit-learn`_ are particularly large and offer substantially more functionality than is required. If no suitable library can be found the functionality will be implemented without the use of a third-party library. .. _numpy: https://numpy.org/ .. _scikit-learn: https://scikit-learn.org/stable/index.html Alternatives ------------ - The time series analysis along with any potential machine learning features could in its entirety be developed as an external service that integrates with Watcher. This would allow the use of libraries such as numpy and scikit-learn as they are very likely desired dependencies in a machine learning service. The time series method for datasources will still have to be implemented but the class for time series decomposition can be removed. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Collecting lists of values instead of single values per node and or instance can significantly increase the memory consumption of Watcher. Especially, when audits are run for large collections of nodes and instances. Additionally, the transmission of all this data could potentially be a bottleneck if executed sequentially. For this the time series class could utilize the `decision-engine threadpool`_ to execute multiple requests in parallel. .. _decision-engine threadpool: https://docs.openstack.org/watcher/latest/contributor/concurrency.html Other deployer impact --------------------- None Developer impact ---------------- This change will expose a new method in datasources which could potentially be used to enable machine learning features in external projects that integrate with Watcher. Implementation ============== Assignee(s) ----------- Primary assignee: <dantalion> Work Items ---------- - Introduce new method to datasource baseclass - Implement new base method in all datasources - Evaluate available lightweight time series libraries - Implement simple time series class Dependencies ============ * Potentially a new lightweight time series library will be added as dependency. Testing ======= - Unit tests for the new method such as validating the specified period - Unit tests to verify the time series decompositions using known dummy data - Unit tests to verify stationarity using known dummy data. - Possible integration tests for testing the retrieval of time series metrics from datasources. Documentation Impact ==================== No additional documentation is required apart from documenting newly introduced methods and classes. References ========== - `decision-engine threadpool`_ - `numpy`_ - `scikit-learn`_ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Victoria - Introduced ",,200,0
openstack%2Fvitrage~master~Ie74e4f1160643808a5772329c6388c4469633fd5,openstack/vitrage,master,Ie74e4f1160643808a5772329c6388c4469633fd5,Update cli doc: Add vitrage-purge-data.rst,MERGED,2020-08-06 06:40:00.000000000,2020-08-06 07:46:29.000000000,2020-08-06 07:43:26.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-06 06:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/b8653d1357797b588b79f5564918f918bb2e7d51', 'message': ""Update cli doc: Add vitrage-purge-data.rst\n\nIn this section that only have 'vitrage-status'  on Vitrage’s command line\ninterface.It is easy to use the cli interface of 'vitrage-purge-data' to clear\ntables, so I added this part of the document.\n\nChange-Id: Ie74e4f1160643808a5772329c6388c4469633fd5\n""}, {'number': 2, 'created': '2020-08-06 06:53:46.000000000', 'files': ['doc/source/cli/index.rst', 'doc/source/cli/vitrage-purge-data.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7d71e9723958d38ed4b9512aa90d7032d6d9565b', 'message': ""Update cli doc: Add vitrage-purge-data.rst\n\nIn this section that only have 'vitrage-status'  on Vitrage’s command line\ninterface.It is easy to use the cli interface of 'vitrage-purge-data' to clear\ntables, so I added this part of the document.\n\nChange-Id: Ie74e4f1160643808a5772329c6388c4469633fd5\n""}]",1,745072,7d71e9723958d38ed4b9512aa90d7032d6d9565b,10,2,2,30408,,,0,"Update cli doc: Add vitrage-purge-data.rst

In this section that only have 'vitrage-status'  on Vitrage’s command line
interface.It is easy to use the cli interface of 'vitrage-purge-data' to clear
tables, so I added this part of the document.

Change-Id: Ie74e4f1160643808a5772329c6388c4469633fd5
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/72/745072/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/index.rst', 'doc/source/cli/vitrage-purge-data.rst']",2,b8653d1357797b588b79f5564918f918bb2e7d51,doc-cli,============== vitrage-purge-data ============== ----------------------------------------- CLI interface for Vitrage Purge Data commands ----------------------------------------- Synopsis ======== :: vitrage-purge-data --config-file [<args>] Description =========== :program:`vitrage-purge-data` is a tool that provides routines for clearing the data of a Vitrage deployment tables. Options ======= The standard pattern for executing a :program:`vitrage-purge-data` command is:: vitrage-purge-data --config-file /etc/vitrage/vitrage.conf The section describe those tables that are emptied after executing the command **Related Tables** .. list-table:: :widths: 20 80 :header-rows: 1 * - Number - Table Name * - 1 - active_actions * - 2 - events * - 3 - graph_snapshots * - 4 - changes * - 5 - edges * - 6 - alarms ,,52,0
openstack%2Fopenstack-ansible-os_masakari~master~I5b5db9f15b4d6efd139e25e03f47856875b907b6,openstack/openstack-ansible-os_masakari,master,I5b5db9f15b4d6efd139e25e03f47856875b907b6,Add CentOS 8 support,MERGED,2020-07-02 21:17:45.000000000,2020-08-06 07:42:23.000000000,2020-08-06 01:28:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 21:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/6dcb880401a581ceb5a0e9a30e79352762d5876f', 'message': 'Add CentOS 8 support\n\nDepends-On: https://review.opendev.org/689629\nDepends-On: https://review.opendev.org/739146\nChange-Id: I5b5db9f15b4d6efd139e25e03f47856875b907b6\n'}, {'number': 2, 'created': '2020-07-09 13:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/b629dd0a61af994040bc6f86d3b64be82de67680', 'message': 'Add CentOS 8 support\n\nDepends-On: https://review.opendev.org/739146\nChange-Id: I5b5db9f15b4d6efd139e25e03f47856875b907b6\n'}, {'number': 3, 'created': '2020-08-04 10:14:26.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/9a80d520bdba292c9d7ea21eff5de722a07e620f', 'message': 'Add CentOS 8 support\n\nChange-Id: I5b5db9f15b4d6efd139e25e03f47856875b907b6\n'}]",0,739148,9a80d520bdba292c9d7ea21eff5de722a07e620f,43,4,3,28619,,,0,"Add CentOS 8 support

Change-Id: I5b5db9f15b4d6efd139e25e03f47856875b907b6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/48/739148/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,6dcb880401a581ceb5a0e9a30e79352762d5876f,osa/el8,,,0,0
openstack%2Fpuppet-placement~master~I42506c1c4395f547691b7d527329ffefd6bea3d9,openstack/puppet-placement,master,I42506c1c4395f547691b7d527329ffefd6bea3d9,Add support for the state_path parameter,MERGED,2020-08-04 01:56:05.000000000,2020-08-06 07:41:50.000000000,2020-08-06 07:38:59.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 01:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/9d7bbd92b2c22dfddb970008728be613b4abfb7b', 'message': 'Add support for state_path parameter\n\nChange-Id: I42506c1c4395f547691b7d527329ffefd6bea3d9\n'}, {'number': 2, 'created': '2020-08-04 01:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/0acad582ead4c15b40c1c35a1cf913eb0e381c9b', 'message': 'Add support for the state_path parameter\n\nChange-Id: I42506c1c4395f547691b7d527329ffefd6bea3d9\n'}, {'number': 3, 'created': '2020-08-04 03:48:13.000000000', 'files': ['spec/classes/placement_init_spec.rb', 'manifests/init.pp', 'releasenotes/notes/state_path-d656b10e4ad97f39.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/fdd8011284d0a2f5c7088a39513eada159fd5208', 'message': 'Add support for the state_path parameter\n\nChange-Id: I42506c1c4395f547691b7d527329ffefd6bea3d9\n'}]",0,744588,fdd8011284d0a2f5c7088a39513eada159fd5208,11,3,3,9816,,,0,"Add support for the state_path parameter

Change-Id: I42506c1c4395f547691b7d527329ffefd6bea3d9
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/88/744588/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_init_spec.rb', 'manifests/init.pp', 'releasenotes/notes/state_path-d656b10e4ad97f39.yaml']",3,9d7bbd92b2c22dfddb970008728be613b4abfb7b,state_path,--- features: - | The new ``placemaner::state_path`` parameter has been added to specify the directory for storing state. ,,13,0
openstack%2Fwatcher-dashboard~master~Iba1a0839df825fe03e1234229e141ec84ea0754d,openstack/watcher-dashboard,master,Iba1a0839df825fe03e1234229e141ec84ea0754d,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:33:25.000000000,2020-08-06 07:35:37.000000000,2020-08-06 07:33:16.000000000,"[{'_account_id': 8556}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 03:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/04955df823de875a4eb8c6296afa22b105745e50', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40227\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Iba1a0839df825fe03e1234229e141ec84ea0754d\n'}, {'number': 2, 'created': '2020-08-04 06:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/a3405f50e87c3f408d92b7cbf5dad593398b15f3', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40227\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Iba1a0839df825fe03e1234229e141ec84ea0754d\n'}, {'number': 3, 'created': '2020-08-04 07:26:50.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/a72fd198c9f6bfe614ab2d1aae6ffc70857fcda8', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40227\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: Iba1a0839df825fe03e1234229e141ec84ea0754d\n'}]",0,744625,a72fd198c9f6bfe614ab2d1aae6ffc70857fcda8,15,4,3,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

Story: #2007865
Task: #40227

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: Iba1a0839df825fe03e1234229e141ec84ea0754d
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/25/744625/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,04955df823de875a4eb8c6296afa22b105745e50,migrate-to-focal,#test focal,,1,0
openstack%2Fopenstack-helm-infra~master~I50bc9fa6b9b79050eddf7824195a781c43aabadd,openstack/openstack-helm-infra,master,I50bc9fa6b9b79050eddf7824195a781c43aabadd,[WIP] Helm chart for sriov-cni plugin,ABANDONED,2019-04-08 14:04:51.000000000,2020-08-06 06:44:22.000000000,,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 27589}, {'_account_id': 31190}]","[{'number': 1, 'created': '2019-04-08 14:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb2ca218318636b6f5c6a9f3273ba1a1010d9821', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 2, 'created': '2019-10-22 13:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75b58cec46d86c4d2c4648a4195164ca449cf8db', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 3, 'created': '2019-10-22 13:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/befb00b0c1ef96816b01e069c700713c08d5ff4e', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 4, 'created': '2019-10-22 14:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/88a67b785a096c615cb8f4088156a2df0edd7877', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 5, 'created': '2019-10-23 11:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b47a0a65fdf464cdc42659f3f9daca0b33ea7d0', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 6, 'created': '2020-01-17 08:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/38a6f6e6c410b3c6b0001172b1566524d86ddda6', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 7, 'created': '2020-01-21 07:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03e6316d6a76a5c7f8e313266ecb33968d80cc86', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 8, 'created': '2020-01-21 10:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8bf64c5493996c0e12d44241e3583514c5703b73', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 9, 'created': '2020-01-21 12:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24d975e92512cd2bdc18637cb0c35390c697b0b4', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 10, 'created': '2020-01-21 16:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c79bdea95cd40d7e85ac5b712aef301d4694bb37', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 11, 'created': '2020-01-22 04:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16abccab853fa07287cf6156fd5028cf8b9fafa3', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}, {'number': 12, 'created': '2020-04-14 15:28:06.000000000', 'files': ['sriov/templates/sriov-net-attach-def-sriov.yaml', 'sriov/requirements.yaml', 'sriov/Chart.yaml', 'sriov/templates/sriov-cni-ds.yaml', 'sriov/templates/sriov-dp-ds.yaml', 'sriov/values.yaml', 'sriov/.helmignore', 'sriov/templates/configmap-sdp.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f1abb6ade025d10f33e0d6fbc342686f7398f3e7', 'message': '[WIP] Helm chart for sriov-cni plugin\n\nHelm chart to deploy sriov CNI plugin and define SRIOV networks as\nNetworkAttachmentDefinition\n\nChange-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd\nCo-Authored-By: Purnendu Ghosh <pg710r@att.com>\n'}]",0,650908,f1abb6ade025d10f33e0d6fbc342686f7398f3e7,25,4,12,10366,,,0,"[WIP] Helm chart for sriov-cni plugin

Helm chart to deploy sriov CNI plugin and define SRIOV networks as
NetworkAttachmentDefinition

Change-Id: I50bc9fa6b9b79050eddf7824195a781c43aabadd
Co-Authored-By: Purnendu Ghosh <pg710r@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/08/650908/5 && git format-patch -1 --stdout FETCH_HEAD,"['sriov/templates/sriov-net-attach-def-sriov.yaml', 'sriov/requirements.yaml', 'sriov/Chart.yaml', 'sriov/templates/sriov-cni-ds.yaml', 'sriov/templates/sriov-dp-ds.yaml', 'sriov/values.yaml', 'sriov/.helmignore', 'sriov/templates/configmap-sdp.yaml']",8,eb2ca218318636b6f5c6a9f3273ba1a1010d9821,sriov,"{{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_sriov_device_plugin }} {{- $envAll := . }} --- kind: ConfigMap apiVersion: v1 metadata: name: sriov-device-plugin-config data: config.json: |- {{ toJson $envAll.Values.conf.sdp_config | indent 4 }} {{- end }} ",,287,0
openstack%2Fopenstack-helm-infra~master~I0cbbdeba1a3211f9e5a825aeef564fd4c5e896fb,openstack/openstack-helm-infra,master,I0cbbdeba1a3211f9e5a825aeef564fd4c5e896fb,Support for adding cni conf using CRD net-attach-def,ABANDONED,2019-01-24 16:14:09.000000000,2020-08-06 06:43:25.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27589}]","[{'number': 1, 'created': '2019-01-24 16:14:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/da605d2292e70af0a3446ca5f46a77ccca394673', 'message': 'Support for adding cni conf using CRD net-attach-def\n\nIn case of Multi CNI deployments, calico can be added as secondary\nCNI using kubernetes Custom Resource NetworkAttachDefintion.\n\nThis patch provides template for adding calico cni configuration\nusing the CRD\n\nChange-Id: I0cbbdeba1a3211f9e5a825aeef564fd4c5e896fb\n'}, {'number': 2, 'created': '2019-09-11 07:23:07.000000000', 'files': ['calico/values.yaml', 'calico/templates/net-attach-defs-calico.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6f835517e4b1ff011b6573db1b13c9b9f051432', 'message': 'Support for adding cni conf using CRD net-attach-def\n\nIn case of Multi CNI deployments, calico can be added as secondary\nCNI using kubernetes Custom Resource NetworkAttachDefintion.\n\nThis patch provides template for adding calico cni configuration\nusing the CRD\n\nChange-Id: I0cbbdeba1a3211f9e5a825aeef564fd4c5e896fb\n'}]",0,633027,e6f835517e4b1ff011b6573db1b13c9b9f051432,5,10,2,10366,,,0,"Support for adding cni conf using CRD net-attach-def

In case of Multi CNI deployments, calico can be added as secondary
CNI using kubernetes Custom Resource NetworkAttachDefintion.

This patch provides template for adding calico cni configuration
using the CRD

Change-Id: I0cbbdeba1a3211f9e5a825aeef564fd4c5e896fb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/27/633027/2 && git format-patch -1 --stdout FETCH_HEAD,"['calico/values.yaml', 'calico/templates/net-attach-defs-calico.yaml']",2,da605d2292e70af0a3446ca5f46a77ccca394673,multi_cni,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.net_attach_defs_calico }} {{- $envAll := . }} {{- range $i, $net := .Values.conf.net_attach_defs }} --- apiVersion: ""k8s.cni.cncf.io/v1"" kind: NetworkAttachmentDefinition metadata: name: {{ $net.name }} namespace: {{ $net.namespace }} spec: config: |- {{ toJson $net.cni_conf | indent 4 }} {{- end }} {{- end }} ",,55,0
openstack%2Fpuppet-octavia~master~I69b5068e4ca3b1a43ab3d267b8a0a47e2bb50480,openstack/puppet-octavia,master,I69b5068e4ca3b1a43ab3d267b8a0a47e2bb50480,Cleanup deprecated controller parameters from octavia::worker,MERGED,2020-08-02 14:32:52.000000000,2020-08-06 06:26:02.000000000,2020-08-06 06:22:45.000000000,"[{'_account_id': 6469}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 14:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/a926a8bea60dc312e42cf7f0e01ecfd7cf60c26a', 'message': 'Cleanup deprecated controller parameters from octavia::worker\n\nChange-Id: I69b5068e4ca3b1a43ab3d267b8a0a47e2bb50480\n'}, {'number': 2, 'created': '2020-08-02 14:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/bc4aac19121b259cd113b2a9cc8dbf71c18b2ccd', 'message': 'Cleanup deprecated controller parameters from octavia::worker\n\nChange-Id: I69b5068e4ca3b1a43ab3d267b8a0a47e2bb50480\n'}, {'number': 3, 'created': '2020-08-02 14:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c2139bba747dc064e2b6b185f331407ea25d0ceb', 'message': 'Cleanup deprecated controller parameters from octavia::worker\n\nChange-Id: I69b5068e4ca3b1a43ab3d267b8a0a47e2bb50480\n'}, {'number': 4, 'created': '2020-08-02 22:58:47.000000000', 'files': ['manifests/worker.pp', 'releasenotes/notes/cleanup-controler-opts-from-octavia-workers-f06b45dd705eb875.yaml', 'spec/classes/octavia_worker_spec.rb', 'manifests/controller.pp', 'spec/acceptance/octavia_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/bccc2303522d802f45909707ae34361b4ad2b0f2', 'message': 'Cleanup deprecated controller parameters from octavia::worker\n\nChange-Id: I69b5068e4ca3b1a43ab3d267b8a0a47e2bb50480\n'}]",0,744375,bccc2303522d802f45909707ae34361b4ad2b0f2,12,4,4,9816,,,0,"Cleanup deprecated controller parameters from octavia::worker

Change-Id: I69b5068e4ca3b1a43ab3d267b8a0a47e2bb50480
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/75/744375/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/worker.pp', 'releasenotes/notes/cleanup-controler-opts-from-octavia-workers-f06b45dd705eb875.yaml', 'spec/classes/octavia_worker_spec.rb', 'manifests/controller.pp']",4,a926a8bea60dc312e42cf7f0e01ecfd7cf60c26a,cleanup," if ! is_service_default($::octavia::controller::loadbalancer_topology) and ! ($::octavia::controller::loadbalancer_topology in ['SINGLE', 'ACTIVE_STANDBY']) { if $enable_ssh_access { octavia_config { 'controller_worker/amp_ssh_key_name' : value => $amp_ssh_key_name; } 'controller_worker/amp_flavor_id' : value => $amp_flavor_id; 'controller_worker/amp_image_tag' : value => $amp_image_tag; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology; 'controller_worker/amphora_driver' : value => $amphora_driver; 'controller_worker/compute_driver' : value => $compute_driver; 'controller_worker/network_driver' : value => $network_driver; 'haproxy_amphora/timeout_client_data' : value => $timeout_client_data; 'haproxy_amphora/timeout_member_connect' : value => $timeout_member_connect; 'haproxy_amphora/timeout_member_data' : value => $timeout_member_data; 'haproxy_amphora/timeout_tcp_inspect' : value => $timeout_tcp_inspect;"," # For backward compatibility $amp_flavor_id_real = pick($::octavia::worker::amp_flavor_id, $amp_flavor_id) $amp_image_tag_real = pick($::octavia::worker::amp_image_tag, $amp_image_tag) $amp_secgroup_list_real = pick($::octavia::worker::amp_secgroup_list, $amp_secgroup_list) $amp_boot_network_list_real = pick($::octavia::worker::amp_boot_network_list, $amp_boot_network_list) $loadbalancer_topology_real = pick($::octavia::worker::loadbalancer_topology, $loadbalancer_topology) $amphora_driver_real = pick($::octavia::worker::amphora_driver, $amphora_driver) $compute_driver_real = pick($::octavia::worker::compute_driver, $compute_driver) $network_driver_real = pick($::octavia::worker::network_driver, $network_driver) $amp_ssh_key_name_real = pick($::octavia::worker::amp_ssh_key_name, $amp_ssh_key_name) $enable_ssh_access_real = pick($::octavia::worker::enable_ssh_access, $enable_ssh_access) $timeout_client_data_real = pick($::octavia::worker::timeout_client_data, $timeout_client_data) $timeout_member_connect_real = pick($::octavia::worker::timeout_member_connect, $timeout_member_connect) $timeout_member_data_real = pick($::octavia::worker::timeout_member_data, $timeout_member_data) $timeout_tcp_inspect_real = pick($::octavia::worker::timeout_tcp_inspect, $timeout_tcp_inspect) if ! is_service_default($::octavia::controller::loadbalancer_topology_real) and ! ($::octavia::controller::loadbalancer_topology_real in ['SINGLE', 'ACTIVE_STANDBY']) { if $enable_ssh_access_real { octavia_config { 'controller_worker/amp_ssh_key_name' : value => $amp_ssh_key_name_real; } 'controller_worker/amp_flavor_id' : value => $amp_flavor_id_real; 'controller_worker/amp_image_tag' : value => $amp_image_tag_real; 'controller_worker/amp_secgroup_list' : value => $amp_secgroup_list_real; 'controller_worker/amp_boot_network_list' : value => $amp_boot_network_list_real; 'controller_worker/loadbalancer_topology' : value => $loadbalancer_topology_real; 'controller_worker/amphora_driver' : value => $amphora_driver_real; 'controller_worker/compute_driver' : value => $compute_driver_real; 'controller_worker/network_driver' : value => $network_driver_real; 'haproxy_amphora/timeout_client_data' : value => $timeout_client_data_real; 'haproxy_amphora/timeout_member_connect' : value => $timeout_member_connect_real; 'haproxy_amphora/timeout_member_data' : value => $timeout_member_data_real; 'haproxy_amphora/timeout_tcp_inspect' : value => $timeout_tcp_inspect_real;",58,176
openstack%2Fneutron~master~I499693db900d88ad5e041cbb25baedf83817313e,openstack/neutron,master,I499693db900d88ad5e041cbb25baedf83817313e,Fix issue with decorator in lower-constraints job,ABANDONED,2020-08-03 13:01:56.000000000,2020-08-06 06:22:40.000000000,,"[{'_account_id': 1131}, {'_account_id': 5792}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11952}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-03 13:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed470be31832ec32dca88adcd7b95e49d14df2b7', 'message': 'Fix issue with decorator in lower-constraints job\n\nChange-Id: I499693db900d88ad5e041cbb25baedf83817313e\n'}, {'number': 2, 'created': '2020-08-04 11:18:06.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2de14b9964a5609fb231d5d0ccc392d945ae13e8', 'message': 'Fix issue with decorator in lower-constraints job\n\nFor related mail thread, please see:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nCloses-Bug: #1890064\nChange-Id: I499693db900d88ad5e041cbb25baedf83817313e\n'}]",4,744465,2de14b9964a5609fb231d5d0ccc392d945ae13e8,27,10,2,8313,,,0,"Fix issue with decorator in lower-constraints job

For related mail thread, please see:
http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html

Closes-Bug: #1890064
Change-Id: I499693db900d88ad5e041cbb25baedf83817313e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/744465/2 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ed470be31832ec32dca88adcd7b95e49d14df2b7,bug/1890064,decorator==4.0.0dogpile.cache==1.0.1,decorator==3.4.0dogpile.cache==0.6.2,2,2
openstack%2Fsenlin~master~Ia8f56a7016eace5b7ce70dc661729e19284c3733,openstack/senlin,master,Ia8f56a7016eace5b7ce70dc661729e19284c3733,Fix devstack problems causing failed CI tests,MERGED,2020-08-02 04:25:34.000000000,2020-08-06 06:13:45.000000000,2020-08-06 06:12:01.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-08-02 04:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/00da6808a42a8904da84f0bb9983b181dad950c3', 'message': 'Use uwsgi binary from path\n\nDevstack projects have been fixed to run uwsgi binary from the path instead of\nthe project specific directory [1].  This applies the same fix to senlin-api so\nthat it makes uwsgi invocation to find it in the path.\n\n[1] https://review.opendev.org/#/c/577779/\n\nChange-Id: Ia8f56a7016eace5b7ce70dc661729e19284c3733\n'}, {'number': 2, 'created': '2020-08-02 04:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3948f76f7da7ccd40dfc7e1eef3333e99645acd4', 'message': 'Use uwsgi binary from path\n\nDevstack projects have been fixed to run uwsgi binary from the path\ninstead of the project specific directory [1].  This applies the same\nfix to senlin-api so that it makes uwsgi invocation to find it in the\npath.\n\n[1] https://review.opendev.org/#/c/577779/\n\nChange-Id: Ia8f56a7016eace5b7ce70dc661729e19284c3733\n'}, {'number': 3, 'created': '2020-08-06 03:43:09.000000000', 'files': ['devstack/lib/senlin'], 'web_link': 'https://opendev.org/openstack/senlin/commit/a46245e74a5f42be4fe9d7d2f75e2f3570fc00c8', 'message': 'Fix devstack problems causing failed CI tests\n\n- Use uwsgi binary from path:\nDevstack projects have been fixed to run uwsgi binary from the path\ninstead of the project specific directory [1].  This applies the same\nfix to senlin-api so that it makes uwsgi invocation to find it in the\npath.\n\n- Set keystone auth interface to public:\nThe default identity interface was changed from admin to internal in\n[2].  Since devstack only creates admin and public endpoints for\nidentity service, senlin fails to talk to identity service without the\nexplicit setting to use public interface during authentication.\n\n[1] https://review.opendev.org/#/c/577779/\n[2] https://review.opendev.org/#/c/662734/\n\nChange-Id: Ia8f56a7016eace5b7ce70dc661729e19284c3733\n'}]",0,744369,a46245e74a5f42be4fe9d7d2f75e2f3570fc00c8,22,5,3,27224,,,0,"Fix devstack problems causing failed CI tests

- Use uwsgi binary from path:
Devstack projects have been fixed to run uwsgi binary from the path
instead of the project specific directory [1].  This applies the same
fix to senlin-api so that it makes uwsgi invocation to find it in the
path.

- Set keystone auth interface to public:
The default identity interface was changed from admin to internal in
[2].  Since devstack only creates admin and public endpoints for
identity service, senlin fails to talk to identity service without the
explicit setting to use public interface during authentication.

[1] https://review.opendev.org/#/c/577779/
[2] https://review.opendev.org/#/c/662734/

Change-Id: Ia8f56a7016eace5b7ce70dc661729e19284c3733
",git fetch https://review.opendev.org/openstack/senlin refs/changes/69/744369/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/senlin'],1,00da6808a42a8904da84f0bb9983b181dad950c3,fix_devstack," run_process sl-api ""$(which uwsgi) --procname-prefix senlin-api --ini $SENLIN_UWSGI_CONF"""," run_process sl-api ""$SENLIN_BIN_DIR/uwsgi --procname-prefix senlin-api --ini $SENLIN_UWSGI_CONF""",1,1
openstack%2Fopenstack-helm-infra~master~I225215d60bad6db0c7528250809c927149447fe4,openstack/openstack-helm-infra,master,I225215d60bad6db0c7528250809c927149447fe4,Helm chart for multus-cni,ABANDONED,2019-01-24 15:44:56.000000000,2020-08-06 06:07:42.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 10366}, {'_account_id': 12281}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 27589}, {'_account_id': 28674}]","[{'number': 1, 'created': '2019-01-24 15:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa86eaf0bca50a96ac105f23d233de2d4fdc6840', 'message': 'Helm chart for multus-cni\n\nHelm chart to deploy multus daemonset and creation of\ncustom resource NetworkAttachementDefinition\n\nChange-Id: I225215d60bad6db0c7528250809c927149447fe4\n'}, {'number': 2, 'created': '2019-01-28 10:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d2156ea5d33ce4f36573ed8f970f3c0d654770df', 'message': 'Helm chart for multus-cni\n\nHelm chart to deploy multus daemonset and creation of\ncustom resource NetworkAttachementDefinition\n\nChange-Id: I225215d60bad6db0c7528250809c927149447fe4\n'}, {'number': 3, 'created': '2019-09-11 07:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15e2eb0b3d40b3fb2fc891627cff842d42be89e5', 'message': 'Helm chart for multus-cni\n\nHelm chart to deploy multus daemonset and creation of\ncustom resource NetworkAttachementDefinition\n\nChange-Id: I225215d60bad6db0c7528250809c927149447fe4\n'}, {'number': 4, 'created': '2019-10-10 07:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70953cd19907855d9282da8bf1cd78b5a8fb829d', 'message': 'Helm chart for multus-cni\n\nHelm chart to deploy multus daemonset and creation of\ncustom resource NetworkAttachementDefinition\n\nChange-Id: I225215d60bad6db0c7528250809c927149447fe4\n'}, {'number': 5, 'created': '2019-10-11 04:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be3d934998f7b28a9e9657df0ed1bbcb18e8111c', 'message': 'Helm chart for multus-cni\n\nHelm chart to deploy multus daemonset and creation of\ncustom resource NetworkAttachementDefinition\n\nChange-Id: I225215d60bad6db0c7528250809c927149447fe4\n'}, {'number': 6, 'created': '2019-10-29 07:06:25.000000000', 'files': ['multus/Chart.yaml', 'multus/templates/daemonset-multus.yaml', 'multus/values.yaml', 'multus/templates/cr-net-attach-def.yaml', 'multus/templates/crd-net-attach-def.yaml', 'multus/requirements.yaml', 'multus/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2cf6206cebee5c9fb29b82e8b8d163f0681610c9', 'message': 'Helm chart for multus-cni\n\nHelm chart to deploy multus daemonset and creation of\ncustom resource NetworkAttachementDefinition\n\nChange-Id: I225215d60bad6db0c7528250809c927149447fe4\n'}]",15,633020,2cf6206cebee5c9fb29b82e8b8d163f0681610c9,19,12,6,10366,,,0,"Helm chart for multus-cni

Helm chart to deploy multus daemonset and creation of
custom resource NetworkAttachementDefinition

Change-Id: I225215d60bad6db0c7528250809c927149447fe4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/633020/6 && git format-patch -1 --stdout FETCH_HEAD,"['multus/Chart.yaml', 'multus/templates/daemonset-multus.yaml', 'multus/values.yaml', 'multus/templates/crd-net-attach-def.yaml', 'multus/requirements.yaml', 'multus/templates/configmap-etc.yaml']",6,fa86eaf0bca50a96ac105f23d233de2d4fdc6840,multi_cni,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.configmap_etc }} {{- $envAll := . }} --- kind: ConfigMap apiVersion: v1 metadata: name: multus-cni-config data: cni-conf.json: |- {{ toJson $envAll.Values.conf.cni_config | indent 4 }} {{- end }} ",,321,0
openstack%2Fopenstack-helm~master~I10b12db8019beb42005764430711694a61c8d17b,openstack/openstack-helm,master,I10b12db8019beb42005764430711694a61c8d17b,Add missing security context to Nova pods/containers,MERGED,2020-08-05 18:55:58.000000000,2020-08-06 05:42:15.000000000,2020-08-06 05:39:50.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-05 18:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3f3589686f0fd03e24722b212843fa79275c51f7', 'message': 'Add missing security context to Nova pods/containers\n\nThis updates the Nova chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I10b12db8019beb42005764430711694a61c8d17b\n'}, {'number': 2, 'created': '2020-08-05 20:07:18.000000000', 'files': ['nova/templates/job-bootstrap.yaml', 'nova/values.yaml', 'nova/templates/job-cell-setup.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/27dac1d2c10b6db82157d2af3dcd3ff047529754', 'message': 'Add missing security context to Nova pods/containers\n\nThis updates the Nova chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I10b12db8019beb42005764430711694a61c8d17b\n'}]",0,744971,27dac1d2c10b6db82157d2af3dcd3ff047529754,13,11,2,29144,,,0,"Add missing security context to Nova pods/containers

This updates the Nova chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I10b12db8019beb42005764430711694a61c8d17b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/744971/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/job-bootstrap.yaml', 'nova/values.yaml', 'nova/templates/job-cell-setup.yaml']",3,3f3589686f0fd03e24722b212843fa79275c51f7,nova,"{{ dict ""envAll"" $envAll ""application"" ""nova_cell_setup"" ""container"" ""nova_cell_setup_init"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}{{ dict ""envAll"" $envAll ""application"" ""nova_cell_setup"" ""container"" ""nova_cell_setup"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 14 }}",,16,0
openstack%2Fopenstack-helm~master~I0e00571d4060cca914d1bdb4f36e736fa8501130,openstack/openstack-helm,master,I0e00571d4060cca914d1bdb4f36e736fa8501130,Add missing security context to Keystone pods/containers,MERGED,2020-08-05 18:38:36.000000000,2020-08-06 05:41:11.000000000,2020-08-06 05:39:49.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-05 18:38:36.000000000', 'files': ['keystone/templates/job-domain-manage.yaml', 'keystone/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fc5712909efea826906ff609bf1c232e857acf2d', 'message': 'Add missing security context to Keystone pods/containers\n\nThis updates the Keystone chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I0e00571d4060cca914d1bdb4f36e736fa8501130\n'}]",0,744970,fc5712909efea826906ff609bf1c232e857acf2d,8,10,1,29144,,,0,"Add missing security context to Keystone pods/containers

This updates the Keystone chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I0e00571d4060cca914d1bdb4f36e736fa8501130
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/70/744970/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/job-domain-manage.yaml', 'keystone/values.yaml']",2,fc5712909efea826906ff609bf1c232e857acf2d,, keystone_domain_manage_init: readOnlyRootFilesystem: true allowPrivilegeEscalation: false,,4,0
openstack%2Fcinder~master~Ie15f6c541c5b091bc16b42c116c1ff9c573ffe8a,openstack/cinder,master,Ie15f6c541c5b091bc16b42c116c1ff9c573ffe8a,PowerMax Driver - Port Group & Port Load Balancing,MERGED,2020-07-16 13:19:10.000000000,2020-08-06 05:23:37.000000000,2020-08-05 08:40:24.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31981}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-16 13:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09d00490e6f277d5c5c333c555d312d7d717ad67', 'message': 'PowerMax Driver - Port Group & Port Load Balancing\n\nThis submission implements the new PowerMax for Cinder driver\nfeature allowing mount paths to be determined by load on a\ngiven Port Group or Port.\n\nChange-Id: Ie15f6c541c5b091bc16b42c116c1ff9c573ffe8a\nImplements: blueprint powermax-port-load-balance\n'}, {'number': 2, 'created': '2020-07-29 11:08:03.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/performance.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_performance.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/powermax-load-balance-9cd152e53ecb34fd.yaml', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/55042c357e16ccba4fd4084b5c47f05bc2300bc0', 'message': 'PowerMax Driver - Port Group & Port Load Balancing\n\nThis submission implements the new PowerMax for Cinder driver\nfeature allowing mount paths to be determined by load on a\ngiven Port Group or Port.\n\nChange-Id: Ie15f6c541c5b091bc16b42c116c1ff9c573ffe8a\nImplements: blueprint powermax-port-load-balance\n'}]",21,741447,55042c357e16ccba4fd4084b5c47f05bc2300bc0,131,37,2,23601,,,0,"PowerMax Driver - Port Group & Port Load Balancing

This submission implements the new PowerMax for Cinder driver
feature allowing mount paths to be determined by load on a
given Port Group or Port.

Change-Id: Ie15f6c541c5b091bc16b42c116c1ff9c573ffe8a
Implements: blueprint powermax-port-load-balance
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/741447/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/performance.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_performance.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_fake_objects.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'releasenotes/notes/powermax-load-balance-9cd152e53ecb34fd.yaml', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",15,09d00490e6f277d5c5c333c555d312d7d717ad67,92_endpoints,"import random wwnn2 = '223456789012346' initiator = 'iqn.1993-08.org.debian:01:222' iscsi_dir = 'SE-4E' iscsi_port = '1' ip, ip2 = '123.456.7.8', '123.456.7.9' iqn = 'iqn.1992-04.com.emc:600009700bca30c01e3e012e00000001' iqn2 = 'iqn.1992-04.com.emc:600009700bca30c01e3e012e00000002' target_wwns_multi = [wwnn1, wwnn2] iscsi_dir_port = '%(dir)s:%(port)s' % {'dir': iscsi_dir, 'port': iscsi_port} iscsi_dir_virtual_port = '%(dir)s:%(port)s' % {'dir': iscsi_dir, 'port': '000'} 'iqn': initiator, 'physical_port': iscsi_dir_port}], iscsi_device_info_metro['metro_ip_and_iqn'] = [{ 'ip': ip2, 'iqn': iqn2, 'physical_port': iscsi_dir_port}] director_port_keys_empty = {'symmetrixPortKey': []} director_port_keys_multiple = {'symmetrixPortKey': [ {'directorId': 'SE-1E', 'portId': '1'}, {'directorId': 'SE-1E', 'portId': '2'}]} # performance f_date_a = 1593432600000 f_date_b = 1594136400000 l_date = 1594730100000 perf_pb_metric = 'PercentBusy' perf_df_avg = 'Average' perf_port_groups = ['port_group_a', 'port_group_b', 'port_group_c'] perf_ports = ['SE-1E:1', 'SE-1E:2', 'SE-1E:3'] performance_config = { 'load_balance': True, 'load_balance_rt': True, 'perf_registered': True, 'rt_registered': True, 'collection_interval': 5, 'data_format': 'Average', 'look_back': 60, 'look_back_rt': 10, 'port_group_metric': 'PercentBusy', 'port_metric': 'PercentBusy'} array_registration = {""registrationDetailsInfo"": [ {""symmetrixId"": array, ""realtime"": True, ""message"": ""Success"", ""collectionintervalmins"": 5, ""diagnostic"": True}]} array_keys = {""arrayInfo"": [ {""symmetrixId"": array, ""firstAvailableDate"": f_date_a, ""lastAvailableDate"": l_date}, {""symmetrixId"": array_herc, ""firstAvailableDate"": f_date_a, ""lastAvailableDate"": l_date}, {""symmetrixId"": remote_array, ""firstAvailableDate"": f_date_b, ""lastAvailableDate"": l_date}]} dummy_performance_data = { ""expirationTime"": 1594731525645, ""count"": 10, ""maxPageSize"": 1000, ""id"": ""3b757302-6e4a-4dbe-887d-e42aed7f5944_0"", ""resultList"": { ""result"": [ {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593432600000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593432900000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593433200000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593433500000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593433800000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593434100000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593434400000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593434700000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593435000000}, {""PercentBusy"": random.uniform(0.0, 100.0), ""timestamp"": 1593435300000}], ""from"": 1, ""to"": 10 } }"," initiator = 'iqn.1993-08.org.debian: 01: 222' ip, ip2 = u'123.456.7.8', u'123.456.7.9' iqn = u'iqn.1992-04.com.emc:600009700bca30c01e3e012e00000001,t,0x0001' iqn2 = u'iqn.1992-04.com.emc:600009700bca30c01e3e012e00000002,t,0x0001' 'iqn': initiator}], iscsi_device_info_metro['metro_ip_and_iqn'] = [{'ip': ip2, 'iqn': iqn2}]",1602,153
openstack%2Fnova~stable%2Ftrain~I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a,openstack/nova,stable/train,I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a,Silence amqp heartbeat warning,MERGED,2020-05-14 12:18:33.000000000,2020-08-06 04:45:41.000000000,2020-08-05 21:30:00.000000000,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-14 12:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb8a5415d024f77412711da11c46e34591bf6782', 'message': 'Silence amqp heartbeat warning\n\nWhen the nova api is executing under uWSGI or MOD_WSGI\nthe lifetime of the amqp heartbeat thread is controlled\nby the wsgi server. As a result when the nova api is run\nin this configuration we expect that the heartbeat thread\nwill be suspended and heartbeats will be missed when the wsgi\nserver suspends execution of the wsgi application.\n\nThis change adds a python logging filter to suppress\nthe reporting of heartbeat warnings as this behavior is\nexpected. Since the operator cannot do anything to address\nthe issue the warning is just noise and many operators\nand customers find it to be off-putting.\n\nChange-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a\nCloses-Bug: #1825584\n(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)\n(cherry picked from commit 2d98d7c6c241701d5f82cb8031fa738618ebb915)\n'}, {'number': 2, 'created': '2020-06-10 16:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d0b384fc0a335b8ae34b232407318bb761e299c', 'message': 'Silence amqp heartbeat warning\n\nWhen the nova api is executing under uWSGI or MOD_WSGI\nthe lifetime of the amqp heartbeat thread is controlled\nby the wsgi server. As a result when the nova api is run\nin this configuration we expect that the heartbeat thread\nwill be suspended and heartbeats will be missed when the wsgi\nserver suspends execution of the wsgi application.\n\nThis change adds a python logging filter to suppress\nthe reporting of heartbeat warnings as this behavior is\nexpected. Since the operator cannot do anything to address\nthe issue the warning is just noise and many operators\nand customers find it to be off-putting.\n\nChange-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a\nCloses-Bug: #1825584\n(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)\n(cherry picked from commit 1caddc4250b4acbdb8a945c8f26a0792bee5e2ed)\n'}, {'number': 3, 'created': '2020-06-25 16:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/126f6f2b032abc1865de53467c402b5c7cd0aff3', 'message': 'Silence amqp heartbeat warning\n\nWhen the nova api is executing under uWSGI or MOD_WSGI\nthe lifetime of the amqp heartbeat thread is controlled\nby the wsgi server. As a result when the nova api is run\nin this configuration we expect that the heartbeat thread\nwill be suspended and heartbeats will be missed when the wsgi\nserver suspends execution of the wsgi application.\n\nThis change adds a python logging filter to suppress\nthe reporting of heartbeat warnings as this behavior is\nexpected. Since the operator cannot do anything to address\nthe issue the warning is just noise and many operators\nand customers find it to be off-putting.\n\nChange-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a\nCloses-Bug: #1825584\n(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)\n(cherry picked from commit 1caddc4250b4acbdb8a945c8f26a0792bee5e2ed)\n'}, {'number': 4, 'created': '2020-07-14 12:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99c8022ab6b2a2198d594cfca6a471c5b4bfefe0', 'message': 'Silence amqp heartbeat warning\n\nWhen the nova api is executing under uWSGI or MOD_WSGI\nthe lifetime of the amqp heartbeat thread is controlled\nby the wsgi server. As a result when the nova api is run\nin this configuration we expect that the heartbeat thread\nwill be suspended and heartbeats will be missed when the wsgi\nserver suspends execution of the wsgi application.\n\nThis change adds a python logging filter to suppress\nthe reporting of heartbeat warnings as this behavior is\nexpected. Since the operator cannot do anything to address\nthe issue the warning is just noise and many operators\nand customers find it to be off-putting.\n\nChange-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a\nCloses-Bug: #1825584\n(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)\n(cherry picked from commit 1caddc4250b4acbdb8a945c8f26a0792bee5e2ed)\n'}, {'number': 5, 'created': '2020-07-17 17:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec25e9c34eec7b03ba62b7081a78463f019913c8', 'message': 'Silence amqp heartbeat warning\n\nWhen the nova api is executing under uWSGI or MOD_WSGI\nthe lifetime of the amqp heartbeat thread is controlled\nby the wsgi server. As a result when the nova api is run\nin this configuration we expect that the heartbeat thread\nwill be suspended and heartbeats will be missed when the wsgi\nserver suspends execution of the wsgi application.\n\nThis change adds a python logging filter to suppress\nthe reporting of heartbeat warnings as this behavior is\nexpected. Since the operator cannot do anything to address\nthe issue the warning is just noise and many operators\nand customers find it to be off-putting.\n\nChange-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a\nCloses-Bug: #1825584\n(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)\n(cherry picked from commit 1caddc4250b4acbdb8a945c8f26a0792bee5e2ed)\n'}, {'number': 6, 'created': '2020-07-17 17:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56466a33deba38c806ad85866e8d75dafca9b331', 'message': 'Silence amqp heartbeat warning\n\nWhen the nova api is executing under uWSGI or MOD_WSGI\nthe lifetime of the amqp heartbeat thread is controlled\nby the wsgi server. As a result when the nova api is run\nin this configuration we expect that the heartbeat thread\nwill be suspended and heartbeats will be missed when the wsgi\nserver suspends execution of the wsgi application.\n\nThis change adds a python logging filter to suppress\nthe reporting of heartbeat warnings as this behavior is\nexpected. Since the operator cannot do anything to address\nthe issue the warning is just noise and many operators\nand customers find it to be off-putting.\n\nChanges:\n  The rabbit_heartbeat_filter function has been converted\n  to a subclass of logging.filter to support python 2.\n\nChange-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a\nCloses-Bug: #1825584\n(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)\n(cherry picked from commit 1caddc4250b4acbdb8a945c8f26a0792bee5e2ed)\n'}, {'number': 7, 'created': '2020-08-04 12:58:02.000000000', 'files': ['nova/config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/280007c870b671de9439efba71fd3916403d15da', 'message': 'Silence amqp heartbeat warning\n\nWhen the nova api is executing under uWSGI or MOD_WSGI\nthe lifetime of the amqp heartbeat thread is controlled\nby the wsgi server. As a result when the nova api is run\nin this configuration we expect that the heartbeat thread\nwill be suspended and heartbeats will be missed when the wsgi\nserver suspends execution of the wsgi application.\n\nThis change adds a python logging filter to suppress\nthe reporting of heartbeat warnings as this behavior is\nexpected. Since the operator cannot do anything to address\nthe issue the warning is just noise and many operators\nand customers find it to be off-putting.\n\nChanges:\n  nova/config.py\nin python 3 log filters can simply be a function that\nreturns true or false and accepts single argument which\nis the record to filter. To support python 2 the\nrabbit_heartbeat_filter has been converted into an instance\nof a new HeartbeatFilter class with its implementation moved\nto the filter method.\n\nChange-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a\nCloses-Bug: #1825584\n(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)\n(cherry picked from commit 1caddc4250b4acbdb8a945c8f26a0792bee5e2ed)\n'}]",8,728057,280007c870b671de9439efba71fd3916403d15da,110,12,7,11604,,,0,"Silence amqp heartbeat warning

When the nova api is executing under uWSGI or MOD_WSGI
the lifetime of the amqp heartbeat thread is controlled
by the wsgi server. As a result when the nova api is run
in this configuration we expect that the heartbeat thread
will be suspended and heartbeats will be missed when the wsgi
server suspends execution of the wsgi application.

This change adds a python logging filter to suppress
the reporting of heartbeat warnings as this behavior is
expected. Since the operator cannot do anything to address
the issue the warning is just noise and many operators
and customers find it to be off-putting.

Changes:
  nova/config.py
in python 3 log filters can simply be a function that
returns true or false and accepts single argument which
is the record to filter. To support python 2 the
rabbit_heartbeat_filter has been converted into an instance
of a new HeartbeatFilter class with its implementation moved
to the filter method.

Change-Id: I642b1e3ed6de2be4dcc19fe214f84095d2e1d31a
Closes-Bug: #1825584
(cherry picked from commit d6f664524dfa4eecbe3e16fda0fec5359faf84c6)
(cherry picked from commit 1caddc4250b4acbdb8a945c8f26a0792bee5e2ed)
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/728057/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/config.py'],1,bb8a5415d024f77412711da11c46e34591bf6782,bug/1825584,"import logging def rabbit_heartbeat_filter(log_record): # Note the type in the log message was fixed in # change Id11db4113c9b1c3add602192c1e915218704ef27 # but we handle both form to allow this to be backported # without consideration of the version of oslo.messaging used. # TODO(sean-k-mooney): remove support for typo in follow up # to allow this to be easily backported without modification. messages = [ ""Unexpected error during heartbeart thread processing"", ""Unexpected error during heartbeat thread processing""] return not any(msg in log_record.msg for msg in messages) # NOTE(sean-k-mooney): this filter addresses bug #1825584 # https://bugs.launchpad.net/nova/+bug/1825584 # eventlet monkey-patching breaks AMQP heartbeat on uWSGI rabbit_logger = logging.getLogger('oslo.messaging._drivers.impl_rabbit') rabbit_logger.addFilter(rabbit_heartbeat_filter) ",,22,0
openstack%2Ftripleo-upgrade~master~Id68c62486e8b12e21931a4255da48effb0ed4690,openstack/tripleo-upgrade,master,Id68c62486e8b12e21931a4255da48effb0ed4690,Add BootParams service to all roles,MERGED,2020-08-03 03:19:33.000000000,2020-08-06 03:59:25.000000000,2020-08-05 18:14:32.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-03 03:19:33.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e5197c4469c7d85c86a8c0f73638bc3d44f919e3', 'message': 'Add BootParams service to all roles\n\nBootParams service should be added to all the roles during\nthe ugprade. It is responsible to set the kernel args and\nreboot if required.\nRelated-Bug: #1890080\n\nChange-Id: Id68c62486e8b12e21931a4255da48effb0ed4690\n'}]",0,744388,e5197c4469c7d85c86a8c0f73638bc3d44f919e3,7,5,1,18575,,,0,"Add BootParams service to all roles

BootParams service should be added to all the roles during
the ugprade. It is responsible to set the kernel args and
reboot if required.
Related-Bug: #1890080

Change-Id: Id68c62486e8b12e21931a4255da48effb0ed4690
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/88/744388/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,e5197c4469c7d85c86a8c0f73638bc3d44f919e3,kernel_args_service,"- name: add BootParams service replace: path: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::AuditD$)' replace: '\1\2\1- OS::TripleO::Services::BootParams' ",,6,0
openstack%2Ftripleo-heat-templates~master~I9238cd35a1114b1649a38ab4f24225865bcecf19,openstack/tripleo-heat-templates,master,I9238cd35a1114b1649a38ab4f24225865bcecf19,Align kernel args for system upgrade using leapp,MERGED,2020-07-23 09:28:07.000000000,2020-08-06 03:58:48.000000000,2020-08-05 18:34:51.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-23 09:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9471f258df7a21b74620ec583ea351af75bf6234', 'message': 'Align kernel args for system upgrade using leapp\n\nleapp system upgrade is looking only for the\nentry GRUB_CMDLINE_LINUX in file /etc/default/grub.\nBut TripleO deployment adds entries to GRUB_CMDLINE_LINUX\nby appending custom variables to it. This will not\nbe parsed by leapp during upgrade. This patch\naligns the entries so that leapp upgrade can\npick the parsed kernel args.\n\nChange-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19\n'}, {'number': 2, 'created': '2020-08-03 03:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/447a6c174711fcaf13c38668d9ecacefa32013d2', 'message': 'Align kernel args for system upgrade using leapp\n\nleapp is looking for errors in /etc/default/grub and\nfixes it during upgrade. It does not recognize entries\nstarting other than ""GRUB"", as tripleo sets the entry\nstarting with TRIPLEO_ instead of GRUB, append the\nentry with GRUB_ so that leapp upgrades correctly.\nCloses-Bug: #1890080\n\nChange-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19\n'}, {'number': 3, 'created': '2020-08-03 07:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/afc60aca2894204ee8f0319fa8b31f94ddd74058', 'message': 'Align kernel args for system upgrade using leapp\n\nleapp is looking for errors in /etc/default/grub and\nfixes it during upgrade. It does not recognize entries\nstarting other than ""GRUB"", as tripleo sets the entry\nstarting with TRIPLEO_ instead of GRUB, append the\nentry with GRUB_ so that leapp upgrades correctly.\nCloses-Bug: #1890080\nDepends-On: https://review.opendev.org/#/c/744405/\nChange-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19\n'}, {'number': 4, 'created': '2020-08-03 09:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2cc9c8226efa87bccdcd7df60da18dbd144bb7d', 'message': 'Align kernel args for system upgrade using leapp\n\nleapp is looking for errors in /etc/default/grub and\nfixes it during upgrade. It does not recognize entries\nstarting other than ""GRUB"", as tripleo sets the entry\nstarting with TRIPLEO_ instead of GRUB, append the\nentry with GRUB_ so that leapp upgrades correctly.\nCloses-Bug: #1890080\nChange-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19\n'}, {'number': 5, 'created': '2020-08-04 14:54:23.000000000', 'files': ['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f217eccc7720250a64a0877061063acf0951b495', 'message': 'Align kernel args for system upgrade using leapp\n\nleapp is looking for errors in /etc/default/grub and\nfixes it during upgrade. It does not recognize entries\nstarting other than ""GRUB"", as tripleo sets the entry\nstarting with TRIPLEO_ instead of GRUB, append the\nentry with GRUB_ so that leapp upgrades correctly.\nCloses-Bug: #1890080\nChange-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19\n'}]",0,742625,f217eccc7720250a64a0877061063acf0951b495,23,8,5,18575,,,0,"Align kernel args for system upgrade using leapp

leapp is looking for errors in /etc/default/grub and
fixes it during upgrade. It does not recognize entries
starting other than ""GRUB"", as tripleo sets the entry
starting with TRIPLEO_ instead of GRUB, append the
entry with GRUB_ so that leapp upgrades correctly.
Closes-Bug: #1890080
Change-Id: I9238cd35a1114b1649a38ab4f24225865bcecf19
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/742625/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-boot-params-baremetal-ansible.yaml'],1,9471f258df7a21b74620ec583ea351af75bf6234,leapp_kernel_args_fix," upgrade_tasks: - name: upgrade prepare for leapp to align kernel arg shortcommings in leapp tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 3 - upgrade_leapp_enabled vars: grub_file: ""/etc/default/grub"" block: # leapp only looks for GRUB_CMDLINE_LINUX while upgrading rhel version # following steps will align the grub file entries so that leapp picks parsed kernel args - name: get GRUB_CMDLINE_LINUX parsed value shell: cmd: | source {{ grub_file }} echo $GRUB_CMDLINE_LINUX register: grub_out - set_fact: parsed_kernel_args: ""{{ grub_out.stdout }}"" - name: backup the file default grub file copy: src: ""{{ grub_file }}"" dest: ""{{ grub_file }}.bak"" remote_src: yes - name: replace GRUB_CMDLINE_LINUX with parsed value lineinfile: path: ""{{ grub_file }}"" regexp: ""^GRUB_CMDLINE_LINUX=\""[^$]*\"""" line: ""GRUB_CMDLINE_LINUX=\""{{ parsed_kernel_args }}\"""" - name: remove appending entries for GRUB_CMDLINE_LINUX lineinfile: path: ""{{ grub_file }}"" state: absent regexp: ""^GRUB_CMDLINE_LINUX=.*GRUB_CMDLINE_LINUX.*$"" - name: remove tripleo's known entry lineinfile: path: ""{{ grub_file }}"" state: absent regexp: ""^TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS.*"" # leap will look for pattern "" GRUB"" to assume the end of line of GRUB_CMDLINE_LINUX # if any other entries starts other than GRUB, the the leapp error handling screws up # remove any entries of a line, not starting with GRUB - name: remove any lines not starting with GRUB lineinfile: path: ""{{ grub_file }}"" state: absent regexp: ""^(?!GRUB).*$""",,50,0
openstack%2Ftripleo-common~stable%2Fussuri~I4966641aed1a21be60d915ea58dda78b80fe0e1f,openstack/tripleo-common,stable/ussuri,I4966641aed1a21be60d915ea58dda78b80fe0e1f,Stop doing tag_from_label lookup with tag,MERGED,2020-08-05 17:05:31.000000000,2020-08-06 03:56:10.000000000,2020-08-06 03:53:27.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 17:05:31.000000000', 'files': ['releasenotes/notes/skip-tag-lookup-if-tag-specified-2284c45dc0f87693.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d3c11cd581dfcd88b86e1a1d17c0c9826fc5676b', 'message': ""Stop doing tag_from_label lookup with tag\n\nWhen using specifying ContainerImagePrepare if a tag is explicitly\nprovided in a set, the tag_from_label functionality will not be run as\nwe use the defined tag for the containers. Previously we would still\nattempt tag lookups even if we wanted a specific tag.\n\nThis would also cause failures during the deployment if using a\nnamespace that didn't have the defined tag_from_label format but we\ndefined a specific tag we wanted to use. e.g. using a tag with a md5 vs\na tag_from_label with numbers in it.\n\nChange-Id: I4966641aed1a21be60d915ea58dda78b80fe0e1f\nPartial-Bug: #1889122\n(cherry picked from commit 014d985f0836340b03d3c2cdeaae8717cfd1ea6b)\n""}]",0,744953,d3c11cd581dfcd88b86e1a1d17c0c9826fc5676b,9,3,1,14985,,,0,"Stop doing tag_from_label lookup with tag

When using specifying ContainerImagePrepare if a tag is explicitly
provided in a set, the tag_from_label functionality will not be run as
we use the defined tag for the containers. Previously we would still
attempt tag lookups even if we wanted a specific tag.

This would also cause failures during the deployment if using a
namespace that didn't have the defined tag_from_label format but we
defined a specific tag we wanted to use. e.g. using a tag with a md5 vs
a tag_from_label with numbers in it.

Change-Id: I4966641aed1a21be60d915ea58dda78b80fe0e1f
Partial-Bug: #1889122
(cherry picked from commit 014d985f0836340b03d3c2cdeaae8717cfd1ea6b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/53/744953/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/skip-tag-lookup-if-tag-specified-2284c45dc0f87693.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",3,d3c11cd581dfcd88b86e1a1d17c0c9826fc5676b,bug/1889122," @mock.patch('tripleo_common.image.kolla_builder.container_images_prepare') @mock.patch('tripleo_common.image.image_uploader.ImageUploadManager', autospec=True) def test_container_images_prepare_multi_tag_from_label(self, mock_im, mock_cip): mock_lock = mock.MagicMock() mapping_args = { 'namespace': 't', 'name_prefix': '', 'name_suffix': '', 'tag': 'l', } mapping_args_no_tag = { 'namespace': 't', 'name_prefix': '', 'name_suffix': '', } env = { 'parameter_defaults': { 'ContainerImagePrepare': [{ 'set': mapping_args_no_tag, 'tag_from_label': 'foo', }, { 'set': mapping_args, 'tag_from_label': 'bar', 'excludes': ['nova', 'neutron'], 'push_destination': '192.0.2.1:8787', 'modify_role': 'add-foo-plugin', 'modify_only_with_labels': ['kolla_version'], 'modify_vars': {'foo_version': '1.0.1'}, 'modify_append_tag': 'modify-123' }] } } roles_data = [] mock_cip.side_effect = [ { 'image_params': { 'FooImage': 't/foo:latest', 'BarImage': 't/bar:latest', 'BazImage': 't/baz:latest', 'BinkImage': 't/bink:latest' }, 'upload_data': [] }, { 'image_params': { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0' }, 'upload_data': [{ 'imagename': 't/bar:1.0', 'push_destination': '192.0.2.1:8787' }, { 'imagename': 't/baz:1.0', 'push_destination': '192.0.2.1:8787' }] }, ] image_params = kb.container_images_prepare_multi(env, roles_data, True, lock=mock_lock) mock_cip.assert_has_calls([ mock.call( excludes=None, includes=None, mapping_args=mapping_args_no_tag, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination=None, service_filter=None, tag_from_label='foo', append_tag=mock.ANY, modify_role=None, modify_only_with_labels=None, modify_vars=None, mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock ), mock.call( excludes=['nova', 'neutron'], includes=None, mapping_args=mapping_args, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination='192.0.2.1:8787', service_filter=None, tag_from_label=None, append_tag=mock.ANY, modify_role='add-foo-plugin', modify_only_with_labels=['kolla_version'], modify_vars={'foo_version': '1.0.1'}, mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock ) ]) mock_im.assert_called_once_with(mock.ANY, dry_run=True, cleanup='full', mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock) self.assertEqual( { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0', 'BinkImage': 't/bink:latest', 'FooImage': 't/foo:latest' }, image_params ) "," 'tag': 'l', 'tag': 'l',",131,3
openstack%2Ftripleo-common~stable%2Ftrain~Ib6fed59337f3dac07264052aaf2973ec5a69504f,openstack/tripleo-common,stable/train,Ib6fed59337f3dac07264052aaf2973ec5a69504f,Reduce workers for label lookups,MERGED,2020-08-05 17:06:07.000000000,2020-08-06 03:55:45.000000000,2020-08-06 03:53:25.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 17:06:07.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/933b52b1bd5178dd9fa1229b4b0175a2da911812', 'message': ""Reduce workers for label lookups\n\nUsing 16 causes excessive auth requests and gets us rate limited\nupstream. Let's make this dynamic so that the upstream VMs will use less\nworkers.\n\nPartial-Bug: #1889122\nChange-Id: Ib6fed59337f3dac07264052aaf2973ec5a69504f\n(cherry picked from commit 5602dfd986939d4d2d19a124603c86504eb32b99)\n""}]",0,744954,933b52b1bd5178dd9fa1229b4b0175a2da911812,9,3,1,14985,,,0,"Reduce workers for label lookups

Using 16 causes excessive auth requests and gets us rate limited
upstream. Let's make this dynamic so that the upstream VMs will use less
workers.

Partial-Bug: #1889122
Change-Id: Ib6fed59337f3dac07264052aaf2973ec5a69504f
(cherry picked from commit 5602dfd986939d4d2d19a124603c86504eb32b99)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/54/744954/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,933b52b1bd5178dd9fa1229b4b0175a2da911812,bug/1889122," workers = min(max(2, processutils.get_worker_count() // 2), 8) with futures.ThreadPoolExecutor(max_workers=workers) as p:", with futures.ThreadPoolExecutor(max_workers=16) as p:,2,1
openstack%2Ftripleo-common~stable%2Fussuri~Ib6fed59337f3dac07264052aaf2973ec5a69504f,openstack/tripleo-common,stable/ussuri,Ib6fed59337f3dac07264052aaf2973ec5a69504f,Reduce workers for label lookups,MERGED,2020-08-05 17:05:31.000000000,2020-08-06 03:55:17.000000000,2020-08-06 03:53:26.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 17:05:31.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/84fc9430e261b41237fc92e58fc41aaea033ce8f', 'message': ""Reduce workers for label lookups\n\nUsing 16 causes excessive auth requests and gets us rate limited\nupstream. Let's make this dynamic so that the upstream VMs will use less\nworkers.\n\nPartial-Bug: #1889122\nChange-Id: Ib6fed59337f3dac07264052aaf2973ec5a69504f\n(cherry picked from commit 5602dfd986939d4d2d19a124603c86504eb32b99)\n""}]",0,744952,84fc9430e261b41237fc92e58fc41aaea033ce8f,9,3,1,14985,,,0,"Reduce workers for label lookups

Using 16 causes excessive auth requests and gets us rate limited
upstream. Let's make this dynamic so that the upstream VMs will use less
workers.

Partial-Bug: #1889122
Change-Id: Ib6fed59337f3dac07264052aaf2973ec5a69504f
(cherry picked from commit 5602dfd986939d4d2d19a124603c86504eb32b99)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/744952/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,84fc9430e261b41237fc92e58fc41aaea033ce8f,bug/1889122," workers = min(max(2, processutils.get_worker_count() // 2), 8) with futures.ThreadPoolExecutor(max_workers=workers) as p:", with futures.ThreadPoolExecutor(max_workers=16) as p:,2,1
openstack%2Ftripleo-ci~master~Ia43913fc695a972748e57c1eb603b07babaec5b1,openstack/tripleo-ci,master,Ia43913fc695a972748e57c1eb603b07babaec5b1,Make ussuri scen0 multinode upgrade job voting and gating,MERGED,2020-07-21 13:05:10.000000000,2020-08-06 03:53:24.000000000,2020-08-06 03:53:24.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 26343}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-07-21 13:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ce2f9cb79132efcce111ad51c141fb56de0928e', 'message': 'Make ussuri scen0 multinode upgrade job voting and gating\n\nThe job was added in [1] and should be voting asap - it is green\ncurrently (see test at [2]). The upgrades/updates jobs for stable\nbranches should be voting. Tracked by tripleo-ci at [3].\n\n[1] https://review.opendev.org/739217\n[2] https://review.opendev.org/#/c/739457/\n[3] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nChange-Id: Ia43913fc695a972748e57c1eb603b07babaec5b1\n'}, {'number': 2, 'created': '2020-07-22 10:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1dd43cb584a8617cdc97d5451b87b1901d062147', 'message': 'Make ussuri scen0 multinode upgrade job voting and gating\n\nThe job was added in [1] and should be voting asap - it is green\ncurrently (see test at [2]). The upgrades/updates jobs for stable\nbranches should be voting. Tracked by tripleo-ci at [3]. The\nrelated-bug blocks this review - merging this means the bug is\nresolved.\n\n[1] https://review.opendev.org/739217\n[2] https://review.opendev.org/#/c/739457/\n[3] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nRelated-Bug: 1888398\nChange-Id: Ia43913fc695a972748e57c1eb603b07babaec5b1\n'}, {'number': 3, 'created': '2020-07-22 13:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bb53044f7f91cde9436419d38c6c09b3ac825a25', 'message': 'Make ussuri scen0 multinode upgrade job voting and gating\n\nThe job was added in [1] and should be voting asap - it is green\ncurrently (see test at [2]). The upgrades/updates jobs for stable\nbranches should be voting. Tracked by tripleo-ci at [3]. The\nrelated-bug blocks this review - merging this means the bug is\nresolved.\n\n[1] https://review.opendev.org/739217\n[2] https://review.opendev.org/#/c/739457/\n[3] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nRelated-Bug: 1888488\nChange-Id: Ia43913fc695a972748e57c1eb603b07babaec5b1\n'}, {'number': 4, 'created': '2020-08-03 12:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7dcdfca3a1d8699adffcce666ab2ce333c604165', 'message': 'Make ussuri scen0 multinode upgrade job voting and gating\n\nThe job was added in [1] and should be voting asap - it is green\ncurrently (see test at [2]). The upgrades/updates jobs for stable\nbranches should be voting. Tracked by tripleo-ci at [3]. The\nrelated-bug blocks this review - merging this means the bug is\nresolved.\n\n[1] https://review.opendev.org/739217\n[2] https://review.opendev.org/#/c/739457/\n[3] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nRelated-Bug: 1888488\nChange-Id: Ia43913fc695a972748e57c1eb603b07babaec5b1\n'}, {'number': 5, 'created': '2020-08-05 18:56:28.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9df925f5f82445ae8122ac3390ea8f59a3b297cf', 'message': 'Make ussuri scen0 multinode upgrade job voting and gating\n\nThe job was added in [1] and should be voting asap - it is green\ncurrently (see test at [2]). The upgrades/updates jobs for stable\nbranches should be voting. Tracked by tripleo-ci at [3]. The\nrelated-bug blocks this review - merging this means the bug is\nresolved.\n\n[1] https://review.opendev.org/739217\n[2] https://review.opendev.org/#/c/739457/\n[3] https://tree.taiga.io/project/tripleo-ci-board/task/1817\n\nRelated-Bug: 1888488\nChange-Id: Ia43913fc695a972748e57c1eb603b07babaec5b1\n'}]",1,742182,9df925f5f82445ae8122ac3390ea8f59a3b297cf,67,15,5,8449,,,0,"Make ussuri scen0 multinode upgrade job voting and gating

The job was added in [1] and should be voting asap - it is green
currently (see test at [2]). The upgrades/updates jobs for stable
branches should be voting. Tracked by tripleo-ci at [3]. The
related-bug blocks this review - merging this means the bug is
resolved.

[1] https://review.opendev.org/739217
[2] https://review.opendev.org/#/c/739457/
[3] https://tree.taiga.io/project/tripleo-ci-board/task/1817

Related-Bug: 1888488
Change-Id: Ia43913fc695a972748e57c1eb603b07babaec5b1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/82/742182/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,2ce2f9cb79132efcce111ad51c141fb56de0928e,centos8_upgrades_jobs, - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-scenario000-multinode-oooq-container-upgrades-ussuri: irrelevant-files: *multinode_ignored voting: true, voting: false,5,1
openstack%2Ftripleo-heat-templates~master~Ia0143c7d2202bd8efaf08b70ce06090fd11dde55,openstack/tripleo-heat-templates,master,Ia0143c7d2202bd8efaf08b70ce06090fd11dde55,Add role file for controller nodes without swift storage,ABANDONED,2020-06-21 23:24:42.000000000,2020-08-06 03:51:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-21 23:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e65b5ef54e976d6ebee44aed0d541b63e6d2cbbd', 'message': 'Add role file for controller nodes without swift storage\n\nThis change introduces a new role, ControllerNoSwiftStorage, to deploy\nController nodes without storage services for swift, so that operators\ncan use pre-defined roles when they deploy overcloud with independent\nobject storage nodes.\n\nChange-Id: Ia0143c7d2202bd8efaf08b70ce06090fd11dde55\n'}, {'number': 2, 'created': '2020-06-21 23:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc72b4aa841bc1c3764fc409aedb42578251f37c', 'message': 'Add role file for controller nodes without swift storage\n\nThis change introduces a new role, ControllerNoSwiftStorage, to deploy\ncontroller nodes without storage services for swift, so that operators\ncan use pre-defined roles when they deploy overcloud with independent\nobject storage nodes.\n\nChange-Id: Ia0143c7d2202bd8efaf08b70ce06090fd11dde55\n'}, {'number': 3, 'created': '2020-06-21 23:33:10.000000000', 'files': ['roles/ControllerNoSwiftStorage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/961ec67d25ac725e8ade611bdbdf7f97c97fdda3', 'message': 'Add role file for controller nodes without swift storage\n\nThis change introduces a new role, ControllerNoSwiftStorage, to deploy\ncontroller nodes without storage services for swift, so that operators\ncan use pre-defined roles when they deploy overcloud with independent\nobject storage nodes.\n\nChange-Id: Ia0143c7d2202bd8efaf08b70ce06090fd11dde55\n'}]",0,737197,961ec67d25ac725e8ade611bdbdf7f97c97fdda3,6,2,3,9816,,,0,"Add role file for controller nodes without swift storage

This change introduces a new role, ControllerNoSwiftStorage, to deploy
controller nodes without storage services for swift, so that operators
can use pre-defined roles when they deploy overcloud with independent
object storage nodes.

Change-Id: Ia0143c7d2202bd8efaf08b70ce06090fd11dde55
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/737197/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ControllerNoSwiftStorage.yaml'],1,e65b5ef54e976d6ebee44aed0d541b63e6d2cbbd,ctr-no-swift,"############################################################################### # Role: Controller # ############################################################################### - name: Controller description: | Controller role that has all the controler services loaded and handles Database, Messaging and Network functions. CountDefault: 1 tags: - primary - controller networks: External: subnet: external_subnet InternalApi: subnet: internal_api_subnet Storage: subnet: storage_subnet StorageMgmt: subnet: storage_mgmt_subnet Tenant: subnet: tenant_subnet # For systems with both IPv4 and IPv6, you may specify a gateway network for # each, such as ['ControlPlane', 'External'] default_route_networks: ['External'] HostnameFormatDefault: '%stackname%-controller-%index%' # Deprecated & backward-compatible values (FIXME: Make parameters consistent) # Set uses_deprecated_params to True if any deprecated params are used. uses_deprecated_params: True deprecated_param_extraconfig: 'controllerExtraConfig' deprecated_param_flavor: 'OvercloudControlFlavor' deprecated_param_image: 'controllerImage' deprecated_nic_config_name: 'controller.yaml' update_serial: 1 ServicesDefault: - OS::TripleO::Services::Aide - OS::TripleO::Services::AodhApi - OS::TripleO::Services::AodhEvaluator - OS::TripleO::Services::AodhListener - OS::TripleO::Services::AodhNotifier - OS::TripleO::Services::AuditD - OS::TripleO::Services::BarbicanApi - OS::TripleO::Services::BarbicanBackendSimpleCrypto - OS::TripleO::Services::BarbicanBackendDogtag - OS::TripleO::Services::BarbicanBackendKmip - OS::TripleO::Services::BarbicanBackendPkcs11Crypto - OS::TripleO::Services::BootParams - OS::TripleO::Services::CACerts - OS::TripleO::Services::CeilometerAgentCentral - OS::TripleO::Services::CeilometerAgentNotification - OS::TripleO::Services::CephExternal - OS::TripleO::Services::CephGrafana - OS::TripleO::Services::CephMds - OS::TripleO::Services::CephMgr - OS::TripleO::Services::CephMon - OS::TripleO::Services::CephRbdMirror - OS::TripleO::Services::CephRgw - OS::TripleO::Services::CertmongerUser - OS::TripleO::Services::CinderApi - OS::TripleO::Services::CinderBackendDellSc - OS::TripleO::Services::CinderBackendDellEMCPowermax - OS::TripleO::Services::CinderBackendDellEMCSc - OS::TripleO::Services::CinderBackendDellEMCUnity - OS::TripleO::Services::CinderBackendDellEMCVMAXISCSI - OS::TripleO::Services::CinderBackendDellEMCVNX - OS::TripleO::Services::CinderBackendDellEMCVxFlexOS - OS::TripleO::Services::CinderBackendDellEMCXtremio - OS::TripleO::Services::CinderBackendDellEMCXTREMIOISCSI - OS::TripleO::Services::CinderBackendNetApp - OS::TripleO::Services::CinderBackendPure - OS::TripleO::Services::CinderBackendScaleIO - OS::TripleO::Services::CinderBackendVRTSHyperScale - OS::TripleO::Services::CinderBackendNVMeOF - OS::TripleO::Services::CinderBackup - OS::TripleO::Services::CinderHPELeftHandISCSI - OS::TripleO::Services::CinderScheduler - OS::TripleO::Services::CinderVolume - OS::TripleO::Services::Clustercheck - OS::TripleO::Services::Collectd - OS::TripleO::Services::ContainerImagePrepare - OS::TripleO::Services::DesignateApi - OS::TripleO::Services::DesignateCentral - OS::TripleO::Services::DesignateProducer - OS::TripleO::Services::DesignateWorker - OS::TripleO::Services::DesignateMDNS - OS::TripleO::Services::DesignateSink - OS::TripleO::Services::Etcd - OS::TripleO::Services::ExternalSwiftProxy - OS::TripleO::Services::GlanceApi - OS::TripleO::Services::GnocchiApi - OS::TripleO::Services::GnocchiMetricd - OS::TripleO::Services::GnocchiStatsd - OS::TripleO::Services::HAproxy - OS::TripleO::Services::HeatApi - OS::TripleO::Services::HeatApiCloudwatch - OS::TripleO::Services::HeatApiCfn - OS::TripleO::Services::HeatEngine - OS::TripleO::Services::Horizon - OS::TripleO::Services::IpaClient - OS::TripleO::Services::Ipsec - OS::TripleO::Services::IronicApi - OS::TripleO::Services::IronicConductor - OS::TripleO::Services::IronicInspector - OS::TripleO::Services::IronicPxe - OS::TripleO::Services::IronicNeutronAgent - OS::TripleO::Services::Iscsid - OS::TripleO::Services::Kernel - OS::TripleO::Services::Keystone - OS::TripleO::Services::LoginDefs - OS::TripleO::Services::ManilaApi - OS::TripleO::Services::ManilaBackendCephFs - OS::TripleO::Services::ManilaBackendIsilon - OS::TripleO::Services::ManilaBackendNetapp - OS::TripleO::Services::ManilaBackendUnity - OS::TripleO::Services::ManilaBackendVNX - OS::TripleO::Services::ManilaBackendVMAX - OS::TripleO::Services::ManilaScheduler - OS::TripleO::Services::ManilaShare - OS::TripleO::Services::Memcached - OS::TripleO::Services::MetricsQdr - OS::TripleO::Services::MistralApi - OS::TripleO::Services::MistralEngine - OS::TripleO::Services::MistralExecutor - OS::TripleO::Services::MistralEventEngine - OS::TripleO::Services::Multipathd - OS::TripleO::Services::MySQL - OS::TripleO::Services::MySQLClient - OS::TripleO::Services::NeutronApi - OS::TripleO::Services::NeutronBgpVpnApi - OS::TripleO::Services::NeutronSfcApi - OS::TripleO::Services::NeutronCorePlugin - OS::TripleO::Services::NeutronDhcpAgent - OS::TripleO::Services::NeutronL2gwAgent - OS::TripleO::Services::NeutronL2gwApi - OS::TripleO::Services::NeutronL3Agent - OS::TripleO::Services::NeutronLinuxbridgeAgent - OS::TripleO::Services::NeutronMetadataAgent - OS::TripleO::Services::NeutronML2FujitsuCfab - OS::TripleO::Services::NeutronML2FujitsuFossw - OS::TripleO::Services::NeutronOvsAgent - OS::TripleO::Services::NeutronVppAgent - OS::TripleO::Services::NeutronAgentsIBConfig - OS::TripleO::Services::NovaApi - OS::TripleO::Services::NovaConductor - OS::TripleO::Services::NovaIronic - OS::TripleO::Services::NovaMetadata - OS::TripleO::Services::NovaScheduler - OS::TripleO::Services::NovaVncProxy - OS::TripleO::Services::ContainersLogrotateCrond - OS::TripleO::Services::OctaviaApi - OS::TripleO::Services::OctaviaDeploymentConfig - OS::TripleO::Services::OctaviaHealthManager - OS::TripleO::Services::OctaviaHousekeeping - OS::TripleO::Services::OctaviaWorker - OS::TripleO::Services::OpenStackClients - OS::TripleO::Services::OVNDBs - OS::TripleO::Services::OVNController - OS::TripleO::Services::Pacemaker - OS::TripleO::Services::PlacementApi - OS::TripleO::Services::OsloMessagingRpc - OS::TripleO::Services::OsloMessagingNotify - OS::TripleO::Services::Podman - OS::TripleO::Services::Rear - OS::TripleO::Services::Redis - OS::TripleO::Services::Rhsm - OS::TripleO::Services::Rsyslog - OS::TripleO::Services::RsyslogSidecar - OS::TripleO::Services::SaharaApi - OS::TripleO::Services::SaharaEngine - OS::TripleO::Services::Securetty - OS::TripleO::Services::Snmp - OS::TripleO::Services::Sshd - OS::TripleO::Services::SwiftProxy - OS::TripleO::Services::SwiftDispersion - OS::TripleO::Services::SwiftRingBuilder - OS::TripleO::Services::Timesync - OS::TripleO::Services::Timezone - OS::TripleO::Services::TripleoFirewall - OS::TripleO::Services::TripleoPackages - OS::TripleO::Services::Tuned - OS::TripleO::Services::Vpp - OS::TripleO::Services::Zaqar ",,182,0
openstack%2Ftripleo-common~master~I4966641aed1a21be60d915ea58dda78b80fe0e1f,openstack/tripleo-common,master,I4966641aed1a21be60d915ea58dda78b80fe0e1f,Stop doing tag_from_label lookup with tag,MERGED,2020-08-05 14:44:51.000000000,2020-08-06 03:23:54.000000000,2020-08-06 03:22:40.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 14:44:51.000000000', 'files': ['releasenotes/notes/skip-tag-lookup-if-tag-specified-2284c45dc0f87693.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/014d985f0836340b03d3c2cdeaae8717cfd1ea6b', 'message': ""Stop doing tag_from_label lookup with tag\n\nWhen using specifying ContainerImagePrepare if a tag is explicitly\nprovided in a set, the tag_from_label functionality will not be run as\nwe use the defined tag for the containers. Previously we would still\nattempt tag lookups even if we wanted a specific tag.\n\nThis would also cause failures during the deployment if using a\nnamespace that didn't have the defined tag_from_label format but we\ndefined a specific tag we wanted to use. e.g. using a tag with a md5 vs\na tag_from_label with numbers in it.\n\nChange-Id: I4966641aed1a21be60d915ea58dda78b80fe0e1f\nPartial-Bug: #1889122\n""}]",0,744918,014d985f0836340b03d3c2cdeaae8717cfd1ea6b,11,5,1,14985,,,0,"Stop doing tag_from_label lookup with tag

When using specifying ContainerImagePrepare if a tag is explicitly
provided in a set, the tag_from_label functionality will not be run as
we use the defined tag for the containers. Previously we would still
attempt tag lookups even if we wanted a specific tag.

This would also cause failures during the deployment if using a
namespace that didn't have the defined tag_from_label format but we
defined a specific tag we wanted to use. e.g. using a tag with a md5 vs
a tag_from_label with numbers in it.

Change-Id: I4966641aed1a21be60d915ea58dda78b80fe0e1f
Partial-Bug: #1889122
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/744918/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/skip-tag-lookup-if-tag-specified-2284c45dc0f87693.yaml', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",3,014d985f0836340b03d3c2cdeaae8717cfd1ea6b,bug/1889122," @mock.patch('tripleo_common.image.kolla_builder.container_images_prepare') @mock.patch('tripleo_common.image.image_uploader.ImageUploadManager', autospec=True) def test_container_images_prepare_multi_tag_from_label(self, mock_im, mock_cip): mock_lock = mock.MagicMock() mapping_args = { 'namespace': 't', 'name_prefix': '', 'name_suffix': '', 'tag': 'l', } mapping_args_no_tag = { 'namespace': 't', 'name_prefix': '', 'name_suffix': '', } env = { 'parameter_defaults': { 'ContainerImagePrepare': [{ 'set': mapping_args_no_tag, 'tag_from_label': 'foo', }, { 'set': mapping_args, 'tag_from_label': 'bar', 'excludes': ['nova', 'neutron'], 'push_destination': '192.0.2.1:8787', 'modify_role': 'add-foo-plugin', 'modify_only_with_labels': ['kolla_version'], 'modify_vars': {'foo_version': '1.0.1'}, 'modify_append_tag': 'modify-123' }] } } roles_data = [] mock_cip.side_effect = [ { 'image_params': { 'FooImage': 't/foo:latest', 'BarImage': 't/bar:latest', 'BazImage': 't/baz:latest', 'BinkImage': 't/bink:latest' }, 'upload_data': [] }, { 'image_params': { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0' }, 'upload_data': [{ 'imagename': 't/bar:1.0', 'push_destination': '192.0.2.1:8787' }, { 'imagename': 't/baz:1.0', 'push_destination': '192.0.2.1:8787' }] }, ] image_params = kb.container_images_prepare_multi(env, roles_data, True, lock=mock_lock) mock_cip.assert_has_calls([ mock.call( excludes=None, includes=None, mapping_args=mapping_args_no_tag, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination=None, service_filter=None, tag_from_label='foo', append_tag=mock.ANY, modify_role=None, modify_only_with_labels=None, modify_vars=None, mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock ), mock.call( excludes=['nova', 'neutron'], includes=None, mapping_args=mapping_args, output_env_file='image_params', output_images_file='upload_data', pull_source=None, push_destination='192.0.2.1:8787', service_filter=None, tag_from_label=None, append_tag=mock.ANY, modify_role='add-foo-plugin', modify_only_with_labels=['kolla_version'], modify_vars={'foo_version': '1.0.1'}, mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock ) ]) mock_im.assert_called_once_with(mock.ANY, dry_run=True, cleanup='full', mirrors={}, registry_credentials=None, multi_arch=False, lock=mock_lock) self.assertEqual( { 'BarImage': 't/bar:1.0', 'BazImage': 't/baz:1.0', 'BinkImage': 't/bink:latest', 'FooImage': 't/foo:latest' }, image_params ) "," 'tag': 'l', 'tag': 'l',",131,3
openstack%2Ftacker-specs~master~I935a3d6338cfa18f4aa4de0a847a091ee0090ba7,openstack/tacker-specs,master,I935a3d6338cfa18f4aa4de0a847a091ee0090ba7,Fix broken link in Tacker Mitaka Spec,MERGED,2020-08-05 07:35:18.000000000,2020-08-06 03:09:52.000000000,2020-08-06 03:08:28.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2020-08-05 07:35:18.000000000', 'files': ['specs/mitaka/multi-site-feature.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2cbda0a26a377eab776c00f968d18dd6a6976ed3', 'message': 'Fix broken link in Tacker Mitaka Spec\n\n* The sub-section ""VIM id in VNF Creation"" in ""Proposed changes""\nrefers to old TOSCA template link [1] it should be [2].\n* The User Documentation section refers to a broken link [3] which\n  should be [4].\n[1]https://github.com/openstack/tacker/blob/master/devstack/samples/sample-vnfd.yaml#L25\n[2]https://opendev.org/openstack/tacker/src/branch/master/samples/tosca-templates/vnffg-nsd/tosca-vnfd1-sample.yaml#L28\n[3]http://tacker-docs.readthedocs.org/en/latest/index.html\n[4]https://docs.openstack.org/tacker/latest/user/multisite_vim_usage_guide.html\n\nChange-Id: I935a3d6338cfa18f4aa4de0a847a091ee0090ba7\nCloses-Bug: #1890240\n'}]",0,744839,2cbda0a26a377eab776c00f968d18dd6a6976ed3,8,5,1,32102,,,0,"Fix broken link in Tacker Mitaka Spec

* The sub-section ""VIM id in VNF Creation"" in ""Proposed changes""
refers to old TOSCA template link [1] it should be [2].
* The User Documentation section refers to a broken link [3] which
  should be [4].
[1]https://github.com/openstack/tacker/blob/master/devstack/samples/sample-vnfd.yaml#L25
[2]https://opendev.org/openstack/tacker/src/branch/master/samples/tosca-templates/vnffg-nsd/tosca-vnfd1-sample.yaml#L28
[3]http://tacker-docs.readthedocs.org/en/latest/index.html
[4]https://docs.openstack.org/tacker/latest/user/multisite_vim_usage_guide.html

Change-Id: I935a3d6338cfa18f4aa4de0a847a091ee0090ba7
Closes-Bug: #1890240
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/39/744839/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/mitaka/multi-site-feature.rst'],1,2cbda0a26a377eab776c00f968d18dd6a6976ed3,bug/1890240,.. [#] https://opendev.org/openstack/tacker/src/branch/master/samples/tosca-templates/vnffg-nsd/tosca-vnfd1-sample.yaml#L28.. [#] https://docs.openstack.org/tacker/latest/user/multisite_vim_usage_guide.html,.. [#] https://github.com/openstack/tacker/blob/master/devstack/samples/sample-vnfd.yaml#L25.. [#] http://tacker-docs.readthedocs.org/en/latest/index.html,2,2
openstack%2Ftacker-horizon~master~Ib51838017f207ad93d2abb063d965a409a138051,openstack/tacker-horizon,master,Ib51838017f207ad93d2abb063d965a409a138051,[goal] Migrate testing to ubuntu focal,MERGED,2020-08-04 03:32:24.000000000,2020-08-06 02:44:03.000000000,2020-08-06 02:42:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-08-04 03:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/db9b06156de9aabbf4c6ba08a39d4da26e23be34', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40222\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ib51838017f207ad93d2abb063d965a409a138051\n'}, {'number': 2, 'created': '2020-08-04 07:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/60978c81ab525848c4b1e0674302648edda0254f', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40222\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ib51838017f207ad93d2abb063d965a409a138051\n'}, {'number': 3, 'created': '2020-08-04 08:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/e1c3d1c1694b91632b79e15efa2476e004b709ad', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40222\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ib51838017f207ad93d2abb063d965a409a138051\n'}, {'number': 4, 'created': '2020-08-04 09:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/cfed5730536d49820d07dadd7bb7c0566f584ef1', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40222\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ib51838017f207ad93d2abb063d965a409a138051\n'}, {'number': 5, 'created': '2020-08-04 09:54:55.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/0865bba79f6082ae294d2dcd21b3596334c571c9', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8\nsupport in their later version.\n\nStory: #2007865\nTask: #40222\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal\n\nChange-Id: Ib51838017f207ad93d2abb063d965a409a138051\n'}]",0,744610,0865bba79f6082ae294d2dcd21b3596334c571c9,18,4,5,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8
support in their later version.

Story: #2007865
Task: #40222

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal

Change-Id: Ib51838017f207ad93d2abb063d965a409a138051
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/10/744610/5 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,db9b06156de9aabbf4c6ba08a39d4da26e23be34,migrate-to-focal,#test focal,,1,0
openstack%2Fpuppet-cinder~master~Ib88500a765c29a887c58c21d31cd39fcc43c7f6c,openstack/puppet-cinder,master,Ib88500a765c29a887c58c21d31cd39fcc43c7f6c,Deprecating VxFlexOS for rebranding,MERGED,2020-07-20 19:53:57.000000000,2020-08-06 02:06:42.000000000,2020-08-06 02:04:28.000000000,"[{'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 10379}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-07-20 19:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0a0a17daaa6f74b0db9b17b61841d6fc5169afeb', 'message': 'Deprecating VxFlexOS for rebranding\n\nVxFlexOS is rebranded to Powerflex.\ncinder::backend::dellemc_vxflexos is not supported anymore,\nuse rebranded resource cinder::backend::dellemc_powerflex instead.\n\nChange-Id: Ib88500a765c29a887c58c21d31cd39fcc43c7f6c\n'}, {'number': 2, 'created': '2020-07-20 20:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1912061a198971ebf8186b4e0009b23cc6325180', 'message': 'Deprecating VxFlexOS for rebranding\n\nVxFlexOS is rebranded to Powerflex.\ncinder::backend::dellemc_vxflexos is not supported anymore,\nuse rebranded resource cinder::backend::dellemc_powerflex instead.\n\nChange-Id: Ib88500a765c29a887c58c21d31cd39fcc43c7f6c\n'}, {'number': 3, 'created': '2020-07-20 20:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6f6cbd1425d5b6d2aaea839757dbf586f7e30df0', 'message': 'Deprecating VxFlexOS for rebranding\n\nVxFlexOS is rebranded to Powerflex.\ncinder::backend::dellemc_vxflexos is not supported anymore,\nuse rebranded resource cinder::backend::dellemc_powerflex instead.\n\nChange-Id: Ib88500a765c29a887c58c21d31cd39fcc43c7f6c\n'}, {'number': 4, 'created': '2020-07-22 20:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/53af07e7ba41ef72547dff11d60f1db4dd8b233f', 'message': 'Deprecating VxFlexOS for rebranding\n\nVxFlexOS is rebranded to Powerflex.\ncinder::backend::dellemc_vxflexos is not supported anymore,\nuse rebranded resource cinder::backend::dellemc_powerflex instead.\n\nDepends-On: https://review.opendev.org/#/c/742016/\nChange-Id: Ib88500a765c29a887c58c21d31cd39fcc43c7f6c\n'}, {'number': 5, 'created': '2020-07-27 21:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/21815ce0885119c2735d64d82c616965089bb905', 'message': 'Deprecating VxFlexOS for rebranding\n\nVxFlexOS is rebranded to Powerflex.\ncinder::backend::dellemc_vxflexos is deprecated,\nuse rebranded resource cinder::backend::dellemc_powerflex instead.\n\nDepends-On: https://review.opendev.org/#/c/742016/\nChange-Id: Ib88500a765c29a887c58c21d31cd39fcc43c7f6c\n'}, {'number': 6, 'created': '2020-07-27 22:34:50.000000000', 'files': ['manifests/backend/dellemc_vxflexos.pp', 'releasenotes/notes/vxflexos-driver-deprecate-f428e372280c44e4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8d8a57335e5baded6a208665763941ae7658bf3e', 'message': 'Deprecating VxFlexOS for rebranding\n\nVxFlexOS is rebranded to Powerflex.\ncinder::backend::dellemc_vxflexos is deprecated,\nuse rebranded resource cinder::backend::dellemc_powerflex instead.\n\nDepends-On: https://review.opendev.org/#/c/742016/\nChange-Id: Ib88500a765c29a887c58c21d31cd39fcc43c7f6c\n'}]",5,742018,8d8a57335e5baded6a208665763941ae7658bf3e,31,7,6,10379,,,0,"Deprecating VxFlexOS for rebranding

VxFlexOS is rebranded to Powerflex.
cinder::backend::dellemc_vxflexos is deprecated,
use rebranded resource cinder::backend::dellemc_powerflex instead.

Depends-On: https://review.opendev.org/#/c/742016/
Change-Id: Ib88500a765c29a887c58c21d31cd39fcc43c7f6c
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/18/742018/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_vxflexos.pp', 'releasenotes/notes/vxflexos-driver-deprecate-f428e372280c44e4.yaml']",2,0a0a17daaa6f74b0db9b17b61841d6fc5169afeb,deprecate-vxflex,"--- deprecations: - VxFlexOS is rebranded to Powerflex. cinder::backend::dellemc_vxflexos is not supported anymore, use rebranded resource cinder::backend::dellemc_powerflex instead. ",,8,0
openstack%2Fpuppet-cinder~master~I831cd341a838280bdd91bdca94af1a860cdc8006,openstack/puppet-cinder,master,I831cd341a838280bdd91bdca94af1a860cdc8006,Support for PowerFlex cinder backend,MERGED,2020-07-20 19:39:57.000000000,2020-08-06 02:05:33.000000000,2020-08-06 02:04:27.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 10379}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-07-20 19:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8d7fe22bd8854be3e3836169ab733a45e45d76e7', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nVxFlex OS driver is rebranded to PowerFlex.\nWill deprecate the VxFlexOS template in\na new patch\n\nChange-Id: I831cd341a838280bdd91bdca94af1a860cdc8006\n'}, {'number': 2, 'created': '2020-07-20 20:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4de7589b262ba0c541bcab04443155d8c5179cb2', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nVxFlex OS driver is rebranded to PowerFlex.\nWill deprecate the VxFlexOS template in\na new patch\n\nChange-Id: I831cd341a838280bdd91bdca94af1a860cdc8006\n'}, {'number': 3, 'created': '2020-07-22 16:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/640d9972cf82a55745b4bdf099db4d76d91f348e', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nVxFlex OS driver is rebranded to PowerFlex.\nWill deprecate the VxFlexOS template in\na new patch\n\nDepends-On: https://review.opendev.org/#/c/740522/\nChange-Id: I831cd341a838280bdd91bdca94af1a860cdc8006\n'}, {'number': 4, 'created': '2020-07-27 17:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1a1d058a3c85f688af813397efa1213501683701', 'message': 'Support for PowerFlex cinder backend\n\nVxFlex OS driver is rebranded to PowerFlex.\nThis patch adds support for PowerFlex\nWill deprecate the VxFlexOS template in\na new patch\n\nDepends-On: https://review.opendev.org/#/c/740522/\nChange-Id: I831cd341a838280bdd91bdca94af1a860cdc8006\n'}, {'number': 5, 'created': '2020-07-27 22:34:16.000000000', 'files': ['manifests/backend/dellemc_powerflex.pp', 'releasenotes/notes/rebrand-vxflexos-powerflex-vxflexos-driver-abc8e372280c44e7.yaml', 'spec/defines/cinder_backend_dellemc_powerflex_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bd7576e518dbee753dfa99722a0e749c72380308', 'message': 'Support for PowerFlex cinder backend\n\nVxFlex OS driver is rebranded to PowerFlex.\nThis patch adds support for PowerFlex\nWill deprecate the VxFlexOS template in\na new patch\n\nDepends-On: https://review.opendev.org/#/c/740522/\nChange-Id: I831cd341a838280bdd91bdca94af1a860cdc8006\n'}]",10,742016,bd7576e518dbee753dfa99722a0e749c72380308,39,8,5,10379,,,0,"Support for PowerFlex cinder backend

VxFlex OS driver is rebranded to PowerFlex.
This patch adds support for PowerFlex
Will deprecate the VxFlexOS template in
a new patch

Depends-On: https://review.opendev.org/#/c/740522/
Change-Id: I831cd341a838280bdd91bdca94af1a860cdc8006
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/16/742016/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_powerflex.pp', 'releasenotes/notes/rebrand-vxflexos-powerflex-vxflexos-driver-abc8e372280c44e7.yaml', 'spec/defines/cinder_backend_dellemc_powerflex_spec.rb']",3,8d7fe22bd8854be3e3836169ab733a45e45d76e7,rebrand,"require 'spec_helper' describe 'cinder::backend::dellemc_powerflex' do let (:title) { 'powerflex' } let :params1 do { :san_login => 'admin', :san_password => 'password', :san_ip => 'powerflex.example.com', :powerflex_rest_server_port => '443', :manage_volume_type => true, :san_thin_provision => false, } end let :params2 do { :backend_availability_zone => 'my_zone', :powerflex_allow_migration_during_rebuild => 'true', :powerflex_allow_non_padded_volumes => 'false', :powerflex_max_over_subscription_ratio => '6.0', :powerflex_round_volume_capacity => true, :powerflex_server_api_version => '3.5', :powerflex_storage_pools => 'domain1:pool1,domain2:pool2', :powerflex_unmap_volume_before_deletion => false, :driver_ssl_cert_path => '/path/cert.pem', :driver_ssl_cert_verify => true, } end let :params do params1.merge(params2) end shared_examples 'cinder::backend::dellemc_powerflex' do context 'powerflex volume driver' do it { is_expected.to contain_cinder_config(""#{title}/volume_driver"").with( :value => 'cinder.volume.drivers.dell_emc.powerflex.driver.PowerFlexDriver' )} it { is_expected.to contain_cinder_config(""#{title}/san_login"").with_value('admin') is_expected.to contain_cinder_config(""#{title}/san_ip"").with_value('powerflex.example.com') is_expected.to contain_cinder_config(""#{title}/san_thin_provision"").with_value('false') is_expected.to contain_cinder_config(""#{title}/powerflex_rest_server_port"").with_value('443') } it { params2.each_pair do |config,value| is_expected.to contain_cinder_config(""#{title}/#{config}"").with_value(value) end } it { is_expected.to contain_cinder_config(""#{title}/san_password"").with_secret(true) } end context 'powerflex backend with additional configuration' do before :each do params.merge!( :extra_options => {""#{title}/param1"" => {'value' => 'value1'}} ) end it { is_expected.to contain_cinder_config(""#{title}/param1"").with_value('value1') } end context 'powerflex backend with cinder type' do before :each do params.merge!( :manage_volume_type => true ) end it { is_expected.to contain_cinder_type(""#{title}"").with( :ensure => 'present', :properties => [""volume_backend_name=#{title}""] )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'cinder::backend::dellemc_powerflex' end end end ",,243,0
openstack%2Fnova~master~I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b,openstack/nova,master,I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b,Removed the host FQDN from the exception message,MERGED,2020-07-30 11:01:30.000000000,2020-08-06 01:53:37.000000000,2020-08-05 21:42:48.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28182}, {'_account_id': 29963}, {'_account_id': 30905}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-30 11:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b3053a332de9848b6cfc5458230ca679b0eb87c', 'message': ""Removed the host FQDN from the exception message\n\nDeletion of an instance after disabling the hypervisor by a non-admin\n user leaks the host fqdn in fault msg of instance.Removing the\n'host' field from the error message of HypervisorUnavaiable\ncause it's leaking host fqdn to non-admin users. The admin user will\nsee the Hypervisor unavailable exception msg but will be able to figure\non which compute host the guest is on and that the connection is broken.\n\nChange-Id: I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b\nCloses-Bug: #1851587\n""}, {'number': 2, 'created': '2020-07-30 17:45:07.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/volume/mount.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a89ffab83261060bbb9dedb2b8de6297b2d07efd', 'message': ""Removed the host FQDN from the exception message\n\nDeletion of an instance after disabling the hypervisor by a non-admin\n user leaks the host fqdn in fault msg of instance.Removing the\n'host' field from the error message of HypervisorUnavaiable\ncause it's leaking host fqdn to non-admin users. The admin user will\nsee the Hypervisor unavailable exception msg but will be able to figure\non which compute host the guest is on and that the connection is broken.\n\nChange-Id: I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b\nCloses-Bug: #1851587\n""}]",7,743950,a89ffab83261060bbb9dedb2b8de6297b2d07efd,48,18,2,30905,,,0,"Removed the host FQDN from the exception message

Deletion of an instance after disabling the hypervisor by a non-admin
 user leaks the host fqdn in fault msg of instance.Removing the
'host' field from the error message of HypervisorUnavaiable
cause it's leaking host fqdn to non-admin users. The admin user will
see the Hypervisor unavailable exception msg but will be able to figure
on which compute host the guest is on and that the connection is broken.

Change-Id: I0eae19399670f59c17c9a1a24e1bfcbf1b514e7b
Closes-Bug: #1851587
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/743950/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/exception.py'],1,4b3053a332de9848b6cfc5458230ca679b0eb87c,bug/1851587," msg_fmt = _(""Connection to the hypervisor is broken on host"")"," msg_fmt = _(""Connection to the hypervisor is broken on host: %(host)s"")",1,1
openstack%2Fopenstack-helm-infra~master~I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a,openstack/openstack-helm-infra,master,I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a,Override configurations more than conf section.,ABANDONED,2020-01-09 07:42:49.000000000,2020-08-06 01:45:59.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29668}, {'_account_id': 30857}]","[{'number': 1, 'created': '2020-01-09 07:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c84a207c4d87737fd363d6f51db6a624385b9332', 'message': 'WIP: Ovs per-host overrides support.\n\nOvs overrides feature is in development.\nI created this patch to support parameter overrides for ovs.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37691\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 2, 'created': '2020-01-09 07:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4e5e3097ce8f56b977569fbcacd0d437627578c', 'message': 'WIP: Override configurations more than conf section.\n\nOverride configurations feature is in development.\nI created this patch to support parameter overrides for more than conf section.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 3, 'created': '2020-01-15 07:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fb89de10e147d5d679bc5dec6f0df47f57024169', 'message': 'WIP: Override configurations more than conf section.\n\nOverride configurations feature is in development.\nI created this patch to support parameter overrides for more than conf section.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 4, 'created': '2020-01-21 03:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04ebff135b28d71de9c096902a7364dda0ae56c7', 'message': 'WIP: Override configurations more than conf section.\n\nOverride configurations feature is in development.\nCreated this patch to support parameter overrides for more than conf section.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 5, 'created': '2020-01-23 03:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34159493e840f525746bd8d28cdea22015f94473', 'message': 'Override configurations more than conf section.\n\nOverride configurations feature is in development.\nCreated this patch to support parameter overrides for more than conf section.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 6, 'created': '2020-01-23 03:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/524f3898fbca90217a629433e4426fd5e0f8644e', 'message': 'Override configurations more than conf section.\n\nCreated this patch to support parameter overrides for more than conf section.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n'}, {'number': 7, 'created': '2020-03-03 15:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59e67cc2a93906309649c5f92a028cd586fb1689', 'message': ""Override configurations more than conf section.\n\nThe work of enable dpdk in starlingx needs to achieve the overrides\nof parameters such as images, tags, labels, and pods. This function\nis being implemented through the support of ovs per-host overrides.\nHowever, the current function of overrirdes only supports overriding\nthe conf section, other parameters can't be overridden. Therefore,\ncreated this patch to support parameter overrides for more than conf\nsection.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n""}, {'number': 8, 'created': '2020-03-08 10:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a1ff431761cba931a8e4bf5590aa2320b2ea59fc', 'message': ""Override configurations more than conf section.\n\nThe work of enable dpdk in starlingx needs to achieve the overrides\nof parameters such as images, tags, labels, and pods. This function\nis being implemented through the support of ovs per-host overrides.\nIf I need to implement ovs per-host overrides, I need to transfer the\nparameters of different nodes into the daemonset, such as the parameters\nof pod-> resources-> ovs-> vswitchd-> limits-> cpu. Because the limits\ncpu are not the same between different nodes, you can't use the default\nparameters to set them. You need to configure the corresponding pod\nparameters for different nodes.\nHowever, the current function of overrirdes only supports overriding\nthe conf section, other parameters can't be overridden. Therefore,\ncreated this patch to support parameter overrides for more than conf\nsection.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n""}, {'number': 9, 'created': '2020-03-15 02:13:34.000000000', 'files': ['helm-toolkit/templates/utils/_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2114db87ad499f9d04f0c2174f22ebcebbcc18f', 'message': ""Override configurations more than conf section.\n\nThe work of enable dpdk in starlingx needs to achieve the overrides\nof parameters such as images, tags, labels, and pods. This function\nis being implemented through the support of ovs per-host overrides.\nIf I need to implement ovs per-host overrides, I need to transfer the\nparameters of different nodes into the daemonset, such as the parameters\nof pod-> resources-> ovs-> vswitchd-> limits-> cpu. Because the limits\ncpu are not the same between different nodes, you can't use the default\nparameters to set them. You need to configure the corresponding pod\nparameters for different nodes.\nHowever, the current function of overrirdes only supports overriding\nthe conf section, other parameters can't be overridden. Therefore,\ncreated this patch to support parameter overrides for more than conf\nsection.\n\nChange-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a\nStory: 2006965\nTask: 37760\nSigned-off-by: songgongjun <gongjun.song@intel.com>\n""}]",0,701676,c2114db87ad499f9d04f0c2174f22ebcebbcc18f,25,7,9,30857,,,0,"Override configurations more than conf section.

The work of enable dpdk in starlingx needs to achieve the overrides
of parameters such as images, tags, labels, and pods. This function
is being implemented through the support of ovs per-host overrides.
If I need to implement ovs per-host overrides, I need to transfer the
parameters of different nodes into the daemonset, such as the parameters
of pod-> resources-> ovs-> vswitchd-> limits-> cpu. Because the limits
cpu are not the same between different nodes, you can't use the default
parameters to set them. You need to configure the corresponding pod
parameters for different nodes.
However, the current function of overrirdes only supports overriding
the conf section, other parameters can't be overridden. Therefore,
created this patch to support parameter overrides for more than conf
section.

Change-Id: I13d7063a29704c0b3fdb9fdc4fcd96b98afad27a
Story: 2006965
Task: 37760
Signed-off-by: songgongjun <gongjun.song@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/76/701676/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/utils/_daemonset_overrides.tpl'],1,c84a207c4d87737fd363d6f51db6a624385b9332,overrides," {{/* Overriders to generate images */}} {{- if hasKey $context.Values.images ""overrides"" }} {{- range $key, $val := $context.Values.images.overrides }} {{- if eq $key $daemonset_root_name }} {{- range $type, $type_data := . }} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{/* dictionary that will contain all info needed to generate this iteration of the daemonset */}} {{- $current_dict := dict }} {{/* set daemonset name */}} {{/* Note: long hostnames can cause the 63 char name limit to be exceeded. Truncate the hostname if hostname > 20 char */}} {{- if gt (len $host_data.name) 20 }} {{- $_ := set $current_dict ""name"" (substr 0 20 $host_data.name) }} {{- else }} {{- $_ := set $current_dict ""name"" $host_data.name }} {{- end }} {{/* apply overrides */}} {{- $override_images_copy := $host_data.images }} {{- $root_images_copy := omit ($context.Values.images | toYaml | fromYaml) ""overrides"" }} {{- $merged_dict := mergeOverwrite $root_images_copy $override_images_copy }} {{- $root_images_copy2 := dict ""images"" $merged_dict }} {{- $context_values := omit (omit ($context.Values | toYaml | fromYaml) ""images"") ""__daemonset_list"" }} {{- $root_images_copy3 := mergeOverwrite $context_values $root_images_copy2 }} {{- $root_images_copy4 := dict ""Values"" $root_images_copy3 }} {{- $_ := set $current_dict ""nodeData"" $root_images_copy4 }} {{/* Schedule to this host explicitly. */}} {{- $nodeSelector_dict := dict }} {{- $_ := set $nodeSelector_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $nodeSelector_dict ""operator"" ""In"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $nodeSelector_dict ""values"" $values_list }} {{- $list_aggregate := list $nodeSelector_dict }} {{- $_ := set $current_dict ""matchExpressions"" $list_aggregate }} {{/* store completed daemonset entry/info into global list */}} {{- range $context.Values.__daemonset_list }} {{- if not .name }} {{- $exist := ""NO"" }} {{- else }} {{- if eq .name $current_dict.name }} {{- $list_aggregate := mergeOverwrite .nodeData.Values $current_dict.nodeData.Values }} {{- $_ := set $context.Values.__daemonset_list.nodeData ""Values"" $list_aggregate }} {{- $exist := ""YES"" }} {{- else }} {{- $exist := ""NO"" }} {{- end }} {{- end }} {{- end }} {{- if eq $exist ""NO"" }} {{- $list_aggregate := append $context.Values.__daemonset_list $current_dict }} {{- $_ := set $context.Values ""__daemonset_list"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{- end }} {{/* scheduler exceptions for the default daemonset */}} {{- if not $context.Values.__default.matchExpressions }} {{- $_ := set $context.Values.__default ""matchExpressions"" list }} {{- end }} {{- range $type, $type_data := . }} {{/* Do not schedule to other specified hosts */}} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{- $default_dict := dict }} {{- $_ := set $default_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $default_dict ""operator"" ""NotIn"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $default_dict ""values"" $values_list }} {{- range $context.Values.__default }} {{- if not .matchExpressions.values }} {{- $list_aggregate := append $context.Values.__default.matchExpressions $default_dict }} {{- $_ := set $context.Values.__default ""matchExpressions"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{/* Overriders to generate labels */}} {{- if hasKey $context.Values.labels ""overrides"" }} {{- range $key, $val := $context.Values.labels.overrides }} {{- if eq $key $daemonset_root_name }} {{- range $type, $type_data := . }} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{/* dictionary that will contain all info needed to generate this iteration of the daemonset */}} {{- $current_dict := dict }} {{/* set daemonset name */}} {{/* Note: long hostnames can cause the 63 char name limit to be exceeded. Truncate the hostname if hostname > 20 char */}} {{- if gt (len $host_data.name) 20 }} {{- $_ := set $current_dict ""name"" (substr 0 20 $host_data.name) }} {{- else }} {{- $_ := set $current_dict ""name"" $host_data.name }} {{- end }} {{/* apply overrides */}} {{- $override_labels_copy := $host_data.labels }} {{- $root_labels_copy := omit ($context.Values.labels | toYaml | fromYaml) ""overrides"" }} {{- $merged_dict := mergeOverwrite $root_labels_copy $override_labels_copy }} {{- $root_labels_copy2 := dict ""labels"" $merged_dict }} {{- $context_values := omit (omit ($context.Values | toYaml | fromYaml) ""labels"") ""__daemonset_list"" }} {{- $root_labels_copy3 := mergeOverwrite $context_values $root_labels_copy2 }} {{- $root_labels_copy4 := dict ""Values"" $root_labels_copy3 }} {{- $_ := set $current_dict ""nodeData"" $root_labels_copy4 }} {{/* Schedule to this host explicitly. */}} {{- $nodeSelector_dict := dict }} {{- $_ := set $nodeSelector_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $nodeSelector_dict ""operator"" ""In"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $nodeSelector_dict ""values"" $values_list }} {{- $list_aggregate := list $nodeSelector_dict }} {{- $_ := set $current_dict ""matchExpressions"" $list_aggregate }} {{/* store completed daemonset entry/info into global list */}} {{- range $context.Values.__daemonset_list }} {{- if not .name }} {{- $exist := ""NO"" }} {{- else }} {{- if eq .name $current_dict.name }} {{- $list_aggregate := mergeOverwrite .nodeData.Values $current_dict.nodeData.Values }} {{- $_ := set $context.Values.__daemonset_list.nodeData ""Values"" $list_aggregate }} {{- $exist := ""YES"" }} {{- else }} {{- $exist := ""NO"" }} {{- end }} {{- end }} {{- end }} {{- if eq $exist ""NO"" }} {{- $list_aggregate := append $context.Values.__daemonset_list $current_dict }} {{- $_ := set $context.Values ""__daemonset_list"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{- end }} {{/* scheduler exceptions for the default daemonset */}} {{- if not $context.Values.__default.matchExpressions }} {{- $_ := set $context.Values.__default ""matchExpressions"" list }} {{- end }} {{- range $type, $type_data := . }} {{/* Do not schedule to other specified hosts */}} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{- $default_dict := dict }} {{- $_ := set $default_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $default_dict ""operator"" ""NotIn"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $default_dict ""values"" $values_list }} {{- range $context.Values.__default }} {{- if not .matchExpressions.values }} {{- $list_aggregate := append $context.Values.__default.matchExpressions $default_dict }} {{- $_ := set $context.Values.__default ""matchExpressions"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{/* Overriders to generate pod */}} {{- if hasKey $context.Values.pod ""overrides"" }} {{- range $key, $val := $context.Values.pod.overrides }} {{- if eq $key $daemonset_root_name }} {{- range $type, $type_data := . }} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{/* dictionary that will contain all info needed to generate this iteration of the daemonset */}} {{- $current_dict := dict }} {{/* set daemonset name */}} {{/* Note: long hostnames can cause the 63 char name limit to be exceeded. Truncate the hostname if hostname > 20 char */}} {{- if gt (len $host_data.name) 20 }} {{- $_ := set $current_dict ""name"" (substr 0 20 $host_data.name) }} {{- else }} {{- $_ := set $current_dict ""name"" $host_data.name }} {{- end }} {{/* apply overrides */}} {{- $override_pod_copy := $host_data.pod }} {{- $root_pod_copy := omit ($context.Values.pod | toYaml | fromYaml) ""overrides"" }} {{- $merged_dict := mergeOverwrite $root_pod_copy $override_pod_copy }} {{- $root_pod_copy2 := dict ""pod"" $merged_dict }} {{- $context_values := omit (omit ($context.Values | toYaml | fromYaml) ""pod"") ""__daemonset_list"" }} {{- $root_pod_copy3 := mergeOverwrite $context_values $root_pod_copy2 }} {{- $root_pod_copy4 := dict ""Values"" $root_pod_copy3 }} {{- $_ := set $current_dict ""nodeData"" $root_pod_copy4 }} {{/* Schedule to this host explicitly. */}} {{- $nodeSelector_dict := dict }} {{- $_ := set $nodeSelector_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $nodeSelector_dict ""operator"" ""In"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $nodeSelector_dict ""values"" $values_list }} {{- $list_aggregate := list $nodeSelector_dict }} {{- $_ := set $current_dict ""matchExpressions"" $list_aggregate }} {{/* store completed daemonset entry/info into global list */}} {{- range $context.Values.__daemonset_list }} {{- if not .name }} {{- $exist := ""NO"" }} {{- else }} {{- if eq .name $current_dict.name }} {{- $list_aggregate := mergeOverwrite .nodeData.Values $current_dict.nodeData.Values }} {{- $_ := set $context.Values.__daemonset_list.nodeData ""Values"" $list_aggregate }} {{- $exist := ""YES"" }} {{- else }} {{- $exist := ""NO"" }} {{- end }} {{- end }} {{- end }} {{- if eq $exist ""NO"" }} {{- $list_aggregate := append $context.Values.__daemonset_list $current_dict }} {{- $_ := set $context.Values ""__daemonset_list"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{- end }} {{/* scheduler exceptions for the default daemonset */}} {{- if not $context.Values.__default.matchExpressions }} {{- $_ := set $context.Values.__default ""matchExpressions"" list }} {{- end }} {{- range $type, $type_data := . }} {{/* Do not schedule to other specified hosts */}} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{- $default_dict := dict }} {{- $_ := set $default_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $default_dict ""operator"" ""NotIn"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $default_dict ""values"" $values_list }} {{- range $context.Values.__default }} {{- if not .matchExpressions.values }} {{- $list_aggregate := append $context.Values.__default.matchExpressions $default_dict }} {{- $_ := set $context.Values.__default ""matchExpressions"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- $root_images_copy1 := omit $context.Values.images ""overrides"" }} {{- $root_images_copy2 := dict ""images"" $root_images_copy1 }} {{- $context_values1 := omit $context.Values ""images"" }} {{- $root_images_copy3 := mergeOverwrite $context_values1 $root_images_copy2 }} {{- $root_images_copy4 := dict ""Values"" $root_images_copy3 }} {{- $value_aggregate1 := mergeOverwrite $context.Values.__default.nodeData.Values $root_images_copy4.Values }} {{- $_ := set $context.Values.__default.nodeData ""Values"" $value_aggregate1 }} {{- $root_labels_copy1 := omit $context.Values.labels ""overrides"" }} {{- $root_labels_copy2 := dict ""labels"" $root_labels_copy1 }} {{- $context_values2 := omit $context.Values ""labels"" }} {{- $root_labels_copy3 := mergeOverwrite $context_values2 $root_labels_copy2 }} {{- $root_labels_copy4 := dict ""Values"" $root_labels_copy3 }} {{- $value_aggregate2 := mergeOverwrite $context.Values.__default.nodeData.Values $root_labels_copy4.Values }} {{- $_ := set $context.Values.__default.nodeData ""Values"" $value_aggregate2 }} {{- $root_pod_copy1 := omit $context.Values.pod ""overrides"" }} {{- $root_pod_copy2 := dict ""pod"" $root_pod_copy1 }} {{- $context_values3 := omit $context.Values ""pod"" }} {{- $root_pod_copy3 := mergeOverwrite $context_values3 $root_pod_copy2 }} {{- $root_pod_copy4 := dict ""Values"" $root_pod_copy3 }} {{- $value_aggregate3 := mergeOverwrite $context.Values.__default.nodeData.Values $root_pod_copy4.Values }} {{- $_ := set $context.Values.__default.nodeData ""Values"" $value_aggregate3 }} ",,312,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I883e457ea60ebbf5290ab6afa9909386cc2f8f0c,openstack/tripleo-heat-templates,stable/train,I883e457ea60ebbf5290ab6afa9909386cc2f8f0c,Attempt to remove octavia tls proxy service only present,MERGED,2020-07-17 13:07:17.000000000,2020-08-06 01:17:33.000000000,2020-08-06 01:17:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 13:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94a0158c54b22b80925610be3963ab355491060e', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n(cherry picked from commit 294ad308655a78914480064278dc3a7ce4b90b9b)\n(cherry picked from commit 012a5e3cba5d9d6e010b628cda8615d16cbc8323)\n'}, {'number': 2, 'created': '2020-07-20 08:14:49.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2ee69f20b5124924a7b20f4ca420d4f869596023', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n(cherry picked from commit bf279de03f326fa53b31a08e733e15053a896492)\n(cherry picked from commit 2971c4fbb96d7c5e8d2bcfe568773929a222366e)\n'}]",0,741635,2ee69f20b5124924a7b20f4ca420d4f869596023,13,8,2,6469,,,0,"Attempt to remove octavia tls proxy service only present

If the cli is podman we try to remove the octavia tls proxy systemd
service without checking it if exists, resulting in an error on
updates/upgrades. This patch makes those steps conditional on whether
the services exists.

Change-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c
Closes-Bug: #1886833
(cherry picked from commit bf279de03f326fa53b31a08e733e15053a896492)
(cherry picked from commit 2971c4fbb96d7c5e8d2bcfe568773929a222366e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/741635/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,94a0158c54b22b80925610be3963ab355491060e,bug/1886833," - name: Remove tripleo_octavia_api_tls_proxy service when: - container_cli == 'podman' block: - name: gather the service facts if using podman service_facts: - name: stop and disable octavia_api_tls_proxy container systemd: name: tripleo_octavia_api_tls_proxy state: stopped enabled: no when: - ""'tripleo_octavia_api_tls_proxy.service' in ansible_facts.services"" - name: clean up tripleo service file for octavia_api_tls_proxy file: state: absent path: ""/etc/systemd/system/tripleo_octavia_api_tls_proxy"" when: - ""'tripleo_octavia_api_tls_proxy.service' in ansible_facts.services"" - name: reload systemd systemd: daemon-reload: yes when: - ""'tripleo_octavia_api_tls_proxy.service' in ansible_facts.services"""," - name: stop and disable octavia_api_tls_proxy container if podman systemd: name: tripleo_octavia_api_tls_proxy state: stopped enabled: no when: container_cli == 'podman' - name: clean up tripleo service file for octavia_api_tls_proxy file: state: absent path: ""/etc/systemd/system/tripleo_octavia_api_tls_proxy"" when: container_cli == 'podman' - name: reload systemd systemd: daemon-reload: yes when: container_cli == 'podman'",24,15
openstack%2Fpbr~master~I9552fba791bdf54649fbe25fc26bffdf8186ff0a,openstack/pbr,master,I9552fba791bdf54649fbe25fc26bffdf8186ff0a,Update hacking,MERGED,2020-08-05 20:26:45.000000000,2020-08-06 01:09:12.000000000,2020-08-06 01:08:02.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 20:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/5ff19b694384f4e8551531a4d99507b0a0c25b8c', 'message': 'Update hacking\n\nThis allows us to run tox -epep8 on newer python versions. Fix the\nissues newer hacking calls out. They were complaints about indentation\nand ambigious l value variable names.\n\nChange-Id: I9552fba791bdf54649fbe25fc26bffdf8186ff0a\n'}, {'number': 2, 'created': '2020-08-05 21:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/71f2c65fbbaf42dbf1cc15075d2235ce2e02de08', 'message': 'Update hacking\n\nThis allows us to run tox -epep8 on newer python versions. Fix the\nissues newer hacking calls out. They were complaints about indentation\nand ambigious l value variable names.\n\nChange-Id: I9552fba791bdf54649fbe25fc26bffdf8186ff0a\n'}, {'number': 3, 'created': '2020-08-05 22:01:27.000000000', 'files': ['test-requirements.txt', 'pbr/tests/test_commands.py', 'pbr/util.py', 'pbr/tests/test_util.py'], 'web_link': 'https://opendev.org/openstack/pbr/commit/206b795517a13d759f60ed9605eb03ca785ce10a', 'message': 'Update hacking\n\nThis allows us to run tox -epep8 on newer python versions. Fix the\nissues newer hacking calls out. They were complaints about indentation\nand ambigious l value variable names.\n\nChange-Id: I9552fba791bdf54649fbe25fc26bffdf8186ff0a\n'}]",1,744983,206b795517a13d759f60ed9605eb03ca785ce10a,11,3,3,4146,,,0,"Update hacking

This allows us to run tox -epep8 on newer python versions. Fix the
issues newer hacking calls out. They were complaints about indentation
and ambigious l value variable names.

Change-Id: I9552fba791bdf54649fbe25fc26bffdf8186ff0a
",git fetch https://review.opendev.org/openstack/pbr refs/changes/83/744983/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'pbr/tests/test_commands.py', 'pbr/util.py', 'pbr/tests/test_util.py']",4,5ff19b694384f4e8551531a4d99507b0a0c25b8c,trivial," },"," },",5,5
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I883e457ea60ebbf5290ab6afa9909386cc2f8f0c,openstack/tripleo-heat-templates,stable/ussuri,I883e457ea60ebbf5290ab6afa9909386cc2f8f0c,Attempt to remove octavia tls proxy service only present,MERGED,2020-07-17 13:06:46.000000000,2020-08-06 00:44:37.000000000,2020-08-06 00:44:37.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 13:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/012a5e3cba5d9d6e010b628cda8615d16cbc8323', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n(cherry picked from commit 294ad308655a78914480064278dc3a7ce4b90b9b)\n'}, {'number': 2, 'created': '2020-07-20 08:14:04.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2971c4fbb96d7c5e8d2bcfe568773929a222366e', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n(cherry picked from commit bf279de03f326fa53b31a08e733e15053a896492)\n'}]",0,741634,2971c4fbb96d7c5e8d2bcfe568773929a222366e,13,8,2,6469,,,0,"Attempt to remove octavia tls proxy service only present

If the cli is podman we try to remove the octavia tls proxy systemd
service without checking it if exists, resulting in an error on
updates/upgrades. This patch makes those steps conditional on whether
the services exists.

Change-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c
Closes-Bug: #1886833
(cherry picked from commit bf279de03f326fa53b31a08e733e15053a896492)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/741634/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,012a5e3cba5d9d6e010b628cda8615d16cbc8323,bug/1886833," - name: Remove tripleo_octavia_api_tls_proxy service when: - container_cli == 'podman' block: - name: gather the service facts if using podman service_facts: - name: stop and disable octavia_api_tls_proxy container systemd: name: tripleo_octavia_api_tls_proxy state: stopped enabled: no when: - ""'tripleo_octavia_api_tls_proxy.service' in ansible_facts.services"" - name: clean up tripleo service file for octavia_api_tls_proxy file: state: absent path: ""/etc/systemd/system/tripleo_octavia_api_tls_proxy"" when: - ""'tripleo_octavia_api_tls_proxy.service' in ansible_facts.services"" - name: reload systemd systemd: daemon-reload: yes when: - ""'tripleo_octavia_api_tls_proxy.service' in ansible_facts.services"""," - name: stop and disable octavia_api_tls_proxy container if podman systemd: name: tripleo_octavia_api_tls_proxy state: stopped enabled: no when: container_cli == 'podman' - name: clean up tripleo service file for octavia_api_tls_proxy file: state: absent path: ""/etc/systemd/system/tripleo_octavia_api_tls_proxy"" when: container_cli == 'podman' - name: reload systemd systemd: daemon-reload: yes when: container_cli == 'podman'",24,15
openstack%2Fglance~master~I6256a25d1907ec15fbdde560fc8eae37f3067213,openstack/glance,master,I6256a25d1907ec15fbdde560fc8eae37f3067213,Fix active image without data,MERGED,2020-07-30 16:23:03.000000000,2020-08-06 00:35:56.000000000,2020-08-06 00:34:04.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 16:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d0cf474281aff9cd05510a2020e1aa94e7bd5c17', 'message': 'Fix active image without data\n\nFixes image import resulting active image without any data\nwhen the image happens to be deleted from staging before\n_DeleteFromFS task is ran which is supposed to cleanup.\n\nChange-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213\nCloses-Bug: #1889640\n'}, {'number': 2, 'created': '2020-07-30 16:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/be46df37ead9475ecec8b6adfc9940fc15db8e8a', 'message': 'Fix active image without data\n\nFixes image import resulting active image without any data\nwhen the image happens to be deleted from staging before\n_DeleteFromFS task is ran which is supposed to cleanup.\n\nChange-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213\nCloses-Bug: #1889640\n'}, {'number': 3, 'created': '2020-07-30 16:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d9d73b322bacd05362263cf35d6a20fa9e37f8f1', 'message': 'Fix active image without data\n\nFixes image import resulting active image without any data\nwhen the image happens to be deleted from staging before\n_DeleteFromFS task is ran which is supposed to cleanup.\n\nChange-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213\nCloses-Bug: #1889640\n'}, {'number': 4, 'created': '2020-08-04 20:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/79f52a36b3dd654283a388cc2c89f92b1c108369', 'message': 'Fix active image without data\n\nFixes image import resulting active image without any data\nwhen the image happens to be deleted from staging before\n_DeleteFromFS task is ran which is supposed to cleanup.\n\nChange-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213\nCloses-Bug: #1889640\n'}, {'number': 5, 'created': '2020-08-05 06:02:43.000000000', 'files': ['glance/async_/flows/api_image_import.py', 'releasenotes/notes/fix_1889640-95d543629d7dadce.yaml', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/b985e44f795340edfceed3b46abf9b4b28907cbb', 'message': 'Fix active image without data\n\nFixes image import resulting active image without any data\nwhen the image happens to be deleted from staging before\n_DeleteFromFS task is ran which is supposed to cleanup.\n\nChange-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213\nCloses-Bug: #1889640\n'}]",3,744011,b985e44f795340edfceed3b46abf9b4b28907cbb,36,6,5,5202,,,0,"Fix active image without data

Fixes image import resulting active image without any data
when the image happens to be deleted from staging before
_DeleteFromFS task is ran which is supposed to cleanup.

Change-Id: I6256a25d1907ec15fbdde560fc8eae37f3067213
Closes-Bug: #1889640
",git fetch https://review.opendev.org/openstack/glance refs/changes/11/744011/5 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async_/flows/api_image_import.py', 'releasenotes/notes/fix_1889640-95d543629d7dadce.yaml']",2,d0cf474281aff9cd05510a2020e1aa94e7bd5c17,bug/1889640,--- fixes: - | Bug 1889640_: Mixed message in admin docs to deploy under httpd .. _1889640: https://bugs.launchpad.net/glance/+bug/1887994 ,,13,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I0ea26253355a57b3721bfa6ceef3972eaabc5b1d,openstack/puppet-tripleo,stable/ussuri,I0ea26253355a57b3721bfa6ceef3972eaabc5b1d,Add certmonger-etcd-refresh.sh script,MERGED,2020-08-04 17:43:25.000000000,2020-08-06 00:21:03.000000000,2020-08-06 00:21:03.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 17:43:25.000000000', 'files': ['manifests/certmonger/etcd.pp', 'files/certmonger-etcd-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/37b8666f64d8d8e65c483ec37efe99ac763f62c9', 'message': 'Add certmonger-etcd-refresh.sh script\n\nAdd a script that refreshes the etcd cert and key files in all\ncontainers that reference them. This includes etcd itself, plus any\ncinder services that access etcd.\n\nChange-Id: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n(cherry picked from commit 95db8b4947f0a80a0109131eda8f66ed4acb90d6)\n'}]",0,744762,37b8666f64d8d8e65c483ec37efe99ac763f62c9,9,4,1,21129,,,0,"Add certmonger-etcd-refresh.sh script

Add a script that refreshes the etcd cert and key files in all
containers that reference them. This includes etcd itself, plus any
cinder services that access etcd.

Change-Id: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d
(cherry picked from commit 95db8b4947f0a80a0109131eda8f66ed4acb90d6)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/744762/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/etcd.pp', 'files/certmonger-etcd-refresh.sh']",2,37b8666f64d8d8e65c483ec37efe99ac763f62c9,etcd-cert-revamp,"#!/bin/bash container_cli=$(hiera -c /etc/puppet/hiera.yaml container_cli podman) # cinder uses etcd, so its containers also need to be refreshed container_names=$($container_cli ps --format=""{{.Names}}"" | grep -E 'cinder|etcd') service_crt=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::etcd::certificate_specs.service_certificate)"" service_key=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::etcd::certificate_specs.service_key)"" kolla_dir=""/var/lib/kolla/config_files/src-tls"" # For each container, check whether the cert and key files need to be updated. # The check is necessary because the original THT design directly bind mounted # the files to their final location, and did not copy them in via $kolla_dir. # Regardless of whether the container is directly using the files, or a copy, # there's no need to trigger a reload because the cert is not cached. for container_name in ${container_names[*]}; do $container_cli exec -u root ""$container_name"" bash -c "" [[ -f ${kolla_dir}/${service_crt} ]] && cp ${kolla_dir}/${service_crt} $service_crt; [[ -f ${kolla_dir}/${service_key} ]] && cp ${kolla_dir}/${service_key} $service_key; true "" done ",,31,2
openstack%2Fironic~master~Ib1eb9a238a9ae9d42782880bd6cb6b2978d39463,openstack/ironic,master,Ib1eb9a238a9ae9d42782880bd6cb6b2978d39463,Break out collection functions for json usage,MERGED,2020-07-29 05:23:36.000000000,2020-08-06 00:18:03.000000000,2020-08-05 23:50:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-29 05:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/87f665732dfc11aa16ea720aefe54603b2f3d40b', 'message': 'Break out collection functions for json usage\n\nWith this change it will be possible for both type-based and\njson-based result collections to use the same has_next/get_next\nfunctions. Once the last type-based controller is converted the\nCollection type can be deleted.\n\nChange-Id: Ib1eb9a238a9ae9d42782880bd6cb6b2978d39463\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-07-30 01:02:07.000000000', 'files': ['ironic/api/controllers/v1/collection.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fa65099de4e0f769cebb781bb3bacffee2066a2', 'message': 'Break out collection functions for json usage\n\nWith this change it will be possible for both type-based and\njson-based result collections to use the same has_next/get_next\nfunctions. Once the last type-based controller is converted the\nCollection type can be deleted.\n\nChange-Id: Ib1eb9a238a9ae9d42782880bd6cb6b2978d39463\nStory: 1651346\nTask: 10551\n'}]",1,743676,4fa65099de4e0f769cebb781bb3bacffee2066a2,23,7,2,4571,,,0,"Break out collection functions for json usage

With this change it will be possible for both type-based and
json-based result collections to use the same has_next/get_next
functions. Once the last type-based controller is converted the
Collection type can be deleted.

Change-Id: Ib1eb9a238a9ae9d42782880bd6cb6b2978d39463
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/743676/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/controllers/v1/collection.py'],1,87f665732dfc11aa16ea720aefe54603b2f3d40b,story/1651346,"def has_next(collection, limit): """"""Return whether collection has more items."""""" return len(collection) and len(collection) == limit def get_next(collection, limit, url=None, key_field='uuid', **kwargs): """"""Return a link to the next subset of the collection."""""" if not has_next(collection, limit): return None fields = kwargs.pop('fields', None) # NOTE(saga): If fields argument is present in kwargs and not None. It # is a list so convert it into a comma seperated string. if fields: kwargs['fields'] = ','.join(fields) q_args = ''.join(['%s=%s&' % (key, kwargs[key]) for key in kwargs]) last_item = collection[-1] # handle items which are either objects or dicts if hasattr(last_item, key_field): marker = getattr(last_item, key_field) else: marker = last_item.get(key_field) next_args = '?%(args)slimit=%(limit)d&marker=%(marker)s' % { 'args': q_args, 'limit': limit, 'marker': marker} return link.make_link('next', api.request.public_url, url, next_args)['href'] return has_next(self.collection, limit) the_next = get_next(self.collection, limit, url=resource_url, key_field=self.get_key_field(), **kwargs) if the_next is None: return atypes.Unset return the_next"," return len(self.collection) and len(self.collection) == limit if not self.has_next(limit): return atypes.Unset fields = kwargs.pop('fields', None) # NOTE(saga): If fields argument is present in kwargs and not None. It # is a list so convert it into a comma seperated string. if fields: kwargs['fields'] = ','.join(fields) q_args = ''.join(['%s=%s&' % (key, kwargs[key]) for key in kwargs]) next_args = '?%(args)slimit=%(limit)d&marker=%(marker)s' % { 'args': q_args, 'limit': limit, 'marker': getattr(self.collection[-1], self.get_key_field())} return link.make_link('next', api.request.public_url, resource_url, next_args)['href']",38,16
openstack%2Fansible-role-collect-logs~master~Ic16215ac3534c2c59fd04dd1c45cb4e95b135316,openstack/ansible-role-collect-logs,master,Ic16215ac3534c2c59fd04dd1c45cb4e95b135316,Exclude tripleo jobs from patterns patches,MERGED,2020-08-04 10:09:27.000000000,2020-08-06 00:13:13.000000000,2020-08-06 00:13:12.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 10:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/85eaec8d72c8b9a3fdbd8fc2312b45ad85e710e5', 'message': ""Exclude tripleo jobs from patterns patches\n\nTripleo jobs are not required to test a pattern and take a lot of\ntime to merge it, so let's skip them for pattern patches.\nChange-Id: Ic16215ac3534c2c59fd04dd1c45cb4e95b135316\n""}, {'number': 2, 'created': '2020-08-04 10:10:56.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/715b115733dedbeb10022a8c0195584110ddf3c7', 'message': ""Exclude tripleo jobs from patterns patches\n\nTripleo jobs are not required to test a pattern and take a lot of\ntime to merge it, so let's skip them for pattern patches.\nChange-Id: Ic16215ac3534c2c59fd04dd1c45cb4e95b135316\n""}]",0,744672,715b115733dedbeb10022a8c0195584110ddf3c7,21,3,2,10969,,,0,"Exclude tripleo jobs from patterns patches

Tripleo jobs are not required to test a pattern and take a lot of
time to merge it, so let's skip them for pattern patches.
Change-Id: Ic16215ac3534c2c59fd04dd1c45cb4e95b135316
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/72/744672/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,85eaec8d72c8b9a3fdbd8fc2312b45ad85e710e5,tre, - tripleo-ci-centos-8-scenario001-standalone: irrelevant-files: - ^vars/sova-patterns.yml$ - tripleo-ci-centos-8-scenario002-standalone: irrelevant-files: - ^vars/sova-patterns.yml$ - tripleo-ci-centos-8-containers-multinode: irrelevant-files: - ^vars/sova-patterns.yml$, - tripleo-ci-centos-8-scenario001-standalone - tripleo-ci-centos-8-scenario002-standalone - tripleo-ci-centos-8-containers-multinode,9,3
openstack%2Fironic~master~I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1,openstack/ironic,master,I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1,"Convert v1 controller to plain, return JSON",MERGED,2020-07-14 23:37:31.000000000,2020-08-06 00:10:08.000000000,2020-08-05 23:50:26.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-14 23:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/44a7ad17cc9f62c2a0da3c7c419cc660b2a76fac', 'message': 'Convert v1 controller to plain, return JSON\n\nThis change converts the v1 controller from a RestController to a\nplain controller, and converts the /v1 response to remove the WSME\ntypes and return plain JSON.\n\nChange-Id: I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1\nStory: 1651346\nTask: 10551\n'}, {'number': 2, 'created': '2020-07-20 02:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc71dc917836effc04f7c81804a21d100c2bc11b', 'message': 'Convert v1 controller to plain, return JSON\n\nThis change converts the v1 controller from a RestController to a\nplain controller, and converts the /v1 response to remove the WSME\ntypes and return plain JSON.\n\nChange-Id: I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1\nStory: 1651346\nTask: 10551\n'}, {'number': 3, 'created': '2020-07-24 05:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2331e1a2083614034acf98cf745b0c6d57d5f9f5', 'message': 'Convert v1 controller to plain, return JSON\n\nThis change converts the v1 controller from a RestController to a\nplain controller, and converts the /v1 response to remove the WSME\ntypes and return plain JSON.\n\nChange-Id: I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1\nStory: 1651346\nTask: 10551\n'}, {'number': 4, 'created': '2020-07-29 05:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a3aaaea31048f28410a7cb4f55fa20d4b62cbb8', 'message': 'Convert v1 controller to plain, return JSON\n\nThis change converts the v1 controller from a RestController to a\nplain controller, and converts the /v1 response to remove the WSME\ntypes and return plain JSON.\n\nChange-Id: I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1\nStory: 1651346\nTask: 10551\n'}, {'number': 5, 'created': '2020-07-30 01:02:07.000000000', 'files': ['ironic/tests/unit/api/test_root.py', 'ironic/api/controllers/v1/__init__.py', 'ironic/tests/unit/api/controllers/v1/test_root.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6a25d467a18b271a51dc4e283693df82837e080', 'message': 'Convert v1 controller to plain, return JSON\n\nThis change converts the v1 controller from a RestController to a\nplain controller, and converts the /v1 response to remove the WSME\ntypes and return plain JSON.\n\nChange-Id: I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1\nStory: 1651346\nTask: 10551\n'}]",1,741065,b6a25d467a18b271a51dc4e283693df82837e080,39,7,5,4571,,,0,"Convert v1 controller to plain, return JSON

This change converts the v1 controller from a RestController to a
plain controller, and converts the /v1 response to remove the WSME
types and return plain JSON.

Change-Id: I483c6bb2e6b0da07b9e0c58190dbbc97e04bb6c1
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/741065/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/test_root.py', 'ironic/api/controllers/v1/__init__.py', 'ironic/tests/unit/api/controllers/v1/test_root.py']",3,44a7ad17cc9f62c2a0da3c7c419cc660b2a76fac,story/1651346,"from ironic.api.controllers.v1 import versions def test_min_version(self): response = self.get_json( '/', headers={ 'Accept': 'application/json', 'X-OpenStack-Ironic-API-Version': versions.min_version_string() }) self.assertEqual({ 'id': 'v1', 'links': [ {'href': 'http://localhost/v1/', 'rel': 'self'}, {'href': 'https://docs.openstack.org//ironic/latest' '/contributor//webapi.html', 'rel': 'describedby', 'type': 'text/html'} ], 'media_types': { 'base': 'application/json', 'type': 'application/vnd.openstack.ironic.v1+json' }, 'version': { 'id': 'v1', 'links': [{'href': 'http://localhost/v1/', 'rel': 'self'}], 'status': 'CURRENT', 'min_version': versions.min_version_string(), 'version': versions.max_version_string() }, 'chassis': [ {'href': 'http://localhost/v1/chassis/', 'rel': 'self'}, {'href': 'http://localhost/chassis/', 'rel': 'bookmark'} ], 'nodes': [ {'href': 'http://localhost/v1/nodes/', 'rel': 'self'}, {'href': 'http://localhost/nodes/', 'rel': 'bookmark'} ], 'ports': [ {'href': 'http://localhost/v1/ports/', 'rel': 'self'}, {'href': 'http://localhost/ports/', 'rel': 'bookmark'} ], 'drivers': [ {'href': 'http://localhost/v1/drivers/', 'rel': 'self'}, {'href': 'http://localhost/drivers/', 'rel': 'bookmark'} ], }, response) def test_max_version(self): response = self.get_json( '/', headers={ 'Accept': 'application/json', 'X-OpenStack-Ironic-API-Version': versions.max_version_string() }) self.assertEqual({ 'id': 'v1', 'links': [ {'href': 'http://localhost/v1/', 'rel': 'self'}, {'href': 'https://docs.openstack.org//ironic/latest' '/contributor//webapi.html', 'rel': 'describedby', 'type': 'text/html'} ], 'media_types': { 'base': 'application/json', 'type': 'application/vnd.openstack.ironic.v1+json' }, 'version': { 'id': 'v1', 'links': [{'href': 'http://localhost/v1/', 'rel': 'self'}], 'status': 'CURRENT', 'min_version': versions.min_version_string(), 'version': versions.max_version_string() }, 'allocations': [ {'href': 'http://localhost/v1/allocations/', 'rel': 'self'}, {'href': 'http://localhost/allocations/', 'rel': 'bookmark'} ], 'chassis': [ {'href': 'http://localhost/v1/chassis/', 'rel': 'self'}, {'href': 'http://localhost/chassis/', 'rel': 'bookmark'} ], 'conductors': [ {'href': 'http://localhost/v1/conductors/', 'rel': 'self'}, {'href': 'http://localhost/conductors/', 'rel': 'bookmark'} ], 'deploy_templates': [ {'href': 'http://localhost/v1/deploy_templates/', 'rel': 'self'}, {'href': 'http://localhost/deploy_templates/', 'rel': 'bookmark'} ], 'drivers': [ {'href': 'http://localhost/v1/drivers/', 'rel': 'self'}, {'href': 'http://localhost/drivers/', 'rel': 'bookmark'} ], 'events': [ {'href': 'http://localhost/v1/events/', 'rel': 'self'}, {'href': 'http://localhost/events/', 'rel': 'bookmark'} ], 'heartbeat': [ {'href': 'http://localhost/v1/heartbeat/', 'rel': 'self'}, {'href': 'http://localhost/heartbeat/', 'rel': 'bookmark'} ], 'lookup': [ {'href': 'http://localhost/v1/lookup/', 'rel': 'self'}, {'href': 'http://localhost/lookup/', 'rel': 'bookmark'} ], 'nodes': [ {'href': 'http://localhost/v1/nodes/', 'rel': 'self'}, {'href': 'http://localhost/nodes/', 'rel': 'bookmark'} ], 'portgroups': [ {'href': 'http://localhost/v1/portgroups/', 'rel': 'self'}, {'href': 'http://localhost/portgroups/', 'rel': 'bookmark'} ], 'ports': [ {'href': 'http://localhost/v1/ports/', 'rel': 'self'}, {'href': 'http://localhost/ports/', 'rel': 'bookmark'} ], 'volume': [ {'href': 'http://localhost/v1/volume/', 'rel': 'self'}, {'href': 'http://localhost/volume/', 'rel': 'bookmark'} ] }, response) ",,295,201
openstack%2Fopenstack-ansible-os_aodh~stable%2Fussuri~Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae,openstack/openstack-ansible-os_aodh,stable/ussuri,Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae,Revert CentOS 8 jobs to voting,MERGED,2020-08-05 10:23:15.000000000,2020-08-06 00:06:24.000000000,2020-08-06 00:04:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-05 10:23:15.000000000', 'files': ['vars/debian.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/e322ddd4c283d46ca60558eaf8f825510beed12a', 'message': 'Revert CentOS 8 jobs to voting\n\nThis also fix ubuntu focal distro installation\n\nChange-Id: Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae\n(cherry picked from commit 70e6c6d3ecdac4484d9212837c7424e0db36e826)\n'}]",0,744877,e322ddd4c283d46ca60558eaf8f825510beed12a,8,3,1,28619,,,0,"Revert CentOS 8 jobs to voting

This also fix ubuntu focal distro installation

Change-Id: Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae
(cherry picked from commit 70e6c6d3ecdac4484d9212837c7424e0db36e826)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/77/744877/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'zuul.d/project.yaml']",2,e322ddd4c283d46ca60558eaf8f825510beed12a,osa/el8-stable/ussuri,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,0,17
openstack%2Fopenstack-ansible-os_heat~master~I88665890fc2e117d1ed9892b976bba2aa06dd504,openstack/openstack-ansible-os_heat,master,I88665890fc2e117d1ed9892b976bba2aa06dd504,service_setup: refactor service setup to a single file,MERGED,2019-07-31 10:10:40.000000000,2020-08-05 23:53:57.000000000,2019-09-20 15:31:19.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-07-31 10:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/0675da2c28f5f5b0a5b9ffeebaf5aeef324d02ce', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504\n'}, {'number': 2, 'created': '2019-07-31 12:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/8210bdf0b09d63e0fc260435cf94220cb68a351b', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504\n'}, {'number': 3, 'created': '2019-07-31 13:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/0352f3582760395a5e61879d95c232aaa16239b8', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504\n'}, {'number': 4, 'created': '2019-07-31 13:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/ff2fa751abf7a31c1315c1eb2e8b173e8e677f9a', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504\n'}, {'number': 5, 'created': '2019-08-01 12:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/273ba8c1520c60e04ed75708272ee1db62fdea18', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nChange-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504\n'}, {'number': 6, 'created': '2019-09-18 19:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/83e6933e58566c19dc956bb056d9febb4467a9d2', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/681610\nChange-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504\n'}, {'number': 7, 'created': '2019-09-18 19:50:15.000000000', 'files': ['tasks/heat_service_setup.yml', 'tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/7858df55c30e619338e59796c5faef073d5c79bb', 'message': 'service_setup: refactor service setup to a single file\n\nThis patch refactors the openstack user/service/endpoints creation to\nservice_setup.yml which will eventually be managed by\nopenstack-ansible-tests.\n\nDepends-On: https://review.opendev.org/681610\nChange-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504\n'}]",0,673778,7858df55c30e619338e59796c5faef073d5c79bb,22,4,7,28619,,,0,"service_setup: refactor service setup to a single file

This patch refactors the openstack user/service/endpoints creation to
service_setup.yml which will eventually be managed by
openstack-ansible-tests.

Depends-On: https://review.opendev.org/681610
Change-Id: I88665890fc2e117d1ed9892b976bba2aa06dd504
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/78/673778/5 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/heat_service_setup.yml', 'tasks/service_setup.yml']",3,0675da2c28f5f5b0a5b9ffeebaf5aeef324d02ce,osa/service-refactor,"--- # Copyright 2019, VEXXHOST, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/service_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. # We set the python interpreter to the ansible runtime venv if # the delegation is to localhost so that we get access to the # appropriate python libraries in that venv. If the delegation # is to another host, we assume that it is accessible by the # system python instead. - name: Setup the OS service delegate_to: ""{{ _service_setup_host }}"" vars: ansible_python_interpreter: ""{{ _service_setup_host_python_interpreter }}"" block: - name: Add service project os_project: cloud: default state: present name: ""{{ _project_name }}"" description: ""{{ _project_description | default(omit) }}"" domain_id: ""{{ _project_domain | default('default') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _project_name is defined until: add_service is success retries: 5 delay: 10 - name: Add services to the keystone service catalog os_keystone_service: cloud: default state: ""{{ item.state | default('present') }}"" name: ""{{ item.name }}"" service_type: ""{{ item.type }}"" description: ""{{ item.description | default('') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service with_items: ""{{ _service_catalog }}"" when: _service_catalog is defined until: add_service is success retries: 5 delay: 10 - name: Add keystone domain os_keystone_domain: cloud: default state: present name: ""{{ item }}"" endpoint_type: admin verify: ""{{ not _service_adminuri_insecure }}"" register: add_domain with_items: ""{{ _service_domain_name }}"" when: _service_domain_name is defined until: add_domain is success retries: 5 delay: 10 - name: Add keystone roles os_keystone_role: cloud: default state: present name: ""{{ item.role }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 - name: Add service users os_user: cloud: default state: present name: ""{{ item.name }}"" password: ""{{ item.password }}"" domain: ""{{ item.domain | default('default') }}"" default_project: ""{{ item.project | default(_service_project_name) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" update_password: always register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'password' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 no_log: True - name: Add service users to the role os_user_role: cloud: default state: present user: ""{{ item.name }}"" role: ""{{ item.role }}"" project: ""{{ item.project | default(_service_project_name) }}"" domain: ""{{ item.domain | default(omit) }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service when: - not (_service_in_ldap | default(False) | bool) - _service_users is defined - ""'name' in item"" - ""'role' in item"" - (item.condition | default(True)) | bool until: add_service is success with_items: ""{{ _service_users }}"" retries: 5 delay: 10 - name: Add endpoints to keystone endpoint catalog os_keystone_endpoint: cloud: default state: ""{{ item.state | default('present') }}"" service: ""{{ item.service }}"" endpoint_interface: ""{{ item.interface }}"" url: ""{{ item.url }}"" region: ""{{ _service_region | default('RegionOne') }}"" endpoint_type: admin validate_certs: ""{{ not (_service_adminuri_insecure | default(True) | bool) }}"" register: add_service until: add_service is success retries: 5 delay: 10 with_items: ""{{ _service_endpoints }}"" when: _service_endpoints is defined ",,219,182
openstack%2Fironic~master~I2da14e488b9abeee4028c0986778ddae39a9dde0,openstack/ironic,master,I2da14e488b9abeee4028c0986778ddae39a9dde0,Log the traceback of unexpected errors when verifying power credentials,MERGED,2020-07-30 09:39:05.000000000,2020-08-05 23:53:32.000000000,2020-08-05 23:44:54.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-30 09:39:05.000000000', 'files': ['ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/040523ad1066a77f19134df129275938bee45d04', 'message': 'Log the traceback of unexpected errors when verifying power credentials\n\nOtherwise some issues can be hard to debug.\n\nChange-Id: I2da14e488b9abeee4028c0986778ddae39a9dde0\n'}]",0,743941,040523ad1066a77f19134df129275938bee45d04,46,8,1,10239,,,0,"Log the traceback of unexpected errors when verifying power credentials

Otherwise some issues can be hard to debug.

Change-Id: I2da14e488b9abeee4028c0986778ddae39a9dde0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/743941/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/manager.py'],1,040523ad1066a77f19134df129275938bee45d04,log-verify," log_traceback = not isinstance(e, exception.IronicException) LOG.error(error, exc_info=log_traceback) log_traceback = not isinstance(e, exception.IronicException) LOG.error(error, exc_info=log_traceback)", LOG.error(error),4,1
openstack%2Fironic~stable%2Ftrain~I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,openstack/ironic,stable/train,I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3,Use TLS for json_rpc when configured,MERGED,2020-07-31 11:17:16.000000000,2020-08-05 23:51:58.000000000,2020-08-05 23:50:37.000000000,"[{'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32254}]","[{'number': 1, 'created': '2020-07-31 11:17:16.000000000', 'files': ['ironic/common/json_rpc/client.py', 'releasenotes/notes/fix-json-rpc-client-ssl-2438a731beb3d5f9.yaml', 'ironic/tests/unit/common/test_json_rpc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/165c0ed6bbeb151e59b8349208f588d210f90646', 'message': 'Use TLS for json_rpc when configured\n\nThe configuration for json_rpc contains the option use_ssl but its value\nwas not respected by the json_rpc client. Therefore the client tried to\nconnect to HTTPS endpoints using HTTP.\n\nChange-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3\n(cherry picked from commit feae197c5ad02fa0898a30d4ffaaba8a21d4f884)\n'}]",0,744132,165c0ed6bbeb151e59b8349208f588d210f90646,13,6,1,10239,,,0,"Use TLS for json_rpc when configured

The configuration for json_rpc contains the option use_ssl but its value
was not respected by the json_rpc client. Therefore the client tried to
connect to HTTPS endpoints using HTTP.

Change-Id: I4336d71f57bcfbde90fa7b62a5435a7f9d0a73d3
(cherry picked from commit feae197c5ad02fa0898a30d4ffaaba8a21d4f884)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/744132/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/json_rpc/client.py', 'releasenotes/notes/fix-json-rpc-client-ssl-2438a731beb3d5f9.yaml', 'ironic/tests/unit/common/test_json_rpc.py']",3,165c0ed6bbeb151e59b8349208f588d210f90646,json-rpc-ssl-stable/train," def test_call_with_ssl(self, mock_session): self.config(use_ssl=True, group='json_rpc') response = mock_session.return_value.post.return_value response.json.return_value = { 'jsonrpc': '2.0', 'result': 42 } cctx = self.client.prepare('foo.example.com') self.assertEqual('example.com', cctx.host) result = cctx.call(self.context, 'do_something', answer=42) self.assertEqual(42, result) mock_session.return_value.post.assert_called_once_with( 'https://example.com:8089', json={'jsonrpc': '2.0', 'method': 'do_something', 'params': {'answer': 42, 'context': self.ctx_json}, 'id': self.context.request_id}) ",,27,1
openstack%2Fcharm-keystone-kerberos~master~Ie0f91abf5d45c58641b45dc576e8670c3ffa95df,openstack/charm-keystone-kerberos,master,Ie0f91abf5d45c58641b45dc576e8670c3ffa95df,Improve README,MERGED,2020-08-05 20:29:22.000000000,2020-08-05 23:35:32.000000000,2020-08-05 23:35:31.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30670}]","[{'number': 1, 'created': '2020-08-05 20:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/29429be0f0565dcd67ed5d63db27571637fef317', 'message': 'Improve README\n\nLink to bug tracker is underway.\n\nChange-Id: Ie0f91abf5d45c58641b45dc576e8670c3ffa95df\n'}, {'number': 2, 'created': '2020-08-05 20:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/7c8484220115a95daf19dc5895b6aef2469d6168', 'message': 'Improve README\n\nLink to bug tracker is underway.\n\nChange-Id: Ie0f91abf5d45c58641b45dc576e8670c3ffa95df\n'}, {'number': 3, 'created': '2020-08-05 20:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/e05fbd68644d59e97477c79178b4750cb95857b0', 'message': 'Improve README\n\nLink to bug tracker is underway.\n\nChange-Id: Ie0f91abf5d45c58641b45dc576e8670c3ffa95df\n'}, {'number': 4, 'created': '2020-08-05 23:24:39.000000000', 'files': ['src/README.md', 'src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/02888841572940e3e19154f6dc2724e8eba168b1', 'message': 'Improve README\n\nChange-Id: Ie0f91abf5d45c58641b45dc576e8670c3ffa95df\n'}]",3,744984,02888841572940e3e19154f6dc2724e8eba168b1,14,4,4,30561,,,0,"Improve README

Change-Id: Ie0f91abf5d45c58641b45dc576e8670c3ffa95df
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/84/744984/3 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,29429be0f0565dcd67ed5d63db27571637fef317,improve-readme,"# Overview [Keystone][keystone-upstream] is the identity service used by OpenStack for authentication and high-level authorisation. The keystone-kerberos subordinate charm allows for per-domain authentication via a Kerberos ticket, thereby providing an additional layer of security. It is used in conjunction with the [keystone][keystone-charm] charm. An external Kerberos server is a prerequisite. > **Note**: The keystone-kerberos charm is supported starting with OpenStack Queens. > **Warning**: This charm is in a preview state and should not be used in production. See the [OpenStack Charm Guide][cg-preview-charms] for more information on preview charms.This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `kerberos-realm` The `kerberos-realm` option is used to supply the external Kerberos realm name. #### `kerberos-server` The `kerberos-server` option is used to supply the external Kerberos server hostname. #### `kerberos-domain` The `kerberos-domain` option is used to supply the external Kerberos domain name. ## Deployment Let file ``kerberos.yaml`` contain the deployment configuration: ```yaml keystone-kerberos: kerberos-realm: ""PROJECT.SERVERSTACK"" kerberos-server: ""freeipa.project.serverstack"" kerberos-domain: ""k8s"" ``` Deploy keystone-kerberos with other essential applications: juju deploy keystone juju deploy openstack-dashboard juju deploy --config kerberos.yaml --resource=/home/ubuntu/keystone.keytab keystone-kerberos juju add-relation keystone openstack-dashboard juju add-relation keystone keystone-kerberos See the next section for retrieving the keytab file. It can also be added to the application post-deploy: juju attach-resource keystone-kerberos keystone_keytab=keystone.keytab ## Kerberos pre-requisites - the Keystone service keytab In an external Kerberos server, a service must be created for the Keystone Principal. 1. First determine the FQDN of the Keystone server. For example: keystone-server.project.serverstack Ensure that the Keystone server can resolve the Kerberos server hostname. If if can't, consider adding an entry to `/etc/hosts`. 1. In the Kerberos server, create the host and service. This example is based on a FreeIPA Kerberos server: ipa host-add keystone-server.project.serverstack --ip-adress=10.0.0.2 ipa service-add HTTP/keystone-server.project.serverstack ipa service-add-host HTTP/keystone-server.project.serverstack --hosts=keystone-server.project.serverstack If you have multiple Keystone servers, you should add each host to the principal: ipa host-add-principal keystone-server HTTP/<keystone-other-hostname>@PROJECT.SERVERSTACK 1. Retrieve the keytab associated with this service: ipa-getkeytab -p HTTP/keystone-server.project.serverstack -k keystone.keytab ## Authenticate from a host The below steps show how to authenticate from a host using the `openstack` CLI client. 1. Ensure that the following software is installed on the host: sudo apt install krb5-user python3-openstackclient python3-requests-kerberos 1. Retrieve a token for an existing user in the Kerberos/LDAP directory. kinit <username> 1. Source the OpenStack rc file. source k8s-user.rc Where the contents of `k8s-user.rc` is: export OS_AUTH_URL=http://kerberos-server.project.serverstack:5000/krb/v3 export OS_PROJECT_ID=<projectID> export OS_PROJECT_NAME=<kerberos_domain> # i.e k8s export OS_PROJECT_DOMAIN_ID=<domainID> export OS_REGION_NAME=""RegionOne"" export OS_INTERFACE=public export OS_IDENTITY_API_VERSION=3 export OS_AUTH_TYPE=v3kerberos 1. Test the client openstack token issue Please report bugs on [Launchpad][lp-bugs-charm-keystone-kerberos]. For general charm questions refer to the [OpenStack Charm Guide][cg]. <!-- LINKS --> [cg]: https://docs.openstack.org/charm-guide [keystone-charm]: https://jaas.ai/keystone [keystone-upstream]: https://docs.openstack.org/keystone/latest/ [cg-preview-charms]: https://docs.openstack.org/charm-guide/latest/openstack-charms.html#tech-preview-charms-beta [lp-bugs-charm-keystone-kerberos]: https://bugs.launchpad.net/charm-keystone-kerberos/+filebug [juju-docs-config-apps]: https://juju.is/docs/configuring-applications ","# keystone-kerberos This subordinate charm provides a way to authenticate in Openstack for a specific domain with a Kerberos ticket. This provides an additional security layer. An external Kerberos server is necessary. This kerberos subordinate charm is supported on Ubuntu Bionic (18.04 LTS) with the Openstack versions Queens and later. Use this charm with the Keystone charm: juju deploy keystone juju deploy openstack-dashboard juju deploy keystone-kerberos juju add-relation keystone openstack-dashboard juju add-relation keystone keystone-kerberos In a bundle: ``` applications # ... keystone-kerberos: charm: ../../../keystone-kerberos num_units: 0 options: kerberos-realm: ""PROJECT.SERVERSTACK"" kerberos-server: ""freeipa.project.serverstack"" kerberos-domain: ""k8s"" resources: keystone_keytab: ""/home/ubuntu/keystone.keytab"" relations: # ... - - keystone - keystone-kerberos ``` # Prerequisites To authenticate against Keystone and Kerberos from a host, the following librairies need to be installed : - sudo apt install krb5-user python3-openstackclient python3-requests-kerberos In the Kerberos server, a service must be created for the Keystone Principal. For example, first find the hostname of the keystone server : ubuntu@keystone-server$ hostname -f keystone-server.project.serverstack Note 1 : make sure that your keystone server can resolve the Kerberos server hostname. If if can't, consider adding an entry to /etc/hosts. Then, in the Kerberos server, create the host and service (this example is based on a FreeIPA Kerberos Server): ipa host-add keystone-server.project.serverstack --ip-adress=10.0.0.2 ipa service-add HTTP/keystone-server.project.serverstack ipa service-add-host HTTP/keystone-server.project.serverstack --hosts=keystone-server.project.serverstack Note 2 : If you have multiple keystone servers, you should add each host to the principal with the command ipa host-add-principal keystone-server HTTP/<keystone-other-hostname>@PROJECT.SERVERSTACK Retrieve the keytab associated with this service: ipa-getkeytab -p HTTP/keystone-server.project.serverstack -k keystone.keytab This is the keytab needed in the resources of the keystone-kerberos charm. If you retrieved it post-deploy, you can attach it with a command to keystone: juju attach-resource keystone-kerberos/0 keystone_keytab=new_keytab.keytab # Authentication from a host To use the Openstack cli, two steps are required. 1) Retrieve a token for an existing user in the Kerberos/LDAP directory: ``` kinit <username> ``` 2) Source the openstack rc file with the correct information: ``` cat k8s-user.rc export OS_AUTH_URL=http://kerberos-server.project.serverstack:5000/krb/v3 export OS_PROJECT_ID=<projectID> export OS_PROJECT_NAME=<kerberos_domain> # i.e k8s export OS_PROJECT_DOMAIN_ID=<domainID> export OS_REGION_NAME=""RegionOne"" export OS_INTERFACE=public export OS_IDENTITY_API_VERSION=3 export OS_AUTH_TYPE=v3kerberos source k8s-user.rc openstack token issue ```Please report bugs on [Launchpad](link missing). For general questions please refer to the OpenStack [Charm Guide](https://docs.openstack.org/charm-guide/latest/).",116,82
openstack%2Fpuppet-keystone~stable%2Fussuri~I1b0b66424d98b9181153e98f4b623ef30e8e1d09,openstack/puppet-keystone,stable/ussuri,I1b0b66424d98b9181153e98f4b623ef30e8e1d09,Add support for trust_flush cron job,MERGED,2020-08-03 22:22:10.000000000,2020-08-05 23:09:23.000000000,2020-08-05 23:08:21.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 22:22:10.000000000', 'files': ['manifests/cron/trust_flush.pp', 'spec/classes/keystone_cron_trust_flush_spec.rb', 'releasenotes/notes/cron-trust_flush-9a85af706076f55d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/58e66598e38da226d1e09bb91f112856842f9c74', 'message': 'Add support for trust_flush cron job\n\nThis patch introcues a new class, keystone::cron::trust_flush, so that\noperators can configure a cron job to flush expired or soft deleted\ntrusts[1] periodically.\n\n[1] https://github.com/openstack/keystone/commit/8232dabcf9cf182c4dc34eafecbe5b60b2438ed1\n\nChange-Id: I1b0b66424d98b9181153e98f4b623ef30e8e1d09\n(cherry picked from commit 4cca2330a273f68052c8b97e0ba56ae81a45802f)\n'}]",0,744568,58e66598e38da226d1e09bb91f112856842f9c74,9,3,1,9816,,,0,"Add support for trust_flush cron job

This patch introcues a new class, keystone::cron::trust_flush, so that
operators can configure a cron job to flush expired or soft deleted
trusts[1] periodically.

[1] https://github.com/openstack/keystone/commit/8232dabcf9cf182c4dc34eafecbe5b60b2438ed1

Change-Id: I1b0b66424d98b9181153e98f4b623ef30e8e1d09
(cherry picked from commit 4cca2330a273f68052c8b97e0ba56ae81a45802f)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/68/744568/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/trust_flush.pp', 'spec/classes/keystone_cron_trust_flush_spec.rb', 'releasenotes/notes/cron-trust_flush-9a85af706076f55d.yaml']",3,58e66598e38da226d1e09bb91f112856842f9c74,trust-flush,--- features: - | The new ``keystone::cron::trust_flush`` class was added to configure a cron job to purge expired or soft-deleted trusts. ,,163,0
openstack%2Fos-testr~master~I34614487e74771ea980b7bd213d11ed5c960460d,openstack/os-testr,master,I34614487e74771ea980b7bd213d11ed5c960460d,Stop to use the __future__ module.,MERGED,2020-06-02 18:36:16.000000000,2020-08-05 23:01:03.000000000,2020-08-05 22:58:14.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/cd096e93f88447214371bea4dcbea3e26e7e9112', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I34614487e74771ea980b7bd213d11ed5c960460d\n""}, {'number': 2, 'created': '2020-08-01 19:43:16.000000000', 'files': ['os_testr/subunit_trace.py'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/3ee44d3708b75ad3a16668b46aa5d62ad0a0ee78', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I34614487e74771ea980b7bd213d11ed5c960460d\n""}]",0,732891,3ee44d3708b75ad3a16668b46aa5d62ad0a0ee78,16,4,2,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I34614487e74771ea980b7bd213d11ed5c960460d
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/91/732891/2 && git format-patch -1 --stdout FETCH_HEAD,['os_testr/subunit_trace.py'],1,cd096e93f88447214371bea4dcbea3e26e7e9112,drop_future_imports,,from __future__ import absolute_import,0,1
openstack%2Fos-testr~master~I8c269117dba546ee2c75685dbd29756407488aaf,openstack/os-testr,master,I8c269117dba546ee2c75685dbd29756407488aaf,Use unittest.mock instead of third party mock,MERGED,2020-07-31 19:08:44.000000000,2020-08-05 22:59:51.000000000,2020-08-05 22:58:12.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 19:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/e33e5e2ad568c016aa92ea5741e591c6ddd8ed35', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I8c269117dba546ee2c75685dbd29756407488aaf\n'}, {'number': 2, 'created': '2020-07-31 23:22:27.000000000', 'files': ['os_testr/tests/test_regex_builder.py', 'os_testr/tests/test_ostestr.py', 'os_testr/tests/test_subunit_trace.py', 'os_testr/tests/testlist_builder.py'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/eabcb9475635bad8d4ab908509a4c080e06f58e5', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I8c269117dba546ee2c75685dbd29756407488aaf\n'}]",1,744241,eabcb9475635bad8d4ab908509a4c080e06f58e5,9,2,2,8556,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I8c269117dba546ee2c75685dbd29756407488aaf
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/41/744241/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_testr/tests/test_regex_builder.py', 'os_testr/tests/test_ostestr.py', 'os_testr/tests/test_subunit_trace.py', 'os_testr/tests/testlist_builder.py']",4,e33e5e2ad568c016aa92ea5741e591c6ddd8ed35,,from unittest import mock,import mock,4,4
openstack%2Frequirements~master~I86e4905ee5f2abcceed7c00d2fa72fe717793bad,openstack/requirements,master,I86e4905ee5f2abcceed7c00d2fa72fe717793bad,DNM: try new pip resolver,ABANDONED,2020-05-07 15:55:39.000000000,2020-08-05 22:58:59.000000000,,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-07 15:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/1767b41662692ec50add3c0d9a262da1985ad1f9', 'message': 'DNM: try new pip resolver\n\nChange-Id: I86e4905ee5f2abcceed7c00d2fa72fe717793bad\n'}, {'number': 2, 'created': '2020-07-31 20:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ce07ae1fb22fa4c885af9cddb82a6a6feb96f05', 'message': 'DNM: try new pip resolver\n\nChange-Id: I86e4905ee5f2abcceed7c00d2fa72fe717793bad\n'}, {'number': 3, 'created': '2020-08-01 02:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/aa144159389c5243594c6b9b1a0f02e1f52fc0ce', 'message': 'DNM: try new pip resolver\n\nChange-Id: I86e4905ee5f2abcceed7c00d2fa72fe717793bad\n'}, {'number': 4, 'created': '2020-08-01 03:41:34.000000000', 'files': ['playbooks/requirements-check.yaml', 'openstack_requirements/cmds/generate.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f4e14a37eccfe410757b64a4737a71643f799aff', 'message': 'DNM: try new pip resolver\n\nChange-Id: I86e4905ee5f2abcceed7c00d2fa72fe717793bad\n'}]",1,726186,f4e14a37eccfe410757b64a4737a71643f799aff,13,3,4,14288,,,0,"DNM: try new pip resolver

Change-Id: I86e4905ee5f2abcceed7c00d2fa72fe717793bad
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/726186/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/requirements-check.yaml', 'openstack_requirements/cmds/generate.py', 'tox.ini']",3,1767b41662692ec50add3c0d9a262da1985ad1f9,test-new-pip-resolver,setenv = PIP_UNSTABLE_FEATURE = resolver,,6,1
openstack%2Fos-testr~master~I03f331e55af3ea880c2f6c868511caf6384cf0a8,openstack/os-testr,master,I03f331e55af3ea880c2f6c868511caf6384cf0a8,Switch testing to Victoria testing runtime,MERGED,2020-05-04 19:29:08.000000000,2020-08-05 22:58:14.000000000,2020-08-05 22:58:13.000000000,"[{'_account_id': 5689}, {'_account_id': 5690}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-05-04 19:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/f4402d7351c2db2603d4373fdea99ae069bf373b', 'message': 'Moving tetsing to Victoria tetsing runtime\n\nUpating the template from ussuri to victoria\ntesting runtime\n- https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I03f331e55af3ea880c2f6c868511caf6384cf0a8\n'}, {'number': 2, 'created': '2020-05-04 19:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/a2ace1155581ab94af960216db0c3d7f9d282164', 'message': 'Moving tetsing to Victoria testing runtime\n\nUpating the template from ussuri to victoria\ntesting runtime\n- https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I03f331e55af3ea880c2f6c868511caf6384cf0a8\n'}, {'number': 3, 'created': '2020-05-04 19:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/78d4d3ac1d6790d9d309b047366afa26902a8066', 'message': 'Switch testing to Victoria testing runtime\n\nUpating the tetsing template from ussuri to victoria\ntesting runtime\n- https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I03f331e55af3ea880c2f6c868511caf6384cf0a8\n'}, {'number': 4, 'created': '2020-08-01 19:46:53.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/fb2c2872681861acb89b608fdbe17e35a10921bf', 'message': 'Switch testing to Victoria testing runtime\n\nUpating the tetsing template from ussuri to victoria\ntesting runtime\n- https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: I03f331e55af3ea880c2f6c868511caf6384cf0a8\n'}]",0,725377,fb2c2872681861acb89b608fdbe17e35a10921bf,17,5,4,8556,,,0,"Switch testing to Victoria testing runtime

Upating the tetsing template from ussuri to victoria
testing runtime
- https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: I03f331e55af3ea880c2f6c868511caf6384cf0a8
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/77/725377/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,f4402d7351c2db2603d4373fdea99ae069bf373b,switch-to-victoria-testing-runtime,"envlist = py36,py38,pypy,pep8","envlist = py36,py37,pypy,pep8",3,2
openstack%2Fnova~master~I2e4c875533d8088c8454adc799539b10dcfc37dc,openstack/nova,master,I2e4c875533d8088c8454adc799539b10dcfc37dc,func: Add CinderFixture to _IntegratedTestBase,MERGED,2020-07-28 13:22:50.000000000,2020-08-05 22:57:48.000000000,2020-08-05 22:54:00.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-28 13:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34651132dfcdaffb3c30f4ca3db3e2fd98a7e23f', 'message': ""func: Add CinderFixture to _IntegratedTestBase\n\nAs with Neutron this fixture is used often enough by users of\n_IntegratedTestBase that it's worth being in the class itself.\n\nChange-Id: I2e4c875533d8088c8454adc799539b10dcfc37dc\n""}, {'number': 2, 'created': '2020-07-28 19:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c83fb4ba7ae86d403bf87d79d8486d47962dd76', 'message': ""func: Add CinderFixture to _IntegratedTestBase\n\nAs with Neutron this fixture is used often enough by users of\n_IntegratedTestBase that it's worth being in the class itself.\n\nChange-Id: I2e4c875533d8088c8454adc799539b10dcfc37dc\n""}, {'number': 3, 'created': '2020-07-29 10:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/766158e2b5a93f69bd4b1cba90538eb569e4fcff', 'message': ""func: Add CinderFixture to _IntegratedTestBase\n\nAs with Neutron this fixture is used often enough by users of\n_IntegratedTestBase that it's worth being in the class itself.\n\nChange-Id: I2e4c875533d8088c8454adc799539b10dcfc37dc\n""}, {'number': 4, 'created': '2020-08-03 19:41:44.000000000', 'files': ['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/functional/regressions/test_bug_1732947.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f81c086579a0867f9aecd2d5d7cc531b4d3347f', 'message': ""func: Add CinderFixture to _IntegratedTestBase\n\nAs with Neutron this fixture is used often enough by users of\n_IntegratedTestBase that it's worth being in the class itself.\n\nChange-Id: I2e4c875533d8088c8454adc799539b10dcfc37dc\n""}]",6,743535,1f81c086579a0867f9aecd2d5d7cc531b4d3347f,44,11,4,10135,,,0,"func: Add CinderFixture to _IntegratedTestBase

As with Neutron this fixture is used often enough by users of
_IntegratedTestBase that it's worth being in the class itself.

Change-Id: I2e4c875533d8088c8454adc799539b10dcfc37dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/743535/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/functional/test_multiattach.py', 'nova/tests/functional/regressions/test_bug_1732947.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1889108.py']",9,34651132dfcdaffb3c30f4ca3db3e2fd98a7e23f,bug/1879787,, self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)),1,14
openstack%2Fnova~master~I9edb36c4df1cc0d8b529e669f06540de71766085,openstack/nova,master,I9edb36c4df1cc0d8b529e669f06540de71766085,compute: Don't delete the original attachment during pre LM rollback,MERGED,2020-07-27 19:21:36.000000000,2020-08-05 22:56:28.000000000,2020-08-05 22:53:53.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-27 19:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c86a6636940749eaaac85ac8fe29c09fb95dfc70', 'message': ""compute: Don't delete the original attachment during live migration rollback\n\nI9a62b915fc0b9406613c14434793eb52e602df1e introduced support for\ncinderv3 volume attachments during Queens. This initial support handled\nfailures in pre_live_migration directly by removing any attachments\ncreated on the destination and reverting to the original attachment ids\nbefore re-raising the caught exception to the source compute.\n\nI0f3ab6604d8b79bdb75cf67571e359cfecc039d8 then landed in Rocky and\nintroduced additional logic for cleaning up pre_live_migration failures.\nSpecifically a new _cleanup_pre_live_migration method that called an\nexisting _rollback_live_migration method. The latter already containing\nvolume attachment rollback logic from\nI9a62b915fc0b9406613c14434793eb52e602df1e.\n\nThe rollback code within _rollback_live_migration however would not take\nthis into account and would remove the currently referenced attachment\nfrom the bdm regardless of the prior rollback within pre_live_migration.\n\nThis change aims to resolve this within _rollback_live_migration by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 2, 'created': '2020-07-27 19:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fee8eaaf6463886f66637fe3710482f3b5615024', 'message': ""compute: Don't delete the original attachment during live migration rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for\ncinderv3 volume attachments during Queens. This initial support handled\nfailures in pre_live_migration directly by removing any attachments\ncreated on the destination and reverting to the original attachment ids\nbefore re-raising the caught exception to the source compute.\n\nI0f3ab6604d8b79bdb75cf67571e359cfecc039d8 then landed in Rocky and\nintroduced additional logic for cleaning up pre_live_migration failures.\nSpecifically a new _cleanup_pre_live_migration method that called an\nexisting _rollback_live_migration method. The latter already containing\nvolume attachment rollback logic from\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d.\n\nThe rollback code within _rollback_live_migration however would not take\nthis into account and would remove the currently referenced attachment\nfrom the bdm regardless of the prior rollback within pre_live_migration.\n\nThis change aims to resolve this within _rollback_live_migration by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 3, 'created': '2020-07-27 20:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b924fb6c84234986cd3da95d034aa7635d55f103', 'message': ""compute: Don't delete the original attachment during live migration rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids. Leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 4, 'created': '2020-07-28 09:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46fcc2303d161203769814a60339229a31fe5dc9', 'message': ""compute: Don't delete the original attachment during live migration rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids. Leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 5, 'created': '2020-07-28 13:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e43b663cf405d00fb773dfed00184dbe3c071d90', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 6, 'created': '2020-07-28 19:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab93a89b2d98aec7127502366b09a459ef724686', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 7, 'created': '2020-07-29 10:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76362fad58b8a19871fdb531e9921192078689c8', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 8, 'created': '2020-08-03 09:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cbaa5ac1fea458d9c4358f731545bf4ff73351a', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}, {'number': 9, 'created': '2020-08-03 19:41:44.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2102f1834a6ac9fd870bfb457b28a2172f33e281', 'message': ""compute: Don't delete the original attachment during pre LM rollback\n\nI0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live\nmigration with cinderv3 volume attachments during Queens. This initial\nsupport handled failures in pre_live_migration directly by removing any\nattachments created on the destination and reverting to the original\nattachment ids before re-raising the caught exception to the source\ncompute. It also added rollback code within the main\n_rollback_live_migration method but missed that this would also be\ncalled during a pre_live_migration rollback.\n\nAs a result after a failure in pre_live_migration\n_rollback_live_migration will attempt to delete the source host volume\nattachments referenced by the bdm before updating the bdms with the now\nnon-existent attachment ids, leaving the volumes in an `available` state\nin Cinder as they have no attachment records associated with them\nanymore.\n\nThis change aims to resolve this within _rollback_volume_bdms by\nensuring that the current and original attachment_ids are not equal\nbefore requesting that the current attachment referenced by the bdm is\ndeleted. When called after a failure in pre_live_migration this should\nresult in no attempt being made to remove the original source host\nattachments from Cinder.\n\nNote that the following changes muddy the waters slightly here but\nintroduced no actual changes to the logic within\n_rollback_live_migration:\n\n* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error\n  handling in Rocky but isn't the source of the issue here.\n\n* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked\n  _rollback_live_migration to use the provided source_bdms.\n\n* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored\n  _rollback_live_migration, moving the logic into a self contained\n  _rollback_volume_bdms method.\n\nCloses-Bug: #1889108\nChange-Id: I9edb36c4df1cc0d8b529e669f06540de71766085\n""}]",18,743319,2102f1834a6ac9fd870bfb457b28a2172f33e281,121,15,9,10135,,,0,"compute: Don't delete the original attachment during pre LM rollback

I0bfb11296430dfffe9b091ae7c3a793617bd9d0d introduced support for live
migration with cinderv3 volume attachments during Queens. This initial
support handled failures in pre_live_migration directly by removing any
attachments created on the destination and reverting to the original
attachment ids before re-raising the caught exception to the source
compute. It also added rollback code within the main
_rollback_live_migration method but missed that this would also be
called during a pre_live_migration rollback.

As a result after a failure in pre_live_migration
_rollback_live_migration will attempt to delete the source host volume
attachments referenced by the bdm before updating the bdms with the now
non-existent attachment ids, leaving the volumes in an `available` state
in Cinder as they have no attachment records associated with them
anymore.

This change aims to resolve this within _rollback_volume_bdms by
ensuring that the current and original attachment_ids are not equal
before requesting that the current attachment referenced by the bdm is
deleted. When called after a failure in pre_live_migration this should
result in no attempt being made to remove the original source host
attachments from Cinder.

Note that the following changes muddy the waters slightly here but
introduced no actual changes to the logic within
_rollback_live_migration:

* I0f3ab6604d8b79bdb75cf67571e359cfecc039d8 reworked some of the error
  handling in Rocky but isn't the source of the issue here.

* Ibe9215c07a1ee00e0e121c69bcf7ee1b1b80fae0 reworked
  _rollback_live_migration to use the provided source_bdms.

* I6bc73e8c8f98d9955f33f309beb8a7c56981b553 then refactored
  _rollback_live_migration, moving the logic into a self contained
  _rollback_volume_bdms method.

Closes-Bug: #1889108
Change-Id: I9edb36c4df1cc0d8b529e669f06540de71766085
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/743319/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1889108.py']",3,c86a6636940749eaaac85ac8fe29c09fb95dfc70,bug/1879787," are not removed during the rollback from pre_live_migration failures on the destination. # Assert that the src attachment is still present self.assertIn(src_attachment_id, attachments.keys()) self.assertEqual(1, len(attachments))"," are incorrectly removed during the rollback from pre_live_migration failures on the destination. # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments))",21,8
openstack%2Frequirements~master~I980190c4f9ce30cc01aa4c353ea976249c1112d2,openstack/requirements,master,I980190c4f9ce30cc01aa4c353ea976249c1112d2,Update rbd-iscsi-client to 0.1.8,MERGED,2020-08-05 19:29:45.000000000,2020-08-05 22:56:21.000000000,2020-08-05 22:54:07.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 19:29:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a3e3f0dc37c55ad032db301dc21c90387ecfb401', 'message': 'Update rbd-iscsi-client to 0.1.8\n\nThis patch updates the upper-constraints.txt to\naccomodate the new version of rbd-iscsi-lient for\nthe cinder ceph-iscsi driver.\n\nThis has a new required parameter to delete_disk\nthat allows the preservation of the backing rbd image,\nto ensure cleanup of the iscsi gateway on nova detach\nwithout deleting the rbd image from the pool.\n\nChange-Id: I980190c4f9ce30cc01aa4c353ea976249c1112d2\n'}]",0,744978,a3e3f0dc37c55ad032db301dc21c90387ecfb401,9,3,1,5997,,,0,"Update rbd-iscsi-client to 0.1.8

This patch updates the upper-constraints.txt to
accomodate the new version of rbd-iscsi-lient for
the cinder ceph-iscsi driver.

This has a new required parameter to delete_disk
that allows the preservation of the backing rbd image,
to ensure cleanup of the iscsi gateway on nova detach
without deleting the rbd image from the pool.

Change-Id: I980190c4f9ce30cc01aa4c353ea976249c1112d2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/744978/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a3e3f0dc37c55ad032db301dc21c90387ecfb401,rbd-iscsi-client,rbd-iscsi-client===0.1.8,rbd-iscsi-client===0.1.7,1,1
openstack%2Frequirements~master~Ie9aa22915f3c3c6da74095da6db4cf01e5885bb3,openstack/requirements,master,Ie9aa22915f3c3c6da74095da6db4cf01e5885bb3,Updated from generate-constraints,MERGED,2020-08-04 06:19:40.000000000,2020-08-05 22:55:21.000000000,2020-08-05 22:54:05.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 06:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8f27a397e01520c9a393a5331e5507ca9ba8a669', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9aa22915f3c3c6da74095da6db4cf01e5885bb3\n'}, {'number': 2, 'created': '2020-08-05 06:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/7d3eb6e31894c27412e7285045d8b7704bd8a240', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9aa22915f3c3c6da74095da6db4cf01e5885bb3\n'}, {'number': 3, 'created': '2020-08-05 15:36:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7dba200f2a3e6b56dfbbc4e8067db905ff82aedb', 'message': 'Updated from generate-constraints\n\nChange-Id: Ie9aa22915f3c3c6da74095da6db4cf01e5885bb3\n'}]",0,744649,7dba200f2a3e6b56dfbbc4e8067db905ff82aedb,18,3,3,11131,,,0,"Updated from generate-constraints

Change-Id: Ie9aa22915f3c3c6da74095da6db4cf01e5885bb3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/744649/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8f27a397e01520c9a393a5331e5507ca9ba8a669,openstack/requirements/constraints/noclob,mock===4.0.2docutils===0.16boto3===1.14.34msgpack===1.0.0PyMySQL===0.10.0botocore===1.17.34Django===2.2.15pkg-resources===0.0.0,mock===3.0.5docutils===0.15.2boto3===1.14.33msgpack===0.6.1PyMySQL===0.9.3botocore===1.17.33Django===2.2.14,8,7
openstack%2Fpython-glanceclient~stable%2Fussuri~I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0,openstack/python-glanceclient,stable/ussuri,I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0,"Fixes ""stores"" property added to the image",MERGED,2020-08-05 14:43:41.000000000,2020-08-05 22:52:27.000000000,2020-08-05 22:51:11.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 14:43:41.000000000', 'files': ['releasenotes/notes/fix_1889666-22dc97ce577eccc6.yaml', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/4c63903403d7ef7801c8e274b67f9647ff329991', 'message': 'Fixes ""stores"" property added to the image\n\n""stores"" property gets added to the image when\n`glance image-create-via-import` is called with --stores\n\nChange-Id: I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0\nCloses-Bug: #1889666\n(cherry picked from commit 77eab17cf9f3cf3f2578f73163cb816e425effa2)\n'}]",0,744917,4c63903403d7ef7801c8e274b67f9647ff329991,9,4,1,5202,,,0,"Fixes ""stores"" property added to the image

""stores"" property gets added to the image when
`glance image-create-via-import` is called with --stores

Change-Id: I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0
Closes-Bug: #1889666
(cherry picked from commit 77eab17cf9f3cf3f2578f73163cb816e425effa2)
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/17/744917/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix_1889666-22dc97ce577eccc6.yaml', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py']",3,4c63903403d7ef7801c8e274b67f9647ff329991,," # NOTE(jokke): Making sure here that we do not include the stores in # the create call fields.pop(""stores"")",,59,0
openstack%2Frequirements~stable%2Fqueens~Id4969156383545eb94462677e3321b89c1160b48,openstack/requirements,stable/queens,Id4969156383545eb94462677e3321b89c1160b48,Ensure pip is installed locally,MERGED,2020-06-19 15:26:54.000000000,2020-08-05 22:33:29.000000000,2020-08-05 22:33:29.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-19 15:26:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/e24a412836f4eff58821ceba517916dc13397b3e', 'message': 'Ensure pip is installed locally\n\nRecent changes to the base nodepool images removed the system-wide\ninstallation of pip and virtualenv. As a result of this, some\nrequirements-check jobs are failing with an error that pip could not be\nfound.\n\nThis adds the ensure-pip role as part of pre_tasks in our\nrequirements-check playbook.\n\nChange-Id: Id4969156383545eb94462677e3321b89c1160b48\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 74a5bed896893ecd3bdedb100439f773af7c7f5e)\n(cherry picked from commit d303fe350d74d2d40aa5a591ee9d372a529d10be)\n(cherry picked from commit d43e0a585719930516fd82504d84e3867512c7f6)\n(cherry picked from commit 0f51382318eff21f9d5a02375bd55b3f805fcc62)\n(cherry picked from commit aa3018d58e739951b1cc6697e2a207a73739976f)\n'}, {'number': 2, 'created': '2020-08-05 18:43:18.000000000', 'files': ['playbooks/requirements-check.yaml', 'openstack_requirements/tests/test_requirement.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bc7833bb37d89a0973cef88621ba7ade3be574a1', 'message': 'Ensure pip is installed locally\n\nRecent changes to the base nodepool images removed the system-wide\ninstallation of pip and virtualenv. As a result of this, some\nrequirements-check jobs are failing with an error that pip could not be\nfound.\n\nThis adds the ensure-pip role as part of pre_tasks in our\nrequirements-check playbook.\n\nAlso necessary to squash:\n\nFix failure with setuptools >= 49.0.0\n(cherry-picked from commit d30e19237f8eb8be9e1a736f1d4503c8cfcd74b2)\n\nChange-Id: Id4969156383545eb94462677e3321b89c1160b48\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 74a5bed896893ecd3bdedb100439f773af7c7f5e)\n(cherry picked from commit d303fe350d74d2d40aa5a591ee9d372a529d10be)\n(cherry picked from commit d43e0a585719930516fd82504d84e3867512c7f6)\n(cherry picked from commit 0f51382318eff21f9d5a02375bd55b3f805fcc62)\n(cherry picked from commit aa3018d58e739951b1cc6697e2a207a73739976f)\n'}]",0,737036,bc7833bb37d89a0973cef88621ba7ade3be574a1,20,4,2,11904,,,0,"Ensure pip is installed locally

Recent changes to the base nodepool images removed the system-wide
installation of pip and virtualenv. As a result of this, some
requirements-check jobs are failing with an error that pip could not be
found.

This adds the ensure-pip role as part of pre_tasks in our
requirements-check playbook.

Also necessary to squash:

Fix failure with setuptools >= 49.0.0
(cherry-picked from commit d30e19237f8eb8be9e1a736f1d4503c8cfcd74b2)

Change-Id: Id4969156383545eb94462677e3321b89c1160b48
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 74a5bed896893ecd3bdedb100439f773af7c7f5e)
(cherry picked from commit d303fe350d74d2d40aa5a591ee9d372a529d10be)
(cherry picked from commit d43e0a585719930516fd82504d84e3867512c7f6)
(cherry picked from commit 0f51382318eff21f9d5a02375bd55b3f805fcc62)
(cherry picked from commit aa3018d58e739951b1cc6697e2a207a73739976f)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/737036/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/requirements-check.yaml'],1,e24a412836f4eff58821ceba517916dc13397b3e,ensure-pip, pre_tasks: - name: Ensure pip include_role: name: ensure-pip ,,5,0
openstack%2Fneutron-lib~master~I6fd62f6f393b635e6710020adab736a09a142556,openstack/neutron-lib,master,I6fd62f6f393b635e6710020adab736a09a142556,"Add ""supported_extensions"" method to MechanismDriver",MERGED,2020-07-28 12:13:35.000000000,2020-08-05 22:29:52.000000000,2020-08-05 22:28:20.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 12:13:35.000000000', 'files': ['releasenotes/notes/mechanism_driver_supported_extensions-67e1b0b763571ae9.yaml', 'neutron_lib/plugins/ml2/api.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b4e33e5e7aba062027765ed56912ad8da4ca8351', 'message': 'Add ""supported_extensions"" method to MechanismDriver\n\nThis method returns the supported plugin extensions, given a\nset of them. Each mechanism driver will be able to implement each\nown filtering method.\n\nBy default, the method will return the same set of extensions\nwithout any filtering.\n\nRelated-Bug: #1888829\n\nChange-Id: I6fd62f6f393b635e6710020adab736a09a142556\n'}]",0,743519,b4e33e5e7aba062027765ed56912ad8da4ca8351,11,10,1,16688,,,0,"Add ""supported_extensions"" method to MechanismDriver

This method returns the supported plugin extensions, given a
set of them. Each mechanism driver will be able to implement each
own filtering method.

By default, the method will return the same set of extensions
without any filtering.

Related-Bug: #1888829

Change-Id: I6fd62f6f393b635e6710020adab736a09a142556
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/19/743519/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mechanism_driver_supported_extensions-67e1b0b763571ae9.yaml', 'neutron_lib/plugins/ml2/api.py']",2,b4e33e5e7aba062027765ed56912ad8da4ca8351,bug/1888829," def supported_extensions(self, extensions): """"""Return the mechanism driver supported extensions By default this method will return the same provided set, without any filtering. In case any particular mechanism driver needs to filter out any specific extension or supports only a reduced set of extensions, this method should be override. :param extensions: set of extensions supported by the instance that created this mechanism driver. :returns: a set of the extensions currently supported by this mechanism driver """""" return extensions ",,22,0
openstack%2Fpuppet-cinder~master~I1fb97537ee162175474b3f672e418fbe6c27e9c7,openstack/puppet-cinder,master,I1fb97537ee162175474b3f672e418fbe6c27e9c7,Deprecate support for Veritas HyperScale Block Stoage driver,MERGED,2020-05-06 12:18:54.000000000,2020-08-05 22:16:25.000000000,2020-08-05 22:14:52.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-06 12:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8f60239e8992bb828512d627fe6ff57ea5e654a4', 'message': 'Deprecate support for Veritas HyperScale Block Stoage driver\n\n... because it is now unsupported in cinder.\n\nChange-Id: I1fb97537ee162175474b3f672e418fbe6c27e9c7\n'}, {'number': 2, 'created': '2020-08-02 23:16:47.000000000', 'files': ['releasenotes/notes/deprecate-veritas_hyperscale-062d5009c5e8f6c5.yaml', 'manifests/backend/veritas_hyperscale.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0da2b260eb6961222a23f7728c41593bcf349030', 'message': 'Deprecate support for Veritas HyperScale Block Stoage driver\n\n... because it has been removed from cinder[1].\n\n[1] 9aca21f5cec8f03a3bb410acb21399955144fe0f\n\nChange-Id: I1fb97537ee162175474b3f672e418fbe6c27e9c7\n'}]",0,725842,0da2b260eb6961222a23f7728c41593bcf349030,16,5,2,9816,,,0,"Deprecate support for Veritas HyperScale Block Stoage driver

... because it has been removed from cinder[1].

[1] 9aca21f5cec8f03a3bb410acb21399955144fe0f

Change-Id: I1fb97537ee162175474b3f672e418fbe6c27e9c7
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/42/725842/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-veritas_hyperscale-062d5009c5e8f6c5.yaml', 'manifests/backend/veritas_hyperscale.pp']",2,8f60239e8992bb828512d627fe6ff57ea5e654a4,veritas-removal, # DEPRECATED! warning('Support for Veritas HyperScale Block Stoage driver is deprecated \ and will be removed in a future release.') ,#,10,1
openstack%2Fmanila~master~Id71215dd50c17b8657284db0d04144ee13544b9e,openstack/manila,master,Id71215dd50c17b8657284db0d04144ee13544b9e,[ci] Replace experimental tripleo job,MERGED,2020-07-29 17:41:19.000000000,2020-08-05 22:12:04.000000000,2020-08-05 22:08:21.000000000,"[{'_account_id': 6413}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-29 17:41:19.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/34982a5f1bedecc8ed09f7d2ba44397cdf8f732a', 'message': '[ci] Replace experimental tripleo job\n\nUpstream testing for stable/train and beyond\nis moving to CentOS 8.\n\nChange-Id: Id71215dd50c17b8657284db0d04144ee13544b9e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,743813,34982a5f1bedecc8ed09f7d2ba44397cdf8f732a,27,11,1,16643,,,0,"[ci] Replace experimental tripleo job

Upstream testing for stable/train and beyond
is moving to CentOS 8.

Change-Id: Id71215dd50c17b8657284db0d04144ee13544b9e
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/13/743813/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,34982a5f1bedecc8ed09f7d2ba44397cdf8f732a,experimental, - tripleo-ci-centos-8-scenario004-standalone, - tripleo-ci-centos-7-scenario004-standalone,1,1
openstack%2Fnova~master~Ia36275a69c1625b269224d1f0cbeccd873d64bf2,openstack/nova,master,Ia36275a69c1625b269224d1f0cbeccd873d64bf2,add notification info when server attach or detach interface,NEW,2020-08-01 06:27:26.000000000,2020-08-05 22:03:23.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-01 06:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07c0b8f855a93de82707ba320ee26348266e407f', 'message': 'add notification info when server attach or detach interface\n\nadd notifacation infomation when user to attach or detach\ninterface from a server.\n\nChange-Id: Ia36275a69c1625b269224d1f0cbeccd873d64bf2\ncloses-Bug: #1889544#\n'}, {'number': 2, 'created': '2020-08-02 14:33:11.000000000', 'files': ['nova/rpc.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/55c446c80697f71995a96510a47c7c8a38ae1652', 'message': 'add notification info when server attach or detach interface\n\nadd notifacation infomation when user to attach or detach\ninterface from a server.\n\nChange-Id: Ia36275a69c1625b269224d1f0cbeccd873d64bf2\ncloses-Bug: #1889544\n'}]",1,744273,55c446c80697f71995a96510a47c7c8a38ae1652,23,10,2,19714,,,0,"add notification info when server attach or detach interface

add notifacation infomation when user to attach or detach
interface from a server.

Change-Id: Ia36275a69c1625b269224d1f0cbeccd873d64bf2
closes-Bug: #1889544
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/744273/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/rpc.py', 'nova/compute/manager.py']",2,07c0b8f855a93de82707ba320ee26348266e407f,bug_1889544," self._notify_about_instance_usage(context, instance, ""interface_attach.start"") self._notify_about_instance_usage(context, instance, ""interface_attach.end"") self._notify_about_instance_usage(context, instance, ""interface_detach.start"") self._notify_about_instance_usage(context, instance, ""interface_detach.end"")",,12,0
openstack%2Fpuppet-ironic~master~Ib6cf8a0121c2883574dbb4699d6d74092386c59e,openstack/puppet-ironic,master,Ib6cf8a0121c2883574dbb4699d6d74092386c59e,Support more parameters of Redfish driver,MERGED,2020-08-04 23:57:44.000000000,2020-08-05 21:52:53.000000000,2020-08-05 21:51:33.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 23:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f74b862e0078136c2db44ca75fe32bcfa9624c9e', 'message': 'Support more options for Redfish driver\n\nThis patch introduces some new parameters to ironic::drivers::redfish\nclass, so that users can set more parameters for Redfish driver by\npuppet-ironic.\n\nChange-Id: Ib6cf8a0121c2883574dbb4699d6d74092386c59e\n'}, {'number': 2, 'created': '2020-08-04 23:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f7238ecf6a5464659dff5991eb3041b4474fb781', 'message': 'Support more parameters of Redfish driver\n\nThis patch introduces some new parameters to ironic::drivers::redfish\nclass, so that users can set more parameters for Redfish driver by\npuppet-ironic.\n\nChange-Id: Ib6cf8a0121c2883574dbb4699d6d74092386c59e\n'}, {'number': 3, 'created': '2020-08-05 00:30:44.000000000', 'files': ['releasenotes/notes/redfish-more-opts-83066e74ed03dacc.yaml', 'spec/classes/ironic_drivers_redfish_spec.rb', 'manifests/drivers/redfish.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/cc7c2753669b316ab22a9505ea93edb2abb40983', 'message': 'Support more parameters of Redfish driver\n\nThis patch introduces some new parameters to ironic::drivers::redfish\nclass, so that users can set more parameters for Redfish driver by\npuppet-ironic.\n\nChange-Id: Ib6cf8a0121c2883574dbb4699d6d74092386c59e\n'}]",0,744806,cc7c2753669b316ab22a9505ea93edb2abb40983,10,3,3,9816,,,0,"Support more parameters of Redfish driver

This patch introduces some new parameters to ironic::drivers::redfish
class, so that users can set more parameters for Redfish driver by
puppet-ironic.

Change-Id: Ib6cf8a0121c2883574dbb4699d6d74092386c59e
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/06/744806/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redfish-more-opts-83066e74ed03dacc.yaml', 'spec/classes/ironic_drivers_redfish_spec.rb', 'manifests/drivers/redfish.pp']",3,f74b862e0078136c2db44ca75fe32bcfa9624c9e,redfish-more-opts,"# [*connection_cache_size*] # (optional) Maximum Redfish client connection cache size. # Defaults to $::os_service_default. # # [*auth_type*] # (optional) Redfish HTTP client authentication method. # Defaults to $::os_service_default # # [*use_swift*] # (optional) Upload genrated ISO images for virtual media boot to Swift. # Defaults to $::os_service_default # # [*swift_container*] # (optional) The swift container to store Redfish driver data. # Defaults to $::os_service_default # # [*swift_object_expiry_timeout*] # (optional) Amount of time in seconds for Swift objects to auto-expire. # Defaults to $::os_service_default # # [*kernel_append_params*] # (optional) Addiitonal kernel parameters to pass down to the instance kernel # Defaults to $::os_service_default # # [*file_permission*] # (optional) File permission for swift-less image hosting with the octal # permission representation of file access permissions. # Defaults to $::os_service_default # $package_ensure = 'present', $connection_attempts = $::os_service_default, $connection_retry_interval = $::os_service_default, $connection_cache_size = $::os_service_default, $auth_type = $::os_service_default, $use_swift = $::os_service_default, $swift_container = $::os_service_default, $swift_object_expiry_timeout = $::os_service_default, $kernel_append_params = $::os_service_default, $file_permission = $::os_service_default, 'redfish/connection_attempts': value => $connection_attempts; 'redfish/connection_retry_interval': value => $connection_retry_interval; 'redfish/connection_cache_size': value => $connection_cache_size; 'redfish/auth_type': value => $auth_type; 'redfish/use_swift': value => $use_swift; 'redfish/swift_container': value => $swift_container; 'redfish/swift_object_expiry_timeout': value => $swift_object_expiry_timeout; 'redfish/kernel_append_params': value => $kernel_append_params; 'redfish/file_permission': value => $file_permission;"," $package_ensure = 'present', $connection_attempts = $::os_service_default, $connection_retry_interval = $::os_service_default, 'redfish/connection_attempts': value => $connection_attempts; 'redfish/connection_retry_interval': value => $connection_retry_interval;",87,7
openstack%2Fcinder~master~Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762,openstack/cinder,master,Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762,Rebranding of VxFlex OS driver to PowerFlex,MERGED,2020-07-10 19:36:25.000000000,2020-08-05 21:44:48.000000000,2020-08-05 21:42:53.000000000,"[{'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31016}, {'_account_id': 31779}, {'_account_id': 32029}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-10 19:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bd29efa6fa4eead7efd5b93b06d709df89092e6', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 2, 'created': '2020-07-13 15:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76bf20f6c50509e805538d51c29968c9b878210b', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 3, 'created': '2020-07-14 16:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ac0e1bf92eef8884c5ca13bc0a1398b79d9aac7', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 4, 'created': '2020-07-14 18:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/546f23d8f1fb10a85ccef89d6904868f04c01fa4', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 5, 'created': '2020-07-14 21:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/27193ae5af5842f64794370aa8b766539e061c84', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 6, 'created': '2020-07-17 19:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb5fabae253dacec1e1e5d01f4514006d44055e2', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 7, 'created': '2020-07-20 18:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e95cdfcdbd163bae7663aaa9c0e0fa7f4939c691', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 8, 'created': '2020-07-21 16:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0d348dc2fbf4f4376d2f34b784cd9732bd0696a', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 9, 'created': '2020-07-21 16:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d7217953ddc3f47fd8a4068938a15c8efda0a72', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}, {'number': 10, 'created': '2020-07-27 16:49:15.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_initialize_connection_snapshot.py', 'cinder/volume/manager.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerflex-driver.rst', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_versions.py', 'cinder/volume/drivers/dell_emc/vxflexos/options.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume.py', 'cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/mocks.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_replication.py', 'releasenotes/notes/vxflexos-powerflex-rebrand-37dfe2b82d35b6a2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_cloned_volume.py', 'cinder/volume/drivers/dell_emc/powerflex/simplecache.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_attach_detach_volume.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/dell_emc/powerflex/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_get_manageable.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_initialize_connection.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_misc.py', 'cinder/volume/drivers/dell_emc/powerflex/options.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_extend_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_groups.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_revert_volume_to_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing_snapshot.py', 'cinder/volume/drivers/dell_emc/powerflex/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c4e2237058f14dd217a30ccaa8102418d54c63c', 'message': 'Rebranding of VxFlex OS driver to PowerFlex\n\nRenamed VxFlex OS driver to PowerFlex and move it to\nanother location. Change configuration options names\nand removed deprecated ScaleIO name and related sio_\nconfiguration options.\n\nChange-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762\nImplements: blueprint vxflexos-rebranding-driver\n'}]",30,740522,6c4e2237058f14dd217a30ccaa8102418d54c63c,288,43,10,10379,,,0,"Rebranding of VxFlex OS driver to PowerFlex

Renamed VxFlex OS driver to PowerFlex and move it to
another location. Change configuration options names
and removed deprecated ScaleIO name and related sio_
configuration options.

Change-Id: Iab5d66bbaab6533a4c1f8911e35fcd3a2cf09762
Implements: blueprint vxflexos-rebranding-driver
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/740522/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_initialize_connection_snapshot.py', 'cinder/volume/manager.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerflex-driver.rst', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_versions.py', 'cinder/volume/drivers/dell_emc/vxflexos/options.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/mocks.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_replication.py', 'releasenotes/notes/vxflexos-powerflex-rebrand-37dfe2b82d35b6a2.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_cloned_volume.py', 'cinder/volume/drivers/dell_emc/powerflex/simplecache.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_attach_detach_volume.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/dell_emc/powerflex/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_get_manageable.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_initialize_connection.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_misc.py', 'cinder/volume/drivers/dell_emc/powerflex/options.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_extend_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_groups.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_revert_volume_to_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing_snapshot.py', 'cinder/volume/drivers/dell_emc/powerflex/__init__.py']",32,3bd29efa6fa4eead7efd5b93b06d709df89092e6,bp/vxflexos-rebranding-driver,,,568,551
openstack%2Fpuppet-aodh~master~Ice37e64bddb0e128f3fc98de7b5fe35bd08e5f36,openstack/puppet-aodh,master,Ice37e64bddb0e128f3fc98de7b5fe35bd08e5f36,Add support for quota parameters,MERGED,2020-08-03 23:09:00.000000000,2020-08-05 21:41:10.000000000,2020-08-05 21:40:02.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 23:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ac3aedb4b74148ff43a9f245322c775f859699c5', 'message': 'Add support for quota parameters\n\nThis patch introduces the new ``aodh::quota`` class, to support\nparameters which define quota amount in aodh.\n\nChange-Id: Ice37e64bddb0e128f3fc98de7b5fe35bd08e5f36\n'}, {'number': 2, 'created': '2020-08-03 23:10:08.000000000', 'files': ['releasenotes/notes/quota-2c8473e178a2f566.yaml', 'manifests/quota.pp', 'spec/classes/aodh_quota_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/895c8b4037fe6cc498374886d7e182560d89957d', 'message': 'Add support for quota parameters\n\nThis patch introduces the new ``aodh::quota`` class, to support\nparameters which define quota amount in aodh.\n\nChange-Id: Ice37e64bddb0e128f3fc98de7b5fe35bd08e5f36\n'}]",0,744575,895c8b4037fe6cc498374886d7e182560d89957d,10,3,2,9816,,,0,"Add support for quota parameters

This patch introduces the new ``aodh::quota`` class, to support
parameters which define quota amount in aodh.

Change-Id: Ice37e64bddb0e128f3fc98de7b5fe35bd08e5f36
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/75/744575/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/quota-2c8473e178a2f566.yaml', 'manifests/quota.pp', 'spec/classes/aodh_quota_spec.rb']",3,ac3aedb4b74148ff43a9f245322c775f859699c5,quota,"require 'spec_helper' describe 'aodh::quota' do shared_examples_for 'aodh::quota' do context 'with default parameters' do let :params do {} end it 'configures default values' do is_expected.to contain_aodh_config('api/user_alarm_quota').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('api/project_alarm_quota').with_value('<SERVICE DEFAULT>') is_expected.to contain_aodh_config('api/alarm_max_actions').with_value('<SERVICE DEFAULT>') end end context 'when specific parameters' do let :params do { :user_alarm_quota => 10, :project_alarm_quota => 20, :alarm_max_actions => 5, } end it 'configures specified values' do is_expected.to contain_aodh_config('api/user_alarm_quota').with_value(10) is_expected.to contain_aodh_config('api/project_alarm_quota').with_value(20) is_expected.to contain_aodh_config('api/alarm_max_actions').with_value(5) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_configures 'aodh::quota' end end end ",,85,0
openstack%2Fglance~master~I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c,openstack/glance,master,I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c,"Add ""stores"" to disallowed properties",MERGED,2020-07-30 18:50:48.000000000,2020-08-05 21:32:03.000000000,2020-08-05 21:30:03.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 18:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/87a9324c5cf627531d48686c9c2d71742e44ef92', 'message': 'Add ""stores"" to disallowed properties\n\nStores is image property which API uses to indicate which\nstores (store IDs) contains the image. This also can be\nset by user making it very confusing and potentially\ncatastrophic breaking for consumers.\n\nThis patch prevents that to happen.\n\nDepends-on: https://review.opendev.org/#/c/744024/\nChange-Id: I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c\nCloses-Bug: #1889676\n'}, {'number': 2, 'created': '2020-07-30 19:30:20.000000000', 'files': ['glance/api/v2/images.py', 'releasenotes/notes/fix_1889676-f8d302fd240c8a57.yaml', 'glance/tests/unit/v2/test_images_resource.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e1f0e94b90b162b1cdca5bdd7af3c09a90ca80ac', 'message': 'Add ""stores"" to disallowed properties\n\nStores is image property which API uses to indicate which\nstores (store IDs) contains the image. This also can be\nset by user making it very confusing and potentially\ncatastrophic breaking for consumers.\n\nThis patch prevents that to happen.\n\nDepends-on: https://review.opendev.org/#/c/744024/\nChange-Id: I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c\nCloses-Bug: #1889676\n'}]",0,744030,e1f0e94b90b162b1cdca5bdd7af3c09a90ca80ac,17,5,2,5202,,,0,"Add ""stores"" to disallowed properties

Stores is image property which API uses to indicate which
stores (store IDs) contains the image. This also can be
set by user making it very confusing and potentially
catastrophic breaking for consumers.

This patch prevents that to happen.

Depends-on: https://review.opendev.org/#/c/744024/
Change-Id: I4eca092bd0a7cce1d6bbbd30685f4643cb4e7d1c
Closes-Bug: #1889676
",git fetch https://review.opendev.org/openstack/glance refs/changes/30/744030/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'releasenotes/notes/fix_1889676-f8d302fd240c8a57.yaml', 'glance/tests/unit/v2/test_images_resource.py']",3,87a9324c5cf627531d48686c9c2d71742e44ef92,bug_1889676," def test_neg_create_with_stores(self): self.config(allow_additional_image_properties=True) request = unit_test_utils.get_fake_request() request.body = jsonutils.dump_as_bytes({'stores': 'test'}) self.assertRaises(webob.exc.HTTPForbidden, self.deserializer.create, request)",,13,1
openstack%2Fneutron~master~I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,openstack/neutron,master,I8284b22c5d691bfd9eadeb8590c3d4b27d261b04,port_forwarding: validate args before invoking db update,MERGED,2020-06-26 03:37:32.000000000,2020-08-05 21:26:09.000000000,2020-07-27 23:11:21.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-26 03:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4369d61e664971d0debd0877cc846e69afe4fb1b', 'message': 'port_forwarding: validate args to avoid getting stuck in dp update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 2, 'created': '2020-06-26 11:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85d259d9ac4a4bdb4c21c712ab8d3b60e29b922f', 'message': 'port_forwarding: validate args to avoid getting stuck in dp update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 3, 'created': '2020-06-26 11:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a15610a22c18b181d0973e2ea0e6724075637f24', 'message': 'port_forwarding: validate args to avoid getting stuck in dp update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument.\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 4, 'created': '2020-06-27 14:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6cddf8e900adf8475af6e8cc0f1b7d9f64e0e0c', 'message': 'port_forwarding: validate args to avoid getting stuck in db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 5, 'created': '2020-06-27 14:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/07a9cfff83d7bea93df67faadbc74c3d8fd0b657', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 6, 'created': '2020-06-29 16:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e8c8e3d88cb25d4876a5e0d9aa053a9c6bffa253', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 7, 'created': '2020-06-30 10:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/908be9d588b5d70414d1317d6da3fe8940952054', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 8, 'created': '2020-06-30 13:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33e019ab03c2edb859b29e3bf7144bfcca49a630', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 9, 'created': '2020-07-06 20:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/af44a9f81a308d4c6ac576611c114014d997219b', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 10, 'created': '2020-07-07 14:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79313bf9ede1b0d3c1837f4277439e2bd8c845b1', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 11, 'created': '2020-07-07 22:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f649a9673d665d35e17a2f78dcacea90a9896890', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 12, 'created': '2020-07-09 10:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c867da72816aea853805194e70f4ebd23a46955', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 13, 'created': '2020-07-10 08:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76c25df66582607408d67393869ecbc3ede97966', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 14, 'created': '2020-07-19 13:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f30368bfa1fc37fddf89e42a03b4636529aed00d', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}, {'number': 15, 'created': '2020-07-19 13:32:23.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3797403486ba43100ff9ec8917d38c8723e12b2', 'message': 'port_forwarding: validate args before invoking db update\n\nAdd validator to update_floatingip_port_forwarding so codepath does not\nattempt performing invalid database operation. With that, operation fails\nright away, with a hint on the offending argument(s).\n\nChange-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04\nCloses-Bug: #1878299\n'}]",28,738145,f3797403486ba43100ff9ec8917d38c8723e12b2,88,10,15,11952,,,0,"port_forwarding: validate args before invoking db update

Add validator to update_floatingip_port_forwarding so codepath does not
attempt performing invalid database operation. With that, operation fails
right away, with a hint on the offending argument(s).

Change-Id: I8284b22c5d691bfd9eadeb8590c3d4b27d261b04
Closes-Bug: #1878299
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/738145/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/portforwarding/pf_plugin.py'],1,4369d61e664971d0debd0877cc846e69afe4fb1b,," self._check_port_forwarding_update(context, pf_obj) def _check_port_forwarding_update(self, context, pf_obj): def _check_port_forwarding_update_failed(conflict): message = _(""Another port forwarding entry with same "" ""attributes already exists, conflicting "" ""values are %s"") % conflict raise lib_exc.BadRequest(resource=apidef.RESOURCE_NAME, msg=message) internal_port = self.core_plugin.get_port(context, pf_obj.internal_port_id) v4_addresses = [ fixed_ip['ip_address'] for fixed_ip in internal_port['fixed_ips'] if (netaddr.IPNetwork(fixed_ip['ip_address']).version == lib_consts.IP_VERSION_4)] if str(pf_obj.internal_ip_address) not in v4_addresses: message = _(""The internal ip address is not valid, as "" ""its fixed_ips are %s"") % internal_port['fixed_ips'] raise lib_exc.BadRequest(resource=apidef.RESOURCE_NAME, msg=message) objs = pf.PortForwarding.get_objects( context, floatingip_id=pf_obj.floatingip_id, protocol=pf_obj.protocol) # Ensure there are no conflicts on the outside for obj in objs: if all([obj.id != pf_obj.id, obj.floating_ip_address == pf_obj.floating_ip_address, obj.external_port == pf_obj.external_port]): _check_port_forwarding_update_failed( {'floating_ip_address': str(obj.floating_ip_address), 'external_port': obj.external_port}) # Ensure there are no conflicts in the inside for obj in objs: if all([obj.id != pf_obj.id, obj.internal_ip_address == pf_obj.internal_ip_address, obj.internal_port == pf_obj.internal_port]): _check_port_forwarding_update_failed( {'internal_ip_address': str(obj.internal_ip_address), 'internal_port': obj.internal_port}) ",,40,0
openstack%2Fopenstack-helm~master~Icece0c108cb8bacfaae187d183afa56a8cdfc492,openstack/openstack-helm,master,Icece0c108cb8bacfaae187d183afa56a8cdfc492,feat(tls): added mariadb certs to nova-placement,MERGED,2020-08-05 19:20:47.000000000,2020-08-05 21:25:09.000000000,2020-08-05 21:23:25.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30495}]","[{'number': 1, 'created': '2020-08-05 19:20:47.000000000', 'files': ['nova/templates/deployment-placement.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2c031b882b54c26ff8a344d9c8f0010d0f5c28b1', 'message': 'feat(tls): added mariadb certs to nova-placement\n\nThis patchset add maraibd certs to the nova-placement for it\nto connect securley with mariadb.\n\nChange-Id: Icece0c108cb8bacfaae187d183afa56a8cdfc492\n'}]",0,744975,2c031b882b54c26ff8a344d9c8f0010d0f5c28b1,12,4,1,24780,,,0,"feat(tls): added mariadb certs to nova-placement

This patchset add maraibd certs to the nova-placement for it
to connect securley with mariadb.

Change-Id: Icece0c108cb8bacfaae187d183afa56a8cdfc492
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/75/744975/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/deployment-placement.yaml'],1,2c031b882b54c26ff8a344d9c8f0010d0f5c28b1,,"{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.endpoints.oslo_db.auth.admin.secret.tls.internal ""path"" ""/etc/mysql/certs"" | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" $envAll.Values.endpoints.oslo_db.auth.admin.secret.tls.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}",,2,0
openstack%2Fproject-config~master~I432734bfce609768b694659ec7ca8bcf6a48a154,openstack/project-config,master,I432734bfce609768b694659ec7ca8bcf6a48a154,Add openstack/barbican-tempest-plugin to vexxhost,MERGED,2020-08-05 20:23:37.000000000,2020-08-05 21:10:41.000000000,2020-08-05 20:51:24.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 20:23:37.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cfe4f3bfbbdcfb6ee6781dd46d2819bee8b57f01', 'message': 'Add openstack/barbican-tempest-plugin to vexxhost\n\nChange-Id: I432734bfce609768b694659ec7ca8bcf6a48a154\nNeeded-By: vexxhost/openstack-operator\n'}]",0,744982,cfe4f3bfbbdcfb6ee6781dd46d2819bee8b57f01,8,4,1,31746,,,0,"Add openstack/barbican-tempest-plugin to vexxhost

Change-Id: I432734bfce609768b694659ec7ca8bcf6a48a154
Needed-By: vexxhost/openstack-operator
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/744982/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,cfe4f3bfbbdcfb6ee6781dd46d2819bee8b57f01,, - openstack/barbican-tempest-plugin,,1,0
openstack%2Ftripleo-common~master~Ib6fed59337f3dac07264052aaf2973ec5a69504f,openstack/tripleo-common,master,Ib6fed59337f3dac07264052aaf2973ec5a69504f,Reduce workers for label lookups,MERGED,2020-08-05 14:29:48.000000000,2020-08-05 21:09:20.000000000,2020-08-05 21:07:28.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 14:29:48.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5602dfd986939d4d2d19a124603c86504eb32b99', 'message': ""Reduce workers for label lookups\n\nUsing 16 causes excessive auth requests and gets us rate limited\nupstream. Let's make this dynamic so that the upstream VMs will use less\nworkers.\n\nPartial-Bug: #1889122\nChange-Id: Ib6fed59337f3dac07264052aaf2973ec5a69504f\n""}]",0,744913,5602dfd986939d4d2d19a124603c86504eb32b99,9,4,1,14985,,,0,"Reduce workers for label lookups

Using 16 causes excessive auth requests and gets us rate limited
upstream. Let's make this dynamic so that the upstream VMs will use less
workers.

Partial-Bug: #1889122
Change-Id: Ib6fed59337f3dac07264052aaf2973ec5a69504f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/744913/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,5602dfd986939d4d2d19a124603c86504eb32b99,bug/1889122," workers = min(max(2, processutils.get_worker_count() // 2), 8) with futures.ThreadPoolExecutor(max_workers=workers) as p:", with futures.ThreadPoolExecutor(max_workers=16) as p:,2,1
openstack%2Ftripleo-heat-templates~master~I368e99d2384469ca166e2e2b00e8621b7afe72db,openstack/tripleo-heat-templates,master,I368e99d2384469ca166e2e2b00e8621b7afe72db,Stop using a conditional for role tasks,MERGED,2020-07-22 21:48:59.000000000,2020-08-05 21:07:27.000000000,2020-07-24 03:39:55.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-22 21:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c2d6c2aac391ea009b4c09972645db1f8ae1627', 'message': ""Stop using a conditional for role tasks\n\nThere is no reason to be using this conditional with a variable since\nthis file path is known when we create the playbook. Additionally we\ndon't need to use the playbook_dir because we're not using it in the\ninclude_tasks. This allows us to specifically express the file that\nwe're using for these tasks inclusions rather than relying on a\nconditional that is not recommend.\n\n[WARNING]: conditional statements should not include jinja2 templating\ndelimiters such as {{ }} or {% %}. Found: '{{ playbook_dir }}/{{\n_task_file_path }}' is exists\n\nChange-Id: I368e99d2384469ca166e2e2b00e8621b7afe72db\n""}, {'number': 2, 'created': '2020-07-22 21:51:36.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea62bcf150885ca91aeb37f098d60bf51cd5a7b7', 'message': ""Stop using a conditional for role tasks\n\nCurrently this task definition is causing the following warning to be\nthrown at execution time:\n\n    [WARNING]: conditional statements should not include jinja2 templating\n    delimiters such as {{ }} or {% %}. Found: '{{ playbook_dir }}/{{\n    _task_file_path }}' is exists\n\nThere is no reason to be using this conditional with a variable since\nthis file path is known when we create the playbook. Additionally we\ndon't need to use the playbook_dir because we're not using it in the\ninclude_tasks. This allows us to specifically express the file that\nwe're using for these tasks inclusions rather than relying on a\nconditional that is not recommended.\n\nChange-Id: I368e99d2384469ca166e2e2b00e8621b7afe72db\n""}]",0,742544,ea62bcf150885ca91aeb37f098d60bf51cd5a7b7,15,6,2,14985,,,0,"Stop using a conditional for role tasks

Currently this task definition is causing the following warning to be
thrown at execution time:

    [WARNING]: conditional statements should not include jinja2 templating
    delimiters such as {{ }} or {% %}. Found: '{{ playbook_dir }}/{{
    _task_file_path }}' is exists

There is no reason to be using this conditional with a variable since
this file path is known when we create the playbook. Additionally we
don't need to use the playbook_dir because we're not using it in the
include_tasks. This allows us to specifically express the file that
we're using for these tasks inclusions rather than relying on a
conditional that is not recommended.

Change-Id: I368e99d2384469ca166e2e2b00e8621b7afe72db
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/742544/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,1c2d6c2aac391ea009b4c09972645db1f8ae1627,stop-conditional-in-when," - include_tasks: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" - ""'{{role.name}}/deploy_steps_tasks_step{{step}}.yaml' is exists"""," - include_tasks: ""{% raw %}{{ _task_file_path }}{% endraw %}"" vars: _task_file_path: ""{{role.name}}/deploy_steps_tasks_step{{step}}.yaml"" - ""{% raw %}'{{ playbook_dir }}/{{ _task_file_path }}' is exists{% endraw %}""",2,4
openstack%2Fneutron~stable%2Ftrain~I1a50e77749aaecc3966c9d238f91a1968ed454ef,openstack/neutron,stable/train,I1a50e77749aaecc3966c9d238f91a1968ed454ef,Fix Traceback when running neutron-ipset-cleanup tool,MERGED,2020-07-31 11:04:09.000000000,2020-08-05 20:36:32.000000000,2020-08-05 18:58:16.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 13686}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-07-31 11:04:09.000000000', 'files': ['neutron/cmd/ipset_cleanup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/91e5764a807c17ba65436eb167b12c5c73739e47', 'message': 'Fix Traceback when running neutron-ipset-cleanup tool\n\nSome of the tools dependencies expect the AGENT group to be\npresent in the configuration, and at present it is not initialized,\nthis patch addresses that.\n\nChange-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef\nSigned-off-by: Frode Nordahl <frode.nordahl@canonical.com>\nCloses-Bug: #1881771\n(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)\n'}]",0,744125,91e5764a807c17ba65436eb167b12c5c73739e47,23,8,1,11975,,,0,"Fix Traceback when running neutron-ipset-cleanup tool

Some of the tools dependencies expect the AGENT group to be
present in the configuration, and at present it is not initialized,
this patch addresses that.

Change-Id: I1a50e77749aaecc3966c9d238f91a1968ed454ef
Signed-off-by: Frode Nordahl <frode.nordahl@canonical.com>
Closes-Bug: #1881771
(cherry picked from commit d57735ae0f01a4c0ae8c81dbdda62e07314face1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/744125/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/ipset_cleanup.py'],1,91e5764a807c17ba65436eb167b12c5c73739e47,bug/1881771-stable/train,from neutron.conf.agent import common as agent_config agent_config.register_root_helper(conf=conf),,2,0
openstack%2Fbifrost~master~Id470b82561e66b5268b3f5209d9ea6432a0d77d0,openstack/bifrost,master,Id470b82561e66b5268b3f5209d9ea6432a0d77d0,Install openstacksdk from pypi by default,MERGED,2020-07-30 14:29:29.000000000,2020-08-05 20:15:20.000000000,2020-08-05 20:10:00.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-30 14:29:29.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'zuul.d/bifrost-jobs.yaml', 'releasenotes/notes/sdk-source-1bd77dbd11b08577.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0d3cf2463ed54e2217f88f3076c62f05531542a1', 'message': ""Install openstacksdk from pypi by default\n\nIt's no longer a fast-moving target and the bits we're using are\npretty stable. This saves us one git checkout.\n\nChange-Id: Id470b82561e66b5268b3f5209d9ea6432a0d77d0\n""}]",0,743989,0d3cf2463ed54e2217f88f3076c62f05531542a1,8,3,1,10239,,,0,"Install openstacksdk from pypi by default

It's no longer a fast-moving target and the bits we're using are
pretty stable. This saves us one git checkout.

Change-Id: Id470b82561e66b5268b3f5209d9ea6432a0d77d0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/89/743989/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'releasenotes/notes/sdk-source-1bd77dbd11b08577.yaml', 'zuul.d/bifrost-jobs.yaml']",5,0d3cf2463ed54e2217f88f3076c62f05531542a1,sdk-source,, - openstack/openstacksdk,8,4
openstack%2Ftripleo-common~stable%2Ftrain~Ibc7ba230bce3464482a91cfea3cc4791544e3abf,openstack/tripleo-common,stable/train,Ibc7ba230bce3464482a91cfea3cc4791544e3abf,Add update and post update tasks to step generated file.,MERGED,2020-07-31 12:04:54.000000000,2020-08-05 20:13:44.000000000,2020-08-05 20:09:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 12:04:54.000000000', 'files': ['tripleo_common/constants.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2db27cdaa2ee6f78859cb4522407f909da4c5c7', 'message': ""Add update and post update tasks to step generated file.\n\nThis will create update_tasks_stepX.yaml for X from 0 to 5 and\npost_update_tasks_stepX.yaml for X from 0 to 3.\n\nThe usuals <ROLE>/post_update_tasks.yaml and <ROLE>/update_tasks.yaml\nare still created so that patch won't break current deployment but it\nwill open the way to load each step file instead of looping over the\nstep.\n\nChange-Id: Ibc7ba230bce3464482a91cfea3cc4791544e3abf\n(cherry picked from commit 642e396f280e3041c8b674fdf22d70b0f857a4ec)\n(cherry picked from commit 4396f91bf4a3e13dd0da75f7c373d19973010953)\n""}]",0,744141,d2db27cdaa2ee6f78859cb4522407f909da4c5c7,24,3,1,8297,,,0,"Add update and post update tasks to step generated file.

This will create update_tasks_stepX.yaml for X from 0 to 5 and
post_update_tasks_stepX.yaml for X from 0 to 3.

The usuals <ROLE>/post_update_tasks.yaml and <ROLE>/update_tasks.yaml
are still created so that patch won't break current deployment but it
will open the way to load each step file instead of looping over the
step.

Change-Id: Ibc7ba230bce3464482a91cfea3cc4791544e3abf
(cherry picked from commit 642e396f280e3041c8b674fdf22d70b0f857a4ec)
(cherry picked from commit 4396f91bf4a3e13dd0da75f7c373d19973010953)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/41/744141/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,d2db27cdaa2ee6f78859cb4522407f909da4c5c7,," 'deploy_steps_tasks': _PER_STEP_TASK_STRICTNESS, 'update_tasks': _PER_STEP_TASK_STRICTNESS, 'post_update_tasks': [False, False, False, False]", 'deploy_steps_tasks': _PER_STEP_TASK_STRICTNESS,3,1
openstack%2Fironic~master~Ie248de2269a63a41b634f7205468edabccc53738,openstack/ironic,master,Ie248de2269a63a41b634f7205468edabccc53738,Change UEFI PXE job to use tinyipa,MERGED,2020-08-03 18:33:08.000000000,2020-08-05 20:11:49.000000000,2020-08-05 19:24:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-03 18:33:08.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ceb0d284b7f8c98244595ec163f6862fee429449', 'message': 'Change UEFI PXE job to use tinyipa\n\nThe kernel for the UEFI PXE job seems to download\nwithout issue, however the required ramdisk does not\nseem to be making it.\n\nAs such, changing the job to use TinyCore to see if the smaller\nhelps resolve these issues.\n\nChange-Id: Ie248de2269a63a41b634f7205468edabccc53738\n'}]",1,744535,ceb0d284b7f8c98244595ec163f6862fee429449,17,6,1,11655,,,0,"Change UEFI PXE job to use tinyipa

The kernel for the UEFI PXE job seems to download
without issue, however the required ramdisk does not
seem to be making it.

As such, changing the job to use TinyCore to see if the smaller
helps resolve these issues.

Change-Id: Ie248de2269a63a41b634f7205468edabccc53738
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/744535/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,ceb0d284b7f8c98244595ec163f6862fee429449,, IRONIC_RAMDISK_TYPE: tinyipa,,1,0
openstack%2Fneutron-lib~master~I5402a8ad462a10c51dc251cb4561b64dbf0b8744,openstack/neutron-lib,master,I5402a8ad462a10c51dc251cb4561b64dbf0b8744,New api-def: port-numa-affinity-policy,MERGED,2020-07-08 16:10:15.000000000,2020-08-05 20:05:45.000000000,2020-08-05 20:04:18.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 16:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c920babf3e09a8ff37a6f02d5212692709c992a6', 'message': 'New api-def: port-numa-affinity-policy\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 2, 'created': '2020-07-09 10:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/21009f3377d417a5401c18ba605127389532e034', 'message': 'New api-def: port-numa-affinity-policy\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 3, 'created': '2020-07-09 13:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/109cbec57a6a52d00412f041972d2ac661a8c037', 'message': 'New api-def: port-numa-affinity-policy\n\nDepends-On: https://review.opendev.org/#/c/739961/\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 4, 'created': '2020-07-09 17:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7ba11a60856bc99fcf3737a2f4e83ce68e6e55bc', 'message': 'New api-def: port-numa-affinity-policy\n\nDepends-On: https://review.opendev.org/#/c/739961/\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 5, 'created': '2020-07-09 17:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b0603de4e711e52a7ee74079f9c58c8161b2612e', 'message': 'New api-def: port-numa-affinity-policy\n\nDepends-On: https://review.opendev.org/#/c/739961/\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 6, 'created': '2020-07-31 10:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b57bf8e547228aff4e15ee48a447c2e97d1e9f7e', 'message': 'New api-def: port-numa-affinity-policy\n\nDepends-On: https://review.opendev.org/#/c/739961/\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 7, 'created': '2020-07-31 14:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/72e10c8d427fee49784f5d638a8482afc950c0b0', 'message': 'New api-def: port-numa-affinity-policy\n\nDepends-On: https://review.opendev.org/#/c/739961/\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 8, 'created': '2020-07-31 16:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/66af61c744dd49772a5dc270eabcae84d877b8df', 'message': 'New api-def: port-numa-affinity-policy\n\nNew API definition: ``port-numa-affinity-policy``. The new field\nadded to ``ports`` API, ``numa_affinity_policy``, represents the NUMA\naffinity policy requested by this port during the virtual machine\nscheduling.\n\nValues: None, ""required"", ""preferred"", ""legacy"".\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 9, 'created': '2020-08-04 14:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6b1f9c790d7240c03c8892d51fa04c1729156b66', 'message': 'New api-def: port-numa-affinity-policy\n\nNew API definition: ``port-numa-affinity-policy``. The new field\nadded to ``ports`` API, ``numa_affinity_policy``, represents the NUMA\naffinity policy requested by this port during the virtual machine\nscheduling.\n\nValues: None, ""required"", ""preferred"", ""legacy"".\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}, {'number': 10, 'created': '2020-08-05 12:32:13.000000000', 'files': ['neutron_lib/api/definitions/port_numa_affinity_policy.py', 'api-ref/source/v2/parameters.yaml', 'releasenotes/notes/port-numa-affinity-policy-9e6d1bafd3c6af36.yaml', 'neutron_lib/api/definitions/__init__.py', 'neutron_lib/exceptions/__init__.py', 'api-ref/source/v2/ports.inc', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/api/definitions/test_port_numa_affinity_policy.py', 'neutron_lib/api/definitions/portbindings.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a3961d7f7ab9e29ca7e4cdd5e646cb2ab812a88a', 'message': 'New api-def: port-numa-affinity-policy\n\nNew API definition: ``port-numa-affinity-policy``. The new field\nadded to ``ports`` API, ``numa_affinity_policy``, represents the NUMA\naffinity policy requested by this port during the virtual machine\nscheduling.\n\nValues: ""None"", ""required"", ""preferred"", ""legacy"".\n\nChange-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744\nRelated-Bug: #1886798\n'}]",12,740058,a3961d7f7ab9e29ca7e4cdd5e646cb2ab812a88a,37,7,10,16688,,,0,"New api-def: port-numa-affinity-policy

New API definition: ``port-numa-affinity-policy``. The new field
added to ``ports`` API, ``numa_affinity_policy``, represents the NUMA
affinity policy requested by this port during the virtual machine
scheduling.

Values: ""None"", ""required"", ""preferred"", ""legacy"".

Change-Id: I5402a8ad462a10c51dc251cb4561b64dbf0b8744
Related-Bug: #1886798
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/58/740058/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/port_numa_affinity_policy.py', 'releasenotes/notes/port-numa-affinity-policy-9e6d1bafd3c6af36.yaml', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/ports.inc', 'neutron_lib/constants.py', 'neutron_lib/tests/unit/api/definitions/test_port_numa_affinity_policy.py']",6,c920babf3e09a8ff37a6f02d5212692709c992a6,bug/1886798,"# Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import port_numa_affinity_policy from neutron_lib.tests.unit.api.definitions import base class PortNumaAffinityPolicyDefinitionTestCase(base.DefinitionBaseTestCase): extension_module = port_numa_affinity_policy ",,92,0
openstack%2Fdevstack-plugin-ceph~master~I25d9a50a4514debe0c3350840342432163e40fd1,openstack/devstack-plugin-ceph,master,I25d9a50a4514debe0c3350840342432163e40fd1,WIP: install specific userspace-rcu package,ABANDONED,2019-02-06 09:55:24.000000000,2020-08-05 19:51:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-02-06 09:55:24.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/064e1f83d810a82f572f926de82bd19c74c470aa', 'message': 'WIP: install specific userspace-rcu package\n\n... that is compatible with shaman nfs-ganesha package (luminous\nflavor) installed during cephfs_nfs manila driver setup.\n\nChange-Id: I25d9a50a4514debe0c3350840342432163e40fd1\n'}]",0,635116,064e1f83d810a82f572f926de82bd19c74c470aa,3,1,1,8056,,,0,"WIP: install specific userspace-rcu package

... that is compatible with shaman nfs-ganesha package (luminous
flavor) installed during cephfs_nfs manila driver setup.

Change-Id: I25d9a50a4514debe0c3350840342432163e40fd1
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/16/635116/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,064e1f83d810a82f572f926de82bd19c74c470aa,install-luminous-manila, # Install particular version of userspace-rcu that is ganesha # is built with. install_package userspace-rcu-0.7.16-1.el7,,3,0
openstack%2Fdevstack-plugin-ceph~master~Ia0c6a1d029c3e5296ade701ecdb59268ed074362,openstack/devstack-plugin-ceph,master,Ia0c6a1d029c3e5296ade701ecdb59268ed074362,Set the image and image's user name for scenario testing with cephfsnfs,ABANDONED,2018-02-13 14:37:30.000000000,2020-08-05 19:50:39.000000000,,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17780}, {'_account_id': 22348}, {'_account_id': 27697}]","[{'number': 1, 'created': '2018-02-13 14:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/61b8d80e3062b05c588887e96666b3905b59c2e2', 'message': ""Set the image and image's user name for scenario testing with cephfsnfs\n\nWhen conducting scenario tests for Manila with CephFS as backend on NFS\nprotocol, set the options image_with_share_tools and image_username to\ncentos in tempest.conf.\n\nChange-Id: Ia0c6a1d029c3e5296ade701ecdb59268ed074362\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 2, 'created': '2018-03-27 14:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2185cb2219ca618a9dbc20b6849fd1fd2884dc77', 'message': ""Set the image and image's user name for scenario testing with cephfsnfs\n\nWhen conducting scenario tests for Manila with CephFS as backend on NFS\nprotocol, set the options image_with_share_tools and image_username to\ncentos in tempest.conf.\n\nChange-Id: Ia0c6a1d029c3e5296ade701ecdb59268ed074362\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 3, 'created': '2018-03-28 05:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/2da4ba87759edc1dee01c7ea2d35e139e20138d2', 'message': ""Set the image and image's user name for scenario testing with cephfsnfs\n\nWhen conducting scenario tests for Manila with CephFS as backend on NFS\nprotocol, set the options image_with_share_tools and image_username to\ncentos in tempest.conf.\n\nChange-Id: Ia0c6a1d029c3e5296ade701ecdb59268ed074362\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}, {'number': 4, 'created': '2018-04-04 10:24:58.000000000', 'files': ['manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/96fd6fae07552cf0082ee565b0b08d0bba9b9928', 'message': ""Set the image and image's user name for scenario testing with cephfsnfs\n\nWhen conducting scenario tests for Manila with CephFS as backend on NFS\nprotocol, set the options image_with_share_tools and image_username to\ncentos in tempest.conf.\n\nChange-Id: Ia0c6a1d029c3e5296ade701ecdb59268ed074362\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n""}]",5,543950,96fd6fae07552cf0082ee565b0b08d0bba9b9928,19,7,4,27697,,,0,"Set the image and image's user name for scenario testing with cephfsnfs

When conducting scenario tests for Manila with CephFS as backend on NFS
protocol, set the options image_with_share_tools and image_username to
centos in tempest.conf.

Change-Id: Ia0c6a1d029c3e5296ade701ecdb59268ed074362
Signed-off-by: Rishabh Dave <ridave@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/50/543950/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/post_test_hook.sh'],1,61b8d80e3062b05c588887e96666b3905b59c2e2,cephfs-nfs-scenario-gate, if [[$MANILA_TEST_TYPE == 'scenario']]; then iniset $TEMPEST_CONFIG share image_with_share_tools centos iniset $TEMPEST_CONFIG share image_username centos fi,,4,0
openstack%2Fdevstack-plugin-ceph~master~Ibdd081ffe8f90a0281907c952b4bf9aabea98078,openstack/devstack-plugin-ceph,master,Ibdd081ffe8f90a0281907c952b4bf9aabea98078,Fix manila tempest invocation for stable/pike.,ABANDONED,2019-03-26 14:31:36.000000000,2020-08-05 19:50:19.000000000,,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-26 14:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ad29f4316467b64cd71599e5abd812fced3dbeba', 'message': ""Fix manila tempest invocation for stable/pike.\n\nWe changed [1] the manila post-test-hook to no longer\nrun tempest from a venv but this breaks runs on stable/pike.\n\nFix this by running tempest the old way if we're on\nstable/pike.\n\n[1] I8abe6ba29766ecaa7faade06a1b23520733139a2\n\nChange-Id: Ibdd081ffe8f90a0281907c952b4bf9aabea98078\n""}, {'number': 2, 'created': '2019-03-26 19:37:52.000000000', 'files': ['manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ca34ab98f83037071fd07167596800c95cb1bcd1', 'message': ""Fix manila tempest invocation for stable/pike.\n\nWe changed [1] the manila post-test-hook to no longer\nrun tempest from a venv but this breaks runs on stable/pike.\n\nFix this by running tempest the old way if we're on\nstable/pike.\n\n[1] I8abe6ba29766ecaa7faade06a1b23520733139a2\n\nChange-Id: Ibdd081ffe8f90a0281907c952b4bf9aabea98078\n""}]",4,647755,ca34ab98f83037071fd07167596800c95cb1bcd1,11,4,2,9003,,,0,"Fix manila tempest invocation for stable/pike.

We changed [1] the manila post-test-hook to no longer
run tempest from a venv but this breaks runs on stable/pike.

Fix this by running tempest the old way if we're on
stable/pike.

[1] I8abe6ba29766ecaa7faade06a1b23520733139a2

Change-Id: Ibdd081ffe8f90a0281907c952b4bf9aabea98078
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/55/647755/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/post_test_hook.sh'],1,ad29f4316467b64cd71599e5abd812fced3dbeba,,"if [[ $ZUUL_BRANCH != ""stable/pike"" ]]; then sudo -H -u $USER tempest run -r $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY else sudo -H -u $USER tox -eall -- $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY fi",sudo -H -u $USER tempest run -r $MANILA_TESTS --concurrency=$MANILA_TEMPEST_CONCURRENCY,5,1
openstack%2Fdevstack-plugin-ceph~master~I82f8883bf48e62df806639dd47064e8c31591d1c,openstack/devstack-plugin-ceph,master,I82f8883bf48e62df806639dd47064e8c31591d1c,Fix manila configuration,ABANDONED,2019-05-11 00:26:10.000000000,2020-08-05 19:45:53.000000000,,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-11 00:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/33bea4c3e79744ef965cf8ed86798e061dadf18a', 'message': 'Fix manila configuration\n\n- Fix some typos in parameter values\n- Stop suppressing cleanup errors\n- Remove consistency group and auth related\n  configuration\n\nChange-Id: I82f8883bf48e62df806639dd47064e8c31591d1c\n'}, {'number': 2, 'created': '2019-06-12 20:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c5a201c45f905d6cf84d76b4fbe8435306c75ca3', 'message': 'Fix manila configuration\n\n- Fix some typos in parameter values\n- Stop suppressing cleanup errors\n- Remove consistency group and auth related\n  configuration\n\nChange-Id: I82f8883bf48e62df806639dd47064e8c31591d1c\n'}, {'number': 3, 'created': '2019-07-15 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/7c66efa72381cbe2d6ca5d2193c5cf2c6bf7ea27', 'message': 'Fix manila configuration\n\n- Fix some typos in parameter values\n- Stop suppressing cleanup errors\n- Remove consistency group and auth related\n  configuration\n\nChange-Id: I82f8883bf48e62df806639dd47064e8c31591d1c\n'}, {'number': 4, 'created': '2019-11-15 15:53:29.000000000', 'files': ['manila/pre_test_hook.sh', 'manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/fc7d32d9ec9e093cddbf8d71a68b9fbca95c52fa', 'message': 'Fix manila configuration\n\n- Fix some typos in parameter values\n- Stop suppressing cleanup errors\n- Remove consistency group and auth related\n  configuration\n\nChange-Id: I82f8883bf48e62df806639dd47064e8c31591d1c\n'}]",0,658512,fc7d32d9ec9e093cddbf8d71a68b9fbca95c52fa,16,4,4,16643,,,0,"Fix manila configuration

- Fix some typos in parameter values
- Stop suppressing cleanup errors
- Remove consistency group and auth related
  configuration

Change-Id: I82f8883bf48e62df806639dd47064e8c31591d1c
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/12/658512/4 && git format-patch -1 --stdout FETCH_HEAD,"['manila/pre_test_hook.sh', 'manila/post_test_hook.sh']",2,33bea4c3e79744ef965cf8ed86798e061dadf18a,cephfs-scenario,"# either be 'singlebackend' or 'multibackend'.# Second argument is the type of the cephfs driver that is setup. Valid # values are ""cephfsnative"" and ""cephfsnfs""SUPPRESS_ERRORS=${SUPPRESS_ERRORS_IN_CLEANUP:-False}# CephFS does not yet support cloning of snapshots required to create Manila","# either be 'singlebackend' or 'multiplebackend'.# Second argument is the type of the cephfs driver that is setup. Currently, # 'cephfsnative' is the only possibility.SUPPRESS_ERRORS=${SUPPRESS_ERRORS_IN_CLEANUP:-True}# CephFS does not yet suppport cloning of snapshots required to create Manila# Disable consistency group tests. The lone cephfs driver, cephfs native, # does not yet (2nd Feb, 2016) support, # 'create_consistency_group_from_snapshot' API. RUN_MANILA_CG_TESTS=${RUN_MANILA_CG_TESTS:-False} iniset $TEMPEST_CONFIG share run_consistency_group_tests $RUN_MANILA_CG_TESTS # Workaround for Tempest architectural changes # See bugs: # 1) https://bugs.launchpad.net/manila/+bug/1531049 # 2) https://bugs.launchpad.net/tempest/+bug/1524717 ADMIN_TENANT_NAME=${ADMIN_TENANT_NAME:-""admin""} ADMIN_PASSWORD=${ADMIN_PASSWORD:-""secretadmin""} iniset $TEMPEST_CONFIG auth admin_username ${ADMIN_USERNAME:-""admin""} iniset $TEMPEST_CONFIG auth admin_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG auth admin_tenant_name $ADMIN_TENANT_NAME iniset $TEMPEST_CONFIG auth admin_domain_name ${ADMIN_DOMAIN_NAME:-""Default""} iniset $TEMPEST_CONFIG identity username ${TEMPEST_USERNAME:-""demo""} iniset $TEMPEST_CONFIG identity password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity tenant_name ${TEMPEST_TENANT_NAME:-""demo""} iniset $TEMPEST_CONFIG identity alt_username ${ALT_USERNAME:-""alt_demo""} iniset $TEMPEST_CONFIG identity alt_password $ADMIN_PASSWORD iniset $TEMPEST_CONFIG identity alt_tenant_name ${ALT_TENANT_NAME:-""alt_demo""} iniset $TEMPEST_CONFIG validation ip_version_for_ssh 4 iniset $TEMPEST_CONFIG validation ssh_timeout $BUILD_TIMEOUT iniset $TEMPEST_CONFIG validation network_for_ssh ${PRIVATE_NETWORK_NAME:-""private""} ",6,33
openstack%2Fdevstack-plugin-ceph~master~I215b870c66cc27f10f8a6bf18d93feda477a3970,openstack/devstack-plugin-ceph,master,I215b870c66cc27f10f8a6bf18d93feda477a3970,Fix ceph iscsi gw not working on ubuntu focal,MERGED,2020-06-18 09:05:16.000000000,2020-08-05 19:44:49.000000000,2020-08-05 19:43:01.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22997}]","[{'number': 1, 'created': '2020-06-18 09:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/a5ff20c2afb507bea26b5247682ef3ad202f48ed', 'message': 'Make ceph iscsi gateway work again\n\nFor Ubuntu Focal use distro ceph iscsi packages.\n\nChange api host ""::"" as ceph iscsi default setting[1]. Which references\nto ceph-ansible configuration[2]. This make rbd-target-api accessible\nfor both localhost and host ip. Otherwise iscsi gateway creation will\nfail.\n\nChange minimum-gateways default to 1, otherwise client creation will\nfail on all-in-one setup.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n\nDepends-On: https://review.opendev.org/#/c/733751/\nDepends-On: https://review.opendev.org/#/c/728362/\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 2, 'created': '2020-06-18 09:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/f27f884b20702f16c9c3ffb5f7603ea6734474e7', 'message': 'Make ceph iscsi gateway work again\n\nFor Ubuntu Focal use distro ceph iscsi packages.\n\nChange api host ""::"" as ceph iscsi default setting[1]. Which references\nto ceph-ansible configuration[2]. This make rbd-target-api accessible\nfor both localhost(gwcli) and HOST_IP. Otherwise iscsi gateway creation\nwill fail.\n\nChange minimum-gateways default to 1, otherwise client creation will\nfail on all-in-one setup.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n\nDepends-On: https://review.opendev.org/#/c/733751/\nDepends-On: https://review.opendev.org/#/c/728362/\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 3, 'created': '2020-06-28 09:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/180eca945141c0b48603ae26dd3863f40fe57720', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nUbuntu Focal has the required ceph iscsi packages, use distro provided ones.\n\nChange api host ""::"" as ceph iscsi default setting[1]. Which references to\nceph-ansible configuration[2]. This make rbd-target-api accessible for both\nlocalhost(gwcli) and HOST_IP. Otherwise iscsi gateway creation will fail in\nnewer version ceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi, otherwise\nclient creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not the\nsame as FQDN.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 4, 'created': '2020-06-30 07:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9fa5e78d97da9d5a03fc56ad0206dcff3b4e84f0', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nLimit ceph iscsi ubuntu support only to Focal. As only Focal has the required\npackages and we don\'t want to install ceph-iscsi from master source code\nwhich is changing all the way is not a good way for CI.\n\nChange api host ""::"" as ceph iscsi default setting[1]. Which references to\nceph-ansible configuration[2]. This make rbd-target-api accessible for both\nlocalhost(gwcli) and HOST_IP. Otherwise iscsi gateway creation will fail in\nnewer version ceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi, otherwise\nclient creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not the\nsame as FQDN.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 5, 'created': '2020-06-30 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/fc21b14f5e5f9703e77aebcce2b01abc3e4419db', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nLimit ceph iscsi ubuntu support only to Focal. As only Focal has the required\npackages and we don\'t want to install ceph-iscsi from master source code\nwhich is changing all the way is not a good way for CI.\n\nRemove api_host setting, let it be ceph iscsi default setting ""::""[1]. Which\nreferences to ceph-ansible configuration[2]. This make rbd-target-api\naccessible for both localhost(gwcli) and HOST_IP. Otherwise iscsi gateway\ncreation will fail in newer version ceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi, otherwise\nclient creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not the\nsame as FQDN.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 6, 'created': '2020-07-06 01:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ca3b9cb3abbd3f5ef75e0421ebb6e2851db9bb1d', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nLimit ceph iscsi ubuntu support only to Focal. As only Focal has the required\npackages and we don\'t want to install ceph-iscsi from master source code\nwhich is changing all the way is not a good way for CI.\n\nRemove api_host setting, let it be ceph iscsi default setting ""::""[1]. Which\nreferences to ceph-ansible configuration[2]. This makes rbd-target-api\naccessible for both localhost(gwcli) and HOST_IP. Otherwise iscsi gateway\ncreation will fail in newer version ceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi, otherwise\nclient creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not the\nsame as FQDN.\n\nFix stop_ceph_iscsi run twice.\n\nMake iscsi pool configurable.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 7, 'created': '2020-07-06 01:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/51ac559fe6005dc9a1e70f25bef7fae4e9815592', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nLimit ceph iscsi ubuntu support only to Focal. As only Focal has the\nrequired packages and we don\'t want to install ceph-iscsi from master\nsource code which is changing all the way is not a good way for CI.\n\nRemove api_host setting, let it be ceph iscsi default setting ""::""[1],\nWhich references to ceph-ansible configuration[2]. This makes\nrbd-target-api accessible for both localhost(gwcli) and HOST_IP.\nOtherwise iscsi gateway creation will fail in newer version\nceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi,\notherwise client creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not\nthe same as FQDN.\n\nFix stop_ceph_iscsi run twice.\n\nMake iscsi pool configurable.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 8, 'created': '2020-07-06 19:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c98f7c1ad0204800f221d70099c35d6d0f54f547', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nLimit ceph iscsi ubuntu support only to Focal. As only Focal has the\nrequired packages and we don\'t want to install ceph-iscsi from master\nsource code which is changing all the way is not a good way for CI.\n\nRemove api_host setting, let it be ceph iscsi default setting ""::""[1],\nWhich references to ceph-ansible configuration[2]. This makes\nrbd-target-api accessible for both localhost(gwcli) and HOST_IP.\nOtherwise iscsi gateway creation will fail in newer version\nceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi,\notherwise client creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not\nthe same as FQDN.\n\nFix stop_ceph_iscsi run twice.\n\nMake iscsi pool configurable.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 9, 'created': '2020-07-10 08:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/fcecff58ea09a65650102bca1666b17755fa67c0', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nLimit ceph iscsi ubuntu support only to Focal. As only Focal has the\nrequired packages and we don\'t want to install ceph-iscsi from master\nsource code which is changing all the way is not a good way for CI.\n\nRemove api_host setting, let it be ceph iscsi default setting ""::""[1],\nWhich references to ceph-ansible configuration[2]. This makes\nrbd-target-api accessible for both localhost(gwcli) and HOST_IP.\nOtherwise iscsi gateway creation will fail in newer version\nceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi,\notherwise client creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not\nthe same as FQDN.\n\nFix stop_ceph_iscsi run twice.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}, {'number': 10, 'created': '2020-07-10 08:58:28.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/478b61632be5f8d36824cb11b89a7f6ca396823c', 'message': 'Fix ceph iscsi gw not working on ubuntu focal\n\nLimit ceph iscsi ubuntu support only to Focal. As only Focal has the\nrequired packages and we don\'t want to install ceph-iscsi from master\nsource code which is changing all the way is not a good way for CI.\n\nRemove api_host setting, let it be ceph iscsi default setting ""::""[1],\nWhich references to ceph-ansible configuration[2]. This makes\nrbd-target-api accessible for both localhost(gwcli) and HOST_IP.\nOtherwise iscsi gateway creation will fail in newer version\nceph-iscsi[3].\n\nChange minimum-gateways default to 1 for newer version ceph-iscsi,\notherwise client creation will fail on all-in-one setup[4].\n\nFix gateway creation failure with error:\n""The first gateway defined must be the local machine""\nCeph-iscsi requires gateway name to be FQDN, sometimes hostname is not\nthe same as FQDN.\n\nFix stop_ceph_iscsi run twice.\n\nRemove setup_packages_for_iscsi as openstack won\'t support projects that\nrequire packages installed with git clone.\n\n[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174\n[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2\n[3]: https://github.com/ceph/ceph-iscsi/issues/193\n[4]: https://github.com/ceph/ceph-iscsi/issues/195\n\nChange-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970\n'}]",19,736508,478b61632be5f8d36824cb11b89a7f6ca396823c,38,10,10,22997,,,0,"Fix ceph iscsi gw not working on ubuntu focal

Limit ceph iscsi ubuntu support only to Focal. As only Focal has the
required packages and we don't want to install ceph-iscsi from master
source code which is changing all the way is not a good way for CI.

Remove api_host setting, let it be ceph iscsi default setting ""::""[1],
Which references to ceph-ansible configuration[2]. This makes
rbd-target-api accessible for both localhost(gwcli) and HOST_IP.
Otherwise iscsi gateway creation will fail in newer version
ceph-iscsi[3].

Change minimum-gateways default to 1 for newer version ceph-iscsi,
otherwise client creation will fail on all-in-one setup[4].

Fix gateway creation failure with error:
""The first gateway defined must be the local machine""
Ceph-iscsi requires gateway name to be FQDN, sometimes hostname is not
the same as FQDN.

Fix stop_ceph_iscsi run twice.

Remove setup_packages_for_iscsi as openstack won't support projects that
require packages installed with git clone.

[1]: https://github.com/ceph/ceph-iscsi/blob/master/ceph_iscsi_config/gateway_setting.py#L174
[2]: https://github.com/ceph/ceph-ansible/blob/master/roles/ceph-iscsi-gw/templates/iscsi-gateway.cfg.j2
[3]: https://github.com/ceph/ceph-iscsi/issues/193
[4]: https://github.com/ceph/ceph-iscsi/issues/195

Change-Id: I215b870c66cc27f10f8a6bf18d93feda477a3970
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/08/736508/9 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,a5ff20c2afb507bea26b5247682ef3ad202f48ed,iscsi-gateway-fix,"CEPH_ISCSI_API_HOST=${CEPH_ISCSI_API_HOST:-::}CEPH_ISCSI_MINIMUM_GATEWAYS=${CEPH_ISCSI_MINIMUM_GATEWAYS:-1} iniset -sudo ${CEPH_ISCSI_GATEWAY_CFG} config ""minimum_gateways"" $CEPH_ISCSI_MINIMUM_GATEWAYS # Ubuntu Focal have the required packages, use distro provided packages # might be more stable for CI. if [[ $os_CODENAME =~ focal ]]; then install_package tcmu-runner targetcli-fb ceph-iscsi # We have to install the following required packages for ceph-iscsi # tcmu-runner, rtslib-fb, configshell-fb, targetcli-fb, ceph-iscsi git_clone $TCMU_RUNNER_REPO $DEST/tcmu-runner master cd $DEST/tcmu-runner if is_fedora; then # we can run the install extras from tcmu-runner here extra/install_dep.sh else # The packages needed to build tcmu-runner, since there is no # ubuntu package prior to focal yet. local dev_pkgs=""cmake make gcc libnl-genl-3-200"" dev_pkgs=""${dev_pkgs} librbd1 librbd-dev libglib2.0-0 libglib2.0-bin zlib1g"" dev_pkgs=""${dev_pkgs} libkmod2 libnl-genl-3-dev libglib2.0-dev"" dev_pkgs=""${dev_pkgs} zlib1g-dev libkmod-dev"" dev_pkgs=""${dev_pkgs} libgoogle-perftools4 libgoogle-perftools-dev"" install_package ${dev_pkgs} fi cmake -Dwith-glfs=false -Dwith-qcow=false -DSUPPORT_SYSTEMD=on -DCMAKE_INSTALL_PREFIX=/usr sudo make install pip_install rtslib-fb pip_install configshell-fb pip_install targetcli-fb if [ ! -d /etc/target ]; then sudo mkdir /etc/target fi if [ ! -d /var/target ]; then sudo mkdir /var/target fi git_clone $CEPH_ISCSI_REPO $DEST/ceph-iscsi master cd $DEST/ceph-iscsi if python3_enabled; then sudo python3 setup.py install --install-scripts=/usr/bin else sudo python setup.py install --install-scripts=/usr/bin fi sudo cp usr/lib/systemd/system/rbd-target-gw.service /lib/systemd/system sudo cp usr/lib/systemd/system/rbd-target-api.service /lib/systemd/system","CEPH_ISCSI_API_HOST=${CEPH_ISCSI_API_HOST:-localhost} # We have to install the following required packages for ceph-iscsi # tcmu-runner, trslib-fb, configshell-fb, targetcli-fb, ceph-iscsi git_clone $TCMU_RUNNER_REPO $DEST/tcmu-runner master cd $DEST/tcmu-runner if is_fedora; then # we can run the install extras from tcmu-runner here extra/install_dep.sh fi cmake -Dwith-glfs=false -Dwith-qcow=false -DSUPPORT_SYSTEMD=on -DCMAKE_INSTALL_PREFIX=/usr sudo make install pip_install rtslib-fb pip_install configshell-fb pip_install targetcli-fb if [ ! -d /etc/target ]; then sudo mkdir /etc/target fi if [ ! -d /var/target ]; then sudo mkdir /var/target fi git_clone $CEPH_ISCSI_REPO $DEST/ceph-iscsi master cd $DEST/ceph-iscsi if python3_enabled; then sudo python3 setup.py install --install-scripts=/usr/bin sudo python setup.py install --install-scripts=/usr/bin sudo cp usr/lib/systemd/system/rbd-target-gw.service /lib/systemd/system sudo cp usr/lib/systemd/system/rbd-target-api.service /lib/systemd/system # The packages needed to build tcmu-runner, since there is no # ubuntu package yet. CEPH_PACKAGES=""${CEPH_PACKAGES} cmake make gcc libnl-genl-3-200"" CEPH_PACKAGES=""${CEPH_PACKAGES} librbd1 librbd-dev libglib2.0-0 libglib2.0-bin zlib1g"" CEPH_PACKAGES=""${CEPH_PACKAGES} libkmod2 libnl-genl-3-dev libglib2.0-dev"" CEPH_PACKAGES=""${CEPH_PACKAGES} zlib1g-dev libkmod-dev"" CEPH_PACKAGES=""${CEPH_PACKAGES} libgoogle-perftools4 libgoogle-perftools-dev""",49,38
openstack%2Fbifrost~master~Idc9f1cd66b123c9c9325d7fd7a557475bfdbdd68,openstack/bifrost,master,Idc9f1cd66b123c9c9325d7fd7a557475bfdbdd68,Clean up requirements,MERGED,2020-07-30 14:44:50.000000000,2020-08-05 19:43:31.000000000,2020-08-05 19:41:48.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-30 14:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b3ff97d4da83e598411b96bf8b530b3dfa712f6a', 'message': ""requirements: remove paramiko and simplify setuptools version\n\nParamiko used to be required by ironic, now it's only used by ansible\nand should be handled by its requirements.\n\nAlso simplify the setuptools requirement to use the version from\nBionic as a minimum and pull in the latest exclusions from g-r.\n\nChange-Id: Idc9f1cd66b123c9c9325d7fd7a557475bfdbdd68\n""}, {'number': 2, 'created': '2020-07-30 16:20:04.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/da3593244fea5ea0501fcc0bc42ee11a78078053', 'message': ""Clean up requirements\n\nParamiko used to be required by ironic, now it's only used by ansible\nand should be handled by its requirements.\n\nSimplify the setuptools requirement to use the version from\nBionic as a minimum and pull in the latest exclusions from g-r.\n\nMove PyYAML to requirements since it's used in production code.\n\nRemove test requirements that are not referenced anywhere.\n\nChange-Id: Idc9f1cd66b123c9c9325d7fd7a557475bfdbdd68\n""}]",0,743991,da3593244fea5ea0501fcc0bc42ee11a78078053,10,3,2,10239,,,0,"Clean up requirements

Paramiko used to be required by ironic, now it's only used by ansible
and should be handled by its requirements.

Simplify the setuptools requirement to use the version from
Bionic as a minimum and pull in the latest exclusions from g-r.

Move PyYAML to requirements since it's used in production code.

Remove test requirements that are not referenced anywhere.

Change-Id: Idc9f1cd66b123c9c9325d7fd7a557475bfdbdd68
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/743991/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b3ff97d4da83e598411b96bf8b530b3dfa712f6a,requirements,"# TODO(dtantsur): remove pyOpenSSL when we no longer support Bionic and # openSUSE updates its version to at least 18.0.0.setuptools!=48.0.0,!=49.0.0,>=39.0.1 # PSF/ZPL","paramiko>=2.0.0 # LGPLv2.1+setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,>=21.0.0 # PSF/ZPL",3,2
openstack%2Fironic-inspector~bugfix%2F10.2~I89ec9aa916f32eab72108ba3999d36e035602cfb,openstack/ironic-inspector,bugfix/10.2,I89ec9aa916f32eab72108ba3999d36e035602cfb,Configure dsvm jobs for the bugfix branch,MERGED,2020-08-04 12:55:42.000000000,2020-08-05 19:38:09.000000000,2020-08-05 19:24:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-04 12:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7e39ab5b4668df3d3224b6e9161c2f96fba4844f', 'message': 'Configure dsvm jobs for the bugfix branch\n\nChange-Id: I89ec9aa916f32eab72108ba3999d36e035602cfb\n'}, {'number': 2, 'created': '2020-08-04 13:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/84bed53df3aa52fa81b7eac3d0aebd6b793abfe1', 'message': '[WIP] Configure dsvm jobs for the bugfix branch\n\nChange-Id: I89ec9aa916f32eab72108ba3999d36e035602cfb\n'}, {'number': 3, 'created': '2020-08-04 13:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/128f12edb4fc0674d0e866731a8ce517f389b90b', 'message': '[WIP] Configure dsvm jobs for the bugfix branch\n\nChange-Id: I89ec9aa916f32eab72108ba3999d36e035602cfb\n'}, {'number': 4, 'created': '2020-08-04 13:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4d52415b87974b47f986c6a3c4afa33c479f4e2a', 'message': ""[WIP] Configure dsvm jobs for the bugfix branch\n\nLeaving grenade alone for now since it's not strictly required.\n\nChange-Id: I89ec9aa916f32eab72108ba3999d36e035602cfb\n""}, {'number': 5, 'created': '2020-08-04 13:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a8adfb12141e6ed896954f026b371f7966ca56f4', 'message': ""[WIP] Configure dsvm jobs for the bugfix branch\n\nLeaving grenade alone for now since it's not strictly required.\n\nChange-Id: I89ec9aa916f32eab72108ba3999d36e035602cfb\n""}, {'number': 6, 'created': '2020-08-04 14:54:49.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/023c10513547ac930149d3c484374063493146c1', 'message': ""Configure dsvm jobs for the bugfix branch\n\nLeaving grenade alone for now since it's not strictly required.\n\nChange-Id: I89ec9aa916f32eab72108ba3999d36e035602cfb\n""}]",0,744700,023c10513547ac930149d3c484374063493146c1,21,5,6,10239,,,0,"Configure dsvm jobs for the bugfix branch

Leaving grenade alone for now since it's not strictly required.

Change-Id: I89ec9aa916f32eab72108ba3999d36e035602cfb
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/00/744700/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-inspector-jobs.yaml'],1,7e39ab5b4668df3d3224b6e9161c2f96fba4844f,, - name: openstack/devstack override-branch: master - name: openstack/ironic override-branch: bugfix/15.1,,4,0
openstack%2Frequirements~master~I48c11e441afca3dea1fa69500e9b51764b3730d3,openstack/requirements,master,I48c11e441afca3dea1fa69500e9b51764b3730d3,Update rbd-iscsi-client to 0.1.8,ABANDONED,2020-08-05 19:24:35.000000000,2020-08-05 19:29:05.000000000,,[],"[{'number': 1, 'created': '2020-08-05 19:24:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bf36a222419117c3476fc7a4a53e12937be7917d', 'message': 'Update rbd-iscsi-client to 0.1.8\n\nThis patch updates the upper-constraints.txt to\naccomodate the new version of rbd-iscsi-lient for\nthe cinder ceph-iscsi driver.\n\nThis has a new required parameter to delete_disk\nthat allows the preservation of the backing rbd image,\nto ensure cleanup of the iscsi gateway on nova detach\nwithout deleting the rbd image from the pool.\n\nChange-Id: I48c11e441afca3dea1fa69500e9b51764b3730d3\n'}]",0,744976,bf36a222419117c3476fc7a4a53e12937be7917d,2,0,1,5997,,,0,"Update rbd-iscsi-client to 0.1.8

This patch updates the upper-constraints.txt to
accomodate the new version of rbd-iscsi-lient for
the cinder ceph-iscsi driver.

This has a new required parameter to delete_disk
that allows the preservation of the backing rbd image,
to ensure cleanup of the iscsi gateway on nova detach
without deleting the rbd image from the pool.

Change-Id: I48c11e441afca3dea1fa69500e9b51764b3730d3
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/744976/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bf36a222419117c3476fc7a4a53e12937be7917d,,-e file:///opt/stack/tempest#egg=tempest APScheduler===3.6.3 Babel===2.8.0 CouchDB===1.2Flask===1.1.2Jinja2===2.11.2 Logbook===1.5.3 Mako===1.1.3 MarkupSafe===1.1.1PasteDeploy===2.1.0 Pillow===7.2.0 Pint===0.14 PyJWT===1.7.1 PyKMIP===0.10.0 PyMySQL===0.9.3 PyNaCl===1.4.0 PyYAML===5.3.1 Pygments===2.6.1 Routes===2.4.1 SQLAlchemy===1.3.18 SQLAlchemy-Utils===0.36.8 SecretStorage===3.1.2 Sphinx===3.1.2 Tempita===0.5.2 URLObject===2.4.3 WSME===0.10.0 WebOb===1.8.6 WebTest===2.0.35XStatic===1.0.2 XStatic-Angular===1.5.8.0 XStatic-Angular-Bootstrap===2.5.0.0 XStatic-Angular-FileUpload===12.0.4.0 XStatic-Angular-Gettext===2.4.1.0 XStatic-Angular-Schema-Form===0.8.13.0 XStatic-Angular-UUID===0.0.4.0XStatic-Angular-lrdragndrop===1.0.2.4 XStatic-Bootstrap-Datepicker===1.4.0.0 XStatic-Bootstrap-SCSS===3.4.1.0 XStatic-D3===3.5.17.0 XStatic-Dagre===0.6.4.1 XStatic-Dagre-D3===0.4.17.0 XStatic-FileSaver===1.3.2.0 XStatic-Font-Awesome===4.7.0.0 XStatic-Graphlib===2.1.7.0 XStatic-Hogan===2.0.0.3 XStatic-JQuery-Migrate===1.2.1.2 XStatic-JQuery.TableSorter===2.14.5.2 XStatic-JQuery.quicksearch===2.0.3.2 XStatic-JS-Yaml===3.8.1.0 XStatic-JSEncrypt===2.3.1.1 XStatic-Jasmine===2.4.1.2 XStatic-Json2yaml===0.1.1.0 XStatic-Moment-Timezone===0.5.22.0 XStatic-Rickshaw===1.5.1.0 XStatic-Spin===1.2.5.3 XStatic-bootswatch===3.3.7.0 XStatic-jQuery===1.12.4.1XStatic-lodash===4.16.4.2 XStatic-mdi===1.6.50.2 XStatic-moment===2.8.4.3 XStatic-objectpath===1.2.1.0 XStatic-roboto-fontface===0.5.0.0 XStatic-smart-table===1.4.13.2 XStatic-term.js===0.0.7.0 XStatic-tv4===1.2.7.0 XenAPI===2.14 abclient===0.2.3 actdiag===2.0.0 alabaster===0.7.12 alembic===1.4.2 amqp===2.6.1 aniso8601===8.0.0 ansible-runner===1.4.6 anyjson===0.3.3 aodhclient===2.1.0 api-object-schema===2.0.0 apipkg===1.5 appdirs===1.4.4 arrow===0.15.8 attrs===19.3.0 autobahn===20.7.1 automaton===2.2.0 bashate===2.0.0 bcrypt===3.1.7 beautifulsoup4===4.9.1 betamax===0.8.1 bitmath===1.3.3.1 blockdiag===2.0.1 boto===2.49.0 boto3===1.14.33 botocore===1.17.33 cachetools===4.1.1 cachez===0.1.2 capacity===1.3.14 cassandra-driver===3.24.0 castellan===3.4.0 ceilometer===14.0.0 ceilometermiddleware===2.1.0 certifi===2020.6.20 cffi===1.14.1 chardet===3.0.4 -e file:///opt/stack/cinder#egg=cinder click===7.1.2 cliff===3.4.0 cmd2===1.2.1confget===2.3.4 confluent-kafka===1.5.0 construct===2.10.56 cotyledon===1.7.3 coverage===5.2.1 croniter===0.3.34 cryptography===3.0 cursive===0.2.2 daiquiri===2.1.1 dataclasses===0.7;python_version=='3.6' ddt===1.4.1 debtcollector===2.2.0 decorator===4.4.2 defusedxml===0.6.0 deprecation===2.1.0 dfs-sdk===1.2.26 dib-utils===0.0.11 diskimage-builder===3.1.0 distlib===0.3.1 distro===1.5.0 django-appconf===1.0.4 django-compressor===2.4 django-debreach===2.0.1 django-formtools===2.2 django-nose===1.4.6 django-pyscss===2.0.2 dnspython===1.16.0 doc8===0.8.1 docker===4.2.2 docutils===0.15.2 dogpile.cache===1.0.1 dogtag-pki===10.7.4.1 dulwich===0.20.5 edgegrid-python===1.1.1 elasticsearch===2.4.1 enmerkar===0.7.1 enum-compat===0.0.3 etcd3===0.12.0 etcd3gw===0.2.6 eventlet===0.26.1 exabgp===4.2.10 execnet===1.7.1 extras===1.0.0 falcon===2.0.0 fasteners===0.14.1 filelock===3.0.12 fixtures===3.0.0 flux===1.3.5 freezegun===0.3.15 funcparserlib===0.3.6 future===0.18.2 futurist===2.2.0 gabbi===2.0.3 geomet===0.2.1.post1 gitdb===4.0.5 gitdb2===4.0.2 -e file:///opt/stack/glance#egg=glance glance-store===2.1.0 gnocchiclient===7.0.6 google-api-core===1.22.0 google-api-python-client===1.10.0 google-auth===1.20.0 google-auth-httplib2===0.0.4 googleapis-common-protos===1.52.0 gossip===2.4.0 graphviz===0.14.1 greenlet===0.4.16 grpcio===1.30.0 gunicorn===20.0.4 heat-translator===2.1.0 -e file:///opt/stack/horizon#egg=horizon httplib2===0.18.1 hvac===0.10.5 icalendar===4.0.6 idna===2.10 ifaddr===0.1.7 imagesize===1.2.0 importlib-metadata===1.7.0;python_version=='3.6' importlib-resources===3.0.0;python_version=='3.6' infi.dtypes.iqn===0.4.0 infi.dtypes.wwn===0.1.1 infinisdk===161.1.3 influxdb===5.2.3 iniconfig===1.0.1iso8601===0.1.12 itsdangerous===1.1.0 jaeger-client===4.3.0 jeepney===0.4.3 jira===2.0.0 jmespath===0.10.0 joblib===0.16.0 jsonpatch===1.26 jsonpath-rw===1.4.0 jsonpath-rw-ext===1.2.2 jsonpointer===2.0 jsonschema===3.2.0 kafka-python===2.0.1 kazoo===2.8.0 keyring===21.3.0 -e file:///opt/stack/keystone#egg=keystone keystoneauth1===4.2.1 keystonemiddleware===9.1.0 kombu===4.6.11 krest===1.3.1 kubernetes===11.0.0 kuryr-lib===2.1.0 ldap3===2.7 ldappool===2.4.1 libvirt-python===6.6.0 linecache2===1.0.0 lockfile===0.12.2 logutils===0.3.5 lxml===4.5.2 marathon===0.12.0 metalsmith===1.1.0 microversion-parse===1.0.1 mistral-lib===2.2.0 mitba===1.1.1 mock===3.0.5 monasca-common===3.2.0 monasca-statsd===2.1.0 monotonic===1.5 more-itertools===8.4.0 mpmath===1.1.0 msgpack===0.6.1 munch===2.5.0 murano-pkg-check===0.3.0 mypy===0.782 mypy-extensions===0.4.3 natsort===7.0.1 ndg-httpsclient===0.5.1 netaddr===0.8.0 netifaces===0.10.9 netmiko===3.2.0 networkx===2.4 -e file:///opt/stack/neutron#egg=neutron neutron-lib===2.4.0 nodeenv===1.4.0 nose===1.3.7 nose-exclude===0.5.0 nosehtmloutput===0.0.7 nosexcover===1.0.11 -e file:///opt/stack/nova#egg=nova ntlm-auth===1.5.0 numpy===1.19.1 nwdiag===2.0.0 oauth2client===4.1.3 oauthlib===3.1.0 octavia-lib===2.1.1 openstack-doc-tools===3.2.0 -e file:///opt/stack/placement#egg=openstack-placement openstack-release-test===3.3.0 openstack.nose-plugin===0.11 openstackdocstheme===2.2.5 openstacksdk===0.48.0 opentracing===2.3.0 os-api-ref===2.1.0 os-apply-config===11.3.0 os-brick===3.2.0 os-client-config===2.1.0 os-collect-config===11.0.0 os-ken===1.1.0 os-net-config===12.4.0 os-refresh-config===10.4.0 os-resource-classes===1.0.0 os-service-types===1.7.0 os-testr===2.0.0 os-traits===2.4.0 os-vif===2.1.0 os-win===5.1.0 os-xenapi===0.3.4 osc-lib===2.2.0 osc-placement===2.0.0 oslo.cache===2.5.0 oslo.concurrency===4.2.0 oslo.config===8.3.1 oslo.context===3.1.0 oslo.db===8.3.0 oslo.i18n===5.0.0 oslo.limit===1.2.0 oslo.log===4.3.0 oslo.messaging===12.2.2 oslo.middleware===4.1.0 oslo.policy===3.3.2 oslo.privsep===2.3.0 oslo.reports===2.1.0 oslo.rootwrap===6.1.0 oslo.serialization===4.0.0 oslo.service===2.3.2 oslo.upgradecheck===1.1.0 oslo.utils===4.4.0 oslo.versionedobjects===2.2.0 oslo.vmware===3.6.0 oslosphinx===4.18.0 oslotest===4.4.0 osprofiler===3.3.0 ovs===2.13.0 ovsdbapp===1.4.0 packaging===20.4 pact===1.12.0 paramiko===2.7.1 passlib===1.7.2 pbr===5.4.5 pecan===1.4.0 persist-queue===0.5.0 pexpect===4.8.0 pifpaf===2.5.0 pika===1.1.0 pluggy===0.13.1 ply===3.11 prettytable===0.7.2 proboscis===1.2.6.0 prometheus-client===0.8.0 protobuf===3.12.4 psutil===5.7.2 psycopg2===2.8.5 psycopg2-binary===2.8.5 ptyprocess===0.6.0 purestorage===1.19.0 py===1.9.0 pyOpenSSL===19.1.0 pyScss===1.3.7 pyasn1===0.4.8 pyasn1-modules===0.2.8 pycadf===3.1.0 pycparser===2.20 pycryptodomex===3.9.8 pydot===1.4.1 pydotplus===2.0.2 pyeclib===1.6.0 pyghmi===1.5.16 pyinotify===0.9.6 pykerberos===1.2.1 pylxd===2.2.11 pymemcache===3.2.0 pymongo===3.11.0 pyngus===2.3.1 pyparsing===2.4.7 pyperclip===1.8.0 pypowervm===1.1.24 pyroute2===0.5.13 pyrsistent===0.16.0 pysaml2===6.1.0 pysendfile===2.0.1 pyserial===3.4 pysmi===0.3.4 pysnmp===4.4.12 pystache===0.5.4 pytest===6.0.1 pytest-django===3.9.0pytest-html===2.1.1 pytest-metadata===1.10.0 pytest-xdist===1.34.0 python-3parclient===4.2.11 python-barbicanclient===5.0.0 python-binary-memcached===0.29.0 python-blazarclient===3.1.0 python-ceilometerclient===2.9.0 -e file:///opt/stack/python-cinderclient#egg=python-cinderclient python-cloudkittyclient===4.0.0 python-consul===1.1.0 python-daemon===2.2.4 python-dateutil===2.8.1 python-designateclient===4.1.0 python-editor===1.0.4 python-freezerclient===3.1.0 python-glanceclient===3.2.0 python-glareclient===0.5.3 python-heatclient===2.2.0 python-ironic-inspector-client===4.2.0 python-ironicclient===4.2.0 python-json-logger===0.1.11 python-karborclient===2.1.0 python-keystoneclient===4.1.0 python-ldap===3.3.1 python-magnumclient===3.2.0 python-manilaclient===2.2.0 python-masakariclient===6.1.0 python-memcached===1.59 python-mimeparse===1.6.0 python-mistralclient===4.1.0 python-monascaclient===2.2.0 python-muranoclient===2.1.0 python-neutronclient===7.2.0 python-novaclient===17.2.0 python-nss===1.0.1 python-octaviaclient===2.1.0 python-openstackclient===5.3.1 python-pcre===0.7 python-qinlingclient===5.1.0 python-qpid-proton===0.31.0 python-rsdclient===1.0.2 python-saharaclient===3.2.0 python-searchlightclient===2.1.0 python-senlinclient===2.1.0 python-solumclient===3.2.0 python-subunit===1.4.0 python-swiftclient===3.10.0 python-tackerclient===1.2.0 python-troveclient===5.0.0 python-vitrageclient===4.1.0 python-watcherclient===3.1.0 python-zaqarclient===2.0.0 python-zunclient===4.1.0 pytz===2020.1 pyudev===0.22.0 pywbem===0.17.4 pywinrm===0.4.1 pyzabbix===0.8.2 pyzmq===19.0.2 rbd-iscsi-client===0.1.8 rcssmin===1.0.6 redis===3.5.3 reno===3.1.0 repoze.lru===0.7 requests===2.23.0 requests-aws===0.1.8 requests-kerberos===0.12.0 requests-mock===1.8.0 requests-ntlm===1.1.0 requests-oauthlib===1.3.0 requests-toolbelt===0.9.1 requests-unixsocket===0.2.0 requestsexceptions===1.4.0 restructuredtext-lint===1.3.1 retrying===1.3.3 retryz===0.1.9 rfc3986===1.4.0 rjsmin===1.1.0 rsa===4.6 rsd-lib===1.2.0 rst2txt===1.1.0 rtslib-fb===2.1.73 ryu===4.34 s3transfer===0.3.3 sadisplay===0.4.9 salt===3001scipy===1.5.2 scp===0.13.2 scrypt===0.8.15 selenium===3.141.0 semantic-version===2.8.5 sentinels===1.0.0 seqdiag===2.0.0 setproctitle===1.1.10 simplegeneric===0.8.1 simplejson===3.17.2 six===1.15.0 smmap===3.0.4 snowballstemmer===2.0.0 sortedcontainers===2.2.2 soupsieve===2.0.1 sphinx-feature-classification===1.0.1 sphinx-testing===1.0.1 sphinxcontrib-actdiag===2.0.0 sphinxcontrib-apidoc===0.3.0 sphinxcontrib-applehelp===1.0.2 sphinxcontrib-blockdiag===2.0.0 sphinxcontrib-devhelp===1.0.2 sphinxcontrib-htmlhelp===1.0.3 sphinxcontrib-httpdomain===1.7.0 sphinxcontrib-jsmath===1.0.1 sphinxcontrib-nwdiag===2.0.0 sphinxcontrib-pecanwsme===0.10.0 sphinxcontrib-programoutput===0.16 sphinxcontrib-qthelp===1.0.3 sphinxcontrib-seqdiag===2.0.0 sphinxcontrib-serializinghtml===1.1.4 sphinxcontrib-svg2pdfconverter===1.1.0 sphinxcontrib.datatemplates===0.6.1 sqlalchemy-filters===0.12.0 sqlalchemy-migrate===0.13.0 sqlparse===0.3.1 statsd===3.3.0 stestr===3.0.1 stevedore===3.2.0 storage-interfaces===1.0.3 storops===1.2.6 storpool===5.4.0 storpool.spopenstack===3.0.0 suds-jurko===0.6 sushy===3.3.0 -e file:///opt/stack/swift#egg=swift sympy===1.6.1 systemd-python===234 sysv-ipc===1.0.1 tabulate===0.8.7 tap-as-a-service===6.0.0 taskflow===4.3.1 tenacity===6.2.0 termcolor===1.1.0 testrepository===0.0.20 testresources===2.0.1 testscenarios===0.5.0 testtools===2.4.0 textfsm===1.1.0 threadloop===1.0.2 threadpoolctl===2.1.0 thrift===0.13.0 tinyrpc===1.0.4 toml===0.10.1 tooz===2.7.1 tornado===6.0.4 tosca-parser===2.1.0 traceback2===1.4.0 tripleo-common===12.5.0 txaio===20.4.1 typed-ast===1.4.1 typing===3.7.4.3 typing-extensions===3.7.4.2 tzlocal===2.1 uhashring===1.2 ujson===3.1.0 unittest2===1.1.0 uritemplate===3.0.1 urllib3===1.25.10 validations-libs===1.0.2 vine===1.3.0 vintage===0.4.1 virtualbmc===2.1.0 virtualenv===20.0.29 voluptuous===0.11.7 waiting===1.4.1 waitress===1.4.4 warlock===1.3.3 wcwidth===0.2.5 webcolors===1.11.1 websocket-client===0.57.0 websockify===0.9.0 whereto===0.4.0 wrapt===1.12.1 ws4py===0.5.1 wsgi-intercept===1.9.2 xattr===0.9.7 xmltodict===0.12.0 xvfbwrapper===0.2.9 yappi===1.2.5 yaql===1.1.3 zVMCloudConnector===1.4.1 zake===0.2.2 zeroconf===0.28.0 zipp===3.1.0 zstd===1.4.5.1 zuul-sphinx===0.5.0,ntlm-auth===1.5.0 voluptuous===0.11.7 chardet===3.0.4 enum-compat===0.0.3 rsa===4.6 restructuredtext-lint===1.3.1 netmiko===3.2.0 PasteDeploy===2.1.0 typing===3.7.4.3 python-saharaclient===3.2.0 Routes===2.4.1 rtslib-fb===2.1.73 oslo.limit===1.2.0 smmap===3.0.4 confget===2.3.4 XStatic-Angular-Bootstrap===2.5.0.0 WebOb===1.8.6 sphinxcontrib-actdiag===2.0.0 pecan===1.4.0 ryu===4.34 os-api-ref===2.1.0 python-ldap===3.3.1 oslo.concurrency===4.2.0 websocket-client===0.57.0 osprofiler===3.3.0 os-resource-classes===1.0.0 tabulate===0.8.7 python-ironic-inspector-client===4.2.0 lxml===4.5.2 vintage===0.4.1 rst2txt===1.1.0 setproctitle===1.1.10 pytest===6.0.1 cursive===0.2.2 oslo.service===2.3.2 django-appconf===1.0.4 pykerberos===1.2.1 certifi===2020.6.20 sphinxcontrib-nwdiag===2.0.0 rbd-iscsi-client===0.1.7 requests-aws===0.1.8 alabaster===0.7.12 pbr===5.4.5 munch===2.5.0 waiting===1.4.1 attrs===19.3.0 microversion-parse===1.0.1 Pint===0.14 oslo.i18n===5.0.0 jsonpath-rw-ext===1.2.2 python-mistralclient===4.1.0 oslo.context===3.1.0 python-senlinclient===2.1.0 rcssmin===1.0.6 pycadf===3.1.0 grpcio===1.30.0 pysendfile===2.0.1 fixtures===3.0.0 neutron-lib===2.4.0 XStatic-FileSaver===1.3.2.0 storage-interfaces===1.0.3 persist-queue===0.5.0 pystache===0.5.4 XStatic-Font-Awesome===4.7.0.0 nose===1.3.7 nosehtmloutput===0.0.7 waitress===1.4.4 os-refresh-config===10.4.0 pysnmp===4.4.12 Mako===1.1.3 pyScss===1.3.7 sphinxcontrib-htmlhelp===1.0.3 XStatic-jQuery===1.12.4.1 ddt===1.4.1 XStatic-Graphlib===2.1.7.0 pyserial===3.4 infi.dtypes.wwn===0.1.1 python-freezerclient===3.1.0 os-xenapi===0.3.4 python-vitrageclient===4.1.0 nosexcover===1.0.11 krest===1.3.1 psycopg2===2.8.5 networkx===2.4 bashate===2.0.0 XStatic-Angular===1.5.8.0 pyngus===2.3.1 Pillow===7.2.0 zuul-sphinx===0.5.0 python-mimeparse===1.6.0 tripleo-common===12.5.0 Tempita===0.5.2 ply===3.11 google-api-core===1.22.0 requests-toolbelt===0.9.1 simplejson===3.17.2 suds-jurko===0.6 python-swiftclient===3.10.0 pyOpenSSL===19.1.0 monasca-common===3.2.0 zeroconf===0.28.0 scipy===1.5.2 mypy-extensions===0.4.3 rsd-lib===1.2.0 XStatic-Jasmine===2.4.1.2 googleapis-common-protos===1.52.0 python-glanceclient===3.2.0 pyinotify===0.9.6 debtcollector===2.2.0 requests-unixsocket===0.2.0 croniter===0.3.34 octavia-lib===2.1.1 python-watcherclient===3.1.0 MarkupSafe===1.1.1 pypowervm===1.1.24 doc8===0.8.1 pymongo===3.11.0 python-cloudkittyclient===4.0.0 soupsieve===2.0.1 sqlparse===0.3.1 oslotest===4.4.0 jsonpointer===2.0 defusedxml===0.6.0 netaddr===0.8.0 pyghmi===1.5.16 sphinxcontrib-blockdiag===2.0.0 thrift===0.13.0 gnocchiclient===7.0.6 wcwidth===0.2.5 sphinxcontrib.datatemplates===0.6.1 jsonpath-rw===1.4.0 prettytable===0.7.2 vine===1.3.0 taskflow===4.3.1 traceback2===1.4.0 arrow===0.15.8 semantic-version===2.8.5 virtualbmc===2.1.0 deprecation===2.1.0 SQLAlchemy===1.3.18 pyroute2===0.5.13 google-auth===1.20.0 kazoo===2.8.0 XStatic-roboto-fontface===0.5.0.0 pyudev===0.22.0 eventlet===0.26.1 openstack-doc-tools===3.2.0 oslo.messaging===12.2.2 jira===2.0.0 extras===1.0.0 PyJWT===1.7.1 XStatic-lodash===4.16.4.2 zVMCloudConnector===1.4.1 paramiko===2.7.1 ifaddr===0.1.7 reno===3.1.0 imagesize===1.2.0 pydot===1.4.1 urllib3===1.25.10 graphviz===0.14.1 PyKMIP===0.10.0 whereto===0.4.0 pywbem===0.17.4 python-subunit===1.4.0 tornado===6.0.4 pycparser===2.20 mock===3.0.5 PyYAML===5.3.1 beautifulsoup4===4.9.1 os-net-config===12.4.0 ovs===2.13.0 cryptography===3.0 URLObject===2.4.3 psycopg2-binary===2.8.5 openstack-release-test===3.3.0 validations-libs===1.0.2 pylxd===2.2.11 pycryptodomex===3.9.8 anyjson===0.3.3 requests-mock===1.8.0 os-apply-config===11.3.0 prometheus-client===0.8.0 oslosphinx===4.18.0 gunicorn===20.0.4 storpool===5.4.0 textfsm===1.1.0 python-3parclient===4.2.11 unittest2===1.1.0 django-compressor===2.4 libvirt-python===6.6.0 python-zunclient===4.1.0 tzlocal===2.1 sphinxcontrib-jsmath===1.0.1 python-novaclient===17.2.0 pact===1.12.0 bcrypt===3.1.7 os-client-config===2.1.0 XStatic-Angular-Gettext===2.4.1.0 Pygments===2.6.1 XStatic-Hogan===2.0.0.3 XStatic-objectpath===1.2.1.0 python-manilaclient===2.2.0 sphinxcontrib-serializinghtml===1.1.4 requests===2.23.0 snowballstemmer===2.0.0 Jinja2===2.11.2 XStatic-Bootstrap-SCSS===3.4.1.0 pyzabbix===0.8.2 ptyprocess===0.6.0 threadloop===1.0.2 amqp===2.6.1 websockify===0.9.0 XStatic-JQuery.quicksearch===2.0.3.2 mpmath===1.1.0 python-binary-memcached===0.29.0 django-debreach===2.0.1 sphinx-feature-classification===1.0.1 XStatic-JQuery-Migrate===1.2.1.2 pytest-html===2.1.1 appdirs===1.4.4 tinyrpc===1.0.4 google-auth-httplib2===0.0.4 daiquiri===2.1.1 influxdb===5.2.3 funcparserlib===0.3.6 passlib===1.7.2 dib-utils===0.0.11 cliff===3.4.0 os-brick===3.2.0 ansible-runner===1.4.6 scp===0.13.2 python-zaqarclient===2.0.0 lockfile===0.12.2 ldappool===2.4.1 termcolor===1.1.0 joblib===0.16.0 google-api-python-client===1.10.0 castellan===3.4.0 oslo.versionedobjects===2.2.0 enmerkar===0.7.1 webcolors===1.11.1 aodhclient===2.1.0 autobahn===20.7.1 SQLAlchemy-Utils===0.36.8 retryz===0.1.9 pluggy===0.13.1 coverage===5.2.1 freezegun===0.3.15 toml===0.10.1 pyperclip===1.8.0 cassandra-driver===3.24.0 XStatic-Angular-Schema-Form===0.8.13.0 gabbi===2.0.3 nwdiag===2.0.0 XStatic-bootswatch===3.3.7.0 pytest-xdist===1.34.0 XStatic-JS-Yaml===3.8.1.0 XStatic-term.js===0.0.7.0 oslo.log===4.3.0 nodeenv===1.4.0 gossip===2.4.0 importlib-metadata===1.7.0;python_version=='3.6' python-searchlightclient===2.1.0 oslo.middleware===4.1.0 apipkg===1.5 XStatic-mdi===1.6.50.2 django-pyscss===2.0.2 uritemplate===3.0.1 docutils===0.15.2 threadpoolctl===2.1.0 os-ken===1.1.0 ujson===3.1.0 selenium===3.141.0 python-glareclient===0.5.3 mypy===0.782 mistral-lib===2.2.0 dogtag-pki===10.7.4.1 XStatic-Angular-UUID===0.0.4.0 purestorage===1.19.0 sphinxcontrib-seqdiag===2.0.0 os-win===5.1.0 capacity===1.3.14 retrying===1.3.3 XStatic-Dagre===0.6.4.1 pydotplus===2.0.2 boto3===1.14.33 jeepney===0.4.3 stestr===3.0.1 oslo.serialization===4.0.0 warlock===1.3.3 exabgp===4.2.10 sphinxcontrib-httpdomain===1.7.0 metalsmith===1.1.0 s3transfer===0.3.3 sphinxcontrib-svg2pdfconverter===1.1.0 murano-pkg-check===0.3.0 oslo.vmware===3.6.0 XStatic-moment===2.8.4.3 sqlalchemy-migrate===0.13.0 gitdb===4.0.5 python-monascaclient===2.2.0 ldap3===2.7 natsort===7.0.1 requests-ntlm===1.1.0 automaton===2.2.0 os-service-types===1.7.0 keyring===21.3.0 testscenarios===0.5.0 sphinxcontrib-pecanwsme===0.10.0 sadisplay===0.4.9 infinisdk===161.1.3 packaging===20.4 XStatic-Dagre-D3===0.4.17.0 nose-exclude===0.5.0 psutil===5.7.2 py===1.9.0 txaio===20.4.1 python-qinlingclient===5.1.0 elasticsearch===2.4.1 django-nose===1.4.6 XStatic-JQuery.TableSorter===2.14.5.2 pifpaf===2.5.0 pysmi===0.3.4 blockdiag===2.0.1 testtools===2.4.0 infi.dtypes.iqn===0.4.0 XStatic-tv4===1.2.7.0 XStatic-JSEncrypt===2.3.1.1 python-cinderclient===7.1.0 keystonemiddleware===9.1.0 django-formtools===2.2 python-ceilometerclient===2.9.0 XStatic-Spin===1.2.5.3 tap-as-a-service===6.0.0 os-traits===2.4.0 SecretStorage===3.1.2 opentracing===2.3.0 XStatic-Rickshaw===1.5.1.0 iso8601===0.1.12 tooz===2.7.1 linecache2===1.0.0 oauth2client===4.1.3 idna===2.10 python-karborclient===2.1.0 protobuf===3.12.4 sushy===3.3.0 python-neutronclient===7.2.0 pika===1.1.0 oslo.cache===2.5.0 WebTest===2.0.35 openstack.nose-plugin===0.11 os-collect-config===11.0.0 edgegrid-python===1.1.1 python-qpid-proton===0.31.0 python-octaviaclient===2.1.0 pysaml2===6.1.0 requests-oauthlib===1.3.0 oslo.reports===2.1.0 bitmath===1.3.3.1 ceilometermiddleware===2.1.0 python-nss===1.0.1 testrepository===0.0.20 sympy===1.6.1 Logbook===1.5.3 PyNaCl===1.4.0 osc-lib===2.2.0 python-consul===1.1.0 more-itertools===8.4.0 seqdiag===2.0.0 numpy===1.19.1 msgpack===0.6.1 Sphinx===3.1.2 oslo.config===8.3.1 tempest===24.0.0 openstackdocstheme===2.2.5 osc-placement===2.0.0 zake===0.2.2 python-rsdclient===1.0.2 flux===1.3.5 python-solumclient===3.2.0 PyMySQL===0.9.3 uhashring===1.2 kubernetes===11.0.0 httplib2===0.18.1 betamax===0.8.1 construct===2.10.56 pytest-metadata===1.10.0 pyparsing===2.4.7 geomet===0.2.1.post1 distlib===0.3.1 XStatic-Moment-Timezone===0.5.22.0 dogpile.cache===1.0.1 python-barbicanclient===5.0.0 salt===3001 api-object-schema===2.0.0 WSME===0.10.0 proboscis===1.2.6.0 oslo.upgradecheck===1.1.0 stevedore===3.2.0 pywinrm===0.4.1 botocore===1.17.33 xmltodict===0.12.0 pyasn1===0.4.8 oslo.rootwrap===6.1.0pexpect===4.8.0 cmd2===1.2.1 python-json-logger===0.1.11 redis===3.5.3 jmespath===0.10.0 click===7.1.2 XStatic-smart-table===1.4.13.2 kuryr-lib===2.1.0 scrypt===0.8.15 jsonpatch===1.26 python-daemon===2.2.4 typed-ast===1.4.1 os-testr===2.0.0 cotyledon===1.7.3 xattr===0.9.7 systemd-python===234 python-memcached===1.59 openstacksdk===0.48.0 six===1.15.0 dulwich===0.20.5 dfs-sdk===1.2.26 sentinels===1.0.0 kombu===4.6.11 distro===1.5.0 zstd===1.4.5.1 yaql===1.1.3 requestsexceptions===1.4.0 testresources===2.0.1 falcon===2.0.0 etcd3gw===0.2.6python-ironicclient===4.2.0 XStatic===1.0.2 XStatic-Angular-FileUpload===12.0.4.0 python-openstackclient===5.3.1 pyzmq===19.0.2 oslo.db===8.3.0 simplegeneric===0.8.1 python-pcre===0.7 yappi===1.2.5 dataclasses===0.7;python_version=='3.6' abclient===0.2.3 pymemcache===3.2.0 wrapt===1.12.1 oslo.privsep===2.3.0 sphinxcontrib-apidoc===0.3.0 oslo.policy===3.3.2 python-muranoclient===2.1.0 hvac===0.10.5 pyeclib===1.6.0 wsgi-intercept===1.9.2 ndg-httpsclient===0.5.1 pyrsistent===0.16.0 repoze.lru===0.7 rfc3986===1.4.0 tenacity===6.2.0 python-designateclient===4.1.0 future===0.18.2pytest-django===3.9.0 jaeger-client===4.3.0 XStatic-Json2yaml===0.1.1.0 boto===2.49.0 os-vif===2.1.0 mitba===1.1.1 python-masakariclient===6.1.0pyasn1-modules===0.2.8 APScheduler===3.6.3 monotonic===1.5 python-troveclient===5.0.0 etcd3===0.12.0 cachez===0.1.2 XStatic-Bootstrap-Datepicker===1.4.0.0 CouchDB===1.2 netifaces===0.10.9 cachetools===4.1.1 ws4py===0.5.1 sphinxcontrib-qthelp===1.0.3 keystoneauth1===4.2.1 statsd===3.3.0 XenAPI===2.14 importlib-resources===3.0.0;python_version=='3.6' python-keystoneclient===4.1.0 ceilometer===14.0.0 diskimage-builder===3.1.0 heat-translator===2.1.0 python-magnumclient===3.2.0 docker===4.2.2 storops===1.2.6 XStatic-Angular-lrdragndrop===1.0.2.4 ovsdbapp===1.4.0 aniso8601===8.0.0 rjsmin===1.1.0 icalendar===4.0.6 decorator===4.4.2 cffi===1.14.1 futurist===2.2.0 jsonschema===3.2.0 sphinxcontrib-devhelp===1.0.2 python-blazarclient===3.1.0 alembic===1.4.2 execnet===1.7.1 glance-store===2.1.0 sphinxcontrib-programoutput===0.16 storpool.spopenstack===3.0.0 sphinx-testing===1.0.1 dnspython===1.16.0 oauthlib===3.1.0 Babel===2.8.0 logutils===0.3.5 zipp===3.1.0 greenlet===0.4.16iniconfig===1.0.1 confluent-kafka===1.5.0 xvfbwrapper===0.2.9 tosca-parser===2.1.0 Flask===1.1.2 sqlalchemy-filters===0.12.0 marathon===0.12.0 fasteners===0.14.1 sortedcontainers===2.2.2 filelock===3.0.12 python-tackerclient===1.2.0 python-heatclient===2.2.0 kafka-python===2.0.1 oslo.utils===4.4.0 python-editor===1.0.4 gitdb2===4.0.2 requests-kerberos===0.12.0 itsdangerous===1.1.0monasca-statsd===2.1.0 python-dateutil===2.8.1 typing-extensions===3.7.4.2 virtualenv===20.0.29pytz===2020.1XStatic-D3===3.5.17.0 actdiag===2.0.0 sysv-ipc===1.0.1 sphinxcontrib-applehelp===1.0.2,549,541
openstack%2Fkeystone~master~I3982c98506f945b47c056ed1c9e5eee673a3662a,openstack/keystone,master,I3982c98506f945b47c056ed1c9e5eee673a3662a,Fix api-ref for list endpoints,MERGED,2020-07-21 15:55:54.000000000,2020-08-05 19:24:39.000000000,2020-08-05 19:22:16.000000000,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-07-21 15:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6662ecc2b2decf57e916c9117bbcaea881cd3101', 'message': 'Fix api-ref for list endpoints\n\nAccording to the [1], list endpoints filter also have\n``region_id`` parameter which is missing from api-ref.\nThis patch updates the same in api-ref.\n\n[1]https://github.com/openstack/keystone/blob/master/keystone/api/endpoints.py#L78\n\nChange-Id: I3982c98506f945b47c056ed1c9e5eee673a3662a\n'}, {'number': 2, 'created': '2020-07-28 17:43:08.000000000', 'files': ['api-ref/source/v3/service-catalog.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/311184c394e6de8b878a8d71cae51528faaa2023', 'message': 'Fix api-ref for list endpoints\n\nAccording to the [1], list endpoints filter also have\n``region_id`` parameter which is missing from api-ref.\nThis patch updates the same in api-ref.\n\n[1]https://github.com/openstack/keystone/blob/master/keystone/api/endpoints.py#L78\n\nChange-Id: I3982c98506f945b47c056ed1c9e5eee673a3662a\n'}]",2,742233,311184c394e6de8b878a8d71cae51528faaa2023,12,7,2,27621,,,0,"Fix api-ref for list endpoints

According to the [1], list endpoints filter also have
``region_id`` parameter which is missing from api-ref.
This patch updates the same in api-ref.

[1]https://github.com/openstack/keystone/blob/master/keystone/api/endpoints.py#L78

Change-Id: I3982c98506f945b47c056ed1c9e5eee673a3662a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/33/742233/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/service-catalog.inc'],1,6662ecc2b2decf57e916c9117bbcaea881cd3101,, - region_id: region_id_not_required,,1,0
openstack%2Fopenstack-ansible-tests~master~If91bff7af39a8e465ac1086dcd3378b4e6de3ca7,openstack/openstack-ansible-tests,master,If91bff7af39a8e465ac1086dcd3378b4e6de3ca7,Set openstack_db_setup_host explicitly,MERGED,2020-08-05 10:36:46.000000000,2020-08-05 19:10:19.000000000,2020-08-05 19:07:37.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-05 10:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8e8bf0ba75cfcbe032d2451858f620e04e982993', 'message': 'Add PyMySQL to handle mysql_* modules\n\nNeeded-By: https://review.opendev.org/733443\nChange-Id: If91bff7af39a8e465ac1086dcd3378b4e6de3ca7\n'}, {'number': 2, 'created': '2020-08-05 13:07:12.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/60555c925e29e154b162df1780d882e2c7501dbc', 'message': ""Set openstack_db_setup_host explicitly\n\nAs we have mysql client and mysql config file on infra1 host\nfor all functional tests, we need to use it instead of the utility\nhost (since we don't have one for functional tests).\n\nNeeded-By: https://review.opendev.org/733443\nChange-Id: If91bff7af39a8e465ac1086dcd3378b4e6de3ca7\n""}]",0,744881,60555c925e29e154b162df1780d882e2c7501dbc,11,3,2,28619,,,0,"Set openstack_db_setup_host explicitly

As we have mysql client and mysql config file on infra1 host
for all functional tests, we need to use it instead of the utility
host (since we don't have one for functional tests).

Needed-By: https://review.opendev.org/733443
Change-Id: If91bff7af39a8e465ac1086dcd3378b4e6de3ca7
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/81/744881/2 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,8e8bf0ba75cfcbe032d2451858f620e04e982993,bind-to-mgmt, # Used for db_setup tasks PyMySQL,,3,0
openstack%2Fopenstack-helm-infra~master~Ibd4f8a916bcd74c1d89aa360e89d4477cd01d367,openstack/openstack-helm-infra,master,Ibd4f8a916bcd74c1d89aa360e89d4477cd01d367,Add missing security context template to nagios init container,MERGED,2020-08-05 15:31:06.000000000,2020-08-05 19:08:14.000000000,2020-08-05 19:06:21.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-05 15:31:06.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf131bacb26ec1e3b2e09baa6a12b0a693c9a0fa', 'message': 'Add missing security context template to nagios init container\n\nThis change adds security context template at container level\nto implement readOnly-fs flag\n\nChange-Id: Ibd4f8a916bcd74c1d89aa360e89d4477cd01d367\n'}]",0,744927,cf131bacb26ec1e3b2e09baa6a12b0a693c9a0fa,9,11,1,29161,,,0,"Add missing security context template to nagios init container

This change adds security context template at container level
to implement readOnly-fs flag

Change-Id: Ibd4f8a916bcd74c1d89aa360e89d4477cd01d367
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/27/744927/1 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/deployment.yaml', 'nagios/values.yaml']",2,cf131bacb26ec1e3b2e09baa6a12b0a693c9a0fa,, define_nagios_hosts: readOnlyRootFilesystem: false,,3,0
openstack%2Fopenstack-helm-infra~master~I66e2b661e4d2cbc4a08d7690514321f9f3127e19,openstack/openstack-helm-infra,master,I66e2b661e4d2cbc4a08d7690514321f9f3127e19,[Ceph-OSD] Refactor the code of OSD init script,MERGED,2020-06-15 04:48:32.000000000,2020-08-05 19:03:08.000000000,2020-08-05 18:59:12.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28237}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-06-15 04:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/48c21dd82460446eaed335aa4eaca1448fb26513', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 2, 'created': '2020-06-23 03:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1032def2b7fd96e13e83181f5fdc0a8e6deecdfe', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 3, 'created': '2020-06-23 05:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7273379cc25a4b79b371b69eaca3cf1981a73493', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 4, 'created': '2020-06-26 06:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3f2ca71ec2f3d62b7d123cd1548fdc4fb82a34ff', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 5, 'created': '2020-06-26 06:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/935519e41038ccf53b4aa345630fd068ba7e3287', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 6, 'created': '2020-06-26 07:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1be2bfd114789e7482f97d989804574a4bae9378', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 7, 'created': '2020-06-26 07:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f0efc2119973316325a5887339213d0eadfecedd', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 8, 'created': '2020-06-29 14:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef83f40363f9be62e3631f4cdd728af31516e710', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 9, 'created': '2020-06-30 17:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/69d0bf7bcd4d853e69ac9217730663de1cefdf36', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 10, 'created': '2020-07-06 18:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c97e30f37971e68b43a458bd96c8eccd5d2d76ba', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 11, 'created': '2020-07-20 22:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5bfaef3c078be0923d5b47fbecacd02042015036', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 12, 'created': '2020-07-20 22:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/314c3ac868a8941106c5b8d7a67fd7d0b591c6b9', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 13, 'created': '2020-07-21 20:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e686d734dacba0ff22bf4b93cc25339b3eb2b2ec', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 14, 'created': '2020-07-21 23:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d897a4b64eed0b08a4444082c2ad297db7a8b21f', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 15, 'created': '2020-07-28 04:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/38e7cf495fad3fc09fefca2b14b3699aae63bae6', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 16, 'created': '2020-07-28 18:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/17622666c4cf6d099b4791d4a0b3e2342e3a0a6c', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 17, 'created': '2020-08-03 15:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04ef92b861543a513da55dd6392be56d0b9d6784', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}, {'number': 18, 'created': '2020-08-05 14:45:50.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cbc8001255f87a0d31d3cb4af6848eb8becdf2b6', 'message': '[Ceph-OSD] Refactor the code of OSD init script\n\nThe PS adds the changes which simplifies the code and\nremoves unnecessary steps.\n\nChange-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19\n'}]",6,735497,cbc8001255f87a0d31d3cb4af6848eb8becdf2b6,55,8,18,17119,,,0,"[Ceph-OSD] Refactor the code of OSD init script

The PS adds the changes which simplifies the code and
removes unnecessary steps.

Change-Id: I66e2b661e4d2cbc4a08d7690514321f9f3127e19
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/735497/16 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl'],1,48c21dd82460446eaed335aa4eaca1448fb26513,,"function prep_device { local BLOCK_DEVICE=$1 local BLOCK_DEVICE_SIZE=$2 local device_type=$3 local device_string VG DEVICE_OSD_ID logical_devices logical_volume device_string=$(echo ""${BLOCK_DEVICE#/}"" | tr '/' '-') VG=$(vgs | grep ""${device_string}"" | awk '{print $1}') if [[ $VG ]]; then DEVICE_OSD_ID=$(get_osd_id_from_volume ""/dev/ceph-vg-${device_string}/ceph-${device_type}-${osd_dev_string}"") CEPH_LVM_PREPARE=1 if [ -n ""${OSD_ID}"" ]; then if [ ""${DEVICE_OSD_ID}"" == ""${OSD_ID}"" ]; then CEPH_LVM_PREPARE=0 else disk_zap ""${OSD_DEVICE}"" fi fi else options=""--noheadings -o+lv_dm_path -o-pv_fmt,pv_name,vg_name,pv_attr,pv_size,pv_free"" logical_devices=$(pvs ${options} -S ""pv_name=~${BLOCK_DEVICE},lv_name=~ceph--vg--dev--${osd_dev_split}"") if [[ -n ""$logical_devices"" ]]; then dmsetup remove $logical_devices disk_zap ""${OSD_DEVICE}"" CEPH_LVM_PREPARE=1 fi VG=ceph-vg-${device_string} vgcreate ""$VG"" ""${BLOCK_DEVICE}"" fi logical_volume=$(lvs | grep ""ceph-${device_type}-${osd_dev_string}"" | awk '{print $1}') if [[ $logical_volume != ""ceph-${device_type}-${osd_dev_string}"" ]]; then lvcreate -L ""${BLOCK_DEVICE_SIZE}"" -n ""ceph-${device_type}-${osd_dev_string}"" ""${VG}"" fi if [[ ""${device_type}"" == ""db"" ]]; then BLOCK_DB=""${VG}/ceph-${device_type}-${osd_dev_string}"" elif [[ ""${device_type}"" == ""wal"" ]]; then BLOCK_WAL=""${VG}/ceph-${device_type}-${osd_dev_string}"" fi } osd_dev_split=$(basename ""${OSD_DEVICE}"") if dmsetup ls |grep -i ${osd_dev_split}|grep -v ""db--dev\|wal--dev""; then prep_device ""${BLOCK_DB}"" ""${BLOCK_DB_SIZE}"" ""db"" prep_device ""${BLOCK_WAL}"" ""${BLOCK_WAL_SIZE}"" ""wal"" prep_device ""${BLOCK_DB}"" ""${BLOCK_DB_SIZE}"" ""db"" prep_device ""${BLOCK_WAL}"" ""${BLOCK_WAL_SIZE}"" ""wal"" prep_device ""${BLOCK_WAL}"" ""${BLOCK_WAL_SIZE}"" ""wal"" prep_device ""${BLOCK_DB}"" ""${BLOCK_DB_SIZE}"" ""db"""," osd_dev_split=$(basename ${OSD_DEVICE}) if dmsetup ls |grep -i ${osd_dev_split}|grep -v ""db--wal""; then if [[ $(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_db_string}"") ]]; then VG=$(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_db_string}"") WAL_OSD_ID=$(get_osd_id_from_volume /dev/ceph-db-wal-${block_wal_string}/ceph-wal-${osd_dev_string}) DB_OSD_ID=$(get_osd_id_from_volume /dev/ceph-db-wal-${block_db_string}/ceph-db-${osd_dev_string}) if [ ! -z ${OSD_ID} ] && ([ ${WAL_OSD_ID} != ${OSD_ID} ] || [ ${DB_OSD_ID} != ${OSD_ID} ]); then echo ""Found VG, but corresponding DB || WAL are not, zapping the ${OSD_DEVICE}"" disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ ! -z ${OSD_ID} ] && ([ -z ${WAL_OSD_ID} ] || [ -z ${DB_OSD_ID} ]); then disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ -z ${OSD_ID} ]; then CEPH_LVM_PREPARE=1 else CEPH_LVM_PREPARE=0 fi else osd_dev_split=$(echo ${OSD_DEVICE} | awk -F ""/"" '{print $3}') if [[ ! -z $(lsblk ${BLOCK_DB} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) ]]; then echo ""dmsetup reference found but disks mismatch, removing all dmsetup references for ${BLOCK_DB}"" for item in $(lsblk ${BLOCK_DB} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}'); do dmsetup remove ${item} done disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 fi vgcreate ceph-db-wal-${block_db_string} ${BLOCK_DB} VG=ceph-db-wal-${block_db_string} fi if [[ $(lvdisplay | grep ""LV Name"" | awk '{print $3}' | grep ""ceph-db-${osd_dev_string}"") != ""ceph-db-${osd_dev_string}"" ]]; then lvcreate -L ${BLOCK_DB_SIZE} -n ceph-db-${osd_dev_string} ${VG} fi BLOCK_DB=${VG}/ceph-db-${osd_dev_string} if [[ $(lvdisplay | grep ""LV Name"" | awk '{print $3}' | grep ""ceph-wal-${osd_dev_string}"") != ""ceph-wal-${osd_dev_string}"" ]]; then lvcreate -L ${BLOCK_WAL_SIZE} -n ceph-wal-${osd_dev_string} ${VG} fi BLOCK_WAL=${VG}/ceph-wal-${osd_dev_string} if [[ $(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_db_string}"") ]]; then VG=$(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_db_string}"") DB_OSD_ID=$(get_osd_id_from_volume /dev/ceph-db-wal-${block_db_string}/ceph-db-${block_db_string}) if [ ! -z ${OSD_ID} ] && [ ${DB_OSD_ID} != ${OSD_ID} ]; then echo ""Found VG, but corresponding DB is not, zapping the ${OSD_DEVICE}"" disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ ! -z ${OSD_ID} ] && [ -z ${DB_OSD_ID} ]; then disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ -z ${OSD_ID} ]; then CEPH_LVM_PREPARE=1 else CEPH_LVM_PREPARE=0 fi else osd_dev_split=$(echo ${OSD_DEVICE} | awk -F ""/"" '{print $3}') if [[ ! -z $(lsblk ${BLOCK_DB} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) ]]; then echo ""dmsetup reference found but disks mismatch"" dmsetup remove $(lsblk ${BLOCK_DB} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 fi vgcreate ceph-db-wal-${block_db_string} ${BLOCK_DB} VG=ceph-db-wal-${block_db_string} fi if [[ $(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_wal_string}"") ]]; then VG=$(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_wal_string}"") WAL_OSD_ID=$(get_osd_id_from_volume /dev/ceph-db-wal-${block_wal_string}/ceph-wal-${block_wal_string}) if [ ! -z ${OSD_ID} ] && [ ${WAL_OSD_ID} != ${OSD_ID} ]; then echo ""Found VG, but corresponding WAL is not, zapping the ${OSD_DEVICE}"" disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ ! -z ${OSD_ID} ] && [ -z ${WAL_OSD_ID} ]; then disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ -z ${OSD_ID} ]; then CEPH_LVM_PREPARE=1 else CEPH_LVM_PREPARE=0 fi else osd_dev_split=$(echo ${OSD_DEVICE} | awk -F ""/"" '{print $3}') if [[ ! -z $(lsblk ${BLOCK_WAL} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) ]]; then echo ""dmsetup reference found but disks mismatch"" dmsetup remove $(lsblk ${BLOCK_WAL} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 fi vgcreate ceph-db-wal-${block_wal_string} ${BLOCK_WAL} VG=ceph-db-wal-${block_wal_string} fi if [[ $(lvdisplay | grep ""LV Name"" | awk '{print $3}' | grep ""ceph-db-${block_db_string}"") != ""ceph-db-${block_db_string}"" ]]; then lvcreate -L ${BLOCK_DB_SIZE} -n ceph-db-${block_db_string} ${VG} fi BLOCK_DB=${VG}/ceph-db-${block_db_string} if [[ $(lvdisplay | grep ""LV Name"" | awk '{print $3}' | grep ""ceph-db-${block_wal_string}"") != ""ceph-db-${block_wal_string}"" ]]; then lvcreate -L ${BLOCK_WAL_SIZE} -n ceph-wal-${block_wal_string} ${VG} fi BLOCK_WAL=${VG}/ceph-wal-${block_wal_string} if [[ $(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_wal_string}"") ]]; then VG=$(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_wal_string}"") WAL_OSD_ID=$(get_osd_id_from_volume /dev/ceph-wal-${block_wal_string}/ceph-wal-${osd_dev_string}) if [ ! -z ${OSD_ID} ] && [ ${WAL_OSD_ID} != ${OSD_ID} ]; then echo ""Found VG, but corresponding WAL is not, zapping the ${OSD_DEVICE}"" disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ ! -z ${OSD_ID} ] && [ -z ${WAL_OSD_ID} ]; then disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ -z ${OSD_ID} ]; then CEPH_LVM_PREPARE=1 else CEPH_LVM_PREPARE=0 fi else osd_dev_split=$(echo ${OSD_DEVICE} | awk -F ""/"" '{print $3}') if [[ ! -z $(lsblk ${BLOCK_WAL} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) ]]; then echo ""dmsetup reference found but disks mismatch"" dmsetup remove $(lsblk ${BLOCK_WAL} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 fi vgcreate ceph-wal-${block_wal_string} ${BLOCK_WAL} VG=ceph-wal-${block_wal_string} fi if [[ $(lvdisplay | grep ""LV Name"" | awk '{print $3}' | grep ""ceph-wal-${osd_dev_string}"") != ""ceph-wal-${osd_dev_string}"" ]]; then lvcreate -L ${BLOCK_WAL_SIZE} -n ceph-wal-${osd_dev_string} ${VG} fi BLOCK_WAL=${VG}/ceph-wal-${osd_dev_string} if [[ $(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_db_string}"") ]]; then VG=$(vgdisplay | grep ""VG Name"" | awk '{print $3}' | grep ""${block_db_string}"") DB_OSD_ID=$(get_osd_id_from_volume /dev/ceph-db-${block_db_string}/ceph-db-${osd_dev_string}) if [ ! -z ${OSD_ID} ] && [ ${DB_OSD_ID} != ${OSD_ID} ]; then echo ""Found VG, but corresponding DB is not, zapping the ${OSD_DEVICE}"" disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ ! -z ${OSD_ID} ] && [ -z ${DB_OSD_ID} ]; then disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 elif [ -z ${OSD_ID} ]; then CEPH_LVM_PREPARE=1 else CEPH_LVM_PREPARE=0 fi else osd_dev_split=$(echo ${OSD_DEVICE} | awk -F ""/"" '{print $3}') if [[ ! -z $(lsblk ${BLOCK_DB} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) ]]; then echo ""dmsetup reference found but disks mismatch"" dmsetup remove $(lsblk ${BLOCK_WAL} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}' | grep ${osd_dev_split}) disk_zap ${OSD_DEVICE} CEPH_LVM_PREPARE=1 fi vgcreate ceph-db-${block_db_string} ${BLOCK_DB} VG=ceph-db-${block_db_string} fi if [[ $(lvdisplay | grep ""LV Name"" | awk '{print $3}' | grep ""ceph-db-${osd_dev_string}"") != ""ceph-db-${osd_dev_string}"" ]]; then lvcreate -L ${BLOCK_DB_SIZE} -n ceph-db-${osd_dev_string} ${VG} fi BLOCK_DB=${VG}/ceph-db-${osd_dev_string}",47,160
openstack%2Fglance~master~Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc,openstack/glance,master,Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc,Fix active image when all uploads fail,MERGED,2020-07-30 16:23:03.000000000,2020-08-05 19:00:25.000000000,2020-08-05 18:58:18.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 16:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6741174ea71ae997f444b8fcba5422aab9d15acc', 'message': 'Fix active image when all uploads fail\n\nThis fix is for the case where all stores fails and\nthe end result is active image with no image data.\n\nChange-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc\nPartial-Bug: #1889640\n'}, {'number': 2, 'created': '2020-07-30 16:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/bd243b62d8546637a1218094a9d3f5b53a76957e', 'message': 'Fix active image when all uploads fail\n\nThis fix is for the case where all stores fails and\nthe end result is active image with no image data.\n\nChange-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc\nPartial-Bug: #1889640\n'}, {'number': 3, 'created': '2020-08-04 20:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/d94f86ea22f841501d72a565662eabf4908b02ab', 'message': 'Fix active image when all uploads fail\n\nThis fix is for the case where all stores fails and\nthe end result is active image with no image data.\n\nChange-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc\nPartial-Bug: #1889640\n'}, {'number': 4, 'created': '2020-08-05 06:02:43.000000000', 'files': ['glance/tests/unit/async_/test_async.py', 'glance/async_/flows/api_image_import.py', 'glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/e8b13ce1b44313a9604aa9cd8cdbf8bd4d1bda52', 'message': 'Fix active image when all uploads fail\n\nThis fix is for the case where all stores fails and\nthe end result is active image with no image data.\n\nChange-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc\nPartial-Bug: #1889640\n'}]",12,744010,e8b13ce1b44313a9604aa9cd8cdbf8bd4d1bda52,38,6,4,5202,,,0,"Fix active image when all uploads fail

This fix is for the case where all stores fails and
the end result is active image with no image data.

Change-Id: Ie7558eeae488406a1696f0ee1bf40b644ae6d8cc
Partial-Bug: #1889640
",git fetch https://review.opendev.org/openstack/glance refs/changes/10/744010/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/async_/test_async.py', 'glance/async_/flows/api_image_import.py']",2,6741174ea71ae997f444b8fcba5422aab9d15acc,bug/1889640,"class _NoStoresSucceeded(exception.GlanceException): def __init__(self, message): super(_NoStoresSucceeded, self).__init__(message) class _VerifyImage(task.Task): super(_VerifyImage, self).__init__( name='%s-VerifyImage-%s' % (task_type, task_id)) """"""Verify we have active image if action.image_status == 'active': raise _NoStoresSucceeded(_('None of the uploads finished!')) def revert(self, result, **kwargs): """"""Set back to queued if this wasn't copy-image job."""""" with self.action_wrapper as action: if self.import_method != 'copy-image': action.set_image_status('queued') verify_task = _VerifyImage(task_id, task_type, action_wrapper, import_method) flow.add(verify_task)","class _SaveImage(task.Task): super(_SaveImage, self).__init__( name='%s-SaveImage-%s' % (task_type, task_id)) """"""Transition image status to active if (self.import_method != 'copy-image' and action.image_status == 'importing'): # NOTE(flaper87): THIS IS WRONG! # we should be doing atomic updates to avoid # race conditions. This happens in other places # too. action.set_image_status('active') save_task = _SaveImage(task_id, task_type, action_wrapper, import_method) flow.add(save_task)",24,17
openstack%2Ftripleo-common~stable%2Ftrain~I034dd7f091cf24e6f559cd6b1a860da1caadf12c,openstack/tripleo-common,stable/train,I034dd7f091cf24e6f559cd6b1a860da1caadf12c,Don't disable centos-rabbitmq-38 repo in base image,MERGED,2020-07-23 08:45:26.000000000,2020-08-05 18:36:49.000000000,2020-08-05 18:34:59.000000000,"[{'_account_id': 7353}, {'_account_id': 14826}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 08:45:26.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d651614427696af7faf2d1ca7a7d5ed2023f6dc', 'message': ""Don't disable centos-rabbitmq-38 repo in base image\n\nTrain only.\n\nIn kolla images by default we use upstream RabbitMQ 3.7. On CentOS 8 in\nTrain, Tripleo overrides this to use the centos-rabbitmq-38 repo. The\ncentos-openstack-release-train package pulls in centos-rabbitmq-38\nautomatically, which causes erlang compatibility issues for the default\nKolla setup. Kolla is therefore disabling the centos-rabbitmq-38 repo by\ndefault.\n\nThis patch avoids disabling the centos-rabbitmq-38 repo, to ensure that\nTripleo continues to use RabbitMQ packages from that source.\n\nNeeded-By: https://review.opendev.org/737478\n\nChange-Id: I034dd7f091cf24e6f559cd6b1a860da1caadf12c\nRelated-Bug: #1884034\n""}]",0,742613,5d651614427696af7faf2d1ca7a7d5ed2023f6dc,13,6,1,14826,,,0,"Don't disable centos-rabbitmq-38 repo in base image

Train only.

In kolla images by default we use upstream RabbitMQ 3.7. On CentOS 8 in
Train, Tripleo overrides this to use the centos-rabbitmq-38 repo. The
centos-openstack-release-train package pulls in centos-rabbitmq-38
automatically, which causes erlang compatibility issues for the default
Kolla setup. Kolla is therefore disabling the centos-rabbitmq-38 repo by
default.

This patch avoids disabling the centos-rabbitmq-38 repo, to ensure that
Tripleo continues to use RabbitMQ packages from that source.

Needed-By: https://review.opendev.org/737478

Change-Id: I034dd7f091cf24e6f559cd6b1a860da1caadf12c
Related-Bug: #1884034
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/742613/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,5d651614427696af7faf2d1ca7a7d5ed2023f6dc,bug/1884034," 'centos-rabbitmq-38',",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I1790444d289d057e9a3f612c53efe485080978b5,openstack/tripleo-heat-templates,stable/ussuri,I1790444d289d057e9a3f612c53efe485080978b5,Fix HA resource restart when no replicas are running,MERGED,2020-08-04 10:40:31.000000000,2020-08-05 18:34:57.000000000,2020-08-05 18:34:57.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 10:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0dbc1ec5438f53c906bf9b85b57d2ba5ebb3b75a', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\n(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)\n\nCloses-Bug: #1889395\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\n'}, {'number': 2, 'created': '2020-08-05 10:51:28.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f3eb2371d7a91245cbd7ffc14992a4a5ccd5950', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\n(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)\n\nCloses-Bug: #1889395\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\n'}]",0,744676,7f3eb2371d7a91245cbd7ffc14992a4a5ccd5950,16,7,2,11090,,,0,"Fix HA resource restart when no replicas are running

When the helper script pacemaker_restart_bundle.sh is called
during a stack update, it restarts the pacemaker resource via
a ""pcs resource restart <name>"".

When all the replicas are stopped due to a previous error,
pcs won't restart them because there is nothing to stop. In
that case, one must use ""pcs resource cleanup <name>"".

(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)

Closes-Bug: #1889395
Change-Id: I1790444d289d057e9a3f612c53efe485080978b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/744676/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,0dbc1ec5438f53c906bf9b85b57d2ba5ebb3b75a,," replicas_running=$(crm_resource -Q -r $BUNDLE_NAME --locate 2>&1 | wc -l) if [ ""$replicas_running"" != ""0"" ]; then echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME else echo ""$(date -u): ${BUNDLE_NAME} is not running anywhere,"" \ ""cleaning up to restart it globally if necessary"" /sbin/pcs resource cleanup $BUNDLE_NAME fi"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",9,2
openstack%2Ftripleo-upgrade~master~I7c5b81545d56fabd021a306a549485e46a785241,openstack/tripleo-upgrade,master,I7c5b81545d56fabd021a306a549485e46a785241,Remove skip ceph-validations and --playbook for system_upgrade.,MERGED,2020-08-03 14:43:03.000000000,2020-08-05 18:34:55.000000000,2020-08-05 18:34:54.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-08-03 14:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fcede1528ff0bd74b08b1c48b2467549f659190a', 'message': ""Remove skip ceph-validations and --playbook for system_upgrade.\n\nNow that the ceph-systemd validations are fixed, we don't need\nto add all the skip ceph validations when running the ceph_systemd\nstep. Also, for [0] to take action, we need to run all playbooks\nso the noout/nobalance params are executed in the\npost_upgrades_steps_playbook.yaml. Therefore, the --playbook option\nis removed from the system_upgrade step.\n\n[0] - Ib10b6ad50e1052fe69640b39a173e856a426d607\n\nChange-Id: I7c5b81545d56fabd021a306a549485e46a785241\n""}, {'number': 2, 'created': '2020-08-05 13:01:39.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/be70f3774f8fccaed172bbf15cc6c2cab86d9b70', 'message': ""Remove skip ceph-validations and --playbook for system_upgrade.\n\nNow that the ceph-systemd validations are fixed, we don't need\nto add all the skip ceph validations when running the ceph_systemd\nstep. Also, for [0] to take action, we need to run all playbooks\nso the noout/nobalance params are executed in the\npost_upgrades_steps_playbook.yaml. Therefore, the --playbook option\nis removed from the system_upgrade step.\n\n[0] - Ib10b6ad50e1052fe69640b39a173e856a426d607\n\nChange-Id: I7c5b81545d56fabd021a306a549485e46a785241\n""}]",0,744496,be70f3774f8fccaed172bbf15cc6c2cab86d9b70,13,5,2,26343,,,0,"Remove skip ceph-validations and --playbook for system_upgrade.

Now that the ceph-systemd validations are fixed, we don't need
to add all the skip ceph validations when running the ceph_systemd
step. Also, for [0] to take action, we need to run all playbooks
so the noout/nobalance params are executed in the
post_upgrades_steps_playbook.yaml. Therefore, the --playbook option
is removed from the system_upgrade step.

[0] - Ib10b6ad50e1052fe69640b39a173e856a426d607

Change-Id: I7c5b81545d56fabd021a306a549485e46a785241
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/96/744496/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2'],1,fcede1528ff0bd74b08b1c48b2467549f659190a,ffwd-upgrade2,," --skip-tags validation,opendev-validation-ceph,opendev-validation \ --playbook upgrade_steps_playbook.yaml \",0,2
openstack%2Fpuppet-tripleo~stable%2Ftrain~Iaba8da504f9c7a54656cf1abe259dff779ea7125,openstack/puppet-tripleo,stable/train,Iaba8da504f9c7a54656cf1abe259dff779ea7125,Ensure post-save certmonger scripts target the right HA container,MERGED,2020-07-22 07:52:46.000000000,2020-08-05 18:34:50.000000000,2020-08-05 18:34:49.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-22 07:52:46.000000000', 'files': ['files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-haproxy-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ddf216332ff9a7e8378c78e3e59271ce21719c62', 'message': 'Ensure post-save certmonger scripts target the right HA container\n\nHAProxy and RabbitMQ can reload their TLS certificate on change,\nwithout being restarted. To do that, a post-save script scan the\nlist of running container, copy the new certs and trigger a reload\naction in the service.\n\nMake sure that those post-save script only get the right container\nout of the ""$container_cli ps"" command, i.e. that the scripts Work\nboth with HA and non-HA deployments.\n\nChange-Id: Iaba8da504f9c7a54656cf1abe259dff779ea7125\nCloses-Bug: #1885284\n(cherry picked from commit 3e942b7ff5cc91bfee7cc19d31b502548dcf3f57)\n(cherry picked from commit e0fa5abdf69f4cb7f80bb40c858eef4f7601dea5)\n'}]",0,742362,ddf216332ff9a7e8378c78e3e59271ce21719c62,16,5,1,20778,,,0,"Ensure post-save certmonger scripts target the right HA container

HAProxy and RabbitMQ can reload their TLS certificate on change,
without being restarted. To do that, a post-save script scan the
list of running container, copy the new certs and trigger a reload
action in the service.

Make sure that those post-save script only get the right container
out of the ""$container_cli ps"" command, i.e. that the scripts Work
both with HA and non-HA deployments.

Change-Id: Iaba8da504f9c7a54656cf1abe259dff779ea7125
Closes-Bug: #1885284
(cherry picked from commit 3e942b7ff5cc91bfee7cc19d31b502548dcf3f57)
(cherry picked from commit e0fa5abdf69f4cb7f80bb40c858eef4f7601dea5)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/62/742362/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/certmonger-rabbitmq-refresh.sh', 'files/certmonger-haproxy-refresh.sh']",2,ddf216332ff9a7e8378c78e3e59271ce21719c62,ha-cert-rotation-stable/ussuri-stable/train,"haproxy_container_name=$($container_cli ps --format=""{{.Names}}"" | grep -w -E 'haproxy(-bundle-.*-[0-9]+)?')","haproxy_container_name=$($container_cli ps --format=""{{.Names}}"" | grep haproxy)",2,2
openstack%2Fpuppet-tripleo~stable%2Ftrain~I96f5d349b94f05f4f66db6b85ba481deba0015d9,openstack/puppet-tripleo,stable/train,I96f5d349b94f05f4f66db6b85ba481deba0015d9,Make promote timeout configurable,MERGED,2020-07-22 09:13:44.000000000,2020-08-05 18:34:48.000000000,2020-08-05 18:34:47.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-22 09:13:44.000000000', 'files': ['manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a16409d227134d6797b911eb883895489ca500b', 'message': 'Make promote timeout configurable\n\nAllow override of galera promote timeout\n\nThis commit removes the hard coded value of pacemaker promote time out\n(currently 300s), and allows operators to override it via:\n\ntripleo::profile::pacemaker::database::mysql::promote_timeout\ntripleo::profile::pacemaker::database::mysql_bundle::promote_timeout\n\nCloses-Bug: #1883896\nChange-Id: I96f5d349b94f05f4f66db6b85ba481deba0015d9\n(cherry picked from commit 0606e22e245761f66baff3eb8846473d2eab5be3)\n(cherry picked from commit 9b02574d3a4e5566abd75b992a5078bc9cee2e32)\n'}]",0,742376,2a16409d227134d6797b911eb883895489ca500b,18,6,1,20778,,,0,"Make promote timeout configurable

Allow override of galera promote timeout

This commit removes the hard coded value of pacemaker promote time out
(currently 300s), and allows operators to override it via:

tripleo::profile::pacemaker::database::mysql::promote_timeout
tripleo::profile::pacemaker::database::mysql_bundle::promote_timeout

Closes-Bug: #1883896
Change-Id: I96f5d349b94f05f4f66db6b85ba481deba0015d9
(cherry picked from commit 0606e22e245761f66baff3eb8846473d2eab5be3)
(cherry picked from commit 9b02574d3a4e5566abd75b992a5078bc9cee2e32)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/742376/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp']",2,2a16409d227134d6797b911eb883895489ca500b,sst-promote-timeout-stable/train,"# [*promote_timeout*] # (Optional) Maximum time in second for starting up a galera server # before pacemaker considers the operation timed out. # Defaults to 300 # $promote_timeout = 300, op_params => ""promote timeout=${promote_timeout}s on-fail=block"","," op_params => 'promote timeout=300s on-fail=block',",14,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib10b6ad50e1052fe69640b39a173e856a426d607,openstack/tripleo-heat-templates,stable/train,Ib10b6ad50e1052fe69640b39a173e856a426d607,[TRAIN-ONLY] Set the right container_client when set/unset noout,MERGED,2020-07-30 16:53:23.000000000,2020-08-05 18:34:43.000000000,2020-08-05 18:34:43.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-30 16:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5498e3520356c4d9f1ca77d274ca7f9377ff8ba', 'message': 'Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 2, 'created': '2020-07-30 16:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20624094096460cc9cb2b71eddda6dfff479c1ad', 'message': 'Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 3, 'created': '2020-07-31 08:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3887713367a456a312e0f8c18c3cc7255b4dc34', 'message': 'Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 4, 'created': '2020-07-31 08:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/75f14e1a9be113cb3248bf61056a1d9f508f28d9', 'message': 'Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 5, 'created': '2020-07-31 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6a81bffc2341cf027d78d8e8d0b57d7274cb8ce', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 6, 'created': '2020-07-31 08:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93ab3892a699d98908813593ac5be4ac30334c7c', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 7, 'created': '2020-07-31 08:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8b2b0e7dd0105d520861d69a06aba51898213a6', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 8, 'created': '2020-07-31 09:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffd6cbb70491882e3379e2e267d34683e1d2ef67', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 9, 'created': '2020-07-31 09:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb03855e805a0445e9a885a371715b363709699d', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 10, 'created': '2020-07-31 09:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/923e04fcd926df18b6ff0ca0e8067500ffd976d6', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 11, 'created': '2020-07-31 09:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea03cb21b3994c5db21e6035948ab4220c527087', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 12, 'created': '2020-08-03 15:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89915755fffeb43b277f4330c10ef11d9529207f', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 13, 'created': '2020-08-04 12:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf8d3e596cd3bb20629ad1e452d0cf568d050952', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}, {'number': 14, 'created': '2020-08-04 14:55:23.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cf38e95cc682de90b427df8e3f5a0b8e2021a25', 'message': '[TRAIN-ONLY] Set the right container_client when set/unset noout\n\nDuring FFU, when leapp execution is reached, ceph nodes should set\nnoout, norebalance and a few other options to avoid data rebalancing\nduring the reboot process.\nAfter the nodes have been upgraded, we should unset these options.\nDue to the fact these commands are run on different stages,\ncontainer_cli is different and should be computed looking at the current\nstatus of the controller nodes.\nThe purpose of this patch is to fix the container_client used to run\ncommands against the Ceph cluster.\n\nChange-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607\n'}]",8,744018,8cf38e95cc682de90b427df8e3f5a0b8e2021a25,42,9,14,25402,,,0,"[TRAIN-ONLY] Set the right container_client when set/unset noout

During FFU, when leapp execution is reached, ceph nodes should set
noout, norebalance and a few other options to avoid data rebalancing
during the reboot process.
After the nodes have been upgraded, we should unset these options.
Due to the fact these commands are run on different stages,
container_cli is different and should be computed looking at the current
status of the controller nodes.
The purpose of this patch is to fix the container_client used to run
commands against the Ceph cluster.

Change-Id: Ib10b6ad50e1052fe69640b39a173e856a426d607
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/744018/9 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,b5498e3520356c4d9f1ca77d274ca7f9377ff8ba,ffwd-upgrade2-stable/train," - name: Check for docker cli stat: path: ""/var/run/docker.sock"" register: check_docker_cli check_mode: false delegate_to: ""{{ ceph_mon_short_bootstrap_node_name }}"" - name: Set container_client fact set_fact: container_client: |- {% set container_client = 'podman' %} {% if check_docker_cli.stat.exists|bool %} {% set container_client = 'docker' %} {% endif %} {{ container_client }} command: ""{{ container_client }} exec -u root ceph-mon-${HOSTNAME} ceph osd set {{ item }}"" command: ""{{ container_client }} exec -u root ceph-mon-${HOSTNAME} ceph osd unset {{ item }}"""," command: ""{{ container_cli }} exec -u root ceph-mon-${HOSTNAME} ceph osd set {{ item }}"" command: ""{{ container_cli }} exec -u root ceph-mon-${HOSTNAME} ceph osd unset {{ item }}""",16,2
openstack%2Fopenstack-helm~master~I410d5a18dc5a30de5b84f8eada4b051b28adae5a,openstack/openstack-helm,master,I410d5a18dc5a30de5b84f8eada4b051b28adae5a,tls(feat): glance tls overrides,MERGED,2020-08-05 15:51:45.000000000,2020-08-05 18:25:55.000000000,2020-08-05 18:23:58.000000000,"[{'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 15:51:45.000000000', 'files': ['glance/values_overrides/tls.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/93508f6e1634ca6afa9181d7eef04be86666c59b', 'message': 'tls(feat): glance tls overrides\n\nAdded paramater to pass ca cert to glance store\n\nChange-Id: I410d5a18dc5a30de5b84f8eada4b051b28adae5a\n'}]",0,744932,93508f6e1634ca6afa9181d7eef04be86666c59b,9,4,1,24780,,,0,"tls(feat): glance tls overrides

Added paramater to pass ca cert to glance store

Change-Id: I410d5a18dc5a30de5b84f8eada4b051b28adae5a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/744932/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/values_overrides/tls.yaml'],1,93508f6e1634ca6afa9181d7eef04be86666c59b,, swift_store_cacert: /etc/glance/certs/ca.crt,,1,0
openstack%2Fnova~master~I47f714f1ec3a39998174ef6178375f61e12fdd5b,openstack/nova,master,I47f714f1ec3a39998174ef6178375f61e12fdd5b,TODO,ABANDONED,2020-08-05 16:43:00.000000000,2020-08-05 18:16:22.000000000,,"[{'_account_id': 15751}, {'_account_id': 26515}]","[{'number': 1, 'created': '2020-08-05 16:43:00.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5f047c38fde30795415b4de1cff932abc13db194', 'message': 'TODO\n\nChange-Id: I47f714f1ec3a39998174ef6178375f61e12fdd5b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,744951,5f047c38fde30795415b4de1cff932abc13db194,4,2,1,15334,,,0,"TODO

Change-Id: I47f714f1ec3a39998174ef6178375f61e12fdd5b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/744951/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,5f047c38fde30795415b4de1cff932abc13db194,bug/1879878," self.api.post_server_action(server['id'], post) server = self._wait_for_state_change(server, 'ACTIVE')"," # FIXME(stephenfin): This should be successful, but it's failing with a # HTTP 500 due to bug #1879878 exc = self.assertRaises( client.OpenStackApiException, self.api.post_server_action, server['id'], post) self.assertEqual(500, exc.response.status_code) self.assertIn('CPUUnpinningInvalid', str(exc))",3,7
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f,openstack/tripleo-heat-templates,stable/ussuri,I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f,Add CephAnsibleRepo warning to make this validation more flexible,MERGED,2020-08-03 13:22:30.000000000,2020-08-05 18:14:31.000000000,2020-08-05 18:14:31.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-03 13:22:30.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e4192e03319810bce3f70e6a21dafbbffb6f4d8e', 'message': 'Add CephAnsibleRepo warning to make this validation more flexible\n\nUnder specific scenarios (FFU) we have ceph-ansible installed but\nno repo is available on the system due to the leapp process.\nThis patch expose an existing parameter (always hard-coded to true)\nto let the validation print the warning but avoiding the whole\nplaybook failing on the CephAnsibleRepo task.\n\nChange-Id: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f\n'}]",0,744469,e4192e03319810bce3f70e6a21dafbbffb6f4d8e,9,7,1,25402,,,0,"Add CephAnsibleRepo warning to make this validation more flexible

Under specific scenarios (FFU) we have ceph-ansible installed but
no repo is available on the system due to the leapp process.
This patch expose an existing parameter (always hard-coded to true)
to let the validation print the warning but avoiding the whole
playbook failing on the CephAnsibleRepo task.

Change-Id: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/744469/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,e4192e03319810bce3f70e6a21dafbbffb6f4d8e,, CephAnsibleWarning: type: boolean description: | In particular scenarios we want this validation to show the warning but don't fail because the package is installed on the system but repos are disabled. default: true fail_without_ceph_ansible: {get_param: CephAnsibleWarning}, fail_without_ceph_ansible: true,8,1
openstack%2Fcookbook-openstack-compute~master~I87dda61dfabec460fe042b4cee21277382dd9487,openstack/cookbook-openstack-compute,master,I87dda61dfabec460fe042b4cee21277382dd9487,Restart apache only where appropriate,MERGED,2020-07-28 12:32:12.000000000,2020-08-05 17:08:15.000000000,2020-08-05 17:08:14.000000000,"[{'_account_id': 13252}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 12:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/23d3515c418e924ae9e653e9a08cab690b98a580', 'message': 'Restart apache only where appropriate\n\nThe current code tries to restart apache for every change to\n/etc/nova/nova.conf even on compute nodes that do not have apache\ninstalled. This changeset splits out the apache service resource into a\nseparate recipe that (unlike nova-common) is not included by the compute\nrecipe.\n\nbackport: stein\n\nChange-Id: I87dda61dfabec460fe042b4cee21277382dd9487\n'}, {'number': 2, 'created': '2020-07-29 03:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/7d10069219f2301efc9e70dd4714acc482801aba', 'message': 'Restart apache only where appropriate\n\nThe current code tries to restart apache for every change to\n/etc/nova/nova.conf even on compute nodes that do not have apache\ninstalled. This changeset splits out the apache service resource into a\nseparate recipe that (unlike nova-common) is not included by the compute\nrecipe.\n\nbackport: stein\n\nChange-Id: I87dda61dfabec460fe042b4cee21277382dd9487\n'}, {'number': 3, 'created': '2020-07-29 08:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/b18159c3112a8e732c69368bceff50b1454be050', 'message': 'Restart apache only where appropriate\n\nThe current code tries to restart apache for every change to\n/etc/nova/nova.conf even on compute nodes that do not have apache\ninstalled. This changeset splits out the apache service resource into a\nseparate recipe that (unlike nova-common) is not included by the compute\nrecipe.\n\nbackport: stein\n\nChange-Id: I87dda61dfabec460fe042b4cee21277382dd9487\n'}, {'number': 4, 'created': '2020-08-04 09:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/85c4efc183a1c15353e6dd8754a6527cec87a506', 'message': 'Restart apache only where appropriate\n\nThe current code tries to restart apache for every change to\n/etc/nova/nova.conf even on compute nodes that do not have apache\ninstalled. This changeset splits out the apache service resource into a\nseparate recipe that (unlike nova-common) is not included by the compute\nrecipe.\n\nbackport: stein\n\nChange-Id: I87dda61dfabec460fe042b4cee21277382dd9487\n'}, {'number': 5, 'created': '2020-08-04 11:18:15.000000000', 'files': ['spec/placement_api-redhat_spec.rb', 'spec/api-metadata_spec.rb', 'spec/api-os-compute-redhat_spec.rb', 'spec/api-metadata-redhat_spec.rb', 'spec/nova-common_spec.rb', 'recipes/api-os-compute.rb', 'spec/placement_api_spec.rb', 'recipes/api-metadata.rb', 'spec/api-os-compute_spec.rb', 'recipes/placement_api.rb', 'spec/spec_helper.rb', 'spec/_nova_apache_spec.rb', 'recipes/_nova_apache.rb', 'recipes/nova-common.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-compute/commit/5747451dcb905f56de155dabce94c89ae7ba9c01', 'message': 'Restart apache only where appropriate\n\nThe current code tries to restart apache for every change to\n/etc/nova/nova.conf even on compute nodes that do not have apache\ninstalled. This changeset splits out the apache service resource into a\nseparate recipe that (unlike nova-common) is not included by the compute\nrecipe.\n\nbackport: stein\n\nChange-Id: I87dda61dfabec460fe042b4cee21277382dd9487\n'}]",0,743522,5747451dcb905f56de155dabce94c89ae7ba9c01,18,3,5,11109,,,0,"Restart apache only where appropriate

The current code tries to restart apache for every change to
/etc/nova/nova.conf even on compute nodes that do not have apache
installed. This changeset splits out the apache service resource into a
separate recipe that (unlike nova-common) is not included by the compute
recipe.

backport: stein

Change-Id: I87dda61dfabec460fe042b4cee21277382dd9487
",git fetch https://review.opendev.org/openstack/cookbook-openstack-compute refs/changes/22/743522/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/nova-apache.rb', 'recipes/api-metadata.rb', 'recipes/placement_api.rb', 'recipes/api-os-compute.rb', 'recipes/nova-common.rb']",5,23d3515c418e924ae9e653e9a08cab690b98a580,fix_apache_restart,,"# service['apache2'] is defined in the apache2_default_install resource # but other resources are currently unable to reference it. To work # around this issue, define the following helper in your cookbook: service 'apache2' do extend Apache2::Cookbook::Helpers service_name lazy { apache_platform_service_name } supports restart: true, status: true, reload: true action :nothing end notifies :restart, 'service[apache2]'",35,11
openstack%2Fkolla~master~I220fb14a1c5a2bd1fdbc0fa4e5316da41a70c788,openstack/kolla,master,I220fb14a1c5a2bd1fdbc0fa4e5316da41a70c788,Add missing horizon plugins for debian based OS,MERGED,2020-08-03 11:52:21.000000000,2020-08-05 17:03:31.000000000,2020-08-05 17:01:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 27339}]","[{'number': 1, 'created': '2020-08-03 11:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1010a467b7f394a19760ea609f6c50636ecf0c9a', 'message': 'Add missing horizon plugins for debian based OS\n\nChange-Id: I220fb14a1c5a2bd1fdbc0fa4e5316da41a70c788\n'}, {'number': 2, 'created': '2020-08-03 12:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc170695534c8b0937ba68d77da4db8ca54fbaf8', 'message': 'Add missing horizon plugins for debian based OS\n\nChange-Id: I220fb14a1c5a2bd1fdbc0fa4e5316da41a70c788\n'}, {'number': 3, 'created': '2020-08-05 11:41:09.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf2322322e889d5cf0338b11be6a692adfd3fc8e', 'message': 'Add missing horizon plugins for debian based OS\n\nChange-Id: I220fb14a1c5a2bd1fdbc0fa4e5316da41a70c788\n'}]",2,744452,cf2322322e889d5cf0338b11be6a692adfd3fc8e,24,7,3,27339,,,0,"Add missing horizon plugins for debian based OS

Change-Id: I220fb14a1c5a2bd1fdbc0fa4e5316da41a70c788
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/744452/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,1010a467b7f394a19760ea609f6c50636ecf0c9a,," 'python3-murano-dashboard', 'python3-neutron-fwaas-dashboard', 'python3-watcher-dashboard', 'python3-cloudkitty-dashboard' 'python3-freezer-web-ui', 'python3-ironic-ui', 'python3-magnum-ui', 'python3-mistral-dashboard', 'python3-senlin-dashboard' 'python3-zaqar-ui'", #NOTE(hrw): check for python-murano-dashboard,10,1
openstack%2Fcoverage2sql~master~I7feffa300fea7d86749143aae5fb547beb54406d,openstack/coverage2sql,master,I7feffa300fea7d86749143aae5fb547beb54406d,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-09 20:26:31.000000000,2020-08-05 16:55:21.000000000,2020-08-05 16:45:31.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 20:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/5be1eb75aa6c3d8b4952aa5798341f5c27b750c1', 'message': 'DNM: testing focal\n\nDepends-On: https://review.opendev.org/#/c/734700\nChange-Id: I7feffa300fea7d86749143aae5fb547beb54406d\nStory: #2007865\nTask: #40212\n'}, {'number': 2, 'created': '2020-07-31 18:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/0574ebaab438fae20786e607f3a48085b27863bd', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1885825\nFix user creation with GRANT in MySQL 8.0(Ubuntu Focal)\nUbuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there\nis no implicit user creation with GRANT. We need to\ncreate the user first before using GRANT command.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40212\n\nCloses-Bug: #1885825\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I7feffa300fea7d86749143aae5fb547beb54406d\n'}, {'number': 3, 'created': '2020-08-01 19:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/68f4f661ae5721dc1ba539316633e6a99b7085c8', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1885825\nFix user creation with GRANT in MySQL 8.0(Ubuntu Focal)\nUbuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there\nis no implicit user creation with GRANT. We need to\ncreate the user first before using GRANT command.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40212\n\nCloses-Bug: #1885825\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I7feffa300fea7d86749143aae5fb547beb54406d\n'}, {'number': 4, 'created': '2020-08-02 19:33:36.000000000', 'files': ['tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/726b149452b60f936a3f7ddb2ba80c3351635886', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1885825\nFix user creation with GRANT in MySQL 8.0(Ubuntu Focal)\nUbuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there\nis no implicit user creation with GRANT. We need to\ncreate the user first before using GRANT command.\n\nStory: #2007865\nTask: #40212\n\nCloses-Bug: #1885825\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I7feffa300fea7d86749143aae5fb547beb54406d\n'}]",0,740363,726b149452b60f936a3f7ddb2ba80c3351635886,16,3,4,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1885825
Fix user creation with GRANT in MySQL 8.0(Ubuntu Focal)
Ubuntu Focal (20.04) has mysql 8.0 and with mysql 8.0 there
is no implicit user creation with GRANT. We need to
create the user first before using GRANT command.

Story: #2007865
Task: #40212

Closes-Bug: #1885825

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I7feffa300fea7d86749143aae5fb547beb54406d
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/63/740363/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5be1eb75aa6c3d8b4952aa5798341f5c27b750c1,migrate-to-focal,#test,,1,0
openstack%2Fcoverage2sql~master~I4869426a4c39071a9e6d60c02ed13f8e5bb72536,openstack/coverage2sql,master,I4869426a4c39071a9e6d60c02ed13f8e5bb72536,Use unittest.mock instead of third party mock,MERGED,2020-08-01 19:45:20.000000000,2020-08-05 16:53:37.000000000,2020-08-05 16:45:29.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-08-01 19:45:20.000000000', 'files': ['coverage2sql/tests/test_shell.py'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/2409d79d62462acd46c35caf01c8888790f31b15', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I4869426a4c39071a9e6d60c02ed13f8e5bb72536\n'}]",0,744286,2409d79d62462acd46c35caf01c8888790f31b15,8,3,1,8556,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I4869426a4c39071a9e6d60c02ed13f8e5bb72536
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/86/744286/1 && git format-patch -1 --stdout FETCH_HEAD,['coverage2sql/tests/test_shell.py'],1,2409d79d62462acd46c35caf01c8888790f31b15,,from unittest import mock ,import mock,2,1
openstack%2Fcoverage2sql~master~Id8c5862b59188f2607c45392fa3b01b681825488,openstack/coverage2sql,master,Id8c5862b59188f2607c45392fa3b01b681825488,Switch testing to Victoria testing runtime,MERGED,2020-05-05 08:15:14.000000000,2020-08-05 16:45:30.000000000,2020-08-05 16:45:30.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-05 08:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/2fb4ffd5000470e81a8c01b5985e8ecce0cf070f', 'message': 'Switch testing to Victoria testing runtime\n\nUpating the testing template from ussuri to victoria\ntesting runtime\n- https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Id8c5862b59188f2607c45392fa3b01b681825488\n'}, {'number': 2, 'created': '2020-08-01 19:45:42.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/coverage2sql/commit/75f0726947c97b53b4e6cb052aa1d1a49f55a924', 'message': 'Switch testing to Victoria testing runtime\n\nUpating the testing template from ussuri to victoria\ntesting runtime\n- https://governance.openstack.org/tc/reference/runtimes/victoria.html\n\nChange-Id: Id8c5862b59188f2607c45392fa3b01b681825488\n'}]",0,725499,75f0726947c97b53b4e6cb052aa1d1a49f55a924,14,3,2,27621,,,0,"Switch testing to Victoria testing runtime

Upating the testing template from ussuri to victoria
testing runtime
- https://governance.openstack.org/tc/reference/runtimes/victoria.html

Change-Id: Id8c5862b59188f2607c45392fa3b01b681825488
",git fetch https://review.opendev.org/openstack/coverage2sql refs/changes/99/725499/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,2fb4ffd5000470e81a8c01b5985e8ecce0cf070f,switch-to-victoria-testing-runtime,"envlist = py{38,36},pep8,pip-check-reqs","envlist = py{37,36},pep8,pip-check-reqs",3,2
openstack%2Fkolla-ansible~stable%2Ftrain~Iaf434be9baf1973323bb177fad799aea39210fba,openstack/kolla-ansible,stable/train,Iaf434be9baf1973323bb177fad799aea39210fba,Fix actions for Aodh and Swift,MERGED,2020-08-05 08:28:30.000000000,2020-08-05 16:36:04.000000000,2020-08-05 16:32:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-05 08:28:30.000000000', 'files': ['ansible/roles/aodh/tasks/stop.yml', 'ansible/roles/swift/tasks/deploy-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df06eab19490db89a94faf6dcec22e219210c354', 'message': ""Fix actions for Aodh and Swift\n\nThese two roles were missing 'stop' and 'deploy-containers',\nrespectively.\n\nChange-Id: Iaf434be9baf1973323bb177fad799aea39210fba\n(cherry picked from commit c1a6ca0d215812e92e7113a96ca5ac74ee1cd08a)\n""}]",0,744853,df06eab19490db89a94faf6dcec22e219210c354,11,3,1,30491,,,0,"Fix actions for Aodh and Swift

These two roles were missing 'stop' and 'deploy-containers',
respectively.

Change-Id: Iaf434be9baf1973323bb177fad799aea39210fba
(cherry picked from commit c1a6ca0d215812e92e7113a96ca5ac74ee1cd08a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/744853/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/aodh/tasks/stop.yml', 'ansible/roles/swift/tasks/deploy-containers.yml']",2,df06eab19490db89a94faf6dcec22e219210c354,fix-actions-stable/ussuri-stable/train,--- - import_tasks: start.yml ,,8,0
openstack%2Fkolla-ansible~master~I74550eaf394287b14fc521293cc4b5ea8074192c,openstack/kolla-ansible,master,I74550eaf394287b14fc521293cc4b5ea8074192c,Update TLS documentation,MERGED,2020-07-02 20:40:53.000000000,2020-08-05 16:35:28.000000000,2020-08-05 16:32:56.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-02 20:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8365fb8b63729d3c8db80ae652a333cb346c5b83', 'message': 'Update TLS documentation\n\nMoved the TLS documentation from ""advanced-configuration"" doc to it\'s\nown TLS document. Updated content to reflect new features and\nconfiguration options added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\n'}, {'number': 2, 'created': '2020-07-02 21:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20cdb2ada7d66b52df5b63b98c380f6bb87360a1', 'message': 'Update TLS documentation\n\nMoved the TLS documentation from ""advanced-configuration"" doc to it\'s\nown TLS document. Updated content to reflect new features and\nconfiguration options added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\n'}, {'number': 3, 'created': '2020-07-27 09:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee62172f272bbc151bfc3eb8aeead9c166a3704e', 'message': 'Update TLS documentation\n\nUpdated TLS documentation to reflect new features and configuration\noptions added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\nPartially-Implements: blueprint add-ssl-internal-network\n'}, {'number': 4, 'created': '2020-07-28 19:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/61e72370122e3d196c55e5a24dbda61f1282e94f', 'message': 'Update TLS documentation\n\nUpdated TLS documentation to reflect new features and configuration\noptions added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\nPartially-Implements: blueprint add-ssl-internal-network\n'}, {'number': 5, 'created': '2020-08-04 10:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2f97a36e934bb5e6c5aa6c867ed1482fe3ecd617', 'message': 'Update TLS documentation\n\nUpdated TLS documentation to reflect new features and configuration\noptions added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\nPartially-Implements: blueprint add-ssl-internal-network\n'}, {'number': 6, 'created': '2020-08-04 11:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a16b2e88c3b60d0882224762bd10543a10d7333f', 'message': 'Update TLS documentation\n\nUpdated TLS documentation to reflect new features and configuration\noptions added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\nPartially-Implements: blueprint add-ssl-internal-network\n'}, {'number': 7, 'created': '2020-08-04 12:58:56.000000000', 'files': ['doc/source/admin/tls.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/589803c186697d1a2212422c48d5acf8e767dc7f', 'message': 'Update TLS documentation\n\nUpdated TLS documentation to reflect new features and configuration\noptions added in Ussuri.\n\nChange-Id: I74550eaf394287b14fc521293cc4b5ea8074192c\nPartially-Implements: blueprint add-ssl-internal-network\n'}]",23,739144,589803c186697d1a2212422c48d5acf8e767dc7f,24,5,7,30810,,,0,"Update TLS documentation

Updated TLS documentation to reflect new features and configuration
options added in Ussuri.

Change-Id: I74550eaf394287b14fc521293cc4b5ea8074192c
Partially-Implements: blueprint add-ssl-internal-network
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/739144/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/tls-deployment.rst', 'doc/source/admin/index.rst', 'doc/source/admin/advanced-configuration.rst']",3,8365fb8b63729d3c8db80ae652a333cb346c5b83,bp/add-ssl-internal-network,,"TLS Configuration ~~~~~~~~~~~~~~~~~ An additional endpoint configuration option is to enable or disable TLS protection for the internal and/or external VIP. TLS allows a client to authenticate the OpenStack service endpoint and allows for encryption of the requests and responses. The configuration variables that control TLS networking are: - kolla_enable_tls_external - kolla_external_fqdn_cert - kolla_enable_tls_internal - kolla_internal_fqdn_cert .. note:: If TLS is enabled only on the internal or the external network the kolla_internal_vip_address and kolla_external_vip_address must be different. If there is only a single network configured in your network topology (opposed to configuring seperate internal and external networks), TLS can be enabled using only the internal network configuration variables. The default for TLS is disabled, to enable TLS networking: .. code-block:: yaml kolla_enable_tls_external: ""yes"" kolla_external_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert.pem"" and/or kolla_enable_tls_internal: ""yes"" kolla_internal_fqdn_cert: ""{{ kolla_certificates_dir }}/mycert-internal.pem"" .. note:: TLS authentication is based on certificates that have been signed by trusted Certificate Authorities. Examples of commercial CAs are Comodo, Symantec, GoDaddy, and GlobalSign. Letsencrypt.org is a CA that will provide trusted certificates at no charge. Many company's IT departments will provide certificates within that company's domain. If using a trusted CA is not possible for your situation, you can use `OpenSSL <https://www.openssl.org>`__ to create your own company's domain or see the section below about kolla generated self-signed certificates. Two certificate files are required to use TLS securely with authentication. These two files will be provided by your Certificate Authority. These two files are the server certificate with private key and the CA certificate with any intermediate certificates. The server certificate needs to be installed with the kolla deployment and is configured with the ``kolla_external_fqdn_cert`` or ``kolla_internal_fqdn_cert`` parameter. If the server certificate provided is not already trusted by the client, then the CA certificate file will need to be distributed to the client. When using TLS to connect to a public endpoint, an OpenStack client will have settings similar to this: .. code-block:: shell export OS_PROJECT_DOMAIN_ID=default export OS_USER_DOMAIN_ID=default export OS_PROJECT_NAME=demo export OS_USERNAME=demo export OS_PASSWORD=demo-password export OS_AUTH_URL=https://mykolla.example.net:5000 # os_cacert is optional for trusted certificates export OS_CACERT=/etc/pki/ca/mykolla-cacert.crt export OS_IDENTITY_API_VERSION=3 Self-Signed Certificates ~~~~~~~~~~~~~~~~~~~~~~~~ .. note:: Self-signed certificates should never be used in production. It is not always practical to get a certificate signed by a well-known trust CA, for example a development or internal test kolla deployment. In these cases it can be useful to have a self-signed certificate to use. For convenience, the ``kolla-ansible`` command will generate the necessary certificate files based on the information in the ``globals.yml`` configuration file: .. code-block:: console kolla-ansible certificates The certificate file haproxy.pem will be generated and stored in the ``/etc/kolla/certificates/`` directory, and the CA cert will be in the ``/etc/kolla/certificates/ca/`` directory. Adding CA Certificates to the Service Containers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To copy CA certificate files to the service containers .. code-block:: yaml kolla_copy_ca_into_containers: ""yes"" When ``kolla_copy_ca_into_containers`` is configured to ""yes"", the CA certificate files in /etc/kolla/certificates/ca will be copied into service containers to enable trust for those CA certificates. This is required for any certificates that are either self-signed or signed by a private CA, and are not already present in the service image trust store. All certificate file names will have the ""kolla-customca-"" prefix prepended to it when it is copied into the containers. For example, if a certificate file is named ""internal.crt"", it will be named ""kolla-customca-internal.crt"" in the containers. For Debian and Ubuntu containers, the certificate files will be copied to the ``/usr/local/share/ca-certificates/`` directory. For Centos and Red Hat Linux containers, the certificate files will be copied to the ``/etc/pki/ca-trust/source/anchors/`` directory. In addition, the ``openstack_cacert`` should be configured with the path to the cacert in the container. For example, if the self-signed certificate task was used and the deployment is on ubuntu, the path would be: ""/etc/pki/ca-trust/source/anchors/kolla-customca-haproxy-internal.crt"" ",252,128
openstack%2Fopenstack-ansible-ceph_client~stable%2Fussuri~Ic6dc92895d2b35a955424de9ace485e3a894aaf8,openstack/openstack-ansible-ceph_client,stable/ussuri,Ic6dc92895d2b35a955424de9ace485e3a894aaf8,Add centos8 epel GPG key,MERGED,2020-08-05 07:07:01.000000000,2020-08-05 16:32:58.000000000,2020-08-05 16:22:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-08-05 07:07:01.000000000', 'files': ['tasks/ceph_preinstall_yum.yml', 'files/gpg/RPM-GPG-KEY-EPEL-8'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/d20744a658843496478dea46a738b727dd7827de', 'message': 'Add centos8 epel GPG key\n\nThis also fixes EPEL url for CentOS 8\n\nChange-Id: Ic6dc92895d2b35a955424de9ace485e3a894aaf8\n(cherry picked from commit b0cde5f6953e3f084462601c2223fff26763dd27)\n'}]",0,744829,d20744a658843496478dea46a738b727dd7827de,8,3,1,25023,,,0,"Add centos8 epel GPG key

This also fixes EPEL url for CentOS 8

Change-Id: Ic6dc92895d2b35a955424de9ace485e3a894aaf8
(cherry picked from commit b0cde5f6953e3f084462601c2223fff26763dd27)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/29/744829/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceph_preinstall_yum.yml', 'files/gpg/RPM-GPG-KEY-EPEL-8']",2,d20744a658843496478dea46a738b727dd7827de,osa/el8-stable/ussuri,-----BEGIN PGP PUBLIC KEY BLOCK----- mQINBFz3zvsBEADJOIIWllGudxnpvJnkxQz2CtoWI7godVnoclrdl83kVjqSQp+2 dgxuG5mUiADUfYHaRQzxKw8efuQnwxzU9kZ70ngCxtmbQWGmUmfSThiapOz00018 +eo5MFabd2vdiGo1y+51m2sRDpN8qdCaqXko65cyMuLXrojJHIuvRA/x7iqOrRfy a8x3OxC4PEgl5pgDnP8pVK0lLYncDEQCN76D9ubhZQWhISF/zJI+e806V71hzfyL /Mt3mQm/li+lRKU25Usk9dWaf4NH/wZHMIPAkVJ4uD4H/uS49wqWnyiTYGT7hUbi ecF7crhLCmlRzvJR8mkRP6/4T/F3tNDPWZeDNEDVFUkTFHNU6/h2+O398MNY/fOh yKaNK3nnE0g6QJ1dOH31lXHARlpFOtWt3VmZU0JnWLeYdvap4Eff9qTWZJhI7Cq0 Wm8DgLUpXgNlkmquvE7P2W5EAr2E5AqKQoDbfw/GiWdRvHWKeNGMRLnGI3QuoX3U pAlXD7v13VdZxNydvpeypbf/AfRyrHRKhkUj3cU1pYkM3DNZE77C5JUe6/0nxbt4 ETUZBTgLgYJGP8c7PbkVnO6I/KgL1jw+7MW6Az8Ox+RXZLyGMVmbW/TMc8haJfKL MoUo3TVk8nPiUhoOC0/kI7j9ilFrBxBU5dUtF4ITAWc8xnG6jJs/IsvRpQARAQAB tChGZWRvcmEgRVBFTCAoOCkgPGVwZWxAZmVkb3JhcHJvamVjdC5vcmc+iQI4BBMB AgAiBQJc9877AhsPBgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRAh6kWrL4bW oWagD/4xnLWws34GByVDQkjprk0fX7Iyhpm/U7BsIHKspHLL+Y46vAAGY/9vMvdE 0fcr9Ek2Zp7zE1RWmSCzzzUgTG6BFoTG1H4Fho/7Z8BXK/jybowXSZfqXnTOfhSF alwDdwlSJvfYNV9MbyvbxN8qZRU1z7PEWZrIzFDDToFRk0R71zHpnPTNIJ5/YXTw NqU9OxII8hMQj4ufF11040AJQZ7br3rzerlyBOB+Jd1zSPVrAPpeMyJppWFHSDAI WK6x+am13VIInXtqB/Cz4GBHLFK5d2/IYspVw47Solj8jiFEtnAq6+1Aq5WH3iB4 bE2e6z00DSF93frwOyWN7WmPIoc2QsNRJhgfJC+isGQAwwq8xAbHEBeuyMG8GZjz xohg0H4bOSEujVLTjH1xbAG4DnhWO/1VXLX+LXELycO8ZQTcjj/4AQKuo4wvMPrv 9A169oETG+VwQlNd74VBPGCvhnzwGXNbTK/KH1+WRH0YSb+41flB3NKhMSU6dGI0 SGtIxDSHhVVNmx2/6XiT9U/znrZsG5Kw8nIbbFz+9MGUUWgJMsd1Zl9R8gz7V9fp n7L7y5LhJ8HOCMsY/Z7/7HUs+t/A1MI4g7Q5g5UuSZdgi0zxukiWuCkLeAiAP4y7 zKK4OjJ644NDcWCHa36znwVmkz3ixL8Q0auR15Oqq2BjR/fyog== =84m8 -----END PGP PUBLIC KEY BLOCK-----,,30,2
openstack%2Fneutron~master~I0aca119f1feca1d8f31a0104dde40d5d52c1b25c,openstack/neutron,master,I0aca119f1feca1d8f31a0104dde40d5d52c1b25c,Use ebtables-legacy on Ubuntu Focal,MERGED,2020-08-03 15:00:34.000000000,2020-08-05 16:29:09.000000000,2020-08-05 16:18:50.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-03 15:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb4abec97df450644a39a83028b31fcc411fb432', 'message': ""Use ebtables-legacy on Ubuntu Focal\n\nOn Ubuntu 20.04 there is by default ebtables-nft used. The problem with\nthat is that nftables don't supports syntax for source and destination\nipv4 address in arp tables right now.\nSo to workaround/fix this problem at least in our gate jobs we have to\nswitch to ebtables-legacy for now.\nAnd that's exactly what this patch is doing.\n\nChange-Id: I0aca119f1feca1d8f31a0104dde40d5d52c1b25c\nCloses-Bug: #1889779\n""}, {'number': 2, 'created': '2020-08-03 20:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7a725e3998ec0999693f51d9eeb0644337477a6', 'message': ""Use ebtables-legacy on Ubuntu Focal\n\nOn Ubuntu 20.04 there is by default ebtables-nft used. The problem with\nthat is that nftables don't supports syntax for source and destination\nipv4 address in arp tables right now.\nSo to workaround/fix this problem at least in our gate jobs we have to\nswitch to ebtables-legacy for now.\nAnd that's exactly what this patch is doing.\n\nChange-Id: I0aca119f1feca1d8f31a0104dde40d5d52c1b25c\nCloses-Bug: #1889779\n""}, {'number': 3, 'created': '2020-08-04 10:57:40.000000000', 'files': ['roles/legacy_ebtables/tasks/main.yaml', 'playbooks/configure_ebtables.yaml', 'zuul.d/tempest-singlenode.yaml', 'playbooks/configure_functional_job.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/31a95c085fc1a5ce8a57ff834386b022ae087e24', 'message': ""Use ebtables-legacy on Ubuntu Focal\n\nOn Ubuntu 20.04 there is by default ebtables-nft used. The problem with\nthat is that nftables don't supports syntax for source and destination\nipv4 address in arp tables right now.\nSo to workaround/fix this problem at least in our gate jobs we have to\nswitch to ebtables-legacy for now.\nAnd that's exactly what this patch is doing.\n\nChange-Id: I0aca119f1feca1d8f31a0104dde40d5d52c1b25c\nCloses-Bug: #1889779\n""}]",1,744500,31a95c085fc1a5ce8a57ff834386b022ae087e24,25,7,3,11975,,,0,"Use ebtables-legacy on Ubuntu Focal

On Ubuntu 20.04 there is by default ebtables-nft used. The problem with
that is that nftables don't supports syntax for source and destination
ipv4 address in arp tables right now.
So to workaround/fix this problem at least in our gate jobs we have to
switch to ebtables-legacy for now.
And that's exactly what this patch is doing.

Change-Id: I0aca119f1feca1d8f31a0104dde40d5d52c1b25c
Closes-Bug: #1889779
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/744500/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/legacy_ebtables/tasks/main.yaml', 'playbooks/configure_ebtables.yaml', 'zuul.d/tempest-singlenode.yaml', 'playbooks/configure_functional_job.yaml']",4,eb4abec97df450644a39a83028b31fcc411fb432,bug/1889779, # TODO(slaweq): remove it when nftables will support syntax for src and # destination IP addresses in arp tables: - legacy_ebtables,,19,0
openstack%2Fovn-octavia-provider~stable%2Fussuri~I0611c41b472e2d3c02f50e5569088471a3419314,openstack/ovn-octavia-provider,stable/ussuri,I0611c41b472e2d3c02f50e5569088471a3419314,Omit tests directory while couting the coverage report,MERGED,2020-08-03 10:21:45.000000000,2020-08-05 16:10:57.000000000,2020-08-05 16:06:14.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 10:21:45.000000000', 'files': ['.coveragerc', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/73030c5c7bf07d1e44b4612c2935ac034e433b83', 'message': 'Omit tests directory while couting the coverage report\n\nWe forgot to omit tests directory.\nBy side-effect of it we can increase the coverage to 90% :D\n\nChange-Id: I0611c41b472e2d3c02f50e5569088471a3419314\n(cherry picked from commit 2da9f3df10c22d1fc5590fb30736d55287dbf21c)\n'}]",0,744445,73030c5c7bf07d1e44b4612c2935ac034e433b83,10,3,1,24791,,,0,"Omit tests directory while couting the coverage report

We forgot to omit tests directory.
By side-effect of it we can increase the coverage to 90% :D

Change-Id: I0611c41b472e2d3c02f50e5569088471a3419314
(cherry picked from commit 2da9f3df10c22d1fc5590fb30736d55287dbf21c)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/45/744445/1 && git format-patch -1 --stdout FETCH_HEAD,"['.coveragerc', 'tox.ini']",2,73030c5c7bf07d1e44b4612c2935ac034e433b83,, coverage report --fail-under=90 --skip-covered, coverage report --fail-under=79 --skip-covered,8,1
openstack%2Fovn-octavia-provider~stable%2Fussuri~If7c22a690e26d27941684ff910dc83ff471cd28d,openstack/ovn-octavia-provider,stable/ussuri,If7c22a690e26d27941684ff910dc83ff471cd28d,Add installation of octavia-tempest-plugin to sample local.conf,MERGED,2020-08-03 10:21:45.000000000,2020-08-05 16:08:32.000000000,2020-08-05 16:06:13.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 10:21:45.000000000', 'files': ['devstack/local.conf.sample'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1fe836998bee6f8755d29f738c0cd1e5eefb2fab', 'message': ""Add installation of octavia-tempest-plugin to sample local.conf\n\nWe don't run neutron-tempest-plugin tests, so just change\nneutron-tempest-plugin tests to octavia-tempest-plugin.\n\nChange-Id: If7c22a690e26d27941684ff910dc83ff471cd28d\n(cherry picked from commit 65c25a4006d5c1e0e50b8d45b1d4052355282a49)\n""}]",0,744444,1fe836998bee6f8755d29f738c0cd1e5eefb2fab,10,3,1,24791,,,0,"Add installation of octavia-tempest-plugin to sample local.conf

We don't run neutron-tempest-plugin tests, so just change
neutron-tempest-plugin tests to octavia-tempest-plugin.

Change-Id: If7c22a690e26d27941684ff910dc83ff471cd28d
(cherry picked from commit 65c25a4006d5c1e0e50b8d45b1d4052355282a49)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/44/744444/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.sample'],1,1fe836998bee6f8755d29f738c0cd1e5eefb2fab,,# Enable octavia tempest plugin tests enable_plugin octavia-tempest-plugin https://opendev.org/openstack/octavia-tempest-plugin,# Enable neutron tempest plugin tests enable_plugin neutron-tempest-plugin https://opendev.org/openstack/neutron-tempest-plugin,2,2
openstack%2Fopenstack-helm~master~Ice2124f92a36d545726243fff60db25fbb2ea9c0,openstack/openstack-helm,master,Ice2124f92a36d545726243fff60db25fbb2ea9c0,fix(horizon and neutron): adds tls to test pod,MERGED,2020-08-04 13:56:45.000000000,2020-08-05 16:04:43.000000000,2020-08-05 16:02:50.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30495}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-04 13:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33572dcc20ff476fb15b0347772916fe6b43da09', 'message': 'fix(horizon): adds tls to test pod\n\nThis patch set puts in the missing certificates to the test-pod.\n\nChange-Id: Ice2124f92a36d545726243fff60db25fbb2ea9c0\n'}, {'number': 2, 'created': '2020-08-04 14:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6ee90176f3ebec43deda825fb1c4d74e052fcd0', 'message': 'fix(horizon): adds tls to test pod\n\nThis patch set puts in the missing certificates to the test-pod.\n\nChange-Id: Ice2124f92a36d545726243fff60db25fbb2ea9c0\n'}, {'number': 3, 'created': '2020-08-04 17:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f62c2f12f1bf4cb1dc71ff23171595a1351bcb78', 'message': 'fix(horizon): adds tls to test pod\n\nThis patch set puts in the missing certificates to the test-pod.\n\nChange-Id: Ice2124f92a36d545726243fff60db25fbb2ea9c0\n'}, {'number': 4, 'created': '2020-08-04 19:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ede970f0172fb6ad1204fecc90d08ee7cd5373b', 'message': 'fix(horizon and neutron): adds tls to test pod\n\nThis patch set puts in the missing certificates to the test-pod.\nIt also corrects the path of sriov_agent.ini file\n\nChange-Id: Ice2124f92a36d545726243fff60db25fbb2ea9c0\n'}, {'number': 5, 'created': '2020-08-04 20:56:45.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'horizon/templates/deployment.yaml', 'horizon/templates/pod-helm-tests.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7956310ead2b27d89852444af80ed3b64e76475d', 'message': 'fix(horizon and neutron): adds tls to test pod\n\nThis patch set puts in the missing certificates to the test-pod.\nIt also corrects the path of sriov_agent.ini file\n\nChange-Id: Ice2124f92a36d545726243fff60db25fbb2ea9c0\n'}]",0,744715,7956310ead2b27d89852444af80ed3b64e76475d,27,8,5,20466,,,0,"fix(horizon and neutron): adds tls to test pod

This patch set puts in the missing certificates to the test-pod.
It also corrects the path of sriov_agent.ini file

Change-Id: Ice2124f92a36d545726243fff60db25fbb2ea9c0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/744715/2 && git format-patch -1 --stdout FETCH_HEAD,['horizon/templates/pod-helm-tests.yaml'],1,33572dcc20ff476fb15b0347772916fe6b43da09,fix/horizon,"{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin ""useCA"" .Values.manifests.certificates }}{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" .Values.secrets.tls.dashboard.dashboard.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}{{- dict ""enabled"" $envAll.Values.manifests.certificates ""name"" .Values.secrets.tls.dashboard.dashboard.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 4 }}","{{- with $env := dict ""ksUserSecret"" .Values.secrets.identity.admin }}",3,1
openstack%2Fovn-octavia-provider~stable%2Fussuri~I0ac14de29ff92416f103c880bcdc28dd76e00865,openstack/ovn-octavia-provider,stable/ussuri,I0ac14de29ff92416f103c880bcdc28dd76e00865,Fix member_batch_update function to follow api v2,MERGED,2020-08-03 10:21:45.000000000,2020-08-05 16:02:29.000000000,2020-08-05 15:58:58.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 10:21:45.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/13dd5b49b8bcf24463219554638f8d9bf75cf847', 'message': 'Fix member_batch_update function to follow api v2\n\nThe member_batch_update function signature was missing\npool_id parameter. [1]\n\n[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html\n\nChange-Id: I0ac14de29ff92416f103c880bcdc28dd76e00865\nCloses-Bug: 1888489\n(cherry picked from commit 57dbca6c5e24f65b5579e7136f1db12e02ea6f93)\n'}]",0,744443,13dd5b49b8bcf24463219554638f8d9bf75cf847,10,3,1,24791,,,0,"Fix member_batch_update function to follow api v2

The member_batch_update function signature was missing
pool_id parameter. [1]

[1] https://docs.openstack.org/octavia/latest/contributor/guides/providers.html

Change-Id: I0ac14de29ff92416f103c880bcdc28dd76e00865
Closes-Bug: 1888489
(cherry picked from commit 57dbca6c5e24f65b5579e7136f1db12e02ea6f93)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/43/744443/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,13dd5b49b8bcf24463219554638f8d9bf75cf847,," def member_batch_update(self, pool_id, members):"," def member_batch_update(self, members): # Note(rbanerje): all members belong to the same pool. pool_id = None try: pool_id = members[0].pool_id except IndexError: msg = (_('No member information has been passed')) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) except AttributeError: msg = (_('Member does not have proper pool information')) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",9,28
openstack%2Fovn-octavia-provider~stable%2Fussuri~I18ccbe1a6f0896ff51440a245acd979321fce3bb,openstack/ovn-octavia-provider,stable/ussuri,I18ccbe1a6f0896ff51440a245acd979321fce3bb,Set the CONF.load_balancer.enabled_provider_drivers tempest conf,MERGED,2020-07-28 09:34:54.000000000,2020-08-05 16:00:55.000000000,2020-08-05 15:54:58.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 09:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/46728e49ed63050b823d728b2ce2ba1b7038d1e9', 'message': 'Set the CONF.load_balancer.enabled_provider_drivers tempest conf\n\nWithout this config the tempest API test\noctavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list\nfails.\n\nChange-Id: I18ccbe1a6f0896ff51440a245acd979321fce3bb\n(cherry picked from commit c287fda67bb3509b2428c1d5f30e805c1c1cecb6)\n'}, {'number': 2, 'created': '2020-08-03 10:18:01.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6486888f93991467c308970875d48459f8781757', 'message': 'Set the CONF.load_balancer.enabled_provider_drivers tempest conf\n\nWithout this config the tempest API test\noctavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list\nfails.\n\nChange-Id: I18ccbe1a6f0896ff51440a245acd979321fce3bb\n(cherry picked from commit c287fda67bb3509b2428c1d5f30e805c1c1cecb6)\n'}]",0,743491,6486888f93991467c308970875d48459f8781757,14,3,2,24791,,,0,"Set the CONF.load_balancer.enabled_provider_drivers tempest conf

Without this config the tempest API test
octavia_tempest_plugin.tests.api.v2.test_provider.ProviderAPITest.test_provider_list
fails.

Change-Id: I18ccbe1a6f0896ff51440a245acd979321fce3bb
(cherry picked from commit c287fda67bb3509b2428c1d5f30e805c1c1cecb6)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/91/743491/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,46728e49ed63050b823d728b2ce2ba1b7038d1e9,, enabled_provider_drivers: 'ovn:OVN provider driver',,1,0
openstack%2Fpbr~master~I30b93961773784f98755518c77313016cfe94acd,openstack/pbr,master,I30b93961773784f98755518c77313016cfe94acd,Fix python2.7 testing,ABANDONED,2020-08-05 15:36:23.000000000,2020-08-05 15:51:22.000000000,,[],"[{'number': 1, 'created': '2020-08-05 15:36:23.000000000', 'files': ['pbr/tests/test_packaging.py', 'tox.ini', 'py27-upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/pbr/commit/8dcb6648c0555762f6216aeba20f4c712e88d398', 'message': ""Fix python2.7 testing\n\nThis change creates a python27 specific upper constraints file, applies\nit to the tox py27 env, and then fixes a bug in virtualenv api usage\nresulting from newer virtualenv.\n\nIt is important we keep python27 testing for PBR because PBR is used as\na setuptools setup_requires package. These setup_requires packages are\ninstalled with easy_install and thus do not check python version support\n(like pip) and also cannot reliably control version (as with a cap). All\nof this means that in order to keep supporting existing users of PBR on\npython2.7 (like openstack's stable branches) we need to keep PBR running\non python2.7. Thankfully the only issues are test related and we can\naddress those without user impact.\n\nChange-Id: I30b93961773784f98755518c77313016cfe94acd\n""}]",0,744929,8dcb6648c0555762f6216aeba20f4c712e88d398,2,0,1,4146,,,0,"Fix python2.7 testing

This change creates a python27 specific upper constraints file, applies
it to the tox py27 env, and then fixes a bug in virtualenv api usage
resulting from newer virtualenv.

It is important we keep python27 testing for PBR because PBR is used as
a setuptools setup_requires package. These setup_requires packages are
installed with easy_install and thus do not check python version support
(like pip) and also cannot reliably control version (as with a cap). All
of this means that in order to keep supporting existing users of PBR on
python2.7 (like openstack's stable branches) we need to keep PBR running
on python2.7. Thankfully the only issues are test related and we can
address those without user impact.

Change-Id: I30b93961773784f98755518c77313016cfe94acd
",git fetch https://review.opendev.org/openstack/pbr refs/changes/29/744929/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_packaging.py', 'tox.ini', 'py27-upper-constraints.txt']",3,8dcb6648c0555762f6216aeba20f4c712e88d398,py27-testing,alabaster===0.7.12 appdirs===1.4.4 Babel===2.8.0 backports.functools-lru-cache===1.6.1 certifi===2020.6.20 chardet===3.0.4 cliff===2.18.0 cmd2===0.8.9 configparser===4.0.2 contextlib2===0.6.0.post1 coverage===5.2.1 distlib===0.3.1 docutils===0.16 enum34===1.1.10 extras===1.0.0 filelock===3.0.12 fixtures===3.0.0 flake8===2.6.2 funcsigs===1.0.2 future===0.18.2 hacking===1.1.0 idna===2.10 imagesize===1.2.0 importlib-metadata===1.7.0 importlib-resources===3.0.0 Jinja2===2.11.2 linecache2===1.0.0 MarkupSafe===1.1.1 mccabe===0.5.3 mock===3.0.5 packaging===20.4 pathlib2===2.3.5 prettytable===0.7.2 pycodestyle===2.0.0 pyflakes===1.2.3 Pygments===2.5.2 pyparsing===2.4.7 pyperclip===1.8.0 python-mimeparse===1.6.0 python-subunit===1.4.0 pytz===2020.1 PyYAML===5.3.1 requests===2.24.0 scandir===1.10.0 singledispatch===3.4.0.3 six===1.15.0 snowballstemmer===2.0.0 Sphinx===1.8.5 sphinxcontrib-websupport===1.1.2 stestr===2.6.0 stevedore===1.32.0 subprocess32===3.5.4 testrepository===0.0.20 testresources===2.0.1 testscenarios===0.5.0 testtools===2.4.0 traceback2===1.4.0 typing===3.7.4.3 unicodecsv===0.14.1 unittest2===1.1.0 urllib3===1.25.10 virtualenv===20.0.30 voluptuous===0.11.7 wcwidth===0.2.5 zipp===1.2.0 ,,71,1
openstack%2Fpbr~master~Iefb234c6cc2517bb8ab370319d8a69f5a4552f39,openstack/pbr,master,Iefb234c6cc2517bb8ab370319d8a69f5a4552f39,Drop py27 support and fix compatiblity with virtualenv 20.x+,ABANDONED,2020-08-04 21:46:51.000000000,2020-08-05 15:47:47.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 21:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b6a29e7063306632079ec53eb6c2c816e062d8f5', 'message': 'Fix compatiblity with virtualenv 20.x+\n\nThis major release has some breaking changes. The create_environment\nmethod has been removed and the recommended replacement is to call\nrun_cli.\n\nCloses-bug: #1890346\n\nChange-Id: Iefb234c6cc2517bb8ab370319d8a69f5a4552f39\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-04 21:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a3b190d24469beec944c0d21e33bf4976df0dcb5', 'message': 'Fix compatiblity with virtualenv 20.x+\n\nThis major release has some breaking changes. The create_environment\nmethod has been removed and the recommended replacement is to call\nrun_cli.\n\nThis also includes an update for the py27 tox target to use the ussuri\nversion of upper constraints. Upstream requirements stopped tracking\npy27 in the victoria release, so we either need to use the last stable\nversion, or maintain a local copy in-repo.\n\nCloses-bug: #1890346\n\nChange-Id: Iefb234c6cc2517bb8ab370319d8a69f5a4552f39\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-08-05 12:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/a18bc7b5357c0b029dcedf58fd0dfaedf164d927', 'message': 'Drop py27 support and fix compatiblity with virtualenv 20.x+\n\nThis major release of virtualenv has some breaking changes. The\ncreate_environment method has been removed and the recommended\nreplacement is to call\nrun_cli.\n\nThis also drops py27 support due to incompatibilities with the version\nof setuptools installed in the virtualenv causing runtime failures.\nPython 2.7 has been EOL for some time now, so I think the easiest and\nbest solution is to just drop it for now.\n\nCloses-bug: #1890346\n\nChange-Id: Iefb234c6cc2517bb8ab370319d8a69f5a4552f39\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-08-05 13:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/8b8bbf203adad45090393564f9b9a5940b19f4db', 'message': 'Drop py27 support and fix compatiblity with virtualenv 20.x+\n\nThis major release of virtualenv has some breaking changes. The\ncreate_environment method has been removed and the recommended\nreplacement is to call\nrun_cli.\n\nThis also drops py27 support due to incompatibilities with the version\nof setuptools installed in the virtualenv causing runtime failures.\nPython 2.7 has been EOL for some time now, so I think the easiest and\nbest solution is to just drop it for now.\n\nAlso make sure tox is available for running our integration script.\n\nCloses-bug: #1890346\n\nChange-Id: Iefb234c6cc2517bb8ab370319d8a69f5a4552f39\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2020-08-05 13:58:04.000000000', 'files': ['tools/integration.sh', 'test-requirements.txt', 'releasenotes/notes/drop-py27-support-7b53bde872895916.yaml', 'pbr/tests/test_packaging.py', 'playbooks/legacy/pre.yaml', '.zuul.yaml', 'doc/requirements.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pbr/commit/1316ab0f0584061f9af9cb66c589e3d2a1788a56', 'message': 'Drop py27 support and fix compatiblity with virtualenv 20.x+\n\nThis major release of virtualenv has some breaking changes. The\ncreate_environment method has been removed and the recommended\nreplacement is to call\nrun_cli.\n\nThis also drops py27 support due to incompatibilities with the version\nof setuptools installed in the virtualenv causing runtime failures.\nPython 2.7 has been EOL for some time now, so I think the easiest and\nbest solution is to just drop it for now.\n\nAlso make sure tox is available for running our integration script.\n\nUses ussuri upper-constraints for py35 testing. Ussuri was the last\nrelease to track py35 versions of packages, so we either need to use\nstable constraints, or locally track compatible upper constraints\nin-repo.\n\nCloses-bug: #1890346\n\nChange-Id: Iefb234c6cc2517bb8ab370319d8a69f5a4552f39\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,744793,1316ab0f0584061f9af9cb66c589e3d2a1788a56,9,2,5,11904,,,0,"Drop py27 support and fix compatiblity with virtualenv 20.x+

This major release of virtualenv has some breaking changes. The
create_environment method has been removed and the recommended
replacement is to call
run_cli.

This also drops py27 support due to incompatibilities with the version
of setuptools installed in the virtualenv causing runtime failures.
Python 2.7 has been EOL for some time now, so I think the easiest and
best solution is to just drop it for now.

Also make sure tox is available for running our integration script.

Uses ussuri upper-constraints for py35 testing. Ussuri was the last
release to track py35 versions of packages, so we either need to use
stable constraints, or locally track compatible upper constraints
in-repo.

Closes-bug: #1890346

Change-Id: Iefb234c6cc2517bb8ab370319d8a69f5a4552f39
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/pbr refs/changes/93/744793/2 && git format-patch -1 --stdout FETCH_HEAD,['pbr/tests/test_packaging.py'],1,b6a29e7063306632079ec53eb6c2c816e062d8f5,bug/1890346," try: virtualenv.create_environment(path, clear=True) except AttributeError: # virtualenv 20 and later dropped create_environment and recommend # using run_cli virtualenv.cli_run([path, '--clear'])"," virtualenv.create_environment(path, clear=True)",6,1
openstack%2Frequirements~master~I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5,openstack/requirements,master,I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5,Updated from generate-constraints,ABANDONED,2020-07-28 06:30:10.000000000,2020-08-05 15:36:58.000000000,,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-28 06:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/2337aed3e74b51687f42148923b491fe0a757d25', 'message': 'Updated from generate-constraints\n\nChange-Id: I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5\n'}, {'number': 2, 'created': '2020-07-29 06:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a4b2aed80137dd63eff32651799f7698a9d3622e', 'message': 'Updated from generate-constraints\n\nChange-Id: I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5\n'}, {'number': 3, 'created': '2020-07-30 06:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/398a926d8e52a4d9b1377566a1a1f2604b2ef170', 'message': 'Updated from generate-constraints\n\nChange-Id: I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5\n'}, {'number': 4, 'created': '2020-07-31 06:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/af52a93dbd34886ceebbbc6ab28b970619238c21', 'message': 'Updated from generate-constraints\n\nChange-Id: I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5\n'}, {'number': 5, 'created': '2020-07-31 09:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3fe7380fbc1393cb6f2c070cb671ab2076092c48', 'message': 'Updated from generate-constraints\n\nChange-Id: I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5\n'}, {'number': 6, 'created': '2020-07-31 15:53:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/61384c91c36a240978ffb06ec77ead11dfdca091', 'message': 'Updated from generate-constraints\n\npymysql held back for keystone issues.\n\nChange-Id: I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5\n'}]",0,743463,61384c91c36a240978ffb06ec77ead11dfdca091,29,3,6,11131,,,0,"Updated from generate-constraints

pymysql held back for keystone issues.

Change-Id: I1ad04d2a9e2aa35cf9d90e00d4137c34a62fb6d5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/743463/6 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,2337aed3e74b51687f42148923b491fe0a757d25,openstack/requirements/constraints/noclob,mock===4.0.2python-binary-memcached===0.29.0pytest-xdist===1.34.0docutils===0.16boto3===1.14.29msgpack===1.0.0PyMySQL===0.10.0 uhashring===1.2botocore===1.17.29pkg-resources===0.0.0pytest-forked===1.3.0,mock===3.0.5pytest-xdist===1.33.0docutils===0.15.2boto3===1.14.28msgpack===0.6.1PyMySQL===0.9.3botocore===1.17.28python-binary-memcached===0.29.0 uhashring===1.2pytest-forked===1.2.0,11,10
openstack%2Fproject-config~master~I0203cb0204a809dafbb0e8b33766267fff0c6598,openstack/project-config,master,I0203cb0204a809dafbb0e8b33766267fff0c6598,Add openstack/barbican in required project list of vexxhost,MERGED,2020-08-05 14:04:51.000000000,2020-08-05 15:30:43.000000000,2020-08-05 15:15:33.000000000,"[{'_account_id': 1004}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 14:04:51.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d390359690a73aea2e8e4c3f0d496b872beb1298', 'message': 'Add openstack/barbican in required project list of vexxhost\n\nTo implement barbican in openstack-operator\nNeeded-By: opendev.org/vexxhost/openstack-operator\n\nChange-Id: I0203cb0204a809dafbb0e8b33766267fff0c6598\n'}]",0,744909,d390359690a73aea2e8e4c3f0d496b872beb1298,8,3,1,31746,,,0,"Add openstack/barbican in required project list of vexxhost

To implement barbican in openstack-operator
Needed-By: opendev.org/vexxhost/openstack-operator

Change-Id: I0203cb0204a809dafbb0e8b33766267fff0c6598
",git fetch https://review.opendev.org/openstack/project-config refs/changes/09/744909/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,d390359690a73aea2e8e4c3f0d496b872beb1298,, - openstack/barbican,,1,0
openstack%2Fplacement~master~Ie1cd1286797d89b50ead8e4ca87d5c4862b7524b,openstack/placement,master,Ie1cd1286797d89b50ead8e4ca87d5c4862b7524b,Update perfload jobs for python3,MERGED,2020-08-04 22:37:40.000000000,2020-08-05 15:14:01.000000000,2020-08-05 15:04:05.000000000,"[{'_account_id': 4690}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-08-04 22:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bb815fa306c32b1e44e649d54062671e5c5f6f87', 'message': 'Update perfload jobs for python3\n\nChange-Id: Ie1cd1286797d89b50ead8e4ca87d5c4862b7524b\n'}, {'number': 2, 'created': '2020-08-05 01:54:08.000000000', 'files': ['gate/perfload-server.sh', 'gate/perfload-nested-runner.sh', 'gate/perfload-runner.sh'], 'web_link': 'https://opendev.org/openstack/placement/commit/4b95c078cc75987979a96bceafce152d6153adcf', 'message': 'Update perfload jobs for python3\n\nChange-Id: Ie1cd1286797d89b50ead8e4ca87d5c4862b7524b\n'}]",1,744797,4b95c078cc75987979a96bceafce152d6153adcf,16,4,2,4690,,,0,"Update perfload jobs for python3

Change-Id: Ie1cd1286797d89b50ead8e4ca87d5c4862b7524b
",git fetch https://review.opendev.org/openstack/placement refs/changes/97/744797/1 && git format-patch -1 --stdout FETCH_HEAD,"['gate/perfload-server.sh', 'gate/perfload-nested-runner.sh', 'gate/perfload-runner.sh']",3,bb815fa306c32b1e44e649d54062671e5c5f6f87,fix-perfload-jobs, python3 -m venv .placeload, python -m virtualenv -p python3 .placeload,5,5
openstack%2Fcookbook-openstack-ops-database~master~Ic3442522e8f6e02244e653017b6d161a96412425,openstack/cookbook-openstack-ops-database,master,Ic3442522e8f6e02244e653017b6d161a96412425,fix mariadb galera config,MERGED,2020-08-05 10:26:57.000000000,2020-08-05 15:10:50.000000000,2020-08-05 15:10:50.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 10:26:57.000000000', 'files': ['recipes/mariadb-cluster-server.rb', 'spec/mariadb-cluster-server_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/75e4ccfae2a002987cdddd0cf2659f35b78c598e', 'message': 'fix mariadb galera config\n\n- the mariadb config looks for the first address on the wsrep_node_address_interface\n  this will lead to missconfigurations when using virtual IPs - drop it\n- mariadb uses when wsrep_node_incoming_address not defined bind-address\n  or wsrep-node-address in that order. Since bind-address has to be\n  defined by our cookbook logic, the drop of\n  wsrep_node_address_interface is no problem\n\nChange-Id: Ic3442522e8f6e02244e653017b6d161a96412425\n'}]",0,744878,75e4ccfae2a002987cdddd0cf2659f35b78c598e,9,2,1,19193,,,0,"fix mariadb galera config

- the mariadb config looks for the first address on the wsrep_node_address_interface
  this will lead to missconfigurations when using virtual IPs - drop it
- mariadb uses when wsrep_node_incoming_address not defined bind-address
  or wsrep-node-address in that order. Since bind-address has to be
  defined by our cookbook logic, the drop of
  wsrep_node_address_interface is no problem

Change-Id: Ic3442522e8f6e02244e653017b6d161a96412425
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/78/744878/1 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/mariadb-cluster-server.rb', 'spec/mariadb-cluster-server_spec.rb']",2,75e4ccfae2a002987cdddd0cf2659f35b78c598e,fix_mariadb_conf,," wsrep_node_address_interface: 'lo',",0,2
openstack%2Fnova~master~Iae93f0631d77794f093fd330e849d2fd805b238f,openstack/nova,master,Iae93f0631d77794f093fd330e849d2fd805b238f,Fix lower-constraints conflicts,MERGED,2020-08-03 15:09:47.000000000,2020-08-05 15:00:23.000000000,2020-08-05 05:56:58.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-08-03 15:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d74c8849a7595f6376ab8691abb2c37cbd28fe3', 'message': 'Fix lower-constraints conflicts\n\nSeveral version specified in our lower-constraints files had conflicting\ndependencies. This updates a few packages to avoid those conflicts. It\nalso removes the linters that are tracked in the global requirements\nblocklist since we do not need to enforce lower-constraints for linters.\n\nChange-Id: Iae93f0631d77794f093fd330e849d2fd805b238f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-08-03 18:12:55.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/274cc3d7f4d9aa15d03bb48f77c3b7d7eabccead', 'message': 'Fix lower-constraints conflicts\n\nSeveral version specified in our lower-constraints files had conflicting\ndependencies. This updates a few packages to avoid those conflicts. It\nalso removes the linters that are tracked in the global requirements\nblocklist since we do not need to enforce lower-constraints for linters.\n\nChange-Id: Iae93f0631d77794f093fd330e849d2fd805b238f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,744506,274cc3d7f4d9aa15d03bb48f77c3b7d7eabccead,50,14,2,11904,,,0,"Fix lower-constraints conflicts

Several version specified in our lower-constraints files had conflicting
dependencies. This updates a few packages to avoid those conflicts. It
also removes the linters that are tracked in the global requirements
blocklist since we do not need to enforce lower-constraints for linters.

Change-Id: Iae93f0631d77794f093fd330e849d2fd805b238f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/744506/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,6d74c8849a7595f6376ab8691abb2c37cbd28fe3,lower-constraints,amqp==2.5.0decorator==4.1.0eventlet==0.22.0kombu==4.6.1networkx==2.1.0os-brick==3.1.0os-win==4.2.0 os-xenapi==0.3.4oslo.context==2.22.0python-ironicclient==3.0.0six==1.11.0stestr==2.0.0taskflow==3.8.0tenacity==6.0.0warlock==1.3.1,amqp==2.2.2decorator==3.4.0enum34==1.0.4eventlet==0.21.0flake8==3.6.0hacking==2.0kombu==4.1.0mccabe==0.6.0networkx==1.11os-brick==3.0.1os-win==3.0.0 os-xenapi==0.3.3oslo.context==2.21.0pyflakes==2.0.0 pycodestyle==2.4.0python-ironicclient==2.7.0six==1.10.0stestr==1.0.0taskflow==2.16.0tenacity==4.9.0warlock==1.2.0,15,21
openstack%2Fcharm-gnocchi~master~I9327345b70d682948dfe2e7f8e67c0f5b00cebbb,openstack/charm-gnocchi,master,I9327345b70d682948dfe2e7f8e67c0f5b00cebbb,Improve README,MERGED,2020-08-04 16:18:56.000000000,2020-08-05 14:54:18.000000000,2020-08-05 14:54:18.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-04 16:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/7b8e8dd9b8a01ae74759951ff0fffc02c8bc4904', 'message': 'Improve README\n\nImprove existing instructions and wording.\n\nApply README template.\n\nChange-Id: I9327345b70d682948dfe2e7f8e67c0f5b00cebbb\n'}, {'number': 2, 'created': '2020-08-04 16:48:12.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/074527a30378337eb504d3682dc224291469a2da', 'message': 'Improve README\n\nImprove existing instructions and wording.\n\nApply README template.\n\nChange-Id: I9327345b70d682948dfe2e7f8e67c0f5b00cebbb\n'}]",1,744748,074527a30378337eb504d3682dc224291469a2da,11,4,2,30561,,,0,"Improve README

Improve existing instructions and wording.

Apply README template.

Change-Id: I9327345b70d682948dfe2e7f8e67c0f5b00cebbb
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/48/744748/2 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,7b8e8dd9b8a01ae74759951ff0fffc02c8bc4904,improve-readme,"[Gnocchi][gnocchi-upstream] is an open-source, multi-tenant timeseries, metrics, and resources database. It provides an HTTP REST interface to create and manipulate the data. It is designed to store metrics at a very large scale while providing access to metrics and resources information and history.## Configuration See file `config.yaml` for the full list of configuration options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. ## Deployment for Ceilometer, the telemetry collection service. To deploy Gnocchi to an existing OpenStack cloud (which already includes Ceilometer): juju add-relation gnocchi:shared-db percona-cluster:shared-db juju add-relation gnocchi:coordinator-memcached memcached:cache juju add-relation gnocchi:identity-service keystone:identity-service juju add-relation gnocchi:storage-ceph ceph-mon:client juju add-relation gnocchi:metric-service ceilometer:metric-service The Gnocchi API should now be used to service information queries. As such, once re-configuration caused by the above relations has settled, the Ceilometer API will be disabled. Gnocchi then needs to be initialised with the current Ceilometer data: juju run-action --wait ceilometer/leader ceilometer-upgrade ## S3 storage backend support The gnocchi charm by default uses Ceph as a storage backend (the default value of option `storage-backend` is 'ceph') but it also has support for S3 storage. > **Note**: S3 storage support is available starting with OpenStack Stein. To configure Gnocchi to use S3 the following configuration options must be set accordingly: * `storage-backend` * `s3-region-name` * `s3-endpoint-url` * `s3-access-key-id` * `s3-secret-access-key` See file `config.yaml` for more details on the above options. ## Policy overrides Policy overrides is an advanced feature that allows an operator to override the default policy of an OpenStack service. The policies that the service supports, the defaults it implements in its code, and the defaults that a charm may include should all be clearly understood before proceeding.# Bugs Please report bugs on [Launchpad][lp-bugs-charm-gnocchi]. For general charm questions refer to the [OpenStack Charm Guide][cg]. [cg]: https://docs.openstack.org/charm-guide[juju-docs-config-apps]: https://juju.is/docs/configuring-applications [lp-bugs-charm-gnocchi]: https://bugs.launchpad.net/charm-gnocchi/+filebug [gnocchi-upstream]: https://wiki.openstack.org/wiki/Gnocchi","Gnocchi is an open-source, multi-tenant timeseries, metrics and resources database. It provides an HTTP REST interface to create and manipulate the data. It is designed to store metrics at a very large scale while providing access to metrics and resources information and history.for Ceilometer, the telemetry collection service; To deploy Gnocchi to an existing OpenStack cloud (which includes ceilometer): juju add-relation gnocchi mysql juju add-relation gnocchi memcached juju add-relation gnocchi keystone juju add-relation gnocchi ceph-mon juju add-relation gnocchi ceilometer After re-configuration the Ceilometer API will be disabled - the Gnocchi REST API should be used to query information on resource, metrics and associated measures. Gnocchi then needs to be initialized with the current ceilometer data: juju run-action <ceilometer unit leader> ceilometer-upgrade # Usage with S3 storage backend > **Note**: S3 storage support for Gnocchi is available starting with OpenStack Stein. Gnocchi is configured to be deployed by default with Ceph, however, it can also connect to an S3 storage backend. To configure Gnocchi with S3, configuration options (`storage-backend`, `s3-region-name`, `s3-endpoint-url`, `s3-access-key-id` and `s3-secret-access-key`) must be provided. Please take a look at `config.yaml` for more details. ## Policy Overrides Policy overrides is an **advanced** feature that allows an operator to override the default policy of an OpenStack service. The policies that the service supports, the defaults it implements in its code, and the defaults that a charm may include should all be clearly understood before proceeding.",54,29
openstack%2Fopenstack-helm-infra~master~I2eb6ff2a599ee7bc479f9fc4955016b18902c879,openstack/openstack-helm-infra,master,I2eb6ff2a599ee7bc479f9fc4955016b18902c879,Fluentd: Allow for Multiple Config Files,MERGED,2020-07-27 13:58:23.000000000,2020-08-05 14:51:40.000000000,2020-08-05 14:48:13.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 13:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af4627740802778154b5cdfbd9458704e5753cd8', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 2, 'created': '2020-07-29 16:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7280f38523d7d408dc70c860d5c5b5984a84afb', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 3, 'created': '2020-07-30 14:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2fc97044c374dbde6bd57242cae69aebab0cdca9', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 4, 'created': '2020-07-30 18:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0262ae5c91373e4913f4bd00e182f70603bc1c9b', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 5, 'created': '2020-07-30 19:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/df3af8465c5177a340e007d7e837af4f93997f2f', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 6, 'created': '2020-07-31 13:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3e47d8d78d555197ab8b2191f7e29ef69775c67', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 7, 'created': '2020-08-03 13:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f23f43bc86663bcb692cfe9ca4d0933e75a550dd', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 8, 'created': '2020-08-04 12:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3b347a09e9a5be45b75e33bc19ebd83091abedc4', 'message': '[WIP] Fluentd: Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 9, 'created': '2020-08-04 13:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7cb7b140f63a1bd2e74d0ca225f2d2032599592d', 'message': 'Fluentd: Allow for Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 10, 'created': '2020-08-04 20:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/07481d4e2ff88779eaa04743b3fb815f94654b08', 'message': 'Fluentd: Allow for Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}, {'number': 11, 'created': '2020-08-04 20:14:09.000000000', 'files': ['fluentd/templates/daemonset.yaml', 'fluentd/values.yaml', 'fluentd/templates/bin/_fluentd.sh.tpl', 'fluentd/templates/configmap-etc.yaml', 'tools/deployment/common/fluentd.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e73195bc2443c202d30869eaa88058185ee5334', 'message': 'Fluentd: Allow for Multiple Config Files\n\nChange-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879\n'}]",0,743234,4e73195bc2443c202d30869eaa88058185ee5334,26,3,11,30777,,,0,"Fluentd: Allow for Multiple Config Files

Change-Id: I2eb6ff2a599ee7bc479f9fc4955016b18902c879
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/743234/2 && git format-patch -1 --stdout FETCH_HEAD,"['fluentd/values.yaml', 'fluentd/templates/deployment-fluentd.yaml', 'fluentd/templates/configmap-etc.yaml']",3,af4627740802778154b5cdfbd9458704e5753cd8,,"{{- define ""fluentd_main"" }} {{- $path := .Values.conf.fluentd.path}} {{- range $name, $conf := .Values.conf.fluentd }} {{ printf ""%s %s/%s.conf"" ""@include"" $path $name | indent 4}} {{- end }} {{- end }} {{ $envAll := .}} main.conf: | {{- template ""fluentd_main"" . }} {{- range $name, $config := .Values.conf.fluentd }} {{- $valuePath := printf ""%s.%s"" "".Values.conf.fluentd"" $name }} {{- $filename := printf ""%s.conf"" $name}} {{- include ""helm-toolkit.snippets.values_template_renderer"" (dict ""envAll"" $envAll ""template"" $config ""key"" $filename ""format"" ""Secret"") | indent 2 }} {{- end }}","{{- $envAll := . }}{{- include ""helm-toolkit.snippets.values_template_renderer"" (dict ""envAll"" $envAll ""template"" .Values.conf.fluentd.template ""key"" ""fluent.conf"" ""format"" ""Secret"") | indent 2 }}",41,235
openstack%2Ftempest~master~I03073ee46cbcfadf9b515ad2fad54451cb4f8cc4,openstack/tempest,master,I03073ee46cbcfadf9b515ad2fad54451cb4f8cc4,Image sharing tests fails as default visibility is changed to 'private',ABANDONED,2019-01-13 09:02:53.000000000,2020-08-05 14:50:54.000000000,,"[{'_account_id': 1921}, {'_account_id': 5202}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 10385}, {'_account_id': 19138}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-01-13 09:02:53.000000000', 'files': ['tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/edc5610b70ba3d8a0a4d7209eed7a508f538bf19', 'message': ""Image sharing tests fails as default visibility is changed to 'private'\n\nGlance is changing default visibility of image to 'private' [1] which is\ncausing failure of certain tempest tests.\n\nIn order to resolve it passed visibility='shared' explicitly while\ncreating the image.\n\n[1] https://review.openstack.org/#/c/628430/\n\nChange-Id: I03073ee46cbcfadf9b515ad2fad54451cb4f8cc4\nCloses-Bug: #1811560\n""}]",1,630495,edc5610b70ba3d8a0a4d7209eed7a508f538bf19,18,12,1,9303,,,0,"Image sharing tests fails as default visibility is changed to 'private'

Glance is changing default visibility of image to 'private' [1] which is
causing failure of certain tempest tests.

In order to resolve it passed visibility='shared' explicitly while
creating the image.

[1] https://review.openstack.org/#/c/628430/

Change-Id: I03073ee46cbcfadf9b515ad2fad54451cb4f8cc4
Closes-Bug: #1811560
",git fetch https://review.opendev.org/openstack/tempest refs/changes/95/630495/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py']",2,edc5610b70ba3d8a0a4d7209eed7a508f538bf19,bug/1811560," disk_format='raw', visibility='shared')", disk_format='raw'),4,2
openstack%2Fovsdbapp~stable%2Fstein~Ie1b3b162e18090ae1cc90998b5a41d74b9ef2876,openstack/ovsdbapp,stable/stein,Ie1b3b162e18090ae1cc90998b5a41d74b9ef2876,Update sphinx reqs to match global,MERGED,2020-07-30 14:18:50.000000000,2020-08-05 14:49:53.000000000,2020-08-05 14:49:53.000000000,"[{'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 14:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/dab76ce12ad5743eb206807bcfd1e9bb1b979bc3', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Ie1b3b162e18090ae1cc90998b5a41d74b9ef2876\nDepends-On: https://review.opendev.org/739469\n(cherry picked from commit dac170c8b496fb13bd5b58b83ed061aef0626510)\n'}, {'number': 2, 'created': '2020-08-03 14:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/816434fe32e57d80d5efc817a3bee0de1288fd99', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Ie1b3b162e18090ae1cc90998b5a41d74b9ef2876\nDepends-On: https://review.opendev.org/739469\n(cherry picked from commit dac170c8b496fb13bd5b58b83ed061aef0626510)\n'}, {'number': 3, 'created': '2020-08-03 14:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/4c7866aee2946ca892a5fbe2dc46a5c05c18f363', 'message': 'Update sphinx reqs to match global\n\nChange-Id: Ia3094ca6298ed198dd1baf5f95e859165a2fc210\n\nFix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Ie1b3b162e18090ae1cc90998b5a41d74b9ef2876\nDepends-On: https://review.opendev.org/739469\n(cherry picked from commit dac170c8b496fb13bd5b58b83ed061aef0626510)\n'}, {'number': 4, 'created': '2020-08-03 16:31:34.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/7c785866cf978dfaeb06afd0335acd8fbc21b459', 'message': 'Update sphinx reqs to match global\n\nI had to add the lower bound to get this to pass--\neven running check-requirements against the\nstable/stein requirements repo fails in the same way\nwithout it for some reason.\n\nChange-Id: Ia3094ca6298ed198dd1baf5f95e859165a2fc210\n\nFix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Ie1b3b162e18090ae1cc90998b5a41d74b9ef2876\nDepends-On: https://review.opendev.org/739469\n(cherry picked from commit dac170c8b496fb13bd5b58b83ed061aef0626510)\n'}]",0,743985,7c785866cf978dfaeb06afd0335acd8fbc21b459,16,3,4,5756,,,0,"Update sphinx reqs to match global

I had to add the lower bound to get this to pass--
even running check-requirements against the
stable/stein requirements repo fails in the same way
without it for some reason.

Change-Id: Ia3094ca6298ed198dd1baf5f95e859165a2fc210

Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.

Change-Id: Ie1b3b162e18090ae1cc90998b5a41d74b9ef2876
Depends-On: https://review.opendev.org/739469
(cherry picked from commit dac170c8b496fb13bd5b58b83ed061aef0626510)
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/85/743985/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,dab76ce12ad5743eb206807bcfd1e9bb1b979bc3,pep8-error-stable/ussuri-stable/train-stable/stein,isort==4.3.21,,2,0
openstack%2Fkolla-ansible~master~I165199fc98fb98f227f2a20284e1bab03ef65b5b,openstack/kolla-ansible,master,I165199fc98fb98f227f2a20284e1bab03ef65b5b,[docker] Added a new flag to disable default iptables rules,MERGED,2019-10-30 07:15:36.000000000,2020-08-05 14:46:58.000000000,2020-08-04 09:11:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27336}, {'_account_id': 28182}, {'_account_id': 30491}, {'_account_id': 30523}, {'_account_id': 32029}]","[{'number': 1, 'created': '2019-10-30 07:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bfb5826740f26c6964a8455e7ec47e22bdfb225', 'message': '[docker] Added a new flag docker_disable_default_iptables_rules\n\nDocker is manipulating iptables rules by default to provide network isolation,\nand this might cause problems if the host already has an iptables based\nfirewall. Setting this flag to yes will disable docker manipulating iptables.\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 2, 'created': '2019-10-30 08:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/615751a801f11d818065843d12a3dee4f202a654', 'message': '[docker] Added a new flag docker_disable_default_iptables_rules\n\nDocker is manipulating iptables rules by default to provide network isolation,\nand this might cause problems if the host already has an iptables based\nfirewall. Setting this flag to yes will disable docker manipulating iptables.\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 3, 'created': '2019-10-30 11:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1dac351031efbdcc261145cf7e459f7dc30e7044', 'message': '[docker] Added a new flag docker_disable_default_iptables_rules\n\nDocker is manipulating iptables rules by default to provide network isolation,\nand this might cause problems if the host already has an iptables based\nfirewall. Setting this flag to yes will disable docker manipulating iptables.\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 4, 'created': '2019-10-31 23:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25fb48f106051e5e463d73d98460536876581de6', 'message': '[docker] Added a new flag docker_disable_default_iptables_rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces the way to disable the iptables manipulation by\nputting ""iptables: false""[1] to daemon.json\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 5, 'created': '2019-10-31 23:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a82b744f09d026e847d07bac1f1fc839a060315', 'message': '[docker] Added a new flag docker_disable_default_iptables_rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces the way to disable the iptables manipulation by\nputting ""iptables: false""[1] to daemon.json\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 6, 'created': '2020-04-29 18:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e3fc0cf6dbf57fbcafccb29f88d524f7f71dea6', 'message': '[docker] Added a new flag docker_disable_default_iptables_rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces the way to disable the iptables manipulation by\nputting ""iptables: false""[1] to daemon.json\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 7, 'created': '2020-04-30 03:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a299ffe0c355252c34d2444b67289e47cbbdd03', 'message': '[docker] Added a new flag docker_disable_default_iptables_rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces the way to disable the iptables manipulation by\nputting ""iptables: false""[1] to daemon.json\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 8, 'created': '2020-05-14 19:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe2c9a5dcdd94cc4dec3c1c20ba40b3e3b44c833', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false""[1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default at\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 9, 'created': '2020-05-15 17:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc669d48c69134c50e11e4a153c461131ed1fb2a', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false""[1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default at\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 10, 'created': '2020-07-08 10:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/695357cd33e088f79e92cd18870feea4416c6494', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false""[1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default at\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 11, 'created': '2020-07-08 10:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/409e0e89e40c254c334d874c4647d77527f1ce8e', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false""[1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default at\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 12, 'created': '2020-07-27 09:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a10f0612993024291d5b20794049231181351f9a', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables-based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false"" [1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default in\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}, {'number': 13, 'created': '2020-07-27 09:09:49.000000000', 'files': ['releasenotes/notes/docker-disable-iptables-e9a248a0515f30a6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc7ce6cabe3c1379cd6871a699862cf89b727b75', 'message': '[docker] Added a new flag to disable default iptables rules\n\nDocker is manipulating iptables rules by default to provide network\nisolation, and this might cause problems if the host already has an\niptables-based firewall.\n\nThis change introduces docker_disable_default_iptables_rules to\ndisable the iptables manipulation by putting ""iptables: false"" [1] to\ndaemon.json\n\nFor better defaults, this feature will be enabled by default in\nVictoria.\n\n[1] https://docs.docker.com/network/iptables/\n\nCloses-Bug: #1849275\n\nChange-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b\n'}]",22,692052,fc7ce6cabe3c1379cd6871a699862cf89b727b75,67,11,13,30523,,,0,"[docker] Added a new flag to disable default iptables rules

Docker is manipulating iptables rules by default to provide network
isolation, and this might cause problems if the host already has an
iptables-based firewall.

This change introduces docker_disable_default_iptables_rules to
disable the iptables manipulation by putting ""iptables: false"" [1] to
daemon.json

For better defaults, this feature will be enabled by default in
Victoria.

[1] https://docs.docker.com/network/iptables/

Closes-Bug: #1849275

Change-Id: I165199fc98fb98f227f2a20284e1bab03ef65b5b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/692052/13 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/docker-disable-iptables-e9a248a0515f30a6.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/baremetal/tasks/post-install.yml']",3,5bfb5826740f26c6964a8455e7ec47e22bdfb225,bug/1849275,"- name: Disable docker default iptables rules set_fact: docker_config: ""{{ docker_config | combine({'iptables': 'false'}) }}"" when: docker_disable_default_iptables_rules | bool ",,16,0
openstack%2Fmasakari~master~I01af664d53db20041ac7306d2bca63254ffc9ede,openstack/masakari,master,I01af664d53db20041ac7306d2bca63254ffc9ede,Fix exception notification with no trace,MERGED,2020-07-31 11:35:03.000000000,2020-08-05 14:43:27.000000000,2020-08-05 01:58:52.000000000,"[{'_account_id': 8716}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-31 11:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1015d00635e406a6d668df47f35aa66d9efcae0e', 'message': 'Fix exception notification with no trace\n\nThe Exception notification code calls inspect.trace(), which returns an\nempty list if called outside of an except clause. The returned list is\nthen indexed, causing an IndexError. In fact, every use of this\nexception in the engine is from outside of an except clause.\n\nThis can affect notification processing, causing notifications to get\nstuck in a running state, requiring manual DB deletion.\n\nThis change addresses the issue by checking whether the list returned by\ninspect.trace() is empty.\n\nA more complete solution would involve checking every call path to the\nexception notification, and ensuring that it is made from an except\nclause.\n\nChange-Id: I01af664d53db20041ac7306d2bca63254ffc9ede\nPartial-Bug: #1889765\n'}, {'number': 2, 'created': '2020-07-31 19:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/53fd0fdb36ab42c6f841ca4344078a89d4bb4493', 'message': 'Fix exception notification with no trace\n\nThe Exception notification code calls inspect.trace(), which returns an\nempty list if called outside of an except clause. The returned list is\nthen indexed, causing an IndexError. In fact, every use of this\nexception in the engine is from outside of an except clause.\n\nThis can affect notification processing, causing notifications to get\nstuck in a running state, requiring manual DB deletion.\n\nThis change addresses the issue by checking whether the list returned by\ninspect.trace() is empty.\n\nA more complete solution would involve checking every call path to the\nexception notification, and ensuring that it is made from an except\nclause.\n\nChange-Id: I01af664d53db20041ac7306d2bca63254ffc9ede\nPartial-Bug: #1889765\n'}, {'number': 3, 'created': '2020-08-04 07:59:50.000000000', 'files': ['masakari/notifications/objects/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/69a9a41802edf21c8e4784835654697e13db9ca2', 'message': 'Fix exception notification with no trace\n\nThe Exception notification code calls inspect.trace(), which returns an\nempty list if called outside of an except clause. The returned list is\nthen indexed, causing an IndexError. In fact, every use of this\nexception in the engine is from outside of an except clause.\n\nThis can affect notification processing, causing notifications to get\nstuck in a running state, requiring manual DB deletion.\n\nThis change addresses the issue by checking whether the list returned by\ninspect.trace() is empty.\n\nA more complete solution would involve checking every call path to the\nexception notification, and ensuring that it is made from an except\nclause.\n\nChange-Id: I01af664d53db20041ac7306d2bca63254ffc9ede\nPartial-Bug: #1889765\n'}]",0,744138,69a9a41802edf21c8e4784835654697e13db9ca2,19,4,3,14826,,,0,"Fix exception notification with no trace

The Exception notification code calls inspect.trace(), which returns an
empty list if called outside of an except clause. The returned list is
then indexed, causing an IndexError. In fact, every use of this
exception in the engine is from outside of an except clause.

This can affect notification processing, causing notifications to get
stuck in a running state, requiring manual DB deletion.

This change addresses the issue by checking whether the list returned by
inspect.trace() is empty.

A more complete solution would involve checking every call path to the
exception notification, and ensuring that it is made from an except
clause.

Change-Id: I01af664d53db20041ac7306d2bca63254ffc9ede
Partial-Bug: #1889765
",git fetch https://review.opendev.org/openstack/masakari refs/changes/38/744138/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/notifications/objects/exception.py'],1,1015d00635e406a6d668df47f35aa66d9efcae0e,bug/1889765, trace = inspect.trace() if trace: trace = trace[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]) else: module = None, trace = inspect.trace()[-1] # TODO(gibi): apply strutils.mask_password on exception_message and # consider emitting the exception_message only if the safe flag is # true in the exception like in the REST API module = inspect.getmodule(trace[0]),9,5
openstack%2Fneutron-lib~master~I4bbd8a93342805b5f182c31651f94c09c24c9593,openstack/neutron-lib,master,I4bbd8a93342805b5f182c31651f94c09c24c9593,Add API definition for SG rule's normalized_cidr field,MERGED,2020-07-28 21:00:12.000000000,2020-08-05 14:38:51.000000000,2020-08-05 14:36:19.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 21:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1b77654748b4781ac845159e7dd92ab25f6a83b6', 'message': ""Add API definition for SG rule's normalized_cidr field\n\nChange-Id: I4bbd8a93342805b5f182c31651f94c09c24c9593\nRelated-Bug: #1869129\n""}, {'number': 2, 'created': '2020-07-29 20:58:34.000000000', 'files': ['neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/add-extension-security-groups-normalized-cidr-ef7521b226090d7e.yaml', 'neutron_lib/tests/unit/api/definitions/test_security_groups_normalized_cidr.py', 'neutron_lib/api/definitions/security_groups_normalized_cidr.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8ae0c1f21f7d8046bb5636571a622a263f5409fd', 'message': ""Add API definition for SG rule's normalized_cidr field\n\nChange-Id: I4bbd8a93342805b5f182c31651f94c09c24c9593\nRelated-Bug: #1869129\n""}]",2,743630,8ae0c1f21f7d8046bb5636571a622a263f5409fd,11,8,2,11975,,,0,"Add API definition for SG rule's normalized_cidr field

Change-Id: I4bbd8a93342805b5f182c31651f94c09c24c9593
Related-Bug: #1869129
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/30/743630/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/add-extension-security-groups-normalized-cidr-ef7521b226090d7e.yaml', 'neutron_lib/tests/unit/api/definitions/test_security_groups_normalized_cidr.py', 'neutron_lib/api/definitions/security_groups_normalized_cidr.py']",4,1b77654748b4781ac845159e7dd92ab25f6a83b6,bug/1869129,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ALIAS = 'security-groups-normalized-cidr' IS_SHIM_EXTENSION = False IS_STANDARD_ATTR_EXTENSION = False NAME = 'Normalized CIDR field for security group rules' DESCRIPTION = 'Add new field with normalized remote_ip_prefix cidr in SG rule' UPDATED_TIMESTAMP = '2020-07-28T10:00:00-00:00' RESOURCE_ATTRIBUTE_MAP = { 'security_group_rules': { 'normalized_cidr': { 'allow_post': False, 'allow_put': False, 'validate': {'type:subnet_or_none': None}, 'is_visible': True, 'is_filter': True, 'is_sort_key': True}, } } SUB_RESOURCE_ATTRIBUTE_MAP = { } ACTION_MAP = { } ACTION_STATUS = { } REQUIRED_EXTENSIONS = [ 'security-group' ] OPTIONAL_EXTENSIONS = [ ] ",,73,0
openstack%2Fpython-glanceclient~master~I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0,openstack/python-glanceclient,master,I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0,"Fixes ""stores"" property added to the image",MERGED,2020-07-30 17:41:05.000000000,2020-08-05 14:37:33.000000000,2020-08-05 14:36:17.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 17:41:05.000000000', 'files': ['releasenotes/notes/fix_1889666-22dc97ce577eccc6.yaml', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/77eab17cf9f3cf3f2578f73163cb816e425effa2', 'message': 'Fixes ""stores"" property added to the image\n\n""stores"" property gets added to the image when\n`glance image-create-via-import` is called with --stores\n\nChange-Id: I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0\nCloses-Bug: #1889666\n'}]",2,744024,77eab17cf9f3cf3f2578f73163cb816e425effa2,14,5,1,5202,,,0,"Fixes ""stores"" property added to the image

""stores"" property gets added to the image when
`glance image-create-via-import` is called with --stores

Change-Id: I514e6e3ac2f3a1f56fb7883ed403a04b1e7f13b0
Closes-Bug: #1889666
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/24/744024/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix_1889666-22dc97ce577eccc6.yaml', 'glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py']",3,77eab17cf9f3cf3f2578f73163cb816e425effa2,bug_1889666," # NOTE(jokke): Making sure here that we do not include the stores in # the create call fields.pop(""stores"")",,59,0
openstack%2Fcharm-mysql-innodb-cluster~master~I272144ab7bab470ba5e627eb67451c449ce42a82,openstack/charm-mysql-innodb-cluster,master,I272144ab7bab470ba5e627eb67451c449ce42a82,Fix code block and move section,MERGED,2020-08-05 01:53:31.000000000,2020-08-05 14:35:38.000000000,2020-08-05 14:35:38.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 01:53:31.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b45f5b00b98ac6233f7d7cba7a11340f3251dd8b', 'message': 'Fix code block and move section\n\nChange-Id: I272144ab7bab470ba5e627eb67451c449ce42a82\n'}]",0,744817,b45f5b00b98ac6233f7d7cba7a11340f3251dd8b,8,3,1,30561,,,0,"Fix code block and move section

Change-Id: I272144ab7bab470ba5e627eb67451c449ce42a82
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/17/744817/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,b45f5b00b98ac6233f7d7cba7a11340f3251dd8b,fix-admonishment-readme,"## TLS TLS communication between MySQL InnoDB Cluster and its cloud clients is supported. Due to the circular dependency between the vault and mysql-innodb-cluster applications, the enablement of this feature can only be done post-deployment (once vault has been initialised and has a root Certificate Authority). Enable database TLS communication with this relation: juju add-relation mysql-innodb-cluster:certificates vault:certificates ","### TLS TLS communication between MySQL InnoDB Cluster and its cloud clients is supported. Due to the circular dependency between the vault and mysql-innodb-cluster applications, the enablement of this feature can only be done post-deployment (once vault has been initialised and has a root Certificate Authority). Enable database TLS communication with this relation: .. code-block:: none juju add-relation mysql-innodb-cluster:certificates vault:certificates ",13,17
openstack%2Frally-openstack~master~I677d45d11614acf48b979db1c64fc115cedd612e,openstack/rally-openstack,master,I677d45d11614acf48b979db1c64fc115cedd612e,Fix nova scenarios for assiciating fips,MERGED,2020-08-04 12:24:35.000000000,2020-08-05 14:32:26.000000000,2020-08-05 14:32:25.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 12:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/9d9378421c2be90f301177ea0c93636531315667', 'message': 'Fix nova scenarios for assiciating fips\n\nTwo scenarios were not properly adopted while switching from network\nwrapper usage\n\nChange-Id: I677d45d11614acf48b979db1c64fc115cedd612e\n'}, {'number': 2, 'created': '2020-08-04 12:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7af590b7d6302766743b30f4173e50407b5e3b77', 'message': 'Fix nova scenarios for assiciating fips\n\nTwo scenarios were not properly adopted while switching from network\nwrapper usage\n\nChange-Id: I677d45d11614acf48b979db1c64fc115cedd612e\n'}, {'number': 3, 'created': '2020-08-04 15:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/75b1d48e724297cfe0a7f8b76f14762f0e962c53', 'message': 'Fix nova scenarios for assiciating fips\n\nTwo scenarios were not properly adopted while switching from network\nwrapper usage\n\nChange-Id: I677d45d11614acf48b979db1c64fc115cedd612e\n'}, {'number': 4, 'created': '2020-08-05 06:01:53.000000000', 'files': ['tests/ci/cover.sh', 'tests/unit/task/scenarios/nova/test_servers.py', 'samples/tasks/scenarios/nova/boot-and-associate-floating-ip.yaml', 'samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.json', 'rally_openstack/task/scenarios/nova/servers.py', 'samples/tasks/scenarios/nova/boot-and-associate-floating-ip.json', 'samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ab03bfeafda0a29def4c792a174ec1af836b68be', 'message': 'Fix nova scenarios for assiciating fips\n\nTwo scenarios were not properly adopted while switching from network\nwrapper usage\n\nChange-Id: I677d45d11614acf48b979db1c64fc115cedd612e\n'}]",0,744693,ab03bfeafda0a29def4c792a174ec1af836b68be,15,2,4,9545,,,0,"Fix nova scenarios for assiciating fips

Two scenarios were not properly adopted while switching from network
wrapper usage

Change-Id: I677d45d11614acf48b979db1c64fc115cedd612e
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/93/744693/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ci/cover.sh', 'tests/unit/task/scenarios/nova/test_servers.py', 'samples/tasks/scenarios/nova/boot-and-associate-floating-ip.yaml', 'samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.json', 'rally_openstack/task/scenarios/nova/servers.py', 'samples/tasks/scenarios/nova/boot-and-associate-floating-ip.json', 'samples/tasks/scenarios/nova/boot-server-associate-and-dissociate-floating-ip.yaml']",7,9d9378421c2be90f301177ea0c93636531315667,fix_nova_scen," floating_network: ""ext_network_name"""," create_floating_ip_args: ext_network: ""ext_network_name""",146,25
openstack%2Fnova~master~Iccf4ab14865ac1694d7b0dad5dcb101f1ba152c8,openstack/nova,master,Iccf4ab14865ac1694d7b0dad5dcb101f1ba152c8,Document nova in tree virt drivers,MERGED,2020-07-08 16:18:01.000000000,2020-08-05 14:30:05.000000000,2020-08-05 14:22:44.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2020-07-08 16:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bee5b2095c227894aa04c1ad7ca62dea4d855acc', 'message': 'Document nova in tree virt drivers\n\nIn I29c5a678efec4fbc4bd7958ebe6d454ae30701cd we made the libvirt driver\nto run only on Linux. However we did not have documentation about what\nvirt driver runs on what Operating System. This patch starts such\ndocumentation.\n\nChange-Id: Iccf4ab14865ac1694d7b0dad5dcb101f1ba152c8\n'}, {'number': 2, 'created': '2020-07-10 08:10:25.000000000', 'files': ['doc/source/admin/configuration/hypervisors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b327b961f6ee25ed4f6c5d0fdf2b86c8757bb1a3', 'message': 'Document nova in tree virt drivers\n\nIn I29c5a678efec4fbc4bd7958ebe6d454ae30701cd we made the libvirt driver\nto run only on Linux. However we did not have documentation about what\nvirt driver runs on what Operating System. This patch starts such\ndocumentation.\n\nChange-Id: Iccf4ab14865ac1694d7b0dad5dcb101f1ba152c8\n'}]",11,740061,b327b961f6ee25ed4f6c5d0fdf2b86c8757bb1a3,20,9,2,9708,,,0,"Document nova in tree virt drivers

In I29c5a678efec4fbc4bd7958ebe6d454ae30701cd we made the libvirt driver
to run only on Linux. However we did not have documentation about what
virt driver runs on what Operating System. This patch starts such
documentation.

Change-Id: Iccf4ab14865ac1694d7b0dad5dcb101f1ba152c8
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/740061/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/hypervisors.rst'],1,bee5b2095c227894aa04c1ad7ca62dea4d855acc,," Nova supports hypervisors via virt drivers. Nova has the following in tree virt drivers: * :oslo.config:option:`compute_driver` = ``libvirt.LibvirtDriver`` This driver runs on Linux and it support a list of hypervisors via the :oslo.config:option:`libvirt.virt_type` configuration: KVM, QEMU, LXC, Xen, Virtuozzo, UML. * :oslo.config:option:`compute_driver` = ``xenapi.XenAPIDriver`` * :oslo.config:option:`compute_driver` = ``ironic.IronicDriver`` * :oslo.config:option:`compute_driver` = ``vmwareapi.VMwareVCDriver`` * :oslo.config:option:`compute_driver` = ``hyperv.HyperVDriver`` * :oslo.config:option:`compute_driver` = ``powervm.PowerVMDriver`` * :oslo.config:option:`compute_driver` = ``zvm.ZVMDriver`` * :oslo.config:option:`compute_driver` = ``fake.FakeDriver`` This driver does not spawn any virtual machines and therefore only used during testing. ",,27,0
openstack%2Fneutron~master~I2655130df1210f7f175b79aec2bade28c0e1e977,openstack/neutron,master,I2655130df1210f7f175b79aec2bade28c0e1e977,"Add ""neutron"" devstack plugin to all tempest jobs",MERGED,2020-08-03 07:48:02.000000000,2020-08-05 14:30:02.000000000,2020-08-05 14:22:39.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-03 07:48:02.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63322d12e4c3cb9db649406ca36f31c3298621db', 'message': 'Add ""neutron"" devstack plugin to all tempest jobs\n\nThis plugin can enable specific neutron plugins, like e.g. QoS so\nit should be enabled in all jobs which inherits from the\ntempest-integrated-networking job.\n\nChange-Id: I2655130df1210f7f175b79aec2bade28c0e1e977\n'}]",0,744407,63322d12e4c3cb9db649406ca36f31c3298621db,13,6,1,11975,,,0,"Add ""neutron"" devstack plugin to all tempest jobs

This plugin can enable specific neutron plugins, like e.g. QoS so
it should be enabled in all jobs which inherits from the
tempest-integrated-networking job.

Change-Id: I2655130df1210f7f175b79aec2bade28c0e1e977
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/744407/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']",2,63322d12e4c3cb9db649406ca36f31c3298621db,fix-tempest-jobs, devstack_plugins: neutron: https://opendev.org/openstack/neutron.git devstack_plugins: neutron: https://opendev.org/openstack/neutron.git devstack_plugins: neutron: https://opendev.org/openstack/neutron.git vars: devstack_plugins: neutron: https://opendev.org/openstack/neutron.git vars: devstack_plugins: neutron: https://opendev.org/openstack/neutron.git devstack_plugins: neutron: https://opendev.org/openstack/neutron.git,,20,0
openstack%2Fgovernance~master~Ifd0cb584d71e7d08acc5c5960707d2bd954f48ae,openstack/governance,master,Ifd0cb584d71e7d08acc5c5960707d2bd954f48ae,Reverse sort series in selected goals,MERGED,2020-08-05 12:38:32.000000000,2020-08-05 14:29:39.000000000,2020-08-05 14:27:10.000000000,"[{'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 12:38:32.000000000', 'files': ['goals/selected/index.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/f1e5071a2879bf26eb14d9c5b42646e23953cb64', 'message': 'Reverse sort series in selected goals\n\nThe default sort is alphabetical, causing the most recent goals to be\nfurther and further down the list of selected goals. This reverses the\nsort order so that the most recent and relevant series goals are at the\ntop of the list.\n\nChange-Id: Ifd0cb584d71e7d08acc5c5960707d2bd954f48ae\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,744897,f1e5071a2879bf26eb14d9c5b42646e23953cb64,11,4,1,11904,,,0,"Reverse sort series in selected goals

The default sort is alphabetical, causing the most recent goals to be
further and further down the list of selected goals. This reverses the
sort order so that the most recent and relevant series goals are at the
top of the list.

Change-Id: Ifd0cb584d71e7d08acc5c5960707d2bd954f48ae
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/97/744897/1 && git format-patch -1 --stdout FETCH_HEAD,['goals/selected/index.rst'],1,f1e5071a2879bf26eb14d9c5b42646e23953cb64,documentation-change, :reversed:,,1,0
openstack%2Frally~master~I1be902a0e808554971d6feeb6c2f621d1bd466fd,openstack/rally,master,I1be902a0e808554971d6feeb6c2f621d1bd466fd,Update the minversion parameter.,MERGED,2020-02-17 09:47:46.000000000,2020-08-05 14:27:12.000000000,2020-08-05 14:27:12.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-17 09:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5a6aeeeef52a1394d8fb64062640d4bf3251bf5c', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 2, 'created': '2020-02-17 09:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4d62661e403febd6eca50e0b112eb3066350fe9b', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 3, 'created': '2020-03-09 11:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/16e651a315e5b1e1b0425bf594bc8a11d7b0701a', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 4, 'created': '2020-03-25 09:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/50d5c6190771bee65af1c5435d301b6fbdba8804', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 5, 'created': '2020-03-31 07:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/86982516aba9f4d0e9ac03838ec80515785d6fe7', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 6, 'created': '2020-05-18 12:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4939eabdf9d5b77f11bcde97db9d053ebb973e78', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 7, 'created': '2020-05-25 10:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/57a09c754977876f0e33a723b79860e7a3a672d6', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 8, 'created': '2020-07-27 09:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b08c281a1c1a7f2e8dac7a136802fac00666373e', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 9, 'created': '2020-07-29 09:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/766b69aaccb908b59a7317719d488d12d6256954', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}, {'number': 10, 'created': '2020-08-05 13:16:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/b757f0f61672e2114f3003975fc55d48de9d140b', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this.\n\nChange-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd\n""}]",3,708078,b757f0f61672e2114f3003975fc55d48de9d140b,28,3,10,31245,,,0,"Update the minversion parameter.

Update the minversion parameter to use the python -m pip to install
python packages:

https://tox.readthedocs.io/en/latest/changelog.html#id185

It's recommend to use this.

Change-Id: I1be902a0e808554971d6feeb6c2f621d1bd466fd
",git fetch https://review.opendev.org/openstack/rally refs/changes/78/708078/7 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5a6aeeeef52a1394d8fb64062640d4bf3251bf5c,,minversion = 3.2.0,minversion = 2.0,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~Iaf434be9baf1973323bb177fad799aea39210fba,openstack/kolla-ansible,stable/ussuri,Iaf434be9baf1973323bb177fad799aea39210fba,Fix actions for Aodh and Swift,MERGED,2020-08-05 08:28:23.000000000,2020-08-05 14:20:54.000000000,2020-08-05 14:18:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-05 08:28:23.000000000', 'files': ['ansible/roles/aodh/tasks/stop.yml', 'ansible/roles/swift/tasks/deploy-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73e4ff71d542e9430673b2876c208228a3197b07', 'message': ""Fix actions for Aodh and Swift\n\nThese two roles were missing 'stop' and 'deploy-containers',\nrespectively.\n\nChange-Id: Iaf434be9baf1973323bb177fad799aea39210fba\n(cherry picked from commit c1a6ca0d215812e92e7113a96ca5ac74ee1cd08a)\n""}]",0,744852,73e4ff71d542e9430673b2876c208228a3197b07,10,3,1,30491,,,0,"Fix actions for Aodh and Swift

These two roles were missing 'stop' and 'deploy-containers',
respectively.

Change-Id: Iaf434be9baf1973323bb177fad799aea39210fba
(cherry picked from commit c1a6ca0d215812e92e7113a96ca5ac74ee1cd08a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/744852/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/aodh/tasks/stop.yml', 'ansible/roles/swift/tasks/deploy-containers.yml']",2,73e4ff71d542e9430673b2876c208228a3197b07,fix-actions-stable/ussuri,--- - import_tasks: start.yml ,,8,0
openstack%2Fpython-freezerclient~master~I1458a61f5b0d70e1d4ebe3b8ba88bc4826b7a363,openstack/python-freezerclient,master,I1458a61f5b0d70e1d4ebe3b8ba88bc4826b7a363,Remove keystone v2 related code,MERGED,2020-06-19 02:34:32.000000000,2020-08-05 13:45:47.000000000,2020-06-19 04:02:52.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 02:34:32.000000000', 'files': ['freezerclient/tests/unit/v2/test_client.py', 'freezerclient/tests/unit/v1/test_client.py', 'freezerclient/v2/client.py', 'freezerclient/shell.py', 'freezerclient/v1/client.py', 'freezerclient/tests/unit/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/0df8a1da22145b06c30234b9f289d0ce55dd12f8', 'message': 'Remove keystone v2 related code\n\nKyestone V2 support was removed in Train, so it\'s safe to remove ""tenant"" param.\n\nChange-Id: I1458a61f5b0d70e1d4ebe3b8ba88bc4826b7a363\n'}]",0,736881,0df8a1da22145b06c30234b9f289d0ce55dd12f8,8,2,1,21069,,,0,"Remove keystone v2 related code

Kyestone V2 support was removed in Train, so it's safe to remove ""tenant"" param.

Change-Id: I1458a61f5b0d70e1d4ebe3b8ba88bc4826b7a363
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/81/736881/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezerclient/tests/unit/v2/test_client.py', 'freezerclient/tests/unit/v1/test_client.py', 'freezerclient/v2/client.py', 'freezerclient/shell.py', 'freezerclient/v1/client.py', 'freezerclient/tests/unit/test_shell.py']",6,0df8a1da22145b06c30234b9f289d0ce55dd12f8,remove-keystone-v2,," 'OS_TENANT_ID': DEFAULT_PROJECT_ID, 'OS_TENANT_NAME': DEFAULT_PROJECT_NAME,",6,24
openstack%2Fproject-config~master~I3cc7d57a3933740eae493c04a89bc84c10816a77,openstack/project-config,master,I3cc7d57a3933740eae493c04a89bc84c10816a77,Move non-voting neutron tempest jobs to separate graph,MERGED,2020-07-29 11:40:46.000000000,2020-08-05 13:31:46.000000000,2020-08-05 13:22:29.000000000,"[{'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-29 11:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4e6811d7509f6c77027b76ddfe3b79c8b7097b04', 'message': 'Move non-voting neutron tempest jobs to separate graph\n\nThere is many non-voting and voting jobs in the ""Neutron Tempest Failure\nRates (check queue)"" graph.\nMoving non-voting ones to separate graph will improve readability of the\ngraphs.\n\nChange-Id: I3cc7d57a3933740eae493c04a89bc84c10816a77\n'}, {'number': 2, 'created': '2020-07-30 11:22:09.000000000', 'files': ['grafana/neutron-stable-minusone.yaml', 'grafana/neutron-stable-minustwo.yaml', 'grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dd02622d95020eca35eefe1b220a9bcb01428752', 'message': 'Move non-voting neutron tempest jobs to separate graph\n\nThere is many non-voting and voting jobs in the ""Neutron Tempest Failure\nRates (check queue)"" graph.\nMoving non-voting ones to separate graph will improve readability of the\ngraphs.\n\nChange-Id: I3cc7d57a3933740eae493c04a89bc84c10816a77\n'}]",0,743729,dd02622d95020eca35eefe1b220a9bcb01428752,15,7,2,11975,,,0,"Move non-voting neutron tempest jobs to separate graph

There is many non-voting and voting jobs in the ""Neutron Tempest Failure
Rates (check queue)"" graph.
Moving non-voting ones to separate graph will improve readability of the
graphs.

Change-Id: I3cc7d57a3933740eae493c04a89bc84c10816a77
",git fetch https://review.opendev.org/openstack/project-config refs/changes/29/743729/2 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,4e6811d7509f6c77027b76ddfe3b79c8b7097b04,update-neutron-dashboard," type: graph - title: Neutron Tempest Failure Rates (Check queue, non-voting) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr-ha-multinode-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-slow (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-full-multinode-ovs-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-full-multinode-ovs-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-full-multinode-ovs-master (non-voting)') type: graph - title: Number of Integrated Tempest jobs runs (Check queue, non-voting) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr-ha-multinode-full.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-ovs-release-ipv6-only.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-ovs-release-ipv6-only (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-slow.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-slow (non-voting)') - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-full-multinode-ovs-master.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-ovn-tempest-full-multinode-ovs-master.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'neutron-ovn-tempest-full-multinode-ovs-master (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.tempest-multinode-full-py3.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'tempest-multinode-full-py3 (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.neutron-tempest-dvr-ha-multinode-full.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-dvr-ha-multinode-full (non-voting)')",15,7
openstack%2Fironic-python-agent~stable%2Ftrain~I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,openstack/ironic-python-agent,stable/train,I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,Ignore devices with size 0 when collecting inventory,MERGED,2020-07-15 12:54:59.000000000,2020-08-05 13:31:13.000000000,2020-08-05 13:28:57.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 12:54:59.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a7f54bf680e198c8d809e091544e5271672ed27c', 'message': 'Ignore devices with size 0 when collecting inventory\n\ndelete_configuration still fetches all devices as it needs to clean\nones with broken RAID.\n\nStory: #2007907\nTask: #40307\nChange-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1\n(cherry picked from commit 1f3b70c4e968464a93ea68e6f64c4836b90446de)\n'}]",0,741172,a7f54bf680e198c8d809e091544e5271672ed27c,22,4,1,10239,,,0,"Ignore devices with size 0 when collecting inventory

delete_configuration still fetches all devices as it needs to clean
ones with broken RAID.

Story: #2007907
Task: #40307
Change-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1
(cherry picked from commit 1f3b70c4e968464a93ea68e6f64c4836b90446de)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/72/741172/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,a7f54bf680e198c8d809e091544e5271672ed27c,zero-size-stable/train," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""\n' 'KNAME=""sdf"" MODEL=""virtual floppy"" SIZE=""0"" ROTA=""1"" TYPE=""disk""' 'ROTA=""0"" TYPE=""raid1""\n' 'KNAME=""md1"" MODEL=""RAID"" SIZE="""" ROTA=""0"" TYPE=""raid1""' hardware.BlockDevice(name='/dev/md1', model='RAID', size=0, rotational=False, vendor=""FooTastic""), result = hardware.list_all_block_devices(ignore_empty=False)"," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""' 'ROTA=""0"" TYPE=""raid1""' result = hardware.list_all_block_devices()",25,5
openstack%2Ftripleo-ansible~stable%2Fussuri~Iaf2d410a2da74f062f1ad0de49c76beba8548f9a,openstack/tripleo-ansible,stable/ussuri,Iaf2d410a2da74f062f1ad0de49c76beba8548f9a,Fix introspection restart with unlocking node,MERGED,2020-08-05 09:04:22.000000000,2020-08-05 13:30:25.000000000,2020-08-05 13:30:24.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 09:04:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8766ecb77eabac435d0cba228eac838c2252cc4b', 'message': 'Fix introspection restart with unlocking node\n\nUse wait_for_node_reservation method from cloud.baremetal class,\nnot from cloud.baremetal_introspection.\n\nChange-Id: Iaf2d410a2da74f062f1ad0de49c76beba8548f9a\n(cherry picked from commit 1804a43d86ca1a1bf31f10f8656798b0636c9dcc)\n'}]",0,744860,8766ecb77eabac435d0cba228eac838c2252cc4b,7,4,1,10969,,,0,"Fix introspection restart with unlocking node

Use wait_for_node_reservation method from cloud.baremetal class,
not from cloud.baremetal_introspection.

Change-Id: Iaf2d410a2da74f062f1ad0de49c76beba8548f9a
(cherry picked from commit 1804a43d86ca1a1bf31f10f8656798b0636c9dcc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/744860/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'],1,8766ecb77eabac435d0cba228eac838c2252cc4b,fixintro-stable/ussuri," self.cloud = cloud self.cloud, node_id, os_client, os_cloud, timeout, max_retries, retry_timeout, log): self.os_cloud = os_cloud self.os_cloud.baremetal.wait_for_node_reservation("," node_id, os_client, timeout, max_retries, retry_timeout, log): self.os_client.wait_for_node_reservation(",11,2
openstack%2Felection~master~If7041d7f18ce4f97b1d3993076cb6a4de920f2d2,openstack/election,master,If7041d7f18ce4f97b1d3993076cb6a4de920f2d2,Add Andrey Kurilin candidacy for Rally PTL,ABANDONED,2020-04-01 08:19:37.000000000,2020-08-05 13:18:12.000000000,,"[{'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-01 08:19:37.000000000', 'files': ['candidates/victoria/Rally/andr.kurilin@gmail.com'], 'web_link': 'https://opendev.org/openstack/election/commit/87313b6819571ed0f4f330121258bcf372e2babd', 'message': 'Add Andrey Kurilin candidacy for Rally PTL\n\nChange-Id: If7041d7f18ce4f97b1d3993076cb6a4de920f2d2\n'}]",0,716525,87313b6819571ed0f4f330121258bcf372e2babd,4,2,1,9545,,,0,"Add Andrey Kurilin candidacy for Rally PTL

Change-Id: If7041d7f18ce4f97b1d3993076cb6a4de920f2d2
",git fetch https://review.opendev.org/openstack/election refs/changes/25/716525/1 && git format-patch -1 --stdout FETCH_HEAD,['candidates/victoria/Rally/andr.kurilin@gmail.com'],1,87313b6819571ed0f4f330121258bcf372e2babd,v_rally,Maintain and continue project development.,,1,0
openstack%2Frally-openstack~master~I9c984d5cdfe0f6aaede455a36b40c3fa8298b6e0,openstack/rally-openstack,master,I9c984d5cdfe0f6aaede455a36b40c3fa8298b6e0,DNM: investigate the issue with neutron CI,ABANDONED,2019-07-22 11:07:59.000000000,2020-08-05 13:17:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-22 11:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0fc440190185bd4713ca95b0233214f10870d11c', 'message': 'DNM: investigate the issue with neutron CI\n\nChange-Id: I9c984d5cdfe0f6aaede455a36b40c3fa8298b6e0\n'}, {'number': 2, 'created': '2019-07-22 13:23:10.000000000', 'files': ['rally-jobs/neutron.yaml', 'rally_openstack/contexts/vm/custom_image.py', 'rally_openstack/scenarios/neutron/network.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/da85a767d0539ae2f2118af4b8a867a86a942775', 'message': 'DNM: investigate the issue with neutron CI\n\nChange-Id: I9c984d5cdfe0f6aaede455a36b40c3fa8298b6e0\n'}]",0,672013,da85a767d0539ae2f2118af4b8a867a86a942775,5,1,2,9545,,,0,"DNM: investigate the issue with neutron CI

Change-Id: I9c984d5cdfe0f6aaede455a36b40c3fa8298b6e0
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/13/672013/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/neutron.yaml', 'rally_openstack/contexts/vm/custom_image.py', 'rally_openstack/scenarios/neutron/network.py', 'CHANGELOG.rst']",4,0fc440190185bd4713ca95b0233214f10870d11c,neutronCI,Added ~~~~~ * [scenario plugin] NeutronNetworks.create_and_bind_ports ,,43,836
openstack%2Fopenstack-helm~master~I18d9997f8dec2ca24d34deef691ed4a34071a65c,openstack/openstack-helm,master,I18d9997f8dec2ca24d34deef691ed4a34071a65c,[test images with minikube-aio],ABANDONED,2020-08-03 03:28:21.000000000,2020-08-05 13:15:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-03 03:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7e9dd85eecab0c311f9e481e4794fe9dc8746bea', 'message': '[test images with minikube-aio]\n\nDepends-On: https://review.opendev.org/741580\nChange-Id: I18d9997f8dec2ca24d34deef691ed4a34071a65c\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,744389,7e9dd85eecab0c311f9e481e4794fe9dc8746bea,3,1,1,8863,,,0,"[test images with minikube-aio]

Depends-On: https://review.opendev.org/741580
Change-Id: I18d9997f8dec2ca24d34deef691ed4a34071a65c
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/744389/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,7e9dd85eecab0c311f9e481e4794fe9dc8746bea,,,,0,0
openstack%2Frally-openstack~master~I5a07ea35325a97929666c85648fd94262b6b1f56,openstack/rally-openstack,master,I5a07ea35325a97929666c85648fd94262b6b1f56,Use memory_tracker instead of peakmem_tracker,ABANDONED,2020-07-09 11:02:05.000000000,2020-08-05 13:14:29.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 11:02:05.000000000', 'files': ['devstack/features.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/2b0b2514f55b0db4c7e44ae5d5dd150ecfe40c4f', 'message': 'Use memory_tracker instead of peakmem_tracker\n\nThe peakmem_tracker service has long been deprecated in devstack and will\nsoon be removed completely. Replace it by the memory_tracker service. [0]\n\n[0] https://review.opendev.org/638409\n\nChange-Id: I5a07ea35325a97929666c85648fd94262b6b1f56\n'}]",0,740243,2b0b2514f55b0db4c7e44ae5d5dd150ecfe40c4f,4,2,1,13252,,,0,"Use memory_tracker instead of peakmem_tracker

The peakmem_tracker service has long been deprecated in devstack and will
soon be removed completely. Replace it by the memory_tracker service. [0]

[0] https://review.opendev.org/638409

Change-Id: I5a07ea35325a97929666c85648fd94262b6b1f56
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/43/740243/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/features.yaml'],1,2b0b2514f55b0db4c7e44ae5d5dd150ecfe40c4f,drop-peakmem-tracker," services: [mysql, rabbit, dstat, memory_tracker]"," services: [mysql, rabbit, dstat, peakmem_tracker]",1,1
openstack%2Fnova~master~I5af992b3d38dea408b61d6282b8d943a3f1d150a,openstack/nova,master,I5af992b3d38dea408b61d6282b8d943a3f1d150a,nova-live-migration: Add encrypted volume to BFV evacuation test,ABANDONED,2020-07-26 18:39:26.000000000,2020-08-05 12:52:01.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-26 18:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aa1bbd16d92e181faaed0a2d28c02267ac42223', 'message': 'nova-live-migration: Add encrypted volume to BFV evacuation test\n\nChange-Id: I5af992b3d38dea408b61d6282b8d943a3f1d150a\n'}, {'number': 2, 'created': '2020-07-27 11:34:52.000000000', 'files': ['gate/test_evacuate.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/d0f7fba0b16b9a704f369f60c0f6f448693dd227', 'message': 'nova-live-migration: Add encrypted volume to BFV evacuation test\n\nChange-Id: I5af992b3d38dea408b61d6282b8d943a3f1d150a\n'}]",0,743067,d0f7fba0b16b9a704f369f60c0f6f448693dd227,15,7,2,10135,,,0,"nova-live-migration: Add encrypted volume to BFV evacuation test

Change-Id: I5af992b3d38dea408b61d6282b8d943a3f1d150a
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/743067/1 && git format-patch -1 --stdout FETCH_HEAD,['gate/test_evacuate.sh'],1,0aa1bbd16d92e181faaed0a2d28c02267ac42223,,"echo ""Creating and attaching an encrypted volume to evacuate-bfv-test instance"" openstack volume type create --encryption-provider luks \ --encryption-cipher aes-xts-plain64 --encryption-key-size 256 \ --encryption-control-location front-end LUKS openstack volume create --size 1 --type LUKS encrypted-volume openstack server add volume evacuate-bfv-test encrypted-volume ",,7,0
openstack%2Fkolla-ansible~stable%2Fstein~I6b92d8e53a29b06a065e0611840140d09c8a6695,openstack/kolla-ansible,stable/stein,I6b92d8e53a29b06a065e0611840140d09c8a6695,"Fix play hosts for ironic, monasca, neutron, nova",MERGED,2020-08-05 07:37:03.000000000,2020-08-05 12:49:33.000000000,2020-08-05 12:47:40.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-05 07:37:03.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d5318a3e4167ace7eac4d29d254b92581bc84bb', 'message': 'Fix play hosts for ironic, monasca, neutron, nova\n\nSome plays were not applied to all groups referenced by the services\nthey deploy. In most cases this works fine, but if the default inventory\nis modified this may cause problems where containers are not deployed to\nhosts in the missing groups, if they are not a member of other groups\nthat the play is targeted to.\n\nThis change syncs up the play hosts for all services.\n\nCloses-Bug: #1889387\n\nChange-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695\n(cherry picked from commit 9bca246b109c6d78753e3185a5b0a85746ad16fd)\n'}]",0,744840,1d5318a3e4167ace7eac4d29d254b92581bc84bb,8,3,1,14826,,,0,"Fix play hosts for ironic, monasca, neutron, nova

Some plays were not applied to all groups referenced by the services
they deploy. In most cases this works fine, but if the default inventory
is modified this may cause problems where containers are not deployed to
hosts in the missing groups, if they are not a member of other groups
that the play is targeted to.

This change syncs up the play hosts for all services.

Closes-Bug: #1889387

Change-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695
(cherry picked from commit 9bca246b109c6d78753e3185a5b0a85746ad16fd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/744840/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,1d5318a3e4167ace7eac4d29d254b92581bc84bb,bug/1889387, - ironic-ipxe - nova-compute-ironic - neutron-bgp-dragent - neutron-infoblox-ipam-agent - monasca-agent-collector - monasca-agent-forwarder - monasca-agent-statsd, - monasca - monasca-agent,7,2
openstack%2Fkolla-ansible~stable%2Ftrain~I6b92d8e53a29b06a065e0611840140d09c8a6695,openstack/kolla-ansible,stable/train,I6b92d8e53a29b06a065e0611840140d09c8a6695,"Fix play hosts for ironic, monasca, neutron, nova",MERGED,2020-08-05 07:35:10.000000000,2020-08-05 12:46:24.000000000,2020-08-05 12:44:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-05 07:35:10.000000000', 'files': ['ansible/site.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/751d51b536cfb4c2c67176c615672b004e8c43a6', 'message': 'Fix play hosts for ironic, monasca, neutron, nova\n\nSome plays were not applied to all groups referenced by the services\nthey deploy. In most cases this works fine, but if the default inventory\nis modified this may cause problems where containers are not deployed to\nhosts in the missing groups, if they are not a member of other groups\nthat the play is targeted to.\n\nThis change syncs up the play hosts for all services.\n\nCloses-Bug: #1889387\n\nChange-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695\n(cherry picked from commit 9bca246b109c6d78753e3185a5b0a85746ad16fd)\n'}]",0,744838,751d51b536cfb4c2c67176c615672b004e8c43a6,8,3,1,14826,,,0,"Fix play hosts for ironic, monasca, neutron, nova

Some plays were not applied to all groups referenced by the services
they deploy. In most cases this works fine, but if the default inventory
is modified this may cause problems where containers are not deployed to
hosts in the missing groups, if they are not a member of other groups
that the play is targeted to.

This change syncs up the play hosts for all services.

Closes-Bug: #1889387

Change-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695
(cherry picked from commit 9bca246b109c6d78753e3185a5b0a85746ad16fd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/744838/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/site.yml', 'ansible/nova.yml']",2,751d51b536cfb4c2c67176c615672b004e8c43a6,bug/1889387-stable/train, - nova-compute-ironic - nova-compute-ironic,,8,2
openstack%2Fkolla-ansible~stable%2Fussuri~I6b92d8e53a29b06a065e0611840140d09c8a6695,openstack/kolla-ansible,stable/ussuri,I6b92d8e53a29b06a065e0611840140d09c8a6695,"Fix play hosts for ironic, monasca, neutron, nova",MERGED,2020-08-05 07:35:00.000000000,2020-08-05 12:44:35.000000000,2020-08-05 12:42:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-05 07:35:00.000000000', 'files': ['ansible/site.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95068764c32d8d34a74e2bfd2c055598243b3e73', 'message': 'Fix play hosts for ironic, monasca, neutron, nova\n\nSome plays were not applied to all groups referenced by the services\nthey deploy. In most cases this works fine, but if the default inventory\nis modified this may cause problems where containers are not deployed to\nhosts in the missing groups, if they are not a member of other groups\nthat the play is targeted to.\n\nThis change syncs up the play hosts for all services.\n\nCloses-Bug: #1889387\n\nChange-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695\n(cherry picked from commit 9bca246b109c6d78753e3185a5b0a85746ad16fd)\n'}]",0,744837,95068764c32d8d34a74e2bfd2c055598243b3e73,9,3,1,14826,,,0,"Fix play hosts for ironic, monasca, neutron, nova

Some plays were not applied to all groups referenced by the services
they deploy. In most cases this works fine, but if the default inventory
is modified this may cause problems where containers are not deployed to
hosts in the missing groups, if they are not a member of other groups
that the play is targeted to.

This change syncs up the play hosts for all services.

Closes-Bug: #1889387

Change-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695
(cherry picked from commit 9bca246b109c6d78753e3185a5b0a85746ad16fd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/744837/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/site.yml', 'ansible/nova.yml']",2,95068764c32d8d34a74e2bfd2c055598243b3e73,bug/1889387-stable/ussuri, - nova-compute-ironic - nova-compute-ironic,,8,2
openstack%2Frally-openstack~master~Iab6af5154307b88aa2698af03e9c2d4e79176ada,openstack/rally-openstack,master,Iab6af5154307b88aa2698af03e9c2d4e79176ada,[ci] Remove custom features.yaml,MERGED,2020-08-04 09:41:29.000000000,2020-08-05 12:12:25.000000000,2020-08-05 12:12:25.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 09:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b0b5d811b1378872f2585f7f2a2670d5941b7e9d', 'message': '[ci] Remove custom features.yaml\n\nit was used to setup custom branches. we do not use it anymore\n\nChange-Id: Iab6af5154307b88aa2698af03e9c2d4e79176ada\n'}, {'number': 2, 'created': '2020-08-04 15:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/eb7ba5b5e0ab6eed5b91a38508acebb8f37a021a', 'message': '[ci] Remove custom features.yaml\n\nit was used to setup custom branches. we do not use it anymore\n\nChange-Id: Iab6af5154307b88aa2698af03e9c2d4e79176ada\n'}, {'number': 3, 'created': '2020-08-05 06:02:04.000000000', 'files': ['devstack/features.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e0e46ada32ceefa91579a6602951d62faa54788e', 'message': '[ci] Remove custom features.yaml\n\nit was used to setup custom branches. we do not use it anymore\n\nChange-Id: Iab6af5154307b88aa2698af03e9c2d4e79176ada\n'}]",0,744668,e0e46ada32ceefa91579a6602951d62faa54788e,16,2,3,9545,,,0,"[ci] Remove custom features.yaml

it was used to setup custom branches. we do not use it anymore

Change-Id: Iab6af5154307b88aa2698af03e9c2d4e79176ada
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/68/744668/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/features.yaml'],1,b0b5d811b1378872f2585f7f2a2670d5941b7e9d,feautres_yaml,,"config: default: master: [default, ceilometer, glance, horizon, nova, placement, swift, cinder, keystone] ""0.9"": [default, ceilometer, glance, horizon, nova, placement, swift, cinder, keystone] # This can be used by functional jobs that only want their dependencies installed # and don't need to incur the overhead of installing all services in the process. no_services: [default] neutron: features: [neutron, neutron-adv] # different backends postgres: features: [postgresql] # feature changes for different test matrixes grenade: rm-features: [trove, sahara, neutron-adv, horizon] tempest: features: [tempest] # feature changes for different configs of existing services nova_api_metadata_split: features: [nova-md] cells: features: [nova-cells] # feature declarations for incubated or recently integrated projects (so they # can be tested outside the releases they were supported in) trove: features: [trove] marconi: features: [marconi] zaqar: features: [zaqar] sahara: features: [sahara] ironic: features: [ironic] qpid: features: [qpid] zeromq: features: [zeromq] ceph: features: [ceph] heat: features: [heat] tlsproxy: features: [tlsproxy] cinder_mn_grenade: features: [cinder-mn-grenade] cinder_mn_grenade_sub_volschbak: features: [cinder-mn-grenade-sub-volschbak] cinder_mn_grenade_sub_bak: features: [cinder-mn-grenade-sub-bak] neutron_dvr: features: [neutron-dvr] branches: # The value of """"default"" is the name of the ""trunk"" branch default: master # Normalized branch names only here, e.g. stable/ocata => ocata allowed: [master, 0.9] primary: default: base: services: [mysql, rabbit, dstat, peakmem_tracker] ceilometer: base: services: [ceilometer-acompute, ceilometer-acentral, ceilometer-collector, ceilometer-api, ceilometer-alarm-notifier, ceilometer-alarm-evaluator, ceilometer-anotification] glance: base: services: [g-api, g-reg] keystone: base: services: [key] horizon: base: services: [horizon] nova: base: services: [n-api, n-cauth, n-cond, n-cpu, n-net, n-novnc, n-obj, n-sch] nova-md: base: services: [n-api-meta] nova-cells: base: services: [n-cell] rm-compute-ext: [agregates, hosts] placement: base: services: [placement-api] neutron: base: services: [q-svc, q-agt, q-dhcp, q-l3, q-meta, q-metering] rm-services: [n-net] neutron-adv: base: rm-services: [n-net] neutron-dvr: base: services: [] swift: base: services: [s-proxy, s-account, s-container, s-object] cinder: base: services: [cinder, c-api, c-vol, c-sch, c-bak] # This will be used to disable c-vol, c-bak on primary node when running multinode grenade # job that will test compatibility of new c-api, c-sch (primary) and old c-vol and c-bak (sub). cinder-mn-grenade: base: rm-services: [c-vol, c-bak] # This will be used to disable c-vol, c-sch, c-bak on primary node when running multinode grenade # job that will test compatibility of new c-api (primary) and old c-vol, c-sch and c-bak (sub). cinder-mn-grenade-sub-volschbak: base: rm-services: [c-vol, c-sch, c-bak] # This will be used to disable c-bak on primary node when running multinode grenade # job that will test compatibility of new c-api, c-sch, c-vol (primary) and old c-bak (sub). cinder-mn-grenade-sub-bak: base: rm-services: [c-bak] heat: base: services: [heat, h-api, h-api-cfn, h-api-cw, h-eng] trove: base: services: [trove, tr-api, tr-tmgr, tr-cond] ironic: base: services: [ir-api, ir-cond] rm-services: [cinder, c-api, c-vol, c-sch, c-bak] sahara: base: services: [sahara] marconi: base: services: [marconi-server] zaqar: base: services: [zaqar-server] tempest: base: services: [tempest] # service overrides postgresql: base: services: [postgresql] rm-services: [mysql] zeromq: base: services: [zeromq] rm-services: [rabbit] qpid: base: services: [qpid] rm-services: [rabbit] ceph: base: services: [ceph] tlsproxy: base: services: [tls-proxy] ",0,187
openstack%2Ftacker-specs~master~I9caf0a2a4f11e38280f7c1219ce98d659f528db6,openstack/tacker-specs,master,I9caf0a2a4f11e38280f7c1219ce98d659f528db6,Support LCM notification based on ETSI NFV-SOL specification,MERGED,2020-05-29 10:21:23.000000000,2020-08-05 11:57:53.000000000,2020-07-20 03:09:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27180}]","[{'number': 1, 'created': '2020-05-29 10:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b0efb128a5be9efaa64a63e570fedda2393abd90', 'message': 'Support LCM notification based on ETSI NFV-SOL specification\n\nIntroduce new interfaces to notify LCM operation status of VNF\ninstances towards clients.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I9caf0a2a4f11e38280f7c1219ce98d659f528db6\n'}, {'number': 2, 'created': '2020-07-01 05:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f5545160575498dc8ffcdf45b556b7d50c1cb298', 'message': 'Support LCM notification based on ETSI NFV-SOL specification\n\nIntroduce new interfaces to notify LCM operation status of VNF\ninstances towards clients.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I9caf0a2a4f11e38280f7c1219ce98d659f528db6\n'}, {'number': 3, 'created': '2020-07-16 04:18:52.000000000', 'files': ['specs/victoria/support-notification-api-based-on-etsi-nfv-sol.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/f7b6c84b6dbf05cf6846c860cb13b307da35c015', 'message': 'Support LCM notification based on ETSI NFV-SOL specification\n\nIntroduce new interfaces to notify LCM operation status of VNF\ninstances towards clients.\n\nBlueprint: support-etsi-nfv-specs\nChange-Id: I9caf0a2a4f11e38280f7c1219ce98d659f528db6\n'}]",13,731718,f7b6c84b6dbf05cf6846c860cb13b307da35c015,17,5,3,27180,,,0,"Support LCM notification based on ETSI NFV-SOL specification

Introduce new interfaces to notify LCM operation status of VNF
instances towards clients.

Blueprint: support-etsi-nfv-specs
Change-Id: I9caf0a2a4f11e38280f7c1219ce98d659f528db6
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/18/731718/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/support-notification-api-based-on-etsi-nfv-sol.rst'],1,b0efb128a5be9efaa64a63e570fedda2393abd90,bp/support-etsi-nfv-specs,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ===================================================================== Support LCM notifications for VNF based on ETSI NFV-SOL specification ===================================================================== https://blueprints.launchpad.net/tacker/+spec/support-etsi-nfv-specs ETSI specifications within the NFV Architecture Framework [#etsi_nfv]_ describe the main aspects of NFV development and usage based on of the industry needs, feedback from SDN/NFV vendors and telecom operators. These specifications include the REST API and data model architecture which is used by NFV users and developers in related products. Problem description =================== In the current Tacker implementation based on ETSI NFV-SOL, Tacker uses its own API which describes VNF lifecycle change notifications which is Ability to inform the receiver that LCM operations has been changed. However, those operations are not aligned with the current ETSI NFV data-model. As a result, there might be lack of compatibility with `3rd party VNFs` [#etsi_plugtest2]_, as they are developed according to ETSI NFV specifications. Support of key ETSI NFV specifications will significantly reduce efforts for Tacker integration into Telecom production networks and also will simplify further development and support of future standards. Proposed change =============== Introduces new interfaces to VNFM in order to notify VNF lifecycle management operations status for VNF instances. The operation provided through the interfaces are: * Subscription（GET/POST/DELETE) * Notification endpoint（POST) * Individual Subscription(GET) * individual VNF occurrence（GET) 1）Flow of managing subscriptions --------------------------------- * Register subscription .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = "" POST /subscriptions""]; ""tacker-server"" -> ""tacker-server"" [label = "" generate subscription_id (uuid)""]; Client <-- ""tacker-server"" [label = "" Resonse 201 Created""]; } * Delete subscription .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = "" DELETE /subscriptions/{subscriptionId}""]; Client <-- ""tacker-server"" [label = "" Resonse 204 No Content""]; } * Show subscription .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = "" GET /subscriptions/{subscriptionId}""]; Client <-- ""tacker-server"" [label = "" Resonse 200 OK""]; } * List subscription .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = "" GET /subscriptions""]; ""tacker-server"" -> ""tacker-server"" [label = ""request validation""]; Client <-- ""tacker-server"" [label = "" Resonse 200 OK""]; } * VNFM holds the Callback URL sent by consumer via ""Subscription API"" in advance. * Notify the issuer of the ID associated with the received Subscription request. * For the registered Subscription status, read by specifying ID, reading of all ID data and deletion of specified ID are allowed. 2）Flow of sending notifications -------------------------------- * Depending on the progress status of the sequence, VNFM send notification (Notify) to notify the status change and update the internal operation_status. Precondition: Requesting Node has subscribed previously to notifications related to VNF lifecycle management. * When the LCM request is accepted, the operation status is sent to the consumer which registers subscription via ""Subscription API"". This will be sent for the number of registrations. * The following operation states can be notified: STARTING/PROCESSING/COMPLETED/ROLLINGBACK/ROLLEDBACK/FAILED_TEMP * STARTING state is sent from Tacker Server, and other Operation_state notifications are sent from Tacker-Conductor. * Modify VNF does not send STARTING state. * NFVO which recieved notification infomation sends 204 No Content to Tacker. 3) Flow of LCM Operation with notification ------------------------------------------ * Instantiate VNF * Scale VNF * Heal VNF * Terminate VNF .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = ""LCM Operation Request""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (STARTING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; NFVO <- ""tacker-conductor"" [label = ""POST /grants""]; NFVO --> ""tacker-conductor"" [label = ""201 Created""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (PROCESSING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute MgmtDriver""]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (COMPLETED)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } * Modify VNF .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = ""LCM Operation Request""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (PROCESSING)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute MgmtDriver""]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (COMPLETED)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } * Rollback .. seqdiag:: seqdiag { node_width = 100; edge_length = 160; Client -> ""tacker-server"" [label = ""POST /vnf_lcm_op_occs/{vnfLcmOpOccId}/rollback""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLING_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; ""tacker-conductor"" -> ""MgmtDriver"" [label = ""execute MgmtDriver""]; ""tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI} (ROLLED_BACK)""]; Client --> ""tacker-conductor"" [label = ""Response: 204 No Content""]; } 4) Flow of VNF instance resource with notification -------------------------------------------------- * CereateVNFRequest .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = ""POST /vnf_instances/""]; ""tacker-server"" ->> ""tacker-server"" [label = ""Create VNF instance resource""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""execute vnf_package list process{filter}""]; Client <- ""tacker-conductor"" [label = ""GET /vnf_packages/ with attribute filter(vnfdId)""]; Client --> ""tacker-conductor"" [label = ""Response 200 OK with VnfPkgInfo""]; ""tacker-server"" <<- ""tacker-conductor"" [label = ""(VnfPkgInfo)""]; ""tacker-server"" ->> ""tacker-server"" [label = ""Update VNF instance resource(VnfPkgInfo)""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""execute vnf_package content process{vnfPkgId}""]; NFVO <- ""tacker-conductor"" [label = ""GET /vnf_packages/{vnfPkgId}/package_content ""]; NFVO --> ""tacker-conductor"" [label = ""Response 200 OK with VNF package file""]; ""tacker-server"" <<- ""tacker-conductor"" [label = ""(VNF package content file)""]; ""tacker-server"" ->> ""tacker-server"" [label = ""Store received package file""]; Client <-- ""tacker-server"" [label = "" Resonse 201 Created""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI}""]; Client --> ""tacker-conductor"" [label = ""Responce 204 No Content""]; } * DeleteVNFRequest .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = ""DELETE /vnf_instances/{vnfInstanceId} ""]; ""tacker-server"" ->> ""tacker-server"" [label = ""Delete VNF instance resource""]; Client <-- ""tacker-server"" [label = "" Resonse 204 No Content""]; ""tacker-server"" ->> ""tacker-conductor"" [label = ""execute notification process""]; Client <- ""tacker-conductor"" [label = ""POST {callback URI}""]; Client --> ""tacker-conductor"" [label = ""Responce 204 No Content""]; } 5）Flow of Getting Operation Status ----------------------------------- Operation status can be obtained from VNFM. .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = "" GET /vnf_lcm_op_occs/{vnfLcmOpOccId}""]; Client <-- ""tacker-server"" [label = "" Resonse 200 OK""]; } * The transmission source node specifies the vnfLcmOpOccId issued at the time of subscription and reads the information about the resource in the Subscription state. * If the VNFM information read is successful, Response 200 OK is responded. Alternatives ------------ None Data model impact ----------------- Add below new tables in ‘tacker’ database. The corresponding schemas are detailed below:- A list of added tables: - vnf_lcm_filters details of added table: vnf_lcm_filters: .. code-block:: python id id varchar(36) Not Null subscription_uuid subscription_uuid varchar(36) Not Null filter filter json Not Null vnf_instance_ids vnf_instance_ids MEDIUMBLOB vnf_instance_ids_len vnf_instance_ids_len int notification_types notification_types MEDIUMBLOB notification_types_len notification_types_len int operation_types operation_types MEDIUMBLOB operation_types_len operation_types_len int operation_states operation_states MEDIUMBLOB operation_states_len operation_states_len int This table has current status of LCM. Table for accumulating information for each event. vnf_lcm_op_occs: .. code-block:: python id id varchar(36) Not Null operation_state operation_state varchar(16) Not Null state_entered_time state_entered_time datetime Not Null start_time start_time datetime Not Null vnf_instance_id vnf_instance_id varchar(36) Not Null operation operation varchar(16) Not Null is_automatic_invocation is_automatic_invocation tinyint(1) Not Null operation_params operation_params json error error json resource_changes resource_changes json This table has current status of operation occurrence vnf_lcm_subscriptions: .. code-block:: python id id varchar(36) Not Null callback_uri callback_uri varchar(255) Not Null subscription_authentication subscription_authentication json This table has registration information of Subscription REST API impact --------------- The following restFul API will be added. This restFul API will be based on ETSI NFV SOL002 [#NFV-SOL002]_ and SOL003 [#NFV-SOL003]_. * | **Name**: Subscriptions | **Description**: Subscribe to notifications related to VNF lifecycle management | **Method type**: POST | **URL for the resource**: /vnflcm/v1/subscriptions | **Request**: +--------------------------+-------------+----------------------------------+ | Data type | Cardinality | Description | +==========================+======+======+==================================+ | LccnSubscriptionRequest | 1 | Parameters for the Subscription. | +--------------------------+-------------+----------------------------------+ .. list-table:: :header-rows: 1 * - Attribute name - Data type - Cardinality - Supported in (V) * - filter - LifecycleChangeNotificationFilter - 0..1 - Yes * - callbackUri - Uri - 1 - Yes * - authentication - SubscriptionAuthentication - 0..1 - Yes | **Response**: .. list-table:: :widths: 10 10 18 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - LccnSubscription - n/a - | Success 201 | Redirection 303 | Error 4xx - The subscription has been created successfully. * | **Name**: List Subscriptions | **Description**: Request to list all existing subscriptions | **Method type**: GET | **URL for the resource**: /vnflcm/v1/subscriptions | **Request**: .. list-table:: :header-rows: 1 * - Data type - Cardinality - Description - Supported in (V) * - filter - 0..1 - Filter to list subscriptions - No | **Response**: .. list-table:: :widths: 10 10 18 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - LccnSubscription - n/a - | Success 200 | Error 400 4xx - The list of subscriptions has been queried successfully. * | **Name**: Query Subscriptions | **Description**: Request to show individual subscription resource by its id | **Method type**: GET | **URL for the resource**: /vnflcm/v1/subscriptions/{subscriptionId} | **Request**: +----------------+----------------------------------+ | Name | Description | +================+==================================+ | subscriptionId | Identifier of the subscriptions. | +----------------+----------------------------------+ | **Response**: .. list-table:: :widths: 10 10 18 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - LccnSubscription - n/a - | Success 200 | Error 400 4xx - The operation has completed successfully. * | **Name**: Delete Subscriptions | **Description**: Request to delete individual subscription resource by its id | **Method type**: DELETE | **URL for the resource**: /vnflcm/v1/subscriptions/{subscriptionId} | **Request**: +----------------+----------------------------------+ | Name | Description | +================+==================================+ | subscriptionId | Identifier of the subscriptions. | +----------------+----------------------------------+ | **Response**: .. list-table:: :widths: 10 10 18 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - n/a - n/a - | Success 204 | Error 400 4xx - The individual subscription resource has been deleted successfully. * | **Name**: Notification endpoint | **Description**: Send notifications related to VNF lifecycle changes | **Method type**: POST | **URL for the resource**: The resource URI is provided by the client when creating the subscription. | **Request**: .. list-table:: :widths: 20 10 50 :header-rows: 1 * - Data type - Cardinality - Description * - VnfLcmOperationOccurrenceNotification - 1 - A notification about lifecycle changes triggered by a VNF LCM operation occurrence. * - VnfIdentifierCreationNotification - 1 - A notification about lthe creation of a VNF identifier and the related individual VNF instance resource. * - VnfIdentifierDeletionNotification - 1 - A notification about the deletion of a VNF identifier and the related individual VNF instance resource. .. list-table:: :header-rows: 1 * - Attribute name - Data type - Cardinality - Supported in (V) * - id - Identifier - 1 - Yes * - notificationType - String - 1 - Yes * - subscriptionId - Identifier - 1 - Yes * - timeStamp - DateTime - 1 - Yes * - notificationStatus - Enum (inlined) - 1 - Yes * - operationState - LcmOperationStateType - 1 - Yes * - vnfInstanceId - Identifier - 1 - Yes * - operation - LcmOperationType - 1 - Yes * - isAutomaticInvocation - Boolean - 1 - Yes * - vnfLcmOpOccId - Identifier - 1 - Yes * - affectedVnfcs - AffectedVnfc - 0..N - Yes * - affectedVirtualLinks - AffectedVirtualLink - 0..N - Yes * - affectedVirtualStorages - AffectedVirtualStorage - 0..N - Yes * - changedInfo - VnfInfoModifications - 0..1 - Yes * - changedExtConnectivity - ExtVirtualLinkInfo - 0..N - No * - error - ProblemDetails - 0..1 - Yes * - _links - LccnLinks - 1 - Yes | **Response**: .. list-table:: :widths: 12 10 18 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - n/a - n/a - | Success 204 | Error 4xx - The notification has been delivered successfully. * | **Name**: Query VNF occurrence | **Description**: Request to show individual VNF lifecycle management operation occurrence by its id | **Method type**: GET | **URL for the resource**: /vnflcm/v1/vnf_lcm_op_occs/{vnfLcmOpOccId} | **Response**: .. list-table:: :widths: 12 10 18 50 :header-rows: 1 * - Data type - Cardinality - Response Codes - Description * - VnfLcmOpOcc - 1 - | Success 200 | Error 4xx - The operation has completed successfully. .. list-table:: :header-rows: 1 * - Attribute name - Data type - Cardinality - Supported in (V) * - id - Identifier - 1 - Yes * - operationState - LcmOperationStateType - 1 - Yes * - stateEnteredTime - DateTime - 1 - Yes * - startTime - DateTime - 1 - Yes * - vnfInstanceId - Identifier - 1 - Yes * - grantId - Identifier - 1 - No * - operation - LcmOperationType - 1 - Yes * - isAutomaticInvocation - Boolean - 1 - Yes * - operationParams - Object - 1 - Yes * - isCancelPending - Boolean - 0..N - No * - cancelMode - CancelModeType - 0..N - No * - error - ProblemDetails - 0..N - Yes * - resourceChanges - Structure(inlined) - 0..1 - Yes * - changedInfo - VnfInfoModifications - 0..N - No * - changedExtConnectivity - ExtVirtualLinkInfo - 0..1 - No * - _links - LccnLinks - 1 - Yes Security impact --------------- None Notifications impact -------------------- Tacker will creates a new subscription to notifications related to VNF lifecycle changes and send notification to consumer. Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- The previously created VNFs will not be allowed to be managed using the newly introduced APIs. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Keiko Kuriu <keiko.kuriu.wa@hco.ntt.co.jp> Work Items ---------- * Add new REST API endpoints to Tacker-server for LCM notifications interface of VNF instances. * Add features which Tacker consumes Rest API for Notifications * Add new unit and functional tests. * Change API Tacker documentation. Dependencies ============ None Testing ======== Unit and functional test cases will be added for VNF lifecycle management of VNF instances. Documentation Impact ==================== Complete user guide will be added to explain how to invoke VNF lifecycle management of VNF instances with examples. References ========== .. [#etsi_nfv] https://www.etsi.org/technologies-clusters/technologies/NFV .. [#NFV-SOL002] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/02.06.01_60/gs_nfv-sol002v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#etsi_plugtest2] https://portal.etsi.org/Portals/0/TBpages/CTI/Docs/2nd_ETSI_NFV_Plugtests_Report_v1.0.0.pdf ",,787,0
openstack%2Fironic~master~I30f37ae9ba0325a533d666eb3abf2d5d5e32bfcd,openstack/ironic,master,I30f37ae9ba0325a533d666eb3abf2d5d5e32bfcd,DNM TEST CI,ABANDONED,2020-07-16 07:06:42.000000000,2020-08-05 11:50:54.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-16 07:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/525fe9da9e32c76a82ee301f8f07e1101430d07d', 'message': 'DNM TEST CI\n\nChange-Id: I30f37ae9ba0325a533d666eb3abf2d5d5e32bfcd\n'}, {'number': 2, 'created': '2020-07-19 14:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9964eebaadf5f35ece8794195e067abfa62bc1bc', 'message': 'DNM TEST CI\n\nChange-Id: I30f37ae9ba0325a533d666eb3abf2d5d5e32bfcd\n'}, {'number': 3, 'created': '2020-07-23 09:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/158092466a1151ca60e5714763937596cb2393ad', 'message': 'DNM TEST CI\n\nChange-Id: I30f37ae9ba0325a533d666eb3abf2d5d5e32bfcd\n'}, {'number': 4, 'created': '2020-08-03 13:36:32.000000000', 'files': ['ironic/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea82f465a635362f380efd282fc4ad47102813d3', 'message': 'DNM TEST CI\n\nChange-Id: I30f37ae9ba0325a533d666eb3abf2d5d5e32bfcd\n'}]",0,741389,ea82f465a635362f380efd282fc4ad47102813d3,26,5,4,23851,,,0,"DNM TEST CI

Change-Id: I30f37ae9ba0325a533d666eb3abf2d5d5e32bfcd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/741389/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/manager.py'],1,525fe9da9e32c76a82ee301f8f07e1101430d07d,test-ci,,,1,0
openstack%2Fsushy-tools~master~Icc8a23c0ab2eba21a6da20fd9dd2a7493d710ab4,openstack/sushy-tools,master,Icc8a23c0ab2eba21a6da20fd9dd2a7493d710ab4,Create a new fake manager driver mirroring system resources,ABANDONED,2020-08-05 09:44:59.000000000,2020-08-05 11:41:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-05 09:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/39cef3779a4d12e63c1eced76a60186420216dcc', 'message': '[WIP] Create a new fake manager driver mirroring system\n\nThe current static driver is completely broken when more than one systems\nare used with virtual media since it attaches the same ISO to all systems.\n\nThis change adds a new fake driver that simply mirrors all systems in\na 1-1 relationship.\n\nChange-Id: Icc8a23c0ab2eba21a6da20fd9dd2a7493d710ab4\n'}, {'number': 2, 'created': '2020-08-05 10:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/304e04d463a3ff42516ae3fb7ec2724392dfb7e7', 'message': 'Create a new fake manager driver mirroring system resources\n\nThe current static driver is completely broken when more than one systems\nare used with virtual media since it attaches the same ISO to all systems.\n\nThis change adds a new fake driver that simply mirrors all systems in\na 1-1 relationship.\n\nChange-Id: Icc8a23c0ab2eba21a6da20fd9dd2a7493d710ab4\n'}, {'number': 3, 'created': '2020-08-05 10:36:30.000000000', 'files': ['sushy_tools/emulator/main.py', 'sushy_tools/tests/unit/emulator/resources/managers/test_fake.py', 'sushy_tools/emulator/resources/managers/fakedriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f0d052bebaaa0df96c0da92d4f9235a0bf52580c', 'message': 'Create a new fake manager driver mirroring system resources\n\nThe current static driver is completely broken when more than one systems\nare used with virtual media since it attaches the same ISO to all systems.\n\nThis change adds a new fake driver that simply mirrors all systems in\na 1-1 relationship.\n\nChange-Id: Icc8a23c0ab2eba21a6da20fd9dd2a7493d710ab4\n'}]",0,744868,f0d052bebaaa0df96c0da92d4f9235a0bf52580c,5,1,3,10239,,,0,"Create a new fake manager driver mirroring system resources

The current static driver is completely broken when more than one systems
are used with virtual media since it attaches the same ISO to all systems.

This change adds a new fake driver that simply mirrors all systems in
a 1-1 relationship.

Change-Id: Icc8a23c0ab2eba21a6da20fd9dd2a7493d710ab4
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/68/744868/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/resources/managers/fakedriver.py']",2,39cef3779a4d12e63c1eced76a60186420216dcc,fake-manager,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from sushy_tools.emulator.resources.managers.base import AbstractManagersDriver from sushy_tools import error class FakeDriver(AbstractManagersDriver): """"""Redfish manager that copied systems."""""" @classmethod def initialize(cls, config, logger, systems, *args, **kwargs): cls = AbstractManagersDriver.initialize(cls, config, logger, *args, **kwargs) cls._systems = systems return cls def get_manager(self, identity): """"""Get a manager by its identity :returns: Redfish manager UUID. """""" try: system_uuid = self._systems.uuid(identity) system_name = self._systems.name(identity) except error.FishyError: msg = 'Manager with UUID %s was not found' % identity self._logger.error(msg) raise error.FishyError(msg) else: result = {'Id': system_uuid, 'UUID': system_uuid, 'Name': '%s-Manager' % system_name} self._logger.debug('Found manager %(mgr)s by UUID %(id)s', {'mgr': result, 'id': identity}) return result @property def driver(self): """"""Return human-friendly driver information :returns: driver information as `str` """""" return '<static-managers>' @property def managers(self): """"""Return available Redfish managers :returns: list of UUIDs representing the managers """""" return sorted(self._systems.systems) def get_managed_systems(self, manager, systems_driver): """"""Get systems managed by this manager. :param manager: Redfish manager object. :param systems_driver: A systems driver. :returns: List of Redfish system UUIDs. """""" return [manager['UUID']] def get_managed_chassis(self, manager, chassis_driver): """"""Get chassis managed by this manager. :param manager: Redfish manager object. :param chassis_driver: A chassis driver. :returns: List of Redfish chassis UUIDs. """""" if manager['UUID'] == self.managers[0]: return chassis_driver.chassis else: return [] ",,93,2
openstack%2Fpython-novaclient~master~I106404f9d12814fec2ec2bf16cdd100834085912,openstack/python-novaclient,master,I106404f9d12814fec2ec2bf16cdd100834085912,Remove unused code,MERGED,2020-07-31 11:30:07.000000000,2020-08-05 11:41:30.000000000,2020-08-05 11:38:51.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 11:30:07.000000000', 'files': ['novaclient/tests/unit/v2/fakes.py', 'novaclient/tests/unit/fixture_data/servers.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/2ed34e657c251ac0c0a88e9f96eb4733f1937616', 'message': 'Remove unused code\n\nThe code has not been used\nsince If0161a89877f19f24e91d780cf227fdc48e7e860 .\n\nChange-Id: I106404f9d12814fec2ec2bf16cdd100834085912\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n'}]",0,744136,2ed34e657c251ac0c0a88e9f96eb4733f1937616,10,4,1,7634,,,0,"Remove unused code

The code has not been used
since If0161a89877f19f24e91d780cf227fdc48e7e860 .

Change-Id: I106404f9d12814fec2ec2bf16cdd100834085912
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/36/744136/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/unit/v2/fakes.py', 'novaclient/tests/unit/fixture_data/servers.py']",2,2ed34e657c251ac0c0a88e9f96eb4733f1937616,remove_unused_code,," def post_os_volumes_boot(request, context): body = request.json() assert (set(body.keys()) <= set(['server', 'os:scheduler_hints'])) fakes.assert_has_keys(body['server'], required=['name', 'flavorRef'], optional=['imageRef']) data = body['server'] # Require one, and only one, of the keys for bdm if 'block_device_mapping' not in data: if 'block_device_mapping_v2' not in data: msg = ""missing required keys: 'block_device_mapping'"" raise AssertionError(msg) elif 'block_device_mapping_v2' in data: msg = ""found extra keys: 'block_device_mapping'"" raise AssertionError(msg) return {'server': self.server_9012} ",0,40
openstack%2Fmanila-image-elements~master~I89ff01d31012633a2cefd6ef453530c011ff8a09,openstack/manila-image-elements,master,I89ff01d31012633a2cefd6ef453530c011ff8a09,Switch ubuntu image to Focal Fossa (20.04 LTS),MERGED,2020-07-29 17:43:23.000000000,2020-08-05 11:40:58.000000000,2020-08-05 11:40:58.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-29 17:43:23.000000000', 'files': ['bin/manila-image-create'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/f78021834132b4c199098fb86d160e9d55d0cc08', 'message': 'Switch ubuntu image to Focal Fossa (20.04 LTS)\n\nTest infrastructure is moving to Focal Fossa\nin this release, the service image could too.\n\nChange-Id: I89ff01d31012633a2cefd6ef453530c011ff8a09\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,743814,f78021834132b4c199098fb86d160e9d55d0cc08,7,3,1,16643,,,0,"Switch ubuntu image to Focal Fossa (20.04 LTS)

Test infrastructure is moving to Focal Fossa
in this release, the service image could too.

Change-Id: I89ff01d31012633a2cefd6ef453530c011ff8a09
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/14/743814/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/manila-image-create'],1,f78021834132b4c199098fb86d160e9d55d0cc08,zorilla-meets-focal-fossa,"MANILA_IMG_OS_VER=${MANILA_IMG_OS_VER:-""focal""}","MANILA_IMG_OS_VER=${MANILA_IMG_OS_VER:-""bionic""}",1,1
openstack%2Fcharm-keystone-kerberos~master~I015d8a85cd86da8ee65549a13fbc6d8ee56704a0,openstack/charm-keystone-kerberos,master,I015d8a85cd86da8ee65549a13fbc6d8ee56704a0,"Add gitreview, zuul, groovy and victoria bits",MERGED,2020-08-04 13:53:34.000000000,2020-08-05 11:32:16.000000000,2020-08-05 11:32:15.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-04 13:53:34.000000000', 'files': ['requirements.txt', '.gitreview', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/88de3b8d8fe3607bf3b233c279a95658f48318b8', 'message': 'Add gitreview, zuul, groovy and victoria bits\n\nAlso refresh tox config and requirements from release-tools templates.\n\nChange-Id: I015d8a85cd86da8ee65549a13fbc6d8ee56704a0\n'}]",0,744711,88de3b8d8fe3607bf3b233c279a95658f48318b8,15,4,1,31289,,,0,"Add gitreview, zuul, groovy and victoria bits

Also refresh tox config and requirements from release-tools templates.

Change-Id: I015d8a85cd86da8ee65549a13fbc6d8ee56704a0
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/11/744711/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitreview', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/focal-ussuri.yaml', '.zuul.yaml', 'src/metadata.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'tox.ini']",11,88de3b8d8fe3607bf3b233c279a95658f48318b8,victoria-charm-tests,"[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ignore = E402,W503 ","ignore = E402,W504",188,16
openstack%2Fopenstack-ansible-os_zun~stable%2Fussuri~I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0,openstack/openstack-ansible-os_zun,stable/ussuri,I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0,Add centos-8 support,MERGED,2020-08-04 18:05:51.000000000,2020-08-05 11:31:23.000000000,2020-08-05 11:29:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-08-04 18:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/c749bc4e6ceafe7a05a4cbe400ddb5778aad7649', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nDepends-On: https://review.opendev.org/742166\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n(cherry picked from commit 649f8f0368b2f451da7f43c905a4930b64c0c3d2)\n'}, {'number': 2, 'created': '2020-08-04 18:06:16.000000000', 'files': ['tasks/zun_compute.yml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/51b176229db757fba213356f9492164a133d7b09', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n(cherry picked from commit 649f8f0368b2f451da7f43c905a4930b64c0c3d2)\n'}]",0,744767,51b176229db757fba213356f9492164a133d7b09,9,4,2,25023,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0
(cherry picked from commit 649f8f0368b2f451da7f43c905a4930b64c0c3d2)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/67/744767/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/zun_compute.yml', 'vars/redhat.yml']",2,c749bc4e6ceafe7a05a4cbe400ddb5778aad7649,osa/el8-stable/ussuri," description: Docker CE Stable uri: ""https://download.docker.com/linux/centos/7/$basearch/stable"" gpgkey: ""https://download.docker.com/linux/centos/gpg"" - ""{{ (ansible_distribution_major_version is version('8', '<')) | ternary('docker', 'docker-ce') }}"""," uri: ""https://download.docker.com/linux/centos/docker-ce.repo"" - docker",30,11
openstack%2Fmurano~stable%2Ftrain~Idf8ab02b15459d4dc786389c583afb752c599cb6,openstack/murano,stable/train,Idf8ab02b15459d4dc786389c583afb752c599cb6,Murano api add monkey patch,MERGED,2020-07-10 03:01:32.000000000,2020-08-05 11:31:00.000000000,2020-08-05 11:29:26.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 03:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/a76837177ad5d88e77de8ad224fb661bb2e7f5d0', 'message': ""Murano api add monkey patch\n\nIn this commit [0] has monkey patching should be as\nearly as possible, but didn't monkey patch murano api,\nthis will cause the RecursionError\n\n[0]: I76fed9e80a7f848a0f6b37c25dd035844c75a6ee\n\nChange-Id: Idf8ab02b15459d4dc786389c583afb752c599cb6\nCloses-Bug: #1886784\n(cherry picked from commit ae9b4e8099a31e2a45e1a1ed0f225f50f34ca394)\n""}, {'number': 2, 'created': '2020-07-10 03:04:23.000000000', 'files': ['murano/monkey_patch.py', 'murano/cmd/engine.py', 'murano/cmd/cfapi.py', 'murano/cmd/api.py', 'murano/api/__init__.py', 'murano/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/cfef69e34e3eda4f019a00a2d84ff3d6e5288a1d', 'message': ""Murano api add monkey patch\n\nIn this commit [0] has monkey patching should be as\nearly as possible, but didn't monkey patch murano api,\nthis will cause the RecursionError\n\n[0]: I76fed9e80a7f848a0f6b37c25dd035844c75a6ee\n\nChange-Id: Idf8ab02b15459d4dc786389c583afb752c599cb6\nCloses-Bug: #1886784\n(cherry picked from commit ae9b4e8099a31e2a45e1a1ed0f225f50f34ca394)\n""}]",0,740395,cfef69e34e3eda4f019a00a2d84ff3d6e5288a1d,18,2,2,14107,,,0,"Murano api add monkey patch

In this commit [0] has monkey patching should be as
early as possible, but didn't monkey patch murano api,
this will cause the RecursionError

[0]: I76fed9e80a7f848a0f6b37c25dd035844c75a6ee

Change-Id: Idf8ab02b15459d4dc786389c583afb752c599cb6
Closes-Bug: #1886784
(cherry picked from commit ae9b4e8099a31e2a45e1a1ed0f225f50f34ca394)
",git fetch https://review.opendev.org/openstack/murano refs/changes/95/740395/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/api/__init__.py'],1,a76837177ad5d88e77de8ad224fb661bb2e7f5d0,,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import murano.monkey_patch # noqa ",,14,0
openstack%2Ftripleo-ci~master~Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2,openstack/tripleo-ci,master,Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2,Add buildimage hardened job to buildimages project template,MERGED,2020-07-23 13:22:30.000000000,2020-08-05 11:11:00.000000000,2020-08-05 11:11:00.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 13:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/315b009782018a745ec2103504288730b3fa9987', 'message': 'Add buildimage hardened job to buildimages project template\n\ntripleo-buildimage-jobs project template is used against\ntripleo-puppet-elements and tripleo-image-elements. In this\ntemplate overcloud and ipa image build job was there but\novercloud hardened build image job was missing.\n\nRecent change https://review.opendev.org/#/c/741319/ broke\nthe overcloud hardened buildimage job and it was not running\nthere.\n\nHaving coverage there will help to catch issue early.\n\nChange-Id: Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-24 03:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fdf42bb08dcd6c76b016426a1058655e70e6c68c', 'message': 'Add buildimage hardened job to buildimages project template\n\ntripleo-buildimage-jobs project template is used against\ntripleo-puppet-elements and tripleo-image-elements. In this\ntemplate overcloud and ipa image build job was there but\novercloud hardened build image job was missing.\n\nRecent change https://review.opendev.org/#/c/741319/ broke\nthe overcloud hardened buildimage job and it was not running\nthere.\n\nHaving coverage there will help to catch issue early.\n\nDepends-On: https://review.opendev.org/#/c/742645/\n\nChange-Id: Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-24 08:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d986641cf38c360987ecaae8c1f77d18a6e31f91', 'message': 'Add buildimage hardened job to buildimages project template\n\ntripleo-buildimage-jobs project template is used against\ntripleo-puppet-elements and tripleo-image-elements. In this\ntemplate overcloud and ipa image build job was there but\novercloud hardened build image job was missing.\n\nRecent change https://review.opendev.org/#/c/741319/ broke\nthe overcloud hardened buildimage job and it was not running\nthere.\n\nIt also makes c7 hardened job voting.\n\nHaving coverage there will help to catch issue early.\n\nChange-Id: Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-27 08:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/90229b3eb6fed99dd58f1112b532326e1f8f9f9f', 'message': 'Add buildimage hardened job to buildimages project template\n\ntripleo-buildimage-jobs project template is used against\ntripleo-puppet-elements and tripleo-image-elements. In this\ntemplate overcloud and ipa image build job was there but\novercloud hardened build image job was missing.\n\nRecent change https://review.opendev.org/#/c/741319/ broke\nthe overcloud hardened buildimage job and it was not running\nthere.\n\nIt also makes c7 hardened job voting.\n\nHaving coverage there will help to catch issue early.\nIt also adds c7 hardened jobs to toci check & gate job.\n\nChange-Id: Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-29 08:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/db23e66b76bcac4f34db4348551b221332105e3f', 'message': 'Add buildimage hardened job to buildimages project template\n\ntripleo-buildimage-jobs project template is used against\ntripleo-puppet-elements and tripleo-image-elements. In this\ntemplate overcloud and ipa image build job was there but\novercloud hardened build image job was missing.\n\nRecent change https://review.opendev.org/#/c/741319/ broke\nthe overcloud hardened buildimage job and it was not running\nthere.\n\nIt also makes c7 hardened job voting.\n\nHaving coverage there will help to catch issue early.\nIt also adds c8 hardened jobs to toci check & gate job.\n\nChange-Id: Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-07-31 06:22:27.000000000', 'files': ['roles/oooci-build-images/templates/build-images.sh.j2', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6a424673fea53e0edb327b231e2647c1893f70cc', 'message': 'Add buildimage hardened job to buildimages project template\n\ntripleo-buildimage-jobs project template is used against\ntripleo-puppet-elements and tripleo-image-elements. In this\ntemplate overcloud and ipa image build job was there but\novercloud hardened build image job was missing.\n\nRecent change https://review.opendev.org/#/c/741319/ broke\nthe overcloud hardened buildimage job and it was not running\nthere.\n\nIt also fixes typo in overcloud-hardened-images.yaml.\nIt also makes c7 hardened job voting.\n\nHaving coverage there will help to catch issue early.\nIt also adds c8 hardened jobs to toci check & gate job.\n\nChange-Id: Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",6,742662,6a424673fea53e0edb327b231e2647c1893f70cc,42,8,6,12393,,,0,"Add buildimage hardened job to buildimages project template

tripleo-buildimage-jobs project template is used against
tripleo-puppet-elements and tripleo-image-elements. In this
template overcloud and ipa image build job was there but
overcloud hardened build image job was missing.

Recent change https://review.opendev.org/#/c/741319/ broke
the overcloud hardened buildimage job and it was not running
there.

It also fixes typo in overcloud-hardened-images.yaml.
It also makes c7 hardened job voting.

Having coverage there will help to catch issue early.
It also adds c8 hardened jobs to toci check & gate job.

Change-Id: Ie19cf72b707d6a841c1e0fbbba0940946de7e5c2
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/742662/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-image.yaml'],1,315b009782018a745ec2103504288730b3fa9987,imagescoverage, - tripleo-buildimage-overcloud-hardened-full-centos-7 - tripleo-buildimage-overcloud-hardened-full-centos-8, experimental: jobs:,2,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~I7c49f0cd7abb85e725296b17ecb88f34b50affed,openstack/openstack-ansible-lxc_hosts,stable/ussuri,I7c49f0cd7abb85e725296b17ecb88f34b50affed,move listchanges removal to where it's needed,MERGED,2020-06-22 18:16:14.000000000,2020-08-05 10:44:13.000000000,2020-08-05 10:41:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-22 18:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/78c0144534a990edc0169a0b5f3150f9d3973685', 'message': ""move listchanges removal to where it's needed\n\nlistchanges config needs to be be removed before apt is run\n\nChange-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed\n""}, {'number': 2, 'created': '2020-06-22 18:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3b1d59c7f5c384cd49c171521a73a7813f34dfb8', 'message': ""move listchanges removal to where it's needed\n\nlistchanges config needs to be be removed before apt is run\n\nChange-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed\n(cherry picked from commit 2aa1a6776aa729d07c05311e30f93f7e74385b97)\n""}, {'number': 3, 'created': '2020-08-04 16:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3c29c0a6c2a76686fb36d2a9fe92c6d7dcd318f9', 'message': ""move listchanges removal to where it's needed\n\nlistchanges config needs to be be removed before apt is run\n\nChange-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed\n(cherry picked from commit 2aa1a6776aa729d07c05311e30f93f7e74385b97)\n""}, {'number': 4, 'created': '2020-08-04 16:29:16.000000000', 'files': ['templates/prep-scripts/debian_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cb4f10bdf1692be78790e06b21a3f60f7d337f8c', 'message': ""move listchanges removal to where it's needed\n\nlistchanges config needs to be be removed before apt is run\n\nChange-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed\n(cherry picked from commit 2aa1a6776aa729d07c05311e30f93f7e74385b97)\n""}]",0,737346,cb4f10bdf1692be78790e06b21a3f60f7d337f8c,15,3,4,14288,,,0,"move listchanges removal to where it's needed

listchanges config needs to be be removed before apt is run

Change-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed
(cherry picked from commit 2aa1a6776aa729d07c05311e30f93f7e74385b97)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/46/737346/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/prep-scripts/debian_prep.sh.j2'],1,78c0144534a990edc0169a0b5f3150f9d3973685,remove-listchanges-ussuri,# remove configs that break containers (listchanges is missing) rm -f /etc/apt/apt.conf.d/20listchanges ,rm -f /etc/apt/apt.conf.d/20listchanges,3,1
openstack%2Fneutron-lib~master~Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454,openstack/neutron-lib,master,Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454,Add DEVICE_OWNER_ROUTED constant,MERGED,2020-07-17 09:39:39.000000000,2020-08-05 10:38:36.000000000,2020-08-05 10:34:30.000000000,"[{'_account_id': 6476}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-17 09:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5fe02b046bba30c3223570a9dcaccec27acb394b', 'message': 'Add DEVICE_OWNER_ROUTED\n\nThis patch is in order to implement this:\nhttps://review.opendev.org/#/c/669395/\nusing a correct constant defined in neutron-lib.\n\nChange-Id: Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454\n'}, {'number': 2, 'created': '2020-07-30 13:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ed1a727f9ff506cd360601b0a5fa0cadc442776e', 'message': 'Add DEVICE_OWNER_ROUTED and service_types in subnet.py\n\nThis patch is in order to implement this:\nhttps://review.opendev.org/#/c/669395/\nusing a correct constant defined in neutron-lib.\n\nChange-Id: Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454\n'}, {'number': 3, 'created': '2020-07-30 13:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/65362c0764a757fe48869ab643e1fd3657d38bdf', 'message': 'Add DEVICE_OWNER_ROUTED constant and service_types\n\nThis patch adds the DEVICE_OWNER_ROUTED constant, and add service_types\nas possible attribute for a subnet query.\n\nRelated-Bug: #1667329\nChange-Id: Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454\n'}, {'number': 4, 'created': '2020-07-30 13:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/67fb22050025cdc978645fa8cffbababada582c0', 'message': 'Add DEVICE_OWNER_ROUTED constant and service_types\n\nThis patch adds the DEVICE_OWNER_ROUTED constant, and add service_types\nas possible attribute for a subnet query.\n\nRelated-Bug: #1667329\nChange-Id: Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454\n'}, {'number': 5, 'created': '2020-07-31 07:44:10.000000000', 'files': ['neutron_lib/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b64d4e2423da8b1664ec632a849b4d8c0892e20e', 'message': 'Add DEVICE_OWNER_ROUTED constant\n\nThis patch adds the DEVICE_OWNER_ROUTED constant.\n\nRelated-Bug: #1667329\nChange-Id: Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454\n'}]",12,741607,b64d4e2423da8b1664ec632a849b4d8c0892e20e,21,5,5,6476,,,0,"Add DEVICE_OWNER_ROUTED constant

This patch adds the DEVICE_OWNER_ROUTED constant.

Related-Bug: #1667329
Change-Id: Ibde33bdacba6bd1e9c41cc69d0054bf55e1e6454
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/07/741607/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/constants.py'],1,5fe02b046bba30c3223570a9dcaccec27acb394b,bug/1667329,"DEVICE_OWNER_ROUTED = (DEVICE_OWNER_NETWORK_PREFIX + ""routed"")",,1,0
openstack%2Fneutron-lib~master~If48947e0dbf0cce47a956e7bbe8eaf3e8f3b6d7f,openstack/neutron-lib,master,If48947e0dbf0cce47a956e7bbe8eaf3e8f3b6d7f,Add address group exceptions,MERGED,2020-07-31 21:33:30.000000000,2020-08-05 10:36:38.000000000,2020-08-05 10:34:21.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2020-07-31 21:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a649ae35dadbce6833a823fe102ef8169ca589f3', 'message': 'Add address group exceptions\n\nAdd exception classess for address groups\n\nChange-Id: If48947e0dbf0cce47a956e7bbe8eaf3e8f3b6d7f\n'}, {'number': 2, 'created': '2020-08-03 15:36:22.000000000', 'files': ['neutron_lib/exceptions/address_group.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6ae39427ec5e1e7845c32d304c9fdb475e260f84', 'message': 'Add address group exceptions\n\nAdd exception classess for address groups\n\nImplements: blueprint address-groups-in-sg-rules\nChange-Id: If48947e0dbf0cce47a956e7bbe8eaf3e8f3b6d7f\n'}]",3,744257,6ae39427ec5e1e7845c32d304c9fdb475e260f84,14,5,2,28159,,,0,"Add address group exceptions

Add exception classess for address groups

Implements: blueprint address-groups-in-sg-rules
Change-Id: If48947e0dbf0cce47a956e7bbe8eaf3e8f3b6d7f
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/57/744257/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions/address_group.py'],1,a649ae35dadbce6833a823fe102ef8169ca589f3,bp/address-groups-in-sg-rules,"# All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib._i18n import _ from neutron_lib import exceptions class AddressGroupNotFound(exceptions.NotFound): message = _(""Address group %(address_group_id)s could not be found."") class AddressesNotFound(exceptions.NotFound): message = _(""Addresses %(addresses)s not found in the address group "" ""%(address_group_id)s."") class AddressesAlreadyExist(exceptions.BadRequest): message = _(""Addresses %(addresses)s already exist in the "" ""address group %(address_group_id)s."") ",,30,0
openstack%2Fironic-python-agent~master~I6c37c554f37dd5f1d21c8fd4fad2a4f44a3c75d7,openstack/ironic-python-agent,master,I6c37c554f37dd5f1d21c8fd4fad2a4f44a3c75d7,Extends pci devices metrics,MERGED,2020-08-03 07:00:52.000000000,2020-08-05 10:35:42.000000000,2020-08-05 10:30:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-08-03 07:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0c85761f759f5790d20f26554e777bbc8a00a3f3', 'message': 'Extends pci devices metrics\n\nAdds PCI class, device revision, and PCI bus for the pci-device\ncollector, these metrics as well as vendor id and device id are\nfragments which can be used to construct device information like\nlspci output.\n\nAccelerator based scheduling is possible after ironic has such\ninformation in-place.\n\nChange-Id: I6c37c554f37dd5f1d21c8fd4fad2a4f44a3c75d7\nStory: 2007971\nTask: 40474\n'}, {'number': 2, 'created': '2020-08-04 15:36:08.000000000', 'files': ['ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'releasenotes/notes/extend-pci-metric-5482284d6a9fe765.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b424fbfa35d4014839ef84400bd9fcb63a2ed7f6', 'message': 'Extends pci devices metrics\n\nCollects PCI class, revision, and bus information for the pci-devices\ncollector, these metrics as well as vendor id and device id are\ncomponents which can be used to construct device information like\nlspci output, which is how cyborg agent collects accelerator devices.\n\nAccelerator device based scheduling is possible after ironic has such\ninformation in place.\n\nChange-Id: I6c37c554f37dd5f1d21c8fd4fad2a4f44a3c75d7\nStory: 2007971\nTask: 40474\n'}]",3,744403,b424fbfa35d4014839ef84400bd9fcb63a2ed7f6,15,6,2,24828,,,0,"Extends pci devices metrics

Collects PCI class, revision, and bus information for the pci-devices
collector, these metrics as well as vendor id and device id are
components which can be used to construct device information like
lspci output, which is how cyborg agent collects accelerator devices.

Accelerator device based scheduling is possible after ironic has such
information in place.

Change-Id: I6c37c554f37dd5f1d21c8fd4fad2a4f44a3c75d7
Story: 2007971
Task: 40474
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/03/744403/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'releasenotes/notes/extend-pci-metric-5482284d6a9fe765.yaml']",3,0c85761f759f5790d20f26554e777bbc8a00a3f3,pci-metric,"--- features: - | Introspection of PCI devices now collects PCI class, revision and PCI bus. ",,36,16
openstack%2Fironic-python-agent~master~I08ae0037f5baf3f69fb7a643c2427a0fa63c9381,openstack/ironic-python-agent,master,I08ae0037f5baf3f69fb7a643c2427a0fa63c9381,Hint 404 lookup failures for Operators,MERGED,2020-05-11 23:43:44.000000000,2020-08-05 10:31:00.000000000,2020-08-05 10:28:38.000000000,"[{'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-11 23:43:44.000000000', 'files': ['ironic_python_agent/ironic_api_client.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4ba9ce67dc79082c82d0e3a1b6105ca429fa3f03', 'message': 'Hint 404 lookup failures for Operators\n\nChange-Id: I08ae0037f5baf3f69fb7a643c2427a0fa63c9381\nStory: 2007655\nTask: 39738\n'}]",0,726976,4ba9ce67dc79082c82d0e3a1b6105ca429fa3f03,17,5,1,11655,,,0,"Hint 404 lookup failures for Operators

Change-Id: I08ae0037f5baf3f69fb7a643c2427a0fa63c9381
Story: 2007655
Task: 39738
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/76/726976/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/ironic_api_client.py'],1,4ba9ce67dc79082c82d0e3a1b6105ca429fa3f03,," 'status code: %s. Check if inspection has completed.',"," 'status code: %s',",1,1
openstack%2Fopenstack-ansible-os_aodh~master~Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae,openstack/openstack-ansible-os_aodh,master,Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae,Revert CentOS 8 jobs to voting,MERGED,2020-07-28 13:47:04.000000000,2020-08-05 10:23:15.000000000,2020-07-30 12:11:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-28 13:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/1a9b8abc0fede6dfd08dc61c99db50255aa34577', 'message': 'Revert CentOS 8 jobs to voting\n\nChange-Id: Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae\n'}, {'number': 2, 'created': '2020-07-29 10:30:14.000000000', 'files': ['vars/debian.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/70e6c6d3ecdac4484d9212837c7424e0db36e826', 'message': 'Revert CentOS 8 jobs to voting\n\nThis also fix ubuntu focal distro installation\n\nChange-Id: Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae\n'}]",0,743540,70e6c6d3ecdac4484d9212837c7424e0db36e826,11,3,2,28619,,,0,"Revert CentOS 8 jobs to voting

This also fix ubuntu focal distro installation

Change-Id: Id178a814f0c54dc4d0a9041da0c191fbfa89b4ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/40/743540/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,1a9b8abc0fede6dfd08dc61c99db50255aa34577,osa/el8,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,0,16
openstack%2Fnetworking-bgpvpn~master~Id04da60731543d970de6a1a88da5a32435be1aae,openstack/networking-bgpvpn,master,Id04da60731543d970de6a1a88da5a32435be1aae,Fix pep8 job,MERGED,2020-07-09 13:29:06.000000000,2020-08-05 10:22:38.000000000,2020-08-05 10:15:02.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 13:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/af460542eed5d98e5244b89c20f6f96ba2c676ad', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n'}, {'number': 2, 'created': '2020-07-16 09:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c187264c2f06995e94eb74cb0531a754e32c3ca2', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n'}, {'number': 3, 'created': '2020-07-17 14:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f4bdc7f4de51eca8c1614e1f439ad9b1c352934d', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n'}, {'number': 4, 'created': '2020-07-27 12:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b14085d3ff308dbf2f86c2d2837b11d61a306a9a', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n'}, {'number': 5, 'created': '2020-07-27 14:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/4c8124ff997f8c93a1b7e04d4aee8fbb93227f1a', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n'}, {'number': 6, 'created': '2020-07-28 09:00:59.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8c6564ffc4d2e00563ae22cfee6ebb4314304d9b', 'message': 'Fix pep8 job\n\nNew versions of isort broke pylint. This patch fixes it at 4.3.21.\nMake sure that siblings are installed for functional tests.\n\nChange-Id: Id04da60731543d970de6a1a88da5a32435be1aae\n'}]",0,740287,8c6564ffc4d2e00563ae22cfee6ebb4314304d9b,22,5,6,8313,,,0,"Fix pep8 job

New versions of isort broke pylint. This patch fixes it at 4.3.21.
Make sure that siblings are installed for functional tests.

Change-Id: Id04da60731543d970de6a1a88da5a32435be1aae
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/87/740287/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,af460542eed5d98e5244b89c20f6f96ba2c676ad,pep8-error,isort==4.3.21,,2,0
openstack%2Fnova~master~I58099726f799c427e9174a0dcce9889344d51e7c,openstack/nova,master,I58099726f799c427e9174a0dcce9889344d51e7c,Provider Config File: YAML file loading and schema validation,MERGED,2019-07-29 17:12:20.000000000,2020-08-05 09:50:09.000000000,2020-07-31 17:29:18.000000000,"[{'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19332}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28063}, {'_account_id': 29334}, {'_account_id': 29745}, {'_account_id': 29963}, {'_account_id': 30192}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-07-29 17:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff710f5941fc921b9ca529434adc39793d02ef5b', 'message': 'WIP: Provider config file\n\nThis implements the referenced blueprint to provide a JSON schema and\na method to parse a provider config YAML file and validate it against\nthe schema.\n\nTODO: tests, load values from config, Placement\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 2, 'created': '2019-07-30 22:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/296881ce54476df0cef69673648636c356efa3da', 'message': 'WIP: Provider config file\n\nThis implements the referenced blueprint to provide a JSON schema and\na method to parse a provider config YAML file and validate it against\nthe schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 3, 'created': '2019-07-31 17:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eeb6c8e22cd6166489b38f48e4404576aaad41d8', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes a schema, functions to load and validate\nindividual files, and a new config option for a path to the files.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 4, 'created': '2019-07-31 17:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22885cc0c7b82903ce90dbcc278016a7d8240f43', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes a schema, functions to load and validate\nindividual files, and a new config option for a path to the files.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 5, 'created': '2019-08-01 17:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e24ca7c47d5fddbc99aeb1bada42c97ab64b0cde', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes a schema, functions to load and validate\nindividual files, and a new config option for a path to the files.\n\nWIP: Tests\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 6, 'created': '2019-08-03 01:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87dad84e8aca8f75595737dfea84b5537c577bfa', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes a schema, functions to load and validate\nindividual files, and a new config option for a path to the files.\n\nWIP: A few more tests, loading schema by version\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 7, 'created': '2019-08-05 20:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f83be34e768a1256f2c877f417ba8dce0d80125e', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 8, 'created': '2019-08-05 22:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03ee3bb6cca3f5edf4bc22bd7064f9f52b739f67', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 9, 'created': '2019-08-07 23:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6c57713f9d0fb1d874adee75751bfce7e84f8e7', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 10, 'created': '2019-08-08 03:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23012d033ec461005de8b2e723c326b52cbcd851', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 11, 'created': '2019-08-13 00:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/daed72a9b3a365be1f0bf22a20e1fe733a6e6b70', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 12, 'created': '2019-08-13 00:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cded9caf4ddf86c55b0170bf10ab6059b71ed4bb', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 13, 'created': '2019-08-13 21:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/015ff88570e0a905de7eb66b1b18a93e18a18140', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 14, 'created': '2019-08-14 21:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d77e6ae043ffc960cb6034a94bb7e8f1a28a997', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 15, 'created': '2019-08-15 19:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73ef40fa7a1cd11eafdfb62dd75a9bc585b43133', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 16, 'created': '2019-08-16 00:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d688d8912ba9f61123219d70887a8e6cbf7c84b', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 17, 'created': '2019-08-28 05:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b2b1c07b831ea0f0b04dcdcb9d1dde80b090093', 'message': 'Provider config file schema and loader\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 18, 'created': '2019-09-01 20:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8896925c223c9412efafc7c7bad6e6399e176c53', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 19, 'created': '2019-09-02 17:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a589606ef5bf0ef559ea21de66b00ebfa027c99', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 20, 'created': '2019-09-04 05:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/deefb43d3f92b40ad7c5e75ec8acdb0e38aed717', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 21, 'created': '2019-09-04 18:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63482f67d1caef3e4f2a3042456cf004aa892386', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom provider resources via the specified yaml configuration file(s).\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 22, 'created': '2019-09-05 00:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eadaebf5e874b5636e2045752191ab6002ce6c5e', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 23, 'created': '2019-09-18 23:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fbd81b416bdb062918541bab717c0f5fa58015a', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 24, 'created': '2019-09-19 22:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a44025f84fb961bae45584823f10a4db7dbbec37', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 25, 'created': '2019-10-14 22:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a438ab4afaf431036733335d87f1da5fa5e39546', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 26, 'created': '2019-10-15 02:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/197ad3dbc3163d446dbfabb9ae037609589d6ed6', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 27, 'created': '2019-10-15 20:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b540a0b6f882307fe17fa0340bfe1ab03c87595e', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 28, 'created': '2019-10-19 01:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de495e701139732db7acdc08d69b030ee30da650', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 29, 'created': '2019-10-23 04:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/903d0586b016ee9e4ed615fac5022c29b20fb5e5', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 30, 'created': '2019-10-23 18:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4437e4f28faed97de5de749bdb1e7314d50c4541', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 31, 'created': '2019-10-23 22:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b095f9d2ace474ffc5cf49a4fb3804d0363b26df', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 32, 'created': '2019-11-05 19:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/387703b84412e1150d18187804db2090bac168dc', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 33, 'created': '2019-11-27 18:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86df093e6beb3ece5f92e7c0c64d02117d744ea5', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 34, 'created': '2019-12-02 21:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f6bc49c964002d26b494c7bd1bc380192a96809', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 35, 'created': '2019-12-20 21:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b9ece2cc52520a50bb64f7a9ec3717854a57769', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 36, 'created': '2020-01-08 03:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c27aecf3a9a3ad236b22401e202d201aca42134a', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 37, 'created': '2020-01-14 21:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0fecad7187c13a261d8e24c401da15bf27c239b', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 38, 'created': '2020-02-26 20:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7aaf2cd5130fdfc01a57957fe1cd351d433d0bb5', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 39, 'created': '2020-02-28 20:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9e84c14cbb4401168609b9aadc37f2e97e3e26e', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 40, 'created': '2020-03-12 12:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/571134ebc10cd70e9391fdff1b7451ef606a24a0', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 41, 'created': '2020-03-12 14:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/125d75c77391b0d9c84e10cbf4385f8ce77c6c51', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 42, 'created': '2020-03-12 18:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90b62729be8d66e1612c2a2817b9e5c90f7f554f', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 43, 'created': '2020-05-13 11:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f32d2f30ae7b609466b54e2e109310b12df321c', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\nBlueprint: provider-config-file\n'}, {'number': 44, 'created': '2020-05-19 06:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74a1ac228e25330645321d7221fbabbd53ba024f', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 45, 'created': '2020-05-19 06:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d9b64fe52e5b79a236c844901a79e532bbcd7f2', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 46, 'created': '2020-06-15 08:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af6b9f3c696866c75448edcca82375c4cf5182dd', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 47, 'created': '2020-06-15 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7da0f9b28acead1beee797893a1ce05d013d62bb', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 48, 'created': '2020-07-01 02:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d94b950b4a7aeee905bf70bf1a9f57dee1c29159', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 49, 'created': '2020-07-07 06:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d30a1c1bf8db4c2461b8ad1af51006a911e99b6e', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 50, 'created': '2020-07-20 03:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f10e40e9d77dae2377411c505d69aeed5e133d27', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 51, 'created': '2020-07-27 08:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a657c253a85540ddc4f3683f94920a0b6b656e3d', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nSince this patch, package ddt>=1.2.1 is required to run tests.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 52, 'created': '2020-07-28 02:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3995ee7ed21f9846686eb428073d8ae0e5eb007f', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nSince this patch, package ddt>=1.2.1 is required to run tests.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 53, 'created': '2020-07-28 09:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a29faab874c646ddbe6529e0b0ee770ca5dd8ba', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nSince this patch, package ddt>=1.2.1 is required to run tests.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 54, 'created': '2020-07-29 01:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa64fc50bbcb606409585a49c3ed886b524281b1', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nSince this patch, package ddt>=1.2.1 is required to run tests.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 55, 'created': '2020-07-30 01:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbe762965952a9e84d0653cad1b1817c2fcccc02', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nSince this patch, package ddt>=1.2.1 is required to run tests.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}, {'number': 56, 'created': '2020-07-30 07:39:29.000000000', 'files': ['nova/tests/unit/compute/test_provider_config.py', 'nova/exception.py', 'requirements.txt', 'nova/compute/provider_config.py', 'test-requirements.txt', 'nova/tests/unit/compute/provider_config_data/v1/validation_error_test_data.yaml', 'lower-constraints.txt', 'nova/tests/unit/compute/provider_config_data/v1/validation_success_test_data.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/3667af6cd14d3a87a223fb5361855c7e4b80651f', 'message': 'Provider Config File: YAML file loading and schema validation\n\nThis series implements the referenced blueprint to allow for specifying\ncustom resource provider traits and inventories via yaml config files.\n\nThis first commit includes schema version 1.0 and functions to load and\nvalidate against that schema.\n\nSince this patch, package ddt>=1.2.1 is required to run tests.\n\nCo-Author: Tony Su <tao.su@intel.com>\nAuthor: Dustin Cowles <dustin.cowles@intel.com>\nBlueprint: provider-config-file\nChange-Id: I58099726f799c427e9174a0dcce9889344d51e7c\n'}]",402,673341,3667af6cd14d3a87a223fb5361855c7e4b80651f,597,26,56,29745,,,0,"Provider Config File: YAML file loading and schema validation

This series implements the referenced blueprint to allow for specifying
custom resource provider traits and inventories via yaml config files.

This first commit includes schema version 1.0 and functions to load and
validate against that schema.

Since this patch, package ddt>=1.2.1 is required to run tests.

Co-Author: Tony Su <tao.su@intel.com>
Author: Dustin Cowles <dustin.cowles@intel.com>
Blueprint: provider-config-file
Change-Id: I58099726f799c427e9174a0dcce9889344d51e7c
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/673341/40 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_provider_config.py', 'nova/tests/unit/compute/provider_config_data/example_provider.yaml', 'requirements.txt', 'nova/compute/provider_config.py', 'nova/compute/provider_config_schema.yaml']",5,ff710f5941fc921b9ca529434adc39793d02ef5b,bp/provider-config-file,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. type: object properties: meta: type: object properties: # Version ($Major, $minor) of the schema must successfully parse # documents conforming to ($Major, 0..$minor). Any breaking schema change # (e.g. removing fields, adding new required fields, imposing a stricter # pattern on a value, etc.) must bump $Major. schema_version: type: string # Using an enum here allows us to be explicit about which versions are # supported, including allowing us to easily blacklist certain versions enum: - ""1.0"" required: - schema_version providers: type: array items: type: object properties: identification: $ref: '#/provider_definitions/provider_identification' inventories: $ref: '#/provider_definitions/provider_inventories' traits: $ref: '#/provider_definitions/provider_traits' required: - identification additionalProperties: false required: - meta additionalProperties: false provider_definitions: provider_identification: # Identify a single provider to configure. # Exactly one of uuid or name is mandatory. Specifying both is an error. # The uuid can be set to the specialized string `$COMPUTE_NODE` which will # cause the consuming compute service to apply the configuration in this # provider to all nodes it manages. type: object properties: uuid: oneOf: - type: string # This should be replaced with a better validator, but I was having issues pattern: '[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}' - type: string enum: - ""$COMPUTE_NODE"" name: type: string minLength: 1 oneOf: - required: - uuid - required: - name maxProperties: 1 provider_inventories: # Allows the admin to specify various adjectives to create and manage # providers' inventories. This list of adjectives can be extended in the # future as the schema evolves to meet new use cases. For now, only one # adjective, `additional`, is supported. type: object properties: additional: type: array items: patternProperties: # Allows any key name here, comparison against Nova standard # resource classes (which cannot be used) will be handled in # Placement. Total is required but other properties will be # defaulted in Placement. ^.*$: type: object properties: total: type: int required: - total additionalProperties: true additionalProperties: false provider_traits: # Allows the admin to specify various adjectives to create and manage # providers' traits. This list of adjectives can be extended in the # future as the schema evolves to meet new use cases. For now, only one # adjective, `additional`, is supported. type: object properties: additional: type: array items: # Only custom traits are allowed, but comparison against standard # traits will be handled in Placement. type: string additionalProperties: false ",,347,0
openstack%2Fnova~master~I5b98355f15ffadd4ece535a7a123c4e77a90adfa,openstack/nova,master,I5b98355f15ffadd4ece535a7a123c4e77a90adfa,Drop use of legacy encryptor specifiers,NEW,2020-07-29 19:45:31.000000000,2020-08-05 09:49:57.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-29 19:45:31.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f7b89b47ef8337ab7807c365131eeb8679d8970', 'message': 'Drop use of legacy encryptor specifiers\n\nThe os-brick library is dropping support for providing classpath and\nnon-standard encryptors. This functionality was deprecated in the Ocata\nrelease.\n\nThis removes checks we had in place to attempt to lookup non-standard\nproviders from a list of providers os-brick understood so that that list\ncan be removed from the library.\n\nChange-Id: I5b98355f15ffadd4ece535a7a123c4e77a90adfa\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743834,7f7b89b47ef8337ab7807c365131eeb8679d8970,14,12,1,11904,,,0,"Drop use of legacy encryptor specifiers

The os-brick library is dropping support for providing classpath and
non-standard encryptors. This functionality was deprecated in the Ocata
release.

This removes checks we had in place to attempt to lookup non-standard
providers from a list of providers os-brick understood so that that list
can be removed from the library.

Change-Id: I5b98355f15ffadd4ece535a7a123c4e77a90adfa
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/743834/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7f7b89b47ef8337ab7807c365131eeb8679d8970,drop_classpath_encryptors,, 'provider': 'nova.volume.encryptors.luks.LuksEncryptor'})) self.assertTrue(drvr._allow_native_luksv1({ 'provider': 'LuksEncryptor'})) self.assertTrue(drvr._allow_native_luksv1({,0,6
openstack%2Fbifrost~master~I14b763890b670e3843c47cdccfb8d572917650ca,openstack/bifrost,master,I14b763890b670e3843c47cdccfb8d572917650ca,Consolidate env-setup,MERGED,2020-07-21 14:09:30.000000000,2020-08-05 09:43:32.000000000,2020-08-05 09:40:51.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-21 14:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/72f947c02276d1ba0f7657b3b2a036a954843457', 'message': 'Consolidate env-setup\n\nConsolidate variables in env-setup, use double-brackets when needed\nto improve readability and portability.\nUse the id command to set correct user and group for ansible install\ndirectory.\n\nChange-Id: I14b763890b670e3843c47cdccfb8d572917650ca\n'}, {'number': 2, 'created': '2020-07-24 12:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fbfcbfdf59395810052f59e8cbdf75e3b5c9363f', 'message': 'Consolidate env-setup\n\nConsolidate variables in env-setup, use double-brackets when needed\nto improve readability and portability.\nUse the id command to set correct user and group for ansible install\ndirectory.\n\nChange-Id: I14b763890b670e3843c47cdccfb8d572917650ca\n'}, {'number': 3, 'created': '2020-07-27 12:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cf2c6ef1258ea082262deaebfc0433cfdaf0bf10', 'message': 'Consolidate env-setup\n\nConsolidate variables in env-setup, use double-brackets when needed\nto improve readability and portability.\nUse the id command to set correct user and group for ansible install\ndirectory.\n\nChange-Id: I14b763890b670e3843c47cdccfb8d572917650ca\n'}, {'number': 4, 'created': '2020-07-27 12:42:53.000000000', 'files': ['scripts/env-setup.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/42f6d942528c9932355c54cc1e5abe2804621b2c', 'message': 'Consolidate env-setup\n\nConsolidate variables in env-setup, use double-brackets when needed\nto improve readability and portability.\nUse the id command to set correct user and group for ansible install\ndirectory.\n\nChange-Id: I14b763890b670e3843c47cdccfb8d572917650ca\n'}]",0,742201,42f6d942528c9932355c54cc1e5abe2804621b2c,16,4,4,23851,,,0,"Consolidate env-setup

Consolidate variables in env-setup, use double-brackets when needed
to improve readability and portability.
Use the id command to set correct user and group for ansible install
directory.

Change-Id: I14b763890b670e3843c47cdccfb8d572917650ca
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/01/742201/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/env-setup.sh'],1,72f947c02276d1ba0f7657b3b2a036a954843457,consolidate,"ANSIBLE_COLLECTION_REQ=${ANSIBLE_COLLECTION_REQ:-$(dirname $0)/../ansible-collection-requirements.yml} ANSIBLE_INSTALL_ROOT=${ANSIBLE_INSTALL_ROOT:-/opt/stack}PLAYBOOKS_LIBRARY_PATH=$(dirname $0)/../playbooks/library if [[ -n ""${VENV-}"" ]]; thenANSIBLE_USER=$(id -nu) ANSIBLE_GROUP=$(id -ng) if [[ ! -d ${ANSIBLE_INSTALL_ROOT} ]]; thensudo -H chown -R ${ANSIBLE_USER}:${ANSIBLE_GROUP} ${ANSIBLE_INSTALL_ROOT}if [[ -n ""${VENV-}"" ]]; then","ANSIBLE_COLLECTION_REQ=${ANSIBLE_COLLECTION_REQ:-$(dirname $0)/../ansible-collection-requirements.yml} if [ -n ""${VENV-}"" ]; thenPLAYBOOKS_LIBRARY_PATH=$(dirname $0)/../playbooks/library ANSIBLE_INSTALL_ROOT=${ANSIBLE_INSTALL_ROOT:-/opt/stack} u=$(whoami) g=$(groups | awk '{print $1}') if [ ! -d ${ANSIBLE_INSTALL_ROOT} ]; thensudo -H chown -R $u:$g ${ANSIBLE_INSTALL_ROOT} if [ -n ""${VENV-}"" ]; then",10,12
openstack%2Fovn-octavia-provider~stable%2Fussuri~Ic013e5a0605c28453d3ee1b64031022f6f75f8f6,openstack/ovn-octavia-provider,stable/ussuri,Ic013e5a0605c28453d3ee1b64031022f6f75f8f6,Fix pep8 and functional jobs,MERGED,2020-08-03 10:17:31.000000000,2020-08-05 09:35:54.000000000,2020-08-05 09:29:32.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-08-03 10:17:31.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'roles/configure_functional_tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2f60a91809181405ac56e9998a72bd82aaa81574', 'message': 'Fix pep8 and functional jobs\n\nThis change includes a 3 different patches that we need\nto squash in order to pass the gate.\n\n1) New versions of isort broke pylint. This patch fixes it at 4.3.21.\n\n2) The functional job fails because of bugfixes in neutron\ndevstack lib. We need to update our functional jobs also.\n\n3) Add functional release and master job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source from the master branch.\n\nDefine also second job that will run code with latest\nOVN/OVS release.\n\nCloses-Bug: #1887363\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n(cherry picked from commit 773daf59de78617046e7881d6f2c55e2ff6e595c)\n'}]",0,744442,2f60a91809181405ac56e9998a72bd82aaa81574,15,4,1,24791,,,0,"Fix pep8 and functional jobs

This change includes a 3 different patches that we need
to squash in order to pass the gate.

1) New versions of isort broke pylint. This patch fixes it at 4.3.21.

2) The functional job fails because of bugfixes in neutron
devstack lib. We need to update our functional jobs also.

3) Add functional release and master job that builds OVN

In order to test the latest code in the core OVN repository,
add a job that builds it from source from the master branch.

Define also second job that will run code with latest
OVN/OVS release.

Closes-Bug: #1887363
Change-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6
(cherry picked from commit 773daf59de78617046e7881d6f2c55e2ff6e595c)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/42/744442/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'roles/configure_functional_tests/tasks/main.yaml']",5,2f60a91809181405ac56e9998a72bd82aaa81574,, NEUTRON_DIR={{ neutron_dir }} TOP_DIR={{ devstack_dir }} STACK_USER=stack OVS_BRANCH={{ OVS_BRANCH }} OVN_BRANCH={{ OVN_BRANCH }} source $NEUTRON_DIR/devstack/lib/ovs source $NEUTRON_DIR/devstack/lib/ovn_agent source $NEUTRON_DIR/tools/configure_for_func_testing.sh, NEUTRON_PATH={{ neutron_dir }} source $NEUTRON_PATH/devstack/lib/ovs source $NEUTRON_PATH/tools/configure_for_func_testing.sh,31,6
openstack%2Frpm-packaging~master~Ie0779a76fccdc088aa50381e41fca912ac58d3d7,openstack/rpm-packaging,master,Ie0779a76fccdc088aa50381e41fca912ac58d3d7,July 30th updates,MERGED,2020-07-31 16:27:57.000000000,2020-08-05 09:34:16.000000000,2020-08-05 09:34:16.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-31 16:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/64d0b2ce26192637517d8669f13c62730736bdea', 'message': 'July 30th updates\n\nChange-Id: Ie0779a76fccdc088aa50381e41fca912ac58d3d7\n'}, {'number': 2, 'created': '2020-08-03 16:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/66c363b1ee87abc1814b5fbe8d7d3f14e5e0ea1a', 'message': 'July 30th updates\n\nChange-Id: Ie0779a76fccdc088aa50381e41fca912ac58d3d7\n'}, {'number': 3, 'created': '2020-08-04 07:46:07.000000000', 'files': ['openstack/debtcollector/debtcollector.spec.j2', 'openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/metalsmith/metalsmith.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/castellan/castellan.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/automaton/automaton.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/edc800a469c7cdda079c9f312f493d7bb74fb4b4', 'message': 'July 30th updates\n\nChange-Id: Ie0779a76fccdc088aa50381e41fca912ac58d3d7\n'}]",0,744217,edc800a469c7cdda079c9f312f493d7bb74fb4b4,18,6,3,6593,,,0,"July 30th updates

Change-Id: Ie0779a76fccdc088aa50381e41fca912ac58d3d7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/17/744217/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/debtcollector/debtcollector.spec.j2', 'openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/metalsmith/metalsmith.spec.j2', 'openstack/python-novaclient/python-novaclient.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/castellan/castellan.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2', 'openstack/automaton/automaton.spec.j2', 'openstack/python-magnumclient/python-magnumclient.spec.j2', 'openstack/osprofiler/osprofiler.spec.j2']",10,64d0b2ce26192637517d8669f13c62730736bdea,,{% set upstream_version = upstream_version('3.3.0') %},{% set upstream_version = upstream_version('3.2.2') %},10,10
openstack%2Frally-openstack~master~I039fb7f8e504619cb3c1a88716942b0f6a8c6e08,openstack/rally-openstack,master,I039fb7f8e504619cb3c1a88716942b0f6a8c6e08,Fix filedescriptor issue with VMTasks scenario.,MERGED,2020-07-10 18:16:09.000000000,2020-08-05 09:34:14.000000000,2020-08-05 09:34:14.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 18:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/df3e81c458c83aa78bef22abda4b9f13f6459157', 'message': 'Fix filedescriptor issue with VMTasks scenario.\n\nVMTasks does not close ssh when it runs commands over ssh.\nThe number of file descriptors increase over time during execution.\n\nChange-Id: I039fb7f8e504619cb3c1a88716942b0f6a8c6e08\n'}, {'number': 2, 'created': '2020-07-14 13:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3d350875fd64d0c8f8a2af82bf94fa3741d0358b', 'message': 'Fix filedescriptor issue with VMTasks scenario.\n\nVMTasks does not close ssh when it runs commands over ssh.\nThe number of file descriptors increase over time during execution.\n\nChange-Id: I039fb7f8e504619cb3c1a88716942b0f6a8c6e08\n'}, {'number': 3, 'created': '2020-07-30 13:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/62e59adaaa79f70162c6b32d9222ea989a9027c3', 'message': 'Fix filedescriptor issue with VMTasks scenario.\n\nVMTasks does not close ssh when it runs commands over ssh.\nThe number of file descriptors increase over time during execution.\n\nChange-Id: I039fb7f8e504619cb3c1a88716942b0f6a8c6e08\n'}, {'number': 4, 'created': '2020-08-04 15:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4e2f66703e3a3fe30fa1a61d1495475c74ad2bed', 'message': 'Fix filedescriptor issue with VMTasks scenario.\n\nVMTasks does not close ssh when it runs commands over ssh.\nThe number of file descriptors increase over time during execution.\n\nChange-Id: I039fb7f8e504619cb3c1a88716942b0f6a8c6e08\n'}, {'number': 5, 'created': '2020-08-05 06:02:12.000000000', 'files': ['rally_openstack/task/scenarios/vm/utils.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/996a7df22ca8a42700e13047b3e89bbcb80ec54f', 'message': 'Fix filedescriptor issue with VMTasks scenario.\n\nVMTasks does not close ssh when it runs commands over ssh.\nThe number of file descriptors increase over time during execution.\n\nChange-Id: I039fb7f8e504619cb3c1a88716942b0f6a8c6e08\n'}]",1,740514,996a7df22ca8a42700e13047b3e89bbcb80ec54f,20,2,5,31335,,,0,"Fix filedescriptor issue with VMTasks scenario.

VMTasks does not close ssh when it runs commands over ssh.
The number of file descriptors increase over time during execution.

Change-Id: I039fb7f8e504619cb3c1a88716942b0f6a8c6e08
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/14/740514/2 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/task/scenarios/vm/utils.py'],1,df3e81c458c83aa78bef22abda4b9f13f6459157,vmfdleak," ssh_return = self._run_command_over_ssh(ssh, command) ssh.close() return ssh_return"," return self._run_command_over_ssh(ssh, command)",3,1
openstack%2Ftripleo-heat-templates~master~I8394cec6bbaca9c89c848eaddf724c072bc36cb3,openstack/tripleo-heat-templates,master,I8394cec6bbaca9c89c848eaddf724c072bc36cb3,Add non-string value support for CephAnsibleEnvironmentVariables,MERGED,2020-05-15 05:19:32.000000000,2020-08-05 09:24:48.000000000,2020-05-27 12:03:59.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 27623}, {'_account_id': 31695}]","[{'number': 1, 'created': '2020-05-15 05:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3279067b5a1e61b66b025a24a717ad7c01e05c4f', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\n'}, {'number': 2, 'created': '2020-05-15 08:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9becd356fafd28fbec1773812a36810a8bf87c04', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n'}, {'number': 3, 'created': '2020-05-15 12:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1523fb2cf57d2a50f11f407a5a4f51f5cc9cfc2c', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n'}, {'number': 4, 'created': '2020-05-21 10:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef6c936543f7f2a0ef1939fa005287133fe83922', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n'}, {'number': 5, 'created': '2020-05-25 18:18:14.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c46fd01425a40818916aeca227ec1dbfa1ec348', 'message': 'Add non-string value support for CephAnsibleEnvironmentVariables\n\nCephAnsibleEnvironmentVariables data is supposed to be transformed\ninto ""KEY=VALUE"" format by yaql expression.\n\n```\nceph_ansible_environment_variables:\n  yaql:\n    data: {get_param: CephAnsibleEnvironmentVariables}\n    expression: $.data.items().select($[0] + \'=\' + $[1])\n```\n\nHowever, the expression here uses `+` to join the key($[0]) and\nvalue($[1]), which will cause syntax error when value is not string\ntype.\n\nFor example:\n\nIf we use boolean or integer for environment values such as\n```\nparameter_defaults:\n  CephAnsibleEnvironmentVariables:\n    ANSIBLE_DEBUG: true\n```\n\nthe following error will occour\n\n```\novercloud.CephStorageServiceChain:\n  resource_type: OS::TripleO::CephStorageServices\n  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c\n  status: UPDATE_FAILED\n  status_reason: |\n    resources.CephStorageServiceChain:\n    Error in 4 output role_data:\n    Error in CephBase output role_data:\n    No function ""#operator_+"" matches supplied arguments\n```\n\nChange-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3\nCloses-Bug: #1878720\n'}]",1,728361,7c46fd01425a40818916aeca227ec1dbfa1ec348,45,9,5,31695,,,0,"Add non-string value support for CephAnsibleEnvironmentVariables

CephAnsibleEnvironmentVariables data is supposed to be transformed
into ""KEY=VALUE"" format by yaql expression.

```
ceph_ansible_environment_variables:
  yaql:
    data: {get_param: CephAnsibleEnvironmentVariables}
    expression: $.data.items().select($[0] + '=' + $[1])
```

However, the expression here uses `+` to join the key($[0]) and
value($[1]), which will cause syntax error when value is not string
type.

For example:

If we use boolean or integer for environment values such as
```
parameter_defaults:
  CephAnsibleEnvironmentVariables:
    ANSIBLE_DEBUG: true
```

the following error will occour

```
overcloud.CephStorageServiceChain:
  resource_type: OS::TripleO::CephStorageServices
  physical_resource_id: 51fd6f95-027b-4047-9132-763e1cb8150c
  status: UPDATE_FAILED
  status_reason: |
    resources.CephStorageServiceChain:
    Error in 4 output role_data:
    Error in CephBase output role_data:
    No function ""#operator_+"" matches supplied arguments
```

Change-Id: I8394cec6bbaca9c89c848eaddf724c072bc36cb3
Closes-Bug: #1878720
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/728361/5 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario010-standalone.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'ci/environments/scenario001-standalone.yaml']",5,3279067b5a1e61b66b025a24a717ad7c01e05c4f,bug/1878720, ANSIBLE_DEBUG: true DEFAULT_TIMEOUT: 15,,9,1
openstack%2Fpython-cinderclient~master~I66decf6d5a4f79ddaa6617737e9334a56dbbbad4,openstack/python-cinderclient,master,I66decf6d5a4f79ddaa6617737e9334a56dbbbad4,use stevedore to load util plugins,MERGED,2020-07-05 19:53:57.000000000,2020-08-05 09:18:28.000000000,2020-08-05 09:16:42.000000000,"[{'_account_id': 1736}, {'_account_id': 2472}, {'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-05 19:53:57.000000000', 'files': ['requirements.txt', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/37f6a3079434186a534864b8a3e919232f56ff27', 'message': 'use stevedore to load util plugins\n\nImporting pkg_resources has a side-effect of scanning all of the\ninstalled python modules looking for entrypoints to build an in-memory\ncache. Stevedore will be adding an on-disk cache to speed that process\nup, which should provide significant performance benefits for client\napplications such as python-openstackclient. This change introduces\nstevedore to replace pkg_resources.\n\nChange-Id: I66decf6d5a4f79ddaa6617737e9334a56dbbbad4\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,739372,37f6a3079434186a534864b8a3e919232f56ff27,11,6,1,2472,,,0,"use stevedore to load util plugins

Importing pkg_resources has a side-effect of scanning all of the
installed python modules looking for entrypoints to build an in-memory
cache. Stevedore will be adding an on-disk cache to speed that process
up, which should provide significant performance benefits for client
applications such as python-openstackclient. This change introduces
stevedore to replace pkg_resources.

Change-Id: I66decf6d5a4f79ddaa6617737e9334a56dbbbad4
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/72/739372/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'cinderclient/utils.py']",2,37f6a3079434186a534864b8a3e919232f56ff27,osc-performance,"import stevedore mgr = stevedore.NamedExtensionManager( namespace=ep_name, names=[name], # Ignore errors on load on_load_failure_callback=lambda mgr, entry_point, error: None, ) try: return mgr[name].plugin except KeyError: pass","import pkg_resources for ep in pkg_resources.iter_entry_points(ep_name, name=name): try: return ep.load() except (ImportError, pkg_resources.UnknownExtra, AttributeError): continue",12,6
openstack%2Fnova~master~I77b28b9cc8f99b159f628f4655d85ff305a71db8,openstack/nova,master,I77b28b9cc8f99b159f628f4655d85ff305a71db8,compute: Validate a BDMs disk_bus when provided,MERGED,2020-05-01 13:42:23.000000000,2020-08-05 09:14:43.000000000,2020-07-30 23:16:19.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-01 13:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55f99717128f543ae2ab248035ea4a57c3cbf655', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n""}, {'number': 2, 'created': '2020-05-01 13:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b79f950b69a0a79fa2374d0ea9f8691d4e39bbf9', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n""}, {'number': 3, 'created': '2020-05-02 17:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4634e6bb85c6b2126948b147f1a9b9e1dc9eedc5', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n""}, {'number': 4, 'created': '2020-05-06 09:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a44605c40e0878dc662bb25e1f90258c59c4e500', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n""}, {'number': 5, 'created': '2020-07-15 16:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6174fe35ec6049861de8053708c24b82203d5349', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n""}, {'number': 6, 'created': '2020-07-27 22:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ecfdfbd8651b493334954db79a532f4aa265421', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n""}, {'number': 7, 'created': '2020-07-29 16:05:48.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/objects/fields.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5913bd889f9d3dfc8d154415e666c821054c229d', 'message': ""compute: Validate a BDMs disk_bus when provided\n\nPreviously disk_bus values were never validated and could easily end up\nbeing ignored by the underlying virt driver and hypervisor.\n\nFor example, a common mistake made by users is to request a virtio-scsi\ndisk_bus when using the libvirt virt driver. This however isn't a valid\nbus and is ignored, defaulting back to the virtio (virtio-blk) bus.\n\nThis change adds a simple validation in the compute API using the\npotential disk_bus values provided by the DiskBus field class as used\nwhen validating the hw_*_bus image properties.\n\nCloses-Bug: #1876301\nChange-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8\n""}]",7,724842,5913bd889f9d3dfc8d154415e666c821054c229d,79,13,7,10135,,,0,"compute: Validate a BDMs disk_bus when provided

Previously disk_bus values were never validated and could easily end up
being ignored by the underlying virt driver and hypervisor.

For example, a common mistake made by users is to request a virtio-scsi
disk_bus when using the libvirt virt driver. This however isn't a valid
bus and is ignored, defaulting back to the virtio (virtio-blk) bus.

This change adds a simple validation in the compute API using the
potential disk_bus values provided by the DiskBus field class as used
when validating the hw_*_bus image properties.

Closes-Bug: #1876301
Change-Id: I77b28b9cc8f99b159f628f4655d85ff305a71db8
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/724842/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/objects/fields.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",7,55f99717128f543ae2ab248035ea4a57c3cbf655,bug/1876301," exception.InvalidBDMDiskBus,",,39,4
openstack%2Fproject-config~master~Ia22f40adcbbe3756b3dbd0c7085bb521fc48b969,openstack/project-config,master,Ia22f40adcbbe3756b3dbd0c7085bb521fc48b969,Normalize projects.yaml,MERGED,2020-08-05 06:07:46.000000000,2020-08-05 09:11:31.000000000,2020-08-05 07:41:24.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 06:07:46.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8ea90306115c5cba60df25039b36287d9f5d21f6', 'message': 'Normalize projects.yaml\n\nChange-Id: Ia22f40adcbbe3756b3dbd0c7085bb521fc48b969\n'}]",0,744822,8ea90306115c5cba60df25039b36287d9f5d21f6,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Ia22f40adcbbe3756b3dbd0c7085bb521fc48b969
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/744822/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,8ea90306115c5cba60df25039b36287d9f5d21f6,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-ceph-iscsi.git upstream: https://github.com/openstack-charmers/ops-interface-ceph-client.git upstream: https://github.com/openstack-charmers/ops-interface-tls-certificates.git upstream: https://github.com/openstack-charmers/ops-openstack.git,0,4
openstack%2Ftripleo-ansible~master~Iaf2d410a2da74f062f1ad0de49c76beba8548f9a,openstack/tripleo-ansible,master,Iaf2d410a2da74f062f1ad0de49c76beba8548f9a,Fix introspection restart with unlocking node,MERGED,2020-07-09 12:05:24.000000000,2020-08-05 09:04:22.000000000,2020-07-09 14:31:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 12:05:24.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1804a43d86ca1a1bf31f10f8656798b0636c9dcc', 'message': 'Fix introspection restart with unlocking node\n\nUse wait_for_node_reservation method from cloud.baremetal class,\nnot from cloud.baremetal_introspection.\n\nChange-Id: Iaf2d410a2da74f062f1ad0de49c76beba8548f9a\n'}]",0,740256,1804a43d86ca1a1bf31f10f8656798b0636c9dcc,10,5,1,10969,,,0,"Fix introspection restart with unlocking node

Use wait_for_node_reservation method from cloud.baremetal class,
not from cloud.baremetal_introspection.

Change-Id: Iaf2d410a2da74f062f1ad0de49c76beba8548f9a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/740256/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'],1,1804a43d86ca1a1bf31f10f8656798b0636c9dcc,fixintro," self.cloud = cloud self.cloud, node_id, os_client, os_cloud, timeout, max_retries, retry_timeout, log): self.os_cloud = os_cloud self.os_cloud.baremetal.wait_for_node_reservation("," node_id, os_client, timeout, max_retries, retry_timeout, log): self.os_client.wait_for_node_reservation(",11,2
openstack%2Fneutron~stable%2Fqueens~I1c5dcd1642019cb8c327722819f753b2b5b7137c,openstack/neutron,stable/queens,I1c5dcd1642019cb8c327722819f753b2b5b7137c,No rpc_response_max_timeout in LB-agent,ABANDONED,2020-07-31 11:13:55.000000000,2020-08-05 08:56:53.000000000,,"[{'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31870}]","[{'number': 1, 'created': '2020-07-31 11:13:55.000000000', 'files': ['neutron/opts.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/571a337f4a631ad1b831b62b1766c87a38e16256', 'message': 'No rpc_response_max_timeout in LB-agent\n\nAdds support for rpc_response_max_timeout in LB-agent.\n\nConflicts:\n    neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py\n\nChange-Id: I1c5dcd1642019cb8c327722819f753b2b5b7137c\nCloses-Bug: #1880934\n(cherry picked from commit edfe7daf047cbae3bc9d6a0a37ace091f6375e51)\n'}]",0,744130,571a337f4a631ad1b831b62b1766c87a38e16256,7,6,1,11975,,,0,"No rpc_response_max_timeout in LB-agent

Adds support for rpc_response_max_timeout in LB-agent.

Conflicts:
    neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py

Change-Id: I1c5dcd1642019cb8c327722819f753b2b5b7137c
Closes-Bug: #1880934
(cherry picked from commit edfe7daf047cbae3bc9d6a0a37ace091f6375e51)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/744130/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py']",2,571a337f4a631ad1b831b62b1766c87a38e16256,bug/1880934,"from neutron.conf import service as service_conf service_conf.register_service_opts(service_conf.RPC_EXTRA_OPTS, cfg.CONF) ",,5,0
openstack%2Fneutron~stable%2Frocky~I1c5dcd1642019cb8c327722819f753b2b5b7137c,openstack/neutron,stable/rocky,I1c5dcd1642019cb8c327722819f753b2b5b7137c,No rpc_response_max_timeout in LB-agent,ABANDONED,2020-07-31 11:11:08.000000000,2020-08-05 08:56:44.000000000,,"[{'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31870}]","[{'number': 1, 'created': '2020-07-31 11:11:08.000000000', 'files': ['neutron/opts.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5fa5327bfaac93b580ed02291021f0ecfe8a36e', 'message': 'No rpc_response_max_timeout in LB-agent\n\nAdds support for rpc_response_max_timeout in LB-agent.\nChange-Id: I1c5dcd1642019cb8c327722819f753b2b5b7137c\nCloses-Bug: #1880934\n(cherry picked from commit edfe7daf047cbae3bc9d6a0a37ace091f6375e51)\n'}]",0,744129,f5fa5327bfaac93b580ed02291021f0ecfe8a36e,7,6,1,11975,,,0,"No rpc_response_max_timeout in LB-agent

Adds support for rpc_response_max_timeout in LB-agent.
Change-Id: I1c5dcd1642019cb8c327722819f753b2b5b7137c
Closes-Bug: #1880934
(cherry picked from commit edfe7daf047cbae3bc9d6a0a37ace091f6375e51)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/744129/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py']",2,f5fa5327bfaac93b580ed02291021f0ecfe8a36e,bug/1880934-stable/rocky,"from neutron.conf import service as service_conf service_conf.register_service_opts(service_conf.RPC_EXTRA_OPTS, cfg.CONF) ",,5,0
openstack%2Ftripleo-validations~master~Ifacbbd6a493019e606105f45f0302bf1a88bed62,openstack/tripleo-validations,master,Ifacbbd6a493019e606105f45f0302bf1a88bed62,Fix neutron_sanity_check for ML2/OVS overcloud,MERGED,2020-07-31 12:21:00.000000000,2020-08-05 08:43:42.000000000,2020-08-04 16:59:02.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-31 12:21:00.000000000', 'files': ['roles/neutron_sanity_check/tasks/main.yml', 'playbooks/neutron-sanity-check.yaml', 'roles/neutron_sanity_check/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3561628f2aac62f27ba6f6f97f814366be7e8993', 'message': 'Fix neutron_sanity_check for ML2/OVS overcloud\n\nPreviously validator failed running on neutron_api as the\nneutron-sanity-check binary requires additional capabilities, causing it\nto alway fail [0]. In addition, in some cases a race condition in\noslo_privsep can cause the validator to hang indefinitely [1].\n\nThis fixes it if the overcloud uses ML2/OVS, using the neutron_ovs_agent\ncontainer as we already did on the undercloud, and skipping the check if\nit cannot be found (ML2/OVN deployments typically).\n\nAdditional fixes to the validator:\n* skip gather_facts step\n* fix output parsing\n* call neutron-sanity-check only once, with all configuration files\n  passed to it\n* drop redundant default values in playbook itself\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1783195\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1862364\n\nChange-Id: Ifacbbd6a493019e606105f45f0302bf1a88bed62\nCo-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>\n'}]",0,744146,3561628f2aac62f27ba6f6f97f814366be7e8993,9,3,1,21798,,,0,"Fix neutron_sanity_check for ML2/OVS overcloud

Previously validator failed running on neutron_api as the
neutron-sanity-check binary requires additional capabilities, causing it
to alway fail [0]. In addition, in some cases a race condition in
oslo_privsep can cause the validator to hang indefinitely [1].

This fixes it if the overcloud uses ML2/OVS, using the neutron_ovs_agent
container as we already did on the undercloud, and skipping the check if
it cannot be found (ML2/OVN deployments typically).

Additional fixes to the validator:
* skip gather_facts step
* fix output parsing
* call neutron-sanity-check only once, with all configuration files
  passed to it
* drop redundant default values in playbook itself

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1783195
[1] https://bugzilla.redhat.com/show_bug.cgi?id=1862364

Change-Id: Ifacbbd6a493019e606105f45f0302bf1a88bed62
Co-Authored-By: Cédric Jeanneret <cjeanner@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/46/744146/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/neutron_sanity_check/tasks/main.yml', 'playbooks/neutron-sanity-check.yaml', 'roles/neutron_sanity_check/defaults/main.yml']",3,3561628f2aac62f27ba6f6f97f814366be7e8993,,# The list of Neutron configuration files and directories that # will be passed to the Neutron services. The order is important # here: the values in later files take precedence.,,42,41
openstack%2Fpython-cinderclient~master~Id785793c36b3a6819a7522525252c3fef15ebe2b,openstack/python-cinderclient,master,Id785793c36b3a6819a7522525252c3fef15ebe2b,Stop to use the __future__ module.,MERGED,2020-06-02 18:46:55.000000000,2020-08-05 08:33:45.000000000,2020-08-05 08:31:00.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:46:55.000000000', 'files': ['cinderclient/v3/shell.py', 'cinderclient/shell_utils.py', 'cinderclient/client.py', 'cinderclient/shell.py', 'tools/install_venv_common.py', 'cinderclient/v2/shell.py', 'cinderclient/tests/unit/fakes.py', 'cinderclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/b649d7f4f4903d766c42834429010c7d0952ab4b', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Id785793c36b3a6819a7522525252c3fef15ebe2b\n""}]",0,732917,b649d7f4f4903d766c42834429010c7d0952ab4b,10,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Id785793c36b3a6819a7522525252c3fef15ebe2b
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/17/732917/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderclient/v3/shell.py', 'cinderclient/shell_utils.py', 'cinderclient/client.py', 'cinderclient/shell.py', 'tools/install_venv_common.py', 'cinderclient/v2/shell.py', 'cinderclient/tests/unit/fakes.py', 'cinderclient/utils.py']",8,b649d7f4f4903d766c42834429010c7d0952ab4b,drop_future_imports,, from __future__ import print_function,0,16
openstack%2Fpython-cinderclient~stable%2Fussuri~I4f4468b23d04ecf74fb6347bfb518377127b563d,openstack/python-cinderclient,stable/ussuri,I4f4468b23d04ecf74fb6347bfb518377127b563d,Fix typo: dow -> down,MERGED,2020-06-24 17:54:17.000000000,2020-08-05 08:33:35.000000000,2020-08-05 08:30:59.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-24 17:54:17.000000000', 'files': ['cinderclient/v3/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f591104f5e707985f0297ee2edd7fdc1f72e341f', 'message': 'Fix typo: dow -> down\n\nCloses-Bug: #1883674\nChange-Id: I4f4468b23d04ecf74fb6347bfb518377127b563d\n(cherry picked from commit 718474a092192ea0034a8107b6947a10636a4a0a)\n'}]",0,737855,f591104f5e707985f0297ee2edd7fdc1f72e341f,10,4,1,10459,,,0,"Fix typo: dow -> down

Closes-Bug: #1883674
Change-Id: I4f4468b23d04ecf74fb6347bfb518377127b563d
(cherry picked from commit 718474a092192ea0034a8107b6947a10636a4a0a)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/55/737855/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/v3/shell.py'],1,f591104f5e707985f0297ee2edd7fdc1f72e341f,, help='Filter by up/down status. Default=None.'), help='Filter by up/dow status. Default=None.'),1,1
openstack%2Fnova~master~Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2,openstack/nova,master,Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2,libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0,MERGED,2020-05-20 13:23:51.000000000,2020-08-05 08:33:05.000000000,2020-07-30 23:16:12.000000000,"[{'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-20 13:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90da4619fd91b9421bc4d34e63ee16c759a4c2ae', 'message': 'libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0\n\nAs documented in the comments this workaround was in place to catch when\nblockjobs had not started and reported an end cursor position of 0.\n\nThis was resovled in libvirt v2.3.0 and can now be removed as\nMIN_LIBVIRT is well past this at 4.0.0.\n\nChange-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2\n'}, {'number': 2, 'created': '2020-05-20 13:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2dfde1ce9a176845f6428ae78d901e6b4d8fcf3', 'message': 'libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0\n\nAs documented in the comments this workaround was in place to catch when\nblockjobs had not started and reported an end cursor position of 0.\n\nThis was resovled in libvirt v2.3.0 and can now be removed as\nMIN_LIBVIRT is well past this at 4.0.0.\n\nChange-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2\n'}, {'number': 3, 'created': '2020-05-20 16:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79413490dd34d6c73b25b0e82fdd74eca37195f8', 'message': 'libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0\n\nAs documented in the comments this workaround was in place to catch when\nblockjobs had not started and reported an end cursor position of 0.\n\nThis was resovled in libvirt v2.3.0 and can now be removed as\nMIN_LIBVIRT is well past this at 4.0.0.\n\nChange-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2\n'}, {'number': 4, 'created': '2020-05-21 08:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f61cb298d92991e3f401fa7c7ed47a770fbb490', 'message': 'libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0\n\nAs documented in the comments this workaround was in place to catch when\nblockjobs had not started and reported an end cursor position of 0.\n\nThis was resovled in libvirt v2.3.0 and can now be removed as\nMIN_LIBVIRT is well past this at 4.0.0.\n\nChange-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2\n'}, {'number': 5, 'created': '2020-07-13 10:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f199c550f41e931fce38834ff2745eca39d8b57b', 'message': 'libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0\n\nAs documented in the comments this workaround was in place to catch when\nblockjobs had not started and reported an end cursor position of 0.\n\nThis was resovled in libvirt v2.3.0 and can now be removed as\nMIN_LIBVIRT is well past this at 4.0.0.\n\nChange-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2\n'}, {'number': 6, 'created': '2020-07-20 16:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4967dd67b16d43d58fcbe75a18ff95dfc7c2495', 'message': 'libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0\n\nAs documented in the comments this workaround was in place to catch when\nblockjobs had not started and reported an end cursor position of 0.\n\nThis was resovled in libvirt v2.3.0 and can now be removed as\nMIN_LIBVIRT is well past this at 4.0.0.\n\nChange-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2\n'}, {'number': 7, 'created': '2020-07-27 22:58:52.000000000', 'files': ['nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ebdb852a835cf14a2c91a91e815aae4a853f3702', 'message': 'libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0\n\nAs documented in the comments this workaround was in place to catch when\nblockjobs had not started and reported an end cursor position of 0.\n\nThis was resovled in libvirt v2.3.0 and can now be removed as\nMIN_LIBVIRT is well past this at 4.0.0.\n\nChange-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2\n'}]",1,729596,ebdb852a835cf14a2c91a91e815aae4a853f3702,119,17,7,10135,,,0,"libvirt: Remove blockjob.end == 0 workaround resolved in libvirt v2.3.0

As documented in the comments this workaround was in place to catch when
blockjobs had not started and reported an end cursor position of 0.

This was resovled in libvirt v2.3.0 and can now be removed as
MIN_LIBVIRT is well past this at 4.0.0.

Change-Id: Ic22a0c6cfa32d03b7e117cc8dbc54ceb3bfc9fe2
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/729596/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,90da4619fd91b9421bc4d34e63ee16c759a4c2ae,, if status.cur == status.end:," # NOTE(slaweq): because of bug in libvirt, which is described in # http://www.redhat.com/archives/libvir-list/2016-September/msg00017.html # if status.end == 0 job is not started yet so it is not finished # NOTE(mdbooth): The fix was committed upstream here: # http://libvirt.org/git/?p=libvirt.git;a=commit;h=988218c # The earliest tag which contains this commit is v2.3.0-rc1, so we # should be able to remove this workaround when MIN_LIBVIRT_VERSION # reaches 2.3.0, or we move to handling job events instead. if status.end != 0 and status.cur == status.end:",1,9
openstack%2Fneutron~master~I436e6251d6dc823ef31ca7d36bb7397540513d94,openstack/neutron,master,I436e6251d6dc823ef31ca7d36bb7397540513d94,[DNM] Block keystonemiddleware 9.1.0,ABANDONED,2020-08-04 15:23:50.000000000,2020-08-05 08:31:44.000000000,,"[{'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-04 15:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/259f5d35026714702acae529a081129708e72958', 'message': '[DNM] Block keystonemiddleware 9.1.0\n\nUnblock CI, grenade jobs.\n\nChange-Id: I436e6251d6dc823ef31ca7d36bb7397540513d94\nRelated-Bug: #1890297\n'}, {'number': 2, 'created': '2020-08-04 15:29:41.000000000', 'files': ['requirements.txt', 'neutron/_i18n.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b762a571eb313b344303aced909eb77fad25872', 'message': '[DNM] Block keystonemiddleware 9.1.0\n\nUnblock CI, grenade jobs.\n\nChange-Id: I436e6251d6dc823ef31ca7d36bb7397540513d94\nRelated-Bug: #1890297\n'}]",0,744735,2b762a571eb313b344303aced909eb77fad25872,10,7,2,16688,,,0,"[DNM] Block keystonemiddleware 9.1.0

Unblock CI, grenade jobs.

Change-Id: I436e6251d6dc823ef31ca7d36bb7397540513d94
Related-Bug: #1890297
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/744735/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,259f5d35026714702acae529a081129708e72958,bug/1890297,"keystonemiddleware!=9.1.0,>=4.17.0 # Apache-2.0",keystonemiddleware>=4.17.0 # Apache-2.0,1,1
openstack%2Fkolla-ansible~master~Iaf434be9baf1973323bb177fad799aea39210fba,openstack/kolla-ansible,master,Iaf434be9baf1973323bb177fad799aea39210fba,Fix actions for Aodh and Swift,MERGED,2020-08-04 12:33:53.000000000,2020-08-05 08:28:38.000000000,2020-08-05 08:25:10.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-04 12:33:53.000000000', 'files': ['ansible/roles/aodh/tasks/stop.yml', 'ansible/roles/swift/tasks/deploy-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c1a6ca0d215812e92e7113a96ca5ac74ee1cd08a', 'message': ""Fix actions for Aodh and Swift\n\nThese two roles were missing 'stop' and 'deploy-containers',\nrespectively.\n\nChange-Id: Iaf434be9baf1973323bb177fad799aea39210fba\n""}]",0,744695,c1a6ca0d215812e92e7113a96ca5ac74ee1cd08a,12,6,1,30491,,,0,"Fix actions for Aodh and Swift

These two roles were missing 'stop' and 'deploy-containers',
respectively.

Change-Id: Iaf434be9baf1973323bb177fad799aea39210fba
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/744695/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/aodh/tasks/stop.yml', 'ansible/roles/swift/tasks/deploy-containers.yml']",2,c1a6ca0d215812e92e7113a96ca5ac74ee1cd08a,fix-actions,--- - import_tasks: start.yml ,,8,0
openstack%2Ftacker-specs~master~I8b7bafca8a61726aec6c4b615bd299f36a90d502,openstack/tacker-specs,master,I8b7bafca8a61726aec6c4b615bd299f36a90d502,Use Robot Framework and TST test code,MERGED,2020-06-01 13:49:49.000000000,2020-08-05 08:23:07.000000000,2020-08-05 08:20:11.000000000,"[{'_account_id': 8556}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}, {'_account_id': 31072}, {'_account_id': 31417}]","[{'number': 1, 'created': '2020-06-01 13:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/037f9d460ba3edc3619bd510245233a58eb4831d', 'message': '[WIP]Use Robot Framework and TST test code\n\nThis proposal aims to efficiently achieve ETSI NFV compliant\nautomated testing by using the Robot Framework and ETSI NFV-TST\nAPI test code.\n\nChange-Id: I8b7bafca8a61726aec6c4b615bd299f36a90d502\nSigned-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>\n'}, {'number': 2, 'created': '2020-06-01 13:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/8335ce04fafa92ef914dae355070ea72bd5f2baa', 'message': '[WIP]Use Robot Framework and TST test code\n\nThis proposal aims to efficiently achieve ETSI NFV compliant\nautomated testing by using the Robot Framework and ETSI NFV-TST\nAPI test code.\n\nChange-Id: I8b7bafca8a61726aec6c4b615bd299f36a90d502\nSigned-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>\n'}, {'number': 3, 'created': '2020-07-03 05:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0c7a1f1d526fc52a6ec1ad339993597734dd468e', 'message': '[WIP]Use Robot Framework and TST test code\n\nThis proposal aims to efficiently achieve ETSI NFV compliant\nautomated testing by using the Robot Framework and ETSI NFV-TST\nAPI test code.\n\nChange-Id: I8b7bafca8a61726aec6c4b615bd299f36a90d502\nSigned-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>\n'}, {'number': 4, 'created': '2020-07-07 07:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/46f6f89e7951965f5b7b5c7eee8607256fb92b96', 'message': 'Use Robot Framework and TST test code\n\nThis proposal aims to efficiently achieve ETSI NFV compliant\nautomated testing by using the Robot Framework and ETSI NFV-TST\nAPI test code.\n\nChange-Id: I8b7bafca8a61726aec6c4b615bd299f36a90d502\nSigned-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>\n'}, {'number': 5, 'created': '2020-07-15 13:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/29da1058fd9f277971b8ec58730b6555b595f68a', 'message': 'Use Robot Framework and TST test code\n\nThis proposal aims to efficiently achieve ETSI NFV compliant\nautomated testing by using the Robot Framework and ETSI NFV-TST\nAPI test code.\n\nChange-Id: I8b7bafca8a61726aec6c4b615bd299f36a90d502\nSigned-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>\n'}, {'number': 6, 'created': '2020-07-15 13:16:07.000000000', 'files': ['specs/victoria/use_robot_api_tests.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/3667ba0c58a0c4a62f771ad92acfeb2cb148a737', 'message': 'Use Robot Framework and TST test code\n\nThis proposal aims to efficiently achieve ETSI NFV compliant\nautomated testing by using the Robot Framework and ETSI NFV-TST\nAPI test code.\n\nBlueprint: use-robot-api-tests\nChange-Id: I8b7bafca8a61726aec6c4b615bd299f36a90d502\nSigned-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>\n'}]",26,732367,3667ba0c58a0c4a62f771ad92acfeb2cb148a737,28,9,6,17255,,,0,"Use Robot Framework and TST test code

This proposal aims to efficiently achieve ETSI NFV compliant
automated testing by using the Robot Framework and ETSI NFV-TST
API test code.

Blueprint: use-robot-api-tests
Change-Id: I8b7bafca8a61726aec6c4b615bd299f36a90d502
Signed-off-by: Toshiaki Takahashi <ts-takahashi@nec.com>
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/67/732367/6 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/use_robot_api_tests.rst'],1,037f9d460ba3edc3619bd510245233a58eb4831d,bp/use-robot-api-tests,"======================================================= Adopt Robot Framework to use ETSI NFV-TST API test code ======================================================= This proposal aims to efficiently achieve ETSI NFV compliant automated testing by using the Robot Framework and ETSI NFV-TST API test code. Problem Description =================== Currently Tacker functional tests mainly focus on checking various VNF patterns such as a simple VNF, multi VDU, volume attach and affinity set. Tacker community is advancing ETSI NFV standard compliance, and coverage of compliant API testing becomes important. Proposed Change =============== Our plan is to use Robot Framework [#f1]_ to achieve automated API testing. And in the first step, we adopt API test code released by ETSI NFV-TST010 [#f2]_. (Add figure later) We choose the tests of API implemented by Tacker?from the test code released by ETSI NFV-TST?and execute them as checks by Zuul. Data Model Impact ----------------- None REST API Impact --------------- None Security Impact --------------- None Notifications Impact -------------------- None Other End User Impact --------------------- None Performance Impact ------------------ None IPv6 Impact ----------- None Other Deployer Impact --------------------- None Developer Impact ---------------- Writing new APIs might require getting/writing ROBOT tests for them, as well as unit and function tests. Community Impact ---------------- Running autometed API test will be available to run. We will discuss with OpenStack QA team if necesarry. Alternatives ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: 1. Toshiaki Takahashi Other contributors: (TBD)? Work Items ---------- 1. Make a test list from TST test cases (Choose APIs implemented by Tacker) 2. Make Robot execution playbook ? * Install Robot Framework ? * Download test code from ETSI NFV-TST repository ? * Execute test with the above test list 3. Add the above playbook execution job to Zuul setting Dependencies ============ (T.B.D.) Testing ======= NFV compliant API tests will be executed in Robot Framework. (T.B.D. for other functinal tests) Tempest Tests ------------- None Functional Tests ---------------- (T.B.D.) API Tests --------- APIs compliant with ETSI NFV-SOL002, 003 and 005 are tested by ROBOT Framework and test code released by ETSI NFV-TST010. Documentation Impact ==================== User Documentation ------------------ None Developer Documentation ----------------------- We will make documentations about testing policy. References ========== .. [#f1] https://robotframework.org/ .. [#f2] https://forge.etsi.org/rep/nfv/api-tests ",,161,0
openstack%2Fsenlin~master~I67839df43278b0cbd921e95e34d6393773482397,openstack/senlin,master,I67839df43278b0cbd921e95e34d6393773482397,fix typo of senlin docuements,ABANDONED,2020-08-05 08:01:55.000000000,2020-08-05 08:02:25.000000000,,[],"[{'number': 1, 'created': '2020-08-05 08:01:55.000000000', 'files': ['doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/57ef2e7032c8a7ece952de0691ef123b5718d376', 'message': 'fix typo of senlin docuements\n\nChange-Id: I67839df43278b0cbd921e95e34d6393773482397\n'}]",0,744843,57ef2e7032c8a7ece952de0691ef123b5718d376,2,0,1,1523,,,0,"fix typo of senlin docuements

Change-Id: I67839df43278b0cbd921e95e34d6393773482397
",git fetch https://review.opendev.org/openstack/senlin refs/changes/43/744843/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-rdo.rst'],1,57ef2e7032c8a7ece952de0691ef123b5718d376,bugfix-document, $openstack user create --project service --password-prompt senlin $ openstack role add --project service --user senlin admin public http://controller:8778 admin http://controller:8778 internal http://controller:8778, $openstack user create --project services --password-prompt senlin $ openstack role add --project services --user senlin admin public http://controller:8777 admin http://controller:8777 internal http://controller:8777,5,5
openstack%2Ftripleo-quickstart-extras~master~I50a3aca8e5d4d4752ec9d924303a6192399f3814,openstack/tripleo-quickstart-extras,master,I50a3aca8e5d4d4752ec9d924303a6192399f3814,[Tempest] Increase subnet allocation pool to 150,MERGED,2020-08-03 12:20:58.000000000,2020-08-05 07:42:54.000000000,2020-08-04 05:12:06.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b003f0a13b12446a64b539709945e49fb8f411a1', 'message': '[Tempest] Increase subnet allocation pool to 150\n\nEarlier tempest public subnet allocation pool was 120 and due to\nwhich some to the network scenario tests started failing with\nNo more IP addresses available on network\nas all the 20 IPs gets used.\n\nIncreasing it to 50 fixes the issue.\n\nCloses-Bug: #1888511\n\nChange-Id: I50a3aca8e5d4d4752ec9d924303a6192399f3814\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-08-03 12:52:40.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/47890ccfdc0a35306611c058847e5206d69f2db6', 'message': '[Tempest] Increase subnet allocation pool to 150\n\nEarlier tempest public subnet allocation pool was 120 and due to\nwhich some to the network scenario tests started failing with\nNo more IP addresses available on network\nas all the 20 IPs gets used.\n\nIncreasing it to 50 fixes the issue.\n\nRelated-Bug: #1888511\n\nChange-Id: I50a3aca8e5d4d4752ec9d924303a6192399f3814\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,744454,47890ccfdc0a35306611c058847e5206d69f2db6,14,7,2,12393,,,0,"[Tempest] Increase subnet allocation pool to 150

Earlier tempest public subnet allocation pool was 120 and due to
which some to the network scenario tests started failing with
No more IP addresses available on network
as all the 20 IPs gets used.

Increasing it to 50 fixes the issue.

Related-Bug: #1888511

Change-Id: I50a3aca8e5d4d4752ec9d924303a6192399f3814
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/54/744454/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,b003f0a13b12446a64b539709945e49fb8f411a1,fixnetworkallocation," tempest_public_subnet_allocation_pools: '{{ tempest_cidr|nthhost(100) ~ ""-"" ~ tempest_cidr|nthhost(150) }}'"," tempest_public_subnet_allocation_pools: '{{ tempest_cidr|nthhost(100) ~ ""-"" ~ tempest_cidr|nthhost(120) }}'",1,1
openstack%2Fkolla-ansible~master~I6b92d8e53a29b06a065e0611840140d09c8a6695,openstack/kolla-ansible,master,I6b92d8e53a29b06a065e0611840140d09c8a6695,"Fix play hosts for ironic, monasca, neutron, nova",MERGED,2020-08-03 08:53:06.000000000,2020-08-05 07:35:10.000000000,2020-08-04 13:36:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-03 08:53:06.000000000', 'files': ['ansible/site.yml', 'ansible/nova.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9bca246b109c6d78753e3185a5b0a85746ad16fd', 'message': 'Fix play hosts for ironic, monasca, neutron, nova\n\nSome plays were not applied to all groups referenced by the services\nthey deploy. In most cases this works fine, but if the default inventory\nis modified this may cause problems where containers are not deployed to\nhosts in the missing groups, if they are not a member of other groups\nthat the play is targeted to.\n\nThis change syncs up the play hosts for all services.\n\nCloses-Bug: #1889387\n\nChange-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695\n'}]",0,744418,9bca246b109c6d78753e3185a5b0a85746ad16fd,11,3,1,14826,,,0,"Fix play hosts for ironic, monasca, neutron, nova

Some plays were not applied to all groups referenced by the services
they deploy. In most cases this works fine, but if the default inventory
is modified this may cause problems where containers are not deployed to
hosts in the missing groups, if they are not a member of other groups
that the play is targeted to.

This change syncs up the play hosts for all services.

Closes-Bug: #1889387

Change-Id: I6b92d8e53a29b06a065e0611840140d09c8a6695
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/744418/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/site.yml', 'ansible/nova.yml']",2,9bca246b109c6d78753e3185a5b0a85746ad16fd,bug/1889387, - nova-compute-ironic - nova-compute-ironic,,8,2
openstack%2Fnova~master~If1a45886adfc6448a626a54449ff66f400879b83,openstack/nova,master,If1a45886adfc6448a626a54449ff66f400879b83,func: Add live migration rollback volume attachment tests,MERGED,2020-07-28 13:22:50.000000000,2020-08-05 07:33:51.000000000,2020-07-30 23:39:58.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-28 13:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0335d6673a2ff381525bf424b39f8939fd49b1f5', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n'}, {'number': 2, 'created': '2020-07-28 19:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af5aeda720768a9ff2881b772f6f5a1d6d09ad2d', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n'}, {'number': 3, 'created': '2020-07-29 10:02:02.000000000', 'files': ['nova/tests/functional/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb', 'message': 'func: Add live migration rollback volume attachment tests\n\nThis test asserts that the original source host volume attachments\nremain intact after a failure and rollback during the main live\nmigration flow on the virt driver.\n\nChange-Id: If1a45886adfc6448a626a54449ff66f400879b83\n'}]",13,743534,e6c2a863286bae6a8a8caff0d6a54c001e0a2ffb,36,11,3,10135,,,0,"func: Add live migration rollback volume attachment tests

This test asserts that the original source host volume attachments
remain intact after a failure and rollback during the main live
migration flow on the virt driver.

Change-Id: If1a45886adfc6448a626a54449ff66f400879b83
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/743534/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/compute/test_live_migration.py'],1,0335d6673a2ff381525bf424b39f8939fd49b1f5,bug/1889108,"import mockfrom nova import test class TestVolAttachmentsDuringLiveMigration( integrated_helpers._IntegratedTestBase ): """"""Assert the lifecycle of volume attachments during LM rollbacks """""" # Default self.api to the self.admin_api as live migration is admin only ADMIN_API = True microversion = 'latest' def setUp(self): super().setUp() self.flavor_id = self.api.get_flavors()[0]['id'] self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) def _setup_compute_service(self): self._start_compute('src') self._start_compute('dest') @mock.patch('nova.virt.fake.FakeDriver.live_migration') def test_vol_attachments_during_driver_live_mig_failure(self, mock_lm): """"""Assert volume attachments during live migration rollback * Mock live_migration to always rollback and raise a failure within the fake virt driver * Launch a boot from volume instance * Assert that the volume is attached correctly to the instance * Live migrate the instance to another host invoking the mocked live_migration method * Assert that the instance is still on the source host * Assert that the original source host volume attachment remains """""" # Mock out driver.live_migration so that we always rollback def _fake_live_migration_with_rollback( context, instance, dest, post_method, recover_method, block_migration=False, migrate_data=None): # Just call the recover_method to simulate a rollback recover_method(context, instance, dest, migrate_data) # raise test.TestingException here to imitate a virt driver raise test.TestingException() mock_lm.side_effect = _fake_live_migration_with_rollback volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server = self._build_server( name='test_bfv_live_migration_failure', image_uuid='', flavor_id=self.flavor_id, networks='none' ) server['block_device_mapping_v2'] = [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': volume_id }] server = self.api.post_server({'server': server}) self._wait_for_state_change(server, 'ACTIVE') # Fetch the source host for use later server = self.api.get_server(server['id']) src_host = server['OS-EXT-SRV-ATTR:host'] # Assert that the volume is connected to the instance self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Assert that we have an active attachment in the fixture attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(1, len(attachments)) # Fetch the attachment_id for use later once we have migrated src_attachment_id = list(attachments.keys())[0] # Migrate the instance and wait until the migration errors out thanks # to our mocked version of live_migration raising TestingException self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_migration_status(server, ['error']) # Assert that we called the fake live_migration method mock_lm.assert_called_once() # Assert that the instance is listed as ERROR on the source self._wait_for_state_change(server, 'ERROR') server = self.api.get_server(server['id']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host']) # Assert that the src attachment is still present attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertIn(src_attachment_id, attachments.keys()) self.assertEqual(1, len(attachments))",,94,0
openstack%2Fneutron~master~I054296c790b697198550acbeae29546758b422c2,openstack/neutron,master,I054296c790b697198550acbeae29546758b422c2,Fix validation of IPv6 subnets with external RAs,MERGED,2020-07-31 10:52:32.000000000,2020-08-05 07:24:06.000000000,2020-08-05 06:19:21.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-31 10:52:32.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/38c7fd7cef42e8c1e6430feb5ac01396c65560c2', 'message': ""Fix validation of IPv6 subnets with external RAs\n\nIn case when such subnet is added directly to the router, there was\nvalidation and subnet which is expected to get RA messages from the\nexternal router couldn't be added to the Neutron router.\n\nBut in case when port was first created manually and then plugged to the\nrouter, there wasn't such validation. This patch fixes it by adding same\nvalidation to adding router interface by port.\n\nChange-Id: I054296c790b697198550acbeae29546758b422c2\nCloses-Bug: #1889619\n""}]",0,744123,38c7fd7cef42e8c1e6430feb5ac01396c65560c2,18,7,1,11975,,,0,"Fix validation of IPv6 subnets with external RAs

In case when such subnet is added directly to the router, there was
validation and subnet which is expected to get RA messages from the
external router couldn't be added to the Neutron router.

But in case when port was first created manually and then plugged to the
router, there wasn't such validation. This patch fixes it by adding same
validation to adding router interface by port.

Change-Id: I054296c790b697198550acbeae29546758b422c2
Closes-Bug: #1889619
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/744123/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py']",2,38c7fd7cef42e8c1e6430feb5ac01396c65560c2,bug/1889619," @staticmethod def _validate_subnet_address_mode(subnet): if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg) fixed_ips = [ip for ip in port['fixed_ips']] for fixed_ip in fixed_ips: subnet = self._core_plugin.get_subnet( context, fixed_ip['subnet_id']) self._validate_subnet_address_mode(subnet) self._validate_subnet_address_mode(subnet)"," if (subnet['ip_version'] == 6 and subnet['ipv6_ra_mode'] is None and subnet['ipv6_address_mode'] is not None): msg = (_('IPv6 subnet %s configured to receive RAs from an ' 'external router cannot be added to Neutron Router.') % subnet['id']) raise n_exc.BadRequest(resource='router', msg=msg)",44,6
openstack%2Frally-openstack~master~Ia71679fd0e675aaeccddeef7f0e59bda019a6c59,openstack/rally-openstack,master,Ia71679fd0e675aaeccddeef7f0e59bda019a6c59,Add simple test that verifies that os plugins are loaded,MERGED,2020-08-04 13:14:07.000000000,2020-08-05 07:12:17.000000000,2020-08-05 07:12:17.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 13:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/17afe41c53cbfdb812f974d5db0dcdf08001aee9', 'message': 'Add simple test that verifies that os plugins are loaded\n\nChange-Id: Ia71679fd0e675aaeccddeef7f0e59bda019a6c59\n'}, {'number': 2, 'created': '2020-08-04 14:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b431dc1eeb34b02a1cb2d9f8b84df80fcc66feb2', 'message': 'Add simple test that verifies that os plugins are loaded\n\n+ update upper-constaints\n\nChange-Id: Ia71679fd0e675aaeccddeef7f0e59bda019a6c59\n'}, {'number': 3, 'created': '2020-08-04 16:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5d66ede6a666c1f72e474532817afc69694965a4', 'message': 'Add simple test that verifies that os plugins are loaded\n\n+ update upper-constaints\n\nChange-Id: Ia71679fd0e675aaeccddeef7f0e59bda019a6c59\n'}, {'number': 4, 'created': '2020-08-04 16:33:47.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tests/unit/test_plugins.py', '.zuul.d/zuul.yaml', 'tests/ci/sync_requirements.py', 'upper-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/09c040fa70e5bf41ab594601a9188963e1394e2b', 'message': 'Add simple test that verifies that os plugins are loaded\n\n+ update upper-constaints\n\nChange-Id: Ia71679fd0e675aaeccddeef7f0e59bda019a6c59\n'}]",0,744703,09c040fa70e5bf41ab594601a9188963e1394e2b,12,2,4,9545,,,0,"Add simple test that verifies that os plugins are loaded

+ update upper-constaints

Change-Id: Ia71679fd0e675aaeccddeef7f0e59bda019a6c59
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/03/744703/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/test_plugins.py'],1,17afe41c53cbfdb812f974d5db0dcdf08001aee9,try_warnings,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import subprocess from tests.unit import test class PluginsLoadingTestCase(test.TestCase): def test_plugins_loaded(self): subprocess.check_output( [""rally"", ""--debug"", ""plugin"", ""show"", ""Dummy.openstack""] ) ",,25,0
openstack%2Fnova~master~Ic01603a91f6099f1068af0e955f3e1056021d673,openstack/nova,master,Ic01603a91f6099f1068af0e955f3e1056021d673,Handle multiple 'vcpusched' elements during live migrate,MERGED,2020-07-28 15:45:54.000000000,2020-08-05 07:09:50.000000000,2020-07-29 19:31:29.000000000,"[{'_account_id': 7166}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-28 15:45:54.000000000', 'files': ['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6aef1ec4f9848f85e1f367e560c2bdb703fa110', 'message': 'Handle multiple \'vcpusched\' elements during live migrate\n\nWhen live migrating a pinned instance, we recalculate pinning\ninformation for the destination host and then update the instance\'s XML\nbefore spawning the instance there. As part of the pinning information\nrecalculation, we must also recalculate information for realtime cores,\nwhich are configured using the \'<vcpusched>\' element. The\n\'nova.virt.libvirt.migration._update_numa_xml\' function, which handles\nthis updating, was assuming there would only be one of these elements.\nThis is a reasonably sane assumption since this is all we create in the\n\'nova.virt.libvirt.LibvirtDriver._get_guest_numa_config\' function used\nto generate the initial instance XML. However, a look at logs show that\nat least some (all?) versions of libvirt actually rewrite the XML we\'re\nproviding them. Compare what is returned from \'_get_guest_xml\':\n\n  DEBUG nova.virt.libvirt.driver [...] [instance: ...] End _get_guest_xml xml=<domain type=""kvm"">\n    ...\n    <cputune>\n      <shares>4096</shares>\n      ...\n      <vcpusched vcpus=""2-3"" scheduler=""fifo"" priority=""1""/>\n    </cputune>\n    ...\n  </domain>\n   {{(pid=12600) _get_guest_xml /opt/stack/nova/nova/virt/libvirt/driver.py:6331}}\n\nto what is seen when we enter \'_update_numa_xml\' (or via \'virsh dumpxml\'\nat any point after instance creation):\n\n  DEBUG nova.virt.libvirt.migration [-] _update_numa_xml input xml=<domain type=""kvm"">\n    ...\n    <cputune>\n      <shares>4096</shares>\n      ...\n      <vcpusched vcpus=""2"" scheduler=""fifo"" priority=""1""/>\n      <vcpusched vcpus=""3"" scheduler=""fifo"" priority=""1""/>\n    </cputune\n    ...\n  </domain>\n   {{(pid=12600) _update_numa_xml /opt/stack/nova/nova/virt/libvirt/migration.py:97}\n\nThe solution is simple: rather than trying to modify the existing XML,\nsimply scrap it and rebuild the elements from scratch. We should\nprobably do this for all elements, but that can/should be tackled\nseparately.\n\nChange-Id: Ic01603a91f6099f1068af0e955f3e1056021d673\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1889257\n'}]",8,743568,b6aef1ec4f9848f85e1f367e560c2bdb703fa110,22,13,1,15334,,,0,"Handle multiple 'vcpusched' elements during live migrate

When live migrating a pinned instance, we recalculate pinning
information for the destination host and then update the instance's XML
before spawning the instance there. As part of the pinning information
recalculation, we must also recalculate information for realtime cores,
which are configured using the '<vcpusched>' element. The
'nova.virt.libvirt.migration._update_numa_xml' function, which handles
this updating, was assuming there would only be one of these elements.
This is a reasonably sane assumption since this is all we create in the
'nova.virt.libvirt.LibvirtDriver._get_guest_numa_config' function used
to generate the initial instance XML. However, a look at logs show that
at least some (all?) versions of libvirt actually rewrite the XML we're
providing them. Compare what is returned from '_get_guest_xml':

  DEBUG nova.virt.libvirt.driver [...] [instance: ...] End _get_guest_xml xml=<domain type=""kvm"">
    ...
    <cputune>
      <shares>4096</shares>
      ...
      <vcpusched vcpus=""2-3"" scheduler=""fifo"" priority=""1""/>
    </cputune>
    ...
  </domain>
   {{(pid=12600) _get_guest_xml /opt/stack/nova/nova/virt/libvirt/driver.py:6331}}

to what is seen when we enter '_update_numa_xml' (or via 'virsh dumpxml'
at any point after instance creation):

  DEBUG nova.virt.libvirt.migration [-] _update_numa_xml input xml=<domain type=""kvm"">
    ...
    <cputune>
      <shares>4096</shares>
      ...
      <vcpusched vcpus=""2"" scheduler=""fifo"" priority=""1""/>
      <vcpusched vcpus=""3"" scheduler=""fifo"" priority=""1""/>
    </cputune
    ...
  </domain>
   {{(pid=12600) _update_numa_xml /opt/stack/nova/nova/virt/libvirt/migration.py:97}

The solution is simple: rather than trying to modify the existing XML,
simply scrap it and rebuild the elements from scratch. We should
probably do this for all elements, but that can/should be tackled
separately.

Change-Id: Ic01603a91f6099f1068af0e955f3e1056021d673
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1889257
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/743568/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py']",2,b6aef1ec4f9848f85e1f367e560c2bdb703fa110,bug/1889257," doc = etree.fromstring("""""" <cputune> <vcpupin vcpu=""0"" cpuset=""0,1,2,^2""/> <vcpupin vcpu=""1"" cpuset=""2-4,^4""/> <emulatorpin cpuset=""8-10,^8""/> <vcpusched vcpus=""10"" priority=""13"" scheduler=""fifo""/> <vcpusched vcpus=""11"" priority=""13"" scheduler=""fifo""/> </cputune> <numatune> <memory nodeset=""4,5,6,7""/> <memnode cellid=""2"" nodeset=""4-6,^6""/> <memnode cellid=""3"" nodeset=""6-8,^8""/> </numatune> cpu_pins={'0': set([10, 11]), '1': set([12, 13])}, cell_pins={'2': set([14, 15]), '3': set([16, 17])}, result = etree.tostring( migration._update_numa_xml(copy.deepcopy(doc), data), encoding='unicode') expected = textwrap.dedent("""""" <domain> <cputune> <vcpupin vcpu=""0"" cpuset=""10-11""/> <vcpupin vcpu=""1"" cpuset=""12-13""/> <emulatorpin cpuset=""18-19""/> <vcpusched vcpus=""20-21"" priority=""22"" scheduler=""fifo""/> </cputune> <numatune> <memory nodeset=""14-17""/> <memnode cellid=""2"" nodeset=""14-15""/> <memnode cellid=""3"" nodeset=""16-17""/> </numatune> </domain>"""""") self.assertXmlEqual(expected, result)"," xml = textwrap.dedent("""""" <cputune> <vcpupin vcpu=""0"" cpuset=""0,1,2,^2""/> <vcpupin vcpu=""1"" cpuset=""2-4,^4""/> <emulatorpin cpuset=""8-10,^8""/> <vcpusched vcpus=""10-12,^12"" priority=""13""/> </cputune> <numatune> <memory nodeset=""4,5,6,7""/> <memnode cellid=""2"" nodeset=""4-6,^6""/> <memnode cellid=""3"" nodeset=""6-8,^8""/> </numatune> doc = etree.fromstring(xml) cpu_pins={'0': set([10, 11]), '1': set([12, 13])}, cell_pins={'2': set([14, 15]), '3': set([16, 17])}, res = etree.tostring(migration._update_numa_xml(copy.deepcopy(doc), data), encoding='unicode') doc.find('./cputune/vcpupin/[@vcpu=""0""]').set('cpuset', '10-11') doc.find('./cputune/vcpupin/[@vcpu=""1""]').set('cpuset', '12-13') doc.find('./cputune/emulatorpin').set('cpuset', '18-19') doc.find('./cputune/vcpusched').set('vcpus', '20-21') doc.find('./cputune/vcpusched').set('priority', '22') doc.find('./numatune/memory').set('nodeset', '14-17') doc.find('./numatune/memnode/[@cellid=""2""]').set('nodeset', '14-15') doc.find('./numatune/memnode/[@cellid=""3""]').set('nodeset', '16-17') self.assertXmlEqual(res, etree.tostring(doc, encoding='unicode'))",53,32
openstack%2Fopenstack-ansible-ceph_client~master~Ic6dc92895d2b35a955424de9ace485e3a894aaf8,openstack/openstack-ansible-ceph_client,master,Ic6dc92895d2b35a955424de9ace485e3a894aaf8,Add centos8 epel GPG key,MERGED,2020-07-28 12:44:22.000000000,2020-08-05 07:07:01.000000000,2020-08-04 19:02:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-28 12:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/0524b320aa86bbdc9a5e10b00d6d07a5526ab825', 'message': 'Add centos8 epel GPG key\n\nChange-Id: Ic6dc92895d2b35a955424de9ace485e3a894aaf8\n'}, {'number': 2, 'created': '2020-07-29 12:19:41.000000000', 'files': ['tasks/ceph_preinstall_yum.yml', 'files/gpg/RPM-GPG-KEY-EPEL-8'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/b0cde5f6953e3f084462601c2223fff26763dd27', 'message': 'Add centos8 epel GPG key\n\nThis also fixes EPEL url for CentOS 8\n\nChange-Id: Ic6dc92895d2b35a955424de9ace485e3a894aaf8\n'}]",0,743523,b0cde5f6953e3f084462601c2223fff26763dd27,12,4,2,28619,,,0,"Add centos8 epel GPG key

This also fixes EPEL url for CentOS 8

Change-Id: Ic6dc92895d2b35a955424de9ace485e3a894aaf8
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/23/743523/2 && git format-patch -1 --stdout FETCH_HEAD,['files/gpg/RPM-GPG-KEY-EPEL-8'],1,0524b320aa86bbdc9a5e10b00d6d07a5526ab825,osa/el8,-----BEGIN PGP PUBLIC KEY BLOCK----- mQINBFz3zvsBEADJOIIWllGudxnpvJnkxQz2CtoWI7godVnoclrdl83kVjqSQp+2 dgxuG5mUiADUfYHaRQzxKw8efuQnwxzU9kZ70ngCxtmbQWGmUmfSThiapOz00018 +eo5MFabd2vdiGo1y+51m2sRDpN8qdCaqXko65cyMuLXrojJHIuvRA/x7iqOrRfy a8x3OxC4PEgl5pgDnP8pVK0lLYncDEQCN76D9ubhZQWhISF/zJI+e806V71hzfyL /Mt3mQm/li+lRKU25Usk9dWaf4NH/wZHMIPAkVJ4uD4H/uS49wqWnyiTYGT7hUbi ecF7crhLCmlRzvJR8mkRP6/4T/F3tNDPWZeDNEDVFUkTFHNU6/h2+O398MNY/fOh yKaNK3nnE0g6QJ1dOH31lXHARlpFOtWt3VmZU0JnWLeYdvap4Eff9qTWZJhI7Cq0 Wm8DgLUpXgNlkmquvE7P2W5EAr2E5AqKQoDbfw/GiWdRvHWKeNGMRLnGI3QuoX3U pAlXD7v13VdZxNydvpeypbf/AfRyrHRKhkUj3cU1pYkM3DNZE77C5JUe6/0nxbt4 ETUZBTgLgYJGP8c7PbkVnO6I/KgL1jw+7MW6Az8Ox+RXZLyGMVmbW/TMc8haJfKL MoUo3TVk8nPiUhoOC0/kI7j9ilFrBxBU5dUtF4ITAWc8xnG6jJs/IsvRpQARAQAB tChGZWRvcmEgRVBFTCAoOCkgPGVwZWxAZmVkb3JhcHJvamVjdC5vcmc+iQI4BBMB AgAiBQJc9877AhsPBgsJCAcDAgYVCAIJCgsEFgIDAQIeAQIXgAAKCRAh6kWrL4bW oWagD/4xnLWws34GByVDQkjprk0fX7Iyhpm/U7BsIHKspHLL+Y46vAAGY/9vMvdE 0fcr9Ek2Zp7zE1RWmSCzzzUgTG6BFoTG1H4Fho/7Z8BXK/jybowXSZfqXnTOfhSF alwDdwlSJvfYNV9MbyvbxN8qZRU1z7PEWZrIzFDDToFRk0R71zHpnPTNIJ5/YXTw NqU9OxII8hMQj4ufF11040AJQZ7br3rzerlyBOB+Jd1zSPVrAPpeMyJppWFHSDAI WK6x+am13VIInXtqB/Cz4GBHLFK5d2/IYspVw47Solj8jiFEtnAq6+1Aq5WH3iB4 bE2e6z00DSF93frwOyWN7WmPIoc2QsNRJhgfJC+isGQAwwq8xAbHEBeuyMG8GZjz xohg0H4bOSEujVLTjH1xbAG4DnhWO/1VXLX+LXELycO8ZQTcjj/4AQKuo4wvMPrv 9A169oETG+VwQlNd74VBPGCvhnzwGXNbTK/KH1+WRH0YSb+41flB3NKhMSU6dGI0 SGtIxDSHhVVNmx2/6XiT9U/znrZsG5Kw8nIbbFz+9MGUUWgJMsd1Zl9R8gz7V9fp n7L7y5LhJ8HOCMsY/Z7/7HUs+t/A1MI4g7Q5g5UuSZdgi0zxukiWuCkLeAiAP4y7 zKK4OjJ644NDcWCHa36znwVmkz3ixL8Q0auR15Oqq2BjR/fyog== =84m8 -----END PGP PUBLIC KEY BLOCK-----,,28,0
openstack%2Fopenstack-ansible-os_ceilometer~master~Icf4bf61d871ca843b107f3271b859f0441b2ea69,openstack/openstack-ansible-os_ceilometer,master,Icf4bf61d871ca843b107f3271b859f0441b2ea69,Revert CentOS 8 jobs to voting,MERGED,2020-07-28 13:48:45.000000000,2020-08-05 07:06:29.000000000,2020-08-04 18:19:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-28 13:48:45.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/e7a5487ff238b9208c7a6f653de1d3c0b247c5f6', 'message': 'Revert CentOS 8 jobs to voting\n\nChange-Id: Icf4bf61d871ca843b107f3271b859f0441b2ea69\n'}]",0,743543,e7a5487ff238b9208c7a6f653de1d3c0b247c5f6,13,4,1,28619,,,0,"Revert CentOS 8 jobs to voting

Change-Id: Icf4bf61d871ca843b107f3271b859f0441b2ea69
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/43/743543/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,e7a5487ff238b9208c7a6f653de1d3c0b247c5f6,osa/el8,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false,0,12
openstack%2Fopenstack-ansible-os_gnocchi~master~I9d356bfbf18c370c365937114c18dad92fa4ea53,openstack/openstack-ansible-os_gnocchi,master,I9d356bfbf18c370c365937114c18dad92fa4ea53,Revert CentOS 8 jobs to voting,MERGED,2020-07-28 13:47:55.000000000,2020-08-05 07:06:17.000000000,2020-08-04 18:26:44.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-28 13:47:55.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/801a24e3e45cef339990e5baf2e72bb7de578b22', 'message': 'Revert CentOS 8 jobs to voting\n\nChange-Id: I9d356bfbf18c370c365937114c18dad92fa4ea53\n'}]",0,743541,801a24e3e45cef339990e5baf2e72bb7de578b22,13,4,1,28619,,,0,"Revert CentOS 8 jobs to voting

Change-Id: I9d356bfbf18c370c365937114c18dad92fa4ea53
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/41/743541/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,801a24e3e45cef339990e5baf2e72bb7de578b22,osa/el8,, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,0,16
openstack%2Fironic~stable%2Fussuri~Id57ed11b6000a35c7c3dd4929169fd969429bf24,openstack/ironic,stable/ussuri,Id57ed11b6000a35c7c3dd4929169fd969429bf24,[DNM] Test CI,ABANDONED,2020-08-04 17:18:40.000000000,2020-08-05 06:46:39.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 17:18:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6a369cc357071eb95e25ad632c977f77fff4889', 'message': '[DNM] Test CI\n\nChange-Id: Id57ed11b6000a35c7c3dd4929169fd969429bf24\n'}]",0,744760,d6a369cc357071eb95e25ad632c977f77fff4889,4,2,1,23851,,,0,"[DNM] Test CI

Change-Id: Id57ed11b6000a35c7c3dd4929169fd969429bf24
",git fetch https://review.opendev.org/openstack/ironic refs/changes/60/744760/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d6a369cc357071eb95e25ad632c977f77fff4889,, PYTHONDONTWRITEBYTECODE=1, PYTHONDONTWRITEBYTECODE = 1,1,1
openstack%2Fironic~stable%2Fussuri~I413bc82877c1225b1dc8ced013605467ce11108d,openstack/ironic,stable/ussuri,I413bc82877c1225b1dc8ced013605467ce11108d,[DNM] Test fix for lower-constraints job,ABANDONED,2020-08-04 13:25:21.000000000,2020-08-05 06:46:20.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 13:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/627d1a464ef2fa19aa74d2472837f4974dfb42c2', 'message': '[DNM] Test fix for lower-constraints job\n\nSee https://review.opendev.org/744698 and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I413bc82877c1225b1dc8ced013605467ce11108d\n'}, {'number': 2, 'created': '2020-08-04 13:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c626a540a328ae816901763b07025dbd4c52500', 'message': '[DNM] Test fix for lower-constraints job\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I413bc82877c1225b1dc8ced013605467ce11108d\n'}, {'number': 3, 'created': '2020-08-04 16:51:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b255bc3f3a9927434473ccc68fc6e2bac44567ac', 'message': '[DNM] Test fix for lower-constraints job\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I413bc82877c1225b1dc8ced013605467ce11108d\n'}]",0,744706,b255bc3f3a9927434473ccc68fc6e2bac44567ac,7,2,3,23851,,,0,"[DNM] Test fix for lower-constraints job

See [1] and [2] for more info.

[1] https://review.opendev.org/744698
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html

Change-Id: I413bc82877c1225b1dc8ced013605467ce11108d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/744706/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,627d1a464ef2fa19aa74d2472837f4974dfb42c2,,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} {opts} {packages}install_command = pip install -c{toxinidir}/lower-constraints.txt {opts} {packages},,2,0
openstack%2Fnova~master~Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,openstack/nova,master,Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562,Add regression tests for bug #1889108,MERGED,2020-07-27 17:41:59.000000000,2020-08-05 06:03:09.000000000,2020-07-30 23:40:04.000000000,"[{'_account_id': 4690}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-27 17:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e6b39a79a5df0e9bd61d7c2a831c39a3a6828b0', 'message': 'Add regression test for bug #1889108\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n'}, {'number': 2, 'created': '2020-07-28 09:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f764951d22e14c730d4a8a95c7d6d5d3d1c2a09', 'message': 'Add regression test for bug #1889108\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n'}, {'number': 3, 'created': '2020-07-28 13:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21c84c7b589b4ad130d54308c675f98ad67de251', 'message': 'Add regression tests for bug #1889108\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n'}, {'number': 4, 'created': '2020-07-28 19:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e9bc664bd8644b6d79cb3b22d2004f987861750', 'message': 'Add regression tests for bug #1889108\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n'}, {'number': 5, 'created': '2020-07-29 10:02:02.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1889108.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4c970f499c31370495d84c91a10319d308d13fb9', 'message': 'Add regression tests for bug #1889108\n\nRelated-Bug: #1889108\nChange-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562\n'}]",27,743289,4c970f499c31370495d84c91a10319d308d13fb9,54,11,5,10135,,,0,"Add regression tests for bug #1889108

Related-Bug: #1889108
Change-Id: Ib9dbc792dc918e7ea45915e2c1dbd96be82ef562
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/743289/5 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1889108.py'],1,2e6b39a79a5df0e9bd61d7c2a831c39a3a6828b0,bug/1889108,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers class VolAttachmentsDeletedDuringPreLiveMigrationRollback( integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1889108. This regression test asserts that the original source volume attachments are incorrectly removed during the rollback from pre_live_migration failures on the destination. """""" ADMIN_API = True microversion = 'latest' def setUp(self): super( VolAttachmentsDeletedDuringPreLiveMigrationRollback, self).setUp() self._start_compute(host=""host1"") self._start_compute(host=""host2"") self.flavor = self.api.get_flavors()[0] self.cinder = self.useFixture(nova_fixtures.CinderFixture(self)) @mock.patch('nova.virt.fake.FakeDriver.pre_live_migration', side_effect=test.TestingException) def test_attachments_deleted_during_driver_pre_live_mig_failure( self, mock_plm): volume_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL server = { 'name': 'test_bfv_pre_live_migration_failure', 'imageRef': '', 'flavorRef': self.flavor['id'], 'block_device_mapping_v2': [{ 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'uuid': volume_id }], 'networks': [], } server = self.api.post_server({'server': server}) self._wait_for_state_change(server, 'ACTIVE') # Fetch the source host for use later server = self.api.get_server(server['id']) src_host = server['OS-EXT-SRV-ATTR:host'] # Assert that the volume is connected to the instance self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Assert that we have an active attachment in the fixture attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertEqual(1, len(attachments)) # Fetch the attachment_id for use later once we have migrated src_attachment_id = list(attachments.keys())[0] # Migrate the instance self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) # Wait until the migration errors out self._wait_for_migration_status(server, ['error']) # Assert that we called the fake pre_live_migration method mock_plm.assert_called_once() # Assert that the instance is listed as ACTIVE on the source self._wait_for_state_change(server, 'ACTIVE') server = self.api.get_server(server['id']) self.assertEqual(src_host, server['OS-EXT-SRV-ATTR:host']) # FIXME(lyarwood): Assert that both the src and dest attachments have # been removed. Only the dest attachment should be removed during the # rollback of a pre_live_migration failure. attachments = self.cinder.volume_to_attachment.get(volume_id) self.assertNotIn(src_attachment_id, attachments.keys()) self.assertEqual(0, len(attachments)) ",,95,0
openstack%2Ftempest~master~I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052,openstack/tempest,master,I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052,Add default headers to the volume show_version request,MERGED,2020-07-13 15:28:02.000000000,2020-08-05 05:55:29.000000000,2020-08-05 05:54:11.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 11934}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23140}, {'_account_id': 24780}, {'_account_id': 30108}, {'_account_id': 31479}, {'_account_id': 31707}]","[{'number': 1, 'created': '2020-07-13 15:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1544c4aa9d3e43fbf74aeb845108f7dff2acb70a', 'message': '[DNM] Test commit for volume versions\n\nChange-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052\n'}, {'number': 2, 'created': '2020-07-15 10:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea5cbe7fbf6be05e4c407da3b834ca8251f442f6', 'message': 'Add OpenStack-API-Version header to the show_version volume request\n\nChange-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052\n'}, {'number': 3, 'created': '2020-07-15 10:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7972fec25192995251d5081418b603491c2582dd', 'message': ""Add OpenStack-API-Version header to the show_version request\n\nAdd 'Openstack-Api-Version': 'volume 3.0' header to the \nvolume show_version details request.\n\n\nChange-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052\n""}, {'number': 4, 'created': '2020-07-15 13:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3db69dff7ab322fe2d7229e1a768aaa975be2d1d', 'message': ""Add OpenStack-API-Version header to the show_version request\n\nAdd 'Openstack-Api-Version': 'volume 3.0' header to the \nvolume show_version details request.\n\n\nChange-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052\n""}, {'number': 5, 'created': '2020-07-16 11:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a1485b095068c5999f0ef1f1304f5ac23375221', 'message': ""Add OpenStack-API-Version header to the show_version request\n\nAdd 'Openstack-Api-Version': 'volume 3.0' header to the \nvolume show_version details request.\n\nChange-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052\n\nCloses-Bug: #1887789\n""}, {'number': 6, 'created': '2020-07-29 12:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6df16b1c034118f94794a493f409ea2973b973d', 'message': 'Add default headers to the volume show_version request\n\nWhen openstack is deployed with kubernetes and openstack-helm\nand when tempest test suite is run against that lab, \ntest_versions.VersionsTest.test_show_version tempest test case\nis failing. This issue is not reproducible on all the labs \ndeployed with kubernetes and helm but only on one of the lab. \nThere is nothing inconsistent found in the cinder functionality \non that lab except this test case failure.\n\nAdding default headers to the ""show_version"" request as that of \n""list_versions"" request solves the above issue.\nSo, modifying ""show_version"" request as there will be \nno negative impacts.\n\nChange-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052\n\nCloses-Bug: #1887789\n'}, {'number': 7, 'created': '2020-07-29 12:36:33.000000000', 'files': ['tempest/lib/services/volume/v3/versions_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe7a983a3d2a95c01946651eb27e97cecdcae315', 'message': 'Add default headers to the volume show_version request\n\nWhen openstack is deployed with kubernetes and openstack-helm\nand when tempest test suite is run against that lab, \ntest_versions.VersionsTest.test_show_version tempest test case\nis failing. This issue is not reproducible on all the labs \ndeployed with kubernetes and helm but only on one of the lab. \nThere is nothing inconsistent found in the cinder functionality \non that lab except this test case failure.\n\nAdding \'Openstack-Api-Version\' header to the ""show_version"" request \nas that of ""list_versions"" request solves the above issue.\n\'Openstack-Api-Version\' header is included in default headers.\nSo, modifying ""show_version"" request to include default headers\nas there will be no negative impacts.\n\nChange-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052\n\nCloses-Bug: #1887789\n'}]",1,740714,fe7a983a3d2a95c01946651eb27e97cecdcae315,44,14,7,31479,,,0,"Add default headers to the volume show_version request

When openstack is deployed with kubernetes and openstack-helm
and when tempest test suite is run against that lab, 
test_versions.VersionsTest.test_show_version tempest test case
is failing. This issue is not reproducible on all the labs 
deployed with kubernetes and helm but only on one of the lab. 
There is nothing inconsistent found in the cinder functionality 
on that lab except this test case failure.

Adding 'Openstack-Api-Version' header to the ""show_version"" request 
as that of ""list_versions"" request solves the above issue.
'Openstack-Api-Version' header is included in default headers.
So, modifying ""show_version"" request to include default headers
as there will be no negative impacts.

Change-Id: I2f1970d4595c1b32c05f27c5c0eb3e28a75d7052

Closes-Bug: #1887789
",git fetch https://review.opendev.org/openstack/tempest refs/changes/14/740714/6 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/volume/v3/versions_client.py'],1,1544c4aa9d3e43fbf74aeb845108f7dff2acb70a,," {'X-Auth-Token': self.token, 'Openstack-Api-Version': 'volume 3.0'})", {'X-Auth-Token': self.token}),2,2
openstack%2Ftripleo-quickstart~master~I7867d905f5d30f8370eea3e8ad33a681c88ad408,openstack/tripleo-quickstart,master,I7867d905f5d30f8370eea3e8ad33a681c88ad408,[DNM] ironic full coverage,ABANDONED,2020-08-05 02:25:13.000000000,2020-08-05 05:15:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-05 02:25:13.000000000', 'files': ['config/general_config/featureset060.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f01f087974cf67b2df52ea1b9fb08a20aeab5e5c', 'message': '[DNM] ironic full coverage\n\nChange-Id: I7867d905f5d30f8370eea3e8ad33a681c88ad408\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,744819,f01f087974cf67b2df52ea1b9fb08a20aeab5e5c,4,2,1,12393,,,0,"[DNM] ironic full coverage

Change-Id: I7867d905f5d30f8370eea3e8ad33a681c88ad408
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/19/744819/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset060.yml'],1,f01f087974cf67b2df52ea1b9fb08a20aeab5e5c,foobar, - 'ironic_tempest_plugin.tests', - 'ironic_tempest_plugin.tests.api.admin.test_api_discovery.TestApiDiscovery' - 'ironic_tempest_plugin.tests.api.admin.test_conductor.TestConductors' - 'ironic_tempest_plugin.tests.api.admin.test_deploy_templates.TestDeployTemplates' - 'ironic_tempest_plugin.tests.api.admin.test_deploy_templates.TestDeployTemplatesNegative' - 'ironic_tempest_plugin.tests.api.admin.test_deploy_templates.TestDeployTemplatesOldAPI',1,5
openstack%2Fnova~master~I17357d85f845d4160cb7c7784772530a1e92af76,openstack/nova,master,I17357d85f845d4160cb7c7784772530a1e92af76,Make _rebase_with_qemu_img() generic,MERGED,2020-07-28 13:41:35.000000000,2020-08-05 05:11:54.000000000,2020-07-31 14:01:12.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-28 13:41:35.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce2203456660083119cdbb7e73c1ad15e6e0a074', 'message': 'Make _rebase_with_qemu_img() generic\n\nMove volume_delete related logic away from this method, in order to make\nit generic and usable elsewhere.\n\nChange-Id: I17357d85f845d4160cb7c7784772530a1e92af76\nRelated-Bug: #1732428\n'}]",1,743537,ce2203456660083119cdbb7e73c1ad15e6e0a074,18,11,1,28332,,,0,"Make _rebase_with_qemu_img() generic

Move volume_delete related logic away from this method, in order to make
it generic and usable elsewhere.

Change-Id: I17357d85f845d4160cb7c7784772530a1e92af76
Related-Bug: #1732428
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/743537/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,ce2203456660083119cdbb7e73c1ad15e6e0a074,bug/1732428," @mock.patch('nova.virt.images.qemu_img_info', return_value=mock.Mock(file_format=""fake_fmt"")) @mock.patch('oslo_concurrency.processutils.execute') def test_rebase_with_qemu_img(self, mock_execute, mock_qemu_img_info): """"""rebasing disk image to another backing file"""""" self.drvr._rebase_with_qemu_img(""disk"", ""backing_file"") mock_qemu_img_info.assert_called_once_with(""backing_file"") mock_execute.assert_called_once_with('qemu-img', 'rebase', '-b', 'backing_file', '-F', 'fake_fmt', 'disk') # Flatten disk image when no backing file is given. mock_qemu_img_info.reset_mock() mock_execute.reset_mock() self.drvr._rebase_with_qemu_img(""disk"", None) self.assertEqual(0, mock_qemu_img_info.call_count) mock_execute.assert_called_once_with('qemu-img', 'rebase', '-b', '', 'disk') ",,36,23
openstack%2Ftripleo-common~stable%2Ftrain~I415eec5d307ac73456aa556db9d61ceac1eaa565,openstack/tripleo-common,stable/train,I415eec5d307ac73456aa556db9d61ceac1eaa565,Handle redirects for blobs better,MERGED,2020-08-03 13:04:07.000000000,2020-08-05 04:52:47.000000000,2020-08-05 04:51:16.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 13:04:07.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4dd1bd199f45cbc905924f2936733678a07d4255', 'message': ""Handle redirects for blobs better\n\nThis patch adds a new function that checks if a response was a redirect\nfor an a request and removes the Authorization header that we usually\nsend if it is not one of our trusted hosts. This prevents authorization\nkeys from going to insecure places. This is similar logic that exists in\nthe moby registry code[0].\n\nAdditionally improves the cachability of blobs from docker.io because\nthey are redirects to files that exist on a CDN that doesn't actually\nrequire authentication. The upstream CI registry caching system doesn't\ncache any requests with the Authorization header per the apache cache\ndocumentation[1].\n\n[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174\n[1] https://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nPartial-Bug: #1889122\n(cherry picked from commit d3af31414747f28508e236b1fea8db7601fa2e7b)\n""}]",0,744467,4dd1bd199f45cbc905924f2936733678a07d4255,10,6,1,14985,,,0,"Handle redirects for blobs better

This patch adds a new function that checks if a response was a redirect
for an a request and removes the Authorization header that we usually
send if it is not one of our trusted hosts. This prevents authorization
keys from going to insecure places. This is similar logic that exists in
the moby registry code[0].

Additionally improves the cachability of blobs from docker.io because
they are redirects to files that exist on a CDN that doesn't actually
require authentication. The upstream CI registry caching system doesn't
cache any requests with the Authorization header per the apache cache
documentation[1].

[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174
[1] https://httpd.apache.org/docs/2.4/caching.html

Change-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565
Partial-Bug: #1889122
(cherry picked from commit d3af31414747f28508e236b1fea8db7601fa2e7b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/67/744467/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,4dd1bd199f45cbc905924f2936733678a07d4255,bug/1889122-stable/train," 'registry.redhat.io', 'registry.access.redhat.com', def check_redirect_trusted(request_response, request_session, stream=True, timeout=30): """"""Check if we've been redirected to a trusted source Because we may be using auth, we may not want to leak authentication keys to an untrusted source. If we get a redirect, we need to check that the redirect url is one of our sources that we trust. Otherwise we drop the Authorization header from the redirect request. We'll add the header back into the request session after performing the request to ensure that future usage of the session. :param: request_response: Response object of the request to check :param: request_session: Session to use when redirecting :param: stream: Should we stream the response of the redirect :param: tiemout: Timeout for the redirect request """""" # we're not a redirect, just return the original response if not (request_response.status_code >= 300 and request_response.status_code < 400): return request_response # parse the destination location redir_url = parse.urlparse(request_response.headers['Location']) # close the response since we're going to replace it request_response.close() auth_header = request_session.headers.pop('Authorization', None) # ok we got a redirect, let's check where we are going if len([h for h in SECURE_REGISTRIES if h in redir_url.netloc]) > 0: # we're going to a trusted location, add the header back and # return response request_session.headers.update({'Authorization': auth_header}) request_response = request_session.get(redir_url.geturl(), stream=stream, timeout=timeout) else: # we didn't trust the place we're going, request without auth but # add the auth back to the request session afterwards request_response = request_session.get(redir_url.geturl(), stream=stream, timeout=timeout) request_session.headers.update({'Authorization': auth_header}) request_response.encoding = 'utf-8' # recheck status here to make sure we didn't get a 401 from # our redirect host path. RegistrySessionHelper.check_status(session=request_session, request=request_response) return request_response @staticmethod timeout=30, allow_redirects=False # check if the blob is a redirect config_r = RegistrySessionHelper.check_redirect_trusted( config_r, session, stream=False) with session.get(source_blob_url, stream=True, timeout=30, allow_redirects=False) as blob_req: # raise for status here to ensure we didn't got a 401 # Requests to docker.io redirect to CDN for the actual content # so we need to check if our initial blob request is a redirect # and follow as necessary. blob_req = RegistrySessionHelper.check_redirect_trusted(blob_req, session) timeout=30, allow_redirects=False # check if the blob was a redirect r = RegistrySessionHelper.check_redirect_trusted( r, source_session, stream=False)"," timeout=30 with session.get( source_blob_url, stream=True, timeout=30) as blob_req: # TODO(aschultz): unsure if necessary or if only when using .text timeout=30",144,8
openstack%2Fopenstack-helm-addons~master~I0a045a3e12ede8480d47a79dc60789be4a7054d3,openstack/openstack-helm-addons,master,I0a045a3e12ede8480d47a79dc60789be4a7054d3,Add ensure-pip to osh-gate-runner for addons,MERGED,2020-07-28 21:45:28.000000000,2020-08-05 04:21:47.000000000,2020-08-05 04:21:47.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 21:45:28.000000000', 'files': ['tools/gate/playbooks/osh-gate-runner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/74af2d0d7527b20abcc6cb5ff1869cbdd5011185', 'message': 'Add ensure-pip to osh-gate-runner for addons\n\nThis change adds the ensure-pip task to the gate-runner in order\nto ensure that the various jobs we run will have pip by default.\n\nChange-Id: I0a045a3e12ede8480d47a79dc60789be4a7054d3\n'}]",0,743635,74af2d0d7527b20abcc6cb5ff1869cbdd5011185,7,3,1,21420,,,0,"Add ensure-pip to osh-gate-runner for addons

This change adds the ensure-pip task to the gate-runner in order
to ensure that the various jobs we run will have pip by default.

Change-Id: I0a045a3e12ede8480d47a79dc60789be4a7054d3
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/35/743635/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/playbooks/osh-gate-runner.yaml'],1,74af2d0d7527b20abcc6cb5ff1869cbdd5011185,update-reqs, - name: Ensure pip include_role: name: ensure-pip,,3,0
openstack%2Fnova~master~I18ce29921bd8554cd2a6900871132db7a1729f1f,openstack/nova,master,I18ce29921bd8554cd2a6900871132db7a1729f1f,Fix issue with decorator in lower-constraints job,ABANDONED,2020-08-03 00:41:07.000000000,2020-08-05 03:29:34.000000000,,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23157}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-03 00:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b92b681f01cb9e3d1faa31be9553c60df8ebd201', 'message': 'Fix CI failture: Introduce decorator>=3.4.0 to test-requirements.txt\n\nCloses-Bug: #1890064\nChange-Id: I18ce29921bd8554cd2a6900871132db7a1729f1f\n'}, {'number': 2, 'created': '2020-08-05 01:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a306cb8ed258878922d37b3a389fd8f0aac372bf', 'message': 'Fix CI failture: Introduce decorator>=3.4.0 to test-requirements.txt\n\nML by Lee Yarwood: http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nCloses-Bug: #1890064\nChange-Id: I18ce29921bd8554cd2a6900871132db7a1729f1f\n'}, {'number': 3, 'created': '2020-08-05 01:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c573322913da3def5f59527aa1bd4e026228299', 'message': 'Fix issue with decorator in lower-constraints job\n\nML by Lee Yarwood: http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nCloses-Bug: #1890064\nChange-Id: I18ce29921bd8554cd2a6900871132db7a1729f1f\n'}, {'number': 4, 'created': '2020-08-05 02:56:09.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/89f2585ed9f829502c71fd32a1bb94171eb210ac', 'message': 'Fix issue with decorator in lower-constraints job\n\nML by Lee Yarwood: http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nCloses-Bug: #1890064\nChange-Id: I18ce29921bd8554cd2a6900871132db7a1729f1f\n'}]",0,744385,89f2585ed9f829502c71fd32a1bb94171eb210ac,27,13,4,26458,,,0,"Fix issue with decorator in lower-constraints job

ML by Lee Yarwood: http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html

Closes-Bug: #1890064
Change-Id: I18ce29921bd8554cd2a6900871132db7a1729f1f
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/744385/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b92b681f01cb9e3d1faa31be9553c60df8ebd201,bp/1890064,decorator>=3.4.0 # BSD,,1,0
openstack%2Fnova~master~I63fe548df213ebfe557bf8a91e1773b4736687fa,openstack/nova,master,I63fe548df213ebfe557bf8a91e1773b4736687fa,scheduler: Default request group to None,MERGED,2020-07-23 12:07:05.000000000,2020-08-05 02:55:45.000000000,2020-07-27 12:09:53.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 12:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43328dd9d7465b1470791d49083b8b915b20d58b', 'message': ""scheduler: Default request group to None\n\nAs noted in change I8645c31b4ecb18afea592b2a5b360b0165626009, virtually\nall of our translations of flavor extra specs to resource or trait\nrequests add these requests to the default request group. Make the\n'_add_trait' and '_add_resource' helper functions default to these\ngroups, giving us a slightly saner function signature.\n\nChange-Id: I63fe548df213ebfe557bf8a91e1773b4736687fa\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-24 11:52:54.000000000', 'files': ['nova/scheduler/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6fcf5a830ad01203742b270626b6d0ed621fb6', 'message': ""scheduler: Default request group to None\n\nAs noted in change I8645c31b4ecb18afea592b2a5b360b0165626009, virtually\nall of our translations of flavor extra specs to resource or trait\nrequests add these requests to the default request group. Make the\n'_add_trait' and '_add_resource' helper functions default to these\ngroups, giving us a slightly saner function signature.\n\nChange-Id: I63fe548df213ebfe557bf8a91e1773b4736687fa\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,742651,ce6fcf5a830ad01203742b270626b6d0ed621fb6,24,10,2,15334,,,0,"scheduler: Default request group to None

As noted in change I8645c31b4ecb18afea592b2a5b360b0165626009, virtually
all of our translations of flavor extra specs to resource or trait
requests add these requests to the default request group. Make the
'_add_trait' and '_add_resource' helper functions default to these
groups, giving us a slightly saner function signature.

Change-Id: I63fe548df213ebfe557bf8a91e1773b4736687fa
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/51/742651/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/utils.py'],1,43328dd9d7465b1470791d49083b8b915b20d58b,bp/add-emulated-virtual-tpm," self._add_resource(orc.VCPU, request_spec.vcpus) self._add_resource(orc.MEMORY_MB, request_spec.memory_mb) self._add_resource(orc.DISK_GB, disk) self._add_resource(name, val, group=suffix) self._add_trait(name, val, group=suffix) self._add_trait(trait, 'required') self._add_trait(trait, 'required') self._add_resource(orc.MEM_ENCRYPTION_CONTEXT, 1) self._add_resource(resource_class, amount) self._add_resource(orc.PCPU, cpus) self._add_trait(os_traits.HW_CPU_HYPERTHREADING, trait) def _add_resource(self, rclass, amount, group=None): """"""Add resource request to specified request group. Defaults to the unsuffixed request group if no group is provided. """""" self.get_request_group(group).add_resource(rclass, amount) def _add_trait(self, trait_name, trait_type, group=None): """"""Add trait request to specified group. Defaults to the unsuffixed request group if no group is provided. """""" self.get_request_group(group).add_trait(trait_name, trait_type)"," self._add_resource(None, orc.VCPU, request_spec.vcpus) self._add_resource(None, orc.MEMORY_MB, request_spec.memory_mb) self._add_resource(None, orc.DISK_GB, disk) self._add_resource(suffix, name, val) self._add_trait(suffix, name, val) self._add_trait(None, trait, ""required"") self._add_trait(None, trait, ""required"") self._add_resource(None, orc.MEM_ENCRYPTION_CONTEXT, 1) self._add_resource(None, resource_class, amount) self._add_resource(None, orc.PCPU, cpus) self._add_trait(None, os_traits.HW_CPU_HYPERTHREADING, trait) def _add_resource(self, groupid, rclass, amount): self.get_request_group(groupid).add_resource(rclass, amount) def _add_trait(self, groupid, trait_name, trait_type): self.get_request_group(groupid).add_trait(trait_name, trait_type)",23,15
openstack%2Fopenstack-helm~master~I4e31ffb721aea4af75126a4732d0dc39375f9faa,openstack/openstack-helm,master,I4e31ffb721aea4af75126a4732d0dc39375f9faa,[test minikube],ABANDONED,2020-07-27 05:51:06.000000000,2020-08-05 01:38:35.000000000,,"[{'_account_id': 8863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 05:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87c69ef0c1845a907d46f96ef1db46b2339f5e3f', 'message': '[test kubeadm]\n\nDepends-On: https://review.opendev.org/#/c/743147/\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-27 16:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1f9d97f0d41cb067f6b1a07afcef60c5c9575ddc', 'message': '[test kubeadm]\n\nDepends-On: https://review.opendev.org/#/c/743147/\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-27 16:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82605106067876e00be791ac1b56e48d7a159680', 'message': '[test kubeadm]\n\nDepends-On: https://review.opendev.org/#/c/743147/\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-27 19:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/361501b53abd04b43a50c0f56a76ae1240a1a534', 'message': '[test kubeadm]\n\nDepends-On: https://review.opendev.org/#/c/743147/\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-28 00:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6423021af3f9fc03dc60952da76ceb7a5d29eb87', 'message': '[test kubeadm]\n\nDepends-On: https://review.opendev.org/#/c/743147/\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-28 17:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f7a5b77f3ef78de631e4f58187e8c6127862db53', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-28 17:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/278d308221fffaaf140bccecdad9824d396e3eb7', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-28 19:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7d4aa87c7f0089b60060bf0ed17265c69bc20f5c', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-07-30 18:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/54a8e8de4cd0daaf47d6ac93a2f1d468ac71c77e', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-07-30 18:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0bc48ea4ce984f68eb7f2988c05eb643900035df', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-07-30 19:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/639419941b00f9d1a2a7888d24ddace0b334e3f6', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-07-30 20:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81b09f0eb82e569c963002c810e1250f4ce99afe', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-07-31 02:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/937ef7d8fb00b3072bc94ed6eafb51330157acd4', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-07-31 02:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a93456ff74d52427dbd5d61626660c68193959ba', 'message': '[test minikube]\n\nDepends-On: https://review.opendev.org/743462\nChange-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,743148,a93456ff74d52427dbd5d61626660c68193959ba,74,2,14,8863,,,0,"[test minikube]

Depends-On: https://review.opendev.org/743462
Change-Id: I4e31ffb721aea4af75126a4732d0dc39375f9faa
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/743148/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/deploy-k8s.sh'],1,87c69ef0c1845a907d46f96ef1db46b2339f5e3f,,make dev-deploy setup-host make dev-deploy k8s,./tools/deployment/common/005-deploy-k8s.sh,2,1
openstack%2Fplacement~master~I2d67ea2025bab811b00d98759ac4b97ad0737377,openstack/placement,master,I2d67ea2025bab811b00d98759ac4b97ad0737377,Update for os-traits 2.4.0,MERGED,2020-08-04 20:59:41.000000000,2020-08-05 01:36:43.000000000,2020-08-05 01:35:30.000000000,"[{'_account_id': 8556}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-08-04 20:59:41.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/ffb9d5fdee2ae6575bd5128ee49ce7e775dee7d9', 'message': 'Update for os-traits 2.4.0\n\nThe upper constraint for os-traits was bumped to 2.4.0 in change\nIdf9ae2ea576f4ed882489f03e4dbc94193243c98 and additional traits\nare available.\n\nUpdate the tests and requirements accordingly.\n\nChange-Id: I2d67ea2025bab811b00d98759ac4b97ad0737377\n'}]",0,744790,ffb9d5fdee2ae6575bd5128ee49ce7e775dee7d9,10,4,1,4690,,,0,"Update for os-traits 2.4.0

The upper constraint for os-traits was bumped to 2.4.0 in change
Idf9ae2ea576f4ed882489f03e4dbc94193243c98 and additional traits
are available.

Update the tests and requirements accordingly.

Change-Id: I2d67ea2025bab811b00d98759ac4b97ad0737377
",git fetch https://review.opendev.org/openstack/placement refs/changes/90/744790/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,ffb9d5fdee2ae6575bd5128ee49ce7e775dee7d9,744569, $.traits.`len`: 285 # Number of standard traits, $.traits.`len`: 277 # Number of standard traits,3,3
openstack%2Fopenstack-helm-images~master~Ib626a14b4252a00af1a4bb4015ef88463c4c8167,openstack/openstack-helm-images,master,Ib626a14b4252a00af1a4bb4015ef88463c4c8167,[test],ABANDONED,2020-08-05 00:06:54.000000000,2020-08-05 01:24:10.000000000,,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-05 00:06:54.000000000', 'files': ['zuul.d/minikube-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/17e215d268fcc4651a65671f499a8294309bd32e', 'message': '[test]\n\nChange-Id: Ib626a14b4252a00af1a4bb4015ef88463c4c8167\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,744808,17e215d268fcc4651a65671f499a8294309bd32e,10,3,1,8863,,,0,"[test]

Change-Id: Ib626a14b4252a00af1a4bb4015ef88463c4c8167
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/08/744808/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/minikube-aio.yaml'],1,17e215d268fcc4651a65671f499a8294309bd32e,, - context: ../openstack-helm-images/minikube-aio, - context: minikube-aio,1,1
openstack%2Fcharm-mysql-innodb-cluster~master~I989d6c8c675ec8e3402e62b4b05ed78f3b31edba,openstack/charm-mysql-innodb-cluster,master,I989d6c8c675ec8e3402e62b4b05ed78f3b31edba,MySQL TLS documentation,MERGED,2020-07-23 21:39:44.000000000,2020-08-05 00:57:59.000000000,2020-08-05 00:57:59.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-07-23 21:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/4fb1bd92eddfcd719bc3b6b32034dd1e1df2e1e4', 'message': 'MySQL TLS documentation\n\nChange-Id: I989d6c8c675ec8e3402e62b4b05ed78f3b31edba\n'}, {'number': 2, 'created': '2020-07-24 22:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f15a17550355cfb788f966da2f928963a7322abd', 'message': 'MySQL TLS documentation\n\nChange-Id: I989d6c8c675ec8e3402e62b4b05ed78f3b31edba\n'}, {'number': 3, 'created': '2020-08-04 23:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/3c8e19c64c327fa0c772612282ee6d0334417876', 'message': 'MySQL TLS documentation\n\nChange-Id: I989d6c8c675ec8e3402e62b4b05ed78f3b31edba\n'}, {'number': 4, 'created': '2020-08-05 00:47:27.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/b7fe036c3e6ee956366d4d7485bd79e452abc33c', 'message': 'MySQL TLS documentation\n\nChange-Id: I989d6c8c675ec8e3402e62b4b05ed78f3b31edba\n'}]",4,742755,b7fe036c3e6ee956366d4d7485bd79e452abc33c,17,3,4,20805,,,0,"MySQL TLS documentation

Change-Id: I989d6c8c675ec8e3402e62b4b05ed78f3b31edba
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/55/742755/4 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,4fb1bd92eddfcd719bc3b6b32034dd1e1df2e1e4,feature/tls,"### TLS The mysql-innodb-cluster supports post-deployment database TLS communication. By relating the charm to the vault certificates relation, TLS is enabled to all clients. .. code-block:: none juju add-relation mysql-innodb-cluster:certificates vault:certificates .. note:: Mysql-innodb-cluster by default uses a snake oil certificate to TLS encrypt all native mysql client communication. However, this does not include python libraries like sqlalchemy, thus the need for the new feature. .. warning:: Due to the circular dependency between vault and mysql-innodb-cluster, TLS is currently a post-deployment feature. TLS is enabled once vault has been initialized and has a root Certificate Authority. ",,23,0
openstack%2Fopenstack-helm-infra~master~I73bfd654cff87b08c77337b57a81856054934eca,openstack/openstack-helm-infra,master,I73bfd654cff87b08c77337b57a81856054934eca,[test],ABANDONED,2020-07-08 16:29:44.000000000,2020-08-05 00:29:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-08 16:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a5a4819e414858a06923f0f5df7d097395dd2c1', 'message': '[test]\n\nChange-Id: I73bfd654cff87b08c77337b57a81856054934eca\n'}, {'number': 2, 'created': '2020-07-08 16:30:05.000000000', 'files': ['ingress/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8f66b5d3109df507ba407a32d5c490ef0ee363bc', 'message': '[test]\n\nChange-Id: I73bfd654cff87b08c77337b57a81856054934eca\n'}]",0,740065,8f66b5d3109df507ba407a32d5c490ef0ee363bc,4,1,2,29161,,,0,"[test]

Change-Id: I73bfd654cff87b08c77337b57a81856054934eca
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/65/740065/2 && git format-patch -1 --stdout FETCH_HEAD,['ingress/values.yaml'],1,8a5a4819e414858a06923f0f5df7d097395dd2c1,ceph," more_set_headers ""X-XSS-Protection: 1; mode=block""; more_set_headers ""X-Frame-Options: SAMEORIGIN"";",,2,0
openstack%2Fswift~master~Ieef534bf5d5fb53602e875b51c15ef565882fbff,openstack/swift,master,Ieef534bf5d5fb53602e875b51c15ef565882fbff,Allow direct and internal clients to use the replication network,MERGED,2020-06-16 00:10:51.000000000,2020-08-04 23:31:58.000000000,2020-08-04 23:29:53.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 00:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/69f663a3aa19af9b767bdcb569745ae751eb23de', 'message': ""sharder: Use replication network to send shard ranges\n\nWe still use internal_client to fetch shard ranges, which isn't ideal --\nbut that's harder to swap out.\n\nCloses-Bug: #1883302\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n""}, {'number': 2, 'created': '2020-06-18 23:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9fae38a8bf3866584008f5eff7f0190fe08fec09', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nUpgradeImpact\n=============\n\nSome background daemons find work by querying Swift rather than walking\nlocal drives that should be available on the replication network. In\ncase they were deployed without access to the replication network\n(and access cannot easily be granted), a new config option\n`use_legacy_network` is added to revert to the previous behavior.\nThis affects:\n\n  * container-reconciler\n  * object-expirer\n\nCloses-Bug: #1883302\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}, {'number': 3, 'created': '2020-06-26 23:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a8b8bccf046920b61bd525f65c82264b1e9070a5', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nThe direct and internal client APIs still default to using the\nclient-data-path network; this maintains backwards compatibility for\nexternal tools written against them.\n\nUpgradeImpact\n=============\n\nSome background daemons find work by querying Swift rather than walking\nlocal drives that should be available on the replication network:\n\n  * container-reconciler\n  * object-expirer\n\nEnsure these have access to the replication network before upgrading.\n\nCloses-Bug: #1883302\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}, {'number': 4, 'created': '2020-06-27 00:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/652ac1bd080e798f04d9e117030546a8b8cd1a07', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nThe direct and internal client APIs still default to using the\nclient-data-path network; this maintains backwards compatibility for\nexternal tools written against them.\n\nUpgradeImpact\n=============\n\nSome background daemons find work by querying Swift rather than walking\nlocal drives that should be available on the replication network:\n\n  * container-reconciler\n  * object-expirer\n\nEnsure these have access to the replication network before upgrading.\n\nCloses-Bug: #1883302\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}, {'number': 5, 'created': '2020-07-22 20:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5304739a512874c977512460be491c3cd3098f89', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nThe direct and internal client APIs still default to using the\nclient-data-path network; this maintains backwards compatibility for\nexternal tools written against them.\n\nUpgradeImpact\n=============\n\nSome background daemons find work by querying Swift rather than walking\nlocal drives that should be available on the replication network:\n\n  * container-reconciler\n  * object-expirer\n\nEnsure these have access to the replication network before upgrading.\n\nCloses-Bug: #1883302\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}, {'number': 6, 'created': '2020-07-23 16:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2ca67d832dfba941caf998c31cce9bffc6ed9b63', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nThe direct and internal client APIs still default to using the\nclient-data-path network; this maintains backwards compatibility for\nexternal tools written against them.\n\nUpgradeImpact\n=============\n\nSome background daemons find work by querying Swift rather than walking\nlocal drives that should be available on the replication network:\n\n  * container-reconciler\n  * object-expirer\n\nEnsure these have access to the replication network before upgrading.\n\nCloses-Bug: #1883302\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}, {'number': 7, 'created': '2020-07-23 17:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0ecc775c5452f8867a4b6c179e8a6bb84f5ecaf8', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nThe direct and internal client APIs still default to using the\nclient-data-path network; this maintains backwards compatibility for\nexternal tools written against them.\n\nUpgradeImpact\n=============\n\nSome background daemons find work by querying Swift rather than walking\nlocal drives that should be available on the replication network:\n\n  * container-reconciler\n  * object-expirer\n\nEnsure these have access to the replication network before upgrading.\n\nCloses-Bug: #1883302\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}, {'number': 8, 'created': '2020-07-29 17:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b1ed4402e8c509ed965cf3fef8b5ff7b87a6a381', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nThe direct and internal client APIs still default to using the\nclient-data-path network; this maintains backwards compatibility for\nexternal tools written against them.\n\nUpgradeImpact\n=============\n\nUntil recently, servers configured with\n\n  replication_server = true\n\nwould only handle REPLICATE (and, in the case of object servers, SSYNC)\nrequests, and would respond 405 Method Not Allowed to other requests.\nWhen upgrading from Swift 2.25.0 or earlier, remove the config option\nand restart services prior to upgrade to avoid a flood of background\ndaemon errors in logs.\n\nNote that some background daemons find work by querying Swift rather\nthan walking local drives that should be available on the replication\nnetwork:\n\n  * container-reconciler\n  * object-expirer\n\nPreviosuly these may have been configured without access to the\nreplication network; ensure they have access before upgrading.\n\nCloses-Bug: #1883302\nRelated-Bug: #1446873\nRelated-Change: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}, {'number': 9, 'created': '2020-08-04 21:22:04.000000000', 'files': ['test/unit/account/test_reaper.py', 'swift/container/sync.py', 'test/unit/common/test_request_helpers.py', 'test/unit/common/test_direct_client.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'swift/proxy/controllers/obj.py', 'swift/obj/expirer.py', 'test/unit/common/test_internal_client.py', 'swift/common/direct_client.py', 'swift/account/reaper.py', 'swift/container/sharder.py', 'test/unit/container/test_reconciler.py', 'swift/common/request_helpers.py', 'swift/container/reconciler.py', 'swift/common/internal_client.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a6dfae2f3d50750de2bdb5f31ea52070588e895', 'message': 'Allow direct and internal clients to use the replication network\n\nA new header `X-Backend-Use-Replication-Network` is added; if true, use\nthe replication network instead of the client-data-path network.\n\nSeveral background daemons are updated to use the replication network:\n\n  * account-reaper\n  * container-reconciler\n  * container-sharder\n  * container-sync\n  * object-expirer\n\nNote that if container-sync is being used to sync data within the same\ncluster, the replication network will only be used when communicating\nwith the ""source"" container; the ""destination"" traffic will continue to\nuse the configured realm endpoint.\n\nThe direct and internal client APIs still default to using the\nclient-data-path network; this maintains backwards compatibility for\nexternal tools written against them.\n\nUpgradeImpact\n=============\n\nUntil recently, servers configured with\n\n  replication_server = true\n\nwould only handle REPLICATE (and, in the case of object servers, SSYNC)\nrequests, and would respond 405 Method Not Allowed to other requests.\nWhen upgrading from Swift 2.25.0 or earlier, remove the config option\nand restart services prior to upgrade to avoid a flood of background\ndaemon errors in logs.\n\nNote that some background daemons find work by querying Swift rather\nthan walking local drives that should be available on the replication\nnetwork:\n\n  * container-reconciler\n  * object-expirer\n\nPreviosuly these may have been configured without access to the\nreplication network; ensure they have access before upgrading.\n\nCloses-Bug: #1883302\nRelated-Bug: #1446873\nRelated-Change: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87\nChange-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff\n'}]",11,735751,2a6dfae2f3d50750de2bdb5f31ea52070588e895,47,5,9,15343,,,0,"Allow direct and internal clients to use the replication network

A new header `X-Backend-Use-Replication-Network` is added; if true, use
the replication network instead of the client-data-path network.

Several background daemons are updated to use the replication network:

  * account-reaper
  * container-reconciler
  * container-sharder
  * container-sync
  * object-expirer

Note that if container-sync is being used to sync data within the same
cluster, the replication network will only be used when communicating
with the ""source"" container; the ""destination"" traffic will continue to
use the configured realm endpoint.

The direct and internal client APIs still default to using the
client-data-path network; this maintains backwards compatibility for
external tools written against them.

UpgradeImpact
=============

Until recently, servers configured with

  replication_server = true

would only handle REPLICATE (and, in the case of object servers, SSYNC)
requests, and would respond 405 Method Not Allowed to other requests.
When upgrading from Swift 2.25.0 or earlier, remove the config option
and restart services prior to upgrade to avoid a flood of background
daemon errors in logs.

Note that some background daemons find work by querying Swift rather
than walking local drives that should be available on the replication
network:

  * container-reconciler
  * object-expirer

Previosuly these may have been configured without access to the
replication network; ensure they have access before upgrading.

Closes-Bug: #1883302
Related-Bug: #1446873
Related-Change: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87
Change-Id: Ieef534bf5d5fb53602e875b51c15ef565882fbff
",git fetch https://review.opendev.org/openstack/swift refs/changes/51/735751/9 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py']",3,69f663a3aa19af9b767bdcb569745ae751eb23de,replication-network, node = node.copy() node['ip'] = node['replication_ip'] node['port'] = node['replication_port'],,37,9
openstack%2Fnova~master~I2860db55ff580282cd6905f5310f01fca17e132d,openstack/nova,master,I2860db55ff580282cd6905f5310f01fca17e132d,Use compression by default for 'SshDriver',MERGED,2019-09-24 16:02:57.000000000,2020-08-04 23:02:02.000000000,2020-07-29 14:52:12.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 31940}]","[{'number': 1, 'created': '2019-09-24 16:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/365eb14720d8675df776d581877690f8b45f48a8', 'message': ""Use compression by default for 'SshDriver'\n\nGiven we use these to copy images about the place, this should be some\nbit faster for uncompressed images.\n\nChange-Id: I2860db55ff580282cd6905f5310f01fca17e132d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-04-24 09:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/311074b2a54d7a1eec8fdfe30d725c84b908c350', 'message': ""Use compression by default for 'SshDriver'\n\nGiven we use these to copy images about the place, this should be some\nbit faster for uncompressed images.\n\nChange-Id: I2860db55ff580282cd6905f5310f01fca17e132d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-04-27 13:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e952e271a9ff7516bc0da5847fee4a4609c7d26f', 'message': ""Use compression by default for 'SshDriver'\n\nGiven we use these to copy images about the place, this should be some\nbit faster for uncompressed images.\n\nChange-Id: I2860db55ff580282cd6905f5310f01fca17e132d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-06-02 16:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/550e3885e72e4456b19f1931c6f7c6255c37c709', 'message': ""Use compression by default for 'SshDriver'\n\nGiven we use these to copy images about the place, this should be some\nbit faster for uncompressed images.\n\nChange-Id: I2860db55ff580282cd6905f5310f01fca17e132d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-07-24 08:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dfe65aa287b12faa4a0b82c3938062fbb2f1e7b', 'message': ""Use compression by default for 'SshDriver'\n\nGiven we use these to copy images about the place, this should be some\nbit faster for uncompressed images.\n\nChange-Id: I2860db55ff580282cd6905f5310f01fca17e132d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-07-24 09:31:11.000000000', 'files': ['nova/virt/libvirt/volume/remotefs.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e4aa424642fdf97ae2153ee5c9db65d612236f57', 'message': ""Use compression by default for 'SshDriver'\n\nGiven we use these to copy images about the place, this should be some\nbit faster for uncompressed images.\n\nChange-Id: I2860db55ff580282cd6905f5310f01fca17e132d\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",6,684393,e4aa424642fdf97ae2153ee5c9db65d612236f57,121,21,6,15334,,,0,"Use compression by default for 'SshDriver'

Given we use these to copy images about the place, this should be some
bit faster for uncompressed images.

Change-Id: I2860db55ff580282cd6905f5310f01fca17e132d
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/684393/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/volume/remotefs.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py']",2,365eb14720d8675df776d581877690f8b45f48a8,sshdriver-compression," '-C', on_completion=None, on_execute=None) @mock.patch('oslo_concurrency.processutils.execute') def test_remote_copy_file_ssh__without_compression(self, mock_execute): remotefs.SshDriver().copy_file('1.2.3.4:/home/SpaceOdyssey', '/home/favourite', None, None, False) mock_execute.assert_called_once_with('scp', '-r', '1.2.3.4:/home/SpaceOdyssey', '/home/favourite',",,16,3
openstack%2Fzaqar~master~Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c,openstack/zaqar,master,Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c,Encrypted Messages in Queue,MERGED,2020-07-01 05:59:25.000000000,2020-08-04 22:54:55.000000000,2020-08-04 22:53:35.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 9610}, {'_account_id': 22348}, {'_account_id': 31882}]","[{'number': 1, 'created': '2020-07-01 05:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c44968a8cf1adbb8cab5295909e17779913e4155', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 2, 'created': '2020-07-06 08:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/de5e1b26cd5d8b739da77f0ffd47af74c8e03db7', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 3, 'created': '2020-07-06 08:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/b5e7308935a43846e715887b4d8555bf29138a00', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 4, 'created': '2020-07-07 06:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/4fd29f08ea45aee5d14d87fb161d738941bb0445', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 5, 'created': '2020-07-07 06:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/59956e81095778e93120fefba4cc7cd2d726e7cb', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 6, 'created': '2020-07-07 07:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/804502f8a4030fe0f7d702a217488f8595696846', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 7, 'created': '2020-07-08 08:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0b57ecb387393d9acb0a32dd42c666a08f4e0099', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 8, 'created': '2020-07-08 09:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/48b60699cfe6553623d3b2bb70c47f372a4c4257', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 9, 'created': '2020-07-09 07:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e6daa9d92fd7e093762e42e74ef0432665990ffa', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 10, 'created': '2020-07-09 08:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/eec82d1fcc4c3b7383439bd2cedd5d270a453dd7', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 11, 'created': '2020-07-09 09:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/30530c1442903ed9e3b0d51f88f7866996d27c91', 'message': '[WIP]Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 12, 'created': '2020-07-10 01:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/76589c69ef6521adcd52fdce622224a73fe47006', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 13, 'created': '2020-07-10 04:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/95eb80bfdfddc045b5bb8ffc106cf48ee63396ed', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 14, 'created': '2020-07-10 09:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f7c12262cf5fa650cdb235cde82e9989ab6ef678', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 15, 'created': '2020-07-10 09:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c3a1d279a935d2d4907e894086f5092e0bb64ca5', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 16, 'created': '2020-07-15 01:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/40a8dd1fe4c2841f435b108c8d545d1fdfc31e08', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 17, 'created': '2020-07-15 06:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/8e3557976329d22b57c1327984f58f67aa4cd421', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 18, 'created': '2020-07-22 07:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d06a42fdf35c48497aaa492c2f5b967fbf9904c8', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}, {'number': 19, 'created': '2020-07-23 06:08:40.000000000', 'files': ['api-ref/source/parameters.yaml', 'zaqar/transport/wsgi/v2_0/__init__.py', 'api-ref/source/queues.inc', 'test-requirements.txt', 'zaqar/transport/validation.py', 'zaqar/transport/wsgi/v2_0/messages.py', 'lower-constraints.txt', 'zaqar/conf/transport.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_queue_lifecycle.py', 'api-ref/source/samples/queue-show-response.json', 'requirements.txt', 'zaqar/transport/wsgi/driver.py', 'zaqar/transport/encryptor.py', 'releasenotes/notes/encrypted-messages-in-queue-d7438d4f185be444.yaml', 'api-ref/source/samples/queue-create-request.json', 'zaqar/transport/wsgi/v2_0/queues.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e12c65a369825ea5469bdb31f5c7151268d7926b', 'message': 'Encrypted Messages in Queue\n\nThe queue in Zaqar will support to encrypt\nmessages before storing them into storage backends,\nalso could support to decrypt messages when those\nare claimed by consumer. This feature will enhance\nthe security of messaging service.\n\nImplements: blueprint encrypted-messages-in-queue\nSigned-off-by: wanghao <sxmatch1986@gmail.com>\nChange-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c\n'}]",8,738736,e12c65a369825ea5469bdb31f5c7151268d7926b,46,5,19,8846,,,0,"Encrypted Messages in Queue

The queue in Zaqar will support to encrypt
messages before storing them into storage backends,
also could support to decrypt messages when those
are claimed by consumer. This feature will enhance
the security of messaging service.

Implements: blueprint encrypted-messages-in-queue
Signed-off-by: wanghao <sxmatch1986@gmail.com>
Change-Id: Icecfb9a232cfeefc2f9603934696bb2dcd56bc9c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/36/738736/10 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/transport/wsgi/v2_0/__init__.py', 'zaqar/transport/wsgi/driver.py', 'zaqar/transport/encryptor.py', 'zaqar/transport/validation.py', 'zaqar/transport/wsgi/v2_0/messages.py', 'zaqar/conf/transport.py']",6,c44968a8cf1adbb8cab5295909e17779913e4155,encrypted-messages-in-queue,"message_encryption_algorithms = cfg.StrOpt( 'message_encryption_algorithms', default='AES256', choices=['AES256'], help='Defines the encryption algorithms of messages, the value could be ' '""AES256"" for now.') message_encryption_key = cfg.StrOpt( 'message_encryption_key', default='AES256', help='Defines the encryption key of algorithms.') ",,142,3
openstack%2Fosc-placement~master~I4b622ff3df9dae885fb47bc536a7f5d0e5e05221,openstack/osc-placement,master,I4b622ff3df9dae885fb47bc536a7f5d0e5e05221,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-02 00:41:03.000000000,2020-08-04 22:52:31.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 00:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/39d42456678bf6311a7720ad36cb0b6237bf9fef', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40209\n\nChange-Id: I4b622ff3df9dae885fb47bc536a7f5d0e5e05221\n'}, {'number': 2, 'created': '2020-08-03 22:47:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/7dc783ddb9fb0c496eddd64855ad2a658ad99ca8', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40209\n\nChange-Id: I4b622ff3df9dae885fb47bc536a7f5d0e5e05221\n'}]",0,744358,7dc783ddb9fb0c496eddd64855ad2a658ad99ca8,7,2,2,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs
Depends-On: https://review.opendev.org/#/c/734700/
Story: #2007865
Task: #40209

Change-Id: I4b622ff3df9dae885fb47bc536a7f5d0e5e05221
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/58/744358/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,39d42456678bf6311a7720ad36cb0b6237bf9fef,migrate-to-focal,#test focal,,1,0
openstack%2Fmanila~stable%2Ftrain~I8588e8f988d85dc64e19e7a44a25c3dd0b776892,openstack/manila,stable/train,I8588e8f988d85dc64e19e7a44a25c3dd0b776892,Add verify-noapi testcase to grenade,MERGED,2020-07-29 22:08:36.000000000,2020-08-04 22:51:25.000000000,2020-08-04 22:48:50.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-29 22:08:36.000000000', 'files': ['contrib/ci/pre_test_hook.sh', 'playbooks/legacy/grenade-dsvm-manila/run.yaml', 'devstack/upgrade/resources.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/0a8fc83f2a7c5736d5bc818ec0a78d1a8a5d3849', 'message': 'Add verify-noapi testcase to grenade\n\nSwitch to using the LVM driver in the grenade\njob that allows us to add a minor data\npath test to prove that upgrading manila\nhas no impact on data path connectivity\nto resources created by manila.\n\nChange-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 8cccb73f46df763f907171e63d960fb1e6a81fd0)\n(cherry picked from commit 544998764ef8d129e460c7ca3333160848c90a2e)\n'}]",0,743849,0a8fc83f2a7c5736d5bc818ec0a78d1a8a5d3849,27,5,1,16643,,,0,"Add verify-noapi testcase to grenade

Switch to using the LVM driver in the grenade
job that allows us to add a minor data
path test to prove that upgrading manila
has no impact on data path connectivity
to resources created by manila.

Change-Id: I8588e8f988d85dc64e19e7a44a25c3dd0b776892
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 8cccb73f46df763f907171e63d960fb1e6a81fd0)
(cherry picked from commit 544998764ef8d129e460c7ca3333160848c90a2e)
",git fetch https://review.opendev.org/openstack/manila refs/changes/49/743849/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/pre_test_hook.sh', 'playbooks/legacy/grenade-dsvm-manila/run.yaml', 'devstack/upgrade/resources.sh']",3,0a8fc83f2a7c5736d5bc818ec0a78d1a8a5d3849,manila-grenade,"MANILA_GRENADE_ACCESS_TO=${MANILA_GRENADE_ACCESS_TO:-""0.0.0.0/0""} resource_save manila share_protocol $share_protocol # grab the export location export_path=$(manila share-export-location-list \ $MANILA_GRENADE_SHARE_NAME | grep "":/"" | \ cut -d ""|"" -f 3 | head -1) resource_save manila export_path $export_path ##### function scenario_6_do_share_mount_and_write_data { mkdir -p /tmp/manila-share export_path=$(resource_get manila export_path) share_protocol=$(resource_get manila share_protocol| awk '{print tolower($0)}') sudo mount -t $share_protocol $export_path /tmp/manila-share test_msg=""Hello from the past"" echo $test_msg | sudo tee /tmp/manila-share/testfile && sudo sync } function scenario_6_verify_share_mount_and_read_data { export_path=$(resource_get manila export_path) share_is_mounted=$(sudo mount | grep $export_path) [[ -z $share_is_mounted ]] && die $LINENO ""Share $export_path is not mounted"" read_data=$(sudo cat /tmp/manila-share/testfile|xargs) if [[ $read_data == ""Hello from the past"" ]]; then echo ""Share data remains unmodified."" else die $LINENO ""Share data does not match what was written before upgrade."" fi } function scenario_6_destroy_share_mount { export_path=$(resource_get manila export_path) sudo umount -f /tmp/manila-share } scenario_6_do_share_mount_and_write_data scenario_6_verify_share_mount_and_read_data scenario_6_destroy_share_mount scenario_6_verify_share_mount_and_read_data","MANILA_GRENADE_ACCESS_TO=${MANILA_GRENADE_ACCESS_TO:-""127.0.0.1""} :",46,7
openstack%2Fosc-placement~master~I5e0ef2a74d03333ebd9d4be1ef7fcb040e54ed30,openstack/osc-placement,master,I5e0ef2a74d03333ebd9d4be1ef7fcb040e54ed30,Use unittest.mock instead of third party mock,MERGED,2020-08-03 22:46:52.000000000,2020-08-04 22:45:25.000000000,2020-08-04 22:41:07.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 22:46:52.000000000', 'files': ['osc_placement/tests/unit/test_plugin.py', 'osc_placement/tests/unit/test_http.py', 'osc_placement/tests/unit/test_version.py'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/df0527de30e40907ace538bc9c75c901470a5466', 'message': 'Use unittest.mock instead of third party mock\n\nmock has been removed from requirements files of its deps\nwhich used to install mock for this repo gate.\n\nFixing gate by moving it to unittest.mock.\n\nChange-Id: I5e0ef2a74d03333ebd9d4be1ef7fcb040e54ed30\n'}]",0,744571,df0527de30e40907ace538bc9c75c901470a5466,8,3,1,8556,,,0,"Use unittest.mock instead of third party mock

mock has been removed from requirements files of its deps
which used to install mock for this repo gate.

Fixing gate by moving it to unittest.mock.

Change-Id: I5e0ef2a74d03333ebd9d4be1ef7fcb040e54ed30
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/71/744571/1 && git format-patch -1 --stdout FETCH_HEAD,"['osc_placement/tests/unit/test_plugin.py', 'osc_placement/tests/unit/test_http.py', 'osc_placement/tests/unit/test_version.py']",3,df0527de30e40907ace538bc9c75c901470a5466,,from unittest import mock,import mock,3,3
openstack%2Fsearchlight-specs~master~I7185dbcb8d62a34232864f8c1ffaaac118c1b575,openstack/searchlight-specs,master,I7185dbcb8d62a34232864f8c1ffaaac118c1b575,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 01:55:06.000000000,2020-08-04 22:20:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 01:55:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/searchlight-specs/commit/6eebb5e2b717604da6e81ae82618f0465f9374c5', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40217\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I7185dbcb8d62a34232864f8c1ffaaac118c1b575\n'}]",0,744586,6eebb5e2b717604da6e81ae82618f0465f9374c5,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40217

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I7185dbcb8d62a34232864f8c1ffaaac118c1b575
",git fetch https://review.opendev.org/openstack/searchlight-specs refs/changes/86/744586/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6eebb5e2b717604da6e81ae82618f0465f9374c5,migrate-to-focal,#test focal,,1,0
openstack%2Fopenstack-ansible~stable%2Fussuri~Ie7f0710f78d7cf1683fd98496b89c0879175352b,openstack/openstack-ansible,stable/ussuri,Ie7f0710f78d7cf1683fd98496b89c0879175352b,Add ubuntu focal distro jobs,MERGED,2020-07-28 06:32:16.000000000,2020-08-04 22:18:27.000000000,2020-08-04 22:07:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-28 06:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a9f6a0720dcf5aa2d50ed97612eb992e834fcfc3', 'message': 'Add ubuntu focal distro jobs\n\nDepends-On: https://review.opendev.org/739896\nChange-Id: Ie7f0710f78d7cf1683fd98496b89c0879175352b\n(cherry picked from commit 34b6ed80a966c26b044cbebb30cd659c92d24c6a)\n'}, {'number': 2, 'created': '2020-07-28 09:42:44.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54d10eea94151e2108542188da4cee9f3515eda5', 'message': 'Add ubuntu focal distro jobs\n\nDepends-On: https://review.opendev.org/743494/\nChange-Id: Ie7f0710f78d7cf1683fd98496b89c0879175352b\n(cherry picked from commit 34b6ed80a966c26b044cbebb30cd659c92d24c6a)\n'}]",0,743466,54d10eea94151e2108542188da4cee9f3515eda5,14,4,2,25023,,,0,"Add ubuntu focal distro jobs

Depends-On: https://review.opendev.org/743494/
Change-Id: Ie7f0710f78d7cf1683fd98496b89c0879175352b
(cherry picked from commit 34b6ed80a966c26b044cbebb30cd659c92d24c6a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/743466/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,a9f6a0720dcf5aa2d50ed97612eb992e834fcfc3,osa-focal-stable/ussuri,- job: name: openstack-ansible-deploy-aio_distro_metal-ubuntu-focal parent: openstack-ansible-deploy-aio nodeset: ubuntu-focal ,,7,0
openstack%2Fopenstack-helm-infra~master~I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a,openstack/openstack-helm-infra,master,I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a,Use precreated minikube-aio image,MERGED,2020-08-03 21:39:03.000000000,2020-08-04 22:12:55.000000000,2020-08-04 22:01:03.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-08-03 21:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d0073830f1969bd9fc7b06325376afd962abeb3', 'message': 'Use precreated minikube-aio image\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-03 21:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0bddea7efcd0415ae4cf0e877b3871d2abf4aac9', 'message': 'Use precreated minikube-aio image\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-08-03 21:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9930fc55f951e1b1faf8c3fa7dd116a54797f736', 'message': 'Use precreated minikube-aio image\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-08-03 22:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c99a4f77084c2cfa9425e3822306bbb3833b754d', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save 3-5 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-08-03 22:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a5b4d9be33815a15ebca2b3191129853768f8fd', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save 3-5 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-08-03 23:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/97405869811b538faf1c6c8b1882e9a509f3e824', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save 3-5 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-08-03 23:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2c857db38378f9afc0b6e342f3a0a1094b958ac4', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save up to 6 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-08-03 23:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/567ba81640762eabe977206501559cc8e812f4b3', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save up to 6 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-08-04 00:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8c70d3aeb3f1740c74a1fe2a88f2e8953048bcb8', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save 3-5 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-08-04 00:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92bce12fe23b5d5f7729c2d12206ae1069bb15aa', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save 3-5 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-08-04 00:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63f4be8a09c1fb719465a18a26797dbe75a1f51f', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save 3-5 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-08-04 00:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8ae4503d9d8ce93ac568195b47681632108d7846', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing all required binaries and images inside.\nPulling a single image from dockerhub via opendev dockerhub proxy and\nloading images allows to save 3-5 minutes in minikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-08-04 00:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0b0aa1d0ea58d5fd2884ddc337784992bc4f5ef8', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing installation script, all required binaries\nand images inside. Pulling a single image from dockerhub via opendev\ndockerhub proxy and loading images allows to save up to 6 minutes in\nminikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 14, 'created': '2020-08-04 00:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73be3dbb44aa8f728e74d46e8c3ac2be7035d80f', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing installation script, all required binaries\nand images inside. Pulling a single image from dockerhub via opendev\ndockerhub proxy and loading images allows to save up to 6 minutes in\nminikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 15, 'created': '2020-08-04 00:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3462d0db48d707decc59ad3a53811581ef89335a', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing installation script, all required binaries\nand images inside. Pulling a single image from dockerhub via opendev\ndockerhub proxy and loading images allows to save up to 6 minutes in\nminikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 16, 'created': '2020-08-04 01:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2c664084f04e0939f394bebaadda7dc6140652b', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing installation script, all required binaries\nand images inside. Pulling a single image from dockerhub via opendev\ndockerhub proxy and loading images allows to save up to 6 minutes in\nminikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 17, 'created': '2020-08-04 18:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16c43843ec0faa54e93536f91bada7ce032a0115', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing installation script, all required binaries\nand images inside. Pulling a single image from dockerhub via opendev\ndockerhub proxy and loading images allows to save up to 6 minutes in\nminikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 18, 'created': '2020-08-04 18:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5091deb311d6f4f16a6f05dcbac63bb74b99e3f4', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing installation script, all required binaries\nand images inside. Pulling a single image from dockerhub via opendev\ndockerhub proxy and loading images allows to save up to 6 minutes in\nminikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 19, 'created': '2020-08-04 19:47:04.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/common/validate-minikube-aio.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/10019004da8df67ce6b9bef554334d85676d6492', 'message': 'Use precreated minikube-aio image\n\nWith this commit minikube is installed using contents of precreated\nminikube-aio image containing installation script, all required binaries\nand images inside. Pulling a single image from dockerhub via opendev\ndockerhub proxy and loading images allows to save up to 6 minutes in\nminikube installation.\n\nChange-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",1,744561,10019004da8df67ce6b9bef554334d85676d6492,44,7,19,8863,,,0,"Use precreated minikube-aio image

With this commit minikube is installed using contents of precreated
minikube-aio image containing installation script, all required binaries
and images inside. Pulling a single image from dockerhub via opendev
dockerhub proxy and loading images allows to save up to 6 minutes in
minikube installation.

Change-Id: I5936f440eb0567b8dcba2fdae614e4c5e88a7b9a
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/744561/18 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,7d0073830f1969bd9fc7b06325376afd962abeb3,,": ${MINIKUBE_AIO:=""docker.io/openstackhelm/minikube-aio:latest-ubuntu_bionic""}mkdir ${HOME}/minikube-aio sudo docker create --name minikube-aio ${MINIKUBE_AIO} bash cd ${HOME}/minikube-aio sudo docker export minikube-aio | tar x sudo docker rm minikube-aio sudo docker rmi ${MINIKUBE_AIO} source versions.txt MINIKUBE_CACHE_DIR=${HOME}/.minikube/cache/${KUBE_VERSION}/ mkdir -p ""${MINIKUBE_CACHE_DIR}"" chmod +x binaries/* for binary in minikube kubectl helm; do sudo mv binaries/${binary} /usr/local/bin/${binary} done for binary in kubeadm kubelet; do mv binaries/${binary} ""${MINIKUBE_CACHE_DIR}"" done for image in images/*; do sudo docker load < ${image} done cp calico.yaml /tmp/ cd - rm ${HOME}/minikube-aio -rf sudo docker images | sort | uniq | tee before sudo sed -i 's/127.0.0.1.*/\0 k8s.gcr.io/g' /etc/hostssudo sed -i 's/k8s.gcr.io//g' /etc/hostssudo docker images | sort | uniq | tee after echo ---START--- diff before after echo ---END---",": ${HELM_VERSION:=""v2.14.1""} : ${KUBE_VERSION:=""v1.16.2""} : ${MINIKUBE_VERSION:=""v1.3.1""} : ${CALICO_VERSION:=""v3.9""}# Install minikube and kubectl URL=""https://storage.googleapis.com"" sudo -E curl -sSLo /usr/local/bin/minikube \ ""${URL}""/minikube/releases/""${MINIKUBE_VERSION}""/minikube-linux-amd64 sudo -E curl -sSLo /usr/local/bin/kubectl \ ""${URL}""/kubernetes-release/release/""${KUBE_VERSION}""/bin/linux/amd64/kubectl sudo -E chmod +x /usr/local/bin/minikube sudo -E chmod +x /usr/local/bin/kubectl # Install Helm TMP_DIR=$(mktemp -d) sudo -E bash -c \ ""curl -sSL ${URL}/kubernetes-helm/helm-${HELM_VERSION}-linux-amd64.tar.gz | \ tar -zxv --strip-components=1 -C ${TMP_DIR}"" sudo -E mv ""${TMP_DIR}""/helm /usr/local/bin/helm rm -rf ""${TMP_DIR}"" curl https://docs.projectcalico.org/""${CALICO_VERSION}""/manifests/calico.yaml -o /tmp/calico.yaml",33,25
openstack%2Fpython-dracclient~master~I9252a2d56b852f72efcf571bf7d8e70cbb7cd874,openstack/python-dracclient,master,I9252a2d56b852f72efcf571bf7d8e70cbb7cd874,Fix issue with reset_idrac on some servers,MERGED,2020-08-03 13:38:52.000000000,2020-08-04 21:51:56.000000000,2020-08-04 21:51:56.000000000,"[{'_account_id': 8068}, {'_account_id': 8580}, {'_account_id': 10250}, {'_account_id': 10644}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 30490}]","[{'number': 1, 'created': '2020-08-03 13:38:52.000000000', 'files': ['dracclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-dracclient/commit/1aaaf93f7cdcd51b9b57ff405ff64058202b7aa3', 'message': 'Fix issue with reset_idrac on some servers\n\nThis patch increases the amount of time to sleep before checking to see\nif the iDRAC is ready following a reset to 60 seconds. 30 seconds was\ntoo short for some servers.\n\nChange-Id: I9252a2d56b852f72efcf571bf7d8e70cbb7cd874\n'}]",2,744472,1aaaf93f7cdcd51b9b57ff405ff64058202b7aa3,11,8,1,10250,,,0,"Fix issue with reset_idrac on some servers

This patch increases the amount of time to sleep before checking to see
if the iDRAC is ready following a reset to 60 seconds. 30 seconds was
too short for some servers.

Change-Id: I9252a2d56b852f72efcf571bf7d8e70cbb7cd874
",git fetch https://review.opendev.org/openstack/python-dracclient refs/changes/72/744472/1 && git format-patch -1 --stdout FETCH_HEAD,['dracclient/client.py'],1,1aaaf93f7cdcd51b9b57ff405ff64058202b7aa3,up_ready_wait, ready_wait_time=60):, ready_wait_time=30):,1,1
openstack%2Fneutron-tempest-plugin~master~I8192391d6f2e86f9e486805374f710444e770ea4,openstack/neutron-tempest-plugin,master,I8192391d6f2e86f9e486805374f710444e770ea4,test_port_forwarding_to_2_servers: netcat listen stops too soon,MERGED,2020-07-01 19:11:17.000000000,2020-08-04 21:48:39.000000000,2020-07-03 12:37:46.000000000,"[{'_account_id': 8313}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-01 19:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0d22956bcc186edf9c96ee5d798af498f2c7b0e4', 'message': 'test_port_forwarding_to_2_servers: netcat listen stops too soon\n\nThis change is a continuation of https://review.opendev.org/#/c/713208/\n\nEven with the changes from commit fd4141f2015d25f1b009d7cf2ebdd2907cd8e81a\nour tests have intermittent failures where nc listen process terminates as\nsoon as the shell that spawns it closes. By (1) breaking the cmd script to\nhave an extra line, (2) adding a 0.1 sec delay and (3) setting stdin of\nprocess the proposed changes ensures that this termination no longer\ntakes place.\n\nCloses-Bug: #1868100\nChange-Id: I8192391d6f2e86f9e486805374f710444e770ea4\n'}, {'number': 2, 'created': '2020-07-02 15:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cefd0c1800149e9ce91d7e9aec360e2e928891b5', 'message': 'test_port_forwarding_to_2_servers: netcat listen stops too soon\n\nThis change is a continuation of https://review.opendev.org/#/c/713208/\n\nEven with the changes from commit fd4141f2015d25f1b009d7cf2ebdd2907cd8e81a\nour tests have intermittent failures where nc listen process terminates as\nsoon as the shell that spawns it closes. By (1) breaking the cmd script to\nhave an extra line, (2) adding a 0.1 sec delay and (3) setting stdin of\nprocess the proposed changes ensures that this termination no longer\ntakes place.\n\nIn order to reproduce this issue, follow these set of steps as a reference:\n\nFrom a separate shell session in the cirros vm, watch out for nc processes\n\n    watch -n1 -d ""ps -elf | grep nc""\n\nThen, start a python session to interact with that vm via ssh session:\n\npython3\n\nfrom neutron_tempest_plugin.common import ssh\ncirros_vm_ip=\'10.0.0.10\'\nc=ssh.Client(cirros_vm_ip, \'cirros\', \'gocubsgo\', port=22)\nc.execute_script(\'nc udp -p 12346 &\')\n\nc.execute_script(\'nc udp -p 12349 &\\nsleep 0\')\n\n   1059 cirros   nc udp -p 12346\n\nCloses-Bug: #1868100\nChange-Id: I8192391d6f2e86f9e486805374f710444e770ea4\n'}, {'number': 3, 'created': '2020-07-02 15:59:27.000000000', 'files': ['neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b056ac25c90b4cd8459291f1eb12081b7ace304d', 'message': 'test_port_forwarding_to_2_servers: netcat listen stops too soon\n\nThis change is a continuation of https://review.opendev.org/#/c/713208/\n\nEven with the changes from commit fd4141f2015d25f1b009d7cf2ebdd2907cd8e81a\nour tests have intermittent failures where nc listen process terminates as\nsoon as the shell that spawns it closes. By (1) breaking the cmd script to\nhave an extra line, (2) adding a 0.1 sec delay and (3) setting stdin of\nprocess the proposed changes ensures that this termination no longer\ntakes place.\n\nIn order to reproduce this issue, follow these set of steps as a reference:\n\nFrom a separate shell session in the cirros vm, watch out for nc processes\n\n$ watch -n1 -d ""ps -elf | grep nc""\n\nThen, start a python session to interact with that vm via ssh session:\n\n$ python3\n\nfrom neutron_tempest_plugin.common import ssh\ncirros_vm_ip=\'10.0.0.10\'\nc=ssh.Client(cirros_vm_ip, \'cirros\', \'gocubsgo\', port=22)\nc.execute_script(\'nc udp -p 12346 &\')\n\nIf you are lucky (or unlucky), you will see that there are no nc\nprocesses running, unless you use a variation to that command that\nlooks like this:\n\nc.execute_script(\'nc udp -p 12349 &\\nsleep 0\')\n\nThan then in the watch session you will see something that look like:\n\n_<PID>_  cirros   nc udp -p 12349\n\nAnd that will remain running even after the python session closes.\n\nCloses-Bug: #1868100\nChange-Id: I8192391d6f2e86f9e486805374f710444e770ea4\n'}]",3,738916,b056ac25c90b4cd8459291f1eb12081b7ace304d,25,8,3,11952,,,0,"test_port_forwarding_to_2_servers: netcat listen stops too soon

This change is a continuation of https://review.opendev.org/#/c/713208/

Even with the changes from commit fd4141f2015d25f1b009d7cf2ebdd2907cd8e81a
our tests have intermittent failures where nc listen process terminates as
soon as the shell that spawns it closes. By (1) breaking the cmd script to
have an extra line, (2) adding a 0.1 sec delay and (3) setting stdin of
process the proposed changes ensures that this termination no longer
takes place.

In order to reproduce this issue, follow these set of steps as a reference:

From a separate shell session in the cirros vm, watch out for nc processes

$ watch -n1 -d ""ps -elf | grep nc""

Then, start a python session to interact with that vm via ssh session:

$ python3

from neutron_tempest_plugin.common import ssh
cirros_vm_ip='10.0.0.10'
c=ssh.Client(cirros_vm_ip, 'cirros', 'gocubsgo', port=22)
c.execute_script('nc udp -p 12346 &')

If you are lucky (or unlucky), you will see that there are no nc
processes running, unless you use a variation to that command that
looks like this:

c.execute_script('nc udp -p 12349 &\nsleep 0')

Than then in the watch session you will see something that look like:

_<PID>_  cirros   nc udp -p 12349

And that will remain running even after the python session closes.

Closes-Bug: #1868100
Change-Id: I8192391d6f2e86f9e486805374f710444e770ea4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/16/738916/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/base.py'],1,0d22956bcc186edf9c96ee5d798af498f2c7b0e4,," cmd += ""-c 'echo %s' "" % msg else: cmd += ""-e echo %s "" % msg cmd += ""< /dev/zero &{0}sleep 0.1{0}"".format('\n') become_root=True, combine_stderr=True)"," cmd += ""-c 'echo %s' &"" % msg else: cmd += ""-e echo %s &"" % msg else: cmd += ""< /dev/zero &"" become_root=True)",4,5
openstack%2Foctavia-tempest-plugin~master~Ib14852d57535508fecee2705e704954cfd078474,openstack/octavia-tempest-plugin,master,Ib14852d57535508fecee2705e704954cfd078474,Add tags API tests,MERGED,2020-06-16 15:24:28.000000000,2020-08-04 21:43:58.000000000,2020-08-04 21:42:24.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 10068}, {'_account_id': 11628}, {'_account_id': 18894}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 29244}, {'_account_id': 29286}, {'_account_id': 29681}, {'_account_id': 31664}, {'_account_id': 32137}]","[{'number': 1, 'created': '2020-06-16 15:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5a324470e3ee124d084dd7fa220b9b557842cf6d', 'message': 'tags support tests were added\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 2, 'created': '2020-06-18 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cbc78e699b3d16fb50a2a01bd95551b66bdca47b', 'message': 'tags support tests were added\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 3, 'created': '2020-06-21 07:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5c66ec9894110f6b70997bd4a6af1506ce4b18b2', 'message': 'Tags are strings attached to an entity with the purpose of classification into groups. Tags support API tests were added.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 4, 'created': '2020-06-23 07:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/197dd0e59b3898077afd07cf4584508e432c4dda', 'message': 'Tags are strings attached to an entity with the purpose of classification into groups. Tags support API tests were added.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 5, 'created': '2020-06-24 22:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e93e818da1cfe4e794a477512c525637677d22aa', 'message': 'Tags are strings attached to an entity with the purpose of classification into groups. Tags support API tests were added.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 6, 'created': '2020-07-07 11:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7fac4368462a181e42256ca8acca2b8b5e35613b', 'message': 'Tags are strings attached to an entity with the purpose of classification into groups. Tags support API tests were added.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 7, 'created': '2020-07-07 11:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/408412832d47b21b39e970c8a69aa4e120204fa1', 'message': 'Tags are strings attached to an entity with the purpose of classification into groups. Tags support API tests were added.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 8, 'created': '2020-07-07 15:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1deb1df5693df17acf5cf9282897d0b7d1400fb6', 'message': 'Add tags API tests\n\nThis patch adds some API tests in the create, list and update methods\nof the Octavia objects that support Tags.\n\nTags are supported on Octavia API version 2.5 or later.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 9, 'created': '2020-07-12 14:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e4f9f0844bdc1098031be16875a3d8ef8aeed0e1', 'message': 'Add tags API tests\n\nThis patch adds some API tests in the create, list and update methods\nof the Octavia objects that support Tags.\n\nTags are supported on Octavia API version 2.5 or later.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 10, 'created': '2020-07-14 11:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e47f80818517576d33aeb3179070b04d6c30d51d', 'message': 'Add tags API tests\n\nThis patch adds some API tests in the create, list and update methods\nof the Octavia objects that support Tags.\n\nTags are supported on Octavia API version 2.5 or later.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}, {'number': 11, 'created': '2020-07-19 10:08:44.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/services/load_balancer/v2/pool_client.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/services/load_balancer/v2/healthmonitor_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/listener_client.py', 'releasenotes/notes/add-tags-api-tests-1130aab82bb0f7f2.yaml', 'octavia_tempest_plugin/services/load_balancer/v2/loadbalancer_client.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor_profile.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7rule_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/member_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7policy_client.py', 'octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone_profile.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/540bb3b4d03d8c3e26d257c1d33f4cd84a94c1a7', 'message': 'Add tags API tests\n\nThis patch adds some API tests in the create, list and update methods\nof the Octavia objects that support Tags.\n\nTags are supported on Octavia API version 2.5 or later.\n\nChange-Id: Ib14852d57535508fecee2705e704954cfd078474\n'}]",265,735939,540bb3b4d03d8c3e26d257c1d33f4cd84a94c1a7,65,13,11,31664,,,0,"Add tags API tests

This patch adds some API tests in the create, list and update methods
of the Octavia objects that support Tags.

Tags are supported on Octavia API version 2.5 or later.

Change-Id: Ib14852d57535508fecee2705e704954cfd078474
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/39/735939/10 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/services/load_balancer/v2/pool_client.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/services/load_balancer/v2/healthmonitor_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/listener_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/loadbalancer_client.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor_profile.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7rule_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/member_client.py', 'octavia_tempest_plugin/services/load_balancer/v2/l7policy_client.py', 'octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone_profile.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",19,5a324470e3ee124d084dd7fa220b9b557842cf6d,," # Test tags if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): listener_tags = [str(x) for x in range(100)] listener_kwargs.update({ const.TAGS: listener_tags }) equal_items = [const.NAME, const.DESCRIPTION, const.ADMIN_STATE_UP, const.PROTOCOL, const.PROTOCOL_PORT, const.CONNECTION_LIMIT, const.INSERT_HEADERS] for item in equal_items: self.assertEqual(listener_kwargs[item], listener[item]) equal_items = [ const.TIMEOUT_CLIENT_DATA, const.TIMEOUT_MEMBER_CONNECT, const.TIMEOUT_MEMBER_DATA, const.TIMEOUT_TCP_INSPECT] for item in equal_items: self.assertEqual(listener_kwargs[item], listener[item]) # Test tags if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): self.assertEqual(listener_kwargs[const.TAGS].sort(), listener_tags.sort()) if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): listener1_tags = [""English"", ""Mathematics"", ""Marketing"", ""Creativity""] listener1_kwargs.update({const.TAGS: listener1_tags}) if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): listener2_tags = [""English"", ""Spanish"", ""Soft_skills"", ""Creativity""] listener2_kwargs.update({const.TAGS: listener2_tags}) if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): listener3_tags = [""English"", ""Project_management"", ""Communication"", ""Creativity""] listener3_kwargs.update({const.TAGS: listener3_tags}) .format(lb_id=lb_id, sort=const.SORT, descr=const.DESCRIPTION, desc=const.DESC)) .format(lb_id=lb_id, sort=const.SORT, descr=const.DESCRIPTION, asc=const.ASC)) .format(lb_id=lb_id, fields=const.FIELDS, field=field)) # Test tags if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): list_of_listeners = [listener1, listener2, listener3] test_list = [] for listener in list_of_listeners: if ""English"" in listener[const.TAGS] and ""Creativity"" \ in listener[const.TAGS] and ""Spanish"" not in \ listener[const.TAGS]: test_list.append(listener[const.NAME]) self.assertEqual( test_list, [listener1[const.NAME], listener3[const.NAME]]) self.assertTrue(not any(["""" in listener[const.TAGS] for listener in list_of_listeners])) self.assertTrue(not any(["".*"" in listener[const.TAGS] for listener in list_of_listeners])) listener_tags = [""hello"", ""world""] const.TAGS: listener_tags, equal_items = [const.NAME, const.DESCRIPTION, const.TAGS, const.ADMIN_STATE_UP, const.PROTOCOL, const.PROTOCOL_PORT, const.CONNECTION_LIMIT, const.INSERT_HEADERS] for item in equal_items: self.assertEqual(listener_kwargs[item], listener[item]) equal_items = [ const.TIMEOUT_CLIENT_DATA, const.TIMEOUT_MEMBER_CONNECT, const.TIMEOUT_MEMBER_DATA, const.TIMEOUT_TCP_INSPECT] for item in equal_items: self.assertEqual(listener_kwargs[item], listener[item]) # Test tags if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): listener_tags = [""Hello"", ""World""] listener_kwargs.update({ const.TAGS: listener_tags }) if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): self.assertEqual(listener_tags, listener[const.TAGS]) # Test tags if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): listener_updated_tags = [""Hola"", ""Mundo""] listener_update_kwargs.update({ const.TAGS: listener_updated_tags }) if self.mem_listener_client.is_version_supported( self.api_version, '2.5'): self.assertEqual(listener_updated_tags, listener[const.TAGS]) "," self.assertEqual(listener_name, listener[const.NAME]) self.assertEqual(listener_description, listener[const.DESCRIPTION]) self.assertTrue(listener[const.ADMIN_STATE_UP]) self.assertEqual(self.protocol, listener[const.PROTOCOL]) self.assertEqual(80, listener[const.PROTOCOL_PORT]) self.assertEqual(200, listener[const.CONNECTION_LIMIT]) self.assertTrue( strutils.bool_from_string(insert_headers[const.X_FORWARDED_FOR])) self.assertTrue( strutils.bool_from_string(insert_headers[const.X_FORWARDED_PORT])) self.assertEqual(1000, listener[const.TIMEOUT_CLIENT_DATA]) self.assertEqual(1000, listener[const.TIMEOUT_MEMBER_CONNECT]) self.assertEqual(1000, listener[const.TIMEOUT_MEMBER_DATA]) self.assertEqual(50, listener[const.TIMEOUT_TCP_INSPECT]) .format(lb_id=lb_id, sort=const.SORT, descr=const.DESCRIPTION, desc=const.DESC)) .format(lb_id=lb_id, sort=const.SORT, descr=const.DESCRIPTION, asc=const.ASC)) .format(lb_id=lb_id, fields=const.FIELDS, field=field)) self.assertEqual(listener_name, listener[const.NAME]) self.assertEqual(listener_description, listener[const.DESCRIPTION]) self.assertTrue(listener[const.ADMIN_STATE_UP]) self.assertEqual(self.protocol, listener[const.PROTOCOL]) self.assertEqual(81, listener[const.PROTOCOL_PORT]) self.assertEqual(200, listener[const.CONNECTION_LIMIT]) insert_headers = listener[const.INSERT_HEADERS] self.assertTrue( strutils.bool_from_string(insert_headers[const.X_FORWARDED_FOR])) self.assertTrue( strutils.bool_from_string(insert_headers[const.X_FORWARDED_PORT])) self.assertEqual(1000, listener[const.TIMEOUT_CLIENT_DATA]) self.assertEqual(1000, listener[const.TIMEOUT_MEMBER_CONNECT]) self.assertEqual(1000, listener[const.TIMEOUT_MEMBER_DATA]) self.assertEqual(50, listener[const.TIMEOUT_TCP_INSPECT])",469,102
openstack%2Fwatcher~master~I3733f1d047a6d2a1dab2a73175ad8f868fa033fa,openstack/watcher,master,I3733f1d047a6d2a1dab2a73175ad8f868fa033fa,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:24.000000000,2020-08-04 21:33:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:33:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/8b661d541465a67938e0c30590dc09a127f2081b', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40227\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I3733f1d047a6d2a1dab2a73175ad8f868fa033fa\n'}]",0,744624,8b661d541465a67938e0c30590dc09a127f2081b,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40227

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I3733f1d047a6d2a1dab2a73175ad8f868fa033fa
",git fetch https://review.opendev.org/openstack/watcher refs/changes/24/744624/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8b661d541465a67938e0c30590dc09a127f2081b,migrate-to-focal,#test focal,,1,0
openstack%2Fopenstack-helm-infra~master~Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c,openstack/openstack-helm-infra,master,Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c,Fluentd: Remove Deployment Option,MERGED,2020-08-03 17:14:32.000000000,2020-08-04 21:13:28.000000000,2020-08-04 21:06:26.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-03 17:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20614f28cc3cdbd0552df8d950ca3c39389c3622', 'message': ""[RFC] Fluentd: Remove Deployment Option\n\nThis chart could deploy fluentd either as a Deployment\nor a Daemonset. Both options would use the deployment-fluentd\ntemplate with various sections toggled off based on values.yaml\n\nI'd like to know - Does anyone run this chart as a Deployment?\nWe can simplify the chart, and zuul gates, by changing the chart\nto deploy a Daemonset specifically.\n\nChange-Id: Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c\n""}, {'number': 2, 'created': '2020-08-03 18:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1773779eef76a16b79d717943fc49e941ad19bcc', 'message': ""[RFC] Fluentd: Remove Deployment Option\n\nThis chart could deploy fluentd either as a Deployment\nor a Daemonset. Both options would use the deployment-fluentd\ntemplate with various sections toggled off based on values.yaml\n\nI'd like to know - Does anyone run this chart as a Deployment?\nWe can simplify the chart, and zuul gates, by changing the chart\nto deploy a Daemonset specifically.\n\nChange-Id: Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c\n""}, {'number': 3, 'created': '2020-08-03 18:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2e142178c68740ced00722e2c023d0055a65067', 'message': ""[RFC] Fluentd: Remove Deployment Option\n\nThis chart could deploy fluentd either as a Deployment\nor a Daemonset. Both options would use the deployment-fluentd\ntemplate with various sections toggled off based on values.yaml\n\nI'd like to know - Does anyone run this chart as a Deployment?\nWe can simplify the chart, and zuul gates, by changing the chart\nto deploy a Daemonset specifically.\n\nChange-Id: Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c\n""}, {'number': 4, 'created': '2020-08-03 22:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0d5f4553624a89ab6b9948d5f845322863bb8e32', 'message': ""[RFC] Fluentd: Remove Deployment Option\n\nThis chart could deploy fluentd either as a Deployment\nor a Daemonset. Both options would use the deployment-fluentd\ntemplate with various sections toggled off based on values.yaml\n\nI'd like to know - Does anyone run this chart as a Deployment?\nWe can simplify the chart, and zuul gates, by changing the chart\nto deploy a Daemonset specifically.\n\nChange-Id: Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c\n""}, {'number': 5, 'created': '2020-08-04 00:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d241cbafcb34857de46bad0cdfc6f53ca86c3df3', 'message': ""[RFC] Fluentd: Remove Deployment Option\n\nThis chart could deploy fluentd either as a Deployment\nor a Daemonset. Both options would use the deployment-fluentd\ntemplate with various sections toggled off based on values.yaml\n\nI'd like to know - Does anyone run this chart as a Deployment?\nWe can simplify the chart, and zuul gates, by changing the chart\nto deploy a Daemonset specifically.\n\nChange-Id: Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c\n""}, {'number': 6, 'created': '2020-08-04 19:06:42.000000000', 'files': ['tools/deployment/multinode/130-fluentd-daemonset.sh', 'tools/deployment/osh-infra-logging/060-fluentd.sh', 'tools/deployment/multinode/130-fluentd.sh', 'tools/deployment/osh-infra-logging/060-fluentd-daemonset.sh', 'fluentd/values.yaml', 'tools/deployment/common/fluentd.sh', 'tools/deployment/common/fluentd-deployment.sh', 'tools/deployment/multinode/135-fluentd-deployment.sh', 'doc/source/install/multinode.rst', 'fluentd/templates/daemonset.yaml', 'zuul.d/jobs.yaml', 'tools/deployment/osh-infra-logging/065-fluentd-deployment.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/959417f32103bc3695604e84dbf956ea452e9c02', 'message': ""Fluentd: Remove Deployment Option\n\nThis chart could deploy fluentd either as a Deployment\nor a Daemonset. Both options would use the deployment-fluentd\ntemplate with various sections toggled off based on values.yaml\n\nI'd like to know - Does anyone run this chart as a Deployment?\nWe can simplify the chart, and zuul gates, by changing the chart\nto deploy a Daemonset specifically.\n\nChange-Id: Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c\n""}]",1,744530,959417f32103bc3695604e84dbf956ea452e9c02,29,6,6,30777,,,0,"Fluentd: Remove Deployment Option

This chart could deploy fluentd either as a Deployment
or a Daemonset. Both options would use the deployment-fluentd
template with various sections toggled off based on values.yaml

I'd like to know - Does anyone run this chart as a Deployment?
We can simplify the chart, and zuul gates, by changing the chart
to deploy a Daemonset specifically.

Change-Id: Ie88ceadbf5113fc60e5bb0ddef09e18fe07a192c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/744530/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/fluentd-deployment.sh', 'tools/deployment/osh-infra-logging/060-fluentd.sh', 'fluentd/templates/daemonset.yaml', 'tools/deployment/osh-infra-logging/060-fluentd-daemonset.sh', 'fluentd/values.yaml', 'tools/deployment/common/fluentd.sh', 'zuul.d/jobs.yaml', 'tools/deployment/osh-infra-logging/065-fluentd-deployment.sh']",8,20614f28cc3cdbd0552df8d950ca3c39389c3622,,,../common/fluentd-deployment.sh,9,129
openstack%2Fdevstack~stable%2Fussuri~Ifc2992774d53303acd554b6b847ea55de8e94374,openstack/devstack,stable/ussuri,Ifc2992774d53303acd554b6b847ea55de8e94374,"Set authtoken_middleware interface to ""public""",MERGED,2020-08-04 16:42:46.000000000,2020-08-04 21:00:40.000000000,2020-08-04 20:59:06.000000000,"[{'_account_id': 5792}, {'_account_id': 8556}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-04 16:42:46.000000000', 'files': ['lib/keystone'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8a6eac9b5c0a77a11498bef9e274161727ca364', 'message': 'Set authtoken_middleware interface to ""public""\n\nSince [1], in Vitoria the default value of ""interface"" is ""internal"".\nWhen executing the grenade jobs using the Ussuri devstack branch,\nthe interface is not explicitly set. When keystonemiddleware is bumped\nto version 9.1.0, the defaul value of this config knob changes.\n\nDuring the grenade upgrade, the project config options do not change\nthis value. That leads to the following error:\n  keystoneauth1.exceptions.catalog.EndpointNotFound: internal endpoint\n    for identity service not found\n\n[1]https://review.opendev.org/#/c/662734\n\nChange-Id: Ifc2992774d53303acd554b6b847ea55de8e94374\nCloses-Bug: #1890297\n'}]",0,744753,f8a6eac9b5c0a77a11498bef9e274161727ca364,10,8,1,16688,,,0,"Set authtoken_middleware interface to ""public""

Since [1], in Vitoria the default value of ""interface"" is ""internal"".
When executing the grenade jobs using the Ussuri devstack branch,
the interface is not explicitly set. When keystonemiddleware is bumped
to version 9.1.0, the defaul value of this config knob changes.

During the grenade upgrade, the project config options do not change
this value. That leads to the following error:
  keystoneauth1.exceptions.catalog.EndpointNotFound: internal endpoint
    for identity service not found

[1]https://review.opendev.org/#/c/662734

Change-Id: Ifc2992774d53303acd554b6b847ea55de8e94374
Closes-Bug: #1890297
",git fetch https://review.opendev.org/openstack/devstack refs/changes/53/744753/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/keystone'],1,f8a6eac9b5c0a77a11498bef9e274161727ca364,bug/1890297, iniset $conf_file $section interface public,,1,0
openstack%2Fcharm-guide~master~I8e1a881a17e459c4e204d0f65b01abd840d30656,openstack/charm-guide,master,I8e1a881a17e459c4e204d0f65b01abd840d30656,Update charm list and links,MERGED,2020-08-04 19:35:48.000000000,2020-08-04 20:57:20.000000000,2020-08-04 20:56:05.000000000,"[{'_account_id': 20635}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 19:35:48.000000000', 'files': ['doc/source/openstack-charms.rst', 'doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7ad47d6eb55288d1a653a583c198b99691682845', 'message': 'Update charm list and links\n\nChange-Id: I8e1a881a17e459c4e204d0f65b01abd840d30656\n'}]",0,744779,7ad47d6eb55288d1a653a583c198b99691682845,7,2,1,30561,,,0,"Update charm list and links

Change-Id: I8e1a881a17e459c4e204d0f65b01abd840d30656
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/79/744779/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/openstack-charms.rst', 'doc/source/2008.rst']",2,7ad47d6eb55288d1a653a583c198b99691682845,update-charm-list-and-links,* `ceph-iscsi <https://opendev.org/openstack/charm-ceph-iscsi/>`_,* `ceph-iscsi <https://github.com/openstack-charmers/charm-ceph-iscsi/>`_.. _OpenStack Upgrades: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html,5,4
openstack%2Ftripleo-ci~master~Icf2194b9eaca3c75d72b64a01c2564e1d7cce3bb,openstack/tripleo-ci,master,Icf2194b9eaca3c75d72b64a01c2564e1d7cce3bb,ensure the ussuri undercloud upgrade job is voting / gating,ABANDONED,2020-08-04 20:30:06.000000000,2020-08-04 20:33:56.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-04 20:30:06.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b93d64c73ac0eba7ef5e7f18a7af8a1912b39413', 'message': 'ensure the ussuri undercloud upgrade job is voting / gating\n\nCreate two copies of the containerized-undercloud-upgrade\nOne launches against master ( non-voting ) the other\nlaunches against stable/ussuri+ and should be voting\n\nPerhaps consider a branch name in the job\n\nChange-Id: Icf2194b9eaca3c75d72b64a01c2564e1d7cce3bb\n'}]",1,744784,b93d64c73ac0eba7ef5e7f18a7af8a1912b39413,4,3,1,9592,,,0,"ensure the ussuri undercloud upgrade job is voting / gating

Create two copies of the containerized-undercloud-upgrade
One launches against master ( non-voting ) the other
launches against stable/ussuri+ and should be voting

Perhaps consider a branch name in the job

Change-Id: Icf2194b9eaca3c75d72b64a01c2564e1d7cce3bb
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/84/744784/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,b93d64c73ac0eba7ef5e7f18a7af8a1912b39413,, # to-do # this will launch in master but will be non-voting # perhaps add the branch name to these as well - tripleo-ci-centos-8-containerized-undercloud-upgrades: irrelevant-files: *undercloud_ignored# by policy upgrade jobs in master are non-voting branches: master # same job but should be voting for stable/ussuri+ - job: name: tripleo-ci-centos-8-containerized-undercloud-upgrades parent: tripleo-ci-base-singlenode-centos-8 branches: ^(?stable/(ussuri)).*$ voting: true vars: featureset: '050' featureset_override: validate_services: false extra_tags:, branches: ^(?!stable/(queens|rocky|stein|train)).*$,19,1
openstack%2Fcharm-ceph-proxy~master~If12cffe0ee061710030613e1a13a0196c7b878e6,openstack/charm-ceph-proxy,master,If12cffe0ee061710030613e1a13a0196c7b878e6,Fix actions section of the README,MERGED,2020-08-04 18:19:04.000000000,2020-08-04 20:18:42.000000000,2020-08-04 20:18:42.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 18:19:04.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/8cc52727a20173f72963a28bef883fdfddb96cda', 'message': 'Fix actions section of the README\n\nChange-Id: If12cffe0ee061710030613e1a13a0196c7b878e6\n'}]",0,744770,8cc52727a20173f72963a28bef883fdfddb96cda,8,3,1,30561,,,0,"Fix actions section of the README

Change-Id: If12cffe0ee061710030613e1a13a0196c7b878e6
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/70/744770/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,8cc52727a20173f72963a28bef883fdfddb96cda,fix-actions-section-in-readme,"Many of the ceph-mon charm's actions are supported. See file `actions.yaml` for the full list of actions, along with their descriptions.","Many of the ceph-mon charm's actions are supported. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications.",2,4
openstack%2Fswift~master~Id5b7889dba826f4027e1b95ff65215fb58940890,openstack/swift,master,Id5b7889dba826f4027e1b95ff65215fb58940890,Enable more concurrency for EC GET,ABANDONED,2020-02-22 20:48:47.000000000,2020-08-04 20:17:00.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 20:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a317aff1ea66a056fa50e4a8a5894d9d524376d1', 'message': 'WIP: tests for waterfall-ec\n\nChange-Id: Id5b7889dba826f4027e1b95ff65215fb58940890\n'}, {'number': 2, 'created': '2020-02-26 16:25:47.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/account.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9979aa8b2a2ebd363acbb339bad163176fb36cb4', 'message': 'Enable more concurrency for EC GET\n\nWe start off an EC GET but spawning ndata fragment requests, if any one\nof those requests to a primary is unfinished w/i a timeout we continue\nthrough the node_iter onto the remaining primaries and eventually to\nhandoffs.\n\nThis behavior is similar to how the proxy requests replicated objects\nwith when not using concurrent_gets = True\n\nWith this change we refactor the ResummingGetter used by each ""frag\nlane"" so they no longer manage their concurrency individually and EC\nfrag requests do not force the ResummingGetter to a concurrency of 1.\nInstead each ""frag lane"" shares the concurency set on the NodeIter and\nwill (after the concurrency_timeout) spawn a new EC frag request to\nfulfil the needed ndata fragments required to rebuild the original\nobject for the client request.\n\nChange-Id: Id5b7889dba826f4027e1b95ff65215fb58940890\n'}]",6,709326,9979aa8b2a2ebd363acbb339bad163176fb36cb4,8,3,2,1179,,,0,"Enable more concurrency for EC GET

We start off an EC GET but spawning ndata fragment requests, if any one
of those requests to a primary is unfinished w/i a timeout we continue
through the node_iter onto the remaining primaries and eventually to
handoffs.

This behavior is similar to how the proxy requests replicated objects
with when not using concurrent_gets = True

With this change we refactor the ResummingGetter used by each ""frag
lane"" so they no longer manage their concurrency individually and EC
frag requests do not force the ResummingGetter to a concurrency of 1.
Instead each ""frag lane"" shares the concurency set on the NodeIter and
will (after the concurrency_timeout) spawn a new EC frag request to
fulfil the needed ndata fragments required to rebuild the original
object for the client request.

Change-Id: Id5b7889dba826f4027e1b95ff65215fb58940890
",git fetch https://review.opendev.org/openstack/swift refs/changes/26/709326/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_obj.py'],1,a317aff1ea66a056fa50e4a8a5894d9d524376d1,waterfall-ec," def test_GET_timeout(self): req = swift.common.swob.Request.blank('/v1/a/c/o') self.app.recoverable_node_timeout = 0.01 codes = [FakeStatus(404, response_sleep=1.0)] + \ [200] * self.policy.ec_ndata with mocked_http_conn(*codes) as log: resp = req.get_response(self.app) self.assertEqual(resp.status_int, 200) self.assertEqual(self.policy.ec_ndata + 1, len(log.requests)) ",,10,0
openstack%2Fkarbor-dashboard~master~I2a34b05536d7243cd8fb0fa5dd54496fc70e3b48,openstack/karbor-dashboard,master,I2a34b05536d7243cd8fb0fa5dd54496fc70e3b48,DNM: testing gate on ubuntu focal,ABANDONED,2020-07-26 23:54:30.000000000,2020-08-04 19:58:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-26 23:54:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/30f8b46695eb8c442acff0eed8fdc1a9d0826d8e', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I2a34b05536d7243cd8fb0fa5dd54496fc70e3b48\nStory: #2007865\nTask: #40189\n'}]",0,743111,30f8b46695eb8c442acff0eed8fdc1a9d0826d8e,4,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I2a34b05536d7243cd8fb0fa5dd54496fc70e3b48
Story: #2007865
Task: #40189
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/11/743111/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,30f8b46695eb8c442acff0eed8fdc1a9d0826d8e,migrate-to-focal,#test focal,,1,0
openstack%2Fpython-manilaclient~master~I7604da8943dca8f3eada7c5ac1311086772f41a5,openstack/python-manilaclient,master,I7604da8943dca8f3eada7c5ac1311086772f41a5,Improve OSC test coverage,MERGED,2020-03-02 16:58:04.000000000,2020-08-04 19:12:23.000000000,2020-08-04 19:11:08.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2020-03-02 16:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/dc7264aeefb3a30f8d14a73729d49317074864d7', 'message': 'Improve OSC test coverage\n\nIn this patch we add some unit tests for exception cases\nto improve overall test coverage.\n\nChange-Id: I7604da8943dca8f3eada7c5ac1311086772f41a5\nPartially-implements: bp openstack-client-support\n'}, {'number': 2, 'created': '2020-05-28 14:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/36cb30a62e6de4843867bce40868a23a0c7490db', 'message': 'Improve OSC test coverage\n\nIn this patch we add some unit tests for exception cases\nto improve overall test coverage.\n\nChange-Id: I7604da8943dca8f3eada7c5ac1311086772f41a5\nPartially-implements: bp openstack-client-support\n'}, {'number': 3, 'created': '2020-05-29 15:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a7b35cb11c8552ef42a802334cf2a08ea1c390e8', 'message': 'Improve OSC test coverage\n\nIn this patch we add some unit tests for exception cases\nto improve overall test coverage. Tests added:\ntest_share_set_visibility_exception\ntest_share_set_property_exception\ntest_share_unset_name_exception\ntest_share_unset_property_exception\n\nChange-Id: I7604da8943dca8f3eada7c5ac1311086772f41a5\nPartially-implements: bp openstack-client-support\n'}, {'number': 4, 'created': '2020-07-29 12:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/39670af31cc448a6f9273b8951b855d6c4f34916', 'message': 'Improve OSC test coverage\n\nIn this patch we add some unit tests for exception cases\nto improve overall test coverage. Tests added:\ntest_share_set_visibility_exception\ntest_share_set_property_exception\ntest_share_unset_name_exception\ntest_share_unset_property_exception\n\nChange-Id: I7604da8943dca8f3eada7c5ac1311086772f41a5\nPartially-implements: bp openstack-client-support\n'}, {'number': 5, 'created': '2020-07-29 13:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/502d6850ecd458875f896e6953e737fb2dd02d1d', 'message': 'Improve OSC test coverage\n\nIn this patch we add some unit tests for exception cases\nto improve overall test coverage. Tests added:\ntest_share_set_visibility_exception\ntest_share_set_property_exception\ntest_share_unset_name_exception\ntest_share_unset_property_exception\n\nChange-Id: I7604da8943dca8f3eada7c5ac1311086772f41a5\nPartially-implements: bp openstack-client-support\n'}, {'number': 6, 'created': '2020-08-04 10:04:34.000000000', 'files': ['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/b4c06ef1d14929aa3e513adedaa1e540136e16af', 'message': 'Improve OSC test coverage\n\nIn this patch we add some unit tests for exception cases\nto improve overall test coverage. Tests added:\ntest_share_set_visibility_exception\ntest_share_set_property_exception\ntest_share_unset_name_exception\ntest_share_unset_property_exception\n\nChange-Id: I7604da8943dca8f3eada7c5ac1311086772f41a5\nPartially-implements: bp openstack-client-support\n'}]",3,710830,b4c06ef1d14929aa3e513adedaa1e540136e16af,25,5,6,31213,,,0,"Improve OSC test coverage

In this patch we add some unit tests for exception cases
to improve overall test coverage. Tests added:
test_share_set_visibility_exception
test_share_set_property_exception
test_share_unset_name_exception
test_share_unset_property_exception

Change-Id: I7604da8943dca8f3eada7c5ac1311086772f41a5
Partially-implements: bp openstack-client-support
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/30/710830/6 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share.py', 'manilaclient/tests/unit/osc/v2/test_share.py']",2,dc7264aeefb3a30f8d14a73729d49317074864d7,bp/openstack-client-support,"from osc_lib.exceptions import CommandError from manilaclient.common.apiclient import exceptions self.shares_mock.delete.side_effect = exceptions.CommandError() self.assertRaises(CommandError, self.cmd.take_action, parsed_args) def test_share_set_visibility_exception(self): arglist = [ '--public', 'not_a_boolean_value', self._share.id, ] verifylist = [ ('public', 'not_a_boolean_value'), ('share', self._share.id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.shares_mock.update.assert_called_with( self._share.id, is_public='not_a_boolean_value') # '--public' takes only boolean value, would raise a BadRequest self.shares_mock.update.side_effect = exceptions.BadRequest() self.assertRaises(CommandError, self.cmd.take_action, parsed_args) def test_share_set_property_exception(self): arglist = [ '--property', 'key=', self._share.id, ] verifylist = [ ('property', {'key': ''}), ('share', self._share.id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.shares_mock.set_metadata.assert_called_with( self._share.id, {'key': ''}) # '--property' takes key=value arguments # missing a value would raise a BadRequest self.shares_mock.set_metadata.side_effect = exceptions.BadRequest() self.assertRaises(CommandError, self.cmd.take_action, parsed_args) def test_share_unset_name_exception(self): arglist = [ '--name', self._share.id, ] verifylist = [ ('name', True), ('share', self._share.id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.shares_mock.update.side_effect = exceptions.BadRequest() self.assertRaises(CommandError, self.cmd.take_action, parsed_args) def test_share_unset_property_exception(self): arglist = [ '--property', 'Manila', self._share.id, ] verifylist = [ ('property', ['Manila']), ('share', self._share.id) ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.cmd.take_action(parsed_args) self.shares_mock.delete_metadata.assert_called_with( self._share.id, parsed_args.property) # 404 Not Found would be raised, if property 'Manila' doesn't exist self.shares_mock.delete_metadata.side_effect = exceptions.NotFound() self.assertRaises(CommandError, self.cmd.take_action, parsed_args)",,86,1
openstack%2Fopenstack-ansible~stable%2Fussuri~I2c184d6d65eb8eb21abc7929e4d07bf30337be69,openstack/openstack-ansible,stable/ussuri,I2c184d6d65eb8eb21abc7929e4d07bf30337be69,Add rsync package for New CentOS-8 minimal installs,MERGED,2020-07-27 11:06:53.000000000,2020-08-04 19:03:25.000000000,2020-08-04 19:00:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32197}]","[{'number': 1, 'created': '2020-07-27 11:06:53.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a0325bfde4fae63f6cd6c9cc31ab5b8f9d9fbd8', 'message': 'Add rsync package for New CentOS-8 minimal installs\n\nMinimal install of new CentOS 8 systems does not come with rsync installed.\nscripts/bootstrap-ansible.sh pulls in scripts/scripts-library.sh.\nscripts-library.sh calls/needs rsync binary.\nMissing rsync binary makes bootstrap-ansible.sh fail.\n\nChange-Id: I2c184d6d65eb8eb21abc7929e4d07bf30337be69\n(cherry picked from commit 7478bd28bf224ba03f7b19599321ec83ae7ce95a)\n'}]",0,743193,4a0325bfde4fae63f6cd6c9cc31ab5b8f9d9fbd8,8,4,1,25023,,,0,"Add rsync package for New CentOS-8 minimal installs

Minimal install of new CentOS 8 systems does not come with rsync installed.
scripts/bootstrap-ansible.sh pulls in scripts/scripts-library.sh.
scripts-library.sh calls/needs rsync binary.
Missing rsync binary makes bootstrap-ansible.sh fail.

Change-Id: I2c184d6d65eb8eb21abc7929e4d07bf30337be69
(cherry picked from commit 7478bd28bf224ba03f7b19599321ec83ae7ce95a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/743193/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,4a0325bfde4fae63f6cd6c9cc31ab5b8f9d9fbd8,wsoyinka-patch1-stable/ussuri, git curl autoconf gcc gcc-c++ nc rsync \, git curl autoconf gcc gcc-c++ nc \,1,1
openstack%2Fglance~master~Ieeaafcb575a53fd41d487069c07db65134528a0a,openstack/glance,master,Ieeaafcb575a53fd41d487069c07db65134528a0a,Add a test to make sure import get_flow() includes all the steps we expect,ABANDONED,2020-07-28 17:08:12.000000000,2020-08-04 18:58:35.000000000,,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1fe208e1d925aa3ab22d2d71fb91562246a449b3', 'message': 'Add a test to make sure import get_flow() includes all the steps we expect\n\nChange-Id: Ieeaafcb575a53fd41d487069c07db65134528a0a\n'}, {'number': 2, 'created': '2020-07-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/98969c363efe2cb5d74c9905b3ac29d489c028bd', 'message': 'Add a test to make sure import get_flow() includes all the steps we expect\n\nChange-Id: Ieeaafcb575a53fd41d487069c07db65134528a0a\n'}, {'number': 3, 'created': '2020-07-31 00:35:39.000000000', 'files': ['glance/tests/unit/async_/flows/test_api_image_import.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/9ae75d2d2aec6fc0ce0859168258382ada74ac14', 'message': 'Add a test to make sure import get_flow() includes all the steps we expect\n\nChange-Id: Ieeaafcb575a53fd41d487069c07db65134528a0a\n'}]",0,743594,9ae75d2d2aec6fc0ce0859168258382ada74ac14,21,5,3,4393,,,0,"Add a test to make sure import get_flow() includes all the steps we expect

Change-Id: Ieeaafcb575a53fd41d487069c07db65134528a0a
",git fetch https://review.opendev.org/openstack/glance refs/changes/94/743594/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/tests/unit/async_/flows/test_api_image_import.py'],1,1fe208e1d925aa3ab22d2d71fb91562246a449b3,task-heartbeat," @mock.patch('glance.async_.flows.api_image_import._CompleteTask') @mock.patch('glance.async_.flows.api_image_import._SaveImage') @mock.patch('glance.async_.flows.api_image_import._DeleteFromFS') @mock.patch('glance.async_.flows.api_image_import._ImportToStore') @mock.patch('glance.async_.flows.api_image_import._VerifyStaging') def test_critical_flow_steps(self, *steps): """"""Make sure that we build a flow with the minimum expected steps."""""" flow_kwargs = {""task_id"": TASK_ID1, ""task_type"": TASK_TYPE, ""task_repo"": self.mock_task_repo, ""image_repo"": self.mock_image_repo, ""image_id"": IMAGE_ID1, ""import_req"": self.gd_task_input['import_req']} import_flow.get_flow(**flow_kwargs) for step in steps: step.assert_called() ",,17,0
openstack%2Fnova~master~Ice06e4214d7f588bc034123c11b23cc775aece46,openstack/nova,master,Ice06e4214d7f588bc034123c11b23cc775aece46,WIP: Attempt to restore some sanity to snapshot,NEW,2020-07-09 16:53:16.000000000,2020-08-04 18:52:57.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-09 16:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a23e7136786890b3b13b6c6ac3c8ff438ce5311', 'message': ""WIP: Attempt to restore some sanity to snapshot\n\nThere are four different varieties of snapshot, depending on the backend\nin use, virt driver, etc.\n\n- Live direct snapshot\n- Cold direct snapshot\n- Live indirect snapshot\n- Cold indirect snapshot\n\nWe attempt a direct snapshot first, falling back to indirect if that\nfails. There's a lot of duplication between these code paths which means\nseparate methods aren't really viable. We can, however, flatten things\nout a little.\n\nChange-Id: Ice06e4214d7f588bc034123c11b23cc775aece46\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-14 11:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ccc9d489ea80a71bd016a055046aa97409dd5925', 'message': ""WIP: Attempt to restore some sanity to snapshot\n\nThere are four different varieties of snapshot, depending on the backend\nin use, virt driver, etc.\n\n- Live direct snapshot\n- Cold direct snapshot\n- Live indirect snapshot\n- Cold indirect snapshot\n\nWe attempt a direct snapshot first, falling back to indirect if that\nfails. There's a lot of duplication between these code paths which means\nseparate methods aren't really viable. We can, however, flatten things\nout a little.\n\nChange-Id: Ice06e4214d7f588bc034123c11b23cc775aece46\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-17 10:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4982e6ab73ee4e53c07cdf408264ccf4b7f42570', 'message': ""WIP: Attempt to restore some sanity to snapshot\n\nThere are four different varieties of snapshot, depending on the backend\nin use, virt driver, etc.\n\n- Live direct snapshot\n- Cold direct snapshot\n- Live indirect snapshot\n- Cold indirect snapshot\n\nWe attempt a direct snapshot first, falling back to indirect if that\nfails. There's a lot of duplication between these code paths which means\nseparate methods aren't really viable. We can, however, flatten things\nout a little.\n\nChange-Id: Ice06e4214d7f588bc034123c11b23cc775aece46\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-17 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3ff885d5ff29a3ea3de2261269f29b1a62b9e91', 'message': ""WIP: Attempt to restore some sanity to snapshot\n\nThere are four different varieties of snapshot, depending on the backend\nin use, virt driver, etc.\n\n- Live direct snapshot\n- Cold direct snapshot\n- Live indirect snapshot\n- Cold indirect snapshot\n\nWe attempt a direct snapshot first, falling back to indirect if that\nfails. There's a lot of duplication between these code paths which means\nseparate methods aren't really viable. We can, however, flatten things\nout a little.\n\nChange-Id: Ice06e4214d7f588bc034123c11b23cc775aece46\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-21 17:06:25.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d113aad69aa84699256d71341b6d3b873a30175', 'message': ""WIP: Attempt to restore some sanity to snapshot\n\nThere are four different varieties of snapshot, depending on the backend\nin use, virt driver, etc.\n\n- Live direct snapshot\n- Cold direct snapshot\n- Live indirect snapshot\n- Cold indirect snapshot\n\nWe attempt a direct snapshot first, falling back to indirect if that\nfails. There's a lot of duplication between these code paths which means\nseparate methods aren't really viable. We can, however, flatten things\nout a little.\n\nChange-Id: Ice06e4214d7f588bc034123c11b23cc775aece46\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",16,740336,7d113aad69aa84699256d71341b6d3b873a30175,42,9,5,15334,,,0,"WIP: Attempt to restore some sanity to snapshot

There are four different varieties of snapshot, depending on the backend
in use, virt driver, etc.

- Live direct snapshot
- Cold direct snapshot
- Live indirect snapshot
- Cold indirect snapshot

We attempt a direct snapshot first, falling back to indirect if that
fails. There's a lot of duplication between these code paths which means
separate methods aren't really viable. We can, however, flatten things
out a little.

Change-Id: Ice06e4214d7f588bc034123c11b23cc775aece46
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/740336/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/imagebackend.py']",2,9a23e7136786890b3b13b6c6ac3c8ff438ce5311,bp/add-emulated-virtual-tpm, SUPPORTS_DIRECT_SNAPSHOT = False SUPPORTS_DIRECT_SNAPSHOT = True,,88,78
openstack%2Fswift~master~Ic9ed3b4a4cd8c49a1e0d7ceb730c1c389d2d60ac,openstack/swift,master,Ic9ed3b4a4cd8c49a1e0d7ceb730c1c389d2d60ac,squash: Waterfall EC cleanup,ABANDONED,2020-07-28 21:54:49.000000000,2020-08-04 18:47:32.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 21:54:49.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a6192f61080d5f61c941ef2a4d50e73c5cc543d4', 'message': 'squash: Waterfall EC cleanup\n\nChange-Id: Ic9ed3b4a4cd8c49a1e0d7ceb730c1c389d2d60ac\n'}]",3,743637,a6192f61080d5f61c941ef2a4d50e73c5cc543d4,6,3,1,15343,,,0,"squash: Waterfall EC cleanup

Change-Id: Ic9ed3b4a4cd8c49a1e0d7ceb730c1c389d2d60ac
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/743637/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py']",4,a6192f61080d5f61c941ef2a4d50e73c5cc543d4,better-waterfall-ec-patch4," client_chunk_size=None, newest=None):"," client_chunk_size=None, newest=None, header_provider=None): self.header_provider = header_provider # a request may be specialised with specific backend headers if self.header_provider: req_headers.update(self.header_provider())",72,146
openstack%2Fnova~master~Iffb174d53ed310257d21f040b90777f41202e202,openstack/nova,master,Iffb174d53ed310257d21f040b90777f41202e202,trivial: Test object backporting against correct version,MERGED,2020-07-23 12:07:05.000000000,2020-08-04 18:45:22.000000000,2020-07-24 09:44:25.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-23 12:07:05.000000000', 'files': ['nova/tests/unit/objects/test_image_meta.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bf228a55a023513cbb1c0885c177382b6a106d3', 'message': 'trivial: Test object backporting against correct version\n\nAddress a TODO from change I8645c31b4ecb18afea592b2a5b360b0165626009.\n\nChange-Id: Iffb174d53ed310257d21f040b90777f41202e202\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,742650,9bf228a55a023513cbb1c0885c177382b6a106d3,16,9,1,15334,,,0,"trivial: Test object backporting against correct version

Address a TODO from change I8645c31b4ecb18afea592b2a5b360b0165626009.

Change-Id: Iffb174d53ed310257d21f040b90777f41202e202
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/742650/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/objects/test_image_meta.py'],1,9bf228a55a023513cbb1c0885c177382b6a106d3,bp/add-emulated-virtual-tpm, def test_obj_make_compatible_vtpm(self): primitive = obj.obj_to_primitive('1.26'), def test_obj_make_compatible_1_26(self): primitive = obj.obj_to_primitive('1.25'),2,2
openstack%2Fopenstack-helm-images~master~If76781c4398d4ce3415167d2132700a61f2f1178,openstack/openstack-helm-images,master,If76781c4398d4ce3415167d2132700a61f2f1178,Introduce minikube-aio image,MERGED,2020-08-02 02:01:36.000000000,2020-08-04 18:35:03.000000000,2020-08-04 18:31:34.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-08-02 02:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8caafe0c601d938be135796f2a2f45191083d24c', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/#/c/741580/\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-08-02 02:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/8972addc3870592b10628499d4d40bfa1733b2f8', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/#/c/741580/\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-08-02 17:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/22f18e3b27f4466e89146bc0a638f11847d91346', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/#/c/741580/\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-08-02 19:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/82048c7f68a170b5d6923e5feee2c247f03e3a03', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/#/c/741580/\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-08-02 20:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/13808c5018da700fbeff1a57cdde1d95cb0fabc6', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/#/c/741580/\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-08-03 23:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4e3f33f11f67d7956c0492a45060f5b519c0f770', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-08-03 23:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/eb947d88729bce491d8804bffeb06b36dff77a01', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minutes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-08-04 00:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7b16e9ba40a34d4c91d83af79852ab5f98a505c8', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 9, 'created': '2020-08-04 00:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7ade44006e8fef7599a87874592963f8a5dfa297', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minunes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 10, 'created': '2020-08-04 01:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c3155d685771b42ad06a7e2411ad212152815f2c', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minutes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 11, 'created': '2020-08-04 13:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/27edc60b1cab16a50d7d3af7a983e57abbca55bc', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minutes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 12, 'created': '2020-08-04 17:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/b21527a6b820de22e9bec5d4997dddd17a18b789', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minutes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 13, 'created': '2020-08-04 17:32:08.000000000', 'files': ['minikube-aio/sources.list', 'minikube-aio/install.sh', 'minikube-aio/images.txt', 'zuul.d/minikube-aio.yaml', 'minikube-aio/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/7976f3887a4e8de8843a0095d1a4951dc0683ccc', 'message': 'Introduce minikube-aio image\n\nImage contains all binaries and saved images required for minikube\ndeployment. Together with [0] it will allow to save up to 6 minutes on\neach minikube deployment in osh(|-infra) functional jobs.\n\n[0] https://review.opendev.org/744561\n\nChange-Id: If76781c4398d4ce3415167d2132700a61f2f1178\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",2,744364,7976f3887a4e8de8843a0095d1a4951dc0683ccc,60,6,13,8863,,,0,"Introduce minikube-aio image

Image contains all binaries and saved images required for minikube
deployment. Together with [0] it will allow to save up to 6 minutes on
each minikube deployment in osh(|-infra) functional jobs.

[0] https://review.opendev.org/744561

Change-Id: If76781c4398d4ce3415167d2132700a61f2f1178
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/64/744364/11 && git format-patch -1 --stdout FETCH_HEAD,"['minikube-aio/sources.list', 'zuul.d/base.yaml', 'minikube-aio/images.txt', 'zuul.d/minikube-aio.yaml', 'minikube-aio/Dockerfile']",5,8caafe0c601d938be135796f2a2f45191083d24c,osh-image-testing,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. FROM docker.io/ubuntu:bionic MAINTAINER andrii.ostapenko@att.com ARG UBUNTU_URL=http://archive.ubuntu.com/ubuntu/ ARG ALLOW_UNAUTHENTICATED=false COPY ./sources.list /etc/apt/ RUN sed -i \ -e ""s|%%UBUNTU_URL%%|${UBUNTU_URL}|g"" \ /etc/apt/sources.list ;\ echo ""APT::Get::AllowUnauthenticated \""${ALLOW_UNAUTHENTICATED}\"";\n\ Acquire::AllowInsecureRepositories \""${ALLOW_UNAUTHENTICATED}\"";\n\ Acquire::AllowDowngradeToInsecureRepositories \""${ALLOW_UNAUTHENTICATED}\"";"" \ >> /etc/apt/apt.conf.d/allow-unathenticated ARG KUBE_VERSION=""v1.16.2"" ARG MINIKUBE_VERSION=""v1.3.1"" ARG CALICO_VERSION=""v3.9"" ARG HELM_VERSION=""v2.14.1"" COPY images.txt /opt/ RUN set -ex; \ apt-get update; \ apt-get install -y \ ca-certificates \ curl \ gnupg \ ;\ GOOGLE_REPO_URL=https://storage.googleapis.com ;\ MINIKUBE_REPO_URL=${GOOGLE_REPO_URL}/minikube/releases/${MINIKUBE_VERSION} ;\ GOOGLE_KUBERNETES_REPO_URL=${GOOGLE_REPO_URL}/kubernetes-release/release/${KUBE_VERSION}/bin/linux/amd64 ;\ GOOGLE_HELM_REPO_URL=${GOOGLE_REPO_URL}/kubernetes-helm ;\ CNI_REPO_URL=https://github.com/containernetworking/plugins/releases/download/${CNI_VERSION} ;\ BINARY_DIR=/opt/binaries ;\ mkdir ${BINARY_DIR}; \ curl -sSLo ${BINARY_DIR}/minikube ${MINIKUBE_REPO_URL}/minikube-linux-amd64 ;\ for BINARY in kubectl kubeadm kubelet; do \ curl -sSLo ${BINARY_DIR}/${BINARY} ${GOOGLE_KUBERNETES_REPO_URL}/${BINARY} ;\ done ;\ TMP_DIR=$(mktemp -d) ;\ curl -sSL ${GOOGLE_HELM_REPO_URL}/helm-${HELM_VERSION}-linux-amd64.tar.gz | tar -zxv --strip-components=1 -C ${TMP_DIR} ;\ mv ${TMP_DIR}/helm ${BINARY_DIR} ;\ rm -rf ${TMP_DIR} ;\ chmod +x ${BINARY_DIR}/* ;\ curl https://docs.projectcalico.org/""${CALICO_VERSION}""/manifests/calico.yaml -o /tmp/calico.yaml; \ for CALICO_IMAGE in $(grep -oP '(?<=image:)\s*calico/.+$' /tmp/calico.yaml); do \ echo ${CALICO_IMAGE} >> /opt/images.txt ;\ done ;\ printf ""kubernetesVersion: ${KUBE_VERSION}\napiVersion: kubeadm.k8s.io/v1beta1\nkind: ClusterConfiguration"" >> /tmp/kubeadm.yaml ;\ $BINARY_DIR/kubeadm config images list --config /tmp/kubeadm.yaml | tee -a /opt/images.txt ;\ . /etc/os-release ;\ echo ""deb http://download.opensuse.org/repositories/devel:/kubic:/libcontainers:/stable/x${NAME}_${VERSION_ID}/ /"" > \ /etc/apt/sources.list.d/devel:kubic:libcontainers:stable.list ;\ curl -sSL https://download.opensuse.org/repositories/devel:kubic:libcontainers:stable/x${NAME}_${VERSION_ID}/Release.key | apt-key add - ;\ apt-get update ;\ apt-get install -y skopeo gettext ;\ mkdir /opt/images ;\ for IMAGE in $(envsubst < /opt/images.txt | tee /opt/images.txt | sort | uniq); do \ echo $IMAGE ;\ path=/opt/images/$(echo ${IMAGE} | sed 's#[/:]#_#g').tar ;\ skopeo copy docker://${IMAGE} docker-archive:${path}:${IMAGE} ;\ done ;\ FROM scratch COPY --from=0 /opt / ",,149,0
openstack%2Fnova~master~I86c2f00e2368fe02211175e7328b2cd9c0ebf41b,openstack/nova,master,I86c2f00e2368fe02211175e7328b2cd9c0ebf41b,Delete ARQs by UUID if Cyborg ARQ bind fails.,MERGED,2020-03-31 07:40:22.000000000,2020-08-04 18:32:13.000000000,2020-07-27 17:52:43.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28748}, {'_account_id': 29963}, {'_account_id': 31412}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-31 07:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2724faabaed461a9b4199e97a92b7670f9537409', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 2, 'created': '2020-04-01 03:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/069e8bc201cb3ff77bff422d46946ec33ce117d7', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 3, 'created': '2020-04-03 04:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9f46ffc4b0dbe6a37ab61209febc74c4a61d2e4', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 4, 'created': '2020-04-03 07:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcdfe47824031467e64c418f92e1019d91266739', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 5, 'created': '2020-04-03 07:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/345294d293a4d540d1e33c219c1e549e396c80d7', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 6, 'created': '2020-04-03 15:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cad737271b9b5e00dd5262a156ae072006f121dc', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 7, 'created': '2020-04-09 18:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4719bcb2ff683ea78625a62c6b096bd7b45861f', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 8, 'created': '2020-04-22 03:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b150ed8566b437e416569f5ea48fa41e2e51beaa', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a _delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestOpFailed exception raised when binding\nfails and clean up instance arqs.\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 9, 'created': '2020-04-22 05:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75e31333629180e37a539b6ae4c778137236348f', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a _delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestOpFailed exception raised when binding\nfails and clean up instance arqs.\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 10, 'created': '2020-05-13 08:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef90c96509efd4e11566dc97538537dba8811c28', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 11, 'created': '2020-05-13 09:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c726cd3286ca8cad3ce2d05cc0a33aa9d9ca858', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 12, 'created': '2020-05-13 10:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab8289a17ce21283dff3e4254b60f046f3a23d0e', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 13, 'created': '2020-07-02 00:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d38c0fc0a72d8e3d0bcd62a2502adec90ceece7', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 14, 'created': '2020-07-21 07:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c9bb694a771a50f97a59bf478fb5ef40a260328', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 15, 'created': '2020-07-22 02:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38b7854ea8b3a5304ffbd6162d60acb5b9d8f62c', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 16, 'created': '2020-07-23 06:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ac55ed6b4c3a09ad4abf6463988b602df087b4a', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}, {'number': 17, 'created': '2020-07-23 07:30:56.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/tests/unit/accelerator/test_cyborg.py', 'nova/conductor/manager.py', 'nova/accelerator/cyborg.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d94ea23d3d64ecd3f2539a337c066487b938fcad', 'message': 'Delete ARQs by UUID if Cyborg ARQ bind fails.\n\nDuring the reivew of the cyborg series it was noted that\nin some cases ARQs could be leaked during binding.\nSee https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632\n\nThis change adds a delete_arqs_by_uuid function that can delete\nunbound ARQs by instance uuid.\n\nThis change modifies build_instances and schedule_and_build_instances\nto handel the AcceleratorRequestBindingFailed exception raised when\nbinding fails and clean up instance arqs.\n\nCo-Authored-By: Wenping Song <songwenping@inspur.com>\n\nCloses-Bug: #1872730\nChange-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b\nBlueprint: nova-cyborg-interaction\n'}]",46,716186,d94ea23d3d64ecd3f2539a337c066487b938fcad,156,21,17,21672,,,0,"Delete ARQs by UUID if Cyborg ARQ bind fails.

During the reivew of the cyborg series it was noted that
in some cases ARQs could be leaked during binding.
See https://review.opendev.org/#/c/673735/46/nova/conductor/manager.py@1632

This change adds a delete_arqs_by_uuid function that can delete
unbound ARQs by instance uuid.

This change modifies build_instances and schedule_and_build_instances
to handel the AcceleratorRequestBindingFailed exception raised when
binding fails and clean up instance arqs.

Co-Authored-By: Wenping Song <songwenping@inspur.com>

Closes-Bug: #1872730
Change-Id: I86c2f00e2368fe02211175e7328b2cd9c0ebf41b
Blueprint: nova-cyborg-interaction
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/716186/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/accelerator/test_cyborg.py', 'nova/accelerator/cyborg.py']",2,2724faabaed461a9b4199e97a92b7670f9537409,bp/nova-cyborg-interaction," arq_uuids = bindings.keys() self._delete_arqs_by_uuid(arq_uuids) err_msg = err_msg + msg + ','.join(arq_uuids) def _delete_arqs_by_uuid(self, arq_uuids): """"""Delete the specified ARQs, unbinding them if needed. This is meant to be used to clean up ARQs have failed to bind to an instance, so that delete_arqs_for_instance() is not applicable. This Cyborg API call is NOT idempotent, i.e., if called more than once, the 2nd and later calls will throw errors. If this fails, an error is logged but no exception is raised because this cleans up Cyborg resources, but should otherwise not affect instance spawn. :params arq_uuids: dict_keys() of ARQ UUIDs """""" arq_uuid_str = ','.join(arq_uuids) params = {'arqs': arq_uuid_str} resp, err_msg = self._call_cyborg(self._client.delete, self.ARQ_URL, params=params) if err_msg: # No point raising an exception, as this is mean LOG.error('Failed to delete ARQs %s', arq_uuid_str)"," err_msg = err_msg + msg + ','.join(bindings.keys())",54,2
openstack%2Fopenstack-ansible-lxc_hosts~master~I7c49f0cd7abb85e725296b17ecb88f34b50affed,openstack/openstack-ansible-lxc_hosts,master,I7c49f0cd7abb85e725296b17ecb88f34b50affed,move listchanges removal to where it's needed,MERGED,2020-05-28 23:41:46.000000000,2020-08-04 18:18:47.000000000,2020-08-04 18:17:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-05-28 23:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6b65f9434dd60e25eb7921cf8fc3b5ed5c0c30c2', 'message': ""move listchanges removal to where it's needed\n\nlistchanges config needs to be be removed before apt is run\n\nChange-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed\n""}, {'number': 2, 'created': '2020-06-22 18:13:12.000000000', 'files': ['templates/prep-scripts/debian_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/2aa1a6776aa729d07c05311e30f93f7e74385b97', 'message': ""move listchanges removal to where it's needed\n\nlistchanges config needs to be be removed before apt is run\n\nChange-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed\n""}]",0,731628,2aa1a6776aa729d07c05311e30f93f7e74385b97,13,4,2,14288,,,0,"move listchanges removal to where it's needed

listchanges config needs to be be removed before apt is run

Change-Id: I7c49f0cd7abb85e725296b17ecb88f34b50affed
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/28/731628/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/prep-scripts/debian_prep.sh.j2'],1,6b65f9434dd60e25eb7921cf8fc3b5ed5c0c30c2,master-disable-listchanges,# remove configs that break containers (listchanges is missing) rm -f /etc/apt/apt.conf.d/20listchanges ,rm -f /etc/apt/apt.conf.d/20listchanges,3,1
openstack%2Freleases~master~I4b1c28414d6f9a734bbe1db11557087e8e65a0c8,openstack/releases,master,I4b1c28414d6f9a734bbe1db11557087e8e65a0c8,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 01:48:13.000000000,2020-08-04 18:13:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 01:48:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d2eb41bdb59d52e939e5713a82f3c86da837ae88', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40214\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I4b1c28414d6f9a734bbe1db11557087e8e65a0c8\n'}]",0,744582,d2eb41bdb59d52e939e5713a82f3c86da837ae88,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40214

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I4b1c28414d6f9a734bbe1db11557087e8e65a0c8
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/744582/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d2eb41bdb59d52e939e5713a82f3c86da837ae88,migrate-to-focal,#test focal,,1,0
openstack%2Freno~master~I8ecbd3c61cb817ac389f0051d09aa249afa8adda,openstack/reno,master,I8ecbd3c61cb817ac389f0051d09aa249afa8adda,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 01:48:19.000000000,2020-08-04 18:12:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 01:48:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/reno/commit/980ea82ade2c3cf2d772a87e5710f48d72c8ca5b', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40214\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I8ecbd3c61cb817ac389f0051d09aa249afa8adda\n'}]",0,744583,980ea82ade2c3cf2d772a87e5710f48d72c8ca5b,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40214

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I8ecbd3c61cb817ac389f0051d09aa249afa8adda
",git fetch https://review.opendev.org/openstack/reno refs/changes/83/744583/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,980ea82ade2c3cf2d772a87e5710f48d72c8ca5b,migrate-to-focal,#test focal,,1,0
openstack%2Fcharm-ceph-proxy~master~Icec5faee1c9e693aa149d571f322e66a0899a14c,openstack/charm-ceph-proxy,master,Icec5faee1c9e693aa149d571f322e66a0899a14c,Improve README,MERGED,2020-07-23 00:38:14.000000000,2020-08-04 18:06:56.000000000,2020-08-04 18:06:56.000000000,"[{'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-07-23 00:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/624499f46a5bbc824ee7fa1beeff7a5e20507852', 'message': 'Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nChange-Id: Icec5faee1c9e693aa149d571f322e66a0899a14c\n'}, {'number': 2, 'created': '2020-08-04 15:52:46.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/18339304d90c539bc956b2ce5f0946618797cc43', 'message': 'Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nChange-Id: Icec5faee1c9e693aa149d571f322e66a0899a14c\n'}]",0,742567,18339304d90c539bc956b2ce5f0946618797cc43,16,5,2,30561,,,0,"Improve README

This improvement is part of a wave of polish
in preparation for the launch of the Ceph product.

Change-Id: Icec5faee1c9e693aa149d571f322e66a0899a14c
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/67/742567/2 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,624499f46a5bbc824ee7fa1beeff7a5e20507852,prep-for-ceph-launch,"[Ceph][ceph-upstream] is a unified, distributed storage system designed forThe ceph-proxy charm deploys a proxy that acts as a [ceph-mon][ceph-mon-charm] application for an external Ceph cluster. It joins a non-charmed Ceph cluster to a Juju model.## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `fsid` The `fsid` option supplies the UUID of the external cluster. #### `admin-key` The `admin-key` option supplies the admin Cephx key of the external cluster. #### `monitor-hosts` The `monitor-hosts` option supplies the network addresses (and ports) of the Monitors of the external cluster. ## Deployment Let file ``ceph-proxy.yaml`` contain the deployment configuration: ceph-proxy: fsid: a4f1fb08-c83d-11ea-8f4a-635b3b062931 admin-key: AQCJvBFfWX+GLhAAln5dFd1rZekcGLyMmy58bQ== monitor-hosts: '10.246.114.21:6789 10.246.114.22:6789 10.246.114.7:6789'To deploy: juju deploy --config ceph-proxy.yaml ceph-proxy Now add relations as you normally would between a ceph-mon application and another application, except substitute ceph-proxy for ceph-mon. For instance, to use the external Ceph cluster as the backend for an existing glance application: juju add-relation ceph-proxy:client glance:ceph ## Actions Many of the ceph-mon charm's actions are supported. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. # Bugs Please report bugs on [Launchpad][lp-bugs-charm-ceph-proxy]. For general charm questions refer to the [OpenStack Charm Guide][cg]. <!-- LINKS --> [ceph-upstream]: https://ceph.io [cg]: https://docs.openstack.org/charm-guide [ceph-mon-charm]: https://jaas.ai/ceph-mon [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [lp-bugs-charm-ceph-proxy]: https://bugs.launchpad.net/charm-ceph-proxy/+filebug","Ceph is a distributed storage and network file system designed to provideThis charm allows connecting an existing Ceph deployment with a Juju environment.Your config.yaml needs to provide the monitor-hosts and fsid options like below: `config.yaml`:ceph-proxy: monitor-hosts: IP_ADDRESS:PORT IP ADDRESS:PORT fsid: FSIDYou must then provide this configuration to the new deployment: `juju deploy ceph-proxy -c config.yaml`. This charm noes NOT insert itself between the clusters, but merely makes the external cluster available through Juju's environment by exposing the same relations that the existing ceph charms do. # Contact Information ## Authors - Chris MacNaughton <chris.macnaughton@canonical.com> Report bugs on [Launchpad](http://bugs.launchpad.net/charm-ceph-proxy/+filebug) ## Ceph - [Ceph website](http://ceph.com) - [Ceph mailing lists](http://ceph.com/resources/mailing-list-irc/) - [Ceph bug tracker](http://tracker.ceph.com/projects/ceph)",56,17
openstack%2Fopenstack-ansible-os_zun~master~I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0,openstack/openstack-ansible-os_zun,master,I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0,Add centos-8 support,MERGED,2020-07-07 03:41:46.000000000,2020-08-04 18:05:51.000000000,2020-08-04 17:29:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-07 03:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/96fb578be9ce1f0a17ae7e0bc09a5638178e3b1d', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n'}, {'number': 2, 'created': '2020-07-07 05:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/995ebf75ef72b337629816908ea7901f46348db4', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n'}, {'number': 3, 'created': '2020-07-21 17:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3c1bf178edbefd585b7afaa0dc2121740de2d578', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nDepends-On: https://review.opendev.org/742166\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n'}, {'number': 4, 'created': '2020-07-28 12:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/b50f3444aed2cf5687dcc84ec7cf16b8ce56d78d', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nDepends-On: https://review.opendev.org/742166\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n'}, {'number': 5, 'created': '2020-08-04 10:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/a4cd1ab68ab6d6fb95f9921aab9a176e741e123d', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nDepends-On: https://review.opendev.org/742166\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n'}, {'number': 6, 'created': '2020-08-04 10:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/8a80c64b6badb2ee30278b69810b2b51893ac9ca', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nDepends-On: https://review.opendev.org/742166\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n'}, {'number': 7, 'created': '2020-08-04 14:14:48.000000000', 'files': ['tasks/zun_compute.yml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/649f8f0368b2f451da7f43c905a4930b64c0c3d2', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nDepends-On: https://review.opendev.org/742166\nChange-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0\n'}]",0,739649,649f8f0368b2f451da7f43c905a4930b64c0c3d2,24,4,7,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Depends-On: https://review.opendev.org/742166
Change-Id: I05f91dbcd64c8b3f113a920b32ce603bdd58a0d0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/49/739649/6 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,96fb578be9ce1f0a17ae7e0bc09a5638178e3b1d,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}""", - systemd-devel,1,1
openstack%2Fopenstack-helm-infra~master~Ibf4c69415e69a7baca2e3b96bcb23851e68d07d8,openstack/openstack-helm-infra,master,Ibf4c69415e69a7baca2e3b96bcb23851e68d07d8,Add Application Armor to Ceph-Provisioners-config test,MERGED,2020-08-02 03:52:49.000000000,2020-08-04 17:58:26.000000000,2020-08-04 17:56:27.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29298}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-02 03:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ccb7d98e87c9c612ced03efa04e92a3419736f13', 'message': 'Add Application Armor to Ceph-Provisioners-config test\n\n1) Added  to service account name insted of traditional pod name\n   to resolve for  different Namespaces\n\nChange-Id: Ibf4c69415e69a7baca2e3b96bcb23851e68d07d8\n'}, {'number': 2, 'created': '2020-08-03 01:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7b00c44a44327896858b2833377066ca0a9335f3', 'message': 'Add Application Armor to Ceph-Provisioners-config test\n\n1) Added  to service account name insted of traditional pod name\n   to resolve for  different Namespaces\n\nChange-Id: Ibf4c69415e69a7baca2e3b96bcb23851e68d07d8\n'}, {'number': 3, 'created': '2020-08-03 01:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/99ff444431e6f35bef76e6e1821931ec3185f5f5', 'message': '[WIP] Add Application Armor to Ceph-Provisioners-config test\n\n1) Added  to service account name insted of traditional pod name\n   to resolve for  different Namespaces\n\nChange-Id: Ibf4c69415e69a7baca2e3b96bcb23851e68d07d8\n'}, {'number': 4, 'created': '2020-08-03 16:42:57.000000000', 'files': ['ceph-provisioners/values_overrides/apparmor.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c46b2662a61c3a5153671cc24f2b2073c106cc9', 'message': 'Add Application Armor to Ceph-Provisioners-config test\n\n1) Added  to service account name insted of traditional pod name\n   to resolve for dynamic release names.\n\nChange-Id: Ibf4c69415e69a7baca2e3b96bcb23851e68d07d8\n'}]",0,744368,4c46b2662a61c3a5153671cc24f2b2073c106cc9,26,10,4,29131,,,0,"Add Application Armor to Ceph-Provisioners-config test

1) Added  to service account name insted of traditional pod name
   to resolve for dynamic release names.

Change-Id: Ibf4c69415e69a7baca2e3b96bcb23851e68d07d8
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/68/744368/4 && git format-patch -1 --stdout FETCH_HEAD,"['namespace-config/values_overrides/apparmor.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml']",2,ccb7d98e87c9c612ced03efa04e92a3419736f13,,"{{ dict ""envAll"" $envAll ""podName"" $serviceAccountName ""containerNames"" (list ""init"" ""ceph-provisioner-helm-test"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 4 }}","{{ dict ""envAll"" $envAll ""podName"" ""ceph-provisioner-test"" ""containerNames"" (list ""init"" ""ceph-provisioner-helm-test"") | include ""helm-toolkit.snippets.kubernetes_mandatory_access_control_annotation"" | indent 4 }}",22,1
openstack%2Fproject-config~master~Ie3b88cc1139dc4b1836369cf63ec9780dda3bf54,openstack/project-config,master,Ie3b88cc1139dc4b1836369cf63ec9780dda3bf54,Retire Zuul's Kata tenant,MERGED,2020-08-04 11:58:12.000000000,2020-08-04 17:45:40.000000000,2020-08-04 17:26:48.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 11:58:12.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/kata-containers/zuul-config.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/109f358047c496db2086a1b1bafd4b1aba431164', 'message': ""Retire Zuul's Kata tenant\n\nRemove the katacontainers tenant configuration in Zuul.\nMark the config repository (kata-containers/zuul-config) as retired.\n\nDepends-On: https://review.opendev.org/744686\nChange-Id: Ie3b88cc1139dc4b1836369cf63ec9780dda3bf54\n""}]",0,744687,109f358047c496db2086a1b1bafd4b1aba431164,8,3,1,308,,,0,"Retire Zuul's Kata tenant

Remove the katacontainers tenant configuration in Zuul.
Mark the config repository (kata-containers/zuul-config) as retired.

Depends-On: https://review.opendev.org/744686
Change-Id: Ie3b88cc1139dc4b1836369cf63ec9780dda3bf54
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/744687/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/kata-containers/zuul-config.config']",3,109f358047c496db2086a1b1bafd4b1aba431164,retire-kata-tenant,,"[access ""refs/heads/*""] abandon = group kata-zuul-config-core label-Code-Review = -2..+2 group kata-zuul-config-core label-Workflow = -1..+1 group kata-zuul-config-core [receive] requireChangeId = true [submit] mergeContent = true ",2,48
openstack%2Fnova~master~I8a2726b39d0444de8c35480024078a97430f5d0c,openstack/nova,master,I8a2726b39d0444de8c35480024078a97430f5d0c,objects: Update keypairs when saving an instance,MERGED,2019-09-19 07:41:56.000000000,2020-08-04 17:38:32.000000000,2020-07-23 05:52:50.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-19 07:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/908bb9c8a4280d589eaf071262e68a48b86dbfce', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 2, 'created': '2019-09-23 22:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5209856b99f67019d13761449263ef345ef02ac', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 3, 'created': '2019-10-02 22:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/575077f596eb02e0ff29d75e41042ff3052598c3', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 4, 'created': '2019-10-10 21:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a053b7a0ba05e488f058145821b79db7bdb7ca1d', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 5, 'created': '2019-10-16 22:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1db76387506cf9c069573aa3789510af12c4fdb4', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 6, 'created': '2019-11-05 22:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88d21227f7a7bff2abfad8e21a9291120bcc004d', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 7, 'created': '2019-11-11 05:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d314aeb74819cd71da7407b226675e48d8a2fdb', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 8, 'created': '2019-11-13 22:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/859f4dfc926f2767b46334f2cec4429df69bb4e8', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 9, 'created': '2019-11-13 23:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9806c0367c6705338d946f9a3c96d0166d8922d0', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 10, 'created': '2019-11-13 23:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1645595bb1e0cb6dd1c30a61ad192c1cf08ca803', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 11, 'created': '2019-11-25 22:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5aa0ea1012a452a8d2839d803559babd8ad73064', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 12, 'created': '2019-11-29 01:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec0877765e99752eceb2fe1a0bc4198921af21db', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 13, 'created': '2019-12-18 07:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f99871a7cf0dbabe675a3a416c677329a81c2934', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated\nwhen rebuilding the server with a keypair.\nThis function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved\nwhen saving the instance object currently.\n\nMake the instance object update the 'keypairs' field\nwhen saving the instance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 14, 'created': '2020-06-29 13:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/636a143b4d99dd5797c514e9827ed0f8e2ff25b5', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 15, 'created': '2020-06-29 13:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9de97ec8f2b71a639a8c3fb9618af9f5b86107aa', 'message': ""Update keypairs in saving an instance object\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\n""}, {'number': 16, 'created': '2020-06-30 11:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaa40718fe694b50fa976a52e0d0ed86cd61ee2d', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 17, 'created': '2020-06-30 15:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6151091e69835db8eadad71a36ab892b09d8b1f7', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 18, 'created': '2020-07-21 15:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7d614f4f238e9fb48409a6f2b558600ff397db2', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 19, 'created': '2020-07-22 12:29:19.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/086796021b189c3ac64805ed8f6bde833906d284', 'message': ""objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the 'keypairs' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the 'keypairs' field when saving the\ninstance object.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",11,683043,086796021b189c3ac64805ed8f6bde833906d284,200,20,19,7634,,,0,"objects: Update keypairs when saving an instance

The keypair of a server is updated when rebuilding the server with a
keypair. This function has been added since API microversion 2.54.
However the 'keypairs' of the instance object is not saved when saving
the instance object currently.

Make the instance object update the 'keypairs' field when saving the
instance object.

Change-Id: I8a2726b39d0444de8c35480024078a97430f5d0c
Closes-Bug: #1843708
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/683043/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",3,908bb9c8a4280d589eaf071262e68a48b86dbfce,bug/1843708," test_keypairs = objects.KeyPairList( objects=[objects.KeyPair(name='foo')]) inst.keypairs = test_keypairs json_keypairs = jsonutils.dumps(test_keypairs.obj_to_primitive()) 'vcpu_model': json_vcpu_model, 'keypairs': json_keypairs}", 'vcpu_model': json_vcpu_model},9,6
openstack%2Fovn-octavia-provider~stable%2Fussuri~Ieac64521ff3da27827293e1ce7d8d78a3ea3b350,openstack/ovn-octavia-provider,stable/ussuri,Ieac64521ff3da27827293e1ce7d8d78a3ea3b350,DNM - test patch for requirements,ABANDONED,2020-08-03 21:30:33.000000000,2020-08-04 17:38:15.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-08-03 21:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/31bd503ef70e3b2d0f5ad5da0781444747345e8d', 'message': 'DNM - test patch for requirements\n\nChange-Id: Ieac64521ff3da27827293e1ce7d8d78a3ea3b350\n'}, {'number': 2, 'created': '2020-08-04 07:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4d2ffbc86b3fc5078f89723813c85db9dd4a4005', 'message': 'DNM - test patch for requirements\n\nChange-Id: Ieac64521ff3da27827293e1ce7d8d78a3ea3b350\n'}, {'number': 3, 'created': '2020-08-04 13:31:31.000000000', 'files': ['requirements.txt', 'ovn_octavia_provider/agent.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/86ac2f0fe5473dcf584c2b7a4d77b37eb67d97b0', 'message': 'DNM - test patch for requirements\n\nChange-Id: Ieac64521ff3da27827293e1ce7d8d78a3ea3b350\n'}]",0,744560,86ac2f0fe5473dcf584c2b7a4d77b37eb67d97b0,11,3,3,1131,,,0,"DNM - test patch for requirements

Change-Id: Ieac64521ff3da27827293e1ce7d8d78a3ea3b350
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/60/744560/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ovn_octavia_provider/agent.py']",2,31bd503ef70e3b2d0f5ad5da0781444747345e8d,u-test,# TEST,,2,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Iec44b5c97f7427f54279343ffb87b653bcb1832c,openstack/tripleo-ansible,stable/ussuri,Iec44b5c97f7427f54279343ffb87b653bcb1832c,Ensure jq installed,MERGED,2020-08-04 16:34:39.000000000,2020-08-04 17:34:58.000000000,2020-08-04 17:34:58.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 16:34:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91170ba38ffcb160f9d5472a460f282e6a6c6860', 'message': 'Ensure jq installed\n\nThis role needs jq for the molecule testing.\n\nChange-Id: Iec44b5c97f7427f54279343ffb87b653bcb1832c\n(cherry picked from commit 94dbec8c8a898c76e191938f3e31ce7d2f3a2866)\n'}]",0,744749,91170ba38ffcb160f9d5472a460f282e6a6c6860,6,2,1,14985,,,0,"Ensure jq installed

This role needs jq for the molecule testing.

Change-Id: Iec44b5c97f7427f54279343ffb87b653bcb1832c
(cherry picked from commit 94dbec8c8a898c76e191938f3e31ce7d2f3a2866)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/744749/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml'],1,91170ba38ffcb160f9d5472a460f282e6a6c6860,bug/1888853-stable/ussuri, tasks: - include_role: name: test_deps vars: test_deps_setup_tripleo: true test_deps_extra_packages: - jq, roles: - role: test_deps,7,2
openstack%2Frequirements~master~Iea372ce034acc1f4b95c09005dde28e1537e7b7d,openstack/requirements,master,Iea372ce034acc1f4b95c09005dde28e1537e7b7d,update constraint for keystoneauth1 to new release 4.2.1,MERGED,2020-08-04 09:23:23.000000000,2020-08-04 17:27:50.000000000,2020-08-04 17:26:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 09:23:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a44dfcc12233e940d7d2b9b0f853b49e83d7579b', 'message': 'update constraint for keystoneauth1 to new release 4.2.1\n\nChange-Id: Iea372ce034acc1f4b95c09005dde28e1537e7b7d\nmeta:version: 4.2.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Change-Id: Id6171dd2c9eea97d8e44234da8175cef2ad94598\nmeta:release:Code-Review+1: Kristi Nikolla <knikolla@icloud.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,744666,a44dfcc12233e940d7d2b9b0f853b49e83d7579b,14,4,1,11131,,,0,"update constraint for keystoneauth1 to new release 4.2.1

Change-Id: Iea372ce034acc1f4b95c09005dde28e1537e7b7d
meta:version: 4.2.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Commit: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Change-Id: Id6171dd2c9eea97d8e44234da8175cef2ad94598
meta:release:Code-Review+1: Kristi Nikolla <knikolla@icloud.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/744666/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a44dfcc12233e940d7d2b9b0f853b49e83d7579b,new-release,keystoneauth1===4.2.1,keystoneauth1===4.2.0,1,1
openstack%2Fkeystone~master~I3834b3b34641c006c70614d5331d292c41f8a346,openstack/keystone,master,I3834b3b34641c006c70614d5331d292c41f8a346,Fix lower-constraint for PyMySQL,MERGED,2020-07-24 17:58:17.000000000,2020-08-04 17:17:34.000000000,2020-07-29 02:35:39.000000000,"[{'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 17:58:17.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/3de085b1eb9750cb0d0d25cb468250cf34804eaf', 'message': ""Fix lower-constraint for PyMySQL\n\nkeystone does not have any lower constraint for PyMySQL so the\nlatest version 0.10.0 is picked by the job which is failing [1]\nIn OpenStack, PyMySQL upper constraint is .9.3 means that version\nis tested not 0.10.0 [2] let's add PyMySQL lower constraint also\nso that we test lower-constraint job with correct lower version.\n\n[1]https://zuul.opendev.org/t/openstack/build/3077d96f4fff4b7985cb763d0635d471/log/job-output.txt#621\n[2]https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L384\n\nChange-Id: I3834b3b34641c006c70614d5331d292c41f8a346\nCloses-Bug: #1888886\n""}]",0,742956,3de085b1eb9750cb0d0d25cb468250cf34804eaf,15,6,1,27621,,,0,"Fix lower-constraint for PyMySQL

keystone does not have any lower constraint for PyMySQL so the
latest version 0.10.0 is picked by the job which is failing [1]
In OpenStack, PyMySQL upper constraint is .9.3 means that version
is tested not 0.10.0 [2] let's add PyMySQL lower constraint also
so that we test lower-constraint job with correct lower version.

[1]https://zuul.opendev.org/t/openstack/build/3077d96f4fff4b7985cb763d0635d471/log/job-output.txt#621
[2]https://github.com/openstack/requirements/blob/master/upper-constraints.txt#L384

Change-Id: I3834b3b34641c006c70614d5331d292c41f8a346
Closes-Bug: #1888886
",git fetch https://review.opendev.org/openstack/keystone refs/changes/56/742956/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,3de085b1eb9750cb0d0d25cb468250cf34804eaf,,PyMySQL==0.7.6,,1,0
openstack%2Fironic-lib~master~I54cb0a8a9ab0d5cf3c05ab905391f998de71a8bf,openstack/ironic-lib,master,I54cb0a8a9ab0d5cf3c05ab905391f998de71a8bf,Fix for lower-constraints job,ABANDONED,2020-08-04 15:19:21.000000000,2020-08-04 17:12:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-04 15:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c6b49644f44207311de43266164113e957b81f07', 'message': 'Fix for lower-constraints job\n\nRecent changes have broken lower-constraints jobs where the\nrequirements in the lower-constraints are bypassed during\ninstallation in the virtual environment, causing the test to\nrun with upgraded packages instead of the constrainted ones.\nThis patch fixes that behavior.\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I54cb0a8a9ab0d5cf3c05ab905391f998de71a8bf\n'}, {'number': 2, 'created': '2020-08-04 15:36:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/5dd5baf513e6e776c2548cfb0dae49ae457866e5', 'message': 'Fix for lower-constraints job\n\nRecent changes have broken lower-constraints jobs where the\nrequirements in the lower-constraints are bypassed during\ninstallation in the virtual environment, causing the test to\nrun with upgraded packages instead of the constrainted ones.\nThis patch fixes that behavior.\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I54cb0a8a9ab0d5cf3c05ab905391f998de71a8bf\n'}]",0,744734,5dd5baf513e6e776c2548cfb0dae49ae457866e5,7,2,2,23851,,,0,"Fix for lower-constraints job

Recent changes have broken lower-constraints jobs where the
requirements in the lower-constraints are bypassed during
installation in the virtual environment, causing the test to
run with upgraded packages instead of the constrainted ones.
This patch fixes that behavior.

See [1] and [2] for more info.

[1] https://review.opendev.org/744698
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html

Change-Id: I54cb0a8a9ab0d5cf3c05ab905391f998de71a8bf
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/34/744734/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c6b49644f44207311de43266164113e957b81f07,fix-l-c,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}install_command = pip install -c{toxinidir}/lower-constraints.txt {opts} {packages},,2,0
openstack%2Fironic-inspector~master~Ifae5075c457efb6d4fc933cf31f2b5c61be2fa11,openstack/ironic-inspector,master,Ifae5075c457efb6d4fc933cf31f2b5c61be2fa11,Fix for lower-constraints job,ABANDONED,2020-08-04 15:00:33.000000000,2020-08-04 17:12:17.000000000,,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-04 15:00:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b31696bffd3fe65baaf8be8db245b5ebc9fedb1b', 'message': 'Fix for lower-constraints job\n\nRecent changes have broken lower-constraints jobs where the\nrequirements in the lower-constraints are bypassed during\ninstallation in the virtual environment, causing the test to\nrun with upgraded packages instead of the constrainted ones.\nThis patch fixes that behavior.\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: Ifae5075c457efb6d4fc933cf31f2b5c61be2fa11\n'}]",0,744733,b31696bffd3fe65baaf8be8db245b5ebc9fedb1b,5,3,1,23851,,,0,"Fix for lower-constraints job

Recent changes have broken lower-constraints jobs where the
requirements in the lower-constraints are bypassed during
installation in the virtual environment, causing the test to
run with upgraded packages instead of the constrainted ones.
This patch fixes that behavior.

See [1] and [2] for more info.

[1] https://review.opendev.org/744698
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html

Change-Id: Ifae5075c457efb6d4fc933cf31f2b5c61be2fa11
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/33/744733/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b31696bffd3fe65baaf8be8db245b5ebc9fedb1b,fix-l-c,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}install_command = pip install -c{toxinidir}/lower-constraints.txt {opts} {packages},,2,0
openstack%2Fironic~master~I0a3fbf430eb9f3b6678c5d1171e30789432d962b,openstack/ironic,master,I0a3fbf430eb9f3b6678c5d1171e30789432d962b,Fix for lower-constraints job,ABANDONED,2020-08-04 14:19:48.000000000,2020-08-04 17:12:10.000000000,,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-04 14:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5dbdaf30dcdd050d5c19a78723a143eedd1cbe04', 'message': 'Fix for lower-constraints job\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I0a3fbf430eb9f3b6678c5d1171e30789432d962b\n'}, {'number': 2, 'created': '2020-08-04 14:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d8a5363f297786aec543dddca580674c86e85ea', 'message': 'Fix for lower-constraints job\n\nRecent changes have broken lower-constraints jobs where the\nrequirements in the lower-constraints are bypassed during\ninstallation in the virtual environment, causing the test to\nrun with upgraded packages instead of the constrainted ones.\nThis patch fixes that behavior.\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I0a3fbf430eb9f3b6678c5d1171e30789432d962b\n'}, {'number': 3, 'created': '2020-08-04 14:58:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9ab7e91d13e372912c6225c2b8d443f5ab18cda', 'message': 'Fix for lower-constraints job\n\nRecent changes have broken lower-constraints jobs where the\nrequirements in the lower-constraints are bypassed during\ninstallation in the virtual environment, causing the test to\nrun with upgraded packages instead of the constrainted ones.\nThis patch fixes that behavior.\n\nSee [1] and [2] for more info.\n\n[1] https://review.opendev.org/744698\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html\n\nChange-Id: I0a3fbf430eb9f3b6678c5d1171e30789432d962b\n'}]",0,744727,a9ab7e91d13e372912c6225c2b8d443f5ab18cda,11,4,3,23851,,,0,"Fix for lower-constraints job

Recent changes have broken lower-constraints jobs where the
requirements in the lower-constraints are bypassed during
installation in the virtual environment, causing the test to
run with upgraded packages instead of the constrainted ones.
This patch fixes that behavior.

See [1] and [2] for more info.

[1] https://review.opendev.org/744698
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016236.html

Change-Id: I0a3fbf430eb9f3b6678c5d1171e30789432d962b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/744727/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5dbdaf30dcdd050d5c19a78723a143eedd1cbe04,fix-l-c,install_command = pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} {opts} {packages}install_command = pip install -c{toxinidir}/lower-constraints.txt {opts} {packages},,2,0
openstack%2Ftripleo-heat-templates~master~I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f,openstack/tripleo-heat-templates,master,I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f,Add CephAnsibleRepo warning to make this validation more flexible,MERGED,2020-08-03 13:04:33.000000000,2020-08-04 17:08:08.000000000,2020-08-04 17:08:08.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-03 13:04:33.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c33feb3058a5797a1fca803239f06107f5afb2d', 'message': 'Add CephAnsibleRepo warning to make this validation more flexible\n\nUnder specific scenarios (FFU) we have ceph-ansible installed but\nno repo is available on the system due to the leapp process.\nThis patch expose an existing parameter (always hard-coded to true)\nto let the validation print the warning but avoiding the whole\nplaybook failing on the CephAnsibleRepo task.\n\nChange-Id: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f\n'}]",2,744468,6c33feb3058a5797a1fca803239f06107f5afb2d,13,8,1,25402,,,0,"Add CephAnsibleRepo warning to make this validation more flexible

Under specific scenarios (FFU) we have ceph-ansible installed but
no repo is available on the system due to the leapp process.
This patch expose an existing parameter (always hard-coded to true)
to let the validation print the warning but avoiding the whole
playbook failing on the CephAnsibleRepo task.

Change-Id: I7083e4dc8b4d14f33837ffe7cc6299ea1ac4b70f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/744468/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,6c33feb3058a5797a1fca803239f06107f5afb2d,, CephAnsibleWarning: type: boolean description: | In particular scenarios we want this validation to show the warning but don't fail because the package is installed on the system but repos are disabled. default: true fail_without_ceph_ansible: {get_param: CephAnsibleWarning}, fail_without_ceph_ansible: true,8,1
openstack%2Ftripleo-upgrade~stable%2Fstein~Ia6dfab215db96a003406dda0ff19315051757752,openstack/tripleo-upgrade,stable/stein,Ia6dfab215db96a003406dda0ff19315051757752,[stein only] Re-add centos-7-standalone-upgrade-stein to check/gate,MERGED,2020-07-28 07:47:13.000000000,2020-08-04 17:08:06.000000000,2020-08-04 17:08:06.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 29775}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-07-28 07:47:13.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0e13f26d4b460e9a85c07c0ed7f9800999b4850e', 'message': '[stein only] Re-add centos-7-standalone-upgrade-stein to check/gate\n\nAs discussed in [1] this adds the centos7 standalone upgrade stein\njob to the stable/stein layout - this is voting so check & gate.\n\n[1] https://review.opendev.org/742879\n\nChange-Id: Ia6dfab215db96a003406dda0ff19315051757752\n'}]",0,743477,0e13f26d4b460e9a85c07c0ed7f9800999b4850e,11,11,1,8449,,,0,"[stein only] Re-add centos-7-standalone-upgrade-stein to check/gate

As discussed in [1] this adds the centos7 standalone upgrade stein
job to the stable/stein layout - this is voting so check & gate.

[1] https://review.opendev.org/742879

Change-Id: Ia6dfab215db96a003406dda0ff19315051757752
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/77/743477/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,0e13f26d4b460e9a85c07c0ed7f9800999b4850e,, - tripleo-ci-centos-7-standalone-upgrade-stein - tripleo-ci-centos-7-standalone-upgrade-stein,,2,0
openstack%2Ftripleo-quickstart~master~I32793b94525ece1e64f7924f3f29a7dc2655a588,openstack/tripleo-quickstart,master,I32793b94525ece1e64f7924f3f29a7dc2655a588,Add native variable to locally build containers,MERGED,2020-07-27 22:42:03.000000000,2020-08-04 17:05:37.000000000,2020-08-04 16:58:44.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-27 22:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/290f4fb0197507387cc1c88375732a8c65ef1f73', 'message': 'WIP: add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nPartial-Bug: #1889122\nDepends-On: https://review.opendev.org/743432\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}, {'number': 2, 'created': '2020-07-27 22:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8045e3bc69eb76020efda60bfb27d431aa8a4c7a', 'message': 'WIP: add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nPartial-Bug: #1889122\nDepends-On: https://review.opendev.org/743432\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}, {'number': 3, 'created': '2020-07-27 23:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6ce14d3d2521b39ca593c515793cc8fb57c2e014', 'message': 'WIP: add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nPartial-Bug: #1889122\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}, {'number': 4, 'created': '2020-07-28 02:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b2aea0e5d32027bdaf46ad1ec3dfbab6966cb4d9', 'message': 'WIP: add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nPartial-Bug: #1889122\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}, {'number': 5, 'created': '2020-07-28 08:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f823c6dbdf71ae8829ef1f1c492ef97ca07c1047', 'message': 'Add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nPartial-Bug: #1889122\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}, {'number': 6, 'created': '2020-07-28 11:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/643e2c644747559cff9ddd24a4c4aec4ddeb68e2', 'message': 'Add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nPartial-Bug: #1889122\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}, {'number': 7, 'created': '2020-07-29 10:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8612c6bbe9ef8db6fb1bcffd363f35d05dead4fb', 'message': 'Add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nDepends-On: https://review.opendev.org/#/c/743691/\n\nPartial-Bug: #1889122\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}, {'number': 8, 'created': '2020-08-03 16:32:00.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/ussuri.yml', 'config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bde0d0084ce37a4e66f74e1c2164eaea06cb3b51', 'message': 'Add native variable to locally build containers\n\natm there is an option to turn on local container\nbuilds for standalone that is defined in zuul only.\nATM we are considering turning this on for all standalone\nmaster jobs to reduce the load on docker.io\n\nThis change updates the release vars to to switch it\non for master.  By default in standalone role master\nand ussuri will build locally.\n\nDepends-On: https://review.opendev.org/#/c/743691/\n\nPartial-Bug: #1889122\nChange-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588\n'}]",0,743433,bde0d0084ce37a4e66f74e1c2164eaea06cb3b51,48,10,8,9592,,,0,"Add native variable to locally build containers

atm there is an option to turn on local container
builds for standalone that is defined in zuul only.
ATM we are considering turning this on for all standalone
master jobs to reduce the load on docker.io

This change updates the release vars to to switch it
on for master.  By default in standalone role master
and ussuri will build locally.

Depends-On: https://review.opendev.org/#/c/743691/

Partial-Bug: #1889122
Change-Id: I32793b94525ece1e64f7924f3f29a7dc2655a588
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/743433/8 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,290f4fb0197507387cc1c88375732a8c65ef1f73,dos_docker.io, # job.build_container_images is defined in zuul as a # direct var. adding build_container_images as tqe # var so that we can turn this on/off per release w/o # changing zuul and breaking jobs via inheritance. docker_registry_host: >- {% if job is defined and job.build_container_images is defined and job.build_container_images|default(false)|bool or build_container_images|default(false)|bool -%} '127.0.0.1:5001' {%- else -%} 'docker.io' {%- endif -%},"docker_registry_host: ""{{ job.build_container_images|default(false)|bool | ternary('127.0.0.1:5001', 'docker.io') }}""",14,1
openstack%2Ftripleo-common~stable%2Fussuri~I415eec5d307ac73456aa556db9d61ceac1eaa565,openstack/tripleo-common,stable/ussuri,I415eec5d307ac73456aa556db9d61ceac1eaa565,Handle redirects for blobs better,MERGED,2020-08-03 13:03:59.000000000,2020-08-04 17:05:20.000000000,2020-08-04 16:59:00.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 13:03:59.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa4825cb53fc4d0b0740f4b4834cf702fcd19f66', 'message': ""Handle redirects for blobs better\n\nThis patch adds a new function that checks if a response was a redirect\nfor an a request and removes the Authorization header that we usually\nsend if it is not one of our trusted hosts. This prevents authorization\nkeys from going to insecure places. This is similar logic that exists in\nthe moby registry code[0].\n\nAdditionally improves the cachability of blobs from docker.io because\nthey are redirects to files that exist on a CDN that doesn't actually\nrequire authentication. The upstream CI registry caching system doesn't\ncache any requests with the Authorization header per the apache cache\ndocumentation[1].\n\n[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174\n[1] https://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nPartial-Bug: #1889122\n(cherry picked from commit d3af31414747f28508e236b1fea8db7601fa2e7b)\n""}]",0,744466,aa4825cb53fc4d0b0740f4b4834cf702fcd19f66,10,6,1,14985,,,0,"Handle redirects for blobs better

This patch adds a new function that checks if a response was a redirect
for an a request and removes the Authorization header that we usually
send if it is not one of our trusted hosts. This prevents authorization
keys from going to insecure places. This is similar logic that exists in
the moby registry code[0].

Additionally improves the cachability of blobs from docker.io because
they are redirects to files that exist on a CDN that doesn't actually
require authentication. The upstream CI registry caching system doesn't
cache any requests with the Authorization header per the apache cache
documentation[1].

[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174
[1] https://httpd.apache.org/docs/2.4/caching.html

Change-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565
Partial-Bug: #1889122
(cherry picked from commit d3af31414747f28508e236b1fea8db7601fa2e7b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/744466/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,aa4825cb53fc4d0b0740f4b4834cf702fcd19f66,bug/1889122-stable/ussuri," 'registry.redhat.io', 'registry.access.redhat.com', def check_redirect_trusted(request_response, request_session, stream=True, timeout=30): """"""Check if we've been redirected to a trusted source Because we may be using auth, we may not want to leak authentication keys to an untrusted source. If we get a redirect, we need to check that the redirect url is one of our sources that we trust. Otherwise we drop the Authorization header from the redirect request. We'll add the header back into the request session after performing the request to ensure that future usage of the session. :param: request_response: Response object of the request to check :param: request_session: Session to use when redirecting :param: stream: Should we stream the response of the redirect :param: tiemout: Timeout for the redirect request """""" # we're not a redirect, just return the original response if not (request_response.status_code >= 300 and request_response.status_code < 400): return request_response # parse the destination location redir_url = parse.urlparse(request_response.headers['Location']) # close the response since we're going to replace it request_response.close() auth_header = request_session.headers.pop('Authorization', None) # ok we got a redirect, let's check where we are going if len([h for h in SECURE_REGISTRIES if h in redir_url.netloc]) > 0: # we're going to a trusted location, add the header back and # return response request_session.headers.update({'Authorization': auth_header}) request_response = request_session.get(redir_url.geturl(), stream=stream, timeout=timeout) else: # we didn't trust the place we're going, request without auth but # add the auth back to the request session afterwards request_response = request_session.get(redir_url.geturl(), stream=stream, timeout=timeout) request_session.headers.update({'Authorization': auth_header}) request_response.encoding = 'utf-8' # recheck status here to make sure we didn't get a 401 from # our redirect host path. RegistrySessionHelper.check_status(session=request_session, request=request_response) return request_response @staticmethod timeout=30, allow_redirects=False # check if the blob is a redirect config_r = RegistrySessionHelper.check_redirect_trusted( config_r, session, stream=False) with session.get(source_blob_url, stream=True, timeout=30, allow_redirects=False) as blob_req: # raise for status here to ensure we didn't got a 401 # Requests to docker.io redirect to CDN for the actual content # so we need to check if our initial blob request is a redirect # and follow as necessary. blob_req = RegistrySessionHelper.check_redirect_trusted(blob_req, session) timeout=30, allow_redirects=False # check if the blob was a redirect r = RegistrySessionHelper.check_redirect_trusted( r, source_session, stream=False)"," timeout=30 with session.get( source_blob_url, stream=True, timeout=30) as blob_req: # TODO(aschultz): unsure if necessary or if only when using .text timeout=30",144,8
openstack%2Ftripleo-validations~stable%2Fussuri~Id16ccf69888ceb03cc33e0627de5270f9c8f4b95,openstack/tripleo-validations,stable/ussuri,Id16ccf69888ceb03cc33e0627de5270f9c8f4b95,Make Get OSD stat percentage compatible with jq < 1.5,MERGED,2020-07-28 17:12:03.000000000,2020-08-04 16:59:02.000000000,2020-08-04 16:59:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-28 17:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1283efccfe118796063328513b1be90411047d37', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95\nCloses-Bug: #1889279\n(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)\n'}, {'number': 2, 'created': '2020-07-29 06:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bed67674747a0a8a56ebdf551142331d6693733d', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95\nCloses-Bug: #1889279\n(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)\n'}, {'number': 3, 'created': '2020-08-03 07:22:26.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1de1854bed64df83746f39a642a59d020e73820a', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95\nCloses-Bug: #1889279\n(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)\n'}]",1,743598,1de1854bed64df83746f39a642a59d020e73820a,16,7,3,25402,,,0,"Make Get OSD stat percentage compatible with jq < 1.5

On upgrades we're using validations (from train) against controller that
are still on queens. On queens jq package is <1.5 and the ""try"" keyword
is not available.
This purpose of this change is to fix this validations getting rid of
""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.

Change-Id: Id16ccf69888ceb03cc33e0627de5270f9c8f4b95
Closes-Bug: #1889279
(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/98/743598/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,1283efccfe118796063328513b1be90411047d37,, # 1.3+ <= jq <= 1.5 doesn't support try-catch: we rely on if - then -else approach to check if ceph has .osdmap layout jq_osd_percentage_filter: '(if .osdmap != null then { osds: (.osdmap.num_in_osds / .osdmap.num_osds * 100) } else { osds: (.num_in_osds / .num_osds * 100) } end) | .osds', jq_osd_percentage_filter: '( (.osdmap.num_in_osds) / (.osdmap.num_osds) ) * 100',2,1
openstack%2Ftripleo-validations~stable%2Fussuri~I8994aaadaf2feb806e70e1ea6dc87157012d1334,openstack/tripleo-validations,stable/ussuri,I8994aaadaf2feb806e70e1ea6dc87157012d1334,Remove mock as test requirement,MERGED,2020-07-15 08:14:29.000000000,2020-08-04 16:58:58.000000000,2020-08-04 16:58:58.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-15 08:14:29.000000000', 'files': ['tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py', 'tripleo_validations/tests/library/test_check_package_update.py', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1ae0e2c6c13a843db4bdd58a4bf789dbb7b9bd0b', 'message': 'Remove mock as test requirement\n\nNow that we have moved to py36 and later runtimes, we no longer need\nto use the third party mock library and can only use the standard\nlibrary unittest.mock instead.\n\nChange-Id: I8994aaadaf2feb806e70e1ea6dc87157012d1334\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit 315053448f5d18ecadc1f6dcbda7a8277619393c)\n'}]",0,741108,1ae0e2c6c13a843db4bdd58a4bf789dbb7b9bd0b,22,5,1,11491,,,0,"Remove mock as test requirement

Now that we have moved to py36 and later runtimes, we no longer need
to use the third party mock library and can only use the standard
library unittest.mock instead.

Change-Id: I8994aaadaf2feb806e70e1ea6dc87157012d1334
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit 315053448f5d18ecadc1f6dcbda7a8277619393c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/08/741108/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py', 'tripleo_validations/tests/library/test_check_package_update.py', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py']",3,1ae0e2c6c13a843db4bdd58a4bf789dbb7b9bd0b,unittest_migration-stable/ussuri,try: from unittest import mock except ImportError: import mock,from unittest import mock,16,6
openstack%2Fpuppet-tripleo~stable%2Ftrain~I4470236bb4bdff5356cfcbe98c9db0c00498ec68,openstack/puppet-tripleo,stable/train,I4470236bb4bdff5356cfcbe98c9db0c00498ec68,Switch includes to absolute,MERGED,2020-08-03 14:50:09.000000000,2020-08-04 16:58:53.000000000,2020-08-04 16:58:53.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 14:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0c0d5f35d514a0850501afea6b7eb6a2a4ddea4b', 'message': 'Switch includes to absolute\n\nWe had some cherry picks that pulled in relative inclusions rather than\nabsolute. We likely had a broken puppet-linter job so it didn\'t catch\nthem. Now that the job ""works"" we need to fix these incusions to be\nabsolute.\n\nChange-Id: I4470236bb4bdff5356cfcbe98c9db0c00498ec68\n'}, {'number': 2, 'created': '2020-08-03 22:03:09.000000000', 'files': ['manifests/certmonger/ovn_metadata.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/certmonger/ovn_octavia.pp', 'Gemfile', 'manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/dellemc_sc.pp', 'manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/base/cinder/volume/dellemc_xtremio.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/octavia/provider/ovn.pp', 'manifests/profile/base/cinder/volume/dellemc_powermax.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5ec551b0b79abeb923132343f25eb14c8c4f7d53', 'message': 'Switch includes to absolute\n\nWe had some cherry picks that pulled in relative inclusions rather than\nabsolute. We likely had a broken puppet-linter job so it didn\'t catch\nthem. Now that the job ""works"" we need to fix these incusions to be\nabsolute.\n\nAlso squash in switch to stable/train helper.\n\nChange-Id: I4470236bb4bdff5356cfcbe98c9db0c00498ec68\n'}]",0,744499,5ec551b0b79abeb923132343f25eb14c8c4f7d53,15,6,2,14985,,,0,"Switch includes to absolute

We had some cherry picks that pulled in relative inclusions rather than
absolute. We likely had a broken puppet-linter job so it didn't catch
them. Now that the job ""works"" we need to fix these incusions to be
absolute.

Also squash in switch to stable/train helper.

Change-Id: I4470236bb4bdff5356cfcbe98c9db0c00498ec68
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/99/744499/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/ovn_metadata.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/certmonger/ovn_octavia.pp', 'manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/cinder/volume/dellemc_sc.pp', 'manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/base/cinder/volume/dellemc_xtremio.pp', 'manifests/profile/base/designate/authtoken.pp', 'manifests/profile/base/octavia/provider/ovn.pp', 'manifests/profile/base/cinder/volume/dellemc_powermax.pp']",13,0c0d5f35d514a0850501afea6b7eb6a2a4ddea4b,gemfile-train, include ::tripleo::profile::base::cinder::volume, include tripleo::profile::base::cinder::volume,17,17
openstack%2Ftripleo-heat-templates~master~Ic606e751cb046c34d33a94a2acd4313f4043441f,openstack/tripleo-heat-templates,master,Ic606e751cb046c34d33a94a2acd4313f4043441f,Revamp how etcd's cert and key are handled in containers,MERGED,2020-07-21 18:58:53.000000000,2020-08-04 16:58:50.000000000,2020-08-04 16:58:50.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-21 18:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba83bfa642b90651dfacdf6da76cd4b75e0b5175', 'message': ""Remove hardcoded UID values for cinder and etcd\n\nReplace hardcoded values for cinder's and etcd's UID by dynamically\ndetermining the UID used by the associated containerized service. This\nensures the correct UID value is used regardless of whether the service\nis using kolla's or the distro's (e.g. RDO) numbering scheme.\n\nChange-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f\n""}, {'number': 2, 'created': '2020-07-29 17:27:47.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bcdd2448b2aafe99e17e3719cf224d1009099ec', 'message': ""Revamp how etcd's cert and key are handled in containers\n\nUse kolla_config to merge etcd's cert and key files into containers,\nand set the ownership so the corresponding service can read the files.\n\nPreviously, etcd's cert and key files were directly bind mounted\nin the etcd and cinder containers that need the files. An ACL was\nadded to ensure the corresponding services had read access to the\nfiles on the host, which are owned by root. The ACL was cumbersome,\nand required hardcoding the UID of each service.\n\nChange-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f\nDepends-On: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n""}]",10,742266,7bcdd2448b2aafe99e17e3719cf224d1009099ec,27,7,2,21129,,,0,"Revamp how etcd's cert and key are handled in containers

Use kolla_config to merge etcd's cert and key files into containers,
and set the ownership so the corresponding service can read the files.

Previously, etcd's cert and key files were directly bind mounted
in the etcd and cinder containers that need the files. An ACL was
added to ensure the corresponding services had read access to the
files on the host, which are owned by root. The ACL was cumbersome,
and required hardcoding the UID of each service.

Change-Id: Ic606e751cb046c34d33a94a2acd4313f4043441f
Depends-On: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/66/742266/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/etcd/etcd-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml']",2,ba83bfa642b90651dfacdf6da76cd4b75e0b5175,etcd-cert-revamp," block: - name: determine cinder's UID shell: ""{{container_cli}} run --rm --net=none {{cinder_volume_image}} id -u"" register: cinder_uid vars: cinder_volume_image: *cinder_volume_image - name: set acl on cert/key file acl: path: ""{{ item }}"" entity: ""{{ cinder_uid.stdout }}"" etype: user permissions: r state: present with_items: - /etc/pki/tls/certs/etcd.crt - /etc/pki/tls/private/etcd.key"," acl: path: ""{{ item }}"" entity: ""{{ 42407 | string }}"" etype: user permissions: r state: present with_items: - /etc/pki/tls/certs/etcd.crt - /etc/pki/tls/private/etcd.key",32,18
openstack%2Ftripleo-ci~master~I50756efc13768a74fcfb6f6b6518440a7fd5969f,openstack/tripleo-ci,master,I50756efc13768a74fcfb6f6b6518440a7fd5969f,Don't run multinode jobs in standalone playbook/roles changes,MERGED,2020-07-31 10:10:45.000000000,2020-08-04 16:58:48.000000000,2020-08-04 16:58:48.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 10:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/79f916ae80120bd15a051cb7916b781adc2f3002', 'message': ""Don't run multinode jobs in standalone roles changes\n\nNoticed in change https://review.opendev.org/#/c/743913/,\nchanges in standalone roles don't need multinode jobs to\nrun.\n\nChange-Id: I50756efc13768a74fcfb6f6b6518440a7fd5969f\n""}, {'number': 2, 'created': '2020-08-03 07:31:14.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d837b240bb9ef5424a5ee9ff1bd7c22c8ffd8d03', 'message': ""Don't run multinode jobs in standalone playbook/roles changes\n\nNoticed in change https://review.opendev.org/#/c/743913/,\nchanges in standalone roles don't need multinode jobs to\nrun, also [1] is adding playbook for standalone deployment\non virthost, add this playbook too in the exclude list\nof multinode jobs.\n\nChange-Id: I50756efc13768a74fcfb6f6b6518440a7fd5969f\n""}]",0,744113,d837b240bb9ef5424a5ee9ff1bd7c22c8ffd8d03,11,4,2,13861,,,0,"Don't run multinode jobs in standalone playbook/roles changes

Noticed in change https://review.opendev.org/#/c/743913/,
changes in standalone roles don't need multinode jobs to
run, also [1] is adding playbook for standalone deployment
on virthost, add this playbook too in the exclude list
of multinode jobs.

Change-Id: I50756efc13768a74fcfb6f6b6518440a7fd5969f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/744113/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,79f916ae80120bd15a051cb7916b781adc2f3002,744113, # tripleo-quickstart-extras - roles/standalone/.* - roles/standalone-upgrade/.*,,3,0
openstack%2Fnova~master~I7eb86edc130d186a66c04b229d46347ec5c0b625,openstack/nova,master,I7eb86edc130d186a66c04b229d46347ec5c0b625,libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices,MERGED,2020-07-16 23:52:57.000000000,2020-08-04 16:43:41.000000000,2020-07-22 12:52:54.000000000,"[{'_account_id': 4690}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-16 23:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4fe9811be724040a8a4f92f6c34aec7661a40bc', 'message': 'WIP libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 by bb189c8 (qemu: Introduce\nVIR_ERR_DEVICE_MISSING) this error code replaces the previously\nraised VIR_ERR_INVALID_ARG and VIR_ERR_OPERATION_FAILED.\n\nCloses-Bug: #TODO\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n'}, {'number': 2, 'created': '2020-07-17 12:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96a9b5eb1b722d1afb09580b53063ecbdddc228b', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 by bb189c8 [1] (qemu: Introduce\nVIR_ERR_DEVICE_MISSING) this error code replaces the previously\nraised VIR_ERR_INVALID_ARG and VIR_ERR_OPERATION_FAILED codes.\n\nThis change is mostly test code motion ensuring both the new and old\nbehaviour is supported until we can drop these codes.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n'}, {'number': 3, 'created': '2020-07-17 15:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8946820f6f00f01248ad6c4cf18ac5b5e5e355b', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 by bb189c8 [1] (qemu: Introduce\nVIR_ERR_DEVICE_MISSING) this error code replaces the previously\nraised VIR_ERR_INVALID_ARG and VIR_ERR_OPERATION_FAILED codes.\n\nThis change is mostly test code motion ensuring both the new and old\nbehaviour is supported until we can drop these codes.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n'}, {'number': 4, 'created': '2020-07-20 15:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8aea4ee468bcc3641876bd6c33e1ed1c7e942f34', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 [1] this error code replaces the previously\nraised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and\nVIR_ERR_INVALID_ARG codes [2][3].\n\nVIR_ERR_OPERATION_FAILED was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI131aaf28d2f5d5d964d4045e3d7d62207079cfb0.\n\nVIR_ERR_INTERNAL_ERROR was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI3055cd7641de92ab188de73733ca9288a9ca730a.\n\nVIR_ERR_INVALID_ARG was introduced and tested as an\ninactive/persistent/cold unplug config device detach error code in\nI09230fc47b0950aa5a3db839a070613c9c817576.\n\nThis change introduces support for the new VIR_ERR_DEVICE_MISSING error\ncode while also retaining coverage for these codes until\nMIN_LIBVIRT_VERSION is bumped past v4.1.0.\n\nThe majority of this change is test code motion with the existing tests\nbeing modified to run against either the active or inactive versions of\nthe above  error codes for the time being.\n\ntest_detach_device_with_retry_operation_internal and\ntest_detach_device_with_retry_invalid_argument_no_live have been removed\nas they duplicate the logic within the now refactored\n_test_detach_device_with_retry_second_detach_failure.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7\n[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n'}, {'number': 5, 'created': '2020-07-21 21:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c444fc2bd55f4d572b00e95e0aae8bee50df7c2', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 [1] this error code replaces the previously\nraised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and\nVIR_ERR_INVALID_ARG codes [2][3].\n\nVIR_ERR_OPERATION_FAILED was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI131aaf28d2f5d5d964d4045e3d7d62207079cfb0.\n\nVIR_ERR_INTERNAL_ERROR was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI3055cd7641de92ab188de73733ca9288a9ca730a.\n\nVIR_ERR_INVALID_ARG was introduced and tested as an\ninactive/persistent/cold unplug config device detach error code in\nI09230fc47b0950aa5a3db839a070613c9c817576.\n\nThis change introduces support for the new VIR_ERR_DEVICE_MISSING error\ncode while also retaining coverage for these codes until\nMIN_LIBVIRT_VERSION is bumped past v4.1.0.\n\nThe majority of this change is test code motion with the existing tests\nbeing modified to run against either the active or inactive versions of\nthe above  error codes for the time being.\n\ntest_detach_device_with_retry_operation_internal and\ntest_detach_device_with_retry_invalid_argument_no_live have been removed\nas they duplicate the logic within the now refactored\n_test_detach_device_with_retry_second_detach_failure.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7\n[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n'}, {'number': 6, 'created': '2020-07-22 08:33:19.000000000', 'files': ['nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_guest.py', 'nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/902f09af251d2b2e56fb2f2900a3510baf38a508', 'message': 'libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices\n\nIntroduced in libvirt v4.1.0 [1] this error code replaces the previously\nraised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and\nVIR_ERR_INVALID_ARG codes [2][3].\n\nVIR_ERR_OPERATION_FAILED was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI131aaf28d2f5d5d964d4045e3d7d62207079cfb0.\n\nVIR_ERR_INTERNAL_ERROR was introduced and tested as an\nactive/live/hot unplug config device detach error code in\nI3055cd7641de92ab188de73733ca9288a9ca730a.\n\nVIR_ERR_INVALID_ARG was introduced and tested as an\ninactive/persistent/cold unplug config device detach error code in\nI09230fc47b0950aa5a3db839a070613c9c817576.\n\nThis change introduces support for the new VIR_ERR_DEVICE_MISSING error\ncode while also retaining coverage for these codes until\nMIN_LIBVIRT_VERSION is bumped past v4.1.0.\n\nThe majority of this change is test code motion with the existing tests\nbeing modified to run against either the active or inactive versions of\nthe above  error codes for the time being.\n\ntest_detach_device_with_retry_operation_internal and\ntest_detach_device_with_retry_invalid_argument_no_live have been removed\nas they duplicate the logic within the now refactored\n_test_detach_device_with_retry_second_detach_failure.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7\n[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de\n\nCloses-Bug: #1887946\nChange-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625\n'}]",25,741561,902f09af251d2b2e56fb2f2900a3510baf38a508,63,14,6,10135,,,0,"libvirt: Handle VIR_ERR_DEVICE_MISSING when detaching devices

Introduced in libvirt v4.1.0 [1] this error code replaces the previously
raised VIR_ERR_INVALID_ARG, VIR_ERR_OPERATION_FAILED and
VIR_ERR_INVALID_ARG codes [2][3].

VIR_ERR_OPERATION_FAILED was introduced and tested as an
active/live/hot unplug config device detach error code in
I131aaf28d2f5d5d964d4045e3d7d62207079cfb0.

VIR_ERR_INTERNAL_ERROR was introduced and tested as an
active/live/hot unplug config device detach error code in
I3055cd7641de92ab188de73733ca9288a9ca730a.

VIR_ERR_INVALID_ARG was introduced and tested as an
inactive/persistent/cold unplug config device detach error code in
I09230fc47b0950aa5a3db839a070613c9c817576.

This change introduces support for the new VIR_ERR_DEVICE_MISSING error
code while also retaining coverage for these codes until
MIN_LIBVIRT_VERSION is bumped past v4.1.0.

The majority of this change is test code motion with the existing tests
being modified to run against either the active or inactive versions of
the above  error codes for the time being.

test_detach_device_with_retry_operation_internal and
test_detach_device_with_retry_invalid_argument_no_live have been removed
as they duplicate the logic within the now refactored
_test_detach_device_with_retry_second_detach_failure.

[1] https://libvirt.org/git/?p=libvirt.git;a=commit;h=bb189c8e8c93f115c13fa3bfffdf64498f3f0ce1
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=126db34a81bc9f9f9710408f88cceaa1e34bbbd7
[3] https://libvirt.org/git/?p=libvirt.git;a=commit;h=2f54eab7c7c618811de23c60a51e910274cf30de

Closes-Bug: #1887946
Change-Id: I7eb86edc130d186a66c04b229d46347ec5c0b625
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/741561/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,d4fe9811be724040a8a4f92f6c34aec7661a40bc,bug/1887946," libvirt.VIR_ERR_INTERNAL_ERROR, libvirt.VIR_ERR_DEVICE_MISSING):", libvirt.VIR_ERR_INTERNAL_ERROR):,2,1
openstack%2Fwhitebox-tempest-plugin~master~Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a,openstack/whitebox-tempest-plugin,master,Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a,Remove tempest and oslo.log from requirements.txt,MERGED,2020-07-29 19:34:38.000000000,2020-08-04 16:41:34.000000000,2020-08-04 16:41:34.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2020-07-29 19:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6bdee9ec1a7e0539c7603d68476399759f2efbfd', 'message': 'Remove tempest from requirements.txt\n\nWe obviously still need tempest. By removing it from requirements.txt,\nwe enable environments where tempest has already been installed by\nother means, for example in a CI environment where tempest is\ninstalled via RPM. By not installing tempest with pip, we avoid all\nthe potential dependency conflicts between the distutils-installed\ntempest and its dependencies, and what pip would pull in.\n\nChange-Id: Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a\n'}, {'number': 2, 'created': '2020-07-29 23:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/26b2b922953a72a6c3cba7c4630579e0df3c2c8e', 'message': ""Remove tempest from requirements.txt\n\nWe obviously still need tempest. By removing it from requirements.txt,\nwe enable environments where tempest has already been installed by\nother means, for example in a CI environment where tempest is\ninstalled via RPM. By not installing tempest with pip, we avoid all\nthe potential dependency conflicts between the distutils-installed\ntempest and its dependencies, and what pip would pull in.\n\nTempest has to be added to test-requirements.txt to make sure our\nnon-devstack gate jobs pass, since they don't have devstack to install\ntempest for them.\n\nChange-Id: Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a\n""}, {'number': 3, 'created': '2020-07-30 14:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c9a926df8362aa7e171a20fd294da632e37a94c4', 'message': ""Remove tempest from requirements.txt\n\nWe obviously still need tempest. By removing it from requirements.txt,\nwe enable environments where tempest has already been installed by\nother means, for example in a CI environment where tempest is\ninstalled via RPM. By not installing tempest with pip, we avoid all\nthe potential dependency conflicts between the distutils-installed\ntempest and its dependencies, and what pip would pull in.\n\nTempest has to be added to test-requirements.txt to make sure our\nnon-devstack gate jobs pass, since they don't have devstack to install\ntempest for them.\n\nChange-Id: Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a\n""}, {'number': 4, 'created': '2020-07-30 15:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/44c6d936e11535e221aca3929e9c7bb083cfc42a', 'message': ""Remove tempest from requirements.txt\n\nWe obviously still need tempest. By removing it from requirements.txt,\nwe enable environments where tempest has already been installed by\nother means, for example in a CI environment where tempest is\ninstalled via RPM. By not installing tempest with pip, we avoid all\nthe potential dependency conflicts between the distutils-installed\ntempest and its dependencies, and what pip would pull in.\n\nTempest has to be added to test-requirements.txt to make sure our\nnon-devstack gate jobs pass, since they don't have devstack to install\ntempest for them.\n\nChange-Id: Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a\n""}, {'number': 5, 'created': '2020-07-30 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/68b8220f409ebd62ba8c7bd656f6d30ef77df263', 'message': ""Remove tempest and oslo.log from requirements.txt\n\nWe obviously still need tempest and oslo.log. By removing them from\nrequirements.txt, we enable environments where tempest (and oslo.log\nas its dependency) have already been installed by other means, for\nexample in a CI environment where tempest is installed via RPM. By not\ninstalling tempest and oslo.log with pip, we avoid all the potential\ndependency conflicts between the distutils packages and their\ndependencies, and what pip would pull in.\n\nTempest has to be added to test-requirements.txt to make sure our\nnon-devstack gate jobs pass, since they don't have devstack to install\ntempest for them.\n\nChange-Id: Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a\n""}, {'number': 6, 'created': '2020-07-30 16:09:24.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/eb43bd91ddd770ac9e851848d50fb4a19c4ea28a', 'message': ""Remove tempest and oslo.log from requirements.txt\n\nWe obviously still need tempest and oslo.log. By removing them from\nrequirements.txt, we enable environments where tempest (and oslo.log\nas its dependency) have already been installed by other means, for\nexample in a CI environment where tempest is installed via RPM. By not\ninstalling tempest and oslo.log with pip, we avoid all the potential\ndependency conflicts between the distutils packages and their\ndependencies, and what pip would pull in.\n\nTempest has to be added to test-requirements.txt to make sure our\nnon-devstack gate jobs pass, since they don't have devstack to install\ntempest for them.\n\nChange-Id: Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a\n""}]",4,743830,eb43bd91ddd770ac9e851848d50fb4a19c4ea28a,24,4,6,8864,,,0,"Remove tempest and oslo.log from requirements.txt

We obviously still need tempest and oslo.log. By removing them from
requirements.txt, we enable environments where tempest (and oslo.log
as its dependency) have already been installed by other means, for
example in a CI environment where tempest is installed via RPM. By not
installing tempest and oslo.log with pip, we avoid all the potential
dependency conflicts between the distutils packages and their
dependencies, and what pip would pull in.

Tempest has to be added to test-requirements.txt to make sure our
non-devstack gate jobs pass, since they don't have devstack to install
tempest for them.

Change-Id: Ifbeb3bde160be50758a16c0aaa94ac95a6445d4a
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/30/743830/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,6bdee9ec1a7e0539c7603d68476399759f2efbfd,,,tempest,0,1
openstack%2Ftripleo-upgrade~master~Ic623568c6b8048538047d37b6c07f3dcbf2998dc,openstack/tripleo-upgrade,master,Ic623568c6b8048538047d37b6c07f3dcbf2998dc,Run ceph upgrade after converge,MERGED,2020-05-28 08:35:07.000000000,2020-08-04 16:41:21.000000000,2020-06-03 15:20:53.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11444}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-28 08:35:07.000000000', 'files': ['tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8ffdec14cfb17f65eb0f9e906f532c1446d9d63c', 'message': 'Run ceph upgrade after converge\n\nWe are pushing ceph upgrade step out from converge to:\n1) Allow leaving maintenance window and running ceph upgrade later\n2) Reset the heat state removing ffwd environment variables and\n   setting the heat ceph container image to proper ceph4 version.\n\nChange-Id: Ic623568c6b8048538047d37b6c07f3dcbf2998dc\n'}]",2,731466,8ffdec14cfb17f65eb0f9e906f532c1446d9d63c,14,5,1,11166,,,0,"Run ceph upgrade after converge

We are pushing ceph upgrade step out from converge to:
1) Allow leaving maintenance window and running ceph upgrade later
2) Reset the heat state removing ffwd environment variables and
   setting the heat ceph container image to proper ceph4 version.

Change-Id: Ic623568c6b8048538047d37b6c07f3dcbf2998dc
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/731466/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/main.yml'],1,8ffdec14cfb17f65eb0f9e906f532c1446d9d63c,ffwd-upgrade3," ################ UPGRADE CONVERGE ############### - name: apply pre ffu overcloud converge workarounds shell: | set -o pipefail bash pre_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge - name: import overcloud upgrade converge tasks import_tasks: ../upgrade/overcloud_upgrade_converge.yml tags: ffu_overcloud_converge - name: apply post ffu overcloud converge workarounds shell: | set -o pipefail bash post_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge ############## POST UPGRADE ##############"," ################ UPGRADE CONVERGE ############### - name: apply pre ffu overcloud converge workarounds shell: | set -o pipefail bash pre_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge - name: import overcloud upgrade converge tasks import_tasks: ../upgrade/overcloud_upgrade_converge.yml tags: ffu_overcloud_converge - name: apply post ffu overcloud converge workarounds shell: | set -o pipefail bash post_ffu_overcloud_converge_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ffu_overcloud_converge_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool tags: ffu_overcloud_converge ",24,23
openstack%2Ftripleo-ansible~master~I25c0ef24fb2e27337bf06d029a8591dd2755ddb0,openstack/tripleo-ansible,master,I25c0ef24fb2e27337bf06d029a8591dd2755ddb0,bar: Spelling type fixed on authentication word,MERGED,2020-07-21 06:52:08.000000000,2020-08-04 16:39:26.000000000,2020-08-04 16:39:26.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-21 06:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59321725b0c0a5eb57a0637c96447d6d33800599', 'message': 'bar: Spelling type fixed on authentication word\n\nChange-Id: I25c0ef24fb2e27337bf06d029a8591dd2755ddb0\n'}, {'number': 2, 'created': '2020-07-29 08:12:16.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d837d2c2f5e35a4732017cd9fcd29be11f1a40b', 'message': 'bar: Spelling type fixed on authentication word\n\nChange-Id: I25c0ef24fb2e27337bf06d029a8591dd2755ddb0\n'}]",0,742078,8d837d2c2f5e35a4732017cd9fcd29be11f1a40b,11,4,2,22954,,,0,"bar: Spelling type fixed on authentication word

Change-Id: I25c0ef24fb2e27337bf06d029a8591dd2755ddb0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/742078/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/ceph_authentication.yml'],1,59321725b0c0a5eb57a0637c96447d6d33800599,bar_typo, register: bar_ceph_authentication_content {{ bar_ceph_authentication_content.stdout }}, register: bar_ceph_autentication_content {{ bar_ceph_autentication_content.stdout }},2,2
openstack%2Ftripleo-ansible~master~I153b56ad19c9a9f6eea23a0a64eb78c02cbe30ce,openstack/tripleo-ansible,master,I153b56ad19c9a9f6eea23a0a64eb78c02cbe30ce,Hide CA passphrase in Octavia tasks,MERGED,2020-07-30 08:30:35.000000000,2020-08-04 16:39:25.000000000,2020-08-04 16:39:25.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 08:30:35.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe46012f8781407f9289530899e4426e4ff5399e', 'message': 'Hide CA passphrase in Octavia tasks\n\nUse environment variables for passphrases in openssl related tasks in\nOctavia roles. It hides plain text passphrases from deployment logs.\n\nChange-Id: I153b56ad19c9a9f6eea23a0a64eb78c02cbe30ce\nCloses-Bug: 1889523\n'}]",0,743924,fe46012f8781407f9289530899e4426e4ff5399e,10,6,1,29244,,,0,"Hide CA passphrase in Octavia tasks

Use environment variables for passphrases in openssl related tasks in
Octavia roles. It hides plain text passphrases from deployment logs.

Change-Id: I153b56ad19c9a9f6eea23a0a64eb78c02cbe30ce
Closes-Bug: 1889523
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/743924/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/octavia_overcloud_config/tasks/certs_gen.yml'],1,fe46012f8781407f9289530899e4426e4ff5399e,," openssl genrsa -passout env:CA_PASSPHRASE -aes256 \ -out {{ openssl_temp_dir }}/private/cakey.pem 2048 environment: CA_PASSPHRASE: ""{{ ca_passphrase }}"" -passin env:CA_PASSPHRASE \ -passout env:CA_PASSPHRASE \ environment: CA_PASSPHRASE: ""{{ ca_passphrase }}"" openssl req -x509 -passin env:CA_PASSPHRASE -new -nodes \ -key {{ openssl_temp_dir }}/private/cakey.pem \ environment: CA_PASSPHRASE: ""{{ ca_passphrase }}"" openssl ca -config {{ openssl_temp_dir }}/openssl.cnf \ -passin env:CA_PASSPHRASE -in {{ openssl_temp_dir }}/client.csr \ environment: CA_PASSPHRASE: ""{{ ca_passphrase }}""", openssl genrsa -passout pass:{{ ca_passphrase }} -aes256 -out {{ openssl_temp_dir }}/private/cakey.pem 2048 -passin pass:{{ ca_passphrase }} \ -passout pass:{{ ca_passphrase }} \ openssl req -x509 -passin pass:{{ ca_passphrase }} -new -nodes -key {{ openssl_temp_dir }}/private/cakey.pem \ openssl ca -config {{ openssl_temp_dir }}/openssl.cnf -passin pass:{{ ca_passphrase }} -in {{ openssl_temp_dir }}/client.csr \,16,5
openstack%2Ftripleo-ansible~master~Iec44b5c97f7427f54279343ffb87b653bcb1832c,openstack/tripleo-ansible,master,Iec44b5c97f7427f54279343ffb87b653bcb1832c,Ensure jq installed,MERGED,2020-08-03 12:58:44.000000000,2020-08-04 16:35:04.000000000,2020-08-04 16:21:07.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 12:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/99b3e79b825e8e1cd9c250510be9d228ac6f4a7a', 'message': 'Ensure jq installed\n\nThis role needs jq for the molecule testing.\n\nChange-Id: Iec44b5c97f7427f54279343ffb87b653bcb1832c\n'}, {'number': 2, 'created': '2020-08-03 13:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/83fa35dfafecb249d62af519b4f11fd415130209', 'message': 'Ensure jq installed\n\nThis role needs jq for the molecule testing.\n\nChange-Id: Iec44b5c97f7427f54279343ffb87b653bcb1832c\n'}, {'number': 3, 'created': '2020-08-03 13:55:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/94dbec8c8a898c76e191938f3e31ce7d2f3a2866', 'message': 'Ensure jq installed\n\nThis role needs jq for the molecule testing.\n\nChange-Id: Iec44b5c97f7427f54279343ffb87b653bcb1832c\n'}]",0,744464,94dbec8c8a898c76e191938f3e31ce7d2f3a2866,12,3,3,14985,,,0,"Ensure jq installed

This role needs jq for the molecule testing.

Change-Id: Iec44b5c97f7427f54279343ffb87b653bcb1832c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/744464/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nvdimm/molecule/default/prepare.yml'],1,99b3e79b825e8e1cd9c250510be9d228ac6f4a7a,bug/1888853, tasks: - name: Install jq package: name: jq state: present,,5,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Ib0f0f8bd4df8b52215eb65498ac0fcafc5e69db0,openstack/openstack-ansible-openstack_hosts,master,Ib0f0f8bd4df8b52215eb65498ac0fcafc5e69db0,Drop redhat.yml vars file,ABANDONED,2020-08-04 12:19:22.000000000,2020-08-04 16:31:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 12:19:22.000000000', 'files': ['templates/openstack-host-hostfile-setup.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/9d487fc01155cd4d78d6ea9802bba8607d2f1176', 'message': ""Drop redhat.yml vars file\n\nSince variables are specified per specific os versions,\nwe don't need to carry non-versionied file and decrease possible issues\ncaused by it.\n\nChange-Id: Ib0f0f8bd4df8b52215eb65498ac0fcafc5e69db0\n""}]",0,744692,9d487fc01155cd4d78d6ea9802bba8607d2f1176,3,1,1,28619,,,0,"Drop redhat.yml vars file

Since variables are specified per specific os versions,
we don't need to carry non-versionied file and decrease possible issues
caused by it.

Change-Id: Ib0f0f8bd4df8b52215eb65498ac0fcafc5e69db0
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/92/744692/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openstack-host-hostfile-setup.sh.j2'],1,9d487fc01155cd4d78d6ea9802bba8607d2f1176,,"#!/usr/bin/env bash # {{ ansible_managed }} set -x function insert_host_entry { ENTRY=$1 ADDR=$2 if [[ ""$(grep ""^${ADDR}\b"" /etc/hosts | wc -l)"" -ge ""2"" ]]; then sed -i ""/^${ADDR}\b/d"" /etc/hosts echo ""${ENTRY}"" | tee -a /etc/hosts elif grep -q ""^${ADDR}\b"" /etc/hosts; then sed -i ""s|^${ADDR}\b.*|${ENTRY}|"" /etc/hosts elif ! grep -q ""^${ENTRY}$"" /etc/hosts; then echo ""${ENTRY}"" | tee -a /etc/hosts fi } function host_update { ANSHOSTNAME=$1 RFCHOSTNAME=$2 INVHOSTNAME=$3 IPADDR=$4 DOMAINNAME=$5 if [[ ""${ANSHOSTNAME}"" != ""${RFCHOSTNAME}"" ]] && [[ ""${RFCHOSTNAME}"" != ""${INVHOSTNAME}"" ]]; then insert_host_entry ""${IPADDR} ${ANSHOSTNAME}.${DOMAINNAME} ${RFCHOSTNAME} ${INVHOSTNAME} ${ANSHOSTNAME}"" ""${IPADDR}"" elif [[ ""${ANSHOSTNAME}"" != ""${RFCHOSTNAME}"" ]] && [[ ""${RFCHOSTNAME}"" == ""${INVHOSTNAME}"" ]]; then insert_host_entry ""${IPADDR} ${ANSHOSTNAME}.${DOMAINNAME} ${RFCHOSTNAME} ${ANSHOSTNAME}"" ""${IPADDR}"" elif [[ ""${ANSHOSTNAME}"" == ""${RFCHOSTNAME}"" ]] && [[ ""${RFCHOSTNAME}"" == ""${INVHOSTNAME}"" ]]; then insert_host_entry ""${IPADDR} ${ANSHOSTNAME}.${DOMAINNAME} ${RFCHOSTNAME}"" ""${IPADDR}"" else insert_host_entry ""${IPADDR} ${ANSHOSTNAME}.${DOMAINNAME} ${RFCHOSTNAME} ${INVHOSTNAME}"" ""${IPADDR}"" fi } {% for item in groups['all'] %} {% set target_rfc_1034_1035_name = item|replace('_', '-') %} host_update ""{{ hostvars[item]['ansible_hostname']|default(target_rfc_1034_1035_name) }}"" \ ""{{ target_rfc_1034_1035_name }}"" \ ""{{ item }}"" \ ""{{ hostvars[item]['ansible_host'] | default(""127.0.0.1"") }}"" \ ""{{ openstack_domain }}"" {% endfor %} sha1sum /etc/hosts|awk '{print $1}' ",,47,0
openstack%2Ftripleo-ansible~stable%2Fussuri~If8f53f900070bb714662e519b4017d963af30ccc,openstack/tripleo-ansible,stable/ussuri,If8f53f900070bb714662e519b4017d963af30ccc,Refetch task,MERGED,2020-08-03 12:52:41.000000000,2020-08-04 16:21:09.000000000,2020-08-04 16:21:08.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 12:52:41.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/466321ac597155676f30ccda59bbfb189a8139cf', 'message': 'Refetch task\n\nWhen we grab the task to execute, use the one we fetch to advance the\nhost rather than the peeked version.\n\nChange-Id: If8f53f900070bb714662e519b4017d963af30ccc\n(cherry picked from commit ccb5cde76f2bf99bd47e2919dc01e83f140bf983)\n'}]",0,744461,466321ac597155676f30ccda59bbfb189a8139cf,7,3,1,14985,,,0,"Refetch task

When we grab the task to execute, use the one we fetch to advance the
host rather than the peeked version.

Change-Id: If8f53f900070bb714662e519b4017d963af30ccc
(cherry picked from commit ccb5cde76f2bf99bd47e2919dc01e83f140bf983)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/61/744461/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,466321ac597155676f30ccda59bbfb189a8139cf,fix-host-advance-stable/ussuri," # Refetch the task without peek (_, task) = self._iterator.get_next_task_for_host(host)"," # we already have the task and state from our peek call so we don't # need these again. This call just pops it of the task list for the # host. (_, _) = self._iterator.get_next_task_for_host(host)",2,4
openstack%2Ftripleo-ansible~stable%2Ftrain~If8f53f900070bb714662e519b4017d963af30ccc,openstack/tripleo-ansible,stable/train,If8f53f900070bb714662e519b4017d963af30ccc,Refetch task,MERGED,2020-08-03 12:52:47.000000000,2020-08-04 16:21:06.000000000,2020-08-04 16:21:06.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 12:52:47.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8fec0c80c2f39df701f7b1a727ce81d73e9bc522', 'message': 'Refetch task\n\nWhen we grab the task to execute, use the one we fetch to advance the\nhost rather than the peeked version.\n\nChange-Id: If8f53f900070bb714662e519b4017d963af30ccc\n(cherry picked from commit ccb5cde76f2bf99bd47e2919dc01e83f140bf983)\n'}]",0,744462,8fec0c80c2f39df701f7b1a727ce81d73e9bc522,7,3,1,14985,,,0,"Refetch task

When we grab the task to execute, use the one we fetch to advance the
host rather than the peeked version.

Change-Id: If8f53f900070bb714662e519b4017d963af30ccc
(cherry picked from commit ccb5cde76f2bf99bd47e2919dc01e83f140bf983)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/62/744462/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,8fec0c80c2f39df701f7b1a727ce81d73e9bc522,fix-host-advance-stable/train," # Refetch the task without peek (_, task) = self._iterator.get_next_task_for_host(host)"," # we already have the task and state from our peek call so we don't # need these again. This call just pops it of the task list for the # host. (_, _) = self._iterator.get_next_task_for_host(host)",2,4
openstack%2Fvitrage-dashboard~master~Ief055dbc611ef8e53c7bca5c8130614ff8e3ae22,openstack/vitrage-dashboard,master,Ief055dbc611ef8e53c7bca5c8130614ff8e3ae22,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:42.000000000,2020-08-04 15:45:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-04 03:33:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/5213d2f966581081c793f017c55fab8530314940', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40226\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ief055dbc611ef8e53c7bca5c8130614ff8e3ae22\n'}]",0,744629,5213d2f966581081c793f017c55fab8530314940,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40226

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ief055dbc611ef8e53c7bca5c8130614ff8e3ae22
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/29/744629/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5213d2f966581081c793f017c55fab8530314940,migrate-to-focal,#test focal,,1,0
openstack%2Fpython-zaqarclient~master~I83b7ba0d0fc0f09f5e714cf6fd494cb00ba57b28,openstack/python-zaqarclient,master,I83b7ba0d0fc0f09f5e714cf6fd494cb00ba57b28,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:34:14.000000000,2020-08-04 15:45:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:34:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/892c389344e7870862a89b69b0d935f928594d35', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40229\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I83b7ba0d0fc0f09f5e714cf6fd494cb00ba57b28\n'}]",0,744636,892c389344e7870862a89b69b0d935f928594d35,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40229

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I83b7ba0d0fc0f09f5e714cf6fd494cb00ba57b28
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/36/744636/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,892c389344e7870862a89b69b0d935f928594d35,migrate-to-focal,#test focal,,1,0
openstack%2Fzaqar-tempest-plugin~master~I5da8ed8555fb5b01c88f7f7ca9c6c267e2e0eb29,openstack/zaqar-tempest-plugin,master,I5da8ed8555fb5b01c88f7f7ca9c6c267e2e0eb29,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:34:18.000000000,2020-08-04 15:44:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:34:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar-tempest-plugin/commit/2b23af5f1ce782a19b831ef42cc98272f1da0f63', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40229\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I5da8ed8555fb5b01c88f7f7ca9c6c267e2e0eb29\n'}]",0,744638,2b23af5f1ce782a19b831ef42cc98272f1da0f63,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40229

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I5da8ed8555fb5b01c88f7f7ca9c6c267e2e0eb29
",git fetch https://review.opendev.org/openstack/zaqar-tempest-plugin refs/changes/38/744638/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2b23af5f1ce782a19b831ef42cc98272f1da0f63,migrate-to-focal,#test focal,,1,0
openstack%2Foswin-tempest-plugin~master~I964374e88ac0bc343923dd9e370b8de67b18e7ad,openstack/oswin-tempest-plugin,master,I964374e88ac0bc343923dd9e370b8de67b18e7ad,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:56.000000000,2020-08-04 15:44:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:33:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/a385971d3a6953c5410c360c27aef5053f4d6158', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40228\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I964374e88ac0bc343923dd9e370b8de67b18e7ad\n'}]",0,744633,a385971d3a6953c5410c360c27aef5053f4d6158,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40228

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I964374e88ac0bc343923dd9e370b8de67b18e7ad
",git fetch https://review.opendev.org/openstack/oswin-tempest-plugin refs/changes/33/744633/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a385971d3a6953c5410c360c27aef5053f4d6158,migrate-to-focal,#test focal,,1,0
openstack%2Fzaqar-specs~master~I6fc0d832f6c68acc9135b9e652ed8f9fdc549f75,openstack/zaqar-specs,master,I6fc0d832f6c68acc9135b9e652ed8f9fdc549f75,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:34:20.000000000,2020-08-04 15:44:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:34:20.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/41e224f084699b33ba6ecfc098f417c87c57c7ac', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40229\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I6fc0d832f6c68acc9135b9e652ed8f9fdc549f75\n'}]",0,744639,41e224f084699b33ba6ecfc098f417c87c57c7ac,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40229

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I6fc0d832f6c68acc9135b9e652ed8f9fdc549f75
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/39/744639/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,41e224f084699b33ba6ecfc098f417c87c57c7ac,migrate-to-focal,#test focal,,1,0
openstack%2Fcompute-hyperv~master~Ie3345c84bb8981d571683f264587f421510e89fe,openstack/compute-hyperv,master,Ie3345c84bb8981d571683f264587f421510e89fe,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:58.000000000,2020-08-04 15:44:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:33:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/16ba0d3602c6fe4f1d340e755062418d0cca9048', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40228\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ie3345c84bb8981d571683f264587f421510e89fe\n'}]",0,744634,16ba0d3602c6fe4f1d340e755062418d0cca9048,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40228

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ie3345c84bb8981d571683f264587f421510e89fe
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/34/744634/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,16ba0d3602c6fe4f1d340e755062418d0cca9048,migrate-to-focal,#test focal,,1,0
openstack%2Fvitrage-specs~master~I07a1b7de793ea13b15b512ee8bd825912f0cec8b,openstack/vitrage-specs,master,I07a1b7de793ea13b15b512ee8bd825912f0cec8b,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:50.000000000,2020-08-04 15:44:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:33:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/vitrage-specs/commit/1ad2f9ddfa35877b151f6ba27d17de640d29f423', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40226\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I07a1b7de793ea13b15b512ee8bd825912f0cec8b\n'}]",0,744631,1ad2f9ddfa35877b151f6ba27d17de640d29f423,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40226

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I07a1b7de793ea13b15b512ee8bd825912f0cec8b
",git fetch https://review.opendev.org/openstack/vitrage-specs refs/changes/31/744631/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1ad2f9ddfa35877b151f6ba27d17de640d29f423,migrate-to-focal,#test focal,,1,0
openstack%2Fpython-vitrageclient~master~Ic254e287575548adbff5420c5481c64be6345570,openstack/python-vitrageclient,master,Ic254e287575548adbff5420c5481c64be6345570,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:48.000000000,2020-08-04 15:44:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:33:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/cb912e24e2078dc2e34637d3d6f0204ed9a45cf0', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40226\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ic254e287575548adbff5420c5481c64be6345570\n'}]",0,744630,cb912e24e2078dc2e34637d3d6f0204ed9a45cf0,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40226

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ic254e287575548adbff5420c5481c64be6345570
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/30/744630/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cb912e24e2078dc2e34637d3d6f0204ed9a45cf0,migrate-to-focal,#test focal,,1,0
openstack%2Fwatcher-specs~master~Ifc619834a60111015be2bc89c74c793736bd30d0,openstack/watcher-specs,master,Ifc619834a60111015be2bc89c74c793736bd30d0,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:30.000000000,2020-08-04 15:44:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:33:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/ae1165e0efcdf7b52a4268dc375b3daf3ad90e7d', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40227\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ifc619834a60111015be2bc89c74c793736bd30d0\n'}]",0,744627,ae1165e0efcdf7b52a4268dc375b3daf3ad90e7d,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40227

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ifc619834a60111015be2bc89c74c793736bd30d0
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/27/744627/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ae1165e0efcdf7b52a4268dc375b3daf3ad90e7d,migrate-to-focal,#test focal,,1,0
openstack%2Ftrove-specs~master~I4996bf088311a5804f45589bb6588e20502e6f1e,openstack/trove-specs,master,I4996bf088311a5804f45589bb6588e20502e6f1e,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:33:05.000000000,2020-08-04 15:43:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:33:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove-specs/commit/4d261d61361a97bd104fd63d556886f2b36aa6a8', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40225\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I4996bf088311a5804f45589bb6588e20502e6f1e\n'}]",0,744620,4d261d61361a97bd104fd63d556886f2b36aa6a8,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40225

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I4996bf088311a5804f45589bb6588e20502e6f1e
",git fetch https://review.opendev.org/openstack/trove-specs refs/changes/20/744620/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4d261d61361a97bd104fd63d556886f2b36aa6a8,migrate-to-focal,#test focal,,1,0
openstack%2Ftelemetry-specs~master~I96ad3802b3643448c415194e21b2fdfd0c7f02f0,openstack/telemetry-specs,master,I96ad3802b3643448c415194e21b2fdfd0c7f02f0,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:32:37.000000000,2020-08-04 15:43:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:32:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/telemetry-specs/commit/e04f1a5f39b02a69cc18335559953d2de3e9834a', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40223\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I96ad3802b3643448c415194e21b2fdfd0c7f02f0\n'}]",0,744613,e04f1a5f39b02a69cc18335559953d2de3e9834a,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40223

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I96ad3802b3643448c415194e21b2fdfd0c7f02f0
",git fetch https://review.opendev.org/openstack/telemetry-specs refs/changes/13/744613/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e04f1a5f39b02a69cc18335559953d2de3e9834a,migrate-to-focal,#test focal,,1,0
openstack%2Ftacker-specs~master~I9e25e9d550f6b12b164b01825419fa47d6b05a1b,openstack/tacker-specs,master,I9e25e9d550f6b12b164b01825419fa47d6b05a1b,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:32:26.000000000,2020-08-04 15:43:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:32:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d7a18e629519bdbb39ba34bffa62b26255291437', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40222\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I9e25e9d550f6b12b164b01825419fa47d6b05a1b\n'}]",0,744611,d7a18e629519bdbb39ba34bffa62b26255291437,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40222

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I9e25e9d550f6b12b164b01825419fa47d6b05a1b
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/11/744611/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d7a18e629519bdbb39ba34bffa62b26255291437,migrate-to-focal,#test focal,,1,0
openstack%2Fpython-tackerclient~master~Ib578b43dcdfcf6ee5b606581f744516277d92593,openstack/python-tackerclient,master,Ib578b43dcdfcf6ee5b606581f744516277d92593,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:32:19.000000000,2020-08-04 15:42:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:32:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/b85bd3b66d903ad13d22a2a6d6fe374a6532af4f', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40222\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: Ib578b43dcdfcf6ee5b606581f744516277d92593\n'}]",0,744609,b85bd3b66d903ad13d22a2a6d6fe374a6532af4f,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40222

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: Ib578b43dcdfcf6ee5b606581f744516277d92593
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/09/744609/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b85bd3b66d903ad13d22a2a6d6fe374a6532af4f,migrate-to-focal,#test focal,,1,0
openstack%2Fcharm-guide~master~I57aed69cd9ebaccfd95f0ca9d473e731ac97e0a1,openstack/charm-guide,master,I57aed69cd9ebaccfd95f0ca9d473e731ac97e0a1,Clean up 20.08 release notes,MERGED,2020-08-03 15:40:28.000000000,2020-08-04 15:42:35.000000000,2020-08-04 15:39:53.000000000,"[{'_account_id': 20635}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-03 15:40:28.000000000', 'files': ['doc/source/2008.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/5cf710cf4b6d8cef632b1f08a16382eecff23f01', 'message': ""Clean up 20.08 release notes\n\nReword cinder-ceph/nova-compute relation section.\n\nRemove irrelevant known issues. Each one ack'd by\na team member.\n\nRemove unused link labels at the bottom.\n\nMinor reformatting.\n\nChange-Id: I57aed69cd9ebaccfd95f0ca9d473e731ac97e0a1\n""}]",0,744513,5cf710cf4b6d8cef632b1f08a16382eecff23f01,9,3,1,30561,,,0,"Clean up 20.08 release notes

Reword cinder-ceph/nova-compute relation section.

Remove irrelevant known issues. Each one ack'd by
a team member.

Remove unused link labels at the bottom.

Minor reformatting.

Change-Id: I57aed69cd9ebaccfd95f0ca9d473e731ac97e0a1
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/13/744513/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2008.rst'],1,5cf710cf4b6d8cef632b1f08a16382eecff23f01,2008-release-notes-cleanup,"Charm cinder-ceph now requires 'ceph-access' relation to charm nova-computeWhen both the nova-compute and cinder-ceph applications are deployed a new relation is now required. In this context, if the 'ceph-access' relation endpoint is not present between cinder-ceph and nova-compute the latter charm will go into the blocked state. This should not affect most currently deployed clouds, but it will affect new deployments. See commit `Require relation to nova-compute application`_ for details.The glance-simplestreams-sync charm now installs simplestreams as a snap. As such it no longer has a 'source' configuration option - the snapstore channel to use for the snap can be configured using the 'channel' option.applications, the enablement of this feature can only be done post-deployment (once vault has been initialised and has a root Certificate Authority).When this charm is related to the neutron-api charm it will install the Arista Neutron packages on each neutron-api unit in the region and supply the desired configuration to the neutron-api service... note:: This issue is due to a Juju bug, which was fixed in Juju 2.8.1. ","Charm cinder-ceph now requires 'ceph-access' relation to Charm nova-computeIn order to ensure a functional nova-compute application, the 'ceph-access' relation is now required between the cinder-ceph charm and the nova-compute charm when cinder-ceph is related to the cinder charm. Otherwise, the charm will go into the blocked state. This is due to this change: Without a relation to at least one nova-compute application a cinder-ceph backend will not be functional as the libvirt secrets will not have been created to allow access to the ceph cluster from libvirt/qemu. -- `Require relation to nova-compute application`_ This probably won't affect most existing, deployed, clouds, but *may* affect test bundles that now won't complete deployment.All bundles that use cinder-ceph should be checked and the relation added. The glance-simplestreams-sync charm now installs simplestreams as a snap. As such it no longer has a 'source' configuration option - the snapstore channel to use for the snap can be configured using the 'channel' option.applications, the enablement of this feature can only be done post-deployment (once vault has been initialised and has a root Certificate Authority).When this charm is related to the neutron-api charm it will install the Arista Neutron packages on each neutron-api unit in the region and supply the desired configuration to the neutron-api service.Glance Simplestreams Sync ~~~~~~~~~~~~~~~~~~~~~~~~~ When deploying the glance-simplestreams-sync charm on Bionic a more recent version of the simplestreams package must be installed by configuring a PPA: .. code-block:: none juju config glance-simplestreams-sync source=ppa:simplestreams-dev/trunk See bug `LP #1790904`_ for details. TrilioVault package upgrades ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Changing the value of the 'triliovault-pkg-source' option does not currently trigger a package upgrade although the apt sources for the unit are updated. Packages can be manually upgraded after changing this option - for example: .. code-block:: none juju run --application trilio-dm-api ""sudo apt -y dist-upgrade"" See bug `LP #1879904`_ for more details. Designate upgrades to Train ~~~~~~~~~~~~~~~~~~~~~~~~~~~ When upgrading Designate to OpenStack Train, there is an encoding issue between the designate-producer and memcached that causes the designate-producer to crash. See bug `LP #1828534`_. This can be resolved by restarting the memcached service. .. code-block:: none juju run --application=memcached 'sudo systemctl restart memcached' Minimum Juju version for deploying Octavia ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Juju 2.7 and above should be used for deployments with the octavia charm since it has dependencies that require the ``LANG`` environment variable to be set during package installation. Juju versions prior to 2.7 do not set the ``LANG`` variable in hook executions which leads to the default python decoder being set to ASCII - this results in decoding issues when one of the dependent package's ``setup.py`` script gets executed and reads a source file containing UTF-8 code units. As a result, the following error can be seen in a hook error: .. code-block:: console UnicodeDecodeError: 'ascii' codec can't decode byte 0xc8 in position 129: ordinal not in range(128) See bug `LP #1879184`_ for more information. This issue affects existing Juju 2.6 environments as well if a charm upgrade is performed. It will be addressed by fixing `GH #173`_. .. _Open Virtual Network (OVN): https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ovn.html.. _OpenStack bundles Focal Ussuri: https://github.com/openstack-charmers/openstack-bundles/blob/master/development/openstack-base-focal-ussuri-ovn/bundle.yaml.. _Policy Overrides: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-policy-overrides.html .. _Neutron documentation: https://docs.openstack.org/neutron/latest/admin/config-fip-port-forwardings.html .. _placement API: https://docs.openstack.org/placement/ussuri/ .. _HA with pause/resume: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-upgrade-openstack.html#ha-with-pause-resume .. _Specific series upgrade procedures: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-series-upgrade-specific-procedures.html#percona-series-upgrade-to-focal .. _Swift Auth system: https://docs.openstack.org/swift/latest/overview_auth.html .. _Swift Global Cluster: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-swift-gc.html .. _Toward Convergence of ML2+OVS+DVR and OVN: http://specs.openstack.org/openstack/neutron-specs/specs/ussuri/ml2ovs-ovn-convergence.html .. _Vault deployment and configuration: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-vault.html .. _Security compliance and PCI-DSS: https://docs.openstack.org/keystone/train/admin/configuration.html#security-compliance-and-pci-dss .. _Keystone charm README: https://github.com/openstack/charm-keystone/blob/master/README.md .. _Neutron FWaaS project has been deprecated: https://review.opendev.org/#/c/708675/ .. _Cinder charm README: https://github.com/openstack/charm-cinder/blob/master/README.md .. _Juju storage: https://juju.is/docs/storage .. _TrilioVault appendix: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-trilio-vault.html .. _Automated instance recovery: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-masakari.html .. _Ceph iSCSI Gateway README: https://github.com/openstack-charmers/charm-ceph-iscsi/blob/master/README.md .. _Nova Train configuration options: https://docs.openstack.org/nova/train/configuration/config.html#quota.count_usage_from_placement .. _NIC hardware offload appendix: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-hardware-offload.html .. _Networking Tools PPA: https://launchpad.net/~openstack-charmers/+archive/ubuntu/networking-tools .. _gaps from ML2+OVS: https://docs.openstack.org/neutron/ussuri/ovn/gaps.html .. _Identity service Security Checklist: https://docs.openstack.org/security-guide/identity/checklist.html.. _GH #173: https://github.com/juju-solutions/layer-basic/issues/173 .. _LP #1773765: https://bugs.launchpad.net/masakari/+bug/1773765 .. _LP #1790904: https://bugs.launchpad.net/simplestreams/+bug/1790904.. _LP #1859844: https://bugs.launchpad.net/charm-keystone/+bug/1859844 .. _LP #1828534: https://bugs.launchpad.net/charm-designate/+bug/1828534.. _LP #1877642: https://bugs.launchpad.net/bugs/1877642 .. _LP #1863021: https://bugs.launchpad.net/bugs/1863021 .. _LP #1879184: https://bugs.launchpad.net/charm-octavia/+bug/1879184/comments/9 .. _LP #1879904: https://bugs.launchpad.net/charm-trilio-horizon-plugin/+bug/1879904",19,118
openstack%2Fswift-bench~master~I852a1eceb4b6b7db7affbd9e74a6e6648eaa2e66,openstack/swift-bench,master,I852a1eceb4b6b7db7affbd9e74a6e6648eaa2e66,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-04 03:32:13.000000000,2020-08-04 15:42:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-04 03:32:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift-bench/commit/771b4cbb83bea67808190f4d176f43120330d29d', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40221\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I852a1eceb4b6b7db7affbd9e74a6e6648eaa2e66\n'}]",0,744606,771b4cbb83bea67808190f4d176f43120330d29d,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional integration tests jobs
- docs jobs
Story: #2007865
Task: #40221

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I852a1eceb4b6b7db7affbd9e74a6e6648eaa2e66
",git fetch https://review.opendev.org/openstack/swift-bench refs/changes/06/744606/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,771b4cbb83bea67808190f4d176f43120330d29d,migrate-to-focal,#test focal,,1,0
openstack%2Fnova~master~I2f7e5fe4a76fb49870dab8c3816b5c237b773412,openstack/nova,master,I2f7e5fe4a76fb49870dab8c3816b5c237b773412,"libvirt: Use better variable names, types for '_create_guest'",MERGED,2020-07-14 11:59:44.000000000,2020-08-04 15:31:25.000000000,2020-07-23 20:03:51.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-14 11:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cbaedc457e7ca0f9dfd4b211b664cfd33ea5981d', 'message': ""libvirt: Use better variable names for '_create_guest'\n\nAddress comments on I2489bf16dabc8a83b2044139247f4245ae29adb1.\n\nChange-Id: I2f7e5fe4a76fb49870dab8c3816b5c237b773412\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-17 10:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42deac42f3a7df427d1d39dc6b83a9eb45cd8783', 'message': ""libvirt: Use better variable names for '_create_guest'\n\nAddress comments on I2489bf16dabc8a83b2044139247f4245ae29adb1.\n\nChange-Id: I2f7e5fe4a76fb49870dab8c3816b5c237b773412\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-17 16:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5007ec1fcd775593a1108e5d32f74183b5bdd606', 'message': ""libvirt: Use better variable names, types for '_create_guest'\n\nAddress comments on I2489bf16dabc8a83b2044139247f4245ae29adb1.\n\nChange-Id: I2f7e5fe4a76fb49870dab8c3816b5c237b773412\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-21 17:06:25.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f121598b6e1cc494353a7ed293840011a5b7da6', 'message': ""libvirt: Use better variable names, types for '_create_guest'\n\nAddress comments on I2489bf16dabc8a83b2044139247f4245ae29adb1.\n\nChange-Id: I2f7e5fe4a76fb49870dab8c3816b5c237b773412\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,740945,6f121598b6e1cc494353a7ed293840011a5b7da6,56,14,4,15334,,,0,"libvirt: Use better variable names, types for '_create_guest'

Address comments on I2489bf16dabc8a83b2044139247f4245ae29adb1.

Change-Id: I2f7e5fe4a76fb49870dab8c3816b5c237b773412
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/740945/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,cbaedc457e7ca0f9dfd4b211b664cfd33ea5981d,bp/add-emulated-virtual-tpm," original_power_state = guest.get_power_state(self._host) original_power_state != power_state.SHUTDOWN context, live_snapshot, original_power_state, instance) context, live_snapshot, original_power_state, instance, guest) context, live_snapshot, original_power_state, instance) context, live_snapshot, original_power_state, instance, guest) power_state: str, return power_state in (power_state.RUNNING, power_state.PAUSED) current_power_state: str, if self._needs_suspend_resume_for_snapshot( live_snapshot, current_power_state, ): self.suspend(context, instance) original_power_state: str, if not self._needs_suspend_resume_for_snapshot( live_snapshot, original_power_state, ): current_power_state = guest.get_power_state(self._host) guest.launch(pause=current_power_state == power_state.PAUSED)"," state = guest.get_power_state(self._host) state != power_state.SHUTDOWN context, live_snapshot, state, instance) context, live_snapshot, state, instance, guest) context, live_snapshot, state, instance) context, live_snapshot, state, instance, guest) state: str, return state in (power_state.RUNNING, power_state.PAUSED) state: str, if not self._needs_suspend_resume_for_snapshot(live_snapshot, state): return self.suspend(context, instance) state: str, if not self._needs_suspend_resume_for_snapshot(live_snapshot, state): state = guest.get_power_state(self._host) guest.launch(pause=state == power_state.PAUSED)",20,17
openstack%2Fopenstack-manuals~master~I4c1c6dfc723c9830195a437d64c63a5884624e2d,openstack/openstack-manuals,master,I4c1c6dfc723c9830195a437d64c63a5884624e2d,Deprecate os_congress project,MERGED,2020-07-22 20:17:33.000000000,2020-08-04 15:26:13.000000000,2020-08-04 14:59:10.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 20:17:33.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6af499df2656d9e0c28c711b2b21163eda89ac57', 'message': 'Deprecate os_congress project\n\nDepends-On: https://review.opendev.org/742533\nChange-Id: I4c1c6dfc723c9830195a437d64c63a5884624e2d\n'}]",0,742534,6af499df2656d9e0c28c711b2b21163eda89ac57,14,4,1,28619,,,0,"Deprecate os_congress project

Depends-On: https://review.opendev.org/742533
Change-Id: I4c1c6dfc723c9830195a437d64c63a5884624e2d
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/34/742534/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,6af499df2656d9e0c28c711b2b21163eda89ac57,osa/os_congress," 'openstack/openstack-ansible-os_congress',",,1,0
openstack%2Fopenstack-tempest-skiplist~master~I2c51e5250d9be56fde931c231d3ca8a8d5031a38,openstack/openstack-tempest-skiplist,master,I2c51e5250d9be56fde931c231d3ca8a8d5031a38,"Revert ""Add network related tests to skip list""",MERGED,2020-08-04 05:57:13.000000000,2020-08-04 15:22:56.000000000,2020-08-04 15:20:18.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-08-04 05:57:13.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/68ce9ea4c9e7ce611b380459af6559663503143c', 'message': 'Revert ""Add network related tests to skip list""\n\nThis reverts commit 0bccd1dbc2504ae0d4e40388a7d925306cc22da0.\n\nChange-Id: I2c51e5250d9be56fde931c231d3ca8a8d5031a38\n'}]",0,744646,68ce9ea4c9e7ce611b380459af6559663503143c,13,7,1,12393,,,0,"Revert ""Add network related tests to skip list""

This reverts commit 0bccd1dbc2504ae0d4e40388a7d925306cc22da0.

Change-Id: I2c51e5250d9be56fde931c231d3ca8a8d5031a38
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/46/744646/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,68ce9ea4c9e7ce611b380459af6559663503143c,masterskiplist,, - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_portrange_remote' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_secgroup_inheritance' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_connectivity.NetworkConnectivityTest.test_connectivity_router_east_west_traffic' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_qos.QoSTest.test_create_instance_using_network_with_existing_policy' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_protocol_number_rule' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_remote_group' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_two_sec_groups' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [],0,49
openstack%2Fnova~master~Ic55d2ae49a1ae3aefd986bd1f52c76e022fb8ee1,openstack/nova,master,Ic55d2ae49a1ae3aefd986bd1f52c76e022fb8ee1,libvirt: Remove workaround for really old QEMU,MERGED,2020-07-09 16:53:16.000000000,2020-08-04 15:19:33.000000000,2020-07-22 14:21:34.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-09 16:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/354fda241e9bc9d3d1f41f5227ecbcaa2398c6f3', 'message': ""libvirt: Remove workaround for really old QEMU\n\nQEMU < 1.0.3 did not support live snapshots. Bug #1193146 noted that for\nthis to be used, the version of the QEMU that the instance is running is\nimportant, not the version that it was created with. There can't be any\ninstances still in the wild using this version of QEMU, since those\nusers would have had to update their OS (the last version of Ubuntu to\nprovide a suitably old QEMU was 12.04 [1], which is very much EOL),\nmeaning a reboot of the host and possible live-migration of instances to\nanother host, both of which would result in a newer process.\n\n[1] https://launchpad.net/ubuntu/precise/+package/qemu-kvm\n\nChange-Id: Ic55d2ae49a1ae3aefd986bd1f52c76e022fb8ee1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1193146\n""}, {'number': 2, 'created': '2020-07-17 10:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51bd2666b7a30f3840541ec48a079b47563146f6', 'message': ""libvirt: Remove workaround for really old QEMU\n\nQEMU < 1.0.3 did not support live snapshots. Bug #1193146 noted that for\nthis to be used, the version of the QEMU that the instance is running is\nimportant, not the version that it was created with. There can't be any\ninstances still in the wild using this version of QEMU, since those\nusers would have had to update their OS (the last version of Ubuntu to\nprovide a suitably old QEMU was 12.04 [1], which is very much EOL),\nmeaning a reboot of the host and possible live-migration of instances to\nanother host, both of which would result in a newer process.\n\n[1] https://launchpad.net/ubuntu/precise/+package/qemu-kvm\n\nChange-Id: Ic55d2ae49a1ae3aefd986bd1f52c76e022fb8ee1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1193146\n""}, {'number': 3, 'created': '2020-07-21 17:06:25.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5964d7e11cdd67ae0e1af2382465d80b8531a94b', 'message': ""libvirt: Remove workaround for really old QEMU\n\nQEMU < 1.0.3 did not support live snapshots. Bug #1193146 noted that for\nthis to be used, the version of the QEMU that the instance is running is\nimportant, not the version that it was created with. To test this, it\nused a (duplicated) call to 'abort_job' that verified the newer versions\nof QEMU was in use. There can't be any instances still in the wild using\nthis version of QEMU, since those users would have had to update their\nOS (the last version of Ubuntu to provide a suitably old QEMU was 12.04\n[1], which is very much EOL), meaning a reboot of the host and possible\nlive-migration of instances to another host, both of which would result\nin a newer process.\n\n[1] https://launchpad.net/ubuntu/precise/+package/qemu-kvm\n\nChange-Id: Ic55d2ae49a1ae3aefd986bd1f52c76e022fb8ee1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1193146\n""}]",4,740335,5964d7e11cdd67ae0e1af2382465d80b8531a94b,46,13,3,15334,,,0,"libvirt: Remove workaround for really old QEMU

QEMU < 1.0.3 did not support live snapshots. Bug #1193146 noted that for
this to be used, the version of the QEMU that the instance is running is
important, not the version that it was created with. To test this, it
used a (duplicated) call to 'abort_job' that verified the newer versions
of QEMU was in use. There can't be any instances still in the wild using
this version of QEMU, since those users would have had to update their
OS (the last version of Ubuntu to provide a suitably old QEMU was 12.04
[1], which is very much EOL), meaning a reboot of the host and possible
live-migration of instances to another host, both of which would result
in a newer process.

[1] https://launchpad.net/ubuntu/precise/+package/qemu-kvm

Change-Id: Ic55d2ae49a1ae3aefd986bd1f52c76e022fb8ee1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1193146
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/740335/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,354fda241e9bc9d3d1f41f5227ecbcaa2398c6f3,bp/add-emulated-virtual-tpm,," # Abort is an idempotent operation, so make sure any block # jobs which may have failed are ended. This operation also # confirms the running instance, as opposed to the system as a # whole, has a new enough version of the hypervisor (bug 1193146). try: guest.get_block_device(disk_path).abort_job() except libvirt.libvirtError as ex: error_code = ex.get_error_code() if error_code == libvirt.VIR_ERR_CONFIG_UNSUPPORTED: live_snapshot = False else: pass",0,12
openstack%2Fmulti-arch-sig~master~I65c304c9b6edccac620118ae76fc55eebcc59fc8,openstack/multi-arch-sig,master,I65c304c9b6edccac620118ae76fc55eebcc59fc8,Make some simple doc enhancements,MERGED,2020-06-03 16:01:31.000000000,2020-08-04 15:19:29.000000000,2020-08-04 15:17:12.000000000,"[{'_account_id': 7118}, {'_account_id': 8125}, {'_account_id': 12404}, {'_account_id': 12898}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-06-03 16:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/multi-arch-sig/commit/92fb810d63f001b01b195137d84facb7b6bdb848', 'message': 'Make some simple doc enhancements\n\nBasic enhancements\nPlease note that the goal is to link from this page to a more specific\nstatus for each of the various aspects.\n\nChange-Id: I65c304c9b6edccac620118ae76fc55eebcc59fc8\n'}, {'number': 2, 'created': '2020-08-04 15:04:22.000000000', 'files': ['doc/source/what-is-multiarch.rst'], 'web_link': 'https://opendev.org/openstack/multi-arch-sig/commit/b32ac2d153585c252f66c4b3784492fb7a450b76', 'message': 'Make some simple doc enhancements\n\nBasic enhancements\nPlease note that the goal is to link from this page to a more specific\nstatus for each of the various aspects.\n\nChange-Id: I65c304c9b6edccac620118ae76fc55eebcc59fc8\n'}]",1,733192,b32ac2d153585c252f66c4b3784492fb7a450b76,10,7,2,23078,,,0,"Make some simple doc enhancements

Basic enhancements
Please note that the goal is to link from this page to a more specific
status for each of the various aspects.

Change-Id: I65c304c9b6edccac620118ae76fc55eebcc59fc8
",git fetch https://review.opendev.org/openstack/multi-arch-sig refs/changes/92/733192/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/what-is-multiarch.rst'],1,92fb810d63f001b01b195137d84facb7b6bdb848,,"Packages and containers should be built for all architectures. Keep in mind the `Guidelines for Managing Releases of Binary Artifacts <https://governance.opens tack.org/tc/resolutions/20170530-binary-artifacts.html>`_.for deploying a cloud with a mix of architectures may also be valuable. Note that deployment tools are typically opinionated about what content they deploy, so multi-arch support in deployment tools may be dependent upon the availability of artifacts.Running OpenStack often means virtual machines managed by Nova. From a multi-arch perspective, this means awareness of `virt drivers <https://opendev. org/openstack/nova/src/branch/master/nova/virt>`_. More specifically, the Libvirt KVM driver should work on non-x86 architectures (it already does) and the accuracy of `Feature Support Matrix <https://docs.openstack.org/nova/latest /user/support-matrix.html>`_ should be maintained. There are also architecutre-specific virtualization technologies such as PowerVM and z/VM with virt drivers in Nova that are part of the multi-arch landscape.","Packages and containers should be built for all architectures.for deploying a cloud with a mix of architectures may also be valuable.Some architectures are accompanied by their own virtualization technology, for example (but not necessarily limited to) PowerVM and z/VM. There may be `virt drivers in Nova <https://opendev.org/openstack/nova/src/branch/master/nova/virt>`_ for these technologies.",15,7
openstack%2Fnova~master~Ife37c2920f2a85eca3401f4b698bc9260277d5a1,openstack/nova,master,Ife37c2920f2a85eca3401f4b698bc9260277d5a1,libvirt: Re-enable live snapshot for paused instances,MERGED,2020-07-09 16:53:16.000000000,2020-08-04 15:13:43.000000000,2020-07-22 12:39:12.000000000,"[{'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-09 16:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d46b046f8d443cb0ad5e169aa259cbcffadb3a5', 'message': ""libvirt: Re-enable live snapshot for paused instances\n\nIn change If6c4dd6890ad6e2d00b186c6a9aa85f507b354e0, we added PAUSED to\na list of power states that aren't valid for live snapshot. This was\nnecessary to workaround issues with older versions of libvirt and QEMU,\nsuch as those found on Ubuntu 16.04. Our versions of libvirt are now new\nenough that this is no longer necessary, so stop doing it.\n\nChange-Id: Ife37c2920f2a85eca3401f4b698bc9260277d5a1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1741667\n""}, {'number': 2, 'created': '2020-07-17 10:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/307f9e8ebcce6825b8e322ecd809e81c6765bf77', 'message': ""libvirt: Re-enable live snapshot for paused instances\n\nIn change If6c4dd6890ad6e2d00b186c6a9aa85f507b354e0, we added PAUSED to\na list of power states that aren't valid for live snapshot. This was\nnecessary to workaround issues with older versions of libvirt and QEMU,\nsuch as those found on Ubuntu 16.04. Our versions of libvirt are now new\nenough that this is no longer necessary, so stop doing it.\n\nChange-Id: Ife37c2920f2a85eca3401f4b698bc9260277d5a1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1741667\n""}, {'number': 3, 'created': '2020-07-21 17:06:25.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/279f89e320eb3fe9d4b236dc9a97fb6bc08d7421', 'message': ""libvirt: Re-enable live snapshot for paused instances\n\nIn change If6c4dd6890ad6e2d00b186c6a9aa85f507b354e0, we added PAUSED to\na list of power states that aren't valid for live snapshot. This was\nnecessary to workaround issues with older versions of libvirt and QEMU,\nsuch as those found on Ubuntu 16.04. Our versions of libvirt are now new\nenough that this is no longer necessary, so stop doing it.\n\nA confusing (read: wrong) note is removed.\n\nChange-Id: Ife37c2920f2a85eca3401f4b698bc9260277d5a1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1741667\n""}]",5,740334,279f89e320eb3fe9d4b236dc9a97fb6bc08d7421,48,13,3,15334,,,0,"libvirt: Re-enable live snapshot for paused instances

In change If6c4dd6890ad6e2d00b186c6a9aa85f507b354e0, we added PAUSED to
a list of power states that aren't valid for live snapshot. This was
necessary to workaround issues with older versions of libvirt and QEMU,
such as those found on Ubuntu 16.04. Our versions of libvirt are now new
enough that this is no longer necessary, so stop doing it.

A confusing (read: wrong) note is removed.

Change-Id: Ife37c2920f2a85eca3401f4b698bc9260277d5a1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1741667
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/740334/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,0d46b046f8d443cb0ad5e169aa259cbcffadb3a5,bp/add-emulated-virtual-tpm," state = power_state.SHUTDOWN mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = state mock_guest._domain = mock.Mock() mock_get_guest.return_value = mock_guest # Make _suspend_guest_for_snapshot short-circuit and fail, we just # want to know that it was called with the correct live_snapshot # argument based on the power_state. with mock.patch.object( drvr, '_suspend_guest_for_snapshot', side_effect=test.TestingException, ) as mock_suspend: self.assertRaises(test.TestingException, drvr.snapshot, self.context, self.instance_ref, image['id'], self.mock_update_task_state) mock_suspend.assert_called_once_with( self.context, False, state, self.instance_ref)"," for p_state in (power_state.SHUTDOWN, power_state.PAUSED): mock_guest = mock.Mock(spec=libvirt_guest.Guest) mock_guest.get_power_state.return_value = p_state mock_guest._domain = mock.Mock() mock_get_guest.return_value = mock_guest # Make _suspend_guest_for_snapshot short-circuit and fail, we just # want to know that it was called with the correct live_snapshot # argument based on the power_state. with mock.patch.object( drvr, '_suspend_guest_for_snapshot', side_effect=test.TestingException, ) as mock_suspend: self.assertRaises(test.TestingException, drvr.snapshot, self.context, self.instance_ref, image['id'], self.mock_update_task_state) mock_suspend.assert_called_once_with( self.context, False, p_state, self.instance_ref)",30,31
openstack%2Fnova~master~I264686705f47713a185536e9d1faa214fc05dafe,openstack/nova,master,I264686705f47713a185536e9d1faa214fc05dafe,test: add some notes and new tests for mixed instance,MERGED,2020-07-16 07:17:55.000000000,2020-08-04 15:09:58.000000000,2020-07-23 10:47:58.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-07-16 07:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/567355b49d362654ee26cb8fd9f1cae0a72c9375', 'message': ""test: add some notes and new tests for mixed instance\n\nThis patch is about to be a follow-up patch to address the\ncomments of [1], add some notes in introducing the host CPU\nusage for an instance with an 'isolate' CPU thread policy.\n\nAlso added some other test cases to ensure mixed instance\ncan reserve proper emulator CPU for hypervisor.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\n[1] https://review.opendev.org/716269\n\nChange-Id: I264686705f47713a185536e9d1faa214fc05dafe\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 2, 'created': '2020-07-17 04:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78d9252dcbbe68cd7dfaf5ed73298382e4452450', 'message': ""test: add some notes and new tests for mixed instance\n\nThis patch is about to be a follow-up patch to address the\ncomments of [1], add some notes in introducing the host CPU\nusage for an instance with an 'isolate' CPU thread policy.\n\nAlso added some other test cases to ensure mixed instance\ncan reserve proper emulator CPU for hypervisor.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\n[1] https://review.opendev.org/716269\n\nChange-Id: I264686705f47713a185536e9d1faa214fc05dafe\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 3, 'created': '2020-07-17 06:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be31a231c5c0269d3ccd9e5715db2e56aac5638e', 'message': ""test: add some notes and new tests for mixed instance\n\nThis patch is about to be a follow-up patch to address the\ncomments of [1], add some notes in introducing the host CPU\nusage for an instance with an 'isolate' CPU thread policy.\n\nAlso added some other test cases to ensure mixed instance\ncan reserve proper emulator CPU for hypervisor.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\n[1] https://review.opendev.org/716269\n\nChange-Id: I264686705f47713a185536e9d1faa214fc05dafe\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 4, 'created': '2020-07-20 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4c0c346980d8f3f8d9bd2c087f72248c2508778', 'message': ""test: add some notes and new tests for mixed instance\n\nThis patch is about to be a follow-up patch to address the\ncomments of [1], add some notes in introducing the host CPU\nusage for an instance with an 'isolate' CPU thread policy.\n\nAlso added some other test cases to ensure mixed instance\ncan reserve proper emulator CPU for hypervisor.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\n[1] https://review.opendev.org/716269\n\nChange-Id: I264686705f47713a185536e9d1faa214fc05dafe\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 5, 'created': '2020-07-21 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2182bddb90ccbbcfb2bdb84f99585f316711c5e5', 'message': ""test: add some notes and new tests for mixed instance\n\nThis patch is about to be a follow-up patch to address the\ncomments of [1], add some notes in introducing the host CPU\nusage for an instance with an 'isolate' CPU thread policy.\n\nAlso added some other test cases to ensure mixed instance\ncan reserve proper emulator CPU for hypervisor.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\n[1] https://review.opendev.org/716269\n\nChange-Id: I264686705f47713a185536e9d1faa214fc05dafe\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 6, 'created': '2020-07-21 07:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb578a601c328eff21aa6a4dee7f399737971535', 'message': ""test: add some notes and new tests for mixed instance\n\nThis patch is about to be a follow-up patch to address the\ncomments of [1], add some notes in introducing the host CPU\nusage for an instance with an 'isolate' CPU thread policy.\n\nAlso added some other test cases to ensure mixed instance\ncan reserve proper emulator CPU for hypervisor.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\n[1] https://review.opendev.org/716269\n\nChange-Id: I264686705f47713a185536e9d1faa214fc05dafe\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-07-21 13:38:35.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f2659da1601a9e3b6e979abec3489ca9ea7deae2', 'message': ""test: add some notes and new tests for mixed instance\n\nThis patch is about to be a follow-up patch to address the\ncomments of [1], add some notes in introducing the host CPU\nusage for an instance with an 'isolate' CPU thread policy.\n\nAlso added some other test cases to ensure mixed instance\ncan reserve proper emulator CPU for hypervisor.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\n[1] https://review.opendev.org/716269\n\nChange-Id: I264686705f47713a185536e9d1faa214fc05dafe\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",1,741395,f2659da1601a9e3b6e979abec3489ca9ea7deae2,53,11,7,30209,,,0,"test: add some notes and new tests for mixed instance

This patch is about to be a follow-up patch to address the
comments of [1], add some notes in introducing the host CPU
usage for an instance with an 'isolate' CPU thread policy.

Also added some other test cases to ensure mixed instance
can reserve proper emulator CPU for hypervisor.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

[1] https://review.opendev.org/716269

Change-Id: I264686705f47713a185536e9d1faa214fc05dafe
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/741395/6 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/test_hardware.py'],1,567355b49d362654ee26cb8fd9f1cae0a72c9375,bp/use-pcpu-and-vcpu-in-one-instance," id=0, cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, cpu_pinning={2: 3, 3: 6}, id=0, cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, cpu_pinning={2: 6, 3: 7}, def test_host_usage_from_mixed_instance_emu_isolate(self): instance with an 'isolate' emulator thread policy. cpuset=set([4, 5, 6, 7]), pcpuset=set([0, 1, 2, 3]), siblings=[{cpu} for cpu in range(8)], mempages=[objects.NUMAPagesTopology( size_kb=4, total=524288, used=0)] ), ]) inst_topo = objects.InstanceNUMATopology( emulator_threads_policy=( fields.CPUEmulatorThreadsPolicy.ISOLATE), cells=[objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, cpu_pinning={2: 0, 3: 1}, cpuset_reserved=set([3]), cpu_policy=fields.CPUAllocationPolicy.MIXED, )] ) new_cell = hw.numa_usage_from_instance_numa(host_topo, inst_topo) # Emulator occupies an dedicated host CPU due to isolated emulator # policy self.assertEqual({0, 1, 3}, new_cell.cells[0].pinned_cpus) self.assertEqual(4, new_cell.cells[0].cpu_usage) def test_host_usage_from_mixed_instance_emu_isolate_free(self): """"""Ensure pinned and unpinned CPUs are correctly freed for a mixed instance with an 'isolate' emulator thread policy. """""" host_topo = objects.NUMATopology(cells=[ objects.NUMACell( id=0, cpuset=set([4, 5, 6, 7]), pcpuset=set([0, 1, 2, 3]), memory=4096, cpu_usage=2, memory_usage=0, pinned_cpus=set([0, 1, 2, 3]), siblings=[{cpu} for cpu in range(8)], mempages=[objects.NUMAPagesTopology( size_kb=4, total=524288, used=0)] ), ]) inst_topo = objects.InstanceNUMATopology( emulator_threads_policy=( fields.CPUEmulatorThreadsPolicy.ISOLATE), cells=[objects.InstanceNUMACell( id=0, cpuset=set([2, 3]), pcpuset=set([0, 1]), memory=2048, cpu_pinning={0: 0, 1: 1}, cpuset_reserved=set([3]), cpu_policy=fields.CPUAllocationPolicy.MIXED, cpu_thread_policy=fields.CPUThreadAllocationPolicy.ISOLATE )] ) new_cell = hw.numa_usage_from_instance_numa(host_topo, inst_topo, free=True) # all host CPUs that pinned by vCPUs and emulator thread is freed self.assertEqual(set([2]), new_cell.cells[0].pinned_cpus) self.assertEqual(0, new_cell.cells[0].cpu_usage) def test_host_usage_from_mixed_instance_cpu_isolate(self): """"""Ensure pinned and unpinned CPUs are correctly consumed for a mixed instance with an 'isolate' CPU thread policy. """""" # NOTE(huaqiang): In this test case, the mixed instance which has an # 'isolate' CPU thread policy is scheduled on a host enabled with # hyper-threading, this is not a real case that you will meet in real # deployment because the 'isolate' CPU thread policy mixed instance # will only be scheduled to host without or disabled the # hyper-threading. We keep this test case to ensure the internal # 'isolate' CPU thread policy works for mixed instance. host_topo = objects.NUMATopology(cells=[ objects.NUMACell( id=0, cpuset=set([3, 4, 8, 9]), pcpuset=set([0, 1, 2, 5, 6, 7]), memory=4096, cpu_usage=2, memory_usage=0, pinned_cpus=set(), siblings=[set([0, 5]), set([1, 6]), set([2, 7]), set([3, 8]), set([4, 9])], id=0, cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, cpu_pinning={2: 0, 3: 1}, # pcpu and its siblings are pinned due to 'isolate' CPU thread self.assertEqual({0, 1, 5, 6}, new_cell.cells[0].pinned_cpus) def test_host_usage_from_mixed_instance_cpu_isolate_free(self): instance with an 'isolate' CPU thread policy. # NOTE(huaqiang): In this test case, we supposed the mixed instance # which has a 'isolate' cpu thread policy is already hosted on a # compute node enabled with hyper-threading. This can not happen in # real deployment case, and it will be scheduled on a host without or # disabled hyper-threading. We keep this test case to ensure the # internal 'isolate' CPU thread code works. cpuset=set([3, 4, 8, 9]), pcpuset=set([0, 1, 2, 5, 6, 7]), pinned_cpus=set([0, 1, 2, 5, 6, 7]), siblings=[set([0, 5]), set([1, 6]), set([2, 7]), set([3, 8]), set([4, 9])], id=0, cpuset=set([2, 3]), pcpuset=set([0, 1]), memory=2048, # Due to 'isolate' CPU thread policy, pcpu and its siblings are freed self.assertEqual(set([2, 7]), new_cell.cells[0].pinned_cpus) def _test_mixed_instance(self, policy=None): host_topo = objects.NUMATopology(cells=[ objects.NUMACell( id=0, cpuset=set([4, 5, 6, 7]), pcpuset=set([0, 1, 2, 3]), memory=4096, cpu_usage=2, memory_usage=0, pinned_cpus=set([0]), siblings=[{cpu} for cpu in range(8)], mempages=[objects.NUMAPagesTopology( size_kb=4, total=524288, used=0)] ), ]) inst_topo = objects.InstanceNUMATopology( cells=[objects.InstanceNUMACell( id=0, cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, cpu_policy=fields.CPUAllocationPolicy.MIXED, )] ) if policy: inst_topo.emulator_threads_policy = policy inst_topo = hw.numa_fit_instance_to_host(host_topo, inst_topo) return inst_topo def test_mixed_instance_not_define(self): """"""Ensure mixed instance does not have a reserved CPU for emulator thread, when emulator thread policy is not defined. """""" inst_topo = self._test_mixed_instance() self.assertEqual({2: 1, 3: 2}, inst_topo.cells[0].cpu_pinning) self.assertIsNone(inst_topo.cells[0].cpuset_reserved) def test_mixed_instance_shared(self): """"""Ensure mixed instance does not have a reserved CPU for emulator thread, when emulator thread policy is 'share'. """""" inst_topo = self._test_mixed_instance( fields.CPUEmulatorThreadsPolicy.SHARE) self.assertEqual({2: 1, 3: 2}, inst_topo.cells[0].cpu_pinning) self.assertIsNone(inst_topo.cells[0].cpuset_reserved) def test_mixed_instance_isolated(self): """"""Ensure mixed instance gets a reserved CPU for emulator thread, when emulator thread policy is 'isolate'. """""" inst_topo = self._test_mixed_instance( fields.CPUEmulatorThreadsPolicy.ISOLATE) self.assertEqual({2: 1, 3: 2}, inst_topo.cells[0].cpu_pinning) self.assertEqual(set([3]), inst_topo.cells[0].cpuset_reserved) "," cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, id=0, cpu_pinning={2: 3, 3: 6}, cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, id=0, cpu_pinning={2: 6, 3: 7}, def test_host_usage_from_mixed_instance_isolate(self): instance with an ISOLATE emulator thread policy. cpuset=set([2, 3, 6, 7]), pcpuset=set([0, 1, 4, 5]), siblings=[set([0, 4]), set([1, 5]), set([2, 6]), set([3, 7])], cpuset=set([0, 1]), pcpuset=set([2, 3]), memory=2048, id=0, cpu_pinning={2: 0, 3: 1}, self.assertEqual({0, 1, 4, 5}, new_cell.cells[0].pinned_cpus) def test_host_usage_from_mixed_instance_isolate_free(self): instance with an ISOLATE emulator thread policy. cpuset=set([2, 3, 6, 7]), pcpuset=set([0, 1, 4, 5]), pinned_cpus=set([0, 1, 4, 5]), siblings=[set([0, 4]), set([1, 5]), set([2, 6]), set([3, 7])], cpuset=set([2, 3]), pcpuset=set([0, 1]), memory=2048, id=0, self.assertEqual(set(), new_cell.cells[0].pinned_cpus)",159,21
openstack%2Freleases~master~I75205f470672652ecb76c54fc804d727a6326ac5,openstack/releases,master,I75205f470672652ecb76c54fc804d727a6326ac5,Release 0.11.1 for sushy-tools,MERGED,2020-08-04 08:09:32.000000000,2020-08-04 15:04:03.000000000,2020-08-04 15:04:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 08:09:32.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/37d9ddae0db5b90129a6e8dfc26a3c8fc5b254ae', 'message': 'Release 0.11.1 for sushy-tools\n\nChange-Id: I75205f470672652ecb76c54fc804d727a6326ac5\n'}]",0,744656,37d9ddae0db5b90129a6e8dfc26a3c8fc5b254ae,8,3,1,15519,,,0,"Release 0.11.1 for sushy-tools

Change-Id: I75205f470672652ecb76c54fc804d727a6326ac5
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/744656/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,37d9ddae0db5b90129a6e8dfc26a3c8fc5b254ae,, - version: 0.11.1 projects: - repo: openstack/sushy-tools hash: 6c9e15851b4dbd7225b5e1c26633ba36442faccf,,4,0
openstack%2Freleases~master~Ic2cb11ac59e35d4b41371092ca297e9e75282bfa,openstack/releases,master,Ic2cb11ac59e35d4b41371092ca297e9e75282bfa,Release os-brick 3.2.1,MERGED,2020-08-03 13:40:32.000000000,2020-08-04 15:04:02.000000000,2020-08-04 15:04:02.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 13:40:32.000000000', 'files': ['deliverables/victoria/os-brick.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8d085cf9e6fa954264639bb0953982ab357d46ea', 'message': 'Release os-brick 3.2.1\n\nChange-Id: Ic2cb11ac59e35d4b41371092ca297e9e75282bfa\n'}]",0,744473,8d085cf9e6fa954264639bb0953982ab357d46ea,7,2,1,5314,,,0,"Release os-brick 3.2.1

Change-Id: Ic2cb11ac59e35d4b41371092ca297e9e75282bfa
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/744473/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/os-brick.yaml'],1,8d085cf9e6fa954264639bb0953982ab357d46ea,release-os-brick-3.2.1, - version: 3.2.1 projects: - repo: openstack/os-brick hash: 58dff38e3bf4e28874a9d58c9a3b63c1fb2e5cc0,,4,0
openstack%2Fnova~master~I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593,openstack/nova,master,I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593,release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance,MERGED,2020-06-19 13:05:24.000000000,2020-08-04 15:03:53.000000000,2020-07-23 05:28:30.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 30209}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-19 13:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c297f2bef772f7aaf0aff19d4f755d4acb643d58', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of bp/use-pcpu-and-vcpu-in-one-instance.\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 2, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/491e8b5a9551a37ecf19650b1a9c0f8ba8672289', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 3, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/586f8bedddccdf4c57185b318dc85d522d353791', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 4, 'created': '2020-07-07 07:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36b1375e2db8569fb163cda03febbf7be35ebb00', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 5, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dcaa1bb825464be1c674b1f1d472ff3b3ff5e999', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 6, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6150689676bf10ab33cca2d7fc667078ea01d50a', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 7, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d42d79e9de83ca06746f06a15f0b3ff5bbb2b22f', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 8, 'created': '2020-07-16 07:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a34415531be807a7e02d972dafd92567688706e9', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 9, 'created': '2020-07-17 04:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc814424ff779328a13165f7332a63deeebdef3c', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 10, 'created': '2020-07-17 06:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35b6e4c7a20952113ae49c579a4df72ec6cd8ce4', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 11, 'created': '2020-07-20 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ffc531d00bd70b9f9b0726d7d0a5084b40e1e17', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 12, 'created': '2020-07-21 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/330e9fbc07b08d6ecc9ea385ed8aa6a81c285c25', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 13, 'created': '2020-07-21 07:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed70886f84152c3023899b93152e91fb123fe7d0', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 14, 'created': '2020-07-21 13:38:35.000000000', 'files': ['releasenotes/notes/use-pcpu-and-vcpu-in-one-instance-0ea66aeb9c2970de.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/dd1b812ebd0c0d969048acbc1f24432d284772fe', 'message': 'release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance\n\nAdd the release note for bp/use-pcpu-and-vcpu-in-one-instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}]",9,736997,dd1b812ebd0c0d969048acbc1f24432d284772fe,89,11,14,30209,,,0,"release note: add new features introduces by use-pcpu-and-vcpu-in-one-instance

Add the release note for bp/use-pcpu-and-vcpu-in-one-instance.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I510d7b624d2eb0f9e4e7d07bf1fec4d59a6d2593
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/736997/12 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/use-pcpu-and-vcpu-in-one-instance-0ea66aeb9c2970de.yaml'],1,c297f2bef772f7aaf0aff19d4f755d4acb643d58,bp/use-pcpu-and-vcpu-in-one-instance,"--- features: - | Add the ``mixed`` instance CPU allocation policy for instance mixing with both ``PCPU`` and ``VCPU`` resources. It hopes to schedule the CPU intensive workload on the ``PCPU`` and the other workloads on ``VCPU``. The mixed policy avoids the necessity of making all instance CPUs to be dedicated CPUs, and, thus, saved the CPU resources and increased the instance density. - | Add the extra spec ``hw:cpu_dedicated_mask`` for the mixed instance to specify the dedicated CPU list. The CPUs not listed in this list are treated as shared CPUs. - | Instance with real-time CPUs is no longer to be expected with a ``dedicated`` policy, it could adopt the ``mixed`` instance policy and let the non-realtime CPUs run on the shared CPUs, this benefits by saving host CPU resources in cases which contains some workloads that do not care about the performance. - | Export instance dedicated CPU list through the ``dedicated_cpus`` section in the metadata service API. ",,22,0
openstack%2Freleases~master~I2d99b9ff6f97ff981b389d4ffe305fbc452dc09a,openstack/releases,master,I2d99b9ff6f97ff981b389d4ffe305fbc452dc09a,Puppet OpenStack Victoria Milestone 2,MERGED,2020-08-04 02:15:00.000000000,2020-08-04 15:03:37.000000000,2020-08-04 15:03:37.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-04 02:15:00.000000000', 'files': ['deliverables/victoria/puppet-magnum.yaml', 'deliverables/victoria/puppet-nova.yaml', 'deliverables/victoria/puppet-horizon.yaml', 'deliverables/victoria/puppet-tacker.yaml', 'deliverables/victoria/puppet-vitrage.yaml', 'deliverables/victoria/puppet-murano.yaml', 'deliverables/victoria/puppet-keystone.yaml', 'deliverables/victoria/puppet-placement.yaml', 'deliverables/victoria/puppet-manila.yaml', 'deliverables/victoria/puppet-designate.yaml', 'deliverables/victoria/puppet-rally.yaml', 'deliverables/victoria/puppet-barbican.yaml', 'deliverables/victoria/puppet-freezer.yaml', 'deliverables/victoria/puppet-monasca.yaml', 'deliverables/victoria/puppet-ceilometer.yaml', 'deliverables/victoria/puppet-ec2api.yaml', 'deliverables/victoria/puppet-octavia.yaml', 'deliverables/victoria/puppet-oslo.yaml', 'deliverables/victoria/puppet-swift.yaml', 'deliverables/victoria/puppet-cinder.yaml', 'deliverables/victoria/puppet-ironic.yaml', 'deliverables/victoria/puppet-senlin.yaml', 'deliverables/victoria/puppet-zaqar.yaml', 'deliverables/victoria/puppet-neutron.yaml', 'deliverables/victoria/puppet-watcher.yaml', 'deliverables/victoria/puppet-glance.yaml', 'deliverables/victoria/puppet-panko.yaml', 'deliverables/victoria/puppet-vswitch.yaml', 'deliverables/victoria/puppet-cloudkitty.yaml', 'deliverables/victoria/puppet-heat.yaml', 'deliverables/victoria/puppet-qdr.yaml', 'deliverables/victoria/puppet-glare.yaml', 'deliverables/victoria/puppet-aodh.yaml', 'deliverables/victoria/puppet-mistral.yaml', 'deliverables/victoria/puppet-openstacklib.yaml', 'deliverables/victoria/puppet-gnocchi.yaml', 'deliverables/victoria/puppet-tempest.yaml', 'deliverables/victoria/puppet-ovn.yaml', 'deliverables/victoria/puppet-sahara.yaml', 'deliverables/victoria/puppet-trove.yaml', 'deliverables/victoria/puppet-openstack_extras.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9d6488bf6fd976320d96c06fa7010eba15d6b88d', 'message': 'Puppet OpenStack Victoria Milestone 2\n\nChange-Id: I2d99b9ff6f97ff981b389d4ffe305fbc452dc09a\n'}]",0,744589,9d6488bf6fd976320d96c06fa7010eba15d6b88d,7,2,1,9414,,,0,"Puppet OpenStack Victoria Milestone 2

Change-Id: I2d99b9ff6f97ff981b389d4ffe305fbc452dc09a
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/744589/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/puppet-magnum.yaml', 'deliverables/victoria/puppet-nova.yaml', 'deliverables/victoria/puppet-horizon.yaml', 'deliverables/victoria/puppet-tacker.yaml', 'deliverables/victoria/puppet-vitrage.yaml', 'deliverables/victoria/puppet-murano.yaml', 'deliverables/victoria/puppet-keystone.yaml', 'deliverables/victoria/puppet-placement.yaml', 'deliverables/victoria/puppet-manila.yaml', 'deliverables/victoria/puppet-designate.yaml', 'deliverables/victoria/puppet-rally.yaml', 'deliverables/victoria/puppet-barbican.yaml', 'deliverables/victoria/puppet-freezer.yaml', 'deliverables/victoria/puppet-monasca.yaml', 'deliverables/victoria/puppet-ceilometer.yaml', 'deliverables/victoria/puppet-ec2api.yaml', 'deliverables/victoria/puppet-octavia.yaml', 'deliverables/victoria/puppet-oslo.yaml', 'deliverables/victoria/puppet-swift.yaml', 'deliverables/victoria/puppet-cinder.yaml', 'deliverables/victoria/puppet-ironic.yaml', 'deliverables/victoria/puppet-senlin.yaml', 'deliverables/victoria/puppet-zaqar.yaml', 'deliverables/victoria/puppet-neutron.yaml', 'deliverables/victoria/puppet-watcher.yaml', 'deliverables/victoria/puppet-glance.yaml', 'deliverables/victoria/puppet-panko.yaml', 'deliverables/victoria/puppet-vswitch.yaml', 'deliverables/victoria/puppet-cloudkitty.yaml', 'deliverables/victoria/puppet-heat.yaml', 'deliverables/victoria/puppet-qdr.yaml', 'deliverables/victoria/puppet-glare.yaml', 'deliverables/victoria/puppet-aodh.yaml', 'deliverables/victoria/puppet-mistral.yaml', 'deliverables/victoria/puppet-openstacklib.yaml', 'deliverables/victoria/puppet-gnocchi.yaml', 'deliverables/victoria/puppet-tempest.yaml', 'deliverables/victoria/puppet-ovn.yaml', 'deliverables/victoria/puppet-sahara.yaml', 'deliverables/victoria/puppet-trove.yaml', 'deliverables/victoria/puppet-openstack_extras.yaml']",41,9d6488bf6fd976320d96c06fa7010eba15d6b88d,puppet-openstack-victoria-m2, - projects: - hash: c08b1b181c1dd902e62926e8242a81f199971041 repo: openstack/puppet-openstack_extras version: 17.2.0,,164,0
openstack%2Fopenstack-helm-infra~master~I370d69d8747ce894684dbff87b3580b6d1e82647,openstack/openstack-helm-infra,master,I370d69d8747ce894684dbff87b3580b6d1e82647,feat(tls): add tls to  prometheus-openstack-exporter,MERGED,2020-08-03 22:02:57.000000000,2020-08-04 14:56:38.000000000,2020-08-04 14:54:26.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 22:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a55424287b16bc3ac07c29e2baed3f7319af5c91', 'message': 'feat(tls): add tls to  prometheus-openstack-exporter\n\nThis patchset enables passing of tls certificate to\nopenstack.\n\nChange-Id: I370d69d8747ce894684dbff87b3580b6d1e82647\n'}, {'number': 2, 'created': '2020-08-03 22:20:36.000000000', 'files': ['prometheus-openstack-exporter/values.yaml', 'prometheus-openstack-exporter/templates/job-ks-user.yaml', 'prometheus-openstack-exporter/values_overrides/tls.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4d512f6eff9c240a5838d160bdd86760622ce8b6', 'message': 'feat(tls): add tls to  prometheus-openstack-exporter\n\nThis patchset enables passing of tls certificate to\nopenstack.\n\nChange-Id: I370d69d8747ce894684dbff87b3580b6d1e82647\n'}]",0,744563,4d512f6eff9c240a5838d160bdd86760622ce8b6,9,3,2,24780,,,0,"feat(tls): add tls to  prometheus-openstack-exporter

This patchset enables passing of tls certificate to
openstack.

Change-Id: I370d69d8747ce894684dbff87b3580b6d1e82647
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/744563/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/values.yaml', 'prometheus-openstack-exporter/templates/job-ks-user.yaml', 'prometheus-openstack-exporter/values_overrides/tls.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml']",4,a55424287b16bc3ac07c29e2baed3f7319af5c91,,"{{- with $env := dict ""ksUserSecret"" $ksUserSecret ""useCA"" .Values.manifests.certificates }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.identity.api.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 12 }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.identity.api.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 8 }}","{{- with $env := dict ""ksUserSecret"" $ksUserSecret }}",18,2
openstack%2Fcharm-keystone-ldap~master~Icce2e9b80970bd8987bec1c0f68efd3ed22599bd,openstack/charm-keystone-ldap,master,Icce2e9b80970bd8987bec1c0f68efd3ed22599bd,Release sync for 20.08,MERGED,2020-07-27 19:53:32.000000000,2020-08-04 14:48:38.000000000,2020-08-04 14:48:38.000000000,"[{'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 19:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/e129579b14d22b8ba21f5f12d1d451a63c79400e', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Icce2e9b80970bd8987bec1c0f68efd3ed22599bd\n'}, {'number': 2, 'created': '2020-07-30 11:06:01.000000000', 'files': ['rebuild', 'test-requirements.txt', 'src/tox.ini', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/test-requirements.txt', 'src/tests/bundles/groovy-victoria.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/6ac9ddf3d705d01b69832bd1ea69108150923f82', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: Icce2e9b80970bd8987bec1c0f68efd3ed22599bd\n'}]",0,743357,6ac9ddf3d705d01b69832bd1ea69108150923f82,21,5,2,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: Icce2e9b80970bd8987bec1c0f68efd3ed22599bd
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/57/743357/2 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",5,e129579b14d22b8ba21f5f12d1d451a63c79400e,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,28,23
openstack%2Fnova~master~I3d19195ddefb856c10fa6756dd98850119a4dfcb,openstack/nova,master,I3d19195ddefb856c10fa6756dd98850119a4dfcb,metadata: export the vCPU IDs that are pinning on the host CPUs,MERGED,2019-10-16 13:48:54.000000000,2020-08-04 14:24:39.000000000,2020-07-23 05:28:23.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32029}, {'_account_id': 32071}]","[{'number': 1, 'created': '2019-10-16 13:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aefe976f964b1d403d4d70f244ad9dd6f7b4abe3', 'message': '[WIP] metadata: export the vCPU IDs that are pinning on the host CPUs\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n'}, {'number': 2, 'created': '2019-10-17 13:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c466c21be57f05e0652d54e403730b5c2d6fdf3', 'message': 'metadata: export the vCPU IDs that are pinning on the host CPUs\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n'}, {'number': 3, 'created': '2019-10-17 14:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21bd68dbc8476bd7d6f1963258cd59fe994a8b96', 'message': '[WIP] metadata: export the vCPU IDs that are pinning on the host CPUs\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n'}, {'number': 4, 'created': '2019-11-26 02:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a91df43d212fe6e13a07f304293f0f759f5393c3', 'message': 'metadata: export the vCPU IDs that are pinning on the host CPUs\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n'}, {'number': 5, 'created': '2020-01-29 04:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d111cb96e3d22fdc25c63b9791d79b9551e5fad', 'message': '[WIP] metadata: export the vCPU IDs that are pinning on the host CPUs\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n'}, {'number': 6, 'created': '2020-02-03 13:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4278394dfb643474a1be86c1a50112ffd936a87', 'message': 'metadata: export the vCPU IDs that are pinning on the host CPUs\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n'}, {'number': 7, 'created': '2020-02-03 13:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12eabea817df32e61b9e1e9ce2500c6f430b268b', 'message': '[WIP] metadata: export the vCPU IDs that are pinning on the host CPUs\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n'}, {'number': 8, 'created': '2020-03-17 00:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f503487106f69d6bb1e6596d1b01c586c67135b4', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 9, 'created': '2020-03-24 14:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76efda796f5e57d7c81453bcbe37c7bf915db387', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 10, 'created': '2020-03-25 09:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc88e91ba06b52aae42b94a64cb72ca415d6206d', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 11, 'created': '2020-03-26 16:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc2b7ac50390c9193a33ddda2f6dec55092969d9', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 12, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abf0c31296c5e49b0d8a9d734d53a98585487987', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 13, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a75b5d3f418f84ab72eba090d03a1c31c99eb22d', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 14, 'created': '2020-04-08 02:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edd83f6b17fed01039c4aeb93b674017f370c3cb', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 15, 'created': '2020-04-08 02:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6af79e9eb62e6efbf62d3cdc12917ec0d594b2aa', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 16, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0685bf5796064cc7a8ea98f75fae8d37f00266a2', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 17, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9c87b061fe4f57e52fe049107a148c6ff965845', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\n""}, {'number': 18, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/672adb0b7c7f4ba6855471a30453da7a0fdc3ed7', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 19, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ba72cbbe9f65085bbdaf292b33ea514845723e2', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 20, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a160bb58ec4f351a6b9f2b3f2407f3bd08319e9', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 21, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9bd000f658094af5fbd71b90067cccf2c920cc9', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 22, 'created': '2020-07-07 07:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52b5c75b2e15359a7805c272a3571b9b938a0a9e', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 23, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f5a02818d770930b188f7365da953939bcda672', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 24, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/383db94f5f269b92f8d586d30485b6548bfc0280', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 25, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/332c7cf7a3dfd66292b9a79ed4646a89304f49a1', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 26, 'created': '2020-07-16 07:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4e5c823e80e0f17d08d4aac234c38d3e480dc9c', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 27, 'created': '2020-07-17 04:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dee21ffe7bbf8fb0df3c2c63f692812467410f33', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 28, 'created': '2020-07-17 06:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da38c0e9155e81188cd6a6c9e7b5d55540c02f5e', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 29, 'created': '2020-07-20 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ef9399f1fdedffb3d15c2003ad9f79fb87bd7d1', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 30, 'created': '2020-07-21 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96fcb54be2a21558ec079c74ec31180723844a00', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 31, 'created': '2020-07-21 07:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1fa1fa96211f3bcca87ccb1a378cfe1b1889ef1', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 32, 'created': '2020-07-21 13:38:35.000000000', 'files': ['nova/tests/unit/test_metadata.py', 'nova/api/metadata/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/916ffddca8d41daa367cf819e14827cf4b4180a5', 'message': ""metadata: export the vCPU IDs that are pinning on the host CPUs\n\nAdd the 'dedicated_cpus' section in metadata API service to tell\nthe instance CPUs that are set as 'dedicated' CPUs if instance\nhas any dedicated CPUs. If instance is using a 'shared' CPU\nallocation policy, it reports 'None' for no dedicated CPU.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",16,688936,916ffddca8d41daa367cf819e14827cf4b4180a5,253,18,32,30209,,,0,"metadata: export the vCPU IDs that are pinning on the host CPUs

Add the 'dedicated_cpus' section in metadata API service to tell
the instance CPUs that are set as 'dedicated' CPUs if instance
has any dedicated CPUs. If instance is using a 'shared' CPU
allocation policy, it reports 'None' for no dedicated CPU.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I3d19195ddefb856c10fa6756dd98850119a4dfcb
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/688936/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/test_metadata.py', 'nova/objects/instance_numa.py', 'nova/api/metadata/base.py']",3,aefe976f964b1d403d4d70f244ad9dd6f7b4abe3,bp/use-pcpu-and-vcpu-in-one-instance,"USSURI = '2020-01-01' # TODO(huaqiang) to be fixed with real realease date USSURI, instance.numa_topology if self._check_os_version(USSURI, version): metadata['pinned_cpus'] = self._get_instance_cpus() def _get_instance_cpus(self): pinned_cpus= {} if self.instance.numa_topology is not None: cpu_mapping = self.instance.numa_topology.pinned_cpus return pinned_cpus 'device_metadata', 'numa_topology']", 'device_metadata'],36,5
openstack%2Fgovernance~master~Ifbb169c5909ade254d79bc903bb145a9306bf533,openstack/governance,master,Ifbb169c5909ade254d79bc903bb145a9306bf533,Deprecate os_congress project,MERGED,2020-07-22 20:14:10.000000000,2020-08-04 14:22:45.000000000,2020-08-04 14:19:42.000000000,"[{'_account_id': 1004}, {'_account_id': 8556}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 20:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/97c3d8c21b85d0a754e0f9e07e758e2c96dde28e', 'message': 'Deprecate os_congress project\n\nDepends-On: https://review.opendev.org/742532\nChange-Id: Ifbb169c5909ade254d79bc903bb145a9306bf533\n'}, {'number': 2, 'created': '2020-07-28 11:55:35.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/3a3017f3541f11747cd7fd53482b60a1236ad80e', 'message': 'Deprecate os_congress project\n\nDepends-On: https://review.opendev.org/742532\nChange-Id: Ifbb169c5909ade254d79bc903bb145a9306bf533\n'}]",1,742533,3a3017f3541f11747cd7fd53482b60a1236ad80e,15,5,2,28619,,,0,"Deprecate os_congress project

Depends-On: https://review.opendev.org/742532
Change-Id: Ifbb169c5909ade254d79bc903bb145a9306bf533
",git fetch https://review.opendev.org/openstack/governance refs/changes/33/742533/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,97c3d8c21b85d0a754e0f9e07e758e2c96dde28e,project-update, openstack-ansible-os_congress: release-management: deprecated repos: - openstack/openstack-ansible-os_congress, - openstack/openstack-ansible-os_congress,4,1
openstack%2Fmanila~stable%2Frocky~I76e11fef27c9723f019cfdfdc6ea86878db78776,openstack/manila,stable/rocky,I76e11fef27c9723f019cfdfdc6ea86878db78776,[NetApp] Fix falsely report migration cancelation success,MERGED,2020-07-29 23:55:32.000000000,2020-08-04 14:14:07.000000000,2020-07-30 23:51:51.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}, {'_account_id': 31528}]","[{'number': 1, 'created': '2020-07-29 23:55:32.000000000', 'files': ['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/b8fc8feb070a61b957500a51a95af153da53a02c', 'message': '[NetApp] Fix falsely report migration cancelation success\n\nNetApp ONTAP share delete operation can fail sometimes when is triggered\nimmediately after migration cancelation on a overloaded NetApp backend.\nMigration cancelation invokes ""abort_volume_move"" which is an asynchronous\nAPI. If share delete operation is requested immediately after call the\nformer API, it fails because the ""abort_volume_move"" is still in progress.\nNow NetApp cDOT driver checks, for a period of time, if the\n``volume-move-abort`` operation has ended before report migration\ncancelation success.\n\nThis patch squash the following commit that improves the release note\nfor this fix:\n[NetApp] Updating the release note for bugfix 1688620\n(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)\n\nChange-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776\nCloses-Bug: #1688620\n(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)\n(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)\n(cherry picked from commit c915918f3c6ac608469263dd05e3f2b5eb61dc4e)\n(cherry picked from commit 1199489d998a729d7fcf7cf7f88ab34b6464d46b)\n'}]",0,743855,b8fc8feb070a61b957500a51a95af153da53a02c,18,6,1,16643,,,0,"[NetApp] Fix falsely report migration cancelation success

NetApp ONTAP share delete operation can fail sometimes when is triggered
immediately after migration cancelation on a overloaded NetApp backend.
Migration cancelation invokes ""abort_volume_move"" which is an asynchronous
API. If share delete operation is requested immediately after call the
former API, it fails because the ""abort_volume_move"" is still in progress.
Now NetApp cDOT driver checks, for a period of time, if the
``volume-move-abort`` operation has ended before report migration
cancelation success.

This patch squash the following commit that improves the release note
for this fix:
[NetApp] Updating the release note for bugfix 1688620
(cherry picked from commit a0dd86a98788f7e2d1ca55be26c2a3dea4e36f57)

Change-Id: I76e11fef27c9723f019cfdfdc6ea86878db78776
Closes-Bug: #1688620
(cherry picked from commit 0ee414082318d22b3ed19acad6a479cb105c30e5)
(cherry picked from commit 71c3a08ead50e8aa68cef3a26c8f8485922895b6)
(cherry picked from commit c915918f3c6ac608469263dd05e3f2b5eb61dc4e)
(cherry picked from commit 1199489d998a729d7fcf7cf7f88ab34b6464d46b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/55/743855/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/options.py', 'manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1688620-netapp-migration-cancelation-fb913131eb8eb82a.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",4,b8fc8feb070a61b957500a51a95af153da53a02c,bug/1688620," @ddt.data({'state': 'failed'}, {'state': 'healthy'}) @ddt.unpack def test_migration_cancel(self, state): self.library.configuration.netapp_migration_cancel_timeout = 15 mock.Mock(return_value={'state': state})) if state == 'failed': retval = self.library.migration_cancel( self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance(), source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') self.assertIsNone(retval) mock_info_log.assert_called_once() else: self.assertRaises( (exception.NetAppException), self.library.migration_cancel, self.context, fake_share.fake_share_instance(), fake_share.fake_share_instance, source_snapshots, snapshot_mappings, share_server=fake.SHARE_SERVER, destination_share_server='dst_srv') @ddt.data({'already_canceled': True, 'effect': exception.NetAppException}, {'already_canceled': False, 'effect': (None, exception.NetAppException)}) @ddt.unpack def test_migration_cancel_exception_volume_status(self, already_canceled, effect): source_snapshots = mock.Mock() snapshot_mappings = mock.Mock() self.library.configuration.netapp_migration_cancel_timeout = 1 mock_exception_log = self.mock_object(lib_base.LOG, 'exception') mock_info_log = self.mock_object(lib_base.LOG, 'info') self.mock_object(self.library, '_get_vserver', mock.Mock(return_value=(fake.VSERVER1, mock.Mock()))) self.mock_object(self.library, '_get_backend_share_name', mock.Mock(return_value=fake.SHARE_NAME)) self.mock_object(self.client, 'abort_volume_move') self.mock_object(self.client, 'get_volume_move_status', mock.Mock(side_effect=effect)) self.library.migration_cancel( mock_exception_log.assert_called_once() if not already_canceled:"," @ddt.data(utils.annotated('already_canceled', (True, )), utils.annotated('not_canceled_yet', (False, ))) def test_migration_cancel(self, already_canceled): already_canceled = already_canceled[0] mock_exception_log = self.mock_object(lib_base.LOG, 'exception') vol_move_side_effect = (exception.NetAppException if already_canceled else None) mock.Mock(side_effect=vol_move_side_effect)) retval = self.library.migration_cancel( self.assertIsNone(retval) if already_canceled: mock_exception_log.assert_called_once() else:",103,14
openstack%2Fironic-python-agent~stable%2Fussuri~Id84ac129bba97540338e25f0027aa0a0f51bde52,openstack/ironic-python-agent,stable/ussuri,Id84ac129bba97540338e25f0027aa0a0f51bde52,Return the final RAID configuration from apply_configuration,MERGED,2020-07-29 14:35:51.000000000,2020-08-04 13:59:18.000000000,2020-08-04 13:54:09.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-29 14:35:51.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/apply-raid-aeca7848c6320d6b.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0f2836a0e441390ac00ca47ba8097e942a9c9503', 'message': ""Return the final RAID configuration from apply_configuration\n\nAgentRAID expects it and fails with TypeError if it's not provided.\n\nChange-Id: Id84ac129bba97540338e25f0027aa0a0f51bde52\nStory: #2006963\n(cherry picked from commit f03d72019a9e1bd51d52fb7cb4b5d77a29e44658)\n""}]",0,743773,0f2836a0e441390ac00ca47ba8097e942a9c9503,9,3,1,10239,,,0,"Return the final RAID configuration from apply_configuration

AgentRAID expects it and fails with TypeError if it's not provided.

Change-Id: Id84ac129bba97540338e25f0027aa0a0f51bde52
Story: #2006963
(cherry picked from commit f03d72019a9e1bd51d52fb7cb4b5d77a29e44658)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/73/743773/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/apply-raid-aeca7848c6320d6b.yaml']",3,0f2836a0e441390ac00ca47ba8097e942a9c9503,story/2006963-stable/ussuri,--- fixes: - | Fixes the return value of the ``apply_configuration`` deploy step: the ``agent`` RAID interface expects the final RAID configuration to be returned. ,,70,1
openstack%2Fneutron-lib~stable%2Fstein~Id6e6d633b00237d8909160e7ed6f5e495399a252,openstack/neutron-lib,stable/stein,Id6e6d633b00237d8909160e7ed6f5e495399a252,placement client: fix routed prov networks working,ABANDONED,2020-02-10 13:00:45.000000000,2020-08-04 13:58:29.000000000,,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 26970}]","[{'number': 1, 'created': '2020-02-10 13:00:45.000000000', 'files': ['neutron_lib/placement/client.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/309c53a7d69f53cf0828559d70b7277dc7a07f98', 'message': 'placement client: fix routed prov networks working\n\nRouted provider networks works with placement microversion 1.1, that\nversion returned no body for resource provider creation, but from 1.20\nbody is returned and the client expected that as bandwidth feature were\ndesigned after that.\n\nDepends-On: https://review.opendev.org/706774\nRelated-Bug: #1828543\nChange-Id: Id6e6d633b00237d8909160e7ed6f5e495399a252\n(cherry picked from commit 28e71cbd74bf10da3332265659adb27ee9614582)\n'}]",0,706820,309c53a7d69f53cf0828559d70b7277dc7a07f98,9,4,1,8313,,,0,"placement client: fix routed prov networks working

Routed provider networks works with placement microversion 1.1, that
version returned no body for resource provider creation, but from 1.20
body is returned and the client expected that as bandwidth feature were
designed after that.

Depends-On: https://review.opendev.org/706774
Related-Bug: #1828543
Change-Id: Id6e6d633b00237d8909160e7ed6f5e495399a252
(cherry picked from commit 28e71cbd74bf10da3332265659adb27ee9614582)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/20/706820/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/placement/client.py'],1,309c53a7d69f53cf0828559d70b7277dc7a07f98,bug/1828543," rsp = self._post(url, resource_provider) if (self._target_version < _get_version(PLACEMENT_API_RETURN_PROVIDER_BODY)): return else: return rsp.json()"," return self._post(url, resource_provider).json()",6,1
openstack%2Fkeystoneauth~stable%2Fstein~I1f06c2cd5c4e93e04582d4ffbb434db92010d712,openstack/keystoneauth,stable/stein,I1f06c2cd5c4e93e04582d4ffbb434db92010d712,add handling for multiple error returns,ABANDONED,2020-02-10 10:00:17.000000000,2020-08-04 13:56:57.000000000,,"[{'_account_id': 2903}, {'_account_id': 8313}, {'_account_id': 8482}, {'_account_id': 10670}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-10 10:00:17.000000000', 'files': ['keystoneauth1/tests/unit/test_session.py', 'keystoneauth1/exceptions/http.py', 'releasenotes/notes/api-sig-error-guideline-handler.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a90c05fd835c60e3c02d6cc6182aaf2edff71e5e', 'message': 'add handling for multiple error returns\n\nThis change adds logic to the `exceptions.from_response` to handle\nerrors formatted in accordance with the API-SIG guidelines. When there\nare multiple errors returned, only the first error will be included in\nthe exception with a note informing that there were more errors.\n\nAPI SIG guideline:\nhttps://specs.openstack.org/openstack/api-sig/guidelines/errors.html\n\nemail thread for content:\nhttp://lists.openstack.org/pipermail/openstack-discuss/2019-May/006377.html\n\nrelated neutron bug:\nhttps://bugs.launchpad.net/neutron/+bug/1828543\n\nChange-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712\n(cherry picked from commit 01d2da9e4776fed0f2551a4c6e39a72865d5ca72)\n'}]",0,706774,a90c05fd835c60e3c02d6cc6182aaf2edff71e5e,11,5,1,8313,,,0,"add handling for multiple error returns

This change adds logic to the `exceptions.from_response` to handle
errors formatted in accordance with the API-SIG guidelines. When there
are multiple errors returned, only the first error will be included in
the exception with a note informing that there were more errors.

API SIG guideline:
https://specs.openstack.org/openstack/api-sig/guidelines/errors.html

email thread for content:
http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006377.html

related neutron bug:
https://bugs.launchpad.net/neutron/+bug/1828543

Change-Id: I1f06c2cd5c4e93e04582d4ffbb434db92010d712
(cherry picked from commit 01d2da9e4776fed0f2551a4c6e39a72865d5ca72)
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/74/706774/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/tests/unit/test_session.py', 'keystoneauth1/exceptions/http.py', 'releasenotes/notes/api-sig-error-guideline-handler.yaml']",3,a90c05fd835c60e3c02d6cc6182aaf2edff71e5e,update-error-handler,--- features: - Fix handling of HTTP error payloads that conform to the API SIG formatting guidelines. ,,127,0
openstack%2Fnova~master~Ib3c455bf21f33923bb82e3f5c53035f6722480d3,openstack/nova,master,Ib3c455bf21f33923bb82e3f5c53035f6722480d3,Reduce gen conflict in COMPUTE_STATUS_DISABLED handling,MERGED,2020-01-29 18:55:46.000000000,2020-08-04 13:21:22.000000000,2020-07-22 02:22:33.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-29 18:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de4d5eeb6bd9c5f0333cbfa1de103f08d5600c03', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is subject to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable ->disable race window we only\nlose scheduling performance as the placement filter is ineffective.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the de-sync would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However de-sync can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already query placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the lot fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}, {'number': 2, 'created': '2020-01-31 14:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bc074d0624f57a0621610052a2385f2adfbd3cf', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is subject to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable ->disable race window we only\nlose scheduling performance as the placement filter is ineffective.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the de-sync would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However de-sync can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already query placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the lot fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nThe change in the notification test is also due to the fixed behavior.\nThe test disables the compute. Until now this caused that the\nFilterScheduler detected that there is no valid host. Now it is already\ndetect by the scheduler manager based on the empty placement response.\nThis causes now that that the FilterScheduler is not called and\ntherefore the select_destination.start notification is not sent.\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}, {'number': 3, 'created': '2020-01-31 14:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/092d10c41bdbca5bdebc6cb579e172d7677478de', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is subject to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable ->disable race window we only\nlose scheduling performance as the placement filter is ineffective.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the de-sync would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However de-sync can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already query placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the lot fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nThe change in the notification test is also due to the fixed behavior.\nThe test disables the compute. Until now this caused that the\nFilterScheduler detected that there is no valid host. Now it is already\ndetect by the scheduler manager based on the empty placement response.\nThis causes now that that the FilterScheduler is not called and\ntherefore the select_destination.start notification is not sent.\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}, {'number': 4, 'created': '2020-02-03 11:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdea7282e6a6ac23e38640c193d725dfea1a2483', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is subject to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable ->disable race window we only\nlose scheduling performance as the placement filter is ineffective.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the de-sync would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However de-sync can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already query placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the lot fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nThe change in the notification test is also due to the fixed behavior.\nThe test disables the compute. Until now this caused that the\nFilterScheduler detected that there is no valid host. Now it is already\ndetect by the scheduler manager based on the empty placement response.\nThis causes now that that the FilterScheduler is not called and\ntherefore the select_destination.start notification is not sent.\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}, {'number': 5, 'created': '2020-07-06 12:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e373ffa6e64e50525a7d81162a8d0ddfb40bac14', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is subject to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable ->disable race window we only\nlose scheduling performance as the placement filter is ineffective.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the de-sync would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However de-sync can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already query placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the lot fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nThe change in the notification test is also due to the fixed behavior.\nThe test disables the compute. Until now this caused that the\nFilterScheduler detected that there is no valid host. Now it is already\ndetect by the scheduler manager based on the empty placement response.\nThis causes now that that the FilterScheduler is not called and\ntherefore the select_destination.start notification is not sent.\n\nCloses-Bug: #1886418\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}, {'number': 6, 'created': '2020-07-06 12:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f725630add2154a3cc0d33ac1e03332592d1147', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is subject to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable ->disable race window we only\nlose scheduling performance as the placement filter is ineffective.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the de-sync would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However de-sync can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already query placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the lot fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nThe change in the notification test is also due to the fixed behavior.\nThe test disables the compute. Until now this caused that the\nFilterScheduler detected that there is no valid host. Now it is already\ndetect by the scheduler manager based on the empty placement response.\nThis causes now that that the FilterScheduler is not called and\ntherefore the select_destination.start notification is not sent.\n\nCloses-Bug: #1886418\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}, {'number': 7, 'created': '2020-07-10 12:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05cfc187d2b06aa560245250709362d45ea1a80b', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait is supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is prone to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable->disable race window we only\nlose scheduling performance as the placement filter is inefficient.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the conflict would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However conflict can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already queried placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the much fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nThe change in the notification test is also due to the fixed behavior.\nThe test disables the compute. Until now this caused that the\nFilterScheduler detected that there is no valid host. Now it is already\ndetect by the scheduler manager based on the empty placement response.\nThis causes now that that the FilterScheduler is not called and\ntherefore the select_destination.start notification is not sent.\n\nCloses-Bug: #1886418\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}, {'number': 8, 'created': '2020-07-10 15:39:54.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1886418.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/notification_sample_tests/test_compute_task.py', 'nova/compute/manager.py', 'nova/tests/unit/compute/test_virtapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1b661c2669d9d75b3d4622418e84a5c4046c2072', 'message': 'Reduce gen conflict in COMPUTE_STATUS_DISABLED handling\n\nThe COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute\nRP when the compute service is disabled, and the trait is supposed to be\nremoved when the service is enabled again. However adding and removing\ntraits is prone to generation conflict in placement. The original\nimplementation of blueprint pre-filter-disabled-computes noticed this\nand prints a detailed warning message while the API operation succeeds.\nWe can ignore the conflict this way because the periodic\nupdate_available_resource() call will re-sync the traits later.\n\nStill this gives human noticeable time window where the trait and the\nservice state are not in sync.\n\nSetting the compute service disable is the smaller problem as the\nscheduler still uses the ComputeFilter that filters the computes based\non the service api. So during the enable->disable race window we only\nlose scheduling performance as the placement filter is inefficient.\n\nIn case of setting the compute service to enabled the race is more\nvisible as the placement pre_filter will filter out the compute that\nis enable by the admin until the re-sync happens. If the conflict would\nonly happen due to high load on the given compute the such delay could\nbe explained by the load itself. However conflict can happen simply due\nto a new instance boot on the compute.\n\nFortunately the solution is easy and cheap. The current service state\nhandler code path has already queried placement about the existing traits\non the compute RP and therefore it receives the current RP generation as\nwell. But it does not really use this information but instead rely on\nthe potentially stale provide_tree cache.\n\nThis patch uses the much fresher RP generation known by the service state\nhandling code instead of the potentially stale provider_tree cache.\n\nThe change in the notification test is also due to the fixed behavior.\nThe test disables the compute. Until now this caused that the\nFilterScheduler detected that there is no valid host. Now it is already\ndetect by the scheduler manager based on the empty placement response.\nThis causes now that that the FilterScheduler is not called and\ntherefore the select_destination.start notification is not sent.\n\nCloses-Bug: #1886418\n\nChange-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3\n'}]",29,704866,1b661c2669d9d75b3d4622418e84a5c4046c2072,77,12,8,9708,,,0,"Reduce gen conflict in COMPUTE_STATUS_DISABLED handling

The COMPUTE_STATUS_DISABLED trait is supposed to be added to the compute
RP when the compute service is disabled, and the trait is supposed to be
removed when the service is enabled again. However adding and removing
traits is prone to generation conflict in placement. The original
implementation of blueprint pre-filter-disabled-computes noticed this
and prints a detailed warning message while the API operation succeeds.
We can ignore the conflict this way because the periodic
update_available_resource() call will re-sync the traits later.

Still this gives human noticeable time window where the trait and the
service state are not in sync.

Setting the compute service disable is the smaller problem as the
scheduler still uses the ComputeFilter that filters the computes based
on the service api. So during the enable->disable race window we only
lose scheduling performance as the placement filter is inefficient.

In case of setting the compute service to enabled the race is more
visible as the placement pre_filter will filter out the compute that
is enable by the admin until the re-sync happens. If the conflict would
only happen due to high load on the given compute the such delay could
be explained by the load itself. However conflict can happen simply due
to a new instance boot on the compute.

Fortunately the solution is easy and cheap. The current service state
handler code path has already queried placement about the existing traits
on the compute RP and therefore it receives the current RP generation as
well. But it does not really use this information but instead rely on
the potentially stale provide_tree cache.

This patch uses the much fresher RP generation known by the service state
handling code instead of the potentially stale provider_tree cache.

The change in the notification test is also due to the fixed behavior.
The test disables the compute. Until now this caused that the
FilterScheduler detected that there is no valid host. Now it is already
detect by the scheduler manager based on the empty placement response.
This causes now that that the FilterScheduler is not called and
therefore the select_destination.start notification is not sent.

Closes-Bug: #1886418

Change-Id: Ib3c455bf21f33923bb82e3f5c53035f6722480d3
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/704866/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_services.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py']",3,de4d5eeb6bd9c5f0333cbfa1de103f08d5600c03,bug/1886418," context, rp_uuid, new_traits, generation=trait_info.generation)"," context, rp_uuid, new_traits)",11,23
openstack%2Fnova~stable%2Fstein~I8a2726b39d0444de8c35480024078a97430f5d0c,openstack/nova,stable/stein,I8a2726b39d0444de8c35480024078a97430f5d0c,objects: Update keypairs when saving an instance,MERGED,2020-07-27 15:49:39.000000000,2020-08-04 12:57:51.000000000,2020-08-04 12:55:02.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-27 15:49:39.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0bc5a4ecb524a73aacb5d0dd2887799885bdbb14', 'message': 'objects: Update keypairs when saving an instance\n\nThe keypair of a server is updated when rebuilding the server with a\nkeypair. This function has been added since API microversion 2.54.\nHowever the \'keypairs\' of the instance object is not saved when saving\nthe instance object currently.\n\nMake the instance object update the \'keypairs\' field when saving the\ninstance object.\n\nConflicts:\n\tnova/tests/unit/fake_instance.py\n\tnova/tests/unit/objects/test_instance.py\n\nNOTE(stephenfin): Conflicts in \'fake_instance.py\' are due to change\nIf7f48933db10fcca3b9a05e1e978dfc51f6dabd0 (""Claim resources in resource\ntracker""), which is related to the vPMEM work and shouldn\'t be\nbackported, while the conflicts in \'test_instance.py\' are due to change\nIc89352a9900515484bffe961475feb1cefc6b2a9 (""Remove\n\'instance_update_at_top\', \'instance_destroy_at_top\'"") which removed some\ncells v1 tests but shouldn\'t be removed here where cells v1 is\ntechnically still a thing.\n\nChange-Id: I8a2726b39d0444de8c35480024078a97430f5d0c\nCloses-Bug: #1843708\nCo-authored-by: Stephen Finucane <stephenfin@redhat.com>\n(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)\n(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)\n(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)\n'}]",1,743264,0bc5a4ecb524a73aacb5d0dd2887799885bdbb14,24,8,1,15334,,,0,"objects: Update keypairs when saving an instance

The keypair of a server is updated when rebuilding the server with a
keypair. This function has been added since API microversion 2.54.
However the 'keypairs' of the instance object is not saved when saving
the instance object currently.

Make the instance object update the 'keypairs' field when saving the
instance object.

Conflicts:
	nova/tests/unit/fake_instance.py
	nova/tests/unit/objects/test_instance.py

NOTE(stephenfin): Conflicts in 'fake_instance.py' are due to change
If7f48933db10fcca3b9a05e1e978dfc51f6dabd0 (""Claim resources in resource
tracker""), which is related to the vPMEM work and shouldn't be
backported, while the conflicts in 'test_instance.py' are due to change
Ic89352a9900515484bffe961475feb1cefc6b2a9 (""Remove
'instance_update_at_top', 'instance_destroy_at_top'"") which removed some
cells v1 tests but shouldn't be removed here where cells v1 is
technically still a thing.

Change-Id: I8a2726b39d0444de8c35480024078a97430f5d0c
Closes-Bug: #1843708
Co-authored-by: Stephen Finucane <stephenfin@redhat.com>
(cherry picked from commit 086796021b189c3ac64805ed8f6bde833906d284)
(cherry picked from commit aed86ee5d6289edf1baf9fe0b2a9e509031fdd25)
(cherry picked from commit b971dc82cb524fe86284c95ec671e2bad1c2874f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/743264/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1843708.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",4,0bc5a4ecb524a73aacb5d0dd2887799885bdbb14,bug/1843708," inst.keypairs = objects.KeyPairList( objects=[objects.KeyPair(name='foo')]) json_keypairs = jsonutils.dumps(inst.keypairs.obj_to_primitive()) # Check changed fields in the instance object self.assertIn('keypairs', inst.obj_what_changed()) self.assertEqual({'objects'}, inst.keypairs.obj_what_changed()) inst.save() expected_vals = { 'numa_topology': None, 'migration_context': None, 'vcpu_model': json_vcpu_model, 'keypairs': json_keypairs, } # Verify that the record of changed fields has been cleared self.assertNotIn('keypairs', inst.obj_what_changed()) self.assertEqual(set(), inst.keypairs.obj_what_changed())"," inst.save() expected_vals = {'numa_topology': None, 'migration_context': None, 'vcpu_model': json_vcpu_model}",117,8
openstack%2Frally~master~If9cdf5c3c0e04041da89c1b60e97bfea2741b5cf,openstack/rally,master,If9cdf5c3c0e04041da89c1b60e97bfea2741b5cf,Add context manager support to sshutils.SSH,MERGED,2020-07-14 16:45:08.000000000,2020-08-04 12:53:44.000000000,2020-08-04 12:53:44.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 16:45:08.000000000', 'files': ['rally/utils/sshutils.py', 'tests/unit/utils/test_sshutils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/9931a2e5184f86ede2acc100f8622120ca75f9f9', 'message': 'Add context manager support to sshutils.SSH\n\nEnable the use of context managers for sshutils.SSH class.\n\nChange-Id: If9cdf5c3c0e04041da89c1b60e97bfea2741b5cf\n'}]",0,741004,9931a2e5184f86ede2acc100f8622120ca75f9f9,6,2,1,31335,,,0,"Add context manager support to sshutils.SSH

Enable the use of context managers for sshutils.SSH class.

Change-Id: If9cdf5c3c0e04041da89c1b60e97bfea2741b5cf
",git fetch https://review.opendev.org/openstack/rally refs/changes/04/741004/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/utils/sshutils.py', 'tests/unit/utils/test_sshutils.py']",2,9931a2e5184f86ede2acc100f8622120ca75f9f9,sshcm," def test_close_context_manager_enter(self): self.assertEqual(self.ssh, self.ssh.__enter__()) def test_close_context_manager_exit(self): with mock.patch.object(self.ssh, ""_client"") as m_client: self.ssh.__exit__() m_client.close.assert_called_once_with() self.assertFalse(self.ssh._client) ",,16,0
openstack%2Fneutron~stable%2Fussuri~I15ad3ee321250c622780f9d33a693e84f2c45dc7,openstack/neutron,stable/ussuri,I15ad3ee321250c622780f9d33a693e84f2c45dc7,[DNM] test ussuri requirements,ABANDONED,2020-08-04 07:20:03.000000000,2020-08-04 12:44:03.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-08-04 07:20:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/55da982fd5f296df783617a0b8ee806ccdb34f73', 'message': '[DNM] test ussuri requirements\n\nChange-Id: I15ad3ee321250c622780f9d33a693e84f2c45dc7\n'}]",0,744654,55da982fd5f296df783617a0b8ee806ccdb34f73,5,3,1,20363,,,0,"[DNM] test ussuri requirements

Change-Id: I15ad3ee321250c622780f9d33a693e84f2c45dc7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/744654/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,55da982fd5f296df783617a0b8ee806ccdb34f73,ussuri,"# process, which may cause wedges in the gate later...","# process, which may cause wedges in the gate later.",1,1
openstack%2Fkolla-ansible~master~I7c9138d422cc91c177fd8992347176bb54156b5a,openstack/kolla-ansible,master,I7c9138d422cc91c177fd8992347176bb54156b5a,"Refactor service, endpoint and user registration",MERGED,2018-07-31 18:53:45.000000000,2020-08-04 12:40:01.000000000,2019-09-18 17:34:14.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30810}]","[{'number': 1, 'created': '2018-07-31 18:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3ecf124a7e3d4dcf31ae88e422c984428d7a1d6', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 2, 'created': '2018-08-01 07:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f9f6c403355f7f9056f56da949911f461188e9e', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 3, 'created': '2018-08-01 09:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4447a36b58b301a1fa9089366a0c74c3fe8784b1', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 4, 'created': '2018-08-01 12:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0176147ad3a7e4a9a6ff38c81a29922e500c0e9b', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 5, 'created': '2018-08-01 12:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/128b647c7a68e3857af33ee53ad6d51e819ad81d', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 6, 'created': '2019-08-28 12:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e216fa2a990f5f1088130c0023741ea665fb980e', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 7, 'created': '2019-09-12 09:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de99e72bde1408d3096b747bd4291815d304551b', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 8, 'created': '2019-09-12 12:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66ab4af8c954e10739dc3caf1505df95b5688e85', 'message': ""WIP: Refactor service, endpoint and user registration\n\nThis is a proof-of-concept for making the Ansible in Kolla Ansible more\nDRY (Don't Repeat Yourself).\n\nTwo approaches implemented for comparison (see glance & nova).\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n""}, {'number': 9, 'created': '2019-09-12 15:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b8e122091d35e7b62d0ddb4f1485bba3f660f333', 'message': 'WIP: Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 10, 'created': '2019-09-13 00:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e94e7e0c87f416002adc707030b783f5eb44276', 'message': 'WIP: Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 11, 'created': '2019-09-13 22:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7fa353fef8e319c6ac3712df4430a783ccb51c8', 'message': 'WIP: Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 12, 'created': '2019-09-14 06:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4f4c42de10c75ca12ae9395d90a61df8082a5218', 'message': 'WIP: Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 13, 'created': '2019-09-14 18:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea648348087dc3df8be923e10a1400164ca76e7d', 'message': 'WIP: Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 14, 'created': '2019-09-14 20:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c53d40803b4245a9ad2aaeb20f3b883edf2a8c4', 'message': 'WIP: Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 15, 'created': '2019-09-14 22:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29ef2aa2b1e44fc72923040155ff53a1a90aeddb', 'message': 'WIP: Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 16, 'created': '2019-09-16 18:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1802c105b75330fc2bd236004900b83b25f6059', 'message': 'Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 17, 'created': '2019-09-16 19:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06f44dd836558c9e065c25e1d05c83d58f0f41ad', 'message': 'Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}, {'number': 18, 'created': '2019-09-17 17:15:29.000000000', 'files': ['ansible/roles/freezer/tasks/register.yml', 'ansible/roles/cyborg/tasks/register.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/vitrage/tasks/register.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/monasca/tasks/register.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/murano/tasks/register.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/ceph/tasks/start_rgw_keystone.yml', 'ansible/roles/tacker/tasks/register.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/barbican/tasks/register.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/glance/tasks/register.yml', 'ansible/roles/masakari/tasks/register.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/manila/tasks/register.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/ironic/tasks/register.yml', 'ansible/roles/congress/tasks/register.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/swift/tasks/register.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/magnum/tasks/register.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/kuryr/tasks/register.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/trove/tasks/register.yml', 'ansible/roles/heat/tasks/register.yml', 'ansible/roles/mistral/tasks/register.yml', 'ansible/roles/blazar/tasks/register.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/sahara/tasks/register.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/service-ks-register/tasks/main.yml', 'ansible/roles/aodh/tasks/register.yml', 'ansible/roles/gnocchi/tasks/register.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/designate/tasks/register.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/ceilometer/tasks/register.yml', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/cloudkitty/tasks/register.yml', 'ansible/roles/solum/tasks/register.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/zun/tasks/register.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/neutron/tasks/register.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/searchlight/tasks/register.yml', 'ansible/roles/cinder/tasks/register.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/tasks/register.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/senlin/tasks/register.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/placement/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/service-ks-register/defaults/main.yml', 'ansible/roles/watcher/tasks/register.yml', 'ansible/roles/karbor/tasks/register.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/qinling/tasks/register.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3522d235bd13cf689a3a3762d83fa190836f0572', 'message': 'Refactor service, endpoint and user registration\n\nUse upstream Ansible modules for registration of services, endpoints,\nusers, projects, roles, and role grants.\n\nChange-Id: I7c9138d422cc91c177fd8992347176bb54156b5a\n'}]",12,587590,3522d235bd13cf689a3a3762d83fa190836f0572,57,6,18,14826,,,0,"Refactor service, endpoint and user registration

Use upstream Ansible modules for registration of services, endpoints,
users, projects, roles, and role grants.

Change-Id: I7c9138d422cc91c177fd8992347176bb54156b5a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/587590/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/glance/tasks/register.yml', 'ansible/roles/service-ks-register/defaults/main.yml', 'ansible/roles/service-ks-register/tasks/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/nova/tasks/register.yml']",5,b3ecf124a7e3d4dcf31ae88e422c984428d7a1d6,upstream-ansible-modules,"- name: Creating the Nova service, endpoint, project, user and role include_role: service-ks-register vars: service_ks_register_auth: ""{{ openstack_nova_auth }}"" service_ks_register_services: - name: ""nova_legacy"" type: ""compute_legacy"" description: ""OpenStack Compute Service (Legacy 2.0)"" endpoints: - {'interface': 'admin', 'url': '{{ nova_legacy_admin_endpoint }}'} - {'interface': 'internal', 'url': '{{ nova_legacy_internal_endpoint }}'} - {'interface': 'public', 'url': '{{ nova_legacy_public_endpoint }}'} - name: ""nova"" type: ""compute"" description: ""OpenStack Compute Service"" endpoints: - {'interface': 'admin', 'url': '{{ nova_admin_endpoint }}'} - {'interface': 'internal', 'url': '{{ nova_internal_endpoint }}'} - {'interface': 'public', 'url': '{{ nova_public_endpoint }}'} - name: ""placement"" type: ""placement"" description: ""Placement Service"" endpoints: - {'interface': 'admin', 'url': '{{ placement_admin_endpoint }}'} - {'interface': 'internal', 'url': '{{ placement_internal_endpoint }}'} - {'interface': 'public', 'url': '{{ placement_public_endpoint }}'} service_ks_register_users: - project: ""service"" user: ""{{ nova_keystone_user }}"" password: ""{{ nova_keystone_password }}"" role: ""admin"" - project: ""service"" user: ""{{ placement_keystone_user }}"" password: ""{{ placement_keystone_password }}"" role: ""admin""","- name: Creating the Nova service and endpoint kolla_toolbox: module_name: ""kolla_keystone_service"" module_args: service_name: ""{{ item.name }}"" service_type: ""{{ item.service_type }}"" description: ""{{ item.description }}"" endpoint_region: ""{{ openstack_region_name }}"" url: ""{{ item.url }}"" interface: ""{{ item.interface }}"" region_name: ""{{ openstack_region_name }}"" auth: ""{{ openstack_nova_auth }}"" endpoint_type: ""{{ openstack_interface }}"" run_once: True with_items: - {'name': 'nova_legacy', 'service_type': 'compute_legacy', 'interface': 'admin', 'url': '{{ nova_legacy_admin_endpoint }}', 'description': 'OpenStack Compute Service (Legacy 2.0)'} - {'name': 'nova_legacy', 'service_type': 'compute_legacy', 'interface': 'internal', 'url': '{{ nova_legacy_internal_endpoint }}', 'description': 'OpenStack Compute Service (Legacy 2.0)'} - {'name': 'nova_legacy', 'service_type': 'compute_legacy', 'interface': 'public', 'url': '{{ nova_legacy_public_endpoint }}', 'description': 'OpenStack Compute Service (Legacy 2.0)'} - {'name': 'nova', 'service_type': 'compute', 'interface': 'admin', 'url': '{{ nova_admin_endpoint }}', 'description': 'OpenStack Compute Service'} - {'name': 'nova', 'service_type': 'compute', 'interface': 'internal', 'url': '{{ nova_internal_endpoint }}', 'description': 'OpenStack Compute Service'} - {'name': 'nova', 'service_type': 'compute', 'interface': 'public', 'url': '{{ nova_public_endpoint }}', 'description': 'OpenStack Compute Service'} - {'name': 'placement', 'service_type': 'placement', 'interface': 'admin', 'url': '{{ placement_admin_endpoint }}', 'description': 'Placement Service'} - {'name': 'placement', 'service_type': 'placement', 'interface': 'internal', 'url': '{{ placement_internal_endpoint }}', 'description': 'Placement Service'} - {'name': 'placement', 'service_type': 'placement', 'interface': 'public', 'url': '{{ placement_public_endpoint }}', 'description': 'Placement Service'} - name: Creating the Nova project, user, and role kolla_toolbox: module_name: ""kolla_keystone_user"" module_args: project: ""service"" user: ""{{ nova_keystone_user }}"" password: ""{{ nova_keystone_password }}"" role: ""admin"" region_name: ""{{ openstack_region_name }}"" auth: ""{{ openstack_nova_auth }}"" endpoint_type: ""{{ openstack_interface }}"" run_once: True - name: Creating the placement project, user, and role kolla_toolbox: module_name: ""kolla_keystone_user"" module_args: project: ""service"" user: ""{{ placement_keystone_user }}"" password: ""{{ placement_keystone_password }}"" role: ""admin"" region_name: ""{{ openstack_region_name }}"" auth: ""{{ openstack_placement_auth }}"" endpoint_type: ""{{ openstack_interface }}"" run_once: True",98,82
openstack%2Fkolla~master~Ic5b9a58d212711a4d6c13822548c92013a6bae50,openstack/kolla,master,Ic5b9a58d212711a4d6c13822548c92013a6bae50,Remove TODO in libvirt script,MERGED,2020-07-16 18:07:48.000000000,2020-08-04 12:39:53.000000000,2020-08-04 12:38:05.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-16 18:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/13e221c154142a3983a974d069b1eeec47ec543f', 'message': 'Remove TODO in libvirt script\n\nThis is no longer required when Kolla-Ansible is patched.\n\nNote this is *not* safe to backport as it requires the user to\nhave Kolla-Ansible patched, i.e. would normally break most.\n\nChange-Id: Ic5b9a58d212711a4d6c13822548c92013a6bae50\nRelated-Bug: #1681461\nDepends-On: https://review.opendev.org/735441\n'}, {'number': 2, 'created': '2020-07-17 17:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7315168b9b02577d2487fbc94190634ab049337', 'message': 'Remove TODO in libvirt script\n\nThis is no longer required when Kolla-Ansible is patched.\n\nNote this is *not* safe to backport as it requires the user to\nhave Kolla-Ansible patched, i.e. would normally break most.\n\nChange-Id: Ic5b9a58d212711a4d6c13822548c92013a6bae50\nRelated-Bug: #1681461\nDepends-On: https://review.opendev.org/735441\n'}, {'number': 3, 'created': '2020-07-17 17:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e4c0351496399398208c28ad1fe4530cdd2789d', 'message': 'Remove TODO in libvirt script\n\nThis is no longer required when Kolla-Ansible is patched.\n\nNote this is *not* safe to backport as it requires the user to\nhave Kolla-Ansible patched, i.e. would normally break most.\n\nChange-Id: Ic5b9a58d212711a4d6c13822548c92013a6bae50\nRelated-Bug: #1681461\nDepends-On: https://review.opendev.org/735441\n'}, {'number': 4, 'created': '2020-07-31 09:06:28.000000000', 'files': ['docker/nova/nova-libvirt/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4b1ee126b80f25f8adc6a82e044aefe3bba0ce2', 'message': 'Remove TODO in libvirt script\n\nThis is no longer required when Kolla-Ansible is patched.\n\nNote this is *not* safe to backport as it requires the user to\nhave Kolla-Ansible patched, i.e. would normally break most.\n\nChange-Id: Ic5b9a58d212711a4d6c13822548c92013a6bae50\nRelated-Bug: #1681461\nDepends-On: https://review.opendev.org/735441\n'}]",0,741510,d4b1ee126b80f25f8adc6a82e044aefe3bba0ce2,27,7,4,30491,,,0,"Remove TODO in libvirt script

This is no longer required when Kolla-Ansible is patched.

Note this is *not* safe to backport as it requires the user to
have Kolla-Ansible patched, i.e. would normally break most.

Change-Id: Ic5b9a58d212711a4d6c13822548c92013a6bae50
Related-Bug: #1681461
Depends-On: https://review.opendev.org/735441
",git fetch https://review.opendev.org/openstack/kolla refs/changes/10/741510/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-libvirt/extend_start.sh'],1,13e221c154142a3983a974d069b1eeec47ec543f,remove-todo-libvirt,,# TODO(SamYaple): Tweak libvirt.conf rather than change permissions. # Fix permissions for libvirt # Do not remove unless CentOS has been validated if [[ -c /dev/kvm ]]; then chmod 660 /dev/kvm chown root:qemu /dev/kvm fi ,0,8
openstack%2Fkolla~master~Iae240eae5d3e4a9efa42ec73940728775dfc25fb,openstack/kolla,master,Iae240eae5d3e4a9efa42ec73940728775dfc25fb,remove duplicate package(planned),MERGED,2020-08-03 14:47:00.000000000,2020-08-04 12:27:16.000000000,2020-08-04 12:25:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 14:47:00.000000000', 'files': ['docker/placement/placement-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ec824b0a192d06b6a71dda126e5d1b00b5c3238', 'message': 'remove duplicate package(planned)\n\nremove python3-pymysql from placement since it has added into\nopenstack-base\n\nChange-Id: Iae240eae5d3e4a9efa42ec73940728775dfc25fb\n'}]",0,744498,4ec824b0a192d06b6a71dda126e5d1b00b5c3238,10,4,1,26285,,,0,"remove duplicate package(planned)

remove python3-pymysql from placement since it has added into
openstack-base

Change-Id: Iae240eae5d3e4a9efa42ec73940728775dfc25fb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/744498/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/placement/placement-base/Dockerfile.j2'],1,4ec824b0a192d06b6a71dda126e5d1b00b5c3238,,," # TODO(mgoddard): Remove python3-pymysql when in openstack-base. 'python3-pymysql',",0,2
openstack%2Fkolla~stable%2Fussuri~I2ecd3b029b956e000feaaa9e10a169521ba53d66,openstack/kolla,stable/ussuri,I2ecd3b029b956e000feaaa9e10a169521ba53d66,Upgrade Fluentd Monasca plugin,MERGED,2020-07-30 07:43:12.000000000,2020-08-04 12:26:54.000000000,2020-08-04 12:25:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-30 07:43:12.000000000', 'files': ['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c941e8635bf980a65044623644af19f82844fb82', 'message': 'Upgrade Fluentd Monasca plugin\n\nSwitch to YAJI JSON parser as suggested in [1].\n\n[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it\n\nCloses-Bug: #1889065\nChange-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66\n(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)\n'}]",0,743921,c941e8635bf980a65044623644af19f82844fb82,10,4,1,17669,,,0,"Upgrade Fluentd Monasca plugin

Switch to YAJI JSON parser as suggested in [1].

[1] https://docs.fluentd.org/quickstart/faq#i-got-encoding-error-inside-plugin-how-to-fix-it

Closes-Bug: #1889065
Change-Id: I2ecd3b029b956e000feaaa9e10a169521ba53d66
(cherry picked from commit 556d4353aa846765557cfdd3c6e087a25248c517)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/743921/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/upgrade-fluentd-monasca-output-plugin-739caf0af953d533.yaml', 'docker/fluentd/Dockerfile.j2']",2,c941e8635bf980a65044623644af19f82844fb82,bug/1889065-stable/ussuri,ARG monasca_output_plugin_tag=1.0.1,ARG monasca_output_plugin_tag=1.0.0,6,1
openstack%2Fglance~master~Icd1018f9e337b577968c41b95d2b68ff4284e066,openstack/glance,master,Icd1018f9e337b577968c41b95d2b68ff4284e066,Change default visibility to 'private',ABANDONED,2019-01-04 12:43:19.000000000,2020-08-04 12:09:30.000000000,,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-04 12:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/172135b75e9e0dc379adc9bc988260e05611de20', 'message': ""Change default visibility to 'private'\n\nThis change changes the defaults of all layers (domain and database)\nto 'private' visibility and adresses the test cases to either testing\nthat the default is 'private' or if test does touch membership, the\nimage is explicitly created vith 'visibility'='shared'.\n\nChange-Id: Icd1018f9e337b577968c41b95d2b68ff4284e066\n""}, {'number': 2, 'created': '2019-01-09 11:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8d6c84ea7074bf1895024bffdb4aadd3ef43703e', 'message': ""Change default visibility to 'private'\n\nThis change changes the defaults of all layers (domain and database)\nto 'private' visibility and adresses the test cases to either testing\nthat the default is 'private' or if test does touch membership, the\nimage is explicitly created vith 'visibility'='shared'.\n\nNew alembic migration scripts are added for changing the default\nvisibility on database server level as well for consistency.\n\nChange-Id: Icd1018f9e337b577968c41b95d2b68ff4284e066\nCo-Authored-by: Abhishek Kekane <akekane@redhat.com>\n""}, {'number': 3, 'created': '2019-01-13 04:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/be8c1e610bcbf3f4180899ebe7d69470651664f9', 'message': ""Change default visibility to 'private'\n\nThis change changes the defaults of all layers (domain and database)\nto 'private' visibility and adresses the test cases to either testing\nthat the default is 'private' or if test does touch membership, the\nimage is explicitly created vith 'visibility'='shared'.\n\nNew alembic migration scripts are added for changing the default\nvisibility on database server level as well for consistency.\n\nChange-Id: Icd1018f9e337b577968c41b95d2b68ff4284e066\nCo-Authored-by: Abhishek Kekane <akekane@redhat.com>\n""}, {'number': 4, 'created': '2019-01-13 06:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/10853f2b24f3dfb580ddd75ba830910412fca9b6', 'message': ""Change default visibility to 'private'\n\nThis change changes the defaults of all layers (domain and database)\nto 'private' visibility and adresses the test cases to either testing\nthat the default is 'private' or if test does touch membership, the\nimage is explicitly created vith 'visibility'='shared'.\n\nNew alembic migration scripts are added for changing the default\nvisibility on database server level as well for consistency.\n\nChange-Id: Icd1018f9e337b577968c41b95d2b68ff4284e066\nCo-Authored-by: Abhishek Kekane <akekane@redhat.com>\n""}, {'number': 5, 'created': '2019-01-13 09:05:05.000000000', 'files': ['glance/tests/functional/v2/test_images.py', 'glance/db/sqlalchemy/alembic_migrations/versions/stein_expand01_empty.py', 'glance/tests/functional/db/base.py', 'glance/db/sqlalchemy/alembic_migrations/versions/stein_contract01_empty.py', 'glance/tests/functional/db/migrations/test_stein_contract01.py', 'glance/domain/__init__.py', 'glance/tests/unit/v2/test_images_resource.py', 'releasenotes/notes/default_vis_private-58e4114a9f93ae28.yaml', 'glance/db/sqlalchemy/models.py', 'glance/tests/unit/test_domain.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/d247f4c4a35f5064c4016f493d59a3325e465a19', 'message': ""Change default visibility to 'private'\n\nThis change changes the defaults of all layers (domain and database)\nto 'private' visibility and adresses the test cases to either testing\nthat the default is 'private' or if test does touch membership, the\nimage is explicitly created vith 'visibility'='shared'.\n\nNew alembic migration scripts are added for changing the default\nvisibility on database server level as well for consistency.\n\nDepends-On: https://review.openstack.org/630495\n\nChange-Id: Icd1018f9e337b577968c41b95d2b68ff4284e066\nCo-Authored-by: Abhishek Kekane <akekane@redhat.com>\n""}]",11,628430,d247f4c4a35f5064c4016f493d59a3325e465a19,27,6,5,5202,,,0,"Change default visibility to 'private'

This change changes the defaults of all layers (domain and database)
to 'private' visibility and adresses the test cases to either testing
that the default is 'private' or if test does touch membership, the
image is explicitly created vith 'visibility'='shared'.

New alembic migration scripts are added for changing the default
visibility on database server level as well for consistency.

Depends-On: https://review.openstack.org/630495

Change-Id: Icd1018f9e337b577968c41b95d2b68ff4284e066
Co-Authored-by: Abhishek Kekane <akekane@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/30/628430/5 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/functional/v2/test_images.py', 'glance/tests/functional/db/base.py', 'glance/domain/__init__.py', 'releasenotes/notes/default_vis_private-58e4114a9f93ae28.yaml', 'glance/db/sqlalchemy/models.py', 'glance/tests/unit/test_domain.py']",6,172135b75e9e0dc379adc9bc988260e05611de20,default_vis_private," self.assertEqual('private', image.visibility) self.assertEqual('private', image.visibility) self.assertEqual('private', image.visibility) self.image = self.image_factory.new_image(visibility='shared') owner=TENANT1, visibility='shared')"," self.assertEqual('shared', image.visibility) self.assertEqual('shared', image.visibility) self.assertEqual('shared', image.visibility) self.image = self.image_factory.new_image() owner=TENANT1)",54,35
openstack%2Fnova~master~Iad7864bf375341ef065bfec229a059e444c910e2,openstack/nova,master,Iad7864bf375341ef065bfec229a059e444c910e2,hardware: create 'mixed' instance for realtime CPUs,MERGED,2020-05-15 15:57:04.000000000,2020-08-04 12:05:08.000000000,2020-07-22 16:09:54.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18d924e3b3418fabe1077e0b9a31177016e4f785', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 2, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0d1a373577a80ce69423a070c4ea16c587f399f', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 3, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5ff50b5114cf65a0d02766c8c4739e7497864af', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 4, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98a0ec3632b79fab5b27c4d21c24d1c09bfe7614', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 5, 'created': '2020-07-07 07:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e37a336b22242548f333152afb0c5506f3302f3a', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 6, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/86ef94954743a53b849f5ea4d599e7c1f6a5af78', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5266911a1fe84ee07fdff74a2892208a62ba78c4', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40e5129a0f3c6ebfff6fecab479cb9bfbc93945c', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-07-15 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec8fca409f6d70a0a49b4d455df946831a3fd409', 'message': ""hardware: create 'mixed' instance for realtime and shared CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-07-17 04:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64211d82bdc318884ed60a062091aa6f1c100255', 'message': ""hardware: create 'mixed' instance for realtime CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-07-17 06:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61c3173d3d7857458dda5aac9adbbcd27c17e8a2', 'message': ""hardware: create 'mixed' instance for realtime CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-07-20 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/335642e0d05ce28716e6709bb22f883bafbe1201', 'message': ""hardware: create 'mixed' instance for realtime CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-07-21 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/def63a9f0c46789ea4c68c5344fff316094e025e', 'message': ""hardware: create 'mixed' instance for realtime CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 14, 'created': '2020-07-21 07:28:16.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/virt/hardware.py', 'doc/source/user/flavors.rst', 'doc/source/admin/cpu-topologies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/275ea2de368629485ba6e9a5159300d3b9232ed4', 'message': ""hardware: create 'mixed' instance for realtime CPUs\n\nBefore, realtime CPUs could only be combined with dedicated CPUs\nin a 'dedicated' policy instance. This patch supports to create\na type of instance that makes realtime CPUs be mixed with shared\nCPUs under the 'mixed' CPU allocation policy.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iad7864bf375341ef065bfec229a059e444c910e2\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",29,728485,275ea2de368629485ba6e9a5159300d3b9232ed4,136,15,14,30209,,,0,"hardware: create 'mixed' instance for realtime CPUs

Before, realtime CPUs could only be combined with dedicated CPUs
in a 'dedicated' policy instance. This patch supports to create
a type of instance that makes realtime CPUs be mixed with shared
CPUs under the 'mixed' CPU allocation policy.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: Iad7864bf375341ef065bfec229a059e444c910e2
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/728485/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/virt/hardware.py']",4,18d924e3b3418fabe1077e0b9a31177016e4f785,bp/use-pcpu-and-vcpu-in-one-instance," realtime_cpus = get_realtime_cpu_constraint(flavor, image_meta) if realtime_cpus: if (realtime_cpus and dedicated_cpus or not (realtime_cpus or dedicated_cpus)): pcpus = realtime_cpus or dedicated_cpus or set()"," rt_mask = get_realtime_cpu_constraint(flavor, image_meta) if rt_mask: if dedicated_cpus is None: pcpus = dedicated_cpus or set()",78,19
openstack%2Fironic~master~I54a49507407482fe0fccb7341f1103d9ce8aa115,openstack/ironic,master,I54a49507407482fe0fccb7341f1103d9ce8aa115,"[doc] Set the default_{management,power}_interface for redfish",ABANDONED,2020-07-29 15:21:15.000000000,2020-08-04 11:51:55.000000000,,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-29 15:21:15.000000000', 'files': ['doc/source/admin/drivers/redfish.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a2d89ce5f7979e289856d02879623ed1753da10', 'message': '[doc] Set the default_{management,power}_interface for redfish\n\nIf ``redfish`` is the only enabled hardware type, the\n``default_management_interface`` and the ``default_power_interface``\nneed to be explicitly set as well to ``redfish``. Otherwise the\nconductor will refuse to start.\n\nChange-Id: I54a49507407482fe0fccb7341f1103d9ce8aa115\n'}]",1,743782,0a2d89ce5f7979e289856d02879623ed1753da10,9,5,1,11292,,,0,"[doc] Set the default_{management,power}_interface for redfish

If ``redfish`` is the only enabled hardware type, the
``default_management_interface`` and the ``default_power_interface``
need to be explicitly set as well to ``redfish``. Otherwise the
conductor will refuse to start.

Change-Id: I54a49507407482fe0fccb7341f1103d9ce8aa115
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/743782/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/redfish.rst'],1,0a2d89ce5f7979e289856d02879623ed1753da10,doc_redfish_driver," .. note:: If ``redfish`` is the only enabled hardware type, you will need to set the ``default_management_interface`` and the ``default_power_interface`` as well to ``redfish``. ",,6,0
openstack%2Fironic~master~I4ffe8dd71b6735b5ae714557e78578c0b6816e14,openstack/ironic,master,I4ffe8dd71b6735b5ae714557e78578c0b6816e14,Fix error word presistent in docs,MERGED,2020-08-04 02:41:28.000000000,2020-08-04 11:49:51.000000000,2020-08-04 11:40:50.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-04 02:41:28.000000000', 'files': ['doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/abed175fc884a79e55ea1031db43edb05af38c1c', 'message': 'Fix error word presistent in docs\n\nChange-Id: I4ffe8dd71b6735b5ae714557e78578c0b6816e14\n'}]",0,744590,abed175fc884a79e55ea1031db43edb05af38c1c,10,4,1,31310,,,0,"Fix error word presistent in docs

Change-Id: I4ffe8dd71b6735b5ae714557e78578c0b6816e14
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/744590/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/standalone.rst'],1,abed175fc884a79e55ea1031db43edb05af38c1c,, openstack baremetal node set $NODE_UUID \, openstack barmetal node set $NODE_UUID \,1,1
openstack%2Fnova~master~I2a3311c08a52eb11859c68ef940a0bd755a94c6b,openstack/nova,master,I2a3311c08a52eb11859c68ef940a0bd755a94c6b,hardware: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance,MERGED,2020-03-24 16:43:46.000000000,2020-08-04 11:46:29.000000000,2020-07-22 09:37:32.000000000,"[{'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-03-24 16:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0d660da72ceee2ad1983570ca12e00f9451e0ff', 'message': ""WIP! hardware: Add support for 'hw:cpu_dedicated_mask' extra spec\n\nWhen using the 'mixed' CPU policy, users can specify either this or the\n'hw:cpu_realtime_mask' flag, depending on whether they want their\ndedicated CPUs to be real-time or not.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/375ecf7c1b3cebb1324bfeb365fb7e7322452b8a', 'message': ""hardware: Add support for 'hw:cpu_dedicated_mask' extra spec\n\nWhen using the 'mixed' CPU policy, users can specify either this or the\n'hw:cpu_realtime_mask' flag, depending on whether they want their\ndedicated CPUs to be real-time or not.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-04-02 13:02:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abdc43c43a22c6f862b83e2f324b78d03b39e4a1', 'message': ""hardware: Add support for 'hw:cpu_dedicated_mask' extra spec\n\nWhen using the 'mixed' CPU policy, users can specify either this or the\n'hw:cpu_realtime_mask' flag, depending on whether they want their\ndedicated CPUs to be real-time or not.\n\nlibvirt: set host CPUs for the mixed instance\nMerged with: I2cf10945f8e9f10586bdc8c116e77ace386b95e7\n\nThe instance dedicated CPU that exists in the key of\n'InstanceNUMACell.cpu_pinning' is arranged to be pinned on\none host CPU, which is specified in configuration\n'[compute] cpu_dedicated_set'. The instance shared CPU that\nis in 'InstanceNUMACell.cpuset' is to float on a list of host\nCPUs defined in '[compute] cpu_shared_set' and belonging\nto one NUMA node.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\n""}, {'number': 4, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57843f0b98484ece47c023cfb0f891ef2f7451b1', 'message': ""hardware: Add support for 'hw:cpu_dedicated_mask' extra spec\n\nWhen using the 'mixed' CPU policy, users can specify either this or the\n'hw:cpu_realtime_mask' flag, depending on whether they want their\ndedicated CPUs to be real-time or not.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c64a92ade368db994aedd8de2d76b568acc4f86f', 'message': ""hardware: Add support for 'hw:cpu_dedicated_mask' extra spec\n\nWhen using the 'mixed' CPU policy, users can specify either this or the\n'hw:cpu_realtime_mask' flag, depending on whether they want their\ndedicated CPUs to be real-time or not.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96d92b98cd963452221338ed60347f8c1a5aa072', 'message': ""hardware: Add support for 'hw:cpu_dedicated_mask' extra spec\n\nWhen using the 'mixed' CPU policy, users can specify either this or the\n'hw:cpu_realtime_mask' flag, depending on whether they want their\ndedicated CPUs to be real-time or not.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2a9dc870dd4b725bc5fead84d380c6b1ffbb1f00', 'message': ""flavor: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncould create CPU mixing instance through a flavor with following\nextra spec settings:\n\n```\n openstack flavor set <flavor_id> \\\n \t--property hw:cpu_policy=mixed \\\n\t--property hw:cpu_dedicated_mask=0-3,7\n```\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb53aea3358009d5a3464afe6f654c9169d18658', 'message': ""flavor: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncould create CPU mixing instance through a flavor with following\nextra spec settings:\n\n```\n openstack flavor set <flavor_id> \\\n \t--property hw:cpu_policy=mixed \\\n\t--property hw:cpu_dedicated_mask=0-3,7\n```\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7ecceafa0fa521c17801f446673296b8fa63b66', 'message': ""flavor: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncould create CPU mixing instance through a flavor with following\nextra spec settings:\n\n```\n openstack flavor set <flavor_id> \\\n \t--property hw:cpu_policy=mixed \\\n\t--property hw:cpu_dedicated_mask=0-3,7\n```\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-07-02 12:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58cc1209aedd78f83bc3ce0a16ef71a12fb4bc63', 'message': ""flavor: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncould create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41b308d6e8c904a31082c192ec65cc9871f51698', 'message': ""flavor: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncould create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7e86dca31abd1c61cba0285a30e56a3412dcbb4', 'message': ""flavor: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncould create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2dc7e8e12940a9f4d8c84c0b19bd3b0434fef81', 'message': ""flavor: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncould create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 14, 'created': '2020-07-15 08:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78d753bf3a9424f5aa9cbcc3d902350e0402ee58', 'message': ""hardware: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncan create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nIn a topic coming later, we'll introduce another way to create a\nmixed instance through the real-time interface.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 15, 'created': '2020-07-20 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d2da3c6fbcf37ea03743e06675773aba2529121', 'message': ""hardware: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncan create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nIn a topic coming later, we'll introduce another way to create a\nmixed instance through the real-time interface.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 16, 'created': '2020-07-21 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/298e6186b6fccf21f486028fe5cb6f018f7502fa', 'message': ""hardware: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncan create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nIn a topic coming later, we'll introduce another way to create a\nmixed instance through the real-time interface.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 17, 'created': '2020-07-21 07:28:16.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/api/validation/extra_specs/test_validators.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/virt/hardware.py', 'nova/api/validation/extra_specs/hw.py', 'doc/source/user/flavors.rst', 'nova/api/openstack/compute/servers.py', 'doc/source/admin/cpu-topologies.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5c71ac5e02acfbcc45f904a359a02d2a204e709e', 'message': ""hardware: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance\n\nEnable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user\ncan create CPU mixing instance through a flavor with following\nextra spec settings:\n\n openstack flavor set <flavor_id> \\\n        --property hw:cpu_policy=mixed \\\n        --property hw:cpu_dedicated_mask=0-3,7\n\nIn a topic coming later, we'll introduce another way to create a\nmixed instance through the real-time interface.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",84,714706,5c71ac5e02acfbcc45f904a359a02d2a204e709e,188,15,17,15334,,,0,"hardware: Enable 'hw:cpu_dedicated_mask' for creating a mixed instance

Enable the 'hw:cpu_dedicated_mask' flavor extra spec interface, user
can create CPU mixing instance through a flavor with following
extra spec settings:

 openstack flavor set <flavor_id> \
        --property hw:cpu_policy=mixed \
        --property hw:cpu_dedicated_mask=0-3,7

In a topic coming later, we'll introduce another way to create a
mixed instance through the real-time interface.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I2a3311c08a52eb11859c68ef940a0bd755a94c6b
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/714706/16 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,d0d660da72ceee2ad1983570ca12e00f9451e0ff,bp/use-pcpu-and-vcpu-in-one-instance,"def get_dedicated_cpus_constraint( flavor: 'objects.Flavor', ) -> ty.Optional[ty.Set[int]]: """"""Validate and return the requested dedicated CPU mask. :param flavor: ``nova.objects.Flavor`` instance :returns: The dedicated CPUs requested, else None. """""" mask = flavor.get('extra_specs', {}).get('hw:dedicated_cpu_mask') if not mask: return None if mask.strip().startswith('^'): pcpus = parse_cpu_spec(""0-%d,%s"" % (flavor.vcpus - 1, mask)) else: pcpus = parse_cpu_spec(""%s"" % (mask)) cpus_set = set(range(flavor.vcpus)) cpus_std = cpus_set - pcpus if not pcpus or not cpus_std: msg = _('Mask should specify at least once CPU.') raise exception.Invalid(msg) if not pcpus.issubset(cpus_set): msg = _(""Mixed CPU policy CPU(s) mask is configured with CPUs "" ""that are not a subset of the CPUs in the flavor. See "" ""hw:cpu_dedicated_mask"") raise exception.Invalid(msg) return pcpus # NOTE(stephenfin): This must be public as it's used elsewhere realtime_cpus = get_realtime_cpu_constraint(flavor, image_meta) dedicated_cpus = get_dedicated_cpus_constraint(flavor) if realtime_cpus and dedicated_cpus: raise exception.Invalid( ""You should configure either 'hw:cpu_dedicated_mask' or "" ""'hw:cpu_realtime_mask', not both."" ) if dedicated_cpus or realtime_cpus: elif cpu_policy == fields.CPUAllocationPolicy.DEDICATED: if dedicated_cpus: raise exception.Invalid( ""Cannot specify 'hw:dedicated_cpu_mask' without the 'mixed' "" ""policy."" ) else: # MIXED if not (realtime_cpus or dedicated_cpus): raise exception.Invalid( ""When using the 'mixed' CPU policy, one of "" ""'hw:cpu_dedicated_mask' or 'hw:cpu_realtime_mask' must be "" ""specified."" )"," rt_mask = get_realtime_cpu_constraint(flavor, image_meta) if rt_mask:",54,2
openstack%2Fironic-python-agent~stable%2Fussuri~Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,openstack/ironic-python-agent,stable/ussuri,Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,Prevent un-needed iscsi cleanup,MERGED,2020-07-25 15:07:26.000000000,2020-08-04 11:43:06.000000000,2020-08-04 11:40:46.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-25 15:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8271ef6a5791e0b397488478bf43bd076bd1370d', 'message': ""Prevent un-needed iscsi cleanup\n\nWhen we added software raid support, we started calling bootloader\ninstallation. As time went on, we ehnanced that code path for non\nRAID cases in order to ensure that UEFI nvram was setup\nfor the instance to boot properly.\n\nSomewhere in this process, we missed a possible failure case where\nthe iscsi client tgtadm may return failures. Obviously, the correct\npath is to not call iscsi teardown if we don't need to.\n\nSince it was always semi-opportunistic teardown, we can't blindly\ncatch any error, and if we started iSCSI and failed to tear the\nconnection down, we might want to still fail, so this change\nmoves the logic over to use a flag on the agent object which\none extension to set the flag and the other to read it and take\naction based upon that.\n\nChange-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c\nStory: 2007937\nTask: 40395\n(cherry picked from commit 2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af)\n""}, {'number': 2, 'created': '2020-07-28 07:23:46.000000000', 'files': ['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4746f09b3dfa765684e6e20cf4b9742e1bb3bd62', 'message': ""Prevent un-needed iscsi cleanup\n\nWhen we added software raid support, we started calling bootloader\ninstallation. As time went on, we ehnanced that code path for non\nRAID cases in order to ensure that UEFI nvram was setup\nfor the instance to boot properly.\n\nSomewhere in this process, we missed a possible failure case where\nthe iscsi client tgtadm may return failures. Obviously, the correct\npath is to not call iscsi teardown if we don't need to.\n\nSince it was always semi-opportunistic teardown, we can't blindly\ncatch any error, and if we started iSCSI and failed to tear the\nconnection down, we might want to still fail, so this change\nmoves the logic over to use a flag on the agent object which\none extension to set the flag and the other to read it and take\naction based upon that.\n\nChange-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c\nStory: 2007937\nTask: 40395\n(cherry picked from commit 2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af)\n""}]",0,743032,4746f09b3dfa765684e6e20cf4b9742e1bb3bd62,17,4,2,11655,,,0,"Prevent un-needed iscsi cleanup

When we added software raid support, we started calling bootloader
installation. As time went on, we ehnanced that code path for non
RAID cases in order to ensure that UEFI nvram was setup
for the instance to boot properly.

Somewhere in this process, we missed a possible failure case where
the iscsi client tgtadm may return failures. Obviously, the correct
path is to not call iscsi teardown if we don't need to.

Since it was always semi-opportunistic teardown, we can't blindly
catch any error, and if we started iSCSI and failed to tear the
connection down, we might want to still fail, so this change
moves the logic over to use a flag on the agent object which
one extension to set the flag and the other to read it and take
action based upon that.

Change-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c
Story: 2007937
Task: 40395
(cherry picked from commit 2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/32/743032/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml']",6,8271ef6a5791e0b397488478bf43bd076bd1370d,,"--- fixes: - | Fixes an issue with the ironic-python-agent where we would call to setup the bootloader, which is necessary with software raid, but also attempt to clean up iSCSI. This can cause issues when using the ``direct`` ``deploy_interface``. Now the agent will only clean up iSCSI connections if iSCSI was explicitly started. For more information, please see `story 2007937 <https://storyboard.openstack.org/#!/story/2007937>`_. ",,47,2
openstack%2Fironic-python-agent~stable%2Fussuri~Ib8f7b844b1bfffff16f88ebbb6ef5ddbe61d5a30,openstack/ironic-python-agent,stable/ussuri,Ib8f7b844b1bfffff16f88ebbb6ef5ddbe61d5a30,set EVENTLET_NO_GREENDNS to 'yes',MERGED,2020-08-01 08:37:48.000000000,2020-08-04 11:38:09.000000000,2020-08-04 11:36:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-01 08:37:48.000000000', 'files': ['ironic_python_agent/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/74f9b3a65dd836563876102426a165922ed021c7', 'message': ""set EVENTLET_NO_GREENDNS to 'yes'\n\nEventlet, when monkey patching occurs, replaces the base\ndns resolver methods. This can lead to compatability issues,\nand un-expected exceptions being raised during the process\nof monkey patching. Such as one if there are no resolvers.\n\nAs such, since we don't really need monkey patching of DNS,\nand setting the flag should make the inspector CI jobs happier\nwhere we don't need nor use DNS, AND tinycore may not be setting\na resolver configuration at all, which is the root of the failure\nupon monkey patching that casues IPA to fail on start in certian\ncircumstances.\n\nAs a note, this has been performed on other projects due to\nbugs. See Id9fe265d67f6e9ea5090bebcacae4a7a9150c5c2.\n\nChange-Id: Ib8f7b844b1bfffff16f88ebbb6ef5ddbe61d5a30\nStory: 2007936\nTask: 40394\n(cherry picked from commit 9830f3cb0f2c753079695ab1799079c7ea452df9)\n""}]",0,744279,74f9b3a65dd836563876102426a165922ed021c7,12,4,1,10239,,,0,"set EVENTLET_NO_GREENDNS to 'yes'

Eventlet, when monkey patching occurs, replaces the base
dns resolver methods. This can lead to compatability issues,
and un-expected exceptions being raised during the process
of monkey patching. Such as one if there are no resolvers.

As such, since we don't really need monkey patching of DNS,
and setting the flag should make the inspector CI jobs happier
where we don't need nor use DNS, AND tinycore may not be setting
a resolver configuration at all, which is the root of the failure
upon monkey patching that casues IPA to fail on start in certian
circumstances.

As a note, this has been performed on other projects due to
bugs. See Id9fe265d67f6e9ea5090bebcacae4a7a9150c5c2.

Change-Id: Ib8f7b844b1bfffff16f88ebbb6ef5ddbe61d5a30
Story: 2007936
Task: 40394
(cherry picked from commit 9830f3cb0f2c753079695ab1799079c7ea452df9)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/79/744279/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/__init__.py'],1,74f9b3a65dd836563876102426a165922ed021c7,,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import os # NOTE(TheJulia): Eventlet, when monkey patching occurs, replaces the base # dns resolver methods. This can lead to compatability issues, # and un-expected exceptions being raised during the process # of monkey patching. Such as one if there are no resolvers. os.environ['EVENTLET_NO_GREENDNS'] = ""yes"" ",,19,0
openstack%2Fopenstack-ansible-os_masakari~master~I366e754bbc32f07bfc3166c119fec7141bd2e904,openstack/openstack-ansible-os_masakari,master,I366e754bbc32f07bfc3166c119fec7141bd2e904,Add libvirt-devel installation,MERGED,2019-08-30 17:19:51.000000000,2020-08-04 11:32:53.000000000,2019-09-06 11:12:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-08-30 17:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/be69b973797cc4508017626c0a03f80617bebf53', 'message': ""Add libvirt-devel installation\n\nlibvirt-python package is required by masakari-monitors, however it\ncan't be build without libvirt-devel.\nAfterwards we should replace it with symlink from distro.\n\nChange-Id: I366e754bbc32f07bfc3166c119fec7141bd2e904\n""}, {'number': 2, 'created': '2019-08-30 17:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/27754bcf594b1a48e6a8150f9ef2f2898017e051', 'message': ""Add libvirt-devel installation\n\nlibvirt-python package is required by masakari-monitors, however it\ncan't be build without libvirt-devel.\nAfterwards we should replace it with symlink from distro.\n\nWithout libvirt-devel installation of masakari-monitors fails [1]\n\n[1] http://paste.openstack.org/show/767655/\n\nChange-Id: I366e754bbc32f07bfc3166c119fec7141bd2e904\n""}, {'number': 3, 'created': '2019-08-30 17:22:00.000000000', 'files': ['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/a26ed9d5c4f666e8c754da278d39d54ea88909fa', 'message': ""Add libvirt-devel installation\n\nlibvirt-python package is required by masakari-monitors, however it\ncan't be build without libvirt-devel.\nAfterwards we should replace it with symlink from distro.\n\nWithout libvirt-devel installation of masakari-monitors fails [1]\n\n[1] http://paste.openstack.org/show/767655/\n\nChange-Id: I366e754bbc32f07bfc3166c119fec7141bd2e904\n""}]",0,679487,a26ed9d5c4f666e8c754da278d39d54ea88909fa,30,4,3,28619,,,0,"Add libvirt-devel installation

libvirt-python package is required by masakari-monitors, however it
can't be build without libvirt-devel.
Afterwards we should replace it with symlink from distro.

Without libvirt-devel installation of masakari-monitors fails [1]

[1] http://paste.openstack.org/show/767655/

Change-Id: I366e754bbc32f07bfc3166c119fec7141bd2e904
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/87/679487/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/debian.yml', 'vars/suse.yml']",3,be69b973797cc4508017626c0a03f80617bebf53,, - libvirt-devel,,3,0
openstack%2Fnova~master~I6e58908966a2dc62a3fff155bb81481d68aa2d68,openstack/nova,master,I6e58908966a2dc62a3fff155bb81481d68aa2d68,libvirt: Track blockjob status in DEBUG when polling for completion,MERGED,2020-05-20 13:23:51.000000000,2020-08-04 11:28:47.000000000,2020-07-23 13:09:19.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-20 13:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d82206ad92ce5eef1e24cffe16b733ab492e500d', 'message': 'libvirt: Track blockjob status in DEBUG when polling for completion\n\nWhile this is extremely chatty given the 0.5 second loop used by callers\ninto this method it will provide useful insight into why certain\nfailures are seen.\n\nChange-Id: I6e58908966a2dc62a3fff155bb81481d68aa2d68\n'}, {'number': 2, 'created': '2020-05-20 13:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfba409922e0c5db3cdff24670cd27d5128971cd', 'message': 'libvirt: Track blockjob status in DEBUG when polling for completion\n\nWhile this is extremely chatty given the 0.5 second loop used by callers\ninto this method it will provide useful insight into why certain\nfailures are seen.t rc\n\nChange-Id: I6e58908966a2dc62a3fff155bb81481d68aa2d68\n'}, {'number': 3, 'created': '2020-05-20 16:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51a49c059bf4657ca0e538c3002eea72e587029d', 'message': 'libvirt: Track blockjob status in DEBUG when polling for completion\n\nWhile this is extremely chatty given the 0.5 second loop used by callers\ninto this method it will provide useful insight into why certain\nfailures are seen.t rc\n\nChange-Id: I6e58908966a2dc62a3fff155bb81481d68aa2d68\n'}, {'number': 4, 'created': '2020-05-21 08:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3903fc4c777daea681c6f15652ed148e6ea3ae9d', 'message': 'libvirt: Track blockjob status in DEBUG when polling for completion\n\nWhile this is extremely chatty given the 0.5 second loop used by callers\ninto this method it will provide useful insight into why certain\nfailures are seen.\n\nChange-Id: I6e58908966a2dc62a3fff155bb81481d68aa2d68\n'}, {'number': 5, 'created': '2020-07-13 10:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3aada2a54dc5f8dd6d5eda9daf0add308f58f23b', 'message': 'libvirt: Track blockjob status in DEBUG when polling for completion\n\nWhile this is extremely chatty given the 0.5 second loop used by callers\ninto this method it will provide useful insight into why certain\nfailures are seen.\n\nChange-Id: I6e58908966a2dc62a3fff155bb81481d68aa2d68\n'}, {'number': 6, 'created': '2020-07-20 16:25:15.000000000', 'files': ['nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c97ccb3634985db0e4d66d16834e141be8a20914', 'message': 'libvirt: Track blockjob status in DEBUG when polling for completion\n\nWhile this is extremely chatty given the 0.5 second loop used by callers\ninto this method it will provide useful insight into why certain\nfailures are seen.\n\nChange-Id: I6e58908966a2dc62a3fff155bb81481d68aa2d68\n'}]",4,729595,c97ccb3634985db0e4d66d16834e141be8a20914,104,15,6,10135,,,0,"libvirt: Track blockjob status in DEBUG when polling for completion

While this is extremely chatty given the 0.5 second loop used by callers
into this method it will provide useful insight into why certain
failures are seen.

Change-Id: I6e58908966a2dc62a3fff155bb81481d68aa2d68
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/729595/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,d82206ad92ce5eef1e24cffe16b733ab492e500d,," # Track blockjob progress in DEBUG, helpful when reviewing failures. LOG.debug('%{job} job current cursor: %{cur} final cursor: %{end}', {'job': status.job, 'cur': status.cur, 'end': status.end}) ",,4,0
openstack%2Fnova~master~Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c,openstack/nova,master,Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c,Make our ceph job test with glance in multistore mode,MERGED,2020-06-08 19:44:53.000000000,2020-08-04 11:25:29.000000000,2020-07-22 02:46:12.000000000,"[{'_account_id': 2}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-06-08 19:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffd48655fe5222c29dc2b3c2f85102d760941d13', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 2, 'created': '2020-06-08 20:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88883fae65abd592f4c83d96c127e079a86b0fe4', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 3, 'created': '2020-06-09 14:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ec48aef68e78bc7d56256550756cf948db08b46', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 4, 'created': '2020-06-09 19:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59d409cf174fafb2857a8f7203f1cf1d065cb8ab', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 5, 'created': '2020-06-09 22:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb7adde380622c25a5102584e6362471d59fc385', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 6, 'created': '2020-06-09 22:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d98da325b0306a34d83b458348e1fe63ab783d6', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 7, 'created': '2020-06-10 13:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3d4aa466f256a5f6dbd2212f381e10fd9f69fd8', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 8, 'created': '2020-06-10 15:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10b36f9ba51940ba3a772c64890c1a53b9f41dbd', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 9, 'created': '2020-06-11 13:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cbc86269f844d76bafc64f2104fb4b6c47814e5', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 10, 'created': '2020-06-11 14:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b982320ce921c321aa4a42993e3990c3558136da', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 11, 'created': '2020-06-11 16:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c520063363f5cf1e3108171dfb36b8a2cda6884', 'message': 'DNM: Try to make a glance multistore job\n\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 12, 'created': '2020-06-16 16:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aca2bc636096211a194e71900653a906cbaa8541', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 13, 'created': '2020-06-19 15:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be349df568acac94a69a23d47d696fbfc305e996', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/736231\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 14, 'created': '2020-06-19 17:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb19fd15b8c530ec891cad805017ea39c816545f', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/736231\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 15, 'created': '2020-06-22 14:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c552ed9b16d6a89bdd45626571b067051cbdaf6', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/736231\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 16, 'created': '2020-06-22 14:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93c1c256173eb5e018edd2d1a1071025cff76f7e', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 17, 'created': '2020-06-22 21:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc7baef95586d90deef58291a8513e638ebeb4e', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/737382\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 18, 'created': '2020-06-23 14:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4fb95c53ba6be1e5408e81ba76b02ceb242e748e', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/737548\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 19, 'created': '2020-06-24 13:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45f54cc1e6a3195b3d7585443e5132a3ae6db6ae', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/737548\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 20, 'created': '2020-06-24 14:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8b32c1c11485e5c0e4a6695326e974e6fef614f', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/737548\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 21, 'created': '2020-07-06 13:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66e611ce9df7caffe7f3279de6e1f839ae001a8b', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 22, 'created': '2020-07-06 15:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17e66a7b6d508efd4ab4ae0a7ea9abdfb5a598a2', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 23, 'created': '2020-07-07 15:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6869c13a25647e91c05a0bfdbd45b2f9e16609e', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 24, 'created': '2020-07-08 13:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b9148406bf10afbcf6a9a33699a5194a50734ac', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 25, 'created': '2020-07-08 14:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9d3fd6c56078ec8e6444f721232b2f78420ad1d', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 26, 'created': '2020-07-08 17:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/019fdb0948486fcfe2cae7be6b581dc6db440a80', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 27, 'created': '2020-07-09 13:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c70b2e37372182737e22fbd6df2ec17bfe34ca4', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 28, 'created': '2020-07-13 14:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93104c11bde90ce11084e57661dbbf8d3b3f09e2', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 29, 'created': '2020-07-13 16:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c17c5d58f71826f89c7d13b2e01422d1302aa791', 'message': 'DNM: Try to make a glance multistore job\n\nDepends-On: https://review.opendev.org/#/c/735966\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n'}, {'number': 30, 'created': '2020-07-13 18:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc803e690e35eef3244f818daeda0c2d03ac3ec2', 'message': ""WIP: Make our ceph job test with glance in multistore mode\n\nThis makes our ceph job configure glance with multiple stores enabled.\nIt also makes sure that devstack uploads the cirros image to the file-\nbacked store, and configures nova for automatic copy-to-store\nfunctionality. In order to allow this, we must grant all users ability\nto copy-to-store for public images, since the tempest tests run as\ntheir own users. This broadens the coverage of our ceph job to hit not\nonly the ceph paths, but the copy-to-store paths, as well as glance's\nmulti-store paths, and glance's async task paths.\n\nRelated to bp/rbd-glance-multistore\n\nDepends-On: https://review.opendev.org/#/c/740322\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n""}, {'number': 31, 'created': '2020-07-14 16:12:10.000000000', 'files': ['playbooks/ceph/glance-copy-policy.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a81189b0e2957ac0f0253735aea02c4413eb91f0', 'message': ""Make our ceph job test with glance in multistore mode\n\nThis makes our ceph job configure glance with multiple stores enabled.\nIt also makes sure that devstack uploads the cirros image to the file-\nbacked store, and configures nova for automatic copy-to-store\nfunctionality. In order to allow this, we must grant all users ability\nto copy-to-store for public images, since the tempest tests run as\ntheir own users. This broadens the coverage of our ceph job to hit not\nonly the ceph paths, but the copy-to-store paths, as well as glance's\nmulti-store paths, and glance's async task paths.\n\nRelated to bp/rbd-glance-multistore\n\nDepends-On: https://review.opendev.org/#/c/740322\nDepends-On: https://review.opendev.org/#/c/738703\nChange-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c\n""}]",23,734184,a81189b0e2957ac0f0253735aea02c4413eb91f0,301,17,31,4393,,,0,"Make our ceph job test with glance in multistore mode

This makes our ceph job configure glance with multiple stores enabled.
It also makes sure that devstack uploads the cirros image to the file-
backed store, and configures nova for automatic copy-to-store
functionality. In order to allow this, we must grant all users ability
to copy-to-store for public images, since the tempest tests run as
their own users. This broadens the coverage of our ceph job to hit not
only the ceph paths, but the copy-to-store paths, as well as glance's
multi-store paths, and glance's async task paths.

Related to bp/rbd-glance-multistore

Depends-On: https://review.opendev.org/#/c/740322
Depends-On: https://review.opendev.org/#/c/738703
Change-Id: Iff5e9eaed7eb2345eaafc90c8cd6466a2cbca08c
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/734184/16 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ffd48655fe5222c29dc2b3c2f85102d760941d13,bp/rbd-glance-multistore,"- job: name: nova-ceph-multistore parent: devstack-plugin-ceph-tempest-py3 description: | Just like the normal ceph job, but with glance multistore irrelevant-files: *dsvm-irrelevant-files required-projects: - openstack/nova vars: devstack_local_conf: post-config: $GLANCE_CONF: DEFAULT: enabled_backends = cheap:file, robust:rbd glance_store: default_backend = cheap stores = file, http, rbd default_store = file robust: rbd_store_pool = images rbd_store_user = glance rbd_store_ceph_conf = /etc/ceph/ceph.conf cheap: filesystem_store_datadir = /opt/stack/data/glance/images/ os_glance_staging_store: filesystem_store_datadir = /opt/stack/data/glance/os_glance_staging_store/ # - integrated-gate-compute # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python3-victoria-jobs # - periodic-stable-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3# - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *dsvm-irrelevant-files - nova-ceph-multistore:# - neutron-tempest-linuxbridge: # irrelevant-files: # # NOTE(mriedem): This job has its own irrelevant-files section # # so that we only run it on changes to networking and libvirt/vif # # code; we don't need to run this on all changes, nor do we run # # it in the gate. # - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ # - nova-grenade-multinode # - nova-live-migration # - nova-lvm # - nova-multi-cell # - nova-next # - nova-tox-functional-py38 # - tempest-integrated-compute: # # NOTE(gmann): Policies changes do not need to run all the # # integration test jobs. Running only tempest and grenade # # common jobs will be enough along with nova functional # # and unit tests. # irrelevant-files: &policies-irrelevant-files # - ^api-.*$ # - ^(test-|)requirements.txt$ # - ^.*\.rst$ # - ^.git.*$ # - ^doc/.*$ # - ^nova/hacking/.*$ # - ^nova/locale/.*$ # - ^nova/tests/.*$ # - ^nova/test.py$ # - ^releasenotes/.*$ # - ^setup.cfg$ # - ^tools/.*$ # - ^tox.ini$ # - grenade: # irrelevant-files: *policies-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *dsvm-irrelevant-files # - openstacksdk-functional-devstack: # irrelevant-files: *dsvm-irrelevant-files # - cyborg-tempest: # irrelevant-files: *dsvm-irrelevant-files # voting: false # - barbican-simple-crypto-devstack-tempest: # irrelevant-files: *dsvm-irrelevant-files # voting: false"," - integrated-gate-compute - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python3-victoria-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false - devstack-plugin-ceph-tempest-py3: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes, nor do we run # it in the gate. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-grenade-multinode - nova-live-migration - nova-lvm - nova-multi-cell - nova-next - nova-tox-functional-py38 - tempest-integrated-compute: # NOTE(gmann): Policies changes do not need to run all the # integration test jobs. Running only tempest and grenade # common jobs will be enough along with nova functional # and unit tests. irrelevant-files: &policies-irrelevant-files - ^api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^nova/test.py$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - grenade: irrelevant-files: *policies-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files - openstacksdk-functional-devstack: irrelevant-files: *dsvm-irrelevant-files - cyborg-tempest: irrelevant-files: *dsvm-irrelevant-files voting: false - barbican-simple-crypto-devstack-tempest: irrelevant-files: *dsvm-irrelevant-files voting: false",82,55
openstack%2Fgovernance~master~I8d2e1af0b03cc68d161ab0ff6f7f631c513ddca6,openstack/governance,master,I8d2e1af0b03cc68d161ab0ff6f7f631c513ddca6,Add Ceph iSCSI charm to OpenStack charms,MERGED,2020-08-03 14:12:46.000000000,2020-08-04 11:24:22.000000000,2020-08-04 11:22:19.000000000,"[{'_account_id': 935}, {'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:12:46.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/fbebf372aca6bf53648338d22e83abd2906e7899', 'message': 'Add Ceph iSCSI charm to OpenStack charms\n\nAdd Ceph iSCSI charm and corresponding interfaces to OpenStack Charms.\n\nDepends-On: I9e385c4206aa6e9a7315099f10c4b2b1530f3e13\nChange-Id: I8d2e1af0b03cc68d161ab0ff6f7f631c513ddca6\n'}]",0,744480,fbebf372aca6bf53648338d22e83abd2906e7899,13,5,1,12549,,,0,"Add Ceph iSCSI charm to OpenStack charms

Add Ceph iSCSI charm and corresponding interfaces to OpenStack Charms.

Depends-On: I9e385c4206aa6e9a7315099f10c4b2b1530f3e13
Change-Id: I8d2e1af0b03cc68d161ab0ff6f7f631c513ddca6
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/744480/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,fbebf372aca6bf53648338d22e83abd2906e7899,project-update, charm-ceph-iscsi: release-management: external repos: - openstack/charm-ceph-iscsi charm-ops-interface-ceph-client: release-management: external repos: - openstack/charm-ops-interface-ceph-client charm-ops-interface-tls-certificates: release-management: external repos: - openstack/charm-ops-interface-tls-certificates charm-ops-openstack: release-management: external repos: - openstack/charm-ops-openstack,,16,0
openstack%2Fnova~master~Iff84fcba02a4b6d7717f4b387e392593f2983118,openstack/nova,master,Iff84fcba02a4b6d7717f4b387e392593f2983118,scheduler: mixed instance CPU resource translating,MERGED,2020-05-15 15:57:04.000000000,2020-08-04 11:00:08.000000000,2020-07-21 23:50:28.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85b26b49666be79f6487e3c119b775f6d749a53e', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 2, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d9f0718f3fe2f7d750e5d228d331b36cd9a1838', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 3, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e38cea4dc0987e553ebd013ef41d4ea804b7e5f6', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 4, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b8c49abcf1d8a0af64b71b959bbec96d7d20abd', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 5, 'created': '2020-07-02 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39d6f270dcf9243583dc7ff580c01b0d9e233198', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 6, 'created': '2020-07-02 12:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b86ab069387fd147f11c2c4a01616061273f1d2b', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 7, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/edec5fba199a58de5c1a9d042b00f6d710503b2f', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 8, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b29b3d77d307e0a7ed3d78236abfc2c65d3f4e45', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 9, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c09c31bafc755b535fa5ac46076e8312ffdeb01', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 10, 'created': '2020-07-14 17:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52295a88f908683dc24c3932d43c8d3bc078e99f', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 11, 'created': '2020-07-14 17:25:54.000000000', 'files': ['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bb54cab554090797c8d69fdfb1b0483c411a99a', 'message': 'scheduler: mixed instance CPU resource translating\n\nTranslate the dedicated and shared instance CPUs to\nthe placement PCPU and VCPU resources.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}]",16,728482,9bb54cab554090797c8d69fdfb1b0483c411a99a,114,16,11,30209,,,0,"scheduler: mixed instance CPU resource translating

Translate the dedicated and shared instance CPUs to
the placement PCPU and VCPU resources.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: Iff84fcba02a4b6d7717f4b387e392593f2983118
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/728482/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py']",2,85b26b49666be79f6487e3c119b775f6d749a53e,bp/use-pcpu-and-vcpu-in-one-instance," # TODO(huaqiang): Remove once get_dedicated_cpu_constraint function is # ready. @mock.patch('nova.virt.hardware.get_dedicated_cpu_constraint', return_value=set([2, 3])) def test_resource_request_init_with_mixed_cpus(self, mock_dedicated): flavor = objects.Flavor( vcpus=4, memory_mb=1024, root_gb=10, ephemeral_gb=5, swap=0, extra_specs={ 'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '2,3' }) rs = objects.RequestSpec(flavor=flavor) expected = FakeResourceRequest() expected._rg_by_id[None] = objects.RequestGroup( use_same_provider=False, resources={ # we should have a PCPU due to hw_cpu_policy 'PCPU': 2, 'VCPU': 2, 'MEMORY_MB': 1024, 'DISK_GB': 15, }, required_traits=set(), ) rr = utils.ResourceRequest(rs) self.assertResourceRequestsEqual(expected, rr) self.assertFalse(rr.cpu_pinning_requested) # TODO(huaqiang): Remove once get_dedicated_cpu_constraint function is # ready. @mock.patch('nova.virt.hardware.get_dedicated_cpu_constraint', return_value=set([2, 3])) def test_resource_request_init_with_mixed_cpus_isolate_emulator( self, mock_dedicated): flavor = objects.Flavor( vcpus=4, memory_mb=1024, root_gb=10, ephemeral_gb=5, swap=0, extra_specs={ 'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '2,3', 'hw:emulator_threads_policy': 'isolate', }) rs = objects.RequestSpec(flavor=flavor) expected = FakeResourceRequest() expected._rg_by_id[None] = objects.RequestGroup( use_same_provider=False, resources={ # we should have a PCPU due to hw_cpu_policy 'PCPU': 3, 'VCPU': 2, 'MEMORY_MB': 1024, 'DISK_GB': 15, }, required_traits=set(), ) rr = utils.ResourceRequest(rs) self.assertResourceRequestsEqual(expected, rr) self.assertFalse(rr.cpu_pinning_requested) ",,84,13
openstack%2Fnova~master~If0aff810640c74ee433cbba0560a88ce2f9ae0d9,openstack/nova,master,If0aff810640c74ee433cbba0560a88ce2f9ae0d9,bfv: check if image_size > volume_size in API,NEW,2020-06-17 20:14:25.000000000,2020-08-04 10:54:28.000000000,,"[{'_account_id': 1004}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-17 20:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a505f099324fd9aa9f5e984f47ad7540b2faa5f', 'message': ""bfv: check if image_size > volume_size in API\n\nAt the moment, we have a check to make sure that we disallow the\ncreation of volumes where min_gb > volume_size, however, min_gb is a\nfield that's provided by the user and may not be filled in.\n\nIn the case that it is not provided, the API will not fail at acceping\nthat request but it will fail later inside the compute manager without\na proper error message.\n\nThis patch adds a check which verifies if the image size is greater than\nthe requested volume size and refuses the attempt at the API layer,\nwhich should protect from any cases where min_gb is not defined for an\nimage.\n\nChange-Id: If0aff810640c74ee433cbba0560a88ce2f9ae0d9\nCloses-Bug: #1883969\n""}, {'number': 2, 'created': '2020-06-17 20:20:07.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/18f274c449e84a29de2461b3ec1144b53f8f7e41', 'message': ""bfv: check if image_size > volume_size in API\n\nAt the moment, we have a check to make sure that we disallow the\ncreation of volumes where min_gb > volume_size, however, min_gb is a\nfield that's provided by the user and may not be filled in.\n\nIn the case that it is not provided, the API will not fail at acceping\nthat request but it will fail later inside the compute manager without\na proper error message.\n\nThis patch adds a check which verifies if the image size is greater than\nthe requested volume size and refuses the attempt at the API layer,\nwhich should protect from any cases where min_gb is not defined for an\nimage.\n\nChange-Id: If0aff810640c74ee433cbba0560a88ce2f9ae0d9\nCloses-Bug: #1883969\n""}]",12,736370,18f274c449e84a29de2461b3ec1144b53f8f7e41,26,18,2,1004,,,0,"bfv: check if image_size > volume_size in API

At the moment, we have a check to make sure that we disallow the
creation of volumes where min_gb > volume_size, however, min_gb is a
field that's provided by the user and may not be filled in.

In the case that it is not provided, the API will not fail at acceping
that request but it will fail later inside the compute manager without
a proper error message.

This patch adds a check which verifies if the image size is greater than
the requested volume size and refuses the attempt at the API layer,
which should protect from any cases where min_gb is not defined for an
image.

Change-Id: If0aff810640c74ee433cbba0560a88ce2f9ae0d9
Closes-Bug: #1883969
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/736370/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'test-requirements.txt', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py']",4,1a505f099324fd9aa9f5e984f47ad7540b2faa5f,bug/1883969," if image_size > dest_size: raise exception.VolumeSmallerThanImage( volume_size=dest_size, image_size=image_size) ",,29,1
openstack%2Fglance~stable%2Fussuri~If9aef73aceb4f0cb6255dcbfbb28d78dbd0c46e8,openstack/glance,stable/ussuri,If9aef73aceb4f0cb6255dcbfbb28d78dbd0c46e8,Releasenotes for Ussuri point release,MERGED,2020-07-31 05:37:46.000000000,2020-08-04 10:39:00.000000000,2020-08-04 10:37:40.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 05:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/de084f6f77e32f037ccece4a6bf61da04c055c0e', 'message': 'Releasenotes for Ussuri point release\n\nChange-Id: If9aef73aceb4f0cb6255dcbfbb28d78dbd0c46e8\n'}, {'number': 2, 'created': '2020-07-31 05:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5d79abf1bacff94406694eb38a965da72d38ebd0', 'message': 'Releasenotes for Ussuri point release\n\nChange-Id: If9aef73aceb4f0cb6255dcbfbb28d78dbd0c46e8\n'}, {'number': 3, 'created': '2020-07-31 06:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a8ba901a120c8029d2b29458adb6cfac902c3031', 'message': 'Releasenotes for Ussuri point release\n\nChange-Id: If9aef73aceb4f0cb6255dcbfbb28d78dbd0c46e8\n'}, {'number': 4, 'created': '2020-07-31 13:38:37.000000000', 'files': ['releasenotes/notes/ussuri-point-release-35cdd66344a3f62c.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/9cee9a688d49144dcb526d5688151195611b617c', 'message': 'Releasenotes for Ussuri point release\n\nChange-Id: If9aef73aceb4f0cb6255dcbfbb28d78dbd0c46e8\n'}]",1,744093,9cee9a688d49144dcb526d5688151195611b617c,15,3,4,9303,,,0,"Releasenotes for Ussuri point release

Change-Id: If9aef73aceb4f0cb6255dcbfbb28d78dbd0c46e8
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/744093/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ussuri-point-release-35cdd66344a3f62c.yaml'],1,de084f6f77e32f037ccece4a6bf61da04c055c0e,reno-stable-ussuri,--- fixes: - | Bug 1888349_: glance-cache-manage utility is broken - | Bug 1887994_: Mixed message in admin docs to deploy under httpd - | Bug 1886374_: Improve lazy loading mechanism for multiple stores - | Bug 1886374_: 'copy-image' import job should not try to run additional plugins - | Bug 1885003_: Interrupted copy-image may break a subsequent operation - | Bug 1884587_: image import copy-image API should reflect proper authorization - | Bug 1881958_: read-only http store should not be used if --all-stores specified for import/copy image workflow .. _1888349: https://code.launchpad.net/bugs/1888349 .. _1887994: https://code.launchpad.net/bugs/1887994 .. _1886374: https://code.launchpad.net/bugs/1886374 .. _1885725: https://code.launchpad.net/bugs/1885725 .. _1885003: https://code.launchpad.net/bugs/1885003 .. _1884587: https://code.launchpad.net/bugs/1884587 .. _1884587: https://code.launchpad.net/bugs/1881958 ,,25,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I7fb5feb51aca0953e2cea9de0be0ce18d1a7a8dc,openstack/tripleo-heat-templates,stable/ussuri,I7fb5feb51aca0953e2cea9de0be0ce18d1a7a8dc,Fix HA resource restart when no replicas are running,ABANDONED,2020-08-04 10:33:12.000000000,2020-08-04 10:35:21.000000000,,[{'_account_id': 20778}],"[{'number': 1, 'created': '2020-08-04 10:33:12.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba9ac4b0cf44a00536b786b4e0d29ec8f73893b5', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\nCloses-Bug: #1889395\n\n(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)\n\nChange-Id: I7fb5feb51aca0953e2cea9de0be0ce18d1a7a8dc\n'}]",0,744675,ba9ac4b0cf44a00536b786b4e0d29ec8f73893b5,2,1,1,11090,,,0,"Fix HA resource restart when no replicas are running

When the helper script pacemaker_restart_bundle.sh is called
during a stack update, it restarts the pacemaker resource via
a ""pcs resource restart <name>"".

When all the replicas are stopped due to a previous error,
pcs won't restart them because there is nothing to stop. In
that case, one must use ""pcs resource cleanup <name>"".

Change-Id: I1790444d289d057e9a3f612c53efe485080978b5
Closes-Bug: #1889395

(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)

Change-Id: I7fb5feb51aca0953e2cea9de0be0ce18d1a7a8dc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/744675/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,ba9ac4b0cf44a00536b786b4e0d29ec8f73893b5,bug/1889395-stable/ussuri," replicas_running=$(crm_resource -Q -r $BUNDLE_NAME --locate 2>&1 | wc -l) if [ ""$replicas_running"" != ""0"" ]; then echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME else echo ""$(date -u): ${BUNDLE_NAME} is not running anywhere,"" \ ""cleaning up to restart it globally if necessary"" /sbin/pcs resource cleanup $BUNDLE_NAME fi"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",9,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I326ecb801b990b7814267cbf4b05629923ce801c,openstack/tripleo-heat-templates,stable/ussuri,I326ecb801b990b7814267cbf4b05629923ce801c,Fix HA resource restart when no replicas are running,ABANDONED,2020-08-04 10:26:16.000000000,2020-08-04 10:31:55.000000000,,[{'_account_id': 20778}],"[{'number': 1, 'created': '2020-08-04 10:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/662935f4cde5ab2939fa615a9683f35fd79cbfd6', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\nCloses-Bug: #1889395\n\n(cherry picked from commit (cherry picked from commit 1a48fa61f4a7d79041336e11ae54e46075d4f2a7)\n\nChange-Id: I326ecb801b990b7814267cbf4b05629923ce801c\n'}, {'number': 2, 'created': '2020-08-04 10:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc5ba69133b995ea260dfd5ac48198ad2dd28395', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\nCloses-Bug: #1889395\n\n(cherry picked from commit 1a48fa61f4a7d79041336e11ae54e46075d4f2a7)\n'}, {'number': 3, 'created': '2020-08-04 10:29:30.000000000', 'files': ['container_config_scripts/pacemaker_restart_bundle.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf32bf275b5566dab74734bc96607d97511abc32', 'message': 'Fix HA resource restart when no replicas are running\n\nWhen the helper script pacemaker_restart_bundle.sh is called\nduring a stack update, it restarts the pacemaker resource via\na ""pcs resource restart <name>"".\n\nWhen all the replicas are stopped due to a previous error,\npcs won\'t restart them because there is nothing to stop. In\nthat case, one must use ""pcs resource cleanup <name>"".\n\nChange-Id: I1790444d289d057e9a3f612c53efe485080978b5\nCloses-Bug: #1889395\n\n(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)\n'}]",0,744674,cf32bf275b5566dab74734bc96607d97511abc32,4,1,3,11090,,,0,"Fix HA resource restart when no replicas are running

When the helper script pacemaker_restart_bundle.sh is called
during a stack update, it restarts the pacemaker resource via
a ""pcs resource restart <name>"".

When all the replicas are stopped due to a previous error,
pcs won't restart them because there is nothing to stop. In
that case, one must use ""pcs resource cleanup <name>"".

Change-Id: I1790444d289d057e9a3f612c53efe485080978b5
Closes-Bug: #1889395

(cherry picked from commit ba471ee461b125e2aa53c485ab61dc467bf7d858)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/744674/3 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/pacemaker_restart_bundle.sh'],1,662935f4cde5ab2939fa615a9683f35fd79cbfd6,bug/1889395-stable/ussuri," replicas_running=$(crm_resource -Q -r $BUNDLE_NAME --locate 2>&1 | wc -l) if [ ""$replicas_running"" != ""0"" ]; then echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME else echo ""$(date -u): ${BUNDLE_NAME} is not running anywhere,"" \ ""cleaning up to restart it globally if necessary"" /sbin/pcs resource cleanup $BUNDLE_NAME fi"," echo ""$(date -u): Restarting ${BUNDLE_NAME} globally"" /sbin/pcs resource restart --wait=__PCMKTIMEOUT__ $BUNDLE_NAME",9,2
openstack%2Fnova~master~I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b,openstack/nova,master,I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b,compute: bump nova-compute version and check in API,MERGED,2020-07-14 10:12:48.000000000,2020-08-04 10:30:42.000000000,2020-07-21 23:50:33.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-07-14 10:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12a1e6a20bf89ddc3168ca0d3900ab843acc4467', 'message': ""[DNM] bump nova-compute version for mixed instance in API\n\nBump nova-compute service version and announcing the support of\n'mixed' instance and check the nova-compute service in API\nlayer.\n\nThis is an alternative of change [1], in [1] the version check is\ndone in conductor layer.\n\n[1]  https://review.opendev.org/716271\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 2, 'created': '2020-07-15 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b375efe1baf232c5ff70bbbe2b171271ebd1d307', 'message': ""compute: bump nova-compute version and check in API\n\nBump nova-compute service version, announce the support of\n'mixed' instance and then check the service version for all\nnova-compute nodes in API layer.\n\nThis is an alternative of change [1], in [1] the nova-compute\nservice version check is done in conductor layer, while we\nthink checking the nova-compute service version in API layer\nmake more sense.\n\n[1]  https://review.opendev.org/716271\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 3, 'created': '2020-07-17 04:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b95d65b6ca7226d6b54adc3c933f948e11c3771', 'message': ""compute: bump nova-compute version and check in API\n\nBump nova-compute service version, announce the support of\n'mixed' instance and then check the service version for all\nnova-compute nodes in API layer.\n\nThe nova-compute nodes in cluster need to be ensured that\nthey support the 'mixed' instance CPU allocation policy\nonce they want to:\n\n    - Create a brand-new instance\n    - Resize to a mixed instance from a dedicated or shared\ninstance.\n\nAnd we don't support to rebuild an instance that changes\nthe NUMA topology, and changing the CPU policy will\ndefinitely mean changing the NUMA topology, so nova-compute\nnodes version will not be check in rebuilding process.\n\nThis is an alternative of change [1], in [1] the nova-compute\nservice version check is done in conductor layer, while we\nthink checking the nova-compute service version in API layer\nmake more sense.\n\n[1]  https://review.opendev.org/716271\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 4, 'created': '2020-07-17 06:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/533970dacb04c39fa645dccda4fe4f3a017de28a', 'message': ""compute: bump nova-compute version and check in API\n\nBump nova-compute service version, announce the support of\n'mixed' instance and then check the service version for all\nnova-compute nodes in API layer.\n\nThe nova-compute nodes in cluster need to be ensured that\nthey support the 'mixed' instance CPU allocation policy\nonce they want to:\n\n    - Create a brand-new instance\n    - Resize to a mixed instance from a dedicated or shared\ninstance.\n\nAnd we don't support to rebuild an instance that changes\nthe NUMA topology, and changing the CPU policy will\ndefinitely mean changing the NUMA topology, so nova-compute\nnodes version will not be check in rebuilding process.\n\nThis is an alternative of change [1], in [1] the nova-compute\nservice version check is done in conductor layer, while we\nthink checking the nova-compute service version in API layer\nmake more sense.\n\n[1]  https://review.opendev.org/716271\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 5, 'created': '2020-07-20 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d362daef17eab5b29e59d59dbb83c0adbc3bd82a', 'message': ""compute: bump nova-compute version and check in API\n\nBump nova-compute service version, announce the support of\n'mixed' instance and then check the service version for all\nnova-compute nodes in API layer.\n\nThe nova-compute nodes in cluster need to be ensured that\nthey support the 'mixed' instance CPU allocation policy\nonce they want to:\n\n- Create a brand-new instance\n- Resize to a mixed instance from a dedicated or shared instance.\n\nAnd we don't support rebuilding an instance that changes\nthe NUMA topology, and changing the CPU policy will\ndefinitely mean changing the NUMA topology, so nova-compute\nnodes version will not be checked when rebuilding.\n\nIt is also not necessary to check the service version when\nshelving and unshelving an instance, because the instance\nCPU policy cannot be changed in this process, and all\ncompute nodes service have been checked before shelving a\nmixed instance, no need to check this again.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 6, 'created': '2020-07-21 00:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee7c643b08bc042293cc0a7e03f6a2518db0b50e', 'message': ""compute: bump nova-compute version and check in API\n\nBump nova-compute service version, announce the support of\n'mixed' instance and then check the service version for all\nnova-compute nodes in API layer.\n\nThe nova-compute nodes in cluster need to be ensured that\nthey support the 'mixed' instance CPU allocation policy\nonce they want to:\n\n- Create a brand-new instance\n- Resize to a mixed instance from a dedicated or shared instance.\n\nAnd we don't support rebuilding an instance that changes\nthe NUMA topology, and changing the CPU policy will\ndefinitely mean changing the NUMA topology, so nova-compute\nnodes version will not be checked when rebuilding.\n\nIt is also not necessary to check the service version when\nshelving and unshelving an instance, because the instance\nCPU policy cannot be changed in this process, and all\ncompute nodes service have been checked before shelving a\nmixed instance, no need to check this again.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-07-21 07:28:16.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/objects/service.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ddc60539f53e24bb92ef711674f5be4c7c0bcc3', 'message': ""compute: bump nova-compute version and check in API\n\nBump nova-compute service version, announce the support of\n'mixed' instance and then check the service version for all\nnova-compute nodes in API layer.\n\nThe nova-compute nodes in cluster need to be ensured that\nthey support the 'mixed' instance CPU allocation policy\nonce they want to:\n\n- Create a brand-new instance\n- Resize to a mixed instance from a dedicated or shared instance.\n\nAnd we don't support rebuilding an instance that changes\nthe NUMA topology, and changing the CPU policy will\ndefinitely mean changing the NUMA topology, so nova-compute\nnodes version will not be checked when rebuilding.\n\nIt is also not necessary to check the service version when\nshelving and unshelving an instance, because the instance\nCPU policy cannot be changed in this process, and all\ncompute nodes service have been checked before shelving a\nmixed instance, no need to check this again.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",40,740933,9ddc60539f53e24bb92ef711674f5be4c7c0bcc3,81,10,7,30209,,,0,"compute: bump nova-compute version and check in API

Bump nova-compute service version, announce the support of
'mixed' instance and then check the service version for all
nova-compute nodes in API layer.

The nova-compute nodes in cluster need to be ensured that
they support the 'mixed' instance CPU allocation policy
once they want to:

- Create a brand-new instance
- Resize to a mixed instance from a dedicated or shared instance.

And we don't support rebuilding an instance that changes
the NUMA topology, and changing the CPU policy will
definitely mean changing the NUMA topology, so nova-compute
nodes version will not be checked when rebuilding.

It is also not necessary to check the service version when
shelving and unshelving an instance, because the instance
CPU policy cannot be changed in this process, and all
compute nodes service have been checked before shelving a
mixed instance, no need to check this again.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I59298788f26ca8f32bf3e38f3a52f72ff63fcc8b
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/740933/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/objects/service.py', 'nova/compute/api.py']",4,12a1e6a20bf89ddc3168ca0d3900ab843acc4467,bp/use-pcpu-and-vcpu-in-one-instance,"from nova.objects import serviceMIN_VER_NOVA_COMPUTE_MIXED_POLICY = 52 def _check_compute_service_for_mixed_instance(self, instance): """"""Check if the nova-compute service is ready to support mixed instance when the CPU allocation policy is 'mixed'. """""" numa_topology = instance.numa_topology # no need to check if no numa topology is associated with the instance if numa_topology is None: return # no need to check if instance CPU policy is not 'mixed' if numa_topology.cpu_policy != fields_obj.CPUAllocationPolicy.MIXED: return # catch a request for creating a mixed instance, make sure all # nova-compute services have been upgrade to version after Victoria. if (service.get_minimum_version_all_cells( nova_context.get_admin_context(), 'nova-compute') < MIN_VER_NOVA_COMPUTE_MIXED_POLICY): raise exception.MixedInstanceNotSupportByComputeService() # Check nova-compute notes have been updated to Victoria to # support the instance mixed CPU policy. self._check_compute_service_for_mixed_instance(instance) # check if nova-compute notes have been upgraded to Victoria if # resizing an instance with mixed policy. # check all nova-compute notes have been upgrade to Victoria if # unshelving an instance with a mixed policy self._check_compute_service_for_mixed_instance(instance) # check if nova-compute notes have been upgraded to Victoria if # migrating a mixed policy instance self._check_compute_service_for_mixed_instance(instance) # check all nova-compute nodes have been upgrade to Victoria if # instance is requesting a mixed policy self._check_compute_service_for_mixed_instance(instance) ",,129,1
openstack%2Fcharm-cinder-ceph~master~I3b539d2080a928eb6872c6664f4627b9e9e6c4ff,openstack/charm-cinder-ceph,master,I3b539d2080a928eb6872c6664f4627b9e9e6c4ff,Add data pool definition for erasure coded pools,ABANDONED,2020-02-20 19:57:02.000000000,2020-08-04 10:29:06.000000000,,"[{'_account_id': 6633}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-20 19:57:02.000000000', 'files': ['config.yaml', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/40cfb6baf9faae182e9854e908f680373feca786', 'message': ""Add data pool definition for erasure coded pools\n\nThis patch allows for erasure coded pools to properly define the data pool\nusing ceph client's rbd default data pool parameter.\n\nFor an EC pool where both metadata and data pool exists, the configuration will\nlooks like that:\n\n  cinder-ceph-ec:\n    charm: cs:cinder-ceph\n    num_units: 0\n    options:\n      rbd-pool-name: cinder-ceph-ec-meta\n      rbd-default-data-pool: cinder-ceph-ec-data\n\nThe rbd-pool-name must hold the name of the metadata pool (replicated one),\nmeanwhile the rbd-default-data-pool contains the EC data pool.\n\nLP Related-Bug: #1863017\n\nChange-Id: I3b539d2080a928eb6872c6664f4627b9e9e6c4ff\n""}]",0,708959,40cfb6baf9faae182e9854e908f680373feca786,6,4,1,6633,,,0,"Add data pool definition for erasure coded pools

This patch allows for erasure coded pools to properly define the data pool
using ceph client's rbd default data pool parameter.

For an EC pool where both metadata and data pool exists, the configuration will
looks like that:

  cinder-ceph-ec:
    charm: cs:cinder-ceph
    num_units: 0
    options:
      rbd-pool-name: cinder-ceph-ec-meta
      rbd-default-data-pool: cinder-ceph-ec-data

The rbd-pool-name must hold the name of the metadata pool (replicated one),
meanwhile the rbd-default-data-pool contains the EC data pool.

LP Related-Bug: #1863017

Change-Id: I3b539d2080a928eb6872c6664f4627b9e9e6c4ff
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/59/708959/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/context.py', 'config.yaml', 'charmhelpers/contrib/openstack/templates/ceph.conf']",3,40cfb6baf9faae182e9854e908f680373feca786,bug/1863017, {% if rbd_default_data_pool -%} rbd default data pool = {{ rbd_default_data_pool }} {%- endif %},,17,0
openstack%2Fkolla~master~I609db6f4670da7ddfe132dcc62a58bce71aacfe2,openstack/kolla,master,I609db6f4670da7ddfe132dcc62a58bce71aacfe2,CI: Add the KVM jobs,MERGED,2020-07-16 18:07:16.000000000,2020-08-04 10:15:19.000000000,2020-08-04 10:08:23.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28182}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-16 18:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6566719870398d5f828977d06e75c89382daf3b5', 'message': 'CI: Add Ubuntu KVM job\n\nDepends-On: https://review.opendev.org/735454\nChange-Id: I609db6f4670da7ddfe132dcc62a58bce71aacfe2\n'}, {'number': 2, 'created': '2020-07-17 17:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/83f03db28457268f6d6b5430272038a2c701e039', 'message': 'CI: Add the KVM jobs\n\nThey are triggered only on changes to Nova to avoid using this\nscarce resource too often.\n\nDepends-On: https://review.opendev.org/735454\nDepends-On: https://review.opendev.org/741679\nChange-Id: I609db6f4670da7ddfe132dcc62a58bce71aacfe2\n'}, {'number': 3, 'created': '2020-07-17 17:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a87794b7348dcfc0ff821042bff4ea2899e791a', 'message': 'CI: Add the KVM jobs\n\nThey are triggered only on changes to Nova to avoid using this\nscarce resource too often.x\n\nDepends-On: https://review.opendev.org/735454\nDepends-On: https://review.opendev.org/741679\nChange-Id: I609db6f4670da7ddfe132dcc62a58bce71aacfe2\n'}, {'number': 4, 'created': '2020-07-17 17:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b401fa5b43d55a72a5fdaf4f8ed3a335fbaaa32e', 'message': 'CI: Add the KVM jobs\n\nThey are triggered only on changes to Nova to avoid using this\nscarce resource too often.\n\nDepends-On: https://review.opendev.org/735454\nDepends-On: https://review.opendev.org/741679\nChange-Id: I609db6f4670da7ddfe132dcc62a58bce71aacfe2\n'}, {'number': 5, 'created': '2020-07-31 09:06:00.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a807439bc50a5cfee4c34f71d010e90a0acc4216', 'message': 'CI: Add the KVM jobs\n\nThey are triggered only on changes to Nova to avoid using this\nscarce resource too often.\n\nDepends-On: https://review.opendev.org/735454\nDepends-On: https://review.opendev.org/741679\nChange-Id: I609db6f4670da7ddfe132dcc62a58bce71aacfe2\n'}]",0,741509,a807439bc50a5cfee4c34f71d010e90a0acc4216,21,7,5,30491,,,0,"CI: Add the KVM jobs

They are triggered only on changes to Nova to avoid using this
scarce resource too often.

Depends-On: https://review.opendev.org/735454
Depends-On: https://review.opendev.org/741679
Change-Id: I609db6f4670da7ddfe132dcc62a58bce71aacfe2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/741509/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/ubuntu.yaml'],1,6566719870398d5f828977d06e75c89382daf3b5,ci-kvm-jobs, - kolla-ansible-ubuntu-source-kvm: files: ^docker/nova/,,2,0
openstack%2Fkolla-ansible~stable%2Fussuri~I4dcac976620a5f451e3d273183199aefe400994a,openstack/kolla-ansible,stable/ussuri,I4dcac976620a5f451e3d273183199aefe400994a,prometheus-openstack-exporter config service filtering,MERGED,2020-08-03 12:39:44.000000000,2020-08-04 10:14:23.000000000,2020-08-04 10:08:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26689}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-03 12:39:44.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d2ecde250641f75fba8c378d7427a8db01dcd59', 'message': 'prometheus-openstack-exporter config service filtering\n\nThis change disables services in the Prometheus openstack-exporter\nif they are not enabled in the deployment. Such behaviour allows\nto avoid warnings and errors in the log files and keep the\nlog file contents clean and informative.\n\nChange-Id: I4dcac976620a5f451e3d273183199aefe400994a\n(cherry picked from commit 9fc98be11a101ad75847b79fb12de890d407a439)\n'}]",0,744457,8d2ecde250641f75fba8c378d7427a8db01dcd59,12,4,1,26689,,,0,"prometheus-openstack-exporter config service filtering

This change disables services in the Prometheus openstack-exporter
if they are not enabled in the deployment. Such behaviour allows
to avoid warnings and errors in the log files and keep the
log file contents clean and informative.

Change-Id: I4dcac976620a5f451e3d273183199aefe400994a
(cherry picked from commit 9fc98be11a101ad75847b79fb12de890d407a439)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/744457/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/defaults/main.yml']",2,8d2ecde250641f75fba8c378d7427a8db01dcd59,openstack_exporter_cfg_filter-stable/ussuri," prometheus_openstack_exporter_disabled_volume: ""{{ '--disable-service.volume' if not enable_cinder | bool else '' }}"" prometheus_openstack_exporter_disabled_dns: ""{{ '--disable-service.dns' if not enable_designate | bool else '' }}"" prometheus_openstack_exporter_disabled_object: ""{{ '--disable-service.object-store' if not enable_swift | bool else '' }}"" prometheus_openstack_exporter_disabled_lb: ""{{ '--disable-service.load-balancer --disable-metric=neutron-loadbalancers --disable-metric=neutron-loadbalancers_not_active' if not enable_octavia | bool else '' }}"" prometheus_openstack_exporter_disabled_items: ""{{ [prometheus_openstack_exporter_disabled_volume, prometheus_openstack_exporter_disabled_dns, prometheus_openstack_exporter_disabled_object, prometheus_openstack_exporter_disabled_lb|trim]|join(' ')|trim }}""",,7,1
openstack%2Fironic-inspector~bugfix%2F10.2~I780151870f851ad5dcd45610aacedcca23607a71,openstack/ironic-inspector,bugfix/10.2,I780151870f851ad5dcd45610aacedcca23607a71,Add public api support to basic auth,MERGED,2020-08-04 08:14:26.000000000,2020-08-04 10:09:30.000000000,2020-08-04 09:27:51.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-04 08:14:26.000000000', 'files': ['releasenotes/notes/http-basic-public-api-2cf0e206bea4b34e.yaml', 'ironic_inspector/utils.py', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/173195e7372dad5d749a9540643ee402c66ed109', 'message': 'Add public api support to basic auth\n\nThis change implements an alternative middleware which supports the\nsame deferred auth mechanism as the keystone auth middleware.\n\nWhen auth fails the header X-Identity-Status is set to Invalid, which\nonly becomes an Unauthorized response when the path is not public.\n\nWithout this change, the paths /, /v1 and /v1/continue\nincorrectly require authentication when using basic auth.\n\nChange-Id: I780151870f851ad5dcd45610aacedcca23607a71\nStory: 2007656\nTask: 39826\n(cherry picked from commit 92c64226f43ebcef7a79ba11d4b428276c3fb37f)\n'}]",0,744658,173195e7372dad5d749a9540643ee402c66ed109,8,4,1,10239,,,0,"Add public api support to basic auth

This change implements an alternative middleware which supports the
same deferred auth mechanism as the keystone auth middleware.

When auth fails the header X-Identity-Status is set to Invalid, which
only becomes an Unauthorized response when the path is not public.

Without this change, the paths /, /v1 and /v1/continue
incorrectly require authentication when using basic auth.

Change-Id: I780151870f851ad5dcd45610aacedcca23607a71
Story: 2007656
Task: 39826
(cherry picked from commit 92c64226f43ebcef7a79ba11d4b428276c3fb37f)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/58/744658/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/utils.py', 'releasenotes/notes/http-basic-public-api-2cf0e206bea4b34e.yaml', 'ironic_inspector/test/unit/test_main.py']",3,173195e7372dad5d749a9540643ee402c66ed109,basic-auth-bugfix/10.2," def test_unauthenticated_public_api(self): res = self.app.get('/') self.assertEqual(200, res.status_code) res = self.app.get('/v1') self.assertEqual(200, res.status_code) res = self.app.get('/v1/introspection') self.assertEqual(401, res.status_code) ",,55,2
openstack%2Ftempest~master~I98aa27ea412fdc2d562fe845dd834550d6751a2b,openstack/tempest,master,I98aa27ea412fdc2d562fe845dd834550d6751a2b,Enable xindy for PDF build,MERGED,2019-09-30 02:07:03.000000000,2020-08-04 10:07:14.000000000,2020-08-04 10:05:45.000000000,"[{'_account_id': 8556}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-09-30 02:07:03.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b20c3a5cc02ab4429823ed6f7addd9de670be93e', 'message': 'Enable xindy for PDF build\n\nThis commit enables xindy for the PDF build. We can do this since the\nbug[0] was already fixed.\n\n[0] https://bugzilla.redhat.com/show_bug.cgi?id=1643664\n\nChange-Id: I98aa27ea412fdc2d562fe845dd834550d6751a2b\n'}]",0,685635,b20c3a5cc02ab4429823ed6f7addd9de670be93e,11,4,1,5689,,,0,"Enable xindy for PDF build

This commit enables xindy for the PDF build. We can do this since the
bug[0] was already fixed.

[0] https://bugzilla.redhat.com/show_bug.cgi?id=1643664

Change-Id: I98aa27ea412fdc2d562fe845dd834550d6751a2b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/35/685635/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,b20c3a5cc02ab4429823ed6f7addd9de670be93e,enable-xindy,, # Disable usage of xindy https://bugzilla.redhat.com/show_bug.cgi?id=1643664 latex_use_xindy = False,0,3
openstack%2Fglance-specs~master~I5330a12ab3d04b420857689ba899ad41c5856129,openstack/glance-specs,master,I5330a12ab3d04b420857689ba899ad41c5856129,Handle sparse images in glance_store,MERGED,2020-06-03 14:31:40.000000000,2020-08-04 10:04:35.000000000,2020-07-17 05:59:24.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 9373}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28595}]","[{'number': 1, 'created': '2020-06-03 14:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/d1b80a7585fef1eaa4bb4ee27a88ff722328b3cc', 'message': 'Handle sparse images in glance_store\n\nMany drivers like rbd, filesystem and sheepdog support sparse image,\nmeaning not really write null byte sequences but only the data itself\nat a given offset, the ""holes"" who can appear will automatically\ninterpreted by the storage backend as null bytes, and do not really\nconsume your storage.\n\nAs glance deal with instance image, it appear that they are majorly\ncomposed of null bytes sequence to represent the whole disk size of\nthe instances, so the storage and upload time improvement can be\nsignificant.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 2, 'created': '2020-06-03 14:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/59432291aef7c7ebc14835dea56a00efcdbbef5a', 'message': 'Handle sparse images in glance_store\n\nMany drivers like rbd, filesystem and sheepdog support sparse image,\nmeaning not really write null byte sequences but only the data itself\nat a given offset, the ""holes"" who can appear will automatically\ninterpreted by the storage backend as null bytes, and do not really\nconsume your storage.\n\nAs glance deal with instance image, it appear that they are majorly\ncomposed of null bytes sequence to represent the whole disk size of\nthe instances, so the storage and upload time improvement can be\nsignificant.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 3, 'created': '2020-06-03 16:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e1080a48cc58fa07ddcb3ca5560882081f7441ab', 'message': 'Handle sparse images in glance_store\n\nSome drivers like rbd and filesystem support sparse image,\nmeaning not really write null byte sequences but only the data itself\nat a given offset, the ""holes"" who can appear will automatically\ninterpreted by the storage backend as null bytes, and do not really\nconsume your storage.\n\nAs glance deal with instance image, it appear that they are majorly\ncomposed of null bytes sequence to represent the whole disk size of\nthe instances, so the storage and upload time improvement can be\nsignificant.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 4, 'created': '2020-06-06 11:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/8e2d3967afb3d814868ea5d8a2ea90630e62a484', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``enable_sparse_upload`` to rbd and filesystem\nstore to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the data\nitself at a given offset, the ""holes"" who can appear will automatically\ninterpreted by the storage backend as null bytes, and do not really\nconsume your storage.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 5, 'created': '2020-06-06 11:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/bcd805b19e05287eaafcd13b67ff9a89a794e646', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``enable_sparse_upload`` to rbd and\nfilesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 6, 'created': '2020-07-03 14:34:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ebe44aa0668fd06c74e62d0a7aaf04179dfd8abb', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``enable_thin_provisionning`` to rbd\nand filesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 7, 'created': '2020-07-15 08:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c5cc21164ccc9ad4fd6c25e6e0f1fa169e12977b', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``enable_thin_provisionning`` to rbd\nand filesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 8, 'created': '2020-07-15 08:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/988b6f3b9740e61bb04cc48c250a0b8f833a8973', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``enable_thin_provisionning`` to rbd\nand filesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}, {'number': 9, 'created': '2020-07-15 12:36:17.000000000', 'files': ['specs/victoria/approved/index.rst', 'specs/victoria/approved/glance_store/handle-sparse-image.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/2b40c59f52611830b529639339879201d10ba36b', 'message': 'Handle sparse images in glance_store\n\nAdd new configuration option ``enable_thin_provisioning`` to rbd\nand filesystem store to enable or not sparse upload.\n\nSparse file mean not really write null byte sequences but only the\ndata itself at a given offset, the ""holes"" who can appear will\nautomatically interpreted by the storage backend as null bytes,\nand do not really consume your storage.\n\nChange-Id: I5330a12ab3d04b420857689ba899ad41c5856129\nImplements: blueprint handle-sparse-image\n'}]",16,733157,2b40c59f52611830b529639339879201d10ba36b,37,7,9,28595,,,0,"Handle sparse images in glance_store

Add new configuration option ``enable_thin_provisioning`` to rbd
and filesystem store to enable or not sparse upload.

Sparse file mean not really write null byte sequences but only the
data itself at a given offset, the ""holes"" who can appear will
automatically interpreted by the storage backend as null bytes,
and do not really consume your storage.

Change-Id: I5330a12ab3d04b420857689ba899ad41c5856129
Implements: blueprint handle-sparse-image
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/57/733157/8 && git format-patch -1 --stdout FETCH_HEAD,"['specs/victoria/approved/index.rst', 'specs/victoria/approved/glance_store/handle-sparse-image.rst']",2,d1b80a7585fef1eaa4bb4ee27a88ff722328b3cc,bp/handle-sparse-image,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Handle sparse images ==================== https://blueprints.launchpad.net/glance-store/+spec/handle-sparse-image Many drivers like rbd, filesystem and sheepdog support sparse image, meaning not really write null byte sequences but only the data itself at a given offset, the ""holes"" who can appear will automatically interpreted by the storage backend as null bytes, and do not really consume your storage. Problem description =================== As glance deal with instance image, it appear that they are majorly composed of null bytes sequence to represent the whole disk size of the instances, by exemple the 8GB base CentOS 7 cloud image contaisn 1GB of data for 7GB of holes, so it will significantly optimize storage usage and upload time. Current implementation of rbd, filesystem and sheepdog driver rely on the ``utils.chunkreadable`` function, which will basically split the file to import into block of ``CHUNK_SIZE``, then these blocks will be directly written to the backend whatever the content, and the offset will be incremented by the size of the chunk. Here is an example for a ceph backend with a standard CentOS 7 cloud image using Glance: .. code-block:: shell $ rbd du 9b86961e-6bf3-4d0d-99dc-7c762fe6881d NAME PROVISIONED USED 9b86961e-6bf3-4d0d-99dc-7c762fe6881d@snap 8 GiB 8 GiB 9b86961e-6bf3-4d0d-99dc-7c762fe6881d 8 GiB 0 B <TOTAL> 8 GiB 8 Gi $ rbd export 9b86961e-6bf3-4d0d-99dc-7c762fe6881d /tmp/Centos7full.raw $ md5sum /tmp/Centos7full.raw aae49f6f57aecb9774f399149a0b7f35 /tmp/Centos7full.raw And the same result when uploading the same image with qemu-img convert or rbd import: .. code-block:: shell $ rbd du 437e8de0-b897-4846-96aa-aff70cd8794c NAME PROVISIONED USED 437e8de0-b897-4846-96aa-aff70cd8794c@snap 8 GiB 1008 MiB 437e8de0-b897-4846-96aa-aff70cd8794c 8 GiB 0 B <TOTAL> 8 GiB 1008 MiB $ rbd export 437e8de0-b897-4846-96aa-aff70cd8794c /tmp/Centos7sparse.raw $ md5sum /tmp/Centos7sparse.raw aae49f6f57aecb9774f399149a0b7f35 /tmp/Centos7sparse.raw Proposed change =============== There is two successive optimization we can make to achieve the same result as other import tool like qemu-img: * Seek for null bytes sequences inside chunk * Rely on filesystem instruction to skip holes Seek for null bytes sequences inside chunk ------------------------------------------ This first optimization will work in all case, wether or not the image file is sparse or not, it is the behaviour implemented in qemu-img. It consist on checking if the chunk readed is only composed of null bytes, if it's the case, just increase the offset without writing any data to the store. Rely on filesystem instruction to skip holes -------------------------------------------- This second optimization will rely on the syscall SEEK_HOLE and SEEK_DATA, available since kernel 3.8 and python 3.3. It consist on directly skipping holes, without even reading the null bytes sequences, which can be very long in case of a large image like an appliance (hundred of GB). This second optimization can only work when the image file is actually considered as sparse by the filesystem, so it require to be converted ""in-place"" on staging store to raw file by the convert plugin of import workflow. If not, by exemple by sending directly a raw file trough Glance REST API, filesystem of the staging store won't be aware of the hole. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Skip null bytes sequences inside chunk ++++++++++++++++++++++++++++++++++++++ These tests have been done against 2 rbd backend sended trough web-download image-import workflow, with raw conversion enabled. For a 8GO Centos qcow2: +------------------------------------+---------------+---------------+---------------+ | Chunk size | 8MB | 32MB | 64MB | +====================================+===============+===============+===============+ | Time without sparse upload | 3min31 | 3min26 | 3min28 | +------------------------------------+---------------+---------------+---------------+ | Time with sparse upload | 1min59 | 1min58 | 2min04 | +------------------------------------+---------------+---------------+---------------+ | | **-44%** | **-43%** | **-40%** | +------------------------------------+---------------+---------------+---------------+ | Storage used without sparse upload | 8 GiB/8 GiB | 8 GiB/8 GiB | 8 GiB/8 GiB | +------------------------------------+---------------+---------------+---------------+ | Storage used with sparse upload | 1.0 GiB/8 GiB | 1.0 GiB/8 GiB | 1.0 GiB/8 GiB | +------------------------------------+---------------+---------------+---------------+ | | **-88%** | **-88%** | **-88%** | +------------------------------------+---------------+---------------+---------------+ For a 200GO Centos qcow2: +------------------------------------+-------------------+ | Chunk size | 8MB | +====================================+===================+ | Time without sparse upload | 4h | +------------------------------------+-------------------+ | Time with sparse upload | 41min11 | +------------------------------------+-------------------+ | | **-83%** | +------------------------------------+-------------------+ | Storage used without sparse upload | 200 GiB/200 GiB | +------------------------------------+-------------------+ | Storage used with sparse upload | 5.8 GiB/200 GiB | +------------------------------------+-------------------+ | | **-88%** | +------------------------------------+-------------------+ Skip holes using kernel syscall +++++++++++++++++++++++++++++++ The following tests have been done by reading data of a Centos 7 image file +---------------------------------+------------------+----------------+--------------------+------------------+ | | Centos 8GB Qcow2 | Centos 8GB RAW | Centos 100GB Qcow2 | Centos 100GB RAW | +=================================+==================+================+====================+==================+ | Read all file (including holes) | 0m3.964s | 0m16.746s | 0m4.666s | 3m4.003s | +---------------------------------+------------------+----------------+--------------------+------------------+ | Read only data (skip holes) | 0m2.662s | 0m4.686s | 0m3.916s | 0m4.425s | +---------------------------------+------------------+----------------+--------------------+------------------+ | | **-32,8%** | **-72,0%** | **-16,1%** | **-97,6%** | +---------------------------------+------------------+----------------+--------------------+------------------+ The optimization for the Qcow2 image tends to be negligeable, as Qcow2 images does not have holes, so it should be very fast in all case. The point here is to show that there is no negative impact for Qcow2 images, and huge positive one for raw one, so we can apply this behaviour in all case. Other deployer impact --------------------- None Developer impact ---------------- None, as these optimizations are handled inside drivers itself and should not change their interfaces. Implementation ============== Assignee(s) ----------- Primary assignee: alistarle Other contributors: yebinama Work Items ---------- * Update drivers who can handle sparse images: sheepdog, filesystem and rbd. Dependencies ============ None Testing ======= * Testing that there is no functionnal regression for the modified drivers. Documentation Impact ==================== None References ========== Original ceph.io article who expose these optimizations: https://ceph.io/planet/importing-an-existing-ceph-rbd-image-into-glance/ Initial abandonned patch in glance_store: https://review.opendev.org/#/c/430641/ Python implementation of SEEK_HOLE/SEEK_DATA syscall: https://bugs.python.org/issue10142",,245,1
openstack%2Fblazar-tempest-plugin~master~I307f593c33e75ed9b409a16efa8a8f9f9b466fb1,openstack/blazar-tempest-plugin,master,I307f593c33e75ed9b409a16efa8a8f9f9b466fb1,Pin the <=ussuri jobs to a bionic nodeset,MERGED,2020-07-28 16:01:23.000000000,2020-08-04 09:55:28.000000000,2020-08-04 09:51:22.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-07-28 16:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/173ddfe620e7688b2f0d4a6e1c6cbdf5d9565417', 'message': 'Pin the <=ussuri jobs to a bionic nodeset\n\nThe newer branches continues to inherit the default from devstack,\nwhich will change to track focal soon.\n\nThis change is part of the ""move to focal"" community goal:\n\nhttps://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nDepends-On: https://review.opendev.org/731207\n\nStory: 2007865\nTask: 40178\nChange-Id: I307f593c33e75ed9b409a16efa8a8f9f9b466fb1\n'}, {'number': 2, 'created': '2020-07-31 07:27:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/69b9ed3f8eff08726ddce93f260f24ab7662ddad', 'message': 'Pin the <=ussuri jobs to a bionic nodeset\n\nThe newer branches continues to inherit the default from devstack,\nwhich will change to track focal soon.\n\nThis change is part of the ""move to focal"" community goal:\n\nhttps://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html\n\nStory: 2007865\nTask: 40178\nChange-Id: I307f593c33e75ed9b409a16efa8a8f9f9b466fb1\n'}]",2,743576,69b9ed3f8eff08726ddce93f260f24ab7662ddad,15,5,2,10459,,,0,"Pin the <=ussuri jobs to a bionic nodeset

The newer branches continues to inherit the default from devstack,
which will change to track focal soon.

This change is part of the ""move to focal"" community goal:

https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.html

Story: 2007865
Task: 40178
Change-Id: I307f593c33e75ed9b409a16efa8a8f9f9b466fb1
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/76/743576/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,173ddfe620e7688b2f0d4a6e1c6cbdf5d9565417,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic,,3,0
openstack%2Fironic-python-agent~stable%2Fstein~Ib01db7f578b1b666b339bb7954529d0ee7225b1e,openstack/ironic-python-agent,stable/stein,Ib01db7f578b1b666b339bb7954529d0ee7225b1e,Pin Ironic Tempest Plugin,MERGED,2020-08-03 19:53:25.000000000,2020-08-04 09:36:58.000000000,2020-08-04 09:27:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 19:53:25.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9f6a5526143cdd36746d812ad9c8fe1be17b8fd4', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an old version, so we\ndon't run the net set of tests with wholedisk+partition\n\nChange-Id: Ib01db7f578b1b666b339bb7954529d0ee7225b1e\n""}]",0,744546,9f6a5526143cdd36746d812ad9c8fe1be17b8fd4,9,4,1,15519,,,0,"Pin Ironic Tempest Plugin

Pin the ironic-tempest-plugin to an old version, so we
don't run the net set of tests with wholedisk+partition

Change-Id: Ib01db7f578b1b666b339bb7954529d0ee7225b1e
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/46/744546/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml']",2,9f6a5526143cdd36746d812ad9c8fe1be17b8fd4,pin_itp, - name: openstack/ironic-tempest-plugin override-checkout: 1.5.1, - openstack/ironic-tempest-plugin,4,1
openstack%2Fsushy-tools~master~Idd6e3b489fa1fdf362c825a7d25667f2e4c779d3,openstack/sushy-tools,master,Idd6e3b489fa1fdf362c825a7d25667f2e4c779d3,Update version of hacking,MERGED,2020-07-30 12:49:17.000000000,2020-08-04 09:36:46.000000000,2020-08-04 09:35:17.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-30 12:49:17.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/ade6f5a5360e7d914e8471f81b4e5a38db88d67e', 'message': 'Update version of hacking\n\nNow with a safe version of flake8!\n\nChange-Id: Idd6e3b489fa1fdf362c825a7d25667f2e4c779d3\n'}]",0,743962,ade6f5a5360e7d914e8471f81b4e5a38db88d67e,12,4,1,23851,,,0,"Update version of hacking

Now with a safe version of flake8!

Change-Id: Idd6e3b489fa1fdf362c825a7d25667f2e4c779d3
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/62/743962/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,ade6f5a5360e7d914e8471f81b4e5a38db88d67e,hacking-310,hacking==3.1.0,hacking==3.0.0,2,2
openstack%2Fironic-python-agent~stable%2Ftrain~Ib01db7f578b1b666b339bb7954529d0ee7225b1e,openstack/ironic-python-agent,stable/train,Ib01db7f578b1b666b339bb7954529d0ee7225b1e,Pin Ironic Tempest Plugin,MERGED,2020-08-03 20:11:09.000000000,2020-08-04 09:36:18.000000000,2020-08-04 09:27:49.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 20:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5957e6a1cd6c102750017fceb0b50de9681bbfec', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an old version, so we\ndon't run the net set of tests with wholedisk+partition\n\nChange-Id: Ib01db7f578b1b666b339bb7954529d0ee7225b1e\n(cherry picked from commit 9f6a5526143cdd36746d812ad9c8fe1be17b8fd4)\n""}, {'number': 2, 'created': '2020-08-03 20:15:53.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5c30b1874cea2a9e101031d26f0b8c773ec06fec', 'message': ""Pin Ironic Tempest Plugin\n\nPin the ironic-tempest-plugin to an old version, so we\ndon't run the net set of tests with wholedisk+partition\n\nNote: Pins to 2.0.0 to correspond with the version for Train.\n\nChange-Id: Ib01db7f578b1b666b339bb7954529d0ee7225b1e\n(cherry picked from commit 9f6a5526143cdd36746d812ad9c8fe1be17b8fd4)\n""}]",0,744548,5c30b1874cea2a9e101031d26f0b8c773ec06fec,9,4,2,11655,,,0,"Pin Ironic Tempest Plugin

Pin the ironic-tempest-plugin to an old version, so we
don't run the net set of tests with wholedisk+partition

Note: Pins to 2.0.0 to correspond with the version for Train.

Change-Id: Ib01db7f578b1b666b339bb7954529d0ee7225b1e
(cherry picked from commit 9f6a5526143cdd36746d812ad9c8fe1be17b8fd4)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/48/744548/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-python-agent-jobs.yaml'],1,5957e6a1cd6c102750017fceb0b50de9681bbfec,, - name: openstack/ironic-tempest-plugin override-checkout: 1.5.1,,2,0
openstack%2Ftacker~master~Ibca0ab27bdb6c1e3f5b2862e981e7dc311652a87,openstack/tacker,master,Ibca0ab27bdb6c1e3f5b2862e981e7dc311652a87,Support scaling operations for VNF based on ETSI NFV-SOL,ABANDONED,2020-07-31 09:26:42.000000000,2020-08-04 09:36:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 27180}, {'_account_id': 31072}, {'_account_id': 31902}]","[{'number': 1, 'created': '2020-07-31 09:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d591e3dd7b856894e398b28238d19394336031b1', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: Ibca0ab27bdb6c1e3f5b2862e981e7dc311652a87\n'}, {'number': 2, 'created': '2020-08-02 11:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/515bcab2c53224d179223c7f77cbc681043e5034', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: Ibca0ab27bdb6c1e3f5b2862e981e7dc311652a87\n'}, {'number': 3, 'created': '2020-08-03 08:54:50.000000000', 'files': ['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/scale_vnf_request.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/conf/vnf_lcm.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/conf/__init__.py', 'tacker/vnfm/infra_drivers/scale_driver.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/09ee0b5de8ea5091c580952e28825b653b02ac8c', 'message': 'Support scaling operations for VNF based on ETSI NFV-SOL\n\nSpec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\nChange-Id: Ibca0ab27bdb6c1e3f5b2862e981e7dc311652a87\n'}]",825,744109,09ee0b5de8ea5091c580952e28825b653b02ac8c,7,5,3,31813,,,0,"Support scaling operations for VNF based on ETSI NFV-SOL

Spec: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html
Change-Id: Ibca0ab27bdb6c1e3f5b2862e981e7dc311652a87
",git fetch https://review.opendev.org/openstack/tacker refs/changes/09/744109/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/conductor/conductorrpc/vnf_lcm_rpc.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/api/vnflcm/v1/router.py', 'tacker/objects/scale_vnf_request.py', 'tacker/objects/__init__.py', 'tacker/policies/vnf_lcm.py', 'tacker/tests/unit/vnflcm/test_controller.py', 'tacker/db/db_sqlalchemy/models.py', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/vnfm/action_drivers/scale_standard.py', 'tacker/conf/vnf_lcm.py', 'tacker/objects/instantiate_vnf_req.py', 'tacker/conf/__init__.py', 'tacker/vnfm/infra_drivers/scale_driver.py', 'tacker/api/schemas/vnf_lcm.py', 'tacker/objects/vnf_lcm_op_occs.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/conductor/fakes.py', 'tacker/objects/vnf_instantiated_info.py', 'tacker/vnfm/mgmt_drivers/constants.py', 'tacker/vnfm/infra_drivers/kubernetes/kubernetes_driver.py', 'tacker/vnfm/infra_drivers/openstack/heat_client.py', 'tacker/conductor/conductor_server.py', 'tacker/vnflcm/vnflcm_driver.py', 'tacker/db/vnfm/vnfm_db.py']",26,d591e3dd7b856894e398b28238d19394336031b1,bp/support-etsi-nfv-specs," def _update_vnf_scaling_status_err(self, context, vnf_info): previous_statuses = ['PENDING_SCALE_OUT','PENDING_SCALE_IN','ACTIVE'] try: with context.session.begin(subtransactions=True): vnf_db = self._update_vnf_status_db( context, vnf_info['id'], previous_statuses, 'ERROR') except Exception as e: LOG.warning(""Failed to revert scale info for vnf "" ""instance %(id)s. Error: %(error)s"", {""id"": vnf_info['id'], ""error"": e}) self._cos_db_plg.create_event( context, res_id=vnf_info['id'], res_type=constants.RES_TYPE_VNF, res_state='ERROR', evt_type=constants.RES_EVT_SCALE, tstamp=timeutils.utcnow()) def _update_vnf_scaling(self, context, vnf_info, previous_statuses, status, vnf_instance=None, vnf_lcm_op_occ=None): with context.session.begin(subtransactions=True): timestamp = timeutils.utcnow() (self._model_query(context, VNF). filter(VNF.id == vnf_info['id']). filter(VNF.status == previous_statuses). update({'status': status, 'updated_at': timestamp})) dev_attrs = vnf_info.get('attributes', {}) (context.session.query(VNFAttribute). filter(VNFAttribute.vnf_id == vnf_info['id']). filter(~VNFAttribute.key.in_(dev_attrs.keys())). delete(synchronize_session='fetch')) for (key, value) in dev_attrs.items(): if 'vim_auth' not in key: self._vnf_attribute_update_or_create(context, vnf_info['id'], key, value) self._cos_db_plg.create_event( context, res_id=vnf_info['id'], res_type=constants.RES_TYPE_VNF, res_state=status, evt_type=constants.RES_EVT_SCALE, tstamp=timestamp) if vnf_lcm_op_occ: vnf_lcm_op_occ.state_entered_time=timestamp vnf_lcm_op_occ.save() if vnf_instance: vnf_instance.save() ",,2409,60
openstack%2Fnova~master~I5fa8666bccd7d1e8cecd850f16d44461f6168b5e,openstack/nova,master,I5fa8666bccd7d1e8cecd850f16d44461f6168b5e,Validate CPU pinning configuration for mixed instance,MERGED,2020-03-31 12:07:52.000000000,2020-08-04 09:32:18.000000000,2020-07-21 23:46:32.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/077399b5e5620386c8f0d92e9eebe53d4aeef47c', 'message': ""computer: validate cpu pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\n""}, {'number': 2, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6b2e3545efa548f2b3b674646c0466fedff1df58', 'message': ""computer: validate cpu pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\n""}, {'number': 3, 'created': '2020-04-08 02:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3f4414082d3340198c915f126e1c607a016e791', 'message': ""computer: validate cpu pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\n""}, {'number': 4, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a77323a6840216003d5e983f68e97f385f3d106', 'message': ""computer: validate cpu pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\n""}, {'number': 5, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9624ef68aecfe578cda840fb2ae8e2fbe28e5e42', 'message': ""computer: validate cpu pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\n""}, {'number': 6, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e52cffb229648f55960beebf7233680cf83f2aba', 'message': ""computer: validate cpu pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0866f1dee5f3b31934f8cbac53c4e33de905da9c', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55d659e6615bdae8a4c86a2bffe6cf89cbe7627b', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-07-02 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/22c46b3feab932eeb036bdb669a9db723940c407', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-07-02 12:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d6e77c8093e227b1586e867962387e01086e528', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca22e4f164510d061f52f2dbcd56d04de48b551a', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aff1e0dfb32515e8f8a2836977105b1953adca87', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d65a432777e70d98ed60107c395119e5190521ea', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 14, 'created': '2020-07-14 17:25:54.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3a4814804d55ca1b88969f1873ad586d393a21ee', 'message': ""Validate CPU pinning configuration for mixed instance\n\nA 'mixed' instance is running on the host that must have the dedicated\nCPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined\nin '[compute] cpu_shared_set'. Verifying this kind of requirement.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",19,716268,3a4814804d55ca1b88969f1873ad586d393a21ee,143,15,14,30209,,,0,"Validate CPU pinning configuration for mixed instance

A 'mixed' instance is running on the host that must have the dedicated
CPUs defined in '[compute] cpu_dedicated_set' and shared CPUs defined
in '[compute] cpu_shared_set'. Verifying this kind of requirement.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I5fa8666bccd7d1e8cecd850f16d44461f6168b5e
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/716268/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,077399b5e5620386c8f0d92e9eebe53d4aeef47c,bp/use-pcpu-and-vcpu-in-one-instance," # for instance with pinned and unpinned CPUs, it requires host with # 'cpu_dedicated_set' and 'cpu_shared_set' configuration if (instance.numa_topology and instance.numa_topology.cpu_policy == fields.CPUAllocationPolicy.MIXED): if (not CONF.compute.cpu_dedicated_set or not CONF.compute.cpu_shared_set): msg = _(""This host has instance requesting both pinned "" ""CPUs and unpinned CPUs but hasn't set aside "" ""these two kind of CPUs for this purpose; "" ""configure both '[compute] cpu_shared_set' and "" ""'[compute] cpu_dedicated_set'"") raise exception.InvalidConfiguration(msg) # check to make sure host has enough shared CPUs available_shared_cpus = hardware.get_cpu_shared_set() if available_shared_cpus is not None: shared_cpus = len(available_shared_cpus) reserved_cpu = 0 if instance.numa_topology.emulator_threads_isolated: reserved_cpu = 1 requested_shared_cpus = len(pinned_cpus) + reserved_cpu if shared_cpus < instance.vcpus - requested_shared_cpus: msg = _(""This host has instance requesting the shared "" ""CPUs, but not enough CPUs set for this "" ""purpose. Check the configuration in '[compute] "" ""cpu_shared_set'"") raise exception.InvalidConfiguration(msg) ",,76,4
openstack%2Fproject-config~master~Ifd95291f7559be684cdea8312ff24778b67de077,openstack/project-config,master,Ifd95291f7559be684cdea8312ff24778b67de077,"Revert ""Remove os_congress gating""",MERGED,2020-07-22 20:07:30.000000000,2020-08-04 09:24:32.000000000,2020-08-04 09:24:32.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-22 20:07:30.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8158cca0f3ccca9bf18195608ae1ebcc2a8d9584', 'message': 'Revert ""Remove os_congress gating""\n\nWe needed to remove gating for the deprecation process to remove\nrepository content. Once it\'s done we revert change to make CI work for\nthe stable branches.\n\nDepends-On: https://review.opendev.org/742520\nChange-Id: Ifd95291f7559be684cdea8312ff24778b67de077\n'}]",0,742532,8158cca0f3ccca9bf18195608ae1ebcc2a8d9584,10,5,1,28619,,,0,"Revert ""Remove os_congress gating""

We needed to remove gating for the deprecation process to remove
repository content. Once it's done we revert change to make CI work for
the stable branches.

Depends-On: https://review.opendev.org/742520
Change-Id: Ifd95291f7559be684cdea8312ff24778b67de077
",git fetch https://review.opendev.org/openstack/project-config refs/changes/32/742532/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,8158cca0f3ccca9bf18195608ae1ebcc2a8d9584,osa/os_congress,, check: jobs: - noop: branches: master gate: jobs: - noop: branches: master,0,8
openstack%2Fkolla-ansible~master~I31b3e9ed625d63a4bf82c674593522268c20ec4c,openstack/kolla-ansible,master,I31b3e9ed625d63a4bf82c674593522268c20ec4c,Add timesync prechecks,MERGED,2020-07-12 08:39:04.000000000,2020-08-04 09:14:34.000000000,2020-08-04 09:12:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-12 08:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3395352a68b046dbf243de6d96ce02f0cae31a94', 'message': 'Add timesync prechecks\n\nIf not running containerised chrony, we need to check that host\nhas its own means of system clock synchronization.\n\nChange-Id: I31b3e9ed625d63a4bf82c674593522268c20ec4c\nPartial-Bug: #1885689\n'}, {'number': 2, 'created': '2020-07-12 12:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da614a40db6cfb6ec9d5111e89a1d00da5292a95', 'message': 'Add timesync prechecks\n\nIf not running containerised chrony, we need to check that host\nhas its own means of system clock synchronization.\n\nChange-Id: I31b3e9ed625d63a4bf82c674593522268c20ec4c\nPartial-Bug: #1885689\n'}, {'number': 3, 'created': '2020-07-28 12:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0515027a2481ed403d89d70ec2be7edb79c41f7f', 'message': 'Add timesync prechecks\n\nIf not running containerised chrony, we need to check that host\nhas its own means of system clock synchronization.\n\nChange-Id: I31b3e9ed625d63a4bf82c674593522268c20ec4c\nPartial-Bug: #1885689\n'}, {'number': 4, 'created': '2020-07-28 18:35:29.000000000', 'files': ['ansible/roles/prechecks/tasks/main.yml', 'ansible/roles/prechecks/tasks/timesync_checks.yml', 'releasenotes/notes/timesync-prechecks-24d71d1ad7f8cad2.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3018199f0b57cbab35b06ab84292519ab374fb87', 'message': 'Add timesync prechecks\n\nIf not running containerised chrony, we need to check that host\nhas its own means of system clock synchronization.\n\nChange-Id: I31b3e9ed625d63a4bf82c674593522268c20ec4c\nPartial-Bug: #1885689\n'}]",6,740585,3018199f0b57cbab35b06ab84292519ab374fb87,26,4,4,30491,,,0,"Add timesync prechecks

If not running containerised chrony, we need to check that host
has its own means of system clock synchronization.

Change-Id: I31b3e9ed625d63a4bf82c674593522268c20ec4c
Partial-Bug: #1885689
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/740585/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/main.yml', 'ansible/roles/prechecks/tasks/timesync_checks.yml', 'releasenotes/notes/timesync-prechecks-24d71d1ad7f8cad2.yaml']",3,3395352a68b046dbf243de6d96ce02f0cae31a94,timesync-prechecks,--- features: - | Adds timesync prechecks which run when containerised chrony is not enabled to ensure the host has its system clock synchronized. ,,33,0
openstack%2Freleases~master~Id6171dd2c9eea97d8e44234da8175cef2ad94598,openstack/releases,master,Id6171dd2c9eea97d8e44234da8175cef2ad94598,Release keystoneauth 4.2.1 for Victoria,MERGED,2020-08-03 08:26:14.000000000,2020-08-04 09:11:18.000000000,2020-08-04 09:11:18.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 08:26:14.000000000', 'files': ['deliverables/victoria/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cdb0cac25b925db78abc4e65f265a5c1492cc047', 'message': 'Release keystoneauth 4.2.1 for Victoria\n\nChange-Id: Id6171dd2c9eea97d8e44234da8175cef2ad94598\n'}]",0,744415,cdb0cac25b925db78abc4e65f265a5c1492cc047,10,4,1,10239,,,0,"Release keystoneauth 4.2.1 for Victoria

Change-Id: Id6171dd2c9eea97d8e44234da8175cef2ad94598
",git fetch https://review.opendev.org/openstack/releases refs/changes/15/744415/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/keystoneauth.yaml'],1,cdb0cac25b925db78abc4e65f265a5c1492cc047,keystoneauth, - version: 4.2.1 projects: - repo: openstack/keystoneauth hash: c2d2e7af2989a81104739f7bb0c397c9e98a3949,,4,0
openstack%2Fproject-config~master~I9e385c4206aa6e9a7315099f10c4b2b1530f3e13,openstack/project-config,master,I9e385c4206aa6e9a7315099f10c4b2b1530f3e13,Add Ceph iSCSI charm to OpenStack charms,MERGED,2020-08-03 14:12:32.000000000,2020-08-04 08:53:37.000000000,2020-08-04 08:32:26.000000000,"[{'_account_id': 935}, {'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6e5f63f1f1ba3a5ccfa943de6833a77a57b587e0', 'message': 'Add Ceph iSCSI charm to OpenStack charms\n\nAdd Ceph iSCSI charm and corresponding interfaces to OpenStack Charms.\n\nChange-Id: I9e385c4206aa6e9a7315099f10c4b2b1530f3e13\nRequired-By: I8d2e1af0b03cc68d161ab0ff6f7f631c513ddca6\n'}, {'number': 2, 'created': '2020-08-03 14:46:54.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8a80c942859ce06b99b67afc75d8c7cdc26a38be', 'message': 'Add Ceph iSCSI charm to OpenStack charms\n\nAdd Ceph iSCSI charm and corresponding interfaces to OpenStack Charms.\n\nChange-Id: I9e385c4206aa6e9a7315099f10c4b2b1530f3e13\nRequired-By: I8d2e1af0b03cc68d161ab0ff6f7f631c513ddca6\n'}]",0,744479,8a80c942859ce06b99b67afc75d8c7cdc26a38be,12,4,2,12549,,,0,"Add Ceph iSCSI charm to OpenStack charms

Add Ceph iSCSI charm and corresponding interfaces to OpenStack Charms.

Change-Id: I9e385c4206aa6e9a7315099f10c4b2b1530f3e13
Required-By: I8d2e1af0b03cc68d161ab0ff6f7f631c513ddca6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/744479/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,6e5f63f1f1ba3a5ccfa943de6833a77a57b587e0,add-ceph-iscsi-and-layers, - openstack/charm-ceph-iscsi - openstack/charm-ops-interface-ceph-client - openstack/charm-ops-interface-tls-certificates - openstack/charm-ops-openstack,,22,0
openstack%2Fnova~master~I7a31722f1628f47126bb2014555107fffb58aec6,openstack/nova,master,I7a31722f1628f47126bb2014555107fffb58aec6,Calculate the CPU usage for mixed instance,MERGED,2020-03-31 12:07:52.000000000,2020-08-04 08:36:45.000000000,2020-07-21 23:46:40.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e681843c5c4bee1b0528e0d50755562c1315bf7', 'message': ""Calculate the pinned and unpinned CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, which usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is recorded through host 'NUMATopology' object's\n'cpu_pinning' field.\n\nThis patch enables the tracking of dedicated and shared CPUs of\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\n""}, {'number': 2, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc025643f27f613a97e454a7234bc8d9c1f4c07f', 'message': ""Calculate the pinned and unpinned CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, which usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is recorded through host 'NUMATopology' object's\n'cpu_pinning' field.\n\nThis patch enables the tracking of dedicated and shared CPUs of\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\n""}, {'number': 3, 'created': '2020-04-08 02:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06df95f17526257dc432bedf27cfc01136a74c53', 'message': ""Calculate the pinned and unpinned CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, which usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is recorded through host 'NUMATopology' object's\n'cpu_pinning' field.\n\nThis patch enables the tracking of dedicated and shared CPUs of\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\n""}, {'number': 4, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecdb46e785c6587509d8f21c812021470d838872', 'message': ""Calculate the pinned and unpinned CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, which usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is recorded through host 'NUMATopology' object's\n'cpu_pinning' field.\n\nThis patch enables the tracking of dedicated and shared CPUs of\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\n""}, {'number': 5, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45a2a4904155e50ad85ed2926a02634aa56a793e', 'message': ""Calculate the pinned and unpinned CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, which usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is recorded through host 'NUMATopology' object's\n'cpu_pinning' field.\n\nThis patch enables the tracking of dedicated and shared CPUs of\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\n""}, {'number': 6, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03ba7458e4c279764726f68bd8b2a06a9c0f01a2', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 7, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0eba629180b6353cab6e335b826570331631d03a', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 8, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e8caac0d838efe408dd11831d9f7bf010b97b96', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 9, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bbd9a38c0fbf35992e854f397a7fb141a301e96', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 10, 'created': '2020-07-02 09:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc839b393078ce8e58701f80820ac4e00e233679', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 11, 'created': '2020-07-02 12:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d89cb4ab09fda8a0aa1123da96ef69d1ba93f3a', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-07-08 11:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb2ce45e3d2efa844db2cfd8cfa481c15ea5040e', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-07-09 13:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28e08360db30a9ace6c059d2843d8d18848ceec1', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 14, 'created': '2020-07-10 03:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/493dd5939a449d747f3b99a02808db68e995a55b', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 15, 'created': '2020-07-14 17:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b977275eaa6ebaf08196425722647761ec477846', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 16, 'created': '2020-07-14 17:25:54.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fba70587b659bab8fbbeed1022116f9bd9773492', 'message': ""Calculate the CPU usage for mixed instance\n\nThe mixed instance has two types of CPUs, the shared ones and the\ndedicated ones, those CPU usages are tracked in different ways. The\nshared CPU is recorded by CPU usage from sharing CPU pool, and the\ndedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'\nwhen calling 'InstanceNUMACell.pin' method.\n\nThis patch enables the usage tracking of the shared CPUs in the\nmixed instance.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I7a31722f1628f47126bb2014555107fffb58aec6\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",39,716269,fba70587b659bab8fbbeed1022116f9bd9773492,148,16,16,30209,,,0,"Calculate the CPU usage for mixed instance

The mixed instance has two types of CPUs, the shared ones and the
dedicated ones, those CPU usages are tracked in different ways. The
shared CPU is recorded by CPU usage from sharing CPU pool, and the
dedicated CPU is already recorded in 'InstanceNUMACell.cpu_pinning'
when calling 'InstanceNUMACell.pin' method.

This patch enables the usage tracking of the shared CPUs in the
mixed instance.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I7a31722f1628f47126bb2014555107fffb58aec6
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/69/716269/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py']",2,7e681843c5c4bee1b0528e0d50755562c1315bf7,bp/use-pcpu-and-vcpu-in-one-instance," if instance_cell.cpu_policy in ( fields.CPUAllocationPolicy.DEDICATED, fields.CPUAllocationPolicy.MIXED): fields.CPUAllocationPolicy.MIXED): shared_cpus_usage += sign * len(instance_cell.cpuset) ", if instance_cell.cpu_policy == fields.CPUAllocationPolicy.DEDICATED: ): shared_cpus_usage += sign * len(instance_cell.cpuset),109,3
openstack%2Frpm-packaging~master~I1b5f3a09bf1bf32b7a1fa5eb3780fd280aa71db8,openstack/rpm-packaging,master,I1b5f3a09bf1bf32b7a1fa5eb3780fd280aa71db8,update glance_store to 2.1.0,MERGED,2020-07-24 07:22:00.000000000,2020-08-04 08:35:22.000000000,2020-08-04 08:35:22.000000000,"[{'_account_id': 6593}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 07:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a60e2557a602c2fecabae9f64edf87ea4ec61f42', 'message': 'update glance_store to 2.1.0\n\nChange-Id: I1b5f3a09bf1bf32b7a1fa5eb3780fd280aa71db8\n'}, {'number': 2, 'created': '2020-07-31 05:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/13b15948f6834b1e1f69e51a1078649a9650c827', 'message': 'update glance_store to 2.1.0\n\nChange-Id: I1b5f3a09bf1bf32b7a1fa5eb3780fd280aa71db8\n'}, {'number': 3, 'created': '2020-07-31 16:46:59.000000000', 'files': ['openstack/glance_store/glance_store.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ef63fe25e9643bb45f7c12ae3f66aa87af360ce4', 'message': 'update glance_store to 2.1.0\n\nChange-Id: I1b5f3a09bf1bf32b7a1fa5eb3780fd280aa71db8\n'}]",0,742803,ef63fe25e9643bb45f7c12ae3f66aa87af360ce4,24,6,3,28654,,,0,"update glance_store to 2.1.0

Change-Id: I1b5f3a09bf1bf32b7a1fa5eb3780fd280aa71db8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/03/742803/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/glance_store/glance_store.spec.j2'],1,a60e2557a602c2fecabae9f64edf87ea4ec61f42,glance_store,{% set upstream_version = upstream_version('2.1.0') %},{% set upstream_version = upstream_version('1.0.0') %},1,1
openstack%2Fnova~master~I215d0fca6e7f9a44e1f5d49aedda6d5884b634e1,openstack/nova,master,I215d0fca6e7f9a44e1f5d49aedda6d5884b634e1,Remove broken legacy zuul jobs,MERGED,2020-07-17 09:05:14.000000000,2020-08-04 08:31:05.000000000,2020-07-22 02:09:12.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10459}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-17 09:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6849112e218cfde63231d89f9bfe1b4d750e64b9', 'message': 'Remove broken legacy zuul jobs\n\nThese are legacy jobs in the experimental queue that never run\nsuccessfully:\n* legacy-grenade-dsvm-neutron-multinode-zero-downtime [1]\n* legacy-tempest-dsvm-nova-libvirt-kvm-apr [2]\n\nAs we need to get rid of the legacy jobs this patch\nproposes to simply drop these broken jobs.\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=legacy-grenade-dsvm-neutron-multinode-zero-downtime\n[2] https://zuul.opendev.org/t/openstack/builds?job_name=legacy-tempest-dsvm-nova-libvirt-kvm-apr\n\nChange-Id: I215d0fca6e7f9a44e1f5d49aedda6d5884b634e1\n'}, {'number': 2, 'created': '2020-07-17 16:11:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/e8eb8d838721b7584f06a5b297910f315111f6aa', 'message': 'Remove broken legacy zuul jobs\n\nThese are legacy jobs in the experimental queue that never run\nsuccessfully:\n* legacy-grenade-dsvm-neutron-multinode-zero-downtime [1]\n* legacy-tempest-dsvm-nova-libvirt-kvm-apr [2]\n\nAs we need to get rid of the legacy jobs this patch\nproposes to simply drop these broken jobs.\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=legacy-grenade-dsvm-neutron-multinode-zero-downtime\n[2] https://zuul.opendev.org/t/openstack/builds?job_name=legacy-tempest-dsvm-nova-libvirt-kvm-apr\n\nChange-Id: I215d0fca6e7f9a44e1f5d49aedda6d5884b634e1\n'}]",2,741603,e8eb8d838721b7584f06a5b297910f315111f6aa,29,10,2,9708,,,0,"Remove broken legacy zuul jobs

These are legacy jobs in the experimental queue that never run
successfully:
* legacy-grenade-dsvm-neutron-multinode-zero-downtime [1]
* legacy-tempest-dsvm-nova-libvirt-kvm-apr [2]

As we need to get rid of the legacy jobs this patch
proposes to simply drop these broken jobs.

[1] https://zuul.opendev.org/t/openstack/builds?job_name=legacy-grenade-dsvm-neutron-multinode-zero-downtime
[2] https://zuul.opendev.org/t/openstack/builds?job_name=legacy-tempest-dsvm-nova-libvirt-kvm-apr

Change-Id: I215d0fca6e7f9a44e1f5d49aedda6d5884b634e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/741603/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6849112e218cfde63231d89f9bfe1b4d750e64b9,native-zuulv3-migration,, - legacy-grenade-dsvm-neutron-multinode-zero-downtime: irrelevant-files: *dsvm-irrelevant-files - legacy-tempest-dsvm-nova-libvirt-kvm-apr: irrelevant-files: *dsvm-irrelevant-files,0,4
openstack%2Fnova~master~I3f146b61d84a73c0fa68be6eb11319be36d18084,openstack/nova,master,I3f146b61d84a73c0fa68be6eb11319be36d18084,libvirt: Remove two-level loop,MERGED,2020-07-20 11:16:31.000000000,2020-08-04 08:25:09.000000000,2020-07-23 01:50:12.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-20 11:16:31.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a8296eaf1683f9ba2f75574b8b311e2662709ad6', 'message': 'libvirt: Remove two-level loop\n\nResolve a TODO from Icc7b3d250bb9dd3d162731959185d9e962727247. The new\nfunction is small enough to fold into its caller, which highlights some\nsomewhat redundant testing.\n\nChange-Id: I3f146b61d84a73c0fa68be6eb11319be36d18084\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,741920,a8296eaf1683f9ba2f75574b8b311e2662709ad6,18,9,1,15334,,,0,"libvirt: Remove two-level loop

Resolve a TODO from Icc7b3d250bb9dd3d162731959185d9e962727247. The new
function is small enough to fold into its caller, which highlights some
somewhat redundant testing.

Change-Id: I3f146b61d84a73c0fa68be6eb11319be36d18084
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/741920/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,a8296eaf1683f9ba2f75574b8b311e2662709ad6,bp/use-pcpu-and-vcpu-in-one-instance,," @mock.patch('os.stat', return_value=mock.Mock(st_blocks=0)) @mock.patch('os.path.getsize', return_value=0) @mock.patch('nova.virt.libvirt.storage.lvm.get_volume_size', return_value='fake-size') def test_detach_encrypted_volumes(self, mock_get_volume_size, mock_getsize, mock_stat): """"""Test that unencrypted volumes are not disconnected with dmcrypt."""""" instance = objects.Instance(**self.test_instance) xml = """""" <domain type='kvm'> <devices> <disk type='file'> <driver name='fake-driver' type='fake-type' /> <source file='filename'/> <target dev='vdc' bus='virtio'/> </disk> <disk type='block' device='disk'> <driver name='fake-driver' type='fake-type' /> <source dev='/dev/mapper/disk'/> <target dev='vda'/> </disk> <disk type='block' device='disk'> <driver name='fake-driver' type='fake-type' /> <source dev='/dev/mapper/swap'/> <target dev='vdb'/> </disk> </devices> </domain> """""" dom = FakeVirtDomain(fake_xml=xml) instance.ephemeral_key_uuid = uuids.ephemeral_key_uuid # encrypted conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) @mock.patch.object(dmcrypt, 'delete_volume') @mock.patch.object(conn._host, '_get_domain', return_value=dom) def detach_encrypted_volumes(block_device_info, mock_get_domain, mock_delete_volume): conn._detach_encrypted_volumes(instance, block_device_info) mock_get_domain.assert_called_once_with(instance) self.assertFalse(mock_delete_volume.called) block_device_info = {'root_device_name': '/dev/vda', 'ephemerals': [], 'block_device_mapping': []} detach_encrypted_volumes(block_device_info) ",5,58
openstack%2Fironic-inspector~master~I780151870f851ad5dcd45610aacedcca23607a71,openstack/ironic-inspector,master,I780151870f851ad5dcd45610aacedcca23607a71,Add public api support to basic auth,MERGED,2020-07-21 22:53:54.000000000,2020-08-04 08:14:26.000000000,2020-07-24 15:18:30.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-21 22:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/216658db4ede97059bb11941d896e0ffcc9aa2eb', 'message': 'Add public api support to basic auth\n\nThis change implements an alternative middleware which supports the\nsame deferred auth mechanism as the keystone auth middleware.\n\nWhen auth fails the header X-Identity-Status is set to Invalid, which\nonly becomes an Unauthorized response when the path is not public.\n\nWithout this change, the paths /, /v1 and /v1/continue\nincorrectly require authentication when using basic auth.\n\nChange-Id: I780151870f851ad5dcd45610aacedcca23607a71\nStory: 2007656\nTask: 39826\n'}, {'number': 2, 'created': '2020-07-22 22:53:33.000000000', 'files': ['releasenotes/notes/http-basic-public-api-2cf0e206bea4b34e.yaml', 'ironic_inspector/utils.py', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/92c64226f43ebcef7a79ba11d4b428276c3fb37f', 'message': 'Add public api support to basic auth\n\nThis change implements an alternative middleware which supports the\nsame deferred auth mechanism as the keystone auth middleware.\n\nWhen auth fails the header X-Identity-Status is set to Invalid, which\nonly becomes an Unauthorized response when the path is not public.\n\nWithout this change, the paths /, /v1 and /v1/continue\nincorrectly require authentication when using basic auth.\n\nChange-Id: I780151870f851ad5dcd45610aacedcca23607a71\nStory: 2007656\nTask: 39826\n'}]",8,742306,92c64226f43ebcef7a79ba11d4b428276c3fb37f,28,6,2,4571,,,0,"Add public api support to basic auth

This change implements an alternative middleware which supports the
same deferred auth mechanism as the keystone auth middleware.

When auth fails the header X-Identity-Status is set to Invalid, which
only becomes an Unauthorized response when the path is not public.

Without this change, the paths /, /v1 and /v1/continue
incorrectly require authentication when using basic auth.

Change-Id: I780151870f851ad5dcd45610aacedcca23607a71
Story: 2007656
Task: 39826
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/06/742306/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/utils.py'],1,216658db4ede97059bb11941d896e0ffcc9aa2eb,basic-auth,"from ironic_lib import exceptionimport webobclass DeferredBasicAuthMiddleware(object): """"""Middleware which sets X-Identity-Status header based on authentication """""" def __init__(self, app, auth_file): self.app = app self.auth_file = auth_file auth_basic.validate_auth_file(auth_file) @webob.dec.wsgify() def __call__(self, req): headers = req.headers try: if 'Authorization' not in headers: auth_basic.unauthorized() token = auth_basic.parse_header({ 'HTTP_AUTHORIZATION': headers.get('Authorization') }) username, password = auth_basic.parse_token(token) headers.update( auth_basic.authenticate(self.auth_file, username, password)) headers['X-Identity-Status'] = 'Confirmed' except exception.Unauthorized: headers['X-Identity-Status'] = 'Invalid' except exception.IronicException as e: status = '%s %s' % (int(e.code), str(e)) resp = webob.Response(status=status) resp.headers.update(e.headers) return resp return req.get_response(self.app) app.wsgi_app = DeferredBasicAuthMiddleware( if CONF.auth_strategy not in ('keystone', 'http_basic'): if CONF.auth_strategy != 'keystone': return", app.wsgi_app = auth_basic.BasicAuthMiddleware( if CONF.auth_strategy != 'keystone':,42,2
openstack%2Frpm-packaging~stable%2Fussuri~I17e1df91b587c4faa5a8d940e54ae3d3be143128,openstack/rpm-packaging,stable/ussuri,I17e1df91b587c4faa5a8d940e54ae3d3be143128,oslo.messaging: update to 12.1.2,MERGED,2020-08-03 19:46:26.000000000,2020-08-04 08:05:51.000000000,2020-08-04 08:05:51.000000000,"[{'_account_id': 6593}, {'_account_id': 12907}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-08-03 19:46:26.000000000', 'files': ['openstack/oslo.messaging/oslo.messaging.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/84291415704e6d4290488f5457080e6e4785edca', 'message': 'oslo.messaging: update to 12.1.2\n\nIn Ibbcf21a57ab1e3f90c21901296e5c088b645127c this fixes failing rabbit\ntests:\noslo_messaging.tests.drivers.test_impl_rabbit.(ConnectionLockTestCase|RpcKombuHATestCase)\nThese were failing with Errno 111 Connection refused every few seconds\nmaking it loop forever.\n\nAlso added blacklist functional tests for when those tests are not deleted.\n\nBlacklist 3 amqp cyrus tests that fail (only on RDO, on SUSE that test\nclass is skipped) with:\nTraceback (most recent call last):\n  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/tests/drivers/test_amqp_driver.py"", line 878, in test_authentication_ok\n    self._authentication_test(addr)\n  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/tests/drivers/test_amqp_driver.py"", line 865, in _authentication_test\n    retry=retry)\n  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/_drivers/impl_amqp1.py"", line 295, in wrap\n    return func(self, *args, **kws)\n  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/_drivers/impl_amqp1.py"", line 357, in send\n    raise reply\noslo_messaging.exceptions.MessageDeliveryFailure: RPC Call message sent to <Target topic=test-topic> failed: timed out\n\nThis is a cherry pick of 8f23d7f3a2397ad470caedbad34e7e8bbad1665b, but\nwith the version changed to the stable release for ussuri instead.\n\nChange-Id: I17e1df91b587c4faa5a8d940e54ae3d3be143128\n'}]",0,744544,84291415704e6d4290488f5457080e6e4785edca,15,6,1,12907,,,0,"oslo.messaging: update to 12.1.2

In Ibbcf21a57ab1e3f90c21901296e5c088b645127c this fixes failing rabbit
tests:
oslo_messaging.tests.drivers.test_impl_rabbit.(ConnectionLockTestCase|RpcKombuHATestCase)
These were failing with Errno 111 Connection refused every few seconds
making it loop forever.

Also added blacklist functional tests for when those tests are not deleted.

Blacklist 3 amqp cyrus tests that fail (only on RDO, on SUSE that test
class is skipped) with:
Traceback (most recent call last):
  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/tests/drivers/test_amqp_driver.py"", line 878, in test_authentication_ok
    self._authentication_test(addr)
  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/tests/drivers/test_amqp_driver.py"", line 865, in _authentication_test
    retry=retry)
  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/_drivers/impl_amqp1.py"", line 295, in wrap
    return func(self, *args, **kws)
  File ""/builddir/build/BUILD/oslo.messaging-12.2.1/oslo_messaging/_drivers/impl_amqp1.py"", line 357, in send
    raise reply
oslo_messaging.exceptions.MessageDeliveryFailure: RPC Call message sent to <Target topic=test-topic> failed: timed out

This is a cherry pick of 8f23d7f3a2397ad470caedbad34e7e8bbad1665b, but
with the version changed to the stable release for ussuri instead.

Change-Id: I17e1df91b587c4faa5a8d940e54ae3d3be143128
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/44/744544/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.messaging/oslo.messaging.spec.j2'],1,84291415704e6d4290488f5457080e6e4785edca,,"{% set upstream_version = upstream_version('12.1.2') %}# python3-pifpaf is not available in RDO, but loading functional tests would # fail without it# 3 cyrus tests fail on rdo with time out python3 -m stestr.cli run --black-regex '^oslo_messaging.tests.(functional|drivers.test_amqp_driver.TestCyrusAuthentication.test_authentication_(ok|ignore_default_realm|default_realm))'","{% set upstream_version = upstream_version('12.1.0') %}%if !0%{?suse_version} # FIXME(jpena): since version 5.23.0, four tests in the amqp driver are # failing. Let's remove the tests for now, so we can build a package and # figure out whatis wrong. rm -f oslo_messaging/tests/drivers/test_amqp_driver.py %endif python3 -m stestr.cli run",5,9
openstack%2Fcharm-vault~master~I53f2c357c06a5ac9846718654d35c9baa576cafd,openstack/charm-vault,master,I53f2c357c06a5ac9846718654d35c9baa576cafd,Do not check app role auth until ready,MERGED,2020-08-03 18:54:39.000000000,2020-08-04 07:33:51.000000000,2020-08-04 07:33:51.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-08-03 18:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/62bcc6488b5fc4e4dc9c99fdf8aea1dd0e77b076', 'message': 'Do not check app role auth until ready\n\nThe client_approle_authorized was checking for app role authorization\ntoo early before the charm had been authorized by the authorize-charm\naction.\n\nBefore checking on app role authorization verify the leader setting,\n""local-charm-access-id"",  set by the authorize-charm action.\n\nChange-Id: I53f2c357c06a5ac9846718654d35c9baa576cafd\n'}, {'number': 2, 'created': '2020-08-03 21:45:12.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/3e48efe85b0c41c86c162a036ac35ac0c7ce14a3', 'message': 'Do not check app role auth until ready\n\nThe client_approle_authorized was checking for app role authorization\ntoo early before the charm had been authorized by the authorize-charm\naction.\n\nBefore checking on app role authorization verify the leader setting,\n""local-charm-access-id"",  set by the authorize-charm action.\n\nCloses-Bug: #1889654\nChange-Id: I53f2c357c06a5ac9846718654d35c9baa576cafd\n'}]",0,744536,3e48efe85b0c41c86c162a036ac35ac0c7ce14a3,13,4,2,20805,,,0,"Do not check app role auth until ready

The client_approle_authorized was checking for app role authorization
too early before the charm had been authorized by the authorize-charm
action.

Before checking on app role authorization verify the leader setting,
""local-charm-access-id"",  set by the authorize-charm action.

Closes-Bug: #1889654
Change-Id: I53f2c357c06a5ac9846718654d35c9baa576cafd
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/36/744536/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'src/reactive/vault_handlers.py']",3,62bcc6488b5fc4e4dc9c99fdf8aea1dd0e77b076,bug/1889654," leader_get, if not leader_get(vault.CHARM_ACCESS_ROLE_ID): status_set( 'blocked', 'Vault charm not yet authorized: run authorize-charm action.') return if not leader_get(vault.CHARM_ACCESS_ROLE_ID): log(""Charm not yet authorized"", ""DEBUG"") return False",,37,8
openstack%2Fopenstack-manuals~master~Ib13285cdc4494c500ac53422605f64b34bbd6ef3,openstack/openstack-manuals,master,Ib13285cdc4494c500ac53422605f64b34bbd6ef3,Imported Translations from Zanata,MERGED,2020-07-27 08:11:59.000000000,2020-08-04 07:26:48.000000000,2020-08-04 07:05:40.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 08:11:59.000000000', 'files': ['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/image-guide/source/locale/id/LC_MESSAGES/image-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b451c833a6257a5574b0295e2c6b3689c32004b6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib13285cdc4494c500ac53422605f64b34bbd6ef3\n'}]",0,743162,b451c833a6257a5574b0295e2c6b3689c32004b6,13,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib13285cdc4494c500ac53422605f64b34bbd6ef3
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/62/743162/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/install-guide/source/locale/id/LC_MESSAGES/install-guide.po', 'doc/image-guide/source/locale/id/LC_MESSAGES/image-guide.po']",2,b451c833a6257a5574b0295e2c6b3689c32004b6,zanata/translations,"""POT-Creation-Date: 2020-07-12 09:54+0000\n""""PO-Revision-Date: 2020-07-26 04:16+0000\n""""Images are not the only OpenStack resource that can have metadata associated "" ""with them. Many other resources (for example, volumes) support setting "" ""metadata on the resources. As with images, the metadata may be consumed by "" ""humans to understand something about the resource, or may be used by other "" ""OpenStack services so that they can make efficient use of the resource (for "" ""example, the nova filter scheduler using the image ``architecture`` property "" ""to determine an appropriate host on which to build an instance from that "" ""image). Thus it is important that there be a discoverable way for people and "" ""services to determine what metadata properties and values are available "" ""throughout an OpenStack cloud."" msgstr """" ""Images bukan satu-satunya sumber daya OpenStack yang dapat memiliki metadata "" ""yang terkait dengannya. Banyak sumber daya lain (misalnya, volume) mendukung "" ""pengaturan metadata pada sumber daya. Seperti images, metadata dapat "" ""dikonsumsi oleh manusia untuk memahami sesuatu tentang sumber daya atau "" ""dapat digunakan oleh layanan OpenStack lain sehingga mereka dapat membuat "" ""penggunaan sumber daya secara efisien (misalnya, penjadwal filter nova "" ""menggunakan image ``architecture`` property untuk menentukan host yang tepat "" ""di mana untuk membangun sebuah instance dari image itu). Karena itu, penting "" ""bahwa ada cara yang dapat ditemukan bagi orang dan layanan untuk menentukan "" ""properti dan nilai metadata apa yang tersedia di seluruh cloud OpenStack."" msgid """"","""POT-Creation-Date: 2020-07-03 13:12+0000\n""""PO-Revision-Date: 2020-04-02 04:24+0000\n""",222,4
openstack%2Ftripleo-upgrade~stable%2Fussuri~Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86,openstack/tripleo-upgrade,stable/ussuri,Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86,Remove any python3 package before UC leapp.,MERGED,2020-07-30 15:36:29.000000000,2020-08-04 07:04:18.000000000,2020-07-31 14:29:02.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 17823}, {'_account_id': 22348}, {'_account_id': 27978}]","[{'number': 1, 'created': '2020-07-30 15:36:29.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2ef35a298456874138445af46e9dafce010e15e6', 'message': 'Remove any python3 package before UC leapp.\n\nThe Tobiko package installas python3-devel which enters in\nconflict during the leapp upgrade procedure. This change removes any\npython3 package before running leapp.\n\nChange-Id: Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86\n(cherry picked from commit e121bd00cd2149da1ad77f14631e6b1125c8f735)\n'}]",0,744002,2ef35a298456874138445af46e9dafce010e15e6,9,6,1,26343,,,0,"Remove any python3 package before UC leapp.

The Tobiko package installas python3-devel which enters in
conflict during the leapp upgrade procedure. This change removes any
python3 package before running leapp.

Change-Id: Id7cca3e4f819c2dfdb3947c8c3522d98d03b5a86
(cherry picked from commit e121bd00cd2149da1ad77f14631e6b1125c8f735)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/02/744002/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/undercloud_os_upgrade.yaml'],1,2ef35a298456874138445af46e9dafce010e15e6,, python3*,,1,0
openstack%2Fmagnum~master~Id5e9d346733cf8a3b2e2d0da7f86340800aec090,openstack/magnum,master,Id5e9d346733cf8a3b2e2d0da7f86340800aec090,Build cluster-autoscaler v1.19.0,MERGED,2020-08-03 14:41:20.000000000,2020-08-04 06:51:08.000000000,2020-08-04 06:47:46.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-08-03 14:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c66a25583ca744815af9efffb240d9b0d2199d10', 'message': 'Build cluster-autoscaler v1.19.0\n\nChange-Id: Id5e9d346733cf8a3b2e2d0da7f86340800aec090\n'}, {'number': 2, 'created': '2020-08-03 15:39:39.000000000', 'files': ['playbooks/container-builder-vars.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/37c216543c52dff124e844710d75ff2d2750cdaf', 'message': 'Build cluster-autoscaler v1.19.0\n\nAlso update v1.17 and v1.18 to the latest\npatch versions.\n\nChange-Id: Id5e9d346733cf8a3b2e2d0da7f86340800aec090\n'}]",0,744493,37c216543c52dff124e844710d75ff2d2750cdaf,14,3,2,30262,,,0,"Build cluster-autoscaler v1.19.0

Also update v1.17 and v1.18 to the latest
patch versions.

Change-Id: Id5e9d346733cf8a3b2e2d0da7f86340800aec090
",git fetch https://review.opendev.org/openstack/magnum refs/changes/93/744493/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/container-builder-vars.yaml'],1,c66a25583ca744815af9efffb240d9b0d2199d10,build-autoscaler-1-19, - version: 1.19.0,,1,0
openstack%2Fproject-config~master~Id29d9d918dbff4777ea4ffa07f1c8441f4c52b8d,openstack/project-config,master,Id29d9d918dbff4777ea4ffa07f1c8441f4c52b8d,Add notifications for openstack-stable channel,MERGED,2020-07-30 20:41:09.000000000,2020-08-04 06:51:07.000000000,2020-08-04 06:51:07.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-30 20:41:09.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e672cf3d408600afa95303b142cc779b6f616ccf', 'message': ""Add notifications for openstack-stable channel\n\nIt's sometimes hard to be aware of pending stable backports. The stable\nteam is very small, but they are still around and would like to help\nreview backports. Since the openstack-stable channel is very quiet\nanyway, this adds notifications for new proposed backports to the\nchannel to help raise awareness of new things to review.\n\nChange-Id: Id29d9d918dbff4777ea4ffa07f1c8441f4c52b8d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,744050,e672cf3d408600afa95303b142cc779b6f616ccf,11,6,1,11904,,,0,"Add notifications for openstack-stable channel

It's sometimes hard to be aware of pending stable backports. The stable
team is very small, but they are still around and would like to help
review backports. Since the openstack-stable channel is very quiet
anyway, this adds notifications for new proposed backports to the
channel to help raise awareness of new things to review.

Change-Id: Id29d9d918dbff4777ea4ffa07f1c8441f4c52b8d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/744050/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,e672cf3d408600afa95303b142cc779b6f616ccf,stable-reviews,openstack-stable: events: - patchset-created projects: - ^openstack/.* branches: - ^stable/.* ,,8,0
openstack%2Ftrove~stable%2Ftrain~Ifb12da84b343942b516416cda0e644d095964745,openstack/trove,stable/train,Ifb12da84b343942b516416cda0e644d095964745,[docs] Update building_guest_images for train,ABANDONED,2020-06-28 02:18:48.000000000,2020-08-04 06:47:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-28 02:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/87af3935ae1b17a95733c899412e9638021832ac', 'message': '[docs] Update building_guest_images for train\n\nupdate trovestack document url from latert to train, old url cannot be accessed\n\nChange-Id: Ifb12da84b343942b516416cda0e644d095964745\n'}, {'number': 2, 'created': '2020-06-28 02:22:07.000000000', 'files': ['doc/source/admin/building_guest_images.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/4911d78ff5142356e8984a7dfcd87b46ea727f22', 'message': '[docs] Update building_guest_images for train\n\nUpdate trovestack document url from latest to train,\nold url cannot be accessed\n\nChange-Id: Ifb12da84b343942b516416cda0e644d095964745\n'}]",0,738332,4911d78ff5142356e8984a7dfcd87b46ea727f22,4,1,2,32029,,,0,"[docs] Update building_guest_images for train

Update trovestack document url from latest to train,
old url cannot be accessed

Change-Id: Ifb12da84b343942b516416cda0e644d095964745
",git fetch https://review.opendev.org/openstack/trove refs/changes/32/738332/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/building_guest_images.rst'],1,87af3935ae1b17a95733c899412e9638021832ac,doc-train,`trovestack document <https://docs.openstack.org/trove/train/admin/trovestack.html#build-guest-agent-image>`_,`trovestack document <https://docs.openstack.org/trove/latest/admin/trovestack.html#build-guest-agent-image>`_,1,1
openstack%2Fproject-config~master~I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2,openstack/project-config,master,I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2,Normalize projects.yaml,MERGED,2020-07-31 06:17:44.000000000,2020-08-04 06:42:30.000000000,2020-08-04 06:37:17.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-31 06:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d901df8aea3a26e906265af1c71916e2b623e953', 'message': 'Normalize projects.yaml\n\nChange-Id: I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2\n'}, {'number': 2, 'created': '2020-08-01 06:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/92333d848a4ade1c556f1bf197cd705ab4c6cf3e', 'message': 'Normalize projects.yaml\n\nChange-Id: I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2\n'}, {'number': 3, 'created': '2020-08-02 06:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8adc63af6d5835fa299bf88ceb026507a4476b47', 'message': 'Normalize projects.yaml\n\nChange-Id: I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2\n'}, {'number': 4, 'created': '2020-08-03 06:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/885a5924f607917012f6d339c59434132fb3f146', 'message': 'Normalize projects.yaml\n\nChange-Id: I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2\n'}, {'number': 5, 'created': '2020-08-04 06:10:13.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3437a41d2e6666022fff7caf6481454a8cc6f511', 'message': 'Normalize projects.yaml\n\nChange-Id: I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2\n'}]",0,744096,3437a41d2e6666022fff7caf6481454a8cc6f511,16,3,5,11131,,,0,"Normalize projects.yaml

Change-Id: I570e3f33e4e7dc5be49ff19b00edc3ef5484c3c2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/744096/5 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,d901df8aea3a26e906265af1c71916e2b623e953,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-keystone-kerberos.git,0,1
openstack%2Fglance~master~I1415021a2a2b4c4cebf4e8d97759e2c48307f89e,openstack/glance,master,I1415021a2a2b4c4cebf4e8d97759e2c48307f89e,[goal] Migrate glance jobs to focal,MERGED,2020-07-26 23:20:25.000000000,2020-08-04 05:58:14.000000000,2020-08-04 05:55:03.000000000,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 23:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/79308c9f85214a1da2af1c64a452eeb89ef118a4', 'message': '[goal] Migrate glance jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for rest all.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: I1415021a2a2b4c4cebf4e8d97759e2c48307f89e\nStory: #2007865\nTask: #40185\n'}, {'number': 2, 'created': '2020-07-30 22:30:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/cd50dd2125d20c747ae077171db04ecbe16deeb0', 'message': '[goal] Migrate glance jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for rest all.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: I1415021a2a2b4c4cebf4e8d97759e2c48307f89e\nStory: #2007865\nTask: #40185\n'}]",0,743092,cd50dd2125d20c747ae077171db04ecbe16deeb0,18,5,2,8556,,,0,"[goal] Migrate glance jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Set bionic nodeset for py36 job and focal nodeset for rest all.

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$

Change-Id: I1415021a2a2b4c4cebf4e8d97759e2c48307f89e
Story: #2007865
Task: #40185
",git fetch https://review.opendev.org/openstack/glance refs/changes/92/743092/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,79308c9f85214a1da2af1c64a452eeb89ef118a4,migrate-to-focal, nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-bionic, nodeset: ubuntu-bionic nodeset: ubuntu-bionic nodeset: ubuntu-bionic nodeset: ubuntu-bionic,11,4
openstack%2Fopenstack-tempest-skiplist~master~I4545f98edf04dd69b03c35053f163d7ae2f6bd91,openstack/openstack-tempest-skiplist,master,I4545f98edf04dd69b03c35053f163d7ae2f6bd91,Add network related tests to skip list,MERGED,2020-07-30 13:16:10.000000000,2020-08-04 05:57:13.000000000,2020-07-30 14:42:00.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-30 13:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/3a556cf889cd370faacc3f9772c19aeabe9cb952', 'message': 'Add network related tests to skip list\n\nBelow is the list of tests:\ntempest.scenario.test_network_v6.TestGettingAddress.test_dualnet_multi_prefix_dhcpv6_stateless\nneutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_remote_group\nneutron_tempest_plugin.scenario.test_ports.PortsTest.test_previously_used_port\n\nAnd all are failing due to this bug:\nhttps://bugs.launchpad.net/tripleo/+bug/1888511\n\nRelated-Bug: #1888511\n\nChange-Id: I4545f98edf04dd69b03c35053f163d7ae2f6bd91\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-30 13:54:14.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/0bccd1dbc2504ae0d4e40388a7d925306cc22da0', 'message': 'Add network related tests to skip list\n\nBelow is the list of tests:\nneutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_portrange_remote\nneutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_secgroup_inheritance\nneutron_tempest_plugin.scenario.test_connectivity.NetworkConnectivityTest.test_connectivity_router_east_west_traffic\nneutron_tempest_plugin.scenario.test_qos.QoSTest.test_create_instance_using_network_with_existing_policy\nneutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_protocol_number_rule\nneutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_remote_group\nneutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_two_sec_groups\n\nAnd all are failing due to this bug:\nhttps://bugs.launchpad.net/tripleo/+bug/1888511\n\nRelated-Bug: #1888511\n\nChange-Id: I4545f98edf04dd69b03c35053f163d7ae2f6bd91\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",1,743968,0bccd1dbc2504ae0d4e40388a7d925306cc22da0,19,5,2,12393,,,0,"Add network related tests to skip list

Below is the list of tests:
neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_portrange_remote
neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_secgroup_inheritance
neutron_tempest_plugin.scenario.test_connectivity.NetworkConnectivityTest.test_connectivity_router_east_west_traffic
neutron_tempest_plugin.scenario.test_qos.QoSTest.test_create_instance_using_network_with_existing_policy
neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_protocol_number_rule
neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_remote_group
neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_two_sec_groups

And all are failing due to this bug:
https://bugs.launchpad.net/tripleo/+bug/1888511

Related-Bug: #1888511

Change-Id: I4545f98edf04dd69b03c35053f163d7ae2f6bd91
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/68/743968/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,3a556cf889cd370faacc3f9772c19aeabe9cb952,masterskiplist, - test: 'tempest.scenario.test_network_v6.TestGettingAddress.test_dualnet_multi_prefix_dhcpv6_stateless' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_remote_group' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_ports.PortsTest.test_previously_used_port' deployment: 'overcloud' releases: - name: 'master' reason: 'No more IP addresses available on network' lp: 'https://bugs.launchpad.net/tripleo/+bug/1888511' jobs: [],,21,0
openstack%2Fhorizon~master~Ie09e667608da03835d57d78338913dd33dd924b5,openstack/horizon,master,Ie09e667608da03835d57d78338913dd33dd924b5,Imported Translations from Zanata,MERGED,2020-08-03 08:04:22.000000000,2020-08-04 05:24:25.000000000,2020-08-04 05:22:47.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-08-03 08:04:22.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a2a173d2c5fa9173793ae3deed194dde7c9a802f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie09e667608da03835d57d78338913dd33dd924b5\n'}]",0,744409,a2a173d2c5fa9173793ae3deed194dde7c9a802f,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie09e667608da03835d57d78338913dd33dd924b5
",git fetch https://review.opendev.org/openstack/horizon refs/changes/09/744409/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,a2a173d2c5fa9173793ae3deed194dde7c9a802f,zanata/translations,"""POT-Creation-Date: 2020-07-31 16:33+0000\n""""PO-Revision-Date: 2020-08-02 06:08+0000\n""msgid ""18.4.1-11"" msgstr ""18.4.1-11""","""POT-Creation-Date: 2020-07-27 10:21+0000\n""""PO-Revision-Date: 2020-07-28 07:30+0000\n""msgid ""18.4.1-9"" msgstr ""18.4.1-9""",4,4
openstack%2Fmagnum~stable%2Fussuri~Iae831dc549a855269b4639c31676e75d2a9433d6,openstack/magnum,stable/ussuri,Iae831dc549a855269b4639c31676e75d2a9433d6,[fix] Append v3/v1 to auth_url/magnum_url if discovery fails,MERGED,2020-07-31 13:52:21.000000000,2020-08-04 03:09:59.000000000,2020-08-04 03:08:37.000000000,"[{'_account_id': 6484}, {'_account_id': 14826}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 13:52:21.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/heat/swarm_mode_template_def.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/34468cf03ddd66c50334b51f43e92ff40fba8301', 'message': '[fix] Append v3/v1 to auth_url/magnum_url if discovery fails\n\nSometimes, version discovery fails when Magnum cannot talk to\nKeystone via specified trustee_keystone_interface intended for\ncluster instances either because it is not unreachable from the\ncontroller or CA certs are missing for TLS enabled interface and the\nreturned auth_url or magnum_url may not be suffixed with /v3 or /v1\nrespectively, in which case append the url with the suffix so that\ninstances can still talk to Keystone/Magnum.\n\nStory: 2007868\nTask: 40235\n\nChange-Id: Iae831dc549a855269b4639c31676e75d2a9433d6\n(cherry picked from commit 5a688b186902b1a0b7b1ee01519cba275f07dfab)\n'}]",0,744174,34468cf03ddd66c50334b51f43e92ff40fba8301,9,4,1,28022,,,0,"[fix] Append v3/v1 to auth_url/magnum_url if discovery fails

Sometimes, version discovery fails when Magnum cannot talk to
Keystone via specified trustee_keystone_interface intended for
cluster instances either because it is not unreachable from the
controller or CA certs are missing for TLS enabled interface and the
returned auth_url or magnum_url may not be suffixed with /v3 or /v1
respectively, in which case append the url with the suffix so that
instances can still talk to Keystone/Magnum.

Story: 2007868
Task: 40235

Change-Id: Iae831dc549a855269b4639c31676e75d2a9433d6
(cherry picked from commit 5a688b186902b1a0b7b1ee01519cba275f07dfab)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/74/744174/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/drivers/heat/swarm_mode_template_def.py']",3,34468cf03ddd66c50334b51f43e92ff40fba8301,skip_discovery-stable/ussuri," # NOTE: Sometimes, version discovery fails when Magnum cannot talk to # Keystone via specified magnum_client.endpoint_type intended for # cluster instances either because it is not unreachable from the # controller or CA certs are missing for TLS enabled interface and the # returned auth_url may not be suffixed with /v1 in which case append # the url with the suffix so that instances can still talk to Magnum. magnum_url = osc.magnum_url() extra_params['magnum_url'] = magnum_url + ('' if magnum_url.endswith('/v1') else '/v1')", extra_params['magnum_url'] = osc.magnum_url(),29,3
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib53c0dffca24c3aff206911dcada1d27b4351f1b,openstack/tripleo-ansible,stable/train,Ib53c0dffca24c3aff206911dcada1d27b4351f1b,Make tripleo_sshd more idempontent,MERGED,2020-07-31 17:00:15.000000000,2020-08-04 02:49:23.000000000,2020-08-04 02:49:23.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-31 17:00:15.000000000', 'files': ['tripleo_ansible/roles/tripleo-sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo-sshd/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f43bfa483557bdaaf3f81040d52c601c2f6365b', 'message': ""Make tripleo_sshd more idempontent\n\nThis change updates the sshd configuration to occur once rather than\nusing lineinfile after writing out the template. This should improve\nidempontency because we won't be munging a file we wrote out with a\ntemplate. Additionally this change switches from using handlers to an\nexplicit task instead.\n\nChange-Id: Ib53c0dffca24c3aff206911dcada1d27b4351f1b\n(cherry picked from commit 6f80b749f52f0f122a2db1545c7e7a479efbd6f9)\n""}]",0,744229,0f43bfa483557bdaaf3f81040d52c601c2f6365b,8,4,1,14985,,,0,"Make tripleo_sshd more idempontent

This change updates the sshd configuration to occur once rather than
using lineinfile after writing out the template. This should improve
idempontency because we won't be munging a file we wrote out with a
template. Additionally this change switches from using handlers to an
explicit task instead.

Change-Id: Ib53c0dffca24c3aff206911dcada1d27b4351f1b
(cherry picked from commit 6f80b749f52f0f122a2db1545c7e7a479efbd6f9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/744229/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-sshd/tasks/main.yml', 'tripleo_ansible/roles/tripleo-sshd/handlers/main.yml']",2,0f43bfa483557bdaaf3f81040d52c601c2f6365b,bug/1856094,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Restart sshd systemd: name: sshd state: restarted enabled: true become: true tags: - handler ",55,69
openstack%2Ftripleo-ansible~stable%2Ftrain~I5105c007d890ec98b34eafba3ab410bf9ba4f089,openstack/tripleo-ansible,stable/train,I5105c007d890ec98b34eafba3ab410bf9ba4f089,Change drop action,MERGED,2020-07-31 16:56:50.000000000,2020-08-04 02:49:22.000000000,2020-08-04 02:49:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 16:56:50.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/tripleo_iptables.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a0c376e421fbfd19d58389dd9a4d4640ff471c5', 'message': 'Change drop action\n\nThe new firewall rule action plugin was setting the rule state as absent\nwhen using the drop ""action"", this change updates that so we\'re adding\ndrop rules and appending them to the rule chain.\n\nChange-Id: I5105c007d890ec98b34eafba3ab410bf9ba4f089\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 8f11437b1c5173d3dda669b8b1d700837b33b245)\n'}]",0,744227,2a0c376e421fbfd19d58389dd9a4d4640ff471c5,14,5,1,14985,,,0,"Change drop action

The new firewall rule action plugin was setting the rule state as absent
when using the drop ""action"", this change updates that so we're adding
drop rules and appending them to the rule chain.

Change-Id: I5105c007d890ec98b34eafba3ab410bf9ba4f089
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 8f11437b1c5173d3dda669b8b1d700837b33b245)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/744227/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/tripleo_iptables.py'],1,2a0c376e421fbfd19d58389dd9a4d4640ff471c5,bug/1856094," rule_data['action'] = 'append' rule_data['jump'] = rule.get('jump', 'DROP') else: rule_data['jump'] = rule.get('jump', 'ACCEPT')"," rule_data['action'] = 'insert' rule_data['state'] = 'absent' rule_data['jump'] = rule.get('jump', 'ACCEPT')",4,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I17d6c3a3af5b192b77d264ff3e94e64ef6064c77,openstack/tripleo-heat-templates,stable/train,I17d6c3a3af5b192b77d264ff3e94e64ef6064c77,Add BarbicanClient service for configuring edge sites,MERGED,2020-07-27 12:40:25.000000000,2020-08-04 02:41:39.000000000,2020-08-04 02:39:58.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 12:40:25.000000000', 'files': ['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/add-barbican-client-for-dcn-7182e8bab41fce21.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'environments/services/barbican-edge.yaml', 'deployment/barbican/barbican-client-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbaded6cac3da0b7ceae6ff17aca7039ec6f3bcf', 'message': 'Add BarbicanClient service for configuring edge sites\n\nA new BarbicanClient tripleo service provides a means of configuring\nthe barbican Key Manager settings for cinder, glance and nova services\nrunning at an edge site. This is necessary because the BarbicanApi\ntripleo service is only capable of configuring the Key Manager settings\nfor services running in the control plane.\n\nFor cinder, the BarbicanClient ensures the KeyManager settings are\navailable to the cinder-volume and cinder-backup services. This is\nnecessary because the Key Manager setttings are traditionally associated\nwith the cinder-api service, but cinder-api is not deployed at the edge.\n\nCloses-Bug: #1886070\nChange-Id: I17d6c3a3af5b192b77d264ff3e94e64ef6064c77\n(cherry picked from commit 5080e45fd283c795f973c86719d1959948f642e3)\n(cherry picked from commit b5b2bb640b93001ffcfb2d09aaee7d586604aa62)\n'}]",0,743213,bbaded6cac3da0b7ceae6ff17aca7039ec6f3bcf,27,5,1,21129,,,0,"Add BarbicanClient service for configuring edge sites

A new BarbicanClient tripleo service provides a means of configuring
the barbican Key Manager settings for cinder, glance and nova services
running at an edge site. This is necessary because the BarbicanApi
tripleo service is only capable of configuring the Key Manager settings
for services running in the control plane.

For cinder, the BarbicanClient ensures the KeyManager settings are
available to the cinder-volume and cinder-backup services. This is
necessary because the Key Manager setttings are traditionally associated
with the cinder-api service, but cinder-api is not deployed at the edge.

Closes-Bug: #1886070
Change-Id: I17d6c3a3af5b192b77d264ff3e94e64ef6064c77
(cherry picked from commit 5080e45fd283c795f973c86719d1959948f642e3)
(cherry picked from commit b5b2bb640b93001ffcfb2d09aaee7d586604aa62)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/743213/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/add-barbican-client-for-dcn-7182e8bab41fce21.yaml', 'environments/services/barbican-edge.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'deployment/barbican/barbican-client-puppet.yaml']",8,bbaded6cac3da0b7ceae6ff17aca7039ec6f3bcf,bug/1886070,"heat_template_version: rocky description: > OpenStack Barbican client configuration parameters: EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json outputs: role_data: description: Role data for the Barbican client. value: service_name: barbican_client service_config_settings: nova_compute: nova::compute::keymgr_backend: barbican nova::compute::barbican_endpoint: get_param: [EndpointMap, BarbicanInternal, uri] nova::compute::barbican_auth_endpoint: get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] cinder_volume: &cinder_barbican_config cinder::config::cinder_config: key_manager/backend: value: barbican barbican/barbican_endpoint: value: {get_param: [EndpointMap, BarbicanInternal, uri]} barbican/auth_endpoint: value: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} cinder_backup: *cinder_barbican_config glance_api: glance::api::keymgr_backend: barbican glance::api::keymgr_encryption_api_url: get_param: [EndpointMap, BarbicanInternal, uri] glance::api::keymgr_encryption_auth_url: get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] ",,82,0
openstack%2Fpuppet-tripleo~master~I0ea26253355a57b3721bfa6ceef3972eaabc5b1d,openstack/puppet-tripleo,master,I0ea26253355a57b3721bfa6ceef3972eaabc5b1d,Add certmonger-etcd-refresh.sh script,MERGED,2020-07-29 17:23:52.000000000,2020-08-04 02:40:00.000000000,2020-08-04 02:40:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-29 17:23:52.000000000', 'files': ['manifests/certmonger/etcd.pp', 'files/certmonger-etcd-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/95db8b4947f0a80a0109131eda8f66ed4acb90d6', 'message': 'Add certmonger-etcd-refresh.sh script\n\nAdd a script that refreshes the etcd cert and key files in all\ncontainers that reference them. This includes etcd itself, plus any\ncinder services that access etcd.\n\nChange-Id: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d\n'}]",0,743806,95db8b4947f0a80a0109131eda8f66ed4acb90d6,8,5,1,21129,,,0,"Add certmonger-etcd-refresh.sh script

Add a script that refreshes the etcd cert and key files in all
containers that reference them. This includes etcd itself, plus any
cinder services that access etcd.

Change-Id: I0ea26253355a57b3721bfa6ceef3972eaabc5b1d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/743806/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/etcd.pp', 'files/certmonger-etcd-refresh.sh']",2,95db8b4947f0a80a0109131eda8f66ed4acb90d6,etcd-cert-revamp,"#!/bin/bash container_cli=$(hiera -c /etc/puppet/hiera.yaml container_cli podman) # cinder uses etcd, so its containers also need to be refreshed container_names=$($container_cli ps --format=""{{.Names}}"" | grep -E 'cinder|etcd') service_crt=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::etcd::certificate_specs.service_certificate)"" service_key=""$(hiera -c /etc/puppet/hiera.yaml tripleo::profile::base::etcd::certificate_specs.service_key)"" kolla_dir=""/var/lib/kolla/config_files/src-tls"" # For each container, check whether the cert and key files need to be updated. # The check is necessary because the original THT design directly bind mounted # the files to their final location, and did not copy them in via $kolla_dir. # Regardless of whether the container is directly using the files, or a copy, # there's no need to trigger a reload because the cert is not cached. for container_name in ${container_names[*]}; do $container_cli exec -u root ""$container_name"" bash -c "" [[ -f ${kolla_dir}/${service_crt} ]] && cp ${kolla_dir}/${service_crt} $service_crt; [[ -f ${kolla_dir}/${service_key} ]] && cp ${kolla_dir}/${service_key} $service_key; true "" done ",,31,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4fde50e353ab7b2e6b03d963f585f6abe35ca32d,openstack/tripleo-heat-templates,stable/train,I4fde50e353ab7b2e6b03d963f585f6abe35ca32d,Add openvswitch special treatment to update too.,MERGED,2020-07-30 10:49:01.000000000,2020-08-04 02:39:56.000000000,2020-08-04 02:39:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-30 10:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/316296e2ff3b7a76f65263369801a89fb9479ebf', 'message': ""Add openvswitch special treatment to update too.\n\nOpenvswitch package update can be disruptive during update too.  So we\nfactor out the code used for upgrade to re-use for update and\nundercloud update.\n\nWe also fix a issue where yum/yumdownloader is not available anymore.\nThis cause the special treatment to not happen anymore what not matter\nwhat.\n\nInstead of duplicating the ansible sequence, this has been ported to a\nansible module that replicate the action defined in the templates.\n\nWe also make sure to not try to restart the openvswitch service if\nnothing has been changed during the ovs upgrade task.  This cover two\ncases.  First, it's an optimization, if nothing has been done, we\ndon't need to check the service.  Second, and most importantly, if ovs\nisn't installed (this can happen on some minimal installation) then we\ndon't try to restart the non-existent service.\n\nWe keep the tasks at step 3 that make sure again that the openvswitch\nservice is started.  This is a failsafe and as such we ignore any\nerror there.  This also support the overcloud-minimal type of\ninstallation.\n\nDepends-On: https://review.opendev.org/742968\nChange-Id: I4fde50e353ab7b2e6b03d963f585f6abe35ca32d\nCloses-Bug: #1888651\nRelated-Bug: #1888821\n(cherry picked from commit 8ca2b598cbee79177f36448b421692b4cd9c8c8d)\n(cherry picked from commit 43d4ec5d8f93e905588059bb5852ed3df2cd9e84)\n""}, {'number': 2, 'created': '2020-07-30 10:54:22.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed65866d438b16698bc2b8aff8bbf3b0610ddd71', 'message': ""Add openvswitch special treatment to update too.\n\nOpenvswitch package update can be disruptive during update too.  So we\nfactor out the code used for upgrade to re-use for update and\nundercloud update.\n\nWe also fix a issue where yum/yumdownloader is not available anymore.\nThis cause the special treatment to not happen anymore what not matter\nwhat.\n\nInstead of duplicating the ansible sequence, this has been ported to a\nansible module that replicate the action defined in the templates.\n\nWe also make sure to not try to restart the openvswitch service if\nnothing has been changed during the ovs upgrade task.  This cover two\ncases.  First, it's an optimization, if nothing has been done, we\ndon't need to check the service.  Second, and most importantly, if ovs\nisn't installed (this can happen on some minimal installation) then we\ndon't try to restart the non-existent service.\n\nWe keep the tasks at step 3 that make sure again that the openvswitch\nservice is started.  This is a failsafe and as such we ignore any\nerror there.  This also support the overcloud-minimal type of\ninstallation.\n\nDepends-On: https://review.opendev.org/743838\nChange-Id: I4fde50e353ab7b2e6b03d963f585f6abe35ca32d\nCloses-Bug: #1888651\nRelated-Bug: #1888821\n(cherry picked from commit 8ca2b598cbee79177f36448b421692b4cd9c8c8d)\n(cherry picked from commit c2b828fbb8b1e9f085ecbd6d5abd085733f3b7cb)\n""}]",0,743949,ed65866d438b16698bc2b8aff8bbf3b0610ddd71,11,7,2,8297,,,0,"Add openvswitch special treatment to update too.

Openvswitch package update can be disruptive during update too.  So we
factor out the code used for upgrade to re-use for update and
undercloud update.

We also fix a issue where yum/yumdownloader is not available anymore.
This cause the special treatment to not happen anymore what not matter
what.

Instead of duplicating the ansible sequence, this has been ported to a
ansible module that replicate the action defined in the templates.

We also make sure to not try to restart the openvswitch service if
nothing has been changed during the ovs upgrade task.  This cover two
cases.  First, it's an optimization, if nothing has been done, we
don't need to check the service.  Second, and most importantly, if ovs
isn't installed (this can happen on some minimal installation) then we
don't try to restart the non-existent service.

We keep the tasks at step 3 that make sure again that the openvswitch
service is started.  This is a failsafe and as such we ignore any
error there.  This also support the overcloud-minimal type of
installation.

Depends-On: https://review.opendev.org/743838
Change-Id: I4fde50e353ab7b2e6b03d963f585f6abe35ca32d
Closes-Bug: #1888651
Related-Bug: #1888821
(cherry picked from commit 8ca2b598cbee79177f36448b421692b4cd9c8c8d)
(cherry picked from commit c2b828fbb8b1e9f085ecbd6d5abd085733f3b7cb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/743949/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml']",2,316296e2ff3b7a76f65263369801a89fb9479ebf,, - name: Special treatment for OpenvSwitch tripleo_ovs_upgrade: register: ovs_upgrade when: - step|int == 2 - ovs_upgrade.changed|bool," # With the layered product packaging, the key package is rhosp-openvswitch. It depends on # a openvswitch package that includes the version as part of the name (e.g openvswitch2.10). # This requires some additional special handling: # - During an upgrade the package name for openvswitch may change so # upgrading the currently installed package won't do anything. # - The rhosp-openvswitch package ""obsoletes"" several packages, # including older openvswitch packages. This results in a pretty # severe uninstall/install sequence of operations that stops and # removes openvswitch which could break network links required to # continue the upgrade. # - To prevent rhosp-openvswitch breaking connectivity, the currently # installed core openvswitch packages need to be erased from the rpm # database but leave the binaries intact. This effectively # short-circuits the obsoletes mechanism in rhosp-openvswitch and # leaves the core elements of openvswitch running. In the future we # may replace this mechanism with ""an upgrade on reboot"". We only # do this for the core openvswitch packages so other packages # obsoleted by rhosp-openvswitch will be removed when # rhosp-openvswitch is installed/upgraded. # - Neither the rhosp-openvswitch nor openvswitch{m.n} package enables # or starts the systemd service so there must always be a task # to ensure that it is enabled or OpenvSwitch functionality won't be # available on reboot. # - With LP, we expect that the core openvswitch package name will # change with every major upgrade so this special handling will # eventually replace the special handling of upgrading the # openvswitch package ""in place"" - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-[0-9]+\.[0-9]+\.[-0]+-|openvswitch-2)/{print $1}' - name: Don't update if not present set_fact: run_ovs_update: ""{{ (ovs_pkg_out.stdout | length) > 0 }}"" - name: Block for gathering information for upgrading OpenvSwitch layered product packaging - run_ovs_update|bool block: - name: Process rhosp-openvswitch layered package for new version number shell: | set -o pipefail yum info -q rhosp-openvswitch | awk '/^Version/{print $NF}' register: rhosp_package_result failed_when: false - name: Set fact for triggering OpenvSwitch layered product package handling set_fact: ovs_lp_packaging: ""{{ rhosp_package_result.rc == 0 }}"" - name: Capture the expected OpenvSwitch version. set_fact: new_ovs_version: ""{{ rhosp_package_result.stdout }}"" when: ovs_lp_packaging|default(false) - name: Get version from current OpenvSwitch package register: ovs_version_out shell: rpm -qi ""{{ ovs_pkg_out.stdout }}"" | awk '/^Version/{print $NF}' - name: split numeric version for OpenvSwitch into parts set_fact: ovs_version_parts: ""{{ ovs_version_out.stdout.split('.') }}"" - name: get major minor version for OpenvSwitch package naming set_fact: current_ovs_version: ""{{ ovs_version_parts[0] }}.{{ ovs_version_parts[1] }}"" - name: get OpenvSwitch major version set_fact: current_ovs_major_version: ""{{ ovs_version_parts[0]|int }}"" - name: get OpenvSwitch minor version set_fact: current_ovs_minor_version: ""{{ ovs_version_parts[1]|int }}"" - name: Block for upgrading OpenvSwitch when layer package is present when: - step|int == 2 - ovs_lp_packaging|default(false) block: - name: set current OpenvSwitch package suffix if old version is layered product format set_fact: package_suffix: ""{{ current_ovs_version }}"" when: - current_ovs_major_version|int >= 3 or current_ovs_minor_version|int >=10 - name: remove old OpenvSwitch package(s) if version doesn't match shell: | rpm -e --noscripts --nopreun --nopostun --notriggers --nodeps $(rpm -qa 'openvswitch{{ package_suffix|default('') }}*' | grep -v 'selinux') args: warn: false when: new_ovs_version != current_ovs_version - name: install/upgrade OpenvSwitch LP package package: name: rhosp-openvswitch state: latest - name: set flag to skip other upgrade steps since OpenvSwitch is already upgraded! set_fact: run_ovs_update: false - name: Check for openvswitch upgrade if not layered package installs when: - step|int == 2 - run_ovs_update|bool block: - name: check if an upgrade is required register: ovs_need_upgrade failed_when: false shell: | yum check-upgrade openvswitch | awk '/openvswitch/{print}' - name: Check openvswitch packaging. shell: rpm -q --scripts openvswitch | awk '/postuninstall/,/*/' | grep -q ""systemctl.*try-restart"" register: ovs_packaging_issue failed_when: false - name: Upgrade openvswitch block: - name: ""Ensure empty directory: emptying."" file: state: absent path: /root/OVS_UPGRADE - name: ""Ensure empty directory: creating."" file: state: directory path: /root/OVS_UPGRADE owner: root group: root mode: 0750 - name: Make yum cache. command: yum makecache - name: Download OVS packages. command: yumdownloader --destdir /root/OVS_UPGRADE --resolve openvswitch - name: Get rpm list for manual upgrade of OVS. shell: ls -1 /root/OVS_UPGRADE/*.rpm register: ovs_list_of_rpms - name: Manual upgrade of OVS shell: | rpm -U --replacepkgs --notriggerun --nopostun {{item}} args: chdir: /root/OVS_UPGRADE with_items: - ""{{ovs_list_of_rpms.stdout_lines}}"" when: - step|int == 2 - run_ovs_update|bool - ovs_packaging_issue.rc == 0 | default(false) - ovs_need_upgrade.stdout|default('') # The openvswitch package disables the systemd service on install. When installing # the layered product we prevent the service from being killed, but it doesn't # do anything to prevent the systemd service from being removed and it is not # re-enabled by default by the new package. when: step|int == 2",31,284
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I4328d4bafb556e5936793e8a58c3e19635b37406,openstack/tripleo-heat-templates,stable/train,I4328d4bafb556e5936793e8a58c3e19635b37406,Expose the zaqar_ws_timeout_tunnel variable.,MERGED,2020-07-29 19:04:46.000000000,2020-08-04 02:24:54.000000000,2020-08-04 02:23:48.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-07-29 19:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aafb2b7987c45c00bcf730b05ad6512348687e1c', 'message': 'Expose the zaqar_ws_timeout_tunnel variable.\n\nIt can now be configured using a new Heat parameter:\nZaqarWsTimeout.\n\nDepends-On: https://review.opendev.org/728974\nChange-Id: I4328d4bafb556e5936793e8a58c3e19635b37406\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit d3207d8a60c23381081b902a8b4cf5cc3bdd0072)\n(cherry picked from commit 87f943512d697285658f74d15fe1308d5a6e5f18)\n'}, {'number': 2, 'created': '2020-07-30 12:52:32.000000000', 'files': ['releasenotes/notes/zaqar_ws_timeout_tunnel-d5d1e900dce79b34.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a55c34d6905a8c058bcba4cf10b90f879160b2af', 'message': 'Expose the zaqar_ws_timeout_tunnel variable.\n\nIt can now be configured using a new Heat parameter:\nZaqarWsTimeout.\n\nDepends-On: https://review.opendev.org/#/c/730805/\nChange-Id: I4328d4bafb556e5936793e8a58c3e19635b37406\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit d3207d8a60c23381081b902a8b4cf5cc3bdd0072)\n(cherry picked from commit 87f943512d697285658f74d15fe1308d5a6e5f18)\n'}]",0,743824,a55c34d6905a8c058bcba4cf10b90f879160b2af,13,5,2,25877,,,0,"Expose the zaqar_ws_timeout_tunnel variable.

It can now be configured using a new Heat parameter:
ZaqarWsTimeout.

Depends-On: https://review.opendev.org/#/c/730805/
Change-Id: I4328d4bafb556e5936793e8a58c3e19635b37406
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit d3207d8a60c23381081b902a8b4cf5cc3bdd0072)
(cherry picked from commit 87f943512d697285658f74d15fe1308d5a6e5f18)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/743824/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/zaqar_ws_timeout_tunnel-d5d1e900dce79b34.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml']",2,aafb2b7987c45c00bcf730b05ad6512348687e1c,, ZaqarWsTimeout: default: '14400' type: string description: The tunnel timeout in seconds for the Zaqar API. tripleo::haproxy::zaqar_ws_timeout_tunnel: {get_param: ZaqarWsTimeout},,12,0
openstack%2Fcinder~master~I235de11f7132f2f58ac365f5990c40a617e2ea2d,openstack/cinder,master,I235de11f7132f2f58ac365f5990c40a617e2ea2d,DNM: lio-barbican test run,NEW,2020-07-14 20:08:02.000000000,2020-08-04 02:22:00.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}]","[{'number': 1, 'created': '2020-07-14 20:08:02.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/73eddb297a8b52fee782f121acd97a2fde76276a', 'message': 'DNM: lio-barbican test run\n\nChange-Id: I235de11f7132f2f58ac365f5990c40a617e2ea2d\nDepends-On: https://review.opendev.org/#/c/741042/\n'}]",6,741044,73eddb297a8b52fee782f121acd97a2fde76276a,90,19,1,4523,,,0,"DNM: lio-barbican test run

Change-Id: I235de11f7132f2f58ac365f5990c40a617e2ea2d
Depends-On: https://review.opendev.org/#/c/741042/
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/741044/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,73eddb297a8b52fee782f121acd97a2fde76276a,,,,1,0
openstack%2Fopenstack-helm-images~master~I3270a7138d15075d032834d8df551870da8fadbe,openstack/openstack-helm-images,master,I3270a7138d15075d032834d8df551870da8fadbe,prometheus-openstack-exporter: support TLS,MERGED,2020-08-03 20:57:40.000000000,2020-08-04 02:06:11.000000000,2020-08-04 02:05:04.000000000,"[{'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 20:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/d992234c9dafa0443528f31a71ea46e1e0e27d9f', 'message': 'prometheus-openstack-exporter: support TLS\n\nThis ps adds support for TLS.\n\nChange-Id: I3270a7138d15075d032834d8df551870da8fadbe\n'}, {'number': 2, 'created': '2020-08-03 21:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4786569ee05c03a2d1de2dad73aa3240f39597c7', 'message': 'prometheus-openstack-exporter: support TLS\n\nThis ps adds support for TLS.\n\nChange-Id: I3270a7138d15075d032834d8df551870da8fadbe\n'}, {'number': 3, 'created': '2020-08-03 21:18:36.000000000', 'files': ['prometheus-openstack-exporter/exporter/osclient.py', 'prometheus-openstack-exporter/exporter/main.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/3a7d79a4ded5471a58e71199290456f70d116a05', 'message': 'prometheus-openstack-exporter: support TLS\n\nThis ps adds support for TLS.\n\nChange-Id: I3270a7138d15075d032834d8df551870da8fadbe\n'}]",0,744555,3a7d79a4ded5471a58e71199290456f70d116a05,14,4,3,24780,,,0,"prometheus-openstack-exporter: support TLS

This ps adds support for TLS.

Change-Id: I3270a7138d15075d032834d8df551870da8fadbe
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/55/744555/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/exporter/osclient.py', 'prometheus-openstack-exporter/exporter/main.py']",2,d992234c9dafa0443528f31a71ea46e1e0e27d9f,," os_cacert = config.get('OS_CACERT', os.getenv('OS_CACERT')) os_cacert,",,4,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4328d4bafb556e5936793e8a58c3e19635b37406,openstack/tripleo-heat-templates,stable/ussuri,I4328d4bafb556e5936793e8a58c3e19635b37406,Expose the zaqar_ws_timeout_tunnel variable.,MERGED,2020-07-29 19:03:22.000000000,2020-08-04 02:05:09.000000000,2020-08-04 02:02:49.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-07-29 19:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/87f943512d697285658f74d15fe1308d5a6e5f18', 'message': 'Expose the zaqar_ws_timeout_tunnel variable.\n\nIt can now be configured using a new Heat parameter:\nZaqarWsTimeout.\n\nDepends-On: https://review.opendev.org/728974\nChange-Id: I4328d4bafb556e5936793e8a58c3e19635b37406\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit d3207d8a60c23381081b902a8b4cf5cc3bdd0072)\n'}, {'number': 2, 'created': '2020-07-30 12:50:38.000000000', 'files': ['releasenotes/notes/zaqar_ws_timeout_tunnel-d5d1e900dce79b34.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdd0547c4b1b3ed464731ceab1b4aeef502a6e90', 'message': 'Expose the zaqar_ws_timeout_tunnel variable.\n\nIt can now be configured using a new Heat parameter:\nZaqarWsTimeout.\n\nDepends-On: https://review.opendev.org/#/c/731031/\nChange-Id: I4328d4bafb556e5936793e8a58c3e19635b37406\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit d3207d8a60c23381081b902a8b4cf5cc3bdd0072)\n'}]",0,743823,fdd0547c4b1b3ed464731ceab1b4aeef502a6e90,13,5,2,25877,,,0,"Expose the zaqar_ws_timeout_tunnel variable.

It can now be configured using a new Heat parameter:
ZaqarWsTimeout.

Depends-On: https://review.opendev.org/#/c/731031/
Change-Id: I4328d4bafb556e5936793e8a58c3e19635b37406
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit d3207d8a60c23381081b902a8b4cf5cc3bdd0072)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/743823/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/zaqar_ws_timeout_tunnel-d5d1e900dce79b34.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml']",2,87f943512d697285658f74d15fe1308d5a6e5f18,, ZaqarWsTimeout: default: '14400' type: string description: The tunnel timeout in seconds for the Zaqar API. tripleo::haproxy::zaqar_ws_timeout_tunnel: {get_param: ZaqarWsTimeout},,12,0
openstack%2Fmurano-pkg-check~master~Id785bed8ff2818a5789e15c3de1f909828639807,openstack/murano-pkg-check,master,Id785bed8ff2818a5789e15c3de1f909828639807,DNM: testing gate on ubuntu focal,ABANDONED,2020-08-02 00:35:57.000000000,2020-08-04 01:18:36.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 00:35:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/5ee9a55df0aacc47b78208556ede2bf9d23cf379', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nDepends-On: https://review.opendev.org/#/c/734700/\nStory: #2007865\nTask: #40198\n\nChange-Id: Id785bed8ff2818a5789e15c3de1f909828639807\n'}]",0,744355,5ee9a55df0aacc47b78208556ede2bf9d23cf379,5,2,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs
Depends-On: https://review.opendev.org/#/c/734700/
Story: #2007865
Task: #40198

Change-Id: Id785bed8ff2818a5789e15c3de1f909828639807
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/55/744355/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5ee9a55df0aacc47b78208556ede2bf9d23cf379,migrate-to-focal,#test focal,,1,0
openstack%2Fmurano~stable%2Frocky~I24ea16ae4d853829ca34721febf8c834cc42977f,openstack/murano,stable/rocky,I24ea16ae4d853829ca34721febf8c834cc42977f,Fix murano ci UT error,MERGED,2020-08-03 14:11:55.000000000,2020-08-04 01:07:49.000000000,2020-08-04 01:06:33.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:11:55.000000000', 'files': ['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/82dc0eb1e1fd88e491abfaab71fd9812edf736fb', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)\n(cherry picked from commit e7d3719025e4ada235e08915bbb01ec35b6474a0)\n(cherry picked from commit 209d8b7ec353adf1597f7a8e08c20aa29d18efe6)\n'}]",0,744478,82dc0eb1e1fd88e491abfaab71fd9812edf736fb,8,3,1,17685,,,0,"Fix murano ci UT error

Change-Id: I24ea16ae4d853829ca34721febf8c834cc42977f
(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)
(cherry picked from commit e7d3719025e4ada235e08915bbb01ec35b6474a0)
(cherry picked from commit 209d8b7ec353adf1597f7a8e08c20aa29d18efe6)
",git fetch https://review.opendev.org/openstack/murano refs/changes/78/744478/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py']",2,82dc0eb1e1fd88e491abfaab71fd9812edf736fb,," self.override_config('signing_key', False, group='engine') self.override_config('signing_key', False, group='engine')",,5,0
openstack%2Fmurano~stable%2Fstein~I24ea16ae4d853829ca34721febf8c834cc42977f,openstack/murano,stable/stein,I24ea16ae4d853829ca34721febf8c834cc42977f,Fix murano ci UT error,MERGED,2020-08-03 14:09:01.000000000,2020-08-04 01:07:43.000000000,2020-08-04 01:06:34.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:09:01.000000000', 'files': ['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/209d8b7ec353adf1597f7a8e08c20aa29d18efe6', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)\n(cherry picked from commit e7d3719025e4ada235e08915bbb01ec35b6474a0)\n'}]",0,744477,209d8b7ec353adf1597f7a8e08c20aa29d18efe6,8,3,1,17685,,,0,"Fix murano ci UT error

Change-Id: I24ea16ae4d853829ca34721febf8c834cc42977f
(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)
(cherry picked from commit e7d3719025e4ada235e08915bbb01ec35b6474a0)
",git fetch https://review.opendev.org/openstack/murano refs/changes/77/744477/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py']",2,209d8b7ec353adf1597f7a8e08c20aa29d18efe6,," self.override_config('signing_key', False, group='engine') self.override_config('signing_key', False, group='engine')",,5,0
openstack%2Fmurano~stable%2Fqueens~I24ea16ae4d853829ca34721febf8c834cc42977f,openstack/murano,stable/queens,I24ea16ae4d853829ca34721febf8c834cc42977f,Fix murano ci UT error,MERGED,2020-08-03 14:15:01.000000000,2020-08-04 01:04:14.000000000,2020-08-04 01:03:01.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:15:01.000000000', 'files': ['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/e36e91f53ad2f156debae3a2fc8acaad023f4638', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)\n(cherry picked from commit e7d3719025e4ada235e08915bbb01ec35b6474a0)\n(cherry picked from commit 209d8b7ec353adf1597f7a8e08c20aa29d18efe6)\n(cherry picked from commit 82dc0eb1e1fd88e491abfaab71fd9812edf736fb)\n'}]",0,744482,e36e91f53ad2f156debae3a2fc8acaad023f4638,10,3,1,17685,,,0,"Fix murano ci UT error

Change-Id: I24ea16ae4d853829ca34721febf8c834cc42977f
(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)
(cherry picked from commit e7d3719025e4ada235e08915bbb01ec35b6474a0)
(cherry picked from commit 209d8b7ec353adf1597f7a8e08c20aa29d18efe6)
(cherry picked from commit 82dc0eb1e1fd88e491abfaab71fd9812edf736fb)
",git fetch https://review.opendev.org/openstack/murano refs/changes/82/744482/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py']",2,e36e91f53ad2f156debae3a2fc8acaad023f4638,," self.override_config('signing_key', False, group='engine') self.override_config('signing_key', False, group='engine')",,5,0
openstack%2Fkolla-ansible~stable%2Fussuri~Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c,openstack/kolla-ansible,stable/ussuri,Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c,linuxbridge: Fix name of securitygroup section,MERGED,2020-08-03 11:09:54.000000000,2020-08-04 00:26:28.000000000,2020-08-04 00:24:35.000000000,"[{'_account_id': 16984}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-03 11:09:54.000000000', 'files': ['ansible/roles/neutron/templates/linuxbridge_agent.ini.j2', 'doc/source/reference/networking/neutron.rst', 'releasenotes/notes/fix-linuxbridge-secgroups-7e5cae9d630e3db9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/362b797281403994d37606015040fdc3f619cf45', 'message': ""linuxbridge: Fix name of securitygroup section\n\nWith an incorrectly named section, whatever's defined in here is\nactually ignored which can result in unexpected behaviour.\n\nCloses-Bug: 1889455\n\nChange-Id: Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c\nSigned-off-by: Nick Jones <nick@dischord.org>\n(cherry picked from commit 07f67f1b92da1cc75778593fd9d6d3d64430c24c)\n""}]",0,744449,362b797281403994d37606015040fdc3f619cf45,15,5,1,30491,,,0,"linuxbridge: Fix name of securitygroup section

With an incorrectly named section, whatever's defined in here is
actually ignored which can result in unexpected behaviour.

Closes-Bug: 1889455

Change-Id: Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c
Signed-off-by: Nick Jones <nick@dischord.org>
(cherry picked from commit 07f67f1b92da1cc75778593fd9d6d3d64430c24c)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/744449/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/linuxbridge_agent.ini.j2', 'doc/source/reference/networking/neutron.rst', 'releasenotes/notes/fix-linuxbridge-secgroups-7e5cae9d630e3db9.yaml']",3,362b797281403994d37606015040fdc3f619cf45,bug/1889455-stable/ussuri,--- fixes: - | Fixes an issue with the Neutron Linux bridge ML2 driver where the firewall driver configuration was not applied. `LP#1889455 <https://launchpad.net/bugs/1889455>`__ ,,8,2
openstack%2Fzun~stable%2Fussuri~I99f9633ddf84d0b1809bbea87275b68412f7ed6a,openstack/zun,stable/ussuri,I99f9633ddf84d0b1809bbea87275b68412f7ed6a,Pick up cafile from keystone_auth,MERGED,2020-06-30 13:48:07.000000000,2020-08-04 00:24:30.000000000,2020-08-04 00:23:16.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 13:48:07.000000000', 'files': ['zun/common/clients.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/af2bd69f002810ab19d053b83849ff7c9b2ff979', 'message': 'Pick up cafile from keystone_auth\n\nIf ca_file is not specified in client config, use the cafile config\nfrom keystone_auth session.\n\nChange-Id: I99f9633ddf84d0b1809bbea87275b68412f7ed6a\nCloses-Bug: #1885401\n(cherry picked from commit de6d7e08ca5a058449ed20a8850b6425914cdbe8)\n'}]",0,738625,af2bd69f002810ab19d053b83849ff7c9b2ff979,8,2,1,11536,,,0,"Pick up cafile from keystone_auth

If ca_file is not specified in client config, use the cafile config
from keystone_auth session.

Change-Id: I99f9633ddf84d0b1809bbea87275b68412f7ed6a
Closes-Bug: #1885401
(cherry picked from commit de6d7e08ca5a058449ed20a8850b6425914cdbe8)
",git fetch https://review.opendev.org/openstack/zun refs/changes/25/738625/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/clients.py'],1,af2bd69f002810ab19d053b83849ff7c9b2ff979,bug/1885401-stable/ussuri," if self._get_client_option('neutron', 'ca_file'): session.verify = self._get_client_option('neutron', 'ca_file') if self._get_client_option('cinder', 'ca_file'): session.verify = self._get_client_option('cinder', 'ca_file') if self._get_client_option('placement', 'ca_file'): session.verify = self._get_client_option('placement', 'ca_file')"," session.verify = self._get_client_option('neutron', 'ca_file') or True session.verify = self._get_client_option('cinder', 'ca_file') or True session.verify = \ self._get_client_option('placement', 'ca_file') or True",6,4
openstack%2Fzun~stable%2Fstein~I99f9633ddf84d0b1809bbea87275b68412f7ed6a,openstack/zun,stable/stein,I99f9633ddf84d0b1809bbea87275b68412f7ed6a,Pick up cafile from keystone_auth,MERGED,2020-07-01 17:01:31.000000000,2020-08-04 00:24:29.000000000,2020-08-04 00:23:15.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 17:01:31.000000000', 'files': ['zun/common/clients.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/c0817e5930943e7cd4ba195307003d936bf577d6', 'message': 'Pick up cafile from keystone_auth\n\nIf ca_file is not specified in client config, use the cafile config\nfrom keystone_auth session.\n\nChange-Id: I99f9633ddf84d0b1809bbea87275b68412f7ed6a\nCloses-Bug: #1885401\n(cherry picked from commit de6d7e08ca5a058449ed20a8850b6425914cdbe8)\n'}]",0,738897,c0817e5930943e7cd4ba195307003d936bf577d6,9,2,1,11536,,,0,"Pick up cafile from keystone_auth

If ca_file is not specified in client config, use the cafile config
from keystone_auth session.

Change-Id: I99f9633ddf84d0b1809bbea87275b68412f7ed6a
Closes-Bug: #1885401
(cherry picked from commit de6d7e08ca5a058449ed20a8850b6425914cdbe8)
",git fetch https://review.opendev.org/openstack/zun refs/changes/97/738897/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/clients.py'],1,c0817e5930943e7cd4ba195307003d936bf577d6,bug/1885401," if self._get_client_option('neutron', 'ca_file'): session.verify = self._get_client_option('neutron', 'ca_file') if self._get_client_option('cinder', 'ca_file'): session.verify = self._get_client_option('cinder', 'ca_file')"," session.verify = self._get_client_option('neutron', 'ca_file') or True session.verify = self._get_client_option('cinder', 'ca_file') or True",4,2
openstack%2Fzun~stable%2Ftrain~I99f9633ddf84d0b1809bbea87275b68412f7ed6a,openstack/zun,stable/train,I99f9633ddf84d0b1809bbea87275b68412f7ed6a,Pick up cafile from keystone_auth,MERGED,2020-06-30 13:48:14.000000000,2020-08-04 00:24:22.000000000,2020-08-04 00:23:17.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 13:48:14.000000000', 'files': ['zun/common/clients.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/fe070787095c2ddc21b4303ce47252c823eacb9d', 'message': 'Pick up cafile from keystone_auth\n\nIf ca_file is not specified in client config, use the cafile config\nfrom keystone_auth session.\n\nChange-Id: I99f9633ddf84d0b1809bbea87275b68412f7ed6a\nCloses-Bug: #1885401\n(cherry picked from commit de6d7e08ca5a058449ed20a8850b6425914cdbe8)\n'}]",0,738626,fe070787095c2ddc21b4303ce47252c823eacb9d,7,2,1,11536,,,0,"Pick up cafile from keystone_auth

If ca_file is not specified in client config, use the cafile config
from keystone_auth session.

Change-Id: I99f9633ddf84d0b1809bbea87275b68412f7ed6a
Closes-Bug: #1885401
(cherry picked from commit de6d7e08ca5a058449ed20a8850b6425914cdbe8)
",git fetch https://review.opendev.org/openstack/zun refs/changes/26/738626/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/clients.py'],1,fe070787095c2ddc21b4303ce47252c823eacb9d,bug/1885401-stable/ussuri-stable/train," if self._get_client_option('neutron', 'ca_file'): session.verify = self._get_client_option('neutron', 'ca_file') if self._get_client_option('cinder', 'ca_file'): session.verify = self._get_client_option('cinder', 'ca_file') if self._get_client_option('placement', 'ca_file'): session.verify = self._get_client_option('placement', 'ca_file')"," session.verify = self._get_client_option('neutron', 'ca_file') or True session.verify = self._get_client_option('cinder', 'ca_file') or True session.verify = \ self._get_client_option('placement', 'ca_file') or True",6,4
openstack%2Fnova~stable%2Fpike~I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe,openstack/nova,stable/pike,I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe,Fix false ERROR message at compute restart,MERGED,2019-12-17 20:42:48.000000000,2020-08-03 23:55:10.000000000,2020-08-03 23:55:10.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-12-17 20:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cab396a54094064d2b85ceb7f04004cbd40707b2', 'message': 'Fix false ERROR message at compute restart\n\nIf an empty compute is restarted a false ERROR message was printed in\nthe log as the placement report client does not distinguish between\nerror from placement from empty allocation dict from placement.\n\nThis patch changes get_allocations_for_resource_provider to return None\nin case of error instead of an empty dict. This is in line with\n@safe_connect that would make the call return None as well. The\n_error_out_instances_whose_build_was_interrupted also is changed to check\nfor None instead of empty dict before reporting the ERROR. The only\nother caller of get_allocations_for_resource_provider was already\nchecking for None and converting it to an empty dict so from that caller\nperspective this is compatible change on the report client.\n\nThis is stable only change as get_allocations_for_resource_provider was\nimproved during stein[1] to raise on placement error.\n\n[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1\n\nConflicts:\n      nova/compute/manager.py\n\nNOTE(mriedem): The conflict and changes to test_compute_mgr.py\nare due to not having change I7891b98f225f97ad47f189afb9110ef31c810717\nin Pike which added the context argument to method\nget_allocations_for_resource_provider.\n\nChange-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe\nCloses-Bug: #1852759\n(cherry picked from commit 64f797a0514b0276540d4f6c28cb290383088e35)\n(cherry picked from commit 4fcb7816bc88fd513debe70b95aa60bff74e37fb)\n'}, {'number': 2, 'created': '2020-01-16 16:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3e0fde9e9b23bdea1e4b4656b3ab1614a3e34f4', 'message': 'Fix false ERROR message at compute restart\n\nIf an empty compute is restarted a false ERROR message was printed in\nthe log as the placement report client does not distinguish between\nerror from placement from empty allocation dict from placement.\n\nThis patch changes get_allocations_for_resource_provider to return None\nin case of error instead of an empty dict. This is in line with\n@safe_connect that would make the call return None as well. The\n_error_out_instances_whose_build_was_interrupted also is changed to check\nfor None instead of empty dict before reporting the ERROR. The only\nother caller of get_allocations_for_resource_provider was already\nchecking for None and converting it to an empty dict so from that caller\nperspective this is compatible change on the report client.\n\nThis is stable only change as get_allocations_for_resource_provider was\nimproved during stein[1] to raise on placement error.\n\n[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1\n\nConflicts:\n      nova/compute/manager.py\n\nNOTE(mriedem): The conflict and changes to test_compute_mgr.py\nare due to not having change I7891b98f225f97ad47f189afb9110ef31c810717\nin Pike which added the context argument to method\nget_allocations_for_resource_provider.\n\nChange-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe\nCloses-Bug: #1852759\n(cherry picked from commit 64f797a0514b0276540d4f6c28cb290383088e35)\n(cherry picked from commit 4fcb7816bc88fd513debe70b95aa60bff74e37fb)\n'}, {'number': 3, 'created': '2020-04-18 16:24:06.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/511b3b0a446694dbd9fc97a4b5a4263b2bfab2fb', 'message': 'Fix false ERROR message at compute restart\n\nIf an empty compute is restarted a false ERROR message was printed in\nthe log as the placement report client does not distinguish between\nerror from placement from empty allocation dict from placement.\n\nThis patch changes get_allocations_for_resource_provider to return None\nin case of error instead of an empty dict. This is in line with\n@safe_connect that would make the call return None as well. The\n_error_out_instances_whose_build_was_interrupted also is changed to check\nfor None instead of empty dict before reporting the ERROR. The only\nother caller of get_allocations_for_resource_provider was already\nchecking for None and converting it to an empty dict so from that caller\nperspective this is compatible change on the report client.\n\nThis is stable only change as get_allocations_for_resource_provider was\nimproved during stein[1] to raise on placement error.\n\n[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1\n\nConflicts:\n      nova/compute/manager.py\n\nNOTE(mriedem): The conflict and changes to test_compute_mgr.py\nare due to not having change I7891b98f225f97ad47f189afb9110ef31c810717\nin Pike which added the context argument to method\nget_allocations_for_resource_provider.\n\nChange-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe\nCloses-Bug: #1852759\n(cherry picked from commit 64f797a0514b0276540d4f6c28cb290383088e35)\n(cherry picked from commit 4fcb7816bc88fd513debe70b95aa60bff74e37fb)\n'}]",1,699496,511b3b0a446694dbd9fc97a4b5a4263b2bfab2fb,57,10,3,6873,,,0,"Fix false ERROR message at compute restart

If an empty compute is restarted a false ERROR message was printed in
the log as the placement report client does not distinguish between
error from placement from empty allocation dict from placement.

This patch changes get_allocations_for_resource_provider to return None
in case of error instead of an empty dict. This is in line with
@safe_connect that would make the call return None as well. The
_error_out_instances_whose_build_was_interrupted also is changed to check
for None instead of empty dict before reporting the ERROR. The only
other caller of get_allocations_for_resource_provider was already
checking for None and converting it to an empty dict so from that caller
perspective this is compatible change on the report client.

This is stable only change as get_allocations_for_resource_provider was
improved during stein[1] to raise on placement error.

[1]I020e7dc47efc79f8907b7bfb753ec779a8da69a1

Conflicts:
      nova/compute/manager.py

NOTE(mriedem): The conflict and changes to test_compute_mgr.py
are due to not having change I7891b98f225f97ad47f189afb9110ef31c810717
in Pike which added the context argument to method
get_allocations_for_resource_provider.

Change-Id: I6042e493144d4d5a29ec6ab23ffed6b3e7f385fe
Closes-Bug: #1852759
(cherry picked from commit 64f797a0514b0276540d4f6c28cb290383088e35)
(cherry picked from commit 4fcb7816bc88fd513debe70b95aa60bff74e37fb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/699496/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/scheduler/client/report.py', 'nova/compute/manager.py']",3,cab396a54094064d2b85ceb7f04004cbd40707b2,bug/1833581, if allocations is None:, if not allocations:,76,2
openstack%2Fnova~stable%2Fqueens~I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,openstack/nova,stable/queens,I04717b95dd44ae89f24bd74525d1c9607e3bc0fc,zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full,MERGED,2020-07-23 13:35:28.000000000,2020-08-03 23:55:03.000000000,2020-08-03 23:55:03.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-23 13:35:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/a167dfc06e3570e23375463504f415ea6f74741c', 'message': 'zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\n\nThe job was part of the neutron experimental queue but then removed\nduring the ussuri lifecycle.\nSee https://review.opendev.org/#/c/693630/\n\nConflicts:\n\t.zuul.yaml\nThe content of .zuul.yaml changed slightly.\n\nChange-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc\n(cherry picked from commit bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63)\n(cherry picked from commit cf399a363ca530151895c4b7cf49ad7b2a79e01b)\n(cherry picked from commit b1ead1fb2adf25493e5cab472d529fde31f985f0)\n(cherry picked from commit 7b005f37853a56e3ec6da455008fa5ef0d03c21b)\n(cherry picked from commit e3093d42f46af810f316421a9b59eafe94039807)\n'}]",0,742668,a167dfc06e3570e23375463504f415ea6f74741c,11,7,1,10459,,,0,"zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full

The job was part of the neutron experimental queue but then removed
during the ussuri lifecycle.
See https://review.opendev.org/#/c/693630/

Conflicts:
	.zuul.yaml
The content of .zuul.yaml changed slightly.

Change-Id: I04717b95dd44ae89f24bd74525d1c9607e3bc0fc
(cherry picked from commit bce4a3ab97320bdc2a6a43e2a961a0aa0b8ffb63)
(cherry picked from commit cf399a363ca530151895c4b7cf49ad7b2a79e01b)
(cherry picked from commit b1ead1fb2adf25493e5cab472d529fde31f985f0)
(cherry picked from commit 7b005f37853a56e3ec6da455008fa5ef0d03c21b)
(cherry picked from commit e3093d42f46af810f316421a9b59eafe94039807)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/742668/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a167dfc06e3570e23375463504f415ea6f74741c,native-zuulv3-migration,, - legacy-tempest-dsvm-neutron-dvr-multinode-full: irrelevant-files: - ^(placement-)?api-.*$ - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^.git.*$ - ^doc/.*$ - ^nova/hacking/.*$ - ^nova/locale/.*$ - ^nova/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tests-py3.txt$ - ^tools/.*$ - ^tox.ini$,0,15
openstack%2Ftrove~stable%2Fussuri~I44e134efbd5939962a508468584defcf4cb4c0c5,openstack/trove,stable/ussuri,I44e134efbd5939962a508468584defcf4cb4c0c5,Do not operate floating IP for relication cluster,MERGED,2020-08-02 09:50:27.000000000,2020-08-03 23:26:57.000000000,2020-08-03 23:20:29.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-02 09:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d8f143b5e17b799402082ea2f2b10cfdd1ee287d', 'message': 'Do not operate floating IP for relication cluster\n\nChange-Id: I44e134efbd5939962a508468584defcf4cb4c0c5\n'}, {'number': 2, 'created': '2020-08-03 09:12:11.000000000', 'files': ['.zuul.yaml', 'trove/taskmanager/manager.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/695a63e228548349cfc8d7ced75ecc53e1b1f984', 'message': 'Do not operate floating IP for relication cluster\n\nChange-Id: I44e134efbd5939962a508468584defcf4cb4c0c5\n'}]",1,744371,695a63e228548349cfc8d7ced75ecc53e1b1f984,9,2,2,6732,,,0,"Do not operate floating IP for relication cluster

Change-Id: I44e134efbd5939962a508468584defcf4cb4c0c5
",git fetch https://review.opendev.org/openstack/trove refs/changes/71/744371/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/taskmanager/manager.py', 'trove/taskmanager/models.py', 'trove/tests/unittests/taskmanager/test_models.py']",3,d8f143b5e17b799402082ea2f2b10cfdd1ee287d,ussuri-replication-floatingip,," def test_get_floating_ips(self): floating_ips = self.instance_task._get_floating_ips() self.assertEqual({'192.168.10.1': 'fake-floatingip-id'}, floating_ips) @patch.object(BaseInstance, 'get_visible_ip_addresses', return_value=['192.168.10.1']) def test_detach_public_ips(self, mock_address): removed_ips = self.instance_task.detach_public_ips() self.assertEqual(['fake-floatingip-id'], removed_ips) mock_update_floatingip = (self.instance_task.neutron_client .update_floatingip) mock_update_floatingip.assert_called_once_with( removed_ips[0], {'floatingip': {'port_id': None}}) def test_attach_public_ips(self): self.instance_task.attach_public_ips(['fake-floatingip-id']) mock_list_ports = (self.instance_task.neutron_client .list_ports) mock_list_ports.assert_called_once_with(device_id='computeinst-id-1') mock_update_floatingip = (self.instance_task.neutron_client .update_floatingip) mock_update_floatingip.assert_called_once_with( 'fake-floatingip-id', {'floatingip': {'port_id': 'fake-port-id', 'fixed_ip_address': '10.0.0.1'}}) ",2,83
openstack%2Fironic-python-agent~stable%2Fussuri~I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,openstack/ironic-python-agent,stable/ussuri,I4b0be2b0755108490f9cd3c4f3b71a5e036761a1,Ignore devices with size 0 when collecting inventory,MERGED,2020-07-15 12:54:45.000000000,2020-08-03 23:20:37.000000000,2020-08-03 23:10:08.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 12:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/bcb6deee45274a59491e4a5d1244828bda6650a9', 'message': 'Ignore devices with size 0 when collecting inventory\n\ndelete_configuration still fetches all devices as it needs to clean\nones with broken RAID.\n\nStory: #2007907\nTask: #40307\nChange-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1\n(cherry picked from commit 1f3b70c4e968464a93ea68e6f64c4836b90446de)\n'}, {'number': 2, 'created': '2020-07-28 07:24:08.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/458dc2cc043f99a3ed48f5d42d138700b530924f', 'message': 'Ignore devices with size 0 when collecting inventory\n\ndelete_configuration still fetches all devices as it needs to clean\nones with broken RAID.\n\nStory: #2007907\nTask: #40307\nChange-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1\n(cherry picked from commit 1f3b70c4e968464a93ea68e6f64c4836b90446de)\n'}]",0,741171,458dc2cc043f99a3ed48f5d42d138700b530924f,27,5,2,10239,,,0,"Ignore devices with size 0 when collecting inventory

delete_configuration still fetches all devices as it needs to clean
ones with broken RAID.

Story: #2007907
Task: #40307
Change-Id: I4b0be2b0755108490f9cd3c4f3b71a5e036761a1
(cherry picked from commit 1f3b70c4e968464a93ea68e6f64c4836b90446de)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/741171/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/zero-size-78d3be2ac8fd59c2.yaml', 'ironic_python_agent/tests/unit/test_hardware.py']",3,bcb6deee45274a59491e4a5d1244828bda6650a9,zero-size-stable/ussuri," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""\n' 'KNAME=""sdf"" MODEL=""virtual floppy"" SIZE=""0"" ROTA=""1"" TYPE=""disk""' 'ROTA=""0"" TYPE=""raid1""\n' 'KNAME=""md1"" MODEL=""RAID"" SIZE="""" ROTA=""0"" TYPE=""raid1""' hardware.BlockDevice(name='/dev/md1', model='RAID', size=0, rotational=False, vendor=""FooTastic""), result = hardware.list_all_block_devices(ignore_empty=False)"," 'KNAME=""fd1"" MODEL=""magic"" SIZE=""4096"" ROTA=""1"" TYPE=""disk""' 'ROTA=""0"" TYPE=""raid1""' result = hardware.list_all_block_devices()",25,5
openstack%2Fironic-python-agent~stable%2Fussuri~Ic82fc9dc7b658dab52c06b3619a0118acd111bc5,openstack/ironic-python-agent,stable/ussuri,Ic82fc9dc7b658dab52c06b3619a0118acd111bc5,Update jobs,MERGED,2020-07-27 14:46:41.000000000,2020-08-03 23:18:24.000000000,2020-08-03 23:10:07.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 14:46:41.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fd02912f6eddda6c9565530f985c77c01873a5c4', 'message': ""Update jobs\n\n- Increase the number of VM's since we are running two tests.\n- Do no run ipa-tempest-wholedisk-* (the partition jobs are covering\nthis since tempest runs wholedisk and partition tests)\n- Remove `partition` from the job names\n\nChange-Id: Ic82fc9dc7b658dab52c06b3619a0118acd111bc5\n(cherry picked from commit 6bde89e4dd8403c98885963cb3f2aa983f852acc)\n""}]",0,743248,fd02912f6eddda6c9565530f985c77c01873a5c4,8,4,1,23851,,,0,"Update jobs

- Increase the number of VM's since we are running two tests.
- Do no run ipa-tempest-wholedisk-* (the partition jobs are covering
this since tempest runs wholedisk and partition tests)
- Remove `partition` from the job names

Change-Id: Ic82fc9dc7b658dab52c06b3619a0118acd111bc5
(cherry picked from commit 6bde89e4dd8403c98885963cb3f2aa983f852acc)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/48/743248/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml']",2,fd02912f6eddda6c9565530f985c77c01873a5c4,, # NOTE(iurygregory) Only run this two jobs since we are testing # wholedisk + partition on tempest - ipa-tempest-bios-ipmi-direct-tinyipa-src - ipa-tempest-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-bios-ipmi-direct-tinyipa-src - ipa-tempest-bios-ipmi-iscsi-tinyipa-src, - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-partition-bios-ipmi-direct-tinyipa-src - ipa-tempest-partition-bios-ipmi-iscsi-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-direct-tinyipa-src - ipa-tempest-wholedisk-bios-ipmi-iscsi-tinyipa-src,16,8
openstack%2Fopenstack-helm-infra~master~Icd3d0711fb530b77d049227b09904c433e26dc78,openstack/openstack-helm-infra,master,Icd3d0711fb530b77d049227b09904c433e26dc78,Fix overrides diff,MERGED,2020-08-01 02:53:33.000000000,2020-08-03 23:17:15.000000000,2020-08-03 23:05:18.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 02:53:33.000000000', 'files': ['roles/override-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf90f32e8b0691477544063d9bdd081c0c3cfc46', 'message': 'Fix overrides diff\n\nCheck proper path.\n\nChange-Id: Icd3d0711fb530b77d049227b09904c433e26dc78\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,744269,cf90f32e8b0691477544063d9bdd081c0c3cfc46,8,4,1,8863,,,0,"Fix overrides diff

Check proper path.

Change-Id: Icd3d0711fb530b77d049227b09904c433e26dc78
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/69/744269/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/override-images/tasks/main.yaml'],1,cf90f32e8b0691477544063d9bdd081c0c3cfc46,," if [ ! -d ""${path}"" ]; then continue; fi"," if [ ! -d ""${dir}"" ]; then continue; fi",1,1
openstack%2Fopenstack-helm-infra~master~Ie85e2ba116ab399c65844e0bb66eecc66f6d9c90,openstack/openstack-helm-infra,master,Ie85e2ba116ab399c65844e0bb66eecc66f6d9c90,Remove updateStrategy of childresources of DaemonJobController.,MERGED,2020-07-30 18:52:30.000000000,2020-08-03 22:45:10.000000000,2020-08-03 22:43:39.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 18:52:30.000000000', 'files': ['daemonjob-controller/templates/composite-controller.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1cfa6190971edcbf57b697db34257f34441250d6', 'message': 'Remove updateStrategy of childresources of DaemonJobController.\n\nchange updateStrategy from Inplace to default onDelete.\n\nChange-Id: Ie85e2ba116ab399c65844e0bb66eecc66f6d9c90\n'}]",0,744031,1cfa6190971edcbf57b697db34257f34441250d6,12,4,1,31482,,,0,"Remove updateStrategy of childresources of DaemonJobController.

change updateStrategy from Inplace to default onDelete.

Change-Id: Ie85e2ba116ab399c65844e0bb66eecc66f6d9c90
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/31/744031/1 && git format-patch -1 --stdout FETCH_HEAD,['daemonjob-controller/templates/composite-controller.yaml'],1,1cfa6190971edcbf57b697db34257f34441250d6,daemonjob-controller,, updateStrategy: method: InPlace,0,2
openstack%2Fironic-python-agent-builder~master~I1b5797b030ef896ad4b2a95a504a0215ca6ee574,openstack/ironic-python-agent-builder,master,I1b5797b030ef896ad4b2a95a504a0215ca6ee574,Support installing with Python 3 on CentOS 7,MERGED,2020-07-31 15:14:54.000000000,2020-08-03 22:45:04.000000000,2020-08-03 22:41:58.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-31 15:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/d507a4695fb4d3bdfd5fd64fd61eddb79768cd29', 'message': ""Support installing with Python 3 on CentOS 7\n\nRHEL/CentOS 8 dropped support for some older hardware that is still\nin use. Since CentOS 7 has Python 3, let's support it for now.\n\nChange-Id: I1b5797b030ef896ad4b2a95a504a0215ca6ee574\n""}, {'number': 2, 'created': '2020-07-31 15:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/73b3633e9b3d706722aaa2db8381cdd48336bd2d', 'message': ""Support installing with Python 3 on CentOS 7\n\nRHEL/CentOS 8 dropped support for some older hardware that is still\nin use. Since CentOS 7 has Python 3, let's support it for now.\n\nChange-Id: I1b5797b030ef896ad4b2a95a504a0215ca6ee574\n""}, {'number': 3, 'created': '2020-07-31 15:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ea547e7f1f2e4f51b3dee65313116c6b22fb5108', 'message': ""Support installing with Python 3 on CentOS 7\n\nRHEL/CentOS 8 dropped support for some older hardware that is still\nin use. Since CentOS 7 has Python 3, let's support it for now.\n\nChange-Id: I1b5797b030ef896ad4b2a95a504a0215ca6ee574\n""}, {'number': 4, 'created': '2020-07-31 16:12:37.000000000', 'files': ['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install', 'releasenotes/notes/centos7-python3-185f1d35c37096c7.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a28b8fa5bc49bf8452c5e8f8fdf39f5f09e46ff2', 'message': ""Support installing with Python 3 on CentOS 7\n\nRHEL/CentOS 8 dropped support for some older hardware that is still\nin use. Since CentOS 7 has Python 3, let's support it for now.\n\nAlso fixes an issue with C.UTF-8 locale which does not seem to work on\nCentOS 7 (and actually causes a failure with newer python packages).\n\nChange-Id: I1b5797b030ef896ad4b2a95a504a0215ca6ee574\n""}]",1,744197,a28b8fa5bc49bf8452c5e8f8fdf39f5f09e46ff2,14,4,4,10239,,,0,"Support installing with Python 3 on CentOS 7

RHEL/CentOS 8 dropped support for some older hardware that is still
in use. Since CentOS 7 has Python 3, let's support it for now.

Also fixes an issue with C.UTF-8 locale which does not seem to work on
CentOS 7 (and actually causes a failure with newer python packages).

Change-Id: I1b5797b030ef896ad4b2a95a504a0215ca6ee574
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/97/744197/4 && git format-patch -1 --stdout FETCH_HEAD,"['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install', 'releasenotes/notes/centos7-python3-185f1d35c37096c7.yaml', '.zuul.yaml']",3,d507a4695fb4d3bdfd5fd64fd61eddb79768cd29,centos7-python3, name: ironic-python-agent-build-image-dib-centos7-train name: ironic-python-agent-build-image-dib-centos7 parent: ironic-python-agent-build-image-base required-projects: - openstack/diskimage-builder vars: image_type: 'dib' image_distro: 'centos7' - job: - ironic-python-agent-check-image-dib-centos7-train - ironic-python-agent-check-image-dib-centos7: voting: false - ironic-python-agent-check-image-dib-centos7-train, name: ironic-python-agent-build-image-dib-centos7 - ironic-python-agent-check-image-dib-centos7 - ironic-python-agent-check-image-dib-centos7,36,6
openstack%2Ftripleo-heat-templates~master~I02d577939b0002b0e605ac0cbbda54e05e0b206f,openstack/tripleo-heat-templates,master,I02d577939b0002b0e605ac0cbbda54e05e0b206f,Add new Luna HSM parameter for Barbican,MERGED,2020-05-05 14:58:23.000000000,2020-08-03 22:39:57.000000000,2020-08-03 22:39:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 7973}, {'_account_id': 9592}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-05-05 14:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa41c5cfb3abde0390cb54a2c902390277378921', 'message': 'WIP - Add HSM network parameter\n\nThe new parameter allows you to specify the network for the HSM.\nTripleoO will then pass the IP for the controller on that network as\nthe client IP to the underlying ansible module.\n\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n'}, {'number': 2, 'created': '2020-07-13 20:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a9391728cf1828c6a1b8908715450384cfe1792', 'message': ""Add new Luna HSM parameters for Barbican\n\nThis patch adds two parameters for deploying Barbican with\na Thales Luna Network HSM.\n\nLunaUseIPsFromNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on a given\nnetwork instead of its fqdn.\n\nLunasaRotateNTLClientCerts can be used to create new client\ncertificates on every controller node and re-register them\nwith the new certificate.\n\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 3, 'created': '2020-07-13 20:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/790ff0b62fb4b31056dedb3ba7a65b8e41c4f604', 'message': ""Add new Luna HSM parameters for Barbican\n\nThis patch adds two parameters for deploying Barbican with\na Thales Luna Network HSM.\n\nLunaUseIPsFromNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on a given\nnetwork instead of its fqdn.\n\nLunasaRotateNTLClientCerts can be used to create new client\ncertificates on every controller node and re-register them\nwith the new certificate.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 4, 'created': '2020-07-14 15:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/413e211890be25fd82c69468b0b6b5e187d394e3', 'message': ""Add new Luna HSM parameters for Barbican\n\nThis patch adds two parameters for deploying Barbican with\na Thales Luna Network HSM.\n\nLunaUseIPsFromNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on a given\nnetwork instead of its fqdn.\n\nLunasaRotateNTLClientCerts can be used to create new client\ncertificates on every controller node and re-register them\nwith the new certificate.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 5, 'created': '2020-07-14 21:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2cda680400e7a68ad22c121c8f4bd98ba5d03796', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 6, 'created': '2020-07-15 13:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a95e4412a1e13b1eaeedea5b0bdd14b2bdf391fc', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 7, 'created': '2020-07-22 14:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8509e10f5539cd1726db253d72d3af23c2ae869a', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 8, 'created': '2020-07-24 19:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d2ce081f11fe39fc66025eb5a8b18390d800718c', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 9, 'created': '2020-07-27 15:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c33f3bb08ce2c653de953d6435ace3938d45e4b3', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 10, 'created': '2020-07-28 19:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bd6ca2850412545ba6c2fc7be7e17f01b7ec861', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 11, 'created': '2020-07-29 15:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29c3691362c2ed47e18334b7dd67a89580e15864', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 12, 'created': '2020-07-30 15:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1382e0c2dac6c607bd1e1be3a11ebca32a26316e', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}, {'number': 13, 'created': '2020-07-31 15:50:28.000000000', 'files': ['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ead85251e95ce69ef64237905ace970fe406a06a', 'message': ""Add new Luna HSM parameter for Barbican\n\nThis patch adds a new parameter for deploying Barbican with\na Thales Luna Network HSM (LunasaClientIPNetwork).\n\nLunasaClientIPNetwork can be used to register controller nodes\nwith the HSM using the controller's IP address on the given\nnetwork instead of its fqdn.\n\nCo-Authored-By: Ade Lee <alee@redhat.com>\nDepends-On: If0eb393ca970206cc95c7453641f33781eb698b2\nChange-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f\n""}]",8,725622,ead85251e95ce69ef64237905ace970fe406a06a,51,10,13,9914,,,0,"Add new Luna HSM parameter for Barbican

This patch adds a new parameter for deploying Barbican with
a Thales Luna Network HSM (LunasaClientIPNetwork).

LunasaClientIPNetwork can be used to register controller nodes
with the HSM using the controller's IP address on the given
network instead of its fqdn.

Co-Authored-By: Ade Lee <alee@redhat.com>
Depends-On: If0eb393ca970206cc95c7453641f33781eb698b2
Change-Id: I02d577939b0002b0e605ac0cbbda54e05e0b206f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/725622/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/barbican-backend-pkcs11-lunasa.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml']",2,fa41c5cfb3abde0390cb54a2c902390277378921,add_barbican_lunasa," LunasaHSMNetworkName: description: Network to be used to connect to the HSM type: string default: '' lunasa_hsm_network_unset: {equals : [{get_param: LunasaHSMNetworkName}, '']} if: - lunasa_hsm_network_unset: - {get_param: LunasaVars} - map_merge: - {get_param: LunasaVars} - lunasa_client_ip: str_replace: template: ""{{$NETWORK_ip}}"" params: $NETWORK: {get_param: LunasaHSMNetworkName} ", {get_param: LunasaVars},23,2
openstack%2Fpuppet-keystone~master~I1b0b66424d98b9181153e98f4b623ef30e8e1d09,openstack/puppet-keystone,master,I1b0b66424d98b9181153e98f4b623ef30e8e1d09,Add support for trust_flush cron job,MERGED,2020-07-05 23:33:31.000000000,2020-08-03 22:22:10.000000000,2020-07-06 16:49:59.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 23:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b38853feb6b6b295476a2fb18b50500e8cf2e9e8', 'message': 'Add support for trust_flush cron job\n\nThis patch introcues a new class, keystone::cron::trust_flush, so that\noperators can configure a cron job to flush expired or soft deleted\ntrusts[1] periodically.\n\n[1] https://github.com/openstack/keystone/commit/8232dabcf9cf182c4dc34eafecbe5b60b2438ed1\n\nChange-Id: I1b0b66424d98b9181153e98f4b623ef30e8e1d09\n'}, {'number': 2, 'created': '2020-07-06 09:59:59.000000000', 'files': ['manifests/cron/trust_flush.pp', 'spec/classes/keystone_cron_trust_flush_spec.rb', 'releasenotes/notes/cron-trust_flush-9a85af706076f55d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4cca2330a273f68052c8b97e0ba56ae81a45802f', 'message': 'Add support for trust_flush cron job\n\nThis patch introcues a new class, keystone::cron::trust_flush, so that\noperators can configure a cron job to flush expired or soft deleted\ntrusts[1] periodically.\n\n[1] https://github.com/openstack/keystone/commit/8232dabcf9cf182c4dc34eafecbe5b60b2438ed1\n\nChange-Id: I1b0b66424d98b9181153e98f4b623ef30e8e1d09\n'}]",0,739378,4cca2330a273f68052c8b97e0ba56ae81a45802f,12,3,2,9816,,,0,"Add support for trust_flush cron job

This patch introcues a new class, keystone::cron::trust_flush, so that
operators can configure a cron job to flush expired or soft deleted
trusts[1] periodically.

[1] https://github.com/openstack/keystone/commit/8232dabcf9cf182c4dc34eafecbe5b60b2438ed1

Change-Id: I1b0b66424d98b9181153e98f4b623ef30e8e1d09
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/78/739378/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/trust_flush.pp', 'spec/classes/keystone_cron_trust_flush_spec.rb', 'releasenotes/notes/cron-trust_flush-9a85af706076f55d.yaml']",3,b38853feb6b6b295476a2fb18b50500e8cf2e9e8,trust-flush,--- features: - | The new ``keystone::cron::trust_flush`` class was added to configure a cron job to purge expired or soft-deleted trusts. ,,166,0
openstack%2Fironic~master~I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,openstack/ironic,master,I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc,Pin ironic-tempest-plugin,ABANDONED,2020-08-03 22:11:22.000000000,2020-08-03 22:19:41.000000000,,"[{'_account_id': 14629}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-08-03 22:11:22.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7eb224f418ac69ea43b6742f034a667430ca575', 'message': 'Pin ironic-tempest-plugin\n\nThis commit pins ironic-tempest-plugin to 1.5.1 since rocky needs\nto support py2 and py3\n\nChange-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc\n(cherry picked from commit 145caf86f1b26887eb76570594b4bc7611a4f10c)\n'}]",0,744564,a7eb224f418ac69ea43b6742f034a667430ca575,5,3,1,15519,,,0,"Pin ironic-tempest-plugin

This commit pins ironic-tempest-plugin to 1.5.1 since rocky needs
to support py2 and py3

Change-Id: I110017d0b9c26551bf66c0aeefdd84ba0dd34bcc
(cherry picked from commit 145caf86f1b26887eb76570594b4bc7611a4f10c)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/744564/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/legacy-ironic-jobs.yaml']",2,a7eb224f418ac69ea43b6742f034a667430ca575,,"- job: name: legacy-ironic-dsvm-base parent: legacy-dsvm-base irrelevant-files: - ^driver-requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^install-guide/.*$ - ^ironic/locale/.*$ - ^ironic/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ # NOTE: When adding to 'required-projects' also need to add a corresponding # ""export PROJECTS=..."" line in all the playbooks/legacy/*/run.yaml files required-projects: - openstack/ironic - openstack/ironic-lib - openstack/ironic-python-agent - name: openstack/ironic-tempest-plugin: override-checkout: 1.5.1 - openstack/python-ironicclient pre-run: playbooks/legacy/ironic-dsvm-base/pre.yaml post-run: playbooks/legacy/ironic-dsvm-base/post.yaml - name: openstack/ironic-tempest-plugin: override-checkout: 1.5.1- job: name: ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode parent: legacy-ironic-dsvm-base-multinode run: playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml timeout: 10800 nodeset: legacy-ubuntu-xenial-2-node - job: name: ironic-tempest-dsvm-bfv parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-bfv/run.yaml timeout: 9600 - job: name: ironic-tempest-dsvm-ironic-inspector parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-inspector/run.yaml timeout: 10800 required-projects: - openstack/devstack-gate - openstack/ironic - openstack/ironic-inspector - openstack/ironic-lib - openstack/ironic-python-agent - openstack/python-ironic-inspector-client - openstack/python-ironicclient - openstack/tempest # TODO(TheJulia): When we migrate to a non-legacy job, we will need to set the BUILD_TIMEOUT # and the DEVSTACK_GATE_TEMPEST_BAREMETAL_BUILD_TIMEOUT to 1200 seconds to prevent # needless CI job timeouts as the scale of the job is greater than a normal test jobs. - job: name: ironic-grenade-dsvm parent: legacy-ironic-dsvm-base run: playbooks/legacy/grenade-dsvm-ironic/run.yaml timeout: 10800 required-projects: - openstack/grenade - openstack/devstack-gate - openstack/ironic - openstack/ironic-lib - openstack/ironic-python-agent - openstack/python-ironicclient nodeset: legacy-ubuntu-xenial-2-node - job: name: ironic-dsvm-functional parent: legacy-ironic-dsvm-base run: playbooks/legacy/ironic-dsvm-functional/run.yaml timeout: 4800 required-projects: - openstack/devstack-gate - openstack/ironic - openstack/ironic-python-agent - job: name: ironic-tempest-dsvm-parallel parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-parallel/run.yaml timeout: 10800 required-projects: - openstack/devstack-gate - recordsansible/ara - openstack/ironic - openstack/ironic-lib - openstack/ironic-python-agent - openstack/python-ironicclient - openstack/tempest - job: name: ironic-tempest-dsvm-pxe_ipa-full parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml timeout: 9600 - job: name: ironic-tempest-dsvm-functional-python2 parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-functional-python2/run.yaml timeout: 5400 - job: name: ironic-tempest-dsvm-functional-python3 parent: legacy-ironic-dsvm-base run: playbooks/legacy/tempest-dsvm-ironic-functional-python3/run.yaml timeout: 5400", - openstack/ironic-tempest-plugin - openstack/virtualbmc - openstack/virtualbmc,119,5
openstack%2Fpuppet-tripleo~stable%2Ftrain~I1ac5c0dfb42d894896d77d9af1657c72cd27d835,openstack/puppet-tripleo,stable/train,I1ac5c0dfb42d894896d77d9af1657c72cd27d835,Update Gemfile for stable/train,ABANDONED,2020-07-17 02:48:20.000000000,2020-08-03 22:03:27.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 02:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c18bb868fbe4bca98abc010a78aa75a28331d7bf', 'message': '[Train only] Use openstack_spec_helper stable/train\n\nChange-Id: I1ac5c0dfb42d894896d77d9af1657c72cd27d835\n'}, {'number': 2, 'created': '2020-07-17 02:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4e041bafc5fe8b3db6c64ddadb8539f9d83876d8', 'message': 'Update Gemfile for stable/train\n\nChange-Id: I1ac5c0dfb42d894896d77d9af1657c72cd27d835\n'}, {'number': 3, 'created': '2020-08-03 14:50:23.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/081997d829b33e85a52782fafe5899855a27236c', 'message': 'Update Gemfile for stable/train\n\nChange-Id: I1ac5c0dfb42d894896d77d9af1657c72cd27d835\n'}]",0,741572,081997d829b33e85a52782fafe5899855a27236c,13,5,3,9816,,,0,"Update Gemfile for stable/train

Change-Id: I1ac5c0dfb42d894896d77d9af1657c72cd27d835
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/72/741572/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,c18bb868fbe4bca98abc010a78aa75a28331d7bf,gemfile-train," :ref => 'stable/train',",,1,0
openstack%2Frequirements~master~I4602f0af3100853891a0739e8f0e251f47c5dfd7,openstack/requirements,master,I4602f0af3100853891a0739e8f0e251f47c5dfd7,Updated from generate-constraints,MERGED,2020-08-03 06:39:33.000000000,2020-08-03 21:53:32.000000000,2020-08-03 21:51:15.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 06:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/91bc3ba1639514d67b186d6b9c200488ae838c2d', 'message': 'Updated from generate-constraints\n\nChange-Id: I4602f0af3100853891a0739e8f0e251f47c5dfd7\n'}, {'number': 2, 'created': '2020-08-03 14:41:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5f55dcb25b67959b959a74ae69b6b6ebf2ba12fb', 'message': 'Updated from generate-constraints\n\nChange-Id: I4602f0af3100853891a0739e8f0e251f47c5dfd7\n'}]",0,744399,5f55dcb25b67959b959a74ae69b6b6ebf2ba12fb,12,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I4602f0af3100853891a0739e8f0e251f47c5dfd7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/744399/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,91bc3ba1639514d67b186d6b9c200488ae838c2d,openstack/requirements/constraints/noclob,rbd-iscsi-client===0.1.7mock===4.0.2libvirt-python===6.6.0docutils===0.16ujson===3.1.0keyring===21.3.0msgpack===1.0.0PyMySQL===0.10.0pkg-resources===0.0.0,mock===3.0.5rbd-iscsi-client===0.1.7libvirt-python===6.4.0docutils===0.15.2ujson===3.0.0keyring===21.2.1msgpack===0.6.1PyMySQL===0.9.3,9,8
openstack%2Frequirements~master~Iadc2fa1af62b309eb1ab64185398b081f2c26a79,openstack/requirements,master,Iadc2fa1af62b309eb1ab64185398b081f2c26a79,update constraint for keystonemiddleware to new release 9.1.0,MERGED,2020-08-03 15:20:11.000000000,2020-08-03 21:52:38.000000000,2020-08-03 21:51:09.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 15:20:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0afafe29ae689416d93c594e53831675989ace74', 'message': 'update constraint for keystonemiddleware to new release 9.1.0\n\nChange-Id: Iadc2fa1af62b309eb1ab64185398b081f2c26a79\nmeta:version: 9.1.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ibc704a8425b188b871c5dfaa4f9672eb71a2278a\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,744507,0afafe29ae689416d93c594e53831675989ace74,9,3,1,11131,,,0,"update constraint for keystonemiddleware to new release 9.1.0

Change-Id: Iadc2fa1af62b309eb1ab64185398b081f2c26a79
meta:version: 9.1.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ibc704a8425b188b871c5dfaa4f9672eb71a2278a
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/744507/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0afafe29ae689416d93c594e53831675989ace74,new-release,keystonemiddleware===9.1.0,keystonemiddleware===9.0.0,1,1
openstack%2Frequirements~master~I78878cdc58ba929bd406cebae65992db65918d08,openstack/requirements,master,I78878cdc58ba929bd406cebae65992db65918d08,update constraint for python-designateclient to new release 4.1.0,MERGED,2020-08-03 15:26:17.000000000,2020-08-03 21:51:13.000000000,2020-08-03 21:51:13.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 15:26:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6ea8341ff9ce99f8f81deb28718602c0f5e7b289', 'message': 'update constraint for python-designateclient to new release 4.1.0\n\nChange-Id: I78878cdc58ba929bd406cebae65992db65918d08\nmeta:version: 4.1.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I9329bc7cd2a3e3c80f25fea1b54ae19905a2396c\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,744510,6ea8341ff9ce99f8f81deb28718602c0f5e7b289,8,3,1,11131,,,0,"update constraint for python-designateclient to new release 4.1.0

Change-Id: I78878cdc58ba929bd406cebae65992db65918d08
meta:version: 4.1.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I9329bc7cd2a3e3c80f25fea1b54ae19905a2396c
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/744510/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6ea8341ff9ce99f8f81deb28718602c0f5e7b289,new-release,python-designateclient===4.1.0,python-designateclient===4.0.0,1,1
openstack%2Frequirements~master~I7388f57fe53a0026bb12f41926432bd5276194ce,openstack/requirements,master,I7388f57fe53a0026bb12f41926432bd5276194ce,update constraint for cliff to new release 3.4.0,MERGED,2020-08-03 15:26:03.000000000,2020-08-03 21:51:12.000000000,2020-08-03 21:51:11.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 15:26:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/115cf4b8528e932099739abed9177b606cadc91d', 'message': 'update constraint for cliff to new release 3.4.0\n\nChange-Id: I7388f57fe53a0026bb12f41926432bd5276194ce\nmeta:version: 3.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ib448ebc0ee920677ff1a33cf6dbca6f86e716c54\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,744509,115cf4b8528e932099739abed9177b606cadc91d,8,3,1,11131,,,0,"update constraint for cliff to new release 3.4.0

Change-Id: I7388f57fe53a0026bb12f41926432bd5276194ce
meta:version: 3.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ib448ebc0ee920677ff1a33cf6dbca6f86e716c54
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/744509/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,115cf4b8528e932099739abed9177b606cadc91d,new-release,cliff===3.4.0,cliff===3.3.0,1,1
openstack%2Frequirements~master~I029f3173d1de63697131c5c017084500f98b7420,openstack/requirements,master,I029f3173d1de63697131c5c017084500f98b7420,update constraint for python-karborclient to new release 2.1.0,MERGED,2020-08-03 15:25:33.000000000,2020-08-03 21:51:10.000000000,2020-08-03 21:51:10.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 15:25:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bd0eb3827317e4de8d22f3e9ad3ca62e25bed972', 'message': 'update constraint for python-karborclient to new release 2.1.0\n\nChange-Id: I029f3173d1de63697131c5c017084500f98b7420\nmeta:version: 2.1.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: If643d49976e8270d8c8d1653e1a3055919eff21f\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,744508,bd0eb3827317e4de8d22f3e9ad3ca62e25bed972,8,3,1,11131,,,0,"update constraint for python-karborclient to new release 2.1.0

Change-Id: I029f3173d1de63697131c5c017084500f98b7420
meta:version: 2.1.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: If643d49976e8270d8c8d1653e1a3055919eff21f
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/744508/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bd0eb3827317e4de8d22f3e9ad3ca62e25bed972,new-release,python-karborclient===2.1.0,python-karborclient===2.0.0,1,1
openstack%2Frequirements~stable%2Fussuri~Ibb78aae930bbb98025d806ec4ca9ada04d8ce012,openstack/requirements,stable/ussuri,Ibb78aae930bbb98025d806ec4ca9ada04d8ce012,update constraint for oslo.messaging to new release 12.1.2,MERGED,2020-08-03 14:23:35.000000000,2020-08-03 21:46:34.000000000,2020-08-03 21:46:34.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:23:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7ea3fea5458a8e3ef4e03ba15ea64b2ff16dfcf1', 'message': 'update constraint for oslo.messaging to new release 12.1.2\n\nChange-Id: Ibb78aae930bbb98025d806ec4ca9ada04d8ce012\nmeta:version: 12.1.2\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I6870221efeabafaaffd607ee99d6094de799d09d\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,744487,7ea3fea5458a8e3ef4e03ba15ea64b2ff16dfcf1,7,3,1,11131,,,0,"update constraint for oslo.messaging to new release 12.1.2

Change-Id: Ibb78aae930bbb98025d806ec4ca9ada04d8ce012
meta:version: 12.1.2
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I6870221efeabafaaffd607ee99d6094de799d09d
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/744487/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7ea3fea5458a8e3ef4e03ba15ea64b2ff16dfcf1,new-release,oslo.messaging===12.1.2;python_version=='3.6' oslo.messaging===12.1.2;python_version=='3.7' oslo.messaging===12.1.2;python_version=='3.8',oslo.messaging===12.1.0;python_version=='3.6' oslo.messaging===12.1.0;python_version=='3.7' oslo.messaging===12.1.0;python_version=='3.8',3,3
openstack%2Fopenstack-helm-infra~master~I117a189a18dbb740585b343db9ac9b596a34b929,openstack/openstack-helm-infra,master,I117a189a18dbb740585b343db9ac9b596a34b929,[Ceph-client] Add check of target osd value,MERGED,2020-07-27 17:49:13.000000000,2020-08-03 21:32:48.000000000,2020-08-03 21:31:08.000000000,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-27 17:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/112eebf7b685badebe912041e2f793dbff8c8818', 'message': '[Ceph-client] Add check of target osd value\n\nThe PS adds the check of target osd value. The expected amount of OSDs\nshould be always more or equal to existing OSDs. If there is more OSDs\nthan expected it means that the value is not correct.\n\nChange-Id: I117a189a18dbb740585b343db9ac9b596a34b929\n'}, {'number': 2, 'created': '2020-07-28 03:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ef5a1d079635644588da17e0b716fd9aeaeb4498', 'message': '[Ceph-client] Add check of target osd value\n\nThe PS adds the check of target osd value. The expected amount of OSDs\nshould be always more or equal to existing OSDs. If there is more OSDs\nthan expected it means that the value is not correct.\n\nChange-Id: I117a189a18dbb740585b343db9ac9b596a34b929\n'}, {'number': 3, 'created': '2020-07-28 18:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/07cb756232108a24eafcb248789a1b048d83835f', 'message': '[Ceph-client] Add check of target osd value\n\nThe PS adds the check of target osd value. The expected amount of OSDs\nshould be always more or equal to existing OSDs. If there is more OSDs\nthan expected it means that the value is not correct.\n\nChange-Id: I117a189a18dbb740585b343db9ac9b596a34b929\n'}, {'number': 4, 'created': '2020-08-03 15:38:14.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/47ce52a5cfcc596dd3b482aa8c44c7c573d4e57a', 'message': '[Ceph-client] Add check of target osd value\n\nThe PS adds the check of target osd value. The expected amount of OSDs\nshould be always more or equal to existing OSDs. If there is more OSDs\nthan expected it means that the value is not correct.\n\nChange-Id: I117a189a18dbb740585b343db9ac9b596a34b929\n'}]",0,743292,47ce52a5cfcc596dd3b482aa8c44c7c573d4e57a,23,7,4,17119,,,0,"[Ceph-client] Add check of target osd value

The PS adds the check of target osd value. The expected amount of OSDs
should be always more or equal to existing OSDs. If there is more OSDs
than expected it means that the value is not correct.

Change-Id: I117a189a18dbb740585b343db9ac9b596a34b929
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/743292/4 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,112eebf7b685badebe912041e2f793dbff8c8818,," if [ ${num_up_osds} -gt ${EXPECTED_OSDS} ]; then echo ""The expected amount of OSDs (${EXPECTED_OSDS}) is less than available OSDs (${num_up_osds}). Please, correct the value (.Values.conf.pool.target.osd)."" exit 1 fi ",,5,0
openstack%2Fironic-python-agent~master~Ieb285c73dde5928de06306c51ea9dbbb614632d8,openstack/ironic-python-agent,master,Ieb285c73dde5928de06306c51ea9dbbb614632d8,Capture TypeError when the logger fails,ABANDONED,2020-07-28 18:02:41.000000000,2020-08-03 21:29:32.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-28 18:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/512ce2e8edc331143b5722d2af4ddac391412e35', 'message': ""Capture TypeError when the logger fails\n\nOslo_utils, excutils module's save_and_reraise_exception has\na wonderful feature where it automatically logs exceptions in\nthe exception stack that it drops from the exception it is going\nto raise.\n\nUnfortunately, when the code that is part of this exception logging\nhas a failure, it is near impossible to figure out the actual origin\nof the failure.\n\nThis is espescially difficult with the IPA ramdisk as we cannot\neasily troubleshoot after the fact and the stack trace scrolls of\nthe screen with all of the steps through the logging code without\nproviding any hint as to what actually occured to cause the exception\nin the first place.\n\nAdds some handling which we should be able to backport to older\nversions where python 2.7 and the cirica 2016 python systemd logging\ncode exists which is where things go sideways, which it explicitly\ncannot handle tuples being passed in for conversion.\n\nrhbz# 1848101\nStory: 2007962\nTask: 40455\n\nChange-Id: Ieb285c73dde5928de06306c51ea9dbbb614632d8\n""}, {'number': 2, 'created': '2020-07-28 19:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6186a3fdeb4fcd2f30fee848dc974bab62b0c874', 'message': ""Capture TypeError when the logger fails\n\nOslo_utils, excutils module's save_and_reraise_exception has\na wonderful feature where it automatically logs exceptions in\nthe exception stack that it drops from the exception it is going\nto raise.\n\nUnfortunately, when the code that is part of this exception logging\nhas a failure, it is near impossible to figure out the actual origin\nof the failure.\n\nThis is espescially difficult with the IPA ramdisk as we cannot\neasily troubleshoot after the fact and the stack trace scrolls of\nthe screen with all of the steps through the logging code without\nproviding any hint as to what actually occured to cause the exception\nin the first place.\n\nAdds some handling which we should be able to backport to older\nversions where python 2.7 and the cirica 2016 python systemd logging\ncode exists which is where things go sideways, which it explicitly\ncannot handle tuples being passed in for conversion.\n\nrhbz# 1848101\nStory: 2007962\nTask: 40455\n\nChange-Id: Ieb285c73dde5928de06306c51ea9dbbb614632d8\n""}, {'number': 3, 'created': '2020-07-30 18:51:01.000000000', 'files': ['ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2327d51d1d6f346424cda0a8e24a2980f8285e1a', 'message': ""Capture TypeError when the logger fails\n\nOslo_utils, excutils module's save_and_reraise_exception has\na wonderful feature where it automatically logs exceptions in\nthe exception stack that it drops from the exception it is going\nto raise.\n\nUnfortunately, when the code that is part of this exception logging\nhas a failure, it is near impossible to figure out the actual origin\nof the failure.\n\nThis is espescially difficult with the IPA ramdisk as we cannot\neasily troubleshoot after the fact and the stack trace scrolls of\nthe screen with all of the steps through the logging code without\nproviding any hint as to what actually occured to cause the exception\nin the first place.\n\nAdds some handling which we should be able to backport to older\nversions where python 2.7 and the cirica 2016 python systemd logging\ncode exists which is where things go sideways, which it explicitly\ncannot handle tuples being passed in for conversion.\n\nrhbz# 1848101\nStory: 2007962\nTask: 40455\n\nChange-Id: Ieb285c73dde5928de06306c51ea9dbbb614632d8\n""}]",6,743606,2327d51d1d6f346424cda0a8e24a2980f8285e1a,14,5,3,11655,,,0,"Capture TypeError when the logger fails

Oslo_utils, excutils module's save_and_reraise_exception has
a wonderful feature where it automatically logs exceptions in
the exception stack that it drops from the exception it is going
to raise.

Unfortunately, when the code that is part of this exception logging
has a failure, it is near impossible to figure out the actual origin
of the failure.

This is espescially difficult with the IPA ramdisk as we cannot
easily troubleshoot after the fact and the stack trace scrolls of
the screen with all of the steps through the logging code without
providing any hint as to what actually occured to cause the exception
in the first place.

Adds some handling which we should be able to backport to older
versions where python 2.7 and the cirica 2016 python systemd logging
code exists which is where things go sideways, which it explicitly
cannot handle tuples being passed in for conversion.

rhbz# 1848101
Story: 2007962
Task: 40455

Change-Id: Ieb285c73dde5928de06306c51ea9dbbb614632d8
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/06/743606/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py']",2,512ce2e8edc331143b5722d2af4ddac391412e35,," try: with excutils.save_and_reraise_exception(): failures.add(exc) call_inspector(data, failures) except TypeError: LOG.error('The agent encountered a failure a failure while ' 'loading plugins and an additional exception while ' 'attempting to log this failure.') LOG.error('Fatal Error loading collectors: %s', str(exc)) raise exc"," with excutils.save_and_reraise_exception(): failures.add(exc) call_inspector(data, failures)",25,3
openstack%2Fironic~master~I4ad1a36fbc35b6517c980a506a5ff81610b30e2c,openstack/ironic,master,I4ad1a36fbc35b6517c980a506a5ff81610b30e2c,Set agent command timeout to 120 for standalone jobs,ABANDONED,2020-03-30 16:23:12.000000000,2020-08-03 21:26:40.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-30 16:23:12.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/32167e416961a1638a1500b82912b8fc72f9bde2', 'message': ""Set agent command timeout to 120 for standalone jobs\n\nTurns out install_bootloader takes a LOT of time\non the standalone nodes with software raid tests, which\ncan result in commands timing out, commands being retried\nmultiple times, and other odd behavior generally resulting\nfailed CI jobs.\n\nAs such, for those jobs, we'll run a longer command timeout..\n\nChange-Id: I4ad1a36fbc35b6517c980a506a5ff81610b30e2c\n""}]",1,716013,32167e416961a1638a1500b82912b8fc72f9bde2,11,7,1,11655,,,0,"Set agent command timeout to 120 for standalone jobs

Turns out install_bootloader takes a LOT of time
on the standalone nodes with software raid tests, which
can result in commands timing out, commands being retried
multiple times, and other odd behavior generally resulting
failed CI jobs.

As such, for those jobs, we'll run a longer command timeout..

Change-Id: I4ad1a36fbc35b6517c980a506a5ff81610b30e2c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/13/716013/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic']",2,32167e416961a1638a1500b82912b8fc72f9bde2,,# Timeout for commands to the agent IRONIC_AGENT_COMMAND_TIMEOUT=${IRONIC_AGENT_COMMAND_TIMEOUT:-60} # Set a general timeout for agent commands iniset $IRONIC_CONF_FILE agent command_timeout $IRONIC_AGENT_COMMAND_TIMEOUT,,6,0
openstack%2Ftripleo-ci~master~I88300f07a4fea18f14ab1fc0a46aa73cc5b09840,openstack/tripleo-ci,master,I88300f07a4fea18f14ab1fc0a46aa73cc5b09840,"remove kolla based container builds for train,ussuri,master",MERGED,2020-07-31 15:27:21.000000000,2020-08-03 21:25:16.000000000,2020-08-03 21:25:16.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 15:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d2182959acea4b906dc81b6b9a8e8bc2d51921b9', 'message': 'remove kolla based container builds for train,ussuri,master\n\nThe build-containers-ubi-8 jobs are the current\ncontainer build method for centos-8\n\nChange-Id: I88300f07a4fea18f14ab1fc0a46aa73cc5b09840\n'}, {'number': 2, 'created': '2020-08-03 08:34:00.000000000', 'files': ['zuul.d/build-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b6be68df1d91a06be3e2913ba2f9273a123f1a8c', 'message': 'remove kolla based container builds for train,ussuri,master\n\nThe build-containers-ubi-8 jobs are the current\ncontainer build method for centos-8 and\nhttps://review.opendev.org/#/c/736752/ adds the ubi-8 based\nnew container build for train c8.\n\nWe are keeping c7 train container build job to keep the\ncoverage.\n\nChange-Id: I88300f07a4fea18f14ab1fc0a46aa73cc5b09840\n'}]",3,744201,b6be68df1d91a06be3e2913ba2f9273a123f1a8c,18,8,2,9592,,,0,"remove kolla based container builds for train,ussuri,master

The build-containers-ubi-8 jobs are the current
container build method for centos-8 and
https://review.opendev.org/#/c/736752/ adds the ubi-8 based
new container build for train c8.

We are keeping c7 train container build job to keep the
coverage.

Change-Id: I88300f07a4fea18f14ab1fc0a46aa73cc5b09840
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/01/744201/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-containers.yaml'],1,d2182959acea4b906dc81b6b9a8e8bc2d51921b9,, - tripleo-build-containers-ubi-8 - tripleo-build-containers-ubi-8 name: tripleo-build-containers-jobs-ussuri check: jobs: - tripleo-build-containers-ubi-8-ussuri gate: queue: tripleo jobs: - tripleo-build-containers-ubi-8-ussuri - project-template: - tripleo-build-containers-ubi-8-train - tripleo-build-containers-ubi-8-train, - tripleo-build-containers-centos-7-rocky - tripleo-build-containers-centos-8 - tripleo-build-containers-centos-8-ussuri - tripleo-build-containers-centos-8-train - tripleo-build-containers-centos-7-rocky - tripleo-build-containers-centos-8 - tripleo-build-containers-centos-8-ussuri - tripleo-build-containers-centos-8-train - tripleo-build-containers-centos-7 - tripleo-build-containers-centos-8 - tripleo-build-containers-centos-7 - tripleo-build-containers-centos-8 - tripleo-build-containers-centos-7-train - tripleo-build-containers-centos-7-buildah-train - tripleo-build-containers-centos-8-train - tripleo-build-containers-centos-7-train - tripleo-build-containers-centos-7-buildah-train - tripleo-build-containers-centos-8-train - tripleo-build-containers-centos-7-stein - tripleo-build-containers-centos-7-stein,14,20
openstack%2Fironic~master~Idad2b274fb89ba3b0efe6a38898140da9bec9774,openstack/ironic,master,Idad2b274fb89ba3b0efe6a38898140da9bec9774,WIP ipv6 jobs,ABANDONED,2018-10-24 21:46:52.000000000,2020-08-03 21:01:48.000000000,,"[{'_account_id': 1926}, {'_account_id': 8871}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 28429}, {'_account_id': 28950}, {'_account_id': 30100}]","[{'number': 1, 'created': '2018-10-24 21:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2243196372f0f53dd1ceabbe544b43d9335d9104', 'message': 'WIP: ipv6 ipxe BFV?!?\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 2, 'created': '2018-10-24 22:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdc0b648eb5e0d4bbd82227638afeb2eab5f6ac2', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 3, 'created': '2018-10-25 16:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/10e68cfc429bfe03e89ce01302556019261379fa', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 4, 'created': '2018-10-26 14:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c0d60df0e633724d5dce2fbeea5bac0aabd4e05', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 5, 'created': '2018-10-26 19:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9bfa4b4071a8495603dfc725d6cba597c1aa948a', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 6, 'created': '2018-10-29 14:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/06178a29eb4739e137b531cb58687403887328bb', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 7, 'created': '2018-10-29 16:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/199303c7bda94d1eb046cbe389c48457f633dc18', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 8, 'created': '2018-10-30 16:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d72de7162bbc86b9e8b2f7b30c0f3c7b3cb7731', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 9, 'created': '2018-10-30 22:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e5d082ef2515ac8729d60b1fb2de559d8c5af56', 'message': ""WIP: ipv6 ipxe BFV?!?\n\nThis is highly unlikely as ipxe's default is ipv4 only.\nBut maybe we will be lucky!\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n""}, {'number': 10, 'created': '2018-11-07 21:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/105ecf393026b8abd5bf70863f4dc9666542360a', 'message': 'WIP ipv6 multitenant job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 11, 'created': '2018-11-08 00:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f48ebc6bc06f48d1c83a7bb29745bb767d83f784', 'message': 'WIP ipv6 multitenant job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 12, 'created': '2018-11-29 03:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/134b5320dd92e921ffde20dd648a3afe04438186', 'message': 'WIP ipv6 multitenant job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 13, 'created': '2018-11-29 15:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f52bc095f7e17f334d821a49bddd5412e9a7a098', 'message': 'WIP ipv6 multitenant job\n\nNOTE: This job is likely to become a grub2 uefi job,\nbut first we need the networking to actually stand up\nproperly.\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 14, 'created': '2018-11-29 23:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9979d9ab91976aee3f5505ab7a28d491c0cbe73d', 'message': 'WIP ipv6 job\n\nNOTE: This job is likely to become a grub2 uefi job,\nbut first we need the networking to actually stand up\nproperly.\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 15, 'created': '2018-12-01 00:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f909a811a3b57ad471ea86b2bd723daa7bce980', 'message': 'WIP ipv6 job\n\nNOTE: This job is likely to become a grub2 uefi job,\nbut first we need the networking to actually stand up\nproperly.\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 16, 'created': '2018-12-02 16:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d310f8099c871ffb8250636c9097e84356dc50a9', 'message': 'WIP ipv6 job\n\nNOTE: This job is likely to become a grub2 uefi job,\nbut first we need the networking to actually stand up\nproperly.\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 17, 'created': '2019-01-02 17:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f6b020865dd6863f9a06832ab1477b93123442bd', 'message': 'WIP ipv6 job\n\nNOTE: This job is likely to become a grub2 uefi job,\nbut first we need the networking to actually stand up\nproperly.\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 18, 'created': '2019-01-03 01:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/28682b05e4db6ced4065a5b65edeb296ff28c1cb', 'message': 'WIP ipv6 job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 19, 'created': '2019-01-03 13:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a081f74da54e718dfd73c5a8489bb8300d3b977c', 'message': 'WIP ipv6 job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 20, 'created': '2019-01-03 19:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36fc282217e20ffe411878ac00e48382bd1f6e4f', 'message': 'WIP ipv6 job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 21, 'created': '2019-01-03 22:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/82e3d7d24a9b9b10a9315d539e2364ee4ccf3da8', 'message': 'WIP ipv6 job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 22, 'created': '2019-01-04 21:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a6153be8d80c9695392fe4855821e53d851d2cd', 'message': 'WIP ipv6 job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 23, 'created': '2019-01-04 23:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a651a232ba8184dfc4db12d64b66b042a335b8fa', 'message': 'WIP ipv6 job\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 24, 'created': '2019-01-05 00:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0fd2eb6fef171bd4cee4fa1e16af4c8b4a04741', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 25, 'created': '2019-01-08 22:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ffeaa037b96b10f6d40dc176e05b1b5ac3c5b7b6', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 26, 'created': '2019-01-08 22:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/150ef7fb15352948688552610ca35560b31eaa86', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 27, 'created': '2019-01-08 23:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/484d68ae11b9c00aca0030c66584ba421402bc20', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 28, 'created': '2019-01-09 01:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdb5a5b9bd74320abc335e6a15b6d2519ba7bdef', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 29, 'created': '2019-01-09 02:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3d75602c9ef6dc6910933f41566acb66eb88dc9e', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 30, 'created': '2019-01-09 05:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a922b45f547de9f147efa16ec9b5243aa4ebc458', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 31, 'created': '2019-01-09 21:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f092ec7c3d70929fce9d3fe9263f6414015bd3d', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 32, 'created': '2019-01-09 21:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60800ab3f514b89106ed9eacf8f26b4c529ac6aa', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 33, 'created': '2019-01-10 01:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9fb63384cddf34d8b470d4e536d09a24ab78a7f5', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 34, 'created': '2019-01-10 04:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93244184afa2f7ec93ed874b77716ea7b05c1d7b', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 35, 'created': '2019-01-10 16:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c82c6b7232a439865256d8e4ecd8edb8f644b58', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 36, 'created': '2019-01-10 17:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a3ccdcbb5fed5519112d7e37328d7975c8009ad2', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 37, 'created': '2019-01-10 21:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a06bb085c9af50032e611baa4122889141ce672', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 38, 'created': '2019-01-10 21:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8c7bd5f9454f10acaee6b447defa0e8cff4f75b', 'message': 'WIP ipv6 job\n\nDepends-On: Ia10839f36a240a503eb4b673a4e39105f1c6abb5\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 39, 'created': '2019-05-31 22:04:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b65aabbd6676c6f9dfdadbf1e9ea0377243e880', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 40, 'created': '2019-05-31 23:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d524eb69d3a823454e6a62e844436b042a3c4cd2', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 41, 'created': '2019-06-01 13:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4efcce0ef3a42a4529cc511262bdd1c9fbf8bbcb', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 42, 'created': '2019-06-01 14:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca0c239b20190ebbfc137873d341dca1c53a2ae7', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 43, 'created': '2019-06-01 19:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d041551fcaf37c7a7a554c7ec9ff45c59594d171', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 44, 'created': '2019-06-01 21:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/066331ce0c77275de72fe42672e570649c5bb916', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 45, 'created': '2019-06-01 22:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a75846579e32d05ba7d6ff4b883b7d2c1f53c37', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 46, 'created': '2019-06-02 14:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/575705e1e7780d568d35e26f3bcc6b4c67aa1ce7', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 47, 'created': '2019-06-02 15:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/593e76fcbfba3ff4e76cac9bab538fb497cddfe1', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 48, 'created': '2019-06-03 17:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bfa439cd0ec9cb9c37b9a033f6b33682046552e', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 49, 'created': '2019-06-03 19:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3f9aa3eccd0ab5598299779b2e0e15aee99f57de', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 50, 'created': '2019-06-03 19:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/97e4590cc4c4b9b0a4e7acbfdeefeb62769442b8', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 51, 'created': '2019-06-03 21:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0f21685969bbe07f9e8326a6208feba8e18a87c9', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 52, 'created': '2019-06-03 22:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ea35babb1eb2ce745a9be758b71babf1cffe679', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 53, 'created': '2019-06-04 01:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aa93accfe09e3e493343ef000f9b7726cb5f0334', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 54, 'created': '2019-06-04 13:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b0892ad4a43d60c7692e73011d150694a78c3b7', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 55, 'created': '2019-06-04 14:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f7468c1ed4493f78eb727f31a28e02f47491b066', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 56, 'created': '2019-06-04 16:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db10f93530b3361215e556a5da5cf72782f3710b', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 57, 'created': '2019-06-04 17:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/380598a5377cd429bbb37b54b538dc62e1df42af', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 58, 'created': '2019-06-05 13:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67c3c89882d6fd9643e554a4baf7b72831612b4f', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 59, 'created': '2019-06-05 14:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cb6fc357a4040eb8c32ad90bc414f899c6755e07', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 60, 'created': '2019-06-05 18:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c786fa254ff953323327c745444b53501c1cc4fa', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 61, 'created': '2019-06-05 19:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2dc8f804a3f285f0622624737f15703ca4051515', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 62, 'created': '2019-06-05 21:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0f7845893ad08a949a4362b4209ce617226c0396', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 63, 'created': '2019-06-06 21:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d2d57f4f6f8cc8cc86c1a1a15708c1e7e61ab4c', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 64, 'created': '2019-06-06 23:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4fa5490af3ad07dbe9fae958fc770ff0e264af0', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 65, 'created': '2019-06-07 01:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1817dab57e1f0c95f1f794e73f47938922ac3ab3', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 66, 'created': '2019-06-07 13:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9f4826d99fa3b390c13456206224a04dd4962c7', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 67, 'created': '2019-06-07 16:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6a6140a14036ef38daf5340c2c074c35a2ee60a3', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 68, 'created': '2019-06-07 20:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7df78ccb903d91e53454b8eaf6804a0448bdc3ee', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 69, 'created': '2019-06-07 23:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/75da825fb6144512be9406504ddece803f433465', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 70, 'created': '2019-06-08 00:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f1a61da6b3fae9e5d14b230df43c00afc9083704', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 71, 'created': '2019-06-08 02:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3621ae612658b7874d0111687969110ce8a2c34c', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 72, 'created': '2019-06-10 21:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbfe96060b8bf40c0dbef2c0325c859fc1b71c10', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 73, 'created': '2019-06-10 22:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68590253de1d8163cb1af1f8d2c90002a6ac0b4b', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 74, 'created': '2019-06-11 08:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e8f47d0eb4c2c8416bd49b5c86bdc4c5d8a4fd7', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 75, 'created': '2019-06-11 13:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18c15e98d2562c30f9c3d883f4efff0d70bfd109', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 76, 'created': '2019-06-11 16:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36cc35026514df18b5471a8fc9372d8cfe228687', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 77, 'created': '2019-06-11 16:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/db39126abc2bdedc09dedf446cf609f9e125b2da', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 78, 'created': '2019-06-11 18:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c485d8500c3381a762ebeb9e998f8921107ade6', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 79, 'created': '2019-06-11 20:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63f5fd03b4a02f37367da73cbef6e5ef03d6bdc0', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 80, 'created': '2019-06-13 19:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2568cdcd5068c3c5a835859239f52387394d1232', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 81, 'created': '2019-06-14 00:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6bba5fac7ef529cb27af3da57ecdd21a08c1d892', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/665270\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 82, 'created': '2019-06-14 21:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34fbe8439a1b8af0a6d5cea5894ec398649a10c7', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/665270\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 83, 'created': '2019-06-14 21:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8ca5eecb22a77f98f19f0e1dd4b99c170b53e68', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/665477\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 84, 'created': '2019-06-20 17:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7226f4d5a9bb7f60ec4e0b400484622e27e76593', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/665477\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 85, 'created': '2019-06-20 22:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ff21579edb1dd42dc878b4a1f1700b3bdb45293', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 86, 'created': '2019-06-21 01:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e0696a35c67280d0d42629f4e7a24f4b4951b1b2', 'message': 'WIP ipv6 job\n\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 87, 'created': '2019-06-21 03:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3a993f03843f348ebc84d9a2920278458d20377', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 88, 'created': '2019-06-21 21:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9ada7143d011671e26d2ac902f0afe0013e996b', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 89, 'created': '2019-06-21 22:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c32965b0b6b8881049533aee954c642f87e57467', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 90, 'created': '2019-06-21 23:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/63486e2dde738134fb967a0da9d23e638d0654ae', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 91, 'created': '2019-06-22 01:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/847833a8e54627aecf1152c59c87cb51d75503b5', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 92, 'created': '2019-06-22 02:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e2d0f524709188f37e495b3f605567f8ec43b24', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 93, 'created': '2019-06-22 03:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/966ce5a5175db8b569dbc40d96cd661c5944f47e', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 94, 'created': '2019-06-22 16:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e87bc8d60755c61dc8ea0c3bb5319a2249b3560d', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 95, 'created': '2019-06-22 17:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66410b452dde1195ab3a6b44ec99bddab52aba7b', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 96, 'created': '2019-06-24 16:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ebeba04b0d65a8aa105d795050f97dc623f0b302', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/#/c/666590/\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 97, 'created': '2019-07-24 14:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5db1fe55a1e443deead638443701e228ce8ecf0', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/666591\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 98, 'created': '2019-07-24 21:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f78c2be6d904c8b57083bd911e49ff42bd5d3599', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/666591\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 99, 'created': '2019-07-24 22:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d2a8a81145b3d9b45308e8e7eff92e66b64f7c57', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/666591\nDepends-On: https://review.opendev.org/672601\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 100, 'created': '2019-07-25 20:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ae4fcfb76d597cdf629e88fd077ab2d72282305', 'message': 'WIP ipv6 job\n\nDepends-On: https://review.opendev.org/666766\nDepends-On: I55874c1ce82898e9dfb81505d8f3b14abde33579\nDepends-On: https://review.opendev.org/666591\nDepends-On: https://review.opendev.org/672601\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 101, 'created': '2019-08-23 12:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/58e1bcb331908ae46627b4f575ce4940211745f8', 'message': 'WIP ipv6 jobs\n\nDepends-On: https://review.opendev.org/666591\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 102, 'created': '2019-08-23 12:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/03ad7afa28d32fc3bcfc909163969866ddd06391', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 103, 'created': '2019-08-23 15:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d1c70084c7c0c178e0a53936de251e60969fa5d7', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 104, 'created': '2019-08-26 15:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a65a08e102f2b8dcfc394e91d5724f41362a1fcb', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 105, 'created': '2019-08-28 13:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a62980949cbb527c2365acc912fc6856952156b0', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 106, 'created': '2019-08-28 15:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d168a0af15b1644a9b7e86621d3acc079a0e6f2f', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 107, 'created': '2019-08-29 12:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b8c5679a3fa3d045d1723362e5e235f742bf31e', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 108, 'created': '2019-09-02 13:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/82792c29c75f090f05702fc46c686000f7ba20c1', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 109, 'created': '2019-09-03 11:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6c46e950764e9133a38fb66bba8277a24ce0e9c3', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 110, 'created': '2019-09-03 14:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b10be63bfce3daa727f720fa07e0d56349f694a5', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 111, 'created': '2019-09-03 15:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61990dc7a5c52454cb5c981a1da2b1d2e970f631', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 112, 'created': '2019-09-04 11:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8abf5b987eb3369620502be464c13e2ba9a98871', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 113, 'created': '2019-12-10 16:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ba1e0511e4ee29ad18b96962280aa92c23ca424', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 114, 'created': '2019-12-11 00:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab7a34fb99c15e164aa73f86f8a48a84cb088b73', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 115, 'created': '2020-02-14 23:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4836c237337e1cc6dd5eacd01e74f19521df8ecc', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 116, 'created': '2020-02-14 23:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfed4df0c5a2fa8da68f15a732380facf7db265c', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 117, 'created': '2020-03-02 16:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1efdc0c2714ac9ca307b77af20b367b3cc65fbe', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 118, 'created': '2020-03-11 20:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/84e03c55789ebdefa31a7bc976f9a8c1eac5a209', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 119, 'created': '2020-03-11 21:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bf50b34e82cc7e5f5379aea6b817b0e3d21fe88', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 120, 'created': '2020-03-12 04:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/374730c66aae76b523dadcca798d615a477b1f24', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 121, 'created': '2020-03-30 13:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85d155769d3af88b3347bb789cac06ac81393208', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 122, 'created': '2020-04-20 16:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1639a585b3d71cb1f5e78246fd5e463745bc2ab2', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 123, 'created': '2020-04-20 23:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/23d4bded1cbc0f09ad733fb1d08a251cc13c3175', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 124, 'created': '2020-04-21 16:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b1e465656e5f841a88c8e9f5d8a497482198a66', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 125, 'created': '2020-04-21 19:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9014a3e05f14afa764a69e2df4d661e305591641', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 126, 'created': '2020-04-21 23:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d81ea5ec0a07e12f2f0e03688a5ade8a4145102c', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\n'}, {'number': 127, 'created': '2020-04-24 11:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/091ab4287fbeba04de412a030d0a6aaa5ff9a35c', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\nDepends-On: https://review.opendev.org/722663\n'}, {'number': 128, 'created': '2020-04-24 12:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3caa38364a33f9f04ca11199efd267bcdac0111', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\nDepends-On: https://review.opendev.org/722663\n'}, {'number': 129, 'created': '2020-04-24 16:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c078863bcfaa16d66f46e72fa18d107d01c15fee', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\nDepends-On: https://review.opendev.org/722663\n'}, {'number': 130, 'created': '2020-04-27 10:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b8a394308d9ae9784fc59975a24680fbece76ce', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\nDepends-On: https://review.opendev.org/722663\n'}, {'number': 131, 'created': '2020-04-27 14:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d95a86517f70fe57431fd09c2dd1b88a48e8bea6', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\nDepends-On: https://review.opendev.org/722663\n'}, {'number': 132, 'created': '2020-04-27 16:37:15.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'devstack/plugin.sh', 'playbooks/debug.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e3d73689749a4d38116c35b4dd4efc65c0527253', 'message': 'WIP ipv6 jobs\n\nChange-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774\nDepends-On: https://review.opendev.org/722663\n'}]",111,613169,e3d73689749a4d38116c35b4dd4efc65c0527253,552,16,132,11655,,,0,"WIP ipv6 jobs

Change-Id: Idad2b274fb89ba3b0efe6a38898140da9bec9774
Depends-On: https://review.opendev.org/722663
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/613169/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic']",2,2243196372f0f53dd1ceabbe544b43d9335d9104,665221," # Lets support IPv6 testing! # Also known as #WhoKnowsIfTheExpansionWillWork IRONIC_IP_VERSION=${IRONIC_IP_VERSION:-${IP_VERSION:4}} if [[ ""$IRONIC_IP_VERSION"" == '4' ]]; then # Allocation network pool for provision network # Example: IRONIC_PROVISION_ALLOCATION_POOL=start=10.0.5.10,end=10.0.5.100 # This is only used if IRONIC_PROVISION_NETWORK_NAME has been set. IRONIC_PROVISION_ALLOCATION_POOL=${IRONIC_PROVISION_ALLOCATION_POOL:-'start=10.0.5.10,end=10.0.5.100'} # With multinode case all ironic-conductors should have IP from provisioning network. # IRONIC_PROVISION_SUBNET_GATEWAY - is configured on primary node. # Ironic provision subnet gateway. IRONIC_PROVISION_SUBNET_GATEWAY=${IRONIC_PROVISION_SUBNET_GATEWAY:-'10.0.5.1'} IRONIC_PROVISION_SUBNET_SUBNODE_IP=${IRONIC_PROVISION_SUBNET_SUBNODE_IP:-'10.0.5.2'} # Ironic provision subnet prefix # Example: IRONIC_PROVISION_SUBNET_PREFIX=10.0.5.0/24 IRONIC_PROVISION_SUBNET_PREFIX=${IRONIC_PROVISION_SUBNET_PREFIX:-'10.0.5.0/24'} else IRONIC_PROVISION_SUBNET_GATEWAY=${IRONIC_PROVISION_SUBNET_GATEWAY:-'fc01::1'} IRONIC_PROVISION_SUBNET_SUBNODE_IP=${IRONIC_PROVISION_SUBNET_SUBNODE_IP:-'fc01::2'} IRONIC_PROVISION_SUBNET_PREFIX=${IRONIC_PROVISION_SUBNET_PREFIX:-'fc01::/64'} fi if [[ ""$IRONIC_IP_VERSION"" == '4' ]]; then IRONIC_TFTPSERVER_IP=$IRONIC_PROVISION_SUBNET_GATEWAY IRONIC_HTTP_SERVER=$IRONIC_PROVISION_SUBNET_GATEWAY else IRONIC_TFTPSERVER_IP=""[$IRONIC_PROVISION_SUBNET_GATEWAY]"" IRONIC_HTTP_SERVER=""[$IRONIC_PROVISION_SUBNET_GATEWAY]"" fi if [[ ""$IRONIC_IP_VERSION"" == '4' ]]; then subnet_id=""$(openstack subnet create --ip-version 4 \ ${IRONIC_PROVISION_ALLOCATION_POOL:+--allocation-pool $IRONIC_PROVISION_ALLOCATION_POOL} \ ${net_segment_id:+--network-segment $net_segment_id} \ $IRONIC_PROVISION_PROVIDER_SUBNET_NAME \ --gateway $IRONIC_PROVISION_SUBNET_GATEWAY --network $net_id \ --subnet-range $IRONIC_PROVISION_SUBNET_PREFIX -f value -c id)"" else subnet_id=""$(openstack subnet create --ip-version 6 \ --ipv6-address-mode dhcpv6-stateful --gateway $IRONIC_PROVISION_SUBNET_GATEWAY \ ${net_segment_id:+--network-segment $net_segment_id} \ $IRONIC_PROVISION_PROVIDER_SUBNET_NAME \ --gateway $IRONIC_PROVISION_SUBNET_GATEWAY --network $net_id \ --subnet-range $IRONIC_PROVISION_SUBNET_PREFIX -f value -c id)"" fi sudo ip -$IRONIC_IP_VERSION addr add dev $OVS_PHYSICAL_BRIDGE.$IRONIC_PROVISION_SEGMENTATION_ID $ironic_provision_network_ip/$provision_net_prefix sudo ip -$IRONIC_IP_VERSION addr add dev $OVS_PHYSICAL_BRIDGE $ironic_provision_network_ip/$provision_net_prefix # Set IP version iniset $IRONIC_CONF_FILE pxe ip_version $IRONIC_IP_VERSION if [[ ""$IRONIC_IP_VERSION"" == '4' ]]; then IPT_CMD=""iptables"" else IPT_CMD=""ip6tables"" fi sudo $IPT_CMD -I INPUT -p udp --dport 67:68 --sport 67:68 -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $IRONIC_TFTPSERVER_IP -p udp --dport 69 -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $HOST_IP -p tcp --dport 80 -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $HOST_IP -p tcp --dport 443 -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport 80 -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport 443 -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $HOST_IP -p tcp --dport ${SWIFT_DEFAULT_BIND_PORT:-8080} -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $HOST_IP -p tcp --dport $GLANCE_SERVICE_PORT -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport $IRONIC_HTTP_PORT -j ACCEPT || true sudo $IPT_CMD -I INPUT -d $HOST_IP -p tcp --dport $ISCSI_SERVICE_PORT -s $FLOATING_RANGE -j ACCEPT || true if [[ ""$IRONIC_IP_VERSION"" == '6' ]]; then sudo sed -e ""s|IPv4|IPv6|g"" -i /etc/xinetd.d/tftp fi","# Allocation network pool for provision network # Example: IRONIC_PROVISION_ALLOCATION_POOL=start=10.0.5.10,end=10.0.5.100 # This is only used if IRONIC_PROVISION_NETWORK_NAME has been set. IRONIC_PROVISION_ALLOCATION_POOL=${IRONIC_PROVISION_ALLOCATION_POOL:-'start=10.0.5.10,end=10.0.5.100'} # With multinode case all ironic-conductors should have IP from provisioning network. # IRONIC_PROVISION_SUBNET_GATEWAY - is configured on primary node. # Ironic provision subnet gateway. IRONIC_PROVISION_SUBNET_GATEWAY=${IRONIC_PROVISION_SUBNET_GATEWAY:-'10.0.5.1'} IRONIC_PROVISION_SUBNET_SUBNODE_IP=${IRONIC_PROVISION_SUBNET_SUBNODE_IP:-'10.0.5.2'} # Ironic provision subnet prefix # Example: IRONIC_PROVISION_SUBNET_PREFIX=10.0.5.0/24 IRONIC_PROVISION_SUBNET_PREFIX=${IRONIC_PROVISION_SUBNET_PREFIX:-'10.0.5.0/24'} IRONIC_TFTPSERVER_IP=$IRONIC_PROVISION_SUBNET_GATEWAY IRONIC_HTTP_SERVER=$IRONIC_PROVISION_SUBNET_GATEWAY subnet_id=""$(openstack subnet create --ip-version 4 \ ${IRONIC_PROVISION_ALLOCATION_POOL:+--allocation-pool $IRONIC_PROVISION_ALLOCATION_POOL} \ ${net_segment_id:+--network-segment $net_segment_id} \ $IRONIC_PROVISION_PROVIDER_SUBNET_NAME \ --gateway $IRONIC_PROVISION_SUBNET_GATEWAY --network $net_id \ --subnet-range $IRONIC_PROVISION_SUBNET_PREFIX -f value -c id)"" sudo ip addr add dev $OVS_PHYSICAL_BRIDGE.$IRONIC_PROVISION_SEGMENTATION_ID $ironic_provision_network_ip/$provision_net_prefix sudo ip addr add dev $OVS_PHYSICAL_BRIDGE $ironic_provision_network_ip/$provision_net_prefix sudo iptables -I INPUT -p udp --dport 67:68 --sport 67:68 -j ACCEPT || true sudo iptables -I INPUT -d $IRONIC_TFTPSERVER_IP -p udp --dport 69 -j ACCEPT || true sudo iptables -I INPUT -d $HOST_IP -p tcp --dport 80 -j ACCEPT || true sudo iptables -I INPUT -d $HOST_IP -p tcp --dport 443 -j ACCEPT || true sudo iptables -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport 80 -j ACCEPT || true sudo iptables -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport 443 -j ACCEPT || true sudo iptables -I INPUT -d $HOST_IP -p tcp --dport ${SWIFT_DEFAULT_BIND_PORT:-8080} -j ACCEPT || true sudo iptables -I INPUT -d $HOST_IP -p tcp --dport $GLANCE_SERVICE_PORT -j ACCEPT || true sudo iptables -I INPUT -d $IRONIC_HTTP_SERVER -p tcp --dport $IRONIC_HTTP_PORT -j ACCEPT || true sudo iptables -I INPUT -d $HOST_IP -p tcp --dport $ISCSI_SERVICE_PORT -s $FLOATING_RANGE -j ACCEPT || true",74,38
openstack%2Fopenstack-helm~master~Ia11dc18e0b13d5fe01918a4c7febb82b19303527,openstack/openstack-helm,master,Ia11dc18e0b13d5fe01918a4c7febb82b19303527,"Revert ""Remove ctl socket ownership""",MERGED,2020-08-03 15:05:38.000000000,2020-08-03 20:55:45.000000000,2020-08-03 20:53:39.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-08-03 15:05:38.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3fe19f259724e45c635ccb298afc54e1313637d', 'message': 'Revert ""Remove ctl socket ownership""\n\nOVS_CTL file is required by other parts of the init\nscript.\n\nThis reverts commit a9693843d77525decefc8a0ba0528624f9e11350.\n\nChange-Id: Ia11dc18e0b13d5fe01918a4c7febb82b19303527\n'}]",0,744503,c3fe19f259724e45c635ccb298afc54e1313637d,14,8,1,29397,,,0,"Revert ""Remove ctl socket ownership""

OVS_CTL file is required by other parts of the init
script.

This reverts commit a9693843d77525decefc8a0ba0528624f9e11350.

Change-Id: Ia11dc18e0b13d5fe01918a4c7febb82b19303527
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/03/744503/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,c3fe19f259724e45c635ccb298afc54e1313637d,,# This enables the usage of 'ovs-appctl' from neutron pod. OVS_PID=$(cat /run/openvswitch/ovs-vswitchd.pid) OVS_CTL=/run/openvswitch/ovs-vswitchd.${OVS_PID}.ctl chown neutron: ${OVS_CTL} ,,5,0
openstack%2Fopenstack-helm~master~Ide9be4875c22bfd2a65a42ac8c0a6c6682f49f4d,openstack/openstack-helm,master,Ide9be4875c22bfd2a65a42ac8c0a6c6682f49f4d,fix(tls): mounts missing secret,MERGED,2020-08-03 16:15:39.000000000,2020-08-03 20:39:26.000000000,2020-08-03 20:37:18.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-08-03 16:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/96172b13bd2260ab95eb91f0ccf6551d42312f25', 'message': 'fix(tls): mounts missing secret\n\nThis patch set adds the missing secret mount for nova-service-cleaner.\n\nChange-Id: Ide9be4875c22bfd2a65a42ac8c0a6c6682f49f4d\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-08-03 16:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ee0dbbeb4563cab2f8e4b63e7be0a910fc649f7', 'message': 'fix(tls): mounts missing secret\n\nThis patch set adds the missing secret mount for nova-service-cleaner.\n\nChange-Id: Ide9be4875c22bfd2a65a42ac8c0a6c6682f49f4d\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-08-03 16:39:06.000000000', 'files': ['nova/templates/cron-job-cell-setup.yaml', 'nova/templates/cron-job-service-cleaner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/945d0828c70802a119348f606026284f766bc022', 'message': 'fix(tls): mounts missing secret\n\nThis patch set adds the missing secret mount for nova-service-cleaner.\n\nChange-Id: Ide9be4875c22bfd2a65a42ac8c0a6c6682f49f4d\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,744522,945d0828c70802a119348f606026284f766bc022,12,4,3,20466,,,0,"fix(tls): mounts missing secret

This patch set adds the missing secret mount for nova-service-cleaner.

Change-Id: Ide9be4875c22bfd2a65a42ac8c0a6c6682f49f4d
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/744522/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/cron-job-service-cleaner.yaml'],1,96172b13bd2260ab95eb91f0ccf6551d42312f25,fix/nova,"{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.compute_metadata.metadata.internal | include ""helm-toolkit.snippets.tls_volume_mount"" | indent 16 }}{{- dict ""enabled"" .Values.manifests.certificates ""name"" .Values.secrets.tls.compute_metadata.metadata.internal | include ""helm-toolkit.snippets.tls_volume"" | indent 12 }}",,2,0
openstack%2Fopenstack-helm~master~I3621be0fa42388180a7ac3e4bc7f7683a0c15b68,openstack/openstack-helm,master,I3621be0fa42388180a7ac3e4bc7f7683a0c15b68,Correct limits and os-availability-zone's policy setting,MERGED,2020-08-03 05:52:10.000000000,2020-08-03 20:16:42.000000000,2020-08-03 20:14:34.000000000,"[{'_account_id': 8898}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28415}]","[{'number': 1, 'created': '2020-08-03 05:52:10.000000000', 'files': ['nova/values.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67eefcf381b252b75ba7b4e7f8c9023522e2862c', 'message': 'Correct limits and os-availability-zone\'s policy setting\n\nIn nova latest code, limits and os-availability-zone have been\nupdated to could be listed as any user by below patches:\nlimits: 4d37ffc111ae8bb43bd33fe995bc3686b065131b\nos-availability-zone: b8c2de86ed46caf7768027e82519c2418989c36b\nAnd target project id is set to {}. So user cannot be matched as\n""owner"", and lead to API access failure.\nUpdate policy to be the same as latest nova code to avoid the error.\n\nChange-Id: I3621be0fa42388180a7ac3e4bc7f7683a0c15b68\nSigned-off-by: Shuicheng Lin <shuicheng.lin@intel.com>\n'}]",0,744392,67eefcf381b252b75ba7b4e7f8c9023522e2862c,11,5,1,28415,,,0,"Correct limits and os-availability-zone's policy setting

In nova latest code, limits and os-availability-zone have been
updated to could be listed as any user by below patches:
limits: 4d37ffc111ae8bb43bd33fe995bc3686b065131b
os-availability-zone: b8c2de86ed46caf7768027e82519c2418989c36b
And target project id is set to {}. So user cannot be matched as
""owner"", and lead to API access failure.
Update policy to be the same as latest nova code to avoid the error.

Change-Id: I3621be0fa42388180a7ac3e4bc7f7683a0c15b68
Signed-off-by: Shuicheng Lin <shuicheng.lin@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/92/744392/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'horizon/values.yaml']",2,67eefcf381b252b75ba7b4e7f8c9023522e2862c,, 'os_compute_api:limits': '@' 'os_compute_api:os-availability-zone:list': '@', 'os_compute_api:limits': 'rule:admin_or_owner' 'os_compute_api:os-availability-zone:list': 'rule:admin_or_owner',4,4
openstack%2Fopenstack-helm-infra~master~Iecc79ebbdfaa74886bca989b23f7741a1c3dca16,openstack/openstack-helm-infra,master,Iecc79ebbdfaa74886bca989b23f7741a1c3dca16,[ceph-client] update logic of inactive pgs check,MERGED,2020-07-29 03:40:08.000000000,2020-08-03 20:13:53.000000000,2020-08-03 20:12:06.000000000,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29131}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-29 03:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/830b8509b33d6648b2ed962fbda61e36fc03b8ff', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- Changed the criteria: all pgs should be in ""active+clean"" state\n- The pgs should be in that state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 2, 'created': '2020-07-29 03:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1d248f090058af40f3dd90a8170ed60f2fbfd61b', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- Changed the criteria: all pgs should be in ""active+clean"" state\n- The pgs should be in that state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 3, 'created': '2020-07-29 05:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dcaacedf23ba02ce84f4bdb307f80fbbc77525c2', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- Changed the criteria: all pgs should be in ""active+clean"" state\n- The pgs should be in that state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 4, 'created': '2020-07-29 08:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43108d02517d53cd5260432f95b8bda30905240a', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- Changed the criteria: all pgs should be in ""active+clean"" state\n- The pgs should be in that state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 5, 'created': '2020-07-29 17:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36f72355a3e4304035b851f83b61f1247154eeb0', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- All pgs should be in ""active+"" state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 6, 'created': '2020-07-29 17:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f064437b03886686f10a4e87be2bb09624b2077', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- All pgs should be in ""active+"" state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 7, 'created': '2020-07-29 18:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b1813d37aadf776dca9faa57025456a6468e7f77', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- All pgs should be in ""active+"" state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 8, 'created': '2020-07-31 00:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6261fd3281d0d4d8cde3676ec5fec1cb9f19f6f', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- All pgs should be in ""active+"" state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 9, 'created': '2020-07-31 01:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28c2f464c04ff5472cbe0f59cd488dbb37a9e468', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- All pgs should be in ""active+"" state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 10, 'created': '2020-07-31 07:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fdd7f658de0469c391f8181af91b0c21a7ec9702', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- All pgs should be in ""active+"" state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}, {'number': 11, 'created': '2020-08-03 15:43:28.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6d6ae051d3f6ef14422c2386ec7acda3d0cde97', 'message': '[ceph-client] update logic of inactive pgs check\n\nThe PS updates wait_for_inactive_pgs function:\n- Changed the name of the function to wait_for_pgs\n- Added a query for getting status of pgs\n- All pgs should be in ""active+"" state at least three times in a row\n\nChange-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16\n'}]",0,743673,f6d6ae051d3f6ef14422c2386ec7acda3d0cde97,34,8,11,17119,,,0,"[ceph-client] update logic of inactive pgs check

The PS updates wait_for_inactive_pgs function:
- Changed the name of the function to wait_for_pgs
- Added a query for getting status of pgs
- All pgs should be in ""active+"" state at least three times in a row

Change-Id: Iecc79ebbdfaa74886bca989b23f7741a1c3dca16
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/743673/4 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,830b8509b33d6648b2ed962fbda61e36fc03b8ff,,"function wait_for_pgs () { echo ""#### Start: Checking pgs ####"" pgs_ready=0 query='map({state: .state}) | group_by(.state) | map({state: .[0].state, count: length}) | .[] | select(.state!=""active+clean"")' if [[ $(ceph tell mon.* version | egrep -q ""nautilus""; echo $?) -eq 0 ]]; then query="".pg_stats | ${query}"" fi while [[ $pgs_ready -lt 3 ]]; do if [[ `ceph --cluster ${CLUSTER} pg ls -f json | jq -c ""${query}""` ]]; then pgs_ready=0 else ((pgs_ready+1)) fi sleep 3 donewait_for_pgs","function wait_for_inactive_pgs () { echo ""#### Start: Checking for inactive pgs ####"" if [[ $(ceph tell mon.* version | egrep -q ""nautilus""; echo $?) -eq 0 ]]; then while [[ `ceph --cluster ${CLUSTER} pg ls | tail -n +2 | head -n -2 | grep -v ""active+""` ]] do sleep 3 done else while [[ `ceph --cluster ${CLUSTER} pg ls | tail -n +2 | grep -v ""active+""` ]] do sleep 3 done fiwait_for_inactive_pgs",18,14
openstack%2Frequirements~master~I2eeaa6f3ccb3973839dfa83e008f6a3f3a909f8d,openstack/requirements,master,I2eeaa6f3ccb3973839dfa83e008f6a3f3a909f8d,add build directory to gitignore,MERGED,2020-08-03 14:42:52.000000000,2020-08-03 20:07:19.000000000,2020-08-03 20:05:40.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:42:52.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/requirements/commit/54259a621df4e0d9f4a124f5daa4e60dc23bca7e', 'message': 'add build directory to gitignore\n\nChange-Id: I2eeaa6f3ccb3973839dfa83e008f6a3f3a909f8d\n'}]",0,744495,54259a621df4e0d9f4a124f5daa4e60dc23bca7e,7,2,1,14288,,,0,"add build directory to gitignore

Change-Id: I2eeaa6f3ccb3973839dfa83e008f6a3f3a909f8d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/95/744495/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,54259a621df4e0d9f4a124f5daa4e60dc23bca7e,add-build-to-gitignnore,build,,1,0
openstack%2Fopenstack-helm-infra~master~I9821637e75e8f89b59cf39842a6eb7e66518fa2c,openstack/openstack-helm-infra,master,I9821637e75e8f89b59cf39842a6eb7e66518fa2c,Use hostPID for ceph-mgr deployment,MERGED,2020-07-31 18:22:50.000000000,2020-08-03 19:55:20.000000000,2020-08-03 19:53:24.000000000,"[{'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 32260}]","[{'number': 1, 'created': '2020-07-31 18:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5ef602e8271ea9a0d57ff908863a6a39038ce383', 'message': 'Use hostPID for ceph-mgr deployment\n\nThis change is to address a memory leak in the ceph-mgr deployment.\nThe leak has also been noted in:\n\nhttps://review.opendev.org/#/c/711085\n\nWithout this change memory usage for the active ceph-mgr pod will\nsteadily increase by roughly 100MiB per hour until all available\nmemory has been exhausted. Reset messages will also be seen in the\nactive and standby ceph-mgr pod logs.\n\nSample messages:\n\n---\n\n0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1\n0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1\n0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1\n\n---\n\nThe root cause of the resets and associated memory leak appears to\nbe due to multiple ceph pods sharing the same IP address (due to\nhostNetwork being true) and PID (due to hostPID being false).\nIn the messages above the ""1"" at the end of the line is the PID.\nCeph appears to use the Version:IP:Port/PID (v2:10.0.0.226:6808/1)\ntuple as a unique identifier. When hostPID is false conflicts arise.\n\nSetting hostPID to true stops the reset messages and memory leak.\n\nChange-Id: I9821637e75e8f89b59cf39842a6eb7e66518fa2c\n'}, {'number': 2, 'created': '2020-08-03 17:35:51.000000000', 'files': ['ceph-client/templates/deployment-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5909bcbdef49843295a1b8717a564bc4cf6e6491', 'message': 'Use hostPID for ceph-mgr deployment\n\nThis change is to address a memory leak in the ceph-mgr deployment.\nThe leak has also been noted in:\n\nhttps://review.opendev.org/#/c/711085\n\nWithout this change memory usage for the active ceph-mgr pod will\nsteadily increase by roughly 100MiB per hour until all available\nmemory has been exhausted. Reset messages will also be seen in the\nactive and standby ceph-mgr pod logs.\n\nSample messages:\n\n---\n\n0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1\n0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1\n0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1\n\n---\n\nThe root cause of the resets and associated memory leak appears to\nbe due to multiple ceph pods sharing the same IP address (due to\nhostNetwork being true) and PID (due to hostPID being false).\nIn the messages above the ""1"" at the end of the line is the PID.\nCeph appears to use the Version:IP:Port/PID (v2:10.0.0.226:6808/1)\ntuple as a unique identifier. When hostPID is false conflicts arise.\n\nSetting hostPID to true stops the reset messages and memory leak.\n\nChange-Id: I9821637e75e8f89b59cf39842a6eb7e66518fa2c\n'}]",0,744236,5909bcbdef49843295a1b8717a564bc4cf6e6491,19,10,2,32260,,,0,"Use hostPID for ceph-mgr deployment

This change is to address a memory leak in the ceph-mgr deployment.
The leak has also been noted in:

https://review.opendev.org/#/c/711085

Without this change memory usage for the active ceph-mgr pod will
steadily increase by roughly 100MiB per hour until all available
memory has been exhausted. Reset messages will also be seen in the
active and standby ceph-mgr pod logs.

Sample messages:

---

0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1
0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1
0 client.0 ms_handle_reset on v2:10.0.0.226:6808/1

---

The root cause of the resets and associated memory leak appears to
be due to multiple ceph pods sharing the same IP address (due to
hostNetwork being true) and PID (due to hostPID being false).
In the messages above the ""1"" at the end of the line is the PID.
Ceph appears to use the Version:IP:Port/PID (v2:10.0.0.226:6808/1)
tuple as a unique identifier. When hostPID is false conflicts arise.

Setting hostPID to true stops the reset messages and memory leak.

Change-Id: I9821637e75e8f89b59cf39842a6eb7e66518fa2c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/36/744236/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/deployment-mgr.yaml'],1,5ef602e8271ea9a0d57ff908863a6a39038ce383,ceph-mgr-hostpid, hostPID: true,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I2033efd47c09707797a4b48a853517d42f584e76,openstack/tripleo-common,stable/train,I2033efd47c09707797a4b48a853517d42f584e76,Add a strict option to per role tasks file generation.,MERGED,2020-07-31 12:04:54.000000000,2020-08-03 19:42:56.000000000,2020-08-03 19:41:39.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 12:04:54.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b5fde5e91a37c484880b0f0a47af2aab82fe775', 'message': ""Add a strict option to per role tasks file generation.\n\nFor upgrade and deployment we generate tasks files based on the step\ntasks must run in.\n\nBy default, all tasks that doesn't have a matching conditional are\nincluded in all step files.\n\nWe add a option to be able to control this behavior.\n\nPER_STEP_TASKS becomes a dictionary with key being the current config\ncollected and the value is an array.  Each element of the array map to\nthe steps: element 0 is step0 and so on.  That element tell the\n_write_tasks_per_step function if we include tasks with no\nconditional when it is False or excluded when it is True.\n\nThis structure opens four possibilities:\n\n - allow to have step task of different length: for instance if we\n   want to expand post update tasks which have a length of four (not\n   DEFAULT_STEPS_MAX)\n\n - In testing, we can identify the tasks with no conditional by\n   putting all normal step to strict (set True for every step) and add\n   a extra one set to False.  The extra one will have the steps with\n   no conditional.\n\n - Identify when the conditional matcher in _write_tasks_per_step\n   fails.\n\n - Eventually, set everything to strict to force the developer to\n   properly add conditional to every tasks.\n\nAs it is, the change has no impact and keep the current default\nbehavior.\n\nChange-Id: I2033efd47c09707797a4b48a853517d42f584e76\n(cherry picked from commit 7c67777f4a256bfc8c5285294769671f0922d479)\n(cherry picked from commit e56cdbff2e9562668092069d1d3e07a0e80b5da1)\n""}]",0,744140,6b5fde5e91a37c484880b0f0a47af2aab82fe775,8,3,1,8297,,,0,"Add a strict option to per role tasks file generation.

For upgrade and deployment we generate tasks files based on the step
tasks must run in.

By default, all tasks that doesn't have a matching conditional are
included in all step files.

We add a option to be able to control this behavior.

PER_STEP_TASKS becomes a dictionary with key being the current config
collected and the value is an array.  Each element of the array map to
the steps: element 0 is step0 and so on.  That element tell the
_write_tasks_per_step function if we include tasks with no
conditional when it is False or excluded when it is True.

This structure opens four possibilities:

 - allow to have step task of different length: for instance if we
   want to expand post update tasks which have a length of four (not
   DEFAULT_STEPS_MAX)

 - In testing, we can identify the tasks with no conditional by
   putting all normal step to strict (set True for every step) and add
   a extra one set to False.  The extra one will have the steps with
   no conditional.

 - Identify when the conditional matcher in _write_tasks_per_step
   fails.

 - Eventually, set everything to strict to force the developer to
   properly add conditional to every tasks.

As it is, the change has no impact and keep the current default
behavior.

Change-Id: I2033efd47c09707797a4b48a853517d42f584e76
(cherry picked from commit 7c67777f4a256bfc8c5285294769671f0922d479)
(cherry picked from commit e56cdbff2e9562668092069d1d3e07a0e80b5da1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/744140/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/config.py']",2,6b5fde5e91a37c484880b0f0a47af2aab82fe775,," def _write_tasks_per_step(self, tasks, filepath, step, strict=False): def step_in_task(task, step, strict): if not strict: # If no step is defined, it will be executed for all # steps if strict is false return True else: # We only want the task with the step defined. return False # No match if strict: return False tasks_per_step = [task for task in tasks if step_in_task(task, step, strict)] if config in constants.PER_STEP_TASKS.keys(): for i in range(len(constants.PER_STEP_TASKS[config])): self._write_tasks_per_step( role[config], filepath, i, constants.PER_STEP_TASKS[config][i])"," def _write_tasks_per_step(self, tasks, filepath, step): def step_in_task(task, step): # If no step is defined, it will be executed for all # steps. return True tasks_per_step = [task for task in tasks if step_in_task(task, step)] if config in constants.PER_STEP_TASKS: for i in range(constants.DEFAULT_STEPS_MAX): self._write_tasks_per_step(role[config], filepath, i)",27,11
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~I9c5e2584f8f1d9bd76120b8b236e25f63804473a,openstack/openstack-ansible-os_nova,stable/ussuri,I9c5e2584f8f1d9bd76120b8b236e25f63804473a,Use nova_management_address as a default VNC bind address,MERGED,2020-08-03 06:17:11.000000000,2020-08-03 19:08:07.000000000,2020-08-03 19:05:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-08-03 06:17:11.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/667f42555a168b63ce3abdeef2f94acc17de424a', 'message': ""Use nova_management_address as a default VNC bind address\n\nOur installation uses separate networks for deployment and\nOpenStack management. The current default of 'ansible_host' for\nthe VNC server results in it binding to our deployment network.\n\nWhilst this could be resolved via variable overrides, the majority\nof the defaults and templated options in this role use the Nova\nmanagement address as the default choice for binding to.\n\nThis patch changes the default VNC bind address to match the\nexisting standard pattern, which should avoid the need for\noverrides in most cases. As a result, for our setup, when\nnova_management_address is identified and set in the OSA nova\nplaybooks to match the OpenStack management network, the VNC server\nbind address gets set to the correct address.\n\nChange-Id: I9c5e2584f8f1d9bd76120b8b236e25f63804473a\n(cherry picked from commit 9da99e1f7c3de3c28011ef39966894a2735bee20)\n""}]",0,744393,667f42555a168b63ce3abdeef2f94acc17de424a,8,4,1,28619,,,0,"Use nova_management_address as a default VNC bind address

Our installation uses separate networks for deployment and
OpenStack management. The current default of 'ansible_host' for
the VNC server results in it binding to our deployment network.

Whilst this could be resolved via variable overrides, the majority
of the defaults and templated options in this role use the Nova
management address as the default choice for binding to.

This patch changes the default VNC bind address to match the
existing standard pattern, which should avoid the need for
overrides in most cases. As a result, for our setup, when
nova_management_address is identified and set in the OSA nova
playbooks to match the OpenStack management network, the VNC server
bind address gets set to the correct address.

Change-Id: I9c5e2584f8f1d9bd76120b8b236e25f63804473a
(cherry picked from commit 9da99e1f7c3de3c28011ef39966894a2735bee20)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/93/744393/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,667f42555a168b63ce3abdeef2f94acc17de424a,vnc-bind-address-stable/ussuri,"nova_novncproxy_vncserver_proxyclient_address: ""{{ (nova_management_address == 'localhost') | ternary('127.0.0.1', nova_management_address) }}"" nova_novncproxy_vncserver_listen: ""{{ (nova_management_address == 'localhost') | ternary('127.0.0.1', nova_management_address) }}""","nova_novncproxy_vncserver_proxyclient_address: ""{{ ansible_host }}"" nova_novncproxy_vncserver_listen: ""{{ ansible_host }}""",2,2
openstack%2Ftripleo-ansible~master~Ie062de5462950449d5432fd5b108caff909d4ed9,openstack/tripleo-ansible,master,Ie062de5462950449d5432fd5b108caff909d4ed9,Remove useless validate_stack from deployment plan creation,MERGED,2020-07-27 00:26:08.000000000,2020-08-03 19:05:55.000000000,2020-08-03 19:05:55.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-27 00:26:08.000000000', 'files': ['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/11bb4ed8d4df271d63c1a128eecfd62b5931c28f', 'message': 'Remove useless validate_stack from deployment plan creation\n\nThe validate_stack parameter is implemented in create deploment plan\nplaybook, but in fact the parameter is never used in playbook.\n\nChange-Id: Ie062de5462950449d5432fd5b108caff909d4ed9\n'}]",0,743128,11bb4ed8d4df271d63c1a128eecfd62b5931c28f,9,5,1,9816,,,0,"Remove useless validate_stack from deployment plan creation

The validate_stack parameter is implemented in create deploment plan
playbook, but in fact the parameter is never used in playbook.

Change-Id: Ie062de5462950449d5432fd5b108caff909d4ed9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/743128/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml'],1,11bb4ed8d4df271d63c1a128eecfd62b5931c28f,validate_stack,, validate_stack: true,0,1
openstack%2Fnova~master~I3d59e672e5d00edd5643f2b017312ef7c84abd76,openstack/nova,master,I3d59e672e5d00edd5643f2b017312ef7c84abd76,WIP lower-constraints: Update and address cyclic dependencies,ABANDONED,2020-08-03 09:27:18.000000000,2020-08-03 19:02:55.000000000,,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-03 09:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9199d8f7d7fdb364715128e4162d1cf0887bca53', 'message': 'WIP lower-constraints: Bump dogpile.cache to 1.0.1 and decorator to 4.0.0\n\nCloses-Bug: #1890123\nChange-Id: I3d59e672e5d00edd5643f2b017312ef7c84abd76\n'}, {'number': 2, 'created': '2020-08-03 12:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/690f70f0f5275937684ceabee99f572754dec80d', 'message': 'WIP lower-constraints: Update and address cyclic dependencies\n\n$ pipdeptree\nWarning!!! Possibly conflicting dependencies found:\n* warlock==1.2.0\n - jsonschema [required: >=0.7,<3, installed: 3.2.0]\n* taskflow==2.16.0\n - jsonschema [required: >=2.6.0,<3.0.0, installed: 3.2.0]\n* python-ironicclient==2.7.0\n - jsonschema [required: >=2.6.0,<3.0.0, installed: 3.2.0]\n* oslotest==3.8.0\n - stestr [required: >=2.0.0, installed: 1.0.0]\n* oslo.service==2.3.2\n - eventlet [required: >=0.25.2, installed: 0.21.0]\n* oslo.privsep==2.3.0\n - msgpack [required: >=0.6.0, installed: 0.5.6]\n - greenlet [required: >=0.4.14, installed: 0.4.10]\n* oslo.log==4.3.0\n - python-dateutil [required: >=2.7.0, installed: 2.5.3]\n - pbr [required: >=3.1.1, installed: 2.0.0]\n* oslo.config==8.3.1\n - rfc3986 [required: >=1.2.0, installed: 1.1.0]\n - requests [required: >=2.18.0, installed: 2.14.2]\n* os-xenapi==0.3.3\n - eventlet [required: >=0.18.2,<0.21.0,!=0.20.1,!=0.18.3, installed:\n   0.21.0]\n* os-win==3.0.0\n - eventlet [required: >=0.18.2,<0.21.0,!=0.20.1,!=0.18.3, installed:\n   0.21.0]\n* os-brick==3.0.1\n - eventlet [required:\n   >=0.18.2,!=0.25.0,!=0.23.0,!=0.21.0,!=0.20.1,!=0.18.3, installed:\n0.21.0]\n* jsonschema==3.2.0\n - six [required: >=1.11.0, installed: 1.10.0]\n* dogpile.cache==1.0.1\n - stevedore [required: >=3.0.0, installed: 1.20.0]\n - decorator [required: >=4.0.0, installed: 3.4.0]\n------------------------------------------------------------------------\nWarning!! Cyclic dependencies found:\n* testtools => fixtures => testtools\n* fixtures => testtools => fixtures\n------------------------------------------------------------------------\n\nCloses-Bug: #1890123\nChange-Id: I3d59e672e5d00edd5643f2b017312ef7c84abd76\n'}, {'number': 3, 'created': '2020-08-03 12:57:55.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/863d00b5dd79289d1f903eb72898816f699ba2be', 'message': 'WIP lower-constraints: Update and address cyclic dependencies\n\n$ pipdeptree\nWarning!!! Possibly conflicting dependencies found:\n* warlock==1.2.0\n - jsonschema [required: >=0.7,<3, installed: 3.2.0]\n* taskflow==2.16.0\n - jsonschema [required: >=2.6.0,<3.0.0, installed: 3.2.0]\n* python-ironicclient==2.7.0\n - jsonschema [required: >=2.6.0,<3.0.0, installed: 3.2.0]\n* oslotest==3.8.0\n - stestr [required: >=2.0.0, installed: 1.0.0]\n* oslo.service==2.3.2\n - eventlet [required: >=0.25.2, installed: 0.21.0]\n* oslo.privsep==2.3.0\n - msgpack [required: >=0.6.0, installed: 0.5.6]\n - greenlet [required: >=0.4.14, installed: 0.4.10]\n* oslo.log==4.3.0\n - python-dateutil [required: >=2.7.0, installed: 2.5.3]\n - pbr [required: >=3.1.1, installed: 2.0.0]\n* oslo.config==8.3.1\n - rfc3986 [required: >=1.2.0, installed: 1.1.0]\n - requests [required: >=2.18.0, installed: 2.14.2]\n* os-xenapi==0.3.3\n - eventlet [required: >=0.18.2,<0.21.0,!=0.20.1,!=0.18.3, installed:\n   0.21.0]\n* os-win==3.0.0\n - eventlet [required: >=0.18.2,<0.21.0,!=0.20.1,!=0.18.3, installed:\n   0.21.0]\n* os-brick==3.0.1\n - eventlet [required:\n   >=0.18.2,!=0.25.0,!=0.23.0,!=0.21.0,!=0.20.1,!=0.18.3, installed:\n0.21.0]\n* jsonschema==3.2.0\n - six [required: >=1.11.0, installed: 1.10.0]\n* dogpile.cache==1.0.1\n - stevedore [required: >=3.0.0, installed: 1.20.0]\n - decorator [required: >=4.0.0, installed: 3.4.0]\n------------------------------------------------------------------------\nWarning!! Cyclic dependencies found:\n* testtools => fixtures => testtools\n* fixtures => testtools => fixtures\n------------------------------------------------------------------------\n\nCloses-Bug: #1890123\nChange-Id: I3d59e672e5d00edd5643f2b017312ef7c84abd76\n'}]",5,744426,863d00b5dd79289d1f903eb72898816f699ba2be,28,10,3,10135,,,0,"WIP lower-constraints: Update and address cyclic dependencies

$ pipdeptree
Warning!!! Possibly conflicting dependencies found:
* warlock==1.2.0
 - jsonschema [required: >=0.7,<3, installed: 3.2.0]
* taskflow==2.16.0
 - jsonschema [required: >=2.6.0,<3.0.0, installed: 3.2.0]
* python-ironicclient==2.7.0
 - jsonschema [required: >=2.6.0,<3.0.0, installed: 3.2.0]
* oslotest==3.8.0
 - stestr [required: >=2.0.0, installed: 1.0.0]
* oslo.service==2.3.2
 - eventlet [required: >=0.25.2, installed: 0.21.0]
* oslo.privsep==2.3.0
 - msgpack [required: >=0.6.0, installed: 0.5.6]
 - greenlet [required: >=0.4.14, installed: 0.4.10]
* oslo.log==4.3.0
 - python-dateutil [required: >=2.7.0, installed: 2.5.3]
 - pbr [required: >=3.1.1, installed: 2.0.0]
* oslo.config==8.3.1
 - rfc3986 [required: >=1.2.0, installed: 1.1.0]
 - requests [required: >=2.18.0, installed: 2.14.2]
* os-xenapi==0.3.3
 - eventlet [required: >=0.18.2,<0.21.0,!=0.20.1,!=0.18.3, installed:
   0.21.0]
* os-win==3.0.0
 - eventlet [required: >=0.18.2,<0.21.0,!=0.20.1,!=0.18.3, installed:
   0.21.0]
* os-brick==3.0.1
 - eventlet [required:
   >=0.18.2,!=0.25.0,!=0.23.0,!=0.21.0,!=0.20.1,!=0.18.3, installed:
0.21.0]
* jsonschema==3.2.0
 - six [required: >=1.11.0, installed: 1.10.0]
* dogpile.cache==1.0.1
 - stevedore [required: >=3.0.0, installed: 1.20.0]
 - decorator [required: >=4.0.0, installed: 3.4.0]
------------------------------------------------------------------------
Warning!! Cyclic dependencies found:
* testtools => fixtures => testtools
* fixtures => testtools => fixtures
------------------------------------------------------------------------

Closes-Bug: #1890123
Change-Id: I3d59e672e5d00edd5643f2b017312ef7c84abd76
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/744426/3 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,9199d8f7d7fdb364715128e4162d1cf0887bca53,bug/1890123,decorator==4.0.0dogpile.cache==1.0.1,decorator==3.4.0dogpile.cache==0.6.5,2,2
openstack%2Fnova~master~I98da574b6ffd1faf5e673690d8b796e3e09c1bb3,openstack/nova,master,I98da574b6ffd1faf5e673690d8b796e3e09c1bb3,WIP lower-constraints: Pin to python3.6,ABANDONED,2020-08-03 12:40:38.000000000,2020-08-03 19:02:50.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-03 12:40:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/494e58695b6cfcfa004b1f2ed8a0aac57d670700', 'message': 'WIP lower-constraints: Pin to python3.6\n\nChange-Id: I98da574b6ffd1faf5e673690d8b796e3e09c1bb3\n'}]",0,744458,494e58695b6cfcfa004b1f2ed8a0aac57d670700,9,6,1,10135,,,0,"WIP lower-constraints: Pin to python3.6

Change-Id: I98da574b6ffd1faf5e673690d8b796e3e09c1bb3
",git fetch https://review.opendev.org/openstack/nova refs/changes/58/744458/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,494e58695b6cfcfa004b1f2ed8a0aac57d670700,bug/1890123,basepython = python3.6,,1,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~Iff6326f72971364d275ea999418d476007690ef8,openstack/openstack-ansible-os_nova,stable/ussuri,Iff6326f72971364d275ea999418d476007690ef8,Use Nova management IP for live migrations,MERGED,2020-08-03 06:22:21.000000000,2020-08-03 18:49:18.000000000,2020-08-03 18:46:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28182}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-03 06:22:21.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2cffce8485ea9db465ed7bbc2121e55d76d017ca', 'message': 'Use Nova management IP for live migrations\n\nOur installation uses separate networks for deployment and for\nOpenStack management. By default, live migrations depend upon a\nhostname, which resolves to an IP on our (lower speed) deployment\nnetwork. Dependent on the deployment, the hostname may not be a\nreliable mechanism for determining the correct network for live\nmigrations.\n\nNova exposes a live_migration_inbound_addr which can be used to\ncorrect this. This patch defaults the inbound_addr to match the\nNova service bind address, but provides the option for it to be\noverwritten through variables.\n\nWhilst the Nova docs suggest that live_migration_inbound_addr\nis ignored when live_migration_tunnelled is enabled this appears\nto be inaccurate from our testing.\n\nChange-Id: Iff6326f72971364d275ea999418d476007690ef8\nRelated-Bug: #1576724\n(cherry picked from commit 71f3fb224a1c4cac0490182543fe20bb8b64d690)\n'}]",0,744396,2cffce8485ea9db465ed7bbc2121e55d76d017ca,10,6,1,28619,,,0,"Use Nova management IP for live migrations

Our installation uses separate networks for deployment and for
OpenStack management. By default, live migrations depend upon a
hostname, which resolves to an IP on our (lower speed) deployment
network. Dependent on the deployment, the hostname may not be a
reliable mechanism for determining the correct network for live
migrations.

Nova exposes a live_migration_inbound_addr which can be used to
correct this. This patch defaults the inbound_addr to match the
Nova service bind address, but provides the option for it to be
overwritten through variables.

Whilst the Nova docs suggest that live_migration_inbound_addr
is ignored when live_migration_tunnelled is enabled this appears
to be inaccurate from our testing.

Change-Id: Iff6326f72971364d275ea999418d476007690ef8
Related-Bug: #1576724
(cherry picked from commit 71f3fb224a1c4cac0490182543fe20bb8b64d690)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/96/744396/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml']",2,2cffce8485ea9db465ed7bbc2121e55d76d017ca,bug/1576724-stable/ussuri,"nova_libvirt_live_migration_inbound_addr: '{{ (nova_management_address == ""localhost"") | ternary(""127.0.0.1"", nova_management_address) }}'",,2,0
openstack%2Fopenstack-helm~master~I3d84fd67367c68d38541c6f8b5a38ab8a906d454,openstack/openstack-helm,master,I3d84fd67367c68d38541c6f8b5a38ab8a906d454,neutron: pass rps server .ini for enabled plugins,MERGED,2020-08-01 15:54:55.000000000,2020-08-03 18:46:14.000000000,2020-08-03 18:42:47.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}]","[{'number': 1, 'created': '2020-08-01 15:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/669b9b6bd505e473189c6563d700ed5c0fa8d66a', 'message': 'neutron: pass rps server .ini for enabled plugins\n\nThis patch set passes .ini config file to the rpc-server\nfor the enabled plugins.\n\nChange-Id: I3d84fd67367c68d38541c6f8b5a38ab8a906d454\n'}, {'number': 2, 'created': '2020-08-03 15:07:13.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/templates/bin/_neutron-rpc-server.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b7667a55074efdbd7a22de445d7222285804fc07', 'message': 'neutron: pass rps server .ini for enabled plugins\n\nThis patch set passes .ini config file to the rpc-server\nfor the enabled plugins.\n\nChange-Id: I3d84fd67367c68d38541c6f8b5a38ab8a906d454\n'}]",0,744284,b7667a55074efdbd7a22de445d7222285804fc07,11,4,2,24780,,,0,"neutron: pass rps server .ini for enabled plugins

This patch set passes .ini config file to the rpc-server
for the enabled plugins.

Change-Id: I3d84fd67367c68d38541c6f8b5a38ab8a906d454
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/84/744284/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/templates/bin/_neutron-rpc-server.sh.tpl']",2,669b9b6bd505e473189c6563d700ed5c0fa8d66a,,"{{- if ( has ""tungstenfabric"" .Values.network.backend ) }} --config-file /etc/neutron/plugins/tungstenfabric/tf_plugin.ini {{- else }}{{- end }} {{- if .Values.conf.plugins.taas.taas.enabled }} \ --config-file /etc/neutron/taas_plugin.ini {{- end }} {{- if ( has ""sriov"" .Values.network.backend ) }} \ --config-file /etc/neutron/plugins/ml2/sriov_agent.ini {{- end }} {{- if .Values.conf.plugins.l2gateway }} \ --config-file /etc/neutron/l2gw_plugin.ini {{- end }}",,37,0
openstack%2Ftripleo-validations~stable%2Ftrain~Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14,openstack/tripleo-validations,stable/train,Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14,Make Get OSD stat percentage compatible with jq < 1.5,MERGED,2020-07-28 15:57:52.000000000,2020-08-03 18:12:06.000000000,2020-08-03 18:12:06.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-28 15:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f3a623d00bfea4ca1354d542166943a91406bb7c', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14\n'}, {'number': 2, 'created': '2020-07-28 16:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/00957408a9c69170a13507b7dc2b753cccbf1eaf', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nCloses-Bug: #1882387\nChange-Id: Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14\n'}, {'number': 3, 'created': '2020-07-28 16:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5546cc33d403d38a92cbb2af93da46dedbb67d0d', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nCloses-Bug: #1889279\nChange-Id: Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14\n'}, {'number': 4, 'created': '2020-07-28 17:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1cc6ea642b6eb3b0f97c56e8d4b12c0eaa12e5c6', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14\nCloses-Bug: #1889279\n(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)\n'}, {'number': 5, 'created': '2020-07-29 07:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/98841e02b9ed167270e7f63537b01ec266ff6c77', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14\nCloses-Bug: #1889279\n(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)\n'}, {'number': 6, 'created': '2020-08-03 07:09:29.000000000', 'files': ['roles/ceph/tasks/ceph-health.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5dcaa10e894438fbc3b0cd6ba48a2407081d8613', 'message': 'Make Get OSD stat percentage compatible with jq < 1.5\n\nOn upgrades we\'re using validations (from train) against controller that\nare still on queens. On queens jq package is <1.5 and the ""try"" keyword\nis not available.\nThis purpose of this change is to fix this validations getting rid of\n""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.\n\nChange-Id: Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14\nCloses-Bug: #1889279\n(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)\n'}]",3,743572,5dcaa10e894438fbc3b0cd6ba48a2407081d8613,22,5,6,25402,,,0,"Make Get OSD stat percentage compatible with jq < 1.5

On upgrades we're using validations (from train) against controller that
are still on queens. On queens jq package is <1.5 and the ""try"" keyword
is not available.
This purpose of this change is to fix this validations getting rid of
""try-catch"" in favour of ""if-else"" which works for 1.3+ < jq < 1.5.

Change-Id: Iddea0c21da194ef7cbe781d4fc4ad932f6fc2c14
Closes-Bug: #1889279
(cherry picked from commit 436671832b0ee8aed87ebd6c5ce45e18ec00710c)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/72/743572/6 && git format-patch -1 --stdout FETCH_HEAD,['roles/ceph/tasks/ceph-health.yaml'],1,f3a623d00bfea4ca1354d542166943a91406bb7c,, jq_osd_percentage_filter: '(if .osdmap != null then { osds: (.osdmap.num_in_osds / .osdmap.num_osds * 100) } else { osds: (.num_in_osds / .num_osds * 100) } end) | .osds', jq_osd_percentage_filter: '( (try .osdmap.num_in_osds + try .num_in_osds) / (try .osdmap.num_osds + try .num_osds)) * 100',1,1
openstack%2Fopenstack-ansible~master~I9992b70f2c6bef37b5ec2bf0359e06cfcd63cb93,openstack/openstack-ansible,master,I9992b70f2c6bef37b5ec2bf0359e06cfcd63cb93,Imported Translations from Zanata,MERGED,2020-08-03 09:34:59.000000000,2020-08-03 17:19:29.000000000,2020-08-03 17:17:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-08-03 09:34:59.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/30c3ce01456ecbe97caee26b332fe704217eb53b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9992b70f2c6bef37b5ec2bf0359e06cfcd63cb93\n'}]",0,744430,30c3ce01456ecbe97caee26b332fe704217eb53b,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9992b70f2c6bef37b5ec2bf0359e06cfcd63cb93
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/30/744430/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,30c3ce01456ecbe97caee26b332fe704217eb53b,zanata/translations,"""POT-Creation-Date: 2020-07-29 12:48+0000\n""""PO-Revision-Date: 2020-08-02 06:06+0000\n""msgid ""21.0.0.0rc1-42"" msgstr ""21.0.0.0rc1-42""","""POT-Creation-Date: 2020-07-28 15:16+0000\n""""PO-Revision-Date: 2020-07-28 07:28+0000\n""msgid ""21.0.0.0rc1-41"" msgstr ""21.0.0.0rc1-41""",4,4
openstack%2Fsushy-tools~master~Ie81bef0eca87d8bcd2d8302df3186d79fb7598f3,openstack/sushy-tools,master,Ie81bef0eca87d8bcd2d8302df3186d79fb7598f3,Fix handling SUSHY_EMULATOR_CONFIG when running under a WSGI server,MERGED,2020-08-03 13:38:27.000000000,2020-08-03 16:52:11.000000000,2020-08-03 16:50:50.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-08-03 13:38:27.000000000', 'files': ['sushy_tools/emulator/main.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f4054cf8e91ae8fd8c7d42ab8581dc17fa31ddbd', 'message': 'Fix handling SUSHY_EMULATOR_CONFIG when running under a WSGI server\n\nThis variable is currently handled in main() which is not run when\na real WSGI server is used, making it impossible to pass any config.\n\nChange-Id: Ie81bef0eca87d8bcd2d8302df3186d79fb7598f3\n'}]",0,744471,f4054cf8e91ae8fd8c7d42ab8581dc17fa31ddbd,8,3,1,10239,,,0,"Fix handling SUSHY_EMULATOR_CONFIG when running under a WSGI server

This variable is currently handled in main() which is not run when
a real WSGI server is used, making it impossible to pass any config.

Change-Id: Ie81bef0eca87d8bcd2d8302df3186d79fb7598f3
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/71/744471/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy_tools/emulator/main.py'],1,f4054cf8e91ae8fd8c7d42ab8581dc17fa31ddbd,, class Application(flask.Flask): def __init__(self): super().__init__(__name__) # Turn off strict_slashes on all routes self.url_map.strict_slashes = False config_file = os.environ.get('SUSHY_EMULATOR_CONFIG') if config_file: self.config.from_pyfile(config_file) app = Application() app.config.from_pyfile(args.config),app = flask.Flask(__name__) # Turn off strict_slashes on all routes app.url_map.strict_slashes = False os.environ['SUSHY_EMULATOR_CONFIG'] = args.config config_file = os.environ.get('SUSHY_EMULATOR_CONFIG') if config_file: app.config.from_pyfile(config_file),14,8
openstack%2Frpm-packaging~master~Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03,openstack/rpm-packaging,master,Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03,update openstack-doc-tools to 3.2.0,MERGED,2020-07-24 07:44:44.000000000,2020-08-03 16:43:25.000000000,2020-08-03 16:43:25.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 28654}]","[{'number': 1, 'created': '2020-07-24 07:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/09473e1c038889c941375410ab9b1d6277c65243', 'message': 'update openstack-doc-tools to 3.2.0\n\nChange-Id: Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03\n'}, {'number': 2, 'created': '2020-07-30 16:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ae06a0a5ad5fcaa844eb18a48142c219fe1522e7', 'message': 'update openstack-doc-tools to 3.2.0\n\nChange-Id: Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03\n'}, {'number': 3, 'created': '2020-07-31 13:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/db932e204a29745b2031c14aa499e999cb940045', 'message': 'update openstack-doc-tools to 3.2.0\n\nChange-Id: Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03\n'}, {'number': 4, 'created': '2020-07-31 16:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d0dd882049dcf065a6954e25f467131eee7f8304', 'message': 'update openstack-doc-tools to 3.2.0\n\nChange-Id: Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03\n'}, {'number': 5, 'created': '2020-08-03 12:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7a4fcc55060f5bb46db4f18a22d7eb3e2d1159ca', 'message': 'update openstack-doc-tools to 3.2.0\n\nChange-Id: Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03\n'}, {'number': 6, 'created': '2020-08-03 14:21:22.000000000', 'files': ['openstack/openstack-doc-tools/openstack-doc-tools.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/66eb75af3e9fd33ca1b5cbe8150f9973784385ca', 'message': 'update openstack-doc-tools to 3.2.0\n\nChange-Id: Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03\n'}]",2,742808,66eb75af3e9fd33ca1b5cbe8150f9973784385ca,39,8,6,28654,,,0,"update openstack-doc-tools to 3.2.0

Change-Id: Ia4b20b2dae1dcfb6a94205d64bf7a9d55eca6f03
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/08/742808/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-doc-tools/openstack-doc-tools.spec.j2'],1,09473e1c038889c941375410ab9b1d6277c65243,bug/openstack-doc-tools,{% set upstream_version = upstream_version('3.2.0') %},{% set upstream_version = upstream_version('1.8.0') %},1,1
openstack%2Fkayobe~stable%2Ftrain~Idbdd494f9435d663564346fd0e0a053b656168c3,openstack/kayobe,stable/train,Idbdd494f9435d663564346fd0e0a053b656168c3,Fix network configuration when no eth0 interface is present,MERGED,2020-07-28 18:06:16.000000000,2020-08-03 16:32:32.000000000,2020-08-03 16:31:05.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-28 18:06:16.000000000', 'files': ['requirements.yml', 'releasenotes/notes/remove-ifcfg-eth0-c179ea98fc34e164.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/780fce2b78481a57b8c133a2e4bd69d8ac4b7e55', 'message': 'Fix network configuration when no eth0 interface is present\n\nChange-Id: Idbdd494f9435d663564346fd0e0a053b656168c3\nStory: 2007913\nTask: 40316\n(cherry picked from commit ca648622b1b2ca73989fe2011630aaeb3601f8c2)\n'}]",0,743608,780fce2b78481a57b8c133a2e4bd69d8ac4b7e55,14,4,1,14826,,,0,"Fix network configuration when no eth0 interface is present

Change-Id: Idbdd494f9435d663564346fd0e0a053b656168c3
Story: 2007913
Task: 40316
(cherry picked from commit ca648622b1b2ca73989fe2011630aaeb3601f8c2)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/08/743608/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.yml', 'releasenotes/notes/remove-ifcfg-eth0-c179ea98fc34e164.yaml']",2,780fce2b78481a57b8c133a2e4bd69d8ac4b7e55,,"--- fixes: - | Removes the ``ifcfg-eth0`` network interface configuration file when not required, using a new version of the ``MichaelRigaert.interfaces`` Ansible role. This file ships with CentOS 8 cloud images and can prevent the ``network`` service from starting successfully when no ``eth0`` interface is present or being configured. See `story 2007913 <https://storyboard.openstack.org/#!/story/2007913>`__ for details. ",,10,1
openstack%2Frequirements~master~I9eeda1144990c4539f220971b435840c95181b84,openstack/requirements,master,I9eeda1144990c4539f220971b435840c95181b84,Removing cap from jsonpath-rw,MERGED,2020-08-03 08:54:49.000000000,2020-08-03 16:15:20.000000000,2020-08-03 16:14:03.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 08:54:49.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e3245599156f5dd129161768c49a0715d0c2c16f', 'message': 'Removing cap from jsonpath-rw\n\nThe latest version is 1.4.0 so the <2.0 cap should not be needed.\n\nChange-Id: I9eeda1144990c4539f220971b435840c95181b84\n'}]",0,744420,e3245599156f5dd129161768c49a0715d0c2c16f,8,3,1,23851,,,0,"Removing cap from jsonpath-rw

The latest version is 1.4.0 so the <2.0 cap should not be needed.

Change-Id: I9eeda1144990c4539f220971b435840c95181b84
",git fetch https://review.opendev.org/openstack/requirements refs/changes/20/744420/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,e3245599156f5dd129161768c49a0715d0c2c16f,uncap-jsonpath-rw,jsonpath-rw # Apache-2.0,jsonpath-rw<2.0 # Apache-2.0,1,1
openstack%2Fgovernance~master~I0a3d96268157b056685e954ee8bd2103a32e6e63,openstack/governance,master,I0a3d96268157b056685e954ee8bd2103a32e6e63,Add Keystone Kerberos charm to OpenStack charms,MERGED,2020-07-29 14:08:18.000000000,2020-08-03 16:02:20.000000000,2020-08-03 16:01:03.000000000,"[{'_account_id': 308}, {'_account_id': 935}, {'_account_id': 1004}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-29 14:08:18.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/4020026745980aaf6441038a871e56c8455845d0', 'message': 'Add Keystone Kerberos charm to OpenStack charms\n\nAdd new charm that provides Keystone the ability to authenticate with a\nKerberos server.\n\nDepends-On: Iad535a9b963a3308d11d314484eb2c5d11e2008f\nChange-Id: I0a3d96268157b056685e954ee8bd2103a32e6e63\n'}]",0,743769,4020026745980aaf6441038a871e56c8455845d0,13,5,1,31289,,,0,"Add Keystone Kerberos charm to OpenStack charms

Add new charm that provides Keystone the ability to authenticate with a
Kerberos server.

Depends-On: Iad535a9b963a3308d11d314484eb2c5d11e2008f
Change-Id: I0a3d96268157b056685e954ee8bd2103a32e6e63
",git fetch https://review.opendev.org/openstack/governance refs/changes/69/743769/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,4020026745980aaf6441038a871e56c8455845d0,project-update, charm-keystone-kerberos: release-management: external repos: - openstack/charm-keystone-kerberos,,4,0
openstack%2Ftripleo-ansible~master~I1e6881f3871a7a125db9374c608ecad0bafcb882,openstack/tripleo-ansible,master,I1e6881f3871a7a125db9374c608ecad0bafcb882,Create an action plugin for podman_container module,MERGED,2020-03-30 23:35:00.000000000,2020-08-03 16:00:41.000000000,2020-08-01 01:05:52.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-30 23:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/580d6f73353a6c79d4c84b832118a7285602a8c4', 'message': 'WIP: speed up podman containers by action plugin\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 2, 'created': '2020-03-31 18:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38307a0222657f627c7fb1b6bb9d06976411642c', 'message': 'WIP: speed up podman containers by action plugin\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 3, 'created': '2020-04-04 18:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96d2f133fdd322dda445e751e9761e88aca91884', 'message': 'WIP: speed up podman containers by action plugin\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 4, 'created': '2020-04-24 22:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5c9190ae62bd01372127cf42ce942e6e43653876', 'message': 'WIP: speed up podman containers by action plugin\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 5, 'created': '2020-07-27 15:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/11bb0a9cf0bf1c7a0a98af3eae12d50b113427cb', 'message': 'WIP: speed up podman containers by action plugin\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 6, 'created': '2020-07-28 22:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/457086352f4d643a16a6f41fec3807adc883c69c', 'message': 'WIP: speed up podman containers by action plugin\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 7, 'created': '2020-07-30 19:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c558207531bf76a00550c74bc5bb0e88734d7a2f', 'message': 'WIP: speed up podman containers by action plugin\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 8, 'created': '2020-07-30 20:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30c2ec9e18c923214cbbb5bbd579c79f90f34f32', 'message': 'Create an action plugin for podman_container module\n\nWhen we want to create a large set of containers at the same time, an\naction plugin can now be used which will call the podman_container\nmodule.\n\nThe podman_containers action plugin takes a list of containers with\npre-defined parameters ready to be consumed by the podman_container\nmodule.\n\nThe podman_containers module is just useful for Ansible documentation.\n\nThe molecule tests will ensure that the action plugin actually works and\ncreates the 3 containers.\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 9, 'created': '2020-07-30 20:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f97d727c3d4ec504a841db8f8a8263632d777e5a', 'message': 'Create an action plugin for podman_container module\n\nWhen we want to create a large set of containers at the same time, an\naction plugin can now be used which will call the podman_container\nmodule.\n\nThe podman_containers action plugin takes a list of containers with\npre-defined parameters ready to be consumed by the podman_container\nmodule.\n\nThe podman_containers module is just useful for Ansible documentation.\n\nThe molecule tests will ensure that the action plugin actually works and\ncreates the 3 containers.\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 10, 'created': '2020-07-31 12:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da1c62b4591753f32aaaf19cf673296cb0673343', 'message': 'Create an action plugin for podman_container module\n\nWhen we want to create a large set of containers at the same time, an\naction plugin can now be used which will call the podman_container\nmodule.\n\nThe podman_containers action plugin takes a list of containers with\npre-defined parameters ready to be consumed by the podman_container\nmodule.\n\nThe podman_containers module is just useful for Ansible documentation.\n\nThe molecule tests will ensure that the action plugin actually works and\ncreates the 3 containers.\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}, {'number': 11, 'created': '2020-07-31 12:25:36.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_containers.py', 'tripleo_ansible/ansible_plugins/action/podman_containers.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86f1746120ba35a9506177bfa6f3fff5dd9e007b', 'message': 'Create an action plugin for podman_container module\n\nWhen we want to create a large set of containers at the same time, an\naction plugin can now be used which will call the podman_container\nmodule.\n\nThe podman_containers action plugin takes a list of containers with\npre-defined parameters ready to be consumed by the podman_container\nmodule.\n\nThe podman_containers module is just useful for Ansible documentation.\n\nThe molecule tests will ensure that the action plugin actually works and\ncreates the 3 containers.\n\nChange-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882\n'}]",13,716108,86f1746120ba35a9506177bfa6f3fff5dd9e007b,48,7,11,10969,,,0,"Create an action plugin for podman_container module

When we want to create a large set of containers at the same time, an
action plugin can now be used which will call the podman_container
module.

The podman_containers action plugin takes a list of containers with
pre-defined parameters ready to be consumed by the podman_container
module.

The podman_containers module is just useful for Ansible documentation.

The molecule tests will ensure that the action plugin actually works and
creates the 3 containers.

Change-Id: I1e6881f3871a7a125db9374c608ecad0bafcb882
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/08/716108/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_containers.py', 'tripleo_ansible/ansible_plugins/action/podman_containers.py']",2,580d6f73353a6c79d4c84b832118a7285602a8c4,action_podman,"from __future__ import (absolute_import, division, print_function) __metaclass__ = type from ansible.plugins.action import ActionBase from ansible.utils.display import Display display = Display() class ActionModule(ActionBase): _VALID_ARGS = frozenset(( 'containers', )) def __init__(self, *args, **kwargs): super(ActionModule, self).__init__(*args, **kwargs) def run(self, tmp=None, task_vars=None): self._supports_check_mode = True self._supports_async = True module_results = super(ActionModule, self).run(tmp, task_vars) del tmp # tmp no longer has any effect if task_vars is None: task_vars = {} if 'containers' not in self._task.args: return {'failed': True, 'msg': 'Task must have ""containers"" argument!'} containers = self._task.args.get('containers') if not containers: return {'failed': True, 'msg': 'Task must have non empty ""containers"" argument!'} display.vvvv('Running for containers: %s' % str(containers)) wrap_async = self._task.async_val and not self._connection.has_native_async results = [self._execute_module( module_name='podman_container', module_args=container, task_vars=task_vars, wrap_async=wrap_async) for container in containers] changed = any([i.get('changed') for i in results]) skipped = all([i.get('skipped', False) for i in results]) failed = any([i.get('failed', False) for i in results]) if skipped: return {'results': results, 'changed': False, 'skipped': skipped} if failed: msg = ""\n"".join([i.get('msg', '') for i in results]) return {'results': results, 'changed': changed, 'failed': failed, 'msg': msg} if not wrap_async: # remove a temporary path we created self._remove_tmp_path(self._connection._shell.tmpdir) return {'results': results, 'changed': changed, 'failed': False, 'msg': 'All items completed'} ",,96,0
openstack%2Fkayobe~stable%2Ftrain~I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,openstack/kayobe,stable/train,I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,Define default variables for Monasca config,MERGED,2020-07-22 17:14:58.000000000,2020-08-03 15:41:52.000000000,2020-08-03 15:40:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30438}]","[{'number': 1, 'created': '2020-07-22 17:14:58.000000000', 'files': ['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'releasenotes/notes/add-monasca-defaults-8486abe37ed3a13b.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'etc/kayobe/monasca.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b47a7616eff53a0e66b144aab2913990e7cbf0fe', 'message': ""Define default variables for Monasca config\n\nSets 'monasca_install_type: source' to remove need\nfor kolla-ansible var boilerplate.\n\nAlso use default Monasca parameters to configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\nStory: 2007597\nTask: 39587\n(cherry picked from commit 39308a45914cc452362b6f4442785ddc7e0c26c7)\n""}]",0,742495,b47a7616eff53a0e66b144aab2913990e7cbf0fe,17,5,1,28048,,,0,"Define default variables for Monasca config

Sets 'monasca_install_type: source' to remove need
for kolla-ansible var boilerplate.

Also use default Monasca parameters to configure
Grafana post deploy.

Change-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17
Story: 2007597
Task: 39587
(cherry picked from commit 39308a45914cc452362b6f4442785ddc7e0c26c7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/742495/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'releasenotes/notes/add-monasca-defaults-8486abe37ed3a13b.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'etc/kayobe/monasca.yml']",6,b47a7616eff53a0e66b144aab2913990e7cbf0fe,monasca-defaults-stable/train,"--- ############################################################################### # Monasca configuration. # Monasca OpenStack Project name. # The default is ""monasca_control_plane"". #monasca_control_plane_project: # Monasca OpenStack Domain name. Default is ""default"". #monasca_control_plane_domain: # Monasca Grafana Server port. Must match kolla-ansible # var of the same name. Default is ""3001"". #monasca_grafana_server_port: ############################################################################### # Dummy variable to allow Ansible to accept this file. workaround_ansible_issue_8743: yes ",,48,3
openstack%2Fopenstack-ansible~stable%2Fussuri~I9bedbf2821deb1411c038373c388e60df41e01b4,openstack/openstack-ansible,stable/ussuri,I9bedbf2821deb1411c038373c388e60df41e01b4,Rename mysql to mariadb for registered var,MERGED,2020-07-27 18:33:35.000000000,2020-08-03 15:38:27.000000000,2020-08-03 15:36:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-27 18:33:35.000000000', 'files': ['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b74d2bbd2a3c23eff78819a824fc726156c308bb', 'message': 'Rename mysql to mariadb for registered var\n\nTo avoid confusing in code these changes rename a `register`\nto `mariadb` rather than `mysql` since mysql service is not present\nanymore for CentOS in case of upgrade from 10.3.\n\nChange-Id: I9bedbf2821deb1411c038373c388e60df41e01b4\n(cherry picked from commit fc249bf2d4a7d3d1c52d0675cd2d07c04137c38a)\n'}]",0,743304,b74d2bbd2a3c23eff78819a824fc726156c308bb,8,4,1,25023,,,0,"Rename mysql to mariadb for registered var

To avoid confusing in code these changes rename a `register`
to `mariadb` rather than `mysql` since mysql service is not present
anymore for CentOS in case of upgrade from 10.3.

Change-Id: I9bedbf2821deb1411c038373c388e60df41e01b4
(cherry picked from commit fc249bf2d4a7d3d1c52d0675cd2d07c04137c38a)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/04/743304/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'],1,b74d2bbd2a3c23eff78819a824fc726156c308bb,," register: mariadb_ready until: - mariadb_ready.rc == 0 - (mariadb_ready.stdout).find(""Synced"") != -1"," register: mysql_ready until: - mysql_ready.rc == 0 - (mysql_ready.stdout).find(""Synced"") != -1",3,3
openstack%2Fnova~stable%2Fpike~I091fcec89bac4491083740108e75c598dbee25cc,openstack/nova,stable/pike,I091fcec89bac4491083740108e75c598dbee25cc,Require stestr < 3.0.0 in test-requirements,ABANDONED,2020-04-17 23:23:09.000000000,2020-08-03 15:25:12.000000000,,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-04-17 23:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3527912e5ddb1810291a8bc56e385b60c066a4db', 'message': 'Require stestr < 3.0.0 in test-requirements\n\nPython 2.7 support was dropped in stestr 3.0.0, so update\ntest-requirements to require < 3.0.0.\n\nChange-Id: I091fcec89bac4491083740108e75c598dbee25cc\n'}, {'number': 2, 'created': '2020-04-17 23:25:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/b060544bbe8504393c865a1ccb3ece7aec5b87b6', 'message': 'Require stestr < 3.0.0 in test-requirements\n\nPython 2.7 support was dropped in stestr 3.0.0, so update\ntest-requirements to require < 3.0.0.\n\nChange-Id: I091fcec89bac4491083740108e75c598dbee25cc\n'}]",0,720849,b060544bbe8504393c865a1ccb3ece7aec5b87b6,11,6,2,4690,,,0,"Require stestr < 3.0.0 in test-requirements

Python 2.7 support was dropped in stestr 3.0.0, so update
test-requirements to require < 3.0.0.

Change-Id: I091fcec89bac4491083740108e75c598dbee25cc
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/720849/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3527912e5ddb1810291a8bc56e385b60c066a4db,bug/1796689,"stestr>=2.0.0,>3.0.0 # Apache-2.0",stestr>=2.0.0 # Apache-2.0,1,1
openstack%2Fopenstack-ansible~stable%2Fussuri~I9aaca445d135b574753722d6b8de28e4f99c427b,openstack/openstack-ansible,stable/ussuri,I9aaca445d135b574753722d6b8de28e4f99c427b,Fix management address lookup for metal hosts in some deployments,MERGED,2020-07-27 11:08:26.000000000,2020-08-03 15:17:44.000000000,2020-08-03 15:15:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-07-27 11:08:26.000000000', 'files': ['playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c8332c5dd794382b14ef9a9b3ff1e30141545cf2', 'message': ""Fix management address lookup for metal hosts in some deployments\n\nGit history indicates that when Nova runs on metal hosts its\naddress was identified via the management bridge and an IP lookup.\nWhen the dynamic-address-fact was added this link was broken\nand metal hosts have been using the fallback of ansible_host\ndefined in dynamic-address-fact\n\nNote that originally the 'management_bridge' host var was relied\nupon, but this change pulls this bridge from the\n'container_networks.container_address.bridge'\n\nChange-Id: I9aaca445d135b574753722d6b8de28e4f99c427b\n(cherry picked from commit fc1b6f3bf69c360ff475e035a24a29c6791a8843)\n""}]",0,743195,c8332c5dd794382b14ef9a9b3ff1e30141545cf2,9,4,1,25023,,,0,"Fix management address lookup for metal hosts in some deployments

Git history indicates that when Nova runs on metal hosts its
address was identified via the management bridge and an IP lookup.
When the dynamic-address-fact was added this link was broken
and metal hosts have been using the fallback of ansible_host
defined in dynamic-address-fact

Note that originally the 'management_bridge' host var was relied
upon, but this change pulls this bridge from the
'container_networks.container_address.bridge'

Change-Id: I9aaca445d135b574753722d6b8de28e4f99c427b
(cherry picked from commit fc1b6f3bf69c360ff475e035a24a29c6791a8843)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/743195/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-playbooks/nova.yml'],1,c8332c5dd794382b14ef9a9b3ff1e30141545cf2,nova-mgmt-address-stable/ussuri," network_address: ""container_address"" nova_management_address: ""{{ container_address }}"""," network_address: ""management_address"" nova_management_address: ""{{ management_address }}""",2,2
openstack%2Fopenstack-helm~master~If7b919b7627672ea965f7a780b9d051828b4999b,openstack/openstack-helm,master,If7b919b7627672ea965f7a780b9d051828b4999b,[DNM] Reverting https://review.opendev.org/#/c/722320 to test,ABANDONED,2020-08-03 15:02:15.000000000,2020-08-03 15:06:38.000000000,,[],"[{'number': 1, 'created': '2020-08-03 15:02:15.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b3a7352bddf5d8e9b9c623e7cafc883ae926d78', 'message': '[DNM] Reverting https://review.opendev.org/#/c/722320 to test\n\nChange-Id: If7b919b7627672ea965f7a780b9d051828b4999b\n'}]",0,744502,2b3a7352bddf5d8e9b9c623e7cafc883ae926d78,2,0,1,24780,,,0,"[DNM] Reverting https://review.opendev.org/#/c/722320 to test

Change-Id: If7b919b7627672ea965f7a780b9d051828b4999b
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/02/744502/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,2b3a7352bddf5d8e9b9c623e7cafc883ae926d78,,# This enables the usage of 'ovs-appctl' from neutron pod. OVS_PID=$(cat /run/openvswitch/ovs-vswitchd.pid) OVS_CTL=/run/openvswitch/ovs-vswitchd.${OVS_PID}.ctl chown neutron: ${OVS_CTL} ,,5,0
openstack%2Fopenstack-helm~master~I6743529c7cfbb5b828108f7c27e7f1c10f8d46c8,openstack/openstack-helm,master,I6743529c7cfbb5b828108f7c27e7f1c10f8d46c8,Remove ctl socket ownership,MERGED,2020-04-23 13:35:05.000000000,2020-08-03 15:05:38.000000000,2020-06-28 16:23:39.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29397}]","[{'number': 1, 'created': '2020-04-23 13:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d2deb733c93d398014ebc9434153a60bc18779f', 'message': 'Remove ctl socket ownership\n\nMoved the changes to https://review.opendev.org/#/c/722318/\n\nChange-Id: I6743529c7cfbb5b828108f7c27e7f1c10f8d46c8\n'}, {'number': 2, 'created': '2020-04-23 14:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3b71a8fcfe81d4d372fbc554c12d1bd34242cd34', 'message': 'Remove ctl socket ownership\n\nDepends-On: https://review.opendev.org/#/c/722318/\n\nChange-Id: I6743529c7cfbb5b828108f7c27e7f1c10f8d46c8\n'}, {'number': 3, 'created': '2020-06-26 05:40:18.000000000', 'files': ['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a9693843d77525decefc8a0ba0528624f9e11350', 'message': 'Remove ctl socket ownership\n\nDepends-On: https://review.opendev.org/#/c/722318/\n\nChange-Id: I6743529c7cfbb5b828108f7c27e7f1c10f8d46c8\n'}]",0,722320,a9693843d77525decefc8a0ba0528624f9e11350,19,5,3,29397,,,0,"Remove ctl socket ownership

Depends-On: https://review.opendev.org/#/c/722318/

Change-Id: I6743529c7cfbb5b828108f7c27e7f1c10f8d46c8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/20/722320/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/bin/_neutron-openvswitch-agent-init.sh.tpl'],1,8d2deb733c93d398014ebc9434153a60bc18779f,,,# This enables the usage of 'ovs-appctl' from neutron pod. OVS_PID=$(cat /run/openvswitch/ovs-vswitchd.pid) OVS_CTL=/run/openvswitch/ovs-vswitchd.${OVS_PID}.ctl chown neutron: ${OVS_CTL} ,0,5
openstack%2Freleases~master~If643d49976e8270d8c8d1653e1a3055919eff21f,openstack/releases,master,If643d49976e8270d8c8d1653e1a3055919eff21f,Victoria-2 Release for python-karborclient,MERGED,2020-07-27 20:55:14.000000000,2020-08-03 15:04:35.000000000,2020-08-03 15:04:35.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:55:14.000000000', 'files': ['deliverables/victoria/python-karborclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5191b7dfc492866944e8e694e89e459972eaf0f0', 'message': 'Victoria-2 Release for python-karborclient\n\nThis is the victoria milestone-2 release for python-karborclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: If643d49976e8270d8c8d1653e1a3055919eff21f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743410,5191b7dfc492866944e8e694e89e459972eaf0f0,7,3,1,11904,,,0,"Victoria-2 Release for python-karborclient

This is the victoria milestone-2 release for python-karborclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: If643d49976e8270d8c8d1653e1a3055919eff21f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/743410/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-karborclient.yaml'],1,5191b7dfc492866944e8e694e89e459972eaf0f0,victoria-2,releases: - version: 2.1.0 projects: - repo: openstack/python-karborclient hash: c4b0bd2cdbb67e752ac5010e54a04e8734b601df,,5,0
openstack%2Freleases~master~I9329bc7cd2a3e3c80f25fea1b54ae19905a2396c,openstack/releases,master,I9329bc7cd2a3e3c80f25fea1b54ae19905a2396c,Victoria-2 Release for python-designateclient,MERGED,2020-07-27 20:54:22.000000000,2020-08-03 15:04:34.000000000,2020-08-03 15:04:34.000000000,"[{'_account_id': 308}, {'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:54:22.000000000', 'files': ['deliverables/victoria/python-designateclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/46e86c04e396f97f6f51bb12baf4288306cd81a5', 'message': 'Victoria-2 Release for python-designateclient\n\nThis is the victoria milestone-2 release for python-designateclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: I9329bc7cd2a3e3c80f25fea1b54ae19905a2396c\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743409,46e86c04e396f97f6f51bb12baf4288306cd81a5,7,4,1,11904,,,0,"Victoria-2 Release for python-designateclient

This is the victoria milestone-2 release for python-designateclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: I9329bc7cd2a3e3c80f25fea1b54ae19905a2396c
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/743409/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-designateclient.yaml'],1,46e86c04e396f97f6f51bb12baf4288306cd81a5,victoria-2,releases: - version: 4.1.0 projects: - repo: openstack/python-designateclient hash: 055d1601beb95644e37976d9f4aa3601d5084bc1,,5,0
openstack%2Freleases~master~Ib448ebc0ee920677ff1a33cf6dbca6f86e716c54,openstack/releases,master,Ib448ebc0ee920677ff1a33cf6dbca6f86e716c54,Victoria-2 Release for cliff,MERGED,2020-07-27 20:46:34.000000000,2020-08-03 15:04:32.000000000,2020-08-03 15:04:32.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:46:34.000000000', 'files': ['deliverables/victoria/cliff.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/de5a4a515ecdf9920b7bb4dfaf03ab2e8a883f9d', 'message': 'Victoria-2 Release for cliff\n\nThis is the victoria milestone-2 release for cliff.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: Ib448ebc0ee920677ff1a33cf6dbca6f86e716c54\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743404,de5a4a515ecdf9920b7bb4dfaf03ab2e8a883f9d,7,4,1,11904,,,0,"Victoria-2 Release for cliff

This is the victoria milestone-2 release for cliff.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: Ib448ebc0ee920677ff1a33cf6dbca6f86e716c54
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/743404/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/cliff.yaml'],1,de5a4a515ecdf9920b7bb4dfaf03ab2e8a883f9d,victoria-2, - version: 3.4.0 projects: - repo: openstack/cliff hash: 6ac510d0cd25c8c3c76d56dd8e100ca2a6f8b962,,4,0
openstack%2Freleases~master~Ibc704a8425b188b871c5dfaa4f9672eb71a2278a,openstack/releases,master,Ibc704a8425b188b871c5dfaa4f9672eb71a2278a,Victoria-2 Release for keystonemiddleware,MERGED,2020-07-27 20:47:52.000000000,2020-08-03 15:04:31.000000000,2020-08-03 15:04:31.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 20:47:52.000000000', 'files': ['deliverables/victoria/keystonemiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3ecd09d80bb221c36cbc834d41522cb35235063f', 'message': 'Victoria-2 Release for keystonemiddleware\n\nThis is the victoria milestone-2 release for keystonemiddleware.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by August 6.\n\nChange-Id: Ibc704a8425b188b871c5dfaa4f9672eb71a2278a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743406,3ecd09d80bb221c36cbc834d41522cb35235063f,7,4,1,11904,,,0,"Victoria-2 Release for keystonemiddleware

This is the victoria milestone-2 release for keystonemiddleware.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by August 6.

Change-Id: Ibc704a8425b188b871c5dfaa4f9672eb71a2278a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/743406/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/keystonemiddleware.yaml'],1,3ecd09d80bb221c36cbc834d41522cb35235063f,victoria-2,releases: - version: 9.1.0 projects: - repo: openstack/keystonemiddleware hash: 654d31a1bd32968bfa008a117a60b58e18d68df8,,5,0
openstack%2Fgovernance-website~master~Iaf0717e09fdaa76e317e5f8a12f317e767750a88,openstack/governance-website,master,Iaf0717e09fdaa76e317e5f8a12f317e767750a88,Change openstack-dev to openstack-discuss,MERGED,2018-12-05 05:24:20.000000000,2020-08-03 15:04:00.000000000,2020-08-03 15:02:51.000000000,"[{'_account_id': 1004}, {'_account_id': 8099}, {'_account_id': 17068}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-12-05 05:24:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/governance-website/commit/171fbd40f9c4d2836714ecc87d2a13ee5c327efb', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Iaf0717e09fdaa76e317e5f8a12f317e767750a88\n'}]",0,622844,171fbd40f9c4d2836714ecc87d2a13ee5c327efb,12,6,1,28543,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Iaf0717e09fdaa76e317e5f8a12f317e767750a88
",git fetch https://review.opendev.org/openstack/governance-website refs/changes/44/622844/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,171fbd40f9c4d2836714ecc87d2a13ee5c327efb,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack@lists.openstack.org,1,1
openstack%2Fgovernance-website~master~Ied6e251053ad4479986a44ab5e2326ac999ec58d,openstack/governance-website,master,Ied6e251053ad4479986a44ab5e2326ac999ec58d,Update home-page,ABANDONED,2019-01-11 11:35:13.000000000,2020-08-03 14:57:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-01-11 11:35:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/governance-website/commit/0785ac8da4a68047ccddd9c04104b640196c3cb1', 'message': 'Update home-page\n\nChange-Id: Ied6e251053ad4479986a44ab5e2326ac999ec58d\n'}]",0,630163,0785ac8da4a68047ccddd9c04104b640196c3cb1,3,1,1,26297,,,0,"Update home-page

Change-Id: Ied6e251053ad4479986a44ab5e2326ac999ec58d
",git fetch https://review.opendev.org/openstack/governance-website refs/changes/63/630163/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0785ac8da4a68047ccddd9c04104b640196c3cb1,,home-page = https://git.openstack.org/cgit/openstack/governance-website,home-page = http://www.openstack.org/,1,1
openstack%2Ftripleo-quickstart-extras~master~I58dbf894e1e0202d7fb250a6e540518f160af398,openstack/tripleo-quickstart-extras,master,I58dbf894e1e0202d7fb250a6e540518f160af398,Add TestNetworkAdvancedServerOps to skip list,ABANDONED,2020-06-15 19:05:23.000000000,2020-08-03 14:57:20.000000000,,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-06-15 19:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/04e27236cd3b09c582df4b765f786751e0a66caa', 'message': 'Add TestNetworkAdvancedServerOps to skip list\n\nfor both master and ussuri\n\nChange-Id: I58dbf894e1e0202d7fb250a6e540518f160af398\nRelated-Bug: #1881642\n'}, {'number': 2, 'created': '2020-06-26 17:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2e6fbc8ad8e449c49c5ce42ecd9ba14ccd4fee0c', 'message': 'Add TestNetworkAdvancedServerOps to skip list\n\nfor both master and ussuri\n\nChange-Id: I58dbf894e1e0202d7fb250a6e540518f160af398\nRelated-Bug: #1881642\n'}, {'number': 3, 'created': '2020-06-26 21:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fd45ea215c81aaa6f7f9c6bf499950c87f5d0015', 'message': 'Add TestNetworkAdvancedServerOps to skip list\n\nfor both master and ussuri\n\nChange-Id: I58dbf894e1e0202d7fb250a6e540518f160af398\nRelated-Bug: #1881642\n'}, {'number': 4, 'created': '2020-06-28 02:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fa3ce185557f25a1b4b76e48e6b13322f5373224', 'message': 'Add TestNetworkAdvancedServerOps to skip list\n\nfor both master and ussuri\n\nChange-Id: I58dbf894e1e0202d7fb250a6e540518f160af398\nRelated-Bug: #1881642\n'}, {'number': 5, 'created': '2020-07-06 21:51:04.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_ussuri.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9e763472957c84e52d0f61dcd54efba7c55f6529', 'message': 'Add TestNetworkAdvancedServerOps to skip list\n\nfor both master and ussuri\n\nChange-Id: I58dbf894e1e0202d7fb250a6e540518f160af398\nRelated-Bug: #1881642\n'}]",0,735659,9e763472957c84e52d0f61dcd54efba7c55f6529,54,7,5,8175,,,0,"Add TestNetworkAdvancedServerOps to skip list

for both master and ussuri

Change-Id: I58dbf894e1e0202d7fb250a6e540518f160af398
Related-Bug: #1881642
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/59/735659/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/vars/tempest_skip_master.yml', 'roles/validate-tempest/vars/tempest_skip_ussuri.yml']",2,04e27236cd3b09c582df4b765f786751e0a66caa,lp/1881642, - test: 'tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_cold_migration' reason: 'System is booting up. Unprivileged users are not permitted to log in yet. Please come back later.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1881642' - test: 'tempest.scenario.test_network_advanced_server_ops.TestNetworkAdvancedServerOps.test_server_connectivity_resize' reason: 'System is booting up. Unprivileged users are not permitted to log in yet. Please come back later.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1881642',,12,0
openstack%2Ftripleo-image-elements~master~Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4,openstack/tripleo-image-elements,master,Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4,[WIP] Pre-install python3 for CentOS 7,ABANDONED,2020-07-20 18:41:26.000000000,2020-08-03 14:56:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-20 18:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f9bf82f6642901af73f2f64c49e4654d923551c7', 'message': '[WIP] Pre-install python3 for CentOS 7\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\n\nSince we are moving on as a Python 3 only project, add an early\ninstall of it so we can have all the in-chroot scripts assume Python\n3.  There is only one package that causes issues; yaml which comes\nfrom EPEL.  Everywhere else it is a base package, but we don\'t have a\nway to say ""enable epel to install this"".  Just hack it in, we don\'t\nwant to go reworking the world for CentOS 7 at this point.\n\nInstalling extra stuff in dib code would cause confusion so we are\nadding this element for building tripleo images on centos7.\n\nChange-Id: Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4\n'}, {'number': 2, 'created': '2020-07-20 19:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/c161ac7e4158d8c5d8ded056ac9d01d53c3699c9', 'message': '[WIP] Pre-install python3 for CentOS 7\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\n\nSince we are moving on as a Python 3 only project, add an early\ninstall of it so we can have all the in-chroot scripts assume Python\n3.  There is only one package that causes issues; yaml which comes\nfrom EPEL.  Everywhere else it is a base package, but we don\'t have a\nway to say ""enable epel to install this"".  Just hack it in, we don\'t\nwant to go reworking the world for CentOS 7 at this point.\n\nInstalling extra stuff in dib code would cause confusion so we are\nadding this element for building tripleo images on centos7.\n\nChange-Id: Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4\n'}, {'number': 3, 'created': '2020-07-20 20:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/2f2db60adb57a84360a64cdc0c277f660e2ec561', 'message': '[WIP] Pre-install python3 for CentOS 7\n\nAs described inline, centos7 is the only distro we support currently\nthat doesn\'t have Python 3 installed in some form in the base images.\n\nSince we are moving on as a Python 3 only project, add an early\ninstall of it so we can have all the in-chroot scripts assume Python\n3.  There is only one package that causes issues; yaml which comes\nfrom EPEL.  Everywhere else it is a base package, but we don\'t have a\nway to say ""enable epel to install this"".  Just hack it in, we don\'t\nwant to go reworking the world for CentOS 7 at this point.\n\nInstalling extra stuff in dib code would cause confusion so we are\nadding this element for building tripleo images on centos7.\n\nChange-Id: Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4\n'}, {'number': 4, 'created': '2020-07-21 21:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/977a5c565ddfc024ff8b64557289939d9f656006', 'message': '[WIP] Pre-install python3 for CentOS 7\n\noverride the dib-python element from dib code.\n\nChange-Id: Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4\n'}, {'number': 5, 'created': '2020-07-22 16:54:44.000000000', 'files': ['elements/yum/pre-install.d/03-centos7-python3'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/ce5ae69a45c6c922795d948ed98694fdf4569151', 'message': '[WIP] Pre-install python3 for CentOS 7\n\nChange-Id: Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4\n'}]",0,742004,ce5ae69a45c6c922795d948ed98694fdf4569151,17,2,5,8175,,,0,"[WIP] Pre-install python3 for CentOS 7

Change-Id: Ie2e7fe24c25398be4840ed7f237a3b8cb9957da4
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/04/742004/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/yum/pre-install.d/03-centos7-python3'],1,f9bf82f6642901af73f2f64c49e4654d923551c7,dib-py3,"#!/bin/bash if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -eu set -o pipefail if [[ ${DISTRO_NAME} =~ (centos|rhel) && ${DIB_RELEASE} == 7 ]]; then # This is a hacky install of python3 for CentOS 7, which is the # only distro we support that doesn't have Python 3 installed as # part of the base system. However, dib >= 3 is now a Python 3 # only project, so assuming that all the in-chroot scripts can run # in Python 3. # # The other thing is that every other distro has pyyaml in the # base distro too. Our package map and install stuff doesn't have # a way to say ""install this from EPEL"". So we hack in an install # of it here from EPEL. yum install -y python3 epel-release yum install -y --enablerepo=epel python36-PyYAML yum remove -y epel-release fi ",,23,0
openstack%2Fpython-openstackclient~master~I2ea2def607ec5be112e42d53a1e660fef0cdd69c,openstack/python-openstackclient,master,I2ea2def607ec5be112e42d53a1e660fef0cdd69c,Fix reverted osc-lib interface change,MERGED,2020-07-23 11:33:08.000000000,2020-08-03 14:54:44.000000000,2020-08-03 14:52:17.000000000,"[{'_account_id': 2}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 11:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/10692f5aaa33664780c70831dd2121d1a6a2e6b7', 'message': 'Fix reverted osc-lib interface change\n\nThe patch https://review.opendev.org/#/c/673389/ introduced a regression\nby changing the osc-lib interface.\n\nTwo conflicting attempts to fix the regression were launched:\n\n1) Reverting the patch.\n\n2) The patch https://review.opendev.org/683119 changes the exception\n   from the generic CommandError back to a specific Forbidden exception.\n\n   The patch https://review.opendev.org/683118 catches this exception\n   and passes on, i.e. re-implements the same behavior as before.\n\nThe first idea was implemented, the initial patch reverted. The second\nidea was partially implemented. The change in python-openstackclient\n(683118) was merged. The change in osc-lib was approved but failed to\nmerge because the initial change had been reverted.\n\nNow we have again a situation where the exception produced in osc-lib\ndoes not match the exception expected by the caller.\n\nIt is unclear if the osc-lib interface will ever get a rebased version\nof https://review.opendev.org/683119 merged, so the safest way to\naddress the issue is to also catch the exception that used to be\nthrown before the inital change and is again thrown after the inital\nchange has been reverted.\n\nChange-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c\n'}, {'number': 2, 'created': '2020-07-23 18:35:30.000000000', 'files': ['openstackclient/identity/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0a8753dc3eaeda25554ccd769350de1e9792a62b', 'message': 'Fix reverted osc-lib interface change\n\nThe patch https://review.opendev.org/#/c/673389/ introduced a regression\nby changing the osc-lib interface.\n\nTwo conflicting attempts to fix the regression were launched:\n\n1) Reverting the patch.\n\n2) The patch https://review.opendev.org/683119 changes the exception\n   from the generic CommandError back to a specific Forbidden exception.\n\n   The patch https://review.opendev.org/683118 catches this exception\n   and passes on, i.e. re-implements the same behavior as before.\n\nThe first idea was implemented, the initial patch reverted. The second\nidea was partially implemented. The change in python-openstackclient\n(683118) was merged. The change in osc-lib was approved but failed to\nmerge because the initial change had been reverted.\n\nNow we have again a situation where the exception produced in osc-lib\ndoes not match the exception expected by the caller.\n\nIt is unclear if the osc-lib interface will ever get a rebased version\nof https://review.opendev.org/683119 merged, so the safest way to\naddress the issue is to also catch the exception that used to be\nthrown before the inital change and is again thrown after the inital\nchange has been reverted.\n\nChange-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c\n'}]",1,742647,0a8753dc3eaeda25554ccd769350de1e9792a62b,10,3,2,11109,,,0,"Fix reverted osc-lib interface change

The patch https://review.opendev.org/#/c/673389/ introduced a regression
by changing the osc-lib interface.

Two conflicting attempts to fix the regression were launched:

1) Reverting the patch.

2) The patch https://review.opendev.org/683119 changes the exception
   from the generic CommandError back to a specific Forbidden exception.

   The patch https://review.opendev.org/683118 catches this exception
   and passes on, i.e. re-implements the same behavior as before.

The first idea was implemented, the initial patch reverted. The second
idea was partially implemented. The change in python-openstackclient
(683118) was merged. The change in osc-lib was approved but failed to
merge because the initial change had been reverted.

Now we have again a situation where the exception produced in osc-lib
does not match the exception expected by the caller.

It is unclear if the osc-lib interface will ever get a rebased version
of https://review.opendev.org/683119 merged, so the safest way to
address the issue is to also catch the exception that used to be
thrown before the inital change and is again thrown after the inital
change has been reverted.

Change-Id: I2ea2def607ec5be112e42d53a1e660fef0cdd69c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/47/742647/2 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/identity/common.py'],1,10692f5aaa33664780c70831dd2121d1a6a2e6b7,fix_rbac_regression," except (exceptions.Forbidden, identity_exc.Forbidden):", except exceptions.Forbidden:,1,1
openstack%2Fovsdbapp~stable%2Fstein~Ia3094ca6298ed198dd1baf5f95e859165a2fc210,openstack/ovsdbapp,stable/stein,Ia3094ca6298ed198dd1baf5f95e859165a2fc210,Update sphinx reqs to match global,ABANDONED,2020-08-03 14:03:32.000000000,2020-08-03 14:54:06.000000000,,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 14:03:32.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/7b8895cb848e7fdd4f3c6411882237215b63b8f3', 'message': 'Update sphinx reqs to match global\n\nChange-Id: Ia3094ca6298ed198dd1baf5f95e859165a2fc210\n'}]",0,744476,7b8895cb848e7fdd4f3c6411882237215b63b8f3,5,3,1,5756,,,0,"Update sphinx reqs to match global

Change-Id: Ia3094ca6298ed198dd1baf5f95e859165a2fc210
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/76/744476/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7b8895cb848e7fdd4f3c6411882237215b63b8f3,,"sphinx!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Frpm-packaging~master~Id4775f5b8de45b4eea5f385519444f0dea25b5b9,openstack/rpm-packaging,master,Id4775f5b8de45b4eea5f385519444f0dea25b5b9,update oslo.policy to 3.3.1,MERGED,2020-07-24 08:18:13.000000000,2020-08-03 14:27:52.000000000,2020-08-03 14:27:52.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 08:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9800b1ee7c9d15b002a7903012c78be6903311f1', 'message': 'update oslo.policy to 3.3.1\n\nChange-Id: Id4775f5b8de45b4eea5f385519444f0dea25b5b9\n'}, {'number': 2, 'created': '2020-07-30 18:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1b67ce02c87f36d3d4bc090b1ce02991a0c7df59', 'message': 'update oslo.policy to 3.3.1\n\nChange-Id: Id4775f5b8de45b4eea5f385519444f0dea25b5b9\n'}, {'number': 3, 'created': '2020-07-31 13:17:55.000000000', 'files': ['openstack/oslo.policy/oslo.policy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/55c7010f3c7dd221b9ce744d56c0bbf76ce92290', 'message': 'update oslo.policy to 3.3.1\n\nChange-Id: Id4775f5b8de45b4eea5f385519444f0dea25b5b9\n'}]",0,742819,55c7010f3c7dd221b9ce744d56c0bbf76ce92290,30,7,3,28654,,,0,"update oslo.policy to 3.3.1

Change-Id: Id4775f5b8de45b4eea5f385519444f0dea25b5b9
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/19/742819/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.policy/oslo.policy.spec.j2'],1,9800b1ee7c9d15b002a7903012c78be6903311f1,oslo.policy,{% set upstream_version = upstream_version('3.3.1') %},{% set upstream_version = upstream_version('3.2.1') %},1,1
openstack%2Fnova~master~I3457d6ed9edee53e907917eaf77b2e558d5975f4,openstack/nova,master,I3457d6ed9edee53e907917eaf77b2e558d5975f4,quota: remove _no_class tests,NEW,2018-11-05 17:22:27.000000000,2020-08-03 14:19:24.000000000,,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-11-05 17:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b32fc8cfb1a0dbb5ecb08bafe1acd8883ba20c6a', 'message': 'quota: remove _no_class tests\n\n\'default\' is the only quota class ever used for determining quotas, so\nremove the _no_class unit tests (since all tests use ""no class"" (the\ndefault quota class))\n\nChange-Id: I3457d6ed9edee53e907917eaf77b2e558d5975f4\n'}, {'number': 2, 'created': '2018-11-06 14:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43b84b63a7974520f8351c9bcb8e2b271dd1fe49', 'message': 'quota: remove _no_class tests\n\n\'default\' is the only quota class ever used for determining quotas, so\nremove the _no_class unit tests (since all tests use ""no class"" (the\ndefault quota class))\n\nChange-Id: I3457d6ed9edee53e907917eaf77b2e558d5975f4\n'}, {'number': 3, 'created': '2020-05-22 16:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcac22017f8cf13d38e030b5b41d9abeb5336708', 'message': 'quota: remove _no_class tests\n\n\'default\' is the only quota class ever used for determining quotas, so\nremove the _no_class unit tests (since all tests use ""no class"" (the\ndefault quota class))\n\nChange-Id: I3457d6ed9edee53e907917eaf77b2e558d5975f4\n'}, {'number': 4, 'created': '2020-05-22 16:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ed8e63f750798bffd029cc0d3c22f56d77ab973', 'message': 'quota: remove _no_class tests\n\n\'default\' is the only quota class ever used for determining quotas, so\nremove the _no_class unit tests (since all tests use ""no class"" (the\ndefault quota class))\n\nChange-Id: I3457d6ed9edee53e907917eaf77b2e558d5975f4\n'}, {'number': 5, 'created': '2020-05-25 11:04:24.000000000', 'files': ['nova/tests/unit/test_quota.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a78bccc7c9517815b0772b111d7a6a3c89e4b4a0', 'message': 'quota: remove _no_class tests\n\n\'default\' is the only quota class ever used for determining quotas, so\nremove the _no_class unit tests (since all tests use ""no class"" (the\ndefault quota class))\n\nChange-Id: I3457d6ed9edee53e907917eaf77b2e558d5975f4\n'}]",0,615618,a78bccc7c9517815b0772b111d7a6a3c89e4b4a0,32,11,5,7,,,0,"quota: remove _no_class tests

'default' is the only quota class ever used for determining quotas, so
remove the _no_class unit tests (since all tests use ""no class"" (the
default quota class))

Change-Id: I3457d6ed9edee53e907917eaf77b2e558d5975f4
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/615618/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_quota.py'],1,b32fc8cfb1a0dbb5ecb08bafe1acd8883ba20c6a,use-placement-for-resources,," @mock.patch('nova.quota.DbQuotaDriver._get_usages', side_effect=_get_fake_get_usages()) def test_get_user_quotas_alt_context_no_class(self, mock_get_usages): self.maxDiff = None self._stub_get_by_project_and_user() result = self.driver.get_user_quotas( self.ctx, quota.QUOTAS._resources, 'fake_project', 'fake_user') self.assertEqual(self.calls, [ 'quota_get_all_by_project_and_user', 'quota_get_all_by_project', ]) mock_get_usages.assert_called_once_with(self.ctx, quota.QUOTAS._resources, 'fake_project', user_id='fake_user') self.assertEqual(result, dict( instances=dict( limit=10, in_use=2, ), cores=dict( limit=10, in_use=4, ), ram=dict( limit=50 * 1024, in_use=10 * 1024, ), floating_ips=dict( limit=10, in_use=2, ), fixed_ips=dict( limit=10, in_use=0, ), metadata_items=dict( limit=128, in_use=0, ), injected_files=dict( limit=2, in_use=0, ), injected_file_content_bytes=dict( limit=10 * 1024, in_use=0, ), injected_file_path_bytes=dict( limit=127, in_use=0, ), security_groups=dict( limit=10, in_use=0, ), security_group_rules=dict( limit=20, in_use=1, ), key_pairs=dict( limit=100, in_use=2, ), server_groups=dict( limit=10, in_use=0, ), server_group_members=dict( limit=10, in_use=3, ), )) @mock.patch('nova.quota.DbQuotaDriver._get_usages', side_effect=_get_fake_get_usages()) def test_get_project_quotas_alt_context_no_class(self, mock_get_usages): self.maxDiff = None self._stub_get_by_project() result = self.driver.get_project_quotas( self.ctx, quota.QUOTAS._resources, 'fake_project') self.assertEqual(self.calls, [ 'quota_get_all_by_project', 'quota_class_get_default', ]) mock_get_usages.assert_called_once_with(self.ctx, quota.QUOTAS._resources, 'fake_project') self.assertEqual(result, dict( instances=dict( limit=5, in_use=2, ), cores=dict( limit=10, in_use=4, ), ram=dict( limit=25 * 1024, in_use=10 * 1024, ), floating_ips=dict( limit=10, in_use=2, ), fixed_ips=dict( limit=10, in_use=0, ), metadata_items=dict( limit=64, in_use=0, ), injected_files=dict( limit=2, in_use=0, ), injected_file_content_bytes=dict( limit=5 * 1024, in_use=0, ), injected_file_path_bytes=dict( limit=127, in_use=0, ), security_groups=dict( limit=10, in_use=0, ), security_group_rules=dict( limit=20, in_use=1, ), key_pairs=dict( limit=100, in_use=2, ), server_groups=dict( limit=10, in_use=0, ), server_group_members=dict( limit=10, in_use=3, ), )) ",0,149
openstack%2Fironic~stable%2Ftrain~I5556e18f51e066f7acbf5332ca3a498140b0a7e2,openstack/ironic,stable/train,I5556e18f51e066f7acbf5332ca3a498140b0a7e2,Remove iDRAC Redfish boot device known issue,MERGED,2020-06-01 09:29:09.000000000,2020-08-03 14:11:22.000000000,2020-07-29 14:40:31.000000000,"[{'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 11076}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-06-01 09:29:09.000000000', 'files': ['doc/source/admin/drivers/idrac.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a37fb3c16680d0a6313ae830f0f5a2a4e8fe0621', 'message': 'Remove iDRAC Redfish boot device known issue\n\nSince workaround is implemented in Redfish driver,\nit works without setting force_persistent_boot_device to Never.\n\nChange-Id: I5556e18f51e066f7acbf5332ca3a498140b0a7e2\n(cherry picked from commit 4ae482897a5ad055233cbffe82c348f530da7dc0)\n'}]",0,732122,a37fb3c16680d0a6313ae830f0f5a2a4e8fe0621,15,11,1,27909,,,0,"Remove iDRAC Redfish boot device known issue

Since workaround is implemented in Redfish driver,
it works without setting force_persistent_boot_device to Never.

Change-Id: I5556e18f51e066f7acbf5332ca3a498140b0a7e2
(cherry picked from commit 4ae482897a5ad055233cbffe82c348f530da7dc0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/22/732122/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/idrac.rst'],1,a37fb3c16680d0a6313ae830f0f5a2a4e8fe0621,,," Redfish management interface failure to set boot device ------------------------------------------------------- When using the ``idrac-redfish`` management interface with certain iDRAC firmware versions (at least versions 2.70.70.70, 4.00.00.00, and 4.10.10.10) and attempting to set the boot device on a baremetal server that is configured to UEFI boot, the iDRAC will return the following error:: Unable to Process the request because the value entered for the parameter Continuous is not supported by the implementation. To work around this issue, set the ``force_persistent_boot_device`` parameter in ``driver-info`` on the node to ``Never`` by running the following command from the command line: .. code-block:: bash openstack baremetal node set --driver-info \ force_persistent_boot_device=Never ${node_uuid}",0,21
openstack%2Fironic~master~I4de034c38585275543ab603a3ed45de1adf1d15b,openstack/ironic,master,I4de034c38585275543ab603a3ed45de1adf1d15b,Fix idrac-wsman RAID apply_configuration,MERGED,2020-07-29 16:20:29.000000000,2020-08-03 14:09:41.000000000,2020-07-30 14:31:14.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-29 16:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16a3bcf53456a850d0f08e1a2cf15b83176b46d2', 'message': 'Fix idrac-wsman RAID apply_configuration\n\nDeploy step `apply_configuration` was failing with\nTypeError: super(type, obj): obj must be an instance\nor subtype of type.\n\nChange-Id: I4de034c38585275543ab603a3ed45de1adf1d15b\nStory: 2007963\nTask: 40456\n'}, {'number': 2, 'created': '2020-07-30 08:22:58.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/bug-2007963-idrac-wsman-raid-apply-configuration-792ccf195057016b.yaml', 'ironic/drivers/modules/drac/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/328cb9291a8c19d18321fde1e2323f4682363789', 'message': 'Fix idrac-wsman RAID apply_configuration\n\nDeploy step `apply_configuration` was failing with\nTypeError: super(type, obj): obj must be an instance\nor subtype of type.\n\nChange-Id: I4de034c38585275543ab603a3ed45de1adf1d15b\nStory: 2007963\nTask: 40456\n'}]",2,743796,328cb9291a8c19d18321fde1e2323f4682363789,30,12,2,27909,,,0,"Fix idrac-wsman RAID apply_configuration

Deploy step `apply_configuration` was failing with
TypeError: super(type, obj): obj must be an instance
or subtype of type.

Change-Id: I4de034c38585275543ab603a3ed45de1adf1d15b
Story: 2007963
Task: 40456
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/743796/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'releasenotes/notes/bug-2007963-idrac-wsman-raid-apply-configuration-792ccf195057016b.yaml', 'ironic/drivers/modules/drac/raid.py']",3,16a3bcf53456a850d0f08e1a2cf15b83176b46d2,raid-apply-config," return super(DracWSManRAID, self).apply_configuration("," return super(DracRAID, self).apply_configuration(",22,1
openstack%2Freleases~master~I95ed73411e96451bc447e1b5858b0466fb8f10a9,openstack/releases,master,I95ed73411e96451bc447e1b5858b0466fb8f10a9,Update to latest hacking for pep8 checks,MERGED,2020-07-27 21:33:51.000000000,2020-08-03 14:01:38.000000000,2020-08-03 14:01:38.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 21:33:51.000000000', 'files': ['openstack_releases/cmds/list_changes.py', 'test-requirements.txt', 'tools/verify_branches_and_late_releases.py', 'tools/discover_branch_points.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/gitutils.py', 'tools/aclmanager.py', 'openstack_releases/deliverable.py', 'openstack_releases/rst2txt.py', 'tox.ini', 'openstack_releases/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/493b7bf33ad827e2b673d324685c5d46d58b35d2', 'message': 'Update to latest hacking for pep8 checks\n\nThis updates the version of hacking we are using for our linting and\naddresses various issues that the latest version flags.\n\nChange-Id: I95ed73411e96451bc447e1b5858b0466fb8f10a9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,743421,493b7bf33ad827e2b673d324685c5d46d58b35d2,13,4,1,11904,,,0,"Update to latest hacking for pep8 checks

This updates the version of hacking we are using for our linting and
addresses various issues that the latest version flags.

Change-Id: I95ed73411e96451bc447e1b5858b0466fb8f10a9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/743421/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/list_changes.py', 'test-requirements.txt', 'tools/verify_branches_and_late_releases.py', 'tools/discover_branch_points.py', 'openstack_releases/cmds/validate.py', 'openstack_releases/gitutils.py', 'tools/aclmanager.py', 'openstack_releases/deliverable.py', 'openstack_releases/rst2txt.py', 'tox.ini', 'openstack_releases/tests/fixtures.py']",11,493b7bf33ad827e2b673d324685c5d46d58b35d2,safe_load, gnupg_version_re = re.compile(r'^gpg\s.*\s([\d+])\.([\d+])\.([\d+])'), gnupg_version_re = re.compile('^gpg\s.*\s([\d+])\.([\d+])\.([\d+])'),32,34
openstack%2Freleases~master~I1949deed094822d2c2c56659eadb1fc5ea6a59e5,openstack/releases,master,I1949deed094822d2c2c56659eadb1fc5ea6a59e5,Switch to PyYaml safe_load,MERGED,2020-07-27 21:33:51.000000000,2020-08-03 14:01:17.000000000,2020-08-03 14:01:17.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 21:33:51.000000000', 'files': ['tools/membership_freeze_test.py', 'tools/aclissues.py', 'tools/aclmanager.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/08cd1fb33c854be1b976a5f013cc9749352f085f', 'message': 'Switch to PyYaml safe_load\n\nThe load() call from PyYaml is considered a higher security risk in that\nit uses the FullLoader. safe_loade() is considered more safe by using\nthe SafeLoader instead.\n\nSince the 5.1 release of PyYaml added warning output when using load(),\nthis switches over to safe_load() to avoid the unnecessary noise.\n\nChange-Id: I1949deed094822d2c2c56659eadb1fc5ea6a59e5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,743420,08cd1fb33c854be1b976a5f013cc9749352f085f,14,4,1,11904,,,0,"Switch to PyYaml safe_load

The load() call from PyYaml is considered a higher security risk in that
it uses the FullLoader. safe_loade() is considered more safe by using
the SafeLoader instead.

Since the 5.1 release of PyYaml added warning output when using load(),
this switches over to safe_load() to avoid the unnecessary noise.

Change-Id: I1949deed094822d2c2c56659eadb1fc5ea6a59e5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/743420/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/membership_freeze_test.py', 'tools/aclissues.py', 'tools/aclmanager.py']",3,08cd1fb33c854be1b976a5f013cc9749352f085f,safe_load, config = yaml.safe_load(open(projectsyaml)), config = yaml.load(open(projectsyaml)),4,4
openstack%2Freleases~master~I6870221efeabafaaffd607ee99d6094de799d09d,openstack/releases,master,I6870221efeabafaaffd607ee99d6094de799d09d,release oslo.messaging 12.1.2 for ussuri,MERGED,2020-07-31 13:02:29.000000000,2020-08-03 14:00:14.000000000,2020-08-03 14:00:14.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-31 13:02:29.000000000', 'files': ['deliverables/ussuri/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ad9b42b78488a74f1c5b103193c11f632c735e53', 'message': 'release oslo.messaging 12.1.2 for ussuri\n\nChange-Id: I6870221efeabafaaffd607ee99d6094de799d09d\n'}]",0,744152,ad9b42b78488a74f1c5b103193c11f632c735e53,12,4,1,28522,,,0,"release oslo.messaging 12.1.2 for ussuri

Change-Id: I6870221efeabafaaffd607ee99d6094de799d09d
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/744152/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/oslo.messaging.yaml'],1,ad9b42b78488a74f1c5b103193c11f632c735e53,oslo-ussuri-07-31, - version: 12.1.2 projects: - repo: openstack/oslo.messaging hash: 6727be7890f64446f1658d79fac196d30b6f1a18,,4,0
openstack%2Ftripleo-quickstart~master~I58ca82038fe969b757eca18ece895f5ca781bb60,openstack/tripleo-quickstart,master,I58ca82038fe969b757eca18ece895f5ca781bb60,[DNM] Checking python-tempestconf variables overrides,ABANDONED,2020-05-15 13:38:56.000000000,2020-08-03 13:55:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-15 13:38:56.000000000', 'files': ['config/general_config/featureset060.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8097b98ef14fb1faea2aa6b0412b7977a455e8ba', 'message': '[DNM] Checking python-tempestconf variables overrides\n\nDepends-On: https://review.opendev.org/#/c/727692/4\n\nChange-Id: I58ca82038fe969b757eca18ece895f5ca781bb60\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",0,728449,8097b98ef14fb1faea2aa6b0412b7977a455e8ba,4,1,1,30750,,,0,"[DNM] Checking python-tempestconf variables overrides

Depends-On: https://review.opendev.org/#/c/727692/4

Change-Id: I58ca82038fe969b757eca18ece895f5ca781bb60
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/49/728449/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset060.yml'],1,8097b98ef14fb1faea2aa6b0412b7977a455e8ba,baremetal_resources,,tempest_tempestconf_profile_overrides: auth.create_isolated_networks: 'False' validation.connect_method: 'fixed' validation.network_for_ssh: 'provisioning' baremetal.use_provision_network: 'True',1,5
openstack%2Fopenstack-ansible~stable%2Fussuri~Ib1160a4b84292595f18b5cb47e19e15c33b081ab,openstack/openstack-ansible,stable/ussuri,Ib1160a4b84292595f18b5cb47e19e15c33b081ab,Always use the utility host for service setup tasks,MERGED,2020-07-28 06:31:39.000000000,2020-08-03 13:52:37.000000000,2020-08-03 13:50:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-28 06:31:39.000000000', 'files': ['playbooks/defaults/source_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b3bc33f52329905597b5defd7fe7d3c74e175e99', 'message': 'Always use the utility host for service setup tasks\n\nThis used to be discretionary at the choice of the operator but\nmaking it the default gives certainty about the python version used\nand that suitable python modules are available for the interpreter\nused by ansible on the service setup host.\n\nChange-Id: Ib1160a4b84292595f18b5cb47e19e15c33b081ab\n(cherry picked from commit 0de309e7a38b40e3a20b28827a5d128a3d7f69ae)\n'}]",0,743465,b3bc33f52329905597b5defd7fe7d3c74e175e99,16,3,1,25023,,,0,"Always use the utility host for service setup tasks

This used to be discretionary at the choice of the operator but
making it the default gives certainty about the python version used
and that suitable python modules are available for the interpreter
used by ansible on the service setup host.

Change-Id: Ib1160a4b84292595f18b5cb47e19e15c33b081ab
(cherry picked from commit 0de309e7a38b40e3a20b28827a5d128a3d7f69ae)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/743465/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/source_install.yml'],1,b3bc33f52329905597b5defd7fe7d3c74e175e99,bind-to-mgmt-stable/ussuri," ## Delegate all service setup tasks to the utility host, and use the utility venv python interpreter openstack_service_setup_host: ""{{ groups['utility_all'][0] }}"" openstack_service_setup_host_python_interpreter: ""/openstack/venvs/utility-{{ openstack_release }}/bin/python""",,4,0
openstack%2Fopenstack-ansible-tests~stable%2Fussuri~I3fcd9fe5d0cb9e857ee881a3e775789b6479377d,openstack/openstack-ansible-tests,stable/ussuri,I3fcd9fe5d0cb9e857ee881a3e775789b6479377d,Remove python3 specific test job,MERGED,2020-07-27 17:55:26.000000000,2020-08-03 13:39:09.000000000,2020-08-03 13:35:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-27 17:55:26.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/32bba771345838b6096f7e118cad534b7775d6f6', 'message': 'Remove python3 specific test job\n\nAll tests are now run under python3 by default so there is no need\nfor a specific python3 job.\n\nDepends-On: https://review.opendev.org/735873\nChange-Id: I3fcd9fe5d0cb9e857ee881a3e775789b6479377d\n(cherry picked from commit 037c6441ed850e542a816b00d04eced07ac9a59f)\n'}]",0,743294,32bba771345838b6096f7e118cad534b7775d6f6,8,3,1,25023,,,0,"Remove python3 specific test job

All tests are now run under python3 by default so there is no need
for a specific python3 job.

Depends-On: https://review.opendev.org/735873
Change-Id: I3fcd9fe5d0cb9e857ee881a3e775789b6479377d
(cherry picked from commit 037c6441ed850e542a816b00d04eced07ac9a59f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/94/743294/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,32bba771345838b6096f7e118cad534b7775d6f6,,, - job: name: openstack-ansible-python3-ubuntu-bionic parent: openstack-ansible-functional-ubuntu-bionic vars: tox_env: func_py3,0,6
openstack%2Freleases~master~I6306fc7a99419b4f1e7b56855f38e5ccb84eca13,openstack/releases,master,I6306fc7a99419b4f1e7b56855f38e5ccb84eca13,Require latest governance parsing code,MERGED,2020-08-03 12:34:35.000000000,2020-08-03 13:30:54.000000000,2020-08-03 13:30:54.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 12:34:35.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/releases/commit/4e944ea7b4d5456543f9da3286220f97a2366ec0', 'message': 'Require latest governance parsing code\n\nBump openstack-governance requirements to 0.7.0 to pick up latest\ngovernance parsing code, as the current state of governance files\nwill break anything <0.7.0.\n\nChange-Id: I6306fc7a99419b4f1e7b56855f38e5ccb84eca13\n'}]",0,744456,4e944ea7b4d5456543f9da3286220f97a2366ec0,6,2,1,308,,,0,"Require latest governance parsing code

Bump openstack-governance requirements to 0.7.0 to pick up latest
governance parsing code, as the current state of governance files
will break anything <0.7.0.

Change-Id: I6306fc7a99419b4f1e7b56855f38e5ccb84eca13
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/744456/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4e944ea7b4d5456543f9da3286220f97a2366ec0,gov-fix,openstack-governance>=0.7.0 # Apache 2.0,openstack-governance>=0.1.0 # Apache 2.0,1,1
openstack%2Fcompute-hyperv~master~I0d46c4df4982e62ff81285a141c8b71bf06bcf15,openstack/compute-hyperv,master,I0d46c4df4982e62ff81285a141c8b71bf06bcf15,Pick up 'unrescue' driver method signature change,MERGED,2020-08-03 06:17:34.000000000,2020-08-03 13:28:53.000000000,2020-08-03 13:28:53.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 06:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/34608696d4dac968fedccb42dad68048baadbb88', 'message': ""Pick up 'unrescue' driver method signature change\n\nA recent patch[1] updated the 'unrescue' signature, adding a context\nand dropping the 'network_info' parameter.\n\nWe'll need to pick up this change.\n\n[1] Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cfre\n\nChange-Id: I0d46c4df4982e62ff81285a141c8b71bf06bcf15\n""}, {'number': 2, 'created': '2020-08-03 08:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/ba732c66d5fd8f35b0332e28bcc8b7581fe51fa3', 'message': ""Pick up 'unrescue' driver method signature change\n\nA recent patch[1] updated the 'unrescue' signature, adding a context\nand dropping the 'network_info' parameter.\n\nWe'll need to pick up this change.\n\n[1] Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cfre\n\nChange-Id: I0d46c4df4982e62ff81285a141c8b71bf06bcf15\n""}, {'number': 3, 'created': '2020-08-03 08:59:52.000000000', 'files': ['test-requirements.txt', 'compute_hyperv/nova/driver.py', 'lower-constraints.txt', 'compute_hyperv/tests/unit/test_driver.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/359fe0bc3bfc46213b1ef372125ec720295442b1', 'message': ""Pick up 'unrescue' driver method signature change\n\nA recent patch[1] updated the 'unrescue' signature, adding a context\nand dropping the 'network_info' parameter.\n\nWe'll need to pick up this change.\n\nAt the same time, we're re-adding the mock dependency. We're re-using\nsome of Nova's fixtures and other test helpers, which still use the\n3rd party mock lib: [2].\n\n[1] Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cfre\n[2] http://paste.openstack.org/raw/796530/\n\nChange-Id: I0d46c4df4982e62ff81285a141c8b71bf06bcf15\n""}]",3,744395,359fe0bc3bfc46213b1ef372125ec720295442b1,10,2,3,8543,,,0,"Pick up 'unrescue' driver method signature change

A recent patch[1] updated the 'unrescue' signature, adding a context
and dropping the 'network_info' parameter.

We'll need to pick up this change.

At the same time, we're re-adding the mock dependency. We're re-using
some of Nova's fixtures and other test helpers, which still use the
3rd party mock lib: [2].

[1] Id5e4b0f26d5a2a93db6a7d96555a2cff29d9a2cfre
[2] http://paste.openstack.org/raw/796530/

Change-Id: I0d46c4df4982e62ff81285a141c8b71bf06bcf15
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/95/744395/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/driver.py', 'compute_hyperv/tests/unit/test_driver.py']",2,34608696d4dac968fedccb42dad68048baadbb88,," mock.sentinel.context, mock.sentinel.instance)"," mock.sentinel.instance, mock.sentinel.network_info)",8,3
openstack%2Fopenstack-helm~master~I70917fa161cbf2fe0734310b69a0336e779c7298,openstack/openstack-helm,master,I70917fa161cbf2fe0734310b69a0336e779c7298,Imported Translations from Zanata,MERGED,2020-08-03 09:29:28.000000000,2020-08-03 13:24:26.000000000,2020-08-03 13:22:43.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 09:29:28.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/35f6ea99f1ed1bf03076542a868dc00c6a970599', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I70917fa161cbf2fe0734310b69a0336e779c7298\n'}]",0,744427,35f6ea99f1ed1bf03076542a868dc00c6a970599,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I70917fa161cbf2fe0734310b69a0336e779c7298
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/27/744427/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po']",2,35f6ea99f1ed1bf03076542a868dc00c6a970599,zanata/translations,"""Project-Id-Version: openstack-helm 0.1.1.dev3131\n""""POT-Creation-Date: 2020-08-01 22:59+0000\n""""PO-Revision-Date: 2020-08-02 06:04+0000\n""""This script will create two loopback devices for Ceph as one disk for OSD "" ""data and other disk for block DB and block WAL. If default devices (loop0 "" ""and loop1) are busy in your case, feel free to change them by exporting "" ""environment variables(CEPH_OSD_DATA_DEVICE and CEPH_OSD_DB_WAL_DEVICE).""""Script ini akan membuat dua perangkat loopback untuk Ceph sebagai satu disk "" ""untuk data OSD dan disk lain untuk memblokir DB dan memblokir WAL. Jika "" ""perangkat default (loop0 dan loop1) sibuk dalam kasus Anda, jangan ragu "" ""untuk mengubahnya dengan mengekspor variabel lingkungan "" ""(CEPH_OSD_DATA_DEVICE dan CEPH_OSD_DB_WAL_DEVICE).""""We are also going to seperate Ceph metadata and data onto a different "" ""devices to replicate the ideal scenario of fast disks for metadata and slow "" ""disks to store data. You can change this as per your design by referring to "" ""the documentation explained in ../openstack-helm-infra/ceph-osd/values.yaml"" msgstr """" ""Kami juga akan memisahkan meta data Ceph dan data ke perangkat yang berbeda "" ""untuk mereplikasi skenario ideal disk cepat untuk metadata dan memperlambat "" ""disk untuk menyimpan data. Anda dapat mengubah ini sesuai desain Anda dengan "" ""merujuk pada dokumentasi yang dijelaskan dalam ../openstack-helm-infra/ceph-"" ""osd/values.yaml"" msgid """" ""We are going to install Ceph OSDs backed by loopback devices as this will "" ""help us not to attach extra disks, in case if you have enough disks on the "" ""node then feel free to adjust below script part of Ceph overrides."" msgstr """" ""Kami akan menginstal Ceph OSD yang didukung oleh perangkat loopback karena "" ""ini akan membantu kami untuk tidak melampirkan disk tambahan, jika Anda "" ""memiliki cukup disk pada node maka jangan ragu untuk menyesuaikan bagian "" ""skrip di bawah Ceph override."" msgid """"","""Project-Id-Version: openstack-helm 0.1.1.dev3116\n""""POT-Creation-Date: 2020-07-29 07:39+0000\n""""PO-Revision-Date: 2020-07-28 07:06+0000\n""""This script will create two loopback devices for ceph as one disk for OSD "" ""data and other disk for block DB and block WAL. If loop0 and loop1 devices "" ""are busy in your case , feel free to change them in parameters.""""Script ini akan membuat dua perangkat loopback untuk ceph sebagai satu disk "" ""untuk data OSD dan disk lain untuk blok DB dan blok WAL. Jika perangkat "" ""loop0 dan loop1 sibuk dalam kasus Anda, jangan ragu untuk mengubahnya dalam "" ""parameter.""",36,21
openstack%2Fopenstack-ansible-haproxy_server~stable%2Fussuri~I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24,openstack/openstack-ansible-haproxy_server,stable/ussuri,I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24,Update log socket workaround to be for all Centos versions,MERGED,2020-07-27 18:36:24.000000000,2020-08-03 13:20:08.000000000,2020-08-03 13:18:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-27 18:36:24.000000000', 'files': ['tasks/haproxy_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/8a63172d588c5723dd659a025f805035fe676c76', 'message': 'Update log socket workaround to be for all Centos versions\n\nChange-Id: I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24\n(cherry picked from commit a777bf072126941b3190cb0d192d52247b036437)\n'}]",0,743306,8a63172d588c5723dd659a025f805035fe676c76,8,3,1,25023,,,0,"Update log socket workaround to be for all Centos versions

Change-Id: I49a1b7790bf8c4cba9f0fc140c7282d50d18cb24
(cherry picked from commit a777bf072126941b3190cb0d192d52247b036437)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/06/743306/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/haproxy_post_install.yml'],1,8a63172d588c5723dd659a025f805035fe676c76,,"#NOTE(jrosser) The next task fails on Centos without this,","#NOTE(jrosser) The next task fails on Centos7 without this,",1,1
openstack%2Ftripleo-common~stable%2Ftrain~I28d2edd4f923fb2d263df43fff4ef82a4072040c,openstack/tripleo-common,stable/train,I28d2edd4f923fb2d263df43fff4ef82a4072040c,Run standalone jobs with locally built images,MERGED,2020-07-15 14:32:30.000000000,2020-08-03 13:12:32.000000000,2020-08-03 13:08:18.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-15 14:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/97c00a2c46c424db8a85a2dc4f246c3da0774050', 'message': ""WIP - Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On https://review.opendev.org/#/c/740095\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}, {'number': 2, 'created': '2020-07-15 14:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4a922a6632db904580e0f96caf2bd161d256e544', 'message': ""WIP - Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}, {'number': 3, 'created': '2020-07-15 14:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e14e7135e4612f2d92a0b73c7bd16e4e659eef65', 'message': ""WIP - Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}, {'number': 4, 'created': '2020-07-15 22:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/afffbe87392c91572c3bc24ec3ff86c4ea347db6', 'message': ""WIP - Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}, {'number': 5, 'created': '2020-07-24 01:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/be71ff5971238a168757966229b8b6c90a08ef55', 'message': ""WIP - Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}, {'number': 6, 'created': '2020-07-24 19:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2462fc9d725a291fc3228c9db8eed1690db6166a', 'message': ""WIP - Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenarios will come later.\n\nDepends-On: https://review.opendev.org/#/c/738375\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}, {'number': 7, 'created': '2020-07-27 15:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c61ffc182d73bec7dd86ad0c2f4f6a88d860ae7c', 'message': ""Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenarios will come later.\n\nDepends-On: https://review.opendev.org/#/c/738375\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}, {'number': 8, 'created': '2020-07-29 02:32:42.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/344f3b6046b1a0dce639c1fb609228c42414e014', 'message': ""Run standalone jobs with locally built images\n\nThis is an unclean backport for stable/train which is targeted on\ncentos7 for now. I'll move to centos8 when the jobs are ready on this\nbranch.\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenarios will come later.\n\nDepends-On: https://review.opendev.org/#/c/738375\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)\n""}]",1,741224,344f3b6046b1a0dce639c1fb609228c42414e014,30,4,8,3153,,,0,"Run standalone jobs with locally built images

This is an unclean backport for stable/train which is targeted on
centos7 for now. I'll move to centos8 when the jobs are ready on this
branch.

Instead of pulling images from a local registry, build them locally
since the configs that build them are in tripleo-common.

Also trigger the appropriate scenarios if a container config is changed.

Note: this patch will make all standalone jobs running against
tripleo-common to use locally built container images, even if the patch
isn't about a container image config file. It has been found that the
time to build images is roughly the same as the time it takes to update
them once pulled from a remote registry.

Note: scenarios will come later.

Depends-On: https://review.opendev.org/#/c/738375
Change-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c
(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)
(cherry picked from commit b53977c72356cc4338e3bf9c0cb8620a789d268d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/741224/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,97c00a2c46c424db8a85a2dc4f246c3da0774050,tcib/train, vars: build_container_images: true vars: build_container_images: true files: - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ - ^container-images/tcib/base/os/sahara.*$ vars: build_container_images: true files: - ^container-images/tcib/base/os/manila.*$,,12,0
openstack%2Fcinder~stable%2Frocky~Ib86729488ebfb0aea5d5d4f815a64e00258040e7,openstack/cinder,stable/rocky,Ib86729488ebfb0aea5d5d4f815a64e00258040e7,VNX: delete the LUN from VNX backend,MERGED,2020-05-13 02:39:16.000000000,2020-08-03 13:07:36.000000000,2020-08-03 13:05:55.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 14624}, {'_account_id': 17685}, {'_account_id': 18742}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21570}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-05-13 02:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44e5ed4b6bc2cd34eebbaab6cdf8058e2ff49118', 'message': ""VNX: delete the LUN from VNX backend\n\nAsync migration is used in the process of creating a volume from a\nsnapshot and an internal temp snapshot is created.\n\nBecause the temp snapshot isn't deleted, the LUN hosting the temp\nsnapshot cannot be deleted from the VNX storage.\n\nFor example, a new volume, V2, is created from snapshot S1 of volume V1.\nAn internal temp snapshot S2 is created from copying S1. V1 now has two\nsnapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,\nS2 which is Cinder user-invisible isn't deleted and which causes V1 left\non VNX too.\n\nThe fix makes sure the snapshot S2 is deleted. Then the delay deletion\non V1 can be executed successfully.\n\nChange-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7\nCloses-bug: #1794646\n(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)\n(cherry picked from commit a74945b0687c4aa69960777fb301984cd4d2fedd)\n""}, {'number': 2, 'created': '2020-06-19 02:59:25.000000000', 'files': ['releasenotes/notes/vnx-fail-delete-lun-due-to-tmp-snapshot-edd3cdd85e28be60.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e2e278f3c97ee14d7b18272cee5bfea1c231768', 'message': ""VNX: delete the LUN from VNX backend\n\nAsync migration is used in the process of creating a volume from a\nsnapshot and an internal temp snapshot is created.\n\nBecause the temp snapshot isn't deleted, the LUN hosting the temp\nsnapshot cannot be deleted from the VNX storage.\n\nFor example, a new volume, V2, is created from snapshot S1 of volume V1.\nAn internal temp snapshot S2 is created from copying S1. V1 now has two\nsnapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,\nS2 which is Cinder user-invisible isn't deleted and which causes V1 left\non VNX too.\n\nThe fix makes sure the snapshot S2 is deleted. Then the delay deletion\non V1 can be executed successfully.\n\nChange-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7\nCloses-bug: #1794646\n(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)\n(cherry picked from commit a74945b0687c4aa69960777fb301984cd4d2fedd)\n""}]",0,727602,6e2e278f3c97ee14d7b18272cee5bfea1c231768,115,24,2,18742,,,0,"VNX: delete the LUN from VNX backend

Async migration is used in the process of creating a volume from a
snapshot and an internal temp snapshot is created.

Because the temp snapshot isn't deleted, the LUN hosting the temp
snapshot cannot be deleted from the VNX storage.

For example, a new volume, V2, is created from snapshot S1 of volume V1.
An internal temp snapshot S2 is created from copying S1. V1 now has two
snapshots, S1 and S2. Although we delete V1, V2 and S1 from Cinder,
S2 which is Cinder user-invisible isn't deleted and which causes V1 left
on VNX too.

The fix makes sure the snapshot S2 is deleted. Then the delay deletion
on V1 can be executed successfully.

Change-Id: Ib86729488ebfb0aea5d5d4f815a64e00258040e7
Closes-bug: #1794646
(cherry picked from commit b3a89dc187ae4d71fb1fc27645cb4383209b0ef8)
(cherry picked from commit a74945b0687c4aa69960777fb301984cd4d2fedd)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/727602/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vnx-fail-delete-lun-due-to-tmp-snapshot-edd3cdd85e28be60.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_cinder.yaml', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py']",6,44e5ed4b6bc2cd34eebbaab6cdf8058e2ff49118,bug/1794646, 12.1.3 - Fix bug 1794646: failed to delete LUNs from backend due to the temporary snapshots on them wasn't deleted. VERSION = '12.01.03', VERSION = '12.01.02',59,3
openstack%2Fcharm-manila-ganesha~master~Iec41daf3384e165a45373f42f810c00900b0f479,openstack/charm-manila-ganesha,master,Iec41daf3384e165a45373f42f810c00900b0f479,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:32:58.000000000,2020-08-03 13:04:48.000000000,2020-08-03 13:04:48.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/c99ab1801600f3ed10b39ccb275e9bfbfd373705', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: Iec41daf3384e165a45373f42f810c00900b0f479\n'}, {'number': 2, 'created': '2020-07-23 17:46:24.000000000', 'files': ['rebuild', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/7d804802302e696c1c9fbc623c951d3ac578c4e1', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: Iec41daf3384e165a45373f42f810c00900b0f479\n'}]",0,732654,7d804802302e696c1c9fbc623c951d3ac578c4e1,21,6,2,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: Iec41daf3384e165a45373f42f810c00900b0f479
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/54/732654/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,c99ab1801600f3ed10b39ccb275e9bfbfd373705,batch-groovy-ch-libs,- storage - file-servers series: - bionic - disco - eoan - focal - groovy, - storage - file-servers series: - bionic - disco - eoan - focal,8,7
openstack%2Ftripleo-common~master~I415eec5d307ac73456aa556db9d61ceac1eaa565,openstack/tripleo-common,master,I415eec5d307ac73456aa556db9d61ceac1eaa565,Handle redirects for blobs better,MERGED,2020-07-28 20:43:58.000000000,2020-08-03 13:04:07.000000000,2020-08-01 03:24:32.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-28 20:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a4d84c842a3852c1777f1e07ced88a906699e55d', 'message': ""Add Cache-Control for containers\n\nApache won't cache content if an Authorization header exists but a\nCache-Control header is not provided as well. In order to improve the\nupstream CI cachability of our containers, we need to specify\nCache-Control in our requests.\n\nhttps://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nRelated-Bug: #1889122\n""}, {'number': 2, 'created': '2020-07-28 21:00:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b5a5750a32ad10e6783e3fb2d1038f38b89c2460', 'message': ""Add Cache-Control for containers\n\nApache won't cache content if an Authorization header exists but a\nCache-Control header is not provided as well. In order to improve the\nupstream CI cachability of our containers, we need to specify\nCache-Control in our requests.\n\nhttps://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nRelated-Bug: #1889122\n""}, {'number': 3, 'created': '2020-07-29 22:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d72196bb875d52df97e7de4469f9439a5bcf32f', 'message': 'WIP - Hack in docker registry request logic\n\nTODO: explain this awfulness\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nRelated-Bug: #1889122\n'}, {'number': 4, 'created': '2020-07-29 22:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3b98e88109f02243ad9a588d2389f7b061ff81c', 'message': 'WIP - Hack in docker registry request logic\n\nTODO: explain this awfulness\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nRelated-Bug: #1889122\n'}, {'number': 5, 'created': '2020-07-29 22:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/005aee2265eb7f7e24fbb540d988a4c04bddec9d', 'message': 'WIP - Hack in docker registry request logic\n\nTODO: explain this awfulness\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nRelated-Bug: #1889122\n'}, {'number': 6, 'created': '2020-07-29 22:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9f99ff2d10b3c5f6dca75d012353f185ef0abe79', 'message': 'WIP - Hack in docker registry request logic\n\nTODO: explain this awfulness\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nRelated-Bug: #1889122\n'}, {'number': 7, 'created': '2020-07-29 23:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ee37bfd377d78953cc9dc860b2a342bd0396ea0f', 'message': 'WIP - Hack in docker registry request logic\n\nTODO: explain this awfulness\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nRelated-Bug: #1889122\n'}, {'number': 8, 'created': '2020-07-30 16:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4e4f5943776ce259872eb9230f16119a3500ced', 'message': ""Handle redirects for blobs better\n\nThis patch adds a new function that checks if a response was a redirect\nfor an a request and removes the Authorization header that we usually\nsend if it is not one of our trusted hosts. This prevents authorization\nkeys from going to insecure places. This is similar logic that exists in\nthe moby registry code[0].\n\nAdditionally improves the cachability of blobs from docker.io because\nthey are redirects to files that exist on a CDN that doesn't actually\nrequire authentication. The upstream CI registry caching system doesn't\ncache any requests with the Authorization header per the apache cache\ndocumentation[1].\n\n[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174\n[1] https://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nPartial-Bug: #1889122\n""}, {'number': 9, 'created': '2020-07-30 17:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18e47a8bf7822b30bb4d232d3b0cfb9ec2013d43', 'message': ""Handle redirects for blobs better\n\nThis patch adds a new function that checks if a response was a redirect\nfor an a request and removes the Authorization header that we usually\nsend if it is not one of our trusted hosts. This prevents authorization\nkeys from going to insecure places. This is similar logic that exists in\nthe moby registry code[0].\n\nAdditionally improves the cachability of blobs from docker.io because\nthey are redirects to files that exist on a CDN that doesn't actually\nrequire authentication. The upstream CI registry caching system doesn't\ncache any requests with the Authorization header per the apache cache\ndocumentation[1].\n\n[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174\n[1] https://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nPartial-Bug: #1889122\n""}, {'number': 10, 'created': '2020-07-30 18:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e59f5fd9910d0cf0dcad05ffd59f4b84c97837d1', 'message': ""Handle redirects for blobs better\n\nThis patch adds a new function that checks if a response was a redirect\nfor an a request and removes the Authorization header that we usually\nsend if it is not one of our trusted hosts. This prevents authorization\nkeys from going to insecure places. This is similar logic that exists in\nthe moby registry code[0].\n\nAdditionally improves the cachability of blobs from docker.io because\nthey are redirects to files that exist on a CDN that doesn't actually\nrequire authentication. The upstream CI registry caching system doesn't\ncache any requests with the Authorization header per the apache cache\ndocumentation[1].\n\n[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174\n[1] https://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nPartial-Bug: #1889122\n""}, {'number': 11, 'created': '2020-07-30 19:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f77d954619aafb2df3207a85cee0172ec680e13', 'message': ""Handle redirects for blobs better\n\nThis patch adds a new function that checks if a response was a redirect\nfor an a request and removes the Authorization header that we usually\nsend if it is not one of our trusted hosts. This prevents authorization\nkeys from going to insecure places. This is similar logic that exists in\nthe moby registry code[0].\n\nAdditionally improves the cachability of blobs from docker.io because\nthey are redirects to files that exist on a CDN that doesn't actually\nrequire authentication. The upstream CI registry caching system doesn't\ncache any requests with the Authorization header per the apache cache\ndocumentation[1].\n\n[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174\n[1] https://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nPartial-Bug: #1889122\n""}, {'number': 12, 'created': '2020-07-30 19:30:58.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d3af31414747f28508e236b1fea8db7601fa2e7b', 'message': ""Handle redirects for blobs better\n\nThis patch adds a new function that checks if a response was a redirect\nfor an a request and removes the Authorization header that we usually\nsend if it is not one of our trusted hosts. This prevents authorization\nkeys from going to insecure places. This is similar logic that exists in\nthe moby registry code[0].\n\nAdditionally improves the cachability of blobs from docker.io because\nthey are redirects to files that exist on a CDN that doesn't actually\nrequire authentication. The upstream CI registry caching system doesn't\ncache any requests with the Authorization header per the apache cache\ndocumentation[1].\n\n[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174\n[1] https://httpd.apache.org/docs/2.4/caching.html\n\nChange-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565\nPartial-Bug: #1889122\n""}]",10,743629,d3af31414747f28508e236b1fea8db7601fa2e7b,59,10,12,14985,,,0,"Handle redirects for blobs better

This patch adds a new function that checks if a response was a redirect
for an a request and removes the Authorization header that we usually
send if it is not one of our trusted hosts. This prevents authorization
keys from going to insecure places. This is similar logic that exists in
the moby registry code[0].

Additionally improves the cachability of blobs from docker.io because
they are redirects to files that exist on a CDN that doesn't actually
require authentication. The upstream CI registry caching system doesn't
cache any requests with the Authorization header per the apache cache
documentation[1].

[0] https://github.com/moby/moby/blob/a072d726c753c3b02232e6a7b08d7e7ce79fffa5/registry/registry.go#L140-L174
[1] https://httpd.apache.org/docs/2.4/caching.html

Change-Id: I415eec5d307ac73456aa556db9d61ceac1eaa565
Partial-Bug: #1889122
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/743629/7 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,a4d84c842a3852c1777f1e07ced88a906699e55d,bug/1889122, session.headers['Cache-Control'] = 'public',,1,0
openstack%2Ftripleo-ansible~master~If8f53f900070bb714662e519b4017d963af30ccc,openstack/tripleo-ansible,master,If8f53f900070bb714662e519b4017d963af30ccc,Refetch task,MERGED,2020-07-31 14:32:09.000000000,2020-08-03 12:52:47.000000000,2020-07-31 23:01:10.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 14:32:09.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ccb5cde76f2bf99bd47e2919dc01e83f140bf983', 'message': 'Refetch task\n\nWhen we grab the task to execute, use the one we fetch to advance the\nhost rather than the peeked version.\n\nChange-Id: If8f53f900070bb714662e519b4017d963af30ccc\n'}]",0,744181,ccb5cde76f2bf99bd47e2919dc01e83f140bf983,10,4,1,14985,,,0,"Refetch task

When we grab the task to execute, use the one we fetch to advance the
host rather than the peeked version.

Change-Id: If8f53f900070bb714662e519b4017d963af30ccc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/744181/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,ccb5cde76f2bf99bd47e2919dc01e83f140bf983,fix-host-advance," # Refetch the task without peek (_, task) = self._iterator.get_next_task_for_host(host)"," # we already have the task and state from our peek call so we don't # need these again. This call just pops it of the task list for the # host. (_, _) = self._iterator.get_next_task_for_host(host)",2,4
openstack%2Fkolla-ansible~stable%2Fussuri~Ia134a518b63bb59cfad631cc488181f5245160e6,openstack/kolla-ansible,stable/ussuri,Ia134a518b63bb59cfad631cc488181f5245160e6,Configure prometheus-openstack-exporter to use internal endpoints,MERGED,2020-08-03 06:40:19.000000000,2020-08-03 12:40:12.000000000,2020-08-03 12:37:18.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-03 06:40:19.000000000', 'files': ['releasenotes/notes/openstack-exporter-endpoint-type-7c687da172986fb3.yaml', 'ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16aae473728c21a7687f3391f2dbb0a11e225fe7', 'message': 'Configure prometheus-openstack-exporter to use internal endpoints\n\nChange-Id: Ia134a518b63bb59cfad631cc488181f5245160e6\n(cherry picked from commit cf97aeeb83080fad1d718059dadd139441b3e0bb)\n'}]",0,744400,16aae473728c21a7687f3391f2dbb0a11e225fe7,10,4,1,26689,,,0,"Configure prometheus-openstack-exporter to use internal endpoints

Change-Id: Ia134a518b63bb59cfad631cc488181f5245160e6
(cherry picked from commit cf97aeeb83080fad1d718059dadd139441b3e0bb)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/744400/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack-exporter-endpoint-type-7c687da172986fb3.yaml', 'ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/group_vars/all.yml']",3,16aae473728c21a7687f3391f2dbb0a11e225fe7,openstack-exporter-endpoint-type-stable/ussuri,"prometheus_openstack_exporter_endpoint_type: ""internal""",,15,1
openstack%2Fkolla-ansible~stable%2Ftrain~Ia2e0f7f24988763bacfeafefb7977021f5949f4e,openstack/kolla-ansible,stable/train,Ia2e0f7f24988763bacfeafefb7977021f5949f4e,Fix kolla_address in IPv6 fully-routed topo case,MERGED,2020-08-01 08:13:13.000000000,2020-08-03 12:40:08.000000000,2020-08-03 12:37:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-08-01 08:13:13.000000000', 'files': ['kolla_ansible/tests/unit/test_filters.py', 'kolla_ansible/kolla_address.py', 'kolla_ansible/tests/unit/helpers.py', 'releasenotes/notes/bug-1848941-7e192be1885af513.yaml', 'kolla_ansible/filters.py', 'kolla_ansible/tests/unit/test_address_filters.py', 'kolla_ansible/helpers.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc28890904792525a722519e0240b5e0f8bd9256', 'message': 'Fix kolla_address in IPv6 fully-routed topo case\n\nThis includes some lightweight refactoring to avoid code\nduplication.\n\nThis patch is made to be backportable to Train.\nWe now include Ansible in testing since Ussuri so the comments\nabout the bool filter are wrong.\n\nChange-Id: Ia2e0f7f24988763bacfeafefb7977021f5949f4e\nCloses-bug: #1848941\n(cherry picked from commit 0674236eedd76ae06f168db0da2b249d3ba756b2)\n'}]",0,744277,cc28890904792525a722519e0240b5e0f8bd9256,9,4,1,30491,,,0,"Fix kolla_address in IPv6 fully-routed topo case

This includes some lightweight refactoring to avoid code
duplication.

This patch is made to be backportable to Train.
We now include Ansible in testing since Ussuri so the comments
about the bool filter are wrong.

Change-Id: Ia2e0f7f24988763bacfeafefb7977021f5949f4e
Closes-bug: #1848941
(cherry picked from commit 0674236eedd76ae06f168db0da2b249d3ba756b2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/744277/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_ansible/tests/unit/test_filters.py', 'kolla_ansible/kolla_address.py', 'kolla_ansible/tests/unit/helpers.py', 'releasenotes/notes/bug-1848941-7e192be1885af513.yaml', 'kolla_ansible/filters.py', 'kolla_ansible/tests/unit/test_address_filters.py', 'kolla_ansible/helpers.py']",7,cc28890904792525a722519e0240b5e0f8bd9256,bug/1848941-stable/ussuri-stable/train,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. def _call_bool_filter(context, value): """"""Pass a value through the 'bool' filter. :param context: Jinja2 Context object. :param value: Value to pass through bool filter. :returns: A boolean. """""" return context.environment.call_filter(""bool"", value, context=context) ",,187,27
openstack%2Fkolla-ansible~master~I4dcac976620a5f451e3d273183199aefe400994a,openstack/kolla-ansible,master,I4dcac976620a5f451e3d273183199aefe400994a,prometheus-openstack-exporter config service filtering,MERGED,2020-07-03 09:44:47.000000000,2020-08-03 12:39:44.000000000,2020-07-31 10:54:46.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-03 09:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/794a4c147280da9a26ea62b08f0d71a71e15bb75', 'message': 'prometheus-openstack-exporter config service filtering\n\nThis change disables services in the Prometheus openstack-exporter\nif they are not enabled in the deployment. Such behaviour allows\nto avoid warnings and errors in the log files and keep the\nlog file contents clean and informative.\n\nChange-Id: I4dcac976620a5f451e3d273183199aefe400994a\n'}, {'number': 2, 'created': '2020-07-07 09:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/587633ec89e5bf1fa058b52750f85c32edf656b1', 'message': 'Restructured filtering option compose and reference in config.json\n\nChange-Id: I4dcac976620a5f451e3d273183199aefe400994a\n'}, {'number': 3, 'created': '2020-07-07 09:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93e9443c0c821e1d34a9be6d648838d0c1c1c846', 'message': 'prometheus-openstack-exporter config service filtering\n\nThis change disables services in the Prometheus openstack-exporter\nif they are not enabled in the deployment. Such behaviour allows\nto avoid warnings and errors in the log files and keep the\nlog file contents clean and informative.\n\nChange-Id: I4dcac976620a5f451e3d273183199aefe400994a\n'}, {'number': 4, 'created': '2020-07-27 13:39:07.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/roles/prometheus/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9fc98be11a101ad75847b79fb12de890d407a439', 'message': 'prometheus-openstack-exporter config service filtering\n\nThis change disables services in the Prometheus openstack-exporter\nif they are not enabled in the deployment. Such behaviour allows\nto avoid warnings and errors in the log files and keep the\nlog file contents clean and informative.\n\nChange-Id: I4dcac976620a5f451e3d273183199aefe400994a\n'}]",1,739193,9fc98be11a101ad75847b79fb12de890d407a439,20,5,4,26689,,,0,"prometheus-openstack-exporter config service filtering

This change disables services in the Prometheus openstack-exporter
if they are not enabled in the deployment. Such behaviour allows
to avoid warnings and errors in the log files and keep the
log file contents clean and informative.

Change-Id: I4dcac976620a5f451e3d273183199aefe400994a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/739193/4 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2'],1,794a4c147280da9a26ea62b08f0d71a71e15bb75,openstack_exporter_cfg_filter," ""command"": ""/opt/openstack-exporter/openstack-exporter --os-client-config=/etc/openstack/clouds.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_openstack_exporter_port }} default {% if not enable_cinder | bool %}--disable-service.volume{% endif %}{% if not enable_designate | bool %} --disable-service.dns{% endif %}{% if not enable_swift | bool %} --disable-service.object-store{% endif %}{% if not enable_octavia | bool %} --disable-service.load-balancer --disable-metric=neutron-loadbalancers --disable-metric=neutron-loadbalancers_not_active{% endif %}"","," ""command"": ""/opt/openstack-exporter/openstack-exporter --os-client-config=/etc/openstack/clouds.yml --web.listen-address={{ api_interface_address | put_address_in_context('url') }}:{{ prometheus_openstack_exporter_port }} default"",",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~Ibef198d20d481bc92b38af786cdf0292b246bb12,openstack/kolla-ansible,stable/train,Ibef198d20d481bc92b38af786cdf0292b246bb12,Fix Masakari role missing deploy-containers,MERGED,2020-07-31 13:39:07.000000000,2020-08-03 12:38:50.000000000,2020-08-03 12:37:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-31 13:39:07.000000000', 'files': ['ansible/roles/masakari/tasks/deploy-containers.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/tasks/check-containers.yml', 'releasenotes/notes/bug-1889611-f08c228fca884bf2.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d53605ac4fb85f9368028f1c8dc1867fcc0ba64', 'message': 'Fix Masakari role missing deploy-containers\n\nMasakari was introduced parallelly to deploy-containers action and\nso we missed to add this functionality to it.\n\nChange-Id: Ibef198d20d481bc92b38af786cdf0292b246bb12\nCloses-Bug: #1889611\n(cherry picked from commit 5d3ca8b09ef78698c8f7a137909010c9d0f3a1f4)\n'}]",0,744170,4d53605ac4fb85f9368028f1c8dc1867fcc0ba64,9,4,1,30491,,,0,"Fix Masakari role missing deploy-containers

Masakari was introduced parallelly to deploy-containers action and
so we missed to add this functionality to it.

Change-Id: Ibef198d20d481bc92b38af786cdf0292b246bb12
Closes-Bug: #1889611
(cherry picked from commit 5d3ca8b09ef78698c8f7a137909010c9d0f3a1f4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/744170/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/masakari/tasks/deploy-containers.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/tasks/check-containers.yml', 'releasenotes/notes/bug-1889611-f08c228fca884bf2.yaml']",4,4d53605ac4fb85f9368028f1c8dc1867fcc0ba64,bug/1889611-stable/ussuri-stable/train,--- fixes: - | Fixes ``deploy-containers`` action missing for the Masakari role. `LP#1889611 <https://launchpad.net/bugs/1889611>`__ ,,26,17
openstack%2Fkolla-ansible~stable%2Fussuri~Ibef198d20d481bc92b38af786cdf0292b246bb12,openstack/kolla-ansible,stable/ussuri,Ibef198d20d481bc92b38af786cdf0292b246bb12,Fix Masakari role missing deploy-containers,MERGED,2020-07-31 13:39:01.000000000,2020-08-03 12:38:49.000000000,2020-08-03 12:37:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-31 13:39:01.000000000', 'files': ['ansible/roles/masakari/tasks/deploy-containers.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/tasks/check-containers.yml', 'releasenotes/notes/bug-1889611-f08c228fca884bf2.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dee49c7edd99ff8fcaf907c3cd8cb93ee2d12b99', 'message': 'Fix Masakari role missing deploy-containers\n\nMasakari was introduced parallelly to deploy-containers action and\nso we missed to add this functionality to it.\n\nChange-Id: Ibef198d20d481bc92b38af786cdf0292b246bb12\nCloses-Bug: #1889611\n(cherry picked from commit 5d3ca8b09ef78698c8f7a137909010c9d0f3a1f4)\n'}]",0,744169,dee49c7edd99ff8fcaf907c3cd8cb93ee2d12b99,11,4,1,30491,,,0,"Fix Masakari role missing deploy-containers

Masakari was introduced parallelly to deploy-containers action and
so we missed to add this functionality to it.

Change-Id: Ibef198d20d481bc92b38af786cdf0292b246bb12
Closes-Bug: #1889611
(cherry picked from commit 5d3ca8b09ef78698c8f7a137909010c9d0f3a1f4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/744169/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/masakari/tasks/deploy-containers.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/tasks/check-containers.yml', 'releasenotes/notes/bug-1889611-f08c228fca884bf2.yaml']",4,dee49c7edd99ff8fcaf907c3cd8cb93ee2d12b99,bug/1889611-stable/ussuri,--- fixes: - | Fixes ``deploy-containers`` action missing for the Masakari role. `LP#1889611 <https://launchpad.net/bugs/1889611>`__ ,,26,17
openstack%2Fkolla-ansible~stable%2Fussuri~Ia2e0f7f24988763bacfeafefb7977021f5949f4e,openstack/kolla-ansible,stable/ussuri,Ia2e0f7f24988763bacfeafefb7977021f5949f4e,Fix kolla_address in IPv6 fully-routed topo case,MERGED,2020-08-01 08:04:47.000000000,2020-08-03 12:37:17.000000000,2020-08-03 12:37:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-08-01 08:04:47.000000000', 'files': ['kolla_ansible/tests/unit/test_filters.py', 'kolla_ansible/kolla_address.py', 'kolla_ansible/tests/unit/helpers.py', 'releasenotes/notes/bug-1848941-7e192be1885af513.yaml', 'kolla_ansible/filters.py', 'kolla_ansible/tests/unit/test_address_filters.py', 'kolla_ansible/helpers.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a770bbdb4757082b81dd6beca618303b5b8a008', 'message': 'Fix kolla_address in IPv6 fully-routed topo case\n\nThis includes some lightweight refactoring to avoid code\nduplication.\n\nThis patch is made to be backportable to Train.\nWe now include Ansible in testing since Ussuri so the comments\nabout the bool filter are wrong.\n\nChange-Id: Ia2e0f7f24988763bacfeafefb7977021f5949f4e\nCloses-bug: #1848941\n(cherry picked from commit 0674236eedd76ae06f168db0da2b249d3ba756b2)\n'}]",0,744276,8a770bbdb4757082b81dd6beca618303b5b8a008,9,3,1,30491,,,0,"Fix kolla_address in IPv6 fully-routed topo case

This includes some lightweight refactoring to avoid code
duplication.

This patch is made to be backportable to Train.
We now include Ansible in testing since Ussuri so the comments
about the bool filter are wrong.

Change-Id: Ia2e0f7f24988763bacfeafefb7977021f5949f4e
Closes-bug: #1848941
(cherry picked from commit 0674236eedd76ae06f168db0da2b249d3ba756b2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/744276/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_ansible/tests/unit/test_filters.py', 'kolla_ansible/kolla_address.py', 'kolla_ansible/tests/unit/helpers.py', 'releasenotes/notes/bug-1848941-7e192be1885af513.yaml', 'kolla_ansible/filters.py', 'kolla_ansible/tests/unit/test_address_filters.py', 'kolla_ansible/helpers.py']",7,8a770bbdb4757082b81dd6beca618303b5b8a008,bug/1848941-stable/ussuri,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. def _call_bool_filter(context, value): """"""Pass a value through the 'bool' filter. :param context: Jinja2 Context object. :param value: Value to pass through bool filter. :returns: A boolean. """""" return context.environment.call_filter(""bool"", value, context=context) ",,187,27
openstack%2Fnetworking-generic-switch~master~I4d96ea3f3c3d55ff7d742b9e08aa75ce990eee9a,openstack/networking-generic-switch,master,I4d96ea3f3c3d55ff7d742b9e08aa75ce990eee9a,Add support for Cumulus 4.x NCLU driver,MERGED,2020-07-27 15:56:17.000000000,2020-08-03 12:09:52.000000000,2020-08-03 12:08:40.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 15:56:17.000000000', 'files': ['networking_generic_switch/tests/unit/netmiko/test_cumulus.py', 'networking_generic_switch/devices/netmiko_devices/cumulus.py', 'releasenotes/notes/add-cumulus-nclu-support-ddcffa604c3e1b18.yaml', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/7971c9c6b80f650b22c7b1284188dd92f4b1b0f7', 'message': 'Add support for Cumulus 4.x NCLU driver\n\nThis adds a new driver for Cumulus switches that support using NCLU.\nIt actually uses the netmiko linux driver, given we are really just\naccessing a debian user space, and there is currently no cumulus\nspecific driver in netmiko.\n\nIt borrows quite heavily from the support in networking-ansible that\nuses these roles to configure cumulus switches:\nhttps://github.com/ansible-network/network-runner\n\nHowever, this driver adopts the more typical networking-generic-switch\nconfiguration operations, where existing port configuration is retained\nas the port cycles through various VLANs. In a similar way, we make\ndisabling a port optional, and support users specifying a default VLAN,\nsuch as the ironic inspection network.\n\nChange-Id: I4d96ea3f3c3d55ff7d742b9e08aa75ce990eee9a\n'}]",0,743269,7971c9c6b80f650b22c7b1284188dd92f4b1b0f7,8,3,1,782,,,0,"Add support for Cumulus 4.x NCLU driver

This adds a new driver for Cumulus switches that support using NCLU.
It actually uses the netmiko linux driver, given we are really just
accessing a debian user space, and there is currently no cumulus
specific driver in netmiko.

It borrows quite heavily from the support in networking-ansible that
uses these roles to configure cumulus switches:
https://github.com/ansible-network/network-runner

However, this driver adopts the more typical networking-generic-switch
configuration operations, where existing port configuration is retained
as the port cycles through various VLANs. In a similar way, we make
disabling a port optional, and support users specifying a default VLAN,
such as the ironic inspection network.

Change-Id: I4d96ea3f3c3d55ff7d742b9e08aa75ce990eee9a
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/69/743269/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_generic_switch/tests/unit/netmiko/test_cumulus.py', 'networking_generic_switch/devices/netmiko_devices/cumulus.py', 'releasenotes/notes/add-cumulus-nclu-support-ddcffa604c3e1b18.yaml', 'networking_generic_switch/devices/netmiko_devices/__init__.py', 'setup.cfg']",5,7971c9c6b80f650b22c7b1284188dd92f4b1b0f7,jg-cumulus, netmiko_cumulus = networking_generic_switch.devices.netmiko_devices.cumulus:Cumulus,,204,3
openstack%2Fkayobe~stable%2Ftrain~I156403025ba57232e4ce454f653e392cd0669f3e,openstack/kayobe,stable/train,I156403025ba57232e4ce454f653e392cd0669f3e,CI: Fix overcloud host configure job due to pytest 6,MERGED,2020-07-30 09:32:47.000000000,2020-08-03 11:39:13.000000000,2020-08-03 11:37:49.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 09:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/abe375c1297cadd837418a1a09ceac77eb22dd53', 'message': 'CI: Fix overcloud host configure job due to pytest 6\n\nOn the stable/train branch, the kayobe-overcloud-host-configure jobs are\nfailing, seemingly since the release of pytest 6.0.0.\n\nThis patch restricts the version of pytest to less than 6.\n\nChange-Id: I156403025ba57232e4ce454f653e392cd0669f3e\n'}, {'number': 2, 'created': '2020-07-30 14:04:06.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/14ce936a713f477f7c7457cefd3054b287c3dadf', 'message': 'CI: Fix overcloud host configure job due to pytest 6\n\nOn the stable/train branch, the kayobe-overcloud-host-configure jobs are\nfailing, seemingly since the release of pytest 6.0.0.\n\nThis patch restricts the version of pytest to less than 6.\n\nChange-Id: I156403025ba57232e4ce454f653e392cd0669f3e\n'}]",0,743938,14ce936a713f477f7c7457cefd3054b287c3dadf,10,3,2,14826,,,0,"CI: Fix overcloud host configure job due to pytest 6

On the stable/train branch, the kayobe-overcloud-host-configure jobs are
failing, seemingly since the release of pytest 6.0.0.

This patch restricts the version of pytest to less than 6.

Change-Id: I156403025ba57232e4ce454f653e392cd0669f3e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/38/743938/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,abe375c1297cadd837418a1a09ceac77eb22dd53,,pytest<6 # MIT,,1,0
openstack%2Fmurano-pkg-check~master~Ic02f32ec9d886a07d633c4512d0e55d996f76177,openstack/murano-pkg-check,master,Ic02f32ec9d886a07d633c4512d0e55d996f76177,Fix py38 ut,MERGED,2020-07-08 08:15:09.000000000,2020-08-03 11:36:12.000000000,2020-08-03 11:36:12.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 08:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/84a94579ef2c9a4e0782c965e3fc4ee75ab5085c', 'message': 'Fix py38 ut\n\nChange-Id: Ic02f32ec9d886a07d633c4512d0e55d996f76177\nCloses-Bug: #1885431\n'}, {'number': 2, 'created': '2020-08-03 09:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/6a7d12f9742e851ae8e70098fe1728419cbd6a5d', 'message': 'Fix py38 ut\n\nChange-Id: Ic02f32ec9d886a07d633c4512d0e55d996f76177\nCloses-Bug: #1885431\n'}, {'number': 3, 'created': '2020-08-03 09:27:47.000000000', 'files': ['muranopkgcheck/error.py'], 'web_link': 'https://opendev.org/openstack/murano-pkg-check/commit/27f82cb4298ebf895025b467637f65ba873c63a9', 'message': 'Fix py38 ut\n\nChange-Id: Ic02f32ec9d886a07d633c4512d0e55d996f76177\nCloses-Bug: #1885431\n'}]",0,739921,27f82cb4298ebf895025b467637f65ba873c63a9,11,2,3,14107,,,0,"Fix py38 ut

Change-Id: Ic02f32ec9d886a07d633c4512d0e55d996f76177
Closes-Bug: #1885431
",git fetch https://review.opendev.org/openstack/murano-pkg-check refs/changes/21/739921/3 && git format-patch -1 --stdout FETCH_HEAD,['muranopkgcheck/error.py'],1,84a94579ef2c9a4e0782c965e3fc4ee75ab5085c,,, if code not in self.errors: raise ValueError('Error {} was not registered'.format(code)),0,2
openstack%2Fcharm-manila-generic~master~I472a9cf84ca916d44dfa4221440e108e52b5050d,openstack/charm-manila-generic,master,I472a9cf84ca916d44dfa4221440e108e52b5050d,Release sync for 20.08,MERGED,2020-07-27 19:54:35.000000000,2020-08-03 11:30:13.000000000,2020-08-03 11:30:13.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:54:35.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/dbba043c4b10fab4796430d571f5cad1b494849a', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I472a9cf84ca916d44dfa4221440e108e52b5050d\n'}]",0,743362,dbba043c4b10fab4796430d571f5cad1b494849a,11,4,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I472a9cf84ca916d44dfa4221440e108e52b5050d
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/62/743362/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,dbba043c4b10fab4796430d571f5cad1b494849a,batch-groovy-ch-libs,d9d462f6-d02c-11ea-ba3d-6bf74a00b144,91c390e0-a4d0-11ea-98ee-b389ca68ba9b,1,1
openstack%2Fkolla-ansible~master~Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c,openstack/kolla-ansible,master,Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c,linuxbridge: Fix name of securitygroup section,MERGED,2020-07-29 17:44:58.000000000,2020-08-03 11:09:54.000000000,2020-08-03 11:04:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-29 17:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ab319ac649c462c1497bb51c4973eef69b5d6d4', 'message': ""linuxbridge: Fix name of securitygroup section\n\nWith an incorrectly named section, whatever's defined in here is\nactually ignored which can result in unexpected behaviour.\n\nCloses-Bug: 1889455\n\nChange-Id: Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c\nSigned-off-by: Nick Jones <nick@dischord.org>\n""}, {'number': 2, 'created': '2020-07-30 08:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a5cd511e42067ee7a1c308e27fa5cd56923d611', 'message': ""linuxbridge: Fix name of securitygroup section\n\nWith an incorrectly named section, whatever's defined in here is\nactually ignored which can result in unexpected behaviour.\n\nCloses-Bug: 1889455\n\nChange-Id: Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c\nSigned-off-by: Nick Jones <nick@dischord.org>\n""}, {'number': 3, 'created': '2020-07-30 09:43:51.000000000', 'files': ['ansible/roles/neutron/templates/linuxbridge_agent.ini.j2', 'doc/source/reference/networking/neutron.rst', 'releasenotes/notes/fix-linuxbridge-secgroups-7e5cae9d630e3db9.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07f67f1b92da1cc75778593fd9d6d3d64430c24c', 'message': ""linuxbridge: Fix name of securitygroup section\n\nWith an incorrectly named section, whatever's defined in here is\nactually ignored which can result in unexpected behaviour.\n\nCloses-Bug: 1889455\n\nChange-Id: Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c\nSigned-off-by: Nick Jones <nick@dischord.org>\n""}]",0,743815,07f67f1b92da1cc75778593fd9d6d3d64430c24c,21,4,3,16984,,,0,"linuxbridge: Fix name of securitygroup section

With an incorrectly named section, whatever's defined in here is
actually ignored which can result in unexpected behaviour.

Closes-Bug: 1889455

Change-Id: Ib2e2b53e9a3c0e62a2e997881c0cd1f92acfb39c
Signed-off-by: Nick Jones <nick@dischord.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/743815/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/linuxbridge_agent.ini.j2', 'doc/source/reference/networking/neutron.rst']",2,8ab319ac649c462c1497bb51c4973eef69b5d6d4,bug/1889455, [securitygroup], [security_group],2,2
openstack%2Fmurano~master~I6a4a761b0098d7b09b2dc030774897783b0a47bb,openstack/murano,master,I6a4a761b0098d7b09b2dc030774897783b0a47bb,DNM: CI health check,ABANDONED,2020-07-30 14:58:38.000000000,2020-08-03 10:58:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-30 14:58:38.000000000', 'files': ['murano/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/521415ff6269aea57da4385d574069bd0f71449c', 'message': 'DNM: CI health check\n\nChange-Id: I6a4a761b0098d7b09b2dc030774897783b0a47bb\n'}]",0,743994,521415ff6269aea57da4385d574069bd0f71449c,3,1,1,17685,,,0,"DNM: CI health check

Change-Id: I6a4a761b0098d7b09b2dc030774897783b0a47bb
",git fetch https://review.opendev.org/openstack/murano refs/changes/94/743994/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/base.py'],1,521415ff6269aea57da4385d574069bd0f71449c,,# dummy change,,1,0
openstack%2Fopenstack-ansible~stable%2Fussuri~Ie093bdc90e756404a984afed70a80ed7d4a5c7bc,openstack/openstack-ansible,stable/ussuri,Ie093bdc90e756404a984afed70a80ed7d4a5c7bc,Add documentation for deploying letsencrypt certificates,MERGED,2020-07-27 17:43:05.000000000,2020-08-03 10:56:58.000000000,2020-08-03 10:55:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-27 17:43:05.000000000', 'files': ['doc/source/user/security/ssl-certificates.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1d9f2631ab8bdb2ae00739b0bd91a4b19a9309d1', 'message': 'Add documentation for deploying letsencrypt certificates\n\nChange-Id: Ie093bdc90e756404a984afed70a80ed7d4a5c7bc\n(cherry picked from commit 9d7969f5880b5cd69c7a22e549d9e7f71843cf2c)\n'}]",0,743290,1d9f2631ab8bdb2ae00739b0bd91a4b19a9309d1,8,3,1,25023,,,0,"Add documentation for deploying letsencrypt certificates

Change-Id: Ie093bdc90e756404a984afed70a80ed7d4a5c7bc
(cherry picked from commit 9d7969f5880b5cd69c7a22e549d9e7f71843cf2c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/90/743290/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/security/ssl-certificates.rst'],1,1d9f2631ab8bdb2ae00739b0bd91a4b19a9309d1,," LetsEncrypt certificates ~~~~~~~~~~~~~~~~~~~~~~~~ The HAProxy ansible role supports using LetsEncrypt to automatically deploy trusted SSL certificates for the public endpoint. Each HAProxy server will individually request a LetsEncrypt certificate. The http-01 type challenge is used by certbot to deploy certificates so it is required that the public endpoint is accessible directly on the internet. Deployment of certificates using LetsEncrypt has been validated for openstack-ansible using Ubuntu Bionic. Other distributions should work but are not tested. To deploy certificates with LetsEncrypt, add the following to ``/etc/openstack_deploy/user_variables.yml`` to enable the letsencrypt function in the haproxy ansible role, and to create a new backend service called ``letsencrypt`` to service http-01 challenge requests. .. code-block:: shell-session haproxy_ssl: true haproxy_ssl_letsencrypt_enable: True haproxy_ssl_letsencrypt_install_method: ""distro"" haproxy_ssl_letsencrypt_setup_extra_params: ""--http-01-address {{ ansible_host }} --http-01-port 8888"" haproxy_ssl_letsencrypt_email: ""email.address@example.com"" haproxy_extra_services: # an internal only service for acme-challenge whose backend is certbot running on any haproxy instance - service: haproxy_service_name: letsencrypt haproxy_backend_nodes: ""{{ groups['haproxy_all'] }}"" backend_rise: 1 #rise quickly to detect certbot running without delay backend_fall: 2 haproxy_bind: - 127.0.0.1 #bind to the localhost as the host internal IP will be used by certbot haproxy_port: 8888 haproxy_balance_type: http Copy the whole variable ``haproxy_default_services`` from ``/opt/openstack-ansible/inventory/group_vars/haproxy/haproxy.yml`` to ``/etc/openstack_deploy/group_vars/haproxy/haproxy_all.yml`` and update the section for horizon to include the ACL redirects http-01 challenges to the HAProxy ``letsencrypt`` backend as follows: .. code-block:: shell-session - service: haproxy_service_name: horizon haproxy_backend_nodes: ""{{ groups['horizon_all'] | default([]) }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl_all_vips: true haproxy_port: ""{{ haproxy_ssl | ternary(443,80) }}"" haproxy_backend_port: 80 haproxy_redirect_http_port: 80 haproxy_balance_type: http haproxy_balance_alg: source haproxy_backend_options: - ""httpchk HEAD / HTTP/1.0\\r\\nUser-agent:\\ osa-haproxy-healthcheck"" haproxy_service_enabled: ""{{ groups['horizon_all'] is defined and groups['horizon_all'] | length > 0 }}"" haproxy_redirect_scheme: ""https if !{ ssl_fc } !{ path_beg /.well-known/acme-challenge/ }"" #redirect all non-ssl traffic to ssl except acme-challenge haproxy_frontend_acls: #use a frontend ACL specify the backend to use for acme-challenge letsencrypt-acl: rule: ""path_beg /.well-known/acme-challenge/"" backend_name: letsencrypt",,69,0
openstack%2Ftripleo-upgrade~master~Iab6874cb636873cc020a9b2909658e2d64b6029d,openstack/tripleo-upgrade,master,Iab6874cb636873cc020a9b2909658e2d64b6029d,Check if ceph-ansible was installed before leapp.,ABANDONED,2020-07-27 14:32:24.000000000,2020-08-03 10:56:30.000000000,,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-27 14:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c556d0e98694f91f19afb80292c3a61972afd20b', 'message': ""Check if ceph-ansible was installed before leapp.\n\nIn [0] the ceph-upgrade package updating was refactored\nbasing the decision of updating ceph-ansible if the\npackage was present in the system. However, this is a\nproblem for the FFU workflow as there is a operating\nsystem upgrade of the Undercloud which removes ceph-ansible\npackage. As a consequence, the package isn't present and\nit doesn't get updated.\n\nThis patch adds a new fact ceph_ansible_pre_leapp in which\nwe store if ceph-ansible package was installed before\nrunning leapp. If it was, we will enforce the installation\nof it during the Undercloud upgrade pre-requisites step.\n\nIt also leverages the packages_fact added task to catch if\nthe rhos-release package needs to be removed.\n\n[0] - I3eadfad34aa563084fd4cc68990cb247e734d508\n\nChange-Id: Iab6874cb636873cc020a9b2909658e2d64b6029d\n""}, {'number': 2, 'created': '2020-07-28 10:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/20ab9a64e2a4f6a16df3c24cff8f48c9c7bca56d', 'message': ""Check if ceph-ansible was installed before leapp.\n\nIn [0] the ceph-upgrade package updating was refactored\nbasing the decision of updating ceph-ansible if the\npackage was present in the system. However, this is a\nproblem for the FFU workflow as there is a operating\nsystem upgrade of the Undercloud which removes ceph-ansible\npackage. As a consequence, the package isn't present and\nit doesn't get updated.\n\nThis patch adds a new fact ceph_ansible_pre_leapp in which\nwe store if ceph-ansible package was installed before\nrunning leapp. If it was, we will enforce the installation\nof it during the Undercloud upgrade pre-requisites step.\n\nIt also leverages the packages_fact added task to catch if\nthe rhos-release package needs to be removed.\n\n[0] - I3eadfad34aa563084fd4cc68990cb247e734d508\n\nChange-Id: Iab6874cb636873cc020a9b2909658e2d64b6029d\n""}, {'number': 3, 'created': '2020-07-29 10:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/20e6a18bed29446f9106dc623f1fc7789c39d8f0', 'message': ""Check if ceph-ansible was installed before leapp.\n\nIn [0] the ceph-upgrade package updating was refactored\nbasing the decision of updating ceph-ansible if the\npackage was present in the system. However, this is a\nproblem for the FFU workflow as there is a operating\nsystem upgrade of the Undercloud which removes ceph-ansible\npackage. As a consequence, the package isn't present and\nit doesn't get updated.\n\nThis patch adds a new fact ceph_ansible_pre_leapp in which\nwe store if ceph-ansible package was installed before\nrunning leapp. If it was, we will enforce the installation\nof it during the Undercloud upgrade pre-requisites step.\n\nIt also leverages the packages_fact added task to catch if\nthe rhos-release package needs to be removed.\n\n[0] - I3eadfad34aa563084fd4cc68990cb247e734d508\n\nChange-Id: Iab6874cb636873cc020a9b2909658e2d64b6029d\n""}, {'number': 4, 'created': '2020-08-03 10:01:56.000000000', 'files': ['tasks/common/undercloud_os_upgrade.yaml', 'tasks/common/undercloud_prerequisites.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/066a306091144dddf3bde0176acdc69d7376a8f4', 'message': ""Check if ceph-ansible was installed before leapp.\n\nIn [0] the ceph-upgrade package updating was refactored\nbasing the decision of updating ceph-ansible if the\npackage was present in the system. However, this is a\nproblem for the FFU workflow as there is a operating\nsystem upgrade of the Undercloud which removes ceph-ansible\npackage. As a consequence, the package isn't present and\nit doesn't get updated.\n\nWith the latest Ceph workflow refactoring, the ceph-ansible 3\npackage is being left in the Undercloud during the whole FFU\nprocedure and it is only after the converge step is run when\nwe set up the new ceph repositories and update ceph-ansible.\n\nThis patch adds a new fact ceph_ansible_pre_leapp in which\nwe store if ceph-ansible package was installed before\nrunning leapp. If it was, we will skip its update during the\nUndercloud upgrade-requisites step, this way we will ensure\nthat ceph-ansible 3 remains as it is in the Undercloud.\n\nIt also leverages the packages_fact added task to catch if\nthe rhos-release package needs to be removed.\n\n[0] - I3eadfad34aa563084fd4cc68990cb247e734d508\n\nChange-Id: Iab6874cb636873cc020a9b2909658e2d64b6029d\n""}]",10,743244,066a306091144dddf3bde0176acdc69d7376a8f4,13,7,4,26343,,,0,"Check if ceph-ansible was installed before leapp.

In [0] the ceph-upgrade package updating was refactored
basing the decision of updating ceph-ansible if the
package was present in the system. However, this is a
problem for the FFU workflow as there is a operating
system upgrade of the Undercloud which removes ceph-ansible
package. As a consequence, the package isn't present and
it doesn't get updated.

With the latest Ceph workflow refactoring, the ceph-ansible 3
package is being left in the Undercloud during the whole FFU
procedure and it is only after the converge step is run when
we set up the new ceph repositories and update ceph-ansible.

This patch adds a new fact ceph_ansible_pre_leapp in which
we store if ceph-ansible package was installed before
running leapp. If it was, we will skip its update during the
Undercloud upgrade-requisites step, this way we will ensure
that ceph-ansible 3 remains as it is in the Undercloud.

It also leverages the packages_fact added task to catch if
the rhos-release package needs to be removed.

[0] - I3eadfad34aa563084fd4cc68990cb247e734d508

Change-Id: Iab6874cb636873cc020a9b2909658e2d64b6029d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/44/743244/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/undercloud_os_upgrade.yaml', 'tasks/common/undercloud_prerequisites.yaml']",2,c556d0e98694f91f19afb80292c3a61972afd20b,," when: ""'ceph-ansible' in ansible_facts.packages"" or ceph_ansible_pre_leapp|bool"," when: ""'ceph-ansible' in ansible_facts.packages""",9,10
openstack%2Frequirements~stable%2Fqueens~I97d02a72fe5935150a206886322ad8175fc059fd,openstack/requirements,stable/queens,I97d02a72fe5935150a206886322ad8175fc059fd,Bump openstacksdk to 0.12,ABANDONED,2020-07-24 15:03:15.000000000,2020-08-03 10:44:15.000000000,,"[{'_account_id': 2}, {'_account_id': 6816}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11904}, {'_account_id': 12393}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/119e5c38083eb8168c6d54a354b7058bb4ff6881', 'message': 'Bump openstacksdk to 0.12\n\nAnsible openstack module requires openstacksdk >= 0.12 to work properly\non train jobs.\n\nChange-Id: I97d02a72fe5935150a206886322ad8175fc059fd\n'}, {'number': 2, 'created': '2020-07-24 15:23:31.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/61e1dd9e6c268ecfc04c9a629d0af88257f29980', 'message': 'Bump openstacksdk to 0.12\n\nAnsible openstack module requires openstacksdk >= 0.12 to work properly\non queens jobs.\n\nChange-Id: I97d02a72fe5935150a206886322ad8175fc059fd\n'}]",1,742906,61e1dd9e6c268ecfc04c9a629d0af88257f29980,13,9,2,8367,,,0,"Bump openstacksdk to 0.12

Ansible openstack module requires openstacksdk >= 0.12 to work properly
on queens jobs.

Change-Id: I97d02a72fe5935150a206886322ad8175fc059fd
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/742906/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,119e5c38083eb8168c6d54a354b7058bb4ff6881,openstacksdk,openstacksdk===0.12.0,openstacksdk===0.11.4,1,1
openstack%2Fkolla-ansible~master~Iacb55795d1f05c845b4f20e680800c88e610b2d0,openstack/kolla-ansible,master,Iacb55795d1f05c845b4f20e680800c88e610b2d0,CI: move playbook files to tests/playbooks/ dir,ABANDONED,2020-03-30 08:19:09.000000000,2020-08-03 10:28:29.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-30 08:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42fa3a6d40f4ef157ffde173b47e849882722333', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}, {'number': 2, 'created': '2020-03-30 09:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e0e85ab47288f35a6ea689ddfd73c9f46001316', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}, {'number': 3, 'created': '2020-05-28 09:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c79d6e4451b95ac083b2a5da15662474e5d4820b', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}, {'number': 4, 'created': '2020-05-28 10:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b7eb09a17bba35ba786dada0b19d0ff93ec72ac9', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}, {'number': 5, 'created': '2020-06-08 10:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf4c9692c0ed70a217498c8b89fddf9124fc75d5', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}, {'number': 6, 'created': '2020-06-08 10:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/63c343dc252a95ef22ef3f799f485c2f2e2dd0e7', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}, {'number': 7, 'created': '2020-06-08 10:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b730b88e2c96f9d8f2b642728dfc9b3ba240c605', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}, {'number': 8, 'created': '2020-06-09 18:02:11.000000000', 'files': ['tests/playbooks/run.yml', 'tests/playbooks/test-kolla-toolbox.yml', 'tests/playbooks/pre.yml', 'zuul.d/base.yaml', 'tests/playbooks/post.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/840a51bff993405e2a2dbcf727dcf99abe112754', 'message': 'CI: move playbook files to tests/playbooks/ dir\n\nLet make a bit of cleanup.\n\nChange-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0\n'}]",0,715872,840a51bff993405e2a2dbcf727dcf99abe112754,22,2,8,24072,,,0,"CI: move playbook files to tests/playbooks/ dir

Let make a bit of cleanup.

Change-Id: Iacb55795d1f05c845b4f20e680800c88e610b2d0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/715872/8 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'tests/playbooks/test-kolla-toolbox.yml', 'tests/playbooks/pre.yml', 'tests/playbooks/post.yml', 'zuul.d/base.yaml']",5,42fa3a6d40f4ef157ffde173b47e849882722333,, pre-run: tests/playbooks/pre.yml run: tests/playbooks/run.yml post-run: tests/playbooks/post.yml, pre-run: tests/pre.yml run: tests/run.yml post-run: tests/post.yml,3,3
openstack%2Fovn-octavia-provider~master~Ic013e5a0605c28453d3ee1b64031022f6f75f8f6,openstack/ovn-octavia-provider,master,Ic013e5a0605c28453d3ee1b64031022f6f75f8f6,Fix pep8 and functional jobs,MERGED,2020-05-11 18:00:13.000000000,2020-08-03 10:17:31.000000000,2020-07-14 12:06:57.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-05-11 18:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/54d2cfa22007a62d3a182504ad452d579a352965', 'message': 'Add functional job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source.\n\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n'}, {'number': 2, 'created': '2020-05-11 19:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/1c5b9a508489ad09864c79f3bf5774c7a115afaa', 'message': 'Add functional job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source from the master branch.\n\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n'}, {'number': 3, 'created': '2020-05-11 20:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/393c51087074c90a7e25351b0897e56eff11a339', 'message': 'Add functional job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source from the master branch.\n\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n'}, {'number': 4, 'created': '2020-06-24 15:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/be7809a7efbd12e7e606c6253eeb18713be086a7', 'message': 'Add functional release and master job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source from the master branch.\n\nDefine also second job that will run code with latest\nOVN/OVS release.\n\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n'}, {'number': 5, 'created': '2020-07-13 10:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b7658a8b92086f420ac73b3368e8daa889fe10ec', 'message': 'Fix pep8 and functional jobs\n\nThis change includes a 3 different patches that we need\nto squash in order to pass the gate.\n\n1) New versions of isort broke pylint. This patch fixes it at 4.3.21.\n\n2) The functional job fails because of bugfixes in neutron\ndevstack lib. We need to update our functional jobs also.\n\n3) Add functional release and master job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source from the master branch.\n\nDefine also second job that will run code with latest\nOVN/OVS release.\n\nCloses-Bug: #1887363\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n'}, {'number': 6, 'created': '2020-07-13 11:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9f97066c6e07f3a87a08eca088b67727ab177b5b', 'message': 'Fix pep8 and functional jobs\n\nThis change includes a 3 different patches that we need\nto squash in order to pass the gate.\n\n1) New versions of isort broke pylint. This patch fixes it at 4.3.21.\n\n2) The functional job fails because of bugfixes in neutron\ndevstack lib. We need to update our functional jobs also.\n\n3) Add functional release and master job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source from the master branch.\n\nDefine also second job that will run code with latest\nOVN/OVS release.\n\nCloses-Bug: #1887363\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n'}, {'number': 7, 'created': '2020-07-13 12:42:55.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'roles/configure_functional_tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/773daf59de78617046e7881d6f2c55e2ff6e595c', 'message': 'Fix pep8 and functional jobs\n\nThis change includes a 3 different patches that we need\nto squash in order to pass the gate.\n\n1) New versions of isort broke pylint. This patch fixes it at 4.3.21.\n\n2) The functional job fails because of bugfixes in neutron\ndevstack lib. We need to update our functional jobs also.\n\n3) Add functional release and master job that builds OVN\n\nIn order to test the latest code in the core OVN repository,\nadd a job that builds it from source from the master branch.\n\nDefine also second job that will run code with latest\nOVN/OVS release.\n\nCloses-Bug: #1887363\nChange-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6\n'}]",2,726917,773daf59de78617046e7881d6f2c55e2ff6e595c,32,4,7,1131,,,0,"Fix pep8 and functional jobs

This change includes a 3 different patches that we need
to squash in order to pass the gate.

1) New versions of isort broke pylint. This patch fixes it at 4.3.21.

2) The functional job fails because of bugfixes in neutron
devstack lib. We need to update our functional jobs also.

3) Add functional release and master job that builds OVN

In order to test the latest code in the core OVN repository,
add a job that builds it from source from the master branch.

Define also second job that will run code with latest
OVN/OVS release.

Closes-Bug: #1887363
Change-Id: Ic013e5a0605c28453d3ee1b64031022f6f75f8f6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/17/726917/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml']",2,54d2cfa22007a62d3a182504ad452d579a352965,, - ovn-octavia-provider-functional-build,,27,1
openstack%2Foslo.rootwrap~master~Ic61bffb3845a53df14765194482f6264417d0ac7,openstack/oslo.rootwrap,master,Ic61bffb3845a53df14765194482f6264417d0ac7,Bump bandit version,MERGED,2020-07-24 15:36:11.000000000,2020-08-03 10:14:33.000000000,2020-08-03 10:13:14.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:36:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.rootwrap/commit/0d087b043e4c4df97e27adc077848b3f0673628e', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: Ic61bffb3845a53df14765194482f6264417d0ac7\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742922,0d087b043e4c4df97e27adc077848b3f0673628e,8,3,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: Ic61bffb3845a53df14765194482f6264417d0ac7
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.rootwrap refs/changes/22/742922/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0d087b043e4c4df97e27adc077848b3f0673628e,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fkolla-ansible~master~I8aa02ac2caf320934be5ca439b9b9a24ac6aa573,openstack/kolla-ansible,master,I8aa02ac2caf320934be5ca439b9b9a24ac6aa573,CI: Add centos linuxbridge job,MERGED,2020-07-30 08:57:47.000000000,2020-08-03 10:03:33.000000000,2020-08-03 09:59:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-30 08:57:47.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f50f1be7942153f27617c29b337618bd01ce2bc', 'message': 'CI: Add centos linuxbridge job\n\nChange-Id: I8aa02ac2caf320934be5ca439b9b9a24ac6aa573\n'}]",2,743927,1f50f1be7942153f27617c29b337618bd01ce2bc,14,4,1,22629,,,0,"CI: Add centos linuxbridge job

Change-Id: I8aa02ac2caf320934be5ca439b9b9a24ac6aa573
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/743927/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,1f50f1be7942153f27617c29b337618bd01ce2bc,add_centos_linuxbridge, name: kolla-ansible-centos8-source-linuxbridge parent: kolla-ansible-linuxbridge-base nodeset: kolla-ansible-centos8 vars: base_distro: centos install_type: source - job:,,9,0
openstack%2Fneutron~stable%2Fussuri~I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,openstack/neutron,stable/ussuri,I3cc1f1b7dc480d54a7cee369e4638f9fd597c759,Don't check if any bridges were recrected when OVS was restarted,MERGED,2020-06-08 07:48:47.000000000,2020-08-03 09:47:50.000000000,2020-06-10 18:45:06.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-08 07:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48fdf70e50153c5032557c3a236eaeaf993ed955', 'message': ""Don't check if any bridges were recrected when OVS was restarted\n\nIn case when openvswitch was restarted, full sync of all bridges will\nbe always triggered by neutron-ovs-agent so there is no need to check\nin same rpc_loop iteration if bridges were recreated.\n\nChange-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759\nRelated-bug: #1864822\n(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)\n""}, {'number': 2, 'created': '2020-06-10 06:57:25.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8e7886d8b52a144241c0cc2c30b670ce5ddf926', 'message': ""Don't check if any bridges were recrected when OVS was restarted\n\nIn case when openvswitch was restarted, full sync of all bridges will\nbe always triggered by neutron-ovs-agent so there is no need to check\nin same rpc_loop iteration if bridges were recreated.\n\nChange-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759\nRelated-bug: #1864822\n(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)\n""}]",0,734028,b8e7886d8b52a144241c0cc2c30b670ce5ddf926,20,7,2,11975,,,0,"Don't check if any bridges were recrected when OVS was restarted

In case when openvswitch was restarted, full sync of all bridges will
be always triggered by neutron-ovs-agent so there is no need to check
in same rpc_loop iteration if bridges were recreated.

Change-Id: I3cc1f1b7dc480d54a7cee369e4638f9fd597c759
Related-bug: #1864822
(cherry picked from commit 45482e300aab781064281b3e06a17ae488831151)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/734028/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,48fdf70e50153c5032557c3a236eaeaf993ed955,bug/1864822-stable/ussuri," bridges_recreated = False else: # Check if any physical bridge wasn't recreated recently, # in case when openvswitch was restarted, it's not needed added_bridges = idl_monitor.bridges_added + self.added_bridges bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to # ensure that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated"," # Check if any physical bridge wasn't recreated recently added_bridges = idl_monitor.bridges_added + self.added_bridges bridges_recreated = self._reconfigure_physical_bridges( added_bridges) if bridges_recreated: # In case when any bridge was ""re-created"", we need to ensure # that there is no any stale flows in bridges left need_clean_stale_flow = True sync |= bridges_recreated",12,9
openstack%2Fwatcher~stable%2Frocky~Ia6d61225f07cd056ef4c3a01439ebb7adc5622b9,openstack/watcher,stable/rocky,Ia6d61225f07cd056ef4c3a01439ebb7adc5622b9,Watcher API supports strategy name when creating audit template,ABANDONED,2020-06-19 02:36:13.000000000,2020-08-03 09:47:22.000000000,,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 31455}]","[{'number': 1, 'created': '2020-06-19 02:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0edabc77106e84dc8b42abfe4fa5d3a3b4453818', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nRelated bug:1884174\n\nChange-Id: Ia6d61225f07cd056ef4c3a01439ebb7adc5622b9\n'}, {'number': 2, 'created': '2020-07-06 09:37:04.000000000', 'files': ['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ec28020ea4d9fd795a05f99fe9c63940e00da5bc', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nCloses bug: #1884174\n\nChange-Id: Ia6d61225f07cd056ef4c3a01439ebb7adc5622b9\n'}]",0,736882,ec28020ea4d9fd795a05f99fe9c63940e00da5bc,9,4,2,31455,,,0,"Watcher API supports strategy name when creating audit template

when directly using the `curl` command to create audit template,
strategy name can be accepted.

Closes bug: #1884174

Change-Id: Ia6d61225f07cd056ef4c3a01439ebb7adc5622b9
",git fetch https://review.opendev.org/openstack/watcher refs/changes/82/736882/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/api/controllers/v1/audit_template.py'],1,0edabc77106e84dc8b42abfe4fa5d3a3b4453818,bug/1884174, available_strategies_uuids_map = { available_strategies_names_map = { s.name: s for s in available_strategies} if audit_template.strategy in available_strategies_uuids_map: strategy = available_strategies_uuids_map[ audit_template.strategy] elif audit_template.strategy in available_strategies_names_map: strategy = available_strategies_names_map[ audit_template.strategy] else:, available_strategies_map = { if audit_template.strategy not in available_strategies_map: strategy = available_strategies_map[audit_template.strategy],10,3
openstack%2Fmurano~stable%2Ftrain~I24ea16ae4d853829ca34721febf8c834cc42977f,openstack/murano,stable/train,I24ea16ae4d853829ca34721febf8c834cc42977f,Fix murano ci UT error,MERGED,2020-08-03 08:22:22.000000000,2020-08-03 09:47:00.000000000,2020-08-03 09:45:08.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 08:22:22.000000000', 'files': ['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/e7d3719025e4ada235e08915bbb01ec35b6474a0', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)\n'}]",0,744413,e7d3719025e4ada235e08915bbb01ec35b6474a0,7,2,1,14107,,,0,"Fix murano ci UT error

Change-Id: I24ea16ae4d853829ca34721febf8c834cc42977f
(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)
",git fetch https://review.opendev.org/openstack/murano refs/changes/13/744413/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py']",2,e7d3719025e4ada235e08915bbb01ec35b6474a0,," self.override_config('signing_key', False, group='engine') self.override_config('signing_key', False, group='engine')",,5,0
openstack%2Fwatcher~master~I7c0ca760a7fa414faca03c5293df34a84aad6fac,openstack/watcher,master,I7c0ca760a7fa414faca03c5293df34a84aad6fac,Watcher API supports strategy name when creating audit template,MERGED,2020-06-19 07:22:09.000000000,2020-08-03 09:41:59.000000000,2020-07-06 01:47:59.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}, {'_account_id': 31455}]","[{'number': 1, 'created': '2020-06-19 07:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/866b7318e0a8914b88c9fe87c1f0e947bb28b726', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nRelated bug:1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n'}, {'number': 2, 'created': '2020-06-24 01:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/7b39d4758faee4c92a24b079257bc47453aba044', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nRelated bug:1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n'}, {'number': 3, 'created': '2020-06-28 03:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/95f571d7ef51de5938b7d99a32a64f0147b55510', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nRelated bug: #1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n'}, {'number': 4, 'created': '2020-06-28 06:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e510497a47d93d1aa187780ce47a758134ed0c45', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nRelated bug: #1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n'}, {'number': 5, 'created': '2020-06-28 07:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/30700a795a6a1f90544739046aca2b1c060d84d1', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nRelated bug: #1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n'}, {'number': 6, 'created': '2020-07-01 01:46:55.000000000', 'files': ['watcher/tests/api/v1/test_audit_templates.py', 'watcher/api/controllers/v1/audit_template.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5', 'message': 'Watcher API supports strategy name when creating audit template\n\nwhen directly using the `curl` command to create audit template,\nstrategy name can be accepted.\n\nCloses-Bug: #1884174\n\nChange-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac\n'}]",11,736943,3f7a508a2e3aedb5c88c4cb15f9d5b93b4793cf5,29,4,6,31455,,,0,"Watcher API supports strategy name when creating audit template

when directly using the `curl` command to create audit template,
strategy name can be accepted.

Closes-Bug: #1884174

Change-Id: I7c0ca760a7fa414faca03c5293df34a84aad6fac
",git fetch https://review.opendev.org/openstack/watcher refs/changes/43/736943/6 && git format-patch -1 --stdout FETCH_HEAD,['watcher/api/controllers/v1/audit_template.py'],1,866b7318e0a8914b88c9fe87c1f0e947bb28b726,bug/1884174, available_strategies_uuids_map = { available_strategies_names_map = { s.name: s for s in available_strategies} if audit_template.strategy in available_strategies_uuids_map: strategy = available_strategies_uuids_map[ audit_template.strategy] elif audit_template.strategy in available_strategies_names_map: strategy = available_strategies_names_map[ audit_template.strategy] else:, available_strategies_map = { if audit_template.strategy not in available_strategies_map: strategy = available_strategies_map[audit_template.strategy],10,3
openstack%2Ftripleo-ansible~master~I1d6e3baf205854a0a56e7f38bcbe43d22366cd5f,openstack/tripleo-ansible,master,I1d6e3baf205854a0a56e7f38bcbe43d22366cd5f,Fix the kernel args error during leapp upgrade,ABANDONED,2020-08-03 07:26:20.000000000,2020-08-03 09:19:10.000000000,,"[{'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 07:26:20.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs_leappfix.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7fdd33c253b9886ef0170f8e99c060316746d88a', 'message': 'Fix the kernel args error during leapp upgrade\n\nleapp expects all the entries in /etc/default/grub to\nstart with GRUB. As tripleo has added without GRUB,\nleapp upgrade is throwing errors on kernel args. Fix\nthe entry by appending GRUB to existing ones.\n\nChange-Id: I1d6e3baf205854a0a56e7f38bcbe43d22366cd5f\n'}]",1,744405,7fdd33c253b9886ef0170f8e99c060316746d88a,4,2,1,18575,,,0,"Fix the kernel args error during leapp upgrade

leapp expects all the entries in /etc/default/grub to
start with GRUB. As tripleo has added without GRUB,
leapp upgrade is throwing errors on kernel args. Fix
the entry by appending GRUB to existing ones.

Change-Id: I1d6e3baf205854a0a56e7f38bcbe43d22366cd5f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/744405/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs_leappfix.yml'],1,7fdd33c253b9886ef0170f8e99c060316746d88a,leapp_kernel_args_fix,"--- # This file is used to fix the leapp upgrade errors only while moving from rhel 7 to 8 - name: fix grub entries to have name start with GRUB_ replace: path: ""/etc/default/grub"" regexp: ""^(TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS)(.*)"" replace: ""GRUB_\1\2"" - name: fix grub entries in append statement replace: path: ""/etc/default/grub"" regexp: ""(.*)\{(TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS)\}(.*)"" replace: ""\1\{GRUB_\2\}\3"" ",,12,0
openstack%2Fcyborg~stable%2Fussuri~Ia12b837b81faec9288bb649c4d544f7eadf5c8b3,openstack/cyborg,stable/ussuri,Ia12b837b81faec9288bb649c4d544f7eadf5c8b3,Fix hacking min version to 3.0.1,MERGED,2020-05-18 18:45:36.000000000,2020-08-03 09:13:56.000000000,2020-08-03 09:12:38.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-05-18 18:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ef17dbd1b6a1db8d3914db7fb3721e677b12779b', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Ia12b837b81faec9288bb649c4d544f7eadf5c8b3\n(cherry picked from commit 4c941dbc8199e105fb65055f24340c07badce452)\n'}, {'number': 2, 'created': '2020-06-22 05:39:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a35edb6c86836bf6a246280e973783da86673aa5', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Ia12b837b81faec9288bb649c4d544f7eadf5c8b3\n(cherry picked from commit 4c941dbc8199e105fb65055f24340c07badce452)\n'}]",0,728984,a35edb6c86836bf6a246280e973783da86673aa5,31,3,2,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Ia12b837b81faec9288bb649c4d544f7eadf5c8b3
(cherry picked from commit 4c941dbc8199e105fb65055f24340c07badce452)
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/84/728984/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ef17dbd1b6a1db8d3914db7fb3721e677b12779b,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0pycodestyle>=2.0.0 # MIT License",1,2
openstack%2Fmurano~stable%2Fussuri~I24ea16ae4d853829ca34721febf8c834cc42977f,openstack/murano,stable/ussuri,I24ea16ae4d853829ca34721febf8c834cc42977f,Fix murano ci UT error,MERGED,2020-08-03 08:08:59.000000000,2020-08-03 09:05:35.000000000,2020-08-03 08:59:54.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-03 08:08:59.000000000', 'files': ['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/29c5ef182a18443dc2a717caed06e6695463288f', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)\n'}]",0,744410,29c5ef182a18443dc2a717caed06e6695463288f,8,3,1,17685,,,0,"Fix murano ci UT error

Change-Id: I24ea16ae4d853829ca34721febf8c834cc42977f
(cherry picked from commit 371e99e473c91a1188c2a4f75b82261a23abc885)
",git fetch https://review.opendev.org/openstack/murano refs/changes/10/744410/1 && git format-patch -1 --stdout FETCH_HEAD,"['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py']",2,29c5ef182a18443dc2a717caed06e6695463288f,," self.override_config('signing_key', False, group='engine') self.override_config('signing_key', False, group='engine')",,5,0
openstack%2Fmurano-tempest-plugin~master~I72f42951d29a23d01fbe803d553debc76d49acbc,openstack/murano-tempest-plugin,master,I72f42951d29a23d01fbe803d553debc76d49acbc,[goal] Migrate murano-tempest-plugin jobs to focal,MERGED,2020-07-30 21:21:55.000000000,2020-08-03 08:51:58.000000000,2020-08-03 08:51:58.000000000,"[{'_account_id': 8556}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 21:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/a04e6921467e2bc22d15ac446bc829f614240f1e', 'message': '[goal] Migrate murano-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: I72f42951d29a23d01fbe803d553debc76d49acbc\nStory: #2007865\nTask: #40198\n'}, {'number': 2, 'created': '2020-07-31 17:22:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/259025637dcd0f35f926a06411b532dc74278e71', 'message': '[goal] Migrate murano-tempest-plugin jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nStable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nChange-Id: I72f42951d29a23d01fbe803d553debc76d49acbc\nStory: #2007865\nTask: #40198\n'}]",0,744057,259025637dcd0f35f926a06411b532dc74278e71,13,3,2,8556,,,0,"[goal] Migrate murano-tempest-plugin jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$

Change-Id: I72f42951d29a23d01fbe803d553debc76d49acbc
Story: #2007865
Task: #40198
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/57/744057/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a04e6921467e2bc22d15ac446bc829f614240f1e,migrate-to-focal, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic nodeset: openstack-single-node-bionic,,3,0
openstack%2Fgovernance-sigs~master~Icb85915b267a9ee017589127bb398318a1f8d2c6,openstack/governance-sigs,master,Icb85915b267a9ee017589127bb398318a1f8d2c6,Rename Operation Docs SIG to expand scope,MERGED,2020-07-30 15:47:58.000000000,2020-08-03 08:45:15.000000000,2020-08-03 08:44:06.000000000,"[{'_account_id': 308}, {'_account_id': 2033}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28606}]","[{'number': 1, 'created': '2020-07-30 15:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/677da43af496375d023abe17773b967c14149651', 'message': 'Rename Operation Docs SIG to expand scope\n\nWe plan on expanding the scope of this SIG to also include tooling and\nother code for use by operators.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-July/016169.html\n\nChange-Id: Icb85915b267a9ee017589127bb398318a1f8d2c6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-30 15:49:59.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/20f38fd7dbdc130396ea041ac784a8f3ba358fd2', 'message': 'Rename Operation Docs SIG to expand scope\n\nWe plan on expanding the scope of this SIG to also include tooling and\nother code for use by operators.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-July/016169.html\n\nChange-Id: Icb85915b267a9ee017589127bb398318a1f8d2c6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,744005,20f38fd7dbdc130396ea041ac784a8f3ba358fd2,11,5,2,11904,,,0,"Rename Operation Docs SIG to expand scope

We plan on expanding the scope of this SIG to also include tooling and
other code for use by operators.

http://lists.openstack.org/pipermail/openstack-discuss/2020-July/016169.html

Change-Id: Icb85915b267a9ee017589127bb398318a1f8d2c6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/05/744005/2 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,677da43af496375d023abe17773b967c14149651,ops-sig,"Operation Docs and Tooling: The Operation Docs and Toolking SIG is for those interested in operator guide documentation and tools, scripts, and other code to make running OpenStack clouds easier and more efficient.",Operation Docs: The Operation Docs SIG is for those interested in operator guide documentation to make running OpenStack clouds easier and more efficient.,4,3
openstack%2Fcloudkitty~master~Ic1192a33353d5efd81513afcf279f820c172ae7d,openstack/cloudkitty,master,Ic1192a33353d5efd81513afcf279f820c172ae7d,migrate testing to ubuntu focal,ABANDONED,2020-07-14 02:41:31.000000000,2020-08-03 08:36:24.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-14 02:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ec0ce1e0052097511aa82b528b4d92492ec52182', 'message': 'migrate testing to ubuntu focal\n\nChange-Id: Ic1192a33353d5efd81513afcf279f820c172ae7d\n'}, {'number': 2, 'created': '2020-07-27 11:00:15.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0cff189bd17b8f1a12a0c52cf6a0828d8c3cdcae', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Focal(Depends-On).\n\nFew job like tempest-full-multinode and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Bionic till stable/ussuri and\non focal from master(victoria) onwards.\n\nstable jobs testing stable branch needs to keep running on their supported\ndistro version which is bionic from stein till ussuri.\n\nChange-Id: Ic1192a33353d5efd81513afcf279f820c172ae7d\n'}]",0,740847,0cff189bd17b8f1a12a0c52cf6a0828d8c3cdcae,9,3,2,30384,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Most of the Tempest jobs will be migrate automatically once devstack
base job start running on Focal(Depends-On).

Few job like tempest-full-multinode and plugin sanity job needs to override
the nodeset. multinode job needs to run on Bionic till stable/ussuri and
on focal from master(victoria) onwards.

stable jobs testing stable branch needs to keep running on their supported
distro version which is bionic from stein till ussuri.

Change-Id: Ic1192a33353d5efd81513afcf279f820c172ae7d
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/47/740847/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ec0ce1e0052097511aa82b528b4d92492ec52182,,# remove this pyflakes from here once you bump the # hacking to 3.2.0 or above. hacking 3.2.0 takes # care of pyflakes version compatibilty. pyflakes>=2.1.1 ,,5,0
openstack%2Fmurano~master~I24ea16ae4d853829ca34721febf8c834cc42977f,openstack/murano,master,I24ea16ae4d853829ca34721febf8c834cc42977f,Fix murano ci UT error,MERGED,2020-08-01 06:46:47.000000000,2020-08-03 08:22:22.000000000,2020-08-03 05:52:46.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 06:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/3380dc4c2b09e91c0090ae7440f84cc6a8bde591', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n'}, {'number': 2, 'created': '2020-08-03 00:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/7409c27b9bc24c4f3a4a32971d740fb13055200b', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n'}, {'number': 3, 'created': '2020-08-03 01:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/814bd059ba1b469959ce0f484a6af922f2321e1e', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n'}, {'number': 4, 'created': '2020-08-03 01:51:38.000000000', 'files': ['murano/tests/unit/engine/system/test_agent.py', 'murano/tests/unit/dsl/test_agent.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/371e99e473c91a1188c2a4f75b82261a23abc885', 'message': 'Fix murano ci UT error\n\nChange-Id: I24ea16ae4d853829ca34721febf8c834cc42977f\n'}]",0,744275,371e99e473c91a1188c2a4f75b82261a23abc885,14,2,4,14107,,,0,"Fix murano ci UT error

Change-Id: I24ea16ae4d853829ca34721febf8c834cc42977f
",git fetch https://review.opendev.org/openstack/murano refs/changes/75/744275/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/engine/system/test_agent.py'],1,3380dc4c2b09e91c0090ae7440f84cc6a8bde591,," self.override_config('signing_key', False, group='engine')",,1,0
openstack%2Fpython-tripleoclient~master~Ia5971af601d1d9500f33045768b38ac7937117f5,openstack/python-tripleoclient,master,Ia5971af601d1d9500f33045768b38ac7937117f5,Simplify error handling in tripleo_deploy,MERGED,2020-07-30 03:52:43.000000000,2020-08-03 07:57:28.000000000,2020-08-03 07:55:56.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 03:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f24a7dfd43ebbd005e6b25f6d9ffbc996e30ed0e', 'message': ""Simplify error handling in tripleo_deploy\n\nDon't use return code from ansible_runner and manage with a flag.\nThis also removes the fail_on_rc flag from run_ansible_playbook()\nand makes it consistent to raise RuntimeError if rc !=0\neverywhere including _standalone_deploy().\n\nChange-Id: Ia5971af601d1d9500f33045768b38ac7937117f5\nCloses-Bug: #1889394\n""}, {'number': 2, 'created': '2020-07-30 04:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7ee8436e81c26ae531b81821a7b28814a993a1c6', 'message': ""Simplify error handling in tripleo_deploy\n\nDon't use return code from ansible_runner and manage with a flag.\nThis also removes the fail_on_rc flag from run_ansible_playbook()\nand makes it consistent to raise RuntimeError if rc !=0\neverywhere including _standalone_deploy().\n\nChange-Id: Ia5971af601d1d9500f33045768b38ac7937117f5\nCloses-Bug: #1889394\n""}, {'number': 3, 'created': '2020-07-30 04:38:22.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a29dd8ef79dcf9fbde5dae1b98f0e88694b14b7a', 'message': ""Simplify error handling in tripleo_deploy\n\nDon't use return code from ansible_runner and manage with a flag.\nThis also removes the fail_on_rc flag from run_ansible_playbook()\nand makes it consistent to raise RuntimeError if rc !=0\neverywhere including _standalone_deploy().\n\nChange-Id: Ia5971af601d1d9500f33045768b38ac7937117f5\nCloses-Bug: #1889394\n""}]",10,743866,a29dd8ef79dcf9fbde5dae1b98f0e88694b14b7a,34,4,3,8833,,,0,"Simplify error handling in tripleo_deploy

Don't use return code from ansible_runner and manage with a flag.
This also removes the fail_on_rc flag from run_ansible_playbook()
and makes it consistent to raise RuntimeError if rc !=0
everywhere including _standalone_deploy().

Change-Id: Ia5971af601d1d9500f33045768b38ac7937117f5
Closes-Bug: #1889394
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/66/743866/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",4,f24a7dfd43ebbd005e6b25f6d9ffbc996e30ed0e,, @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy._standalone_deploy') mock_deploy.side_effect = exceptions.DeploymentError," @mock.patch('tripleoclient.v1.tripleo_deploy.Deploy._standalone_deploy', return_value=1)",21,46
openstack%2Ftacker~master~I2e95faf2584f78a1f8694486d3ffd8a596109133,openstack/tacker,master,I2e95faf2584f78a1f8694486d3ffd8a596109133,Fix for old links in Tacker WSGI/HTTP API layer,MERGED,2020-07-29 10:28:26.000000000,2020-08-03 07:57:01.000000000,2020-08-03 07:54:27.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-29 10:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5ba9250ac7fb518a9d0215b66bde3fcd30b0110c', 'message': 'Fix for old links in Tacker WSGI/HTTP API layer\n\n* Change reference links for tacker source code from [1] to [2].\n* Update broken links for Python Paste.\n[1] https://opendev.org/openstack/tacker/tree/\n[2] https://opendev.org/openstack/tacker/src/branch/master\n\nChange-Id: I2e95faf2584f78a1f8694486d3ffd8a596109133\nCloses-Bug: #1889200\n'}, {'number': 2, 'created': '2020-07-29 17:02:24.000000000', 'files': ['doc/source/contributor/api_layer.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/073f293cc32e982b392e65fe5496cdaeabce539d', 'message': 'Fix for old links in Tacker WSGI/HTTP API layer\n\n* Change reference links for tacker source code from [1] to [2].\n* Update broken links for Python Paste.\n[1] https://opendev.org/openstack/tacker/tree/\n[2] https://opendev.org/openstack/tacker/src/branch/master\n\nChange-Id: I2e95faf2584f78a1f8694486d3ffd8a596109133\nCloses-Bug: #1889200\n'}]",3,743720,073f293cc32e982b392e65fe5496cdaeabce539d,14,7,2,32102,,,0,"Fix for old links in Tacker WSGI/HTTP API layer

* Change reference links for tacker source code from [1] to [2].
* Update broken links for Python Paste.
[1] https://opendev.org/openstack/tacker/tree/
[2] https://opendev.org/openstack/tacker/src/branch/master

Change-Id: I2e95faf2584f78a1f8694486d3ffd8a596109133
Closes-Bug: #1889200
",git fetch https://review.opendev.org/openstack/tacker refs/changes/20/743720/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/api_layer.rst'],1,5ba9250ac7fb518a9d0215b66bde3fcd30b0110c,bug/1889200,Tackers's WSGI server is started from the `server module <https://opendev.org/openstack/tacker/src/branch/master/tacker/service.py>`_.. _TackerApiService: https://opendev.org/openstack/tacker/src/branch/master/tacker/service.py.. _config.py: https://opendev.org/openstack/tacker/src/branch/master/tacker/common/config.py .. _api-paste.ini: https://opendev.org/openstack/tacker/src/branch/master/etc/tacker/api-paste.ini .. _APIRouter: https://opendev.org/openstack/tacker/src/branch/master/tacker/api/v1/router.py .. _Paste: https://web.archive.org/web/20160715020753/http://pythonpaste.org/ .. _Deploy: https://web.archive.org/web/20160726014737/http://pythonpaste.org/deploy .. _Paste INI file format: https://web.archive.org/web/20160726014737/http://pythonpaste.org/deploy#applications,Tackers's WSGI server is started from the `server module <https://opendev.org/openstack/tacker/tree/tacker/service.py>`_.. _TackerApiService: https://opendev.org/openstack/tacker/tree/tacker/service.py.. _config.py: http://opendev.org/openstack/tacker/tree/tacker/common/config.py .. _api-paste.ini: http://opendev.org/openstack/tacker/tree/etc/tacker/api-paste.ini .. _APIRouter: https://opendev.org/openstack/tacker/tree/tacker/api/v1/router.py .. _Paste: http://pythonpaste.org/ .. _Deploy: http://pythonpaste.org/deploy/ .. _Paste INI file format: http://pythonpaste.org/deploy/#applications,8,8
openstack%2Ftacker~master~Ic722f8ce36d9f2b9ede5c501190a0e7b5ebfd577,openstack/tacker,master,Ic722f8ce36d9f2b9ede5c501190a0e7b5ebfd577,Fix broken link in VNF Component Usage Guide,MERGED,2020-07-29 12:44:23.000000000,2020-08-03 07:55:53.000000000,2020-08-03 07:54:17.000000000,"[{'_account_id': 17255}, {'_account_id': 22290}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 27880}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-07-29 12:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4f6e34ecff1a15fcf944236a134d2e32ecebff87', 'message': 'Fix broken link in VNF Component Usage Guide\n\nThe section ""How to setup environment"" refers to Heat software\nconfiguration resources. This information is remove from\nheat-templates to new repository heat-agents.\nThe referred link [1] is broken and the correct link is [2].\n[1] https://github.com/openstack/heat-templates/blob/master/hot/software-config/elements/README.rst\n[2] https://docs.openstack.org/heat-agents/latest/index.html.\n\nChange-Id: Ic722f8ce36d9f2b9ede5c501190a0e7b5ebfd577\nCloses-Bug: #1888471\n'}, {'number': 2, 'created': '2020-07-30 18:23:49.000000000', 'files': ['doc/source/user/vnf_component_usage_guide.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e9a12def9a66248c67af9f08f445f09ac46fa92', 'message': 'Fix broken link in VNF Component Usage Guide\n\nThe section ""How to setup environment"" refers to Heat software\nconfiguration resources. This information is remove from\nheat-templates to new repository heat-agents.\nThe referred link [1] is broken and the correct link is [2].\n[1] https://github.com/openstack/heat-templates/blob/master/hot/software-config/elements/README.rst\n[2] https://docs.openstack.org/heat-agents/latest/index.html.\n\nChange-Id: Ic722f8ce36d9f2b9ede5c501190a0e7b5ebfd577\nCloses-Bug: #1888471\n'}]",4,743748,6e9a12def9a66248c67af9f08f445f09ac46fa92,17,8,2,32102,,,0,"Fix broken link in VNF Component Usage Guide

The section ""How to setup environment"" refers to Heat software
configuration resources. This information is remove from
heat-templates to new repository heat-agents.
The referred link [1] is broken and the correct link is [2].
[1] https://github.com/openstack/heat-templates/blob/master/hot/software-config/elements/README.rst
[2] https://docs.openstack.org/heat-agents/latest/index.html.

Change-Id: Ic722f8ce36d9f2b9ede5c501190a0e7b5ebfd577
Closes-Bug: #1888471
",git fetch https://review.opendev.org/openstack/tacker refs/changes/48/743748/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/vnf_component_usage_guide.rst'],1,4f6e34ecff1a15fcf944236a134d2e32ecebff87,bug/1888471,can be referred `here <https://docs.openstack.org/heat-agents/latest/ index.html>`_. The tool,can be referred `here <https://github.com/openstack/heat-templates/blob/master/ hot/software-config/elements/README.rst>`_. The tool,2,2
openstack%2Fmurano~master~I5fbfa88c89882194c2d11d948604713e98bbc964,openstack/murano,master,I5fbfa88c89882194c2d11d948604713e98bbc964,WIP: experiment a bit to unblock gate,ABANDONED,2020-07-30 16:29:31.000000000,2020-08-03 07:40:00.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-30 16:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/e238824bf940d3c531f9d39e6feef30fffbe37b6', 'message': ""WIP: experiment a bit to unblock gate\n\nAs locally I cannot reproduce the failure given in Zuul, let's\nexperiment a bit.\n\nChange-Id: I5fbfa88c89882194c2d11d948604713e98bbc964\n""}, {'number': 2, 'created': '2020-07-30 18:00:07.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/murano/commit/0eece6e7ca246d5c7c335f1edec0036c384e7f03', 'message': ""WIP: experiment a bit to unblock gate\n\nAs locally I cannot reproduce the failure given in Zuul, let's\nexperiment a bit.\n\nChange-Id: I5fbfa88c89882194c2d11d948604713e98bbc964\n""}]",0,744012,0eece6e7ca246d5c7c335f1edec0036c384e7f03,6,2,2,17685,,,0,"WIP: experiment a bit to unblock gate

As locally I cannot reproduce the failure given in Zuul, let's
experiment a bit.

Change-Id: I5fbfa88c89882194c2d11d948604713e98bbc964
",git fetch https://review.opendev.org/openstack/murano refs/changes/12/744012/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e238824bf940d3c531f9d39e6feef30fffbe37b6,,libffi-dev [platform:dpkg test],,1,0
openstack%2Ftripleo-validations~stable%2Ftrain~I3851ea24a84c07c2100ad504d215b9edf2079f0e,openstack/tripleo-validations,stable/train,I3851ea24a84c07c2100ad504d215b9edf2079f0e,[DNM] - Checking ceph-molecule job failures,ABANDONED,2020-06-11 08:02:53.000000000,2020-08-03 07:24:56.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-11 08:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b016acc2c3d4d0bb93e56b6a3ad6d1ed31ea12aa', 'message': '[DNM] - Checking ceph-molecule job failures\n\nChange-Id: I3851ea24a84c07c2100ad504d215b9edf2079f0e\nSigned-off-by: Francesco Pantano <fpantano@redhat.com>\n'}, {'number': 2, 'created': '2020-07-30 08:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8c9a22202acdfe4bb54f9ff69d805501923a9ac1', 'message': '[DNM] - Checking ceph-molecule job failures\n\nChange-Id: I3851ea24a84c07c2100ad504d215b9edf2079f0e\nSigned-off-by: Francesco Pantano <fpantano@redhat.com>\n'}, {'number': 3, 'created': '2020-07-30 08:14:26.000000000', 'files': ['zuul.d/molecule.yaml', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cfcb6f98ba9d58a282d7b6d20d674fef15d35c0c', 'message': '[DNM] - Checking ceph-molecule job failures\n\nChange-Id: I3851ea24a84c07c2100ad504d215b9edf2079f0e\nSigned-off-by: Francesco Pantano <fpantano@redhat.com>\n'}]",0,735071,cfcb6f98ba9d58a282d7b6d20d674fef15d35c0c,6,3,3,25402,,,0,"[DNM] - Checking ceph-molecule job failures

Change-Id: I3851ea24a84c07c2100ad504d215b9edf2079f0e
Signed-off-by: Francesco Pantano <fpantano@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/71/735071/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/molecule.yaml'],1,b016acc2c3d4d0bb93e56b6a3ad6d1ed31ea12aa,ceph_molecule,, voting: false,0,1
openstack%2Ftripleo-common~master~I3b80e94e22e64d5b7d98be7a3e3c0979785d04f4,openstack/tripleo-common,master,I3b80e94e22e64d5b7d98be7a3e3c0979785d04f4,Remove translation sections from setup.cfg,MERGED,2020-07-22 11:09:12.000000000,2020-08-03 07:21:06.000000000,2020-08-03 07:19:39.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-22 11:09:12.000000000', 'files': ['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/44af8bc9eb4f9d756a1c744a9084dfadf20dcf72', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nRemove babel.cfg as well, this is the default role and not needed\nanymore.\n\nalso remove Babel from requirements[1]\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I3b80e94e22e64d5b7d98be7a3e3c0979785d04f4\n'}]",0,742393,44af8bc9eb4f9d756a1c744a9084dfadf20dcf72,14,5,1,26285,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Remove babel.cfg as well, this is the default role and not needed
anymore.

also remove Babel from requirements[1]
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I3b80e94e22e64d5b7d98be7a3e3c0979785d04f4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/742393/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg']",4,44af8bc9eb4f9d756a1c744a9084dfadf20dcf72,no-babel,,[compile_catalog] directory = tripleo_common/locale domain = tripleo-common [update_catalog] domain = tripleo-common output_dir = tripleo_common/locale input_file = tripleo_common/locale/tripleo-common.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = tripleo_common/locale/tripleo-common.pot ,0,18
openstack%2Ftripleo-quickstart-extras~master~Ifddb7a8dda94b094f230dfb95c4bcd9c72c65a17,openstack/tripleo-quickstart-extras,master,Ifddb7a8dda94b094f230dfb95c4bcd9c72c65a17,Re add virtualenv detection tasks,MERGED,2020-07-31 06:24:47.000000000,2020-08-03 07:19:34.000000000,2020-08-03 07:19:34.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-31 06:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8f211c2f3273a46fbaaf096f7d6b636c0953839d', 'message': 'Re add virtualenv detection tasks\n\nThese tasks were cleaned up with [1], but are needed for\ncases like where overcloud image is used as undercloud as\npointed in #1888244.\n\n[1] https://review.opendev.org/#/c/726773/\n\nPartial-Bug: #1888244\nChange-Id: Ifddb7a8dda94b094f230dfb95c4bcd9c72c65a17\n'}, {'number': 2, 'created': '2020-08-02 15:09:11.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1e192cf51909a81dfbd0345ea1ef6028640ba3a', 'message': 'Re add virtualenv detection tasks\n\nThese tasks were cleaned up with [1], but are needed for\ncases like where overcloud image is used as undercloud as\npointed in #1888244.\n\n[1] https://review.opendev.org/#/c/726773/\n\nPartial-Bug: #1888244\nChange-Id: Ifddb7a8dda94b094f230dfb95c4bcd9c72c65a17\n'}]",0,744097,c1e192cf51909a81dfbd0345ea1ef6028640ba3a,19,8,2,13861,,,0,"Re add virtualenv detection tasks

These tasks were cleaned up with [1], but are needed for
cases like where overcloud image is used as undercloud as
pointed in #1888244.

[1] https://review.opendev.org/#/c/726773/

Partial-Bug: #1888244
Change-Id: Ifddb7a8dda94b094f230dfb95c4bcd9c72c65a17
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/97/744097/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,8f211c2f3273a46fbaaf096f7d6b636c0953839d,bug/1888244,"- name: set python_cmd set_fact: python_cmd: ""python{{ ansible_python.version.major }}"" cacheable: true when: python_cmd is not defined - name: Check if virtualenv is in the system command: ""{{ python_cmd }} -m virtualenv --version"" register: virtualenv_exist failed_when: false changed_when: false - when: virtualenv_exist.rc != 0 name: Install virtualenv become: true package: state: present name: > {% if ansible_python.version.major == 3 %} python3-virtualenv {% else %} python-virtualenv {% endif %} ",,24,0
openstack%2Fkolla-ansible~master~Ia134a518b63bb59cfad631cc488181f5245160e6,openstack/kolla-ansible,master,Ia134a518b63bb59cfad631cc488181f5245160e6,Configure prometheus-openstack-exporter to use internal endpoints,MERGED,2020-07-21 07:39:30.000000000,2020-08-03 06:40:19.000000000,2020-07-22 08:23:18.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 07:39:30.000000000', 'files': ['releasenotes/notes/openstack-exporter-endpoint-type-7c687da172986fb3.yaml', 'ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf97aeeb83080fad1d718059dadd139441b3e0bb', 'message': 'Configure prometheus-openstack-exporter to use internal endpoints\n\nChange-Id: Ia134a518b63bb59cfad631cc488181f5245160e6\n'}]",0,742083,cf97aeeb83080fad1d718059dadd139441b3e0bb,10,3,1,15197,,,0,"Configure prometheus-openstack-exporter to use internal endpoints

Change-Id: Ia134a518b63bb59cfad631cc488181f5245160e6
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/742083/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/openstack-exporter-endpoint-type-7c687da172986fb3.yaml', 'ansible/roles/prometheus/templates/prometheus-openstack-exporter.json.j2', 'ansible/group_vars/all.yml']",3,cf97aeeb83080fad1d718059dadd139441b3e0bb,openstack-exporter-endpoint-type,"prometheus_openstack_exporter_endpoint_type: ""internal""",,15,1
openstack%2Fec2-api~master~I5c7bbd9bd43f507a5e45901be10110f2a96f5433,openstack/ec2-api,master,I5c7bbd9bd43f507a5e45901be10110f2a96f5433,migrate testing to ubuntu focal,MERGED,2020-08-01 23:43:55.000000000,2020-08-03 06:40:01.000000000,2020-08-03 06:38:42.000000000,"[{'_account_id': 8556}, {'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-01 23:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4fae3190bb9746e9b3108898ea72ea4489c1872a', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40183\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I5c7bbd9bd43f507a5e45901be10110f2a96f5433\n'}, {'number': 2, 'created': '2020-08-02 19:26:46.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/9ff4975fcd2a443faa8de8a730a87e27e1c342b4', 'message': 'migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40183\n\nCloses-Bug: #1886298\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>\n\nChange-Id: I5c7bbd9bd43f507a5e45901be10110f2a96f5433\n'}]",0,744339,9ff4975fcd2a443faa8de8a730a87e27e1c342b4,11,3,2,8556,,,0,"migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40183

Closes-Bug: #1886298

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-focal.h>

Change-Id: I5c7bbd9bd43f507a5e45901be10110f2a96f5433
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/39/744339/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,4fae3190bb9746e9b3108898ea72ea4489c1872a,migrate-to-focal,MarkupSafe==1.1.1PyYAML==3.13,MarkupSafe==1.0PyYAML==3.12,2,2
openstack%2Fopenstack-ansible-os_nova~master~Iff6326f72971364d275ea999418d476007690ef8,openstack/openstack-ansible-os_nova,master,Iff6326f72971364d275ea999418d476007690ef8,Use Nova management IP for live migrations,MERGED,2020-07-15 11:04:30.000000000,2020-08-03 06:22:21.000000000,2020-08-01 19:18:08.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-07-15 11:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/e8fee2e747f0453948b34a133a4c88153b87b7bc', 'message': 'Use Nova management IP for live migrations\n\nTypically the %s in live_migration_uri is replaced with a hostname,\nbut when a separate network is used for deployment and management\nthis causes live migrations to proceed over the wrong interface.\n\nWhilst the Nova docs suggest that live_migration_inbound_addr\nis ignored when live_migration_tunnelled is enabled this appears\nto be inaccurate.\n\nChange-Id: Iff6326f72971364d275ea999418d476007690ef8\nRelated-Bug: #1576724\n'}, {'number': 2, 'created': '2020-07-16 13:51:22.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/71f3fb224a1c4cac0490182543fe20bb8b64d690', 'message': 'Use Nova management IP for live migrations\n\nOur installation uses separate networks for deployment and for\nOpenStack management. By default, live migrations depend upon a\nhostname, which resolves to an IP on our (lower speed) deployment\nnetwork. Dependent on the deployment, the hostname may not be a\nreliable mechanism for determining the correct network for live\nmigrations.\n\nNova exposes a live_migration_inbound_addr which can be used to\ncorrect this. This patch defaults the inbound_addr to match the\nNova service bind address, but provides the option for it to be\noverwritten through variables.\n\nWhilst the Nova docs suggest that live_migration_inbound_addr\nis ignored when live_migration_tunnelled is enabled this appears\nto be inaccurate from our testing.\n\nChange-Id: Iff6326f72971364d275ea999418d476007690ef8\nRelated-Bug: #1576724\n'}]",0,741155,71f3fb224a1c4cac0490182543fe20bb8b64d690,22,5,2,31542,,,0,"Use Nova management IP for live migrations

Our installation uses separate networks for deployment and for
OpenStack management. By default, live migrations depend upon a
hostname, which resolves to an IP on our (lower speed) deployment
network. Dependent on the deployment, the hostname may not be a
reliable mechanism for determining the correct network for live
migrations.

Nova exposes a live_migration_inbound_addr which can be used to
correct this. This patch defaults the inbound_addr to match the
Nova service bind address, but provides the option for it to be
overwritten through variables.

Whilst the Nova docs suggest that live_migration_inbound_addr
is ignored when live_migration_tunnelled is enabled this appears
to be inaccurate from our testing.

Change-Id: Iff6326f72971364d275ea999418d476007690ef8
Related-Bug: #1576724
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/55/741155/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml']",2,e8fee2e747f0453948b34a133a4c88153b87b7bc,bug/1576724,"nova_libvirt_live_migration_inbound_addr: '{{ (nova_management_address == ""localhost"") | ternary(""127.0.0.1"", nova_management_address) }}'",,2,0
openstack%2Fopenstack-ansible-os_nova~master~I9c5e2584f8f1d9bd76120b8b236e25f63804473a,openstack/openstack-ansible-os_nova,master,I9c5e2584f8f1d9bd76120b8b236e25f63804473a,Use nova_management_address as a default VNC bind address,MERGED,2020-07-15 11:06:18.000000000,2020-08-03 06:17:11.000000000,2020-08-02 13:16:04.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-07-15 11:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/0a551b8ec080638fccddf9132fd9313a46a98b82', 'message': 'Use nova_management_address as a default VNC bind address\n\nThis matches the behaviour of other similar services in nova.conf.\n\nNote that this changes the default\n\nChange-Id: I9c5e2584f8f1d9bd76120b8b236e25f63804473a\n'}, {'number': 2, 'created': '2020-07-16 13:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/b0b97814350be615fc09d8d2f1abcc485773273b', 'message': ""Use nova_management_address as a default VNC bind address\n\nOur installation uses separate networks for deployment and\nOpenStack management. The current default of 'ansible_host' for\nthe VNC server results in it binding to our deployment network.\n\nWhilst this could be resolved via variable overrides, the majority\nof the defaults and templated options in this role use the Nova\nmanagement address as the default choice for binding to.\n\nThis patch changes the default VNC bind address to match the\nexisting standard pattern, which should avoid the need for\noverrides in most cases. As a result, for our setup, when\nnova_management_address is identified and set in the OSA nova\nplaybooks to match the OpenStack management network, the VNC server\nbind address gets set to the correct address.\n\nChange-Id: I9c5e2584f8f1d9bd76120b8b236e25f63804473a\n""}, {'number': 3, 'created': '2020-08-01 14:53:21.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/9da99e1f7c3de3c28011ef39966894a2735bee20', 'message': ""Use nova_management_address as a default VNC bind address\n\nOur installation uses separate networks for deployment and\nOpenStack management. The current default of 'ansible_host' for\nthe VNC server results in it binding to our deployment network.\n\nWhilst this could be resolved via variable overrides, the majority\nof the defaults and templated options in this role use the Nova\nmanagement address as the default choice for binding to.\n\nThis patch changes the default VNC bind address to match the\nexisting standard pattern, which should avoid the need for\noverrides in most cases. As a result, for our setup, when\nnova_management_address is identified and set in the OSA nova\nplaybooks to match the OpenStack management network, the VNC server\nbind address gets set to the correct address.\n\nChange-Id: I9c5e2584f8f1d9bd76120b8b236e25f63804473a\n""}]",0,741156,9da99e1f7c3de3c28011ef39966894a2735bee20,24,4,3,31542,,,0,"Use nova_management_address as a default VNC bind address

Our installation uses separate networks for deployment and
OpenStack management. The current default of 'ansible_host' for
the VNC server results in it binding to our deployment network.

Whilst this could be resolved via variable overrides, the majority
of the defaults and templated options in this role use the Nova
management address as the default choice for binding to.

This patch changes the default VNC bind address to match the
existing standard pattern, which should avoid the need for
overrides in most cases. As a result, for our setup, when
nova_management_address is identified and set in the OSA nova
playbooks to match the OpenStack management network, the VNC server
bind address gets set to the correct address.

Change-Id: I9c5e2584f8f1d9bd76120b8b236e25f63804473a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/56/741156/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,0a551b8ec080638fccddf9132fd9313a46a98b82,vnc-bind-address,"nova_novncproxy_vncserver_proxyclient_address: ""{{ (nova_management_address == 'localhost') | ternary('127.0.0.1', nova_management_address) }}"" nova_novncproxy_vncserver_listen: ""{{ (nova_management_address == 'localhost') | ternary('127.0.0.1', nova_management_address) }}""","nova_novncproxy_vncserver_proxyclient_address: ""{{ ansible_host }}"" nova_novncproxy_vncserver_listen: ""{{ ansible_host }}""",2,2
openstack%2Fcharm-ceph-rbd-mirror~master~I6147ebe469e3227f4d5b59374ab0262255b17a79,openstack/charm-ceph-rbd-mirror,master,I6147ebe469e3227f4d5b59374ab0262255b17a79,Release sync for 20.08,MERGED,2020-07-27 19:50:34.000000000,2020-08-03 06:06:51.000000000,2020-08-03 06:06:51.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-27 19:50:34.000000000', 'files': ['rebuild', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/d7bec5f8b8b3708a9a51bd6334f35da657d71579', 'message': 'Release sync for 20.08\n\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n- sync tox.ini\n- sync requirements.txt and test-requirements.txt\n\nChange-Id: I6147ebe469e3227f4d5b59374ab0262255b17a79\n'}]",0,743342,d7bec5f8b8b3708a9a51bd6334f35da657d71579,11,5,1,20870,,,0,"Release sync for 20.08

- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild
- sync tox.ini
- sync requirements.txt and test-requirements.txt

Change-Id: I6147ebe469e3227f4d5b59374ab0262255b17a79
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/42/743342/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'tox.ini']",2,d7bec5f8b8b3708a9a51bd6334f35da657d71579,batch-2008-release-sync,[testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} ,,6,1
openstack%2Fmanila-ui~master~Iecdea43886a2bfb232d7560914969f8a5cd485bd,openstack/manila-ui,master,Iecdea43886a2bfb232d7560914969f8a5cd485bd,[goal] Migrate testing to ubuntu focal,MERGED,2020-07-27 00:38:11.000000000,2020-08-03 03:14:27.000000000,2020-08-03 03:13:14.000000000,"[{'_account_id': 1736}, {'_account_id': 6413}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-07-27 00:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/2f04e946122f58231ddefae62321f6028c5e6728', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional integration tests jobs\n- docs jobs\nStory: #2007865\nTask: #40194\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: Iecdea43886a2bfb232d7560914969f8a5cd485bd\n'}, {'number': 2, 'created': '2020-07-30 22:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/96d8d7055c233aea35c1132f1d7b433ba4ad5c02', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nStory: #2007865\nTask: #40194\n\nCloses-Bug: #1886298\n\nChange-Id: Iecdea43886a2bfb232d7560914969f8a5cd485bd\n'}, {'number': 3, 'created': '2020-08-02 19:29:30.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/5831bc91f6f9f390f206de0d406a0efe09c15803', 'message': '[goal] Migrate testing to ubuntu focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nFixing:\n- bug#1886298\nBump the lower constraints for required deps which added python3.8 support\nin their later version.\n\nStory: #2007865\nTask: #40194\n\nCloses-Bug: #1886298\n\nChange-Id: Iecdea43886a2bfb232d7560914969f8a5cd485bd\n'}]",0,743135,5831bc91f6f9f390f206de0d406a0efe09c15803,17,7,3,8556,,,0,"[goal] Migrate testing to ubuntu focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Fixing:
- bug#1886298
Bump the lower constraints for required deps which added python3.8 support
in their later version.

Story: #2007865
Task: #40194

Closes-Bug: #1886298

Change-Id: Iecdea43886a2bfb232d7560914969f8a5cd485bd
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/35/743135/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2f04e946122f58231ddefae62321f6028c5e6728,migrate-to-focal,#test focal,,1,0
