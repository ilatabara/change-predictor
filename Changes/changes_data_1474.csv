id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpbr~884938,openstack/pbr,master,If3594269495ae1f3cefffd4c4f38d87af5c7fdfe,Use _ instead of - in setup.cfg directives,MERGED,2023-05-31 20:26:02.000000000,2023-06-01 15:30:37.000000000,2023-06-01 15:29:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-31 20:26:02.000000000', 'files': ['pbr/tests/test_packaging.py', 'doc/source/user/using.rst', 'pbr/tests/testpackage/setup.cfg', 'doc/source/user/features.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/ee04b62de28061018496d6324639446afe2059c7', 'message': ""Use _ instead of - in setup.cfg directives\n\nSetuptools deprecated -'s at some point and they result in a bunch of\nwarnings in failed tests. This is distracting and eventually is likely\nto create real errors. Go ahead and fix them now.\n\nChange-Id: If3594269495ae1f3cefffd4c4f38d87af5c7fdfe\n""}]",0,884938,ee04b62de28061018496d6324639446afe2059c7,8,3,1,4146,,,0,"Use _ instead of - in setup.cfg directives

Setuptools deprecated -'s at some point and they result in a bunch of
warnings in failed tests. This is distracting and eventually is likely
to create real errors. Go ahead and fix them now.

Change-Id: If3594269495ae1f3cefffd4c4f38d87af5c7fdfe
",git fetch https://review.opendev.org/openstack/pbr refs/changes/38/884938/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_packaging.py', 'doc/source/user/using.rst', 'pbr/tests/testpackage/setup.cfg', 'doc/source/user/features.rst']",4,ee04b62de28061018496d6324639446afe2059c7,cleanup-sphinx-integration, description_file = README.rst author_email = john.doe@example.com``description_file`` parameter. You can set the ``description_content_type`` to a MIME type that may, description-file = README.rst author-email = john.doe@example.com``description-file`` parameter. You can set the ``description-content-type`` to a MIME type that may,20,20
openstack%2Fpython-ironicclient~885040,openstack/python-ironicclient,master,Ia0dd66d015f3fcfb32e553f26765e5cf47b9210d,Fix minor spelling errors and incorrect help text,MERGED,2023-06-01 12:15:05.000000000,2023-06-01 15:12:56.000000000,2023-06-01 15:11:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-01 12:15:05.000000000', 'files': ['ironicclient/v1/node.py', 'ironicclient/osc/v1/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/bea37aa66c1d954455911810917b0b5dd567ca29', 'message': 'Fix minor spelling errors and incorrect help text\n\nChange-Id: Ia0dd66d015f3fcfb32e553f26765e5cf47b9210d\n'}]",1,885040,bea37aa66c1d954455911810917b0b5dd567ca29,7,2,1,35929,,,0,"Fix minor spelling errors and incorrect help text

Change-Id: Ia0dd66d015f3fcfb32e553f26765e5cf47b9210d
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/40/885040/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironicclient/v1/node.py', 'ironicclient/osc/v1/baremetal_node.py']",2,bea37aa66c1d954455911810917b0b5dd567ca29,fix-minor-spellings," """"""Call a vendor passthru method for a node"""""" log = logging.getLogger(__name__ + "".PassthruCallBaremetalNode"") help=_(""Show detailed information about the node history events.""),"," """"""Call a vendor passthu method for a node"""""" log = logging.getLogger(__name__ + "".PassthuCallBaremetalNode"") help=_(""Show detailed information about the BIOS settings.""),",4,4
openstack%2Fpbr~884791,openstack/pbr,master,I65038caceb192f495288414079ca0f07ce6318bb,Remove sphinx doc building integration,MERGED,2023-05-30 23:03:00.000000000,2023-06-01 15:11:14.000000000,2023-06-01 15:06:54.000000000,"[{'_account_id': 10342}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-30 23:03:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pbr/commit/b7a3a80266afcd29e3c89e1c67d68d12d23e5cea', 'message': 'Remove sphinx doc building integration\n\nSetuptools and sphinx [0] have removed support for building docs through\nsetup.py. This has broken imports which break our own local doc builds.\nLets just remove it all (including the tests) so that we are compatible\nwith modern setuptools and sphinx.\n\nAn alternative approach would be to do conditional imports and continue\nto support this for old setuptools and sphinx. But that feels like a\ndead end that will be difficult to test. Probably better to rip this\nbandaid off.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html#id7\n\nChange-Id: I65038caceb192f495288414079ca0f07ce6318bb\n'}, {'number': 2, 'created': '2023-05-31 20:26:02.000000000', 'files': ['pbr/tests/test_setup.py', 'pbr/packaging.py', 'pbr/tests/test_core.py', 'doc/source/user/using.rst', 'pbr/builddoc.py', 'pbr/hooks/commands.py', 'doc/source/user/features.rst'], 'web_link': 'https://opendev.org/openstack/pbr/commit/47c5afe79aa334b300b9f15f3f23ff76d812d742', 'message': 'Remove sphinx doc building integration\n\nSetuptools and sphinx [0] have removed support for building docs through\nsetup.py. This has broken imports which break our own local doc builds.\nLets just remove it all (including the tests) so that we are compatible\nwith modern setuptools and sphinx.\n\nAn alternative approach would be to do conditional imports and continue\nto support this for old setuptools and sphinx. But that feels like a\ndead end that will be difficult to test. Probably better to rip this\nbandaid off.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html#id7\n\nChange-Id: I65038caceb192f495288414079ca0f07ce6318bb\n'}]",3,884791,47c5afe79aa334b300b9f15f3f23ff76d812d742,14,4,2,4146,,,0,"Remove sphinx doc building integration

Setuptools and sphinx [0] have removed support for building docs through
setup.py. This has broken imports which break our own local doc builds.
Lets just remove it all (including the tests) so that we are compatible
with modern setuptools and sphinx.

An alternative approach would be to do conditional imports and continue
to support this for old setuptools and sphinx. But that feels like a
dead end that will be difficult to test. Probably better to rip this
bandaid off.

[0] https://www.sphinx-doc.org/en/master/changes.html#id7

Change-Id: I65038caceb192f495288414079ca0f07ce6318bb
",git fetch https://review.opendev.org/openstack/pbr refs/changes/91/884791/1 && git format-patch -1 --stdout FETCH_HEAD,"['pbr/tests/test_setup.py', 'pbr/packaging.py', 'pbr/builddoc.py', 'pbr/hooks/commands.py']",4,b7a3a80266afcd29e3c89e1c67d68d12d23e5cea,cleanup-sphinx-integration,, if packaging.have_sphinx(): self.add_command('pbr.builddoc.LocalBuildDoc') ,2,479
openstack%2Freleases~884847,openstack/releases,master,Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc,release oslo's zed deliverables,MERGED,2023-05-31 09:05:35.000000000,2023-06-01 15:11:13.000000000,2023-06-01 15:11:13.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-31 09:05:35.000000000', 'files': ['deliverables/zed/oslo.metrics.yaml', 'deliverables/zed/oslo.db.yaml', 'deliverables/zed/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/47473a3b65bc8e4cad6f65b3e7020b73212cbc3e', 'message': ""release oslo's zed deliverables\n\nChange-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc\n""}]",1,884847,47473a3b65bc8e4cad6f65b3e7020b73212cbc3e,8,4,1,28522,,,0,"release oslo's zed deliverables

Change-Id: Ic20b8ca7832ad514ceb87819a7f94b5a344aa5bc
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/884847/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/zed/oslo.metrics.yaml', 'deliverables/zed/oslo.db.yaml', 'deliverables/zed/oslo.utils.yaml']",3,47473a3b65bc8e4cad6f65b3e7020b73212cbc3e,oslo-zed, - version: 6.0.2 projects: - repo: openstack/oslo.utils hash: 716c2e2b8e3ec640be2db6df93a611b0dbe06bc1,,12,0
openstack%2Freleases~884841,openstack/releases,master,Icbc5e11701f98139b60ae2bf4d06359ae2093721,release oslo.messaging 14.3.1,MERGED,2023-05-31 08:54:45.000000000,2023-06-01 14:55:24.000000000,2023-06-01 14:55:24.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-31 08:54:45.000000000', 'files': ['deliverables/bobcat/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3b8d24095959fa20800f6ba5d688472a4f3a0c5d', 'message': 'release oslo.messaging 14.3.1\n\nChange-Id: Icbc5e11701f98139b60ae2bf4d06359ae2093721\n'}]",0,884841,3b8d24095959fa20800f6ba5d688472a4f3a0c5d,8,4,1,28522,,,0,"release oslo.messaging 14.3.1

Change-Id: Icbc5e11701f98139b60ae2bf4d06359ae2093721
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/884841/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/oslo.messaging.yaml'],1,3b8d24095959fa20800f6ba5d688472a4f3a0c5d,oslo-bobcat, - version: 14.3.1 projects: - repo: openstack/oslo.messaging hash: 0602d1a10ac20c48fa35ad711355c79ee5b0ec77,,4,0
openstack%2Fcharm-mysql-innodb-cluster~884812,openstack/charm-mysql-innodb-cluster,stable/jammy,I64d20db9c59688bb3a40f2e0f58fb138f8522341,Remove reference to performance-schema option that doesn't exist,MERGED,2023-05-31 09:24:17.000000000,2023-06-01 14:51:03.000000000,2023-06-01 14:51:03.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c02ae346baf8b3b1674d35e87c8a9d359cd83d2a', 'message': ""Remove reference to performance-schema option that doesn't exist\n\nChange-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341\nCloses-Bug: #1882211\n""}, {'number': 2, 'created': '2023-05-31 17:17:53.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/38115ade0c7a44e26504ec2e8a8f209947f9875d', 'message': ""Remove reference to performance-schema option that doesn't exist\n\n(cherry-picked from 4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781)\n\nChange-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341\nCloses-Bug: #1882211\n""}]",3,884812,38115ade0c7a44e26504ec2e8a8f209947f9875d,13,4,2,20870,,,0,"Remove reference to performance-schema option that doesn't exist

(cherry-picked from 4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781)

Change-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341
Closes-Bug: #1882211
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/12/884812/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,c02ae346baf8b3b1674d35e87c8a9d359cd83d2a,bug/1882211-stable/jammy, Note: Connections take up memory resources. See also MySQL Performance Schema at https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html., Note: Connections take up memory resources. Either at startup time with performance-schema=True or during run time with performance-schema=False. See also performance-schema.,3,3
openstack%2Freleases~884901,openstack/releases,master,Icb248a00827243536828fd3fe55625184efafaec,Release ironic-python-agent 9.5.0 with bugfix branch,MERGED,2023-05-31 15:18:39.000000000,2023-06-01 14:50:23.000000000,2023-06-01 14:50:23.000000000,"[{'_account_id': 308}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 15:18:39.000000000', 'files': ['deliverables/bobcat/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/56f38c85ab18f83c6334476dafc22e84502f4fb2', 'message': 'Release ironic-python-agent 9.5.0 with bugfix branch\n\nChange-Id: Icb248a00827243536828fd3fe55625184efafaec\n'}]",1,884901,56f38c85ab18f83c6334476dafc22e84502f4fb2,9,5,1,23851,,,0,"Release ironic-python-agent 9.5.0 with bugfix branch

Change-Id: Icb248a00827243536828fd3fe55625184efafaec
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/884901/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/ironic-python-agent.yaml'],1,56f38c85ab18f83c6334476dafc22e84502f4fb2,ipa-bugfix-950,releases: - version: 9.5.0 projects: - repo: openstack/ironic-python-agent hash: 4845fd04bab71fa393c374d932185dde16d020af branches: - name: bugfix/9.5 location: 9.5.0,,8,0
openstack%2Freleases~879273,openstack/releases,master,I52714ae92458efc0628091762cb77cf3ddb058f9,Fix tools/announce by using importlib.metadata instead of setuptools,MERGED,2023-04-03 08:42:01.000000000,2023-06-01 14:46:17.000000000,2023-06-01 14:46:17.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-03 08:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/559d3f6291e4c02b561644bdd4295b4d6dda017e', 'message': ""Fix tools/announce by using importlib.metadata instead of setuptools\n\nWith release of new setuptools running setup.py started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nAlso it allow us to remove our previous workaround:\nhttps://review.opendev.org/c/openstack/releases/+/879065\n\nChange-Id: I52714ae92458efc0628091762cb77cf3ddb058f9\n""}, {'number': 2, 'created': '2023-04-03 12:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fd6d5b78d68d30f87c25057b5182074c5cd6dc78', 'message': ""Fix tools/announce by using importlib.metadata instead of setuptools\n\nWith release of new setuptools running setup.py started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nAlso it allow us to remove our previous workaround:\nhttps://review.opendev.org/c/openstack/releases/+/879065\n\nChange-Id: I52714ae92458efc0628091762cb77cf3ddb058f9\n""}, {'number': 3, 'created': '2023-05-22 08:22:22.000000000', 'files': ['tools/announce.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b46589cc395062e328a204e33ebd0c8b49bac56', 'message': ""Fix tools/announce by using importlib.metadata instead of setuptools\n\nWith release of new setuptools running setup.py started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nAlso it allow us to remove our previous workaround:\nhttps://review.opendev.org/c/openstack/releases/+/879065\n\nChange-Id: I52714ae92458efc0628091762cb77cf3ddb058f9\n""}]",14,879273,2b46589cc395062e328a204e33ebd0c8b49bac56,24,3,3,28522,,,0,"Fix tools/announce by using importlib.metadata instead of setuptools

With release of new setuptools running setup.py started
returining extra line. Eventually, running setup.py as a script is not
considered as good practice and we should not rely on it's output much.
Instead, we can leverage importlib.metadata as it should be more
reliable in long run.

Also it allow us to remove our previous workaround:
https://review.opendev.org/c/openstack/releases/+/879065

Change-Id: I52714ae92458efc0628091762cb77cf3ddb058f9
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/879273/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/announce.sh'],1,559d3f6291e4c02b561644bdd4295b4d6dda017e,fix-announce," # As we use importlib to retrieve information we have to pass the # importable name of the module, example: oslo.messaging => oslo_messaging modified_shortname=${SHORTNAME//\./_} project_name=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Name'])"") description=$(python -c ""import importlib.metadata; print(importlib.metadata.metadata('${modified_shortname}')['Description'])"")"," # Some projects have setup_requires dependencies on packages that are # not pre-installed, so run a setuptools command in a way to get them # installed without capturing the output in the email we're going to # be sending. python setup.py --name # NOTE(elod.illes): pbr startid to print '[pbr] Generating ChangeLog' # this is related to some recent release (setuptools? virtualenv?) # the 'tail' command needs to be removed as soon as that bug is fixed project_name=$(python setup.py --name | tail -1) description=""$(python setup.py --description| tail -1)""",5,10
openstack%2Fcharm-keystone-k8s~884973,openstack/charm-keystone-k8s,main,I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:24:36.000000000,2023-06-01 14:45:33.000000000,2023-06-01 14:12:44.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/c3d2d9ea284ba5f763c37466d939e8c3e1c9f52a', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2\n""}, {'number': 2, 'created': '2023-06-01 07:29:38.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/192ee9431f3c92054a95b4d7248582817a29df4a', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2\n""}]",1,884973,192ee9431f3c92054a95b4d7248582817a29df4a,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I8f58b836b4a473cd19e999b1fa4483bfdb4e20c2
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/73/884973/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,c3d2d9ea284ba5f763c37466d939e8c3e1c9f52a,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Freleases~884900,openstack/releases,master,I0d71e1a4d752ab8378790d0d978ccdcb47d722fe,Release ironic-inspector 11.5 with bugfix branch,MERGED,2023-05-31 15:17:32.000000000,2023-06-01 14:44:39.000000000,2023-06-01 14:44:39.000000000,"[{'_account_id': 308}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 15:17:32.000000000', 'files': ['deliverables/bobcat/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9dda6992f04e3b4618b8b79c3fed9250eee5076c', 'message': 'Release ironic-inspector 11.5 with bugfix branch\n\nChange-Id: I0d71e1a4d752ab8378790d0d978ccdcb47d722fe\n'}]",1,884900,9dda6992f04e3b4618b8b79c3fed9250eee5076c,9,5,1,23851,,,0,"Release ironic-inspector 11.5 with bugfix branch

Change-Id: I0d71e1a4d752ab8378790d0d978ccdcb47d722fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/884900/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/ironic-inspector.yaml'],1,9dda6992f04e3b4618b8b79c3fed9250eee5076c,inspector-bugfix-115,releases: - version: 11.5.0 projects: - repo: openstack/ironic-inspector hash: 62e42d38001d39dbc5c47d85e004057cdd53cf08 branches: - name: bugfix/11.5 location: 11.5.0,,8,0
openstack%2Freleases~884984,openstack/releases,master,Iad0d2d99678ab29859ebbcb1818cbca0966e5c78,Release 2023.1 RC2 for OpenStack-Ansible,MERGED,2023-06-01 08:45:07.000000000,2023-06-01 14:40:02.000000000,2023-06-01 14:40:02.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 08:45:07.000000000', 'files': ['deliverables/antelope/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2ddba5a0233dd5ee418b1799db60abaa90e84554', 'message': 'Release 2023.1 RC2 for OpenStack-Ansible\n\nChange-Id: Iad0d2d99678ab29859ebbcb1818cbca0966e5c78\n'}]",1,884984,2ddba5a0233dd5ee418b1799db60abaa90e84554,8,3,1,28619,,,0,"Release 2023.1 RC2 for OpenStack-Ansible

Change-Id: Iad0d2d99678ab29859ebbcb1818cbca0966e5c78
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/884984/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstack-ansible.yaml'],1,2ddba5a0233dd5ee418b1799db60abaa90e84554,release_osa, - version: 27.0.0.0rc2 projects: - repo: openstack/openstack-ansible hash: a3dcad7b88f6bad0f8346287eaca22d98be11a1e,,4,0
openstack%2Fmanila~863709,openstack/manila,master,I61e590ed1851e8fa15996dc61e8e17e9413a9d91,Add max share extend size limited by share_type,MERGED,2022-11-04 20:12:06.000000000,2023-06-01 14:29:08.000000000,2023-06-01 14:27:53.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 31721}, {'_account_id': 32029}, {'_account_id': 32761}, {'_account_id': 33038}, {'_account_id': 33986}, {'_account_id': 34489}]","[{'number': 1, 'created': '2022-11-04 20:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/acdbbf15a4d9bcac9b49242e20ad26810ad13873', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 2, 'created': '2022-11-07 13:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/55027de13e64e378bd6ab4a9d14cbcb5b970ed89', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 3, 'created': '2022-11-23 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1b813a7aad31191a795f36f910103b969288522e', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 4, 'created': '2022-12-19 18:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9a0a64f8b936cf8acf5e224e1ea71479870321cd', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 5, 'created': '2023-02-09 09:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/25d858d8dd06f8f3a9a4111d263517797c6b3886', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 6, 'created': '2023-03-10 14:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/956ac5ca80e9ab5dbb7602c303c3454eba042440', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 7, 'created': '2023-05-30 10:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3bcc57f21e932cc9ac1992af68e43dbb53f08955', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}, {'number': 8, 'created': '2023-05-31 03:32:19.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/share/share_types.py', 'releasenotes/notes/max-share-extend-size-on-type-0528be9a5c27678b.yaml', 'manila/policies/shares.py', 'manila/common/constants.py', 'doc/source/admin/capabilities_and_extra_specs.rst', 'manila/tests/share/test_share_types.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7a4a81b53cce886902f383d064fd737aa4d67cb9', 'message': ""Add max share extend size limited by share_type\n\nAllows set max share extend size that can be created in extra_specs\nfor each share_type. At API level as part of share extend for admin,\nmax share extend size will be checked whereas for non-admin users,\nmax share size will be checked.\nNew extra_specs key is added to set max extend size of share\ni.e.'provisioning:max_share_extend_size'\n\nCloses-Bug: #1987253\nChange-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91\n""}]",36,863709,7a4a81b53cce886902f383d064fd737aa4d67cb9,72,12,8,32919,,,0,"Add max share extend size limited by share_type

Allows set max share extend size that can be created in extra_specs
for each share_type. At API level as part of share extend for admin,
max share extend size will be checked whereas for non-admin users,
max share size will be checked.
New extra_specs key is added to set max extend size of share
i.e.'provisioning:max_share_extend_size'

Closes-Bug: #1987253
Change-Id: I61e590ed1851e8fa15996dc61e8e17e9413a9d91
",git fetch https://review.opendev.org/openstack/manila refs/changes/09/863709/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/share/share_types.py', 'releasenotes/notes/max-share-extend-size-on-type-0528be9a5c27678b.yaml', 'manila/common/constants.py', 'doc/source/admin/capabilities_and_extra_specs.rst', 'manila/tests/share/test_share_types.py']",7,acdbbf15a4d9bcac9b49242e20ad26810ad13873,bug/1987253," share_types.create(self.context, ""type5"", extra_specs={ share_types.MAX_EXTEND_SIZE_KEY: ""99"", ""key4"": ""val4"", ""driver_handles_share_servers"": False}) # verify max extend size requirements type5 = share_types.get_share_type_by_name(self.context, 'type5') self.assertRaises(exception.InvalidInput, share_types.provision_filter_on_size, self.context, type5, ""100"", operation=""extend"") share_types.provision_filter_on_size(self.context, type5, ""99"", operation=""extend"") ",,78,12
openstack%2Fcharm-nova-k8s~884975,openstack/charm-nova-k8s,main,I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:26:03.000000000,2023-06-01 14:23:03.000000000,2023-06-01 13:41:32.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/89ab349a697f83158d2b3049a57573febc73d04b', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98\n""}, {'number': 2, 'created': '2023-06-01 07:30:04.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/d2a17beb2ff51611244d235e2b36d4a55fc69fb3', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98\n""}]",1,884975,d2a17beb2ff51611244d235e2b36d4a55fc69fb3,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I92f3fdf0bc73315419c0cb0603db2ac2ccd49f98
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/75/884975/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,89ab349a697f83158d2b3049a57573febc73d04b,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fcharm-glance-k8s~884971,openstack/charm-glance-k8s,main,I327e0a5bceeaebc6de91037166fdb49f8d122150,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:22:59.000000000,2023-06-01 14:20:51.000000000,2023-06-01 13:54:09.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/09b397ea3b32bdd672a08fee7755a231e912dbbd', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I327e0a5bceeaebc6de91037166fdb49f8d122150\n""}, {'number': 2, 'created': '2023-06-01 07:29:14.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/ee9cc1b1077e408bb41a3d29fb856f480798a4d2', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I327e0a5bceeaebc6de91037166fdb49f8d122150\n""}]",1,884971,ee9cc1b1077e408bb41a3d29fb856f480798a4d2,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I327e0a5bceeaebc6de91037166fdb49f8d122150
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/71/884971/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,09b397ea3b32bdd672a08fee7755a231e912dbbd,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fcharm-cinder-k8s~884970,openstack/charm-cinder-k8s,main,Ifca6bce108cb250705128f1fd6b4339244d438e8,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:22:17.000000000,2023-06-01 14:19:55.000000000,2023-06-01 13:42:17.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/47145f9cdc7de17234664f0ea94a1d19df023dec', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: Ifca6bce108cb250705128f1fd6b4339244d438e8\n""}, {'number': 2, 'created': '2023-06-01 07:29:02.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/870bc3719237b499cd1f5c40d391e73d8e837626', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: Ifca6bce108cb250705128f1fd6b4339244d438e8\n""}]",1,884970,870bc3719237b499cd1f5c40d391e73d8e837626,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: Ifca6bce108cb250705128f1fd6b4339244d438e8
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/70/884970/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,47145f9cdc7de17234664f0ea94a1d19df023dec,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fcharm-cinder-ceph-k8s~884969,openstack/charm-cinder-ceph-k8s,main,I6e184d65bf3c0083a60ddc23d09badad01f89191,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:21:47.000000000,2023-06-01 14:18:42.000000000,2023-06-01 13:43:26.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/576db7ebef76e5a1a7740f76845767c0979a766c', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I6e184d65bf3c0083a60ddc23d09badad01f89191\n""}, {'number': 2, 'created': '2023-06-01 07:28:25.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/c77ce1df960034b7d45300032c6090f8cee4eb13', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I6e184d65bf3c0083a60ddc23d09badad01f89191\n""}]",2,884969,c77ce1df960034b7d45300032c6090f8cee4eb13,14,3,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I6e184d65bf3c0083a60ddc23d09badad01f89191
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/69/884969/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,576db7ebef76e5a1a7740f76845767c0979a766c,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fkayobe~880590,openstack/kayobe,stable/xena,Id48a63ba5a85d4745b7e0a905a9195ad0dc7a751,Bump mrlesmithjr.lvm to skip swap resizes,MERGED,2023-04-17 06:34:22.000000000,2023-06-01 14:18:22.000000000,2023-06-01 14:17:17.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32657}]","[{'number': 1, 'created': '2023-04-17 06:34:22.000000000', 'files': ['requirements.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cbf13d585052b0abb1c7a692c301ad682c01f18d', 'message': 'Bump mrlesmithjr.lvm to skip swap resizes\n\nSee https://github.com/mrlesmithjr/ansible-manage-lvm/releases/tag/v0.2.7\n\nChange-Id: Id48a63ba5a85d4745b7e0a905a9195ad0dc7a751\n(cherry picked from commit b3797d66502e60830ac76b87995195a46821cf37)\n'}]",3,880590,cbf13d585052b0abb1c7a692c301ad682c01f18d,19,4,1,22629,,,0,"Bump mrlesmithjr.lvm to skip swap resizes

See https://github.com/mrlesmithjr/ansible-manage-lvm/releases/tag/v0.2.7

Change-Id: Id48a63ba5a85d4745b7e0a905a9195ad0dc7a751
(cherry picked from commit b3797d66502e60830ac76b87995195a46821cf37)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/880590/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.yml'],1,cbf13d585052b0abb1c7a692c301ad682c01f18d,, version: v0.2.8, version: v0.2.6,1,1
openstack%2Fmagnum~884661,openstack/magnum,stable/2023.1,Idbec5e8e64096a1e1a932da79e656f97f8db1144,cinder-csi: Run controllerplugin in CNI network,MERGED,2023-05-30 08:52:28.000000000,2023-06-01 14:17:33.000000000,2023-06-01 14:16:22.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 08:52:28.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f2910697deae132eae48b85de174f180c279ca18', 'message': 'cinder-csi: Run controllerplugin in CNI network\n\nCurrently one cinder-csi-nodeplugin pod is always in Pending state,\nbecause the nodeplugin and controllerplugin deployments share the\nsame TCP port.\n\nAdapt the manifest to upstream cinder-csi manifest, and run\ncontrollerplugin in CNI network and nodeplugin in host networking.\n\nChange-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144\n(cherry picked from commit b578bd8a78d890ad32aeb6066cc22ece165f54e2)\n'}]",0,884661,f2910697deae132eae48b85de174f180c279ca18,7,2,1,8064,,,0,"cinder-csi: Run controllerplugin in CNI network

Currently one cinder-csi-nodeplugin pod is always in Pending state,
because the nodeplugin and controllerplugin deployments share the
same TCP port.

Adapt the manifest to upstream cinder-csi manifest, and run
controllerplugin in CNI network and nodeplugin in host networking.

Change-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144
(cherry picked from commit b578bd8a78d890ad32aeb6066cc22ece165f54e2)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/61/884661/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'],1,f2910697deae132eae48b85de174f180c279ca18,,, hostNetwork: true,0,1
openstack%2Fcharm-neutron-k8s~884974,openstack/charm-neutron-k8s,main,I89dc5e0cc93aed0168f3456c0270a858c583acb7,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:25:32.000000000,2023-06-01 14:16:45.000000000,2023-06-01 13:43:44.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/3882f141a5b8deaceefc5e4230f17fc556658e6b', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I89dc5e0cc93aed0168f3456c0270a858c583acb7\n""}, {'number': 2, 'created': '2023-06-01 07:29:55.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/7bf20c2846c10f092d7dbdd087ece5ecde6c0934', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I89dc5e0cc93aed0168f3456c0270a858c583acb7\n""}]",5,884974,7bf20c2846c10f092d7dbdd087ece5ecde6c0934,16,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I89dc5e0cc93aed0168f3456c0270a858c583acb7
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/74/884974/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,3882f141a5b8deaceefc5e4230f17fc556658e6b,feat/move-to-jammy,bases: - name: ubuntu channel: 22.04/stable assumes: - k8s-api,,5,1
openstack%2Foslo.utils~879900,openstack/oslo.utils,master,I6e6b3fe9fe24533553f655a687a3c4e6714fde6f,Update units for current SI prefixes,MERGED,2023-04-07 15:42:59.000000000,2023-06-01 14:14:44.000000000,2023-06-01 14:13:37.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-07 15:42:59.000000000', 'files': ['oslo_utils/units.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/4cc569319077cf25906d50bee8b9340e73392cc1', 'message': ""Update units for current SI prefixes\n\nFollowing Resolution 3 of the 27th General Conference on Weights\nand Measures (CGPM) in 2022 [0], update oslo units to include\n'ronna' and 'quetta' for decimal prefixes.  Although ISO/IEC\n80000-13 has not yet been updated for the binary equivalents,\nit's safe to assume ISO will follow current practice [1], so\nthose are added as well.\n\n[0] https://www.bipm.org/en/cgpm-2022/resolution-3\n[1] https://iopscience.iop.org/article/10.1088/1681-7575/ac6afd\n\nChange-Id: I6e6b3fe9fe24533553f655a687a3c4e6714fde6f\n""}]",1,879900,4cc569319077cf25906d50bee8b9340e73392cc1,10,4,1,5314,,,0,"Update units for current SI prefixes

Following Resolution 3 of the 27th General Conference on Weights
and Measures (CGPM) in 2022 [0], update oslo units to include
'ronna' and 'quetta' for decimal prefixes.  Although ISO/IEC
80000-13 has not yet been updated for the binary equivalents,
it's safe to assume ISO will follow current practice [1], so
those are added as well.

[0] https://www.bipm.org/en/cgpm-2022/resolution-3
[1] https://iopscience.iop.org/article/10.1088/1681-7575/ac6afd

Change-Id: I6e6b3fe9fe24533553f655a687a3c4e6714fde6f
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/00/879900/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/units.py'],1,4cc569319077cf25906d50bee8b9340e73392cc1,cgpm-27,"Ri = 1024 ** 9 ""Binary ronna unit"" Qi = 1024 ** 10 ""Binary quetta unit""R = 1000 ** 9 ""Decimal ronna unit"" Q = 1000 ** 10 ""Decimal quetta unit""",,8,0
openstack%2Fneutron~877006,openstack/neutron,master,I9238026c3b428143a81b7b0e70d3288a9b945071,[OVN] Avoid setting requested-chassis on trunk subports,ABANDONED,2023-03-09 17:10:19.000000000,2023-06-01 14:11:51.000000000,,"[{'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-03-09 17:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f4cccd26a21519b234caab60c99b67d9d20565e', 'message': ""[OVN] Avoid setting requested-chassis on trunk subports\n\nAfter migrating the environment from OVS to OVN the trunk\nsubports will have the information 'requested-chassis' on\nit's options, that will avoid to migrate this subport during\na live migration (if the VM has not been stopped).\n\nRemoving this key will allow to live-migrate it without any\nproblem.\n\nChange-Id: I9238026c3b428143a81b7b0e70d3288a9b945071\n""}, {'number': 2, 'created': '2023-03-23 16:15:19.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/651cab17c1772c01c8124165665919b304815e80', 'message': ""[OVN] Avoid setting requested-chassis on trunk subports\n\nAfter migrating the environment from OVS to OVN the trunk\nsubports will have the information 'requested-chassis' on\nit's options, that will avoid to migrate this subport during\na live migration (if the VM has not been stopped).\n\nRemoving this key will allow to live-migrate it without any\nproblem.\n\nChange-Id: I9238026c3b428143a81b7b0e70d3288a9b945071\n""}]",6,877006,651cab17c1772c01c8124165665919b304815e80,15,5,2,34118,,,0,"[OVN] Avoid setting requested-chassis on trunk subports

After migrating the environment from OVS to OVN the trunk
subports will have the information 'requested-chassis' on
it's options, that will avoid to migrate this subport during
a live migration (if the VM has not been stopped).

Removing this key will allow to live-migrate it without any
problem.

Change-Id: I9238026c3b428143a81b7b0e70d3288a9b945071
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/877006/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,8f4cccd26a21519b234caab60c99b67d9d20565e,,from neutron_lib.services.trunk import constants as trunk_const # Do not add the LSP_OPTIONS_REQUESTED_CHASSIS_KEY if the port # type is trunk_subport since this will mess up the live-migration # This happens only while the environment is migrated from OVS to OVN if port_type != trunk_const.TRUNK_SUBPORT_OWNER: options[ovn_const.LSP_OPTIONS_REQUESTED_CHASSIS_KEY] = chassis, options[ovn_const.LSP_OPTIONS_REQUESTED_CHASSIS_KEY] = chassis,6,1
openstack%2Fcharm-placement-k8s~884978,openstack/charm-placement-k8s,main,I11a2635db563e33f118de7b2776e84126345bbc9,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:29:46.000000000,2023-06-01 14:09:20.000000000,2023-06-01 13:45:21.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/03e8508f44e72782d0d3b04e0a88649989486857', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I11a2635db563e33f118de7b2776e84126345bbc9\n""}, {'number': 2, 'created': '2023-06-01 07:30:40.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/b7979aa18ee4f5741542a5c7039eeafc3287f82f', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I11a2635db563e33f118de7b2776e84126345bbc9\n""}]",1,884978,b7979aa18ee4f5741542a5c7039eeafc3287f82f,9,2,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I11a2635db563e33f118de7b2776e84126345bbc9
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/78/884978/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,03e8508f44e72782d0d3b04e0a88649989486857,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fmagnum~869795,openstack/magnum,master,Idbec5e8e64096a1e1a932da79e656f97f8db1144,cinder-csi: Run controllerplugin in CNI network,MERGED,2023-01-11 09:11:44.000000000,2023-06-01 14:08:54.000000000,2023-06-01 14:07:49.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-11 09:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a1efb3cb42c43ea3161a47bee33b80310c1921ef', 'message': 'cinder-csi: Run controllerplugin in CNI network\n\nCurrently one cinder-csi-nodeplugin pod is always in Pending state,\nbecause the nodeplugin and controllerplugin deployments share the\nsame TCP port.\n\nAdapt the manifest to upstream cinder-csi manifest, and run\ncontrollerplugin in CNI network and nodeplugin in host networking.\n\nChange-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144\n'}, {'number': 2, 'created': '2023-05-30 07:36:40.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b578bd8a78d890ad32aeb6066cc22ece165f54e2', 'message': 'cinder-csi: Run controllerplugin in CNI network\n\nCurrently one cinder-csi-nodeplugin pod is always in Pending state,\nbecause the nodeplugin and controllerplugin deployments share the\nsame TCP port.\n\nAdapt the manifest to upstream cinder-csi manifest, and run\ncontrollerplugin in CNI network and nodeplugin in host networking.\n\nChange-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144\n'}]",2,869795,b578bd8a78d890ad32aeb6066cc22ece165f54e2,11,2,2,22629,,,0,"cinder-csi: Run controllerplugin in CNI network

Currently one cinder-csi-nodeplugin pod is always in Pending state,
because the nodeplugin and controllerplugin deployments share the
same TCP port.

Adapt the manifest to upstream cinder-csi manifest, and run
controllerplugin in CNI network and nodeplugin in host networking.

Change-Id: Idbec5e8e64096a1e1a932da79e656f97f8db1144
",git fetch https://review.opendev.org/openstack/magnum refs/changes/95/869795/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh'],1,a1efb3cb42c43ea3161a47bee33b80310c1921ef,,, hostNetwork: true,0,1
openstack%2Fcharm-horizon-k8s~884972,openstack/charm-horizon-k8s,main,I769cdeb8c61f87e4b18f0a846bce4085342d3f1f,Update metadata.yaml's base and assumes,MERGED,2023-06-01 06:23:42.000000000,2023-06-01 14:07:20.000000000,2023-06-01 13:43:45.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 06:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/9c71eeb87a3cdabe747239d4ff65947a495de27a', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I769cdeb8c61f87e4b18f0a846bce4085342d3f1f\n""}, {'number': 2, 'created': '2023-06-01 07:29:25.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/2c2fb5a2b72ea0746763965d5e61a190d358b52c', 'message': ""Update metadata.yaml's base and assumes\n\nChange-Id: I769cdeb8c61f87e4b18f0a846bce4085342d3f1f\n""}]",1,884972,2c2fb5a2b72ea0746763965d5e61a190d358b52c,11,3,2,35761,,,0,"Update metadata.yaml's base and assumes

Change-Id: I769cdeb8c61f87e4b18f0a846bce4085342d3f1f
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/72/884972/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,9c71eeb87a3cdabe747239d4ff65947a495de27a,feat/move-to-jammy, channel: 22.04/stable assumes: - k8s-api, channel: 20.04/stable,3,1
openstack%2Fnetworking-odl~884190,openstack/networking-odl,stable/yoga,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:39:43.000000000,2023-06-01 13:55:11.000000000,2023-06-01 13:52:50.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:39:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n'}, {'number': 2, 'created': '2023-06-01 09:47:12.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/1c3c039b71f07ff03a4f87f90df59a756667aa10', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)\n(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)\n'}]",1,884190,1c3c039b71f07ff03a4f87f90df59a756667aa10,10,3,2,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
(cherry picked from commit 439a2437385a9a948ccec234d79f63e7422b9fae)
(cherry picked from commit 9b01ad6c9d391cd9da97d27f7f5e402eecd4a239)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/90/884190/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,29a53d72c54ac29dd9bf765f0bb0681a8e93fa7d,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fkayobe~884819,openstack/kayobe,stable/yoga,I9c698916999b30bf3fd8f7dfe5add7d332a84b6c,CI: Unbreak stable/yoga with two cherry-picks,MERGED,2023-05-31 15:04:27.000000000,2023-06-01 13:44:15.000000000,2023-06-01 13:32:57.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-31 15:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ac0d1fb9fbe7f2fc4fc9116809afa00719b66acc', 'message': 'CI: Unbreak stable/zed with two cherry-picks\n\n1) CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n\n2) CI: Disable bare metal testing on RL9/c9s\n\nRocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal\ntesting. Temporarily run bare metal testing only on Ubuntu.\n\nThis allows us to make rocky9 jobs voting again.\n\n(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n'}, {'number': 2, 'created': '2023-06-01 08:05:02.000000000', 'files': ['playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eaa41315a534328e4b588fb4c705d50ac3adae0a', 'message': 'CI: Unbreak stable/yoga with two cherry-picks\n\n1) CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n\n2) CI: Disable bare metal testing on RL9/c9s\n\nRocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal\ntesting. Temporarily run bare metal testing only on Ubuntu.\n\nThis allows us to make rocky9 jobs voting again.\n\nAdapted to continue running CS8 bare metal testing.\n\n(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n'}]",8,884819,eaa41315a534328e4b588fb4c705d50ac3adae0a,18,6,2,14200,,,0,"CI: Unbreak stable/yoga with two cherry-picks

1) CI: Enable bare metal testing for Ubuntu upgrades

More than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704
enabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It
should be safe to test during upgrade jobs too.

(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)

2) CI: Disable bare metal testing on RL9/c9s

Rocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal
testing. Temporarily run bare metal testing only on Ubuntu.

This allows us to make rocky9 jobs voting again.

Adapted to continue running CS8 bare metal testing.

(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)

Change-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/884819/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml']",2,ac0d1fb9fbe7f2fc4fc9116809afa00719b66acc,, # FIXME(priteau): Bare metal testing fails on RL9/c9s with Libvirt 9.0.0 when: ansible_facts.os_family == 'Debian' # FIXME(priteau): Bare metal testing fails on RL9/c9s with Libvirt 9.0.0 when: ansible_facts.os_family == 'Debian', # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian' # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian',6,12
openstack%2Fcinder~884896,openstack/cinder,master,I130a4fd6f2edd5628208774aa3f3b70ac494e476,"zuul: Extend c-p-ceph-tempest, make integrated-storage-focal nv",ABANDONED,2023-05-31 15:02:23.000000000,2023-06-01 13:43:30.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}]","[{'number': 1, 'created': '2023-05-31 15:02:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/814c72f4034685ab62f2dac32770f4190718c203', 'message': ""zuul: Extend c-p-ceph-tempest, make integrated-storage-focal nv\n\nThis job is somewhat regularly bumping into the\n2h time limit, bump it to 3 hours.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-plugin-ceph-tempest&result=TIMED_OUT&skip=0\n\nMake tempest-integrated-storage-ubuntu-focal non-voting in\nthe check queue and remove it from the gate queue, since it\ndoesn't work and is preventing us from merging gate fixes.\n\nChange-Id: I130a4fd6f2edd5628208774aa3f3b70ac494e476\n""}]",6,884896,814c72f4034685ab62f2dac32770f4190718c203,22,4,1,4523,,,0,"zuul: Extend c-p-ceph-tempest, make integrated-storage-focal nv

This job is somewhat regularly bumping into the
2h time limit, bump it to 3 hours.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-plugin-ceph-tempest&result=TIMED_OUT&skip=0

Make tempest-integrated-storage-ubuntu-focal non-voting in
the check queue and remove it from the gate queue, since it
doesn't work and is preventing us from merging gate fixes.

Change-Id: I130a4fd6f2edd5628208774aa3f3b70ac494e476
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/884896/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,814c72f4034685ab62f2dac32770f4190718c203,, voting: false timeout: 10800, - tempest-integrated-storage-ubuntu-focal: irrelevant-files: *gate-irrelevant-files,2,2
openstack%2Fkayobe~884243,openstack/kayobe,stable/yoga,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:02:41.000000000,2023-06-01 13:34:49.000000000,2023-06-01 13:33:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/18ba0293bbec8a52f568c0f31c8b354bc7fa67ac', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}, {'number': 2, 'created': '2023-05-31 15:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/df0457efafbec1625d46709186f474ccdb55529c', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}, {'number': 3, 'created': '2023-06-01 08:57:50.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/74911c52daf74347cdc479c87bcd4a065a5bc535', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",14,884243,74911c52daf74347cdc479c87bcd4a065a5bc535,38,4,3,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/43/884243/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,18ba0293bbec8a52f568c0f31c8b354bc7fa67ac,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fkayobe~884694,openstack/kayobe,master,Ie272e701b8952ef106be99b8fe36eb04cb524898,Update gitignore for .vscode/ configuration files,MERGED,2023-05-30 13:16:25.000000000,2023-06-01 13:34:09.000000000,2023-06-01 13:33:06.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-30 13:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1d181da414e4403be3ced94a644329940a6b7ac4', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n'}, {'number': 2, 'created': '2023-05-31 08:53:34.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/47829142cd9ebc3ae7d7f440870491e81c3ddfad', 'message': 'Update gitignore for .vscode/ configuration files\n\nChange-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898\n'}]",2,884694,47829142cd9ebc3ae7d7f440870491e81c3ddfad,15,5,2,35264,,,0,"Update gitignore for .vscode/ configuration files

Change-Id: Ie272e701b8952ef106be99b8fe36eb04cb524898
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/94/884694/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,1d181da414e4403be3ced94a644329940a6b7ac4,update-gitignore-vscode,.vscode/*,,1,0
openstack%2Fkayobe~884242,openstack/kayobe,stable/zed,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:02:17.000000000,2023-06-01 13:34:09.000000000,2023-06-01 13:33:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e577ddc2d26998a5ad8a70f032613e871005be7f', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}, {'number': 2, 'created': '2023-05-31 12:34:05.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/586d23550224d1f74a97d6e204fb23c84421f826', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",14,884242,586d23550224d1f74a97d6e204fb23c84421f826,35,4,2,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/884242/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,e577ddc2d26998a5ad8a70f032613e871005be7f,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fkeystonemiddleware~878027,openstack/keystonemiddleware,stable/victoria,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,ABANDONED,2023-03-21 16:53:31.000000000,2023-06-01 13:14:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-21 16:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/2cfdcc1eb7f253df3a2b0d0b47546b4299b90bf4', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-05-16 18:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3784d5d7c3647d1308ec37137d56e0ea03f1b1ec', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 3, 'created': '2023-05-17 13:23:06.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3ee9deaaba95e01efc9d08d83c72a23db2c4d905', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",0,878027,3ee9deaaba95e01efc9d08d83c72a23db2c4d905,9,1,3,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/27/878027/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,2cfdcc1eb7f253df3a2b0d0b47546b4299b90bf4,877808-stable/victoria,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Fkeystonemiddleware~883124,openstack/keystonemiddleware,stable/victoria,I83f67ce5309c2d7909fab53dc7f5f8fd37158f15,[DNM] Fix mocks in EC2 token tests,ABANDONED,2023-05-16 18:01:44.000000000,2023-06-01 13:13:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-16 18:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/37d9ea0f77ee976c05df2f03491da3b383f7c1b4', 'message': '[DNM] Fix mocks in EC2 token tests\n\nUpdated mocks used in ec2_token tests according to the changes made by\n[1]\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023\n\nChange-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15\n'}, {'number': 2, 'created': '2023-05-16 19:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/6fa5f8de45bfa2d926a76ae2149af8084d01d1e2', 'message': '[DNM] Fix mocks in EC2 token tests\n\nUpdated mocks used in ec2_token tests according to the changes made by\n[1]\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023\n\nChange-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15\n'}, {'number': 3, 'created': '2023-05-17 13:22:06.000000000', 'files': ['keystonemiddleware/tests/unit/test_ec2_token_middleware.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7b72bf581dd98ea6c801df53a102395b84fd91d0', 'message': '[DNM] Fix mocks in EC2 token tests\n\nUpdated mocks used in ec2_token tests according to the changes made by\n[1]\n\n[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023\n\nChange-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15\n'}]",0,883124,7b72bf581dd98ea6c801df53a102395b84fd91d0,8,1,3,34275,,,0,"[DNM] Fix mocks in EC2 token tests

Updated mocks used in ec2_token tests according to the changes made by
[1]

[1] https://review.opendev.org/c/openstack/keystonemiddleware/+/878023

Change-Id: I83f67ce5309c2d7909fab53dc7f5f8fd37158f15
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/24/883124/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/tests/unit/test_ec2_token_middleware.py'],1,37d9ea0f77ee976c05df2f03491da3b383f7c1b4,877808-stable/xena-stable/victoria," requests, 'post', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None, timeout=mock.ANY) requests, 'post', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None, timeout=mock.ANY) 'post', mock_request.assert_called_with(mock.ANY, verify=mock.ANY, cert=mock.ANY, timeout=mock.ANY) 'post', mock_request.assert_called_with(mock.ANY, verify=mock.ANY, cert=mock.ANY, timeout=mock.ANY)"," requests, 'request', 'POST', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None) requests, 'request', 'POST', 'http://localhost:5000/v3/ec2tokens', verify=True, cert=None) 'request', mock_request.assert_called_with('POST', mock.ANY, verify=mock.ANY, cert=mock.ANY) 'request', mock_request.assert_called_with('POST', mock.ANY, verify=mock.ANY, cert=mock.ANY)",14,12
openstack%2Fbifrost~877186,openstack/bifrost,master,I231de6b7784d8d926cb7d939e961b4d6f0807391,Reduce multiple tasks to task with loop,MERGED,2023-03-12 22:57:47.000000000,2023-06-01 12:59:07.000000000,2023-06-01 12:58:00.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-03-12 22:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/dda2bc2294b5198be1390cce540e1681257528e1', 'message': 'Reduce multiple tasks to task with loop\n\nChange-Id: I231de6b7784d8d926cb7d939e961b4d6f0807391\n'}, {'number': 2, 'created': '2023-05-30 22:12:23.000000000', 'files': ['playbooks/cleanup-deployment-images.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/70806dfb064fff25c05ace7a81a299f7a24e6d01', 'message': 'Reduce multiple tasks to task with loop\n\nChange-Id: I231de6b7784d8d926cb7d939e961b4d6f0807391\n'}]",3,877186,70806dfb064fff25c05ace7a81a299f7a24e6d01,22,4,2,25600,,,0,"Reduce multiple tasks to task with loop

Change-Id: I231de6b7784d8d926cb7d939e961b4d6f0807391
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/86/877186/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/cleanup-deployment-images.yaml'],1,dda2bc2294b5198be1390cce540e1681257528e1,," path: ""{{ item }}"" loop: - ""{{ ironic_tftp_master_path }}"" - ""{{ ipa_kernel }}"" - ""{{ ipa_ramdisk }}"""," path: ""{{ ironic_tftp_master_path }}"" - file: path: ""{{ ipa_kernel }}"" state: absent - file: path: ""{{ ipa_ramdisk }}"" state: absent",5,7
openstack%2Fkolla-ansible~884988,openstack/kolla-ansible,stable/2023.1,I5c5b6a7e83be083d7e655c84bb13900edb6b0fbf,2023.1 - Update openstack_release and ansible-collection-kolla version,MERGED,2023-06-01 08:53:21.000000000,2023-06-01 12:45:14.000000000,2023-06-01 12:43:57.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-01 08:53:21.000000000', 'files': ['ansible/group_vars/all.yml', 'requirements.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cb21cec85bdfff0d47fea9e2f731fcd3705bfc5', 'message': '2023.1 - Update openstack_release and ansible-collection-kolla version\n\nChange-Id: I5c5b6a7e83be083d7e655c84bb13900edb6b0fbf\n'}]",0,884988,6cb21cec85bdfff0d47fea9e2f731fcd3705bfc5,10,4,1,14826,,,0,"2023.1 - Update openstack_release and ansible-collection-kolla version

Change-Id: I5c5b6a7e83be083d7e655c84bb13900edb6b0fbf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/884988/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'requirements.yml', 'etc/kolla/globals.yml']",3,6cb21cec85bdfff0d47fea9e2f731fcd3705bfc5,,"#openstack_release: ""2023.1""","#openstack_release: ""master""",3,3
openstack%2Fcharm-masakari~875686,openstack/charm-masakari,stable/zed,I5bf1b2a030c08461bc42c1e686af6220738ed98c,Add Kinetic and Zed support,MERGED,2023-03-01 12:49:46.000000000,2023-06-01 12:41:08.000000000,2023-06-01 12:41:08.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-01 12:49:46.000000000', 'files': ['src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'test-requirements.txt', 'src/tests/bundles/overlays/jammy-yoga-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/metadata.yaml', 'src/config.yaml', 'src/tests/bundles/overlays/focal-yoga-pacemaker-remote-ssl.yaml.j2', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'src/tests/bundles/overlays/bionic-train-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri-pacemaker-remote-ssl.yaml.j2', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-rocky-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/bionic-stein-pacemaker-remote-ssl.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/overlays/bionic-ussuri-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/7a0da8ac4fd216b2102593b1ec04c784804a6fab', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c\n(cherry picked from commit ccefc2109cd21d04541ca7ec9acd6254df8a972b)\n'}]",2,875686,7a0da8ac4fd216b2102593b1ec04c784804a6fab,10,4,1,2424,,,0,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml

Change-Id: I5bf1b2a030c08461bc42c1e686af6220738ed98c
(cherry picked from commit ccefc2109cd21d04541ca7ec9acd6254df8a972b)
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/86/875686/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/hirsute-wallaby-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'osci.yaml', 'test-requirements.txt', 'src/tests/bundles/overlays/jammy-yoga-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-xena-pacemaker-remote-ssl.yaml', 'src/metadata.yaml', 'src/config.yaml', 'src/tests/bundles/overlays/focal-yoga-pacemaker-remote-ssl.yaml.j2', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'src/tests/bundles/overlays/bionic-train-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/impish-xena-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/impish-xena-pacemaker-remote-ssl.yaml', 'src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri-pacemaker-remote-ssl.yaml.j2', '.zuul.yaml', 'src/tests/bundles/overlays/bionic-rocky-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/bionic-stein-pacemaker-remote-ssl.yaml.j2', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'src/tests/bundles/overlays/bionic-ussuri-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby-pacemaker-remote-ssl.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini']",27,7a0da8ac4fd216b2102593b1ec04c784804a6fab,batch-update-stable/zed,passenv = no_proxy http_proxy https_proxy JUJU_REPOSITORY charmcraft -v pack git+https://github.com/juju/charm-tools.git, LAYER_PATH={toxinidir}/layers INTERFACE_PATH={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY charmcraft -v build[testenv:py36] basepython = python3.6 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py38] basepython = python3.8 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} [testenv:py39] basepython = python3.9 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} charm-tools==2.8.3,43,1020
openstack%2Fcharm-nova-compute~874505,openstack/charm-nova-compute,stable/zed,I4468ef1a0619befc75c6af2bad8df316125a7cf5,Refactor unit tests to avoid leaks of mocks.,MERGED,2023-02-21 14:00:41.000000000,2023-06-01 12:39:48.000000000,2023-06-01 12:39:48.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-21 14:00:41.000000000', 'files': ['hooks/nova_compute_context.py', 'hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', 'unit_tests/test_actions_package_upgrade.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/b6ba33bd3b28d544b181b5edeee2b3de35b2cdef', 'message': ""Refactor unit tests to avoid leaks of mocks.\n\nIt was found that the modules test_actions_openstack_upgrade and\ntest_actions_package_upgrade were mocking different classes and\nfunctions right before importing the modules under test\n(openstack_upgrade and package_upgrade respectively), although these\nmocks weren't being reset making tests executions coming after them to\nget benefitted (or impacted) by the mocks in memory.\n\nThis patch takes advantage of mock.patch() decorator at the class level\nand importlib.reload() to make sure the mocks don't outsurvive the\nmodule.\n\nWhen the teardown was in place it was found a different set of functions\nthat were relying on that mocking, so they were patched to allow the\ntests run in the expected (mock'ed) environment.\n\nSummary of changes:\n\n - Move get_availability_zone() to contexts module, nova_compute_utils\n   depends on nova_compute_context, the latter shouldn't be importing\n   code from the former since it breaks the layering, even when the\n   import is being done within a function's body.\n - Mock env variable JUJU_UNIT_NAME per test case, the tests defined\n   in the test_nova_compute_utils and test_nova_compute_contexts were\n   relying on the leakage of mocks set by other test modules, this\n   makes them run in an isolated fashion.\n - Move update_nrpe_config testing to its own class, the main class\n   NovaComputeRelationsTests mocks the function update_nrpe_config()\n   making it difficult to test it in a test method, hence making the\n   test part of its own class it's posible to not mock the function\n   and correctly runs its implementation.\n - Teardown mocks made at import level.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1006\nChange-Id: I4468ef1a0619befc75c6af2bad8df316125a7cf5\n(cherry picked from commit 75a3dbd0efd96b81b4ff36e237bc5273d013a72f)\n""}]",1,874505,b6ba33bd3b28d544b181b5edeee2b3de35b2cdef,8,4,1,2424,,,0,"Refactor unit tests to avoid leaks of mocks.

It was found that the modules test_actions_openstack_upgrade and
test_actions_package_upgrade were mocking different classes and
functions right before importing the modules under test
(openstack_upgrade and package_upgrade respectively), although these
mocks weren't being reset making tests executions coming after them to
get benefitted (or impacted) by the mocks in memory.

This patch takes advantage of mock.patch() decorator at the class level
and importlib.reload() to make sure the mocks don't outsurvive the
module.

When the teardown was in place it was found a different set of functions
that were relying on that mocking, so they were patched to allow the
tests run in the expected (mock'ed) environment.

Summary of changes:

 - Move get_availability_zone() to contexts module, nova_compute_utils
   depends on nova_compute_context, the latter shouldn't be importing
   code from the former since it breaks the layering, even when the
   import is being done within a function's body.
 - Mock env variable JUJU_UNIT_NAME per test case, the tests defined
   in the test_nova_compute_utils and test_nova_compute_contexts were
   relying on the leakage of mocks set by other test modules, this
   makes them run in an isolated fashion.
 - Move update_nrpe_config testing to its own class, the main class
   NovaComputeRelationsTests mocks the function update_nrpe_config()
   making it difficult to test it in a test method, hence making the
   test part of its own class it's posible to not mock the function
   and correctly runs its implementation.
 - Teardown mocks made at import level.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1006
Change-Id: I4468ef1a0619befc75c6af2bad8df316125a7cf5
(cherry picked from commit 75a3dbd0efd96b81b4ff36e237bc5273d013a72f)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/05/874505/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'hooks/nova_compute_utils.py', 'unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py', 'unit_tests/test_nova_compute_utils.py', 'unit_tests/test_actions_package_upgrade.py', 'unit_tests/test_actions_openstack_upgrade.py', 'unit_tests/test_nova_compute_contexts.py']",8,b6ba33bd3b28d544b181b5edeee2b3de35b2cdef,bug/1896630-stable/zed," @patch.object(context.os.environ, 'get') def test_get_az_customize_with_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', True) self.test_config.set('default-availability-zone', 'nova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': 'az1', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('az1', az) @patch.object(context.os.environ, 'get') def test_get_az_customize_without_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', True) self.test_config.set('default-availability-zone', 'mynova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': '', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('mynova', az) @patch.object(context.os.environ, 'get') def test_get_az_no_customize_without_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', False) self.test_config.set('default-availability-zone', 'nova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': '', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('nova', az) @patch.object(context.os.environ, 'get') def test_get_az_no_customize_with_env(self, os_environ_get_mock): self.test_config.set('customize-failure-domain', False) self.test_config.set('default-availability-zone', 'nova') def os_environ_get_side_effect(key): return { 'JUJU_AVAILABILITY_ZONE': 'az1', }[key] os_environ_get_mock.side_effect = os_environ_get_side_effect az = context.get_availability_zone() self.assertEqual('nova', az) @patch('nova_compute_context.config') @patch('nova_compute_context.config') @patch.dict(context.os.environ, {'JUJU_UNIT_NAME': 'nova_compute'}, clear=True) @patch.dict(context.os.environ, {'JUJU_UNIT_NAME': 'nova_compute'}, clear=True)", @patch('nova_compute_utils.config') @patch('nova_compute_utils.config'),200,123
openstack%2Fcharm-octavia~860957,openstack/charm-octavia,stable/xena,I0568c96920c7402ea47528866c80419818b44a5a,Set voting to True,MERGED,2022-10-11 14:34:02.000000000,2023-06-01 12:35:49.000000000,2023-06-01 12:35:49.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 14:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/7f7fa94c8c9dbc0d84552619d812217977386566', 'message': ""Set voting to True\n\nDrop 'voting: false' since this is stable branch with no known issues.\n\nChange-Id: I0568c96920c7402ea47528866c80419818b44a5a\n""}, {'number': 2, 'created': '2022-10-12 13:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b9a6cb5c49f792ef53be23ea0476b8968c19173e', 'message': ""Set voting to True\n\nDrop 'voting: false' since this is stable branch with no known issues.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/950\nChange-Id: I0568c96920c7402ea47528866c80419818b44a5a\n""}, {'number': 3, 'created': '2023-03-16 20:14:37.000000000', 'files': ['osci.yaml', 'requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a1ec591f14737bf5ceeef7e8a240a3ac3964cf0d', 'message': ""Set voting to True\n\nDrop 'voting: false' since this is stable branch with no known issues.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/950\nChange-Id: I0568c96920c7402ea47528866c80419818b44a5a\n""}]",13,860957,a1ec591f14737bf5ceeef7e8a240a3ac3964cf0d,31,6,3,2424,,,0,"Set voting to True

Drop 'voting: false' since this is stable branch with no known issues.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/950
Change-Id: I0568c96920c7402ea47528866c80419818b44a5a
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/57/860957/1 && git format-patch -1 --stdout FETCH_HEAD,['osci.yaml'],1,7f7fa94c8c9dbc0d84552619d812217977386566,voting-jobs, - focal-wallaby-ha-ovn - focal-xena-ha - focal-xena-ha-ovn, - focal-wallaby-ha-ovn: voting: false - focal-xena-ha: voting: false - focal-xena-ha-ovn: voting: false,3,6
openstack%2Fpython-openstackclient~885036,openstack/python-openstackclient,master,I491a82d81d352f9d2bc7135550a0ed5cdd91d708,Add volume attachment update command,ABANDONED,2023-06-01 11:43:17.000000000,2023-06-01 12:28:34.000000000,,[{'_account_id': 15334}],"[{'number': 1, 'created': '2023-06-01 11:43:17.000000000', 'files': ['openstackclient/volume/v3/volume_attachment.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'setup.cfg', 'releasenotes/notes/add-volume-attachment-update-command-6f365a1b53db8bd2.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e137e26952f6fe4ba6f9c275176009a3b6a024fd', 'message': 'Add volume attachment update command\n\nThis command allows users to update an existing attachment.\n\nStory: 2010776\nTask: 48167\nChange-Id: I491a82d81d352f9d2bc7135550a0ed5cdd91d708\n'}]",2,885036,e137e26952f6fe4ba6f9c275176009a3b6a024fd,4,1,1,27615,,,0,"Add volume attachment update command

This command allows users to update an existing attachment.

Story: 2010776
Task: 48167
Change-Id: I491a82d81d352f9d2bc7135550a0ed5cdd91d708
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/36/885036/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v3/volume_attachment.py', 'openstackclient/tests/unit/volume/v3/test_volume_attachment.py', 'setup.cfg', 'releasenotes/notes/add-volume-attachment-update-command-6f365a1b53db8bd2.yaml']",4,e137e26952f6fe4ba6f9c275176009a3b6a024fd,,--- features: - | Added ``volume attachment update`` command that updates an existing volume attachment. ,,225,0
openstack%2Fcharm-horizon-k8s~885006,openstack/charm-horizon-k8s,main,Ie7be4a8b5ccf09987102e98fafbb674c907da434,Refine healthcheck url,MERGED,2023-06-01 09:41:15.000000000,2023-06-01 12:22:26.000000000,2023-06-01 12:01:28.000000000,"[{'_account_id': 10366}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 09:41:15.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/175702c7920da172af849e6b6f8be1bd64b0716f', 'message': 'Refine healthcheck url\n\nUrl openstack-horizon/ returns a 302 return code, which is not accepted\nby pebble. Modifying to openstack-horizon/auth/login/ will return 200\nOK.\n\nChange-Id: Ie7be4a8b5ccf09987102e98fafbb674c907da434\n'}]",1,885006,175702c7920da172af849e6b6f8be1bd64b0716f,8,3,1,35761,,,0,"Refine healthcheck url

Url openstack-horizon/ returns a 302 return code, which is not accepted
by pebble. Modifying to openstack-horizon/auth/login/ will return 200
OK.

Change-Id: Ie7be4a8b5ccf09987102e98fafbb674c907da434
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/06/885006/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,175702c7920da172af849e6b6f8be1bd64b0716f,fix/healthcheck-url," return super().healthcheck_http_url + ""openstack-horizon/auth/login/"""," return super().healthcheck_http_url + ""openstack-horizon/""",1,1
openstack%2Fneutron-tempest-plugin~883838,openstack/neutron-tempest-plugin,master,I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9,Adapt bgpvpn scenarios to recent sRBAC changes,MERGED,2023-05-22 13:06:31.000000000,2023-06-01 12:14:13.000000000,2023-06-01 12:14:13.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 13:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a3ef555a46635b9df398518de1a18ab96ec5da82', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 2, 'created': '2023-05-22 13:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/04cee11d2ecf25112a2fdcf47d951c713b0118a9', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 3, 'created': '2023-05-22 17:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c1b26ca36877c4fdfbbef59b51aa7e1b676b2bb2', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 4, 'created': '2023-05-23 09:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ac7f1af7f16fd6dd4d982c669d2edc6a2266737f', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 5, 'created': '2023-05-23 11:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e289b0c04c9b2d389f99744b4924e33038cf74f6', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 6, 'created': '2023-05-25 15:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ed03320215d5d13689f1494bbff69842aa46d92d', 'message': 'Adopt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 7, 'created': '2023-05-26 09:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6c0a0785703d27790e3cc29785087f4ea5d1d17f', 'message': 'Adapt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}, {'number': 8, 'created': '2023-05-26 09:45:35.000000000', 'files': ['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/8c7c5e31f19ed70786d15091f8271ca947778c9c', 'message': 'Adapt bgpvpn scenarios to recent sRBAC changes\n\nChange-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9\nRelated-Bug: 2019097\n'}]",3,883838,8c7c5e31f19ed70786d15091f8271ca947778c9c,22,4,8,8313,,,0,"Adapt bgpvpn scenarios to recent sRBAC changes

Change-Id: I7a9a1a7a440cf0b6be28abc877b1d895f69e30c9
Related-Bug: 2019097
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/38/883838/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/bgpvpn/scenario/manager.py', 'neutron_tempest_plugin/bgpvpn/scenario/test_bgpvpn_basic.py']",2,a3ef555a46635b9df398518de1a18ab96ec5da82,bug/2019097," self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_router_association(self.bgpvpn['id'], self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association( body = self.admin_bgpvpn_client.create_port_association( self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.update_port_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.delete_port_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_port_association( body = self.admin_bgpvpn_client.create_port_association( self.admin_bgpvpn_client.delete_port_association(self.bgpvpn['id'], self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( self.admin_bgpvpn_client.create_network_association( body = self.admin_bgpvpn_client.create_router_association(self.bgpvpn['id'], project_id=self.admin_bgpvpn_client.project_id) if not client: client = self.admin_routers_client self.bgpvpn_admin_client, tenant_id=self.admin_bgpvpn_client.tenant_id, self.admin_bgpvpn_client.create_network_association("," self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_router_association(self.bgpvpn['id'], self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association( body = self.bgpvpn_client.create_port_association( self.bgpvpn_client.update_port_association( self.bgpvpn_client.update_port_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association(self.bgpvpn['id'], self.bgpvpn_client.update_port_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association(self.bgpvpn['id'], self.bgpvpn_client.update_port_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_port_association(self.bgpvpn['id'], self.bgpvpn_client.delete_port_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_port_association( body = self.bgpvpn_client.create_port_association( self.bgpvpn_client.delete_port_association(self.bgpvpn['id'], self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( self.bgpvpn_client.create_network_association( body = self.bgpvpn_client.create_router_association(self.bgpvpn['id'], project_id=self.bgpvpn_client.project_id) self.bgpvpn_admin_client, tenant_id=self.bgpvpn_client.tenant_id, self.bgpvpn_client.create_network_association(",40,37
openstack%2Freleases~881254,openstack/releases,master,I346b0e1eaeda37381413da9abc11e2441f0fcce4,Set Xena status to Extended Maintenance,MERGED,2023-04-21 17:37:15.000000000,2023-06-01 12:12:48.000000000,2023-06-01 12:12:48.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-21 17:37:15.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/37a993c3cb8ab3cc8b4f635be4fc2979ba3e1230', 'message': ""Set Xena status to Extended Maintenance\n\nProject's last releases in Xena have been tagged with xena-em.\nNow indicate that Xena is in Extended Maintenance phase also at\nhttps://releases.openstack.org\n\nTransition date is April 20th, 2023.\n\nChange-Id: I346b0e1eaeda37381413da9abc11e2441f0fcce4\n""}]",7,881254,37a993c3cb8ab3cc8b4f635be4fc2979ba3e1230,11,4,1,17685,,,0,"Set Xena status to Extended Maintenance

Project's last releases in Xena have been tagged with xena-em.
Now indicate that Xena is in Extended Maintenance phase also at
https://releases.openstack.org

Transition date is April 20th, 2023.

Change-Id: I346b0e1eaeda37381413da9abc11e2441f0fcce4
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/881254/1 && git format-patch -1 --stdout FETCH_HEAD,['data/series_status.yaml'],1,37a993c3cb8ab3cc8b4f635be4fc2979ba3e1230,xena-em, status: extended maintenance status: unmaintained, status: maintained status: extended maintenance date: 2023-04-20,2,3
openstack%2Freleases~883843,openstack/releases,master,I7b34137384b8fc7f93807897f9937e8ee49c01fe,New stable releases for celiometer yoga and zed,MERGED,2023-05-22 13:55:57.000000000,2023-06-01 12:12:46.000000000,2023-06-01 12:12:46.000000000,"[{'_account_id': 308}, {'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3d6d9d767d700f3f906d965168628e8e8c08bdd8', 'message': ""New stable releases for celiometer yoga and zed\n\nThis picks up new patches to stable releases of ceilometer.\n\n$ git log --oneline --no-merges 18.0.0..stable/yoga\n7d9e167d (fix-processing_of_event_metrics_that_do_not_have_Resource-id) Properly handle 'resource_id' as None for Gnocchi publisher\n741605e9 (normalize_non_openstack_pollsters_credentials_to_string) Fix Non-OpenStack dynamic pollster credentials handling\nc6f00257 Add user/project names to polled samples\n3517acea Add vanity names to telemetry polling notifications\ndcae2040 (fix_barbican_credentials_non-openstack_pollster-yoga) Fix barbican credentials retrieval\nb583cbca NoUniqueMatch: ClientException on Gnocchi publisher\n51b0c368 Fix swift pollsters that use get_account\n1f65bce6 Add CentOS Stream 9 jobs\n51db4983 Add centos9s jobs\n4fd15dfe Remove queue declaration and fix lower-constraint job\ncb132b30 Fix OutgoingBytesDeltaPollster sample name\ncc22c4d6 Debug log libvirt metadata version fails\nbed18e58 Update TOX_CONSTRAINTS_FILE for stable/yoga\n86c7237f Update .gitreview for stable/yoga\n\n$ git log --oneline --no-merges 19.0.0..stable/zed\n5968c822 (HEAD -> stable/zed, gerrit/stable/zed) Properly handle 'resource_id' as None for Gnocchi publisher\n7c121c45 Add vanity names to telemetry polling notifications\n17648c71 (fix_barbican_credentials_non-openstack_pollster-zed) Fix barbican credentials retrieval\na059600c (fix_gnocchi_project_id_discovery_concurrency_issue-upstream) NoUniqueMatch: ClientException on Gnocchi publisher\n23308bfa Remove SNMP metrics from default polling\n38b7659c Add TCP publisher\n1da0e14b Add user/project names to polled samples\n5d246c6c Fix OutgoingBytesDeltaPollster sample name\n142cb0b6 Remove lingering queue declaration\n3f28ae3d Update TOX_CONSTRAINTS_FILE for stable/zed\n9ffd73a7 Update .gitreview for stable/zed\n\nChange-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe\n""}, {'number': 2, 'created': '2023-05-23 13:58:13.000000000', 'files': ['deliverables/yoga/ceilometer.yaml', 'deliverables/zed/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/40395e80349a8c81d795af068ab601e205225e45', 'message': ""New stable releases for celiometer yoga and zed\n\nThis picks up new patches to stable releases of ceilometer.\n\n$ git log --oneline --no-merges 18.0.0..stable/yoga\n7d9e167d (fix-processing_of_event_metrics_that_do_not_have_Resource-id) Properly handle 'resource_id' as None for Gnocchi publisher\n741605e9 (normalize_non_openstack_pollsters_credentials_to_string) Fix Non-OpenStack dynamic pollster credentials handling\nc6f00257 Add user/project names to polled samples\n3517acea Add vanity names to telemetry polling notifications\ndcae2040 (fix_barbican_credentials_non-openstack_pollster-yoga) Fix barbican credentials retrieval\nb583cbca NoUniqueMatch: ClientException on Gnocchi publisher\n51b0c368 Fix swift pollsters that use get_account\n1f65bce6 Add CentOS Stream 9 jobs\n51db4983 Add centos9s jobs\n4fd15dfe Remove queue declaration and fix lower-constraint job\ncb132b30 Fix OutgoingBytesDeltaPollster sample name\ncc22c4d6 Debug log libvirt metadata version fails\nbed18e58 Update TOX_CONSTRAINTS_FILE for stable/yoga\n86c7237f Update .gitreview for stable/yoga\n\n$ git log --oneline --no-merges 19.0.0..stable/zed\n5968c822 (HEAD -> stable/zed, gerrit/stable/zed) Properly handle 'resource_id' as None for Gnocchi publisher\n7c121c45 Add vanity names to telemetry polling notifications\n17648c71 (fix_barbican_credentials_non-openstack_pollster-zed) Fix barbican credentials retrieval\na059600c (fix_gnocchi_project_id_discovery_concurrency_issue-upstream) NoUniqueMatch: ClientException on Gnocchi publisher\n23308bfa Remove SNMP metrics from default polling\n38b7659c Add TCP publisher\n1da0e14b Add user/project names to polled samples\n5d246c6c Fix OutgoingBytesDeltaPollster sample name\n142cb0b6 Remove lingering queue declaration\n3f28ae3d Update TOX_CONSTRAINTS_FILE for stable/zed\n9ffd73a7 Update .gitreview for stable/zed\n\nChange-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe\n""}]",5,883843,40395e80349a8c81d795af068ab601e205225e45,16,4,2,6737,,,0,"New stable releases for celiometer yoga and zed

This picks up new patches to stable releases of ceilometer.

$ git log --oneline --no-merges 18.0.0..stable/yoga
7d9e167d (fix-processing_of_event_metrics_that_do_not_have_Resource-id) Properly handle 'resource_id' as None for Gnocchi publisher
741605e9 (normalize_non_openstack_pollsters_credentials_to_string) Fix Non-OpenStack dynamic pollster credentials handling
c6f00257 Add user/project names to polled samples
3517acea Add vanity names to telemetry polling notifications
dcae2040 (fix_barbican_credentials_non-openstack_pollster-yoga) Fix barbican credentials retrieval
b583cbca NoUniqueMatch: ClientException on Gnocchi publisher
51b0c368 Fix swift pollsters that use get_account
1f65bce6 Add CentOS Stream 9 jobs
51db4983 Add centos9s jobs
4fd15dfe Remove queue declaration and fix lower-constraint job
cb132b30 Fix OutgoingBytesDeltaPollster sample name
cc22c4d6 Debug log libvirt metadata version fails
bed18e58 Update TOX_CONSTRAINTS_FILE for stable/yoga
86c7237f Update .gitreview for stable/yoga

$ git log --oneline --no-merges 19.0.0..stable/zed
5968c822 (HEAD -> stable/zed, gerrit/stable/zed) Properly handle 'resource_id' as None for Gnocchi publisher
7c121c45 Add vanity names to telemetry polling notifications
17648c71 (fix_barbican_credentials_non-openstack_pollster-zed) Fix barbican credentials retrieval
a059600c (fix_gnocchi_project_id_discovery_concurrency_issue-upstream) NoUniqueMatch: ClientException on Gnocchi publisher
23308bfa Remove SNMP metrics from default polling
38b7659c Add TCP publisher
1da0e14b Add user/project names to polled samples
5d246c6c Fix OutgoingBytesDeltaPollster sample name
142cb0b6 Remove lingering queue declaration
3f28ae3d Update TOX_CONSTRAINTS_FILE for stable/zed
9ffd73a7 Update .gitreview for stable/zed

Change-Id: I7b34137384b8fc7f93807897f9937e8ee49c01fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/883843/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/ceilometer.yaml', 'deliverables/zed/ceilometer.yaml']",2,3d6d9d767d700f3f906d965168628e8e8c08bdd8,new-ceilometer-release, - version: 19.0.1 projects: - repo: openstack/ceilometer hash: 5968c822bebbaa47ef71d56abb4b7c2bd41fa7b9,,8,0
openstack%2Fneutron-specs~882151,openstack/neutron-specs,master,Idc52ffb78033c658558dba381dc742cc23c0f2b7,ERSPAN and GRE mirroring for tap-as-a-service,MERGED,2023-05-03 12:58:52.000000000,2023-06-01 12:07:48.000000000,2023-06-01 11:02:08.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-03 12:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/963071c2469948e3e045b2c50f9c3dfec9bc70d0', 'message': 'ERSPAN for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 2, 'created': '2023-05-10 07:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cbb654cf46081dafa2b45109912db9184406efaa', 'message': 'ERSPAN for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 3, 'created': '2023-05-15 18:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b7be3d900187080e299a6105b5aac1fd40942fb7', 'message': 'ERSPAN for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 4, 'created': '2023-05-16 16:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6df00356db56d66576c025688e7391576767314a', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 5, 'created': '2023-05-17 09:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5e778f4f24ee37b305b285c72ae6640cc7657f04', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 6, 'created': '2023-05-24 07:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ae61011b71eacc53edfb6cec12b5508800279205', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}, {'number': 7, 'created': '2023-05-30 13:44:53.000000000', 'files': ['specs/2023.2/erspan-for-tap-as-a-service.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/de2ee265faa6bac9d8ae168293dd8cc47c8a9ccc', 'message': 'ERSPAN and GRE mirroring for tap-as-a-service\n\nChange-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7\nRelated-Bug: #2015471\n'}]",85,882151,de2ee265faa6bac9d8ae168293dd8cc47c8a9ccc,30,5,7,8313,,,0,"ERSPAN and GRE mirroring for tap-as-a-service

Change-Id: Idc52ffb78033c658558dba381dc742cc23c0f2b7
Related-Bug: #2015471
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/51/882151/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/erspan-for-tap-as-a-service.rst'],1,963071c2469948e3e045b2c50f9c3dfec9bc70d0,bug/2015471,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================= Tunnel based mirroring (ERSPAN, GRE) for Tap-as-a-service ========================================================= https://bugs.launchpad.net/neutron/+bug/2015471 Mirroring is a widely used tool to analyse traffic of switch ports. Tap-as-a-service project was created to allow admins to mirror traffic of one Neutron port to another Neutron port. Mirroring can also be done by encapsulating the traffic into a tunnel, like GRE (``Generic Routing Encapsulation``) or ERSPAN (``Encapsulated Remote Switch Port Analyzer``). ERSPAN first was used widely in Cisco switches, and GRE is widely used as tunneling protocol. ERSPAN protocol has 3 versions of which the last two is adopted, these are ``version 1`` and ``version 2`` (the other versioning uses TYPE I, II and III, and TYPE II is version 1 and TYPE III is version 2) For more details see the `ERSPAN draft from Cisco`_. Since OVS 2.10 it is possible to use ERSPAN with OVS (see `OVS basic configuration`_, and `OVS protocol header fields`_) both ERSPAN v1 and v2, see `erspan NEWS update commit`_. Since OVN v22.12.0 it is possible to create mirrors with OVN (see `OVN 22.12 nbctl man page`_, and `OVN commit that introduced mirroring`_). .. note:: OVN only supports ERSPAN v1, and with OVN it is also possible to create a clean GRE type mirror. This specification proposes an extension to the current tap-as-a-service (TAAS) API to allow the users to create ERSPAN or GRE mirrors from Neutron ports to a remote IP, and proposes the necessary backend changes to the current OVS driver of taas and proposes a new driver for OVN to use ERSPAN or GRE mirroring with OVN. Problem Description =================== Mirroring traffic can be useful in many situations for operators, for example to debug network issues. Tap-as-a-service provided a solution for traffic mirroring by allowing to create tap-flows and mirror the traffic of them to the related tap-service. Each tap-flow and tap-service can be attached to a Neutron port, so the port attached to tap-flow is the source of the mirrored traffic and the port of tap-service is the destination of the mirroring. There is a N-1 relation between tap-flows and tap-services. This mirroring model is mirroring traffic from one Neutron port to another Neutron port over a Neutron network. The operator needs to mirror traffic from the cloud (from Neutron ports) to an analyser outside of the cloud. An ERSPAN or GRE mirror is a good solution for such need. Use Cases --------- * As an operator I want to mirror the traffic from a ``Neutron port`` to a network analyser that can be ``outside of my cloud``. * As an operator I want to mirror the traffic from a ``Neutron port`` to a ``Floating IP``. * As an operator I want to mirror the traffic of a ``Neutron port`` to a ``dedicated infra network``, to avoid overloading the tenant networks. * As an operator I want to use the extra headers ERSPAN provides (i.e.: original VLAN, original CoS in case of version 2 ERSPAN). Proposed Change =============== The proposal is to use OVS and OVN builtin ERSPAN and GRE mirroring features. For using ERSPAN or GRE with OVS a port is added to an OVS bridge with ``type=erspan`` or ``type=gre`` in case of GRE. As ERSPAN is a modification of GRE, with some extra ERSPAN specific headers (see `ERSPAN draft from Cisco`_), OVS creates the tunnel from the previously created OVS port to the destination IP. This means that the mirrored traffic is encapsulated to an ERSPAN/GRE tunnel. Example wireshark dump of an ICMP echo reply:: Frame 1: 148 bytes on wire (1184 bits), 148 bytes captured (1184 bits) Ethernet II, Src: RealtekU_79:ff:db (52:54:00:79:ff:db), Dst: RealtekU_91:2f:52 (52:54:00:91:2f:52) Internet Protocol Version 4, Src: 100.109.0.84, Dst: 100.109.0.142 Generic Routing Encapsulation (ERSPAN) Encapsulated Remote Switch Packet ANalysis Type II Ethernet II, Src: fa:16:3e:d5:4b:c1 (fa:16:3e:d5:4b:c1), Dst: fa:16:3e:80:ed:09 (fa:16:3e:80:ed:09) Internet Protocol Version 4, Src: 10.0.0.39, Dst: 10.0.0.47 Internet Control Message Protocol This means that the source IP of the tunnel is the IP of the host on which the ERSPAN port is created (in my virtual env it is 100.109.0.84). In the above example the 2 inner IPs (10.0.0.47 and 10.0.0.39) are the fixed IPs of 2 Openstack ports (VMs). The outer protocol source IP (100.109.0.84) is the IP of the host on which the mirror port is created, thus outside of the cloud, and in the control of the admin. The outer protocol destination IP (100.109.0.142) in this case is also outside of the cloud, and Openstack Neutron control, and another host on which I can run tcpdump. REST API impact --------------- The current API model of taas uses two high level objects: `tap-services` and `tap-flows`. The tap-flow represents the source of the mirrored traffic, and a tap-service represents the destination of the mirrored traffic. For one tap-service multiple tap-flows can be attached. For details please check the `tap-as-a-service API reference`_. Both a tap-flow and a tap-service are referencing a Neutron port, and the traffic on that port will be the source of the mirror (in case of a tap-flow), or the destination of the mirror (in case of a tap-service). .. warning:: Only the traffic can be mirrored by tap-as-a-service which anyway allowed by security-groups! In case of the ERSPAN implementation of OVS and OVN the source is a bridge port (in case of OVS) or a logical switch port (in case of OVN) and the destination is represented by only an IP address, the above API model is not useful. The proposal is to introduce a new high level API for ERSPAN or GRE mirroring: ``tap_mirror``. This solution keeps the current API clean and not overloaded, and makes it easier for operators to expect the right behaviour after API operations. The proposed API is ``admin only``, to avoid the overloading of infrastructure networks by tenants. The suggested API request: * ``POST /v2.0/taas/tap_mirrors`` Create a tap mirror that mirrors traffic from a Neutron port to an external IP:: { ""tap_mirror"": { ""name"": ""mirror-traffic-of-server-a0"", ""description"": ""Mirror the traffic from server-a0"", ""direction"": ""IN""|""OUT""|""BOTH"", ""port_id"": ""1a1a5a96-e8cb-11ed-9678-9b663820b519"", ""tunnel_id"": ""1"", ""remote_ip"": ""172.31.1.1"", ""mirror_type"": ""erspan""|""gre"" } } * ``port_id`` is the source of the mirroring, this is a ``Neutron port``. .. note:: Only VM ports can be used as the source or mirroring. * ``remote_ip``: The IP of the remote end of the tunnel. * The ``tunnel_id`` field is the identifier of the ERSPAN or GRE session between the source and destination. .. note:: There is a big difference in the GRE and ERSPAN id size: GRE has 32 bits key size but ERSPAN has only 10 bits for ERSPAN session ID. This must be documented and validated on the API. .. note:: This API proposal keeps the current taas API's N-1 relationship between source and destination. Multiple source ports' traffic can be mirrored to one destination IP. * ``mirror_type`` field is to select between ERSPAN and GRE. * ``direction`` is the direction of the traffic to be mirrored on the port. The current tap-as-a-service API allows the operator to select the direction when the `tap-flow` is created, it can be: IN, OUT, BOTH. This specification proposes to keep the current direction setting options with the new API. Meaning of the directions: * ``IN``: the traffic towards the port, and into the VM attached to it (ingress traffic). * ``OUT``: traffic from the port out of the VM attached to the port (egress traffic). * ``BOTH``: mirror both ingress (IN), and egress (OUT) traffic of the port. .. warning:: It is not possible to create tunnel (GRE or ERSPAN) with the same tunnel_id to the same remote_ip from the same portwith OVN. Due to this if the user chooses BOTH for direction 2 tunnels must be created with with different tunnel_id. This is something to make visible for the user on the API, when she/he GET the tap_mirror, show that there are 2 tunnel_ids used for this specific tap_mirror. This also means that the receiving side of the mirror must be prepared that the egress and ingress direction will be encapsulated to tunnels with different tunnel_id. .. note:: Both GRE and ERSPAN handle the fragmentation, so if the mirrored traffic's packet size with the extra headers bigger than the MTU on the interface, the packet in the tunnel will be sent fregmented. .. note:: * For the GRE type mirroring 8 octet extra header is added over IP headers. * For ERSPAN 8 octet is added for GRE, 8 octet is acced for ERSPAN and an extra trailing 4 byte CRC is added, so in summary 20 octets extra header is added in this case. The proposed API definition:: mirror_types_list = ['erspan', 'gre'] RESOURCE_ATTRIBUTE_MAP = { 'tap_mirror': { 'id': { 'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'description': { 'allow_post': True, 'allow_put': True, 'validate': {'type:string': None}, 'is_visible': True, 'default': ''}, 'port_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:uuid': None}, 'enforce_policy': True, 'is_visible': True}, 'direction': { 'allow_post': True, 'allow_put': False, 'validate': {'type:values': direction_enum}, 'is_visible': True}, 'remote_ip': { 'allow_post': True, 'allow_put': False, 'validate': {'type:ip_address': None}, 'is_visible': True}, 'tunnel_id': { 'allow_post': True, 'allow_put': False, 'validate': {'type:integer': None}, 'is_visible': True, 'default': constants.ATTR_NOT_SPECIFIED}, 'mirror_type': { 'allow_post': True, 'allow_put': False, 'validate': {'type:values': mirror_types_list}, 'is_visible': True,}, } } DB Impact --------- To persist the new `tap_mirror` in the DB, a new table ``tap_mirrors`` is needed:: op.create_table( 'tap_mirrors', sa.Column('id', sa.String(length=36), primary_key=True, nullable=False), sa.Column('project_id', sa.String(length=255), nullable=True), sa.Column('name', sa.String(length=255), nullable=True), sa.Column('description', sa.String(length=1024), nullable=True), sa.Column('port_id', sa.String(36), nullable=False), sa.Column('direction', nullable=True), sa.Column('remote_ip', sa.String(db_const.IP_ADDR_FIELD_SIZE), sa.Column('mirorr_type', sa.String(36), nullable=False), ) To handle the used tunnel_ids a new table ``tap_tunnel_ids`` is necessary. This table will represent the tunnel_ids used by the mirror:: op.create_table( 'tap_tunnel_ids', sa.Column('id', sa.String(length=36), primary_key=True, nullable=False), sa.Column('tunnel_value', sa.String(length=36), nullable=False), sa.Column('tap_mirror_id', sa.String(length=36), nullable=False), ) if the user creates a tap_mirror with direction BOTH, 2 tap_tunnel_ids will be added, and will be allocated for the tap_mirror, and both will be visible on the API. This also means that ``TapMirror`` and ``TapTunnelId`` DB models will be added. OVN driver for mirroring ------------------------ OVN creates only version 1 type of ERSPAN ports, end-to-end from API call to backend changes this will look something like this (Using GRE is very similar the OVN mirror's type will be gre, and the OVS port type will be gre):: $ # REST API operation $ curl -g -i -X POST http://<host_ip:9696>/networking/v2.0/taas/tap_mirrors \ -d '{""tap_mirror"": {""name"": ""mirror1"", ""port_id"": ""54c4b09f-8b3d-4685-b66d-ce22c67956a9"", ""direction"": ""OUT"", ""remote_ip"": ""100.109.0.142"", ""tunnel_id"": ""42"", ""mirror_type"": ""erspan""}}' $ # backend changes $ sudo ovn-nbctl mirror-list mirror_out_297b12c0-e9a5-11ed-9f90-07946c615270: Type : erspan Sink : 100.109.0.142 Filter : from-lport Index/Key: 42 $ sudo ovs-vsctl show Bridge br-int ... Port ovn-my_mirror2 Interface ovn-mirror_out_297b12c0-e9a5-11ed-9f90-07946c615270 type: erspan options: {erspan_idx=""42"", erspan_ver=""1"", key=""2"", remote_ip=""100.109.0.142""} With OVN to mirror both ingress and egress traffic of the source port 2 mirrors must be created (as the OVN mirror can have only ``from-lport`` or ``to-lport`` as direction), and attached to the port (``logical-switch-port``), one with ``filter=from-lport`` and one with ``filter=to-lport``. .. note:: OVN chose ERSPAN version 1 which is directionless by the protocol description, but a direction can be selected as ``filter`` when the mirror is created with ovn-nbctl, or via ovsdb (see `ovn-nb.ovsschema mirror table`_) So if the user creates a tap_mirror with direction ``IN`` the filter will be ``to-lport``, if ``OUT`` the filter will be ``from-lport`` and in case of ``BOTH`` 2 mirrors will be created one with ``to-lort`` and one with ``from-lport``. The above means that in case of mirroring both ingress and egrees traffic tap-as-a-service will create 2 ERSPAN or GRE ports on br-int for each tap_mirror. Different tunnel_id will be used for the 2 traffic directions, for details see `REST API impact`_ . OVS driver changes ------------------ To keep consistency between the 2 drivers, this specification proposes to use GRE and ERSPAN version 1 for OVS drive also. The end-to-end call will look like this:: $ # REST API operation $ curl -g -i -X POST http://<host_ip:9696>/networking/v2.0/taas/tap_mirrors \ -d '{""tap_mirror"": {""name"": ""mirror1"", ""port_id"": ""54c4b09f-8b3d-4685-b66d-ce22c67956a9"", ""direction"": ""IN"", ""remote_ip"": ""100.109.0.142"", ""tunnel_id"": ""42"", ""mirror_type"": ""erspan""}}' $ # Backend changes $ sudo ovs-vsctl show Bridge br-tap ... Port mirror_in_ed6046d Interface mirror_in_ed6046d type: erspan options: {erspan_idx=""42"", erspan_ver=""1"", remote_ip=""100.109.0.84""} $ sudo ovs-ofctl dump-flows br-tap ... ... priority=20,dl_dst=fa:16:3e:d3:3a:d1 actions=output:""mirror_in_ed6046d"" For the details on how direction ``BOTH`` will be handled see `OVN driver for mirroring`_. Differences for OVS driver will be that 2 OVS ports will be created, with 2 different erspan_id/tunnel_id (see the section `REST API impact`_ for how it can be visible on the API). For the two directions 2 different flows will be installed on `br-tap` with different output port in the action field:: $ # Direction IN $ sudo ovs-ofctl dump-flows br-tap ... ... priority=20,dl_dst=fa:16:3e:d3:3a:d1 actions=output:""mirror_in_ed6046d"" $ # Direction OUT $ sudo ovs-ofctl dump-flows br-tap ... ... priority=20,dl_src=fa:16:3e:d3:3a:d1 actions=output:""mirror_out_ed6046d"" Out of Scope ============ This specification is not proposing to make the OVN driver fully compatible with the current OVS or SRIOV driver. So the proposed OVN driver will implement only ERSPAN. To make OVN driver fully feature compatible with the current OVS or SRIOV driver can be part of a coming specification. Implementation ============== Assignee(s) ----------- * Lajos Katona (~lajoskatona) <lajos.katona@est.tech>, <katonalala@gmail.com> Work Items ---------- * Add new REST API extension for tap-as-a-service, neutron-lib and tap-as-a-service changes. * Change tap-as-a-service db schema accordingly. * Adopt ovsdbapp to make it possible to manipulate both ovsdb and ovn-northd and create mirrors. * Change OVS driver. * Create a new ERSPAN only OVN tap-as-a-service driver. * Adopt the documentation. * Implement the necessary tests. * end-to-end test in tempest can be done using Floating IPs. * Adopt OpenstackSDK and the necessary CLI code. * Adopt Heat to make it possible to create ERSPAN mirrors. References ========== .. _ERSPAN draft from Cisco: https://datatracker.ietf.org/doc/id/draft-foschiano-erspan-02.txt .. _OVS basic configuration: https://docs.openvswitch.org/en/latest/faq/configuration/ .. _OVS protocol header fields: http://www.openvswitch.org//support/dist-docs/ovs-fields.7.txt .. _erspan NEWS update commit: https://github.com/openvswitch/ovs/commit/4ee9f056871872c3758abd291ccba9710b0c0479 .. _OVN commit that introduced mirroring: https://github.com/ovn-org/ovn/commit/323f978cbf4599568fcca9edec8ed53c076d2664 .. _OVN 22.12 nbctl man page: https://www.ovn.org/support/dist-docs-branch-22.12/ovn-nbctl.8.html .. _tap-as-a-service API reference: https://docs.openstack.org/api-ref/network/v2/index.html#tap-as-a-service .. _ovn-nb.ovsschema mirror table: https://github.com/ovn-org/ovn/blob/v22.12.0/ovn-nb.ovsschema#L309-L324 ",,460,0
openstack%2Fopenstack-tempest-skiplist~885032,openstack/openstack-tempest-skiplist,master,Ifb0a83027785246c4baf5e0054b4590383bdaf9a,Skip neutron_tempest_plugin.scenario.test_security_groups.,MERGED,2023-06-01 11:12:07.000000000,2023-06-01 11:50:46.000000000,2023-06-01 11:49:39.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 11:12:07.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/35d092599572c150374c66de620eae786e78cddc', 'message': 'Skip neutron_tempest_plugin.scenario.test_security_groups.\n\nRelated-Bug: #2211604\nChange-Id: Ifb0a83027785246c4baf5e0054b4590383bdaf9a\n'}]",0,885032,35d092599572c150374c66de620eae786e78cddc,9,3,1,30742,,,0,"Skip neutron_tempest_plugin.scenario.test_security_groups.

Related-Bug: #2211604
Change-Id: Ifb0a83027785246c4baf5e0054b4590383bdaf9a
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/32/885032/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,35d092599572c150374c66de620eae786e78cddc,skip_neutron_test, - test: 'neutron_tempest_plugin.scenario.test_security_groups.StatelessSecGroupDualStackDHCPv6StatelessTest.test_default_sec_grp_scenarios' deployment: - 'overcloud' releases: - name: 'wallaby' reason: 'known issue and requires newer version of OVN' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=2211604' installers: - 'osp' jobs: - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-rhos-17.1 - periodic-tripleo-ci-rhel-9-ovb-1ctlr_2comp-featureset020-internal-rhos-17.1 - test: 'neutron_tempest_plugin.scenario.test_security_groups.StatelessSecGroupDualStackSlaacTest.test_default_sec_grp_scenarios' deployment: - 'overcloud' releases: - name: 'wallaby' reason: 'known issue and requires newer version of OVN' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=2211604' installers: - 'osp' jobs: - periodic-tripleo-ci-rhel-9-standalone-full-tempest-scenario-rhos-17.1 - periodic-tripleo-ci-rhel-9-ovb-1ctlr_2comp-featureset020-internal-rhos-17.1 ,,25,0
openstack%2Fos-net-config~883514,openstack/os-net-config,master,I3895a5200bc97a294a8b5774c24972f1f58b40bf,Refactor check_configure_sriov to prevent dublicate adding sriov_pfs,MERGED,2023-05-18 14:08:25.000000000,2023-06-01 11:42:14.000000000,2023-06-01 11:41:01.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 35001}]","[{'number': 1, 'created': '2023-05-18 14:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/aa4faa43bb21634b2f790f66db81f071b0dcd5ce', 'message': 'Fix duplicate adding objects that have sriov_pf members\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThis patch fix this issue and skip adding them twice\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 2, 'created': '2023-05-22 08:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/cf59907ad41b113ea397927d849c7d04dc9f022c', 'message': ""Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of it's tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n""}, {'number': 3, 'created': '2023-05-23 07:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c00a38370a4853b0affd6f5b6af20792a546fd16', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 4, 'created': '2023-05-23 16:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/309850c71361f965128c75052ec14f5fd25dac70', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 5, 'created': '2023-05-23 17:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3952d4729aeb2b99a3581748f9f3411a91184cf5', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 6, 'created': '2023-05-25 06:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e23616b07c39173d12f28616e0ac31ca2e74a61b', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}, {'number': 7, 'created': '2023-05-31 06:09:28.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/7996a2e79e607aed3036bf3a851bde318ff0fef7', 'message': 'Refactor check_configure_sriov to prevent dublicate adding sriov_pfs\n\nCuurent implementation of adding objects is dublicating adding\nobjects that have sriov_pf members.\nThe patch refactors check_configure_sriov to check if the object\nitself or any of its tree members are sriov_pf so adding that object\nwill happen once\n\nCloses-Bug: #2020100\nChange-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf\n'}]",16,883514,7996a2e79e607aed3036bf3a851bde318ff0fef7,36,6,7,25241,,,0,"Refactor check_configure_sriov to prevent dublicate adding sriov_pfs

Cuurent implementation of adding objects is dublicating adding
objects that have sriov_pf members.
The patch refactors check_configure_sriov to check if the object
itself or any of its tree members are sriov_pf so adding that object
will happen once

Closes-Bug: #2020100
Change-Id: I3895a5200bc97a294a8b5774c24972f1f58b40bf
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/14/883514/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,aa4faa43bb21634b2f790f66db81f071b0dcd5ce,," # Skip adding objects that have sriov_pf members # as it's already added before. if hasattr(obj, 'members') and obj.members is not None: if check_configure_sriov(obj): continue",,5,0
openstack%2Fneutron-lib~884916,openstack/neutron-lib,master,I1e61c120570db7d7ba0b86ce36d4a1e2eefdf9fe,api-ref: add api-ref for bindings,MERGED,2023-05-31 17:47:21.000000000,2023-06-01 11:28:43.000000000,2023-06-01 11:27:38.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 17:47:21.000000000', 'files': ['releasenotes/notes/add-vif-type-agilio-ovs-6bee5b2557aca10e.yaml', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/port_bindings.inc', 'api-ref/source/v2/samples/port_bindings/port-binding-create-response.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/port_bindings/port-binding-create-request.json', 'api-ref/source/v2/samples/port_bindings/port-binding-list-response.json', 'releasenotes/notes/add-vnic-virtio-forwarder-portbinding-f7f87dfbef456ed1.yaml', 'api-ref/source/v2/samples/port_bindings/port-binding-activate-response.json', 'releasenotes/notes/portbindings-apidef-3d7893bcb94d7f61.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9f72a4722faf1766ee27693b6f6de6eb66cd72ff', 'message': 'api-ref: add api-ref for bindings\n\nChange-Id: I1e61c120570db7d7ba0b86ce36d4a1e2eefdf9fe\nRelated-Bug: #1580880\n'}]",2,884916,9f72a4722faf1766ee27693b6f6de6eb66cd72ff,8,3,1,8313,,,0,"api-ref: add api-ref for bindings

Change-Id: I1e61c120570db7d7ba0b86ce36d4a1e2eefdf9fe
Related-Bug: #1580880
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/16/884916/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-vif-type-agilio-ovs-6bee5b2557aca10e.yaml', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/port_bindings.inc', 'api-ref/source/v2/samples/port_bindings/port-binding-create-response.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/samples/port_bindings/port-binding-create-request.json', 'api-ref/source/v2/samples/port_bindings/port-binding-list-response.json', 'releasenotes/notes/add-vnic-virtio-forwarder-portbinding-f7f87dfbef456ed1.yaml', 'api-ref/source/v2/samples/port_bindings/port-binding-activate-response.json', 'releasenotes/notes/portbindings-apidef-3d7893bcb94d7f61.yaml']",10,9f72a4722faf1766ee27693b6f6de6eb66cd72ff,bug/1580880, rehomed from ``neutron.extensions.port_bindings`` to ``neutron_lib.api.definitions.port_bindings``., rehomed from ``neutron.extensions.portbindings`` to ``neutron_lib.api.definitions.portbindings``.,197,4
openstack%2Fnova~852085,openstack/nova,master,I21b4cacf43240c336a0a25d977db051f81d201b0,Add helper methods to attach/detach shares,NEW,2022-08-04 07:44:42.000000000,2023-06-01 11:27:28.000000000,,"[{'_account_id': 9708}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-04 07:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e5c76ee10e03241550499fc0fb153221f1fb00f', 'message': '[WIP] Add helper methods to attach/detach shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 2, 'created': '2022-08-05 16:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e69affd409d347432ac80b8080e2f5da2dfb006', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 3, 'created': '2022-08-25 17:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06aed829b32e81186b577ea772ac9b241b714134', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 4, 'created': '2022-08-26 12:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc0521dea3e0a21a3188f83f1421f57e94a52dc2', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 5, 'created': '2022-08-26 18:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcae0635f7118dddc2ffb54616e93904458e240a', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 6, 'created': '2022-08-29 10:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21465062dd7d7fa638e6856a9f4bf581bd128c8f', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 7, 'created': '2022-08-31 14:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/302294ab6c7d6988bef1b60d0de30e1941a9e524', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 8, 'created': '2022-09-06 16:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f91e1b58da0441cf3e209d9c5679f5aafe805bf4', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 9, 'created': '2022-09-07 08:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1952533c290dabd035d047ecd73e1c6e57fe8b1', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 10, 'created': '2022-09-08 09:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2efb1d098857aac30f3607ca19adb7644b555f54', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 11, 'created': '2022-09-14 07:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/969ae281610ac07658fe74ad1260ca224058b24d', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\nCloses-Bug: #1887471\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 12, 'created': '2022-10-04 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/416fc478ed9c39c6ef83f91d05d92ccbaa1d7c70', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 13, 'created': '2023-01-24 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06c2a725c16aa8c7ea259e07ea2bf61624c0c812', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 14, 'created': '2023-01-25 10:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76124864e979426069966b62afef96ea62bf662c', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 15, 'created': '2023-02-02 10:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08c5cc834aa735ce645d05789522103d0b3e55d8', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 16, 'created': '2023-02-02 17:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaf46ed9451bd4bc7a8ed273f7eb4ff53015820d', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 17, 'created': '2023-02-08 12:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67398be4c7e8f210c7759e4d0bd164e59f3c896d', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 18, 'created': '2023-02-08 14:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6923d3550b9f7b9850cfd8e1997f83ec126a264c', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 19, 'created': '2023-02-22 15:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f11c9a8997e2e219a883b4d77a98c3743fb5507b', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 20, 'created': '2023-03-06 10:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cecbb43b584975bf56dc11c41fe7eaa37a68afd', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 21, 'created': '2023-04-11 17:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e38415b2c397eafd02309ece94125800e161bf31', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 22, 'created': '2023-04-18 16:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/316e24753b925a3d57d8d0d1512e446aa6fd5667', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 23, 'created': '2023-04-24 12:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2546db952a36a18ac82146ff48bc520e0eb3c3fb', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 24, 'created': '2023-04-25 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/015a8620b02ca9f7fd6c8c44d48438383f550c24', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 25, 'created': '2023-05-09 14:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77675906a7a250b9c815f7eb3defbae1ddb18aa1', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 26, 'created': '2023-05-22 17:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4be69b945b7982811b7cb55f61b288b65ab36d2', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 27, 'created': '2023-05-23 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ffa0300ced93a62704cfb26e906b03efa59d1c3', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}, {'number': 28, 'created': '2023-06-01 09:37:44.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca392add31e049627f037f4582dfb90172906df3', 'message': 'Add helper methods to attach/detach shares\n\nManila is the OpenStack Shared Filesystems service.\nThese series of patches implement changes required in Nova to allow the shares\nprovided by Manila to be associated with and attached to instances using\nvirtiofs.\n\nImplements: blueprint libvirt-virtiofs-attach-manila-shares\n\nChange-Id: I21b4cacf43240c336a0a25d977db051f81d201b0\n'}]",3,852085,ca392add31e049627f037f4582dfb90172906df3,113,3,28,16207,,,0,"Add helper methods to attach/detach shares

Manila is the OpenStack Shared Filesystems service.
These series of patches implement changes required in Nova to allow the shares
provided by Manila to be associated with and attached to instances using
virtiofs.

Implements: blueprint libvirt-virtiofs-attach-manila-shares

Change-Id: I21b4cacf43240c336a0a25d977db051f81d201b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/852085/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,9e5c76ee10e03241550499fc0fb153221f1fb00f,bp/virtiofs_scaphandre," def _attach_share(self, server, share_id): self.api.post_server_share( server['id'], {""share"": {""shareId"": share_id}}) self.notifier.wait_for_versioned_notifications( 'instance.share_attach.end') def _detach_share(self, server, share_id): self.api.delete_server_share(server['id'], share_id) self.notifier.wait_for_versioned_notifications( 'instance.share_detach.end') ",,11,0
openstack%2Fskyline-console~884855,openstack/skyline-console,master,I02ef90030ef6cf54677f9aa8760c590b2f25c633,feat: update request,MERGED,2023-05-31 10:02:27.000000000,2023-06-01 11:16:30.000000000,2023-06-01 11:15:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-05-31 10:02:27.000000000', 'files': ['src/client/client/request.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/1c78e6356ae60f6cfa9840484391d682644e584c', 'message': 'feat: update request\n\nAdd response handle function in the axios request interceptors\n\nChange-Id: I02ef90030ef6cf54677f9aa8760c590b2f25c633\n'}]",1,884855,1c78e6356ae60f6cfa9840484391d682644e584c,9,2,1,30434,,,0,"feat: update request

Add response handle function in the axios request interceptors

Change-Id: I02ef90030ef6cf54677f9aa8760c590b2f25c633
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/55/884855/1 && git format-patch -1 --stdout FETCH_HEAD,['src/client/client/request.js'],1,1c78e6356ae60f6cfa9840484391d682644e584c,request, handleResponse(response) { return response; } this.handleResponse(response);,,5,0
openstack%2Fneutron-vpnaas~883343,openstack/neutron-vpnaas,master,I00c34fd8c4666d5cece13f562df733e75b4b70af,[alembic] Alembic operations require keywords only arguments,MERGED,2023-05-17 10:14:10.000000000,2023-06-01 11:09:45.000000000,2023-06-01 11:08:43.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-17 10:14:10.000000000', 'files': ['neutron_vpnaas/db/migration/alembic_migrations/versions/newton/contract/b6a2519ab7dc_rename_tenant_to_project.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/68307808483b4c970a2b0c57d1f1aa3b4dcadc78', 'message': '[alembic] Alembic operations require keywords only arguments\n\nSince [1] (release 1.11.0), the Alembic operations ""now enforce\nkeyword-only arguments as passed as keyword and not positionally""\n(from the commit message).\n\nThis change is compatible with the previous versions (as confirmed\nin the CI).\n\n[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4\n\nCloses-Bug: #2019948\nChange-Id: I00c34fd8c4666d5cece13f562df733e75b4b70af\n'}]",0,883343,68307808483b4c970a2b0c57d1f1aa3b4dcadc78,9,4,1,16688,,,0,"[alembic] Alembic operations require keywords only arguments

Since [1] (release 1.11.0), the Alembic operations ""now enforce
keyword-only arguments as passed as keyword and not positionally""
(from the commit message).

This change is compatible with the previous versions (as confirmed
in the CI).

[1]https://github.com/zzzeek/alembic/commit/df75e85489b9ae69fffff2c5ad2594b30bed2fd4

Closes-Bug: #2019948
Change-Id: I00c34fd8c4666d5cece13f562df733e75b4b70af
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/43/883343/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/db/migration/alembic_migrations/versions/newton/contract/b6a2519ab7dc_rename_tenant_to_project.py'],1,68307808483b4c970a2b0c57d1f1aa3b4dcadc78,bug/2019948," op.drop_index(index_name=op.f(old_name), table_name=table_name)"," op.drop_index(op.f(old_name), table_name)",1,1
openstack%2Fneutron-fwaas~884334,openstack/neutron-fwaas,master,I9f0d5efc3d86bdab97a188ea880780b19e2a7e43,Remove Exception Definition in fwaas_v2 Extension,MERGED,2023-05-25 08:18:16.000000000,2023-06-01 11:08:14.000000000,2023-06-01 11:07:08.000000000,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 08:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/513374d3c1b8c273232cb398663ee973bc98f3a4', 'message': 'Remove Exception Definition in fwaas_v2 Extension\n\nThese exception definitions are already in neutral-lib.\nAnd it has already been directly referenced in neutron lib\nin the code.\n\nChange-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43\n'}, {'number': 2, 'created': '2023-05-25 08:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a0b2d620d99ab84c73b68bed362d2ccee66a96a5', 'message': 'Remove Exception Definition in fwaas_v2 Extension\n\nThese exception definitions are already in neutral-lib.\nAnd it has already been directly referenced in neutron lib\nin the code.\n\nChange-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43\n'}, {'number': 3, 'created': '2023-05-26 02:48:05.000000000', 'files': ['neutron_fwaas/extensions/firewall_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/85c296690369b7cbdd166b33194938b53b1ea259', 'message': 'Remove Exception Definition in fwaas_v2 Extension\n\nThese exception definitions are already in neutral-lib.\nAnd it has already been directly referenced in neutron lib\nin the code.\n\nChange-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43\n'}]",3,884334,85c296690369b7cbdd166b33194938b53b1ea259,10,2,3,30380,,,0,"Remove Exception Definition in fwaas_v2 Extension

These exception definitions are already in neutral-lib.
And it has already been directly referenced in neutron lib
in the code.

Change-Id: I9f0d5efc3d86bdab97a188ea880780b19e2a7e43
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/34/884334/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/extensions/firewall_v2.py'],1,513374d3c1b8c273232cb398663ee973bc98f3a4,,,"FirewallGroupNotFound = moves.moved_class( f_exc.FirewallGroupNotFound, 'FirewallGroupNotFound', __name__) FirewallGroupInUse = moves.moved_class( f_exc.FirewallGroupInUse, 'FirewallGroupInUse', __name__) FirewallGroupInPendingState = moves.moved_class( f_exc.FirewallGroupInPendingState, 'FirewallGroupInPendingState', __name__) FirewallGroupPortInvalid = moves.moved_class( f_exc.FirewallGroupPortInvalid, 'FirewallGroupPortInvalid', __name__) FirewallGroupPortInvalidProject = moves.moved_class( f_exc.FirewallGroupPortInvalidProject, 'FirewallGroupPortInvalidProject', __name__) FirewallGroupPortInUse = moves.moved_class( f_exc.FirewallGroupPortInUse, 'FirewallGroupPortInUse', __name__) FirewallPolicyNotFound = moves.moved_class( f_exc.FirewallPolicyNotFound, 'FirewallPolicyNotFound', __name__) FirewallPolicyInUse = moves.moved_class( f_exc.FirewallPolicyInUse, 'FirewallPolicyInUse', __name__) FirewallPolicyConflict = moves.moved_class( f_exc.FirewallPolicyConflict, 'FirewallPolicyConflict', __name__) FirewallRuleSharingConflict = moves.moved_class( f_exc.FirewallRuleSharingConflict, 'FirewallRuleSharingConflict', __name__) FirewallPolicySharingConflict = moves.moved_class( f_exc.FirewallPolicySharingConflict, 'FirewallPolicySharingConflict', __name__) FirewallRuleNotFound = moves.moved_class( f_exc.FirewallRuleNotFound, 'FirewallRuleNotFound', __name__) FirewallRuleInUse = moves.moved_class( f_exc.FirewallRuleInUse, 'FirewallRuleInUse', __name__) FirewallRuleNotAssociatedWithPolicy = moves.moved_class( f_exc.FirewallRuleNotAssociatedWithPolicy, 'FirewallRuleNotAssociatedWithPolicy', __name__) FirewallRuleInvalidProtocol = moves.moved_class( f_exc.FirewallRuleInvalidProtocol, 'FirewallRuleInvalidProtocol', __name__) FirewallRuleInvalidAction = moves.moved_class( f_exc.FirewallRuleInvalidAction, 'FirewallRuleInvalidAction', __name__) FirewallRuleInvalidICMPParameter = moves.moved_class( f_exc.FirewallRuleInvalidICMPParameter, 'FirewallRuleInvalidICMPParameter', __name__) FirewallRuleWithPortWithoutProtocolInvalid = moves.moved_class( f_exc.FirewallRuleWithPortWithoutProtocolInvalid, 'FirewallRuleWithPortWithoutProtocolInvalid', __name__) FirewallRuleInvalidPortValue = moves.moved_class( f_exc.FirewallRuleInvalidPortValue, 'FirewallRuleInvalidPortValue', __name__) FirewallRuleInfoMissing = moves.moved_class( f_exc.FirewallRuleInfoMissing, 'FirewallRuleInfoMissing', __name__) FirewallIpAddressConflict = moves.moved_class( f_exc.FirewallIpAddressConflict, 'FirewallIpAddressConflict', __name__) FirewallInternalDriverError = moves.moved_class( f_exc.FirewallInternalDriverError, 'FirewallInternalDriverError', __name__) FirewallRuleConflict = moves.moved_class( f_exc.FirewallRuleConflict, 'FirewallRuleConflict', __name__) FirewallRuleAlreadyAssociated = moves.moved_class( f_exc.FirewallRuleAlreadyAssociated, 'FirewallRuleAlreadyAssociated', __name__) ",0,60
openstack%2Fneutron-fwaas~884335,openstack/neutron-fwaas,master,I316827259367d78d7dbb57888ad41408d44c43f6,notify the plugin only on status updated,MERGED,2023-05-26 03:11:09.000000000,2023-06-01 11:06:02.000000000,2023-06-01 11:05:00.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 03:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/52ea7a5b88fb20bdaff5bc68e5945357aff6964f', 'message': 'notify the plugin only on status updated\n\nChange-Id: I316827259367d78d7dbb57888ad41408d44c43f6\n'}, {'number': 2, 'created': '2023-05-29 08:16:18.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/72ad4f96dbcc35ed2785af0148cb1d5c3b715ff9', 'message': 'notify the plugin only on status updated\n\nIf the status of the firewall group is consistent with the status\nto be updated, there is no need to notify the plugin to update the\nstatus.\nThe processing of the agent requires a certain amount of time. If\nfirewall group is updated during this period, updating the firewall\ngroup status at this time may cause the firewall group to be in an\nincorrect state.\n\nPartial-Bug: #2021457\n\nChange-Id: I316827259367d78d7dbb57888ad41408d44c43f6\n'}]",2,884335,72ad4f96dbcc35ed2785af0148cb1d5c3b715ff9,12,3,2,30380,,,0,"notify the plugin only on status updated

If the status of the firewall group is consistent with the status
to be updated, there is no need to notify the plugin to update the
status.
The processing of the agent requires a certain amount of time. If
firewall group is updated during this period, updating the firewall
group status at this time may cause the firewall group to be in an
incorrect state.

Partial-Bug: #2021457

Change-Id: I316827259367d78d7dbb57888ad41408d44c43f6
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/35/884335/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py'],1,52ea7a5b88fb20bdaff5bc68e5945357aff6964f,," if firewall_group['status'] != status: # Notify the plugin of firewall group's status. self.fwplugin_rpc.set_firewall_group_status( ctx, firewall_group['id'], status)"," # Notify the plugin of firewall group's status. self.fwplugin_rpc.set_firewall_group_status( ctx, firewall_group['id'], status)",4,4
openstack%2Fkayobe-config-dev~884982,openstack/kayobe-config-dev,master,I5344752635a838b9ceda251c2b2a07c17b03b71b,2023.1 - Sync defaults with Kayobe,MERGED,2023-06-01 08:20:07.000000000,2023-06-01 10:53:36.000000000,2023-06-01 10:53:36.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-06-01 08:20:07.000000000', 'files': ['etc/kayobe/kolla.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/74fb28fc17fc91294941059e05dd400204b009b1', 'message': '2023.1 - Sync defaults with Kayobe\n\nskydive != skyline\n\nChange-Id: I5344752635a838b9ceda251c2b2a07c17b03b71b\n'}]",1,884982,74fb28fc17fc91294941059e05dd400204b009b1,8,4,1,14826,,,0,"2023.1 - Sync defaults with Kayobe

skydive != skyline

Change-Id: I5344752635a838b9ceda251c2b2a07c17b03b71b
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/82/884982/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla.yml'],1,74fb28fc17fc91294941059e05dd400204b009b1,,#kolla_enable_skyline:,#kolla_enable_skydive:,1,1
openstack%2Fneutron-fwaas~866988,openstack/neutron-fwaas,master,Ib7b06d604a0950a104215bcf4386e14b77d20d12,Support standard_attrs for fwaas resources,MERGED,2022-12-08 13:07:50.000000000,2023-06-01 10:45:26.000000000,2023-06-01 10:44:05.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-12-08 13:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a88b9f37548fd3df736065adfe6d281938826f31', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 2, 'created': '2022-12-09 03:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1607b90788454958bacbd220125f21688d7c8057', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 3, 'created': '2022-12-09 03:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/7c2f7a8236a1ddaad729411b9458a01271c3ac70', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 4, 'created': '2022-12-09 04:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5096ef4a6974b90773d519e29fe8188dd2c736a0', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 5, 'created': '2023-03-01 03:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/17530d426cb2f5a5fc87c6c3cd5fe513943e67f5', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 6, 'created': '2023-03-01 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e871b0bd902af6bbed9ef92143ae99e5cae8a5da', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 7, 'created': '2023-03-02 05:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/503d2184ee6bcfb50952a2640a1f17afba96173d', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 8, 'created': '2023-03-02 06:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/13cc08cf08f49d781fe38bb304fb6f681f2bc6d9', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 9, 'created': '2023-03-13 06:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/965b60fba7d948f0b265a1a6a0284690da58cc22', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 10, 'created': '2023-04-27 09:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/989bcdc3b1f92ec7f1ad9d0ebbeabc60c66ba9e0', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nDepends-On: https://review.opendev.org/c/881694\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 11, 'created': '2023-04-28 08:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d7343658bdfdd37c68666d963f5aacd5d69a34b1', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nDepends-On: https://review.opendev.org/c/881694\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 12, 'created': '2023-04-28 08:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/00f78e6f20a0cab2a180f4ad5036c8bdf7199ba1', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nDepends-On: https://review.opendev.org/c/881694\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 13, 'created': '2023-05-24 14:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/196bdda2da9a1702a150b71230e1670780bd1f99', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}, {'number': 14, 'created': '2023-05-24 16:24:14.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/versions/2023.2/expand/6941ce70131e_add_standard_attr_id.py', 'neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/tests/contrib/hooks/api_extensions-v2', 'requirements.txt', 'neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin_v2.py', 'neutron_fwaas/extensions/firewall_v2_stdattrs.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/3b4e1bdda1cd8cd76ecc6ffdfc6c72ea35fa7e18', 'message': 'Support standard_attrs for fwaas resources\n\nNow, this patch will support standard_attrs for\nfirewall_group/firewall_rule/firewall_policy.\n\nCloses-Bug: #1986906\nChange-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12\n'}]",21,866988,3b4e1bdda1cd8cd76ecc6ffdfc6c72ea35fa7e18,52,6,14,28056,,,0,"Support standard_attrs for fwaas resources

Now, this patch will support standard_attrs for
firewall_group/firewall_rule/firewall_policy.

Closes-Bug: #1986906
Change-Id: Ib7b06d604a0950a104215bcf4386e14b77d20d12
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/88/866988/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/firewall/v2/firewall_db_v2.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/zed/expand/6941ce70131e_add_standard_attr_id.py', 'neutron_fwaas/db/migration/alembic_migrations/versions/EXPAND_HEAD']",3,a88b9f37548fd3df736065adfe6d281938826f31,bug/1986906,6941ce70131e,f24e0d5e5bff,98,16
openstack%2Fcharm-keystone-k8s~882388,openstack/charm-keystone-k8s,main,If55fb3c0cff629698601742f92f003b37bf8f325,Update readme,ABANDONED,2023-05-05 08:29:35.000000000,2023-06-01 10:40:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-05 08:29:35.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/53743f089165c2cffe9135bd831cf0754da77681', 'message': 'Update readme\n\nUpdate readme for the charm.\nAdd docs to the metadata.\n\nChange-Id: If55fb3c0cff629698601742f92f003b37bf8f325\n'}]",0,882388,53743f089165c2cffe9135bd831cf0754da77681,3,1,1,10366,,,0,"Update readme

Update readme for the charm.
Add docs to the metadata.

Change-Id: If55fb3c0cff629698601742f92f003b37bf8f325
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/88/882388/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,53743f089165c2cffe9135bd831cf0754da77681,,"The keystone-k8s charm deploys Keystone, the core OpenStack service that provides API client authentication, service discovery, and distributed multi-tenant authorisation. The charm works alongside other Juju-deployed OpenStack services. The charm's documentation is viewed on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][charm-bugs].[charm-docs]: https://charmhub.io/keystone-k8s [charm-bugs]: https://bugs.launchpad.net/charm-keystone-k8s/+filebug","## Description keystone-k8s is an operator to manage the Keystone identity service on a Kubernetes based environment. ## Usage ### Deployment keystone-k8s is deployed using below command: juju deploy keystone-k8s keystone --trust Now connect the keystone operator to an existing database. juju relate mysql:database keystone:database ### Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. ### Actions This section covers Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. To display action descriptions run `juju actions keystone`. If the charm is not deployed then see file `actions.yaml`. ## Relations The charm supports the following relations. They are primarily of use to developers: * `identity-credentials`: Used by charms to obtain Keystone credentials without creating a service catalogue entry. Set 'username' only on the relation and Keystone will set defaults and return authentication details. Possible relation settings: * `username`: Username to be created. * `project`: Project (tenant) name to be created. Defaults to service's project. * `domain`: Keystone v3 domain the user will be created in. Defaults to the Default domain. * `identity-service`: Used by API endpoints to request an entry in the Keystone service catalogue and the endpoint template catalogue. When a relation is established Keystone receives the following data from the requesting API endpoint: * `service_name` * `region` * `public_url` * `admin_url` * `internal_url` Keystone verifies that the requested service is supported (the list of supported services should remain updated). The following will occur for a supported service: 1. an entry in the service catalogue is created 1. an endpoint template is created 1. an admin token is generated. The API endpoint receives the token and is informed of the ports that Keystone is listening on. ## OCI Images The charm by default uses `docker.io/kolla/ubuntu-binary-keystone:xena` image. ## Contributing Please see the [Juju SDK docs](https://juju.is/docs/sdk) for guidelines on enhancements to this charm following best practice guidelines, and [CONTRIBUTING.md](contributors-guide) for developer guidance. ## Bugs Please report bugs on [Launchpad][lp-bugs-charm-keystone-k8s].[contributors-guide]: https://opendev.org/openstack/charm-keystone-k8s/src/branch/main/CONTRIBUTING.md [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [lp-bugs-charm-keystone-k8s]: https://bugs.launchpad.net/charm-keystone-k8s/+filebug",9,86
openstack%2Fironic~881783,openstack/ironic,master,I651599b84e6b8901647960b719626489b000b65f,Add to Redfish hardware inventory collection,MERGED,2023-05-03 16:32:43.000000000,2023-06-01 10:26:38.000000000,2023-06-01 10:25:14.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-03 16:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/924bf727bb378f84d998f82d79ea7e85524ae93b', 'message': 'Add to Redfish hardware inventory collection\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 2, 'created': '2023-05-11 11:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0389525fb5762adceb6a1b56f7ac7aefb199dac5', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 3, 'created': '2023-05-11 12:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd187987bfc1aae7745721dcfcbae9bfe88e2ac7', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 4, 'created': '2023-05-25 15:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d52b9f41be38b817df191aaa625a119114adbca3', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}, {'number': 5, 'created': '2023-05-30 09:58:47.000000000', 'files': ['ironic/tests/unit/drivers/modules/redfish/test_inspect.py', 'releasenotes/notes/add-redfish-hardware-inventory-830ebc0b2e0f50c2.yaml', 'ironic/drivers/modules/redfish/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3d7ba88d2f6cba917f72c10a11d8db19c32dfd6', 'message': 'Add to Redfish hardware inventory collection\n\nAdd to the information collected by Redfish hardware inspection from\nsushy, and store it in the documented hardware inventory format\n\nChange-Id: I651599b84e6b8901647960b719626489b000b65f\n'}]",36,881783,b3d7ba88d2f6cba917f72c10a11d8db19c32dfd6,33,3,5,35929,,,0,"Add to Redfish hardware inventory collection

Add to the information collected by Redfish hardware inspection from
sushy, and store it in the documented hardware inventory format

Change-Id: I651599b84e6b8901647960b719626489b000b65f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/881783/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/redfish/inspect.py'],1,924bf727bb378f84d998f82d79ea7e85524ae93b,redfish-inventory," cpus, arch = system.processors.summary if cpus: inspected_properties['cpus'] = cpus if system.processors: proc_identities = system.processors.members_identities proc_models = [] proc_frequencies = [] for procID in proc_identities: proc = system.processors.get_member(procID) if proc.model != None: proc_models.append(proc.model) if proc.max_speed_mhz != None: proc_frequencies.append(proc.max_speed_mhz) if proc_models: inspected_properties['cpu_model_name'] = proc_models if proc_frequencies: inspected_properties['cpu_frequencies'] = proc_frequencies if system.ethernet_interfaces: ethernet_interfaces = list(system.ethernet_interfaces.summary.keys()) inspected_properties['interfaces'] = {'mac_addresses': ethernet_interfaces} if system.name: inspected_properties['product_name'] = system.name if system.serial_number: inspected_properties['serial_number'] = system.serial_number if system.manufacturer: inspected_properties['manufacturer'] = system.manufacturer inspect_utils.store_inspection_data(task.node, inspected_properties, None, task.context)", arch = system.processors.summary[1],36,1
openstack%2Fnetworking-odl~884359,openstack/networking-odl,stable/yoga,Ie795988c0a3528397e7b76aee2cafa440625bd4e,Fix tox4 issues and define project upper constraints,MERGED,2023-05-25 11:16:52.000000000,2023-06-01 10:13:51.000000000,2023-06-01 10:11:16.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 11:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/25e634cb352dc77bf92afdf167ad14fa5a543041', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 2, 'created': '2023-05-25 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/bef2a97f7092e9fefb5737d99d4130c94161d16e', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 3, 'created': '2023-05-25 13:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/37be5c96fc16bc5032252176725f531714f6dd06', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 4, 'created': '2023-05-25 14:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/042ca4ae65930ddcd4ccdbac796b86ac469d9458', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 5, 'created': '2023-05-25 14:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fea1bb610bd1afc399050aaca6b902cfc595a8dc', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 6, 'created': '2023-05-25 16:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/79e2a74fd69a33abe136d3893571945275571feb', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 7, 'created': '2023-05-25 17:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/3c5cea66c067a5a02ac7854e46f2d53d11a5e5e1', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 8, 'created': '2023-05-31 08:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/f6d43344940ab4c6745061f6fd5004a15bed7c79', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 9, 'created': '2023-05-31 15:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/563b3cfe82342d791e2f97f018a7067a2041bbcd', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 10, 'created': '2023-05-31 15:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5658b064c4ecdfd0baef5c39505f657b7326bcc2', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}, {'number': 11, 'created': '2023-05-31 17:07:54.000000000', 'files': ['.zuul.d/project.yaml', 'lower-constraints.txt', 'doc/requirements.txt', '.zuul.d/jobs.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e2505909cf0c49f7df0ee5ae8ccc8546f7a890b7', 'message': 'Fix tox4 issues and define project upper constraints\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nThis patch also adds the needed versions for the development environment\nprojects, specifying the maximum version supported in this release.\n\nThis patch also removes the lower-constraints job, and sets the\nrequired-projects for py39 job to point to stable/yoga branches.\n\nThe grenade, functional and tempest jobs (broken for a long time), are\nalso removed from the CI queues and their definitions.\n\nRelated-Bug: #1999558\nChange-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e\n'}]",0,884359,e2505909cf0c49f7df0ee5ae8ccc8546f7a890b7,24,3,11,16688,,,0,"Fix tox4 issues and define project upper constraints

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

This patch also adds the needed versions for the development environment
projects, specifying the maximum version supported in this release.

This patch also removes the lower-constraints job, and sets the
required-projects for py39 job to point to stable/yoga branches.

The grenade, functional and tempest jobs (broken for a long time), are
also removed from the CI queues and their definitions.

Related-Bug: #1999558
Change-Id: Ie795988c0a3528397e7b76aee2cafa440625bd4e
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/59/884359/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini', 'upper-constraints.txt']",3,25e634cb352dc77bf92afdf167ad14fa5a543041,bug/1999558,networking_l2gw===18.0.0 networking_bgpvpn==16.0.0 networking_sfc==14.0.0 ceilometer==18.0.0 neutron==20.3.0 ,,21,5
openstack%2Fcharm-keystone-saml-mellon~866389,openstack/charm-keystone-saml-mellon,stable/ussuri,If02abdae19b5fea685a10032354f6ec3936a9058,Use vault 1.6/edge channel.,MERGED,2022-12-01 19:43:37.000000000,2023-06-01 10:11:07.000000000,2023-06-01 10:11:07.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-01 19:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/3a84dc6dd696828d81763881b67a4bf776f6133f', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 2, 'created': '2023-02-23 14:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/d64a912c252f8958f646c8f964c4cbf55d299e6a', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 3, 'created': '2023-02-28 14:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/13027f5a60c6ebc7ac2b01486d5955cd6f8e9874', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 4, 'created': '2023-02-28 17:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/5a438ac185b159334d8439281eede587b8f60743', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 5, 'created': '2023-03-03 14:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/4244333a1998611071bae3892dd6db5eb256e6d6', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}, {'number': 6, 'created': '2023-03-03 14:41:35.000000000', 'files': ['src/tests/bundles/bionic-ussuri-ha.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/7d175641d9670cb98dfaadc51796f726b529af45', 'message': ""Use vault 1.6/edge channel.\n\nThe 1.7/edge channel doesn't support Bionic, so this change updates the\nbionic bundles to deploy using the 1.6/edge channel which is the last\ntrack that has support for Ubuntu 18.04.\n\nChange-Id: If02abdae19b5fea685a10032354f6ec3936a9058\n""}]",9,866389,7d175641d9670cb98dfaadc51796f726b529af45,35,5,6,2424,,,0,"Use vault 1.6/edge channel.

The 1.7/edge channel doesn't support Bionic, so this change updates the
bionic bundles to deploy using the 1.6/edge channel which is the last
track that has support for Ubuntu 18.04.

Change-Id: If02abdae19b5fea685a10032354f6ec3936a9058
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/89/866389/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/bionic-ussuri-ha.yaml'],1,3a84dc6dd696828d81763881b67a4bf776f6133f,update-bundle-vault, channel: 1.6/edge, channel: 1.7/edge,1,1
openstack%2Fcharm-keystone-saml-mellon~859587,openstack/charm-keystone-saml-mellon,stable/ussuri,I5defac8c5f5f8b37ae539c3d275b60a5e0a60498,Pin build.lock for all layers to the commit hash,MERGED,2022-09-28 13:20:34.000000000,2023-06-01 10:11:06.000000000,2023-06-01 10:11:06.000000000,"[{'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 13:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/5a811cf8be0438a0eb3cd04f84730958946b89ba', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 2, 'created': '2023-02-23 14:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/d0c3a8dc98c761d818f23ff021f7b1bc7c4f1320', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 3, 'created': '2023-02-28 17:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/a75a3daf39b62ecdfa9fd83cfd48fc0d05fa1159', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 4, 'created': '2023-03-03 14:40:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/f48ee54704ff5158885310096d655f9bc98c035b', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}, {'number': 5, 'created': '2023-03-03 14:41:29.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/0392346cb60c3d21fb192c14d8c1b194aff76bb8', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498\n'}]",6,859587,0392346cb60c3d21fb192c14d8c1b194aff76bb8,26,4,5,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: I5defac8c5f5f8b37ae539c3d275b60a5e0a60498
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/87/859587/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,5a811cf8be0438a0eb3cd04f84730958946b89ba,ussuri-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""be0926efafaa9ffe1df84f2fbd6b8a5d3d58b270"", ""branch"": ""b7c066abf22edec30af17c3da4612cd398b1306a"", ""branch"": ""4e2f90052b3c02031d09f10900c9e9cb22565dee"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",8,8
openstack%2Fcharm-keystone-saml-mellon~870348,openstack/charm-keystone-saml-mellon,stable/ussuri,I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933,Pin tox to < 4.0.0,MERGED,2023-01-13 20:18:52.000000000,2023-06-01 10:10:01.000000000,2023-06-01 10:10:01.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-13 20:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/892aa05d89f1e0a339ca7188d7da3e3c93cfeaf4', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}, {'number': 2, 'created': '2023-02-28 17:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/b421558c8354ed743b07e485a0feb3ca8836b170', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nAdded libxml2-dev to the list of dependencies in src/layer.yaml, this\nexplicit dependency is needed only when deploying on Bionic.\n\nRelated-Bug: #2002788\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}, {'number': 3, 'created': '2023-03-03 14:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/421845c60cfd1df14acb295c2144daf1141c1bb3', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nAdded libxml2-dev to the list of dependencies in src/layer.yaml, this\nexplicit dependency is needed only when deploying on Bionic.\n\nRelated-Bug: #2002788\nFixes-Bug: #1988092\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}, {'number': 4, 'created': '2023-03-03 14:41:20.000000000', 'files': ['tox.ini', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/832b46a29b59102b1defb962ae31ba6e380042d2', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nAdded libxml2-dev to the list of dependencies in src/layer.yaml, this\nexplicit dependency is needed only when deploying on Bionic.\n\nRelated-Bug: #2002788\nCloses-Bug: #1988092\nChange-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933\n""}]",11,870348,832b46a29b59102b1defb962ae31ba6e380042d2,31,5,4,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Added libxml2-dev to the list of dependencies in src/layer.yaml, this
explicit dependency is needed only when deploying on Bionic.

Related-Bug: #2002788
Closes-Bug: #1988092
Change-Id: I4a5a4f3cafebb986c64e54d2a3a0bd048adf0933
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/48/870348/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,892aa05d89f1e0a339ca7188d7da3e3c93cfeaf4,pin-tox-ussuri, tox < 4.0.0,,1,0
openstack%2Ftripleo-common~884780,openstack/tripleo-common,stable/wallaby,Idfdfe249c53b439cc5fc0d7620eeac92c93edbe5,Ensure non-empty DIB_BOOTLOADER_DEFAULT_CMDLINE,MERGED,2023-05-30 20:14:01.000000000,2023-06-01 10:09:12.000000000,2023-06-01 10:07:31.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 35960}]","[{'number': 1, 'created': '2023-05-30 20:14:01.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa3e16022cf9a19d49f21e5cadfc1dfc26b9f366', 'message': 'Ensure non-empty DIB_BOOTLOADER_DEFAULT_CMDLINE\n\nHaving an empty DIB_BOOTLOADER_DEFAULT_CMDLINE results in the\nbootloader element adding back defaults which we explicitly do not\nwant (nomodeset, etc)\n\nThis change adds back one valid argument which makes no changes to\nkernel behaviour. Merging this will likely be much quicker than\nmerging the diskimage-builder fix.\n\nRelated: https://review.opendev.org/c/openstack/diskimage-builder/+/884644\nChange-Id: Idfdfe249c53b439cc5fc0d7620eeac92c93edbe5\n'}]",3,884780,aa3e16022cf9a19d49f21e5cadfc1dfc26b9f366,13,5,1,4571,,,0,"Ensure non-empty DIB_BOOTLOADER_DEFAULT_CMDLINE

Having an empty DIB_BOOTLOADER_DEFAULT_CMDLINE results in the
bootloader element adding back defaults which we explicitly do not
want (nomodeset, etc)

This change adds back one valid argument which makes no changes to
kernel behaviour. Merging this will likely be much quicker than
merging the diskimage-builder fix.

Related: https://review.opendev.org/c/openstack/diskimage-builder/+/884644
Change-Id: Idfdfe249c53b439cc5fc0d7620eeac92c93edbe5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/884780/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-hardened-images-python3-rt-kernel.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml']",5,aa3e16022cf9a19d49f21e5cadfc1dfc26b9f366,rhbz/2179366, # TODO remove memtest=0 when this change is available: # https://review.opendev.org/c/openstack/diskimage-builder/+/884644 DIB_BOOTLOADER_DEFAULT_CMDLINE: 'memtest=0', DIB_BOOTLOADER_DEFAULT_CMDLINE: '',15,5
openstack%2Fkolla-ansible~847151,openstack/kolla-ansible,stable/yoga,I02817963c691784c126c79e330981e0cc771bc88,cinder: start using active-active for rbd,ABANDONED,2022-06-22 13:02:07.000000000,2023-06-01 10:03:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-06-22 13:02:07.000000000', 'files': ['releasenotes/notes/bug-1904062-ace44b3ceeb676d4.yaml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/172a0a36c723ee09adc5338ce77994e3a6aa52bd', 'message': 'cinder: start using active-active for rbd\n\nThis patch starts using RBD active-active which is Cinder team recommended approach for grouping volume hosts that share the same backend conigurations to work in HA Active-Active mode.\n\nChange-Id: I02817963c691784c126c79e330981e0cc771bc88\nCloses-Bug: #1904062\n'}]",2,847151,172a0a36c723ee09adc5338ce77994e3a6aa52bd,10,2,1,30491,,,0,"cinder: start using active-active for rbd

This patch starts using RBD active-active which is Cinder team recommended approach for grouping volume hosts that share the same backend conigurations to work in HA Active-Active mode.

Change-Id: I02817963c691784c126c79e330981e0cc771bc88
Closes-Bug: #1904062
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/51/847151/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1904062-ace44b3ceeb676d4.yaml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'tests/templates/globals-default.j2']",4,172a0a36c723ee09adc5338ce77994e3a6aa52bd,cinder-active-active-stable/yoga,"enable_redis: ""yes""",,30,0
openstack%2Fproject-config~478936,openstack/project-config,master,I3805e24030bd212442c9abe339e7dc91fe329070,Remove codenames from descriptions,ABANDONED,2017-06-29 13:42:24.000000000,2023-06-01 09:50:23.000000000,,"[{'_account_id': 6547}, {'_account_id': 13252}]","[{'number': 1, 'created': '2017-06-29 13:42:24.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3dd96afa3af6d72b004fc527200658b85f4c8821', 'message': 'Remove codenames from descriptions\n\nExplaining that nova is ""OpenStack Compute (Nova)"" is a bit weird.\nRemove the duplicate references to the codename in the thing that is\ndescribing the codename.\n\nChange-Id: I3805e24030bd212442c9abe339e7dc91fe329070\n'}]",2,478936,3dd96afa3af6d72b004fc527200658b85f4c8821,9,2,1,2,,,0,"Remove codenames from descriptions

Explaining that nova is ""OpenStack Compute (Nova)"" is a bit weird.
Remove the duplicate references to the codename in the thing that is
describing the codename.

Change-Id: I3805e24030bd212442c9abe339e7dc91fe329070
",git fetch https://review.opendev.org/openstack/project-config refs/changes/36/478936/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,3dd96afa3af6d72b004fc527200658b85f4c8821,, description: OpenStack Telemetry Alarming description: OpenStack Telemetry description: OpenStack Telemetry Middleware description: OpenStack Block Storage description: OpenStack Block Storage Specifications description: CloudKitty design specification description: OpenStack DNS As A Service description: OpenStack DNS As A Service Horizon Plugin description: OpenStack DNS As A Service Specifications description: OpenStack DNS As A Service Functional Tests description: OpenStack Image Management description: OpenStack Image Management Specifications description: Artifact Repository description: Artifact Repository Specifications description: OpenStack Orchestration description: OpenStack Orchestration Agents description: OpenStack Orchestration CFN Tools description: OpenStack Orchestration Specifications description: OpenStack Orchestration Templates description: OpenStack Dashboard description: Mellanox Extension for the OpenStack Dashboard description: OpenStack Baremetal Specifications description: OpenStack Identity description: OpenStack Identity Specifications description: OpenStack Identity Middleware description: Global Load Balancing Service Specifications description: Specs repo for OpenStack Shared File Systems project. description: OpenStack Workflow Specifications description: Baremetal Compute Specifications description: OpenStack Networking description: OpenStack Networking Specifications description: OpenStack Compute description: OpenStack Compute Specifications description: OpenStack Telemetry Client description: OpenStack Block Storage Client description: Message Broker Service Client description: OpenStack DNS As A Service Client description: OpenStack Image Management Client description: OpenStack Orchestration Client description: OpenStack Identity Client description: OpenStack Networking Client description: OpenStack Compute Client description: OpenStack Search Client description: OpenStack Object Storage Client description: NFV Orchestration Client description: Multiregion Networking Client description: OpenStack Database as a Service Client description: OpenStack Messaging Client description: Container Management Service Client description: OpenStack Search description: OpenStack Search Specifications description: OpenStack Object Storage description: OpenStack Object Storage Specifications description: Horizon UI for NFV Orchestration description: NFV Orchestration Specifications description: OpenStack Testing of an existing cloud description: OpenStack Database As A Service description: OpenStack Database As A Service Integration description: OpenStack Messaging description: OpenStack Messaging Specifications, description: OpenStack Telemetry (Ceilometer) Alarming description: OpenStack Telemetry (Ceilometer) description: OpenStack Telemetry (Ceilometer) Middleware description: OpenStack Block Storage (Cinder) description: OpenStack Block Storage (Cinder) Specifications description: CloudKitty (Rating) design specification description: OpenStack DNS As A Service (Designate) description: OpenStack DNS As A Service (Designate) Horizon Plugin description: OpenStack DNS As A Service (Designate) Specifications description: OpenStack DNS As A Service (Designate) Functional Tests description: OpenStack Image Management (Glance) description: OpenStack Image Management (Glance) Specifications description: Artifact Repository (Glare) description: Artifact Repository (Glare) Specifications description: OpenStack Orchestration (Heat) description: OpenStack Orchestration (Heat) Agents description: OpenStack Orchestration (Heat) CFN Tools description: OpenStack Orchestration (Heat) Specifications description: OpenStack Orchestration (Heat) Templates description: OpenStack Dashboard (Horizon) description: Mellanox Extension for the OpenStack Dashboard (Horizon) description: OpenStack Baremetal (Ironic) Specifications description: OpenStack Identity (Keystone) description: OpenStack Identity (Keystone) Specifications description: OpenStack Identity (Keystone) Middleware description: Global Load Balancing Service (Kosmos) Specifications description: Specs repo for Manila (OpenStack Shared File Systems) project. description: OpenStack Workflow (Mistral) Specifications description: Baremetal Compute (Mogan) Specifications description: OpenStack Networking (Neutron) description: OpenStack Networking (Neutron) Specifications description: OpenStack Compute (Nova) description: OpenStack Compute (Nova) Specifications description: OpenStack Telemetry (Ceilometer) Client description: OpenStack Block Storage (Cinder) Client description: Message Broker Service (Cue) Client description: OpenStack DNS As A Service (Designate) Client description: OpenStack Image Management (Glance) Client description: OpenStack Orchestration (Heat) Client description: OpenStack Identity (Keystone) Client description: OpenStack Networking (Neutron) Client description: OpenStack Compute (Nova) Client description: OpenStack Search (Searchlight) Client description: OpenStack Storage (Swift) Client description: NFV Orchestration (Tacker) Client description: Multiregion Networking (Tricircle) Client description: OpenStack Database as a Service (Trove) Client description: OpenStack Messaging (Zaqar) Client description: Container Management Service (Zun) Client description: OpenStack Search (Searchlight) description: OpenStack Search (Searchlight) Specifications description: OpenStack Storage (Swift) description: OpenStack Storage (Swift) Specifications description: Horizon UI for NFV Orchestration (Tacker) description: NFV Orchestration (Tacker) Specifications description: OpenStack Testing (Tempest) of an existing cloud description: OpenStack Database As A Service (Trove) description: OpenStack Database As A Service (Trove) Integration description: OpenStack Messaging (Zaqar) description: OpenStack Messaging (Zaqar) Specifications,60,60
openstack%2Fproject-config~873735,openstack/project-config,master,Ibada405e0c1183559f428c749d0e54d0a45a2223,Stop caching infrequently-used CirrOS images,MERGED,2023-02-14 17:28:06.000000000,2023-06-01 09:35:54.000000000,2023-06-01 09:29:26.000000000,"[{'_account_id': 4146}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 13861}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-02-14 17:28:06.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-images'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5262094f9e595eea9188cee005b98fa736a4dd6d', 'message': ""Stop caching infrequently-used CirrOS images\n\nAccording to Ic8b3e790fe332cf68bad7aaa3d5f85229600380b review\ncomments, OpenSearch indexing indicates jobs aren't often using\nCirrOS 0.3.4, 0.3.5, 0.4.0 or 0.5.1 images any longer. If jobs\noccasionally used them and have to retrieve them from the Internet\nthen that's fine, we really only need to cache images which are used\nfrequently. Remove the rest in order to shrink our node images\nsomewhat.\n\nChange-Id: Ibada405e0c1183559f428c749d0e54d0a45a2223\n""}]",2,873735,5262094f9e595eea9188cee005b98fa736a4dd6d,12,7,1,5263,,,0,"Stop caching infrequently-used CirrOS images

According to Ic8b3e790fe332cf68bad7aaa3d5f85229600380b review
comments, OpenSearch indexing indicates jobs aren't often using
CirrOS 0.3.4, 0.3.5, 0.4.0 or 0.5.1 images any longer. If jobs
occasionally used them and have to retrieve them from the Internet
then that's fine, we really only need to cache images which are used
frequently. Remove the rest in order to shrink our node images
somewhat.

Change-Id: Ibada405e0c1183559f428c749d0e54d0a45a2223
",git fetch https://review.opendev.org/openstack/project-config refs/changes/35/873735/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-images'],1,5262094f9e595eea9188cee005b98fa736a4dd6d,cache-cirros0.6.1,,cirros-0.3.4-x86_64-disk.img file /opt/cache/files/cirros-0.3.4-x86_64-disk.img https://download.cirros-cloud.net/0.3.4/cirros-0.3.4-x86_64-disk.img cirros-0.3.5-x86_64-disk.img file /opt/cache/files/cirros-0.3.5-x86_64-disk.img https://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img cirros-0.4.0-x86_64-disk.img file /opt/cache/files/cirros-0.4.0-x86_64-disk.img https://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img cirros-0.4.0-x86_64-uec.tar.gz file /opt/cache/files/cirros-0.4.0-x86_64-uec.tar.gz https://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-uec.tar.gz cirros-0.5.1-x86_64-disk.img file /opt/cache/files/cirros-0.5.1-x86_64-disk.img https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-disk.img cirros-0.5.1-x86_64-uec.tar.gz file /opt/cache/files/cirros-0.5.1-x86_64-uec.tar.gz https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-x86_64-uec.tar.gz cirros-0.5.1-aarch64-disk.img file /opt/cache/files/cirros-0.5.1-aarch64-disk.img https://download.cirros-cloud.net/0.5.1/cirros-0.5.1-aarch64-disk.img,0,7
openstack%2Fcharm-ceph-radosgw~884797,openstack/charm-ceph-radosgw,master,I940f9b2f424a3d98936b5f185bf8f87b71091317,Enable rgw trust forwarded https when https proxy,MERGED,2023-05-31 03:01:50.000000000,2023-06-01 09:32:05.000000000,2023-06-01 09:32:05.000000000,"[{'_account_id': 8108}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 03:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/fa21e1542f1e506c5ad4c37414552e752a23bdf4', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: https://bugs.launchpad.net/charm-ceph-radosgw/+bug/2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}, {'number': 2, 'created': '2023-05-31 03:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/6b947952ea2cd05f493ac46e000fa694fa4240f3', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: https://bugs.launchpad.net/charm-ceph-radosgw/+bug/2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}, {'number': 3, 'created': '2023-05-31 03:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b0a20311e78e132e950aa743625e86453287609d', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: https://bugs.launchpad.net/charm-ceph-radosgw/+bug/2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}, {'number': 4, 'created': '2023-05-31 04:47:43.000000000', 'files': ['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/541ceec4018e311cef1517a62eefa28cd53bc162', 'message': 'Enable rgw trust forwarded https when https proxy\n\nThis option is required for server-side encryption to be allowed\nif radosgw is behind a reverse proxy,\nsuch as here when certificates are configured and apache2 is running.\n\nref. https://docs.ceph.com/en/latest/radosgw/encryption/\n\nIt is safe to always enable when https is configured in the charm,\nbecause it will be securely behind the reverse proxy in the unit.\nThis option must not be enabled when https is not configured in the charm,\nbecause this would allow clients to spoof headers.\n\nCloses-Bug: #2021560\nChange-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317\n'}]",9,884797,541ceec4018e311cef1517a62eefa28cd53bc162,20,4,4,34352,,,0,"Enable rgw trust forwarded https when https proxy

This option is required for server-side encryption to be allowed
if radosgw is behind a reverse proxy,
such as here when certificates are configured and apache2 is running.

ref. https://docs.ceph.com/en/latest/radosgw/encryption/

It is safe to always enable when https is configured in the charm,
because it will be securely behind the reverse proxy in the unit.
This option must not be enabled when https is not configured in the charm,
because this would allow clients to spoof headers.

Closes-Bug: #2021560
Change-Id: I940f9b2f424a3d98936b5f185bf8f87b71091317
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/97/884797/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_ceph_radosgw_context.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf']",3,fa21e1542f1e506c5ad4c37414552e752a23bdf4,fix_https_proxy_config,{% if behind_https_proxy -%} rgw trust forwarded https = true {% endif %},,118,11
openstack%2Fproject-config~884563,openstack/project-config,master,Id7290012f88881aec0bc56ff1a3ae879b309d37e,Stop testing github hosted projects in openstack tenant,MERGED,2023-05-27 07:54:45.000000000,2023-06-01 09:23:50.000000000,2023-06-01 09:23:50.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 07:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/19a52011a639769deb8bcbaceb4ae05da1ad8a20', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 2, 'created': '2023-05-27 07:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/54f5da6be0458ee1f40c01665d07e01cd48073e0', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 3, 'created': '2023-05-27 07:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/accdbe5cee3c0e76b746705cdb1448e7cfa1cbd5', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 4, 'created': '2023-05-27 08:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e1acf1311c53f616f6d70688f0bc8d552c298a86', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 5, 'created': '2023-05-27 08:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/69800fce72f9bcfa834f6fd030395b4067e7ad80', 'message': 'Fix zuul config errors for github hosted projects\n\nThis should technically not be necessary, but zuul complains anyway, so\nclean these up.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}, {'number': 6, 'created': '2023-05-31 08:07:43.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bdaba25653be6af71f1fd4dd49e1346e1c6536ba', 'message': 'Stop testing github hosted projects in openstack tenant\n\nZuul currently has some issue when dealing with the merge mode for\nprojects hosted on github. Since due to the resulting zuul config\nerror no jobs are executed anyway, clean up the config to at least\nget rid of the errors.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e\n'}]",7,884563,bdaba25653be6af71f1fd4dd49e1346e1c6536ba,28,5,6,13252,,,0,"Stop testing github hosted projects in openstack tenant

Zuul currently has some issue when dealing with the merge mode for
projects hosted on github. Since due to the resulting zuul config
error no jobs are executed anyway, clean up the config to at least
get rid of the errors.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Id7290012f88881aec0bc56ff1a3ae879b309d37e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/884563/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,19a52011a639769deb8bcbaceb4ae05da1ad8a20,zuul-config-errors," # Note: Specifying the merge-mode shouldn't be necessary since we # do not gate this project, but zuul checks it anyway and generates # a config error on mismatch merge-mode: rebase # Note: Specifying the merge-mode shouldn't be necessary since we # do not gate this project, but zuul checks it anyway and generates # a config error on mismatch merge-mode: rebase",,8,0
openstack%2Fproject-config~711474,openstack/project-config,master,I2239a70691833354262b17951db6133a8e258998,Run openstacksdk functional jobs on ansible 2.8 and 2.9,ABANDONED,2020-03-05 14:58:38.000000000,2023-06-01 09:18:18.000000000,,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 14:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad5f937acf29d5412a29212cc0ff324cb25fc282', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}, {'number': 2, 'created': '2020-03-05 15:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/94d9029b4d7c91c7e783d7234a197ffa9243f604', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}, {'number': 3, 'created': '2020-03-19 13:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/89b70efb4cc23b1c7ad269358187a27ab40f5dd7', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}, {'number': 4, 'created': '2020-03-19 14:00:45.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bced1f9c0fe181c8974e0fce29ef4dbac3ae7727', 'message': ""Run openstacksdk functional jobs on ansible 2.8 and 2.9\n\nWe're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and\n2.9 which are relevant.\n\nDepends-On: https://review.opendev.org/711471\nChange-Id: I2239a70691833354262b17951db6133a8e258998\n""}]",4,711474,bced1f9c0fe181c8974e0fce29ef4dbac3ae7727,24,5,4,2,,,0,"Run openstacksdk functional jobs on ansible 2.8 and 2.9

We're only running on 2.5 and 2.6 which are EOL. Run on 2.8 and
2.9 which are relevant.

Depends-On: https://review.opendev.org/711471
Change-Id: I2239a70691833354262b17951db6133a8e258998
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/711474/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ad5f937acf29d5412a29212cc0ff324cb25fc282,, - openstacksdk-ansible-stable-2.8-functional-devstack: branches: stable-2.8 - shade-ansible-stable-2.9-functional-devstack: branches: stable-2.9, - openstacksdk-ansible-stable-2.6-functional-devstack: branches: stable-2.6 - shade-ansible-stable-2.5-functional-devstack: branches: stable-2.5,4,4
openstack%2Fbarbican-ui~882256,openstack/barbican-ui,master,Icf9db2c01e98ce79f60a60e4ab62e783e366eaf3,setup.cfg: Replace dashes with underscores,ABANDONED,2023-05-05 06:10:02.000000000,2023-06-01 08:44:48.000000000,,[{'_account_id': 29313}],"[{'number': 1, 'created': '2023-05-05 06:10:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican-ui/commit/2dd80175bb3e9d44252249a2a5b4c1de8a88efad', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Icf9db2c01e98ce79f60a60e4ab62e783e366eaf3\n""}]",2,882256,2dd80175bb3e9d44252249a2a5b4c1de8a88efad,4,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Icf9db2c01e98ce79f60a60e4ab62e783e366eaf3
",git fetch https://review.opendev.org/openstack/barbican-ui refs/changes/56/882256/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2dd80175bb3e9d44252249a2a5b4c1de8a88efad,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/,3,3
openstack%2Fadjutant-ui~877920,openstack/adjutant-ui,master,I649722bceb3cc5d4128c4e73d7a7d02aa71318e8,setup.cfg: Replace dashes with underscores,ABANDONED,2023-03-21 01:28:27.000000000,2023-06-01 08:43:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-03-21 01:28:27.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/f79237f6e6888c78b3e9149269e1cc9573ffb1c0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I649722bceb3cc5d4128c4e73d7a7d02aa71318e8\n""}]",2,877920,f79237f6e6888c78b3e9149269e1cc9573ffb1c0,5,2,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I649722bceb3cc5d4128c4e73d7a7d02aa71318e8
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/20/877920/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f79237f6e6888c78b3e9149269e1cc9573ffb1c0,,description_file =author_email = adriant@catalyst.net.nz home_page = https://github.com/catalyst/adjutant-ui python_requires = >=3.8,description-file =author-email = adriant@catalyst.net.nz home-page = https://github.com/catalyst/adjutant-ui python-requires = >=3.8,4,4
openstack%2Fkayobe-config~884981,openstack/kayobe-config,master,If57a9d39a77ca02a1cd7f59ae5691fbf39b78964,2023.1 - Sync defaults with Kayobe,MERGED,2023-06-01 08:16:04.000000000,2023-06-01 08:36:09.000000000,2023-06-01 08:36:09.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-06-01 08:16:04.000000000', 'files': ['etc/kayobe/kolla.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/3adf46cfd1137aae68c729c33b53b8c691f03ca3', 'message': '2023.1 - Sync defaults with Kayobe\n\nskydive != skyline\n\nChange-Id: If57a9d39a77ca02a1cd7f59ae5691fbf39b78964\n'}]",1,884981,3adf46cfd1137aae68c729c33b53b8c691f03ca3,7,2,1,14826,,,0,"2023.1 - Sync defaults with Kayobe

skydive != skyline

Change-Id: If57a9d39a77ca02a1cd7f59ae5691fbf39b78964
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/81/884981/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/kolla.yml'],1,3adf46cfd1137aae68c729c33b53b8c691f03ca3,,#kolla_enable_skyline:,#kolla_enable_skydive:,1,1
openstack%2Fneutron~882228,openstack/neutron,stable/victoria,I207ecf7954b06507e03cb16b502ceb6e2807e0e7,Delete sg rule which remote is the deleted sg,ABANDONED,2023-05-04 12:50:54.000000000,2023-06-01 08:19:06.000000000,,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-04 12:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/279498c061c86ace1ab201824046a6ab14893bd3', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 2, 'created': '2023-05-04 15:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3136f6c83b4ffd62f3d5939f545e40f2414d6c28', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 3, 'created': '2023-05-08 11:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b264816605f7aee36fb4a590c87241bc099bf92', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 4, 'created': '2023-05-09 08:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/46359eef019c9dc194a91b6d05f6553f8e4d8061', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 5, 'created': '2023-05-09 13:32:17.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6ed9e29da444d1a1e46437eb768da494d9643eb', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}]",2,882228,f6ed9e29da444d1a1e46437eb768da494d9643eb,15,4,5,8313,,,0,"Delete sg rule which remote is the deleted sg

Based on bug #2008712 if we have a security-group which
is the remote group of a 2nd security-group, the backend
never deletes the rule of the 2nd group which
remote_group_id is the original security-group.
By AFTER_DELETE event for each rule that has the
security_group_id as remote_group_id, we can make the
mech drivers do their work and delete these rules in the
backend.

Conflicts in (mostly due to notify to publish changes):
* neutron/db/securitygroups_db.py
* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
* neutron/tests/unit/db/test_securitygroups_db.py

Change-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7
(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)
Closes-Bug: #2008712
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/882228/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,279498c061c86ace1ab201824046a6ab14893bd3,bug/2008712-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, **kwargs): context = kwargs['context'] sg_rule = self._plugin.get_security_group_rule( context, kwargs['security_group_rule_id']) self._ovn_client.delete_security_group_rule(context, sg_rule) ",,83,0
openstack%2Fneutron~882131,openstack/neutron,stable/wallaby,I207ecf7954b06507e03cb16b502ceb6e2807e0e7,Delete sg rule which remote is the deleted sg,ABANDONED,2023-05-03 09:13:44.000000000,2023-06-01 08:18:54.000000000,,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-03 09:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb322b71520c4114ce82ddf9d7f877ad30f148c3', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 2, 'created': '2023-05-04 12:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a980e6e2bfec02e77aada742f29601b75e635951', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 3, 'created': '2023-05-04 14:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f465e8d1861a6b66c11433cd314b2ffdf182cd3b', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 4, 'created': '2023-05-08 11:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fb2e6e32b8cca88ed4b580ce04e010fe54cebb0', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}, {'number': 5, 'created': '2023-05-09 08:24:28.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/953a32bf9016ddcc66e34736d105c2dc87439ac0', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nConflicts in (mostly due to notify to publish changes):\n* neutron/db/securitygroups_db.py\n* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n* neutron/tests/unit/db/test_securitygroups_db.py\n\nChange-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7\n(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)\nCloses-Bug: #2008712\n'}]",4,882131,953a32bf9016ddcc66e34736d105c2dc87439ac0,23,3,5,8313,,,0,"Delete sg rule which remote is the deleted sg

Based on bug #2008712 if we have a security-group which
is the remote group of a 2nd security-group, the backend
never deletes the rule of the 2nd group which
remote_group_id is the original security-group.
By AFTER_DELETE event for each rule that has the
security_group_id as remote_group_id, we can make the
mech drivers do their work and delete these rules in the
backend.

Conflicts in (mostly due to notify to publish changes):
* neutron/db/securitygroups_db.py
* neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
* neutron/tests/unit/db/test_securitygroups_db.py

Change-Id: I207ecf7954b06507e03cb16b502ceb6e2807e0e7
(cherry picked from commit 63584957203ec9f5ba165177978213c3909f81f0)
Closes-Bug: #2008712
",git fetch https://review.opendev.org/openstack/neutron refs/changes/31/882131/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",3,eb322b71520c4114ce82ddf9d7f877ad30f148c3,bug/2008712-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby," registry.subscribe(self._process_sg_rule_after_del_notification, resources.SECURITY_GROUP_RULE, events.AFTER_DELETE) def _process_sg_rule_after_del_notification( self, resource, event, trigger, **kwargs): context = kwargs['context'] sg_rule = self._plugin.get_security_group_rule( context, kwargs['security_group_rule_id']) self._ovn_client.delete_security_group_rule(context, sg_rule) "," registry.subscribe(self._delete_security_group_precommit, resources.SECURITY_GROUP, events.PRECOMMIT_DELETE) def _delete_security_group_precommit(self, resource, event, trigger, security_group_id, **kwargs): context = n_context.get_admin_context() for sg_rule in self._plugin.get_security_group_rules( context, filters={'remote_group_id': [security_group_id]}): self._ovn_client.delete_security_group_rule(context, sg_rule) ",77,10
openstack%2Fcharm-openstack-hypervisor~884967,openstack/charm-openstack-hypervisor,main,I0975709bbfc0436796d34823213f8edfbda87a81,Trigger CI,MERGED,2023-06-01 05:22:18.000000000,2023-06-01 07:49:41.000000000,2023-06-01 07:38:08.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-06-01 05:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/4c231cd58fc8cfb7e1a00f54370d250a3c41f80e', 'message': 'Trigger CI\n\nChange-Id: I0975709bbfc0436796d34823213f8edfbda87a81\n'}]",1,884967,4c231cd58fc8cfb7e1a00f54370d250a3c41f80e,8,3,1,12549,,,0,"Trigger CI

Change-Id: I0975709bbfc0436796d34823213f8edfbda87a81
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/67/884967/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,4c231cd58fc8cfb7e1a00f54370d250a3c41f80e,,,,0,0
openstack%2Fcloudkitty-dashboard~884341,openstack/cloudkitty-dashboard,master,I8b07aa4d5ad6824b049144e87468fb941f57135f,Use py3 as the default runtime for tox,MERGED,2023-05-26 06:28:42.000000000,2023-06-01 07:40:25.000000000,2023-06-01 07:39:19.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-26 06:28:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/16634e394245083fc806dd68299fa9c79b94ffdb', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I8b07aa4d5ad6824b049144e87468fb941f57135f\n'}]",0,884341,16634e394245083fc806dd68299fa9c79b94ffdb,8,3,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I8b07aa4d5ad6824b049144e87468fb941f57135f
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/41/884341/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,16634e394245083fc806dd68299fa9c79b94ffdb,,"envlist = py3,pep8","envlist = py39,py38,pep8",1,1
openstack%2Fcharm-keystone-k8s~884860,openstack/charm-keystone-k8s,main,Ib52428e112934fdc1d34a5f7cf7fd8491bcf10a3,Upgrade base to 22.04,ABANDONED,2023-05-31 10:26:22.000000000,2023-06-01 06:30:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:26:22.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/65a5d0bceecb548d720305c8c634c085119477d7', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ib52428e112934fdc1d34a5f7cf7fd8491bcf10a3\n'}]",0,884860,65a5d0bceecb548d720305c8c634c085119477d7,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ib52428e112934fdc1d34a5f7cf7fd8491bcf10a3
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/60/884860/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,65a5d0bceecb548d720305c8c634c085119477d7,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-cinder-k8s~884862,openstack/charm-cinder-k8s,main,Ia9558df4f5815300c59ab9cb00adc34c1547e09a,Upgrade base to 22.04,ABANDONED,2023-05-31 10:27:36.000000000,2023-06-01 06:30:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:27:36.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/70b2519d79d9182144de32df8ceb396d15e9a1b8', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ia9558df4f5815300c59ab9cb00adc34c1547e09a\n'}]",0,884862,70b2519d79d9182144de32df8ceb396d15e9a1b8,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ia9558df4f5815300c59ab9cb00adc34c1547e09a
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/62/884862/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,70b2519d79d9182144de32df8ceb396d15e9a1b8,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-horizon-k8s~884863,openstack/charm-horizon-k8s,main,I3335803e56634fcef709ffe7f99414ef45bf2780,Upgrade base to 22.04,ABANDONED,2023-05-31 10:28:49.000000000,2023-06-01 06:30:46.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 10:28:49.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/5a879b72f5a0daf5df94320361bd0916d2c31e1c', 'message': 'Upgrade base to 22.04\n\nChange-Id: I3335803e56634fcef709ffe7f99414ef45bf2780\n'}]",0,884863,5a879b72f5a0daf5df94320361bd0916d2c31e1c,5,2,1,35761,,,0,"Upgrade base to 22.04

Change-Id: I3335803e56634fcef709ffe7f99414ef45bf2780
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/63/884863/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,5a879b72f5a0daf5df94320361bd0916d2c31e1c,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-placement-k8s~884864,openstack/charm-placement-k8s,main,Ic4e2f1cbb336b00af56db308f2cc492275c0fa45,Upgrade base to 22.04,ABANDONED,2023-05-31 10:30:49.000000000,2023-06-01 06:30:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:30:49.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/530df3ae1d947909c711caec25089a60e2733893', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ic4e2f1cbb336b00af56db308f2cc492275c0fa45\n'}]",0,884864,530df3ae1d947909c711caec25089a60e2733893,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ic4e2f1cbb336b00af56db308f2cc492275c0fa45
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/64/884864/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,530df3ae1d947909c711caec25089a60e2733893,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-cinder-ceph-k8s~884865,openstack/charm-cinder-ceph-k8s,main,Ifd477f07e2d1b0f9c58b089bacc58d3e25451d42,Upgrade base to 22.04,ABANDONED,2023-05-31 10:31:27.000000000,2023-06-01 06:30:40.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 10:31:27.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/2ef117bdc5340fbdcba317e6c16777f5bf32d8c7', 'message': 'Upgrade base to 22.04\n\nChange-Id: Ifd477f07e2d1b0f9c58b089bacc58d3e25451d42\n'}]",0,884865,2ef117bdc5340fbdcba317e6c16777f5bf32d8c7,5,2,1,35761,,,0,"Upgrade base to 22.04

Change-Id: Ifd477f07e2d1b0f9c58b089bacc58d3e25451d42
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/65/884865/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,2ef117bdc5340fbdcba317e6c16777f5bf32d8c7,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-glance-k8s~884866,openstack/charm-glance-k8s,main,I169d9dd6d7a4e05d655500806954087870a7c7bc,Upgrade base to 22.04,ABANDONED,2023-05-31 10:31:53.000000000,2023-06-01 06:30:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:31:53.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/cba1a912fb86646ce2ecea7d7c9bf7aa6f723ea0', 'message': 'Upgrade base to 22.04\n\nChange-Id: I169d9dd6d7a4e05d655500806954087870a7c7bc\n'}]",0,884866,cba1a912fb86646ce2ecea7d7c9bf7aa6f723ea0,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: I169d9dd6d7a4e05d655500806954087870a7c7bc
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/66/884866/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,cba1a912fb86646ce2ecea7d7c9bf7aa6f723ea0,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fcharm-nova-k8s~884867,openstack/charm-nova-k8s,main,I5f346c1a0ddd0992dae61ff9245d8f462e13e1e0,Upgrade base to 22.04,ABANDONED,2023-05-31 10:32:42.000000000,2023-06-01 06:30:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 10:32:42.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/3574f2a3e6408cd60a9a76020cf86b3d4668eb9c', 'message': 'Upgrade base to 22.04\n\nChange-Id: I5f346c1a0ddd0992dae61ff9245d8f462e13e1e0\n'}]",0,884867,3574f2a3e6408cd60a9a76020cf86b3d4668eb9c,4,1,1,35761,,,0,"Upgrade base to 22.04

Change-Id: I5f346c1a0ddd0992dae61ff9245d8f462e13e1e0
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/67/884867/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,3574f2a3e6408cd60a9a76020cf86b3d4668eb9c,, channel: 22.04/stable, channel: 20.04/stable,1,1
openstack%2Fdesignate-tempest-plugin~884559,openstack/designate-tempest-plugin,master,I218bbf0c4f6a1609b6500ccb91765959823bf911,Update testing for show and list a shared zone,MERGED,2023-05-26 23:55:14.000000000,2023-06-01 06:28:53.000000000,2023-06-01 06:28:01.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-26 23:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/294a67e6de53b54fdb255827ecca8a88fe45656f', 'message': 'Update testing for show and list a shared zone\n\nThis patch updates the tests to account for projects that have a zone\nshared with it can list and show the zone.\n\nChange-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911\n'}, {'number': 2, 'created': '2023-05-27 00:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7f912713ffd3c248488912709f4273fae8e0f3c8', 'message': 'Update testing for show and list a shared zone\n\nThis patch updates the tests to account for projects that have a zone\nshared with it can list and show the zone.\n\nDepends-On: https://review.opendev.org/c/openstack/designate/+/884560\n\nChange-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911\n'}, {'number': 3, 'created': '2023-06-01 00:40:17.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_shared_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_shared_zones.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/afdcc1c8f5a756bb12bbaad9f751b23ba2e08d92', 'message': 'Update testing for show and list a shared zone\n\nThis patch updates the tests to account for projects that have a zone\nshared with it can list and show the zone.\n\nChange-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911\n'}]",1,884559,afdcc1c8f5a756bb12bbaad9f751b23ba2e08d92,13,2,3,11628,,,0,"Update testing for show and list a shared zone

This patch updates the tests to account for projects that have a zone
shared with it can list and show the zone.

Change-Id: I218bbf0c4f6a1609b6500ccb91765959823bf911
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/59/884559/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/tests/api/v2/test_shared_zones.py', 'designate_tempest_plugin/tests/scenario/v2/test_shared_zones.py']",3,294a67e6de53b54fdb255827ecca8a88fe45656f,," lib_exc.Forbidden, lib_exc.Forbidden, lib_exc.Forbidden,"," lib_exc.NotFound, lib_exc.NotFound, lib_exc.NotFound,",78,30
openstack%2Fdesignate~884820,openstack/designate,stable/2023.1,I2ef28eeb285462dc12b13de80cdab06b5cfb929b,Fix create zone export RBAC,MERGED,2023-06-01 03:31:47.000000000,2023-06-01 04:47:33.000000000,2023-06-01 04:46:33.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 03:31:47.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/904d8d66656f7597a48b56947a8edc46ba7b3304', 'message': 'Fix create zone export RBAC\n\nPreviously the zone export create API relied on the zone lookup to fail if the\nproject did not have permission to export the zone. Because of this the RBAC\ntest was simply if the project_id was valid.\nWith shared zones, administrators may not want to allow exports of a zone that\nis shared with a project. This patch corrects the RBAC to check for zone\nownership before creating the zone export. This way a policy can be created to\nallow zone exports for projects that have a zone share.\n\nChange-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b\n(cherry picked from commit 48826ffa96b0ed358ea814657d31fb5ba28966ee)\n'}]",1,884820,904d8d66656f7597a48b56947a8edc46ba7b3304,7,2,1,22623,,,0,"Fix create zone export RBAC

Previously the zone export create API relied on the zone lookup to fail if the
project did not have permission to export the zone. Because of this the RBAC
test was simply if the project_id was valid.
With shared zones, administrators may not want to allow exports of a zone that
is shared with a project. This patch corrects the RBAC to check for zone
ownership before creating the zone export. This way a policy can be created to
allow zone exports for projects that have a zone share.

Change-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b
(cherry picked from commit 48826ffa96b0ed358ea814657d31fb5ba28966ee)
",git fetch https://review.opendev.org/openstack/designate refs/changes/20/884820/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py']",2,904d8d66656f7597a48b56947a8edc46ba7b3304,, target = {constants.RBAC_PROJECT_ID: zone.tenant_id} else: target = {'tenant_id': zone.tenant_id}, target = {constants.RBAC_PROJECT_ID: context.project_id} else: target = {'tenant_id': context.project_id},3,2
openstack%2Ftripleo-heat-templates~884680,openstack/tripleo-heat-templates,stable/wallaby,I392391c009af35c4f7b318040048781ef11fc718,Ensure that octaviaclient is installed on the controllers,MERGED,2023-05-30 11:30:43.000000000,2023-06-01 04:36:03.000000000,2023-06-01 04:36:03.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-30 11:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7399bdecbd507b43b8a50387d3c6c95eaf18e6c', 'message': ""Ensure that octaviaclient is installed on the controllers\n\nDoesn't assume that python3-octaviaclient is installed on the\ncontrollers, folks don't necessarily use director-images. Ensure that\noctaviaclient is installed.\n\nAlso clean up some old conditions for rhel7-based controllers.\n\nChange-Id: I392391c009af35c4f7b318040048781ef11fc718\n""}, {'number': 2, 'created': '2023-05-30 12:13:57.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c5e00cd66715fe7d2acc5fdbbc3dcf0905db292', 'message': ""Ensure that octaviaclient is installed on the controllers\n\nDon't assume that python3-octaviaclient is installed on the controllers,\nfolks don't necessarily use director-images (ex: pre-provisioned nodes)\nEnsure that octaviaclient is installed.\n\nAlso clean up some old conditions for rhel7-based controllers.\n\nChange-Id: I392391c009af35c4f7b318040048781ef11fc718\n""}]",4,884680,8c5e00cd66715fe7d2acc5fdbbc3dcf0905db292,14,4,2,29244,,,0,"Ensure that octaviaclient is installed on the controllers

Don't assume that python3-octaviaclient is installed on the controllers,
folks don't necessarily use director-images (ex: pre-provisioned nodes)
Ensure that octaviaclient is installed.

Also clean up some old conditions for rhel7-based controllers.

Change-Id: I392391c009af35c4f7b318040048781ef11fc718
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/884680/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,e7399bdecbd507b43b8a50387d3c6c95eaf18e6c,, - name: Ensure packages required for configuring octavia are present - python3-octaviaclient," - name: Ensure packages required for configuring octavia are present for CentOS 7 package: name: - python2-neutronclient - python2-openstackclient - openssl state: present when: ansible_facts['distribution_major_version'] is version(8, '<') - name: Ensure packages required for configuring octavia are present for CentOS/RHEL 8 when: ansible_facts['distribution_major_version'] is version(8, '>=')",2,11
openstack%2Fdiskimage-builder~884644,openstack/diskimage-builder,master,I1df3f717f4c2c19cc4a3dd44746d7b7067112239,Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour,NEW,2023-05-29 21:32:28.000000000,2023-06-01 01:03:36.000000000,,"[{'_account_id': 7118}, {'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-05-29 21:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05227479c34ee2c1922a43b14b4510e0d7aebf04', 'message': 'Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour\n\nThe tripleo overcloud image sets DIB_BOOTLOADER_DEFAULT_CMDLINE to an\nempty string[1] with the expectation that this will prevent\n""nomodeset"" etc from being appended to the kernel arguments. This\nchange implements that behaviour, so that only an unset\nDIB_BOOTLOADER_DEFAULT_CMDLINE will get the default values set.\n\nHaving the ability to suppress nomodeset is required to avoid bugs in\nvideo hardware which cause significant latency on console writes.\n\n[1] https://opendev.org/openstack/tripleo-common/src/branch/stable/wallaby/image-yaml/overcloud-hardened-images.yaml#L41\n\nRelated: rhbz#2179366\nChange-Id: I1df3f717f4c2c19cc4a3dd44746d7b7067112239\n'}, {'number': 2, 'created': '2023-05-29 22:01:24.000000000', 'files': ['diskimage_builder/elements/bootloader/environment.d/10-bootloader-default-cmdline', 'diskimage_builder/elements/bootloader/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ffeebbae8a8911df5a2067d1c0725208e2b6efb4', 'message': 'Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour\n\nThe tripleo overcloud image sets DIB_BOOTLOADER_DEFAULT_CMDLINE to an\nempty string[1] with the expectation that this will prevent\n""nomodeset"" etc from being appended to the kernel arguments. This\nchange implements that behaviour, so that only an unset\nDIB_BOOTLOADER_DEFAULT_CMDLINE will get the default values set.\n\nHaving the ability to suppress nomodeset is required to avoid bugs in\nvideo hardware which cause significant latency on console writes.\n\n[1] https://opendev.org/openstack/tripleo-common/src/branch/stable/wallaby/image-yaml/overcloud-hardened-images.yaml#L41\n\nRelated: rhbz#2179366\nChange-Id: I1df3f717f4c2c19cc4a3dd44746d7b7067112239\n'}]",14,884644,ffeebbae8a8911df5a2067d1c0725208e2b6efb4,16,6,2,4571,,,0,"Change DIB_BOOTLOADER_DEFAULT_CMDLINE empty string behaviour

The tripleo overcloud image sets DIB_BOOTLOADER_DEFAULT_CMDLINE to an
empty string[1] with the expectation that this will prevent
""nomodeset"" etc from being appended to the kernel arguments. This
change implements that behaviour, so that only an unset
DIB_BOOTLOADER_DEFAULT_CMDLINE will get the default values set.

Having the ability to suppress nomodeset is required to avoid bugs in
video hardware which cause significant latency on console writes.

[1] https://opendev.org/openstack/tripleo-common/src/branch/stable/wallaby/image-yaml/overcloud-hardened-images.yaml#L41

Related: rhbz#2179366
Change-Id: I1df3f717f4c2c19cc4a3dd44746d7b7067112239
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/44/884644/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/environment.d/10-bootloader-default-cmdline', 'diskimage_builder/elements/bootloader/README.rst']",2,05227479c34ee2c1922a43b14b4510e0d7aebf04,rhbz/2179366,to the ``GRUB_CMDLINE_LINUX_DEFAULT`` values in ``grub.cfg`` configuration. It defaults to ``nofb nomodeset gfxpayload=text`` when it is unset., to the ``GRUB_CMDLINE_LINUX_DEFAULT`` values in ``grub.cfg`` configuration. It defaults to ``nofb nomodeset gfxpayload=text``.,9,3
openstack%2Fdesignate~884953,openstack/designate,stable/2023.1,Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827,Fix zone list/show for shared zones,MERGED,2023-05-31 22:44:12.000000000,2023-06-01 00:33:41.000000000,2023-06-01 00:31:50.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-31 22:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/66e50ffbf60043fd04dbe368a09805e9cd845981', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)\n'}, {'number': 2, 'created': '2023-05-31 22:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/855d7f9a6f0c196ae94f3010c768ac9addb8f0a0', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)\n'}, {'number': 3, 'created': '2023-05-31 23:08:17.000000000', 'files': ['designate/sqlalchemy/base.py', 'designate/storage/impl_sqlalchemy/__init__.py', '.zuul.yaml', 'releasenotes/notes/Fix-list-and-show-shared-zones-8a42a6b5f4910fc7.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/72de55dfea4af696e2b8b4d5b686e87c9113fe18', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)\n'}]",2,884953,72de55dfea4af696e2b8b4d5b686e87c9113fe18,12,3,3,11628,,,0,"Fix zone list/show for shared zones

Previously projects that had a zone shared with them were unable to view the
shared zone. This patch corrects that issue.

Change-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827
(cherry picked from commit 5b7ee8899dd041a351ed61a2a6378e75812bfd59)
",git fetch https://review.opendev.org/openstack/designate refs/changes/53/884953/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/sqlalchemy/base.py', 'designate/storage/impl_sqlalchemy/__init__.py', '.zuul.yaml', 'releasenotes/notes/Fix-list-and-show-shared-zones-8a42a6b5f4910fc7.yaml', 'designate/tests/test_central/test_service.py']",5,66e50ffbf60043fd04dbe368a09805e9cd845981,," def test_share_zone_visibility(self): context1 = self.get_context(project_id='1', roles=['member', 'reader']) context2 = self.get_context(project_id='2', roles=['member', 'reader']) context3 = self.get_context(project_id='3', roles=['member', 'reader']) # Create zone for project_id '1'. zone = self.create_zone(context=context1) self.assertEqual(1, len(self.central_service.find_zones(context1))) self.assertEqual(0, len(self.central_service.find_zones(context2))) self.assertEqual(0, len(self.central_service.find_zones(context3))) # Share with project_id '2'. share_zone = self.central_service.share_zone( context1, zone['id'], objects.SharedZone.from_dict({ 'target_project_id': context2.project_id }) ) self.assertEqual(1, len(self.central_service.find_zones(context1))) self.assertEqual(1, len(self.central_service.find_zones(context2))) self.assertEqual(0, len(self.central_service.find_zones(context3))) # Unshare zone. self.central_service.unshare_zone(context1, zone['id'], share_zone.id) self.assertEqual(1, len(self.central_service.find_zones(context1))) self.assertEqual(0, len(self.central_service.find_zones(context2))) self.assertEqual(0, len(self.central_service.find_zones(context3))) ",,88,28
openstack%2Fcharm-neutron-api-plugin-ovn~858721,openstack/charm-neutron-api-plugin-ovn,stable/victoria,Idac1a163c7a1d449c66a51edefe29a41cdd092a5,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 13:52:51.000000000,2023-05-31 23:07:04.000000000,2023-05-31 21:09:35.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 13:52:51.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0c30370e3e8bb2609508d2b0c27052edd3afb790', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Idac1a163c7a1d449c66a51edefe29a41cdd092a5\n'}]",4,858721,0c30370e3e8bb2609508d2b0c27052edd3afb790,19,4,1,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Idac1a163c7a1d449c66a51edefe29a41cdd092a5
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/21/858721/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,0c30370e3e8bb2609508d2b0c27052edd3afb790,victoria-lock-layers," ""branch"": ""cc5bd3f49b2fa5e6c3ab2336763c313ec8bf083f"", ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""da16f317315280269821acb21338018bf0825a5a"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",6,6
openstack%2Fkolla-ansible~880314,openstack/kolla-ansible,stable/yoga,I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a,Add flags for RabbitMQ message TTL & queue expiry,MERGED,2023-04-13 12:48:32.000000000,2023-05-31 22:44:26.000000000,2023-05-31 22:42:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:48:32.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8affe4ed35604f50360f163bade5f2003f64b5eb', 'message': 'Add flags for RabbitMQ message TTL & queue expiry\n\nAdds two new flags to alter behaviour in RabbitMQ:\n    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.\n    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.\nSee https://www.rabbitmq.com/ttl.html for more information on both.\n\nChange-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a\n(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)\n'}]",1,880314,8affe4ed35604f50360f163bade5f2003f64b5eb,14,3,1,14826,,,0,"Add flags for RabbitMQ message TTL & queue expiry

Adds two new flags to alter behaviour in RabbitMQ:
    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.
    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.
See https://www.rabbitmq.com/ttl.html for more information on both.

Change-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a
(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/880314/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml']",4,8affe4ed35604f50360f163bade5f2003f64b5eb,,"--- features: - | Added two new flags to alter behaviour in RabbitMQ: * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages. * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues. See https://www.rabbitmq.com/ttl.html for more information on both. ",,16,2
openstack%2Fkolla-ansible~878339,openstack/kolla-ansible,stable/yoga,Iee98cd937197a73a3b04aa8501fa325e8ecfff24,Add flag to change RabbitMQ ha-mode definition,MERGED,2023-03-23 09:13:33.000000000,2023-05-31 22:43:33.000000000,2023-05-31 22:42:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74690dc2a836b289def1d0c8ad30903490a1d730', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}, {'number': 2, 'created': '2023-03-23 09:14:03.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eca595c18dff63ec329c69be0ac52f03e77f1488', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}]",1,878339,eca595c18dff63ec329c69be0ac52f03e77f1488,16,3,2,14826,,,0,"Add flag to change RabbitMQ ha-mode definition

Adds the flag `rabbitmq_ha_replica_count` to change how many different
nodes a queue should be mirrored across. If the value is not set, then
it defaults to ""ha-mode"":""all"". This value is unset by default to avoid
any unexpected changes to the RabbitMQ definitions.json file, as that
would trigger an unexpected restart of RabbitMQ during the next deploy.

Change-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24
(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/878339/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml']",4,74690dc2a836b289def1d0c8ad30903490a1d730,bug/1954925-stable/zed-stable/yoga,"# If no replica count is specified, replicates across all nodes with definition # ""ha-mode"":""all"". Otherwise, uses # ""ha-mode"":""exactly"",""ha-params"":{{ rabbitmq_ha_replica_count | int }} rabbitmq_ha_replica_count:",,19,2
openstack%2Fnetworking-odl~884325,openstack/networking-odl,stable/zed,I72d45df84fe54e84b3d2869381860cd087645ae2,Tox4: add allowlist_externals where necessary,MERGED,2023-05-25 09:51:26.000000000,2023-05-31 22:36:54.000000000,2023-05-31 22:35:52.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 09:51:26.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/682ab61216114476ef461e0c6fb80046cde57020', 'message': 'Tox4: add allowlist_externals where necessary\n\nWith tox4 allowlist_externals is more strictly checked, so\nfix it where necessary and fix pylint version.\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943\nRelated-Bug: #1999558\nChange-Id: I72d45df84fe54e84b3d2869381860cd087645ae2\n(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)\n'}]",0,884325,682ab61216114476ef461e0c6fb80046cde57020,8,3,1,16688,,,0,"Tox4: add allowlist_externals where necessary

With tox4 allowlist_externals is more strictly checked, so
fix it where necessary and fix pylint version.

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/866943
Related-Bug: #1999558
Change-Id: I72d45df84fe54e84b3d2869381860cd087645ae2
(cherry picked from commit d8316e6f531e7568fdb9dca6fae89902eb566c40)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/25/884325/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,682ab61216114476ef461e0c6fb80046cde57020,tox4,skipsdist = Falsepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG {toxinidir}/tools/coding-checks.sh,skipsdist = Truepassenv = http_proxy HTTP_PROXY https_proxy HTTPS_PROXY no_proxy NO_PROXY OS_FAIL_ON_MISSING_DEPS OS_POST_MORTEM_DEBUGGER TRACE_FAILONLY OS_TEST_DBAPI_ADMIN_CONNECTION OS_DEBUG,14,4
openstack%2Fkolla-ansible~878338,openstack/kolla-ansible,stable/yoga,I2146bda2c72ddac2c9923c6941b0596395fd9ab5,RabbitMQ: Support setting ha-promote-on-shutdown,MERGED,2023-03-23 09:12:22.000000000,2023-05-31 22:28:48.000000000,2023-05-31 22:27:45.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:12:22.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f01896ffdee1c95a6f404ec379cdc38af475f701', 'message': 'RabbitMQ: Support setting ha-promote-on-shutdown\n\nBy default ha-promote-on-shutdown=when-synced. However we are seeing\nissues with RabbitMQ automatically recovering when nodes are restarted.\nhttps://www.rabbitmq.com/ha.html#cluster-shutdown\n\nRather than waiting for operator interventions, it is better we allow\nrecovery to happen, even if that means we may loose some messages.\nA few failed and timed out operations is better than a totaly broken\ncloud. This is achieved using ha-promote-on-shutdown=always.\n\nNote, when a node failure is detected, this is already the default\nbehaviour from 3.7.5 onwards:\nhttps://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors\n\nThis patch adds the option to change the ha-promote-on-shutdown\ndefinition, using the flag `rabbitmq_ha_promote_on_shutdown`. This\nvalue is unset by default to avoid any unexpected changes to the\nRabbitMQ definitions.json file, as that would trigger an unexpected\nrestart of RabbitMQ during the next deploy.\n\nRelated-Bug: #1954925\n\nChange-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5\n(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)\n'}]",1,878338,f01896ffdee1c95a6f404ec379cdc38af475f701,15,4,1,14826,,,0,"RabbitMQ: Support setting ha-promote-on-shutdown

By default ha-promote-on-shutdown=when-synced. However we are seeing
issues with RabbitMQ automatically recovering when nodes are restarted.
https://www.rabbitmq.com/ha.html#cluster-shutdown

Rather than waiting for operator interventions, it is better we allow
recovery to happen, even if that means we may loose some messages.
A few failed and timed out operations is better than a totaly broken
cloud. This is achieved using ha-promote-on-shutdown=always.

Note, when a node failure is detected, this is already the default
behaviour from 3.7.5 onwards:
https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors

This patch adds the option to change the ha-promote-on-shutdown
definition, using the flag `rabbitmq_ha_promote_on_shutdown`. This
value is unset by default to avoid any unexpected changes to the
RabbitMQ definitions.json file, as that would trigger an unexpected
restart of RabbitMQ during the next deploy.

Related-Bug: #1954925

Change-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5
(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/878338/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml']",3,f01896ffdee1c95a6f404ec379cdc38af475f701,bug/1954925-stable/zed-stable/yoga,"# For consistency use ""when-synced"", for availability use ""always"" # The rabbitmq default for ha queues is ""when-synced"" # More details see: # https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors rabbitmq_ha_promote_on_shutdown:",,20,2
openstack%2Fdesignate~884554,openstack/designate,master,Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827,Fix zone list/show for shared zones,MERGED,2023-05-26 19:18:33.000000000,2023-05-31 22:27:46.000000000,2023-05-31 22:25:46.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-26 19:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8255772a59b9501402b6e10427d09738f0431c2d', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 2, 'created': '2023-05-26 19:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/65bcf164ef91cfddca106df9e89716c21ffef667', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 3, 'created': '2023-05-27 00:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d2f0d870cbce6dcadaa6b62e91896ff9030ee12e', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 4, 'created': '2023-05-27 00:01:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dc6dbd6eca2e2cc68d21dd4ba30102bbe743f1b2', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/884559\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 5, 'created': '2023-05-28 00:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a31b985609653641828734b7429911ecedd83011', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/884559\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 6, 'created': '2023-05-28 00:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b50664d8c8d32db15a4f42dea026a6a687f98f05', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nDepends-On: https://review.opendev.org/c/openstack/designate-tempest-plugin/+/884559\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 7, 'created': '2023-05-30 22:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/de4097965f90a60b790580779ef0bae389791dfc', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 8, 'created': '2023-05-31 01:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/40c91c2190b69296c7d2cc103daf0cd98d8f95e6', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}, {'number': 9, 'created': '2023-05-31 20:18:31.000000000', 'files': ['designate/storage/sqlalchemy/__init__.py', '.zuul.yaml', 'designate/storage/sqlalchemy/base.py', 'releasenotes/notes/Fix-list-and-show-shared-zones-8a42a6b5f4910fc7.yaml', 'designate/tests/test_central/test_service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5b7ee8899dd041a351ed61a2a6378e75812bfd59', 'message': 'Fix zone list/show for shared zones\n\nPreviously projects that had a zone shared with them were unable to view the\nshared zone. This patch corrects that issue.\n\nChange-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827\n'}]",7,884554,5b7ee8899dd041a351ed61a2a6378e75812bfd59,26,3,9,11628,,,0,"Fix zone list/show for shared zones

Previously projects that had a zone shared with them were unable to view the
shared zone. This patch corrects that issue.

Change-Id: Ia3ede57ac2249a1bcd49512aa36452b2b9ffd827
",git fetch https://review.opendev.org/openstack/designate refs/changes/54/884554/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/sqlalchemy/__init__.py', 'designate/storage/sqlalchemy/base.py']",2,8255772a59b9501402b6e10427d09738f0431c2d,dns-shared-zones," include_null_tenant=True, include_shared=False): _shared_zone_project_id = tables.shared_zones.c.target_project_id if include_shared: query = query.where(or_( table.c.tenant_id == context.project_id, _shared_zone_project_id == context.project_id, table.c.tenant_id == None)) # NOQA else: query = query.where(or_( table.c.tenant_id == context.project_id, table.c.tenant_id == None)) # NOQA else: if include_shared: query = query.where( table.c.tenant_id == context.project_id, _shared_zone_project_id == context.project_id ) else: query = query.where( table.c.tenant_id == context.project_id ) sort_dir=None, query=None, apply_tenant_criteria=True, include_shared=False): query = self._apply_tenant_criteria(context, table, query, include_shared=include_shared)"," include_null_tenant=True): query = query.where(or_( table.c.tenant_id == context.project_id, table.c.tenant_id == None)) # NOQA else: query = query.where( table.c.tenant_id == context.project_id ) sort_dir=None, query=None, apply_tenant_criteria=True): query = self._apply_tenant_criteria(context, table, query)",33,14
openstack%2Fopenstacksdk~884906,openstack/openstacksdk,master,Idae7a151fa4f24b932a130669fce563e7150278b,tox: Disable E501,MERGED,2023-05-31 16:39:17.000000000,2023-05-31 21:56:30.000000000,2023-05-31 21:55:17.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-31 16:39:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7c5ce14588f616d47bca35c3e10ee87063cb4c95', 'message': ""tox: Disable E501\n\nThis is more trouble than it's worth now. Black takes care of this for\nus. I wish I'd decided this before the blackify series :(\n\nChange-Id: Idae7a151fa4f24b932a130669fce563e7150278b\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884906,7c5ce14588f616d47bca35c3e10ee87063cb4c95,8,2,1,15334,,,0,"tox: Disable E501

This is more trouble than it's worth now. Black takes care of this for
us. I wish I'd decided this before the blackify series :(

Change-Id: Idae7a151fa4f24b932a130669fce563e7150278b
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/06/884906/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7c5ce14588f616d47bca35c3e10ee87063cb4c95,black,"# E501 Black takes care of line length for usignore = E203, E501, H301, H238, H4, W503","ignore = E203, H301, H238, H4, W503",2,1
openstack%2Fkolla-ansible~880312,openstack/kolla-ansible,stable/xena,I5e765f498ae86d213d0a4379ca5d473db1499962,Fix deploy/genconfig in check mode,MERGED,2023-04-13 12:40:47.000000000,2023-05-31 21:20:58.000000000,2023-05-31 21:20:00.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:40:47.000000000', 'files': ['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/01a1d8452b0a38b85089aa13d7a14b576f51bd3c', 'message': 'Fix deploy/genconfig in check mode\n\nPreviously, when running one of the following commands:\n\n  kolla-ansible deploy --check\n  kolla-ansible genconfig --check\n\ndeployment or configuration generation fails for various reasons.\n\nMariaDB fails to lookup the existing cluster.\n\nKeystone fails to generate cron config.\n\nNova-cell fails to get the cell settings.\n\nCloses-Bug: #2002661\nChange-Id: I5e765f498ae86d213d0a4379ca5d473db1499962\n(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)\n'}]",1,880312,01a1d8452b0a38b85089aa13d7a14b576f51bd3c,15,4,1,14826,,,0,"Fix deploy/genconfig in check mode

Previously, when running one of the following commands:

  kolla-ansible deploy --check
  kolla-ansible genconfig --check

deployment or configuration generation fails for various reasons.

MariaDB fails to lookup the existing cluster.

Keystone fails to generate cron config.

Nova-cell fails to get the cell settings.

Closes-Bug: #2002661
Change-Id: I5e765f498ae86d213d0a4379ca5d473db1499962
(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/880312/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml']",5,01a1d8452b0a38b85089aa13d7a14b576f51bd3c,, check_mode: false,,9,0
openstack%2Fcharm-swift-storage~823879,openstack/charm-swift-storage,master,I0c7184bba29731354e52dc28e3a4dd6f282fa843,Add package-upgrade action,MERGED,2022-01-08 01:28:17.000000000,2023-05-31 21:19:51.000000000,2023-05-31 21:19:51.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 01:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/bdfdc4d3bd37d14a8ddba46dc219fe69841926ff', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I0c7184bba29731354e52dc28e3a4dd6f282fa843\n'}, {'number': 2, 'created': '2023-05-26 14:07:30.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'actions/package_upgrade.py', 'charmhelpers/fetch/ubuntu.py', 'actions/package-upgrade', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/3a5b5872c5418317b58dbf2299020c75828330a7', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I0c7184bba29731354e52dc28e3a4dd6f282fa843\n'}]",4,823879,3a5b5872c5418317b58dbf2299020c75828330a7,17,4,2,11805,,,0,"Add package-upgrade action

The package-upgrade action performs package upgrades for the current
OpenStack release.

The code path used is similar to the openstack-upgrade action, with the
difference being that package-upgrade will not execute if an openstack
upgrade is available (based on the openstack-origin setting).

This change includes a charm-helpers sync.

Change-Id: I0c7184bba29731354e52dc28e3a4dd6f282fa843
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/79/823879/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/openstack/keystone.py', 'actions/package-upgrade', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'actions/package_upgrade.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'actions.yaml', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",44,bdfdc4d3bd37d14a8ddba46dc219fe69841926ff,package-upgrade-action," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",422,431
openstack%2Fcharm-openstack-dashboard~823877,openstack/charm-openstack-dashboard,master,I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735,Add package-upgrade action,MERGED,2022-01-08 01:28:08.000000000,2023-05-31 21:17:21.000000000,2023-05-31 21:17:21.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 01:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/e1a8a9b497dae7286c8be30083c3fca2bb6fe820', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735\n'}, {'number': 2, 'created': '2023-05-26 15:55:38.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'actions/package_upgrade.py', 'actions/package-upgrade', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ea6ad355bddf0d6fdac65b3a8a858599970d00a0', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735\n'}]",2,823877,ea6ad355bddf0d6fdac65b3a8a858599970d00a0,13,4,2,11805,,,0,"Add package-upgrade action

The package-upgrade action performs package upgrades for the current
OpenStack release.

The code path used is similar to the openstack-upgrade action, with the
difference being that package-upgrade will not execute if an openstack
upgrade is available (based on the openstack-origin setting).

This change includes a charm-helpers sync.

Change-Id: I7a36e0f5f47423ae8601d6ca86aa0fe311ecb735
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/77/823877/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/openstack/keystone.py', 'actions/package-upgrade', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'actions/package_upgrade.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'actions.yaml', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",44,e1a8a9b497dae7286c8be30083c3fca2bb6fe820,package-upgrade-action," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",421,431
openstack%2Fpuppet-nova~884854,openstack/puppet-nova,stable/2023.1,I77d05f2f7b57120347afc621d2e50a4f83dcdbcb,Prepare new stable/2023.1 release,MERGED,2023-05-31 09:49:58.000000000,2023-05-31 21:06:43.000000000,2023-05-31 21:06:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:49:58.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/08dcf09459192fdcf493a8074dd73fef8203acf7', 'message': ""Prepare new stable/2023.1 release\n\nWe recently merged the fix required to deploy nova in recent CentOS\nStream 9. Let's create a release so that users can consume the released\nversions containing the fix.\n\nChange-Id: I77d05f2f7b57120347afc621d2e50a4f83dcdbcb\n""}]",0,884854,08dcf09459192fdcf493a8074dd73fef8203acf7,7,3,1,9816,,,0,"Prepare new stable/2023.1 release

We recently merged the fix required to deploy nova in recent CentOS
Stream 9. Let's create a release so that users can consume the released
versions containing the fix.

Change-Id: I77d05f2f7b57120347afc621d2e50a4f83dcdbcb
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/54/884854/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,08dcf09459192fdcf493a8074dd73fef8203acf7,," ""version"": ""22.1.0"""," ""version"": ""22.0.0""",1,1
openstack%2Fpuppet-nova~884634,openstack/puppet-nova,master,I78c20a02d2aa48d732dc0e457ef833e6320b0022,Fix typo in failure message,MERGED,2023-05-29 15:34:23.000000000,2023-05-31 21:06:41.000000000,2023-05-31 21:06:41.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 15:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ba1a9c530ce2ae872dc205394a32ab69f729d1b8', 'message': 'Fix typo in failure message\n\nThis fixes the typo in the failure message when modular libvirt daemons\nare requested in the distros which do not support the architecture.\n\nChange-Id: I78c20a02d2aa48d732dc0e457ef833e6320b0022\n'}, {'number': 2, 'created': '2023-05-31 03:33:33.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a0c9979d20f95aa2edc969d7cd829e286a4bffb0', 'message': 'Fix typo in failure message\n\nThis fixes the typo in the failure message when modular libvirt daemons\nare requested in the distros which do not support the architecture.\n\nChange-Id: I78c20a02d2aa48d732dc0e457ef833e6320b0022\n'}]",4,884634,a0c9979d20f95aa2edc969d7cd829e286a4bffb0,17,3,2,9816,,,0,"Fix typo in failure message

This fixes the typo in the failure message when modular libvirt daemons
are requested in the distros which do not support the architecture.

Change-Id: I78c20a02d2aa48d732dc0e457ef833e6320b0022
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/34/884634/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/migration/libvirt.pp']",2,ba1a9c530ce2ae872dc205394a32ab69f729d1b8,, fail('Modular libvirt daemons are not supported in this distribution'), fail('Modular libvirt daemons are not support in this distribution'),2,2
openstack%2Fcharm-octavia-dashboard~858722,openstack/charm-octavia-dashboard,stable/victoria,Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed,Pin build.lock for all layers to the commit hash,MERGED,2022-09-21 13:53:24.000000000,2023-05-31 20:59:52.000000000,2023-05-31 20:59:52.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 13:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/67c73b789be993a2e073f4147f8cb61c521b0209', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed\n'}, {'number': 2, 'created': '2022-11-04 09:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/7526d86cdda60488259569dea274f7261ba9cf7d', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed\n'}, {'number': 3, 'created': '2023-05-26 17:30:12.000000000', 'files': ['charmcraft.yaml', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/31e29070fb898f643e1efa1012b4a5b3cf5236ab', 'message': 'Pin build.lock for all layers to the commit hash\n\nThe build.lock branch points to master which means that the layer is not\nlocked.  Lock the layers to the commit hash instead; this ensures\nreproducible builds as much as possible.\n\nChange-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed\n'}]",1,858722,31e29070fb898f643e1efa1012b4a5b3cf5236ab,20,5,3,20870,,,0,"Pin build.lock for all layers to the commit hash

The build.lock branch points to master which means that the layer is not
locked.  Lock the layers to the commit hash instead; this ensures
reproducible builds as much as possible.

Change-Id: Ica9a1d7235a3d23e02f8e10dfcf5352ea7a705ed
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/22/858722/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,67c73b789be993a2e073f4147f8cb61c521b0209,victoria-lock-layers," ""branch"": ""fcdcea4e5de3e1556c24e6704607862d0ba00a56"", ""branch"": ""a3ff62c32c993d80417f6e093e3ef95e42f62083"", ""branch"": ""207bac8bec837edc6a4d6003f51d5b59d2d75adb"", ""branch"": ""d9850016d930a6d507b9fd45e2598d327922b140"", ""branch"": ""06031deac8b37e912dc69f1c6d2e2634696d2547"","," ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"", ""branch"": ""refs/heads/master"",",5,5
openstack%2Fcharm-cinder-purestorage~884530,openstack/charm-cinder-purestorage,stable/2023.1,I0ff3476bb3062d60d7055e5f2d5936d971cc08ae,Ensure *.charm ignored,MERGED,2023-05-26 18:08:19.000000000,2023-05-31 20:59:44.000000000,2023-05-31 20:59:44.000000000,"[{'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 18:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/42580ba6485d25e3daa55a3b20515734bfdaf3aa', 'message': 'Remove charm artefact and ensure ignored\n\nThe charm artefact (*.charm) has ended up in the repository. Remove it,\nand make sure the .gitignore ensures that it will not be added again.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}, {'number': 2, 'created': '2023-05-26 18:10:23.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/5edc4b11e8a5cbbe045eabc1a4d10ce8e8b50858', 'message': 'Ensure *.charm ignored\n\nMake sure the .gitignore ensures that *.charm will not be added.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}]",0,884530,5edc4b11e8a5cbbe045eabc1a4d10ce8e8b50858,10,4,2,11805,,,0,"Ensure *.charm ignored

Make sure the .gitignore ensures that *.charm will not be added.

Change-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/30/884530/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,42580ba6485d25e3daa55a3b20515734bfdaf3aa,remove-charm-artefact-cinder-purestorage-stable/2023.1,*.charm,,1,0
openstack%2Fcharm-mysql-innodb-cluster~884871,openstack/charm-mysql-innodb-cluster,master,Iaf6ba030001bc458abf5536454745cae905aceee,Set relay_log_recovery = ON by default,MERGED,2023-05-31 10:50:11.000000000,2023-05-31 20:58:00.000000000,2023-05-31 20:58:00.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 10:50:11.000000000', 'files': ['src/templates/mysqld.cnf'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/21494229747a9d4013d360b57ccd3de7749f0ffb', 'message': 'Set relay_log_recovery = ON by default\n\nThis is to aid in recoverying nodes from unexpected halts/power failures\nand ease their re-introduction into the cluster.  It ensures that\npotentially corrupted relay log files are discarded.\n\nChange-Id: Iaf6ba030001bc458abf5536454745cae905aceee\nCloses-Bug: #1938708\n'}]",1,884871,21494229747a9d4013d360b57ccd3de7749f0ffb,7,3,1,20870,,,0,"Set relay_log_recovery = ON by default

This is to aid in recoverying nodes from unexpected halts/power failures
and ease their re-introduction into the cluster.  It ensures that
potentially corrupted relay log files are discarded.

Change-Id: Iaf6ba030001bc458abf5536454745cae905aceee
Closes-Bug: #1938708
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/71/884871/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/mysqld.cnf'],1,21494229747a9d4013d360b57ccd3de7749f0ffb,bug/1938708,# Bug LP#1938708 # Set the relay log recovery to ON so that recovery following server startup. # This is useful in the case of an unexpected halt where the relay log files # could be corrupted. # See https://dev.mysql.com/doc/refman/8.0/en/replication-solutions-unexpected-replica-halt.html relay_log_recovery = ON ,,7,0
openstack%2Fcharm-cinder-purestorage~884529,openstack/charm-cinder-purestorage,master,I0ff3476bb3062d60d7055e5f2d5936d971cc08ae,Ensure *.charm ignored,MERGED,2023-05-26 18:06:30.000000000,2023-05-31 20:57:29.000000000,2023-05-31 20:57:29.000000000,"[{'_account_id': 2424}, {'_account_id': 10058}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 18:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/e6112993932b64b18f125f98705ff6687747b49f', 'message': 'Remove charm artefact and ensure ignored\n\nThe charm artefact (*.charm) has ended up in the repository. Remove it,\nand make sure the .gitignore ensures that it will not be added again.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}, {'number': 2, 'created': '2023-05-26 18:10:11.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/384d3ccdc5a825f78e80a663774cf0e79b906153', 'message': 'Ensure *.charm ignored\n\nMake sure the .gitignore ensures that *.charm will not be added.\n\nChange-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae\n'}]",1,884529,384d3ccdc5a825f78e80a663774cf0e79b906153,10,4,2,11805,,,0,"Ensure *.charm ignored

Make sure the .gitignore ensures that *.charm will not be added.

Change-Id: I0ff3476bb3062d60d7055e5f2d5936d971cc08ae
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/29/884529/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,e6112993932b64b18f125f98705ff6687747b49f,remove-charm-artefact-cinder-purestorage,*.charm,,1,0
openstack%2Fcharm-nova-compute~880747,openstack/charm-nova-compute,stable/ussuri,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:54:01.000000000,2023-05-31 20:54:47.000000000,2023-05-31 20:54:47.000000000,"[{'_account_id': 1131}, {'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:01.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/654f6e5089d929fa091448fdf0dc42675ff175d2', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)\n(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)\n(cherry picked from commit 777d3dea842f03b83547aa5d3e05f9f805c9d137)\n'}]",9,880747,654f6e5089d929fa091448fdf0dc42675ff175d2,24,6,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)
(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)
(cherry picked from commit 777d3dea842f03b83547aa5d3e05f9f805c9d137)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/47/880747/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,654f6e5089d929fa091448fdf0dc42675ff175d2,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fpuppet-openstack-integration~884561,openstack/puppet-openstack-integration,master,I5ac877946fb270eb428800b5f3ea53c196c1e8cf,Updated from Puppet OpenStack modules constraints,MERGED,2023-05-27 02:20:29.000000000,2023-05-31 20:33:02.000000000,2023-05-31 20:33:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 02:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9a10fa3fc563fa002bd8ebe717fede79cd648b67', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf\n'}, {'number': 2, 'created': '2023-05-31 02:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/26819eca192f2974963669931692d84dc8a1f7b8', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf\n'}, {'number': 3, 'created': '2023-05-31 17:38:39.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a731d4a107f42fb27c9ce49f8b3c5795a16f16d9', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf\n'}]",4,884561,a731d4a107f42fb27c9ce49f8b3c5795a16f16d9,21,3,3,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I5ac877946fb270eb428800b5f3ea53c196c1e8cf
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/61/884561/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,9a10fa3fc563fa002bd8ebe717fede79cd648b67,openstack/puppet/constraints, :ref => 'v8.2.0', :ref => 'v8.1.0',1,1
openstack%2Fneutron~884613,openstack/neutron,master,Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855,[S-RBAC] Add API policies for get and activate port bindings,MERGED,2023-05-29 12:33:28.000000000,2023-05-31 20:32:22.000000000,2023-05-31 20:30:51.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 12:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f3d622a9f105e7eaccd349a2875f6eada23e511e', 'message': '[S-RBAC] Add API policies for get and activate port bindings\n\nThere wasn\'t policies for get port binding and activate port binding API\ncalls defined at all.\nWhen we switched to new default policies and regular user wanted to make\ncall to activate port binding, it was error 500 what we returned instead\nof proper 4xx error. It was like that as ""get_port_binding"" call which\nwas done internally during ""activate"" API request falled back to the\ndefault policy which is ""admin_or_owner"" and as port binding resource\ndon\'t have project_id, owner couldn\'t be checked there.\n\nNow it has defined S-RBAC policies for those API calls and it is allowed\nfor admin users only to solve that problem.\nThis patch don\'t define old, deprecated policies for those API calls as\nit wasn\'t really needed there and we already switched to new policies by\ndefault now.\n\nCloses-Bug: #2013326\nChange-Id: Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855\n'}, {'number': 2, 'created': '2023-05-29 14:30:12.000000000', 'files': ['neutron/tests/unit/conf/policies/test_port_bindings.py', 'neutron/conf/policies/port_bindings.py', 'neutron/conf/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/61b358b6b5ac160c38af66b07454c26d6a93a0bd', 'message': '[S-RBAC] Add API policies for get and activate port bindings\n\nThere wasn\'t policies for get port binding and activate port binding API\ncalls defined at all.\nWhen we switched to new default policies and regular user wanted to make\ncall to activate port binding, it was error 500 what we returned instead\nof proper 4xx error. It was like that as ""get_port_binding"" call which\nwas done internally during ""activate"" API request falled back to the\ndefault policy which is ""admin_or_owner"" and as port binding resource\ndon\'t have project_id, owner couldn\'t be checked there.\n\nNow it has defined S-RBAC policies for those API calls and it is allowed\nfor admin users only to solve that problem.\nThis patch don\'t define old, deprecated policies for those API calls as\nit wasn\'t really needed there and we already switched to new policies by\ndefault now.\n\nCloses-Bug: #2013326\nChange-Id: Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855\n'}]",3,884613,61b358b6b5ac160c38af66b07454c26d6a93a0bd,15,5,2,11975,,,0,"[S-RBAC] Add API policies for get and activate port bindings

There wasn't policies for get port binding and activate port binding API
calls defined at all.
When we switched to new default policies and regular user wanted to make
call to activate port binding, it was error 500 what we returned instead
of proper 4xx error. It was like that as ""get_port_binding"" call which
was done internally during ""activate"" API request falled back to the
default policy which is ""admin_or_owner"" and as port binding resource
don't have project_id, owner couldn't be checked there.

Now it has defined S-RBAC policies for those API calls and it is allowed
for admin users only to solve that problem.
This patch don't define old, deprecated policies for those API calls as
it wasn't really needed there and we already switched to new policies by
default now.

Closes-Bug: #2013326
Change-Id: Id281e4950dc5d7bac62dfa8175d82cb1f8d2e855
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/884613/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/__init__.py'],1,f3d622a9f105e7eaccd349a2875f6eada23e511e,bug/2013326,"from neutron.conf.policies import port_bindings port_bindings.list_rules(),",,2,0
openstack%2Fneutron~883386,openstack/neutron,master,Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e,Add description field to the security_group_default_rules resource,MERGED,2023-05-17 15:02:36.000000000,2023-05-31 20:31:29.000000000,2023-05-31 20:29:28.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 15:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23d19c7457ffc0209d37aa69359f055069bbb171', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 2, 'created': '2023-05-18 09:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1220bc4d519d9f73ad1c7a2d186c4f5e248d5f08', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 3, 'created': '2023-05-18 17:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dd3f7cbf21ca0bb2862e519e7cd5d56151803a5', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 4, 'created': '2023-05-18 17:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b2345dd85cebc33e4fc679aec4836d5e3a2c993', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 5, 'created': '2023-05-22 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d58b024f6d45949bfd943ff6231cf6066041f33', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}, {'number': 6, 'created': '2023-05-25 10:48:48.000000000', 'files': ['neutron/extensions/security_groups_default_rules.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b9a16c9567e9fccb48388b38b5a5335e2ff30c9', 'message': 'Add description field to the security_group_default_rules resource\n\nThis new resource has standard attributes and should expose description\nfield in the API.\n\nRelated-bug: #1983053\nChange-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e\n'}]",10,883386,1b9a16c9567e9fccb48388b38b5a5335e2ff30c9,33,4,6,11975,,,0,"Add description field to the security_group_default_rules resource

This new resource has standard attributes and should expose description
field in the API.

Related-bug: #1983053
Change-Id: Ie2940e6c705e6692eaaf53f11d11b4b62cd0a51e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/883386/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/security_groups_default_rules.py'],1,23d19c7457ffc0209d37aa69359f055069bbb171,bug/1983053,"import abc from neutron_lib.db import constants as db_constfrom neutron.extensions import standardattrdescription as stdattr_ext 'description': { 'allow_post': True, 'allow_put': False, 'default': '', 'validate': {'type:string': db_const.LONG_DESCRIPTION_FIELD_SIZE}, 'is_filter': True, 'is_sort_key': True, 'is_visible': True}, 'security-group', stdattr_ext.Standardattrdescription.get_alias()", 'security-group',10,1
openstack%2Fneutron-tempest-plugin~884476,openstack/neutron-tempest-plugin,master,I292fd053c7568853f56f7ab39d397889edfe65a4,Define proper common API extensions for 2023.1 and Zed jobs,MERGED,2023-05-26 10:10:28.000000000,2023-05-31 20:29:32.000000000,2023-05-31 20:29:32.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 10:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/be0ac20398c5dca2cce589ff08b587d9b484cad6', 'message': 'Define proper common API extensions for 2023.1 and Zed jobs\n\nIn Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1\nand stable/zed branches there was missing definition of the common API\nextensions thus list was inherited from master jobs.\n\nChange-Id: I292fd053c7568853f56f7ab39d397889edfe65a4\n'}, {'number': 2, 'created': '2023-05-29 08:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a429743fd7856c80b2380cbdbd7827cf2dc2d602', 'message': 'Define proper common API extensions for 2023.1 and Zed jobs\n\nIn Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1\nand stable/zed branches there was missing definition of the common API\nextensions thus list was inherited from master jobs.\n\nChange-Id: I292fd053c7568853f56f7ab39d397889edfe65a4\n'}, {'number': 3, 'created': '2023-05-31 09:34:16.000000000', 'files': ['zuul.d/2023_1_jobs.yaml', 'zuul.d/zed_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/764544f8bb42b93e41fd88da1a49eb535235d04c', 'message': 'Define proper common API extensions for 2023.1 and Zed jobs\n\nIn Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1\nand stable/zed branches there was missing definition of the common API\nextensions thus list was inherited from master jobs.\n\nChange-Id: I292fd053c7568853f56f7ab39d397889edfe65a4\n'}]",4,884476,764544f8bb42b93e41fd88da1a49eb535235d04c,14,3,3,11975,,,0,"Define proper common API extensions for 2023.1 and Zed jobs

In Linuxbridge and openvswitch_iptables-hybrid jobs for stable/2023.1
and stable/zed branches there was missing definition of the common API
extensions thus list was inherited from master jobs.

Change-Id: I292fd053c7568853f56f7ab39d397889edfe65a4
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/76/884476/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/2023_1_jobs.yaml', 'zuul.d/zed_jobs.yaml']",2,be0ac20398c5dca2cce589ff08b587d9b484cad6,bug/1983053, network_api_extensions_common: *api_extensions network_api_extensions_common: *api_extensions,,4,0
openstack%2Fpuppet-nova~884630,openstack/puppet-nova,master,I7627a5a6233b3d157d930e5b62e612ce9defe1f2,Drop modular libvirt daemon names for Debian/Ubuntu,MERGED,2023-05-29 14:19:37.000000000,2023-05-31 20:04:28.000000000,2023-05-31 20:04:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 14:19:37.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fe2b1c8255f4dc8777c3578f5361a0880f0986e1', 'message': 'Drop modular libvirt daemon names for Debian/Ubuntu\n\nThese distributions do not support modular libvirt daemons and now\nthe module prohibit usage of that architecture. So these definitions\nare no longer used.\n\nChange-Id: I7627a5a6233b3d157d930e5b62e612ce9defe1f2\n'}]",2,884630,fe2b1c8255f4dc8777c3578f5361a0880f0986e1,13,3,1,9816,,,0,"Drop modular libvirt daemon names for Debian/Ubuntu

These distributions do not support modular libvirt daemons and now
the module prohibit usage of that architecture. So these definitions
are no longer used.

Change-Id: I7627a5a6233b3d157d930e5b62e612ce9defe1f2
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/30/884630/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,fe2b1c8255f4dc8777c3578f5361a0880f0986e1,, $virtsecret_service_name = undef $virtnodedev_service_name = undef $virtqemu_service_name = undef $virtproxy_service_name = undef $virtstorage_service_name = undef $virtsecret_service_name = undef $virtnodedev_service_name = undef $virtqemu_service_name = undef $virtproxy_service_name = undef $virtstorage_service_name = undef, $virtsecret_service_name = 'virtsecretd.socket' $virtnodedev_service_name = 'virtnodedevd.socket' $virtqemu_service_name = 'virtqemud.socket' $virtproxy_service_name = 'virtproxyd.socket' $virtstorage_service_name = 'virtstoraged.socket' $virtsecret_service_name = 'virtsecretd' $virtnodedev_service_name = 'virtnodedevd' $virtqemu_service_name = 'virtqemud' $virtproxy_service_name = 'virtproxyd' $virtstorage_service_name = 'virtstoraged',10,10
openstack%2Fsenlin~884749,openstack/senlin,stable/zed,Ie3440cb649484f999fc37f4779d36033c96a45d7,Fix zuul CI,MERGED,2023-05-31 08:17:57.000000000,2023-05-31 20:04:19.000000000,2023-05-31 20:02:23.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-31 08:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/455c89b91a07e239043cf9d6c3aab2a3e77330de', 'message': 'Update deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n'}, {'number': 2, 'created': '2023-05-31 12:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5a93b3c89d7f2999e703d8ab2446c0f776883180', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n'}, {'number': 3, 'created': '2023-05-31 14:29:24.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin/commit/b6ef17b0f787fb7a0609ba36dc13097882a6a3ff', 'message': 'Fix zuul CI\n\nThis is squashed from two commits in order to get a passing CI.\nManually fixed tox.ini inconsistency.\n\nFirst commit:\n\nUpdate deprecated zuul syntax\n\nQueues are now declared at the project level\n\nhttps: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)\n\nSecond commit:\n\nFix doc failing to build properly\n\n(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)\n\nChange-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7\n'}]",4,884749,b6ef17b0f787fb7a0609ba36dc13097882a6a3ff,19,2,3,13252,,,0,"Fix zuul CI

This is squashed from two commits in order to get a passing CI.
Manually fixed tox.ini inconsistency.

First commit:

Update deprecated zuul syntax

Queues are now declared at the project level

https: //lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
(cherry picked from commit 5bb85f6d3dc24c5109921e7c8313f385e3d4a1d1)

Second commit:

Fix doc failing to build properly

(cherry picked from commit 83de2e97c05f9d34c059ff0d7c8680643009ebdf)

Change-Id: Ie3440cb649484f999fc37f4779d36033c96a45d7
",git fetch https://review.opendev.org/openstack/senlin refs/changes/49/884749/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,455c89b91a07e239043cf9d6c3aab2a3e77330de,fix-zuul-errors, queue: senlin, queue: senlin,1,1
openstack%2Fcharm-cinder~883365,openstack/charm-cinder,stable/xena,I57510dac1196e1c6e9aa6592706990d12cbee5dc,Testing Xena CI,ABANDONED,2023-05-17 12:07:51.000000000,2023-05-31 20:03:53.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 12:07:51.000000000', 'files': ['templates/victoria/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/9fcb4f572e1ab8fec5f1d144000a7194cfa3c55b', 'message': 'Testing Xena CI\n\nChange-Id: I57510dac1196e1c6e9aa6592706990d12cbee5dc\n'}]",0,883365,9fcb4f572e1ab8fec5f1d144000a7194cfa3c55b,4,2,1,17097,,,0,"Testing Xena CI

Change-Id: I57510dac1196e1c6e9aa6592706990d12cbee5dc
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/65/883365/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/victoria/cinder.conf'],1,9fcb4f572e1ab8fec5f1d144000a7194cfa3c55b,,something_to_trigger_ci = True,,1,0
openstack%2Fcharm-cinder~883363,openstack/charm-cinder,stable/wallaby,Iad082a45a71625c5b1e58fa0c2ce1ed1975643d6,Testing CI,ABANDONED,2023-05-17 12:06:55.000000000,2023-05-31 20:03:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 12:06:55.000000000', 'files': ['templates/victoria/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/076f3d9e93a535328bb18d560622cc8c9f75efc9', 'message': 'Testing CI\n\nChange-Id: Iad082a45a71625c5b1e58fa0c2ce1ed1975643d6\n'}]",0,883363,076f3d9e93a535328bb18d560622cc8c9f75efc9,4,2,1,17097,,,0,"Testing CI

Change-Id: Iad082a45a71625c5b1e58fa0c2ce1ed1975643d6
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/63/883363/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/victoria/cinder.conf'],1,076f3d9e93a535328bb18d560622cc8c9f75efc9,,something_to_trigger_ci = True,,1,0
openstack%2Fkolla-ansible~880310,openstack/kolla-ansible,stable/zed,I5e765f498ae86d213d0a4379ca5d473db1499962,Fix deploy/genconfig in check mode,MERGED,2023-04-13 12:40:06.000000000,2023-05-31 19:40:35.000000000,2023-05-31 19:38:24.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:40:06.000000000', 'files': ['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/84e783f194d17a7d01351162764f32b89ee25ba2', 'message': 'Fix deploy/genconfig in check mode\n\nPreviously, when running one of the following commands:\n\n  kolla-ansible deploy --check\n  kolla-ansible genconfig --check\n\ndeployment or configuration generation fails for various reasons.\n\nMariaDB fails to lookup the existing cluster.\n\nKeystone fails to generate cron config.\n\nNova-cell fails to get the cell settings.\n\nCloses-Bug: #2002661\nChange-Id: I5e765f498ae86d213d0a4379ca5d473db1499962\n(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)\n'}]",1,880310,84e783f194d17a7d01351162764f32b89ee25ba2,15,4,1,14826,,,0,"Fix deploy/genconfig in check mode

Previously, when running one of the following commands:

  kolla-ansible deploy --check
  kolla-ansible genconfig --check

deployment or configuration generation fails for various reasons.

MariaDB fails to lookup the existing cluster.

Keystone fails to generate cron config.

Nova-cell fails to get the cell settings.

Closes-Bug: #2002661
Change-Id: I5e765f498ae86d213d0a4379ca5d473db1499962
(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/880310/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml']",5,84e783f194d17a7d01351162764f32b89ee25ba2,, check_mode: false,,9,0
openstack%2Fkolla-ansible~880313,openstack/kolla-ansible,stable/zed,I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a,Add flags for RabbitMQ message TTL & queue expiry,MERGED,2023-04-13 12:46:36.000000000,2023-05-31 19:39:24.000000000,2023-05-31 19:38:22.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-04-13 12:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6032629b70f8e507689d4f32fdc5513df592d68f', 'message': 'Add flags for RabbitMQ message TTL & queue expiry\n\nAdds two new flags to alter behaviour in RabbitMQ:\n    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.\n    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.\nSee https://www.rabbitmq.com/ttl.html for more information on both.\n\nChange-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a\n(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)\n'}, {'number': 2, 'created': '2023-04-13 12:47:35.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fdf47169739ae0102fd7119f9327786272336b06', 'message': 'Add flags for RabbitMQ message TTL & queue expiry\n\nAdds two new flags to alter behaviour in RabbitMQ:\n    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.\n    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.\nSee https://www.rabbitmq.com/ttl.html for more information on both.\n\nChange-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a\n(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)\n'}]",5,880313,fdf47169739ae0102fd7119f9327786272336b06,19,4,2,14826,,,0,"Add flags for RabbitMQ message TTL & queue expiry

Adds two new flags to alter behaviour in RabbitMQ:
    * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages.
    * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues.
See https://www.rabbitmq.com/ttl.html for more information on both.

Change-Id: I51ca37ffbb1bb5c07f2d39873f0f33ca20263f2a
(cherry picked from commit dae2cbca30663b03c4c1994f26f3a0a3c0f2dcf8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/880313/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml', 'releasenotes/notes/rabbitmq-add-flags-for-message-ttl-and-queue-expiry-c163a370708f5b20.yaml']",4,6032629b70f8e507689d4f32fdc5513df592d68f,,"--- features: - | Added two new flags to alter behaviour in RabbitMQ: * `rabbitmq_message_ttl_ms`, which lets you set a TTL on messages. * `rabbitmq_queue_expiry_ms`, which lets you set an expiry time on queues. See https://www.rabbitmq.com/ttl.html for more information on both. ",,22,2
openstack%2Fopenstack-ansible-os_nova~870028,openstack/openstack-ansible-os_nova,master,I50f4f85b20a838f294f9e2118ba90eaefb4960f4,run on rocky-9,NEW,2023-01-12 19:42:55.000000000,2023-05-31 19:35:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-01-12 19:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2f94ef03f6ea907524fa57e07f5152274032cf8b', 'message': 'run on rocky-9\n\nre-runs of the ceph_client role would fail on rocky-9 as rocky seems to\nhave migrated to virtqemud from libvirtd.\n\nSee https://fedoraproject.org/wiki/Changes/LibvirtModularDaemons\n\nChange-Id: I50f4f85b20a838f294f9e2118ba90eaefb4960f4\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}, {'number': 2, 'created': '2023-01-12 19:43:27.000000000', 'files': ['vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/067bbfb89ecad7924b6238407555d15a3b1d3064', 'message': 'run on rocky-9\n\nre-runs of the os_nova role would fail on rocky-9 as rocky seems to\nhave migrated to virtqemud from libvirtd.\n\nSee https://fedoraproject.org/wiki/Changes/LibvirtModularDaemons\n\nChange-Id: I50f4f85b20a838f294f9e2118ba90eaefb4960f4\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",3,870028,067bbfb89ecad7924b6238407555d15a3b1d3064,11,2,2,14288,,,0,"run on rocky-9

re-runs of the os_nova role would fail on rocky-9 as rocky seems to
have migrated to virtqemud from libvirtd.

See https://fedoraproject.org/wiki/Changes/LibvirtModularDaemons

Change-Id: I50f4f85b20a838f294f9e2118ba90eaefb4960f4
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/28/870028/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,2f94ef03f6ea907524fa57e07f5152274032cf8b,rocky-9-virtqemud, - virtqemud.service - virtsecretd.service, - libvirtd.socket - libvirtd.service,2,2
openstack%2Fopenstack-ansible~884816,openstack/openstack-ansible,stable/2023.1,Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b,Bump SHAs for Antelope RC2,MERGED,2023-05-31 10:51:20.000000000,2023-05-31 19:24:06.000000000,2023-05-31 19:22:32.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-31 10:51:20.000000000', 'files': ['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c578e85bdde578eb98690fa189219863ad045528', 'message': 'Bump SHAs for Antelope RC2\n\nChange-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b\n(cherry picked from commit 29709994f4863d2b97d54419c3d68ec0bc2d8e92)\n'}]",0,884816,c578e85bdde578eb98690fa189219863ad045528,8,3,1,28619,,,0,"Bump SHAs for Antelope RC2

Change-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b
(cherry picked from commit 29709994f4863d2b97d54419c3d68ec0bc2d8e92)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/884816/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",8,c578e85bdde578eb98690fa189219863ad045528,bump_osa-stable/2023.1,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,29,18
openstack%2Fkolla-ansible~878337,openstack/kolla-ansible,stable/zed,Iee98cd937197a73a3b04aa8501fa325e8ecfff24,Add flag to change RabbitMQ ha-mode definition,MERGED,2023-03-23 09:03:01.000000000,2023-05-31 19:18:00.000000000,2023-05-31 19:16:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b8792da3c5dc91b65999e03de9f83730b375ebf', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}, {'number': 2, 'created': '2023-03-23 09:11:35.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/743d1af899ecf0e046daae2d9d2ba61fb2e6f0a2', 'message': 'Add flag to change RabbitMQ ha-mode definition\n\nAdds the flag `rabbitmq_ha_replica_count` to change how many different\nnodes a queue should be mirrored across. If the value is not set, then\nit defaults to ""ha-mode"":""all"". This value is unset by default to avoid\nany unexpected changes to the RabbitMQ definitions.json file, as that\nwould trigger an unexpected restart of RabbitMQ during the next deploy.\n\nChange-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24\n(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)\n'}]",1,878337,743d1af899ecf0e046daae2d9d2ba61fb2e6f0a2,16,3,2,14826,,,0,"Add flag to change RabbitMQ ha-mode definition

Adds the flag `rabbitmq_ha_replica_count` to change how many different
nodes a queue should be mirrored across. If the value is not set, then
it defaults to ""ha-mode"":""all"". This value is unset by default to avoid
any unexpected changes to the RabbitMQ definitions.json file, as that
would trigger an unexpected restart of RabbitMQ during the next deploy.

Change-Id: Iee98cd937197a73a3b04aa8501fa325e8ecfff24
(cherry picked from commit e13072a98df3727693ead107cd54d784c4e9c1cd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/878337/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-flag-to-change-replication-factor-321c2f9e08e7d179.yaml', 'tools/validate-all-file.py', 'ansible/roles/rabbitmq/defaults/main.yml']",4,8b8792da3c5dc91b65999e03de9f83730b375ebf,bug/1954925-stable/zed,"<<<<<<< HEAD (300f58 RabbitMQ: Support setting ha-promote-on-shutdown) ======= # If no replica count is specified, replicates across all nodes with definition # ""ha-mode"":""all"". Otherwise, uses # ""ha-mode"":""exactly"",""ha-params"":{{ rabbitmq_ha_replica_count | int }} rabbitmq_ha_replica_count: rabbitmq_extra_config: {} >>>>>>> CHANGE (e13072 Add flag to change RabbitMQ ha-mode definition)",,20,2
openstack%2Fkolla-ansible~878336,openstack/kolla-ansible,stable/zed,I2146bda2c72ddac2c9923c6941b0596395fd9ab5,RabbitMQ: Support setting ha-promote-on-shutdown,MERGED,2023-03-23 09:01:32.000000000,2023-05-31 19:10:37.000000000,2023-05-31 19:09:17.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-23 09:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eaa158f5ce919c2981c6f4afc61fd7959f38e7e7', 'message': 'RabbitMQ: Support setting ha-promote-on-shutdown\n\nBy default ha-promote-on-shutdown=when-synced. However we are seeing\nissues with RabbitMQ automatically recovering when nodes are restarted.\nhttps://www.rabbitmq.com/ha.html#cluster-shutdown\n\nRather than waiting for operator interventions, it is better we allow\nrecovery to happen, even if that means we may loose some messages.\nA few failed and timed out operations is better than a totaly broken\ncloud. This is achieved using ha-promote-on-shutdown=always.\n\nNote, when a node failure is detected, this is already the default\nbehaviour from 3.7.5 onwards:\nhttps://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors\n\nThis patch adds the option to change the ha-promote-on-shutdown\ndefinition, using the flag `rabbitmq_ha_promote_on_shutdown`. This\nvalue is unset by default to avoid any unexpected changes to the\nRabbitMQ definitions.json file, as that would trigger an unexpected\nrestart of RabbitMQ during the next deploy.\n\nRelated-Bug: #1954925\n\nChange-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5\n(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)\n'}, {'number': 2, 'created': '2023-03-23 09:02:08.000000000', 'files': ['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/300f584710c840e44ccf219f29f042338857e446', 'message': 'RabbitMQ: Support setting ha-promote-on-shutdown\n\nBy default ha-promote-on-shutdown=when-synced. However we are seeing\nissues with RabbitMQ automatically recovering when nodes are restarted.\nhttps://www.rabbitmq.com/ha.html#cluster-shutdown\n\nRather than waiting for operator interventions, it is better we allow\nrecovery to happen, even if that means we may loose some messages.\nA few failed and timed out operations is better than a totaly broken\ncloud. This is achieved using ha-promote-on-shutdown=always.\n\nNote, when a node failure is detected, this is already the default\nbehaviour from 3.7.5 onwards:\nhttps://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors\n\nThis patch adds the option to change the ha-promote-on-shutdown\ndefinition, using the flag `rabbitmq_ha_promote_on_shutdown`. This\nvalue is unset by default to avoid any unexpected changes to the\nRabbitMQ definitions.json file, as that would trigger an unexpected\nrestart of RabbitMQ during the next deploy.\n\nRelated-Bug: #1954925\n\nChange-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5\n(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)\n'}]",1,878336,300f584710c840e44ccf219f29f042338857e446,17,4,2,14826,,,0,"RabbitMQ: Support setting ha-promote-on-shutdown

By default ha-promote-on-shutdown=when-synced. However we are seeing
issues with RabbitMQ automatically recovering when nodes are restarted.
https://www.rabbitmq.com/ha.html#cluster-shutdown

Rather than waiting for operator interventions, it is better we allow
recovery to happen, even if that means we may loose some messages.
A few failed and timed out operations is better than a totaly broken
cloud. This is achieved using ha-promote-on-shutdown=always.

Note, when a node failure is detected, this is already the default
behaviour from 3.7.5 onwards:
https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors

This patch adds the option to change the ha-promote-on-shutdown
definition, using the flag `rabbitmq_ha_promote_on_shutdown`. This
value is unset by default to avoid any unexpected changes to the
RabbitMQ definitions.json file, as that would trigger an unexpected
restart of RabbitMQ during the next deploy.

Related-Bug: #1954925

Change-Id: I2146bda2c72ddac2c9923c6941b0596395fd9ab5
(cherry picked from commit 94f3ce0c78998e29fcc034a9b0844f9d6d602807)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/878336/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/definitions.json.j2', 'releasenotes/notes/rabbitmq-ha-promote-on-shutdown-9099c6643f2d0cce.yaml', 'ansible/roles/rabbitmq/defaults/main.yml']",3,eaa158f5ce919c2981c6f4afc61fd7959f38e7e7,bug/1954925-stable/zed,"<<<<<<< HEAD (033da7 Pin zun jobs to Docker 20) ======= # For consistency use ""when-synced"", for availability use ""always"" # The rabbitmq default for ha queues is ""when-synced"" # More details see: # https://www.rabbitmq.com/ha.html#promoting-unsynchronised-mirrors rabbitmq_ha_promote_on_shutdown: rabbitmq_extra_config: {} >>>>>>> CHANGE (94f3ce RabbitMQ: Support setting ha-promote-on-shutdown)",,24,2
openstack%2Fcharm-cinder~872574,openstack/charm-cinder,stable/wallaby,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:15:19.000000000,2023-05-31 18:57:59.000000000,2023-05-31 18:57:59.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2fc028c365e4f9f7bbbde7b4d756b327c4bfc807', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 2, 'created': '2023-05-16 18:55:25.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/90ff83272b1e3b5f732bdff95289f53bf8028069', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",7,872574,90ff83272b1e3b5f732bdff95289f53bf8028069,28,5,2,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/74/872574/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,2fc028c365e4f9f7bbbde7b4d756b327c4bfc807,,,,0,0
openstack%2Fcharm-cinder~872573,openstack/charm-cinder,stable/xena,Ia39177d6f47ddda0b1acb27cde02ae5e74a01032,Add nova section for Ussuri,MERGED,2023-02-02 14:15:00.000000000,2023-05-31 18:57:58.000000000,2023-05-31 18:57:58.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-02 14:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/c66d81e9d32fd7916dd797e0b2c89e819059074a', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}, {'number': 2, 'created': '2023-05-16 18:43:29.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/a71622b7b227b11bbc60c4ee7b391d2a98e52e1a', 'message': 'Add nova section for Ussuri\n\nCommit 024de37 added the nova section on cinder.conf, but placed it\non the Victoria folder. This issue is also observed on Ussuri, so\nthis patch moves this from Victoria to Ussuri.\n\nCloses-Bug: #1939389\nChange-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032\n(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)\n'}]",10,872573,a71622b7b227b11bbc60c4ee7b391d2a98e52e1a,30,5,2,17097,,,0,"Add nova section for Ussuri

Commit 024de37 added the nova section on cinder.conf, but placed it
on the Victoria folder. This issue is also observed on Ussuri, so
this patch moves this from Victoria to Ussuri.

Closes-Bug: #1939389
Change-Id: Ia39177d6f47ddda0b1acb27cde02ae5e74a01032
(cherry picked from commit e737668e2fa2b3c59daca5676bd27b0bf4db53fe)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/73/872573/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,c66d81e9d32fd7916dd797e0b2c89e819059074a,,,,0,0
openstack%2Fcinder~682339,openstack/cinder,master,I3c70a870b485828caf7784a027fd4dbff6c47943,Avoiding out of space issue in LVM when migrating encrypted volumes,ABANDONED,2019-09-16 10:45:24.000000000,2023-05-31 18:53:57.000000000,,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29631}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 30974}]","[{'number': 1, 'created': '2019-09-16 10:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef72aadd514a3e8aee1a155d2cc935c66cf026f0', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 2, 'created': '2019-09-18 05:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab648893f0d19c785eec3aec7f397491cb1ed349', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 3, 'created': '2019-09-18 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/432491818fad66eafe53971a732c560ad8f74a9b', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 4, 'created': '2019-09-20 10:56:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb37a41c9884c3a0787836d38692c03c98fd8c48', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 5, 'created': '2019-09-22 08:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad8210c30419eabe58c124b0b1036d129cea359c', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}, {'number': 6, 'created': '2019-09-24 12:04:20.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/94ca6acc328a458e250f1bf40ec8f7f7c3e7dbfe', 'message': ""Avoiding out of space issue in LVM when migrating encrypted volumes\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: I3c70a870b485828caf7784a027fd4dbff6c47943\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}]",15,682339,94ca6acc328a458e250f1bf40ec8f7f7c3e7dbfe,172,44,6,30974,,,0,"Avoiding out of space issue in LVM when migrating encrypted volumes

Patch to avoid the out of space issue when migrating encrypted
volume between two LVM backends

Migration of encrypted volumes or retyping to encrypted volumes causes
an outofspace issue. This process has dd copy command which assumes
that the size of the source volume to copy is SIZE OF THE VOLUME and
creates an equivalent destination volume. This works fine for normal
cases but when encryption occurs, a 2 MB encryption header is added to
the Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.
As a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE
error. This patch creates a destination volume with a size
of SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted
volumes occurs thereby completely fixing the issue.

Change-Id: I3c70a870b485828caf7784a027fd4dbff6c47943
Closes-Bug: #1720885
Closes-Bug: #1824321
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/682339/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/volume/manager.py']",2,ef72aadd514a3e8aee1a155d2cc935c66cf026f0,bug/1720885,"import os #Fix Bug 1720885 os.environ[""isEncrypted""]=""1""",,12,1
openstack%2Fansible-role-uwsgi~884374,openstack/ansible-role-uwsgi,stable/xena,I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,Replace imports with dynamic includes,MERGED,2023-05-25 15:00:39.000000000,2023-05-31 18:32:09.000000000,2023-05-31 18:31:09.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-25 15:00:39.000000000', 'files': ['tasks/main.yml', 'tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/dbf00533999a199a815e3239238510d93d2ab774', 'message': 'Replace imports with dynamic includes\n\nA weird behaviour has been spotted in AIO, where role, that was\nimporting python_venv_build and uwsgi roles was failing, as\nvenv_build_distro_package_list definition from uwsgi role was applied\non upper level even before uwsgi runtime\n\nAs a result, previous import was failing with\nuwsgi_build_distro_package_list being undefined.\n\nReplacing any import with inlcude was solving the issue. Since we re-use\nuwsgi role a lot and using include make sense in the role, we\nstart replacing static imports from here.\n\nChange-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d\n(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)\n'}]",1,884374,dbf00533999a199a815e3239238510d93d2ab774,12,3,1,28619,,,0,"Replace imports with dynamic includes

A weird behaviour has been spotted in AIO, where role, that was
importing python_venv_build and uwsgi roles was failing, as
venv_build_distro_package_list definition from uwsgi role was applied
on upper level even before uwsgi runtime

As a result, previous import was failing with
uwsgi_build_distro_package_list being undefined.

Replacing any import with inlcude was solving the issue. Since we re-use
uwsgi role a lot and using include make sense in the role, we
start replacing static imports from here.

Change-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d
(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/74/884374/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/uwsgi_install.yml']",2,dbf00533999a199a815e3239238510d93d2ab774,, include_role:, import_role:,11,3
openstack%2Fkolla-ansible~880311,openstack/kolla-ansible,stable/yoga,I5e765f498ae86d213d0a4379ca5d473db1499962,Fix deploy/genconfig in check mode,MERGED,2023-04-13 12:40:28.000000000,2023-05-31 18:32:02.000000000,2023-05-31 18:30:50.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-04-13 12:40:28.000000000', 'files': ['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7aae29b4dff1e00290f8e32fc9be03c9bd53804f', 'message': 'Fix deploy/genconfig in check mode\n\nPreviously, when running one of the following commands:\n\n  kolla-ansible deploy --check\n  kolla-ansible genconfig --check\n\ndeployment or configuration generation fails for various reasons.\n\nMariaDB fails to lookup the existing cluster.\n\nKeystone fails to generate cron config.\n\nNova-cell fails to get the cell settings.\n\nCloses-Bug: #2002661\nChange-Id: I5e765f498ae86d213d0a4379ca5d473db1499962\n(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)\n'}]",1,880311,7aae29b4dff1e00290f8e32fc9be03c9bd53804f,15,4,1,14826,,,0,"Fix deploy/genconfig in check mode

Previously, when running one of the following commands:

  kolla-ansible deploy --check
  kolla-ansible genconfig --check

deployment or configuration generation fails for various reasons.

MariaDB fails to lookup the existing cluster.

Keystone fails to generate cron config.

Nova-cell fails to get the cell settings.

Closes-Bug: #2002661
Change-Id: I5e765f498ae86d213d0a4379ca5d473db1499962
(cherry picked from commit 572ff2f8dc848453a6781731fb400dc5c9231fad)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/880311/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/tasks/wait_discover_computes.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/keystone/tasks/config.yml', 'releasenotes/notes/fix-check-mode-1f37ab5507c98954.yaml', 'ansible/roles/nova-cell/tasks/get_cell_settings.yml']",5,7aae29b4dff1e00290f8e32fc9be03c9bd53804f,, check_mode: false,,9,0
openstack%2Fkolla-ansible~877764,openstack/kolla-ansible,stable/zed,Ia709f450c3e5b73e145e89a305cd038c05507dc6,cloudkitty: set cafile for fetcher_keystone,MERGED,2023-03-20 11:28:40.000000000,2023-05-31 18:29:21.000000000,2023-05-31 18:28:02.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-03-20 11:28:40.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cea19e308fe61cde35ceba291289117cd23e7e1', 'message': 'cloudkitty: set cafile for fetcher_keystone\n\nWithout this setting, the keystone fetcher fails to authenticate when\nusing internal TLS with a local CA.\n\nCloses-Bug: #2000097\n\nChange-Id: Ia709f450c3e5b73e145e89a305cd038c05507dc6\n(cherry picked from commit b6c52323df2b6003a9d1cc145ace23919e436915)\n'}]",1,877764,6cea19e308fe61cde35ceba291289117cd23e7e1,15,3,1,15197,,,0,"cloudkitty: set cafile for fetcher_keystone

Without this setting, the keystone fetcher fails to authenticate when
using internal TLS with a local CA.

Closes-Bug: #2000097

Change-Id: Ia709f450c3e5b73e145e89a305cd038c05507dc6
(cherry picked from commit b6c52323df2b6003a9d1cc145ace23919e436915)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/877764/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2'],1,6cea19e308fe61cde35ceba291289117cd23e7e1,cloudkitty-fetcher-keystone-tls-stable/zed,cafile = {{ openstack_cacert }},,1,0
openstack%2Fneutron~884733,openstack/neutron,master,Ia716f73dffa94c9fecbcc1a7dd0f10cb62639671,"Revert ""[OVN] Remove backwards compatibility with OVN < v20.09""",MERGED,2023-05-30 17:22:18.000000000,2023-05-31 18:27:14.000000000,2023-05-31 18:25:44.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 7730}, {'_account_id': 9656}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-30 17:22:18.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-nb.ovsschema', 'neutron/tests/functional/base.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/ovn-support-chassis_private-35192565e9ee2a00.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-sb.ovsschema', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f070ba6f9dfdad0e01bded741c9a1d4beb3dd7f5', 'message': 'Revert ""[OVN] Remove backwards compatibility with OVN < v20.09""\n\nThis reverts commit be4e150de98506b080c3b9a3f324324821e4666e.\n\nReason for revert: some CI gates (devstack for example) are still\nusing some OS (Ubuntu Focal) that provide older OVN version. On\nthese jobs we are not manually compiling OVN.\n\nChange-Id: Ia716f73dffa94c9fecbcc1a7dd0f10cb62639671\n'}]",2,884733,f070ba6f9dfdad0e01bded741c9a1d4beb3dd7f5,19,9,1,16688,,,0,"Revert ""[OVN] Remove backwards compatibility with OVN < v20.09""

This reverts commit be4e150de98506b080c3b9a3f324324821e4666e.

Reason for revert: some CI gates (devstack for example) are still
using some OS (Ubuntu Focal) that provide older OVN version. On
these jobs we are not manually compiling OVN.

Change-Id: Ia716f73dffa94c9fecbcc1a7dd0f10cb62639671
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/884733/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-nb.ovsschema', 'neutron/tests/functional/base.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/ovn-support-chassis_private-35192565e9ee2a00.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-sb.ovsschema', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",16,f070ba6f9dfdad0e01bded741c9a1d4beb3dd7f5,bug/2002839, if impl_idl_ovn.OvsdbSbOvnIdl.schema_has_table('Chassis_Private'): self.agent_chassis_table = 'Chassis_Private' else: self.agent_chassis_table = 'Chassis', self.agent_chassis_table = 'Chassis_Private',113,354
openstack%2Fironic~883093,openstack/ironic,master,Ica8b8ce65e017b05c252d3cdaacef0c1ba862175,FW Object structure,ABANDONED,2023-05-13 01:05:32.000000000,2023-05-31 17:52:22.000000000,,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-13 01:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1cbf66db3ac4b778e3ae38a9744e14ef5ca8bf66', 'message': 'FW Object structure\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}, {'number': 2, 'created': '2023-05-13 14:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/55d816bc9eaf4f53b7cabe7d2ef0316493a8ebd1', 'message': 'FW Object structure\n\nFirmwareComponent\n* create | save | get | delete\n\nFirmwareComponentList\n* create | save | delete | get_by_node id | sync_node_fw_components\n\nTests for db and objects\n\nStory: 2010659\nTask: 47994\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}, {'number': 3, 'created': '2023-05-23 21:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e498b5f9c6f4be642e9b4f3d24696fc644205860', 'message': 'FW Object structure\n\nFirmwareComponent\n* create | save | get | delete\n\nFirmwareComponentList\n* create | save | delete | get_by_node id | sync_node_fw_components\n\nTests for db and objects\n\nStory: 2010659\nTask: 47994\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}, {'number': 4, 'created': '2023-05-25 01:07:17.000000000', 'files': ['ironic/tests/unit/objects/test_firmware.py', 'ironic/objects/firmware.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_firmware_component.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/objects/__init__.py', 'ironic/tests/unit/objects/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b2ffe34b9ece57bccb7c50654bcd196c039effe1', 'message': 'FW Object structure\n\nFirmwareComponent\n* create | save | get | delete\n\nFirmwareComponentList\n* create | save | delete | get_by_node id | sync_node_fw_components\n\nTests for db and objects\n\nStory: 2010659\nTask: 47994\n\nChange-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175\n'}]",3,883093,b2ffe34b9ece57bccb7c50654bcd196c039effe1,22,2,4,15519,,,0,"FW Object structure

FirmwareComponent
* create | save | get | delete

FirmwareComponentList
* create | save | delete | get_by_node id | sync_node_fw_components

Tests for db and objects

Story: 2010659
Task: 47994

Change-Id: Ica8b8ce65e017b05c252d3cdaacef0c1ba862175
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/883093/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/objects/test_firmware.py', 'ironic/objects/firmware.py', 'ironic/tests/unit/db/utils.py', 'ironic/tests/unit/db/test_firmware_component.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/objects/__init__.py', 'ironic/tests/unit/objects/utils.py']",7,1cbf66db3ac4b778e3ae38a9744e14ef5ca8bf66,fw_object_modeling," def get_test_firmware_component(ctxt, **kw): """"""Return a FirmwareComponent object with appropriate attributes. NOTE: The object leaves the attributes marked as changed, such that a create() could be used to commit it to the DB. """""" kw['object_type'] = 'firmware' db_fw_component = db_utils.get_test_firmware_component(**kw) fw_cmp = objects.FirmwareComponent(ctxt) for key in db_fw_component: setattr(fw_cmp, key, db_fw_component[key]) return fw_cmp def create_test_firmware_component(ctxt, **kw): """"""Create and return a test firmware component object. Create a Firmware Component in the DB and return a FirmwareComponent object with appropriate attributes. """""" fw_cmp = get_test_firmware_component(ctxt, **kw) fw_cmp.create() return fw_cmp",,509,5
openstack%2Fcharm-cinder~874334,openstack/charm-cinder,stable/victoria,I6d44223b7c2863c6d9c62b46a41275fd360f92d1,Add nova section,MERGED,2023-02-17 21:34:46.000000000,2023-05-31 17:45:47.000000000,2023-05-31 17:45:47.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-17 21:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/27e642f12ade216d1e72bac57ae1ce2404607c41', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}, {'number': 2, 'created': '2023-02-17 21:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/e2e6579fc2ca161cb1775a438936ca8bbcdb2097', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}, {'number': 3, 'created': '2023-05-12 18:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/670361f070fb30d95c0ea0214e95968c7a1906e4', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}, {'number': 4, 'created': '2023-05-15 12:55:35.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-victoria.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2bf21135499d2fa22932c24ca06a5e520e0f2529', 'message': ""Add nova section\n\nCinder sometimes needs to communicate with nova,\nfor example to notify VMs when live-resizing a disk.\nUnder certain circumstances,\nthe autodetected authentication details don't work,\nso we must add a dedicated section in the config\nfor the nova client with proper credentials.\n\nThis issue has been observed on victoria and newer,\nhence the addition of cinder.conf for victoria.\n\nCloses-Bug: #1939389\n\nCo-authored-by: Samuel Walladge <samuel.walladge@canonical.com>\n\nChange-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1\n(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)\n""}]",7,874334,2bf21135499d2fa22932c24ca06a5e520e0f2529,30,5,4,17097,,,0,"Add nova section

Cinder sometimes needs to communicate with nova,
for example to notify VMs when live-resizing a disk.
Under certain circumstances,
the autodetected authentication details don't work,
so we must add a dedicated section in the config
for the nova client with proper credentials.

This issue has been observed on victoria and newer,
hence the addition of cinder.conf for victoria.

Closes-Bug: #1939389

Co-authored-by: Samuel Walladge <samuel.walladge@canonical.com>

Change-Id: I6d44223b7c2863c6d9c62b46a41275fd360f92d1
(cherry picked from commit 024de3783fc459fc25596ec6084dd065e945df76)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/34/874334/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/focal-victoria.yaml', 'templates/victoria/cinder.conf', 'templates/parts/service-auth']",4,27e642f12ade216d1e72bac57ae1ce2404607c41,,# Authentication type to load (string value) auth_type = password # Authentication URL (string value) auth_url = {{ auth_protocol }}://{{ auth_host }}:{{ auth_port }} # Username (string value) username = {{ admin_user }} # User's password (string value) password = {{ admin_password }} # Project name to scope to (string value) project_name = {{ admin_tenant_name }} {% if admin_domain_name -%} project_domain_name = {{ admin_domain_name }} user_domain_name = {{ admin_domain_name }} {% else -%} project_domain_name = default user_domain_name = default {% endif -%} {% if ca_cert_path -%} # PEM encoded Certificate Authority to use when verifying # HTTPs connections. (string value) cafile = {{ ca_cert_path }} {% endif -%} region_name = {{ region }} ,,137,4
openstack%2Fkayobe~883727,openstack/kayobe,stable/zed,I9c698916999b30bf3fd8f7dfe5add7d332a84b6c,CI: Unbreak stable/zed with two cherry-picks,MERGED,2023-05-22 18:51:20.000000000,2023-05-31 16:25:16.000000000,2023-05-31 16:23:58.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-22 18:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4468e89c029843442897a50af50692f75e65f46e', 'message': 'CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n'}, {'number': 2, 'created': '2023-05-31 12:24:53.000000000', 'files': ['playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a38ff9573a21be7f1eb81660d7ac4f172fff99d6', 'message': 'CI: Unbreak stable/zed with two cherry-picks\n\n1) CI: Enable bare metal testing for Ubuntu upgrades\n\nMore than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704\nenabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It\nshould be safe to test during upgrade jobs too.\n\n(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)\n\n2) CI: Disable bare metal testing on RL9/c9s\n\nRocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal\ntesting. Temporarily run bare metal testing only on Ubuntu.\n\nThis allows us to make rocky9 jobs voting again.\n\n(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)\n\nChange-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c\n'}]",1,883727,a38ff9573a21be7f1eb81660d7ac4f172fff99d6,12,5,2,15197,,,0,"CI: Unbreak stable/zed with two cherry-picks

1) CI: Enable bare metal testing for Ubuntu upgrades

More than one year ago, change I96827fc32c1594ca9a0535e259929c49d3f0e704
enabled bare metal testing on Ubuntu, but only for non-upgrade jobs. It
should be safe to test during upgrade jobs too.

(cherry picked from commit 916ffba691cfae80490b7accedd26eb65328f6ea)

2) CI: Disable bare metal testing on RL9/c9s

Rocky Linux 9.2 shipped with Libvirt 9.0.0 which breaks our bare metal
testing. Temporarily run bare metal testing only on Ubuntu.

This allows us to make rocky9 jobs voting again.

(cherry picked from commit 21c68bbfafe529e1c337ba242c2e501c75bfedaa)

Change-Id: I9c698916999b30bf3fd8f7dfe5add7d332a84b6c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/27/883727/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/run.yml'],1,4468e89c029843442897a50af50692f75e65f46e,,, # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian' # FIXME(mgoddard): Bare metal testing is unreliable on Ubuntu - some jobs # see IPMI failures such as the following: # ipmitool chassis bootdev pxe # Error setting Chassis Boot Parameter 5\nError setting Chassis Boot # Parameter 0\n when: ansible_facts.os_family != 'Debian',0,12
openstack%2Fopenstack-ansible~884717,openstack/openstack-ansible,master,I0ef888fc91bf3888851f6251a21d546f62333195,Update master for stable/2023.1,MERGED,2023-05-30 15:34:45.000000000,2023-05-31 16:17:31.000000000,2023-05-31 16:15:55.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 15:34:45.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5fa98690a977c03baa409da813a5c00a3922e9f', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I0ef888fc91bf3888851f6251a21d546f62333195\n'}]",0,884717,c5fa98690a977c03baa409da813a5c00a3922e9f,7,2,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I0ef888fc91bf3888851f6251a21d546f62333195
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/884717/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,c5fa98690a977c03baa409da813a5c00a3922e9f,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fopenstack-ansible~884818,openstack/openstack-ansible,stable/2023.1,Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b,Fix repo url in healthcheck-infrastructure.yml,MERGED,2023-05-31 10:53:41.000000000,2023-05-31 16:17:25.000000000,2023-05-31 16:15:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-31 10:53:41.000000000', 'files': ['playbooks/healthcheck-infrastructure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7fb3a720bc3fee3045fec924d61939febce3bef2', 'message': 'Fix repo url in healthcheck-infrastructure.yml\n\nRepository may be also available over https.\nThat is why `openstack_repo_protocol` variable should be used instead\nof hardcoded http://.\n\nChange-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b\n(cherry picked from commit 724caeffd822bc687fa80d015f7fee85bc844c76)\n'}]",0,884818,7fb3a720bc3fee3045fec924d61939febce3bef2,8,3,1,28619,,,0,"Fix repo url in healthcheck-infrastructure.yml

Repository may be also available over https.
That is why `openstack_repo_protocol` variable should be used instead
of hardcoded http://.

Change-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b
(cherry picked from commit 724caeffd822bc687fa80d015f7fee85bc844c76)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/884818/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-infrastructure.yml'],1,7fb3a720bc3fee3045fec924d61939febce3bef2,tls-backend-stable/2023.1," vars_files: - ""defaults/{{ install_method }}_install.yml"" url: ""{{ openstack_repo_protocol }}://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}"""," url: ""http://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}""",3,1
openstack%2Frequirements~884751,openstack/requirements,master,Ib987f6abebb2edac1bbdd39638b5fdcea4a7b34e,update constraint for tooz to new release 4.1.0,MERGED,2023-05-30 17:02:02.000000000,2023-05-31 16:10:43.000000000,2023-05-31 16:09:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 17:02:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/543fce79bb91a2541e394cf0b41da6aaeeea46e6', 'message': 'update constraint for tooz to new release 4.1.0\n\nmeta: version: 4.1.0\nmeta: diff-start: -\nmeta: series: independent\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta: release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta: release:Change-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>\nChange-Id: Ib987f6abebb2edac1bbdd39638b5fdcea4a7b34e\n'}]",1,884751,543fce79bb91a2541e394cf0b41da6aaeeea46e6,9,2,1,11131,,,0,"update constraint for tooz to new release 4.1.0

meta: version: 4.1.0
meta: diff-start: -
meta: series: independent
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>
meta: release:Change-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Hervé Beraud <herveberaud.pro@gmail.com>
Change-Id: Ib987f6abebb2edac1bbdd39638b5fdcea4a7b34e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/884751/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,543fce79bb91a2541e394cf0b41da6aaeeea46e6,new-release,tooz===4.1.0,tooz===3.2.0,1,1
openstack%2Fopenstack-manuals~881253,openstack/openstack-manuals,master,I90569d1e01d7ad958786cabf4b8bdb0791161a4e,[www] Set Xena status to Extended Maintenance,MERGED,2023-04-21 17:32:27.000000000,2023-05-31 16:08:09.000000000,2023-05-31 15:42:42.000000000,"[{'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-21 17:32:27.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f2d8f9deb89c2efa66a92c6a07d5dc6fc7b31780', 'message': ""[www] Set Xena status to Extended Maintenance\n\nProject's last releases in Xena have been tagged with xena-em.\nNow indicate that Xena is in Extended Maintenance phase also at\nhttps://docs.openstack.org\n\nPlanned transition date is April 20th, 2023.\n\nChange-Id: I90569d1e01d7ad958786cabf4b8bdb0791161a4e\n""}]",3,881253,f2d8f9deb89c2efa66a92c6a07d5dc6fc7b31780,12,3,1,17685,,,0,"[www] Set Xena status to Extended Maintenance

Project's last releases in Xena have been tagged with xena-em.
Now indicate that Xena is in Extended Maintenance phase also at
https://docs.openstack.org

Planned transition date is April 20th, 2023.

Change-Id: I90569d1e01d7ad958786cabf4b8bdb0791161a4e
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/53/881253/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,f2d8f9deb89c2efa66a92c6a07d5dc6fc7b31780,xena-em," ('xena', SeriesInfo(date='October 2021', status='extended-maintenance')),"," ('xena', SeriesInfo(date='October 2021', status='maintained')),",1,1
openstack%2Fopenstack-ansible~884817,openstack/openstack-ansible,stable/2023.1,Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170,Implement support for haproxy_accept_both_protocols,MERGED,2023-05-31 10:53:06.000000000,2023-05-31 15:51:59.000000000,2023-05-31 15:50:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-31 10:53:06.000000000', 'files': ['inventory/group_vars/glance_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/sahara_all/haproxy_service.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/manila_all/haproxy_service.yml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'releasenotes/notes/openstack_service_accept_both_protocols-c7d1a89befeae9fe.yaml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'inventory/group_vars/repo_all.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/063b23c287b5052d0f4356bda6569fb152b07e1a', 'message': 'Implement support for haproxy_accept_both_protocols\n\nEnabling TLS on the internal VIP for existing deployments will cause\ndowntime until each client is configured to use HTTPS instead of HTTP.\n\nTo avoid downtime, it is recommended to enable\n`openstack_service_accept_both_protocols` until all services are\nconfigured correctly.\nIt allows haproxy frontends to accept both HTTP and HTTPS.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784\nChange-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170\n(cherry picked from commit b75a9d0dd07d1fe1b578398714e776911f3fb2a9)\n'}]",0,884817,063b23c287b5052d0f4356bda6569fb152b07e1a,8,3,1,28619,,,0,"Implement support for haproxy_accept_both_protocols

Enabling TLS on the internal VIP for existing deployments will cause
downtime until each client is configured to use HTTPS instead of HTTP.

To avoid downtime, it is recommended to enable
`openstack_service_accept_both_protocols` until all services are
configured correctly.
It allows haproxy frontends to accept both HTTP and HTTPS.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784
Change-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170
(cherry picked from commit b75a9d0dd07d1fe1b578398714e776911f3fb2a9)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/884817/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/glance_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/sahara_all/haproxy_service.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/manila_all/haproxy_service.yml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'releasenotes/notes/openstack_service_accept_both_protocols-c7d1a89befeae9fe.yaml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'inventory/group_vars/repo_all.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml']",30,063b23c287b5052d0f4356bda6569fb152b07e1a,tls-backend-stable/2023.1," haproxy_accept_both_protocols: ""{{ magnum_accept_both_protocols | default(openstack_service_accept_both_protocols) }}""",,45,4
openstack%2Fnova~883723,openstack/nova,stable/zed,Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed,Fix get_segments_id with subnets without segment_id,MERGED,2023-05-22 15:39:37.000000000,2023-05-31 15:47:46.000000000,2023-05-31 15:46:36.000000000,"[{'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-22 15:39:37.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/77db64237b23050d94df113a38412c5333d23357', 'message': 'Fix get_segments_id with subnets without segment_id\n\nUnfortunatly when we merged Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a we\nforgot that subnets can have no segment_id field.\n\nChange-Id: Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed\nCloses-Bug: #2018375\n(cherry picked from commit 6d7bd6a03446d5227d515b2b4c0da632ef4aa4a1)\n(cherry picked from commit 6b8d9d419170fb0ec2c6df561a0874e6362382c1)\n'}]",3,883723,77db64237b23050d94df113a38412c5333d23357,12,4,1,7166,,,0,"Fix get_segments_id with subnets without segment_id

Unfortunatly when we merged Ie166f3b51fddeaf916cda7c5ac34bbcdda0fd17a we
forgot that subnets can have no segment_id field.

Change-Id: Idb35b7e3c69fe8efe498abe4ebcc6cad8918c4ed
Closes-Bug: #2018375
(cherry picked from commit 6d7bd6a03446d5227d515b2b4c0da632ef4aa4a1)
(cherry picked from commit 6b8d9d419170fb0ec2c6df561a0874e6362382c1)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/883723/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,77db64237b23050d94df113a38412c5333d23357,bug/2018375, if subnet.get('segment_id') is not None], if subnet['segment_id'] is not None],18,2
openstack%2Fpuppet-openstack_extras~884806,openstack/puppet-openstack_extras,master,Icf089b50f497f3200e55877894b555e1e84a2d64,Allow tuning timeout for package update,MERGED,2023-05-31 05:15:37.000000000,2023-05-31 15:43:43.000000000,2023-05-31 15:42:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 05:15:37.000000000', 'files': ['releasenotes/notes/yum-update-timeout-c68438aab2477331.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/0f4c670e3d44f5284b45927ac60b506ba22d5920', 'message': 'Allow tuning timeout for package update\n\nSometimes package update takes very long. This introduces a parameter\nto make the command timeout tunable.\n\nChange-Id: Icf089b50f497f3200e55877894b555e1e84a2d64\n'}]",0,884806,0f4c670e3d44f5284b45927ac60b506ba22d5920,8,3,1,9816,,,0,"Allow tuning timeout for package update

Sometimes package update takes very long. This introduces a parameter
to make the command timeout tunable.

Change-Id: Icf089b50f497f3200e55877894b555e1e84a2d64
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/06/884806/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/yum-update-timeout-c68438aab2477331.yaml', 'manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb']",3,0f4c670e3d44f5284b45927ac60b506ba22d5920,," context 'with update_timeout' do let :params do { :update_packages => true, :update_timeout => 1200, } end it { should contain_exec('yum_update').with( :command => '/usr/bin/dnf update -y', :refreshonly => true, :timeout => 1200, )} end ",,28,1
openstack%2Fcharm-glance-k8s~884678,openstack/charm-glance-k8s,main,I1fb0734d89de5819771e9cb7b2e7a0ece25111f3,Drop install of ceph-common,MERGED,2023-05-30 10:52:10.000000000,2023-05-31 15:41:48.000000000,2023-05-31 15:06:41.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-30 10:52:10.000000000', 'files': ['tests/unit/test_glance_charm.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/6fe6cbb2dddc0c67b261e97ee7f05b562dd61c12', 'message': ""Drop install of ceph-common\n\nWith the switch to using ROCK's, installing ceph-common is no longer\nrequired.\n\nChange-Id: I1fb0734d89de5819771e9cb7b2e7a0ece25111f3\n""}]",3,884678,6fe6cbb2dddc0c67b261e97ee7f05b562dd61c12,14,3,1,935,,,0,"Drop install of ceph-common

With the switch to using ROCK's, installing ceph-common is no longer
required.

Change-Id: I1fb0734d89de5819771e9cb7b2e7a0ece25111f3
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/78/884678/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/test_glance_charm.py', 'src/charm.py']",2,6fe6cbb2dddc0c67b261e97ee7f05b562dd61c12,drop-ceph-common-install," if ph.pebble_ready: ph.execute([""a2enmod"", ""proxy_http""], exception_on_error=True) if self.has_ceph_relation() and self.ceph.key:"," ph.execute([""a2enmod"", ""proxy_http""], exception_on_error=True) if ph.pebble_ready: if self.has_ceph_relation() and self.ceph.key: logger.debug(""Setting up Ceph packages in images."") ph.execute([""apt"", ""update""], exception_on_error=True) ph.execute( [""apt"", ""install"", ""-y"", ""ceph-common""], exception_on_error=True, )",1,9
openstack%2Fcharm-openstack-hypervisor~884894,openstack/charm-openstack-hypervisor,main,I759e5436e47869d30c1f0de7ccdabed2ba6f1c49,Add dependencies with native components as binary packages,MERGED,2023-05-31 14:38:29.000000000,2023-05-31 15:35:55.000000000,2023-05-31 15:04:51.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 14:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/b47f18ddb27911a06149392234d9a8137b001e85', 'message': ""Add dependencies with native components as binary packages\n\nThe build time is very long because of PIP having to fetch and build\nnative components of the libraries. This change show a possible way to\nbypass this issue. This has implication regarding the platform it's\nrunning on. In this case, we know the charm is going to be run on a\n22.04 container.\n\nChange-Id: I759e5436e47869d30c1f0de7ccdabed2ba6f1c49\n""}, {'number': 2, 'created': '2023-05-31 14:55:35.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/e755f97c3ca726f338c8796c5faff63607001d3c', 'message': ""Add dependencies with native components as binary packages\n\nThe build time is very long because of PIP having to fetch and build\nnative components of the libraries. This change show a possible way to\nbypass this issue. This has implication regarding the platform it's\nrunning on. In this case, we know the charm is going to be run on a\n22.04 machine.\n\nChange-Id: I759e5436e47869d30c1f0de7ccdabed2ba6f1c49\n""}]",0,884894,e755f97c3ca726f338c8796c5faff63607001d3c,9,2,2,35761,,,0,"Add dependencies with native components as binary packages

The build time is very long because of PIP having to fetch and build
native components of the libraries. This change show a possible way to
bypass this issue. This has implication regarding the platform it's
running on. In this case, we know the charm is going to be run on a
22.04 machine.

Change-Id: I759e5436e47869d30c1f0de7ccdabed2ba6f1c49
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/94/884894/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,b47f18ddb27911a06149392234d9a8137b001e85,build-time-exp, charm-binary-python-packages: - cryptography - jsonschema - jinja2 - git+https://opendev.org/openstack/charm-ops-sunbeam#egg=ops_sunbeam,,5,0
openstack%2Fpuppet-keystone~884742,openstack/puppet-keystone,master,I6520001eafb2683e5225b8491ccb0c168e95bd30,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:38:34.000000000,2023-05-31 15:35:47.000000000,2023-05-31 15:35:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/9076c688c326b42b3bcd116417d568886b2c070f', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit cad09a6b17369d0507de624f729d1eb36dc45b67.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n    \n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n    \n\nChange-Id: I6520001eafb2683e5225b8491ccb0c168e95bd30\n'}, {'number': 2, 'created': '2023-05-31 03:38:49.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3dd6d887f3e283af951cf35545a0ed8f53087384', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit cad09a6b17369d0507de624f729d1eb36dc45b67.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I6520001eafb2683e5225b8491ccb0c168e95bd30\n'}]",1,884742,3dd6d887f3e283af951cf35545a0ed8f53087384,12,4,2,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit cad09a6b17369d0507de624f729d1eb36dc45b67.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I6520001eafb2683e5225b8491ccb0c168e95bd30
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/42/884742/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,9076c688c326b42b3bcd116417d568886b2c070f,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $domain_config_directory)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $domain_config_directory)",1,1
openstack%2Fpuppet-openstacklib~884743,openstack/puppet-openstacklib,master,I560dbe312a5833f1d6705768bfbf79c06a9ce734,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:39:34.000000000,2023-05-31 15:32:56.000000000,2023-05-31 15:32:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:39:34.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/b6478cb103e9d909ac6a329883e2e63596c050be', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit 0861e31cf9e3d4cb6022038f46caf3cdc5f83873.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I560dbe312a5833f1d6705768bfbf79c06a9ce734\n'}]",1,884743,b6478cb103e9d909ac6a329883e2e63596c050be,11,4,1,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit 0861e31cf9e3d4cb6022038f46caf3cdc5f83873.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I560dbe312a5833f1d6705768bfbf79c06a9ce734
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/43/884743/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,b6478cb103e9d909ac6a329883e2e63596c050be,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $policy_path)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $policy_path)",1,1
openstack%2Fpuppet-horizon~884745,openstack/puppet-horizon,master,I40cbb3d514081520ea01f42b3ed5cc123d0c930e,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:40:01.000000000,2023-05-31 15:32:01.000000000,2023-05-31 15:32:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:40:01.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/fae7d47b1bc9bcd40febcca898399ae4450279e1', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit 92950a690d6d73a5938da117be6812b2663e27b6.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I40cbb3d514081520ea01f42b3ed5cc123d0c930e\n'}]",0,884745,fae7d47b1bc9bcd40febcca898399ae4450279e1,9,4,1,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit 92950a690d6d73a5938da117be6812b2663e27b6.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I40cbb3d514081520ea01f42b3ed5cc123d0c930e
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/45/884745/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,fae7d47b1bc9bcd40febcca898399ae4450279e1,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $root_path)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $root_path)",1,1
openstack%2Ftripleo-upgrade~883213,openstack/tripleo-upgrade,stable/wallaby,I9369c453fb5ec7acf9ace70d3d308c652c9ee547,[ffwd] Modify network environement instead of drop,MERGED,2023-05-15 22:28:11.000000000,2023-05-31 15:27:36.000000000,2023-05-31 15:27:36.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-15 22:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/993f5a79d110a53d5acd503c54a8e46bc19bd63a', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 2, 'created': '2023-05-16 11:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/78f22ae06a09edb210b50c51a7e62f3232aba74c', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 3, 'created': '2023-05-16 13:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/593b16730b83d8a30fd8de529f9e9f8a4a964a74', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 4, 'created': '2023-05-16 16:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/179edab6d2668cdb7c8ce1a138adffe822162c99', 'message': 'WIP\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 5, 'created': '2023-05-16 22:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7e22fdb2ae8ec3df06778788f3d396a386b7dc6d', 'message': '[ffwd] Modify network environement instead of drop\n\nWe used to remove network-environement.yaml file as we get the\nnetwork environment data from UC export. Sadly this file is often\nalso used to pass other parameters than just network environment.\n\nTo solve this and resolve resource conflict we simply reuse the file\nbut drop the resource_registry from it.\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}, {'number': 6, 'created': '2023-05-19 06:56:25.000000000', 'files': ['tasks/common/adjust-network-environment.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/50cb52ad60d0c680fb2b0fcad29f30307bd4c73c', 'message': '[ffwd] Modify network environement instead of drop\n\nWe used to remove network-environement.yaml file as we get the\nnetwork environment data from UC export. Sadly this file is often\nalso used to pass other parameters than just network environment.\n\nTo solve this and resolve resource conflict we simply reuse the file\nbut drop the resource_registry from it.\n\nChange-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547\n'}]",1,883213,50cb52ad60d0c680fb2b0fcad29f30307bd4c73c,17,4,6,11166,,,0,"[ffwd] Modify network environement instead of drop

We used to remove network-environement.yaml file as we get the
network environment data from UC export. Sadly this file is often
also used to pass other parameters than just network environment.

To solve this and resolve resource conflict we simply reuse the file
but drop the resource_registry from it.

Change-Id: I9369c453fb5ec7acf9ace70d3d308c652c9ee547
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/883213/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-network-environment.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml']",3,993f5a79d110a53d5acd503c54a8e46bc19bd63a,, - name: adjust network-environment for upgrade include_tasks: ../common/adjust-network-environment.yaml when: - network_environment_file is defined - network_environment_file != '' tags: ffu_overcloud_prepare ,,31,13
openstack%2Fcharm-mysql-innodb-cluster~884850,openstack/charm-mysql-innodb-cluster,master,I64d20db9c59688bb3a40f2e0f58fb138f8522341,Remove reference to performance-schema option that doesn't exist,MERGED,2023-05-31 09:23:51.000000000,2023-05-31 15:26:15.000000000,2023-05-31 15:26:15.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:23:51.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781', 'message': ""Remove reference to performance-schema option that doesn't exist\n\nChange-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341\nCloses-Bug: #1882211\n""}]",1,884850,4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781,7,3,1,20870,,,0,"Remove reference to performance-schema option that doesn't exist

Change-Id: I64d20db9c59688bb3a40f2e0f58fb138f8522341
Closes-Bug: #1882211
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/50/884850/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,4ff1eb35aa1f346ce2336f44dd7b7ac388ccc781,bug/1882211, Note: Connections take up memory resources. See also MySQL Performance Schema at https://dev.mysql.com/doc/refman/8.0/en/performance-schema.html., Note: Connections take up memory resources. Either at startup time with performance-schema=True or during run time with performance-schema=False. See also performance-schema.,3,3
openstack%2Fpuppet-qdr~884803,openstack/puppet-qdr,master,Ie8532960aad01054ee5e255df61d1d0970e8a566,Replace deprecated Stdlib::Compat::Integer,MERGED,2023-05-31 03:42:48.000000000,2023-05-31 15:24:50.000000000,2023-05-31 15:24:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 03:42:48.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/78d889e7c3d79e5c026d4daec3700776f90ce849', 'message': 'Replace deprecated Stdlib::Compat::Integer\n\nAll Stdlib::Compat::* types were removed in the latest stdlib[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: Ie8532960aad01054ee5e255df61d1d0970e8a566\n'}]",1,884803,78d889e7c3d79e5c026d4daec3700776f90ce849,10,3,1,9816,,,0,"Replace deprecated Stdlib::Compat::Integer

All Stdlib::Compat::* types were removed in the latest stdlib[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: Ie8532960aad01054ee5e255df61d1d0970e8a566
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/03/884803/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,78d889e7c3d79e5c026d4daec3700776f90ce849,puppetlabs-stdlib-9.0.0, if ! $listener_port =~ Integer {, if ! $listener_port =~ Stdlib::Compat::Integer {,1,1
openstack%2Fpuppet-qdr~884744,openstack/puppet-qdr,master,I657c74d476b34fbb3e15229f48440dbbdbde8402,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""",MERGED,2023-05-31 03:39:54.000000000,2023-05-31 15:24:49.000000000,2023-05-31 15:24:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-31 03:39:54.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/d729093de03c314efafbe93a57418c0c69b71768', 'message': 'Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""\n\nThis reverts commit 9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1.\n\nReason for revert:\nStdlib::Absolutepath has never been deprecated, but\nStdlib::Compat::Absolute_path was deprecated. The latest stdlib\nremoved all Stdlib::Compat::* types[1].\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a\n\nChange-Id: I657c74d476b34fbb3e15229f48440dbbdbde8402\n'}]",0,884744,d729093de03c314efafbe93a57418c0c69b71768,9,4,1,9816,,,0,"Revert ""Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path""

This reverts commit 9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1.

Reason for revert:
Stdlib::Absolutepath has never been deprecated, but
Stdlib::Compat::Absolute_path was deprecated. The latest stdlib
removed all Stdlib::Compat::* types[1].

[1] https://github.com/puppetlabs/puppetlabs-stdlib/commit/fcbd4267fd830982e86041599d4eb11c2072a94a

Change-Id: I657c74d476b34fbb3e15229f48440dbbdbde8402
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/44/884744/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,d729093de03c314efafbe93a57418c0c69b71768,puppetlabs-stdlib-9.0.0," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_sasl_path)"," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_sasl_path)",2,2
openstack%2Fswift~884516,openstack/swift,master,I3e08b8f1d7329f8964d8407cb2e125deb9966a8a,memcached: add method and time_spent to exception logs,MERGED,2023-05-26 15:27:34.000000000,2023-05-31 15:11:18.000000000,2023-05-31 15:10:10.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-26 15:27:34.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a25087e1c700ebfe3053922813efba91dc77d630', 'message': 'memcached: add method and time_spent to exception logs\n\nThe method and time_spent were previously added to the error log\nmessages. This patch does the same for exception logging.\n\nChange-Id: I3e08b8f1d7329f8964d8407cb2e125deb9966a8a\nRelated-Change: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47\n'}]",3,884516,a25087e1c700ebfe3053922813efba91dc77d630,18,4,1,7847,,,0,"memcached: add method and time_spent to exception logs

The method and time_spent were previously added to the error log
messages. This patch does the same for exception logging.

Change-Id: I3e08b8f1d7329f8964d8407cb2e125deb9966a8a
Related-Change: I4d4f20b92b85255ac8bf66f2c830e691e64bbe47
",git fetch https://review.opendev.org/openstack/swift refs/changes/16/884516/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/memcached.py', 'test/unit/common/test_memcached.py']",2,a25087e1c700ebfe3053922813efba91dc77d630,p-memcache-incr," self.assertEqual( 'Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix incr_key, method incr, time_spent 0.0: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual( 'Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix set_key, method set, time_spent 0.0: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual( 'Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix get_key, method get, time_spent 0.0: ', self.logger.get_lines_for_level('error')[0]) self.assertIn(""with key_prefix shard-updating-v2/acc, method incr, "" ""time_spent 1.0"" % resp.split(), error_logs[0]) self.assertEqual([4004.99], memcache_client._errors['1.2.3.4:11211'])"," self.assertEqual('Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix incr_key: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual('Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix set_key: ', self.logger.get_lines_for_level('error')[0]) self.assertEqual('Error talking to memcached: 1.2.3.4:11211: ' 'with key_prefix get_key: ', self.logger.get_lines_for_level('error')[0]) self.assertIn(""with key_prefix shard-updating-v2/acc"" % resp.split(), error_logs[0]) self.assertEqual([4003.99], memcache_client._errors['1.2.3.4:11211'])",22,16
openstack%2Fopenstack-ansible~862508,openstack/openstack-ansible,master,I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb,Move ceph-install to setup-everything,ABANDONED,2022-10-24 16:35:29.000000000,2023-05-31 15:00:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}, {'_account_id': 34653}]","[{'number': 1, 'created': '2022-10-24 16:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6222a34485f7dc412225b3be39c78f447000bef8', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 2, 'created': '2022-10-24 16:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/79fd6b14e06cdbcf2102c07dce780cdc4e56e708', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 3, 'created': '2022-10-26 08:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fde8c9df737081fc2b388f8586e649b0729854ee', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 4, 'created': '2022-10-26 08:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ea2626446a2989339e1e2840a234589ee593646f', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}, {'number': 5, 'created': '2022-10-26 08:39:04.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'releasenotes/notes/ceph_setup_everything-4ceb0434b2ef68c4.yaml', 'doc/source/user/ceph/full-deploy.rst', 'scripts/gate-check-commit.sh', 'playbooks/setup-everything.yml', 'playbooks/ceph-install.yml', 'playbooks/setup-infrastructure.yml', 'playbooks/ceph-nfs-install.yml', 'doc/source/admin/upgrades/major-upgrades.rst', 'playbooks/os-manila-install.yml', 'doc/source/admin/upgrades/minor-upgrades.rst', 'playbooks/setup-openstack.yml', 'scripts/run-upgrade.sh', 'playbooks/setup-openstack-qa.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/43a356442dd8b960b33d948a11dacafa02a6fa0f', 'message': 'Move ceph-install to setup-everything\n\nCeph is not either part of infrastructure nor of openstack. It is\na standalone thing which OpenStack-Ansible provide integration with\nonly for sample implementation and does not provide support for\nDay 2 operations\n\nChange-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb\n'}]",10,862508,43a356442dd8b960b33d948a11dacafa02a6fa0f,16,4,5,28619,,,0,"Move ceph-install to setup-everything

Ceph is not either part of infrastructure nor of openstack. It is
a standalone thing which OpenStack-Ansible provide integration with
only for sample implementation and does not provide support for
Day 2 operations

Change-Id: I278ac2f02fa0c12ed28e465d7e5d0cadc1dd5eeb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/08/862508/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/aio/quickstart.rst', 'playbooks/ceph-nfs-install.yml', 'doc/source/user/ceph/full-deploy.rst', 'scripts/gate-check-commit.sh', 'playbooks/setup-everything.yml', 'playbooks/os-manila-install.yml', 'playbooks/setup-openstack.yml', 'playbooks/ceph-install.yml', 'doc/releasenotes/notes/ceph_setup_everything-4ceb0434b2ef68c4.yaml', 'playbooks/setup-infrastructure.yml']",10,6222a34485f7dc412225b3be39c78f447000bef8,,,- import_playbook: ceph-install.yml - import_playbook: ceph-nfs-install.yml,94,75
openstack%2Fopenstack-ansible-os_zun~880683,openstack/openstack-ansible-os_zun,master,Ifdc25bc511ac1d35b9b33790f994b754355ca7e3,Disable kata containers for debian/ubuntu,ABANDONED,2023-04-17 20:56:52.000000000,2023-05-31 14:55:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-17 20:56:52.000000000', 'files': ['vars/debian.yml', 'releasenotes/notes/disable-kata-on-debian-bc327b187104e54c.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/4750c32ff5d668462fb9b0974665fae9901753e9', 'message': 'Disable kata containers for debian/ubuntu\n\nKata containers are an optional component of zun.\nZun docs suggest to use download.opensuse.org repository to install\nkata packages[1]. We used that for debian and ubuntu.\n\nUnfortunately this repository does not contain kata packages anymore.\nOn top of that, kata containers docs do not provide any guide how to\ninstall it on debian[2].\n\nI think the best option would be to disable kata containers by default\non debian and ubuntu.\n\n[1] https://docs.openstack.org/zun/latest/install/compute-install.html#enable-kata-containers-optional\n[2] https://github.com/kata-containers/kata-containers/tree/main/docs/install\n\nChange-Id: Ifdc25bc511ac1d35b9b33790f994b754355ca7e3\n'}]",0,880683,4750c32ff5d668462fb9b0974665fae9901753e9,3,1,1,32666,,,0,"Disable kata containers for debian/ubuntu

Kata containers are an optional component of zun.
Zun docs suggest to use download.opensuse.org repository to install
kata packages[1]. We used that for debian and ubuntu.

Unfortunately this repository does not contain kata packages anymore.
On top of that, kata containers docs do not provide any guide how to
install it on debian[2].

I think the best option would be to disable kata containers by default
on debian and ubuntu.

[1] https://docs.openstack.org/zun/latest/install/compute-install.html#enable-kata-containers-optional
[2] https://github.com/kata-containers/kata-containers/tree/main/docs/install

Change-Id: Ifdc25bc511ac1d35b9b33790f994b754355ca7e3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/83/880683/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'releasenotes/notes/disable-kata-on-debian-bc327b187104e54c.yaml']",2,4750c32ff5d668462fb9b0974665fae9901753e9,,--- upgrade: - | Kata containers are disabled by default on debian and ubuntu due to the lack of of reliable repository containing kata packages. ,,7,10
openstack%2Fcharm-openstack-hypervisor~884887,openstack/charm-openstack-hypervisor,main,I24bbb737445b174467c828a86407be98f8622afa,Trigger CI,MERGED,2023-05-31 13:41:35.000000000,2023-05-31 14:53:25.000000000,2023-05-31 13:52:27.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 13:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/94b8bb5ca0a5f93b1b2c83a0a583b4ef45e836cc', 'message': 'Trigger CI\n\nChange-Id: I24bbb737445b174467c828a86407be98f8622afa\n'}]",0,884887,94b8bb5ca0a5f93b1b2c83a0a583b4ef45e836cc,7,2,1,35761,,,0,"Trigger CI

Change-Id: I24bbb737445b174467c828a86407be98f8622afa
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/87/884887/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,94b8bb5ca0a5f93b1b2c83a0a583b4ef45e836cc,chore/trigger-ci,,,0,0
openstack%2Fdevstack-plugin-ceph~882821,openstack/devstack-plugin-ceph,master,Id83d8c9bc8fee4d67b4b68804f29b740ba444469,Use a specific repository for CentOS stream 9,ABANDONED,2023-05-10 12:26:07.000000000,2023-05-31 13:54:45.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 12:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/ace9e40994e237c8e8216c03d6d7bddfacafe865', 'message': ""Use a specific repository for CentOS stream 9\n\nThis patch enables the installation of Ceph on CentOS Stream 9. I've attempted\nto keep it as straightforward as possible, although a little hacky.\nWhile it may not be the optimal solution to the problem, it allows individuals,\nsuch as myself, who requires it, to install and evaluate Manila and Ceph on\nCentOS 9 without encountering issues with the default repository.\n\nChange-Id: Id83d8c9bc8fee4d67b4b68804f29b740ba444469\n""}, {'number': 2, 'created': '2023-05-10 12:27:38.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/21b4f943115a9289a6ecc101b563cc799df0419a', 'message': ""Use a specific repository for CentOS stream 9\n\nThis patch enables the installation of Ceph on CentOS Stream 9. I've attempted\nto keep it as straightforward as possible, although a little hacky.\nWhile it may not be the optimal solution to the problem, it allows individuals,such as myself, who requires it, to install and evaluate Manila and Ceph on CentOS 9 without encountering issues with the default repository.\n\nChange-Id: Id83d8c9bc8fee4d67b4b68804f29b740ba444469\n""}]",5,882821,21b4f943115a9289a6ecc101b563cc799df0419a,9,2,2,16207,,,0,"Use a specific repository for CentOS stream 9

This patch enables the installation of Ceph on CentOS Stream 9. I've attempted
to keep it as straightforward as possible, although a little hacky.
While it may not be the optimal solution to the problem, it allows individuals,such as myself, who requires it, to install and evaluate Manila and Ceph on CentOS 9 without encountering issues with the default repository.

Change-Id: Id83d8c9bc8fee4d67b4b68804f29b740ba444469
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/21/882821/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,ace9e40994e237c8e8216c03d6d7bddfacafe865,ceph_centos9_repo,"function dnf_add_repository_ceph_centos_stream { local ceph_release=$1 local package_release=$2 cat > ceph.repo <<EOF [ceph] name=Ceph packages for CentOS Stream baseurl=https://buildlogs.centos.org/centos/$package_release/storage/\$basearch/ceph-$ceph_release/ gpgcheck=0 enabled=1 EOF sudo dnf config-manager --add-repo ceph.repo } elif [[ ""$os_VENDOR"" =~ CentOSStream ]] && [[ ""$os_RELEASE"" =~ 9 ]]; then dnf_add_repository_ceph_centos_stream ""${CEPH_RELEASE}"" ""${os_RELEASE}-stream""",,16,0
openstack%2Fkeystonemiddleware~884884,openstack/keystonemiddleware,stable/victoria,Ifc4b2fa0e8f81b02a6a91fe4a9becaa1b40a9905,Fix several CI errors,ABANDONED,2023-05-31 13:22:26.000000000,2023-05-31 13:23:23.000000000,,[],"[{'number': 1, 'created': '2023-05-31 13:22:26.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', '.zuul.yaml', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/dd4cd15fc7e3d2ddf79266b8de153aa730c0f4bf', 'message': ""Fix several CI errors\n\nAdd timeout for requests. Bandit emits errors for request methods\nwithout the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\nAdded timeout parameters and config options to set timeout.\n\nFix mocks in EC2 token tests\n\nMake openstack-tox-lower-constraints non-voting\nThis test is non-voting in Wallaby and was removed from Xena onwards.\nCurrently is failing for all backports.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: Ifc4b2fa0e8f81b02a6a91fe4a9becaa1b40a9905\n""}]",0,884884,dd4cd15fc7e3d2ddf79266b8de153aa730c0f4bf,2,0,1,34275,,,0,"Fix several CI errors

Add timeout for requests. Bandit emits errors for request methods
without the timeout parameter.
It's better to follow the instruction to avoid hanging.
Added timeout parameters and config options to set timeout.

Fix mocks in EC2 token tests

Make openstack-tox-lower-constraints non-voting
This test is non-voting in Wallaby and was removed from Xena onwards.
Currently is failing for all backports.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: Ifc4b2fa0e8f81b02a6a91fe4a9becaa1b40a9905
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/84/884884/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', '.zuul.yaml', 'keystonemiddleware/s3_token.py']",4,dd4cd15fc7e3d2ddf79266b8de153aa730c0f4bf,fix-pep8-victoria,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),35,17
openstack%2Fkolla~884815,openstack/kolla,stable/2023.1,I3a23670f85336344d8aebaded74dd65871837b82,rabbitmq: pin to 3.11.16,MERGED,2023-05-31 10:02:41.000000000,2023-05-31 13:23:17.000000000,2023-05-31 13:22:17.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-31 10:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/844408ba76fc2a2f623e4a7b3413bc88fd555dc8', 'message': 'rabbitmq: pin to 3.11.16\n\nSeems rabbitmq node drain got broken in 3.11.17\n\nRelated-Bug: https://github.com/rabbitmq/rabbitmq-server/issues/8414\n\nChange-Id: I3a23670f85336344d8aebaded74dd65871837b82\n(cherry picked from commit 600ed4f149a1cf542f54d7fc5005030f53c69a83)\n'}, {'number': 2, 'created': '2023-05-31 10:12:36.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/10be550bc562a6e4f11d4740a18cb89ad88dbcf2', 'message': 'rabbitmq: pin to 3.11.16\n\nSeems rabbitmq node drain got broken in 3.11.17\n\nRelated-Bug: https://github.com/rabbitmq/rabbitmq-server/discussions/8415\n\nChange-Id: I3a23670f85336344d8aebaded74dd65871837b82\n(cherry picked from commit 600ed4f149a1cf542f54d7fc5005030f53c69a83)\n'}]",0,884815,10be550bc562a6e4f11d4740a18cb89ad88dbcf2,11,4,2,22629,,,0,"rabbitmq: pin to 3.11.16

Seems rabbitmq node drain got broken in 3.11.17

Related-Bug: https://github.com/rabbitmq/rabbitmq-server/discussions/8415

Change-Id: I3a23670f85336344d8aebaded74dd65871837b82
(cherry picked from commit 600ed4f149a1cf542f54d7fc5005030f53c69a83)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/884815/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/apt_preferences.debian', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",4,844408ba76fc2a2f623e4a7b3413bc88fd555dc8,, 'rabbitmq-server-3.11.16', 'rabbitmq-server-3.11.*',4,4
openstack%2Fcharm-octavia~878225,openstack/charm-octavia,stable/yoga,Icb903a04fadcb0236a8951c77f9918f97c6193ea,"Drop ""voting: false"" from CI jobs.",MERGED,2023-03-22 13:59:59.000000000,2023-05-31 13:01:39.000000000,2023-05-31 13:01:39.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-22 13:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c9559a109f820ec7da526db926e2cce3cef6d383', 'message': 'Drop ""voting: false"" from CI jobs.\n\nAlso pin charm-tools<3.0.0\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}, {'number': 2, 'created': '2023-03-22 14:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bf0bb92e7d2f3befa5ee28451d7b6b3c1c27c06a', 'message': 'Drop ""voting: false"" from CI jobs.\n\nAlso pin charm-tools<3.0.0 and add bindep.txt\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}, {'number': 3, 'created': '2023-05-30 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/17c56968758b3fca59c0d6280f1d02b4bae8db5d', 'message': 'Drop ""voting: false"" from CI jobs.\n\nSummary of changes:\n- Pin charm-tools<3.0.0\n- Add bindep.txt\n- Add jammy to the list of images to sync in gss\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}, {'number': 4, 'created': '2023-05-30 14:03:44.000000000', 'files': ['osci.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga-ha-ovn.yaml', 'bindep.txt', 'src/tests/bundles/jammy-yoga-ha.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/eebad7c541c2efda1f5e0c51b1980373c9dc6b71', 'message': 'Drop ""voting: false"" from CI jobs.\n\nSummary of changes:\n- Pin charm-tools<3.0.0\n- Add bindep.txt\n- Add jammy to the list of images to sync in gss\n\nChange-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea\n'}]",12,878225,eebad7c541c2efda1f5e0c51b1980373c9dc6b71,40,4,4,2424,,,0,"Drop ""voting: false"" from CI jobs.

Summary of changes:
- Pin charm-tools<3.0.0
- Add bindep.txt
- Add jammy to the list of images to sync in gss

Change-Id: Icb903a04fadcb0236a8951c77f9918f97c6193ea
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/25/878225/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'requirements.txt', 'tox.ini']",3,c9559a109f820ec7da526db926e2cce3cef6d383,voting-jobs, charm-tools<3.0.0, charm-tools==2.8.3,6,11
openstack%2Fcharm-cinder-k8s~884851,openstack/charm-cinder-k8s,main,If19f7d46df11013efdb39905ee70119d6b74784c,Change database name to cinder,MERGED,2023-05-31 09:23:56.000000000,2023-05-31 12:47:11.000000000,2023-05-31 12:14:52.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-31 09:23:56.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/be03fc3bf7564dfae8ac3c0a1bf884ec2dfa14f5', 'message': 'Change database name to cinder\n\nCurrently the database name is same as\nservice name which is cinder_api. However\nthe database name is cinder for cinder-volume\nservice in cinder-ceph charm. Need to have the\nsame database name for all the cinder services.\nThe database name is changed to cinder.\n\nChange-Id: If19f7d46df11013efdb39905ee70119d6b74784c\n'}]",1,884851,be03fc3bf7564dfae8ac3c0a1bf884ec2dfa14f5,10,3,1,10366,,,0,"Change database name to cinder

Currently the database name is same as
service name which is cinder_api. However
the database name is cinder for cinder-volume
service in cinder-ceph charm. Need to have the
same database name for all the cinder services.
The database name is changed to cinder.

Change-Id: If19f7d46df11013efdb39905ee70119d6b74784c
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/51/884851/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,be03fc3bf7564dfae8ac3c0a1bf884ec2dfa14f5,database-name," Mapping, @property def databases(self) -> Mapping[str, str]: """"""Provide database name for cinder services."""""" return {""database"": ""cinder""} ",,6,0
openstack%2Fneutron~883521,openstack/neutron,master,Id1dcf338bf04e6eef73cc447698ec6d2100abd96,[sqlalchemy-20] Open a connection to execute a command,MERGED,2023-05-18 14:59:00.000000000,2023-05-31 12:42:16.000000000,2023-05-31 12:39:58.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e29c6e1e3ce3e1dafd404e2f3d7ad96abd54c66', 'message': '[sqlalchemy-20] Open a connection to execute a command\n\n``Engine`` class no longer inherits from ``Connectable``. In order to\nexecute a SQL command, it is needed to start a connection and then\nbeing a transaction. At this point, it is possible to execute a\ncommand from the connection object.\n\nCloses-Bug: #2020114\n\nChange-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96\n'}, {'number': 2, 'created': '2023-05-18 15:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/191bf5ea6ac37d42a9451bdd7cbbd9622926b006', 'message': '[sqlalchemy-20] Open a connection to execute a command\n\n``Engine`` class no longer inherits from ``Connectable``. In order to\nexecute a SQL command, it is needed to start a connection and then\nbeing a transaction. At this point, it is possible to execute a\ncommand from the connection object.\n\nCloses-Bug: #2020114\n\nChange-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96\n'}, {'number': 3, 'created': '2023-05-24 14:43:32.000000000', 'files': ['neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b67da59c6d8843bab7bee87621990e0340ac9ec', 'message': '[sqlalchemy-20] Open a connection to execute a command\n\n``Engine`` class no longer inherits from ``Connectable``. In order to\nexecute a SQL command, it is needed to start a connection and then\nbeing a transaction. At this point, it is possible to execute a\ncommand from the connection object.\n\nCloses-Bug: #2020114\n\nChange-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96\n'}]",4,883521,0b67da59c6d8843bab7bee87621990e0340ac9ec,20,8,3,16688,,,0,"[sqlalchemy-20] Open a connection to execute a command

``Engine`` class no longer inherits from ``Connectable``. In order to
execute a SQL command, it is needed to start a connection and then
being a transaction. At this point, it is possible to execute a
command from the connection object.

Closes-Bug: #2020114

Change-Id: Id1dcf338bf04e6eef73cc447698ec6d2100abd96
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/883521/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/db/migrations/test_c3e9d13c4367_add_binding_index_to_.py'],1,4e29c6e1e3ce3e1dafd404e2f3d7ad96abd54c66,bug/2020114,"from alembic import op with self.engine.connect() as conn, conn.begin(): stan = db_utils.get_table(self.engine, 'standardattributes') # find next available id taking into account existing records rec_ids = [r.id for r in conn.execute(stan.select()).fetchall()] next_id = max([0] + rec_ids) + 1 conn.execute(stan.insert().values({'id': next_id, 'resource_type': o_type})) with self.engine.connect() as conn, conn.begin(): conn.execute(otable.insert().values(values)) with self.engine.connect() as conn, conn.begin(): rows = conn.execute(bindings_table.select()).fetchall() networks_to_bindings = collections.defaultdict(list) for network_id, agent_id, binding_index in rows: networks_to_bindings[network_id].append(binding_index) for binding_indices in networks_to_bindings.values(): self.assertEqual(list(range(1, 3)), sorted(binding_indices))"," stan = db_utils.get_table(self.engine, 'standardattributes') # find next available id taking into account existing records rec_ids = [r.id for r in self.engine.execute(stan.select()).fetchall()] next_id = max([0] + rec_ids) + 1 self.engine.execute(stan.insert().values({'id': next_id, 'resource_type': o_type})) self.engine.execute(otable.insert().values(values)) rows = engine.execute(bindings_table.select()).fetchall() networks_to_bindings = collections.defaultdict(list) for network_id, agent_id, binding_index in rows: networks_to_bindings[network_id].append(binding_index) for binding_indices in networks_to_bindings.values(): self.assertEqual(list(range(1, 3)), sorted(binding_indices))",17,13
openstack%2Fopenstack-tempest-skiplist~884880,openstack/openstack-tempest-skiplist,master,I656d7075fa68453e99ea826190a6a72a5fea3e45,Skip TestObjectStorageBasicOps on rhos-17.1,MERGED,2023-05-31 11:33:40.000000000,2023-05-31 12:31:04.000000000,2023-05-31 12:29:59.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 30742}]","[{'number': 1, 'created': '2023-05-31 11:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/38356ca0c52a1eabcafffb28b9735d56ca2d7d80', 'message': 'Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps\n\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}, {'number': 2, 'created': '2023-05-31 11:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/96786875154fba43ee488988eaaa0c5cc49c40c7', 'message': 'Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps\n\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}, {'number': 3, 'created': '2023-05-31 12:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/391720a29da24ba05058f243050880a11ec48167', 'message': 'Skip tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps\n\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}, {'number': 4, 'created': '2023-05-31 12:10:15.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/8f903ce7fb08a64b313dca8739e11952064ad66e', 'message': 'Skip TestObjectStorageBasicOps on rhos-17.1\n\nRelated-Bug: #BZ2211370\nChange-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45\n'}]",6,884880,8f903ce7fb08a64b313dca8739e11952064ad66e,17,5,4,30742,,,0,"Skip TestObjectStorageBasicOps on rhos-17.1

Related-Bug: #BZ2211370
Change-Id: I656d7075fa68453e99ea826190a6a72a5fea3e45
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/80/884880/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,38356ca0c52a1eabcafffb28b9735d56ca2d7d80,skip_object_Storage, - test: 'tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps' deployment: - 'overcloud' releases: - name: 'wallaby' reason: 'compatibility issue with ceph6' lp: 'https://bugzilla.redhat.com/show_bug.cgi?id=2211370' jobs:,,8,0
openstack%2Fkeystonemiddleware~884739,openstack/keystonemiddleware,stable/ussuri,Ice8e34440a5fe1baa370646ed70b5e085c4af70e,Remove cache invalidation when using expired token,ABANDONED,2023-05-31 02:08:49.000000000,2023-05-31 12:22:48.000000000,,[],"[{'number': 1, 'created': '2023-05-31 02:08:49.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/1b5daa9a4d13b7ce28c6fc199488791e9f8e14c4', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)\n""}]",0,884739,1b5daa9a4d13b7ce28c6fc199488791e9f8e14c4,2,0,1,34275,,,0,"Remove cache invalidation when using expired token

This can create a race condition for long running services that reuse
their token (eg. Kubernetes Cinder CSI plugin) in this case for
example:

1 [user] Asks nova to attach a volume to a server
2 ...the user's token expires
3 [user] Asks cinder if the volume has been attached
4 [nova] Asks cinder to attach the volume

In step 3 the token is marked as invalid in the cache and step 4 fails
even if allow_expired is true

Closes-Bug: #1987355
Change-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e
(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/39/884739/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py']",2,1b5daa9a4d13b7ce28c6fc199488791e9f8e14c4,lp1987355-stable/ussuri,,"_CACHE_INVALID_INDICATOR = 'invalid' if cached == _CACHE_INVALID_INDICATOR: self.log.debug('Cached token is marked unauthorized') raise ksm_exceptions.InvalidToken() self._token_cache.set(token, _CACHE_INVALID_INDICATOR)",0,25
openstack%2Fkeystonemiddleware~884740,openstack/keystonemiddleware,stable/ussuri,Ice8e34440a5fe1baa370646ed70b5e085c4af70e,Remove cache invalidation when using expired token,ABANDONED,2023-05-31 02:10:08.000000000,2023-05-31 12:22:06.000000000,,[],"[{'number': 1, 'created': '2023-05-31 02:10:08.000000000', 'files': ['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/70ee8ba97d318c37057d87d043d4567a4466178b', 'message': ""Remove cache invalidation when using expired token\n\nThis can create a race condition for long running services that reuse\ntheir token (eg. Kubernetes Cinder CSI plugin) in this case for\nexample:\n\n1 [user] Asks nova to attach a volume to a server\n2 ...the user's token expires\n3 [user] Asks cinder if the volume has been attached\n4 [nova] Asks cinder to attach the volume\n\nIn step 3 the token is marked as invalid in the cache and step 4 fails\neven if allow_expired is true\n\nCloses-Bug: #1987355\nChange-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e\n(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)\n""}]",0,884740,70ee8ba97d318c37057d87d043d4567a4466178b,2,0,1,34275,,,0,"Remove cache invalidation when using expired token

This can create a race condition for long running services that reuse
their token (eg. Kubernetes Cinder CSI plugin) in this case for
example:

1 [user] Asks nova to attach a volume to a server
2 ...the user's token expires
3 [user] Asks cinder if the volume has been attached
4 [nova] Asks cinder to attach the volume

In step 3 the token is marked as invalid in the cache and step 4 fails
even if allow_expired is true

Closes-Bug: #1987355
Change-Id: Ice8e34440a5fe1baa370646ed70b5e085c4af70e
(cherry picked from commit e05466c5f439cd05482f109e6eb97a50ba156698)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/40/884740/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/auth_token/__init__.py']",2,70ee8ba97d318c37057d87d043d4567a4466178b,lp1987355-stable/ussuri,,"_CACHE_INVALID_INDICATOR = 'invalid' if cached == _CACHE_INVALID_INDICATOR: self.log.debug('Cached token is marked unauthorized') raise ksm_exceptions.InvalidToken() self._token_cache.set(token, _CACHE_INVALID_INDICATOR)",0,25
openstack%2Fceilometer~882687,openstack/ceilometer,master,I7358add1e45abe4a1288e51efa2f91d07c6acacd,Add logs to help identify when a polling task finishes,MERGED,2023-05-09 10:28:30.000000000,2023-05-31 12:18:13.000000000,2023-05-31 12:17:05.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 32240}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-09 10:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ed231c1b24060274297b346a6f7d253d9e4cadd5', 'message': 'Add logs to help identify when a polling task finishes\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}, {'number': 2, 'created': '2023-05-09 10:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/89979fd2a7cc078678848ec0f716425c6213613e', 'message': 'Add logs to help identify when a polling task finishes\n\nDuring a troubleshooting session, we needed to discover the time\nthat it was taking for a polling task to finish. However, there\nwere no clear logs showing that. We could see when the task would\nstart, but not when it finished without errors. Therefore, we are\nsuggesting in this patch this small addition to the code base, which\ncan help operators to identify when a polling task has finished.\n\nWe added it in INFO log level because the message regarding the start\nof the polling is also in INFO. However, we can change it to DEBUG if\nthe community thinks that DEBUG log level is better in this context.\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}, {'number': 3, 'created': '2023-05-09 11:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/33c9728e988cfdb88740eda17bfcd100d3c0e8c6', 'message': 'Add logs to help identify when a polling task finishes\n\nDuring a troubleshooting session, we needed to discover the time\nthat it was taking for a polling task to finish. However, there\nwere no clear logs showing that. We could see when the task would\nstart, but not when it finished without errors. Therefore, we are\nsuggesting in this patch this small addition to the code base, which\ncan help operators to identify when a polling task has finished.\n\nWe added it in INFO log level because the message regarding the start\nof the polling is also in INFO. However, we can change it to DEBUG if\nthe community thinks that DEBUG log level is better in this context.\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}, {'number': 4, 'created': '2023-05-09 23:32:00.000000000', 'files': ['ceilometer/polling/manager.py', 'ceilometer/tests/unit/polling/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/b9c151bb2d0ae9f480e93436c7c2d9cc65dfbcd3', 'message': 'Add logs to help identify when a polling task finishes\n\nDuring a troubleshooting session, we needed to discover the time\nthat it was taking for a polling task to finish. However, there\nwere no clear logs showing that. We could see when the task would\nstart, but not when it finished without errors. Therefore, we are\nsuggesting in this patch this small addition to the code base, which\ncan help operators to identify when a polling task has finished.\n\nWe added it in INFO log level because the message regarding the start\nof the polling is also in INFO. However, we can change it to DEBUG if\nthe community thinks that DEBUG log level is better in this context.\n\nChange-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd\n'}]",3,882687,b9c151bb2d0ae9f480e93436c7c2d9cc65dfbcd3,21,5,4,28356,,,0,"Add logs to help identify when a polling task finishes

During a troubleshooting session, we needed to discover the time
that it was taking for a polling task to finish. However, there
were no clear logs showing that. We could see when the task would
start, but not when it finished without errors. Therefore, we are
suggesting in this patch this small addition to the code base, which
can help operators to identify when a polling task has finished.

We added it in INFO log level because the message regarding the start
of the polling is also in INFO. However, we can change it to DEBUG if
the community thinks that DEBUG log level is better in this context.

Change-Id: I7358add1e45abe4a1288e51efa2f91d07c6acacd
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/87/882687/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/polling/manager.py'],1,ed231c1b24060274297b346a6f7d253d9e4cadd5,add-log-finished-polling," LOG.info(""Finished polling pollster %(poll)s in the "" ""context of %(src)s"", dict(poll=pollster.name, src=source_name))",,3,0
openstack%2Fbifrost~877469,openstack/bifrost,master,Ie575a7cef074c4ec3925908c3c6f3958a87f2e1a,Set [inspector]require_managed_boot explicitly,MERGED,2023-03-15 12:19:34.000000000,2023-05-31 12:02:31.000000000,2023-05-31 12:01:27.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-03-15 12:19:34.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b435d4df4e42d53ccb6e35a2afbb825825263afa', 'message': ""Set [inspector]require_managed_boot explicitly\n\nIts value may change as we transition in-band inspection from\nironic-inspector to ironic only. Since bifrost has a standalone PXE\ninfrastructure, it's safe to set the value to False.\n\nChange-Id: Ie575a7cef074c4ec3925908c3c6f3958a87f2e1a\n""}]",6,877469,b435d4df4e42d53ccb6e35a2afbb825825263afa,24,4,1,10239,,,0,"Set [inspector]require_managed_boot explicitly

Its value may change as we transition in-band inspection from
ironic-inspector to ironic only. Since bifrost has a standalone PXE
infrastructure, it's safe to set the value to False.

Change-Id: Ie575a7cef074c4ec3925908c3c6f3958a87f2e1a
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/69/877469/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2'],1,b435d4df4e42d53ccb6e35a2afbb825825263afa,require-managed-boot,require_managed_boot = False,,1,0
openstack%2Fcharm-ceph-dashboard~884852,openstack/charm-ceph-dashboard,master,Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10,Testing,ABANDONED,2023-05-31 09:30:49.000000000,2023-05-31 11:31:28.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 09:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/a3ca55bd106e2f47942c0d448cef23e530d40366', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 2, 'created': '2023-05-31 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/6be2b3599bb1fd4b67c23cf01c5a149083741cbf', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 3, 'created': '2023-05-31 10:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/c1ba2bad7308014b8e1224f8d9bb27542030530e', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 4, 'created': '2023-05-31 10:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/8b041255fde97a6d82f96d07d9ac55e770789b29', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 5, 'created': '2023-05-31 11:13:27.000000000', 'files': ['src/interface_peer.py', 'src/charm.py', 'metadata.yaml', 'unit_tests/test_ceph_dashboard_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0444856f4556b8da204cdafcebd3a77c81678623', 'message': 'Testing\n\nChange-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}]",11,884852,0444856f4556b8da204cdafcebd3a77c81678623,12,2,5,34952,,,0,"Testing

Change-Id: Idf7c48c88d6b2d4743d9f5ae04709a77e83c7b10
Signed-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/52/884852/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/interface_peer.py', 'src/charm.py', 'metadata.yaml', 'unit_tests/test_ceph_dashboard_charm.py']",4,a3ca55bd106e2f47942c0d448cef23e530d40366,official,," call(mock_TLS_CERT_PATH, hostname='server1'), call(mock_TLS_KEY_PATH, hostname='server1'), call(mock_TLS_CERT_PATH, hostname='server1'), call(mock_TLS_KEY_PATH, hostname='server1'),",41,7
openstack%2Foctavia~881740,openstack/octavia,master,I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831,DNM: Test CI with pytest running,NEW,2023-04-27 15:46:21.000000000,2023-05-31 11:14:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-27 15:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7347e4f3aa9d59c7014f98830641a7fbd97448a0', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 2, 'created': '2023-04-27 15:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c76ee7d0521fcf01d622ca71cd4cad02ed9bb102', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 3, 'created': '2023-04-27 16:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/def6d06d02d7ea4747c0b5a9ecb8ff788cb8a511', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 4, 'created': '2023-04-27 16:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f152e21e8b49a4922bd5604fbe29f76e7dbf6ff3', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 5, 'created': '2023-04-27 16:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cd475879265deba48bc285fb6a8672dcf4d1158f', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 6, 'created': '2023-04-28 08:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b29663c4ca88e3c074bd95fcde33959bfe7afb9', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 7, 'created': '2023-04-28 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/674405063cb998c5c3a40c1547b12df6b1d09690', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 8, 'created': '2023-04-28 08:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ed03dffd3ac45ddc7bc2e9fb21f64a9d6ff799fa', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 9, 'created': '2023-04-28 09:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/32ef91c2030e88fbce81aa472d230d5ae37b96c2', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 10, 'created': '2023-05-03 16:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e9f9609f9515ba6313913bc4f7be9c7b1c56407f', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 11, 'created': '2023-05-04 06:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/39ee13c98f6b24403085c9d3677accbef3e1ed15', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 12, 'created': '2023-05-30 16:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9c41f2391ba61b8dd2ffab17585f4b1954e923a2', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nRelated-Bug: #2017973\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}, {'number': 13, 'created': '2023-05-30 16:53:33.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f66349fa1e031db626030508c7edfc819c7cb19e', 'message': 'DNM: Test CI with pytest running\n\nI am not proposing to replace stestr in the CI (yet)!\n\nDepends-On: I86e50b9d3070e757f1bba8b390c8b7557e41a325\nChange-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831\n'}]",2,881740,f66349fa1e031db626030508c7edfc819c7cb19e,28,2,13,34429,,,0,"DNM: Test CI with pytest running

I am not proposing to replace stestr in the CI (yet)!

Depends-On: I86e50b9d3070e757f1bba8b390c8b7557e41a325
Change-Id: I51daf71b3a7d57d5e3888d5e25ff3d61aa4d0831
",git fetch https://review.opendev.org/openstack/octavia refs/changes/40/881740/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,7347e4f3aa9d59c7014f98830641a7fbd97448a0,pytest-ci, - job: name: octavia-pytest-unit parent: base description: | Test only run: tox -e pytest-unit required-projects: - openstack/octavia - openstack/octavia-lib vars: amphora_os: ubuntu amphora_os_release: jammy - job: name: octavia-pytest-func parent: base description: | Test only run: tox -e pytest-func required-projects: - openstack/octavia - openstack/octavia-lib vars: amphora_os: ubuntu amphora_os_release: jammy,,103,70
openstack%2Ftripleo-heat-templates~880134,openstack/tripleo-heat-templates,stable/wallaby,Ib072e24c05c3d12278066e342797325ec6804f26,Allows remove redis bundle on upgrades,ABANDONED,2023-04-12 08:46:11.000000000,2023-05-31 11:13:00.000000000,,"[{'_account_id': 4264}, {'_account_id': 6816}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 13177}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-04-12 08:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/924e5a647992a42db02219fd3e3dfef88e052880', 'message': 'Remove redis bundle on upgrades except when octavia is enabled\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}, {'number': 2, 'created': '2023-04-12 08:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f7ef6c6be0447efa2e7b8c352853ba0d859bafc', 'message': 'Remove redis bundle on upgrades except when octavia is enabled\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}, {'number': 3, 'created': '2023-04-12 15:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27428faa7c58b699f1d78024e244b732d832b066', 'message': 'Allows remove redis bundle on upgrades\n\nRedis bunde wont be removed when the following\nservices are enabled:\n- Octavia\n- Designate\n- Legacy telemetry\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}, {'number': 4, 'created': '2023-04-12 15:26:13.000000000', 'files': ['environments/enable-designate.yaml', 'environments/enable-legacy-telemetry.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'environments/services/octavia.yaml', 'environments/services/designate.yaml', 'environments/services-baremetal/octavia.yaml', 'environments/metrics/ceilometer-write-qdr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a76b9c09aaba498bed19f6268d3d6e168c7f26c', 'message': 'Allows remove redis bundle on upgrades\n\nRedis bunde wont be removed when the following\nservices are enabled:\n- Octavia\n- Designate\n- Legacy telemetry\n\nChange-Id: Ib072e24c05c3d12278066e342797325ec6804f26\n'}]",12,880134,8a76b9c09aaba498bed19f6268d3d6e168c7f26c,19,10,4,22954,,,0,"Allows remove redis bundle on upgrades

Redis bunde wont be removed when the following
services are enabled:
- Octavia
- Designate
- Legacy telemetry

Change-Id: Ib072e24c05c3d12278066e342797325ec6804f26
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/880134/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'environments/services/octavia.yaml', 'environments/services-baremetal/octavia.yaml']",3,924e5a647992a42db02219fd3e3dfef88e052880,redis_removal, RemoveRedisBundleUpgrade: false,,15,0
openstack%2Fkolla-ansible~884873,openstack/kolla-ansible,stable/yoga,Iab87953c2aab5b3c49cf456cffeab7cc12f3b074,Add documentation for migrating from CS8 to RL9,ABANDONED,2023-05-31 10:55:30.000000000,2023-05-31 10:58:50.000000000,,[],"[{'number': 1, 'created': '2023-05-31 10:55:30.000000000', 'files': ['doc/source/user/rocky-linux-9.rst', 'doc/source/user/support-matrix.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0d4fe246bee459c1155a254da9e39d1b7f570785', 'message': 'Add documentation for migrating from CS8 to RL9\n\nChange-Id: I56490bb6db0d60d7f33d30c59d8773ad582c7b37\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/868929\nChange-Id: Iab87953c2aab5b3c49cf456cffeab7cc12f3b074\n'}]",0,884873,0d4fe246bee459c1155a254da9e39d1b7f570785,2,0,1,35264,,,0,"Add documentation for migrating from CS8 to RL9

Change-Id: I56490bb6db0d60d7f33d30c59d8773ad582c7b37

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/868929
Change-Id: Iab87953c2aab5b3c49cf456cffeab7cc12f3b074
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/884873/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/rocky-linux-9.rst', 'doc/source/user/support-matrix.rst']",2,0d4fe246bee459c1155a254da9e39d1b7f570785,cs8-rl9-migration-docs,".. note:: CentOS Linux Stream 8 will no longer be supported as a host OS from the Zed release onwards. The Yoga supports both CentOS Stream 8 and Rocky Linux 9, and provides a route for migration. * Rocky Linux 9* ``rocky``.. FIXME(Alex-Welsh): At the time of writing, the Kolla support matrix is out of date.",,191,0
openstack%2Fopenstack-ansible~884760,openstack/openstack-ansible,master,Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b,Bump SHAs for Antelope RC2,MERGED,2023-05-30 17:48:06.000000000,2023-05-31 10:35:06.000000000,2023-05-31 10:33:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-30 17:48:06.000000000', 'files': ['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29709994f4863d2b97d54419c3d68ec0bc2d8e92', 'message': 'Bump SHAs for Antelope RC2\n\nChange-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b\n'}]",0,884760,29709994f4863d2b97d54419c3d68ec0bc2d8e92,8,3,1,28619,,,0,"Bump SHAs for Antelope RC2

Change-Id: Ib76379c5fdc9318e622d7d8596e4a79c56ab0d8b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/884760/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/cinder_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'inventory/group_vars/swift_all/source_git.yml', 'inventory/group_vars/neutron_all/source_git.yml', 'inventory/group_vars/horizon_all/source_git.yml', 'inventory/group_vars/octavia_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",8,29709994f4863d2b97d54419c3d68ec0bc2d8e92,bump_osa,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,29,18
openstack%2Fcharm-mysql-innodb-cluster~835117,openstack/charm-mysql-innodb-cluster,master,I7fda0bac7486e916514b31af583308c4c14673f6,Implement restore_quorum action using force_quorum_using_partition_of,NEW,2022-03-24 19:32:11.000000000,2023-05-31 10:27:39.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-24 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/3e213dc041eebfff7c8caaacdc8aee12ace61158', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition coupled causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}, {'number': 2, 'created': '2022-03-25 11:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/12413abb6f37fc5685d0654698a80c6c33a31600', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}, {'number': 3, 'created': '2022-03-28 12:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/82968c3ea6d9e4b7465b9bfd532a2a43918a9028', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition coupled causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}, {'number': 4, 'created': '2023-05-31 10:04:30.000000000', 'files': ['src/README.md', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ecad1dde228002afc994823bb2088a116c9fc152', 'message': 'Implement restore_quorum action using force_quorum_using_partition_of\n\nA network partition coupled causes the cluster to lost quorum. In rare\ncases, after the network reestablishment, the cluster cant fix itself\nand stays blocked.\nThis change implements a new action to restore cluster loss of quorum\nby using force_quorum_using_partition_of. This has to be used with care\nand just in extreme conditions.\n\nCloses-Bug: #1917332\nChange-Id: I7fda0bac7486e916514b31af583308c4c14673f6\n'}]",13,835117,ecad1dde228002afc994823bb2088a116c9fc152,19,2,4,34531,,,0,"Implement restore_quorum action using force_quorum_using_partition_of

A network partition coupled causes the cluster to lost quorum. In rare
cases, after the network reestablishment, the cluster cant fix itself
and stays blocked.
This change implements a new action to restore cluster loss of quorum
by using force_quorum_using_partition_of. This has to be used with care
and just in extreme conditions.

Closes-Bug: #1917332
Change-Id: I7fda0bac7486e916514b31af583308c4c14673f6
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/17/835117/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py']",5,3e213dc041eebfff7c8caaacdc8aee12ace61158,bug/1917332," the cluster. The action parameter, address, is the address of the instancedef restore_quorum(args): """"""Restore quorum and rejoin instance. In the event of blocked cluster with no quorum, this action will force quorum to be derived from the instance. :param args: sys.argv :type args: sys.argv :side effect: Calls instance.restore_quorum :returns: This function is called for its side effect :rtype: None :action return: Dictionary with command output """""" with charm.provide_charm_instance() as instance: instance.restore_quorum() ch_core.hookenv.action_set({ ""output"": ""Quorum restored. You can now rejoin other instances."", ""outcome"": ""Success""} ) ""update-unit-acls"": update_unit_acls, ""restore-quorum"": restore_quorum}"," the cluster. The action parameter, address, is the addresss of the instance ""update-unit-acls"": update_unit_acls}",95,8
openstack%2Ftripleo-heat-templates~884319,openstack/tripleo-heat-templates,stable/wallaby,I4b97abcd1a318e86f62a32879c627e852763195c,Remove tag never on the redis removal,ABANDONED,2023-05-25 07:44:30.000000000,2023-05-31 10:11:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-25 07:44:30.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/004b869425c3876db84337d7211e1604f8f81736', 'message': 'Remove tag never on the redis removal\n\nChange-Id: I4b97abcd1a318e86f62a32879c627e852763195c\n'}]",1,884319,004b869425c3876db84337d7211e1604f8f81736,5,3,1,22954,,,0,"Remove tag never on the redis removal

Change-Id: I4b97abcd1a318e86f62a32879c627e852763195c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/884319/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,004b869425c3876db84337d7211e1604f8f81736,redis,, - never,0,1
openstack%2Fdevstack-plugin-nfs~883255,openstack/devstack-plugin-nfs,master,Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7,Switch to bobcat testing runtime,MERGED,2023-05-16 12:20:20.000000000,2023-05-31 09:56:04.000000000,2023-05-31 09:54:04.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-16 12:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/3954d14bee605d72f40fba8a287ae1d5d1dfc977', 'message': 'Switch to bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7\n'}, {'number': 2, 'created': '2023-05-16 12:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/1e7fe2e68b702fe3d6271067124e1b37ef570585', 'message': 'Switch to bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7\n'}, {'number': 3, 'created': '2023-05-30 19:05:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/82d8af6b244c851516eef6a4e50285cc44f8e9b8', 'message': 'Switch to bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7\n'}]",3,883255,82d8af6b244c851516eef6a4e50285cc44f8e9b8,11,2,3,35229,,,0,"Switch to bobcat testing runtime

Updating the testing template to Bobcat testing runtime:
https://governance.openstack.org/tc/reference/runtimes/2023.2.html

Change-Id: Ibec9e3a0c251ab9571fc1e9e0244ef4dde0a80d7
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/55/883255/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3954d14bee605d72f40fba8a287ae1d5d1dfc977,switch-to-bobcat-testing-runtime, - devstack-plugin-nfs-tempest-full-antelope - devstack-plugin-nfs-tempest-full-antelope name: devstack-plugin-nfs-tempest-full-antelope parent: devstack-plugin-nfs-tempest-full override-checkout: stable/antelope - job:, - devstack-plugin-nfs-tempest-full-xena - devstack-plugin-nfs-tempest-full-wallaby - devstack-plugin-nfs-tempest-full-victoria # ussuri disabled due to https://bugs.launchpad.net/nova/+bug/1916750 - devstack-plugin-nfs-tempest-full-ussuri: voting: no - devstack-plugin-nfs-tempest-full-xena - devstack-plugin-nfs-tempest-full-wallaby - devstack-plugin-nfs-tempest-full-victoria # - devstack-plugin-nfs-tempest-full-ussuri name: devstack-plugin-nfs-tempest-full-xena parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-focal override-checkout: stable/xena - job: name: devstack-plugin-nfs-tempest-full-wallaby parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-focal override-checkout: stable/wallaby vars: tox_envlist: full - job: name: devstack-plugin-nfs-tempest-full-victoria parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-focal override-checkout: stable/victoria vars: tox_envlist: full - job: name: devstack-plugin-nfs-tempest-full-ussuri parent: devstack-plugin-nfs-tempest-full nodeset: openstack-single-node-bionic override-checkout: stable/ussuri vars: tox_envlist: full - job:,7,40
openstack%2Fkayobe~884831,openstack/kayobe,stable/2023.1,I45d1d3abd9248fe6a1c2a3875332cef18aa59c39,Update .gitreview for stable/2023.1,MERGED,2023-05-31 08:26:54.000000000,2023-05-31 09:50:08.000000000,2023-05-31 09:49:07.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:26:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f8cef91dc2ef36a14132d9c99f4ec47472e1dd16', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: I45d1d3abd9248fe6a1c2a3875332cef18aa59c39\n'}]",1,884831,f8cef91dc2ef36a14132d9c99f4ec47472e1dd16,10,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: I45d1d3abd9248fe6a1c2a3875332cef18aa59c39
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/884831/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f8cef91dc2ef36a14132d9c99f4ec47472e1dd16,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fkayobe~884832,openstack/kayobe,master,If806f9b62b4c6e680bddc9b3da38c0c502abc299,Update master for stable/2023.1,MERGED,2023-05-31 08:26:56.000000000,2023-05-31 09:50:06.000000000,2023-05-31 09:49:06.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:26:56.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fdc941565110b1d27343255e4b23f540b28ee151', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: If806f9b62b4c6e680bddc9b3da38c0c502abc299\n'}]",0,884832,fdc941565110b1d27343255e4b23f540b28ee151,8,3,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: If806f9b62b4c6e680bddc9b3da38c0c502abc299
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/884832/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,fdc941565110b1d27343255e4b23f540b28ee151,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fkayobe-config-dev~884836,openstack/kayobe-config-dev,stable/2023.1,I7abd7832ed6e2a068dfb6a89b8e7b971b6c77e4f,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-31 08:27:09.000000000,2023-05-31 09:49:05.000000000,2023-05-31 09:49:05.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/e523c188bb4a32b32c274eccd9bc5d9c4d219b75', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7abd7832ed6e2a068dfb6a89b8e7b971b6c77e4f\n'}]",0,884836,e523c188bb4a32b32c274eccd9bc5d9c4d219b75,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7abd7832ed6e2a068dfb6a89b8e7b971b6c77e4f
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/36/884836/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e523c188bb4a32b32c274eccd9bc5d9c4d219b75,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fcharm-deployment-guide~810515,openstack/charm-deployment-guide,master,I07aa35937666aaf000f5c2bc5803bee672c1f126,Add operation: Remove a cloud database node,ABANDONED,2021-09-22 20:17:45.000000000,2023-05-31 09:42:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-09-22 20:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/28448ef408d538d0b65410993ec7b7df2892351a', 'message': 'Add operation: Remove a cloud database node\n\nChange-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126\n'}, {'number': 2, 'created': '2021-09-22 22:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/381d9a5cbdc0e82d8d9741252dd025c82b8439d0', 'message': 'Add operation: Remove a cloud database node\n\nAdd a cloud operation to the guide.\n\nCloses-Bug: #1889792\nChange-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126\n'}, {'number': 3, 'created': '2021-09-29 17:53:17.000000000', 'files': ['deploy-guide/source/ops-remove-mysql8-node.rst', 'deploy-guide/source/operational-tasks.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/5c791ed734f5edc44345f0e0ae0d7b500e58d372', 'message': 'Add operation: Remove a cloud database node\n\nAdd a cloud operation to the guide.\n\nCloses-Bug: #1889792\nChange-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126\n'}]",0,810515,5c791ed734f5edc44345f0e0ae0d7b500e58d372,10,1,3,30561,,,0,"Add operation: Remove a cloud database node

Add a cloud operation to the guide.

Closes-Bug: #1889792
Change-Id: I07aa35937666aaf000f5c2bc5803bee672c1f126
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/15/810515/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/ops-remove-database-node.rst', 'deploy-guide/source/operational-tasks.rst']",2,28448ef408d538d0b65410993ec7b7df2892351a,cdg-ops,* :doc:`Remove a cloud database node <ops-remove-database-node>`,,101,0
openstack%2Fkayobe-config-dev~884835,openstack/kayobe-config-dev,stable/2023.1,Id6e6452e8dc000614863c69945a2873aa44d95a4,Update .gitreview for stable/2023.1,MERGED,2023-05-31 08:27:08.000000000,2023-05-31 09:35:44.000000000,2023-05-31 09:35:44.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/a2f5ab9fee1547254ebe279d92e396954a2a21d2', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Id6e6452e8dc000614863c69945a2873aa44d95a4\n'}]",0,884835,a2f5ab9fee1547254ebe279d92e396954a2a21d2,7,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Id6e6452e8dc000614863c69945a2873aa44d95a4
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/35/884835/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a2f5ab9fee1547254ebe279d92e396954a2a21d2,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fkolla-ansible~884708,openstack/kolla-ansible,master,I4f9bce297bc3385f9749e4221f4721c1841700a1,Correct [pci] syntax in Nova SRIOV documentation,MERGED,2023-05-30 14:21:10.000000000,2023-05-31 09:34:14.000000000,2023-05-31 09:33:11.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-30 14:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f15693a905003e249a124d91a7cbb33903f8ddb', 'message': 'Correct [pci] syntax in Nova SRIOV documentation\n\nThe ``[pci]`` options in the Nova SRIOV documentation are incorrect.\n``alias`` is a JSON object but mentioned as a list of object here.\n``through_whitelist`` is deprecated in favour of ``device_spec``.\n\nCloses-Bug: #2019985\nChange-Id: I4f9bce297bc3385f9749e4221f4721c1841700a1\n'}, {'number': 2, 'created': '2023-05-30 15:30:36.000000000', 'files': ['doc/source/reference/networking/sriov.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d30d1fd655f6e82e53ddc9704dcec2331f4579e0', 'message': 'Correct [pci] syntax in Nova SRIOV documentation\n\nThe ``[pci]`` options in the Nova SRIOV documentation are incorrect.\n``alias`` is a JSON object but mentioned as a list of object here.\n``through_whitelist`` is deprecated [1] in favour of ``device_spec``.\n\n[1] https://docs.openstack.org/nova/2023.1/configuration/config.html#id116\n\nCloses-Bug: #2019985\nChange-Id: I4f9bce297bc3385f9749e4221f4721c1841700a1\n'}]",2,884708,d30d1fd655f6e82e53ddc9704dcec2331f4579e0,14,4,2,35263,,,0,"Correct [pci] syntax in Nova SRIOV documentation

The ``[pci]`` options in the Nova SRIOV documentation are incorrect.
``alias`` is a JSON object but mentioned as a list of object here.
``through_whitelist`` is deprecated [1] in favour of ``device_spec``.

[1] https://docs.openstack.org/nova/2023.1/configuration/config.html#id116

Closes-Bug: #2019985
Change-Id: I4f9bce297bc3385f9749e4221f4721c1841700a1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/884708/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/sriov.rst'],1,5f15693a905003e249a124d91a7cbb33903f8ddb,bug/2019985," device_spec = [{""vendor_id"": ""8086"", ""product_id"": ""10fb""}] alias = {""vendor_id"":""8086"", ""product_id"":""10ed"", ""device_type"":""type-VF"", ""name"":""vf1""}"," passthrough_whitelist = [{""vendor_id"": ""8086"", ""product_id"": ""10fb""}] alias = [{""vendor_id"":""8086"", ""product_id"":""10ed"", ""device_type"":""type-VF"", ""name"":""vf1""}]",2,2
openstack%2Fkolla~884208,openstack/kolla,master,Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3,mariadb-clustercheck: ensure /var/log/kolla/mariadb exists,MERGED,2023-05-24 14:19:50.000000000,2023-05-31 09:34:12.000000000,2023-05-31 09:33:09.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-05-24 14:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/883bab10d151e956abedbe6ae2688557d61e8170', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n'}, {'number': 2, 'created': '2023-05-25 08:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ff46f929dfbe530b47c3bec041fc46c793af30de', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n'}, {'number': 3, 'created': '2023-05-30 15:50:01.000000000', 'files': ['docker/mariadb/mariadb-clustercheck/Dockerfile.j2', 'docker/mariadb/mariadb-clustercheck/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9035251443ed6cbb110e9dc5efdbc9d4be797ef5', 'message': 'mariadb-clustercheck: ensure /var/log/kolla/mariadb exists\n\nIf mariadb-clustercheck starts before mariadb, the directory may not\nexist, and the command fails.\n\nThis is necessary for the refactored MariaDB restart in\nI5a12670d07077d24047aaff57ce8d33ccf7156ff.\n\nChange-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3\n'}]",1,884208,9035251443ed6cbb110e9dc5efdbc9d4be797ef5,23,5,3,14826,,,0,"mariadb-clustercheck: ensure /var/log/kolla/mariadb exists

If mariadb-clustercheck starts before mariadb, the directory may not
exist, and the command fails.

This is necessary for the refactored MariaDB restart in
I5a12670d07077d24047aaff57ce8d33ccf7156ff.

Change-Id: Ie1b36eb9a403611c2f86aa4c1d500d324e5291f3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/884208/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/mariadb/mariadb-clustercheck/extend_start.sh'],1,883bab10d151e956abedbe6ae2688557d61e8170,,"#!/bin/bash : ${MARIADB_LOG_DIR:=/var/log/kolla/mariadb} # Create log directory, with appropriate permissions if [[ ! -d ""${MARIADB_LOG_DIR}"" ]]; then mkdir -p ${MARIADB_LOG_DIR} fi if [[ $(stat -c %a ${MARIADB_LOG_DIR}) != ""755"" ]]; then chmod 755 ${MARIADB_LOG_DIR} fi ",,11,0
openstack%2Fskyline-console~883800,openstack/skyline-console,master,Ia7f22e46b8b81e625ecc436257dd3c36d79d35c1,Fix Conflict Object Storage Key Name,MERGED,2023-05-22 10:46:40.000000000,2023-05-31 09:33:32.000000000,2023-05-31 09:32:34.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-05-22 10:46:40.000000000', 'files': ['src/layouts/menu.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/19922d5029975277526f711eabe948427fba8a08', 'message': 'Fix Conflict Object Storage Key Name\n\nSwift and zun key name conflict. We fixed this conflict by\nchanging swift key name.\n\nChange-Id: Ia7f22e46b8b81e625ecc436257dd3c36d79d35c1\n'}]",0,883800,19922d5029975277526f711eabe948427fba8a08,7,3,1,34671,,,0,"Fix Conflict Object Storage Key Name

Swift and zun key name conflict. We fixed this conflict by
changing swift key name.

Change-Id: Ia7f22e46b8b81e625ecc436257dd3c36d79d35c1
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/00/883800/1 && git format-patch -1 --stdout FETCH_HEAD,['src/layouts/menu.jsx'],1,19922d5029975277526f711eabe948427fba8a08,," key: 'containers',"," key: 'container',",1,1
openstack%2Fpuppet-openstack-integration~884394,openstack/puppet-openstack-integration,master,Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd,Reduce number of PGs,MERGED,2023-05-25 13:17:01.000000000,2023-05-31 09:17:48.000000000,2023-05-31 09:17:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 13:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/08ba936babf5edd5320270b407369844b5222c79', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}, {'number': 2, 'created': '2023-05-29 13:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/19f82bbf0962aca7c162dae41e324b467b6f0177', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nThe warning is seen in scenario 004 integration job because Rados\nGateway creates additional pools.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}, {'number': 3, 'created': '2023-05-29 16:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6c2832696cb32b353139178d0d9b21ba954c2134', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nThe warning is seen in scenario 004 integration job because Rados\nGateway creates additional pools.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}, {'number': 4, 'created': '2023-05-30 01:14:44.000000000', 'files': ['manifests/ceph.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9ab8f9a60f149269cd087bc921e7db9c6289e0ea', 'message': 'Reduce number of PGs\n\nto avoid warning caused by too many pgs assigned to a single OSD.\n\nThe warning is seen in scenario 004 integration job because Rados\nGateway creates additional pools.\n\nChange-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd\n'}]",4,884394,9ab8f9a60f149269cd087bc921e7db9c6289e0ea,23,3,4,9816,,,0,"Reduce number of PGs

to avoid warning caused by too many pgs assigned to a single OSD.

The warning is seen in scenario 004 integration job because Rados
Gateway creates additional pools.

Change-Id: Ice01e0ea8313ae9732c0e48003f886fb85ecc9fd
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/884394/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/ceph.pp'],1,08ba936babf5edd5320270b407369844b5222c79,manila-cephfs," ceph::pool { $ceph_pools: pg_num => 16, }", ceph::pool { $ceph_pools: },3,1
openstack%2Fpuppet-nova~884748,openstack/puppet-nova,stable/yoga,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-31 07:59:08.000000000,2023-05-31 09:17:46.000000000,2023-05-31 09:16:45.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 07:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c6164b3008a4badc506088e1378794635cbb6cd6', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)\n'}, {'number': 2, 'created': '2023-05-31 07:59:24.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/875b189fe3de641a55e69e1c87747a76780945f9', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)\n(cherry picked from commit 7795268f76f6323edea349b6183eafe6859a5f8e)\n'}]",0,884748,875b189fe3de641a55e69e1c87747a76780945f9,9,3,2,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)
(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)
(cherry picked from commit 7795268f76f6323edea349b6183eafe6859a5f8e)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/48/884748/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,c6164b3008a4badc506088e1378794635cbb6cd6,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 to use legacy libvirtd service and socket. ,,7,0
openstack%2Fkayobe-config~884834,openstack/kayobe-config,stable/2023.1,I33b0d87a32d5853f529c304546fd01f03edfbe1e,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-31 08:27:03.000000000,2023-05-31 09:12:08.000000000,2023-05-31 09:12:08.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:03.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/b6a94dfe4607216a4c4357b9f7319516a817580f', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I33b0d87a32d5853f529c304546fd01f03edfbe1e\n'}]",0,884834,b6a94dfe4607216a4c4357b9f7319516a817580f,7,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I33b0d87a32d5853f529c304546fd01f03edfbe1e
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/34/884834/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b6a94dfe4607216a4c4357b9f7319516a817580f,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpuppet-nova~884741,openstack/puppet-nova,stable/zed,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-31 02:10:43.000000000,2023-05-31 09:10:32.000000000,2023-05-31 09:09:32.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 02:10:43.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7795268f76f6323edea349b6183eafe6859a5f8e', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)\n'}]",1,884741,7795268f76f6323edea349b6183eafe6859a5f8e,8,3,1,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)
(cherry picked from commit 3fa17436bc39ac3344d91a9f5d8df51f400fec96)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/41/884741/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,7795268f76f6323edea349b6183eafe6859a5f8e,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 to use legacy libvirtd service and socket. ,,7,0
openstack%2Fpuppet-ceph~884461,openstack/puppet-ceph,master,I8e9d53a53eedff0bd8f529ea4bd415331139b862,Ensure mds key are created before starting ceph-mds,MERGED,2023-05-26 08:23:19.000000000,2023-05-31 09:09:07.000000000,2023-05-31 09:09:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 08:23:19.000000000', 'files': ['manifests/profile/mds.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/18055e7d7a81a071ffe9e2c69c75b433e9224569', 'message': 'Ensure mds key are created before starting ceph-mds\n\nThe key is required so that ceph-mds service can pull information from\nceph-mon.\n\nChange-Id: I8e9d53a53eedff0bd8f529ea4bd415331139b862\n'}]",1,884461,18055e7d7a81a071ffe9e2c69c75b433e9224569,9,3,1,9816,,,0,"Ensure mds key are created before starting ceph-mds

The key is required so that ceph-mds service can pull information from
ceph-mon.

Change-Id: I8e9d53a53eedff0bd8f529ea4bd415331139b862
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/61/884461/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/mds.pp'],1,18055e7d7a81a071ffe9e2c69c75b433e9224569,, } -> Service<| tag == 'ceph-mds' |>, },1,1
openstack%2Fpuppet-keystone~884448,openstack/puppet-keystone,master,I46b09092847eeb821f97172e1a912ad8a1b8a2e3,Deprecate client class,MERGED,2023-05-26 02:00:19.000000000,2023-05-31 09:09:01.000000000,2023-05-31 09:08:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 02:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/3ffcbef4e7eb7f43da409b24b1a204d753749080', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}, {'number': 2, 'created': '2023-05-26 02:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4bf9db5e4373de5030cd6b4f0d63716c387dc851', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}, {'number': 3, 'created': '2023-05-26 02:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a939f967cc6565a7dbfc4d426725d0d2023a6902', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}, {'number': 4, 'created': '2023-05-30 01:02:18.000000000', 'files': ['releasenotes/notes/deprecate-client-09e5876938d3a374.yaml', 'manifests/init.pp', 'manifests/client.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/f271472b4824cdad1d0939c7c2d3a68556d1467d', 'message': 'Deprecate client class\n\nThe python-keystoneclient package removed CLI long ago so installing\nthe package is now useless. It provides only library implementations\nand should be installed by package dependencies.\n\nChange-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3\n'}]",0,884448,f271472b4824cdad1d0939c7c2d3a68556d1467d,12,3,4,9816,,,0,"Deprecate client class

The python-keystoneclient package removed CLI long ago so installing
the package is now useless. It provides only library implementations
and should be installed by package dependencies.

Change-Id: I46b09092847eeb821f97172e1a912ad8a1b8a2e3
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/48/884448/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-client-09e5876938d3a374.yaml', 'manifests/init.pp', 'manifests/client.pp', 'spec/classes/keystone_init_spec.rb']",4,3ffcbef4e7eb7f43da409b24b1a204d753749080,, it { is_expected.to contain_class('openstacklib::openstackclient') }, it { is_expected.to contain_class('keystone::client').with( 'ensure' => 'present' ) },25,16
openstack%2Fkayobe-config~884833,openstack/kayobe-config,stable/2023.1,Icacd1624f705154bf8fe8f73e83de46b1e845179,Update .gitreview for stable/2023.1,MERGED,2023-05-31 08:27:01.000000000,2023-05-31 09:07:50.000000000,2023-05-31 09:07:50.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-31 08:27:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/06df0f0fc428678284ab1a40d307c1f90dbe80dc', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Icacd1624f705154bf8fe8f73e83de46b1e845179\n'}]",0,884833,06df0f0fc428678284ab1a40d307c1f90dbe80dc,7,3,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Icacd1624f705154bf8fe8f73e83de46b1e845179
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/33/884833/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,06df0f0fc428678284ab1a40d307c1f90dbe80dc,create-2023.1,defaultbranch=stable/2023.1,,1,0
openstack%2Fpuppet-openstack-integration~878806,openstack/puppet-openstack-integration,master,I8d54ae01488f35a70a6aeb97749765bd5edb0afa,Capture some ceph commands,MERGED,2023-03-29 02:21:15.000000000,2023-05-31 09:07:24.000000000,2023-05-31 09:07:24.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-29 02:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dd719cee5251696e00ff82f53f4b6cf38d4e5923', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 2, 'created': '2023-03-29 06:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1a4172da0bafdff394e28e06ff21d8d0b8be9bb3', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 3, 'created': '2023-03-29 07:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5b80891e8b35f852b061a6e8a81140391edd3e61', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 4, 'created': '2023-03-30 08:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/740a347c3dd75c2e0e96682ceadf4c40c40375a7', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 5, 'created': '2023-05-25 02:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c2f0ed90b626907d5f0ccfcd2a73e9a60ea87623', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}, {'number': 6, 'created': '2023-05-25 10:16:53.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/49aec62c400c0e461abc52a6586a553b58e2489e', 'message': 'Capture some ceph commands\n\n... so that we can review status of ceph deployment more in detail.\n\nChange-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa\n'}]",3,878806,49aec62c400c0e461abc52a6586a553b58e2489e,23,3,6,9816,,,0,"Capture some ceph commands

... so that we can review status of ceph deployment more in detail.

Change-Id: I8d54ae01488f35a70a6aeb97749765bd5edb0afa
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/06/878806/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,dd719cee5251696e00ff82f53f4b6cf38d4e5923,ceph-cmd,# ceph if [ `command -v ceph` ]; then mkdir $LOG_DIR/ceph sudo ceph status > $LOG_DIR/ceph/ceph-status.txt sudo ceph osd tree > $LOG_DIR/ceph/ceph-osd-tree.txt sudo ceph osd pool ls > $LOG_DIR/ceph/ceph-osd-pool-ls.txt sudo ceph-volume lvm list ceph-volume lvm list > $LOG_DIR/ceph/ceph-volume-lvm-list.txt fi ,,9,0
openstack%2Freleases~884550,openstack/releases,master,Idc996e8bb3d67e620aba8efd53087dd354856c80,[kolla] Release kayobe for Antelope and cut branch,MERGED,2023-05-26 18:31:18.000000000,2023-05-31 08:19:02.000000000,2023-05-31 08:19:02.000000000,"[{'_account_id': 308}, {'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-26 18:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3a9b338e35d291554bb45b3d342dd3da0d087aa3', 'message': '[kolla] Release kayobe for Antelope and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Antelope. The deadline for these deliverables is June 1st.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: Idc996e8bb3d67e620aba8efd53087dd354856c80\n'}, {'number': 2, 'created': '2023-05-30 12:35:52.000000000', 'files': ['deliverables/antelope/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bffa0396d00a04ba539c21330d7cbe2f775bf213', 'message': '[kolla] Release kayobe for Antelope and cut branch\n\nThis release patch is to ensure, that trailing typed projects have been\nbranched for Antelope. The deadline for these deliverables is June 1st.\n\nPlease +1 if the team is ready for us to proceed with this or update/-1\nif something should be changed.\n\nChange-Id: Idc996e8bb3d67e620aba8efd53087dd354856c80\n'}]",1,884550,bffa0396d00a04ba539c21330d7cbe2f775bf213,12,6,2,17685,,,0,"[kolla] Release kayobe for Antelope and cut branch

This release patch is to ensure, that trailing typed projects have been
branched for Antelope. The deadline for these deliverables is June 1st.

Please +1 if the team is ready for us to proceed with this or update/-1
if something should be changed.

Change-Id: Idc996e8bb3d67e620aba8efd53087dd354856c80
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/884550/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/kayobe.yaml'],1,3a9b338e35d291554bb45b3d342dd3da0d087aa3,antelope-trailing-branch-cut,releases: - version: 14.0.0.0rc1 projects: - repo: openstack/kayobe hash: 7f4ba451913f6a571aee56ce4a5016cd3012cc2d - repo: openstack/kayobe-config hash: 0f8b0912b4101c0df7ab6b7a612a3f23afa38a95 - repo: openstack/kayobe-config-dev hash: 12cbf39eed5df35a2f303f6589c8e04a78e32ebb branches: - name: stable/2023.1 location: 14.0.0.0rc1,,12,0
openstack%2Fskyline-console~884795,openstack/skyline-console,master,I22049e478b6440c765751c8f17663f36f33c277a,feat: optimize configuration reading,MERGED,2023-05-31 02:47:21.000000000,2023-05-31 07:17:57.000000000,2023-05-31 07:16:54.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2023-05-31 02:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/73d0847562646a349739236f75de989257f44120', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 2, 'created': '2023-05-31 03:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/193572d729aeaf60f3beb5033b96d07e2a359595', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 3, 'created': '2023-05-31 03:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e0f3ff8be37cdae8def46c5d4120b404b7286349', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 4, 'created': '2023-05-31 03:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ad35ee4d7c2a2c7cf520901b40cc9b89d3672b35', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}, {'number': 5, 'created': '2023-05-31 03:41:34.000000000', 'files': ['config/utils.js', '.gitignore', 'docs/en/develop/1-ready-to-work.md', 'README.rst', 'config/webpack.dev.js', 'doc/source/development/ready-to-work.rst', 'config/config.yaml', 'doc/source/development/catalog-introduction.rst', 'README-zh_CN.rst', 'docs/zh/develop/1-ready-to-work.md', 'releasenotes/notes/Optimize-Configuration-Reading-5914bb51c3ecb0c4.yaml', 'doc/source/configuration/skyline-console-settings.rst', 'config/server.dev.js', 'docs/zh/develop/2-catalog-introduction.md', 'doc/source/contributor/development.environment.rst', 'docs/en/develop/2-catalog-introduction.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0213d8c6d63ac32fd8b299332b2ec72a74803430', 'message': 'feat: optimize configuration reading\n\nAdd config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations\n\nChange-Id: I22049e478b6440c765751c8f17663f36f33c277a\n'}]",0,884795,0213d8c6d63ac32fd8b299332b2ec72a74803430,12,3,5,30434,,,0,"feat: optimize configuration reading

Add config/config.yaml to set default configurations. Use the config/local_config.yaml to set the custom configurations

Change-Id: I22049e478b6440c765751c8f17663f36f33c277a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/95/884795/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/utils.js', '.gitignore', 'docs/en/develop/1-ready-to-work.md', 'README.rst', 'config/webpack.dev.js', 'doc/source/development/ready-to-work.rst', 'config/config.yaml', 'doc/source/development/catalog-introduction.rst', 'README-zh_CN.rst', 'docs/zh/develop/1-ready-to-work.md', 'releasenotes/notes/Optimize-Configuration-Reading-5914bb51c3ecb0c4.yaml', 'doc/source/configuration/skyline-console-settings.rst', 'config/server.dev.js', 'docs/zh/develop/2-catalog-introduction.md', 'doc/source/contributor/development.environment.rst', 'docs/en/develop/2-catalog-introduction.md']",16,73d0847562646a349739236f75de989257f44120,config,"│ ├── config.yaml (The default configuration of host, port, and server during development) │ ├── local_config.yaml (gitignore file, you can configure the host/port/server used in the actual development, if the actual value is different from the default value in config.yaml, you can modify it in this file) │ ├── server.dev.js (Read the custom configuration information used during development) │ ├── utils.js",,165,131
openstack%2Fcharm-cinder-ceph-k8s~884653,openstack/charm-cinder-ceph-k8s,main,Ib3a72167122716208f751ef2864f77986d23c925,Request pools for any changes in charm configuration,MERGED,2023-05-30 07:54:02.000000000,2023-05-31 06:48:40.000000000,2023-05-31 05:56:40.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 07:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/9cd06d86706c5e583cda7d22837841f1154a6ab7', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: Ib3a72167122716208f751ef2864f77986d23c925\n'}, {'number': 2, 'created': '2023-05-30 08:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/d1eddea4ff814f3373a21d142facf9f5173ccf83', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: Ib3a72167122716208f751ef2864f77986d23c925\n'}, {'number': 3, 'created': '2023-05-31 04:58:17.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/db6b86755098488d7ce8e46e5ef7f192e0886ee2', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: Ib3a72167122716208f751ef2864f77986d23c925\n'}]",5,884653,db6b86755098488d7ce8e46e5ef7f192e0886ee2,19,3,3,10366,,,0,"Request pools for any changes in charm configuration

Call request pools to pick any changes in charm
configuration like ceph-osd-replication-count.

Change-Id: Ib3a72167122716208f751ef2864f77986d23c925
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/53/884653/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,9cd06d86706c5e583cda7d22837841f1154a6ab7,config-changes,"from ops.framework import ( EventBase, ) def _on_config_changed(self, event: EventBase) -> None: self.configure_charm(event) if self.ceph.ready: logger.info(""CONFIG changed and ceph ready: calling request pools"") self.ceph.request_pools(event) ",,9,0
openstack%2Fcharm-glance-k8s~884652,openstack/charm-glance-k8s,main,I0323579c836e90cf631f780d324a505f46da8df2,Request pools for any changes in charm configuration,MERGED,2023-05-30 07:46:07.000000000,2023-05-31 06:32:14.000000000,2023-05-31 06:05:00.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 07:46:07.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/caa3aa55036fda3d575eb7ffde82a8831a4a8d96', 'message': 'Request pools for any changes in charm configuration\n\nCall request pools to pick any changes in charm\nconfiguration like ceph-osd-replication-count.\n\nChange-Id: I0323579c836e90cf631f780d324a505f46da8df2\n'}]",0,884652,caa3aa55036fda3d575eb7ffde82a8831a4a8d96,8,2,1,10366,,,0,"Request pools for any changes in charm configuration

Call request pools to pick any changes in charm
configuration like ceph-osd-replication-count.

Change-Id: I0323579c836e90cf631f780d324a505f46da8df2
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/52/884652/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,caa3aa55036fda3d575eb7ffde82a8831a4a8d96,config-changes," def _on_config_changed(self, event: EventBase) -> None: self.configure_charm(event) if self.has_ceph_relation() and self.ceph.ready: logger.info(""CONFIG changed and ceph ready: calling request pools"") self.ceph.request_pools(event) ",,6,0
openstack%2Fdevstack~884720,openstack/devstack,master,I2f975857c62e565c4cd3516696a62886c9db2ef0,Bump OVN_BRANCH to v21.06.0,ABANDONED,2023-05-30 16:24:56.000000000,2023-05-31 06:27:19.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 16:24:56.000000000', 'files': ['lib/neutron_plugins/ovn_agent'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e7b8a6700133b21d6f841e7a8de43ddf085c11cc', 'message': 'Bump OVN_BRANCH to v21.06.0\n\nPrevious value was v20.06.1, which is not compatible with neutron master\nbranch after the following patch was merged:\nhttps://review.opendev.org/c/openstack/neutron/+/870621\n\nChange-Id: I2f975857c62e565c4cd3516696a62886c9db2ef0\n'}]",3,884720,e7b8a6700133b21d6f841e7a8de43ddf085c11cc,6,4,1,31291,,,0,"Bump OVN_BRANCH to v21.06.0

Previous value was v20.06.1, which is not compatible with neutron master
branch after the following patch was merged:
https://review.opendev.org/c/openstack/neutron/+/870621

Change-Id: I2f975857c62e565c4cd3516696a62886c9db2ef0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/884720/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,e7b8a6700133b21d6f841e7a8de43ddf085c11cc,,OVN_BRANCH=${OVN_BRANCH:-v21.06.0},OVN_BRANCH=${OVN_BRANCH:-v20.06.1},1,1
openstack%2Fcharm-horizon-k8s~884798,openstack/charm-horizon-k8s,main,Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0,Trivial change to trigger republish,MERGED,2023-05-31 03:05:09.000000000,2023-05-31 06:13:32.000000000,2023-05-31 05:47:06.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 03:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/b923cf5044a24d5f8e9b638ad4c5e438cc778564', 'message': 'Trivial change to trigger republish\n\nTrivial change to trigger republish\n\nChange-Id: Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0\n'}, {'number': 2, 'created': '2023-05-31 03:07:58.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/08872dc6e0d393d7a1c284c0851e355cefb1b925', 'message': 'Trivial change to trigger republish\n\nTrivial change to trigger republish\n\nChange-Id: Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0\n'}]",0,884798,08872dc6e0d393d7a1c284c0851e355cefb1b925,9,3,2,10366,,,0,"Trivial change to trigger republish

Trivial change to trigger republish

Change-Id: Iaaf2e8d7f30791d7412c31789c0bf73d081d0ef0
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/98/884798/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b923cf5044a24d5f8e9b638ad4c5e438cc778564,,,,1,0
openstack%2Fheat~880156,openstack/heat,master,I845cb19ecc70467606d336850e7154a68208c896,"Update the ""Creating your first stack"" document",MERGED,2023-04-12 14:11:10.000000000,2023-05-31 05:55:28.000000000,2023-05-31 05:54:17.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-12 14:11:10.000000000', 'files': ['doc/source/getting_started/create_a_stack.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/4254db1c61b125a6fda016f990da97cd8820bea4', 'message': 'Update the ""Creating your first stack"" document\n\nThis patch updates:\n* The fedora cloud image used (the previous one is not longer\n  available)\n* The image name, to match the name used in the ""stack create""\n  command.\n* The link to the ""WordPress_Native.yaml""\n\nTrivial-Fix\n\nChange-Id: I845cb19ecc70467606d336850e7154a68208c896\n'}]",1,880156,4254db1c61b125a6fda016f990da97cd8820bea4,8,3,1,16688,,,0,"Update the ""Creating your first stack"" document

This patch updates:
* The fedora cloud image used (the previous one is not longer
  available)
* The image name, to match the name used in the ""stack create""
  command.
* The link to the ""WordPress_Native.yaml""

Trivial-Fix

Change-Id: I845cb19ecc70467606d336850e7154a68208c896
",git fetch https://review.opendev.org/openstack/heat refs/changes/56/880156/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting_started/create_a_stack.rst'],1,4254db1c61b125a6fda016f990da97cd8820bea4,update_create_stack_doc, $ wget https://download.fedoraproject.org/pub/fedora/linux/releases/37/Cloud/x86_64/images/Fedora-Cloud-Base-37-1.7.x86_64.qcow2 --file=Fedora-Cloud-Base-37-1.7.x86_64.qcow2 \ my-fedora-image $ openstack stack create -t https://opendev.org/openstack/heat-templates/src/branch/master/hot/F20/WordPress_Native.yaml --parameter key_name=heat_key --parameter image_id=my-fedora-image --parameter instance_type=m1.small teststack, $ wget http://cloud.fedoraproject.org/fedora-20.x86_64.qcow2 --file=fedora-20.x86_64.qcow2 \ fedora-20.x86_64 $ openstack stack create -t https://opendev.org/openstack/heat-templates/raw/src/branch/master/hot/F20/WordPress_Native.yaml --parameter key_name=heat_key --parameter image_id=my-fedora-image --parameter instance_type=m1.small teststack,4,4
openstack%2Fcharm-neutron-dynamic-routing~884655,openstack/charm-neutron-dynamic-routing,master,I21ba5d79ff100b839874a65e4ddd32f20dfb1311,Add OVN + neutron-dynamic-routing bundles,MERGED,2023-05-30 08:14:58.000000000,2023-05-31 05:50:37.000000000,2023-05-31 05:50:37.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 08:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/2951b10e05b49a10507b9a025af62fa9321ae0ac', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 2, 'created': '2023-05-30 09:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/4c5c6426f8acf93b4d660dd57e19989bec56dee9', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 3, 'created': '2023-05-30 09:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/aedc9adfe6a81b1255a6f5b81c338f4fbbb290b5', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 4, 'created': '2023-05-30 17:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/3b011984dedac21eb2ab59b73fc56565828a7292', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}, {'number': 5, 'created': '2023-05-30 17:51:38.000000000', 'files': ['src/tests/bundles/lunar-antelope.yaml', 'osci.yaml', 'src/tests/bundles/lunar-antelope-ovn.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/jammy-antelope-ovn.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/b97646f6652ada059fb6416d94b8db5da42d9772', 'message': ""Add OVN + neutron-dynamic-routing bundles\n\n* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or\n  Antelope), see [1][2].\n* Vault is added to non-OVN bundles as the tests.yaml file is shared\n  and uses a configure step for Vault\n\nImportant note: at the time of writing the OVN integration code in\nNeutron does not have any use for `distributed` and `ha` router extra\nattributes and whether distributed or centralized FIPs are used in OVN\nis governed by the ovn/enable_distributed_floating_ip option which does\nnot operate at the per-router granularity and is global.\n\nThe docs have not been updated and still say [3] that OVN routers do not\nexpose `ha` or `distributed` attributes which are now there as of [1].\n\nAt the same time, the NDR implementation uses the `distributed`\nattribute to determine whether to use the gateway port IP and treat FIPs\nas centralized [4] and add a next-hop to the gateway port IP or not in\nthe advertised /32 routes. For routers with `distributed == True`,\nNDR only attempts [5] to find ports with device owner\n`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are\nenabled via ovn/enable_distributed_floating_ip, the `distributed` extra\nattribute on a router is set to `False` and /32 routes are advertised\nas centralized.\n\nThe distributed FIP case is currently not exercised by the current\nbundles neither for ML2/ovs nor ML2/ovn. The current bundles only test\nthe control plane and route advertisement, not packet forwarding via\nadvertised next-hops.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/864051\n[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29\n[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564\n[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580\n\nChange-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311\n""}]",1,884655,b97646f6652ada059fb6416d94b8db5da42d9772,18,3,5,24824,,,0,"Add OVN + neutron-dynamic-routing bundles

* OVN + NDR testing is possible as of Neutron 22.0.0 (2023.1 or
  Antelope), see [1][2].
* Vault is added to non-OVN bundles as the tests.yaml file is shared
  and uses a configure step for Vault

Important note: at the time of writing the OVN integration code in
Neutron does not have any use for `distributed` and `ha` router extra
attributes and whether distributed or centralized FIPs are used in OVN
is governed by the ovn/enable_distributed_floating_ip option which does
not operate at the per-router granularity and is global.

The docs have not been updated and still say [3] that OVN routers do not
expose `ha` or `distributed` attributes which are now there as of [1].

At the same time, the NDR implementation uses the `distributed`
attribute to determine whether to use the gateway port IP and treat FIPs
as centralized [4] and add a next-hop to the gateway port IP or not in
the advertised /32 routes. For routers with `distributed == True`,
NDR only attempts [5] to find ports with device owner
`'floatingip_agent_gateway'`. Therefore, when distributed FIPs are
enabled via ovn/enable_distributed_floating_ip, the `distributed` extra
attribute on a router is set to `False` and /32 routes are advertised
as centralized.

The distributed FIP case is currently not exercised by the current
bundles neither for ML2/ovs nor ML2/ovn. The current bundles only test
the control plane and route advertisement, not packet forwarding via
advertised next-hops.

[1] https://review.opendev.org/c/openstack/neutron/+/864051
[2] https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057
[3] https://github.com/openstack/neutron/blame/cd66232c2b26cb4141c2e9426ce2dec0f38c364c/doc/source/ovn/faq/index.rst#L16-L29
[4] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L564
[5] https://github.com/openstack/neutron-dynamic-routing/blob/513ea649be9fd652b0c5b391167f851bc3d653bb/neutron_dynamic_routing/db/bgp_db.py#L567-L580

Change-Id: I21ba5d79ff100b839874a65e4ddd32f20dfb1311
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/55/884655/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/lunar-antelope.yaml', 'src/tests/bundles/lunar-antelope-ovn.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-antelope-ovn.yaml', 'src/tests/bundles/jammy-antelope.yaml']",6,2951b10e05b49a10507b9a025af62fa9321ae0ac,2023-ovn-ndr, '8': vault: charm: ch:vault num_units: 1 channel: latest/edge to: - '8' - - vault:certificates - keystone:certificates - - vault:certificates - neutron-api:certificates,,378,0
openstack%2Fcharm-openstack-hypervisor~884805,openstack/charm-openstack-hypervisor,main,Ie62fecbcd033ef65d4a73e0b5ceee769f435299a,Add osci to publish charm,MERGED,2023-05-31 04:50:07.000000000,2023-05-31 05:49:34.000000000,2023-05-31 05:49:34.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 04:50:07.000000000', 'files': ['osci.yaml', 'rename.sh', '.zuul.yaml', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/1964a31610d786db9b6df0418844e9ac49d92a62', 'message': 'Add osci to publish charm\n\nAdd osci.yaml to publish charm.\nPublish the charm to 2023.1/edge track.\nChange snap-channel default to 2023.1/edge.\n\nChange-Id: Ie62fecbcd033ef65d4a73e0b5ceee769f435299a\n'}]",1,884805,1964a31610d786db9b6df0418844e9ac49d92a62,6,2,1,10366,,,0,"Add osci to publish charm

Add osci.yaml to publish charm.
Publish the charm to 2023.1/edge track.
Change snap-channel default to 2023.1/edge.

Change-Id: Ie62fecbcd033ef65d4a73e0b5ceee769f435299a
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/05/884805/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'rename.sh', '.zuul.yaml', 'config.yaml']",4,1964a31610d786db9b6df0418844e9ac49d92a62,," default: ""2023.1/edge"""," default: ""yoga/edge""",25,2
openstack%2Fpuppet-pacemaker~877216,openstack/puppet-pacemaker,stable/1.1.x,I2a2250894c8c9a881120983897c22c491b2e012d,stably-only: Pin concurrent-ruby,ABANDONED,2023-03-13 05:30:13.000000000,2023-05-31 05:35:34.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-13 05:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/27253bc5c0523d86c0b8000c157a422dda95de87', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}, {'number': 2, 'created': '2023-04-12 01:54:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/97d45dd41eed2314cb5d261d8cea9cdaf0d8d7b1', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nThis change also fixes failure in unit tests, caused by the following\nwarning message shown by the pcs command. This was already fixed in\nmaster and 1.5.x by I8f5c04cea4afb8f46a8da5ab639ac984bac36cca .\n\nWarning: stonith option 'passwd' is deprecated and should not be used,\nuse 'password' instead\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}, {'number': 3, 'created': '2023-04-12 01:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/767850e95861a20f49841dca078ec092d3f0ed1f', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nNote:\nThis also pins mocha to an older version because 2.0.x requires Ruby\n2.7.1 and later.\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}, {'number': 4, 'created': '2023-04-12 05:56:10.000000000', 'files': ['spec/unit/puppet/provider/cib-orig.xml', '.zuul.yaml', 'Gemfile', 'spec/unit/puppet/provider/pcmk_common_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/d6323db4440bbbcd8b593217557db3942ad3739b', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nConflicts:\n\tGemfile\n\nBackport notes:\n- mocha is pinned to an older version because 2.0.x requires Ruby\n  2.7.1 and later. This was done in stable/1.5.0 and later by [1]\n- This also fixes the broken unit tests which was later fixed by [2].\n\n[1] I5144d738f53d127a4d306a47777e381873672d56\n[2] I8f5c04cea4afb8f46a8da5ab639ac984bac36cca\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)\n""}]",1,877216,d6323db4440bbbcd8b593217557db3942ad3739b,11,2,4,9816,,,0,"stably-only: Pin concurrent-ruby

concurrent-ruby 1.2.0 dropped the implementation which puppet still
relies on. Let's pin it to the older version to fix the broken tests
with old and current puppet versions.

This is submitted to stable branches only because master uses the new
version of puppet which replaces the removed interfaces.

Conflicts:
	Gemfile

Backport notes:
- mocha is pinned to an older version because 2.0.x requires Ruby
  2.7.1 and later. This was done in stable/1.5.0 and later by [1]
- This also fixes the broken unit tests which was later fixed by [2].

[1] I5144d738f53d127a4d306a47777e381873672d56
[2] I8f5c04cea4afb8f46a8da5ab639ac984bac36cca

Change-Id: I2a2250894c8c9a881120983897c22c491b2e012d
(cherry picked from commit 94bd8c052fd27d68fb9f0ee24734f100aa34e37e)
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/16/877216/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'Gemfile']",2,27253bc5c0523d86c0b8000c157a422dda95de87,," gem 'concurrent-ruby', '< 1.2.0', :require => false",,1,2
openstack%2Ftripleo-ansible~884555,openstack/tripleo-ansible,stable/wallaby,I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21,Rework cephadm key and pools creation for Quincy+,MERGED,2023-05-26 19:57:53.000000000,2023-05-31 03:41:49.000000000,2023-05-31 03:41:49.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 30742}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-05-26 19:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7b145dc14a0c0479230815b0692c9459d2b777d5', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 2, 'created': '2023-05-26 21:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3893f463d893e7dbd7ab64b12c3da1471d1cf0a', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 3, 'created': '2023-05-26 22:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/385ce8a7c1a8bf1ae870233ddf1d53a36be7a17e', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 4, 'created': '2023-05-26 22:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc2f4897cba5fbcb39e22f3d12676e3022db73ff', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 5, 'created': '2023-05-26 22:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0541f06a784e53f56d2136f6dfe3234ae5e9bfc', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 6, 'created': '2023-05-27 05:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db42675e3f64220d422872ea65f252c5f12ae2fd', 'message': 'Rework cephadm key creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster.\nThis patch fixes the key creation and relies on the common cephadm\ncli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 7, 'created': '2023-05-29 07:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02e3238749285e79144436be04c301706a3b9225', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 8, 'created': '2023-05-29 16:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f1e2d4e0d9791fb9e9b00d753a4700372e4df6e1', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 9, 'created': '2023-05-29 17:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7864d7a8dd1def514e7e91319f30877646b12e5f', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 10, 'created': '2023-05-29 17:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f80c727dba41d88b60aa66c4edd73e49bf525b8', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 11, 'created': '2023-05-29 17:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/750d07ffa91f719aac752acca6bb29a0496a690c', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 12, 'created': '2023-05-29 18:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffd3827b370b723ae52d8faa5d0beb00a50820e0', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 13, 'created': '2023-05-29 18:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7c348afd8d937c6254d64fdaf17043b45be848a', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 14, 'created': '2023-05-29 20:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/384f347a7673ec802cda06c9643b4055765c0c80', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 15, 'created': '2023-05-29 20:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68da0b53584bf7a7a66bdf14528a9d0a7193af7b', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 16, 'created': '2023-05-29 20:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbf5cc365682e344f3a06e8a607f46fccaf8fe50', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 17, 'created': '2023-05-29 22:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1f9b6791d6e96dc37743828bb3e5223fcbb6eb96', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 18, 'created': '2023-05-30 05:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8b61b9f43719580532df9ee39882c52c7cad5cb1', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 19, 'created': '2023-05-30 05:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10212fbf88d7b31187613b8a86d602726d315fcb', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}, {'number': 20, 'created': '2023-05-30 10:05:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/templates/ceph_key.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/vars/mock_ceph_keys.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/roles/tripleo_cephadm/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/selinux.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/toggle_cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/ceph_cli.yaml', 'tripleo_ansible/roles/tripleo_cephadm/templates/ceph_client.yaml.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1a48ac2f23868409ad2af84cd1164eb744f5f43', 'message': 'Rework cephadm key and pools creation for Quincy+\n\nFrom Quincy we have issues w/ the modules used to build and import\nkeys within the cluster. Similar issues happen when the pool module\nis called.\nThis patch fixes both the pools and keys creation and relies on the\ncommon cephadm cli instead of the existing python module.\n\nChange-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21\n'}]",22,884555,d1a48ac2f23868409ad2af84cd1164eb744f5f43,48,8,20,25402,,,0,"Rework cephadm key and pools creation for Quincy+

From Quincy we have issues w/ the modules used to build and import
keys within the cluster. Similar issues happen when the pool module
is called.
This patch fixes both the pools and keys creation and relies on the
common cephadm cli instead of the existing python module.

Change-Id: I7c0e2c95cef09ef3bc9ca341a70afc06859e2c21
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/884555/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/templates/ceph_key.j2', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml']",2,7b145dc14a0c0479230815b0692c9459d2b777d5,884555,"- name: Get ceph_cli include_tasks: ceph_cli.yaml vars: tripleo_cephadm_config_home_container: ""{{ tripleo_cephadm_config_home | default('/etc/ceph') }}"" command: ""{{ tripleo_cephadm_ceph_cli }} auth import -i {{ tripleo_cephadm_config_home | default('/etc/ceph') }}/{{ tripleo_cephadm_cluster | default('ceph') }}.{{ item.name }}.keyring"" loop: ""{{ tripleo_cephadm_keys| default([]) }}""- name: Dump cephx key(s) in tripleo_cephadm_config_home template: src: templates/ceph_key.j2 dest: ""{{ tripleo_cephadm_config_home | default('/etc/ceph') }}/{{ tripleo_cephadm_cluster | default('ceph') }}.{{ item.name }}.keyring"" mode: 0644 force: true loop: ""{{ tripleo_cephadm_keys| default([]) }}""","- name: Prepare tripleo_ceph_key_dest set_fact: tripleo_ceph_key_dest: >- {%- if tripleo_cephadm_config_home_container_stat.stat.exists -%} {{ tripleo_cephadm_config_home_container }} {%- else -%} {{ tripleo_cephadm_config_home }} {%- endif -%} ceph_key: import_key: true name: ""{{ item.name }}"" caps: ""{{ item.caps }}"" mode: ""{{ item.mode }}"" secret: ""{{ item.key | default('') }}"" cluster: ""{{ tripleo_cephadm_cluster }}"" dest: ""{{ tripleo_ceph_key_dest }}"" owner: ""{{ tripleo_cephadm_uid }}"" group: ""{{ tripleo_cephadm_uid }}"" environment: CEPH_CONTAINER_IMAGE: ""{{ tripleo_cephadm_container_ns + '/' + tripleo_cephadm_container_image + ':' + tripleo_cephadm_container_tag }}"" CEPH_CONTAINER_BINARY: ""{{ tripleo_cephadm_container_cli }}"" CEPH_FSID: ""{{ tripleo_cephadm_fsid }}"" loop: ""{{ tripleo_cephadm_keys }}""- name: Find the generated key(s) ansible.builtin.find: paths: ""{{ tripleo_cephadm_config_home_container }}"" patterns: ""*.{{ item.name }}.*"" register: keyring_files loop: ""{{ tripleo_cephadm_keys }}"" - tripleo_cephadm_config_home_container_stat.stat.exists | bool - name: Copy key(s) to /etc/ceph ansible.builtin.copy: remote_src: true src: ""{{ item.path }}"" dest: ""{{ tripleo_cephadm_config_home }}"" owner: ""{{ tripleo_cephadm_uid }}"" group: ""{{ tripleo_cephadm_uid }}"" mode: '0644' become: true with_items: ""{{ keyring_files.results | map(attribute='files') | list }}"" when: tripleo_cephadm_config_home_container_stat.stat.exists | bool",18,42
openstack%2Fpuppet-horizon~882378,openstack/puppet-horizon,master,I0fa697cf5e46b7214dca7940d19be81203eed70d,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:03:23.000000000,2023-05-31 03:40:01.000000000,2023-05-05 16:28:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:03:23.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/92950a690d6d73a5938da117be6812b2663e27b6', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: I0fa697cf5e46b7214dca7940d19be81203eed70d\n'}]",0,882378,92950a690d6d73a5938da117be6812b2663e27b6,9,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: I0fa697cf5e46b7214dca7940d19be81203eed70d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/78/882378/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,92950a690d6d73a5938da117be6812b2663e27b6,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $root_path)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $root_path)",1,1
openstack%2Fpuppet-qdr~882382,openstack/puppet-qdr,master,Iec51d93025702a40b2f2be45a655eded125f1ab5,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:12:22.000000000,2023-05-31 03:39:54.000000000,2023-05-05 16:28:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:12:22.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: Iec51d93025702a40b2f2be45a655eded125f1ab5\n'}]",0,882382,9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1,8,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: Iec51d93025702a40b2f2be45a655eded125f1ab5
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/82/882382/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,9a7a6c3f43b1a65d4cb8178d31915795d7e0d0e1,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $router_sasl_path)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_debug_dump) validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $router_sasl_path)",2,2
openstack%2Fpuppet-openstacklib~882380,openstack/puppet-openstacklib,master,I57108b7e4a0525444dbbd36d6a9086e374a45539,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:10:30.000000000,2023-05-31 03:39:34.000000000,2023-05-07 14:45:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:10:30.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0861e31cf9e3d4cb6022038f46caf3cdc5f83873', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: I57108b7e4a0525444dbbd36d6a9086e374a45539\n'}]",0,882380,0861e31cf9e3d4cb6022038f46caf3cdc5f83873,9,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: I57108b7e4a0525444dbbd36d6a9086e374a45539
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/80/882380/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,0861e31cf9e3d4cb6022038f46caf3cdc5f83873,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $policy_path)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $policy_path)",1,1
openstack%2Fpuppet-keystone~882379,openstack/puppet-keystone,master,I8ad2395f14058fecbb7868f081fa2dfdf5f199cc,Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path,MERGED,2023-05-05 08:09:03.000000000,2023-05-31 03:38:34.000000000,2023-05-10 19:49:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:09:03.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/cad09a6b17369d0507de624f729d1eb36dc45b67', 'message': 'Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path\n\nThe Stdlib::Absolutepath which was deprecated 4 years ago is\nnow removed since [1]. We replace it by the\nStdlib::Compat::Absolute_path [2] data type which contains the\nsame functions ""is_absolute_path"" and ""validate_absolute_path"".\n\n[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324\n[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path\n\nChange-Id: I8ad2395f14058fecbb7868f081fa2dfdf5f199cc\n'}]",4,882379,cad09a6b17369d0507de624f729d1eb36dc45b67,16,3,1,31068,,,0,"Replace Stdlib::Absolutepath by Stdlib::Compat::Absolute_path

The Stdlib::Absolutepath which was deprecated 4 years ago is
now removed since [1]. We replace it by the
Stdlib::Compat::Absolute_path [2] data type which contains the
same functions ""is_absolute_path"" and ""validate_absolute_path"".

[1] https://github.com/puppetlabs/puppetlabs-stdlib/pull/1324
[2] https://github.com/puppetlabs/puppetlabs-stdlib/blob/main/REFERENCE.md#Stdlib--Compat--Absolute_path

Change-Id: I8ad2395f14058fecbb7868f081fa2dfdf5f199cc
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/79/882379/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,cad09a6b17369d0507de624f729d1eb36dc45b67,replace_deprecated_stdlib_absolutepath," validate_legacy(Stdlib::Compat::Absolute_path, 'validate_absolute_path', $domain_config_directory)"," validate_legacy(Stdlib::Absolutepath, 'validate_absolute_path', $domain_config_directory)",1,1
openstack%2Fswift~880677,openstack/swift,master,I3086e3453b13411304e431e83d6379e255c1777c,memcached: handle failed incr+add+incr better,MERGED,2023-04-17 18:13:42.000000000,2023-05-31 02:13:55.000000000,2023-05-31 02:09:04.000000000,"[{'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 34930}]","[{'number': 1, 'created': '2023-04-17 18:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a056edd8489498db14900b651df4761ed2834f4a', 'message': 'WIP: memcached: handle failed incr+add+incr\n\nHandle the case when:\n  * incr fails because key is not found\n  * add fails because key is found\n  * incr fails because key is not found (e.g. the key expired since\n    the add)\n\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n'}, {'number': 2, 'created': '2023-05-09 18:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b788737c465475686caec3138eddce28f57e509', 'message': ""WIP: memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 3, 'created': '2023-05-10 09:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8784dbfdf6c19843c8669342bd6a37cc8cabe49b', 'message': ""WIP: memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 4, 'created': '2023-05-11 10:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/78312820e356d8fc3a12a75e7cd6b56c80f59cfb', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 5, 'created': '2023-05-11 13:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/df857563dfe8bc19440c9628a8a2c875ed9753e0', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 6, 'created': '2023-05-19 10:11:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/763653f55ee619c769715f1fa08ae873e4414752', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 7, 'created': '2023-05-23 13:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/dd32b876fb8133ad48fd761d8456592be5f6defe', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 8, 'created': '2023-05-25 11:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3dcfd3774e4479735b5809925e077bf9f936f898', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 9, 'created': '2023-05-25 15:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fec1deb4746dfe8e21baf06823a643ead8507722', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}, {'number': 10, 'created': '2023-05-26 15:03:39.000000000', 'files': ['swift/common/memcached.py', 'test/unit/common/test_memcached.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/49a5293cbd7d731eba816aebec47ffe65066dc51', 'message': ""memcached: handle failed incr+add+incr better\n\nImprove the exception handling for the case when:\n  * incr fails because key is not found\n  * add fails because key is found (another actor added it\n    concurrently)\n  * incr fails because key is not found (the key expired since\n    the add, presumably because the TTL was short relative to\n    the execution time of the incr method)\n\nPreviously this resulted in an error log and a traceback. This patch\neliminates the traceback and adds the TTL to the log message.\n\nIt's not clear that this failure scenario is due to a server problem:\nslow execution of the MemcacheRing.incr code path due to the green\nthread being suspended could cause the second incr to be delayed more\nthan the TTL. This patch therefore prevents this particular failure\nscenario causing the server to be error limited.\n\nCloses-Bug: #2019095\nChange-Id: I3086e3453b13411304e431e83d6379e255c1777c\n""}]",22,880677,49a5293cbd7d731eba816aebec47ffe65066dc51,58,5,10,7847,,,0,"memcached: handle failed incr+add+incr better

Improve the exception handling for the case when:
  * incr fails because key is not found
  * add fails because key is found (another actor added it
    concurrently)
  * incr fails because key is not found (the key expired since
    the add, presumably because the TTL was short relative to
    the execution time of the incr method)

Previously this resulted in an error log and a traceback. This patch
eliminates the traceback and adds the TTL to the log message.

It's not clear that this failure scenario is due to a server problem:
slow execution of the MemcacheRing.incr code path due to the green
thread being suspended could cause the second incr to be delayed more
than the TTL. This patch therefore prevents this particular failure
scenario causing the server to be error limited.

Closes-Bug: #2019095
Change-Id: I3086e3453b13411304e431e83d6379e255c1777c
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/880677/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/memcached.py'],1,a056edd8489498db14900b651df4761ed2834f4a,p-memcache-incr," def _incr(self, fp, sock, command, key, delta): sock.sendall(b' '.join([command, key, delta]) + b'\r\n') line = fp.readline().strip().split() if not line: raise MemcacheConnectionError('incomplete read') if line[0].upper() == b'NOT_FOUND': return None try: return int(line[0].strip()) except Exception: raise MemcacheConnectionError('Error handling response: %s', line) def _add(self, fp, sock, key, add_val, timeout): sock.sendall(b' '.join([ b'add', key, b'0', str(timeout).encode('ascii'), str(len(add_val)).encode('ascii') ]) + b'\r\n' + add_val + b'\r\n') line = fp.readline().strip().split() return None if line[0].upper() == b'NOT_STORED' else int(add_val) add_val = delta_val = str(abs(int(delta))).encode('ascii') add_val = b'0' new_val = self._incr(fp, sock, command, key, delta_val) if new_val is None: new_val = self._add(fp, sock, key, add_val, timeout) if new_val is None: new_val = self._incr(fp, sock, command, key, delta_val) if new_val is None: pass # TODO: what now? return new_val"," delta = str(abs(int(delta))).encode('ascii') sock.sendall(b' '.join([ command, key, delta]) + b'\r\n') line = fp.readline().strip().split() if not line: raise MemcacheConnectionError('incomplete read') if line[0].upper() == b'NOT_FOUND': add_val = delta if command == b'decr': add_val = b'0' sock.sendall(b' '.join([ b'add', key, b'0', str(timeout).encode('ascii'), str(len(add_val)).encode('ascii') ]) + b'\r\n' + add_val + b'\r\n') line = fp.readline().strip().split() if line[0].upper() == b'NOT_STORED': sock.sendall(b' '.join([ command, key, delta]) + b'\r\n') line = fp.readline().strip().split() ret = int(line[0].strip()) else: ret = int(add_val) else: ret = int(line[0].strip()) return ret",31,25
openstack%2Fpuppet-nova~884737,openstack/puppet-nova,stable/2023.1,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-31 01:24:12.000000000,2023-05-31 01:57:34.000000000,2023-05-31 01:56:37.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 01:24:12.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3fa17436bc39ac3344d91a9f5d8df51f400fec96', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)\n'}]",0,884737,3fa17436bc39ac3344d91a9f5d8df51f400fec96,7,2,1,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
(cherry picked from commit 00a3b773102ff5b4fb32eaec4464aa97e31fe7c0)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/37/884737/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,3fa17436bc39ac3344d91a9f5d8df51f400fec96,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 to use legacy libvirtd service and socket. ,,7,0
openstack%2Fneutron~881827,openstack/neutron,master,Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9,Return 409 Conflict to tenant user deleting port attached to FIP,MERGED,2023-04-28 14:19:17.000000000,2023-05-31 01:36:06.000000000,2023-05-31 01:34:57.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-04-28 14:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cc4713f07fa65522617f7f3bd167ccbedac0887', 'message': 'WIP: Return 403 Forbidden to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 403 Forbidden doing some additionals\nchecks on the delete_port method.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 2, 'created': '2023-05-03 15:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dade1f1237f7500060a15f0c8da9fa549f0f4b8', 'message': 'WIP: Return 403 Forbidden to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 403 Forbidden doing some additionals\nchecks on the delete_port method.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 3, 'created': '2023-05-03 15:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a811def8d783004ebd218166d5280ac575c0a09e', 'message': 'Return 403 Forbidden to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 403 Forbidden doing some additionals\nchecks on the delete_port method.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 4, 'created': '2023-05-23 11:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e08609b9c07f7ad2a739288544c9968507b6364', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 5, 'created': '2023-05-23 13:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c16c4cae012aa671f2e7fecf80bd4bbdb669d9d4', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 6, 'created': '2023-05-25 12:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/784dfa3f50b7d2e15664f395231c16e8bfd4970e', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 7, 'created': '2023-05-25 13:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3946908810607bb8946034389b6c9f6435bcce77', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}, {'number': 8, 'created': '2023-05-26 09:06:32.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f6f6d5082b4341529144e992d5293675146ae88', 'message': 'Return 409 Conflict to tenant user deleting port attached to FIP\n\nWhen a tenant user try to delete a port that has attached a FIP by\nan admin user is getting a 500 ServerError.\n\nThis patch improves the error to 409 Conflict doing some additionals\nchecks on the delete_port method.\n\nNew exception has been included locally, but will be removed as soon\nneutron-lib bumps to a newer release.\n\nCloses-Bug: 2017680\nChange-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9\n'}]",35,881827,9f6f6d5082b4341529144e992d5293675146ae88,76,8,8,34451,,,0,"Return 409 Conflict to tenant user deleting port attached to FIP

When a tenant user try to delete a port that has attached a FIP by
an admin user is getting a 500 ServerError.

This patch improves the error to 409 Conflict doing some additionals
checks on the delete_port method.

New exception has been included locally, but will be removed as soon
neutron-lib bumps to a newer release.

Closes-Bug: 2017680
Change-Id: Iab77c64c03fd0d44ff7a3fc1c556d85a8c480bb9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/27/881827/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,8cc4713f07fa65522617f7f3bd167ccbedac0887,FIPAssociatedException," @mock.patch('neutron.db.l3_db.L3_NAT_dbonly_mixin.get_floatingips') def test__get_floatingips_validating(self, gfs): fips = [{'id': 'fip-id1', 'floating_ip_address': '192.168.0.10', 'router_id': 'router-id', 'port_id': 'port_id', 'floating_port_id': 'fip-port-id1', 'fixed_ip_address': '10.0.0.10', 'floating_network_id': 'net1'}, {'id': 'fip-id2', 'floating_ip_address': '192.167.0.10', 'router_id': 'router-id', 'port_id': 'port_id', 'floating_port_id': 'fip-port-id2', 'fixed_ip_address': '10.0.0.11', 'floating_network_id': 'net2'}] gfs.return_value = fips fips_return = self.l3_inst._get_floatingips_validating_access( self.context, 'port_id') self.assertEqual(fips, fips_return) ",,52,2
openstack%2Fcinder~879225,openstack/cinder,master,Ied61c5c3627585ad4e6afc9b23274ac314f27262,Automate generation of backups api-ref samples,ABANDONED,2023-04-02 07:45:47.000000000,2023-05-31 01:10:23.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35851}]","[{'number': 1, 'created': '2023-04-02 07:45:47.000000000', 'files': ['api-ref/source/v3/samples/backups/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-response.json.tpl', 'api-ref/source/v3/samples/backup-create-response.json', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backups/backup-update-request.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'api-ref/source/v3/samples/backups/backup-update-response.json', 'api-ref/source/v3/samples/backups/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-request.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/07805c55af7c742934ec9d0261d2dbf73a65931b', 'message': 'Automate generation of backups api-ref samples\n\nThis patch:\n1) Adds backup update\n2) Renames backup-create files\n3) Updates .inc file to contain new path\n\nPartially-Implements: blueprint generating-sample-files\nChange-Id: Ied61c5c3627585ad4e6afc9b23274ac314f27262\n'}]",2,879225,07805c55af7c742934ec9d0261d2dbf73a65931b,19,4,1,35851,,,0,"Automate generation of backups api-ref samples

This patch:
1) Adds backup update
2) Renames backup-create files
3) Updates .inc file to contain new path

Partially-Implements: blueprint generating-sample-files
Change-Id: Ied61c5c3627585ad4e6afc9b23274ac314f27262
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/879225/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/backups/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-response.json.tpl', 'api-ref/source/v3/samples/backup-create-response.json', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/samples/backups/backup-update-request.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'api-ref/source/v3/samples/backups/backup-update-response.json', 'api-ref/source/v3/samples/backups/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backup-create-request.json', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-update-request.json.tpl']",12,07805c55af7c742934ec9d0261d2dbf73a65931b,bp/generating-sample-files,"{ ""backup"":{ ""project_id"": ""%(project_id)"", ""backup_id"": ""%(backup_id)"", ""name"":""backup001"", ""description"": ""Test the updated backup"" } } ",,58,32
openstack%2Fmagnum~883997,openstack/magnum,stable/zed,Ic182bba9d480421c2cb581558ebde8dfb20421c8,Fix pods unable to send traffic to ClusterIP,MERGED,2023-05-24 04:04:00.000000000,2023-05-31 00:44:56.000000000,2023-05-31 00:42:57.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-24 04:04:00.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/843be2aa0d0beb6926d9ededb92009559e93d67c', 'message': ""Fix pods unable to send traffic to ClusterIP\n\nFlannel with VXLAN suffers from a bug[1] where pods on the same node are\nunable to send traffic to a service's ClusterIP when the endpoint is on\nthe same node.\n\nThis is due to improper NATTing of the return traffic.\n\nThe fix is to load the br_netfilter module as specified in the\nkubernetes doc.[2]\n\n[1] https://github.com/flannel-io/flannel/issues/1702\n[2] https://kubernetes.io/docs/setup/production-environment/container-runtimes/#forwarding-ipv4-and-letting-iptables-see-bridged-traffic\n\nChange-Id: Ic182bba9d480421c2cb581558ebde8dfb20421c8\n(cherry picked from commit ae7a50e2af515a2d9f4fcb76e25b237b1edc8ee5)\n""}]",0,883997,843be2aa0d0beb6926d9ededb92009559e93d67c,8,3,1,8064,,,0,"Fix pods unable to send traffic to ClusterIP

Flannel with VXLAN suffers from a bug[1] where pods on the same node are
unable to send traffic to a service's ClusterIP when the endpoint is on
the same node.

This is due to improper NATTing of the return traffic.

The fix is to load the br_netfilter module as specified in the
kubernetes doc.[2]

[1] https://github.com/flannel-io/flannel/issues/1702
[2] https://kubernetes.io/docs/setup/production-environment/container-runtimes/#forwarding-ipv4-and-letting-iptables-see-bridged-traffic

Change-Id: Ic182bba9d480421c2cb581558ebde8dfb20421c8
(cherry picked from commit ae7a50e2af515a2d9f4fcb76e25b237b1edc8ee5)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/97/883997/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",2,843be2aa0d0beb6926d9ededb92009559e93d67c,, $ssh_cmd modprobe -a vxlan br_netfilter cat <<EOF > /etc/modules-load.d/flannel.conf vxlan br_netfilter EOF," $ssh_cmd modprobe vxlan echo ""vxlan"" > /etc/modules-load.d/vxlan.conf",11,4
openstack%2Fos-net-config~883503,openstack/os-net-config,master,If0cad8c856ee62064205b9a88f0148980653fcb2,Fix breaking vf-lag functionality in os-net-config,MERGED,2023-05-18 13:11:42.000000000,2023-05-31 00:32:22.000000000,2023-05-31 00:31:27.000000000,"[{'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 25241}, {'_account_id': 28223}, {'_account_id': 30102}, {'_account_id': 30229}, {'_account_id': 32238}, {'_account_id': 33688}, {'_account_id': 35001}]","[{'number': 1, 'created': '2023-05-18 13:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1397bb60eb6394827bb001cb7b2c1e4961959d39', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 2, 'created': '2023-05-21 12:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e555d188e958faaff2b47c910c75a87ba5b0dbd1', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 3, 'created': '2023-05-24 10:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5898ff347f69ecda17c2a63cf770346368fdaa7c', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 4, 'created': '2023-05-24 11:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/43b34502f9c2573dc7a660ecef9f059e1a1d3b26', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 5, 'created': '2023-05-24 12:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/8daba265be06fae34e76265d1d8367dc5e5f77d1', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 6, 'created': '2023-05-25 09:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1888221bdac9d0a74fd0761ee78fa85e9750adbb', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 7, 'created': '2023-05-29 06:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/3ae6754e6d645a663cb85999160f1dbb0642d3fb', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 8, 'created': '2023-05-29 10:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/74c251a6694239ad4d33a1af448b1adefd3983e0', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}, {'number': 9, 'created': '2023-05-29 11:06:29.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/sriov_config.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b1a7c9c5f0c2832ff504ea4557305ca1b94a196e', 'message': 'Fix breaking vf-lag functionality in os-net-config\n\nBecause of racing issue to activate vf-lag after moving the second\nsriov_pf interface to switchdev mode in Nvidia\\Mellanox nics, we may\nbind sriov_vfs while the LAG is not active yet.\nAnother reason for breaking vf-lag functionality is that we are doing\nifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond\nis member of ovs_bridge).\n\nAs a solution for this issue, we are doing the binding after assuring\nthe LAG is active, and also moving the ifdown/ifup before start binding\n\nCloses-Bug: #2020085\nChange-Id: If0cad8c856ee62064205b9a88f0148980653fcb2\n'}]",39,883503,b1a7c9c5f0c2832ff504ea4557305ca1b94a196e,55,13,9,25241,,,0,"Fix breaking vf-lag functionality in os-net-config

Because of racing issue to activate vf-lag after moving the second
sriov_pf interface to switchdev mode in Nvidia\Mellanox nics, we may
bind sriov_vfs while the LAG is not active yet.
Another reason for breaking vf-lag functionality is that we are doing
ifdown/ifup for sriov_pfs after binding the vfs(in case of linux_bond
is member of ovs_bridge).

As a solution for this issue, we are doing the binding after assuring
the LAG is active, and also moving the ifdown/ifup before start binding

Closes-Bug: #2020085
Change-Id: If0cad8c856ee62064205b9a88f0148980653fcb2
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/03/883503/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/sriov_config.py', 'os_net_config/cli.py']",3,1397bb60eb6394827bb001cb7b2c1e4961959d39,,"def get_sriovpfs_of_linux_bond(obj): sriovpf_member_of_linux_bond_list = [] if isinstance(obj, objects.LinuxBond): for member in obj.members: if isinstance(member, objects.SriovPF): sriovpf_member_of_linux_bond_list.append(member.name) elif hasattr(obj, ""members"") and obj.members is not None: for member in obj.members: sriovpf_member_of_linux_bond_list +=\ get_sriovpfs_of_linux_bond(member) return sriovpf_member_of_linux_bond_list sriovpfs_of_linux_bond_list = [] # Look for the presence of LinuxBond type of SriovPF members and # add all the SriovPF members to sriovpfs_of_linux_bond_list sriovpfs_of_linux_bond_list += get_sriovpfs_of_linux_bond(obj) restart_openvswitch=restart_ovs, sriovpfs_of_linux_bond_list=sriovpfs_of_linux_bond_list )", restart_openvswitch=restart_ovs),56,7
openstack%2Fmagnum~883996,openstack/magnum,stable/zed,Ib962e5a70ee35513f4a04ef87bfda71b2a2a80a1,Add `-p` param to `mkdir` in agent startup script,MERGED,2023-05-24 04:04:00.000000000,2023-05-31 00:31:49.000000000,2023-05-31 00:30:57.000000000,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-24 04:04:00.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json'], 'web_link': 'https://opendev.org/openstack/magnum/commit/fe83b5b8383263612ecc5b749893f3ddeb506124', 'message': ""Add `-p` param to `mkdir` in agent startup script\n\nThis script `/root/configure-agent-env.sh` is called by the systemd\nservice file `configure-agent-env.service`.\n\nThis fixes the following error in the configure-agent-env.service if the node\nhas been rebooted after the first boot:\n\n bash[870]: + mkdir /etc/kubernetes/\n bash[954]: mkdir: cannot create directory '/etc/kubernetes/': File exists\n\nChange-Id: Ib962e5a70ee35513f4a04ef87bfda71b2a2a80a1\n(cherry picked from commit 18348d5f7b97599a1893617e27fcdce2168102c9)\n""}]",0,883996,fe83b5b8383263612ecc5b749893f3ddeb506124,8,3,1,8064,,,0,"Add `-p` param to `mkdir` in agent startup script

This script `/root/configure-agent-env.sh` is called by the systemd
service file `configure-agent-env.service`.

This fixes the following error in the configure-agent-env.service if the node
has been rebooted after the first boot:

 bash[870]: + mkdir /etc/kubernetes/
 bash[954]: mkdir: cannot create directory '/etc/kubernetes/': File exists

Change-Id: Ib962e5a70ee35513f4a04ef87bfda71b2a2a80a1
(cherry picked from commit 18348d5f7b97599a1893617e27fcdce2168102c9)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/883996/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json'],1,fe83b5b8383263612ecc5b749893f3ddeb506124,," ""source"": ""data:,%23!%2Fbin%2Fbash%0A%0Aset%20-x%0Aset%20-e%0Aset%20%2Bu%0A%0Auntil%20%5B%20-f%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%20%5D%0Ado%0A%20%20%20%20echo%20%22waiting%20for%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%22%0A%20%20%20%20sleep%203s%0Adone%0A%0A%2Fusr%2Fbin%2Fupdate-ca-trust%0Amkdir%20-p%20%2Fetc%2Fkubernetes%2F%0Acp%20%2Fetc%2Fpki%2Ftls%2Fcerts%2Fca-bundle.crt%20%2Fetc%2Fkubernetes%2Fca-bundle.crt%0A%0AHTTP_PROXY%3D%22__HTTP_PROXY__%22%0AHTTPS_PROXY%3D%22__HTTPS_PROXY__%22%0ANO_PROXY%3D%22__NO_PROXY__%22%0A%0Aif%20%5B%20-n%20%22%24%7BHTTP_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTP_PROXY%0A%20%20%20%20echo%20%22http_proxy%3D%24%7BHTTP_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BHTTPS_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTPS_PROXY%0A%20%20%20%20echo%20%22https_proxy%3D%24%7BHTTPS_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BNO_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20NO_PROXY%0A%20%20%20%20echo%20%22no_proxy%3D%24%7BNO_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0A%23%20Create%20a%20keypair%20for%20the%20heat-container-agent%20to%0A%23%20access%20the%20node%20over%20ssh.%20It%20is%20useful%20to%20operate%0A%23%20in%20host%20mount%20namespace%20and%20apply%20configuration.%0Aid%0Amkdir%20-p%20%2Fsrv%2Fmagnum%2F.ssh%0Achmod%200700%20%2Fsrv%2Fmagnum%2F.ssh%0A%23touch%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Assh-keygen%20-q%20-t%20rsa%20-N%20''%20-f%20%2Ftmp%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa.pub%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0A%23%20Add%20the%20public%20to%20the%20host%20authorized_keys%20file.%0Amkdir%20-p%20%2Froot%2F.ssh%0Achmod%200700%20%2Froot%2F.ssh%0Acat%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%20%3E%20%2Froot%2F.ssh%2Fauthorized_keys%0A%23%20Add%20localost%20to%20know_hosts%0Assh-keyscan%20127.0.0.1%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0A%23%20ssh%20configguration%20file%2C%20to%20be%20specified%20with%20ssh%20-F%0Acat%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fconfig%20%3C%3CEOF%0AHost%20localhost%0A%20%20%20%20%20HostName%20127.0.0.1%0A%20%20%20%20%20User%20root%0A%20%20%20%20%20IdentityFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0A%20%20%20%20%20UserKnownHostsFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0AEOF%0A%0Ased%20-i%20'%2F%5EPermitRootLogin%2F%20s%2F%20.*%2F%20without-password%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%23%20Security%20enhancement%3A%20Disable%20password%20authentication%0Ased%20-i%20'%2F%5EPasswordAuthentication%20yes%2F%20s%2F%20yes%2F%20no%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%0Asystemctl%20restart%20sshd%0A"""," ""source"": ""data:,%23!%2Fbin%2Fbash%0A%0Aset%20-x%0Aset%20-e%0Aset%20%2Bu%0A%0Auntil%20%5B%20-f%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%20%5D%0Ado%0A%20%20%20%20echo%20%22waiting%20for%20%2Fetc%2Fpki%2Fca-trust%2Fsource%2Fanchors%2Fopenstack-ca.pem%22%0A%20%20%20%20sleep%203s%0Adone%0A%0A%2Fusr%2Fbin%2Fupdate-ca-trust%0Amkdir%20%2Fetc%2Fkubernetes%2F%0Acp%20%2Fetc%2Fpki%2Ftls%2Fcerts%2Fca-bundle.crt%20%2Fetc%2Fkubernetes%2Fca-bundle.crt%0A%0AHTTP_PROXY%3D%22__HTTP_PROXY__%22%0AHTTPS_PROXY%3D%22__HTTPS_PROXY__%22%0ANO_PROXY%3D%22__NO_PROXY__%22%0A%0Aif%20%5B%20-n%20%22%24%7BHTTP_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTP_PROXY%0A%20%20%20%20echo%20%22http_proxy%3D%24%7BHTTP_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BHTTPS_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20HTTPS_PROXY%0A%20%20%20%20echo%20%22https_proxy%3D%24%7BHTTPS_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0Aif%20%5B%20-n%20%22%24%7BNO_PROXY%7D%22%20%5D%3B%20then%0A%20%20%20%20export%20NO_PROXY%0A%20%20%20%20echo%20%22no_proxy%3D%24%7BNO_PROXY%7D%22%20%3E%3E%20%2Fetc%2Fenvironment%0Afi%0A%0A%23%20Create%20a%20keypair%20for%20the%20heat-container-agent%20to%0A%23%20access%20the%20node%20over%20ssh.%20It%20is%20useful%20to%20operate%0A%23%20in%20host%20mount%20namespace%20and%20apply%20configuration.%0Aid%0Amkdir%20-p%20%2Fsrv%2Fmagnum%2F.ssh%0Achmod%200700%20%2Fsrv%2Fmagnum%2F.ssh%0A%23touch%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Assh-keygen%20-q%20-t%20rsa%20-N%20''%20-f%20%2Ftmp%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Amv%20%2Ftmp%2Fheat_agent_rsa.pub%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0Achmod%200400%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%0A%23%20Add%20the%20public%20to%20the%20host%20authorized_keys%20file.%0Amkdir%20-p%20%2Froot%2F.ssh%0Achmod%200700%20%2Froot%2F.ssh%0Acat%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa.pub%20%3E%20%2Froot%2F.ssh%2Fauthorized_keys%0A%23%20Add%20localost%20to%20know_hosts%0Assh-keyscan%20127.0.0.1%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0A%23%20ssh%20configguration%20file%2C%20to%20be%20specified%20with%20ssh%20-F%0Acat%20%3E%20%2Fsrv%2Fmagnum%2F.ssh%2Fconfig%20%3C%3CEOF%0AHost%20localhost%0A%20%20%20%20%20HostName%20127.0.0.1%0A%20%20%20%20%20User%20root%0A%20%20%20%20%20IdentityFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fheat_agent_rsa%0A%20%20%20%20%20UserKnownHostsFile%20%2Fsrv%2Fmagnum%2F.ssh%2Fknown_hosts%0AEOF%0A%0Ased%20-i%20'%2F%5EPermitRootLogin%2F%20s%2F%20.*%2F%20without-password%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%23%20Security%20enhancement%3A%20Disable%20password%20authentication%0Ased%20-i%20'%2F%5EPasswordAuthentication%20yes%2F%20s%2F%20yes%2F%20no%2F'%20%2Fetc%2Fssh%2Fsshd_config%0A%0Asystemctl%20restart%20sshd%0A""",1,1
openstack%2Fdesignate~884593,openstack/designate,master,Ia12b530730921db5235fd35f4cabf80b916c216f,Fix bug in update_zone with recordsets,MERGED,2023-05-30 05:35:34.000000000,2023-05-31 00:30:25.000000000,2023-05-31 00:28:38.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 05:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b827db1633e76c7180ec11bd221127175e48029d', 'message': 'Fix bug in update_zone\n\nWhen trying to write unit tests I found that the previous code path\ndid not work and would throw an sql error. This fixes up the code\npath and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 2, 'created': '2023-05-30 05:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ab86e22ce3c0083034d861ae2034ac467b9c0a1d', 'message': 'Fix bug in update_zone\n\nWhen trying to write unit tests I found that the previous code path\ndid not work and would throw an sql error. This fixes up the code\npath and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 3, 'created': '2023-05-30 06:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3140b991ea625d7340acc42b091434ffbfcff0e3', 'message': 'Fix bug in update_zone\n\nWhen trying to write unit tests I found that the previous code path\ndid not work and would throw an sql error. This fixes up the code\npath and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 4, 'created': '2023-05-30 06:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e6bffe76517a2f9dc48faf3bae29eb7e15da759a', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 5, 'created': '2023-05-30 20:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c953f8e36c64132d44361130c94a839c7da35d15', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 6, 'created': '2023-05-30 20:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9b157dcc6de6472f259fe28117c8fedaaa16162d', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}, {'number': 7, 'created': '2023-05-30 21:52:21.000000000', 'files': ['designate/storage/sqlalchemy/__init__.py', 'designate/tests/test_storage/test_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b45a7b5167fcd5798da35c3bb3ef5aaffc66828f', 'message': 'Fix bug in update_zone with recordsets\n\nWhen trying to write unit tests I found that when updating a zone\nwith recordsets there are scenarios where it would throw an sql\nerror. \n> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name\n\nThis fixes up the code path and adds some basic test coverage.\n\nChange-Id: Ia12b530730921db5235fd35f4cabf80b916c216f\n'}]",4,884593,b45a7b5167fcd5798da35c3bb3ef5aaffc66828f,17,2,7,22623,,,0,"Fix bug in update_zone with recordsets

When trying to write unit tests I found that when updating a zone
with recordsets there are scenarios where it would throw an sql
error. 
> sqlalchemy.exc.CompileError: Unconsumed column names: zone_name

This fixes up the code path and adds some basic test coverage.

Change-Id: Ia12b530730921db5235fd35f4cabf80b916c216f
",git fetch https://review.opendev.org/openstack/designate refs/changes/93/884593/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/sqlalchemy/__init__.py', 'designate/tests/test_storage/test_storage.py']",2,b827db1633e76c7180ec11bd221127175e48029d,," def test_update_zone_new_recordset_with_existing(self): zone = self.create_zone(name='example.org.') recordset1 = self.create_recordset(zone) recordset2 = objects.RecordSet( name='www.example.org.', type='A', records=objects.RecordList(objects=[ objects.Record(data='192.168.0.1'), ]) ) zone.name = 'example.net.' zone.recordsets = objects.RecordSetList( objects=[recordset1, recordset2] ) # Perform the update self.storage.update_zone(self.admin_context, zone) recordsets = self.storage.find_recordsets( self.admin_context, {'zone_id': zone['id']} ) self.assertEqual(4, len(recordsets)) ",,31,13
openstack%2Fdesignate~884349,openstack/designate,master,I3dc80fac13e60016e0611410b269bc487d93a39b,Increase minimum acceptable test coverage,MERGED,2023-05-29 05:25:04.000000000,2023-05-31 00:29:38.000000000,2023-05-31 00:28:36.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 05:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c032a82e71a2b2c087c251ce3f80f61bef8f379a', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}, {'number': 2, 'created': '2023-05-30 06:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/74ace85d32202089da3222f5e67a86f2178008be', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}, {'number': 3, 'created': '2023-05-30 20:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1608ff347876860e9c780d5bacdaf8743ebcb940', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}, {'number': 4, 'created': '2023-05-30 21:52:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/a53c685adfd8bf1db57443d1fa2327a47cc339e1', 'message': 'Increase minimum acceptable test coverage\n\nChange-Id: I3dc80fac13e60016e0611410b269bc487d93a39b\n'}]",2,884349,a53c685adfd8bf1db57443d1fa2327a47cc339e1,14,2,4,22623,,,0,"Increase minimum acceptable test coverage

Change-Id: I3dc80fac13e60016e0611410b269bc487d93a39b
",git fetch https://review.opendev.org/openstack/designate refs/changes/49/884349/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c032a82e71a2b2c087c251ce3f80f61bef8f379a,, coverage report --fail-under=88 --skip-covered, coverage report --fail-under=85 --skip-covered,1,1
openstack%2Fdesignate~884348,openstack/designate,master,I519d9e648e684238ca19d00df6abf9b472e3c666,Improve storage unit test coverage,MERGED,2023-05-29 04:51:28.000000000,2023-05-31 00:10:33.000000000,2023-05-31 00:09:16.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 04:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bd776b1274282058092f74326632de3e6139d77f', 'message': 'Improve storage test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 2, 'created': '2023-05-29 05:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0be88cb88658737d39de9d7a9935f024a2f8ca8e', 'message': 'Improve storage test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 3, 'created': '2023-05-29 05:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a8120ed651e742f0271f975b1a815d74c755e60d', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 4, 'created': '2023-05-30 06:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/13bbc7934d4f27557b8aac1c98ce987f0fdefd00', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 5, 'created': '2023-05-30 20:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7a1ac70026db93174d675276ca82dfc87a5aaf76', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}, {'number': 6, 'created': '2023-05-30 21:51:54.000000000', 'files': ['designate/tests/unit/storage/impl_sqlalchemy/test_sqlalchemy.py', 'designate/tests/test_storage/test_storage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/a7cbcc0770d09da7daca6ba34a8aa3985f0cc2ba', 'message': 'Improve storage unit test coverage\n\n- Minor cleanup to tests.\n- Use assertRaisesRegex for exception testing.\n\nChange-Id: I519d9e648e684238ca19d00df6abf9b472e3c666\n'}]",8,884348,a7cbcc0770d09da7daca6ba34a8aa3985f0cc2ba,17,2,6,22623,,,0,"Improve storage unit test coverage

- Minor cleanup to tests.
- Use assertRaisesRegex for exception testing.

Change-Id: I519d9e648e684238ca19d00df6abf9b472e3c666
",git fetch https://review.opendev.org/openstack/designate refs/changes/48/884348/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/storage/impl_sqlalchemy/test_sqlalchemy.py', 'designate/tests/test_storage/test_storage.py']",2,bd776b1274282058092f74326632de3e6139d77f,," self.assertRaisesRegex( exceptions.MarkerNotFound, 'Marker None could not be found', self.storage.find_pool_attributes, self.admin_context, marker=generate_uuid(), limit=5 ) self.assertRaises( exceptions.InvalidMarker, self.storage.find_pool_attributes, self.admin_context, marker='4' ) self.assertRaisesRegex( exceptions.ValueError, r'invalid literal for int\(\) with base 10: \'z\'', self.storage.find_pool_attributes, self.admin_context, limit='z' ) self.assertRaisesRegex( exceptions.ValueError, r'Unknown sort direction, must be \'desc\' or \'asc\'', self.storage.find_pool_attributes, self.admin_context, sort_dir='invalid_sort_dir' ) self.assertRaisesRegex( exceptions.InvalidSortKey, 'Sort key supplied is invalid: None', self.storage.find_pool_attributes, self.admin_context, sort_key='invalid_sort_key' ) self.assertRaisesRegex( exceptions.DuplicateQuota, 'Duplicate Quota', self.create_quota ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.get_quota, self.admin_context, uuid ) tenant_id=expected['tenant_id'] + 'NOT FOUND' self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.find_quota, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateQuota, 'Duplicate Quota', self.storage.update_quota, self.admin_context, quota_two ) self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.update_quota, self.admin_context, quota ) self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.get_quota, self.admin_context, quota['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.QuotaNotFound, 'Could not find Quota', self.storage.delete_quota, self.admin_context, uuid ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.get_tsigkey, self.admin_context, uuid ) self.assertRaisesRegex( exceptions.DuplicateTsigKey, 'Duplicate TsigKey', self.storage.update_tsigkey, self.admin_context, tsigkey_two ) self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.update_tsigkey, self.admin_context, tsigkey ) self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.get_tsigkey, self.admin_context, tsigkey['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.TsigKeyNotFound, 'Could not find TsigKey', self.storage.delete_tsigkey, self.admin_context, uuid ) def test_count_tenants_no_results(self): tenants = self.storage.count_tenants(self.admin_context) self.assertEqual(0, tenants) @mock.patch('designate.storage.sql.get_read_session') def test_count_tenants_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None tenants = self.storage.count_tenants(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, tenants) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.get_zone, self.admin_context, uuid ) name=expected['name'] + 'NOT FOUND' self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.find_zone, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.find_zone, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.find_zone, self.admin_context, criterion ) zone.recordsets = objects.RecordSetList() def test_update_zone_secondary(self): # Create a zone fixture = self.get_zone_fixture('SECONDARY', 1) fixture['email'] = 'root@example.com' zone = self.create_zone(**fixture) # Update the Object zone.name = 'example.net.' zone.recordsets = objects.RecordSetList() # Perform the update zone = self.storage.update_zone(self.admin_context, zone) # Ensure the new valie took self.assertEqual('example.net.', zone.name) # Ensure the version column was incremented self.assertEqual(2, zone.version) def test_update_zone_new_recordset(self): zone = self.create_zone(name='example.org.') recordset = objects.RecordSet( name='www.example.org.', type='A', records=objects.RecordList(objects=[ objects.Record(data='192.168.0.1'), ]) ) zone.name = 'example.net.' zone.recordsets = objects.RecordSetList(objects=[recordset]) # Perform the update self.storage.update_zone(self.admin_context, zone) recordsets = self.storage.find_recordsets( self.admin_context, {'zone_id': zone['id']} ) self.assertEqual(3, len(recordsets)) self.assertRaisesRegex( exceptions.DuplicateZone, 'Duplicate Zone', self.storage.update_zone, self.admin_context, zone_two ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.update_zone, self.admin_context, zone ) self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.get_zone, self.admin_context, zone['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.ZoneNotFound, 'Could not find Zone', self.storage.delete_zone, self.admin_context, uuid ) @mock.patch('designate.storage.sql.get_read_session') def test_count_zones_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None zones = self.storage.count_zones(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, zones) 'type': 'SOA'}) 'type': 'NS'}) name='%%%(name)s' % {'name': zone['name']}, objects.Record.from_dict({'data': '10.0.0.1'}), objects.Record.from_dict({'data': '10.0.0.2'}), objects.Record.from_dict({'data': '10.0.0.3'}) name=expected['name'] + 'NOT FOUND' self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.find_recordset, self.admin_context, criterion ) recordset.records.append(objects.Record(data='10.0.0.1')) self.assertRaisesRegex( exceptions.DuplicateRecordSet, 'Duplicate RecordSet', self.storage.update_recordset, self.admin_context, recordset_two ) id='caf771fc-6b05-4891-bee1-c2a48621f57b' ) self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.update_recordset, self.admin_context, recordset ) self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.find_recordset, self.admin_context, criterion={'id': recordset['id']} ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.RecordSetNotFound, 'Could not find RecordSet', self.storage.delete_recordset, self.admin_context, uuid ) @mock.patch('designate.storage.sql.get_read_session') def test_count_recordsets_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None recordsets = self.storage.count_recordsets(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, recordsets) 'type': 'SOA'}) 'type': 'NS'}) data='%.0.0.1', uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.get_record, self.admin_context, uuid ) data=expected['data'] + 'NOT FOUND', self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.find_record, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateRecord, 'Duplicate Record', self.storage.update_record, self.admin_context, record_two ) self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.update_record, self.admin_context, record ) self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.get_record, self.admin_context, record['id'] ) uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.assertRaisesRegex( exceptions.RecordNotFound, 'Could not find Record', self.storage.delete_record, self.admin_context, uuid ) @mock.patch('designate.storage.sql.get_read_session') def test_count_records_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None records = self.storage.count_records(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, records) uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.get_tld, self.admin_context, uuid ) criterion = dict(name=expected['name'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.find_tld, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateTld, 'Duplicate Tld', self.storage.update_tld, self.admin_context, tld_two ) tld = objects.Tld( id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00' ) self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.update_tld, self.admin_context, tld ) self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.get_tld, self.admin_context, tld['id'] ) uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.assertRaisesRegex( exceptions.TldNotFound, 'Could not find Tld', self.storage.delete_tld, self.admin_context, uuid ) 'pattern': '^([A-Za-z0-9_\\-]+\\.)*example\\.com\\.$', uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.get_blacklist, self.admin_context, uuid ) criterion = dict(pattern=expected['pattern'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.find_blacklist, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicateBlacklist, 'Duplicate Blacklist', self.storage.update_blacklist, self.admin_context, blacklist_two ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.update_blacklist, self.admin_context, blacklist ) self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.get_blacklist, self.admin_context, blacklist['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.BlacklistNotFound, 'Could not find Blacklist', self.storage.delete_blacklist, self.admin_context, uuid ) 'nameservers': [{'host': '192.0.2.1', 'port': 53}], 'targets': [{ 'type': 'fake', 'masters': [{'host': '192.0.2.2', 'also_notifies': [{'host': '192.0.2.3', 'port': 53}] uuid = 'c28893e3-eb87-4562-aa29-1f0e835d749b' self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.get_pool, self.admin_context, uuid ) criterion = dict(name=expected['name'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.find_pool, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicatePool, 'Duplicate Pool', self.storage.update_pool, self.admin_context, pool_two ) pool = objects.Pool( id='8806f871-5140-43f4-badd-2bbc5715b013' ) self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.update_pool, self.admin_context, pool ) 'nameservers': [{'host': '192.0.2.1', 'port': 53}], 'targets': [{ 'type': 'fake', 'masters': [{'host': '192.0.2.2', 'also_notifies': [{'host': '192.0.2.3', 'port': 53}] 'nameservers': [{'host': '192.0.2.5', 'port': 53}], 'targets': [{ 'type': 'fake', 'masters': [{'host': '192.0.2.2', 'type': 'fake', 'masters': [{'host': '192.0.2.7', 'port': 5355}], self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.delete_pool, self.admin_context, pool['id'] ) uuid = '203ca44f-c7e7-4337-9a02-0d735833e6aa' self.assertRaisesRegex( exceptions.PoolNotFound, 'Could not find Pool', self.storage.delete_pool, self.admin_context, uuid ) ns = objects.PoolNsRecord(priority=1, hostname='ns.example.io.') ns2 = objects.PoolNsRecord(priority=2, hostname='ns.example.io.') self.assertRaisesRegex( exceptions.DuplicatePoolNsRecord, 'Duplicate PoolNsRecord', self.storage.create_pool_ns_record, self.admin_context, pool.id, ns2 ) ns1 = objects.PoolNsRecord(priority=1, hostname='ns1.example.io.') ns2 = objects.PoolNsRecord(priority=2, hostname='ns2.example.io.') ns2.hostname = ns1.hostname self.assertRaisesRegex( exceptions.DuplicatePoolNsRecord, 'Duplicate PoolNsRecord', self.storage.update_pool_ns_record, self.admin_context, ns2 ) 'pool_id': 'd5d10661-0312-4ae1-8664-31188a4310b7', 'key': 'test-attribute', LOG.debug('Criterion is %r ' % criterion) uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.get_pool_attribute, self.admin_context, uuid ) criterion = dict(key=expected['key'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.find_pool_attribute, self.admin_context, criterion ) id='728a329a-83b1-4573-82dc-45dceab435d4' ) self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.update_pool_attribute, self.admin_context, pool_attribute ) self.assertRaisesRegex( exceptions.DuplicatePoolAttribute, 'Duplicate PoolAttribute', self.storage.update_pool_attribute, self.admin_context, pool_attribute_two ) self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.get_pool_attribute, self.admin_context, pool_attribute['id'] ) uuid = '464e9250-4fe0-4267-9993-da639390bb04' self.assertRaisesRegex( exceptions.PoolAttributeNotFound, 'Could not find PoolAttribute', self.storage.delete_pool_attribute, self.admin_context, uuid ) self.assertRaisesRegex( exceptions.DuplicatePoolAttribute, 'Duplicate PoolAttribute', self.create_pool_attribute, fixture=0 ) 'host': '192.0.2.1', self.assertRaisesRegex( exceptions.DuplicatePoolNameserver, 'Duplicate PoolNameserver', self.create_pool_nameserver, pool, fixture=0 ) uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.get_pool_nameserver, self.admin_context, uuid ) criterion = dict(host=expected['host'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.find_pool_nameserver, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicatePoolNameserver, 'Duplicate PoolNameserver', self.storage.update_pool_nameserver, self.admin_context, pool_nameserver_two ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.update_pool_nameserver, self.admin_context, pool_nameserver ) self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.get_pool_nameserver, self.admin_context, pool_nameserver['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.PoolNameserverNotFound, 'Could not find PoolNameserver', self.storage.delete_pool_nameserver, self.admin_context, uuid ) 'type': 'fake' uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.get_pool_target, self.admin_context, uuid ) criterion = dict(description=expected['description'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.find_pool_target, self.admin_context, criterion ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.update_pool_target, self.admin_context, pool_target ) self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.get_pool_target, self.admin_context, pool_target['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.PoolTargetNotFound, 'Could not find PoolTarget', self.storage.delete_pool_target, self.admin_context, uuid ) def test_create_pool_target_option(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_option( self.admin_context, pool_target['id'], objects.PoolTargetOption(key='foo', value='bar') ) result = self.storage._find_pool_target_options( self.admin_context, {'id': target['id']} ) self.assertEqual(1, len(result)) def test_update_pool_target_option(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_option( self.admin_context, pool_target['id'], objects.PoolTargetOption(key='foo', value='bar') ) target.value = 'baz' self.storage.update_pool_target_option(self.admin_context, target) result = self.storage._find_pool_target_options( self.admin_context, {'id': target['id']} ) self.assertEqual('baz', result[0].value) def test_delete_pool_target_option(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_option( self.admin_context, pool_target['id'], objects.PoolTargetOption(key='foo', value='bar') ) self.storage.delete_pool_target_option( self.admin_context, target['id'] ) result = self.storage._find_pool_target_options( self.admin_context, {'id': target['id']} ) self.assertEqual(0, len(result)) def test_create_pool_target_master(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_master( self.admin_context, pool_target['id'], objects.PoolTargetMaster(host='127.0.0.1', port=80) ) result = self.storage._find_pool_target_masters( self.admin_context, {'id': target['id']} ) self.assertEqual(1, len(result)) def test_update_pool_target_master(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_master( self.admin_context, pool_target['id'], objects.PoolTargetMaster(host='127.0.0.1', port=80) ) target.port = 443 self.storage.update_pool_target_master(self.admin_context, target) result = self.storage._find_pool_target_masters( self.admin_context, {'id': target['id']} ) self.assertEqual(443, result[0].port) def test_delete_pool_target_master(self): pool = self.create_pool(fixture=0) pool_target = self.create_pool_target(pool, fixture=0) target = self.storage.create_pool_target_master( self.admin_context, pool_target['id'], objects.PoolTargetMaster(host='127.0.0.1', port=80) ) self.storage.delete_pool_target_master( self.admin_context, target['id'] ) result = self.storage._find_pool_target_masters( self.admin_context, {'id': target['id']} ) self.assertEqual(0, len(result)) def test_create_zone_attribute(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_attribute( self.admin_context, zone['id'], objects.ZoneAttribute(key='foo', value='bar') ) result = self.storage.find_zone_attributes( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(1, len(result)) def test_update_zone_attribute(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_attribute( self.admin_context, zone['id'], objects.ZoneAttribute(key='foo', value='bar') ) zone_attribute.value = 'baz' self.storage.update_zone_attribute( self.admin_context, zone_attribute ) result = self.storage.get_zone_attributes( self.admin_context, zone_attribute['id'] ) self.assertEqual('baz', result.value) def test_delete_zone_attribute(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_attribute( self.admin_context, zone['id'], objects.ZoneAttribute(key='foo', value='bar') ) self.storage.delete_zone_attribute( self.admin_context, zone_attribute['id'] ) result = self.storage.find_zone_attributes( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(0, len(result)) def test_create_zone_master(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_master( self.admin_context, zone['id'], objects.ZoneMaster(host='127.0.0.1', port='80') ) result = self.storage._find_zone_masters( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(1, len(result)) def test_update_zone_master(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_master( self.admin_context, zone['id'], objects.ZoneMaster(host='127.0.0.1', port='80') ) zone_attribute.port = 443 self.storage.update_zone_master( self.admin_context, zone_attribute ) result = self.storage._find_zone_masters( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(443, result[0].port) def test_delete_zone_master(self): zone = self.create_zone() zone_attribute = self.storage.create_zone_master( self.admin_context, zone['id'], objects.ZoneMaster(host='127.0.0.1', port='80') ) self.storage.delete_zone_master( self.admin_context, zone_attribute['id'] ) result = self.storage._find_zone_masters( self.admin_context, {'id': zone_attribute['id']} ) self.assertEqual(0, len(result)) 'host': '192.0.2.1', self.assertRaisesRegex( exceptions.DuplicatePoolAlsoNotify, 'Duplicate PoolAlsoNotify', self.create_pool_also_notify, pool, fixture=0 ) uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.get_pool_also_notify, self.admin_context, uuid ) criterion = dict(host=expected['host'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.find_pool_also_notify, self.admin_context, criterion ) self.assertRaisesRegex( exceptions.DuplicatePoolAlsoNotify, 'Duplicate PoolAlsoNotify', self.storage.update_pool_also_notify, self.admin_context, pool_also_notify_two ) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08' ) self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.update_pool_also_notify, self.admin_context, pool_also_notify ) self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.get_pool_also_notify, self.admin_context, pool_also_notify['id'] ) uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.assertRaisesRegex( exceptions.PoolAlsoNotifyNotFound, 'Could not find PoolAlsoNotify', self.storage.delete_pool_also_notify, self.admin_context, uuid ) self.assertRaisesRegex( exceptions.DuplicateServiceStatus, 'Duplicate ServiceStatus', self.storage.create_service_status, self.admin_context, objects.ServiceStatus.from_dict(values) ) self.assertRaisesRegex( exceptions.ZoneTransferRequestNotFound, 'Could not find ZoneTransferRequest', self.storage.get_zone_transfer_request, tenant_3_context, result.id ) self.admin_context, {'tenant_id': self.admin_context.project_id}) self.assertRaisesRegex( exceptions.ZoneTransferRequestNotFound, 'Could not find ZoneTransferRequest', self.storage.get_zone_transfer_request, self.admin_context, zt_request.id ) self.admin_context, {'tenant_id': self.admin_context.project_id}) self.admin_context, {'id': result.id}) self.assertRaisesRegex( exceptions.ZoneTransferAcceptNotFound, 'Could not find ZoneTransferAccept', self.storage.get_zone_transfer_accept, self.admin_context, zt_accept.id ) @mock.patch('designate.storage.sql.get_read_session') def test_count_zone_tasks_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None zone_tasks = self.storage.count_zone_tasks(self.admin_context) mock_read_session.assert_called() self.assertEqual(0, zone_tasks) @mock.patch('designate.storage.sql.get_read_session') def test_count_zone_transfer_accept_none_result(self, mock_read_session): mock_sql_execute = mock.Mock() mock_sql_fetchone = mock.Mock() mock_read_session().__enter__.return_value = mock_sql_execute mock_sql_execute.execute.return_value = mock_sql_fetchone mock_sql_fetchone.fetchone.return_value = None zone_transfer_accepts = self.storage.count_zone_transfer_accept( self.admin_context ) mock_read_session.assert_called() self.assertEqual(0, zone_transfer_accepts) uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.get_zone_import, self.admin_context, uuid ) criterion = dict(status=expected['status'] + 'NOT FOUND') self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.find_zone_import, self.admin_context, criterion ) id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00' ) self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.update_zone_import, self.admin_context, zone_import ) self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.get_zone_import, self.admin_context, zone_import['id'] ) uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.assertRaisesRegex( exceptions.ZoneImportNotFound, 'Could not find ZoneImport', self.storage.delete_zone_import, self.admin_context, uuid )","import testtools with testtools.ExpectedException(exceptions.MarkerNotFound): self.storage.find_pool_attributes( self.admin_context, marker=generate_uuid(), limit=5) with testtools.ExpectedException(exceptions.InvalidMarker): self.storage.find_pool_attributes( self.admin_context, marker='4') with testtools.ExpectedException(exceptions.ValueError): self.storage.find_pool_attributes( self.admin_context, limit='z') with testtools.ExpectedException(exceptions.ValueError): self.storage.find_pool_attributes( self.admin_context, sort_dir='invalid_sort_dir') with testtools.ExpectedException(exceptions.InvalidSortKey): self.storage.find_pool_attributes( self.admin_context, sort_key='invalid_sort_key') with testtools.ExpectedException(exceptions.DuplicateQuota): self.create_quota() with testtools.ExpectedException(exceptions.QuotaNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_quota(self.admin_context, uuid) tenant_id=expected['tenant_id'] + ""NOT FOUND"" with testtools.ExpectedException(exceptions.QuotaNotFound): self.storage.find_quota(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateQuota): self.storage.update_quota(self.admin_context, quota_two) with testtools.ExpectedException(exceptions.QuotaNotFound): self.storage.update_quota(self.admin_context, quota) with testtools.ExpectedException(exceptions.QuotaNotFound): self.storage.get_quota(self.admin_context, quota['id']) with testtools.ExpectedException(exceptions.QuotaNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_quota(self.admin_context, uuid) with testtools.ExpectedException(exceptions.TsigKeyNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_tsigkey(self.admin_context, uuid) with testtools.ExpectedException(exceptions.DuplicateTsigKey): self.storage.update_tsigkey(self.admin_context, tsigkey_two) with testtools.ExpectedException(exceptions.TsigKeyNotFound): self.storage.update_tsigkey(self.admin_context, tsigkey) with testtools.ExpectedException(exceptions.TsigKeyNotFound): self.storage.get_tsigkey(self.admin_context, tsigkey['id']) with testtools.ExpectedException(exceptions.TsigKeyNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_tsigkey(self.admin_context, uuid) def test_count_tenants_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): tenants = self.storage.count_tenants(self.admin_context) self.assertEqual(0, tenants) with testtools.ExpectedException(exceptions.ZoneNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_zone(self.admin_context, uuid) name=expected['name'] + ""NOT FOUND"" with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.find_zone(self.admin_context, criterion) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.find_zone(self.admin_context, criterion) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.find_zone(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateZone): self.storage.update_zone(self.admin_context, zone_two) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.update_zone(self.admin_context, zone) with testtools.ExpectedException(exceptions.ZoneNotFound): self.storage.get_zone(self.admin_context, zone['id']) with testtools.ExpectedException(exceptions.ZoneNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_zone(self.admin_context, uuid) def test_count_zones_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): zones = self.storage.count_zones(self.admin_context) self.assertEqual(0, zones) 'type': ""SOA""}) 'type': ""NS""}) name=""%%%(name)s"" % {""name"": zone['name']}, objects.Record.from_dict({""data"": ""10.0.0.1""}), objects.Record.from_dict({""data"": ""10.0.0.2""}), objects.Record.from_dict({""data"": ""10.0.0.3""}) name=expected['name'] + ""NOT FOUND"" with testtools.ExpectedException(exceptions.RecordSetNotFound): self.storage.find_recordset(self.admin_context, criterion) recordset.records.append(objects.Record(data=""10.0.0.1"")) with testtools.ExpectedException(exceptions.DuplicateRecordSet): self.storage.update_recordset(self.admin_context, recordset_two) id='caf771fc-6b05-4891-bee1-c2a48621f57b') with testtools.ExpectedException(exceptions.RecordSetNotFound): self.storage.update_recordset(self.admin_context, recordset) with testtools.ExpectedException(exceptions.RecordSetNotFound): self.storage.find_recordset(self.admin_context, criterion={'id': recordset['id']}) with testtools.ExpectedException(exceptions.RecordSetNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_recordset(self.admin_context, uuid) def test_count_recordsets_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): recordsets = self.storage.count_recordsets(self.admin_context) self.assertEqual(0, recordsets) 'type': ""SOA""}) 'type': ""NS""}) data=""%.0.0.1"", with testtools.ExpectedException(exceptions.RecordNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.get_record(self.admin_context, uuid) data=expected['data'] + ""NOT FOUND"", with testtools.ExpectedException(exceptions.RecordNotFound): self.storage.find_record(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateRecord): self.storage.update_record(self.admin_context, record_two) with testtools.ExpectedException(exceptions.RecordNotFound): self.storage.update_record(self.admin_context, record) with testtools.ExpectedException(exceptions.RecordNotFound): self.storage.get_record(self.admin_context, record['id']) with testtools.ExpectedException(exceptions.RecordNotFound): uuid = 'caf771fc-6b05-4891-bee1-c2a48621f57b' self.storage.delete_record(self.admin_context, uuid) def test_count_records_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): records = self.storage.count_records(self.admin_context) self.assertEqual(0, records) with testtools.ExpectedException(exceptions.TldNotFound): uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.storage.get_tld(self.admin_context, uuid) criterion = dict(name=expected['name'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.TldNotFound): self.storage.find_tld(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateTld): self.storage.update_tld(self.admin_context, tld_two) tld = objects.Tld(id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00') with testtools.ExpectedException(exceptions.TldNotFound): self.storage.update_tld(self.admin_context, tld) with testtools.ExpectedException(exceptions.TldNotFound): self.storage.get_tld(self.admin_context, tld['id']) with testtools.ExpectedException(exceptions.TldNotFound): uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.storage.delete_tld(self.admin_context, uuid) 'pattern': ""^([A-Za-z0-9_\\-]+\\.)*example\\.com\\.$"", with testtools.ExpectedException(exceptions.BlacklistNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_blacklist(self.admin_context, uuid) criterion = dict(pattern=expected['pattern'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.BlacklistNotFound): self.storage.find_blacklist(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicateBlacklist): self.storage.update_blacklist(self.admin_context, blacklist_two) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.BlacklistNotFound): self.storage.update_blacklist(self.admin_context, blacklist) with testtools.ExpectedException(exceptions.BlacklistNotFound): self.storage.get_blacklist(self.admin_context, blacklist['id']) with testtools.ExpectedException(exceptions.BlacklistNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_blacklist(self.admin_context, uuid) 'nameservers': [{'host': ""192.0.2.1"", 'port': 53}], 'targets': [{ 'type': ""fake"", 'masters': [{'host': ""192.0.2.2"", 'also_notifies': [{'host': ""192.0.2.3"", 'port': 53}] with testtools.ExpectedException(exceptions.PoolNotFound): uuid = 'c28893e3-eb87-4562-aa29-1f0e835d749b' self.storage.get_pool(self.admin_context, uuid) criterion = dict(name=expected['name'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolNotFound): self.storage.find_pool(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicatePool): self.storage.update_pool(self.admin_context, pool_two) pool = objects.Pool(id='8806f871-5140-43f4-badd-2bbc5715b013') with testtools.ExpectedException(exceptions.PoolNotFound): self.storage.update_pool(self.admin_context, pool) 'nameservers': [{'host': ""192.0.2.1"", 'port': 53}], 'targets': [{ 'type': ""fake"", 'masters': [{'host': ""192.0.2.2"", 'also_notifies': [{'host': ""192.0.2.3"", 'port': 53}] 'nameservers': [{'host': ""192.0.2.5"", 'port': 53}], 'targets': [{ 'type': ""fake"", 'masters': [{'host': ""192.0.2.2"", 'type': ""fake"", 'masters': [{'host': ""192.0.2.7"", 'port': 5355}], with testtools.ExpectedException(exceptions.PoolNotFound): self.storage.get_pool(self.admin_context, pool['id']) with testtools.ExpectedException(exceptions.PoolNotFound): uuid = '203ca44f-c7e7-4337-9a02-0d735833e6aa' self.storage.delete_pool(self.admin_context, uuid) ns = objects.PoolNsRecord(priority=1, hostname=""ns.example.io."") ns2 = objects.PoolNsRecord(priority=2, hostname=""ns.example.io."") with testtools.ExpectedException(exceptions.DuplicatePoolNsRecord): self.storage.create_pool_ns_record( self.admin_context, pool.id, ns2) ns1 = objects.PoolNsRecord(priority=1, hostname=""ns1.example.io."") ns2 = objects.PoolNsRecord(priority=2, hostname=""ns2.example.io."") with testtools.ExpectedException(exceptions.DuplicatePoolNsRecord): ns2.hostname = ns1.hostname self.storage.update_pool_ns_record( self.admin_context, ns2) 'pool_id': ""d5d10661-0312-4ae1-8664-31188a4310b7"", 'key': ""test-attribute"", LOG.debug(""Criterion is %r "" % criterion) with testtools.ExpectedException(exceptions.PoolAttributeNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_attribute(self.admin_context, uuid) criterion = dict(key=expected['key'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolAttributeNotFound): self.storage.find_pool_attribute(self.admin_context, criterion) id='728a329a-83b1-4573-82dc-45dceab435d4') with testtools.ExpectedException(exceptions.PoolAttributeNotFound): self.storage.update_pool_attribute(self.admin_context, pool_attribute) with testtools.ExpectedException(exceptions.DuplicatePoolAttribute): self.storage.update_pool_attribute(self.admin_context, pool_attribute_two) with testtools.ExpectedException(exceptions.PoolAttributeNotFound): self.storage.get_pool_attribute(self.admin_context, pool_attribute['id']) with testtools.ExpectedException(exceptions.PoolAttributeNotFound): uuid = '464e9250-4fe0-4267-9993-da639390bb04' self.storage.delete_pool_attribute(self.admin_context, uuid) with testtools.ExpectedException(exceptions.DuplicatePoolAttribute): self.create_pool_attribute(fixture=0) 'host': ""192.0.2.1"", with testtools.ExpectedException(exceptions.DuplicatePoolNameserver): self.create_pool_nameserver(pool, fixture=0) with testtools.ExpectedException(exceptions.PoolNameserverNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_nameserver(self.admin_context, uuid) criterion = dict(host=expected['host'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolNameserverNotFound): self.storage.find_pool_nameserver(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicatePoolNameserver): self.storage.update_pool_nameserver( self.admin_context, pool_nameserver_two) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.PoolNameserverNotFound): self.storage.update_pool_nameserver( self.admin_context, pool_nameserver) with testtools.ExpectedException(exceptions.PoolNameserverNotFound): self.storage.get_pool_nameserver( self.admin_context, pool_nameserver['id']) with testtools.ExpectedException(exceptions.PoolNameserverNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_pool_nameserver(self.admin_context, uuid) 'type': ""fake"" with testtools.ExpectedException(exceptions.PoolTargetNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_target(self.admin_context, uuid) criterion = dict(description=expected['description'] + '' 'NOT FOUND') with testtools.ExpectedException(exceptions.PoolTargetNotFound): self.storage.find_pool_target(self.admin_context, criterion) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.PoolTargetNotFound): self.storage.update_pool_target( self.admin_context, pool_target) with testtools.ExpectedException(exceptions.PoolTargetNotFound): self.storage.get_pool_target( self.admin_context, pool_target['id']) with testtools.ExpectedException(exceptions.PoolTargetNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_pool_target(self.admin_context, uuid) 'host': ""192.0.2.1"", with testtools.ExpectedException(exceptions.DuplicatePoolAlsoNotify): self.create_pool_also_notify(pool, fixture=0) with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): uuid = '2c102ffd-7146-4b4e-ad62-b530ee0873fb' self.storage.get_pool_also_notify(self.admin_context, uuid) criterion = dict(host=expected['host'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): self.storage.find_pool_also_notify(self.admin_context, criterion) with testtools.ExpectedException(exceptions.DuplicatePoolAlsoNotify): self.storage.update_pool_also_notify( self.admin_context, pool_also_notify_two) id='e8cee063-3a26-42d6-b181-bdbdc2c99d08') with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): self.storage.update_pool_also_notify( self.admin_context, pool_also_notify) with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): self.storage.get_pool_also_notify( self.admin_context, pool_also_notify['id']) with testtools.ExpectedException(exceptions.PoolAlsoNotifyNotFound): uuid = '97f57960-f41b-4e93-8e22-8fd6c7e2c183' self.storage.delete_pool_also_notify(self.admin_context, uuid) with testtools.ExpectedException(exceptions.DuplicateServiceStatus): self.storage.create_service_status( self.admin_context, objects.ServiceStatus.from_dict(values)) with testtools.ExpectedException( exceptions.ZoneTransferRequestNotFound): self.storage.get_zone_transfer_request( tenant_3_context, result.id) self.admin_context, {""tenant_id"": self.admin_context.project_id}) with testtools.ExpectedException( exceptions.ZoneTransferRequestNotFound): self.storage.get_zone_transfer_request( self.admin_context, zt_request.id) self.admin_context, {""tenant_id"": self.admin_context.project_id}) self.admin_context, {""id"": result.id}) with testtools.ExpectedException( exceptions.ZoneTransferAcceptNotFound): self.storage.get_zone_transfer_accept( self.admin_context, zt_accept.id) def test_count_zone_tasks_none_result(self): rp = mock.Mock() rp.fetchone.return_value = None with mock.patch('designate.storage.sql.get_write_session', return_value=rp): zones = self.storage.count_zone_tasks(self.admin_context) self.assertEqual(0, zones) with testtools.ExpectedException(exceptions.ZoneImportNotFound): uuid = '4c8e7f82-3519-4bf7-8940-a66a4480f223' self.storage.get_zone_import(self.admin_context, uuid) criterion = dict(status=expected['status'] + ""NOT FOUND"") with testtools.ExpectedException(exceptions.ZoneImportNotFound): self.storage.find_zone_import(self.admin_context, criterion) id='486f9cbe-b8b6-4d8c-8275-1a6e47b13e00') with testtools.ExpectedException(exceptions.ZoneImportNotFound): self.storage.update_zone_import(self.admin_context, zone_import) with testtools.ExpectedException(exceptions.ZoneImportNotFound): self.storage.get_zone_import(self.admin_context, zone_import['id']) with testtools.ExpectedException(exceptions.ZoneImportNotFound): uuid = 'cac1fc02-79b2-4e62-a1a4-427b6790bbe6' self.storage.delete_zone_import(self.admin_context, uuid)",868,330
openstack%2Fneutron-lib~883901,openstack/neutron-lib,master,Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1,Add FIPAssociated exception,MERGED,2023-05-23 10:55:53.000000000,2023-05-30 23:49:50.000000000,2023-05-30 23:48:53.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-23 10:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ea4c331f6fae5388855f8542da9ad7816e20e34e', 'message': 'Add FIPAttached exception\n\nThis new exception will be triggered when some operation causes a\nconflict due to a FIP attached to one port.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 2, 'created': '2023-05-23 13:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a2d4be7f482bcc8d9d08d40b1a8a172427b12961', 'message': 'Add FIPAttached exception\n\nThis new exception will be triggered when some operation causes a\nconflict due to a FIP attached to one port.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 3, 'created': '2023-05-23 13:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/32b6c1ad74758471a1adb466e6720f57ce824fc9', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 4, 'created': '2023-05-23 14:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/aa3fb1df3a697d0090c53d4e42b0f26abe25ed1b', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 5, 'created': '2023-05-25 12:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c9d8839ba0e4a4e2936ea7679f306c8714682c8d', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}, {'number': 6, 'created': '2023-05-26 08:10:06.000000000', 'files': ['neutron_lib/exceptions/l3.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/64cfdacdc15b65a56ce5d27e4ef6eb1f60a9a909', 'message': 'Add FIPAssociated exception\n\nThis new exception will be triggered when some port operation\ncauses a conflict due to an associated FIP.\n\nRelated-Bug: #2017680\nChange-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1\n'}]",19,883901,64cfdacdc15b65a56ce5d27e4ef6eb1f60a9a909,24,7,6,34451,,,0,"Add FIPAssociated exception

This new exception will be triggered when some port operation
causes a conflict due to an associated FIP.

Related-Bug: #2017680
Change-Id: Ie45350a4010ef5dfbcfff1e61cfa881f89e0dbd1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/01/883901/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/exceptions/test_exceptions.py', 'neutron_lib/exceptions/__init__.py']",2,ea4c331f6fae5388855f8542da9ad7816e20e34e,FIPAssociatedException,"class FipAttached(InUse): """"""An operational error indicating a FIP is attached to a port not allowing some special case operations. A specialization of the InUse exception indicating an operation failed on a port because it already has an attached FIP. :param port_id: The UUID of the port requested. """""" message = _(""Unable to complete operation on port %(port_id)s "" ""because port still has FloatingIP attached."") ",,20,0
openstack%2Fopenstack-helm-images~884430,openstack/openstack-helm-images,master,Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8,Build openstack zed images,MERGED,2023-05-25 17:53:02.000000000,2023-05-30 23:03:03.000000000,2023-05-30 20:00:53.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-05-25 17:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/4c2bca9529549cf0898a850aba3abaf78bb6be3d', 'message': 'Build openstack zed images\n\nChange-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8\n'}, {'number': 2, 'created': '2023-05-26 09:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5b0cc35fa0158f236f2270f224ddc81dd2039f46', 'message': 'Build openstack zed images\n\nChange-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8\n'}, {'number': 3, 'created': '2023-05-26 10:01:16.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9b97c3006c1d9d33e5b5830002a03a6d80c82d29', 'message': 'Build openstack zed images\n\nChange-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8\n'}]",6,884430,9b97c3006c1d9d33e5b5830002a03a6d80c82d29,15,4,3,3009,,,0,"Build openstack zed images

Change-Id: Ib8c0f49d37bd7acc65b92997a8cda32dec884fe8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/30/884430/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openstack-loci.yaml']",2,4c2bca9529549cf0898a850aba3abaf78bb6be3d,," - openstack-helm-images-build-openstack-loci-zed-ubuntu_focal - openstack-helm-images-upload-openstack-loci-zed-ubuntu_focal - openstack-helm-images-promote-openstack-loci-zed-ubuntu_focal - openstack-helm-images-upload-openstack-loci-zed-ubuntu_focal - openstack-helm-images-promote-openstack-loci-zed-ubuntu_focal: dependencies: - name: openstack-helm-images-compute-kit-zed-ubuntu_focal - name: openstack-helm-images-cinder-zed-ubuntu_focal####### # ZED # ####### - job: name: openstack-helm-images-build-openstack-loci-zed-ubuntu_focal description: Build LOCI zed focal images parent: openstack-helm-images-build-openstack-loci-master vars: &build_zed_focal_images currentdate: ""{{ now(utc=True,fmt='%Y%m%d') }}"" branchname: ""stable/zed"" shortbranchname: ""zed"" distroname: ""ubuntu_focal"" from: ""docker.io/ubuntu:20.04"" python3: ""yes"" wheels_location: ""http://172.17.0.1:8080/wheels.tar.gz"" base_repository: ""base"" ceph_repo: ""deb https://download.ceph.com/debian-quincy/ focal main"" ceph_key: ""https://download.ceph.com/keys/release.asc"" base_docker_image: - <<: *base_image prep_docker_images: - <<: *prep_requirements_project docker_images: - <<: *requirements_project - <<: *keystone_project - <<: *glance_project - <<: *cinder_project - <<: *nova_project - <<: *ironic_project - <<: *neutron_project - <<: *horizon_project - <<: *heat_project - <<: *barbican_project - <<: *placement_project - <<: *monasca_api_project - <<: *watcher_project - <<: *cyborg_project - <<: *masakari_project - <<: *masakari_monitors_project - <<: *manila_project - <<: *tacker_project - job: name: openstack-helm-images-upload-openstack-loci-zed-ubuntu_focal parent: openstack-helm-images-upload-openstack-loci-master description: Build and upload LOCI zed focal images vars: *build_zed_focal_images - job: name: openstack-helm-images-promote-openstack-loci-zed-ubuntu_focal parent: openstack-helm-images-promote-openstack-loci-master description: Promote previously published LOCI zed focal images vars: *build_zed_focal_images ",,119,0
openstack%2Fmanila~880201,openstack/manila,master,Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8,"db: Migrate ""share metadata"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-30 22:54:32.000000000,2023-05-30 22:53:26.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31721}, {'_account_id': 32594}, {'_account_id': 32919}, {'_account_id': 33986}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/db51e47f4e48f6b3cff30f8276de0cd2b30d65af', 'message': 'db: Migrate ""share metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/27637f04a69166ae53a770c5732c3be07b5d8cff', 'message': 'db: Migrate ""share metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e53a461c519f129a85df58636548c5acb8bf64e0', 'message': 'db: Migrate ""share metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8\n'}]",3,880201,e53a461c519f129a85df58636548c5acb8bf64e0,33,7,3,15334,,,0,"db: Migrate ""share metadata"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ied3fb602aa690ee16c7e4a9744aa053e89dd9ae8
",git fetch https://review.opendev.org/openstack/manila refs/changes/01/880201/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,db51e47f4e48f6b3cff30f8276de0cd2b30d65af,sqlalchemy-20,"def _share_metadata_get_query(context, share_id): return model_query( context, models.ShareMetadata, read_deleted=""no"", ).filter_by(share_id=share_id).options(joinedload('share')) @context_manager.readerdef _share_metadata_get(context, share_id): rows = _share_metadata_get_query(context, share_id).all() result = {} for row in rows: result[row['key']] = row['value'] return result @context_manager.reader def share_metadata_get_item(context, share_id, key): try: row = _share_metadata_get_item(context, share_id, key)@context_manager.writer def share_metadata_delete(context, share_id, key): _share_metadata_get_query( context, share_id, ).filter_by(key=key).soft_delete()@context_manager.writer@context_manager.writer def share_metadata_update_item(context, share_id, item):def _share_metadata_update(context, share_id, metadata, delete): # Set existing metadata to deleted if delete argument is True delete = strutils.bool_from_string(delete) if delete: original_metadata = _share_metadata_get(context, share_id) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_metadata_get_item( context, share_id, meta_key, ) meta_ref.soft_delete(session=context.session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _share_metadata_get_item( context, share_id, meta_key, ) except exception.MetadataItemNotFound: meta_ref = models.ShareMetadata() item.update({""key"": meta_key, ""share_id"": share_id}) meta_ref.update(item) meta_ref.save(session=context.session) return metadata def _share_metadata_get_item(context, share_id, key): result = _share_metadata_get_query( context, share_id, ).filter_by(key=key).first()","def share_metadata_get_item(context, share_id, key, session=None): session = session or get_session() try: row = _share_metadata_get_item(context, share_id, key, session=session)def share_metadata_delete(context, share_id, key): (_share_metadata_get_query(context, share_id). filter_by(key=key).soft_delete())def share_metadata_update_item(context, share_id, item, session=None):def _share_metadata_get_query(context, share_id, session=None): return (model_query(context, models.ShareMetadata, session=session, read_deleted=""no""). filter_by(share_id=share_id). options(joinedload('share'))) def _share_metadata_get(context, share_id, session=None): rows = _share_metadata_get_query(context, share_id, session=session).all() result = {} for row in rows: result[row['key']] = row['value'] return result def _share_metadata_update(context, share_id, metadata, delete, session=None): if not session: session = get_session() with session.begin(): # Set existing metadata to deleted if delete argument is True delete = strutils.bool_from_string(delete) if delete: original_metadata = _share_metadata_get(context, share_id, session=session) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_metadata_get_item(context, share_id, meta_key, session=session) meta_ref.soft_delete(session=session) meta_ref = None # Now update all existing items with new values, or create new meta # objects for meta_key, meta_value in metadata.items(): # update the value whether it exists or not item = {""value"": meta_value} try: meta_ref = _share_metadata_get_item(context, share_id, meta_key, session=session) except exception.MetadataItemNotFound: meta_ref = models.ShareMetadata() item.update({""key"": meta_key, ""share_id"": share_id}) meta_ref.update(item) meta_ref.save(session=session) return metadata def _share_metadata_get_item(context, share_id, key, session=None): result = (_share_metadata_get_query(context, share_id, session=session). filter_by(key=key). first())",57,60
openstack%2Fmanila~880200,openstack/manila,master,Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb,"db: Migrate ""share network subnet metadata"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-30 22:49:11.000000000,2023-05-30 22:47:20.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}, {'_account_id': 33648}, {'_account_id': 33756}, {'_account_id': 35677}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e2c61c764d5b9ff50f4d5442226cdd407c8530a8', 'message': 'db: Migrate ""share network subnet metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bfe3dc36fbce16aff9e98e00ee507da32d0c8219', 'message': 'db: Migrate ""share network subnet metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/60c64d4d95b3d0d6feb247ca75f47e7901a6cd24', 'message': 'db: Migrate ""share network subnet metadata"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb\n'}]",3,880200,60c64d4d95b3d0d6feb247ca75f47e7901a6cd24,31,7,3,15334,,,0,"db: Migrate ""share network subnet metadata"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: Ica4b56f871b0a85298d8bac4511eb2dd46ebfeeb
",git fetch https://review.opendev.org/openstack/manila refs/changes/00/880200/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/db/sqlalchemy/api.py'],1,e2c61c764d5b9ff50f4d5442226cdd407c8530a8,sqlalchemy-20,"def _share_network_subnet_metadata_get_query(context, share_network_subnet_id): return model_query( context, models.ShareNetworkSubnetMetadata, read_deleted=""no"", ).filter_by( share_network_subnet_id=share_network_subnet_id, ).options(joinedload('share_network_subnet')) @context_manager.reader def share_network_subnet_metadata_get(context, share_network_subnet_id): return _share_network_subnet_metadata_get(context, share_network_subnet_id)def _share_network_subnet_metadata_get(context, share_network_subnet_id): context, share_network_subnet_id, ).all()@require_context @require_share_network_subnet_exists @context_manager.writer def share_network_subnet_metadata_delete( context, share_network_subnet_id, key, ): meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ) meta_ref.soft_delete(session=context.session) @require_context @require_share_network_subnet_exists @context_manager.writer def share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, ): return _share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, ) @require_context @context_manager.writer def share_network_subnet_metadata_update_item( context, share_network_subnet_id, item, ): return _share_network_subnet_metadata_update( context, share_network_subnet_id, item, delete=False, ) @require_context @context_manager.reader def share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ): row = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ) result = {row['key']: row['value']} return result def _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, ): result = _share_network_subnet_metadata_get_query( context, share_network_subnet_id, ).filter_by(key=key).first()def _share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, ): if delete: original_metadata = _share_network_subnet_metadata_get( context, share_network_subnet_id, ) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, meta_key, ) meta_ref.soft_delete(session=context.session) meta_ref = None # Now update all existing items with new values, or create new meta # objects. for meta_key, meta_value in metadata.items(): # update the value whether it exists or not. item = {""value"": meta_value} meta_ref = _share_network_subnet_metadata_get_query( context, share_network_subnet_id, ).filter_by(key=meta_key).first() if not meta_ref: meta_ref = models.ShareNetworkSubnetMetadata() item.update( { ""key"": meta_key, ""share_network_subnet_id"": share_network_subnet_id, } ) meta_ref.update(item) meta_ref.save(session=context.session) return metadata","def share_network_subnet_metadata_get(context, share_network_subnet_id): session = get_session() return _share_network_subnet_metadata_get(context, share_network_subnet_id, session=session)@require_share_network_subnet_exists def share_network_subnet_metadata_delete(context, share_network_subnet_id, key): session = get_session() meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, session=session) meta_ref.soft_delete(session=session) @require_context @require_share_network_subnet_exists def share_network_subnet_metadata_update(context, share_network_subnet_id, metadata, delete): session = get_session() return _share_network_subnet_metadata_update( context, share_network_subnet_id, metadata, delete, session=session) def share_network_subnet_metadata_update_item(context, share_network_subnet_id, item): session = get_session() return _share_network_subnet_metadata_update( context, share_network_subnet_id, item, delete=False, session=session) def share_network_subnet_metadata_get_item(context, share_network_subnet_id, key): session = get_session() row = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, key, session=session) result = {row['key']: row['value']} return result def _share_network_subnet_metadata_get_query(context, share_network_subnet_id, session=None): session = session or get_session() return (model_query(context, models.ShareNetworkSubnetMetadata, session=session, read_deleted=""no""). filter_by(share_network_subnet_id=share_network_subnet_id). options(joinedload('share_network_subnet'))) def _share_network_subnet_metadata_get(context, share_network_subnet_id, session=None): session = session or get_session() context, share_network_subnet_id, session=session).all()def _share_network_subnet_metadata_get_item(context, share_network_subnet_id, key, session=None): session = session or get_session() result = (_share_network_subnet_metadata_get_query( context, share_network_subnet_id, session=session). filter_by(key=key).first())def _share_network_subnet_metadata_update(context, share_network_subnet_id, metadata, delete, session=None): session = session or get_session() with session.begin(): if delete: original_metadata = _share_network_subnet_metadata_get( context, share_network_subnet_id, session=session) for meta_key, meta_value in original_metadata.items(): if meta_key not in metadata: meta_ref = _share_network_subnet_metadata_get_item( context, share_network_subnet_id, meta_key, session=session) meta_ref.soft_delete(session=session) meta_ref = None # Now update all existing items with new values, or create new meta # objects. for meta_key, meta_value in metadata.items(): # update the value whether it exists or not. item = {""value"": meta_value} meta_ref = _share_network_subnet_metadata_get_query( context, share_network_subnet_id, session=session).filter_by( key=meta_key).first() if not meta_ref: meta_ref = models.ShareNetworkSubnetMetadata() item.update( {""key"": meta_key, ""share_network_subnet_id"": share_network_subnet_id}) meta_ref.update(item) meta_ref.save(session=session) return metadata",98,90
openstack%2Fmanila~880199,openstack/manila,master,I20adb1598f74f36cb64fa9843b03271227d75464,"db: Migrate ""share network subnet"" APIs to enginefacade",MERGED,2023-04-12 16:49:20.000000000,2023-05-30 22:48:19.000000000,2023-05-30 22:47:18.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}, {'_account_id': 33301}, {'_account_id': 35049}, {'_account_id': 35586}]","[{'number': 1, 'created': '2023-04-12 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4b066af103da02ee4d9692c5478917f8acbd64a9', 'message': 'db: Migrate ""share network subnet"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I20adb1598f74f36cb64fa9843b03271227d75464\n'}, {'number': 2, 'created': '2023-04-13 11:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/017673ce42ac0173891897d0164dc418bc51805c', 'message': 'db: Migrate ""share network subnet"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I20adb1598f74f36cb64fa9843b03271227d75464\n'}, {'number': 3, 'created': '2023-04-14 16:02:29.000000000', 'files': ['manila/db/api.py', 'manila/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/3ec91a79901a62773f17854cc76ee0aea029f3d0', 'message': 'db: Migrate ""share network subnet"" APIs to enginefacade\n\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nChange-Id: I20adb1598f74f36cb64fa9843b03271227d75464\n'}]",6,880199,3ec91a79901a62773f17854cc76ee0aea029f3d0,35,7,3,15334,,,0,"db: Migrate ""share network subnet"" APIs to enginefacade

Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Change-Id: I20adb1598f74f36cb64fa9843b03271227d75464
",git fetch https://review.opendev.org/openstack/manila refs/changes/99/880199/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/db/sqlalchemy/api.py']",2,4b066af103da02ee4d9692c5478917f8acbd64a9,sqlalchemy-20,"def _share_network_subnet_get_query(context): return model_query( context, models.ShareNetworkSubnet, ).options( joinedload('share_servers'), joinedload('share_network'), joinedload('share_network_subnet_metadata'), )@context_manager.writer network_subnet_ref.save(session=context.session) return _share_network_subnet_get( context, network_subnet_ref['id'], )@context_manager.writer def share_network_subnet_delete(context, network_subnet_id): network_subnet_ref = _share_network_subnet_get(context, network_subnet_id) context.session.query(models.ShareNetworkSubnetMetadata).filter_by( share_network_subnet_id=network_subnet_id, ).soft_delete() network_subnet_ref.soft_delete(session=context.session, update_status=True)@context_manager.writer def share_network_subnet_update(context, network_subnet_id, values): network_subnet_ref = _share_network_subnet_get(context, network_subnet_id) network_subnet_ref.update(values) network_subnet_ref.save(session=context.session) return network_subnet_ref@context_manager.reader def share_network_subnet_get(context, network_subnet_id, parent_id=None): return _share_network_subnet_get( context, network_subnet_id, parent_id=parent_id, ) @require_context def _share_network_subnet_get(context, network_subnet_id, parent_id=None): result = _share_network_subnet_get_query( context, ).filter_by(**kwargs).first() share_network_subnet_id=network_subnet_id, )@context_manager.reader def share_network_subnet_get_all_with_same_az(context, network_subnet_id): subnet = _share_network_subnet_get_query( context, ).filter_by(id=network_subnet_id).subquery() result = _share_network_subnet_get_query( context, ).join( subnet, subnet.c.share_network_id == models.ShareNetworkSubnet.share_network_id, ).filter( func.coalesce(subnet.c.availability_zone_id, '0') == func.coalesce(models.ShareNetworkSubnet.availability_zone_id, '0') ).all() share_network_subnet_id=network_subnet_id, )@context_manager.reader def share_network_subnet_get_all(context): return _share_network_subnet_get_query(context).all()@context_manager.reader def share_network_subnet_get_all_by_share_network(context, network_id): return _share_network_subnet_get_query(context).filter_by( share_network_id=network_id, ).all()@context_manager.reader context, share_network_id, availability_zone_id, fallback_to_default=True, ): return _share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id, fallback_to_default=fallback_to_default, ) @require_context def _share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id, fallback_to_default=True, ): result = _share_network_subnet_get_query(context).filter_by( availability_zone_id=availability_zone_id, ).all() return _share_network_subnet_get_query(context).filter_by( availability_zone_id=None, ).all()@context_manager.reader def share_network_subnet_get_default_subnets(context, share_network_id): return _share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id=None, )@context_manager.reader def share_network_subnet_get_all_by_share_server_id(context, share_server_id): result = _share_network_subnet_get_query(context).filter( models.ShareNetworkSubnet.share_servers.any( id=share_server_id, ) ).all() share_server_id=share_server_id, )","def _network_subnet_get_query(context, session=None): if session is None: session = get_session() return (model_query(context, models.ShareNetworkSubnet, session=session). options(joinedload('share_servers'), joinedload('share_network'), joinedload('share_network_subnet_metadata'))) session = get_session() with session.begin(): network_subnet_ref.save(session=session) return share_network_subnet_get( context, network_subnet_ref['id'], session=session)def share_network_subnet_delete(context, network_subnet_id): session = get_session() with session.begin(): network_subnet_ref = share_network_subnet_get(context, network_subnet_id, session=session) session.query(models.ShareNetworkSubnetMetadata).filter_by( share_network_subnet_id=network_subnet_id).soft_delete() network_subnet_ref.soft_delete(session=session, update_status=True)def share_network_subnet_update(context, network_subnet_id, values): session = get_session() with session.begin(): network_subnet_ref = share_network_subnet_get(context, network_subnet_id, session=session) network_subnet_ref.update(values) network_subnet_ref.save(session=session) return network_subnet_refdef share_network_subnet_get(context, network_subnet_id, session=None, parent_id=None): result = (_network_subnet_get_query(context, session) .filter_by(**kwargs) .first()) share_network_subnet_id=network_subnet_id)def share_network_subnet_get_all_with_same_az(context, network_subnet_id, session=None): subnet = (_network_subnet_get_query(context, session) .filter_by(id=network_subnet_id).subquery()) result = (_network_subnet_get_query(context, session) .join(subnet, subnet.c.share_network_id == models.ShareNetworkSubnet.share_network_id) .filter(func.coalesce(subnet.c.availability_zone_id, '0') == func.coalesce( models.ShareNetworkSubnet.availability_zone_id, '0')) .all()) share_network_subnet_id=network_subnet_id)def share_network_subnet_get_all(context): return _network_subnet_get_query(context).all()def share_network_subnet_get_all_by_share_network(context, network_id): return _network_subnet_get_query(context).filter_by( share_network_id=network_id).all() context, share_network_id, availability_zone_id, fallback_to_default=True): result = (_network_subnet_get_query(context).filter_by( availability_zone_id=availability_zone_id).all()) return (_network_subnet_get_query(context).filter_by( availability_zone_id=None).all())def share_network_subnet_get_default_subnets(context, share_network_id): return share_network_subnets_get_all_by_availability_zone_id( context, share_network_id, availability_zone_id=None)def share_network_subnet_get_all_by_share_server_id(context, share_server_id): result = (_network_subnet_get_query(context) .filter(models.ShareNetworkSubnet.share_servers.any( id=share_server_id)) .all()) share_server_id=share_server_id)",113,76
openstack%2Fkayobe~802864,openstack/kayobe,master,I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3,Pass through kolla inventories as is,MERGED,2021-07-29 11:08:31.000000000,2023-05-30 22:28:42.000000000,2023-05-30 22:27:42.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-29 11:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ace7b93c7e044876698fab270a5d0adb420c1c5', 'message': 'Support merging kolla group_vars when using multiple inventories\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 2, 'created': '2021-07-30 08:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aa516b159658650bc4bca76341b63123e8cfcc45', 'message': 'Support merging kolla group_vars when using multiple inventories\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 3, 'created': '2022-09-20 11:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/17bb7086f8c1e2e5960bcebd7fb0070ca901a433', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 4, 'created': '2022-10-20 13:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e944a07dce96ccd09b62f60cb431b3ce28327297', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 5, 'created': '2022-12-12 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0d7509dca83231aaa83e6f3b2195c7834ce8dcb4', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 6, 'created': '2023-03-07 10:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/09ecd1370f3df86a3b1559f2567b5c9bdd0359ee', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 7, 'created': '2023-03-07 10:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5a4f3f356632f6489db4bc8f4b1812aaa015725a', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 8, 'created': '2023-04-17 15:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6df841f9dd0e6abfa54632de508b790152a726d8', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 9, 'created': '2023-04-17 15:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7f1fc906a86145263436f4ed3d446fed03fdd0b6', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 10, 'created': '2023-04-19 14:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/69ecea26d714c2237a39b947ed29896389a13ea1', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 11, 'created': '2023-04-20 09:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ed76f1987ce0d204480e7c3b3fc3dd184000b23d', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible\nand let ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 12, 'created': '2023-05-30 15:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/75eac06368b1e8ade42c7f10bbdbdca69775c3d3', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 13, 'created': '2023-05-30 15:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/45b968ab765d9f93f1cf879d39c4de0cb9c8e015', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 14, 'created': '2023-05-30 16:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d1a6cd78110378151689c2c183820aee5b182983', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 15, 'created': '2023-05-30 16:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cfa6653b1116d3298a699e99829fdd1643bae71d', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}, {'number': 16, 'created': '2023-05-30 16:42:29.000000000', 'files': ['kayobe/tests/unit/test_kolla_ansible.py', 'kayobe/kolla_ansible.py', 'releasenotes/notes/adds-support-for-multiple-kolla-inventories-65fd7a4922c639c5.yaml', 'ansible/kolla-ansible.yml', 'doc/source/configuration/reference/kolla-ansible.rst', 'doc/source/control-plane-service-placement.rst', 'ansible/roles/kolla-ansible/tests/test-defaults.yml', 'ansible/roles/kolla-ansible/defaults/main.yml', 'doc/source/multiple-environments.rst', 'kayobe/ansible.py', 'kayobe/tests/unit/test_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/roles/kolla-ansible/vars/Debian.yml', 'ansible/roles/kolla-ansible/vars/RedHat.yml', 'ansible/roles/kolla-ansible/tests/test-extras.yml', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c75a32e72fa2d31e494b83bd406e42040e8de15d', 'message': 'Pass through kolla inventories as is\n\nPreviously, we only supported passing through group_vars. Passing\nthrough the inventory as is allows you to use other features of ansible\ninventory such as host vars. It also simplifies the logic of merging\nmultiple inventories as we can just pass the inventory to ansible and\nlet ansible take care of the rest. This is useful for the multiple\nenvironments feature.\n\nChange-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3\nStory: 2002009\nTask: 42910\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863\n'}]",66,802864,c75a32e72fa2d31e494b83bd406e42040e8de15d,58,4,16,28048,,,0,"Pass through kolla inventories as is

Previously, we only supported passing through group_vars. Passing
through the inventory as is allows you to use other features of ansible
inventory such as host vars. It also simplifies the logic of merging
multiple inventories as we can just pass the inventory to ansible and
let ansible take care of the rest. This is useful for the multiple
environments feature.

Change-Id: I28f5d73d414d405d67f5fc92ab371aa2e28a4ce3
Story: 2002009
Task: 42910
Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/802863
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/802864/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/kolla_ansible.py', 'ansible/roles/kolla-ansible/tasks/config.yml', 'ansible/kolla-ansible.yml', 'ansible/roles/kolla-ansible/vars/main.yml', 'ansible/roles/kolla-ansible/defaults/main.yml']",5,9ace7b93c7e044876698fab270a5d0adb420c1c5,merge-configs,# Directories containing custom Kolla-Ansible group vars. kolla_overcloud_group_vars_paths: [],# Directory containing custom Kolla-Ansible group vars. kolla_overcloud_group_vars_path:,83,29
openstack%2Fpuppet-tripleo~884178,openstack/puppet-tripleo,stable/wallaby,I07bf928742f5ff579070f4d1d6248d5b105bce55,Allow clustercheck to wait before finishing,MERGED,2023-05-24 11:09:22.000000000,2023-05-30 22:09:40.000000000,2023-05-30 22:09:40.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 11:09:22.000000000', 'files': ['manifests/profile/pacemaker/clustercheck.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9e0bcc89dc88fe2883cb0ac7187c08d47e103d8f', 'message': ""Allow clustercheck to wait before finishing\n\nUnder rare circumstances of heavy loaded environments, HAProxy\nmay report 'socket error' when disconnecting from clustercheck if\nthe latter closed its side of the connection first.\nAdd a configurable post status wait time in clustercheck to fix\nHAProxy error reporting. By default, this post wait is not used.\n\nChange-Id: I07bf928742f5ff579070f4d1d6248d5b105bce55\nRelated-Bug: #2020490\n""}]",1,884178,9e0bcc89dc88fe2883cb0ac7187c08d47e103d8f,10,4,1,20778,,,0,"Allow clustercheck to wait before finishing

Under rare circumstances of heavy loaded environments, HAProxy
may report 'socket error' when disconnecting from clustercheck if
the latter closed its side of the connection first.
Add a configurable post status wait time in clustercheck to fix
HAProxy error reporting. By default, this post wait is not used.

Change-Id: I07bf928742f5ff579070f4d1d6248d5b105bce55
Related-Bug: #2020490
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/884178/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/clustercheck.pp'],1,9e0bcc89dc88fe2883cb0ac7187c08d47e103d8f,,"# [*post_status_wait*] # (Optional) Number of seconds to wait after status is returned. # This is only useful for slow environments where haproxy may report # a ""socket error"" after clustercheck status is returned if it cannot # poll and close its side of the connection before socat does. # Defaults to 0 # $post_status_wait = 0,TRIPLEO_SOCAT_BIND='${socat_listen_type}:9200,bind=\""${bind_address}\"",reuseaddr,fork'\n TRIPLEO_POST_STATUS_WAIT=${post_status_wait}\n"",","TRIPLEO_SOCAT_BIND='${socat_listen_type}:9200,bind=\""${bind_address}\"",reuseaddr,fork'\n"",",10,1
openstack%2Ftripleo-heat-templates~884176,openstack/tripleo-heat-templates,stable/wallaby,Iab75091c50178e684217840c15ec5d9974d34674,Allow clustercheck to wait before finishing,MERGED,2023-05-24 10:59:15.000000000,2023-05-30 22:09:37.000000000,2023-05-30 22:09:37.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 10:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/694dcdc6417077bd5b0119db1deff23a8086db8e', 'message': 'Allow clustercheck to wait before finishing\n\nMake clustercheck use additional parameter from\n/etc/sysconfig/clustercheck to wait a configured amount of time\nafter it returned a HTTP status. This helps on a heavy loaded\nenvironment to prevent HAProxy from reporting wrong `socket error`\nwhen it disconnects after clustercheck.\n\nCloses-Bug: #2020490\n\nChange-Id: Iab75091c50178e684217840c15ec5d9974d34674\n'}, {'number': 2, 'created': '2023-05-25 12:44:30.000000000', 'files': ['deployment/pacemaker/clustercheck-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f04fdef6662f8117c73ec65069009f02501132dd', 'message': 'Allow clustercheck to wait before finishing\n\nMake clustercheck use additional parameter from\n/etc/sysconfig/clustercheck to wait a configured amount of time\nafter it returned a HTTP status. This helps on a heavy loaded\nenvironment to prevent HAProxy from reporting wrong `socket error`\nwhen it disconnects after clustercheck.\n\nCloses-Bug: #2020490\n\nChange-Id: Iab75091c50178e684217840c15ec5d9974d34674\n'}]",0,884176,f04fdef6662f8117c73ec65069009f02501132dd,10,4,2,20778,,,0,"Allow clustercheck to wait before finishing

Make clustercheck use additional parameter from
/etc/sysconfig/clustercheck to wait a configured amount of time
after it returned a HTTP status. This helps on a heavy loaded
environment to prevent HAProxy from reporting wrong `socket error`
when it disconnects after clustercheck.

Closes-Bug: #2020490

Change-Id: Iab75091c50178e684217840c15ec5d9974d34674
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/884176/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/clustercheck-container-puppet.yaml'],1,694dcdc6417077bd5b0119db1deff23a8086db8e,," - bash -c $* -- eval source /etc/sysconfig/clustercheck; exec socat ""$TRIPLEO_SOCAT_BIND"" system:""/usr/bin/clustercheck; sleep ''${TRIPLEO_POST_STATUS_WAIT:-0}''"",nofork"," - bash -c $* -- eval source /etc/sysconfig/clustercheck; exec socat ""$TRIPLEO_SOCAT_BIND"" exec:/usr/bin/clustercheck,nofork",1,1
openstack%2Fvirtualpdu~884721,openstack/virtualpdu,master,Ife12413abc5dcf2cd581f382a8d2911cb9b9aa59,Fix configuration - virtualpdu in openstack now,MERGED,2023-05-30 16:28:14.000000000,2023-05-30 22:07:56.000000000,2023-05-30 22:06:09.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 16:28:14.000000000', 'files': ['zuul.d/virtualpdu-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/virtualpdu/commit/3cfacec14d3c5fa7aa460d56706c463feea1a584', 'message': 'Fix configuration - virtualpdu in openstack now\n\nThis should resolve a zuul config error.\n\nChange-Id: Ife12413abc5dcf2cd581f382a8d2911cb9b9aa59\n'}]",0,884721,3cfacec14d3c5fa7aa460d56706c463feea1a584,7,2,1,10342,,,0,"Fix configuration - virtualpdu in openstack now

This should resolve a zuul config error.

Change-Id: Ife12413abc5dcf2cd581f382a8d2911cb9b9aa59
",git fetch https://review.opendev.org/openstack/virtualpdu refs/changes/21/884721/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/virtualpdu-jobs.yaml'],1,3cfacec14d3c5fa7aa460d56706c463feea1a584,, - openstack/virtualpdu IRONIC_BOOT_MODE: bios , - x/virtualpdu IRONIC_BOOT_MODE: bios,2,2
openstack%2Fdesignate~884346,openstack/designate,master,I1b00300118340faecc81c33f3a77e46e151e0a1c,Improve central unit test coverage,MERGED,2023-05-27 02:55:29.000000000,2023-05-30 22:06:56.000000000,2023-05-30 22:05:25.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 02:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0630253b98c1c027a1e0098f73d5fc4cf0ed65a1', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 2, 'created': '2023-05-27 05:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5166614eb57fc33de22ca0190f15b83a8c441227', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 3, 'created': '2023-05-27 19:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d15be460004a7af53812857bc7c42596d5ccc9cd', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 4, 'created': '2023-05-27 19:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/87dbe16a092c40751dc21f4c6ed02338ba8e6f79', 'message': 'Improve Zone/Record central status coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 5, 'created': '2023-05-27 21:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8501fd7cc349ff9317a1ff922b4666cf84b0afbe', 'message': 'Improve central unit test coverage\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n'}, {'number': 6, 'created': '2023-05-27 22:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/24b8c0e7fb74f8a13319a0152741d06b6551eff0', 'message': ""Improve central unit test coverage\n\n- Minor changes to fix code that wasn't unit testable.\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n""}, {'number': 7, 'created': '2023-05-28 04:42:07.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py', 'designate/tests/unit/central/test_central.py', 'designate/tests/test_central/test_service.py', 'designate/tests/unit/central/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9ba81579acd6d583109ea6ed50dcc9c18ba4412a', 'message': ""Improve central unit test coverage\n\n- Minor changes to fix code that wasn't unit testable.\n\nChange-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c\n""}]",1,884346,9ba81579acd6d583109ea6ed50dcc9c18ba4412a,18,2,7,22623,,,0,"Improve central unit test coverage

- Minor changes to fix code that wasn't unit testable.

Change-Id: I1b00300118340faecc81c33f3a77e46e151e0a1c
",git fetch https://review.opendev.org/openstack/designate refs/changes/46/884346/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/central/test_central.py', 'designate/tests/unit/central/__init__.py']",2,0630253b98c1c027a1e0098f73d5fc4cf0ed65a1,,,,163,0
openstack%2Fnetworking-odl~884188,openstack/networking-odl,stable/2023.1,Icff1b5737b4d2c52ead48e3700de668038f3c5c1,Remove periodic-stable-jobs template,MERGED,2023-05-24 12:38:43.000000000,2023-05-30 22:04:57.000000000,2023-05-30 22:03:12.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 12:38:43.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/439a2437385a9a948ccec234d79f63e7422b9fae', 'message': 'Remove periodic-stable-jobs template\n\nnetworking-odl is about to become deprecated [1] (furthermore, periodic\nstable jobs on yoga and older branches are failing for long time), so\nit is unnecessary to run periodic stable jobs against networking-odl\nanymore.\n\n[1] https://review.opendev.org/c/openstack/governance/+/884002\n\nChange-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1\n(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)\n'}]",0,884188,439a2437385a9a948ccec234d79f63e7422b9fae,8,3,1,17685,,,0,"Remove periodic-stable-jobs template

networking-odl is about to become deprecated [1] (furthermore, periodic
stable jobs on yoga and older branches are failing for long time), so
it is unnecessary to run periodic stable jobs against networking-odl
anymore.

[1] https://review.opendev.org/c/openstack/governance/+/884002

Change-Id: Icff1b5737b4d2c52ead48e3700de668038f3c5c1
(cherry picked from commit 0e6970ce0450a76bd0c115d65eff346f762cfc8e)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/88/884188/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,439a2437385a9a948ccec234d79f63e7422b9fae,remove-odl-periodic-stable,, - periodic-stable-jobs-neutron,0,1
openstack%2Fopenstack-ansible~884276,openstack/openstack-ansible,stable/yoga,Id129495b74a396f76b14ea4f8f13b275c16a5e24,Return distro jobs back,MERGED,2023-05-24 18:51:20.000000000,2023-05-30 21:25:02.000000000,2023-05-30 21:22:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 18:51:20.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3a38adb9a9ab7f60a678f54cc06361efe38003ed', 'message': 'Return distro jobs back\n\nOnce circular dependency to enable service tokens is solved,\ndistro jobs are returned back.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211\nChange-Id: Id129495b74a396f76b14ea4f8f13b275c16a5e24\n'}]",1,884276,3a38adb9a9ab7f60a678f54cc06361efe38003ed,13,3,1,28619,,,0,"Return distro jobs back

Once circular dependency to enable service tokens is solved,
distro jobs are returned back.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211
Change-Id: Id129495b74a396f76b14ea4f8f13b275c16a5e24
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/76/884276/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3a38adb9a9ab7f60a678f54cc06361efe38003ed,osa/OSSA-2023-003, - openstack-ansible-deploy-aio_distro_metal-jobs,,1,0
openstack%2Fcinder~878798,openstack/cinder,master,I3f651326102a05399640e1050782f4bd05df6280,Automate generation of snapshot transfer api-ref samples,ABANDONED,2023-03-28 21:25:10.000000000,2023-05-30 21:13:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-28 21:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9f59adff21b64ada3596049ab6cabd57d3511401', 'message': 'Automate generation of snapshot transfer api-ref sample\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}, {'number': 2, 'created': '2023-04-01 14:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a58843d16707881d2ed9fe6757a048298010ecd', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}, {'number': 3, 'created': '2023-04-03 16:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7233ab0e84028c436749b424071feaaef5eeb352', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nThis patch adds the following tests:\n1) Snapshot transfer\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 4, 'created': '2023-04-04 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f8fd108c73e5f80fafa8299b8d6f5449b5f5c6e', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nThis patch adds the tests for generating api-ref samples of snapshots transfer.\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\nPartially-Implements: blueprint generating-sample-files\n'}, {'number': 5, 'created': '2023-04-06 15:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/344bfe5c2c20c657ac74158331b30cf4a33b540a', 'message': 'Automate generation of snapshot transfer api-ref sample\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}, {'number': 6, 'created': '2023-04-06 16:04:17.000000000', 'files': ['cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/v3.55/snapshot-transfer-show-response.json.tpl', 'api-ref/source/v3/index.rst', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfers-list-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/v3.55/snapshot-transfers-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-create-request.json.tpl', 'cinder/tests/functional/api_sample_tests/test_snapshot_transfer.py', 'api-ref/source/v3/snapshot-transfer-v3.inc', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-accept-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/v3.55/snapshot-transfer-create-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-accept-request.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfers-list-detailed-response.json.tpl', 'cinder/tests/functional/api_sample_tests/samples/snapshot_transfer/snapshot-transfer-show-response.json.tpl'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fea656b90da2bbe422399efb25a550dc93230107', 'message': 'Automate generation of snapshot transfer api-ref samples\n\nThis patch adds the tests for generating api-ref samples of snapshot transfer.\n\nChange-Id: I3f651326102a05399640e1050782f4bd05df6280\n'}]",5,878798,fea656b90da2bbe422399efb25a550dc93230107,75,1,6,35836,,,0,"Automate generation of snapshot transfer api-ref samples

This patch adds the tests for generating api-ref samples of snapshot transfer.

Change-Id: I3f651326102a05399640e1050782f4bd05df6280
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/878798/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/functional/api_sample_tests/test_snapshot_transfer.py'],1,9f59adff21b64ada3596049ab6cabd57d3511401,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ",,11,0
openstack%2Fproject-config~884718,openstack/project-config,master,Ib60099f79de902906b8d1956cc202aeb86587cb5,Remove retied projects from openstack-helm group,MERGED,2023-05-30 15:41:52.000000000,2023-05-30 21:09:26.000000000,2023-05-30 18:35:13.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-05-30 15:41:52.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4b3f46d37fe72f1ea7b520b5070fb50b54d419d9', 'message': 'Remove retied projects from openstack-helm group\n\nAt the moment we have 3 active projects in openstack-helm\nproject group. These are\n- openstack-helm\n- openstack-helm-infra\n- openstack-helm-images\nBut we used to have 3 more projects in the project group\nwhich are now retired. These retied projects are\n- openstack-helm-docs\n- openstack-helm-addons\n- openstack-helm-deployments\nNow we would like to cleanup the openstack-helm\nStoryboard project group. We have closed and moved all the\nstories from these retired projects to the main OSH project.\n\nChange-Id: Ib60099f79de902906b8d1956cc202aeb86587cb5\n'}]",0,884718,4b3f46d37fe72f1ea7b520b5070fb50b54d419d9,10,4,1,3009,,,0,"Remove retied projects from openstack-helm group

At the moment we have 3 active projects in openstack-helm
project group. These are
- openstack-helm
- openstack-helm-infra
- openstack-helm-images
But we used to have 3 more projects in the project group
which are now retired. These retied projects are
- openstack-helm-docs
- openstack-helm-addons
- openstack-helm-deployments
Now we would like to cleanup the openstack-helm
Storyboard project group. We have closed and moved all the
stories from these retired projects to the main OSH project.

Change-Id: Ib60099f79de902906b8d1956cc202aeb86587cb5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/884718/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,4b3f46d37fe72f1ea7b520b5070fb50b54d419d9,,, use-storyboard: true groups: - openstack-helm use-storyboard: true groups: - openstack-helm use-storyboard: true groups: - openstack-helm,0,9
openstack%2Fansible-role-uwsgi~884373,openstack/ansible-role-uwsgi,stable/yoga,I3b11220dd30a03fd6465f7b5e041027fbd8bad1d,Replace imports with dynamic includes,MERGED,2023-05-25 15:00:29.000000000,2023-05-30 21:07:40.000000000,2023-05-30 21:06:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-25 15:00:29.000000000', 'files': ['tasks/main.yml', 'tasks/uwsgi_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-uwsgi/commit/725a9495c4c223657474378c07bcfc91cced4dbf', 'message': 'Replace imports with dynamic includes\n\nA weird behaviour has been spotted in AIO, where role, that was\nimporting python_venv_build and uwsgi roles was failing, as\nvenv_build_distro_package_list definition from uwsgi role was applied\non upper level even before uwsgi runtime\n\nAs a result, previous import was failing with\nuwsgi_build_distro_package_list being undefined.\n\nReplacing any import with inlcude was solving the issue. Since we re-use\nuwsgi role a lot and using include make sense in the role, we\nstart replacing static imports from here.\n\nChange-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d\n(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)\n'}]",1,884373,725a9495c4c223657474378c07bcfc91cced4dbf,12,3,1,28619,,,0,"Replace imports with dynamic includes

A weird behaviour has been spotted in AIO, where role, that was
importing python_venv_build and uwsgi roles was failing, as
venv_build_distro_package_list definition from uwsgi role was applied
on upper level even before uwsgi runtime

As a result, previous import was failing with
uwsgi_build_distro_package_list being undefined.

Replacing any import with inlcude was solving the issue. Since we re-use
uwsgi role a lot and using include make sense in the role, we
start replacing static imports from here.

Change-Id: I3b11220dd30a03fd6465f7b5e041027fbd8bad1d
(cherry picked from commit 3fa317e79a8f7c8102b758d22c5a08c0cfddf61b)
",git fetch https://review.opendev.org/openstack/ansible-role-uwsgi refs/changes/73/884373/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/uwsgi_install.yml']",2,725a9495c4c223657474378c07bcfc91cced4dbf,, include_role:, import_role:,11,3
openstack%2Fnova~872429,openstack/nova,master,I41b61f460fff5bb0d7118c2e6414fb2b11348761,db: Remove the legacy 'migration_version' table,MERGED,2023-02-01 17:08:29.000000000,2023-05-30 20:58:17.000000000,2023-05-30 20:56:59.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-01 17:08:29.000000000', 'files': ['nova/db/main/migrations/versions/1b91788ec3a6_drop_legacy_migrate_version_table.py', 'nova/db/main/api.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/db/api/migrations/versions/cdeec0c85668_drop_legacy_migrate_version_table.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2454843b8faa91a4c3eeadc0d3a2c8925d9bee43', 'message': ""db: Remove the legacy 'migration_version' table\n\nThis hasn't been necessary since Wallaby.\n\nChange-Id: I41b61f460fff5bb0d7118c2e6414fb2b11348761\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",9,872429,2454843b8faa91a4c3eeadc0d3a2c8925d9bee43,56,6,1,15334,,,0,"db: Remove the legacy 'migration_version' table

This hasn't been necessary since Wallaby.

Change-Id: I41b61f460fff5bb0d7118c2e6414fb2b11348761
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/872429/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/main/migrations/versions/1b91788ec3a6_drop_legacy_migrate_version_table.py', 'nova/db/main/api.py', 'nova/tests/unit/db/api/test_migrations.py', 'nova/tests/unit/db/main/test_migrations.py', 'nova/db/api/migrations/versions/cdeec0c85668_drop_legacy_migrate_version_table.py']",5,2454843b8faa91a4c3eeadc0d3a2c8925d9bee43,sqlalchemy-20,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Drop legacy migrate_version table Revision ID: cdeec0c85668 Revises: b30f573d3377 Create Date: 2023-02-01 17:04:52.984703 """""" from alembic import op from sqlalchemy.engine import reflection # revision identifiers, used by Alembic. revision = 'cdeec0c85668' down_revision = 'b30f573d3377' branch_labels = None depends_on = None def upgrade(): conn = op.get_bind() inspector = reflection.Inspector.from_engine(conn) tables = inspector.get_table_names() if 'migrate_version' in tables: op.drop_table('migrate_version') ",,93,19
openstack%2Fcharm-guide~884756,openstack/charm-guide,master,I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc,Add Service Tokens entry to the 2023.1 release notes.,MERGED,2023-05-30 17:28:24.000000000,2023-05-30 20:47:49.000000000,2023-05-30 20:46:33.000000000,"[{'_account_id': 11805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-05-30 17:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/72cea0b7d66fdd05bf26c9843b2983e69a01eac9', 'message': 'Add Service Tokens entry to the 2023.1 release notes.\n\nChange-Id: I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc\n'}, {'number': 2, 'created': '2023-05-30 18:24:21.000000000', 'files': ['doc/source/release-notes/2023.1-antelope.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/06096268e6bedf543a2bfb50bf1614e85398bf11', 'message': 'Add Service Tokens entry to the 2023.1 release notes.\n\nCloses-Bug: #1992840\nChange-Id: I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc\n'}]",0,884756,06096268e6bedf543a2bfb50bf1614e85398bf11,10,4,2,2424,,,0,"Add Service Tokens entry to the 2023.1 release notes.

Closes-Bug: #1992840
Change-Id: I0df682a49919900081ff2c8d2e4f2ba0ff6b29dc
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/56/884756/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-notes/2023.1-antelope.rst'],1,72cea0b7d66fdd05bf26c9843b2983e69a01eac9,bug/1992840,"Service Tokens ~~~~~~~~~~~~~~ Charmed OpenStack configures the deployed services to send service tokens now. This change benefits users in, at least, the following situations: * For security reasons, the service token allows the control plane to differentiate when a privileged operation is issued by another service (e.g. Nova requesting a volume operation to Cinder) or by a cloud user. * Long running job failures, if an operation takes longer than the life of the user's token, there will be queries failing and preventing the completion of the user's requested operation. For more details see `Using service tokens in Cinder`_ and bug `LP #1992840`_ .. _Using service tokens in Cinder: https://docs.openstack.org/cinder/2023.1/configuration/block-storage/service-token.html.. _LP #1992840: https://bugs.launchpad.net/charm-cinder/+bug/1992840",,17,0
openstack%2Fwhitebox-tempest-plugin~878711,openstack/whitebox-tempest-plugin,master,Iccbeef049af5e3a913d7ce56cd29f7dc66517532,Use barbican client from barbican-templest-plugin,MERGED,2023-03-27 18:46:11.000000000,2023-05-30 20:33:57.000000000,2023-05-30 20:33:57.000000000,"[{'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2023-03-27 18:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d90af0131c371ee9dd4e55b114bc48ece154f0ff', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 2, 'created': '2023-03-28 16:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/25e46a106f17cc4c4d572778375d43ce9056c6be', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 3, 'created': '2023-03-28 19:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9b8736ef6717278802fddf5ef83802e9a8960e57', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 4, 'created': '2023-03-29 00:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/dae676a90860e69de5af5e46d3e11acc75d97f16', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 5, 'created': '2023-03-29 01:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ee8bf92b123ff9858051e14c78d28adfc9ce4fd5', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 6, 'created': '2023-03-29 14:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/73af6dbc6d3074aa4338e6895f7848256dfe6ca1', 'message': 'WIP/DNM: try using barbican client from their plugin\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}, {'number': 7, 'created': '2023-03-29 16:11:28.000000000', 'files': ['whitebox_tempest_plugin/services/key_manager/json/__init__.py', '.zuul.yaml', 'whitebox_tempest_plugin/services/key_manager/json/base.py', 'whitebox_tempest_plugin/api/compute/test_vtpm.py', 'whitebox_tempest_plugin/services/key_manager/json/secret_client.py', 'whitebox_tempest_plugin/plugin.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d3a8b0ef14cdae30130c5ef35a52d48469d1d9c0', 'message': 'Use barbican client from barbican-templest-plugin\n\nPreviously we had copy-pasted barbican client code into our own in\norder to access secrets. If we install the barbican-tempest-plugin, we\ncan use their client directly, as explained in [1].\n\n[1] https://docs.openstack.org/tempest/latest/plugins/plugin.html#service-clients\n\nChange-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532\n'}]",3,878711,d3a8b0ef14cdae30130c5ef35a52d48469d1d9c0,20,2,7,8864,,,0,"Use barbican client from barbican-templest-plugin

Previously we had copy-pasted barbican client code into our own in
order to access secrets. If we install the barbican-tempest-plugin, we
can use their client directly, as explained in [1].

[1] https://docs.openstack.org/tempest/latest/plugins/plugin.html#service-clients

Change-Id: Iccbeef049af5e3a913d7ce56cd29f7dc66517532
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/11/878711/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/key_manager/json/__init__.py', '.zuul.yaml', 'whitebox_tempest_plugin/services/key_manager/json/base.py', 'whitebox_tempest_plugin/services/key_manager/json/secret_client.py', 'whitebox_tempest_plugin/plugin.py']",5,d90af0131c371ee9dd4e55b114bc48ece154f0ff,,," def get_service_clients(self): v1_params = { 'name': 'secret_v1', 'service_version': 'secret.v1', 'module_path': 'whitebox_tempest_plugin.services.key_manager.json', 'client_names': [ 'SecretClient' ] } return [v1_params]",1,111
openstack%2Fdevstack~883970,openstack/devstack,stable/yoga,I7b223391d3de01e3e81b02076debd01d9d2f097c,Try to reduce mysql memory usage,MERGED,2023-05-23 18:22:47.000000000,2023-05-30 20:20:12.000000000,2023-05-30 20:18:13.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 18:22:47.000000000', 'files': ['lib/databases/mysql', '.zuul.yaml', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4a1f8654826166642880714999b25d00dfe3dfe', 'message': ""Try to reduce mysql memory usage\n\nThese are a few tweaks I applied to my own memory-constrained cloud\ninstances that seemed to help. I have lower performance requirements\nso this may make things worse and not better, but it's worth seeing\nwhat the impact is. I'll admit to not knowing the full impact of these\nas they're mostly collected from various tutorials on lowering memory\nusage.\n\nEnable this for now on devstack-multinode\n\nChange-Id: I7b223391d3de01e3e81b02076debd01d9d2f097c\n(cherry picked from commit 7567359755a105e7278bbf97541332f28228b87d)\n(cherry picked from commit b12cc4181cd691c121265cf07e274a8021c18754)\n""}]",2,883970,c4a1f8654826166642880714999b25d00dfe3dfe,10,5,1,4393,,,0,"Try to reduce mysql memory usage

These are a few tweaks I applied to my own memory-constrained cloud
instances that seemed to help. I have lower performance requirements
so this may make things worse and not better, but it's worth seeing
what the impact is. I'll admit to not knowing the full impact of these
as they're mostly collected from various tutorials on lowering memory
usage.

Enable this for now on devstack-multinode

Change-Id: I7b223391d3de01e3e81b02076debd01d9d2f097c
(cherry picked from commit 7567359755a105e7278bbf97541332f28228b87d)
(cherry picked from commit b12cc4181cd691c121265cf07e274a8021c18754)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/883970/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/databases/mysql', '.zuul.yaml', 'stackrc']",3,c4a1f8654826166642880714999b25d00dfe3dfe,mysql-mem,"# This can be used to reduce the amount of memory mysqld uses while running. # These are unscientifically determined, and could reduce performance or # cause other issues. MYSQL_REDUCE_MEMORY=$(trueorfalse False MYSQL_REDUCE_MEMORY) ",,18,0
openstack%2Fkeystonemiddleware~884775,openstack/keystonemiddleware,master,I27eae647dc943e6f5af654fa8428e64fcef6ad4d,Make openstack-tox-lower-constraints non-voting,ABANDONED,2023-05-30 19:55:38.000000000,2023-05-30 20:03:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 19:55:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7bf26aa8eaa3e46315605e2bebc2e8e13fc5f2c3', 'message': 'Make openstack-tox-lower-constraints non-voting\n\nThis test is non-voting in Wallaby and was removed from Xena onwards.\nCurrently is failing for all backports.\n\nChange-Id: I27eae647dc943e6f5af654fa8428e64fcef6ad4d\n'}]",0,884775,7bf26aa8eaa3e46315605e2bebc2e8e13fc5f2c3,8,1,1,34275,,,0,"Make openstack-tox-lower-constraints non-voting

This test is non-voting in Wallaby and was removed from Xena onwards.
Currently is failing for all backports.

Change-Id: I27eae647dc943e6f5af654fa8428e64fcef6ad4d
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/75/884775/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7bf26aa8eaa3e46315605e2bebc2e8e13fc5f2c3,lower-contraints-ussuri, check: jobs: - openstack-tox-lower-constraints: voting: false, - openstack-lower-constraints-jobs,4,1
openstack%2Fcinder-tempest-plugin~883182,openstack/cinder-tempest-plugin,master,Ic60eec73361dbdda68d4308140560be55102178e,[srbac] Testing Volume Actions,MERGED,2023-05-18 09:40:53.000000000,2023-05-30 20:03:05.000000000,2023-05-30 20:03:05.000000000,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-18 09:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7e051dfbcf5697a0a02d3c12ed84d3ac9ed3676a', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 2, 'created': '2023-05-18 12:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c4e61779a93036fbb8c84aaee9f8e19e878397c1', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 3, 'created': '2023-05-19 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2aaf8b7c0c7dd250953b544c37364bf22f255419', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 4, 'created': '2023-05-21 11:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/73ed79dc9ea35bfb38cad5731ea7b154082bf5c1', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}, {'number': 5, 'created': '2023-05-21 14:27:51.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volume_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3367fdd997f120989dc6b7018cb355b0119eb821', 'message': '[srbac] Testing Volume Actions\n\nAdding Reader srbac tests with volume action operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\nChange-Id: Ic60eec73361dbdda68d4308140560be55102178e\n'}]",7,883182,3367fdd997f120989dc6b7018cb355b0119eb821,26,7,5,35621,,,0,"[srbac] Testing Volume Actions

Adding Reader srbac tests with volume action operations

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986
Change-Id: Ic60eec73361dbdda68d4308140560be55102178e
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/82/883182/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volume_actions.py'],1,7e051dfbcf5697a0a02d3c12ed84d3ac9ed3676a,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base CONF = config.CONF class VolumeV3RbacVolumeActionsTests(rbac_base.VolumeV3RbacBaseTests): @classmethod def setup_clients(cls): super().setup_clients() cls.vol_other_client = cls.os_project_admin.volumes_client_latest def _extend_volume(self, expected_status): """"""Test extend_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='extend_volume', volume_id=volume_id, new_size=2, expected_status=expected_status ) def _reset_volume_status(self, expected_status): """"""Test reset_volume_status operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='reset_volume_status', volume_id=volume_id, status='error', expected_status=expected_status ) def _retype_volume(self, expected_status): """"""Test retype_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='retype_volume', volume_id=volume_id, new_type='dedup-tier-replicaton', expected_status=expected_status ) def _update_volume_readonly(self, expected_status): """"""Test update_volume_readonly operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='update_volume_readonly', volume_id=volume_id, readonly=True, expected_status=expected_status ) def _force_delete_volume(self, expected_status): """"""Test force_delete_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='force_delete_volume', volume_id=volume_id, expected_status=expected_status ) def _reserve_volume(self, expected_status): """"""Test reserve_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='reserve_volume', volume_id=volume_id, expected_status=expected_status ) def _unreserve_volume(self, expected_status): """"""Test unreserve_volume operation. Args: expected_status: The expected HTTP response code """""" volume_id = self.create_volume(client=self.vol_other_client) self.do_request( method='unreserve_volume', volume_id=volume_id, expected_status=expected_status ) class ProjectReaderTests(VolumeV3RbacVolumeActionsTests): credentials = ['project_reader', 'project_admin'] @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_reader.volumes_client_latest @decorators.idempotent_id('4d721c58-2f6f-4857-8f4f-0664d5f7bf49') def test_extend_volume(self): self._extend_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('434b454a-5cbe-492d-a416-70b8ff41f636') def test_reset_volume_status(self): self._reset_volume_status(expected_status=exceptions.Forbidden) @decorators.idempotent_id('4675295a-7c72-4b04-8a43-03d7c88ab6bf') def test_retype_volume(self): self._retype_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('3beecd52-e314-40d8-875d-a0e7db8dd88f') def test_update_volume_readonly(self): self._update_volume_readonly(expected_status=exceptions.Forbidden) @decorators.idempotent_id('d2c13bf9-267a-4a71-be5c-391f22e9b433') def test_force_delete_volume(self): self._force_delete_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('d2c13bf9-267a-4a71-be5c-391f22e9b433') def test_reserve_volume(self): self._reserve_volume(expected_status=exceptions.Forbidden) @decorators.idempotent_id('725d85cf-96b2-4338-98f4-2f468099c4ed') def test_unreserve_volume(self): self._unreserve_volume(expected_status=exceptions.Forbidden) gg",,151,0
openstack%2Fopenstack-ansible-os_nova~884380,openstack/openstack-ansible-os_nova,stable/zed,Ic6f2606b5a478c7a891c25bd131ad351a19699bc,Install libvirt-deamon for RHEL systems,MERGED,2023-05-26 07:18:10.000000000,2023-05-30 19:48:15.000000000,2023-05-30 19:47:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-26 07:18:10.000000000', 'files': ['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c2045ba40e10c3c8866102fc8cc07b322a503a86', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)\n'}]",1,884380,c2045ba40e10c3c8866102fc8cc07b322a503a86,10,3,1,28619,,,0,"Install libvirt-deamon for RHEL systems

CentOS has upgraded their libivrt to version 9.3, where libvirt-daemon
is not installed as a dependency anymore. So we need to explicitly
isntall this package to restore functionality.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936

Change-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc
(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/80/884380/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml']",2,c2045ba40e10c3c8866102fc8cc07b322a503a86,, - libvirt-daemon,,8,0
openstack%2Fmagnum-tempest-plugin~884366,openstack/magnum-tempest-plugin,master,I584134997effca82becc47fbc3856a001d4f588c,WIP: Test cluster create and delete,NEW,2023-05-25 11:52:07.000000000,2023-05-30 19:30:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 11:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/f043e314c313eb51f93dd9f6f438191cdc6cc890', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 2, 'created': '2023-05-25 11:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/71cb1878f6a2309b835e720e4d4a2d10345ed9e4', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 3, 'created': '2023-05-25 13:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/1565282075211f6fe8131b788f09d75acbb861e0', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 4, 'created': '2023-05-25 14:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c61141ead581ab33b61d18d9f2d5b6e37a0623f0', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 5, 'created': '2023-05-25 15:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/4191305fefdada9d59630c851a587cbecbd646a7', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 6, 'created': '2023-05-26 11:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/c47d465567547b1df8e8b0977d8692d37fe2dfa8', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a realy k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 7, 'created': '2023-05-26 12:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/4033c256637ab9d2837debd7abae914ef9cb522f', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a real k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 8, 'created': '2023-05-26 16:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/71159c8162a0ef0d4a8715087f74d397c84d6e1d', 'message': 'WIP: Test Cluster API driver\n\nWe use a nested virt node to actually create a real k8s cluster.\nKeep the old driver test for the older branches.\n\nWe need the new driver for this test config to work\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 9, 'created': '2023-05-30 16:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/59bb5d1a855f3ad8ee50f086aab6a0db84feb3ab', 'message': ""WIP: Test cluster create and delete\n\nCurrently we never attempt to create a cluster in any check or\ngate tests. The Cluster API driver seems to be quick enough\nfor this to be possible in the gate using a nested virt enabled node.\n\nIn this patch we move the existing test setup to be renamed to note\nit is heat driver specific.\nWe add a new test configuration that creates templates that make\nuse of the new Cluster API driver.\n\nWe then enable this test that will create and delete a cluster:\ntest_create_list_sign_delete_clusters\n\nNote, we can only run this one test, because of a bug in the setup\nand tear down logic that delete's the dynamic credentials before\nour test is even executed. The other negatives tests seem to pass\nOK despite the project having been deleted. We will fix this in a follow\nup test.\n\nWe need the new driver for this test config to work, so we depend on the\nfirst patch in the ClusterAPI driver series that will pass this test:\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n""}, {'number': 10, 'created': '2023-05-30 17:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/27ad22f1e2c2663e7d367d2897c8c1250701d9e3', 'message': 'WIP: Test cluster create and delete\n\nCurrently we never test create or delete of a cluster.\nThe Cluster API driver seems to be quick enough\nfor this to be possible in the gate\nusing a nested virt enabled node.\n\nThe current test setup, using the heat driver, is retained for both\nmaster and all the stable branches. The new Cluster API driver is targeted\nby using a different image referenced in the cluster template.\n\nTo do this, we enable this test that will create and delete a cluster:\ntest_create_list_sign_delete_clusters\n\nNote, we can only run this one test in that test class because the setup\nand teardown logic is broken right now. We have issues in that the keystone\nproject gets deleted before we attempt to create the cluster.\nWe will fix this in a follow up patch.\n\nFor this test to pass, we need the new cluster api driver to exist, and\nas such we depend on the first patch in the ClusterAPI driver series that\nsupports creating and deleting clusters:\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}, {'number': 11, 'created': '2023-05-30 18:46:55.000000000', 'files': ['playbooks/collect-capi-logs.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-tempest-plugin/commit/8abcd79e2daa3ea907fcbbc7c40bbfeec8b8bbed', 'message': 'WIP: Test cluster create and delete\n\nCurrently we never test create or delete of a cluster.\nThe Cluster API driver seems to be quick enough\nfor this to be possible in the gate\nusing a nested virt enabled node.\n\nThe current test setup, using the heat driver, is retained for both\nmaster and all the stable branches. The new Cluster API driver is targeted\nby using a different image referenced in the cluster template.\n\nTo do this, we enable this test that will create and delete a cluster:\ntest_create_list_sign_delete_clusters\n\nNote, we can only run this one test in that test class because the setup\nand teardown logic is broken right now. We have issues in that the keystone\nproject gets deleted before we attempt to create the cluster.\nWe will fix this in a follow up patch.\n\nFor this test to pass, we need the new cluster api driver to exist, and\nas such we depend on the first patch in the ClusterAPI driver series that\nsupports creating and deleting clusters:\n\nDepends-On: https://review.opendev.org/c/openstack/magnum/+/851076\n\nstory: 2009780\n\nCo-Authored-By: Tyler Christie<tyler@stackhpc.com>\n\nChange-Id: I584134997effca82becc47fbc3856a001d4f588c\n'}]",2,884366,8abcd79e2daa3ea907fcbbc7c40bbfeec8b8bbed,22,1,11,782,,,0,"WIP: Test cluster create and delete

Currently we never test create or delete of a cluster.
The Cluster API driver seems to be quick enough
for this to be possible in the gate
using a nested virt enabled node.

The current test setup, using the heat driver, is retained for both
master and all the stable branches. The new Cluster API driver is targeted
by using a different image referenced in the cluster template.

To do this, we enable this test that will create and delete a cluster:
test_create_list_sign_delete_clusters

Note, we can only run this one test in that test class because the setup
and teardown logic is broken right now. We have issues in that the keystone
project gets deleted before we attempt to create the cluster.
We will fix this in a follow up patch.

For this test to pass, we need the new cluster api driver to exist, and
as such we depend on the first patch in the ClusterAPI driver series that
supports creating and deleting clusters:

Depends-On: https://review.opendev.org/c/openstack/magnum/+/851076

story: 2009780

Co-Authored-By: Tyler Christie<tyler@stackhpc.com>

Change-Id: I584134997effca82becc47fbc3856a001d4f588c
",git fetch https://review.opendev.org/openstack/magnum-tempest-plugin refs/changes/66/884366/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/collect-capi-logs.yaml', '.zuul.yaml']",2,f043e314c313eb51f93dd9f6f438191cdc6cc890,," - magnum-tempest-plugin-tests-api-heat parent: magnum-tempest-plugin-tests-api-heat parent: magnum-tempest-plugin-tests-api-heat parent: magnum-tempest-plugin-tests-api-heat name: magnum-tempest-plugin-tests-api-heat - nodeset: name: magnum-nested-virt-ubuntu-focal nodes: - name: controller label: nested-virt-ubuntu-focal groups: - name: tempest nodes: - controller - job: name: magnum-tempest-plugin-tests-api parent: devstack-tempest nodeset: magnum-nested-virt-ubuntu-focal required-projects: - openstack/magnum - openstack/python-magnumclient # TODO: can we remove heat? - openstack/heat - openstack/barbican - openstack/magnum-tempest-plugin - openstack/octavia - openstack/octavia-lib - openstack/diskimage-builder roles: - zuul: openstack/neutron-tempest-plugin irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^specs/.*$ - ^install-guide/.*$ - ^releasenotes/.*$ - ^dockerfiles/.*$ vars: zuul_copy_output: '/var/log/dib-build': logs '/var/log/octavia-amphora.log': logs '/var/log/octavia-tenant-traffic.log': logs './capi-kube.log': logs tempest_plugins: - magnum-tempest-plugin - octavia-tempest-plugin tempest_concurrency: 1 tempest_test_regex: ^magnum_tempest_plugin.tests.api # make sure we run list_sign_delete_clusters tempest_exclude_regex: (test_create_cluster_with_zero_nodes) devstack_plugins: neutron: https://opendev.org/openstack/neutron.git octavia: https://opendev.org/openstack/octavia.git magnum: https://opendev.org/openstack/magnum.git heat: https://opendev.org/openstack/heat.git barbican: https://opendev.org/openstack/barbican.git devstack_services: base: false barbican: true dstat: true g-api: true g-reg: true key: true memory_tracker: true mysql: true n-api: true n-api-meta: true n-cauth: true n-cond: true n-cpu: true n-obj: true n-sch: true neutron-qos: true octavia: true o-api-ha: true o-api: true o-cw: true o-hm: true o-hk: true ovn-controller: true ovn-northd: true ovn-vswitchd: true ovsdb-server: true placement-api: true q-agt: false q-dhcp: false q-l3: false q-meta: false q-ovn-metadata-agent: true q-svc: true rabbit: true tempest: true tls-proxy: true magnum-api: true magnum-cond: true tox_envlist: all post-run: playbooks/collect-capi-logs.yaml devstack_local_conf: post-config: $OCTAVIA_CONF: controller_worker: loadbalancer_topology: SINGLE test-config: $TEMPEST_CONFIG: load_balancer: loadbalancer_topology: SINGLE magnum: image_id: ubuntu-focal-kube-v1.26.3-230411-1504 nic_id: public keypair_id: default flavor_id: ds2G20 master_flavor_id: ds2G20 cluster_creation_timeout: 15 auth: tempest_roles: creator, member, load-balancer_member configure_swap_size: 8192 devstack_localrc: USE_PYTHON3: true LIBVIRT_TYPE: kvm LIBVIRT_CPU_MODE: host-passthrough # NOTE: extend default glance limit from 1GB GLANCE_LIMIT_IMAGE_SIZE_TOTAL: 10000 OCTAVIA_USE_PREGENERATED_CERTS: true # add image for the magnum cluster api template above MAGNUM_GUEST_IMAGE_URL: https://object.arcus.openstack.hpc.cam.ac.uk/swift/v1/AUTH_f0dc9cb312144d0aa44037c9149d2513/azimuth-images-prerelease/ubuntu-focal-kube-v1.26.3-230411-1504.qcow2 MAGNUM_IMAGE_NAME: ubuntu-focal-kube-v1.26.3-230411-1504 MAGNUM_IMAGE_KUBE_VERSION: v1.26.3", parent: magnum-tempest-plugin-tests-api parent: magnum-tempest-plugin-tests-api parent: magnum-tempest-plugin-tests-api name: magnum-tempest-plugin-tests-api,140,4
openstack%2Fdesignate~884345,openstack/designate,master,Idc21c18bb7689b857f3892634e030930a68f4765,Add manage cmd tests,MERGED,2023-05-27 00:47:26.000000000,2023-05-30 19:14:15.000000000,2023-05-30 19:13:09.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 00:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c38f982c0ccfa5b40c04c721bfe5aa5cebea3e94', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 2, 'created': '2023-05-27 00:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4380da565ad4e88cb36e2199077f60731aa99f71', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 3, 'created': '2023-05-27 01:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/89372c39191a4f285b1419cd9def2471034417de', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 4, 'created': '2023-05-27 01:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ed3e341ebd52c62fd95b5f277fddd4b35603ed5d', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 5, 'created': '2023-05-27 01:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f4088cf0d69d7800c53ff0d7d4742ae64c47b604', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 6, 'created': '2023-05-27 02:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fa715224bd2dcf327305f83dd9bd93a63c53781d', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}, {'number': 7, 'created': '2023-05-28 04:42:03.000000000', 'files': ['designate/tests/unit/cmd/test_manage.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/661f0dd5175fb0334a7f0f6f1ff4482164d09b91', 'message': 'Add manage cmd tests\n\nChange-Id: Idc21c18bb7689b857f3892634e030930a68f4765\n'}]",1,884345,661f0dd5175fb0334a7f0f6f1ff4482164d09b91,15,2,7,22623,,,0,"Add manage cmd tests

Change-Id: Idc21c18bb7689b857f3892634e030930a68f4765
",git fetch https://review.opendev.org/openstack/designate refs/changes/45/884345/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/cmd/test_manage.py'],1,c38f982c0ccfa5b40c04c721bfe5aa5cebea3e94,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sys from unittest import mock from oslo_config import cfg from oslo_config import fixture as cfg_fixture import oslotest.base from designate.cmd import manage CONF = cfg.CONF class ManageTestCase(oslotest.base.BaseTestCase): def setUp(self): super(ManageTestCase, self).setUp() self.useFixture(cfg_fixture.Config(CONF)) @mock.patch('oslo_config.cfg.ConfigOpts.__call__') @mock.patch('oslo_config.cfg.ConfigOpts.register_cli_opt') @mock.patch('oslo_log.log.setup') def test_main(self, mock_log_setup, register_cli_opt, config_opts_call): script_name = 'designate-manage' sys.argv = [script_name, 'config', 'list'] action_fn = mock.MagicMock() CONF.category = mock.MagicMock(action_fn=action_fn) manage.main() self.assertTrue(register_cli_opt.called) mock_log_setup.assert_called_with(mock.ANY, 'designate') config_opts_call.assert_called_once_with( ['config', 'list'], project='designate', prog='designate', default_config_files=['/etc/designate/designate.conf'] ) self.assertTrue(action_fn.called) def test_get_arg_string(self): self.assertEqual('bar', manage.get_arg_string('bar')) self.assertEqual('bar', manage.get_arg_string('-bar')) self.assertEqual('bar', manage.get_arg_string('--bar')) def test_methods_of(self): class foo(object): foo = 'bar' def public(self): pass def _private(self): pass methods = manage.methods_of(foo()) method_names = [method_name for method_name, method in methods] self.assertIn('public', method_names) self.assertNotIn('_private', method_names) self.assertNotIn('foo', method_names) def test_get_available_commands(self): available_commands = manage.get_available_commands() self.assertIn('database', available_commands) self.assertIn('pool', available_commands) self.assertIn('tlds', available_commands) ",,76,0
openstack%2Fkayobe~884244,openstack/kayobe,stable/xena,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:03:03.000000000,2023-05-30 19:13:27.000000000,2023-05-30 19:12:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:03:03.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0bf45b190c62785514991866a38ca70344b006c6', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",0,884244,0bf45b190c62785514991866a38ca70344b006c6,8,4,1,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/44/884244/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,0bf45b190c62785514991866a38ca70344b006c6,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fcharm-keystone~884691,openstack/charm-keystone,stable/train,Ia7622a41467aa963b4940171d1aa718e3b9fcf8d,charm-helpers sync,MERGED,2023-05-30 13:04:25.000000000,2023-05-30 19:04:19.000000000,2023-05-30 19:04:19.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 13:04:25.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/11454ac2acb25f35d3a95331ce6935bc577566fd', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: Ia7622a41467aa963b4940171d1aa718e3b9fcf8d\n'}]",2,884691,11454ac2acb25f35d3a95331ce6935bc577566fd,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: Ia7622a41467aa963b4940171d1aa718e3b9fcf8d
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/91/884691/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py']",3,11454ac2acb25f35d3a95331ce6935bc577566fd,bug/2015103," octopus_or_later = cmp_pkgrevno('ceph-common', '15.0.0') >= 0 mon_status_cmd = 'quorum_status' if octopus_or_later else 'mon_status' mon_status_cmd, '--format=json'])"," 'mon_status', '--format=json'])",16,2
openstack%2Fcharm-keystone~884690,openstack/charm-keystone,stable/ussuri,I26c7659484815a15da8d36590a4e77c01a4b17bf,charm-helpers sync,MERGED,2023-05-30 13:00:24.000000000,2023-05-30 19:04:18.000000000,2023-05-30 19:04:18.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 13:00:24.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/6f426f3a66f0a4f93e0c319ec098f36e4042ec0a', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I26c7659484815a15da8d36590a4e77c01a4b17bf\n'}]",2,884690,6f426f3a66f0a4f93e0c319ec098f36e4042ec0a,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I26c7659484815a15da8d36590a4e77c01a4b17bf
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/90/884690/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",12,6f426f3a66f0a4f93e0c319ec098f36e4042ec0a,bug/2015103,{% if service_type -%} service_type = {{ service_type }} {% endif -%},,52,3
openstack%2Fcharm-keystone~884689,openstack/charm-keystone,stable/victoria,I5282304131a73ef572430cba98c9b0d3a52f0877,charm-helpers sync,MERGED,2023-05-30 12:59:36.000000000,2023-05-30 19:04:17.000000000,2023-05-30 19:04:17.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:59:36.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/3c45852e864202a92568ca25302e9f1610d60b59', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I5282304131a73ef572430cba98c9b0d3a52f0877\n'}]",2,884689,3c45852e864202a92568ca25302e9f1610d60b59,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I5282304131a73ef572430cba98c9b0d3a52f0877
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/89/884689/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",12,3c45852e864202a92568ca25302e9f1610d60b59,bug/2015103,{% if service_type -%} service_type = {{ service_type }} {% endif -%},,52,3
openstack%2Fcharm-keystone~884688,openstack/charm-keystone,stable/wallaby,I4c354effe70df10e01ceb70ef9e223a99ebd42cd,charm-helpers sync,MERGED,2023-05-30 12:58:48.000000000,2023-05-30 19:04:15.000000000,2023-05-30 19:04:15.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:58:48.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/9670b7dac8f5fa5e3b2d7d43180dbd2110ec95e6', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I4c354effe70df10e01ceb70ef9e223a99ebd42cd\n'}]",2,884688,9670b7dac8f5fa5e3b2d7d43180dbd2110ec95e6,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I4c354effe70df10e01ceb70ef9e223a99ebd42cd
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/88/884688/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",12,9670b7dac8f5fa5e3b2d7d43180dbd2110ec95e6,bug/2015103,{% if service_type -%} service_type = {{ service_type }} {% endif -%},,52,3
openstack%2Fcharm-keystone~884687,openstack/charm-keystone,stable/xena,Ieb522471be927d51e3d5b8b30e21b73cda9ef56e,charm-helpers sync,MERGED,2023-05-30 12:57:52.000000000,2023-05-30 19:04:14.000000000,2023-05-30 19:04:14.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:57:52.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/a03cc532a011efe3c4a5f98002256a97ffa728fa', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: Ieb522471be927d51e3d5b8b30e21b73cda9ef56e\n'}]",2,884687,a03cc532a011efe3c4a5f98002256a97ffa728fa,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: Ieb522471be927d51e3d5b8b30e21b73cda9ef56e
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/87/884687/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/haproxy.cfg', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf']",11,a03cc532a011efe3c4a5f98002256a97ffa728fa,bug/2015103, KeepAliveTimeout 75 MaxKeepAliveRequests 1000 KeepAliveTimeout 75 MaxKeepAliveRequests 1000 KeepAliveTimeout 75 MaxKeepAliveRequests 1000,,46,2
openstack%2Fopenstack-ansible~884422,openstack/openstack-ansible,stable/zed,I17c8cbeb637921b38906b92601d56595a319603f,Use Zed Senlin version instead of master,MERGED,2023-05-25 17:06:47.000000000,2023-05-30 19:01:04.000000000,2023-05-30 18:58:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-25 17:06:47.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/503f3e8554df1623195293a23ed85c0e00ce4ff9', 'message': 'Use Zed Senlin version instead of master\n\nBy accident we were using master version of senlin rather then\nfrom stable/zed, which caused failures during installation.\n\nChange-Id: I17c8cbeb637921b38906b92601d56595a319603f\n'}]",0,884422,503f3e8554df1623195293a23ed85c0e00ce4ff9,8,3,1,28619,,,0,"Use Zed Senlin version instead of master

By accident we were using master version of senlin rather then
from stable/zed, which caused failures during installation.

Change-Id: I17c8cbeb637921b38906b92601d56595a319603f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/884422/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,503f3e8554df1623195293a23ed85c0e00ce4ff9,,senlin_git_install_branch: 37b888d5e7771ab5f23d8b58865261a58ea0ce1c senlin_git_track_branch: stable/zed,senlin_git_install_branch: 79d0d1f5f98b12b92de1ae906ca5402a58f882ee senlin_git_track_branch: master,2,2
openstack%2Fopenstack-ansible~884716,openstack/openstack-ansible,stable/2023.1,I2fbc8f57a058c3f8b0e028ae9f9ebd87762aeca8,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-30 15:34:43.000000000,2023-05-30 19:00:53.000000000,2023-05-30 18:58:28.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 15:34:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4c847f22ea2753b69c1ec1af105aff20dbfcf385', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2fbc8f57a058c3f8b0e028ae9f9ebd87762aeca8\n'}]",0,884716,4c847f22ea2753b69c1ec1af105aff20dbfcf385,8,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2fbc8f57a058c3f8b0e028ae9f9ebd87762aeca8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/884716/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4c847f22ea2753b69c1ec1af105aff20dbfcf385,create-2023.1, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} {opts} {packages}, pip install -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fopenstack-ansible~884218,openstack/openstack-ansible,stable/zed,I9e7270c2236dfea7716d3efb787459ea947c2a17,Remove unreadable unicode symbols,MERGED,2023-05-24 18:31:38.000000000,2023-05-30 18:59:45.000000000,2023-05-30 18:58:22.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 18:31:38.000000000', 'files': ['playbooks/ceph-rgw-keystone-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11d8a0652f3b9f6638e26b85ce98de451815d6af', 'message': 'Remove unreadable unicode symbols\n\nThere was No-Break space present in the file (U+00a0) which is now\nremoved with a regular space.\n\nChange-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17\n(cherry picked from commit 555ec6abb770cf403b135fcc8673edb60a2f3912)\n'}]",1,884218,11d8a0652f3b9f6638e26b85ce98de451815d6af,8,3,1,28619,,,0,"Remove unreadable unicode symbols

There was No-Break space present in the file (U+00a0) which is now
removed with a regular space.

Change-Id: I9e7270c2236dfea7716d3efb787459ea947c2a17
(cherry picked from commit 555ec6abb770cf403b135fcc8673edb60a2f3912)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/884218/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-rgw-keystone-setup.yml'],1,11d8a0652f3b9f6638e26b85ce98de451815d6af,," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}"," default((openstack_service_setup_host | default('localhost') == 'localhost') | ternary(ansible_playbook_python, ansible_facts['python']['executable'])) }}",1,1
openstack%2Fopenstack-ansible~884715,openstack/openstack-ansible,stable/2023.1,Idcf6456d22d1f643aa73b687c5adac2e72704e1b,Update .gitreview for stable/2023.1,MERGED,2023-05-30 15:34:41.000000000,2023-05-30 18:59:43.000000000,2023-05-30 18:58:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-30 15:34:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b6161c687092b4275fad9d6743f147ec4e28be34', 'message': 'Update .gitreview for stable/2023.1\n\nChange-Id: Idcf6456d22d1f643aa73b687c5adac2e72704e1b\n'}]",0,884715,b6161c687092b4275fad9d6743f147ec4e28be34,7,2,1,22816,,,0,"Update .gitreview for stable/2023.1

Change-Id: Idcf6456d22d1f643aa73b687c5adac2e72704e1b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/884715/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b6161c687092b4275fad9d6743f147ec4e28be34,create-2023.1,defaultbranch=stable/2023.1,,1,1
openstack%2Fdesignate~884347,openstack/designate,master,I235ac441456016c9bd9caf04637ec633812dc007,Remove unused find_zone_share code,MERGED,2023-05-29 03:19:03.000000000,2023-05-30 18:45:10.000000000,2023-05-30 18:44:08.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 03:19:03.000000000', 'files': ['designate/storage/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/9620686529b38ff6c862f42c4183d035ea3156bf', 'message': 'Remove unused find_zone_share code\n\nChange-Id: I235ac441456016c9bd9caf04637ec633812dc007\n'}]",1,884347,9620686529b38ff6c862f42c4183d035ea3156bf,7,2,1,22623,,,0,"Remove unused find_zone_share code

Change-Id: I235ac441456016c9bd9caf04637ec633812dc007
",git fetch https://review.opendev.org/openstack/designate refs/changes/47/884347/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/storage/sqlalchemy/__init__.py'],1,9620686529b38ff6c862f42c4183d035ea3156bf,remove_find_zone_share,," def _find_zone_share(self, context, zone): criterion = { ""target_project_id"": context.project_id, ""zone_id"": zone.id } try: return self._find( context, tables.shared_zones, objects.SharedZone, objects.SharedZoneList, exceptions.SharedZoneNotFound, criterion, one=True ) except exceptions.SharedZoneNotFound: return None ",0,16
openstack%2Fkayobe~884245,openstack/kayobe,stable/wallaby,I000ae473bb759e19b48ecefdbf5d5dc19c833088,Show an error when *_bridge_ports is not a list,MERGED,2023-05-24 16:03:29.000000000,2023-05-30 18:41:30.000000000,2023-05-30 18:40:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-24 16:03:29.000000000', 'files': ['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8fb45c0aa856a8f12023f4205651632e20c8e282', 'message': 'Show an error when *_bridge_ports is not a list\n\nCloses-Bug: #2020378\nChange-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)\n'}]",0,884245,8fb45c0aa856a8f12023f4205651632e20c8e282,8,4,1,14200,,,0,"Show an error when *_bridge_ports is not a list

Closes-Bug: #2020378
Change-Id: I000ae473bb759e19b48ecefdbf5d5dc19c833088
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit 9b58320f6b40de3c33bee179d97dd0bf5bf61986)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/45/884245/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/plugins/filter/test_networks.py', 'kayobe/plugins/filter/networks.py']",2,8fb45c0aa856a8f12023f4205651632e20c8e282,fix-bad-bridge-ports," ports = net_attr(context, name, 'bridge_ports', inventory_hostname) if ports and not isinstance(ports, list): raise errors.AnsibleFilterError(""Bridge ports for network '%s' should"" "" be a list"", name) return ports"," return net_attr(context, name, 'bridge_ports', inventory_hostname)",11,1
openstack%2Fcharm-keystone~884686,openstack/charm-keystone,stable/yoga,Id740e9666d1ed10dfcb587a0daf2d6565ff7baec,charm-helpers sync,MERGED,2023-05-30 12:56:50.000000000,2023-05-30 18:40:11.000000000,2023-05-30 18:40:11.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:56:50.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/62fa41d4ae92d28a1631374482b9670364e9a1e9', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: Id740e9666d1ed10dfcb587a0daf2d6565ff7baec\n'}]",2,884686,62fa41d4ae92d28a1631374482b9670364e9a1e9,11,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: Id740e9666d1ed10dfcb587a0daf2d6565ff7baec
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/86/884686/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/ubuntu.py']",3,62fa41d4ae92d28a1631374482b9670364e9a1e9,bug/2015103," # OVN 'focal-ovn-22.03': 'focal-updates/ovn-22.03', 'focal-ovn-22.03/proposed': 'focal-proposed/ovn-22.03', (r""^cloud:(.*)-(ovn-.*)$"", _add_cloud_distro_check),def __write_sources_list_d_actual_pocket(file, actual_pocket): with open('/etc/apt/sources.list.d/{}'.format(file), 'w') as apt: apt.write(CLOUD_ARCHIVE.format(actual_pocket)) __write_sources_list_d_actual_pocket( 'cloud-archive{}.list'.format('' if 'ovn' not in pocket else '-ovn'), actual_pocket)"," with open('/etc/apt/sources.list.d/cloud-archive.list', 'w') as apt: apt.write(CLOUD_ARCHIVE.format(actual_pocket))",21,3
openstack%2Fcharm-cinder-ceph-k8s~884639,openstack/charm-cinder-ceph-k8s,main,I80e107a2649560c89952547a438da2f7a6634f38,Switch to Antelope,MERGED,2023-05-29 18:25:50.000000000,2023-05-30 18:39:28.000000000,2023-05-30 18:12:27.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 18:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/9b4d9cd6147da4ab29c0254667283aa9661a87e3', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I80e107a2649560c89952547a438da2f7a6634f38\n'}, {'number': 2, 'created': '2023-05-30 07:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/1643cab80e46b51ac8c142961e4a21205e575214', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I80e107a2649560c89952547a438da2f7a6634f38\n'}, {'number': 3, 'created': '2023-05-30 17:00:08.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'lib/charms/NOTE.txt', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/cd9a0b553f564ca0fdf9969f6fe7278cb6b91f1c', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I80e107a2649560c89952547a438da2f7a6634f38\n'}]",4,884639,cd9a0b553f564ca0fdf9969f6fe7278cb6b91f1c,21,3,3,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s).

Change-Id: I80e107a2649560c89952547a438da2f7a6634f38
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/39/884639/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",5,9b4d9cd6147da4ab29c0254667283aa9661a87e3,2023.1,The charm by default uses `ghcr.io/openstack-snaps/cinder-volume:2023.1`,The charm by default uses `docker.io/kolla/ubuntu-binary-cinder-ceph:yoga` image.,7,8
openstack%2Fcharm-keystone~884685,openstack/charm-keystone,stable/zed,I8a473197146d9631433a84aa6dde83a74c514607,charm-helpers sync,MERGED,2023-05-30 12:51:19.000000000,2023-05-30 18:34:39.000000000,2023-05-30 18:34:39.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:51:19.000000000', 'files': ['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/c8aca2e454abacce1a74b121087f5ab05637aebd', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get the bug fix when keystone leader fails\nto connect to itself while running identity-service-relation-changed\nhook.\n\nCloses-Bug: #2015103\nChange-Id: I8a473197146d9631433a84aa6dde83a74c514607\n'}]",2,884685,c8aca2e454abacce1a74b121087f5ab05637aebd,9,4,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get the bug fix when keystone leader fails
to connect to itself while running identity-service-relation-changed
hook.

Closes-Bug: #2015103
Change-Id: I8a473197146d9631433a84aa6dde83a74c514607
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/85/884685/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/context.py']",2,c8aca2e454abacce1a74b121087f5ab05637aebd,bug/2015103," adata = {} # if no app data bag presented - fallback # to legacy unit based relation data rdata = relation_get(rid=rid, unit=unit) adata[key.replace('-', '_')] = value.strip('v') else: adata[key.replace('-', '_')] = value adata[target] = _adata.get(source) # Now preferentially get data from the app data bag, but if # it's not available, get it from the legacy based relation # data. def _resolve(key): return adata.get(key) or rdata.get(key) serv_host = _resolve('service_host') auth_host = _resolve('auth_host') int_host = _resolve('internal_host',) svc_protocol = _resolve('service_protocol') or 'http' auth_protocol = _resolve('auth_protocol') or 'http' int_protocol = _resolve('internal_protocol') or 'http' api_version = _resolve('api_version') or '2.0' ctxt.update({'service_port': _resolve('service_port'), 'auth_port': _resolve('auth_port'), 'internal_port': _resolve('internal_port'), 'admin_tenant_name': _resolve('service_tenant'), 'admin_user': _resolve('service_username'), 'admin_password': _resolve('service_password'), service_type = _resolve('service_type') if service_type: ctxt['service_type'] = service_type 'admin_domain_name': _resolve('service_domain'), 'service_project_id': _resolve('service_tenant_id'), 'service_domain_id': _resolve('service_domain_id')}) public_auth_url = _resolve('public_auth_url') # if 'public_auth_url' in rdata: if public_auth_url: ctxt.update({ 'public_auth_url': public_auth_url, internal_auth_url = _resolve('internal_auth_url') # if 'internal_auth_url' in rdata: if internal_auth_url: ctxt.update({ 'internal_auth_url': internal_auth_url, ctxt['admin_tenant_id'] = _resolve('service_tenant_id') ctxt['admin_domain_id'] = _resolve('service_domain_id')"," rdata[key.replace('-', '_')] = value.strip('v') else: rdata[key.replace('-', '_')] = value rdata[target] = _adata.get(source) else: # No app data bag presented - fallback # to legacy unit based relation data rdata = relation_get(rid=rid, unit=unit) serv_host = rdata.get('service_host') auth_host = rdata.get('auth_host') int_host = rdata.get('internal_host') svc_protocol = rdata.get('service_protocol') or 'http' auth_protocol = rdata.get('auth_protocol') or 'http' int_protocol = rdata.get('internal_protocol') or 'http' api_version = rdata.get('api_version') or '2.0' ctxt.update({'service_port': rdata.get('service_port'), 'auth_port': rdata.get('auth_port'), 'internal_port': rdata.get('internal_port'), 'admin_tenant_name': rdata.get('service_tenant'), 'admin_user': rdata.get('service_username'), 'admin_password': rdata.get('service_password'), if rdata.get('service_type'): ctxt['service_type'] = rdata.get('service_type') 'admin_domain_name': rdata.get('service_domain'), 'service_project_id': rdata.get('service_tenant_id'), 'service_domain_id': rdata.get('service_domain_id')}) if 'public_auth_url' in rdata: ctxt.update({ 'public_auth_url': rdata.get('public_auth_url'), if 'internal_auth_url' in rdata: ctxt.update({ 'internal_auth_url': rdata.get('internal_auth_url'), ctxt['admin_tenant_id'] = rdata.get('service_tenant_id') ctxt['admin_domain_id'] = rdata.get('service_domain_id')",50,31
openstack%2Frequirements~884651,openstack/requirements,master,I0bbdd231b564778f7ef3841ea09b35718f81ad6d,update constraint for glance_store to new release 4.5.0,MERGED,2023-05-30 07:33:41.000000000,2023-05-30 17:27:46.000000000,2023-05-30 17:26:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 07:33:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/46df65ec321a064d949bc98ab0dcc4b55b1edf9a', 'message': 'update constraint for glance_store to new release 4.5.0\n\nmeta: version: 4.5.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Change-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Dan Smith <dms@danplanet.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>\nChange-Id: I0bbdd231b564778f7ef3841ea09b35718f81ad6d\n'}]",0,884651,46df65ec321a064d949bc98ab0dcc4b55b1edf9a,7,2,1,11131,,,0,"update constraint for glance_store to new release 4.5.0

meta: version: 4.5.0
meta: diff-start: -
meta: series: bobcat
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Change-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Dan Smith <dms@danplanet.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Pranali Deore <pdeore@redhat.com>
Change-Id: I0bbdd231b564778f7ef3841ea09b35718f81ad6d
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/884651/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,46df65ec321a064d949bc98ab0dcc4b55b1edf9a,new-release,glance-store===4.5.0,glance-store===4.3.1,1,1
openstack%2Frequirements~884684,openstack/requirements,stable/yoga,I3987deefbb71d16819b9001d74fa6703f0a28be7,Bump diskimage-builder to latest version,MERGED,2023-05-30 12:42:32.000000000,2023-05-30 17:27:13.000000000,2023-05-30 17:27:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 12:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c46add26a7a911e0fb19f583c959cb5dbbcc41a5', 'message': 'Bump diskimage-builder to latest version\n\nBumps diskimage-builder from 3.24.0 to 3.30.0 in order to allow the\nLVM element to work on Ubuuntu Jammy (22.04)\n\nChange-Id: I3987deefbb71d16819b9001d74fa6703f0a28be7\n'}, {'number': 2, 'created': '2023-05-30 13:37:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/263b5796e40512300e4379f47b91944f39938c9d', 'message': 'Bump diskimage-builder to latest version\n\nBumps diskimage-builder from 3.24.0 to 3.30.0 in order to allow the\nLVM element to work on Ubuntu Jammy (22.04)\n\nChange-Id: I3987deefbb71d16819b9001d74fa6703f0a28be7\n'}]",0,884684,263b5796e40512300e4379f47b91944f39938c9d,9,2,2,35511,,,0,"Bump diskimage-builder to latest version

Bumps diskimage-builder from 3.24.0 to 3.30.0 in order to allow the
LVM element to work on Ubuntu Jammy (22.04)

Change-Id: I3987deefbb71d16819b9001d74fa6703f0a28be7
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/884684/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c46add26a7a911e0fb19f583c959cb5dbbcc41a5,,diskimage-builder===3.30.0,diskimage-builder===3.24.0,1,1
openstack%2Fdevstack~884562,openstack/devstack,stable/stein,Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7,CI: drop nova-cells-v1 job,MERGED,2023-05-27 07:44:59.000000000,2023-05-30 17:26:49.000000000,2023-05-30 17:24:34.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-27 07:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f35348f9bf7584b4832c080e1ee3cb6dbb2297e3', 'message': 'CI: drop nova-cells-v1 job\n\nThis job no longer exists, drop it from zuul config to avoid errors.\n\nChange-Id: Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7\n'}, {'number': 2, 'created': '2023-05-27 10:43:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/3021397dc82f05d1512065effd6dc908aa6c4838', 'message': 'CI: drop nova-cells-v1 job\n\nThis job no longer exists, drop it from zuul config to avoid errors.\n\nSince some other jobs have unrelated failures, make them non-voting in\norder to unblock this patch.\n\nChange-Id: Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7\n'}]",0,884562,3021397dc82f05d1512065effd6dc908aa6c4838,11,4,2,13252,,,0,"CI: drop nova-cells-v1 job

This job no longer exists, drop it from zuul config to avoid errors.

Since some other jobs have unrelated failures, make them non-voting in
order to unblock this patch.

Change-Id: Ie4cbe2e52adca03fb6064c064e0573ec2b234fd7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/884562/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f35348f9bf7584b4832c080e1ee3cb6dbb2297e3,zuul-config-errors,, - nova-cells-v1: irrelevant-files: - ^.*\.rst$ - ^doc/.*$,0,4
openstack%2Fneutron~882960,openstack/neutron,stable/2023.1,Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005,[S-RBAC] Fix new policies for FIP PFs APIs,MERGED,2023-05-11 14:59:21.000000000,2023-05-30 17:25:39.000000000,2023-05-30 17:24:27.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 14:59:21.000000000', 'files': ['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/812526a2797770e4febe47d1547f1b383d772ffb', 'message': ""[S-RBAC] Fix new policies for FIP PFs APIs\n\nDuring transition to the new secure RBAC API policies, we made mistake\nwith policies for FIP PFs by defining them to be available for\nADMIN_OR_PROJECT_MEMBER/READER or FIP owner.\nFirst, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs\ndon't have tenant_id attribute at all and belongs to the owner of FIP always.\nSecond issue was that any FIP owner, even with just READER role could possibly\ne.g. create port forwarding.\n\nTo fix that, this patch changes those API policies to new rules:\nADMIN_OR_PARENT_OWNER_READER\nADMIN_OR_PARENT_OWNER_MEMBER\n\nConflicts:\n    neutron/conf/policies/floatingip_port_forwarding.py\n\nCloses-Bug: #2018989\nChange-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005\n(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)\n""}]",2,882960,812526a2797770e4febe47d1547f1b383d772ffb,12,3,1,16688,,,0,"[S-RBAC] Fix new policies for FIP PFs APIs

During transition to the new secure RBAC API policies, we made mistake
with policies for FIP PFs by defining them to be available for
ADMIN_OR_PROJECT_MEMBER/READER or FIP owner.
First, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs
don't have tenant_id attribute at all and belongs to the owner of FIP always.
Second issue was that any FIP owner, even with just READER role could possibly
e.g. create port forwarding.

To fix that, this patch changes those API policies to new rules:
ADMIN_OR_PARENT_OWNER_READER
ADMIN_OR_PARENT_OWNER_MEMBER

Conflicts:
    neutron/conf/policies/floatingip_port_forwarding.py

Closes-Bug: #2018989
Change-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005
(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/882960/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py']",2,812526a2797770e4febe47d1547f1b383d772ffb,bug/2018989," 'tenant_id': self.project_id, self.alt_fip = { 'id': uuidutils.generate_uuid(), 'tenant_id': self.alt_project_id, 'project_id': self.alt_project_id} 'floatingip_id': self.alt_fip['id'], 'ext_parent_floatingip_id': self.alt_fip['id']} with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)"," 'project_id': self.project_id, 'project_id': self.alt_project_id, 'floatingip_id': self.fip['id'], 'ext_parent_floatingip_id': self.fip['id']} self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)",209,154
openstack%2Fdevstack~864338,openstack/devstack,stable/rocky,Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d,[stable-only] CI: Remove broken jobs,MERGED,2022-11-12 17:01:36.000000000,2023-05-30 17:24:31.000000000,2023-05-30 17:24:31.000000000,"[{'_account_id': 10342}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-12 17:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/05356d70d44cb8bb0f810f0ed4c69b497fe830b5', 'message': '[stable-only] CI: Remove Ironic test; branch EOL\n\nIronic Rocky is EOL, remove the job.\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}, {'number': 2, 'created': '2022-11-14 15:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0bf26a97905937f0de49d85ded9220bfc78f9527', 'message': '[stable-only] CI: Remove Ironic test; branch EOL\n\nIronic Rocky is EOL, remove the job.\nnova-cells-v1 job is no longer defined as well\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}, {'number': 3, 'created': '2023-05-27 07:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e94f0a063a1ff3dcaa6ee2a6bb0d8cbf7bda5cd1', 'message': '[stable-only] CI: Remove broken jobs\n\nRemove platform jobs.\nIronic Rocky is EOL, remove the job.\nnova-cells-v1 job is no longer defined as well\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}, {'number': 4, 'created': '2023-05-27 11:02:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6e50bc78749c944f2a8598c6129605a2820ecebf', 'message': '[stable-only] CI: Remove broken jobs\n\nRemove platform jobs.\nIronic Rocky is EOL, remove the job.\nnova-cells-v1 job is no longer defined as well\n\nMake other failing jobs non-voting so that this fix can pass.\n\nChange-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d\n'}]",4,864338,6e50bc78749c944f2a8598c6129605a2820ecebf,16,4,4,10342,,,0,"[stable-only] CI: Remove broken jobs

Remove platform jobs.
Ironic Rocky is EOL, remove the job.
nova-cells-v1 job is no longer defined as well

Make other failing jobs non-voting so that this fix can pass.

Change-Id: Icdaaf8e6ba74e0d5f7da03a53860331bb9358e8d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/864338/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,05356d70d44cb8bb0f810f0ed4c69b497fe830b5,,, - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false,0,2
openstack%2Fneutron~870621,openstack/neutron,master,If64c967b89099946165bfaf66247def4881af832,[OVN] Remove backwards compatibility with OVN < v20.09,MERGED,2023-01-16 16:01:46.000000000,2023-05-30 17:22:18.000000000,2023-05-29 19:16:09.000000000,"[{'_account_id': 6773}, {'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-01-16 16:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/51f4ac48035cb04e18c49dc776ecd132e4a16d3f', 'message': 'WIP - [OVN] Remove backwards compatibility with OVN < v20.09\n\nTODO: sanity check script to check the OVN version\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 2, 'created': '2023-01-16 16:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/444011319645045276a8f9def54dce9f5db289cb', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 3, 'created': '2023-01-17 10:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1cc3da1307bb1cfd93987c727b06baa3ec0e53c', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 4, 'created': '2023-01-18 11:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/15ae90769067a16782fc8aa89679962e0f9df78b', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 5, 'created': '2023-03-24 14:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7c511f0fb4f3fc8eed33194c0bb3f4e6013cf74', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 6, 'created': '2023-03-24 16:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/52e2a6498aa6c4903bcce8be7480a9f932e6c4be', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 7, 'created': '2023-04-17 12:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64d2acaf575a6cee8999c8a9f8fbd89a9193a59d', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 8, 'created': '2023-04-25 08:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d3e9664b4edf57fb5a93fcfffd60199600421c8', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}, {'number': 9, 'created': '2023-05-08 08:16:53.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-nb.ovsschema', 'neutron/tests/functional/base.py', 'neutron/cmd/sanity_check.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/cmd/sanity/checks.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/ovn-support-chassis_private-35192565e9ee2a00.yaml', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/schemas/ovn-sb.ovsschema', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be4e150de98506b080c3b9a3f324324821e4666e', 'message': '[OVN] Remove backwards compatibility with OVN < v20.09\n\nThis patch removes the compatibility with OVN under v20.09. That\nimplies the OVN Southbound definition has ""Chassis_Private"" table.\nAny previous check is removed from the code.\n\nThis patch also adds a sanity check, testing that the OVN Southbound\ndatabase definition is greater or equal to 2.9.0 [1].\n\nThe testing OVN NB and SB schemas are updated to the files contained in\nOVN v22.09. The new testing NB schema version is 6.3.9; the new testing\nSB schema version is 20.25.0.\n\n[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043\n\nCloses-Bug: #2002839\nChange-Id: If64c967b89099946165bfaf66247def4881af832\n'}]",23,870621,be4e150de98506b080c3b9a3f324324821e4666e,75,7,9,16688,,,0,"[OVN] Remove backwards compatibility with OVN < v20.09

This patch removes the compatibility with OVN under v20.09. That
implies the OVN Southbound definition has ""Chassis_Private"" table.
Any previous check is removed from the code.

This patch also adds a sanity check, testing that the OVN Southbound
database definition is greater or equal to 2.9.0 [1].

The testing OVN NB and SB schemas are updated to the files contained in
OVN v22.09. The new testing NB schema version is 6.3.9; the new testing
SB schema version is 20.25.0.

[1]https://github.com/ovn-org/ovn/commit/4adc10f58127e45b5883f2e7cb1c702720b95043

Closes-Bug: #2002839
Change-Id: If64c967b89099946165bfaf66247def4881af832
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/870621/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",9,51f4ac48035cb04e18c49dc776ecd132e4a16d3f,bug/2002839, self.agent_chassis_table = 'Chassis_Private', if impl_idl_ovn.OvsdbSbOvnIdl.schema_has_table('Chassis_Private'): self.agent_chassis_table = 'Chassis_Private' else: self.agent_chassis_table = 'Chassis',34,102
openstack%2Fneutron~882959,openstack/neutron,stable/2023.1,I8281bd8a902bcaba1187565e9610d598e4ebc254,[S-RBAC] Get QoS rule types API available for READER role,MERGED,2023-05-11 14:57:30.000000000,2023-05-30 17:20:48.000000000,2023-05-30 17:19:34.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 14:57:30.000000000', 'files': ['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c82eee0fd616b06cd97dace13d59c792755fc72f', 'message': '[S-RBAC] Get QoS rule types API available for READER role\n\nAPI call ""get_rule_types"" should be available in new policies for\nall users with READER role as this is kind of the same what was in the\nold policies (ANY).\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818\n\nCloses-Bug: #2018585\nChange-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254\n(cherry picked from commit 01de74dedfdc306b0331aae4f970f0c5bca5cb48)\n'}]",4,882959,c82eee0fd616b06cd97dace13d59c792755fc72f,20,4,1,16688,,,0,"[S-RBAC] Get QoS rule types API available for READER role

API call ""get_rule_types"" should be available in new policies for
all users with READER role as this is kind of the same what was in the
old policies (ANY).

Depends-On: https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/882818

Closes-Bug: #2018585
Change-Id: I8281bd8a902bcaba1187565e9610d598e4ebc254
(cherry picked from commit 01de74dedfdc306b0331aae4f970f0c5bca5cb48)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/882959/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/qos.py', 'neutron/tests/unit/conf/policies/test_qos.py']",2,c82eee0fd616b06cd97dace13d59c792755fc72f,bug/2018585,," def test_get_rule_type(self): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_rule_type', self.target) ",5,7
openstack%2Fopenstack-ansible-rabbitmq_server~884535,openstack/openstack-ansible-rabbitmq_server,stable/2023.1,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:52:15.000000000,2023-05-30 17:17:44.000000000,2023-05-30 17:16:30.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:52:15.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/220a90cfda02fdd5a2e310bb25a6b3e9e377dd11', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",0,884535,220a90cfda02fdd5a2e310bb25a6b3e9e377dd11,10,3,1,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/35/884535/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,220a90cfda02fdd5a2e310bb25a6b3e9e377dd11,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,44,72
openstack%2Fopenstack-ansible-rabbitmq_server~884537,openstack/openstack-ansible-rabbitmq_server,stable/xena,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:54:04.000000000,2023-05-30 17:17:41.000000000,2023-05-30 17:16:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0614eff8060a42e8418d7181733f0a6a5ce9df3b', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}, {'number': 2, 'created': '2023-05-30 01:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/2f42f013c09c42ab4b24b670faee386a8cf1d215', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}, {'number': 3, 'created': '2023-05-30 03:05:24.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ba04f4ea5c09701ea4757235f9b2442c7f544907', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",1,884537,ba04f4ea5c09701ea4757235f9b2442c7f544907,14,3,3,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/37/884537/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,0614eff8060a42e8418d7181733f0a6a5ce9df3b,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,55,70
openstack%2Fopenstack-ansible-rabbitmq_server~884536,openstack/openstack-ansible-rabbitmq_server,stable/zed,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:53:10.000000000,2023-05-30 17:17:41.000000000,2023-05-30 17:16:29.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:53:10.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/9da48d3108fbdc205e76f955f1c3b25a71d2a476', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",1,884536,9da48d3108fbdc205e76f955f1c3b25a71d2a476,12,3,1,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/36/884536/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,9da48d3108fbdc205e76f955f1c3b25a71d2a476,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,44,72
openstack%2Fopenstack-ansible-rabbitmq_server~884538,openstack/openstack-ansible-rabbitmq_server,stable/yoga,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-30 01:57:11.000000000,2023-05-30 17:17:33.000000000,2023-05-30 17:16:27.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-30 01:57:11.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/db2f21295e4eb270edfbe94a0fc51f5a694dbb6f', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)\n'}]",0,884538,db2f21295e4eb270edfbe94a0fc51f5a694dbb6f,10,3,1,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
(cherry picked from commit ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/38/884538/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",5,db2f21295e4eb270edfbe94a0fc51f5a694dbb6f,fix/rabbitmq-packagecloud-deprecation,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize a community mirror of CloudSmith repositories for rabbitmq and erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,44,72
openstack%2Fcharm-ironic-api~884251,openstack/charm-ironic-api,master,I69182db716836624de98614cc07ef1f2f04e53f5,Migrate to section-keystone-authtoken-mitaka,ABANDONED,2023-05-24 16:33:12.000000000,2023-05-30 17:12:07.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 16:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/0f3094f85a8e7a6ee1219214044491a04ec326f1', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 2, 'created': '2023-05-24 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/d1d164d52338059e491e8865140bbb33dc83f53f', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 3, 'created': '2023-05-24 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/6984799f2902670861a74e6bc0b1913dd854d61b', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 4, 'created': '2023-05-24 19:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/d3a5e2eb31e96fd5f9054a512d24764ebb06a868', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 5, 'created': '2023-05-25 14:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/e9e8dbc06147e46abd54c1b99ba88c4e1ed6413e', 'message': 'Migrate to keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 6, 'created': '2023-05-25 18:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/ddee48f51dc6d58c64261144e9edbd62799ddd87', 'message': 'Migrate to section-keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}, {'number': 7, 'created': '2023-05-30 17:07:36.000000000', 'files': ['src/templates/train/ironic.conf'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/7baf508ff4a0767db0c6b85cb022f0744b67f34f', 'message': 'Migrate to section-keystone-authtoken-mitaka\n\nChange-Id: I69182db716836624de98614cc07ef1f2f04e53f5\n'}]",1,884251,7baf508ff4a0767db0c6b85cb022f0744b67f34f,20,2,7,2424,,,0,"Migrate to section-keystone-authtoken-mitaka

Change-Id: I69182db716836624de98614cc07ef1f2f04e53f5
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/51/884251/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/train/ironic.conf'],1,0f3094f85a8e7a6ee1219214044491a04ec326f1,bug/1992840,"{% include ""parts/keystone-authtoken-mitaka"" %}","{% include ""parts/keystone-authtoken"" %}",1,1
openstack%2Fcharm-ironic-api~884266,openstack/charm-ironic-api,master,Ie634d7b8471ca3ddcd4fd34e44d17693613bc800,Pin pyaml<23.0.0,ABANDONED,2023-05-24 18:20:46.000000000,2023-05-30 17:08:04.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/00fcf125dc85503855eeea0ec082923eb6f09f0d', 'message': 'Pin pyaml<23.5.9\n\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}, {'number': 2, 'created': '2023-05-24 19:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/c6d71caa35c36f54d0bb97e430f6c59f30c7fec7', 'message': 'Pin pyaml<23.5.9\n\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}, {'number': 3, 'created': '2023-05-24 19:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/1851c693c3848949d1ef9f575b54fe8c6c34ae0d', 'message': 'Pin pyaml<23.0.0\n\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}, {'number': 4, 'created': '2023-05-25 14:09:05.000000000', 'files': ['src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/80d216b35480ee2743db9251091431a77f1a5f6a', 'message': 'Pin pyaml<23.0.0\n\nCloses-Bug: #2020788\nChange-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800\n'}]",2,884266,80d216b35480ee2743db9251091431a77f1a5f6a,16,2,4,2424,,,0,"Pin pyaml<23.0.0

Closes-Bug: #2020788
Change-Id: Ie634d7b8471ca3ddcd4fd34e44d17693613bc800
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/66/884266/1 && git format-patch -1 --stdout FETCH_HEAD,['src/wheelhouse.txt'],1,00fcf125dc85503855eeea0ec082923eb6f09f0d,bug/1992840,"# pyaml-23.5.9 migrated to pyproject.toml and it gets broken during the # installation with this version of setuptools (pinned above), so this pinning # can be dropped when setuptools gets unpinned. # # Discarding file:///.../pyaml-23.5.9.tar.gz: Requested unknown from file:///.../pyaml-23.5.9.tar.gz has inconsistent name: filename has 'pyaml', but metadata has 'unknown' # ERROR: Could not find a version that satisfies the requirement pyaml==23.5.9 (from versions: 23.5.9) # pyaml<23.5.9 ",,9,0
openstack%2Fcinder-tempest-plugin~879209,openstack/cinder-tempest-plugin,master,I653134029ea3dbff9e765fc7cbaff3542d2ec3f4,Add note about MYSQL_REDUCE_MEMORY,NEW,2023-03-31 21:19:14.000000000,2023-05-30 16:53:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-03-31 21:19:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2e7d3f031daf32f5d84df2df6b9269c7eca25aa1', 'message': ""Add note about MYSQL_REDUCE_MEMORY\n\nAdded a note to the two CI jobs that increase host memory about\na recently added devstack option [0] so that we don't forget about\nit.\n\n[0] I7b223391d3de\n\nChange-Id: I653134029ea3dbff9e765fc7cbaff3542d2ec3f4\n""}]",2,879209,2e7d3f031daf32f5d84df2df6b9269c7eca25aa1,5,2,1,5314,,,0,"Add note about MYSQL_REDUCE_MEMORY

Added a note to the two CI jobs that increase host memory about
a recently added devstack option [0] so that we don't forget about
it.

[0] I7b223391d3de

Change-Id: I653134029ea3dbff9e765fc7cbaff3542d2ec3f4
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/09/879209/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2e7d3f031daf32f5d84df2df6b9269c7eca25aa1,mem-usage-note," # NOTE: if jobs are having memory problems, may want # to turn this on (currently defaults to false): # devstack_localrc: # MYSQL_REDUCE_MEMORY: true # NOTE: if jobs are having memory problems, may want # to turn this on (currently defaults to false): # devstack_localrc: # MYSQL_REDUCE_MEMORY: true",,8,0
openstack%2Fneutron~883913,openstack/neutron,stable/wallaby,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-23 13:48:04.000000000,2023-05-30 16:52:47.000000000,2023-05-30 16:51:33.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30772}]","[{'number': 1, 'created': '2023-05-23 13:48:04.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfe6d8b4b4cd1c3b14f152b6f7c603ed0c485175', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",2,883913,dfe6d8b4b4cd1c3b14f152b6f7c603ed0c485175,21,4,1,21798,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/883913/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,dfe6d8b4b4cd1c3b14f152b6f7c603ed0c485175,bug/2016704-stable/wallaby,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Freleases~883955,openstack/releases,master,I4a43f93b50083d61de3ac57b06e1c4c43e417dac,Release tooz 4.1.0,MERGED,2023-05-23 16:58:26.000000000,2023-05-30 16:40:35.000000000,2023-05-30 16:40:35.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-05-23 16:58:26.000000000', 'files': ['deliverables/_independent/tooz.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b38788f1f81306ccf0a9b91791f355fc776033c7', 'message': 'Release tooz 4.1.0\n\ntooz has re-added the python3.8 support\n- https://review.opendev.org/c/openstack/tooz/+/882203\n\nReleasing the new version 4.1.0\n\nChange-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac\n'}]",1,883955,b38788f1f81306ccf0a9b91791f355fc776033c7,8,4,1,8556,,,0,"Release tooz 4.1.0

tooz has re-added the python3.8 support
- https://review.opendev.org/c/openstack/tooz/+/882203

Releasing the new version 4.1.0

Change-Id: I4a43f93b50083d61de3ac57b06e1c4c43e417dac
",git fetch https://review.opendev.org/openstack/releases refs/changes/55/883955/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/tooz.yaml'],1,b38788f1f81306ccf0a9b91791f355fc776033c7,, - version: 4.1.0 projects: - repo: openstack/tooz hash: d5bf20cbcc3647c08025104d559102f44e30bd15,,4,0
openstack%2Fbifrost~874518,openstack/bifrost,master,Ie7adc14d27ef59df99871d4884adbd2bcac4dc78,remove unused variables,MERGED,2023-02-20 23:05:23.000000000,2023-05-30 16:33:15.000000000,2023-05-30 16:31:11.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 25600}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-02-20 23:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4d3da8b8b6b5cb798d8cf2209cd45b9c3e893472', 'message': ""remove unused variables\n\ninit_dest_dir and virt_group don't seem to get used in this role.\n\nChange-Id: Ie7adc14d27ef59df99871d4884adbd2bcac4dc78\n""}, {'number': 2, 'created': '2023-02-28 06:45:53.000000000', 'files': ['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-uwsgi-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-uwsgi-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ec83787c7f11cef79f5504b187b3cdf68ea64ac3', 'message': ""remove unused variables\n\ninit_dest_dir and virt_group don't seem to get used in this role.\n\nrename unused init_dest_path to init_dest_dir in uwsgi-install, and\nmove trailing '/' from variable to where it gets used. It's just a\nlittle easier to read with a familiar separator-character.\n\nChange-Id: Ie7adc14d27ef59df99871d4884adbd2bcac4dc78\n""}]",3,874518,ec83787c7f11cef79f5504b187b3cdf68ea64ac3,21,5,2,25600,,,0,"remove unused variables

init_dest_dir and virt_group don't seem to get used in this role.

rename unused init_dest_path to init_dest_dir in uwsgi-install, and
move trailing '/' from variable to where it gets used. It's just a
little easier to read with a familiar separator-character.

Change-Id: Ie7adc14d27ef59df99871d4884adbd2bcac4dc78
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/18/874518/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-keystone-install/defaults/required_defaults_Ubuntu.yml']",3,4d3da8b8b6b5cb798d8cf2209cd45b9c3e893472,ironic-week-prio,,init_dest_dir: /lib/systemd/system/,0,4
openstack%2Fopenstack-ansible-os_nova~884381,openstack/openstack-ansible-os_nova,stable/yoga,Ic6f2606b5a478c7a891c25bd131ad351a19699bc,Install libvirt-deamon for RHEL systems,MERGED,2023-05-26 07:18:17.000000000,2023-05-30 16:33:07.000000000,2023-05-30 16:32:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-26 07:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6b9c00b6f9becd5640ee440a5338f8368c7e988e', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)\n'}, {'number': 2, 'created': '2023-05-30 09:51:51.000000000', 'files': ['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/7039c169f648b6977c6a24bb1f886926a10ce702', 'message': 'Install libvirt-deamon for RHEL systems\n\nCentOS has upgraded their libivrt to version 9.3, where libvirt-daemon\nis not installed as a dependency anymore. So we need to explicitly\nisntall this package to restore functionality.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936\n\nChange-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc\n(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)\n'}]",0,884381,7039c169f648b6977c6a24bb1f886926a10ce702,10,3,2,28619,,,0,"Install libvirt-deamon for RHEL systems

CentOS has upgraded their libivrt to version 9.3, where libvirt-daemon
is not installed as a dependency anymore. So we need to explicitly
isntall this package to restore functionality.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2209936

Change-Id: Ic6f2606b5a478c7a891c25bd131ad351a19699bc
(cherry picked from commit 47007578b164287c5bbbf425222cd8a53a37a306)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/81/884381/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'vars/redhat.yml']",2,6b9c00b6f9becd5640ee440a5338f8368c7e988e,, - libvirt-daemon,,8,0
openstack%2Fbifrost~874853,openstack/bifrost,master,I3b85788cb7603cc921ecfe00864201761e785c95,Fix yaml[octal-values] linter warnings,MERGED,2023-02-23 09:19:51.000000000,2023-05-30 16:32:24.000000000,2023-05-30 16:31:09.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-23 09:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/28d4f14f6faeb85abbe905b61b5d753dcae4f267', 'message': 'Fix yaml[octal-values] linter warnings\n\nChange-Id: I3b85788cb7603cc921ecfe00864201761e785c95\n'}, {'number': 2, 'created': '2023-03-12 22:57:47.000000000', 'files': ['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-ironic-install/tasks/prometheus_exporter_start.yml', 'playbooks/roles/bifrost-uwsgi-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_esp.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-tls/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-tls/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d65a6fe455a88bf657a58148e42297722d9dc86b', 'message': 'Fix yaml[octal-values] linter warnings\n\nChange-Id: I3b85788cb7603cc921ecfe00864201761e785c95\n'}]",1,874853,d65a6fe455a88bf657a58148e42297722d9dc86b,15,3,2,25600,,,0,"Fix yaml[octal-values] linter warnings

Change-Id: I3b85788cb7603cc921ecfe00864201761e785c95
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/874853/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', 'playbooks/roles/bifrost-ironic-install/tasks/prometheus_exporter_start.yml', 'playbooks/roles/bifrost-uwsgi-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_esp.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-tls/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-client-config/tasks/main.yml', 'playbooks/roles/bifrost-tls/tasks/main.yml']",18,28d4f14f6faeb85abbe905b61b5d753dcae4f267,linters," mode: ""0755"" mode: ""0600"" mode: ""0600"" mode: ""0644""", mode: 0755 mode: 0600 mode: 0600 mode: 0644,73,73
openstack%2Fcinder~880434,openstack/cinder,master,I7df25ebe5fada56308d0334e5ac9e5263c19c4cc,Reader user able to delete a user message,ABANDONED,2023-04-14 05:15:34.000000000,2023-05-30 16:30:34.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-14 05:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4a54d1ffbbb0637ae9c9fc65bded37961a314af', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 2, 'created': '2023-04-14 05:33:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1083b0202fc3644071a789cd11e8d110b4ad0a2a', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 3, 'created': '2023-04-14 08:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56ae48522e4b0974a0a60eb10a6325ac6a870d2a', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 4, 'created': '2023-04-14 10:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a7718b9cd0f75a0d0ff68dfa3236b0bfd519d32', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 5, 'created': '2023-04-19 06:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87e5d7ac55c99ec3331a0bca6d8c3d926f031643', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 6, 'created': '2023-04-19 07:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29cb0dc66fd81f9cedfbe243fe038a9d29d694dc', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 7, 'created': '2023-04-19 07:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d23b6d4ef028c5e37c6e7e33f1fd18ae9353908d', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 8, 'created': '2023-04-19 09:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/472e46159fa7a36fe99bbc2fe419b825c3733260', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}, {'number': 9, 'created': '2023-04-19 10:11:16.000000000', 'files': ['cinder/message/api.py', 'cinder/exception.py', 'cinder/api/v3/messages.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d85370a4bd3410d71e53a47a1b52b2f74f93f7e', 'message': 'Reader user able to delete a user message\n\nCloses-Bug: #2009818\nChange-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc\n'}]",19,880434,8d85370a4bd3410d71e53a47a1b52b2f74f93f7e,105,3,9,30615,,,0,"Reader user able to delete a user message

Closes-Bug: #2009818
Change-Id: I7df25ebe5fada56308d0334e5ac9e5263c19c4cc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/880434/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/message/api.py'],1,f4a54d1ffbbb0637ae9c9fc65bded37961a314af,bug/2009818," # We add readonly metadata if it doesn't already exist readonly = self.update_volume_admin_metadata(context.elevated(), volume, {'readonly': 'True'}, update=True)['readonly'] if readonly == 'True' and mode != 'ro': raise exception.InvalidMessageDeleteRequest(mode=mode, id) else: return self.db.message_destroy(ctx, id)"," return self.db.message_destroy(ctx, id)",10,1
openstack%2Fopenstack-ansible~710778,openstack/openstack-ansible,stable/train,Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5,DNM: Upgrade ceph to nautilus and enable msgr2,ABANDONED,2020-03-02 14:03:13.000000000,2023-05-30 16:26:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-02 14:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d77ea8a5840d2826312b1c7bdbf172db735043d9', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster.\n\nrolling_update=true deploys a temporary/transitional ceph.conf allowing you to\nenable msgr2 on mons.\nupgrade_ceph_packages=true switches from state=installed to state=latest in\none of the ceph roles\n\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 2, 'created': '2020-03-05 15:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/57b88b4ed497d1690200b7bfc5add3e331eb0f6d', 'message': 'WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade from stein to train, if you haven\'t upgraded\nceph from mimic to nautilus already, you\'ll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nProblem 1)\nthe packages get updated, but mons aren\'t getting restarted.\ntrying a different ordering of ceph-common and ceph-handlers\n\nProblem 2)\nFAILED! => {""changed"": false, ""msg"": ""initial keyring does not contain\nkeys: client.bootstrap-rbd-mirror"", ""rc"": 1}\n\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n'}, {'number': 3, 'created': '2020-03-06 06:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8f8fef210e145aa7115eb5ffd8b08acdd4f6caa4', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nWe have two upgrade-utilities, one to enable msgr2 and one to fix missing ceph\nkey for rbd-mirror. These could perhaps be in a single file called\nceph-mon-nautilus-upgrade.yml\n\nProblem 1)\nthe packages get updated, but mons aren't getting restarted.\ntrying a different ordering of ceph-common and ceph-handlers\n\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 4, 'created': '2020-04-29 08:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/426c3f2eac31945503dfe905d50a37f6e6427662', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade.sh from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded to nautilus.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nopenstack_config=false makes sure we're not applying/creating pools with\npg_autoscale_mode before require-osd-release is set to nautilus\n\nceph-nautilus-upgrade.yml fixes three things;\n 1. missing ceph key for rbd-mirror.\n 2. enables msgr2\n 3. sets require-osd-release to nautilus so openstack_config can be applied\n    to pools with pg_autoscale_mode\n\nWe should then be able to proceed with normal upgrades.\n\nProblem;\nThe packages get updated, but mons aren't getting restarted. Force notifying\nhandlers on rolling_update to see if that could work?\n\nDepends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 5, 'created': '2020-05-08 10:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8eb0863f5f415b52da0dda57013059d5b7bbdf4d', 'message': ""WIP/DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade.sh from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded to nautilus.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons. This flag will block handlers from\nrunning.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nopenstack_config=false makes sure we're not applying/creating pools with\npg_autoscale_mode before require-osd-release is set to nautilus\n\nceph-nautilus-upgrade.yml fixes five things;\n 1. restarting the mon/mgr/osd services after the rolling_update\n 2. stop and clean out old ceph-rgw service file\n 3. missing ceph key for rbd-mirror.\n 4. enables msgr2\n 5. sets require-osd-release to nautilus so openstack_config can be applied\n    to pools with pg_autoscale_mode\n\nWe should then be able to proceed with normal upgrades.\n\nProblem;\nThe ceph-rgw-install can't run until keystone has been upgraded. Also there's a\nchange in how the ceph-rados@.service is named in ceph-ansible/stable-4.0, and\nno cleanup of previous service, so the new one will fail to grab it's port\nbecause the old service holds it. The stop/cleanup of rgw will cause a\nsignificant amount of downtime, as it won't become active until\nsetup-infrastructure and setup-openstack completes.\n\nDepends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}, {'number': 6, 'created': '2020-05-19 08:23:06.000000000', 'files': ['scripts/run-upgrade.sh', 'scripts/upgrade-utilities/ceph-nautilus-upgrades.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1db441a8e382cd069ca217802c3786b468fce5e6', 'message': ""DNM: Upgrade ceph to nautilus and enable msgr2\n\nCurrently if you run-upgrade.sh from stein to train, if you haven't upgraded\nceph from mimic to nautilus already, you'll get left in a bad state running\nthe upgrade script. You need to enable msgr2 on your mons for ceph-install.yml\nto run to completion on an existing cluster. And you can only do that\nafter the mons have been upgraded to nautilus.\n\nrolling_update=true deploys a temporary/transitional ceph.conf for nautilus,\nallowing you to enable msgr2 on mons. This flag will block handlers from\nrunning.\n\nupgrade_ceph_packages=true switches from state=installed to state=latest in\nthe ceph-common role\n\nopenstack_config=false makes sure we're not applying/creating pools with\npg_autoscale_mode before require-osd-release is set to nautilus\n\nceph-nautilus-upgrade.yml fixes five things;\n 1. restarting the mon/mgr/osd services after the rolling_update\n 2. stop and clean out old ceph-rgw service file\n 3. missing ceph key for rbd-mirror.\n 4. enables msgr2\n 5. sets require-osd-release to nautilus so openstack_config can be applied\n    to pools with pg_autoscale_mode\n\nWe should then be able to proceed with normal upgrades.\n\nProblem;\nThe ceph-rgw-install can't run until keystone has been upgraded. Also there's a\nchange in how the ceph-rados@.service is named in ceph-ansible/stable-4.0, and\nno cleanup of previous service, so the new one will fail to grab it's port\nbecause the old service holds it. The stop/cleanup of rgw will cause a\nsignificant amount of downtime, as it won't become active until\nsetup-infrastructure and setup-openstack completes.\n\nDepends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561\nChange-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5\n""}]",0,710778,1db441a8e382cd069ca217802c3786b468fce5e6,15,3,6,25600,,,0,"DNM: Upgrade ceph to nautilus and enable msgr2

Currently if you run-upgrade.sh from stein to train, if you haven't upgraded
ceph from mimic to nautilus already, you'll get left in a bad state running
the upgrade script. You need to enable msgr2 on your mons for ceph-install.yml
to run to completion on an existing cluster. And you can only do that
after the mons have been upgraded to nautilus.

rolling_update=true deploys a temporary/transitional ceph.conf for nautilus,
allowing you to enable msgr2 on mons. This flag will block handlers from
running.

upgrade_ceph_packages=true switches from state=installed to state=latest in
the ceph-common role

openstack_config=false makes sure we're not applying/creating pools with
pg_autoscale_mode before require-osd-release is set to nautilus

ceph-nautilus-upgrade.yml fixes five things;
 1. restarting the mon/mgr/osd services after the rolling_update
 2. stop and clean out old ceph-rgw service file
 3. missing ceph key for rbd-mirror.
 4. enables msgr2
 5. sets require-osd-release to nautilus so openstack_config can be applied
    to pools with pg_autoscale_mode

We should then be able to proceed with normal upgrades.

Problem;
The ceph-rgw-install can't run until keystone has been upgraded. Also there's a
change in how the ceph-rados@.service is named in ceph-ansible/stable-4.0, and
no cleanup of previous service, so the new one will fail to grab it's port
because the old service holds it. The stop/cleanup of rgw will cause a
significant amount of downtime, as it won't become active until
setup-infrastructure and setup-openstack completes.

Depends-On: I3e95b7fad6eda9f689287efe16c35418a9e7e561
Change-Id: Ibe97ec0a55bcf0988bc012684cb3fc58c1f578a5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/710778/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/run-upgrade.sh', 'scripts/upgrade-utilities/ceph-mon-enable-msgr2.yml']",2,d77ea8a5840d2826312b1c7bdbf172db735043d9,,"--- - name: enable messenger v2 hosts: ceph-mon gather_facts: false user: root tasks: - name: ceph monitor command command: ceph-mon enable-msgr2"" run_once: true when: not containerized_deployment | bool ",,15,1
openstack%2Foctavia~884654,openstack/octavia,stable/2023.1,I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef,Splitting scenario jobs in 2,MERGED,2023-05-30 08:03:26.000000000,2023-05-30 16:26:24.000000000,2023-05-30 16:24:01.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-30 08:03:26.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/920dbfa5ad7d529ba0ee6ae2162fb73ddfc8ec13', 'message': ""Splitting scenario jobs in 2\n\nSplitting octavia-v2-dsvm-scenario and octavia-v2-dsvm-scenario-jobboard\nin 2 jobs.\nIt would reduce the duration of the jobs and avoid potential timeouts on\nslow hosts.\n\nOn stable branches this commit:\n- is also squashed with 721398019dfb94e89e58ec85bef0b73ff69e08af which\n  apply the same changes in the gate pipeline\n- doesn't enable the jobboard jobs\n\nChange-Id: I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef\n(cherry picked from commit 80d316f5cbcff63cb880fc294f4e1ad39973189f)\n""}]",1,884654,920dbfa5ad7d529ba0ee6ae2162fb73ddfc8ec13,8,3,1,29244,,,0,"Splitting scenario jobs in 2

Splitting octavia-v2-dsvm-scenario and octavia-v2-dsvm-scenario-jobboard
in 2 jobs.
It would reduce the duration of the jobs and avoid potential timeouts on
slow hosts.

On stable branches this commit:
- is also squashed with 721398019dfb94e89e58ec85bef0b73ff69e08af which
  apply the same changes in the gate pipeline
- doesn't enable the jobboard jobs

Change-Id: I8ef0bbca3c344a8b43f1560bc4ceef8ddec7d9ef
(cherry picked from commit 80d316f5cbcff63cb880fc294f4e1ad39973189f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/54/884654/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,920dbfa5ad7d529ba0ee6ae2162fb73ddfc8ec13,,- job: name: octavia-v2-dsvm-scenario-traffic-ops-jobboard parent: octavia-v2-dsvm-scenario-traffic-ops vars: devstack_localrc: OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD: True - job: name: octavia-v2-dsvm-scenario-non-traffic-ops-jobboard parent: octavia-v2-dsvm-scenario-non-traffic-ops vars: devstack_localrc: OCTAVIA_ENABLE_AMPHORAV2_JOBBOARD: True ,,19,2
openstack%2Fpuppet-nova~884626,openstack/puppet-nova,master,I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b,Add release note about libvirt-daemon package installation,MERGED,2023-05-29 14:10:49.000000000,2023-05-30 16:17:22.000000000,2023-05-30 16:16:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 14:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7999e04b1e21bbc10cb7ae9878ee7fb001e97c23', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n'}, {'number': 2, 'created': '2023-05-29 14:11:59.000000000', 'files': ['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/00a3b773102ff5b4fb32eaec4464aa97e31fe7c0', 'message': 'Add release note about libvirt-daemon package installation\n\nThis adds a release note about the installation of libvirt-daemon\npackage, which was added by [1].\n\n[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n\nChange-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b\n'}]",0,884626,00a3b773102ff5b4fb32eaec4464aa97e31fe7c0,9,3,2,9816,,,0,"Add release note about libvirt-daemon package installation

This adds a release note about the installation of libvirt-daemon
package, which was added by [1].

[1] I612856bfd23f980b1e94815d3b5e15e0ea39f72e

Change-Id: I92fcdf2d7938c39e13a63b1ac9a91c70b9fd656b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/26/884626/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/libvirt-daemon-1cfe1bd9f29708fe.yaml'],1,7999e04b1e21bbc10cb7ae9878ee7fb001e97c23,,--- features: - | The ``nova::compute::libvirt::services`` class now installs the ``libvirt-damon`` package explicitly in CentOS and RHEL when modular libvirt daemons are not used. This is required in recent CentOS Stream 9 because the libvirt-daemon is no longer installed automatically by package dependencies. ,,8,0
openstack%2Fpuppet-nova~884449,openstack/puppet-nova,master,I998879531dd4b5792ca9674f91b555f349ca3ca7,Stop hard-coding default of allow_resize_to_same_host,MERGED,2023-05-26 02:07:13.000000000,2023-05-30 16:16:11.000000000,2023-05-30 16:16:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 02:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/82c0ff8960f81d541cc8319858670698841c0ff2', 'message': 'Stop hard-coding default of allow_resize_to_same_host\n\nThe value currently defined in the class matches the service default\nvalue so we can safely remove that hard-coding.\n\nChange-Id: I998879531dd4b5792ca9674f91b555f349ca3ca7\n'}, {'number': 2, 'created': '2023-05-26 03:32:50.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d1bd167dddc3a7032c00c9ae782207b71f3ab21b', 'message': 'Stop hard-coding default of allow_resize_to_same_host\n\nThe value currently defined in the class matches the service default\nvalue so we can safely remove that hard-coding.\n\nChange-Id: I998879531dd4b5792ca9674f91b555f349ca3ca7\n'}]",1,884449,d1bd167dddc3a7032c00c9ae782207b71f3ab21b,11,3,2,9816,,,0,"Stop hard-coding default of allow_resize_to_same_host

The value currently defined in the class matches the service default
value so we can safely remove that hard-coding.

Change-Id: I998879531dd4b5792ca9674f91b555f349ca3ca7
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/49/884449/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp']",2,82c0ff8960f81d541cc8319858670698841c0ff2,,"# Defaults to $facts['os_service_default'] $allow_resize_to_same_host = $facts['os_service_default'],","# Defaults to false $allow_resize_to_same_host = false,",3,3
openstack%2Fopenstacksdk~883859,openstack/openstacksdk,master,I3cd12e2b3380b528c9be2266d5bfa28eb79feaeb,FWAAS: add Computed summary field to FirewallRule,MERGED,2023-05-22 15:57:06.000000000,2023-05-30 16:11:34.000000000,2023-05-30 16:10:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 15:57:06.000000000', 'files': ['openstack/network/v2/firewall_rule.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b7b3f418e06b5b30b6ee97ec82f84cb6f7f715df', 'message': 'FWAAS: add Computed summary field to FirewallRule\n\nNeeded-by: https://review.opendev.org/c/openstack/python-neutronclient/+/880629\nRelated-Bug: #1999774\nChange-Id: I3cd12e2b3380b528c9be2266d5bfa28eb79feaeb\n'}]",0,883859,b7b3f418e06b5b30b6ee97ec82f84cb6f7f715df,9,5,1,8313,,,0,"FWAAS: add Computed summary field to FirewallRule

Needed-by: https://review.opendev.org/c/openstack/python-neutronclient/+/880629
Related-Bug: #1999774
Change-Id: I3cd12e2b3380b528c9be2266d5bfa28eb79feaeb
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/59/883859/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/firewall_rule.py'],1,b7b3f418e06b5b30b6ee97ec82f84cb6f7f715df,bug/1999774," #: Summary field of a FirewallRule, composed of the protocol, #: source_ip_address:source_port, #: destination_ip_address:destination_port and action. summary = resource.Computed('summary', default='')",,4,0
openstack%2Fcinder-tempest-plugin~878672,openstack/cinder-tempest-plugin,master,I08c39feadd5278ff79bb582d6c497b0ce169c206,[srbac] Testing Volumes,MERGED,2023-03-27 15:08:55.000000000,2023-05-30 16:10:03.000000000,2023-05-30 16:10:03.000000000,"[{'_account_id': 4523}, {'_account_id': 8556}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32704}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-27 15:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a00be86388eb12212792dcba4e79d8bda225c169', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 2, 'created': '2023-03-27 15:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5db76dd4fbf4569791c5b21218d38627d2c5728f', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 3, 'created': '2023-03-27 17:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c29bb3218f9555974eb025338d1dd8efd9779dbc', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 4, 'created': '2023-03-27 17:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4a9744ca6b9d0b8e8da1c41101ac886901d3a8fc', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 5, 'created': '2023-03-27 18:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/38442f42ce6eafb4cb1ceb8b52b9f61f6a38c723', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 6, 'created': '2023-03-28 07:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b28fa0d5a65aa3c3fcb9387ed5770e6ab3e83d50', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with snapshots operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 7, 'created': '2023-03-28 08:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9dc3842dd2d5d3ce185da0201070742b045c84de', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 8, 'created': '2023-03-29 09:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/62e3c7c00e8f02774f1418e2738f715949e615d4', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 9, 'created': '2023-04-02 08:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4ad1edc51f9a43a6900bd0765a9399d629d95d0d', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 10, 'created': '2023-05-18 09:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/2744836c7d57d42470e05aeeca079a7994ed2e23', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 11, 'created': '2023-05-18 14:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f9d361bfbdcb0359b33f4a988692fa5a706c47a2', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}, {'number': 12, 'created': '2023-05-21 13:34:31.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/46910c6e4832f4eb29a0a6ef1abf7ac00ff0db41', 'message': '[srbac] Testing Volumes\n\nAdding Reader srbac tests with volume operations\n\nDepends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986\n\nChange-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206\n'}]",85,878672,46910c6e4832f4eb29a0a6ef1abf7ac00ff0db41,40,8,12,35621,,,0,"[srbac] Testing Volumes

Adding Reader srbac tests with volume operations

Depends-On: https://review.opendev.org/c/openstack/cinder-tempest-plugin/+/872986

Change-Id: I08c39feadd5278ff79bb582d6c497b0ce169c206
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/72/878672/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_volumes.py'],1,a00be86388eb12212792dcba4e79d8bda225c169,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.common import waiters from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base CONF = config.CONF class VolumeV3RbacVolumesTests(rbac_base.VolumeV3RbacBaseTests): credentials = ['project_reader', 'project_member', 'project_admin'] @classmethod def setup_clients(cls): super().setup_clients() cls.vol_other_client = cls.os_project_admin.volumes_client_latest def create_volume(self, success=True): """""" Test create_volume operation. Args: success: True if operation should succeed, False otherwise """""" expected_status = 202 if success else exceptions.Forbidden self.do_request( method='create_volume', expected_status=expected_status ) def show_volume(self): """""" Test show_volume operation. """""" volume_id = self.create_vol(client=self.vol_other_client) self.do_request(method='show_volume', volume_id=volume_id) def list_volumes(self): """""" Test list_volumes operation. """""" self.create_vol(client=self.vol_other_client) self.do_request(method='list_volumes') def show_volume_summary(self): """""" Test show_volume_summary operation. """""" pass # suspected bug - 404 not found for /volumes/summary # self.create_vol(client=self.vol_other_client) # self.do_request(method='show_volume_summary') def update_volume(self, success=True): """""" Test update_volume operation. Args: success: True if operation should succeed, False otherwise """""" volume_id = self.create_vol(client=self.vol_other_client) new_desc = self.__name__ + '-update_test' expected_status = 200 if success else exceptions.Forbidden self.do_request( method='update_volume', volume_id=volume_id, description=new_desc, expected_status=expected_status ) def set_bootable_volume(self, success=True): """""" Test set_bootable_volume operation. Args: success: True if operation should succeed, False otherwise """""" volume_id = self.create_vol(client=self.vol_other_client) expected_status = 200 if success else exceptions.Forbidden self.do_request( method='set_bootable_volume', volume_id=volume_id, bootable=True, expected_status=expected_status ) def delete_volume(self, success=True): """""" Test delete_volume operation. Args: success: True if operation should succeed, False otherwise """""" volume_id = self.create_vol(client=self.vol_other_client) expected_status = 202 if success else exceptions.Forbidden self.do_request( method='delete_volume', volume_id=volume_id, expected_status=expected_status ) class ProjectReaderTests(VolumeV3RbacVolumesTests, base.BaseVolumeTest): @classmethod def setup_clients(cls): super().setup_clients() cls.client = cls.os_project_reader.volumes_client_latest @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = cls.os_project_reader @decorators.idempotent_id('3d87f960-6210-45f5-b70b-679d67a4e17e') def test_create_volume(self): self.create_volume(success=False) @decorators.idempotent_id('9b2667f2-744e-4d1f-8c39-17060010f19f') def test_show_volume(self): self.show_volume() @decorators.idempotent_id('2f4da8f9-cdc5-4a6e-9143-8237634a629c') def test_list_volumes(self): self.list_volumes() @decorators.idempotent_id('ef347930-54dc-432f-b742-0a060fc37ae8') def test_show_volume_summary(self): self.show_volume_summary() @decorators.idempotent_id('cda92972-7213-4fa0-bc14-ab012dc95931') def test_update_volume(self): self.update_volume(success=False) @decorators.idempotent_id('9970b57d-8d5d-460e-931b-28a112df81e0') def test_set_bootable_volume(self): self.set_bootable_volume(success=False) @decorators.idempotent_id('4fd4dce8-ed8a-4f05-8aac-da99858b563d') def test_delete_volume(self): self.delete_volume(success=False)",,152,0
openstack%2Fkolla-ansible~884679,openstack/kolla-ansible,master,Iddb3145551eed9d02e370c83955ffe6379333e63,WIP: Add node to RMQ drain,ABANDONED,2023-05-30 11:19:59.000000000,2023-05-30 15:39:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 11:19:59.000000000', 'files': ['ansible/roles/rabbitmq/tasks/restart_services.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f063dd0938c1c354c86abe3245a58783294b3e31', 'message': 'WIP: Add node to RMQ drain\n\nChange-Id: Iddb3145551eed9d02e370c83955ffe6379333e63\n'}]",0,884679,f063dd0938c1c354c86abe3245a58783294b3e31,4,1,1,22629,,,0,"WIP: Add node to RMQ drain

Change-Id: Iddb3145551eed9d02e370c83955ffe6379333e63
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/884679/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/rabbitmq/tasks/restart_services.yml'],1,f063dd0938c1c354c86abe3245a58783294b3e31,," node: ""rabbit@{{ ansible_facts.hostname }}""",,1,0
openstack%2Fopenstack-ansible-os_ironic~777475,openstack/openstack-ansible-os_ironic,stable/ussuri,I5081b0805ec73248617ca28f0bb1bfbd1656cd80,Fixing minor issue when no inspector is deployed,ABANDONED,2021-02-24 22:13:26.000000000,2023-05-30 15:32:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-02-24 22:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/9f2d848e156d6805a45b73eac4172ac0c4e307e4', 'message': 'Fixing minor issue when no inspector is deployed\n\nThe playbooks stop to execute in cases no ironic inspector\nis configured/deployed. This fixes a condition inside the\n``os_ironic`` module.\n\nChange-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80\n'}, {'number': 2, 'created': '2021-02-24 22:24:03.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/3eea3731f4e98352bc4a7bfc09b0db42c966eda8', 'message': 'Fixing minor issue when no inspector is deployed\n\nThe playbooks stop to execute in cases no ironic inspector\nis configured/deployed. This fixes a condition inside the\n``os_ironic`` module.\n\nChange-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80\n'}]",0,777475,3eea3731f4e98352bc4a7bfc09b0db42c966eda8,6,2,2,14552,,,0,"Fixing minor issue when no inspector is deployed

The playbooks stop to execute in cases no ironic inspector
is configured/deployed. This fixes a condition inside the
``os_ironic`` module.

Change-Id: I5081b0805ec73248617ca28f0bb1bfbd1656cd80
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/75/777475/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,9f2d848e156d6805a45b73eac4172ac0c4e307e4,, when: (inventory_hostname == groups['ironic_api'][0] or inventory_hostname == inventory_hostname == groups['ironic_inspector'][0] |default([])), when: (inventory_hostname == groups['ironic_api'][0] or inventory_hostname == groups['ironic_inspector'][0]),1,1
openstack%2Fpuppet-pacemaker~879487,openstack/puppet-pacemaker,stable/1.5.x,I544e1f51966ebe4a71a1adc00810341aaf92328c,"Configuration of the stonith devices gets a broken password, when fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp passwords contain a special character.",MERGED,2023-04-05 10:19:22.000000000,2023-05-30 15:31:43.000000000,2023-05-30 15:31:43.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 35080}]","[{'number': 1, 'created': '2023-04-05 10:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/14faf8d39e8b784c995004dffb070416573e8abb', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp password contains a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 2, 'created': '2023-05-17 05:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/fd2cd95fabbcbd0930380f9d7099f975aa78be91', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp password contains a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 3, 'created': '2023-05-17 06:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b9edb9d63b6508e4004b3031da699cf993c8a3f9', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp password contains a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 4, 'created': '2023-05-17 07:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/c4506739b769a8b2143c3eabd526ae44de22e5eb', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp\npasswords contain a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 5, 'created': '2023-05-30 13:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/aa7ecbde6f639de5ea9683deed182479adaa89ca', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp\npasswords contain a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-pacemaker/+/877215\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}, {'number': 6, 'created': '2023-05-30 13:10:16.000000000', 'files': ['manifests/stonith/fence_ipmilan.pp', 'manifests/stonith/fence_rhevm.pp', 'spec/defines/pacemaker_stonith_fence_ipmilan_spec.rb', 'manifests/stonith/fence_redfish.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/8ed4a8c801f228425f97fdd5407a3f2e2922ad70', 'message': 'Configuration of the stonith devices gets a broken password,\nwhen fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp\npasswords contain a special character.\n\nThis causes the fence device to remain in ""stopped"" status.\n\nCloses-Bug: #2015215\nChange-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c\n'}]",4,879487,8ed4a8c801f228425f97fdd5407a3f2e2922ad70,22,4,6,35080,,,0,"Configuration of the stonith devices gets a broken password,
when fence_ipmilan.pp/fence_redfish.pp/fence_rhevm.pp
passwords contain a special character.

This causes the fence device to remain in ""stopped"" status.

Closes-Bug: #2015215
Change-Id: I544e1f51966ebe4a71a1adc00810341aaf92328c
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/87/879487/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/stonith/fence_ipmilan.pp'],1,14faf8d39e8b784c995004dffb070416573e8abb,," default => ""passwd=\'${passwd}\'"","," default => ""passwd=\""${passwd}\"""",",1,1
openstack%2Freleases~884552,openstack/releases,master,I41c4d8824ed5cc341bbfc628a5277de2b791d697,Release OpenStack-Ansible Antelope,MERGED,2023-05-26 18:43:18.000000000,2023-05-30 15:31:38.000000000,2023-05-30 15:31:38.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-26 18:43:18.000000000', 'files': ['deliverables/antelope/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bac61a5939cccbfba367944807d7fb9e7cc62329', 'message': 'Release OpenStack-Ansible Antelope\n\nCreate rc1 and stable/2023.1 branch for OpenStack-Ansible.\n\nChange-Id: I41c4d8824ed5cc341bbfc628a5277de2b791d697\n'}]",4,884552,bac61a5939cccbfba367944807d7fb9e7cc62329,12,6,1,28619,,,0,"Release OpenStack-Ansible Antelope

Create rc1 and stable/2023.1 branch for OpenStack-Ansible.

Change-Id: I41c4d8824ed5cc341bbfc628a5277de2b791d697
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/884552/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstack-ansible.yaml'],1,bac61a5939cccbfba367944807d7fb9e7cc62329,antelope-trailing-branch-cut,releases: - version: 27.0.0.0rc1 projects: - repo: openstack/openstack-ansible hash: af12e9399f2b5942d5d1881a9b1a4e7fedfac69d branches: - name: stable/2023.1 location: 27.0.0.0rc1,,8,0
openstack%2Fansible-hardening~884214,openstack/ansible-hardening,stable/zed,I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,Remove commandkey from chrony config,MERGED,2023-05-24 16:35:05.000000000,2023-05-30 15:28:22.000000000,2023-05-30 15:27:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 16:35:05.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/2ee64db151f10cd9f2a8cac4a612542b64dc4e0c', 'message': ""Remove commandkey from chrony config\n\nSince version 2.2 chorny has removed commandkey options and\nit's not a valid option for any currently supported distro.\n\nChange-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b\n(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)\n""}]",0,884214,2ee64db151f10cd9f2a8cac4a612542b64dc4e0c,8,3,1,28619,,,0,"Remove commandkey from chrony config

Since version 2.2 chorny has removed commandkey options and
it's not a valid option for any currently supported distro.

Change-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b
(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/14/884214/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,2ee64db151f10cd9f2a8cac4a612542b64dc4e0c,,,"# Set runtime command key. Note that if you change the key (not the # password) to anything other than 1 you will need to edit # /etc/ppp/ip-up.d/chrony, /etc/ppp/ip-down.d/chrony, /etc/init.d/chrony # and /etc/cron.weekly/chrony as these scripts use it to get the password. commandkey 1 ",0,7
openstack%2Fansible-hardening~884215,openstack/ansible-hardening,stable/2023.1,I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,Remove commandkey from chrony config,MERGED,2023-05-24 16:35:13.000000000,2023-05-30 15:28:18.000000000,2023-05-30 15:27:18.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 16:35:13.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/42b68b9ff7070f14f896ece1f242a522d1ba9559', 'message': ""Remove commandkey from chrony config\n\nSince version 2.2 chorny has removed commandkey options and\nit's not a valid option for any currently supported distro.\n\nChange-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b\n(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)\n""}]",0,884215,42b68b9ff7070f14f896ece1f242a522d1ba9559,8,3,1,28619,,,0,"Remove commandkey from chrony config

Since version 2.2 chorny has removed commandkey options and
it's not a valid option for any currently supported distro.

Change-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b
(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/15/884215/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,42b68b9ff7070f14f896ece1f242a522d1ba9559,,,"# Set runtime command key. Note that if you change the key (not the # password) to anything other than 1 you will need to edit # /etc/ppp/ip-up.d/chrony, /etc/ppp/ip-down.d/chrony, /etc/init.d/chrony # and /etc/cron.weekly/chrony as these scripts use it to get the password. commandkey 1 ",0,7
openstack%2Fansible-hardening~884216,openstack/ansible-hardening,stable/yoga,I7c02cf6b7575a9ab753d85cdd6582f209f39be1b,Remove commandkey from chrony config,MERGED,2023-05-24 16:35:20.000000000,2023-05-30 15:28:16.000000000,2023-05-30 15:27:16.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 16:35:20.000000000', 'files': ['templates/chrony.conf.j2'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/62ac49a616dda93529327c169ff1ec0bba5b36a7', 'message': ""Remove commandkey from chrony config\n\nSince version 2.2 chorny has removed commandkey options and\nit's not a valid option for any currently supported distro.\n\nChange-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b\n(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)\n""}]",0,884216,62ac49a616dda93529327c169ff1ec0bba5b36a7,8,3,1,28619,,,0,"Remove commandkey from chrony config

Since version 2.2 chorny has removed commandkey options and
it's not a valid option for any currently supported distro.

Change-Id: I7c02cf6b7575a9ab753d85cdd6582f209f39be1b
(cherry picked from commit 037e5493b6b09c08bba8e63dd162267b007d0d03)
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/16/884216/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/chrony.conf.j2'],1,62ac49a616dda93529327c169ff1ec0bba5b36a7,,,"# Set runtime command key. Note that if you change the key (not the # password) to anything other than 1 you will need to edit # /etc/ppp/ip-up.d/chrony, /etc/ppp/ip-down.d/chrony, /etc/init.d/chrony # and /etc/cron.weekly/chrony as these scripts use it to get the password. commandkey 1 ",0,7
openstack%2Fopenstack-ansible-openstack_hosts~879854,openstack/openstack-ansible-openstack_hosts,stable/zed,I864cb07231ebf5c820c2ce3721323bebdc337e13,Limit usage of old OVS to Rocky only,ABANDONED,2023-04-10 08:20:46.000000000,2023-05-30 15:11:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-04-10 08:20:46.000000000', 'files': ['vars/redhat-9.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/0be1f19ed3df3761b725dc1741d14c9adf1779ea', 'message': ""Limit usage of old OVS to Rocky only\n\nAs we've landed fix for CentOS to work properly with new OVS and\nworkarounded bug, we can now start using new OVS version for stream.\n\nExclude can be removed once issue will be sorted out for Rocky as well.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/878911\nChange-Id: I864cb07231ebf5c820c2ce3721323bebdc337e13\n(cherry picked from commit 449d19fd940224449986c883ad170c06db4a1253)\n""}]",1,879854,0be1f19ed3df3761b725dc1741d14c9adf1779ea,5,3,1,28619,,,0,"Limit usage of old OVS to Rocky only

As we've landed fix for CentOS to work properly with new OVS and
workarounded bug, we can now start using new OVS version for stream.

Exclude can be removed once issue will be sorted out for Rocky as well.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/878911
Change-Id: I864cb07231ebf5c820c2ce3721323bebdc337e13
(cherry picked from commit 449d19fd940224449986c883ad170c06db4a1253)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/54/879854/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-9.yml'],1,0be1f19ed3df3761b725dc1741d14c9adf1779ea,osa/rdo_ovs_3.1-stable/zed," exclude: ""{{ ansible_facts['distribution'] == 'Rocky' | ternary(['*rdo-openvswitch*3.1*', '*rdo-ovn*3.1*'], omit) }}""", exclude: - '*rdo-openvswitch*3.1*' - '*rdo-ovn*3.1*',1,3
openstack%2Fcharm-cinder-k8s~884681,openstack/charm-cinder-k8s,main,Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee,Switch cinder api service name to wsgi-cinder-api,MERGED,2023-05-30 11:41:34.000000000,2023-05-30 15:01:23.000000000,2023-05-30 14:34:43.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 35761}]","[{'number': 1, 'created': '2023-05-30 11:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/17ee464bee05efd76f3b1894d2eb1c67507329d7', 'message': 'Switch cinder api service name to wsgi-cinder-api\n\nMake cinder api service name consistent with the rock and the\nother charms that have an api service served by mod_wsgi\n\nChange-Id: Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee\n'}, {'number': 2, 'created': '2023-05-30 12:11:40.000000000', 'files': ['src/templates/wsgi-cinder-api.conf.j2', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/76c80976116a0c26483c9100f21e57924cd2d153', 'message': 'Switch cinder api service name to wsgi-cinder-api\n\nMake cinder api service name consistent with the rock and the\nother charms that have an api service served by mod_wsgi\n\nChange-Id: Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee\n'}]",1,884681,76c80976116a0c26483c9100f21e57924cd2d153,9,3,2,12549,,,0,"Switch cinder api service name to wsgi-cinder-api

Make cinder api service name consistent with the rock and the
other charms that have an api service served by mod_wsgi

Change-Id: Ifdf47a85f8896b58eaeb0dccc5035d63f71860ee
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/81/884681/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/wsgi-cinder-api.conf.j2', 'src/charm.py']",2,17ee464bee05efd76f3b1894d2eb1c67507329d7,standardise-wsgi-svc-name," service_name = ""cinder-api"" def service_conf(self) -> str: """"""Service default configuration file."""""" return f""/etc/cinder/cinder.conf"" @property def service_user(self) -> str: """"""Service user file and directory ownership."""""" return ""cinder"" @property def service_group(self) -> str: """"""Service group file and directory ownership."""""" return ""cinder"""," service_name = ""cinder"" def wsgi_container_name(self): """"""WSGI API service container name."""""" return CINDER_API_CONTAINER",14,4
openstack%2Freleases~878881,openstack/releases,master,Ib6f55689cac066a42dbe0c6acb129809b3459bbd,[Puppet OpenStack] Transition Xena to EM,MERGED,2023-03-29 13:06:33.000000000,2023-05-30 14:46:31.000000000,2023-05-30 14:46:31.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-03-29 13:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cb0df202b471b9008375492f896b44a7028de064', 'message': '[Puppet OpenStack] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: Ib6f55689cac066a42dbe0c6acb129809b3459bbd\n'}, {'number': 2, 'created': '2023-05-25 14:58:59.000000000', 'files': ['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/xena/puppet-senlin.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-watcher.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-zaqar.yaml', 'deliverables/xena/puppet-cloudkitty.yaml', 'deliverables/xena/puppet-aodh.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-sahara.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-magnum.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-tacker.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-trove.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-freezer.yaml', 'deliverables/xena/puppet-qdr.yaml', 'deliverables/xena/puppet-monasca.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml', 'deliverables/xena/puppet-ec2api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5361993a39beb63e0c7565af6f148a386d33ad99', 'message': '[Puppet OpenStack] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: Ib6f55689cac066a42dbe0c6acb129809b3459bbd\n'}]",7,878881,5361993a39beb63e0c7565af6f148a386d33ad99,18,5,2,17685,,,0,"[Puppet OpenStack] Transition Xena to EM

This transition the stable/xena branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch after the transition.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 20th, 2023.

Change-Id: Ib6f55689cac066a42dbe0c6acb129809b3459bbd
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/878881/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/puppet-tempest.yaml', 'deliverables/xena/puppet-rally.yaml', 'deliverables/xena/puppet-senlin.yaml', 'deliverables/xena/puppet-neutron.yaml', 'deliverables/xena/puppet-watcher.yaml', 'deliverables/xena/puppet-heat.yaml', 'deliverables/xena/puppet-zaqar.yaml', 'deliverables/xena/puppet-cloudkitty.yaml', 'deliverables/xena/puppet-aodh.yaml', 'deliverables/xena/puppet-glance.yaml', 'deliverables/xena/puppet-vswitch.yaml', 'deliverables/xena/puppet-manila.yaml', 'deliverables/xena/puppet-openstack_extras.yaml', 'deliverables/xena/puppet-mistral.yaml', 'deliverables/xena/puppet-keystone.yaml', 'deliverables/xena/puppet-nova.yaml', 'deliverables/xena/puppet-sahara.yaml', 'deliverables/xena/puppet-ironic.yaml', 'deliverables/xena/puppet-designate.yaml', 'deliverables/xena/puppet-horizon.yaml', 'deliverables/xena/puppet-magnum.yaml', 'deliverables/xena/puppet-swift.yaml', 'deliverables/xena/puppet-vitrage.yaml', 'deliverables/xena/puppet-barbican.yaml', 'deliverables/xena/puppet-murano.yaml', 'deliverables/xena/puppet-openstacklib.yaml', 'deliverables/xena/puppet-tacker.yaml', 'deliverables/xena/puppet-gnocchi.yaml', 'deliverables/xena/puppet-ceilometer.yaml', 'deliverables/xena/puppet-cinder.yaml', 'deliverables/xena/puppet-trove.yaml', 'deliverables/xena/puppet-ovn.yaml', 'deliverables/xena/puppet-placement.yaml', 'deliverables/xena/puppet-freezer.yaml', 'deliverables/xena/puppet-qdr.yaml', 'deliverables/xena/puppet-monasca.yaml', 'deliverables/xena/puppet-oslo.yaml', 'deliverables/xena/puppet-octavia.yaml', 'deliverables/xena/puppet-ec2api.yaml']",39,cb0df202b471b9008375492f896b44a7028de064,xena-em, - version: xena-em projects: - repo: openstack/puppet-ec2api hash: f74f33e5d78a4c01e8580c9558b7d8a5b5488afc,,156,0
openstack%2Fneutron~883713,openstack/neutron,stable/zed,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-22 06:37:57.000000000,2023-05-30 14:33:08.000000000,2023-05-30 14:30:29.000000000,"[{'_account_id': 7730}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 06:37:57.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/004ed33ec1ab549444e518ed8681b51737b81b9c', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",6,883713,004ed33ec1ab549444e518ed8681b51737b81b9c,13,4,1,30772,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/883713/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,004ed33ec1ab549444e518ed8681b51737b81b9c,bug/2016704-stable/zed,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Ftripleo-common~877120,openstack/tripleo-common,stable/wallaby,I039ca97773699f6f744e83172dd6664ace0d8d60,[FIPS] Install nettle-3.8-3.el9 in tcib base container,MERGED,2023-03-10 18:49:46.000000000,2023-05-30 14:33:07.000000000,2023-03-16 18:20:37.000000000,"[{'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-03-10 18:49:46.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n\nPin nettle-3.8-3 on ubi9 only\n\nThis patch fixes the workaround proposed in [1] to install\nnettle-3.8-3 only on ubi9 containers.\nSince we are backporting this fix to stable/wallaby, we need\nto guarantee that doesn't break ubi8 containers.\n\n[1] https://review.opendev.org/c/openstack/tripleo-common/+/869104\n\nChange-Id: I039ca97773699f6f744e83172dd6664ace0d8d60\n""}]",0,877120,5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed,10,5,1,30002,,,0,"[FIPS] Install nettle-3.8-3.el9 in tcib base container

This patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0
version of the package, since 'dnf udpate' doesn't replace it.
The rhel-9.0 version of this package fails when running under FIPS.
When we get a new version o nettle in centos mirrors, the 'dnf update'
shall install a new version of the package and the workaround can be
remove.
We can't add a condition to install only when fips is enabled, since
build containers job doesn't run under fips enabled mode.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237
Change-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8

Pin nettle-3.8-3 on ubi9 only

This patch fixes the workaround proposed in [1] to install
nettle-3.8-3 only on ubi9 containers.
Since we are backporting this fix to stable/wallaby, we need
to guarantee that doesn't break ubi8 containers.

[1] https://review.opendev.org/c/openstack/tripleo-common/+/869104

Change-Id: I039ca97773699f6f744e83172dd6664ace0d8d60
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/877120/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,5fc8ba5c8ad49b08c5147fc3ba59563c9f7d27ed,pin_nettle_base_container,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. # See: https://bugzilla.redhat.com/show_bug.cgi?id=2154924 and # https://bugs.launchpad.net/tripleo/+bug/1984237 - run: >- if [ '{{ tcib_release }}' == '9' ];then dnf -y install nettle-3.8-3.el9; fi",,9,0
openstack%2Ftripleo-common~884543,openstack/tripleo-common,master,I09b45201e4e4e8e4d5ac15edb7fb65cd44e46b9b,"Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""",ABANDONED,2023-05-30 14:29:41.000000000,2023-05-30 14:32:17.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-30 14:29:41.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/49280e7eecf05650554f44f5c7159da82b166138', 'message': 'Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""\n\nThis reverts commit bd6900efa3c005150f36a6abe316f9728706ab62.\n\nReason for revert: testing ubi9.2\n\nChange-Id: I09b45201e4e4e8e4d5ac15edb7fb65cd44e46b9b\n'}]",0,884543,49280e7eecf05650554f44f5c7159da82b166138,2,8,1,30002,,,0,"Revert ""[FIPS] Install nettle-3.8-3.el9 in tcib base container""

This reverts commit bd6900efa3c005150f36a6abe316f9728706ab62.

Reason for revert: testing ubi9.2

Change-Id: I09b45201e4e4e8e4d5ac15edb7fb65cd44e46b9b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/884543/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,49280e7eecf05650554f44f5c7159da82b166138,skip_fips_gnutls,,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. - nettle-3.8-3.el9",0,5
openstack%2Ftripleo-common~876210,openstack/tripleo-common,stable/wallaby,Iedc128120fd6925800c7e95664ce4e13ee8868a8,[FIPS] Install nettle-3.8-3.el9 in tcib base container,ABANDONED,2023-03-02 21:17:51.000000000,2023-05-30 14:30:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2023-03-02 21:17:51.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f64d2b35e9e52990962fded2130e44bd0a493df7', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n(cherry picked from commit bd6900efa3c005150f36a6abe316f9728706ab62)\n""}]",4,876210,f64d2b35e9e52990962fded2130e44bd0a493df7,8,2,1,30002,,,0,"[FIPS] Install nettle-3.8-3.el9 in tcib base container

This patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0
version of the package, since 'dnf udpate' doesn't replace it.
The rhel-9.0 version of this package fails when running under FIPS.
When we get a new version o nettle in centos mirrors, the 'dnf update'
shall install a new version of the package and the workaround can be
remove.
We can't add a condition to install only when fips is enabled, since
build containers job doesn't run under fips enabled mode.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237
Change-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8
(cherry picked from commit bd6900efa3c005150f36a6abe316f9728706ab62)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/876210/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,f64d2b35e9e52990962fded2130e44bd0a493df7,skip_fips_gnutls-stable/wallaby,"# TODO: Temporary pinning nettle to 3.8-3.el9, so it can be reinstalled from centos-9 repos. # nettle-3.8-3 is already installed in ubi9 image, but it conflicts with newer versions on gnutls # installed from centos-9 repos. This workaround can be reverted once ubi9.2 is released, which # should contain a newer version of gnutls with fixes to run under FIPS mode. - nettle-3.8-3.el9",,5,0
openstack%2Ftripleo-common~869104,openstack/tripleo-common,master,Iedc128120fd6925800c7e95664ce4e13ee8868a8,[FIPS] Install nettle-3.8-3.el9 in tcib base container,MERGED,2023-01-03 20:03:40.000000000,2023-05-30 14:29:41.000000000,2023-03-02 15:55:54.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-01-03 20:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1954cbd71c155079553766a6a9dbbe74a383f358', 'message': 'Disable gnutls FIPS integrity tests\n\nThis patch adds an environment variable to disable gnutls FIPS\nintegrity tests due to BZ#2154924. This patch can be reverted once\nbug is fixed.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n'}, {'number': 2, 'created': '2023-01-25 12:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/01782569c432982e3e149109cf2f4246d1ec485b', 'message': 'Install nettle-3.8-3.el9 in tcib base container\n\nThis patch tries to install nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package. This version should match with the newest\nversion of gnutls.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n'}, {'number': 3, 'created': '2023-01-25 19:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8b67534e0d7e9173a27f0098ad9c948846466b1e', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n""}, {'number': 4, 'created': '2023-03-01 13:08:43.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd6900efa3c005150f36a6abe316f9728706ab62', 'message': ""[FIPS] Install nettle-3.8-3.el9 in tcib base container\n\nThis patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0\nversion of the package, since 'dnf udpate' doesn't replace it.\nThe rhel-9.0 version of this package fails when running under FIPS.\nWhen we get a new version o nettle in centos mirrors, the 'dnf update'\nshall install a new version of the package and the workaround can be\nremove.\nWe can't add a condition to install only when fips is enabled, since\nbuild containers job doesn't run under fips enabled mode.\n\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924\nRelated-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237\nChange-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8\n""}]",12,869104,bd6900efa3c005150f36a6abe316f9728706ab62,33,9,4,30002,,,0,"[FIPS] Install nettle-3.8-3.el9 in tcib base container

This patch adds installation of nettle-3.8-3.el9 to replace the rhel-9.0
version of the package, since 'dnf udpate' doesn't replace it.
The rhel-9.0 version of this package fails when running under FIPS.
When we get a new version o nettle in centos mirrors, the 'dnf update'
shall install a new version of the package and the workaround can be
remove.
We can't add a condition to install only when fips is enabled, since
build containers job doesn't run under fips enabled mode.

Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=2154924
Related-Bug: https://bugs.launchpad.net/tripleo/+bug/1984237
Change-Id: Iedc128120fd6925800c7e95664ce4e13ee8868a8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/869104/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,1954cbd71c155079553766a6a9dbbe74a383f358,skip_fips_gnutls, GNUTLS_SKIP_FIPS_INTEGRITY_CHECKS: 1,,1,0
openstack%2Fglance~883515,openstack/glance,master,I636e6db755daa770041e76657ba82c1c43aa82ea,DNM: Test glance-store revert revert,ABANDONED,2023-05-18 14:13:41.000000000,2023-05-30 14:25:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 14:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/76872ec1aa450273bc7133220a63057f289ff455', 'message': 'DNM: Test glance-store revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883532\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}, {'number': 2, 'created': '2023-05-19 13:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f9ee45dfa1d649b1a952279a25ffb8ee04b35d9d', 'message': 'DNM: Test glance-store revert revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883670\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}, {'number': 3, 'created': '2023-05-19 18:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ab26aa4d03b06ac14269003348baf2c3b311d250', 'message': 'DNM: Test glance-store revert revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883670\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}, {'number': 4, 'created': '2023-05-19 18:56:35.000000000', 'files': ['glance/context.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/8910c6110051827c12c4eb7848a3d810ee1db260', 'message': 'DNM: Test glance-store revert revert\n\nDepends-On: https://review.opendev.org/c/openstack/glance_store/+/883670\nChange-Id: I636e6db755daa770041e76657ba82c1c43aa82ea\n'}]",6,883515,8910c6110051827c12c4eb7848a3d810ee1db260,18,1,4,4393,,,0,"DNM: Test glance-store revert revert

Depends-On: https://review.opendev.org/c/openstack/glance_store/+/883670
Change-Id: I636e6db755daa770041e76657ba82c1c43aa82ea
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/883515/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/context.py'],1,76872ec1aa450273bc7133220a63057f289ff455,test-rbd-revert,# Foo,,1,0
openstack%2Fovsdbapp~882269,openstack/ovsdbapp,master,I66948039e61503480fd140ee9e0ce645a6ef4453,Ensure LrpAddCommand may_exits works without peers,MERGED,2023-05-10 13:11:20.000000000,2023-05-30 14:24:21.000000000,2023-05-30 14:23:22.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2023-05-10 13:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/63232ddd18f9fae504ad74bb8c5d375b6cd79bca', 'message': 'Ensure LrpAddCommand may_exits works without peers\n\nThis patch sets the default for peers to [] instead of None, to match\nwhat it is stored on the DB\n\nCloses-Bug: #2019109\nChange-Id: I66948039e61503480fd140ee9e0ce645a6ef4453\n'}, {'number': 2, 'created': '2023-05-24 14:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/c39a6c3c31a80379f50d8a33113d1367666aba4a', 'message': 'Ensure LrpAddCommand may_exits works without peers\n\nThis patch sets the default for peers to [] instead of None, to match\nwhat it is stored on the DB\n\nCloses-Bug: #2019109\nChange-Id: I66948039e61503480fd140ee9e0ce645a6ef4453\n'}, {'number': 3, 'created': '2023-05-24 14:49:18.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/267286976ea62a2372b774379b45d6d4923b6f24', 'message': 'Ensure LrpAddCommand may_exits works without peers\n\nThis patch sets the default for peers to [] instead of None, to match\nwhat it is stored on the DB\n\nCloses-Bug: #2019109\nChange-Id: I66948039e61503480fd140ee9e0ce645a6ef4453\n'}]",5,882269,267286976ea62a2372b774379b45d6d4923b6f24,15,5,3,23567,,,0,"Ensure LrpAddCommand may_exits works without peers

This patch sets the default for peers to [] instead of None, to match
what it is stored on the DB

Closes-Bug: #2019109
Change-Id: I66948039e61503480fd140ee9e0ce645a6ef4453
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/69/882269/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/schema/ovn_northbound/commands.py'],1,63232ddd18f9fae504ad74bb8c5d375b6cd79bca,," peer=[], may_exist=False, **columns):"," peer=None, may_exist=False, **columns):",1,1
openstack%2Freleases~878887,openstack/releases,master,I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2,[OpenStackAnsible] Transition Xena to EM,MERGED,2023-03-29 13:07:49.000000000,2023-05-30 14:21:18.000000000,2023-05-30 14:21:18.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-03-29 13:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/97e8e393ac4735127159c7bcf4f8bfd6987323d5', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}, {'number': 2, 'created': '2023-04-21 13:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/efe4e781e65bbd26156d42865df3a3523678fc36', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}, {'number': 3, 'created': '2023-05-05 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c64d458e64cd5acfe2bb6711427459866e82481a', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}, {'number': 4, 'created': '2023-05-26 07:24:43.000000000', 'files': ['deliverables/xena/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ca2b036fbf83ad14d53aea185977bf8470d0f8f', 'message': '[OpenStackAnsible] Transition Xena to EM\n\nThis transition the stable/xena branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch after the transition.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is April 20th, 2023.\n\nChange-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2\n'}]",11,878887,0ca2b036fbf83ad14d53aea185977bf8470d0f8f,25,4,4,17685,,,0,"[OpenStackAnsible] Transition Xena to EM

This transition the stable/xena branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch after the transition.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is April 20th, 2023.

Change-Id: I19f8a71535019cd1371b6fbdd94ab9c5d99e9fd2
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/878887/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstack-ansible.yaml'],1,97e8e393ac4735127159c7bcf4f8bfd6987323d5,xena-em, - version: xena-em projects: - repo: openstack/openstack-ansible hash: ea543967f973b606c68e5728431fa6bb841f44db,,4,0
openstack%2Fopenstack-ansible~884428,openstack/openstack-ansible,master,Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170,Implement support for haproxy_accept_both_protocols,MERGED,2023-05-25 17:30:42.000000000,2023-05-30 13:57:17.000000000,2023-05-30 13:55:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-25 17:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0e9fc6dc5d01eaf20a5eeb60b38dfd28ee12f6ce', 'message': 'Add support for keystone_accept_both_protocols\n\nEnabling TLS on the internal VIP for existing deployments will cause\nsome downtime because keystone URL is specified in service config files.\nAs a result, when keystone is available over HTTPS, each service will\ntry to reach it over HTTP that will fail.\n\nTo avoid downtime, it is recommended to enable\n`keystone_accept_both_protocols` until all services are configured\ncorrectly. It allows keystone to listen on both HTTP and HTTPS.\n\nI believe that `haproxy_accept_both_protocols` should be defined only\nfor keystone because URLs for other services are retrieved from service\ncatalog.\nIf users want to use it for other haproxy services, it is always\npossible to define it in `haproxy_<service>_service_overrides`.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784\nChange-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170\n'}, {'number': 2, 'created': '2023-05-25 22:33:42.000000000', 'files': ['inventory/group_vars/glance_all/haproxy_service.yml', 'inventory/group_vars/neutron_all/haproxy_service.yml', 'inventory/group_vars/sahara_all/haproxy_service.yml', 'inventory/group_vars/aodh_all/haproxy_service.yml', 'inventory/group_vars/octavia_all/haproxy_service.yml', 'inventory/group_vars/masakari_all/haproxy_service.yml', 'inventory/group_vars/heat_all/haproxy_service.yml', 'inventory/group_vars/adjutant_all/haproxy_service.yml', 'inventory/group_vars/manila_all/haproxy_service.yml', 'inventory/group_vars/placement_all/haproxy_service.yml', 'inventory/group_vars/zun_all/haproxy_service.yml', 'inventory/group_vars/ironic_all/haproxy_service.yml', 'inventory/group_vars/murano_all/haproxy_service.yml', 'inventory/group_vars/trove_all/haproxy_service.yml', 'inventory/group_vars/cloudkitty_all/haproxy_service.yml', 'inventory/group_vars/nova_all/haproxy_service.yml', 'inventory/group_vars/mistral_all/haproxy_service.yml', 'releasenotes/notes/openstack_service_accept_both_protocols-c7d1a89befeae9fe.yaml', 'inventory/group_vars/cinder_all/haproxy_service.yml', 'inventory/group_vars/swift_all/haproxy_service.yml', 'inventory/group_vars/repo_all.yml', 'inventory/group_vars/keystone_all/haproxy_service.yml', 'inventory/group_vars/all/all.yml', 'inventory/group_vars/barbican_all/haproxy_service.yml', 'inventory/group_vars/tacker_all/haproxy_service.yml', 'inventory/group_vars/blazar_all/haproxy_service.yml', 'doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/senlin_all/haproxy_service.yml', 'inventory/group_vars/designate_all/haproxy_service.yml', 'inventory/group_vars/magnum_all/haproxy_service.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b75a9d0dd07d1fe1b578398714e776911f3fb2a9', 'message': 'Implement support for haproxy_accept_both_protocols\n\nEnabling TLS on the internal VIP for existing deployments will cause\ndowntime until each client is configured to use HTTPS instead of HTTP.\n\nTo avoid downtime, it is recommended to enable\n`openstack_service_accept_both_protocols` until all services are\nconfigured correctly.\nIt allows haproxy frontends to accept both HTTP and HTTPS.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784\nChange-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170\n'}]",3,884428,b75a9d0dd07d1fe1b578398714e776911f3fb2a9,12,3,2,32666,,,0,"Implement support for haproxy_accept_both_protocols

Enabling TLS on the internal VIP for existing deployments will cause
downtime until each client is configured to use HTTPS instead of HTTP.

To avoid downtime, it is recommended to enable
`openstack_service_accept_both_protocols` until all services are
configured correctly.
It allows haproxy frontends to accept both HTTP and HTTPS.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/864784
Change-Id: Ie6f5b73c54b0a6d1f661a9d4f33b8a301d8c4170
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/884428/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/security/ssl-certificates.rst', 'inventory/group_vars/keystone_all/haproxy_service.yml']",2,0e9fc6dc5d01eaf20a5eeb60b38dfd28ee12f6ce,tls-backend," # useful when changing keystone's endpoint protocol haproxy_accept_both_protocols: ""{{ keystone_accept_both_protocols | default(False) }}""",,8,8
openstack%2Ftripleo-ansible~884332,openstack/tripleo-ansible,stable/wallaby,I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31,Fix permission issues on ceph conf,ABANDONED,2023-05-25 07:02:15.000000000,2023-05-30 13:54:06.000000000,,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2023-05-25 07:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1cf3fedf8a570efc9f5ad6c550d7e39ff9ab467c', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the ceph tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 2, 'created': '2023-05-25 10:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e5e99a26cace94918fd109e68b373c7814656c22', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 3, 'created': '2023-05-25 10:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d580ee52212709ca2bb5ffa73e198788a35c68b6', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 4, 'created': '2023-05-25 13:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/59601453d2623e59c8629a39d5a165adfc8953ae', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 5, 'created': '2023-05-25 13:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/38f1c4432727f120df85bceacc7b34a4fa6bf2a2', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 6, 'created': '2023-05-25 18:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/141238573d00ccc30ba9f2624a56a6d13fa41df5', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 7, 'created': '2023-05-25 18:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/18306a3a40aa256019fa6a83fddeb4a59c67a1f2', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 8, 'created': '2023-05-25 19:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e4e570cabca723a9648f6fea732dc25848ec76e', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 9, 'created': '2023-05-26 05:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/159aed20b4e92e5a237501e809a2374e409a1896', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 10, 'created': '2023-05-26 06:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d4f652ffaab75eceb7d370a2c9631bc2aba2a099', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 11, 'created': '2023-05-26 07:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b225c1c9ed030f3ad3a610be6eb3b5b832d033a7', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 12, 'created': '2023-05-26 07:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d291e4f70685ea677f0377f6813d297ea6864edd', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 13, 'created': '2023-05-26 07:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a523cd7fb884ef91193ead8bb68cb13496fdb66', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 14, 'created': '2023-05-26 10:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3587297810e91e8be64e6e4de779070418e487fd', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}, {'number': 15, 'created': '2023-05-26 15:42:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/prepare_temp_ceph_conf_dir.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ca_common.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/delete_temp_ceph_conf_dir.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6826f463bbef0de97de71695c50f44735034276', 'message': 'Fix permission issues on ceph conf\n\nwhile executing few cephadm tasks, we see permission issues on\n/var/lib/ceph/<FSID>/config.\n\nThis patch will ensure to\n  - copy ceph config to temp config directory\n  - use the temp config for all the cephadm tasks\n  - delete temp ceph config\n\nResolves: rhbz#2209633\nChange-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31\n'}]",30,884332,a6826f463bbef0de97de71695c50f44735034276,46,4,15,34598,,,0,"Fix permission issues on ceph conf

while executing few cephadm tasks, we see permission issues on
/var/lib/ceph/<FSID>/config.

This patch will ensure to
  - copy ceph config to temp config directory
  - use the temp config for all the cephadm tasks
  - delete temp ceph config

Resolves: rhbz#2209633
Change-Id: I6d8b257f18fdcd9baea70cc40c9bfd32d9e1fe31
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/32/884332/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_cephadm/tasks/dashboard/dashboard.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/pools.yaml', 'tripleo_ansible/roles/tripleo_cephadm/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/export.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rgw.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/crush_rules.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/mds.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/prepare_temp_ceph_conf_dir.yaml', 'tripleo_ansible/playbooks/cephadm.yml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/rbd_mirror.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/monitoring.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/keys.yaml', 'tripleo_ansible/ansible_plugins/module_utils/ca_common.py', 'tripleo_ansible/roles/tripleo_cephadm/tasks/delete_temp_ceph_conf_dir.yaml', 'tripleo_ansible/roles/tripleo_cephadm/tasks/nfs.yaml']",15,1cf3fedf8a570efc9f5ad6c550d7e39ff9ab467c,BZ_2209633," CEPH_CONF_SRC: ""{{ tripleo_cephadm_config_fetch_src }}"""," CEPH_FSID: ""{{ tripleo_cephadm_fsid }}""",55,18
openstack%2Fopenstack-ansible-os_cinder~884211,openstack/openstack-ansible-os_cinder,stable/yoga,I19c2b03c61f714fedb593da8489e50d3fa08d933,Define service_user for cinder services,MERGED,2023-05-24 14:04:47.000000000,2023-05-30 13:46:42.000000000,2023-05-30 13:45:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 14:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/b008fb5628a8e303e31b77ecacd785ca7c894d15', 'message': 'Define service_user for cinder services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all cinder services has been added by cinder.\n\nChange-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933\n(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)\n'}, {'number': 2, 'created': '2023-05-24 18:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/bf50519289a6d8cad23c74a9a889886e7513f3e0', 'message': 'Define service_user for cinder services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all cinder services has been added by cinder.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275\n\nChange-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933\n(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)\n'}, {'number': 3, 'created': '2023-05-25 11:00:40.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/4e9cbff1964645c94e4836f3639fd99d4e62f1bb', 'message': 'Define service_user for cinder services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all cinder services has been added by cinder.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213\n\nChange-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933\n(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)\n'}]",2,884211,4e9cbff1964645c94e4836f3639fd99d4e62f1bb,19,3,3,28619,,,0,"Define service_user for cinder services

In order to cover OSSA-2023-003, a requirement to define service_user
section for all cinder services has been added by cinder.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213

Change-Id: I19c2b03c61f714fedb593da8489e50d3fa08d933
(cherry picked from commit 1af3003e163e09f917dd124ae874f1bea6fe2c6b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/11/884211/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,b008fb5628a8e303e31b77ecacd785ca7c894d15,osa/OSSA-2023-003,send_service_user_token = {{ cinder_service_token_roles_required | bool }} [barbican_service_user] auth_section = keystone_authtoken [service_user] send_service_user_token = {{ cinder_service_token_roles_required | bool }} insecure = {{ keystone_service_internaluri_insecure | bool }} auth_type = {{ cinder_keystone_auth_type }} auth_url = {{ keystone_service_internalurl }} password = {{ cinder_service_password }} project_domain_id = {{ cinder_service_project_domain_id }} project_name = {{ cinder_service_project_name }} region_name = {{ keystone_service_region }} user_domain_id = {{ cinder_service_user_domain_id }} username = {{ cinder_service_user_name }},,16,0
openstack%2Freleases~884459,openstack/releases,master,Ie4f3fee9b589c4371733f4ddf0ff381f45324d64,Final release for OpenStack-Ansible Xena,MERGED,2023-05-26 07:21:02.000000000,2023-05-30 13:24:56.000000000,2023-05-30 13:24:56.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-26 07:21:02.000000000', 'files': ['deliverables/xena/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/527aa9feb09905c81a19ddc2dcf461f3c9a64d0b', 'message': 'Final release for OpenStack-Ansible Xena\n\nChange-Id: Ie4f3fee9b589c4371733f4ddf0ff381f45324d64\n'}]",1,884459,527aa9feb09905c81a19ddc2dcf461f3c9a64d0b,8,3,1,28619,,,0,"Final release for OpenStack-Ansible Xena

Change-Id: Ie4f3fee9b589c4371733f4ddf0ff381f45324d64
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/884459/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/openstack-ansible.yaml'],1,527aa9feb09905c81a19ddc2dcf461f3c9a64d0b,release_osa, - version: 24.6.1 projects: - repo: openstack/openstack-ansible hash: e1522c27907c6aa6dbe68a831791cd45fb01dac4,,4,0
openstack%2Fironic~883101,openstack/ironic,master,Id353c4f5260a7c469779b50ad302f442223df5a0,[iRMC] Fix IPMI incompatibility handling error,MERGED,2023-05-14 20:39:07.000000000,2023-05-30 13:21:59.000000000,2023-05-30 13:20:39.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-14 20:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60f2785671ee1aee7ce98f510d1107b963478c3d', 'message': '[WIP][iRMC] Fix IPMI incompatibility handling error\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n'}, {'number': 2, 'created': '2023-05-15 11:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/af9c48c824944eb0a2ec2f2b4468645ab0ba7311', 'message': '[WIP][iRMC] Fix IPMI incompatibility handling error\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n'}, {'number': 3, 'created': '2023-05-22 11:30:36.000000000', 'files': ['ironic/drivers/modules/irmc/management.py', 'releasenotes/notes/fix-overlooked-irmc-ipmi-incompatibility-patch-situation-c246d2b59b2e8a78.yaml', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/27bf2091135e4e0f2650e325378a69916b795a31', 'message': ""[iRMC] Fix IPMI incompatibility handling error\n\nThis patch deals with overlooked situation in patch\nd23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which\n`irmc_ipmi_succeed` flag is added to deal with iRMC\nfirmware's IPMI incompatibility introduced at iRMC\nfirmware version S6 2.00 and later.\nThat flag is set and updated by `irmc` power_interface\ncode and rest of iRMC driver code use that flag.\n\nWhen `ipmitool` is set as power_interface, that flag\nis not set nor updated and rest of iRMC driver code\nfail to handle IPMI incompatibility correctly.\n\nThis patch adds logic to check power_interface to\nmake iRMC driver properly deal with iRMC firmware's IPMI\nincompatibility even when `ipmitool` power_interface\nis used.\n\nChange-Id: Id353c4f5260a7c469779b50ad302f442223df5a0\n""}]",0,883101,27bf2091135e4e0f2650e325378a69916b795a31,18,3,3,30566,,,0,"[iRMC] Fix IPMI incompatibility handling error

This patch deals with overlooked situation in patch
d23f72ee501a5bdcc89806eb0ebbba929a36e64d, in which
`irmc_ipmi_succeed` flag is added to deal with iRMC
firmware's IPMI incompatibility introduced at iRMC
firmware version S6 2.00 and later.
That flag is set and updated by `irmc` power_interface
code and rest of iRMC driver code use that flag.

When `ipmitool` is set as power_interface, that flag
is not set nor updated and rest of iRMC driver code
fail to handle IPMI incompatibility correctly.

This patch adds logic to check power_interface to
make iRMC driver properly deal with iRMC firmware's IPMI
incompatibility even when `ipmitool` power_interface
is used.

Change-Id: Id353c4f5260a7c469779b50ad302f442223df5a0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/883101/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/irmc/management.py', 'ironic/drivers/modules/irmc/inspect.py']",2,60f2785671ee1aee7ce98f510d1107b963478c3d,fix_ipmi_incompat_handling_bug," if (node.driver_internal_info.get('irmc_ipmi_succeed') or getattr(node, 'power_interface') == 'ipmitool'):", if node.driver_internal_info.get('irmc_ipmi_succeed'):,14,7
openstack%2Fcharm-openstack-dashboard~844623,openstack/charm-openstack-dashboard,master,I43048928cf319b5ca9a8af68000736ca26ffcf0e,Fix placement of vault unit.,MERGED,2022-06-03 17:15:20.000000000,2023-05-30 13:18:23.000000000,2023-05-30 13:18:23.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-03 17:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/ace55ee8e6bc5dd6ad04ef53c11275ff3297be81', 'message': 'Fix placement of vault unit.\n\nChange-Id: I43048928cf319b5ca9a8af68000736ca26ffcf0e\n'}, {'number': 2, 'created': '2023-05-26 15:53:57.000000000', 'files': ['tests/bundles/jammy-vault.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/cc904247a2ab14efdb5f5318158025927bf249a1', 'message': 'Fix placement of vault unit.\n\nChange-Id: I43048928cf319b5ca9a8af68000736ca26ffcf0e\n'}]",2,844623,cc904247a2ab14efdb5f5318158025927bf249a1,12,4,2,2424,,,0,"Fix placement of vault unit.

Change-Id: I43048928cf319b5ca9a8af68000736ca26ffcf0e
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/23/844623/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/jammy-vault.yaml'],1,ace55ee8e6bc5dd6ad04ef53c11275ff3297be81,fix-jammy-bundle, - '3', - '4',1,1
openstack%2Fcharm-nova-compute~880745,openstack/charm-nova-compute,stable/wallaby,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:53:50.000000000,2023-05-30 12:58:29.000000000,2023-05-30 11:42:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:53:50.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d16dadfab943235bc17f0a1b697132fedeede063', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)\n'}]",8,880745,d16dadfab943235bc17f0a1b697132fedeede063,24,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/45/880745/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,d16dadfab943235bc17f0a1b697132fedeede063,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fswift~883936,openstack/swift,master,Ie8e0560f90207eede1992c8665e4d8571a505580,Fix GetOrHeadHandler unit tests to use public interface,MERGED,2023-05-23 12:39:15.000000000,2023-05-30 12:56:45.000000000,2023-05-30 12:55:37.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 12:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f4fe135d716c8c1cad0cbfc5fc632d402bf71a82', 'message': 'Fix GetOrHeadHandler unit tests to use public interface\n\nModify some unit tests to call the get_working_response() method of\nGetOrHeadHandler rather than a private method.\n\nExtract and re-use a TestSource helper class.\n\nChange-Id: Ie8e0560f90207eede1992c8665e4d8571a505580\n'}, {'number': 2, 'created': '2023-05-30 10:58:02.000000000', 'files': ['test/unit/proxy/controllers/test_base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/149b617c28514c36d1dec57232cce883375f1dbb', 'message': 'Fix GetOrHeadHandler unit tests to use public interface\n\nModify some unit tests to call the get_working_response() method of\nGetOrHeadHandler rather than a private method.\n\nExtract and re-use a TestSource helper class.\n\nChange-Id: Ie8e0560f90207eede1992c8665e4d8571a505580\n'}]",3,883936,149b617c28514c36d1dec57232cce883375f1dbb,13,3,2,7847,,,0,"Fix GetOrHeadHandler unit tests to use public interface

Modify some unit tests to call the get_working_response() method of
GetOrHeadHandler rather than a private method.

Extract and re-use a TestSource helper class.

Change-Id: Ie8e0560f90207eede1992c8665e4d8571a505580
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/883936/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_base.py'],1,f4fe135d716c8c1cad0cbfc5fc632d402bf71a82,refac,"class TestSource(object): def __init__(self, chunks, headers=None, body=b''): self.chunks = list(chunks) self.headers = headers or {} self.status = 200 self.swift_conn = None self.body = body def read(self, _read_size): if self.chunks: chunk = self.chunks.pop(0) if chunk is None: raise exceptions.ChunkReadTimeout() else: return chunk else: return self.body def getheader(self, header): # content-length for the whole object is generated dynamically # by summing non-None chunks if header.lower() == ""content-length"": if self.chunks: return str(sum(len(c) for c in self.chunks if c is not None)) return len(self.read(-1)) return self.headers.get(header.lower()) def getheaders(self): return [('content-length', self.getheader('content-length'))] + \ [(k, v) for k, v in self.headers.items()] with mock.patch.object(handler, '_get_source_and_node', return_value=(source, {})): resp = handler.get_working_response(req) client_chunks = list(resp.app_iter) sources = [(source1, node), (source2, node), (source3, node)] range_headers.append(handler.backend_headers.get('Range')) mock_get_source_and_node): resp = handler.get_working_response(req) client_chunks = list(resp.app_iter) self.assertEqual(range_headers, [None, 'bytes=8-27', 'bytes=16-27']) headers = {'transfer-encoding': 'chunked', 'content-type': 'text/plain'} source1 = TestSource([b'abcd', b'1234', b'abc', None], headers=headers) source2 = TestSource([b'efgh5678'], headers=headers) sources = [(source1, node), (source2, node)] def mock_get_source_and_node(): return sources.pop(0) mock_get_source_and_node): resp = handler.get_working_response(req) client_chunks = list(resp.app_iter) headers = {'content-type': 'text/plain'} source = TestSource([], headers=headers, body=b'the cake is a lie') with mock.patch.object(handler, '_get_source_and_node', return_value=(source, node)): resp = handler.get_working_response(req) resp.app_iter.close() with mock.patch.object(handler, '_get_source_and_node', return_value=(source, node)): resp = handler.get_working_response(req) next(resp.app_iter) resp.app_iter.close()"," class TestSource(object): def __init__(self, chunks): self.chunks = list(chunks) self.status = 200 def read(self, _read_size): if self.chunks: return self.chunks.pop(0) else: return b'' def getheader(self, header): if header.lower() == ""content-length"": return str(sum(len(c) for c in self.chunks)) def getheaders(self): return [('content-length', self.getheader('content-length'))] node = {} handler.source = source handler.node = node app_iter = handler._make_app_iter(req) client_chunks = list(app_iter) class TestSource(object): def __init__(self, chunks): self.chunks = list(chunks) self.status = 200 def read(self, _read_size): if self.chunks: chunk = self.chunks.pop(0) if chunk is None: raise exceptions.ChunkReadTimeout() else: return chunk else: return b'' def getheader(self, header): # content-length for the whole object is generated dynamically # by summing non-None chunks initialized as source1 if header.lower() == ""content-length"": return str(sum(len(c) for c in self.chunks if c is not None)) def getheaders(self): return [('content-length', self.getheader('content-length'))] sources = [(source2, node), (source3, node)] range_headers.append(handler.backend_headers['Range']) handler.source = source1 handler.node = node app_iter = handler._make_app_iter(req) side_effect=mock_get_source_and_node): client_chunks = list(app_iter) self.assertEqual(range_headers, ['bytes=8-27', 'bytes=16-27']) class TestChunkedSource(object): def __init__(self, chunks): self.chunks = list(chunks) self.status = 200 self.headers = {'transfer-encoding': 'chunked', 'content-type': 'text/plain'} def read(self, _read_size): if self.chunks: chunk = self.chunks.pop(0) if chunk is None: raise exceptions.ChunkReadTimeout() else: return chunk else: return b'' def getheader(self, header): return self.headers.get(header.lower()) def getheaders(self): return self.headers source1 = TestChunkedSource([b'abcd', b'1234', b'abc', None]) source2 = TestChunkedSource([b'efgh5678']) handler.source = source1 handler.node = node app_iter = handler._make_app_iter(req) lambda: (source2, node)): client_chunks = list(app_iter) class TestSource(object): def __init__(self): self.headers = {'content-type': 'text/plain', 'content-length': len(self.read(-1))} self.status = 200 def read(self, _read_size): return b'the cake is a lie' def getheader(self, header): return self.headers.get(header.lower()) def getheaders(self): return self.headers source = TestSource() handler.source = source handler.node = node app_iter = handler._make_app_iter(req) app_iter.close() handler.source = source handler.node = node app_iter = handler._make_app_iter(req) next(app_iter) app_iter.close()",66,116
openstack%2Fcharm-horizon-k8s~884675,openstack/charm-horizon-k8s,main,I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82,Ensure compatibility with Rock,MERGED,2023-05-30 10:22:26.000000000,2023-05-30 12:49:29.000000000,2023-05-30 12:35:21.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 10:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/c32f2c58b98a2c48f7e8b0aab8447ab4e858e298', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}, {'number': 2, 'created': '2023-05-30 11:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/64b855d9758262c2b9b294abe6eaf64f89f85c2a', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}, {'number': 3, 'created': '2023-05-30 11:28:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/67aea8ac2c21e1f0c1cdd845a65e6c35a4fbf876', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n- Remove installation of python3-mysqldb in the charm\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}, {'number': 4, 'created': '2023-05-30 12:04:52.000000000', 'files': ['CONTRIBUTING.md', 'src/templates/wsgi-horizon.conf', 'tests/unit/test_horizon_charm.py', 'src/charm.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/e0eb054cc532f4eb442ad52d896f145fddd93a2e', 'message': 'Ensure compatibility with Rock\n\n- Rename all mentions about Openstack Dashboard to Horizon for consistency\nwith the Rock (and the charm name)\n- Disable ""openstack-dashboard.conf"" inside the rock at setup\n- Remove installation of python3-mysqldb in the charm\n- Update healthcheck url to path served by the mod_wsgi\n\nChange-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82\n'}]",0,884675,e0eb054cc532f4eb442ad52d896f145fddd93a2e,18,3,4,35761,,,0,"Ensure compatibility with Rock

- Rename all mentions about Openstack Dashboard to Horizon for consistency
with the Rock (and the charm name)
- Disable ""openstack-dashboard.conf"" inside the rock at setup
- Remove installation of python3-mysqldb in the charm
- Update healthcheck url to path served by the mod_wsgi

Change-Id: I7ae6f25c30e461cb04ca9925ab1d0fa51b086b82
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/75/884675/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.md', 'src/templates/wsgi-horizon.conf', 'tests/unit/test_horizon_charm.py', 'src/charm.py', 'metadata.yaml']",5,c32f2c58b98a2c48f7e8b0aab8447ab4e858e298,refactor/horizon-dashboard,"summary: OpenStack Horizon service OpenStack Horizon provides an HTTP service for managing, selecting, horizon: resource: horizon-image horizon-image: description: OCI image for Horizon horizon: interface: horizon interface: horizon-peer","summary: OpenStack openstack-dashboard service OpenStack openstack-dashboard provides an HTTP service for managing, selecting, openstack-dashboard: resource: openstack-dashboard-image openstack-dashboard-image: description: OCI image for OpenStack Dashboard openstack-dashboard: interface: openstack-dashboard interface: openstack-dashboard-peer",38,41
openstack%2Fpuppet-pacemaker~877215,openstack/puppet-pacemaker,stable/1.5.x,I2a2250894c8c9a881120983897c22c491b2e012d,stably-only: Pin concurrent-ruby,MERGED,2023-03-13 05:28:26.000000000,2023-05-30 12:48:57.000000000,2023-05-30 12:48:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-13 05:28:26.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/94bd8c052fd27d68fb9f0ee24734f100aa34e37e', 'message': ""stably-only: Pin concurrent-ruby\n\nconcurrent-ruby 1.2.0 dropped the implementation which puppet still\nrelies on. Let's pin it to the older version to fix the broken tests\nwith old and current puppet versions.\n\nThis is submitted to stable branches only because master uses the new\nversion of puppet which replaces the removed interfaces.\n\nChange-Id: I2a2250894c8c9a881120983897c22c491b2e012d\n""}]",3,877215,94bd8c052fd27d68fb9f0ee24734f100aa34e37e,12,4,1,9816,,,0,"stably-only: Pin concurrent-ruby

concurrent-ruby 1.2.0 dropped the implementation which puppet still
relies on. Let's pin it to the older version to fix the broken tests
with old and current puppet versions.

This is submitted to stable branches only because master uses the new
version of puppet which replaces the removed interfaces.

Change-Id: I2a2250894c8c9a881120983897c22c491b2e012d
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/15/877215/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,94bd8c052fd27d68fb9f0ee24734f100aa34e37e,," gem 'concurrent-ruby', '< 1.2.0', :require => false",,1,0
openstack%2Ftripleo-upgrade~884434,openstack/tripleo-upgrade,stable/wallaby,I428f204e14d790fdbb102bc30a69cf1077da6352,Add ceph health status to log collection playbook,MERGED,2023-05-25 18:33:07.000000000,2023-05-30 12:48:56.000000000,2023-05-30 12:48:56.000000000,"[{'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 29307}, {'_account_id': 32432}]","[{'number': 1, 'created': '2023-05-25 18:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/240018049af28c05193a2ac4a0d3aa6e900f7003', 'message': 'Add ceph health status to log collection playbook\n\nAdd ceph health status to log collection playbook to get insight of ceph\ncluster state between next update steps.\n\nChange-Id: I428f204e14d790fdbb102bc30a69cf1077da6352\n'}, {'number': 2, 'created': '2023-05-25 19:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0b3cc996941f697e99bd0c2e6cf98cc19d60dc0a', 'message': 'Add ceph health status to log collection playbook\n\nAdd ceph health status to log collection playbook to get insight of ceph\ncluster state between next update steps.\n\nChange-Id: I428f204e14d790fdbb102bc30a69cf1077da6352\n'}, {'number': 3, 'created': '2023-05-29 11:23:06.000000000', 'files': ['templates/collect_logs.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9ab9a8699d80dcbe698c25bc657c250178511348', 'message': 'Add ceph health status to log collection playbook\n\nAdd ceph health status to log collection playbook to get insight of ceph\ncluster state between next update steps.\n\nChange-Id: I428f204e14d790fdbb102bc30a69cf1077da6352\n'}]",4,884434,9ab9a8699d80dcbe698c25bc657c250178511348,14,4,3,33080,,,0,"Add ceph health status to log collection playbook

Add ceph health status to log collection playbook to get insight of ceph
cluster state between next update steps.

Change-Id: I428f204e14d790fdbb102bc30a69cf1077da6352
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/34/884434/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/collect_logs.yaml.j2'],1,240018049af28c05193a2ac4a0d3aa6e900f7003,update-logs-and-test," - name: get ceph health status shell: | cephadm shell ceph -s &>> /var/log/extra/ceph-status-{% raw %}{{ current_stage }}{% endraw %}.txt delegate_to: ""{{ inventory_hostmap[controller_role_name]|first }}"" when: ceph_osd_enabled|bool ",,6,0
openstack%2Fopenstack-ansible-haproxy_server~884532,openstack/openstack-ansible-haproxy_server,stable/2023.1,Iba9156c5b909f7b18599638db4471bab12794f0e,Fix service-redirect.j2 template,MERGED,2023-05-29 14:29:53.000000000,2023-05-30 12:37:24.000000000,2023-05-30 12:36:32.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-29 14:29:53.000000000', 'files': ['templates/service-redirect.j2', 'templates/service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/418750857a81902f970897c0ccf3b41b9c1920b5', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n(cherry picked from commit c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e)\n""}]",0,884532,418750857a81902f970897c0ccf3b41b9c1920b5,9,3,1,28619,,,0,"Fix service-redirect.j2 template

This change fixes service-redirect.j2 template that was not working so
far, mainly by replacing:
- 'vip_bind' with 'vip_addres'
- 'item' with 'service'

Additionally, I removed `haproxy_tcp_upgrade_backend` support because
it's not really needed after haproxy separated service config was
implemented.

I also changed variable name `haproxy_tcp_upgrade_frontend` to
`haproxy_accept_both_protocols` to better describe what exactly it does.
Release note is not needed as ``haproxy_tcp_upgrade_frontend` was not
working properly before.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445

Change-Id: Iba9156c5b909f7b18599638db4471bab12794f0e
(cherry picked from commit c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/32/884532/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service-redirect.j2', 'templates/service.j2']",2,418750857a81902f970897c0ccf3b41b9c1920b5,tls-backend-stable/2023.1,{# service-redirect.j2 allows frontend to handle both HTTP and HTTPS connections. #} {# This is especially useful during HTTP->HTTPS service endpoint transition. #} {% if service.haproxy_accept_both_protocols | default(false) %},"{# TODO: remove if and section inside if after HTTPS upgrade #} {# During an upgrade of internal frontends from HTTP to HTTPS, need to accept both HTTP and HTTPS until client config has been changed #} {% if (service.haproxy_tcp_upgrade_frontend | default(false)) and (service.haproxy_ssl_all_vips | default(false)) %}{# TODO: remove if and section inside if after HTTPS upgrade #} {# During an upgrade of backends from HTTP to HTTPS, need to uses both HTTP and HTTPS backends until backends have been changed #} {% if service.haproxy_tcp_upgrade_backend | default(false) and service.haproxy_backend_ssl | default(false) %} {% set entry = [] %} {% set _ = entry.append(""server"") %} {% set _ = entry.append((host_name.name | default(host_name)) + ""-http"" | string) %} {% set _ = entry.append((host_name.ip_addr | default(ip_addr)) + "":"" + haproxy_backend_port | string) %} {% set _ = entry.append(""check"") %} {% set _ = entry.append(""port"") %} {% set _ = entry.append(haproxy_check_port | string) %} {% set _ = entry.append(""inter"") %} {% set _ = entry.append(service.interval|default(haproxy_interval) | string) %} {% set _ = entry.append(""rise"") %} {% set _ = entry.append(service.backend_rise|default(haproxy_rise | string)) %} {% set _ = entry.append(""fall"") %} {% set _ = entry.append(service.backend_fall|default(haproxy_fall | string)) %} {% set backend_server_options = service.haproxy_backend_server_options|default([]) %} {% for option in backend_server_options %} {% set _ = entry.append(option) %} {% endfor %} {% set backend_per_server_options = host_name.backend_server_options|default([]) %} {% for option in backend_per_server_options %} {% set _ = entry.append(option) %} {% endfor %} {{ entry | join(' ') }} {% endif %}",53,73
openstack%2Freleases~884682,openstack/releases,master,I008c7307b8359832d3e277db7b8cda226e91ecef,kayobe: 2023.1 rc1,ABANDONED,2023-05-30 12:27:24.000000000,2023-05-30 12:34:25.000000000,,[{'_account_id': 22629}],"[{'number': 1, 'created': '2023-05-30 12:27:24.000000000', 'files': ['deliverables/antelope/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/229f42b3df05c0df240b0ec6f7f2edd90ab22811', 'message': 'kayobe: 2023.1 rc1\n\nChange-Id: I008c7307b8359832d3e277db7b8cda226e91ecef\n'}]",0,884682,229f42b3df05c0df240b0ec6f7f2edd90ab22811,2,1,1,23084,,,0,"kayobe: 2023.1 rc1

Change-Id: I008c7307b8359832d3e277db7b8cda226e91ecef
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/884682/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/kayobe.yaml'],1,229f42b3df05c0df240b0ec6f7f2edd90ab22811,,releases: - version: 14.0.0.0rc1 projects: - repo: openstack/kayobe hash: 16a61da41a9516445459c1ac75464e67b5f37ee2 - repo: openstack/kayobe-config hash: e1f520ca3378c9c28f81aba75d41f447dc73fea8 - repo: openstack/kayobe-config-dev hash: c558f2101b8db7dd2b3c051aeb3d173f7a609d05 branches: - name: stable/2023.1 location: 14.0.0.0rc1,,12,0
openstack%2Fcharm-hacluster~875768,openstack/charm-hacluster,stable/jammy,Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5,Use get_property instead of get-property,MERGED,2023-02-28 17:33:58.000000000,2023-05-30 12:19:50.000000000,2023-05-30 12:19:50.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/339b44df0b864c6824b19888d680ee132e90edda', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 2, 'created': '2023-02-28 17:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/2fddc8b38d7d56a330036ba311f0583e12e66c58', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 3, 'created': '2023-02-28 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/d9eedeaee8e9e17806c37a51632a1f7d501d2fb3', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 4, 'created': '2023-03-02 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/88480a59ed3ee3a59668b60c99388a08b206171c', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}, {'number': 5, 'created': '2023-05-29 19:27:14.000000000', 'files': ['unit_tests/test_pcmk.py', 'hooks/pcmk.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6909080a77aab7a13ab5e9695e5665b25f2df4e9', 'message': 'Use get_property instead of get-property\n\nhacluster uses the command ""crm configure get-property <CMD>"" to obtain\na property of the cluster, although ""get-property"" has been deprecated\nin favor of ""get_property"", since crmsh-4.2.1 a warning is printed to\nstdout[0] breaking the parsing.\n\n    # crm configure get-property maintenance-mode 2>/dev/null\n    WARNING: This command \'get-property\' is deprecated, please use \'get_property\'\n    INFO: ""get-property"" is accepted as ""get_property""\n    true\n\n[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688\n\nChange-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5\nCloses-Bug: #2008704\n(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)\n'}]",1,875768,6909080a77aab7a13ab5e9695e5665b25f2df4e9,16,4,5,2424,,,0,"Use get_property instead of get-property

hacluster uses the command ""crm configure get-property <CMD>"" to obtain
a property of the cluster, although ""get-property"" has been deprecated
in favor of ""get_property"", since crmsh-4.2.1 a warning is printed to
stdout[0] breaking the parsing.

    # crm configure get-property maintenance-mode 2>/dev/null
    WARNING: This command 'get-property' is deprecated, please use 'get_property'
    INFO: ""get-property"" is accepted as ""get_property""
    true

[0] https://github.com/ClusterLabs/crmsh/commit/86282af8e5389138ddd204ed5bd9358460219688

Change-Id: Id0ee9ab1873d14dcd1c960001cdeb8318f599ef5
Closes-Bug: #2008704
(cherry picked from commit 8446b38347c666ecb2bddaadfd104ee0d4b5c92a)
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/68/875768/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_pcmk.py', 'hooks/pcmk.py']",2,339b44df0b864c6824b19888d680ee132e90edda,kinetic-stable/jammy," # get-property deprecated in favor of get_property (LP: #2008704) if crm_version() >= StrictVersion('4.2.1'): output = subprocess.check_output( ['crm', 'configure', 'get_property', name], universal_newlines=True) elif crm_version() >= StrictVersion('2.3.0'):", if crm_version() >= StrictVersion('2.3.0'):,14,1
openstack%2Fcharm-hacluster~875770,openstack/charm-hacluster,stable/jammy,I535233730733ed39cb49d122ecd35dab34a28f1a,charm-helpers sync,MERGED,2023-02-28 17:35:44.000000000,2023-05-30 12:19:31.000000000,2023-05-30 12:19:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a2dec2400af461d2813f30f7add4bd19fca1629c', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}, {'number': 2, 'created': '2023-02-28 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/e77b04b5f429a141f76e356fc151d18a5e7974f3', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}, {'number': 3, 'created': '2023-03-02 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/16c24cc02e4b3b1dd0fb1ed4f8014582ab5300aa', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}, {'number': 4, 'created': '2023-05-29 19:27:14.000000000', 'files': ['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/core/host.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/19615c8139383acb6c0d5aa40292c974612167a7', 'message': 'charm-helpers sync\n\nChange-Id: I535233730733ed39cb49d122ecd35dab34a28f1a\n'}]",1,875770,19615c8139383acb6c0d5aa40292c974612167a7,15,4,4,2424,,,0,"charm-helpers sync

Change-Id: I535233730733ed39cb49d122ecd35dab34a28f1a
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/70/875770/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/contrib/openstack/files/check_deferred_restarts.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'charmhelpers/__init__.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/core/host.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/charmsupport/nrpe.py', 'charmhelpers/fetch/centos.py']",24,a2dec2400af461d2813f30f7add4bd19fca1629c,kinetic-stable/jammy," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",461,336
openstack%2Fcharm-hacluster~884641,openstack/charm-hacluster,stable/jammy,I4e3bfbc5e9169b68b404b500f402dfce9ebaccac,Update testing bundles,MERGED,2023-05-29 19:27:14.000000000,2023-05-30 12:19:30.000000000,2023-05-30 12:19:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 19:27:14.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/88bcf147f7e5f36933e4ff1a6253c3fd22c72c0e', 'message': 'Update testing bundles\n\nThis change reconfigures the bundles to use OpenStack yoga, the last\nversion that supports Focal and Jammy, this allows testing on a stable\nbase.\n\nFor the case of mysql the same principle is used when switching to the\n8.0/edge tracks\n\nChange-Id: I4e3bfbc5e9169b68b404b500f402dfce9ebaccac\nCloses-Bug: #1991528\n'}]",1,884641,88bcf147f7e5f36933e4ff1a6253c3fd22c72c0e,8,4,1,2424,,,0,"Update testing bundles

This change reconfigures the bundles to use OpenStack yoga, the last
version that supports Focal and Jammy, this allows testing on a stable
base.

For the case of mysql the same principle is used when switching to the
8.0/edge tracks

Change-Id: I4e3bfbc5e9169b68b404b500f402dfce9ebaccac
Closes-Bug: #1991528
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/41/884641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",2,88bcf147f7e5f36933e4ff1a6253c3fd22c72c0e,kinetic-stable/jammy, channel: 8.0/edge channel: 8.0/edge channel: yoga/edge, channel: latest/edge channel: latest/edge channel: latest/edge,6,6
openstack%2Fcharm-hacluster~871368,openstack/charm-hacluster,stable/jammy,Iccd88d2e6bedcf87ae88b47f1296284224f7e406,Pin tox to < 4.0.0,MERGED,2023-01-20 20:11:23.000000000,2023-05-30 12:19:29.000000000,2023-05-30 12:19:29.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-20 20:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/a1a8a799fe1887f83db8e705d835d63d127b3d51', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406\n""}, {'number': 2, 'created': '2023-02-28 17:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/3ada99dfabd30e61dc694ad80a491e910f92576b', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406\n""}, {'number': 3, 'created': '2023-03-02 12:50:22.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/0cd6218750641334d33adbee9b13b6291ac2be94', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406\n""}]",3,871368,0cd6218750641334d33adbee9b13b6291ac2be94,17,4,3,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Related-Bug: #2002788
Change-Id: Iccd88d2e6bedcf87ae88b47f1296284224f7e406
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/68/871368/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a1a8a799fe1887f83db8e705d835d63d127b3d51,kinetic-stable/jammy, tox < 4.0.0,,1,0
openstack%2Fcharm-openstack-dashboard~869036,openstack/charm-openstack-dashboard,stable/yoga,I3f956ae811cb6c46b5e2ab31f1353678a35e623a,Handle JSON data from dashboard plugins,MERGED,2023-01-03 07:31:33.000000000,2023-05-30 12:02:48.000000000,2023-05-30 12:02:48.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-03 07:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/2762336b4ac8c877c5cf730d0c9097ff56ab5c3f', 'message': 'Handle JSON data from dashboard plugins\n\nThe dashboard-plugin interface sends relation data json encoded but\nthe charm does not decode the local-settings key. This change decodes\nthe data. I have not been able to find any classic plugins that\nrely on sending raw data but to maintain backwards compatability\njust incase the charm will fallback to the old behaviour if the\nrelation data is not json encoded.\n\nChange-Id: I3f956ae811cb6c46b5e2ab31f1353678a35e623a\nCloses-Bug: #1986538\n(cherry picked from commit 123b8447ed40a9c5339bd181ce707d726d09a565)\n'}, {'number': 2, 'created': '2023-05-26 16:58:27.000000000', 'files': ['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4de459a008cb119d4afc3803c3783f093dc79a6b', 'message': 'Handle JSON data from dashboard plugins\n\nThe dashboard-plugin interface sends relation data json encoded but\nthe charm does not decode the local-settings key. This change decodes\nthe data. I have not been able to find any classic plugins that\nrely on sending raw data but to maintain backwards compatability\njust incase the charm will fallback to the old behaviour if the\nrelation data is not json encoded.\n\nChange-Id: I3f956ae811cb6c46b5e2ab31f1353678a35e623a\nCloses-Bug: #1986538\n(cherry picked from commit 123b8447ed40a9c5339bd181ce707d726d09a565)\n'}]",1,869036,4de459a008cb119d4afc3803c3783f093dc79a6b,11,4,2,12549,,,0,"Handle JSON data from dashboard plugins

The dashboard-plugin interface sends relation data json encoded but
the charm does not decode the local-settings key. This change decodes
the data. I have not been able to find any classic plugins that
rely on sending raw data but to maintain backwards compatability
just incase the charm will fallback to the old behaviour if the
relation data is not json encoded.

Change-Id: I3f956ae811cb6c46b5e2ab31f1353678a35e623a
Closes-Bug: #1986538
(cherry picked from commit 123b8447ed40a9c5339bd181ce707d726d09a565)
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/36/869036/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'unit_tests/test_horizon_contexts.py']",2,2762336b4ac8c877c5cf730d0c9097ff56ab5c3f,bug/1986538-stable/yoga," def test_LocalSettingsContextJSON(self): self.relation_ids.return_value = ['plugin:0', 'plugin-too:0'] self.related_units.side_effect = [['horizon-plugin/0'], ['horizon-plugin-too/0']] # One JSON and one raw relation self.relation_get.side_effect = [{'priority': ""99"", 'local-settings': '""FOO = True""'}, {'priority': 60, 'local-settings': 'BAR = False'}] self.assertEqual(horizon_contexts.LocalSettingsContext()(), {'settings': ['# horizon-plugin-too/0\n' 'BAR = False', '# horizon-plugin/0\n' 'FOO = True']}) ",,37,1
openstack%2Fcinder~850618,openstack/cinder,master,Ic805477b76c41750f2e55d293214d77e75f95d51,Fix create volume error from source volume,NEW,2022-07-21 09:28:02.000000000,2023-05-30 11:40:45.000000000,,"[{'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 35193}]","[{'number': 1, 'created': '2022-07-21 09:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fc387c603fe89c4c47549dbe342ff7990b5deca', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 2, 'created': '2022-08-10 10:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9d1f197a4b070cbe7d8d83a07a2209319cc562c', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 3, 'created': '2022-09-19 11:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da0150df4abb37132656386a6241776a0811613e', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 4, 'created': '2022-10-10 11:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3c902a88735f7a2e3c39d5bbe9c70251dcb9566', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 5, 'created': '2022-10-11 12:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d37fdc2dfded17c8e484e7af9af8f0b3b16c6a8', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 6, 'created': '2023-03-10 12:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e193f121f3e859234fdd69d6e5334f0c74d2d697', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 7, 'created': '2023-03-16 11:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd255733e96f4e70c172f3080450805a6c578ea0', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 8, 'created': '2023-03-22 11:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e760f1854830bf875dd3dd8554be769c8056562', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}, {'number': 9, 'created': '2023-05-18 10:15:58.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f97bd93430f8f150467ac62da4ca99e1ab9a6a4', 'message': ""Fix create volume error from source volume\n\nWhile creating a volume from a source volume if the source volume's\nvolume_type_id is none then set the source volume id to the currently\nselected volume type's id.\n\nPartial-Bug: #1589349\nChange-Id: Ic805477b76c41750f2e55d293214d77e75f95d51\n""}]",3,850618,8f97bd93430f8f150467ac62da4ca99e1ab9a6a4,148,3,9,30615,,,0,"Fix create volume error from source volume

While creating a volume from a source volume if the source volume's
volume_type_id is none then set the source volume id to the currently
selected volume type's id.

Partial-Bug: #1589349
Change-Id: Ic805477b76c41750f2e55d293214d77e75f95d51
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/850618/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,3fc387c603fe89c4c47549dbe342ff7990b5deca,850618,"import copy temp_source_vol = copy.deepcopy(source_volume) if temp_source_vol.volume_type_id is None and volume_type.id: temp_source_vol.volume_type_id = volume_type.id elif volume_type.id != temp_source_vol.volume_type_id: temp_source_vol.volume_type,"," if volume_type.id != source_volume.volume_type_id: source_volume.volume_type,",6,2
openstack%2Fopenstacksdk~884518,openstack/openstacksdk,master,Ie4946407b6e591c98163a701ea2f126d13375788,Add image metadef_resource_type into the registry,MERGED,2023-05-26 15:42:19.000000000,2023-05-30 11:24:02.000000000,2023-05-30 11:22:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 15:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3db361853ab2bcd9f3ad8ff20fdbef0844b99eb2', 'message': 'Add image metadef_resource_type into the registry\n\nEvery resource should be present in the service registry to allow use of\ngeneralized functions (search_resources)\n\nChange-Id: Ie4946407b6e591c98163a701ea2f126d13375788\n'}, {'number': 2, 'created': '2023-05-29 10:39:02.000000000', 'files': ['openstack/image/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2e186521d8f7ee81b159434092b04c2a3601f7e7', 'message': 'Add image metadef_resource_type into the registry\n\nEvery resource should be present in the service registry to allow use of\ngeneralized functions (search_resources)\n\nChange-Id: Ie4946407b6e591c98163a701ea2f126d13375788\n'}]",5,884518,2e186521d8f7ee81b159434092b04c2a3601f7e7,20,2,2,27900,,,0,"Add image metadef_resource_type into the registry

Every resource should be present in the service registry to allow use of
generalized functions (search_resources)

Change-Id: Ie4946407b6e591c98163a701ea2f126d13375788
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/18/884518/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/_proxy.py'],1,3db361853ab2bcd9f3ad8ff20fdbef0844b99eb2,,"_MRTA_TYPE_ALIAS = _metadef_resource_type.MetadefResourceTypeAssociation ""metadef_resource_type"": _metadef_resource_type.MetadefResourceType, ""metadef_resource_type_association"": _MRTA_TYPE_ALIAS,",,4,0
openstack%2Fkolla-ansible~883915,openstack/kolla-ansible,stable/zed,Ide0079ef4d28e3a3fa60288a74b936531c52ce60,Fix the fluentd regexp to collect the logs,MERGED,2023-05-23 15:50:06.000000000,2023-05-30 11:16:49.000000000,2023-05-30 11:14:54.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-23 15:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e27415975907b7c8a84367a6d95b488275335ba7', 'message': 'the fluentd regexp is wrong, it can not collect log\n\nThe default value of logging_context_format_string and logging_user_identity_format is change [1][2]\n\n[1]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L147\n[2]https://opendev.org/openstack/oslo.log/src/branch/master/oslo_log/_options.py#L169\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n'}, {'number': 2, 'created': '2023-05-24 13:59:38.000000000', 'files': ['ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ed259ec07e89cdc1c4102fb33aa3fee30490170', 'message': 'Fix the fluentd regexp to collect the logs\n\nThe default value of logging_context_format_string and\nlogging_user_identity_format has changed [1][2][3].\nThis is to correct fluentd to use the same format.\n\n[1]https://opendev.org/openstack/oslo.log/commit/ebdee7f39920ad5b4268ee296952432b0d41a375\n[2]https://opendev.org/openstack/oslo.log/commit/7ed065f38df0595881d07eb91cec9e5c07cb38be\n\n[3]https://review.opendev.org/c/openstack/oslo.log/+/838185\n\nCloses-Bug: #1872220\n\nChange-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60\n(cherry picked from commit 900c2d20bb461111a37d37349b693bf8f8cb7135)\n'}]",0,883915,5ed259ec07e89cdc1c4102fb33aa3fee30490170,15,6,2,35976,,,0,"Fix the fluentd regexp to collect the logs

The default value of logging_context_format_string and
logging_user_identity_format has changed [1][2][3].
This is to correct fluentd to use the same format.

[1]https://opendev.org/openstack/oslo.log/commit/ebdee7f39920ad5b4268ee296952432b0d41a375
[2]https://opendev.org/openstack/oslo.log/commit/7ed065f38df0595881d07eb91cec9e5c07cb38be

[3]https://review.opendev.org/c/openstack/oslo.log/+/838185

Closes-Bug: #1872220

Change-Id: Ide0079ef4d28e3a3fa60288a74b936531c52ce60
(cherry picked from commit 900c2d20bb461111a37d37349b693bf8f8cb7135)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/883915/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/input/00-global.conf.j2'],1,e27415975907b7c8a84367a6d95b488275335ba7,fluentd_regexp-stable/zed, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(\S+ req-\S+ \S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[((?<global_request_id>\S+) req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<system_scope>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/, format_firstline /^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}.\d{3} \d+ \S+ \S+ \[(req-\S+ \S+ \S+ \S+ \S+ \S+|-)\]/ format1 /^(?<Timestamp>\S+ \S+) (?<Pid>\d+) (?<log_level>\S+) (?<python_module>\S+) (\[(req-(?<request_id>\S+) (?<user_id>\S+) (?<tenant_id>\S+) (?<domain_id>\S+) (?<user_domain>\S+) (?<project_domain>\S+)|-)\])? (?<Payload>.*)?$/,2,2
openstack%2Fkolla~884487,openstack/kolla,stable/yoga,I2e5601229c02953a570be3dd96f8649c362cd059,CI: Fix centos9 builds and drop unnecessary zuul vars,MERGED,2023-05-26 12:27:06.000000000,2023-05-30 11:16:49.000000000,2023-05-30 11:14:52.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-05-26 12:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/28bc453d2930a0accbd15577c046f1ecf74801fe', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 2, 'created': '2023-05-26 12:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d800dfcb681ff634f975bd76a6d0c5f820df27d', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 3, 'created': '2023-05-26 13:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/17fe689a8e055115e8c4f31b8bc2dd51d21818d6', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 4, 'created': '2023-05-26 13:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/44b339d9d968ef0054b7610a7fc7da1008389209', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 5, 'created': '2023-05-26 14:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/23607a095980126bb430e8043e387596d1c0798c', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 6, 'created': '2023-05-26 14:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8a752964b6bfc409e5d5232bfa2222eaf332fa70', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 7, 'created': '2023-05-29 05:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3524c3a230019d8925d37738c23245eb1c96d111', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 8, 'created': '2023-05-29 08:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aa292da9b1ebf9091fffa63dc0f67fd86f38543e', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 9, 'created': '2023-05-29 11:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f01f1a439364c91c1a6667f70c89bf0f5876088e', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 10, 'created': '2023-05-29 12:32:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d7946878811d5bfdad3b084a802dd8fa2f2cfc0', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 11, 'created': '2023-05-29 16:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56e5af4f07c97de6cd14aebf0ad6bba8c6bf4bd8', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 12, 'created': '2023-05-29 16:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71379bc95725bce7d725dfc4432847b340c7bfc9', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}, {'number': 13, 'created': '2023-05-29 17:16:53.000000000', 'files': ['kolla/image/build.py', 'tests/playbooks/run.yml', '.zuul.d/centos.yaml', 'docker/base/Dockerfile.j2', '.zuul.d/rocky.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9c0a62a9526a366651ae7ce0a96676b18221b97f', 'message': 'CI: Fix centos9 builds and drop unnecessary zuul vars\n\nChange-Id: I2e5601229c02953a570be3dd96f8649c362cd059\n'}]",8,884487,9c0a62a9526a366651ae7ce0a96676b18221b97f,46,4,13,22629,,,0,"CI: Fix centos9 builds and drop unnecessary zuul vars

Change-Id: I2e5601229c02953a570be3dd96f8649c362cd059
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/884487/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/rocky.yaml']",2,28bc453d2930a0accbd15577c046f1ecf74801fe,,," vars: base_distro: ""rocky"" kolla_python_version: ""3.9"" vars: base_distro: ""rocky"" kolla_python_version: ""3.9""",2,8
openstack%2Fswift~882973,openstack/swift,master,Iccf43ec7d355e26ae4efe58b167ffccd89b158b3,Refactor for extract closure to method,MERGED,2023-05-11 15:22:36.000000000,2023-05-30 10:55:59.000000000,2023-05-30 10:54:57.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/07169f09597eba21ae20e72cc63bf8893c9159a3', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 2, 'created': '2023-05-16 05:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a99b300f37a7365461d6cb76ce8d44ebcbe855b8', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 3, 'created': '2023-05-18 18:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6a79613202dcd78011a775c94b813770c6a23e06', 'message': 'Refactor for extract closure to method\nReplace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 4, 'created': '2023-05-18 18:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37a7a5d6a23208c57184455b05b7100fa14b0f16', 'message': 'Refactor for extract closure to method\nReplace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 5, 'created': '2023-05-18 22:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/244abcd9e4ec04c08593d16001355c544280e941', 'message': 'Refactor for extract closure to method\nand replace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 6, 'created': '2023-05-18 22:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/50f3ee842eff077333b1a23c8a941d00e40054c5', 'message': 'Refactor for extract closure to method\nReplace for py3 nonlocal variables\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 7, 'created': '2023-05-21 22:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e75d3f3f476fa22951807b2e095f5443efa220fc', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 8, 'created': '2023-05-22 17:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f463c72970b4aa0c1f8f04d2f917172c67bf5bb', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}, {'number': 9, 'created': '2023-05-23 18:38:04.000000000', 'files': ['test/unit/proxy/controllers/test_base.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fd6a1ad659a0c1eee1c50206117f5f74b7c34d6f', 'message': 'Refactor for extract closure to method\n\nChange-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3\n'}]",55,882973,fd6a1ad659a0c1eee1c50206117f5f74b7c34d6f,44,3,9,35790,,,0,"Refactor for extract closure to method

Change-Id: Iccf43ec7d355e26ae4efe58b167ffccd89b158b3
",git fetch https://review.opendev.org/openstack/swift refs/changes/73/882973/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/base.py'],1,07169f09597eba21ae20e72cc63bf8893c9159a3,refac," def get_next_doc_part(self): while True: try: # This call to next() performs IO when we have a # multipart/byteranges response; it reads the MIME # boundary and part headers. # # If we don't have a multipart/byteranges response, # but just a 200 or a single-range 206, then this # performs no IO, and either just returns source or # raises StopIteration. with WatchdogTimeout(self.app.watchdog, self.node_timeout, ChunkReadTimeout): # if StopIteration is raised, it escapes and is # handled elsewhere start_byte, end_byte, length, headers, part = next( self.parts_iter[0]) return (start_byte, end_byte, length, headers, part) except ChunkReadTimeout: new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source[0], 'swift_conn', None): close_swift_conn(self.source[0]) self.source[0] = new_source self.node[0] = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. self.parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) else: raise StopIteration() def iter_bytes_from_response_part(self, part_file, nbytes): nchunks = 0 buf = b'' part_file = ByteCountEnforcer(part_file, nbytes) while True: try: with WatchdogTimeout(self.app.watchdog, self.node_timeout, ChunkReadTimeout): chunk = part_file.read(self.app.object_chunk_size) nchunks += 1 # NB: this append must be *inside* the context # manager for test.unit.SlowBody to do its thing buf += chunk if nbytes is not None: nbytes -= len(chunk) except (ChunkReadTimeout, ShortReadError): exc_type, exc_value, exc_traceback = exc_info() if self.newest or self.server_type != 'Object': raise try: self.fast_forward(self.bytes_used_from_backend) except (HTTPException, ValueError): six.reraise(exc_type, exc_value, exc_traceback) except RangeAlreadyComplete: break buf = b'' new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source[0], 'swift_conn', None): close_swift_conn(self.source[0]) self.source[0] = new_source self.node[0] = new_node # This is safe; it just sets up a generator but # does not call next() on it, so no IO is # performed. self.parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) try: _junk, _junk, _junk, _junk, part_file = \ self.get_next_doc_part(self) except StopIteration: # Tried to find a new node from which to # finish the GET, but failed. There's # nothing more we can do here. six.reraise(exc_type, exc_value, exc_traceback) part_file = ByteCountEnforcer(part_file, nbytes) else: six.reraise(exc_type, exc_value, exc_traceback) else: if buf and self.skip_bytes: if self.skip_bytes < len(buf): buf = buf[self.skip_bytes:] self.bytes_used_from_backend += self.skip_bytes self.skip_bytes = 0 else: self.skip_bytes -= len(buf) self.bytes_used_from_backend += len(buf) buf = b'' if not chunk: if buf: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' break if self.client_chunk_size is not None: while len(buf) >= self.client_chunk_size: client_chunk = buf[:self.client_chunk_size] buf = buf[self.client_chunk_size:] with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += \ len(client_chunk) yield client_chunk else: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' # This is for fairness; if the network is outpacing # the CPU, we'll always be able to read and write # data without encountering an EWOULDBLOCK, and so # eventlet will not switch greenthreads on its own. # We do it manually so that clients don't starve. # # The number 5 here was chosen by making stuff up. # It's not every single chunk, but it's not too big # either, so it seemed like it would probably be an # okay choice. # # Note that we may trampoline to other greenthreads # more often than once every 5 chunks, depending on # how blocking our network IO is; the explicit sleep # here simply provides a lower bound on the rate of # trampolining. if nchunks % 5 == 0: sleep() self.get_next_doc_part() part_iter = self.iter_bytes_from_response_part( part, byte_count)"," def get_next_doc_part(): while True: try: # This call to next() performs IO when we have a # multipart/byteranges response; it reads the MIME # boundary and part headers. # # If we don't have a multipart/byteranges response, # but just a 200 or a single-range 206, then this # performs no IO, and either just returns source or # raises StopIteration. with WatchdogTimeout(self.app.watchdog, node_timeout, ChunkReadTimeout): # if StopIteration is raised, it escapes and is # handled elsewhere start_byte, end_byte, length, headers, part = next( parts_iter[0]) return (start_byte, end_byte, length, headers, part) except ChunkReadTimeout: new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(source[0], 'swift_conn', None): close_swift_conn(source[0]) source[0] = new_source node[0] = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) else: raise StopIteration() def iter_bytes_from_response_part(part_file, nbytes): nchunks = 0 buf = b'' part_file = ByteCountEnforcer(part_file, nbytes) while True: try: with WatchdogTimeout(self.app.watchdog, node_timeout, ChunkReadTimeout): chunk = part_file.read(self.app.object_chunk_size) nchunks += 1 # NB: this append must be *inside* the context # manager for test.unit.SlowBody to do its thing buf += chunk if nbytes is not None: nbytes -= len(chunk) except (ChunkReadTimeout, ShortReadError): exc_type, exc_value, exc_traceback = exc_info() if self.newest or self.server_type != 'Object': raise try: self.fast_forward(self.bytes_used_from_backend) except (HTTPException, ValueError): six.reraise(exc_type, exc_value, exc_traceback) except RangeAlreadyComplete: break buf = b'' new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( node[0], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(source[0], 'swift_conn', None): close_swift_conn(source[0]) source[0] = new_source node[0] = new_node # This is safe; it just sets up a generator but # does not call next() on it, so no IO is # performed. parts_iter[0] = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) try: _junk, _junk, _junk, _junk, part_file = \ get_next_doc_part() except StopIteration: # Tried to find a new node from which to # finish the GET, but failed. There's # nothing more we can do here. six.reraise(exc_type, exc_value, exc_traceback) part_file = ByteCountEnforcer(part_file, nbytes) else: six.reraise(exc_type, exc_value, exc_traceback) else: if buf and self.skip_bytes: if self.skip_bytes < len(buf): buf = buf[self.skip_bytes:] self.bytes_used_from_backend += self.skip_bytes self.skip_bytes = 0 else: self.skip_bytes -= len(buf) self.bytes_used_from_backend += len(buf) buf = b'' if not chunk: if buf: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' break if client_chunk_size is not None: while len(buf) >= client_chunk_size: client_chunk = buf[:client_chunk_size] buf = buf[client_chunk_size:] with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += \ len(client_chunk) yield client_chunk else: with WatchdogTimeout(self.app.watchdog, self.app.client_timeout, ChunkWriteTimeout): self.bytes_used_from_backend += len(buf) yield buf buf = b'' # This is for fairness; if the network is outpacing # the CPU, we'll always be able to read and write # data without encountering an EWOULDBLOCK, and so # eventlet will not switch greenthreads on its own. # We do it manually so that clients don't starve. # # The number 5 here was chosen by making stuff up. # It's not every single chunk, but it's not too big # either, so it seemed like it would probably be an # okay choice. # # Note that we may trampoline to other greenthreads # more often than once every 5 chunks, depending on # how blocking our network IO is; the explicit sleep # here simply provides a lower bound on the rate of # trampolining. if nchunks % 5 == 0: sleep() get_next_doc_part() part_iter = iter_bytes_from_response_part(part, byte_count)",152,151
openstack%2Fcharm-trilio-dm-api~884676,openstack/charm-trilio-dm-api,master,I49e55d33a0b5f89194d6e5a5f1a386d88041ae1b,DNM - testing check only.,NEW,2023-05-30 10:24:27.000000000,2023-05-30 10:33:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 10:24:27.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-trilio-dm-api/commit/a22fb91d57b001afd9a4d2b5b4c5ef7fd5a08c4f', 'message': 'DNM - testing check only.\n\nChange-Id: I49e55d33a0b5f89194d6e5a5f1a386d88041ae1b\n'}]",0,884676,a22fb91d57b001afd9a4d2b5b4c5ef7fd5a08c4f,3,2,1,935,,,0,"DNM - testing check only.

Change-Id: I49e55d33a0b5f89194d6e5a5f1a386d88041ae1b
",git fetch https://review.opendev.org/openstack/charm-trilio-dm-api refs/changes/76/884676/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,a22fb91d57b001afd9a4d2b5b4c5ef7fd5a08c4f,dnm-recheck,c1263937-a178-4b1d-b1f8-a6d83372ae03,,1,0
openstack%2Fci-log-processing~876691,openstack/ci-log-processing,master,Ic40c67e0bf78a75931ceae55824f5664b9aada14,Try to always download build log files,MERGED,2023-03-07 08:03:27.000000000,2023-05-30 10:21:26.000000000,2023-05-30 10:20:33.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 11810}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-07 08:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/10a6ad8be15836a6ea06668338a7e30e5adacf68', 'message': 'Try to always download build log files\n\nIt seems that currently Zuul provides more information about\nbuilds even when it is not ""SUCCESS"", ""FAILUE"" or ""TIMED_OUT"".\nLet\'s try to download the log files when the log_url is provided.\n\nChange-Id: Ic40c67e0bf78a75931ceae55824f5664b9aada14\n'}, {'number': 2, 'created': '2023-05-16 06:22:32.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/36e124a19754af105acece863749484db01a77b5', 'message': 'Try to always download build log files\n\nIt seems that currently Zuul provides more information about\nbuilds even when it is not ""SUCCESS"", ""FAILUE"" or ""TIMED_OUT"".\nLet\'s try to download the log files when the log_url is provided.\n\nChange-Id: Ic40c67e0bf78a75931ceae55824f5664b9aada14\n'}]",0,876691,36e124a19754af105acece863749484db01a77b5,10,6,2,20676,,,0,"Try to always download build log files

It seems that currently Zuul provides more information about
builds even when it is not ""SUCCESS"", ""FAILUE"" or ""TIMED_OUT"".
Let's try to download the log files when the log_url is provided.

Change-Id: Ic40c67e0bf78a75931ceae55824f5664b9aada14
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/91/876691/1 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py']",2,10a6ad8be15836a6ea06668338a7e30e5adacf68,," if 'log_url' in build and build[""log_url""]: # NOTE: if build result does not contain 'log_url', so there is # no result files to parse, but we would like to have that","def is_job_with_result(job_result): results_with_status = ['failure', 'success', 'timed_out'] if (job_result[""result""].lower() in results_with_status and job_result[""log_url""]): return True if is_job_with_result(build): # NOTE: if build result is ""ABORTED"" or ""NODE_FAILURE, there is # no any job result files to parse, but we would like to have that",4,11
openstack%2Fneutron~872023,openstack/neutron,master,I936855214c635de0e89d5d13a86562f5b282633c,"Improve ""sync_ha_chassis_group"" method",MERGED,2023-01-27 15:19:06.000000000,2023-05-30 10:08:51.000000000,2023-05-30 10:07:42.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-27 15:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/de39eea00b9c885112742341f347c75ac1c60634', 'message': 'WIP - Improve sync_ha_chassis_group\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 2, 'created': '2023-01-27 17:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93f94e83e25bcfbd66ef158a5b75f66cff026b89', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 3, 'created': '2023-01-27 17:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1b601dbf898660382dc49dd478c75c5a9fa0611', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 4, 'created': '2023-02-01 12:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4856a256de77d83253e8f3c868c41c5f801641d', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 5, 'created': '2023-02-03 17:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56fc2b9e77a0a90287142bfaba848eed1e9d0a24', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 6, 'created': '2023-02-17 08:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dbfc636c70d0acded5108836ec6efdadead1b9b8', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 7, 'created': '2023-02-17 11:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/beee06a9d3f501ed07b258160c11fb082081b507', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 8, 'created': '2023-02-17 11:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab11e3c7ab4c83a928d06bd44fa255c0d5e09bad', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 9, 'created': '2023-02-17 15:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e91928c5b98cde43fc54af76c4f2b9c3d0b1594', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 10, 'created': '2023-02-20 14:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c79e3800f4ed2f5f0a53421a0b19b1af91ea7747', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 11, 'created': '2023-02-20 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43e8b83ee4c94bfb656bcbc8a55415acdf7e0c90', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 12, 'created': '2023-02-21 14:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bde2fe45f68c3a7d74b562d89e07d7a12f2cc53', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 13, 'created': '2023-03-01 15:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b834b2ee17fdada085a78586696649f18adc9cbf', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 14, 'created': '2023-03-24 14:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33ec32063692c6628e4a39ce9e77c5531bceb1a9', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 15, 'created': '2023-04-19 07:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64cddc8b00361b2155797e2880ca198211f43b5e', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 16, 'created': '2023-05-09 09:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3226351269dc47f527e8637c9a01e7f22bf76a0', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 17, 'created': '2023-05-09 10:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/627b9493ca6ccf61900eedd6e12d0415be35bf87', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 18, 'created': '2023-05-24 08:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96b2518f9b6d345d49ba73579ffa62efb1ba87a7', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 19, 'created': '2023-05-24 08:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcffdbf927f03ca841baebb0b74a63fe19a546d7', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}, {'number': 20, 'created': '2023-05-24 14:37:31.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'requirements.txt', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac231c817473c018dde8fa31594b1c9a78a36c13', 'message': 'Improve ""sync_ha_chassis_group"" method\n\nThe method ""sync_ha_chassis_group"" now creates (or retrieves) a\nHA Chassis Group register and updates the needed HA Chassis registers\nin a single transaction. That is possible using the new ovsdbapp\nrelease 2.2.1 (check the depends-on patch).\n\nDepends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836\n\nRelated-Bug: #1995078\nChange-Id: I936855214c635de0e89d5d13a86562f5b282633c\n'}]",15,872023,ac231c817473c018dde8fa31594b1c9a78a36c13,100,5,20,16688,,,0,"Improve ""sync_ha_chassis_group"" method

The method ""sync_ha_chassis_group"" now creates (or retrieves) a
HA Chassis Group register and updates the needed HA Chassis registers
in a single transaction. That is possible using the new ovsdbapp
release 2.2.1 (check the depends-on patch).

Depends-On: https://review.opendev.org/c/openstack/ovsdbapp/+/871836

Related-Bug: #1995078
Change-Id: I936855214c635de0e89d5d13a86562f5b282633c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/872023/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/scheduler/l3_ovn_scheduler.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py']",4,de39eea00b9c885112742341f347c75ac1c60634,bug/1995078,"# Copyright 2023 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import datetime import functools from unittest import mock import fixtures as og_fixtures from neutron_lib.api.definitions import allowedaddresspairs from neutron_lib.api.definitions import external_net from neutron_lib.api.definitions import portbindings from neutron_lib.plugins import constants as plugin_constants from neutron_lib.plugins import directory from oslo_concurrency import processutils from oslo_utils import timeutils from oslo_utils import uuidutils from ovsdbapp.backend.ovs_idl import event from ovsdbapp.backend.ovs_idl import idlutils from neutron.common.ovn import constants as ovn_const from neutron.common import utils as n_utils from neutron.conf.plugins.ml2.drivers.ovn import ovn_conf from neutron.db import ovn_hash_ring_db as db_hash_ring from neutron.plugins.ml2.drivers.ovn.agent import neutron_agent from neutron.plugins.ml2.drivers.ovn.mech_driver import mech_driver from neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb import ovsdb_monitor from neutron.tests.functional import base from neutron.tests.functional.resources.ovsdb import events as test_events from neutron.tests.functional.resources.ovsdb import fixtures from neutron.tests.functional.resources import process from neutron.tests.unit.api import test_extensions from neutron.tests.unit.extensions import test_l3 class TestNBDbMonitor(base.TestOVNFunctionalBase): def setUp(self, **kwargs): super().setUp(**kwargs) ",,136,34
openstack%2Fmanila~824726,openstack/manila,master,Id2c09ebab874ec983da7f26370932d46a0447801,onlyHostFilter: Fix follow-up suggestions.,MERGED,2022-01-14 15:31:02.000000000,2023-05-30 09:52:19.000000000,2023-05-30 09:51:06.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 31721}]","[{'number': 1, 'created': '2022-01-14 15:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b68f52169017d09da535f28e900c9d370d9793b2', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake\n3. Add new hostAdmin RBAC policyk which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 2, 'created': '2022-01-14 15:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6d7c37f118f7251c64d40cdd301735b67999eed2', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 3, 'created': '2022-02-24 12:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/53a93a8237323eeeb83d2b68ea370e1124aed5b1', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 4, 'created': '2022-02-27 12:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fc847d38de41829dda5788b0dac8e8233af0e7ad', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 5, 'created': '2022-03-24 19:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6323c6360cbeaf4bca0650883c88048d160ad7ae', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 6, 'created': '2022-04-30 11:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3d5100e1ce62e78afc9c4a1a42074c9f279f27a5', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 7, 'created': '2022-05-07 10:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fb44f1e95d906950549f8a2a6ccba0c9c631c961', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 8, 'created': '2022-05-09 09:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a0147ded9b8ff5a3dc1b25f6d7247c98f6a2a3c7', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 9, 'created': '2022-05-09 12:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b0c53367e26f2a5fa7c20dd310fc5385731ffabe', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter\nsince project-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 10, 'created': '2022-07-12 15:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7ea6907f6f9f16a68ef85c620e7c6cc329ba0b47', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 11, 'created': '2022-08-17 11:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5542953e96b422737f8ac50db2c1a428452e8d26', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 12, 'created': '2022-08-30 09:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/adccbc8b9f449dd9514c0c8502f8e477d22a6a00', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new hostAdmin RBAC policy which is applied in onlyHostFilter since\nnon-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 13, 'created': '2022-08-31 06:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/980fc67fdc1e584b097730b0cf21bed594e50a37', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 14, 'created': '2022-10-25 09:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/84ea60afdc350b8d3d669bbd790a8ab07968bc02', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 15, 'created': '2022-12-19 18:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/994976c74a38627fc2620c9c5fc3ec9e228f51de', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 16, 'created': '2023-02-27 09:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/360adf6b6960e7fa073b856fda82f3eb024b934e', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}, {'number': 17, 'created': '2023-05-23 07:11:05.000000000', 'files': ['api-ref/source/parameters.yaml', 'manila/tests/policy.yaml', 'manila/tests/share/test_api.py', 'manila/policy.py', 'manila/share/api.py', 'manila/scheduler/filters/host.py', 'manila/policies/base.py', 'manila/api/views/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8eb38ac41a776f0878368efa2a083830eded9589', 'message': 'onlyHostFilter: Fix follow-up suggestions.\n\n1. Change context as first argument to function.\n2. Fix spelling mistake in version history\n3. Add new host_admin RBAC policy which is applied in onlyHostFilter\nsince non-admin user as well needs to create share on specific host.\n\nChange-Id: Id2c09ebab874ec983da7f26370932d46a0447801\n'}]",43,824726,8eb38ac41a776f0878368efa2a083830eded9589,142,8,17,32919,,,0,"onlyHostFilter: Fix follow-up suggestions.

1. Change context as first argument to function.
2. Fix spelling mistake in version history
3. Add new host_admin RBAC policy which is applied in onlyHostFilter
since non-admin user as well needs to create share on specific host.

Change-Id: Id2c09ebab874ec983da7f26370932d46a0447801
",git fetch https://review.opendev.org/openstack/manila refs/changes/26/824726/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'manila/tests/policy.yaml', 'manila/tests/share/test_api.py', 'manila/policy.py', 'manila/share/api.py', 'manila/scheduler/filters/host.py', 'manila/api/openstack/rest_api_version_history.rst', 'manila/policies/base.py']",8,b68f52169017d09da535f28e900c9d370d9793b2,bug/1946462," policy.RuleDefault( name='context_is_hostAdmin', check_str=SYSTEM_ADMIN_OR_PROJECT_MEMBER, description='Privileged user who can select host during scheduling', scope_types=['system', 'project']), ",,28,11
openstack%2Fcharm-hacluster~875769,openstack/charm-hacluster,stable/jammy,I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f,Add kinetic support,NEW,2023-02-28 17:33:58.000000000,2023-05-30 09:50:23.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/7fdc78f741e6dc8ed280832c26a2822e2463a050', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 2, 'created': '2023-02-28 17:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/6de7ddc0ef564a018af716510cf6717db992dd87', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 3, 'created': '2023-02-28 17:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/13b86ab4dedce8e251521821869f892af993484e', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 4, 'created': '2023-03-02 12:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/b9f811ccc5b4f7dfe29e3f2d676b27e0602fa3aa', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}, {'number': 5, 'created': '2023-05-29 19:27:14.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'tests/tests.yaml', 'osci.yaml', 'charmcraft.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/968c98538ce98c6c30363a27b2cc5e4ec30208f2', 'message': 'Add kinetic support\n\nSummary of changes:\n- add kinetic to metadata.yaml\n- add 21.10 to run-on in charmcraft.yaml\n- add kinetic-zed testing bundle\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014\nRelated-Bug: #1972730\nChange-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f\n(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)\n'}]",1,875769,968c98538ce98c6c30363a27b2cc5e4ec30208f2,12,2,5,2424,,,0,"Add kinetic support

Summary of changes:
- add kinetic to metadata.yaml
- add 21.10 to run-on in charmcraft.yaml
- add kinetic-zed testing bundle

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1014
Related-Bug: #1972730
Change-Id: I28c1f16bdbe2032e678f7c92caee5ddd3fcd4a7f
(cherry picked from commit 0628e02983605313dd82b4501d54e9c027b669c7)
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/69/875769/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'tests/tests.yaml', 'osci.yaml', 'charmcraft.yaml', 'metadata.yaml']",5,7fdc78f741e6dc8ed280832c26a2822e2463a050,kinetic-stable/jammy,- kinetic,,66,0
openstack%2Fovn-octavia-provider~881198,openstack/ovn-octavia-provider,master,I6e132ab5c23c9c53176612f74bb500e46c89024f,Discard batch-update-members not valid request,MERGED,2023-04-21 08:28:36.000000000,2023-05-30 09:47:23.000000000,2023-05-30 09:46:28.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-04-21 08:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6a7f6e1698ff3688f7b9919b7e36492091442eac', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}, {'number': 2, 'created': '2023-04-21 10:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c4111fd2d8c9c64252459ec691ab6df7a4160bc8', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}, {'number': 3, 'created': '2023-05-18 12:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4f155d6b610c0df20ac53e7e0d47800d15277af0', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}, {'number': 4, 'created': '2023-05-23 06:58:17.000000000', 'files': ['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/5f27384805bd2dd50602d3656d5f5df6c284f897', 'message': 'Discard batch-update-members not valid request\n\nAn out of sync has been identified between the changes applied\nover the OVN NB DB and Octavia DB when a batch-update-members\nincludes some unsupported option for any of the member to be\nmodified.\n\nTo prevent such inconsistencies, this patch rejects the entire\nrequest if any of the proposed changes are identified as\nunsupported. The user will be notified of the reason for the\nrejection.\n\nCloses-Bug: 2017216\nChange-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f\n'}]",4,881198,5f27384805bd2dd50602d3656d5f5df6c284f897,19,4,4,34451,,,0,"Discard batch-update-members not valid request

An out of sync has been identified between the changes applied
over the OVN NB DB and Octavia DB when a batch-update-members
includes some unsupported option for any of the member to be
modified.

To prevent such inconsistencies, this patch rejects the entire
request if any of the proposed changes are identified as
unsupported. The user will be notified of the reason for the
rejection.

Closes-Bug: 2017216
Change-Id: I6e132ab5c23c9c53176612f74bb500e46c89024f
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/98/881198/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/functional/test_driver.py', 'ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",3,6a7f6e1698ff3688f7b9919b7e36492091442eac,," # NOTE(froyo): in order to keep sync with Octavia DB, we raise # not supporting exceptions as soon as posible, considering the # full request as not valid if (self._check_monitor_options(member)): msg = 'OVN provider does not support monitor options' raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg) if (member.address and self._ip_version_differs(member)): raise ovn_exc.IPVersionsMixingNotSupportedError()"," skipped_members = [] if (self._check_monitor_options(member) or member.address and self._ip_version_differs(member)): skipped_members.append(member.member_id) continue if skipped_members: msg = (_('OVN provider does not support monitor options, ' 'so following members skipped: %s') % skipped_members) raise driver_exceptions.UnsupportedOptionError( user_fault_string=msg, operator_fault_string=msg)",56,11
openstack%2Fkolla-ansible~871112,openstack/kolla-ansible,master,I414f063abd0c0b77c3db302b4860c264d5c299a3,CI: cephadm: add errexit,ABANDONED,2023-01-19 16:11:20.000000000,2023-05-30 09:14:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-19 16:11:20.000000000', 'files': ['roles/cephadm/templates/commands.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/05af7e3ec8eb80f375602ed54080e07eeac22fb8', 'message': ""CI: cephadm: add errexit\n\nNow the commands.sh script doesn't exit on failure.\n\nChange-Id: I414f063abd0c0b77c3db302b4860c264d5c299a3\n""}]",0,871112,05af7e3ec8eb80f375602ed54080e07eeac22fb8,4,1,1,22629,,,0,"CI: cephadm: add errexit

Now the commands.sh script doesn't exit on failure.

Change-Id: I414f063abd0c0b77c3db302b4860c264d5c299a3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/871112/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/templates/commands.sh.j2'],1,05af7e3ec8eb80f375602ed54080e07eeac22fb8,,set -o errexit ,,2,0
openstack%2Fkolla-ansible~884460,openstack/kolla-ansible,master,I154d6577ce8cda59f0d6833b11d2e6836acee440,Update docs about dns_servers for OVN,NEW,2023-05-26 08:22:57.000000000,2023-05-30 09:07:06.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 08:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa85656f9933a417c118059813bb6a69eeef11a5', 'message': 'Ensure we set dns_servers for OVN\n\nFor ML2 OVS, we set the default DNS servers, such that by\ndefault, when you create a network you get DNS working.\nIt also makes it easier to overide and set your own local\ndns, which is important in air gapped clouds.\n\nThis adds a new setting, with the same default as of the\ndnsmasq setting:\nneutron_ovn_dns_servers\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}, {'number': 2, 'created': '2023-05-26 08:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a984407563af23323f42c30877822c82eb57643c', 'message': 'Ensure we set dns_servers for OVN\n\nFor ML2 OVS, we set the default DNS servers, such that by\ndefault, when you create a network you get DNS working.\nIt also makes it easier to overide and set your own local\ndns, which is important in air gapped clouds.\n\nThis adds a new setting, with the same default as of the\ndnsmasq setting:\nneutron_ovn_dns_servers\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}, {'number': 3, 'created': '2023-05-26 08:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/88a6070e3ce176a6479cef24b4262e9b0fdd4e1d', 'message': 'Ensure we set dns_servers for OVN\n\nFor ML2 OVS, we set the default DNS servers, such that by\ndefault, when you create a network you get DNS working.\nIt also makes it easier to overide and set your own local\ndns, which is important in air gapped clouds.\n\nThis adds a new setting, with the same default as of the\ndnsmasq setting:\nneutron_ovn_dns_servers\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}, {'number': 4, 'created': '2023-05-26 09:08:21.000000000', 'files': ['releasenotes/notes/add-ovn-dns-2626a31f9711192b.yaml', 'doc/source/reference/networking/neutron.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f5208388eb398332c4e1a86cfa58e211bba5cea', 'message': 'Update docs about dns_servers for OVN\n\nNeutron OVN has the suprizing default of having no working\nDNS for all instances by default. If users set an appropriate\nDNS on the network.\n\nAs a community, it was decided not to add an override for\nthis, and not to change the default setting to make it more\nsimilar to OVS ML2, in part as the upgrade path is very\nunclear for uesers of the cloud that happen to have manually\noverriden their resolv.conf, rather than settings DNS servers\non their neutron network. For discussion see:\nhttps://review.opendev.org/c/openstack/kolla-ansible/+/818362\n\nCloses-Bug: 1951568\n\nChange-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440\n'}]",12,884460,3f5208388eb398332c4e1a86cfa58e211bba5cea,12,3,4,782,,,0,"Update docs about dns_servers for OVN

Neutron OVN has the suprizing default of having no working
DNS for all instances by default. If users set an appropriate
DNS on the network.

As a community, it was decided not to add an override for
this, and not to change the default setting to make it more
similar to OVS ML2, in part as the upgrade path is very
unclear for uesers of the cloud that happen to have manually
overriden their resolv.conf, rather than settings DNS servers
on their neutron network. For discussion see:
https://review.opendev.org/c/openstack/kolla-ansible/+/818362

Closes-Bug: 1951568

Change-Id: I154d6577ce8cda59f0d6833b11d2e6836acee440
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/884460/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/templates/ml2_conf.ini.j2', 'ansible/group_vars/all.yml']",2,fa85656f9933a417c118059813bb6a69eeef11a5,,"neutron_ovn_dns_servers: ""1.1.1.1,8.8.8.8,8.8.4.4""",,2,0
openstack%2Fbifrost~874852,openstack/bifrost,master,I8027f9d4e5b47a3c448a87cffe3433c26655fd7f,Fix no-free-form linter warnings,MERGED,2023-02-23 09:19:51.000000000,2023-05-30 08:56:27.000000000,2023-05-30 08:55:33.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 25600}]","[{'number': 1, 'created': '2023-02-23 09:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/65a3990d845d05fd90d81f7ea9100e2f83c28877', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}, {'number': 2, 'created': '2023-03-12 10:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/682c9dac3a6992269214e0136debdcf524023e7b', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}, {'number': 3, 'created': '2023-03-12 20:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/79055672429b33d13fcd7a75dd1a2e64844c07bc', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}, {'number': 4, 'created': '2023-03-12 22:57:47.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-test-vm/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/cleanup-deployment-images.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', '.ansible-lint', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6b2fb255a84b55b0e02610b295738a98126e35a4', 'message': 'Fix no-free-form linter warnings\n\nChange-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f\n'}]",8,874852,6b2fb255a84b55b0e02610b295738a98126e35a4,29,4,4,25600,,,0,"Fix no-free-form linter warnings

Change-Id: I8027f9d4e5b47a3c448a87cffe3433c26655fd7f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/52/874852/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-test-vm/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-dib-image/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml', 'playbooks/cleanup-deployment-images.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/set_ssh_private_key.yml', 'playbooks/roles/bifrost-create-vm-nodes/tasks/create_vm.yml', 'playbooks/roles/bifrost-keystone-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-ironic-install/tasks/get_ipxe.yml', 'playbooks/roles/bifrost-keystone-install/tasks/install.yml']",19,65a3990d845d05fd90d81f7ea9100e2f83c28877,linters, file: name: /opt/stack state: directory owner: root group: root, file: name=/opt/stack state=directory owner=root group=root,147,63
openstack%2Fkayobe-config-dev~884477,openstack/kayobe-config-dev,master,Ic57af218e52d050cec06fa2246d078f5ed792fa8,2023.1 RC1 - Sync defaults with Kayobe,MERGED,2023-05-26 10:18:01.000000000,2023-05-30 08:54:37.000000000,2023-05-30 08:54:37.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-26 10:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/2e8e0b46a2e18e57eeb628010cc77c51ba123b98', 'message': '2023.1 RC1 - Sync defaults with Kayobe\n\nChange-Id: Ic57af218e52d050cec06fa2246d078f5ed792fa8\n'}, {'number': 2, 'created': '2023-05-26 12:49:15.000000000', 'files': ['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/c558f2101b8db7dd2b3c051aeb3d173f7a609d05', 'message': '2023.1 RC1 - Sync defaults with Kayobe\n\nChange-Id: Ic57af218e52d050cec06fa2246d078f5ed792fa8\n'}]",3,884477,c558f2101b8db7dd2b3c051aeb3d173f7a609d05,16,5,2,35263,,,0,"2023.1 RC1 - Sync defaults with Kayobe

Change-Id: Ic57af218e52d050cec06fa2246d078f5ed792fa8
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/77/884477/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml']",3,2e8e0b46a2e18e57eeb628010cc77c51ba123b98,,"# Name of the current OpenStack release. Default is ""2023.1"".# Name of the current OpenStack branch. Default is ""stable/2023.1"".","# Name of the current OpenStack release. Default is ""zed"".# Name of the current OpenStack branch. Default is ""stable/zed"".",20,8
openstack%2Fovsdbapp~882268,openstack/ovsdbapp,master,I57e0caa4e604a1152f5015a6aabf3b52349b3a02,Add support for ecmp routes,MERGED,2023-05-10 10:54:55.000000000,2023-05-30 08:35:00.000000000,2023-05-30 08:34:00.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2023-05-10 10:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6f7d76f2f74051021ab38c1797555f0e01778d1f', 'message': 'Add support for ecmp routes\n\nAdd ECMP support so that routes with different nexthops but\nsame ip_prefix can be added\n\nChange-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02\n'}, {'number': 2, 'created': '2023-05-10 12:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/19c9291e736d655249629c9bf577631a83cb3548', 'message': 'Add support for ecmp routes\n\nAdd ECMP support so that routes with different nexthops but\nsame ip_prefix can be added\n\nChange-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02\n'}, {'number': 3, 'created': '2023-05-16 07:07:20.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/cc1ddf6a9e71c7a35be776e78a94af090f50c3f9', 'message': 'Add support for ecmp routes\n\nAdd ECMP support so that routes with different nexthops but\nsame ip_prefix can be added\n\nChange-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02\n'}]",11,882268,cc1ddf6a9e71c7a35be776e78a94af090f50c3f9,21,5,3,23567,,,0,"Add support for ecmp routes

Add ECMP support so that routes with different nexthops but
same ip_prefix can be added

Change-Id: I57e0caa4e604a1152f5015a6aabf3b52349b3a02
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/68/882268/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,6f7d76f2f74051021ab38c1797555f0e01778d1f,," ecmp=False, **kwargs): sr = self.api.lr_route_add(lr.uuid, prefix, nexthop, port, ecmp, def test_lr_route_add_exists_ecmp(self): router_name = utils.get_rand_device_name() self._lr_add_route(router_name) self._lr_add_route(router_name, ecmp=True) "," **kwargs): sr = self.api.lr_route_add(lr.uuid, prefix, nexthop, port,",18,6
openstack%2Fkayobe-config~884473,openstack/kayobe-config,master,I3243666f99ce0f24d4eb4756aa6d35fced5c51cb,2023.1 RC1 - Sync defaults with Kayobe,MERGED,2023-05-26 10:01:16.000000000,2023-05-30 08:01:28.000000000,2023-05-30 08:01:28.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-05-26 10:01:16.000000000', 'files': ['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/e1f520ca3378c9c28f81aba75d41f447dc73fea8', 'message': '2023.1 RC1 - Sync defaults with Kayobe\n\nChange-Id: I3243666f99ce0f24d4eb4756aa6d35fced5c51cb\n'}]",0,884473,e1f520ca3378c9c28f81aba75d41f447dc73fea8,9,5,1,35263,,,0,"2023.1 RC1 - Sync defaults with Kayobe

Change-Id: I3243666f99ce0f24d4eb4756aa6d35fced5c51cb
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/73/884473/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/globals.yml', 'etc/kayobe/kolla.yml', 'etc/kayobe/openstack.yml']",3,e1f520ca3378c9c28f81aba75d41f447dc73fea8,,"# Name of the current OpenStack release. Default is ""2023.1"".# Name of the current OpenStack branch. Default is ""stable/2023.1"".","# Name of the current OpenStack release. Default is ""zed"".# Name of the current OpenStack branch. Default is ""stable/zed"".",20,7
openstack%2Fdesignate~872133,openstack/designate,master,I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf,[DNM] Do we still need this workaround,ABANDONED,2023-01-31 07:17:10.000000000,2023-05-30 07:43:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-31 07:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/13dacee125893289cf4407019a697a0a50a787a2', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 2, 'created': '2023-02-18 04:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/863336bb8e1284be0e64ba0ec206534e6dc2c01d', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 3, 'created': '2023-02-18 06:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/eb93bbb0774d3c3891ff407a13ada1bab9a4f03f', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 4, 'created': '2023-02-19 01:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/60178233f674194477c6c829d0055a0db2b47608', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 5, 'created': '2023-05-30 07:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/26f6f3c73bc5cd1bbc4fbd2b5e1c3b4e9ba1de64', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}, {'number': 6, 'created': '2023-05-30 07:08:56.000000000', 'files': ['devstack/lib/wsgi'], 'web_link': 'https://opendev.org/openstack/designate/commit/27822ccc82af32732c1f095b0aed390966eb6b78', 'message': '[DNM] Do we still need this workaround\n\nChange-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf\n'}]",1,872133,27822ccc82af32732c1f095b0aed390966eb6b78,18,1,6,22623,,,0,"[DNM] Do we still need this workaround

Change-Id: I338d21d7341b4cf7ab5cd46f9521fa3bce3793cf
",git fetch https://review.opendev.org/openstack/designate refs/changes/33/872133/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/wsgi'],1,13dacee125893289cf4407019a697a0a50a787a2,,," wsgi_conf=$(apache_site_config_for designate-api-wsgi) echo 'ProxyPass ""/dns"" ""http://127.0.0.1:60053"" retry=0' | sudo tee $wsgi_conf iniset $DESIGNATE_UWSGI_CONF uwsgi http-socket 127.0.0.1:60053",0,4
openstack%2Fcharm-nova-k8s~884621,openstack/charm-nova-k8s,main,Iaba2f8c0139c58c12843542dc0d19944100e6224,Update bundle to use antelope charms,MERGED,2023-05-29 13:52:43.000000000,2023-05-30 07:43:04.000000000,2023-05-30 07:13:12.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:52:43.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/d7a9def3dc1aaf6cf3d76c85b9f5b7f792e94681', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Iaba2f8c0139c58c12843542dc0d19944100e6224\n'}]",0,884621,d7a9def3dc1aaf6cf3d76c85b9f5b7f792e94681,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Iaba2f8c0139c58c12843542dc0d19944100e6224
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/21/884621/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,d7a9def3dc1aaf6cf3d76c85b9f5b7f792e94681,update-bundle-to-antelope, channel: 2023.1/edge channel: 2023.1/edge, channel: yoga/edge channel: yoga/edge,2,2
openstack%2Fcharm-placement-k8s~884622,openstack/charm-placement-k8s,main,Ic72a7d9e330e0706f6ab410bebb08c447da60269,Update bundle to use antelope charms,MERGED,2023-05-29 13:53:17.000000000,2023-05-30 07:42:35.000000000,2023-05-30 07:24:13.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:53:17.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/c2f886bf4065e09578966bf68f73f53c257dbedd', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Ic72a7d9e330e0706f6ab410bebb08c447da60269\n'}]",0,884622,c2f886bf4065e09578966bf68f73f53c257dbedd,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Ic72a7d9e330e0706f6ab410bebb08c447da60269
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/22/884622/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,c2f886bf4065e09578966bf68f73f53c257dbedd,update-bundle-to-antelope, channel: 2023.1/edge channel: 2023.1/edge, channel: yoga/edge channel: yoga/edge,2,2
openstack%2Fcharm-glance-k8s~884619,openstack/charm-glance-k8s,main,Ic6cf298e9ba046307023f6e58cd238c56c43e220,Update bundle to use antelope charms,MERGED,2023-05-29 13:50:39.000000000,2023-05-30 07:42:19.000000000,2023-05-30 07:23:59.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:50:39.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/57d3d6414f6c69f920e9724d6fe46a3661295bd9', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Ic6cf298e9ba046307023f6e58cd238c56c43e220\n'}]",1,884619,57d3d6414f6c69f920e9724d6fe46a3661295bd9,9,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Ic6cf298e9ba046307023f6e58cd238c56c43e220
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/19/884619/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,57d3d6414f6c69f920e9724d6fe46a3661295bd9,update-bundle-to-antelope, channel: 2023.1/edge, channel: yoga/edge,1,1
openstack%2Fmagnum~785996,openstack/magnum,master,I88dd61a916cb31ee9ef66367ad78f5ed1546dd13,[K8S] Allow addon service account to access privileged PodSecurityPolicy,ABANDONED,2021-04-13 01:35:18.000000000,2023-05-30 07:38:27.000000000,,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 01:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/693cdac7eb866f2c1f22fce868baa0604877aff0', 'message': '[K8S] Allow addon service account to access privileged PodSecurityPolicy\n\nUsage of PodSecurityPolicy was fixed by a previous patch:\nhttps://review.opendev.org/q/I053808fac72a63af7ebf6f33d94659134b6cbdac\n\nNow, kube-controller-manager is using different service accounts for\ndifferent controllers instead of admin user previously.\n\nAs a result, all the service accounts for the addon compoments need to\nhave the right permission for installation, especially for those who\nneed to access security sensitive information in the system.\n\nChange-Id: I88dd61a916cb31ee9ef66367ad78f5ed1546dd13\n'}, {'number': 2, 'created': '2021-04-13 23:26:56.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/helm/prometheus-operator.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/6bf1edd92d3697af05602ddb048d241cd0788259', 'message': '[K8S] Allow addon service account to access privileged PodSecurityPolicy\n\nUsage of PodSecurityPolicy was fixed by a previous patch:\nhttps://review.opendev.org/q/I053808fac72a63af7ebf6f33d94659134b6cbdac\n\nNow, kube-controller-manager is using different service accounts for\ndifferent controllers instead of admin user previously.\n\nAs a result, all the service accounts for the addon compoments need to\nhave the right permission for installation, especially for those who\nneed to access security sensitive information in the system.\n\nChange-Id: I88dd61a916cb31ee9ef66367ad78f5ed1546dd13\n'}]",1,785996,6bf1edd92d3697af05602ddb048d241cd0788259,11,3,2,6732,,,0,"[K8S] Allow addon service account to access privileged PodSecurityPolicy

Usage of PodSecurityPolicy was fixed by a previous patch:
https://review.opendev.org/q/I053808fac72a63af7ebf6f33d94659134b6cbdac

Now, kube-controller-manager is using different service accounts for
different controllers instead of admin user previously.

As a result, all the service accounts for the addon compoments need to
have the right permission for installation, especially for those who
need to access security sensitive information in the system.

Change-Id: I88dd61a916cb31ee9ef66367ad78f5ed1546dd13
",git fetch https://review.opendev.org/openstack/magnum refs/changes/96/785996/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/enable-keystone-auth.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-apiserver-to-kubelet-role.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-cinder-csi.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-prometheus-monitoring.sh', 'magnum/drivers/common/templates/kubernetes/fragments/core-dns-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-auto-healing.sh', 'magnum/drivers/common/templates/kubernetes/helm/metrics-server.sh', 'magnum/drivers/common/templates/kubernetes/fragments/enable-ingress-traefik.sh']",10,693cdac7eb866f2c1f22fce868baa0604877aff0,followup-fix-psp,kind: ClusterRoleBinding apiVersion: rbac.authorization.k8s.io/v1beta1 metadata: name: ingress-traefik:magnum:privileged-psp roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: magnum:podsecuritypolicy:privileged subjects: - kind: ServiceAccount name: ingress-traefik namespace: kube-system ---,,198,1
openstack%2Fcharm-cinder-k8s~884618,openstack/charm-cinder-k8s,main,Idc663e4b0ea622a87f6d08f3e935ff298317a3d2,Update bundle to use antelope charms,MERGED,2023-05-29 13:46:16.000000000,2023-05-30 07:34:04.000000000,2023-05-30 07:10:03.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:46:16.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/d5d88c84aa69d7d61aa2894a8af3fd74062136e9', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Idc663e4b0ea622a87f6d08f3e935ff298317a3d2\n'}]",0,884618,d5d88c84aa69d7d61aa2894a8af3fd74062136e9,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Idc663e4b0ea622a87f6d08f3e935ff298317a3d2
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/18/884618/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,d5d88c84aa69d7d61aa2894a8af3fd74062136e9,update-bundle-to-antelope, channel: 2023.1/edge, channel: yoga/edge,1,1
openstack%2Fcharm-keystone-k8s~884620,openstack/charm-keystone-k8s,main,Ic056f17836efc24da3abd5379872740c01ecb1fe,Update bundle to use antelope charms,MERGED,2023-05-29 13:52:07.000000000,2023-05-30 07:30:44.000000000,2023-05-30 07:07:17.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-29 13:52:07.000000000', 'files': ['tests/bundles/smoke.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/06f89b9f9718649ab2382e5e745ff827c2e56788', 'message': 'Update bundle to use antelope charms\n\nChange-Id: Ic056f17836efc24da3abd5379872740c01ecb1fe\n'}]",0,884620,06f89b9f9718649ab2382e5e745ff827c2e56788,7,2,1,12549,,,0,"Update bundle to use antelope charms

Change-Id: Ic056f17836efc24da3abd5379872740c01ecb1fe
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/20/884620/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/smoke.yaml'],1,06f89b9f9718649ab2382e5e745ff827c2e56788,update-bundle-to-antelope, channel: 2023.1/edge, channel: yoga/edge,1,1
openstack%2Freleases~883563,openstack/releases,master,I046ec3928c934ef59253fc92a0aacf6768a547f3,Release glance_store 4.5.0 from 2023.2,MERGED,2023-05-18 19:10:38.000000000,2023-05-30 07:13:15.000000000,2023-05-30 07:13:15.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 17685}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 19:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e17640f3acaaec5052578c96d9aaa4e1ec908790', 'message': 'Release glance_store 4.4.1 from 2023.2\n\nOnly affects the RBD store; reverts a change that causes intermittent\nbut frequent thread lockup when copying an image to the backend store.\n\nChange-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nRelated-bug: #2020122\n'}, {'number': 2, 'created': '2023-05-18 20:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2dca151c0df24dd8b819ecf8947ef97fd50a14c5', 'message': 'Release glance_store 4.4.1 from 2023.2\n\nOnly affects the RBD store; reverts a change that causes intermittent\nbut frequent thread lockup when copying an image to the backend store.\n\nChange-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nRelated-bug: #2020122\n'}, {'number': 3, 'created': '2023-05-18 21:25:05.000000000', 'files': ['deliverables/bobcat/glance-store.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c303ec55af60259a1a0b3fc27ca46526c1f569b6', 'message': 'Release glance_store 4.5.0 from 2023.2\n\nOnly affects the RBD store; reverts a change that causes intermittent\nbut frequent thread lockup when copying an image to the backend store.\n\nChange-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3\nRelated-bug: #2020122\n'}]",5,883563,c303ec55af60259a1a0b3fc27ca46526c1f569b6,19,5,3,5314,,,0,"Release glance_store 4.5.0 from 2023.2

Only affects the RBD store; reverts a change that causes intermittent
but frequent thread lockup when copying an image to the backend store.

Change-Id: I046ec3928c934ef59253fc92a0aacf6768a547f3
Related-bug: #2020122
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/883563/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/glance-store.yaml'],1,e17640f3acaaec5052578c96d9aaa4e1ec908790,glance_store_4.5.0, - version: 4.4.1 projects: - repo: openstack/glance_store hash: later,,4,0
openstack%2Ftripleo-ansible~884575,openstack/tripleo-ansible,stable/wallaby,I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2,Refresh cli and enforce tripleo_cephadm_config_home in DCN context,ABANDONED,2023-05-29 05:36:22.000000000,2023-05-30 06:45:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-05-29 05:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c68a45a1183f45e23955625b9a5df1c13582248', 'message': ""Refresh cli and enforce tripleo_cephadm_config_home in DCN context\n\nWhen we deploy in a DCN we need to make sure that ceph bootstrap is\nable to interact w/ clusters that don't have the default 'ceph' name.\nThis patch results in an attempt to enforce the directory where the\nCeph multicluster client files (conf and keyrings) are rendered.\n\nChange-Id: I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2\n""}, {'number': 2, 'created': '2023-05-29 07:31:37.000000000', 'files': ['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dd9c988c946693ff860afd40331ad06910adcb72', 'message': ""Refresh cli and enforce tripleo_cephadm_config_home in DCN context\n\nWhen we deploy in a DCN we need to make sure that ceph bootstrap is\nable to interact w/ clusters that don't have the default 'ceph' name.\nThis patch results in an attempt to enforce the directory where the\nCeph multicluster client files (conf and keyrings) are rendered.\n\nChange-Id: I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2\n""}]",0,884575,dd9c988c946693ff860afd40331ad06910adcb72,4,2,2,25402,,,0,"Refresh cli and enforce tripleo_cephadm_config_home in DCN context

When we deploy in a DCN we need to make sure that ceph bootstrap is
able to interact w/ clusters that don't have the default 'ceph' name.
This patch results in an attempt to enforce the directory where the
Ceph multicluster client files (conf and keyrings) are rendered.

Change-Id: I8ba92b80ba04aa86c080cd54f14b98f4d521a4b2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/884575/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_cephadm/tasks/bootstrap.yaml'],1,3c68a45a1183f45e23955625b9a5df1c13582248,884575," - name: Refresh ceph_cli include_tasks: ceph_cli.yaml vars: tripleo_cephadm_config_home_container: ""{{ tripleo_cephadm_config_home | default('/etc/ceph') }}""",,4,0
openstack%2Fcinder~882781,openstack/cinder,stable/2023.1,I98e021594c59dbad1723597e38aeb4c0cec6934b,HPE 3PAR: Few issues with new WSAPI (of 2023),MERGED,2023-05-11 05:09:22.000000000,2023-05-30 06:44:35.000000000,2023-05-29 19:51:44.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 05:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebde295e6863197b453e8bf672e1b6e93ce91339', 'message': 'HPE 3PAR: Few issues with new WSAPI (of 2023)\n\nIn recent HPE 3PAR WSAPI, observed issues with parameters\nlike snapCPG, localSnapCPG, etc.\nDue to this, few operations (eg. create volume, create\nremote copy group [RCG]) fail.\nIn order to work with new wsapi (of 2023), performed minor\ncode changes in 3par driver code.\n\nCloses-Bug: #2015746\nChange-Id: I98e021594c59dbad1723597e38aeb4c0cec6934b\n(cherry picked from commit b2c8bc3590eb98a4539e3a647d18092039437436)\n'}, {'number': 2, 'created': '2023-05-24 10:15:09.000000000', 'files': ['releasenotes/notes/hpe-3par-code-changes-for-new-wsapi-25865a65a428ce46.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ced3bcbe173b0d62a05a12f319edefef542db1c4', 'message': 'HPE 3PAR: Few issues with new WSAPI (of 2023)\n\nIn recent HPE 3PAR WSAPI, observed issues with parameters\nlike snapCPG, localSnapCPG, etc.\nDue to this, few operations (eg. create volume, create\nremote copy group [RCG]) fail.\nIn order to work with new wsapi (of 2023), performed minor\ncode changes in 3par driver code.\n\nCloses-Bug: #2015746\nChange-Id: I98e021594c59dbad1723597e38aeb4c0cec6934b\n(cherry picked from commit b2c8bc3590eb98a4539e3a647d18092039437436)\n'}]",7,882781,ced3bcbe173b0d62a05a12f319edefef542db1c4,34,3,2,29122,,,0,"HPE 3PAR: Few issues with new WSAPI (of 2023)

In recent HPE 3PAR WSAPI, observed issues with parameters
like snapCPG, localSnapCPG, etc.
Due to this, few operations (eg. create volume, create
remote copy group [RCG]) fail.
In order to work with new wsapi (of 2023), performed minor
code changes in 3par driver code.

Closes-Bug: #2015746
Change-Id: I98e021594c59dbad1723597e38aeb4c0cec6934b
(cherry picked from commit b2c8bc3590eb98a4539e3a647d18092039437436)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/882781/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hpe-3par-code-changes-for-new-wsapi-25865a65a428ce46.yaml', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,ebde295e6863197b453e8bf672e1b6e93ce91339,I98e021594c59dbad1723597e38aeb4c0cec6934b-stable/2023.1,"API_VERSION_2023 = 100000000<<<<<<< HEAD (597537 [Pure Storage] Add check for new error message) ======= 4.0.18 - During conversion of volume to base volume, error out if it has child snapshot(s). Bug #1994521 4.0.19 - Update code to work with new WSAPI (of 2023). Bug #2015746 >>>>>>> CHANGE (b2c8bc HPE 3PAR: Few issues with new WSAPI (of 2023))<<<<<<< HEAD (597537 [Pure Storage] Add check for new error message)======= VERSION = ""4.0.19"" >>>>>>> CHANGE (b2c8bc HPE 3PAR: Few issues with new WSAPI (of 2023)) optional = {'online': True, if self.API_VERSION < API_VERSION_2023: optional['snapCPG'] = snapcpg if 'snapCPG' not in vol and self.API_VERSION < API_VERSION_2023: LOG.debug(""self.API_VERSION: %(version)s"", {'version': self.API_VERSION}) if self.API_VERSION < API_VERSION_2023: extras['snapCPG'] = snap_cpg if snap_cpg is not None and self.API_VERSION < API_VERSION_2023: if self.API_VERSION < API_VERSION_2023: rcg_target['snapCPG'] = cpg optional = {'localUserCPG': local_cpg} if self.API_VERSION < API_VERSION_2023: optional['localSnapCPG'] = vol_settings['snap_cpg'] LOG.debug(""created rcg %(name)s"", {'name': rcg_name}) LOG.debug(""API_VERSION: %(ver_1)s, API_VERSION_2023: %(ver_2)s"", {'ver_1': common.API_VERSION, 'ver_2': API_VERSION_2023}) if (new_snap_cpg != old_snap_cpg and common.API_VERSION < API_VERSION_2023):"," optional = {'online': True, 'snapCPG': snapcpg, if 'snapCPG' not in vol: 'snapCPG': snap_cpg, if snap_cpg is not None: 'snapCPG': cpg, optional = {'localSnapCPG': vol_settings['snap_cpg'], 'localUserCPG': local_cpg} if new_snap_cpg != old_snap_cpg:",191,31
openstack%2Fcharm-neutron-api-plugin-ovn~884355,openstack/charm-neutron-api-plugin-ovn,master,Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c,Enable neutron-dynamic-routing service plugin,MERGED,2023-05-25 10:40:38.000000000,2023-05-30 06:26:27.000000000,2023-05-30 06:26:27.000000000,"[{'_account_id': 1131}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 10:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/8ad984a9a2269c0f47f9bbd0248787186dfaa779', 'message': 'Enable neutron-dynamic-routing service plugin\n\nUpstream Neutron has declared that the neutron-dynamic-routing service\nplugin is now supported when OVN L3 service plugin and mechanism driver\nare in use.\n\nhttps://review.opendev.org/c/openstack/neutron/+/864051\nhttps://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n\nThis change removes the NDR plugin from the filter so that the plugin\nis enabled.\n\nChange-Id: Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c\n'}, {'number': 2, 'created': '2023-05-25 14:27:10.000000000', 'files': ['unit_tests/test_lib_charm_openstack_ovn.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/26287e88fdad27b555882b5b5833ed00cba73b71', 'message': 'Enable neutron-dynamic-routing service plugin\n\nUpstream Neutron has declared that the neutron-dynamic-routing service\nplugin is now supported when OVN L3 service plugin and mechanism driver\nare in use.\n\nhttps://review.opendev.org/c/openstack/neutron/+/864051\nhttps://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057\n\nThis change removes the NDR plugin from the filter so that the plugin\nis enabled.\n\nChange-Id: Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c\n'}]",4,884355,26287e88fdad27b555882b5b5833ed00cba73b71,13,4,2,24824,,,0,"Enable neutron-dynamic-routing service plugin

Upstream Neutron has declared that the neutron-dynamic-routing service
plugin is now supported when OVN L3 service plugin and mechanism driver
are in use.

https://review.opendev.org/c/openstack/neutron/+/864051
https://github.com/openstack/neutron/commit/4d1a7bd0bc3b142a6dc7f8414ed0d30e6c159057

This change removes the NDR plugin from the filter so that the plugin
is enabled.

Change-Id: Ic101d8c9fd7a674103ea53fe0b56d3c3f315595c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/55/884355/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_ovn.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",3,8ad984a9a2269c0f47f9bbd0248787186dfaa779,2023-enable-ndr,," 'neutron_dynamic_routing.services.bgp.bgp_plugin.BgpPlugin,'",0,4
openstack%2Ftripleo-heat-templates~884409,openstack/tripleo-heat-templates,master,I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09,Align FrrBgpAsn and FrrOvnBgpAgentAsn default values,ABANDONED,2023-05-25 15:02:21.000000000,2023-05-30 05:48:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-05-25 15:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb8bb452a45eb38519c2ed478151116ced445a48', 'message': 'Allign FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}, {'number': 2, 'created': '2023-05-25 15:06:20.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/104b8304f8173c68dd45a36c9d1259f2b54c66c1', 'message': 'Align FrrBgpAsn and FrrOvnBgpAgentAsn default values\n\nThe two parameters need to be configured to the same value. It makes\nsense that their default values are common too.\n\nChange-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09\n'}]",1,884409,104b8304f8173c68dd45a36c9d1259f2b54c66c1,5,2,2,31291,,,0,"Align FrrBgpAsn and FrrOvnBgpAgentAsn default values

The two parameters need to be configured to the same value. It makes
sense that their default values are common too.

Change-Id: I6abfb8bc20c7e4eaa2d63b11d3fbac425d7def09
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/884409/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,cb8bb452a45eb38519c2ed478151116ced445a48,, default: 64999, default: 65000,1,1
openstack%2Fpuppet-openstack-integration~884308,openstack/puppet-openstack-integration,master,I5152d1013a603e8d230748ff956d33507675450c,CentOS: Stop installing yum,MERGED,2023-05-25 03:03:59.000000000,2023-05-30 03:53:36.000000000,2023-05-30 03:53:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-25 03:03:59.000000000', 'files': ['playbooks/prepare-node-common.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7ea649e24357a39276e02433a75a1ccd26f9ff0d', 'message': 'CentOS: Stop installing yum\n\nCentOS/RHEL replaced yum by dnf and yum is no longer available by\ndefault. We (and the other projects) updated implementations to adapt\nthat change so we assume we no longer need the old yum command (which\nis just an alias of dnf).\n\nDepends-on: https://review.opendev.org/884307\nChange-Id: I5152d1013a603e8d230748ff956d33507675450c\n'}]",2,884308,7ea649e24357a39276e02433a75a1ccd26f9ff0d,12,3,1,9816,,,0,"CentOS: Stop installing yum

CentOS/RHEL replaced yum by dnf and yum is no longer available by
default. We (and the other projects) updated implementations to adapt
that change so we assume we no longer need the old yum command (which
is just an alias of dnf).

Depends-on: https://review.opendev.org/884307
Change-Id: I5152d1013a603e8d230748ff956d33507675450c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/08/884308/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-node-common.yaml'],1,7ea649e24357a39276e02433a75a1ccd26f9ff0d,remove-yum, dnf: dnf:, - name: Install yum (CentOS/RHEL) dnf: name: yum become: true yum: yum:,2,7
openstack%2Fcharm-neutron-k8s~884262,openstack/charm-neutron-k8s,main,I6fbdd76f863853354fd6e6fb885975ff7d542a7a,Switch to Antelope,MERGED,2023-05-24 17:57:56.000000000,2023-05-30 02:12:12.000000000,2023-05-30 01:51:52.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/8758f0f61cc1082b13e63509b7fa638fcf2b027a', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 2, 'created': '2023-05-25 05:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/fe6052c05137c6a336d92b3f19fc06d094f5e4ff', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s).\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 3, 'created': '2023-05-26 13:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/043019d9846de55a2d459f3e7f4b43155c722c63', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 4, 'created': '2023-05-26 13:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/8741909ebf2babdbb6813e5aa1e0f8609110f77d', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 5, 'created': '2023-05-26 15:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/ff2f6fdb88d1d59422b6c680018f30bab9fd6451', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 6, 'created': '2023-05-26 17:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/8da825aa49d5f3697584eb746f5fc5f8c3b23b3b', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 7, 'created': '2023-05-26 17:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/bc4cfeb470553ef157d91cd67cac765c95e1d0cb', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 8, 'created': '2023-05-26 18:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/2931869a39d3cbb7272faacc373afdb2b55ee3ab', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 9, 'created': '2023-05-29 06:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/b529ac98033527614611f940ed08184a114b3188', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 10, 'created': '2023-05-29 10:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/9c8b180e8c957ed3a424a14ab00ece249126674a', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 11, 'created': '2023-05-29 11:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/726284e10452ab716abd842944c2b3a1adf452de', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}, {'number': 12, 'created': '2023-05-29 12:57:18.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'src/templates/api-paste.ini.j2', 'src/charm.py', 'src/templates/neutron.conf.j2', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/288fab63096d5056e59c4aa5ab033b2a9cfb1a63', 'message': 'Switch to Antelope\n\nSwitch charm to antelope rock(s) and misc antelope fixes\n\nDue to limited resources in gate and max connections limit\nin mysq, this PR reduces the number of deployed apps.\n\nChange-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a\n'}]",2,884262,288fab63096d5056e59c4aa5ab033b2a9cfb1a63,29,2,12,12549,,,0,"Switch to Antelope

Switch charm to antelope rock(s) and misc antelope fixes

Due to limited resources in gate and max connections limit
in mysq, this PR reduces the number of deployed apps.

Change-Id: I6fbdd76f863853354fd6e6fb885975ff7d542a7a
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/62/884262/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'src/templates/api-paste.ini.j2', 'metadata.yaml', 'README.md']",6,8758f0f61cc1082b13e63509b7fa638fcf2b027a,2023.1,The charm by default uses `ghcr.io/openstack-snaps/neutron-server:2023.1` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-neutron-server:yoga` image.,7,7
openstack%2Fpuppet-nova~884456,openstack/puppet-nova,stable/wallaby,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:41:00.000000000,2023-05-30 01:49:00.000000000,2023-05-30 01:49:00.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/972f15e6bdc8dd425fb253f583bcc20451bf4736', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit e131d7b531f411629259c77e4f5b5fffd575fb57)\n(cherry picked from commit 3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc)\n(cherry picked from commit a319dd3ec923780107d3eed6e89e53175b586a47)\n'}, {'number': 2, 'created': '2023-05-26 07:55:09.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a21eae468aa6b3e7e9e1bf06d2bc40e505af9c1f', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)\n(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)\n(cherry picked from commit eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc)\n'}]",1,884456,a21eae468aa6b3e7e9e1bf06d2bc40e505af9c1f,8,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)
(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)
(cherry picked from commit eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/56/884456/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,972f15e6bdc8dd425fb253f583bcc20451bf4736,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Ftripleo-heat-templates~883502,openstack/tripleo-heat-templates,stable/wallaby,I719c10d5d2134742040cc9a0ba8adfcd92f19851,Fix mismatching policy keys titles,MERGED,2023-05-18 12:59:33.000000000,2023-05-30 00:40:58.000000000,2023-05-30 00:40:58.000000000,"[{'_account_id': 4690}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11604}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-18 12:59:33.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80058c8f58da3260bf3c85e1a5f885fd3914caa2', 'message': 'Fix mismatching policy keys titles\n\nUse the same resource title for the same policy key.\n\nMake the policy title dirven by Nova API service NovaHostStatus t-h-t\nparameter (deployment/nova/nova-api-container-puppet.yaml) mathing\nthe title used in the SRBAC template\n(environments/enable-secure-rbac.yaml)\n\nDifferent titles are causing the conflicting/duplicated declaration of\nthe same policy key defined by Puppet.\n\nRelated: rhbz#2207991\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I719c10d5d2134742040cc9a0ba8adfcd92f19851\n'}]",6,883502,80058c8f58da3260bf3c85e1a5f885fd3914caa2,20,7,1,6926,,,0,"Fix mismatching policy keys titles

Use the same resource title for the same policy key.

Make the policy title dirven by Nova API service NovaHostStatus t-h-t
parameter (deployment/nova/nova-api-container-puppet.yaml) mathing
the title used in the SRBAC template
(environments/enable-secure-rbac.yaml)

Different titles are causing the conflicting/duplicated declaration of
the same policy key defined by Puppet.

Related: rhbz#2207991
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I719c10d5d2134742040cc9a0ba8adfcd92f19851
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/883502/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-api-container-puppet.yaml'],1,80058c8f58da3260bf3c85e1a5f885fd3914caa2,, - nova-os_compute_api_servers_show_host_status: - nova-os_compute_api_servers_show_host_status_unknown-only:, - nova-host_status: - nova-host_status_unknown_only:,2,2
openstack%2Fopenstack-ansible-rabbitmq_server~884568,openstack/openstack-ansible-rabbitmq_server,master,I361757b8f76a6c2d087989a36d8f7543aba69e16,Change to CloudSmith repos from PackageCloud for RabbitMQ,MERGED,2023-05-28 00:34:13.000000000,2023-05-30 00:32:49.000000000,2023-05-29 23:58:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-28 00:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/de13bb8f6391f66aca16e653b7856e7c0db79a73', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 2, 'created': '2023-05-28 19:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/d3474376e89cc181646999b256339d3f9e32b8a3', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 3, 'created': '2023-05-28 20:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/dc84632c276f75a5e72ca8b6f70f38758ba1d6f2', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 4, 'created': '2023-05-29 15:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/292334f78319342dc7b66dc01465a91f7f77fd22', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}, {'number': 5, 'created': '2023-05-29 15:25:10.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d', 'message': 'Change to CloudSmith repos from PackageCloud for RabbitMQ\n\nUpstream has notified us[1] about the immediate deprecation and removal\nof the PackageCloud repositories we are using. Thus, we must move to the\nCloudSmith repos already being used for the erlang dependency for\nRabbitMQ.\n\n[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386\n\nCloses-Bug: 2021410\nChange-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16\n'}]",1,884568,ab9dbfb50eeef0b4e5a8143b9e2d61fd3682dc0d,18,4,5,34411,,,0,"Change to CloudSmith repos from PackageCloud for RabbitMQ

Upstream has notified us[1] about the immediate deprecation and removal
of the PackageCloud repositories we are using. Thus, we must move to the
CloudSmith repos already being used for the erlang dependency for
RabbitMQ.

[1] https://github.com/rabbitmq/rabbitmq-server/discussions/8386

Closes-Bug: 2021410
Change-Id: I361757b8f76a6c2d087989a36d8f7543aba69e16
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/68/884568/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml', 'files/gpg/C072C960', 'releasenotes/notes/rabbitmq-switch-to-cloudsmith-instead-of-packagecloud-deprecated-5ee62da847ccae1f.yaml']",4,de13bb8f6391f66aca16e653b7856e7c0db79a73,884568,--- deprecations: - | RabbitMQ packages are no longer provided by PackageCloud due to the upstream repository being no longer available after 2023-05-28. Installations will now utilize the CloudSmith repositories already in use for rabbitmq-erlang. https://github.com/rabbitmq/rabbitmq-server/discussions/8386 fixes: - | https://bugs.launchpad.net/openstack-ansible/+bug/2021410 ,,42,4
openstack%2Fopenstack-ansible-os_nova~884213,openstack/openstack-ansible-os_nova,stable/yoga,I81cd6431fec94f56b0ebd66c94e90c9623ba0e38,Define service_user for nova services,MERGED,2023-05-24 14:06:07.000000000,2023-05-29 22:44:29.000000000,2023-05-29 22:43:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 14:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a390a9d0546d5edab1078eee234b9949dd7e5ed7', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)\n'}, {'number': 2, 'created': '2023-05-24 18:49:58.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/5a12fddb440deb7e427b3d660a46b412ba1eb8fb', 'message': 'Define service_user for nova services\n\nIn order to cover OSSA-2023-003, a requirement to define service_user\nsection for all nova services has been added by nova.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275\n\nChange-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38\n(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)\n'}]",3,884213,5a12fddb440deb7e427b3d660a46b412ba1eb8fb,20,3,2,28619,,,0,"Define service_user for nova services

In order to cover OSSA-2023-003, a requirement to define service_user
section for all nova services has been added by nova.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884275

Change-Id: I81cd6431fec94f56b0ebd66c94e90c9623ba0e38
(cherry picked from commit 9c23b0c35993a5f5fb45f786f7e612eb20214fcd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/13/884213/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,a390a9d0546d5edab1078eee234b9949dd7e5ed7,osa/OSSA-2023-003,[service_user] send_service_user_token = {{ nova_service_token_roles_required | bool }} region_name = {{ nova_service_region }} auth_type = password username = {{ nova_service_user_name }} password = {{ nova_service_password }} project_name = {{ nova_service_project_name }} user_domain_id = {{ nova_service_user_domain_id }} project_domain_id = {{ nova_service_project_domain_id }} auth_url = {{ keystone_service_adminurl }} insecure = {{ keystone_service_adminuri_insecure | bool }}send_service_user_token = {{ nova_service_token_roles_required | bool }},,12,0
openstack%2Fnova~872471,openstack/nova,master,I4ab97626c10052c7af9934a80ff8db9ddab82738,Enforce quota usage from placement when unshelving,MERGED,2023-02-01 22:51:20.000000000,2023-05-29 21:25:22.000000000,2023-05-29 21:24:05.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-01 22:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef152e3418718343e016c79c2a8d60dd0636c891', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = True, cores and ram quota\nusage are counted from placement. When an instance is\nSHELVED_OFFLOADED, it will not have allocations in placement, so its\ncores and ram should not count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being enforced properly when\nunshelving a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}, {'number': 2, 'created': '2023-02-04 09:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49d07a435e52b3e00e29085c1827a44d636b3066', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = True, cores and ram quota\nusage are counted from placement. When an instance is\nSHELVED_OFFLOADED, it will not have allocations in placement, so its\ncores and ram should not count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being enforced properly when\nunshelving a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}, {'number': 3, 'created': '2023-02-04 13:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c72d33d359a937711de7c29ec9568a0a577e02c9', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = True, cores and ram quota\nusage are counted from placement. When an instance is\nSHELVED_OFFLOADED, it will not have allocations in placement, so its\ncores and ram should not count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being enforced properly when\nunshelving a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}, {'number': 4, 'created': '2023-05-23 01:09:06.000000000', 'files': ['releasenotes/notes/quota-unshelve-offloaded-e4ea2d6a1449f549.yaml', 'nova/api/openstack/compute/shelve.py', 'nova/limit/placement.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f79d6321e7c3edaab2eb911198b7b7f851371b3', 'message': 'Enforce quota usage from placement when unshelving\n\nWhen [quota]count_usage_from_placement = true or\n[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota\nusage are counted from placement. When an instance is SHELVED_OFFLOADED,\nit will not have allocations in placement, so its cores and ram should\nnot count against quota during that time.\n\nThis means however that when an instance is unshelved, there is a\npossibility of going over quota if the cores and ram it needs were\nallocated by some other instance(s) while it was SHELVED_OFFLOADED.\n\nThis fixes a bug where quota was not being properly enforced during\nunshelve of a SHELVED_OFFLOADED instance when quota usage is counted\nfrom placement. Test coverage is also added for the ""recheck"" quota\ncases.\n\nCloses-Bug: #2003991\n\nChange-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738\n'}]",18,872471,6f79d6321e7c3edaab2eb911198b7b7f851371b3,33,4,4,4690,,,0,"Enforce quota usage from placement when unshelving

When [quota]count_usage_from_placement = true or
[quota]driver = nova.quota.UnifiedLimitsDriver, cores and ram quota
usage are counted from placement. When an instance is SHELVED_OFFLOADED,
it will not have allocations in placement, so its cores and ram should
not count against quota during that time.

This means however that when an instance is unshelved, there is a
possibility of going over quota if the cores and ram it needs were
allocated by some other instance(s) while it was SHELVED_OFFLOADED.

This fixes a bug where quota was not being properly enforced during
unshelve of a SHELVED_OFFLOADED instance when quota usage is counted
from placement. Test coverage is also added for the ""recheck"" quota
cases.

Closes-Bug: #2003991

Change-Id: I4ab97626c10052c7af9934a80ff8db9ddab82738
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/872471/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/shelve.py', 'nova/limit/placement.py', 'nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/tests/functional/test_servers.py', 'nova/compute/api.py']",6,ef152e3418718343e016c79c2a8d60dd0636c891,bug/2003991," @staticmethod def _check_quota_unshelve_offloaded( context: nova_context.RequestContext, instance: 'objects.Instance', request_spec: 'objects.RequestSpec' ): # TODO(melwitt): This is ugly but we have to do it this way because # instances quota is currently counted from the API database but cores # and ram are counted from placement. That means while an instance is # SHELVED_OFFLOADED, it will still consume instances quota but it will # not consume cores and ram. So we need an instances delta of # 0 but cores and ram deltas from the flavor. # Once instances usage is also being counted from placement, we can # replace this method with a normal check_num_instances_quota() call. vcpus = instance.flavor.vcpus memory_mb = instance.flavor.memory_mb deltas = {'instances': 0, 'cores': vcpus, 'ram': memory_mb} # We are not looking to create a new server, we are unshelving an # existing one. objects.Quotas.check_deltas( context, deltas, context.project_id, user_id=context.user_id, check_project_id=instance.project_id, check_user_id=instance.user_id, ) # Do the same for unified limits. deltas = scheduler_utils.resources_from_flavor( instance.flavor, request_spec.is_bfv) # We are not looking to create a new server, we are unshelving an # existing one. if 'servers' in deltas: deltas['servers'] = 0 placement_limits.enforce_num_instances_and_flavor( context, context.project_id, instance.flavor, request_spec.is_bfv, 0, 0, deltas=deltas) # Check quota before we save any changes to the database, but only if # we are counting quota usage from placement. When an instance is # SHELVED_OFFLOADED, it will not consume cores or ram resources in # placement. This means it is possible that an unshelve would cause the # project/user to go over quota. if ( CONF.quota.count_usage_from_placement and instance.vm_state == vm_states.SHELVED_OFFLOADED ): self._check_quota_unshelve_offloaded( context, instance, request_spec) ",,259,28
openstack%2Fcinder-tempest-plugin~884209,openstack/cinder-tempest-plugin,master,I222033ecf33f08b1d92e527b0fcf95e038b45685,zuul: Exclude unneeded tests from multiattach job,MERGED,2023-05-24 14:51:50.000000000,2023-05-29 20:55:56.000000000,2023-05-29 20:55:56.000000000,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 14:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/188568115e061a1d55cfbbd1626fe6e810b9c883', 'message': ""zuul: Exclude unneeded tests from multiattach job\n\nTrim off some expensive tests that are run in other LVM\njobs already, and don't add value here.\n\nChange-Id: I222033ecf33f08b1d92e527b0fcf95e038b45685\n""}, {'number': 2, 'created': '2023-05-29 14:32:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/edd611188d28dc78e81f399f34345c82a36040a8', 'message': ""zuul: Exclude unneeded tests from multiattach job\n\nTrim off some expensive tests that are run in other LVM\njobs already, and don't add value here.\n\nChange-Id: I222033ecf33f08b1d92e527b0fcf95e038b45685\n""}]",3,884209,edd611188d28dc78e81f399f34345c82a36040a8,17,3,2,4523,,,0,"zuul: Exclude unneeded tests from multiattach job

Trim off some expensive tests that are run in other LVM
jobs already, and don't add value here.

Change-Id: I222033ecf33f08b1d92e527b0fcf95e038b45685
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/09/884209/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,188568115e061a1d55cfbbd1626fe6e810b9c883,multiattach-job-reduce-tests, # Other excluded tests are tests that are somewhat time consuming but unrelated # to multi-attach testing. tempest_exclude_regex: 'TestMultiAttachVolumeSwap|^tempest.api.image|^tempest.api.object_storage|^tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_boot_server_from_encrypted|^tempest.scenario.test_server_advanced_ops|^tempest.scenario.test_unified_limits', tempest_exclude_regex: 'TestMultiAttachVolumeSwap',3,1
openstack%2Fcinder-tempest-plugin~876730,openstack/cinder-tempest-plugin,master,I1273af9f12b6785fe2c648d53c66cf4d5a748243,Test srbac on user_messages,MERGED,2023-03-07 13:29:47.000000000,2023-05-29 20:33:44.000000000,2023-05-29 20:33:44.000000000,"[{'_account_id': 4523}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 34510}, {'_account_id': 35621}]","[{'number': 1, 'created': '2023-03-07 13:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/72858250c3649ecd5dd32b46dea77e7b35a1042e', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 2, 'created': '2023-03-07 15:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/330328a4753ab8c78ce32a5b8d795932fc1e9670', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 3, 'created': '2023-03-08 12:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a258941f928b322b0a1ad07332b983baf2ff0dd7', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 4, 'created': '2023-03-14 09:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b652a2327c89bee042d721f9962df5f3abe77467', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 5, 'created': '2023-03-19 10:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fa22c0f48ee6ead55501b7e46cc66622d924cc07', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 6, 'created': '2023-03-20 08:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/dc2faed2ab833f8b1fce80fdab1782af3b5ca33f', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 7, 'created': '2023-04-03 09:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/50bd549619e938282ffd0ac3ea829c9f4d38df6c', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 8, 'created': '2023-05-03 06:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/027ac4d52e5fea46b90630d73a69970184d15357', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 9, 'created': '2023-05-03 06:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/23a995499259b2f4dea866f5725eef4e5f194a91', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 10, 'created': '2023-05-04 13:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5930a772b577da46871272dc231a0b8778fea014', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 11, 'created': '2023-05-08 17:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/807c6ccc3741e4a98bc0aaeec42ca0102d40686a', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n""}, {'number': 12, 'created': '2023-05-09 13:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e043e0c73c22eacd55b7dc9bb17d55b30ad95b0c', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 13, 'created': '2023-05-10 15:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ef75d5681626834a745b2609032bdece642ecae3', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 14, 'created': '2023-05-15 10:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4412b2b2cf25cb6160e9b5201d8380c53d6efae9', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 15, 'created': '2023-05-18 09:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b7c88230c0497ebbdc79d150b85472ccb04a3f9b', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 16, 'created': '2023-05-22 07:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/4408e0abda4d57800cf4b961d5a95618a5ff81e3', 'message': ""Test srbac on user_messages\n\nTest 'reader' & 'member' roles for 'list', 'show' and 'delete' actions.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}, {'number': 17, 'created': '2023-05-22 08:26:39.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_user_messages.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b57a8dda9a6f4cd98cbd4990fbd403f56947f8ff', 'message': ""Test srbac on user_messages\n\nTest 'reader', 'member' and 'admin' roles for 'list', 'show' and 'delete'.\n\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\nChange-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243\n""}]",70,876730,b57a8dda9a6f4cd98cbd4990fbd403f56947f8ff,95,8,17,35834,,,0,"Test srbac on user_messages

Test 'reader', 'member' and 'admin' roles for 'list', 'show' and 'delete'.

Signed-off-by: Yosi Ben Shimon <ybenshim@redhat.com>
Change-Id: I1273af9f12b6785fe2c648d53c66cf4d5a748243
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/30/876730/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_user_messages.py'],1,72858250c3649ecd5dd32b46dea77e7b35a1042e,secure-rbac,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc import time from tempest.config import CONF from tempest.lib import decorators from tempest.lib import exceptions from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base from tempest.lib.common.utils import data_utils, test_utils class RbacV3UserMessagesTests(rbac_base.VolumeV3RbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, f'os_{cls.credentials[0]}') cls.client = cls.persona.volume_messages_client_latest admin_client = cls.os_project_admin cls.admin_messages_client = admin_client.volume_messages_client_latest cls.admin_volumes_client = admin_client.volumes_client_latest cls.admin_types_client = admin_client.volume_types_client_latest @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, 'os_%s' % cls.credentials[0]) def create_user_message(cls): """"""Trigger a 'no valid host' situation to generate a message."""""" bad_protocol = data_utils.rand_name('storage_protocol') bad_vendor = data_utils.rand_name('vendor_name') extra_specs = {'storage_protocol': bad_protocol, 'vendor_name': bad_vendor} vol_type_name = data_utils.rand_name(cls.__class__.__name__ + '-volume-type') bogus_type = cls.admin_types_client.create_volume_type( name=vol_type_name, extra_specs=extra_specs )['volume_type'] params = {'volume_type': bogus_type['id'], 'size': CONF.volume.volume_size} volume = cls.admin_volumes_client.create_volume(wait_until=""error"", **params)['volume'] time.sleep(5) messages = cls.admin_messages_client.list_messages()['messages'] message_id = None for message in messages: if message['resource_uuid'] == volume['id']: message_id = message['id'] break assert message_id, f""No user message generated for volume {volume['id']}"" cls.addCleanup(cls.admin_types_client.delete_volume_type, bogus_type['id']) cls.addCleanup(cls.admin_volumes_client.delete_volume, volume['id']) return message_id def list_messages(self): message_id = self.create_user_message() self.addCleanup(self.admin_messages_client.delete_message, message_id) self.do_request(method='list_messages') def show_message(self): message_id = self.create_user_message() self.addCleanup(self.admin_messages_client.delete_message, message_id) self.do_request(method='show_message', message_id=message_id) def delete_message(self, expected_status): message_id = self.create_user_message() self.do_request( method='delete_message', expected_status=expected_status, message_id=message_id ) if expected_status == exceptions.Forbidden: self.addCleanup(self.admin_messages_client.delete_message, message_id) else: self.client.wait_for_resource_deletion(id=message_id) class ProjectMemberTests(RbacV3UserMessagesTests, base.BaseVolumeTest): min_microversion = '3.3' credentials = ['project_member', 'project_admin'] @decorators.idempotent_id('632215a6-ad2c-11ed-aa63-84c5a6290b8f') def test_list_messages(cls): cls.list_messages() @decorators.idempotent_id('7285e25c-ad2c-11ed-aa63-84c5a6290b8f') def test_show_message(cls): cls.show_message() @decorators.idempotent_id('7752e4ce-ad2c-11ed-aa63-84c5a6290b8f') def test_delete_message(cls): cls.delete_message(expected_status=204) class ProjectReaderTests(RbacV3UserMessagesTests, base.BaseVolumeTest): min_microversion = '3.3' credentials = ['project_reader', 'project_admin'] @decorators.idempotent_id('c9b67caa-b1bc-11ed-b3dd-84c5a6290b8f') def test_list_messages(cls): cls.list_messages() @decorators.idempotent_id('ddb9d0ee-b1bc-11ed-b3dd-84c5a6290b8f') def test_show_message(cls): cls.show_message() @decorators.idempotent_id('e1909cde-b1bc-11ed-b3dd-84c5a6290b8f') def test_delete_message(cls): cls.delete_message(expected_status=exceptions.Forbidden) ",,121,0
openstack%2Fironic-inspector~884534,openstack/ironic-inspector,stable/wallaby,I7405420ad441428dc82360d84b75e03921031482,Power off before inspection,ABANDONED,2023-05-29 20:28:24.000000000,2023-05-29 20:30:54.000000000,,[],"[{'number': 1, 'created': '2023-05-29 20:28:24.000000000', 'files': ['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fd80163efb682859a30a084f167e951ab1ecf9ca', 'message': 'Power off before inspection\n\nPower off nodes before inspection as failed previous\ninspection attempts may cause re-inspection attempts\nto fail.\n\nChange-Id: I7405420ad441428dc82360d84b75e03921031482\nStory: 2008107\nTask: 40820\n(cherry picked from commit 34b264ef080272fead07af32c81b5c82b65b2839)\n'}]",0,884534,fd80163efb682859a30a084f167e951ab1ecf9ca,2,0,1,7130,,,0,"Power off before inspection

Power off nodes before inspection as failed previous
inspection attempts may cause re-inspection attempts
to fail.

Change-Id: I7405420ad441428dc82360d84b75e03921031482
Story: 2008107
Task: 40820
(cherry picked from commit 34b264ef080272fead07af32c81b5c82b65b2839)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/34/884534/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_introspect.py', 'ironic_inspector/introspect.py', 'ironic_inspector/conf/default.py', 'ironic_inspector/test/unit/test_common_ironic.py', 'releasenotes/notes/power-off-before-performing-explicit-introspection-bb1b4b584cdcda12.yaml', 'ironic_inspector/common/ironic.py']",6,fd80163efb682859a30a084f167e951ab1ecf9ca,," def _wait_for_power_state(node, state, ironic): timeout = CONF.power_timeout for count in openstack.utils.iterate_timeout( timeout, ""Timed out waiting for node %(node)s to reach power "" ""state %(state)s."" % {'node': node, 'state': state}): latest_node = ironic.get_node(node) if latest_node.power_state == state: return def set_power_state(node, state, ironic=None, wait=True): if ironic is None: ironic = get_client() try: ironic.set_node_power_state(node, state) if wait: _wait_for_power_state(node, state, ironic) except os_exc.SDKException as exc: raise utils.Error( 'Failed to set power state for node %(node)s ' 'Error: %(error)s' % {'node': node, 'error': exc})",,107,3
openstack%2Fnova~882971,openstack/nova,stable/train,Icbdcd5d124717e195d55d9e42530611ed812fadd,CI: fix backport validator for new branch naming,MERGED,2023-05-11 15:13:21.000000000,2023-05-29 20:27:25.000000000,2023-05-29 20:26:19.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:13:21.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a24acd9240f2a2705ccd979577e0e2338a238ef', 'message': 'CI: fix backport validator for new branch naming\n\nvalidate-backport job started to fail as only old stable branch naming\nis accepted. This patch extends the script to allow numbers and dot as\nwell in the branch names (like stable/2023.1).\n\nChange-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd\n(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)\n(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)\n(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)\n(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)\n(cherry picked from commit 41895386349ee8d8acea6b1278a2b54c6f9d750f)\n(cherry picked from commit 7e3a8a1ba7c27d1508abc2e21921774f3cf29089)\n(cherry picked from commit e4fe1c11133a242cb2660f95477197370694a63f)\n(cherry picked from commit a377953cb68ff2e2418ba93935a753f0abdc648c)\n'}]",2,882971,8a24acd9240f2a2705ccd979577e0e2338a238ef,11,4,1,17685,,,0,"CI: fix backport validator for new branch naming

validate-backport job started to fail as only old stable branch naming
is accepted. This patch extends the script to allow numbers and dot as
well in the branch names (like stable/2023.1).

Change-Id: Icbdcd5d124717e195d55d9e42530611ed812fadd
(cherry picked from commit fe125da63b6508788654f0dab721f13005c09d25)
(cherry picked from commit 09f85a8a922e4ad68271886d2389042d4f4d6896)
(cherry picked from commit abd9a34a6014730620cee15a44f328e48e57398e)
(cherry picked from commit acb31f01b1f10e1101c520657b2e6432a99e4b35)
(cherry picked from commit 41895386349ee8d8acea6b1278a2b54c6f9d750f)
(cherry picked from commit 7e3a8a1ba7c27d1508abc2e21921774f3cf29089)
(cherry picked from commit e4fe1c11133a242cb2660f95477197370694a63f)
(cherry picked from commit a377953cb68ff2e2418ba93935a753f0abdc648c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/882971/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,8a24acd9240f2a2705ccd979577e0e2338a238ef,validate-backport-release-id," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z0-9.]+)')"," branch=$(git branch -a --contains ""$hash"" 2>/dev/null| grep -oE '(master|stable/[a-z]+)')",1,1
openstack%2Fcinder-tempest-plugin~872986,openstack/cinder-tempest-plugin,master,I838ba765851485e05df785740257caf89492e104,[srbac] Test srbac on snapshots,MERGED,2023-02-07 17:35:22.000000000,2023-05-29 20:26:15.000000000,2023-05-29 20:26:15.000000000,"[{'_account_id': 8556}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32704}, {'_account_id': 35834}]","[{'number': 1, 'created': '2023-02-07 17:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/bddd3de2041362cd15234dc882ad5bd3ad9c6362', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 2, 'created': '2023-02-09 15:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/478f86ef699f65869d39a810e3b1408278ba0eca', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 3, 'created': '2023-02-22 13:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/963793c4a8694a54a0520b0a5864794ac2cb378e', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 4, 'created': '2023-02-22 15:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/50f0eea5e3ffc59c5e782af7d0be7e7af3ddf04d', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 5, 'created': '2023-02-23 10:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/ec82e308c6946a37f1718aeedd77800f1a5690df', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 6, 'created': '2023-02-23 11:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b44740924c2057551659e539890eac773186f452', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 7, 'created': '2023-03-07 09:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/58fa7a6218386ecd7a6829cff36d21625fe0e8c1', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 8, 'created': '2023-03-07 09:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9b3d81b9b3df8c96921a3d9aadb47829aec060ff', 'message': 'WIP - Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 9, 'created': '2023-03-07 09:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/7ec3cc6b9cb86cf258c2cbf411d909c6f208f1a9', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 10, 'created': '2023-03-07 12:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fe1a14cc50bd1fcccb9224bd8cda6ddd50a10361', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 11, 'created': '2023-03-27 12:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a7532d36296bd5ebee01879de710effc600c7e95', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 12, 'created': '2023-03-27 15:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/dd5263de6845f44fca66bb0a1322dacff5cd449f', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 13, 'created': '2023-03-27 18:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d8325e70ecd5e28ddb42a8c587b3cf73177599f2', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 14, 'created': '2023-03-27 18:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f36b744e39799400994902b6d4ddaea7df0f1713', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 15, 'created': '2023-03-28 07:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a06b39a73b08f865244c1305f42b5fe974b6437f', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 16, 'created': '2023-03-28 08:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/23eda3c2edb8b06e5222cc5348454e907c6503a0', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 17, 'created': '2023-03-28 09:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6602349cb0d97022244c4352a6825552e4f48cb9', 'message': 'Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 18, 'created': '2023-03-29 09:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/fa15cc68022edfd39f2122f202f6597565629915', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 19, 'created': '2023-03-30 10:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8f981168aa112effe1938a1e3a986677956245f6', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 20, 'created': '2023-04-02 09:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a608ffe76a41c51b6b601f10ffb81ba1a4aeab55', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 21, 'created': '2023-04-04 10:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/941d069149a4f90050ad99618760580f91eee3d2', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 22, 'created': '2023-04-17 09:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6e86ef3df9d51adc9c38716582739c0a5a57dde6', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 23, 'created': '2023-04-20 11:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/01e5f12ced8292a904d989212e5175df411b3d03', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 24, 'created': '2023-04-20 11:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/54be46ae344d48e55968d3bec072cd3b3a927bdb', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\n'}, {'number': 25, 'created': '2023-05-10 11:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/f5de2822607d89bba859fd171fd3e4d5f40c88b1', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 26, 'created': '2023-05-10 13:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9a73ef50b82effc38034c4c33da0d19ee64d3692', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 27, 'created': '2023-05-11 11:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/b197caca1a1ef582cb7a56fade648709b5e9dbb7', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 28, 'created': '2023-05-15 10:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/9604ef7210f20250c71944aca3fa087cb7d14f03', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader,Member and Admin srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 29, 'created': '2023-05-18 14:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1733a5a3bcb92ec87e626dff31c9c0d42974af46', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader,Member and Admin srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 30, 'created': '2023-05-18 14:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/1ad8b6da1d7e9f3a2bf5fd30346e4ccc0f14dc5f', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 31, 'created': '2023-05-18 17:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/22083f2d1287657b132aefe96f6aff40daa710ec', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}, {'number': 32, 'created': '2023-05-23 10:45:37.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/base.py', 'cinder_tempest_plugin/rbac/v3/test_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/de601aeb6bb5a3467ead8231f0d101128360fa40', 'message': '[srbac] Test srbac on snapshots\n\nAdding Reader and Member srbac tests with snapshots operations\n\nChange-Id: I838ba765851485e05df785740257caf89492e104\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}]",317,872986,de601aeb6bb5a3467ead8231f0d101128360fa40,134,9,32,35621,,,0,"[srbac] Test srbac on snapshots

Adding Reader and Member srbac tests with snapshots operations

Change-Id: I838ba765851485e05df785740257caf89492e104
Signed-off-by: Yosi Ben Shimon <ybenshim@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/86/872986/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_snapshots.py'],1,bddd3de2041362cd15234dc882ad5bd3ad9c6362,cinder_srbac_snapshots,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest.config import CONF from tempest.common import waiters from tempest.lib import decorators, exceptions from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils # from tempest.lib.decorators import cleanup_order from cinder_tempest_plugin.api.volume import base from cinder_tempest_plugin.rbac.v3 import base as rbac_base class VolumeV3RbacSnapshotsTests(rbac_base.VolumeV3RbacBaseTests, metaclass=abc.ABCMeta): @classmethod def setup_clients(cls): super().setup_clients() cls.persona = getattr(cls, f'os_{cls.credentials[0]}') cls.client = cls.persona.snapshots_client_latest @classmethod def setup_credentials(cls): super().setup_credentials() cls.os_primary = getattr(cls, f'os_{cls.credentials[0]}') @decorators.cleanup_order def create_volume(self, client, **kwargs): """"""Wrapper utility that returns a test volume. """""" kwargs['size'] = CONF.volume.volume_size kwargs['name'] = data_utils.rand_name(VolumeV3RbacSnapshotsTests.__name__ + '-Volume') volume_id = client.create_volume(**kwargs)['volume']['id'] self.cleanup(test_utils.call_and_ignore_notfound_exc, self.delete_volume, client=client, volume_id=volume_id) waiters.wait_for_volume_resource_status(client=client, resource_id=volume_id, status='available') return volume_id @decorators.cleanup_order def create_snapshot(self, client, volume_id, **kwargs): """"""Wrapper utility that returns a test snapshot. """""" kwargs['name'] = data_utils.rand_name(VolumeV3RbacSnapshotsTests.__name__ + '-Snapshot') snapshot_id = client.create_snapshot(volume_id=volume_id, **kwargs)['snapshot']['id'] self.cleanup( test_utils.call_and_ignore_notfound_exc, self.delete_snapshot, client=client, snapshot_id=snapshot_id ) waiters.wait_for_volume_resource_status(client=client, resource_id=snapshot_id, status='available') return snapshot_id @staticmethod def delete_volume(client, volume_id): """"""Delete volume by the given client"""""" client.delete_volume(volume_id) client.wait_for_resource_deletion(volume_id) @staticmethod def delete_snapshot(client, snapshot_id): """"""Delete snapshot by the given client"""""" client.delete_snapshot(snapshot_id) client.wait_for_resource_deletion(snapshot_id) @abc.abstractmethod def test_list_snapshots(self): pass @abc.abstractmethod def test_show_snapshot(self): pass class ProjectMemberTests(VolumeV3RbacSnapshotsTests, base.BaseVolumeTest): credentials = ['project_member', 'project_alt_member'] @classmethod def setup_clients(cls): super().setup_clients() cls.volumes_alt_client = cls.os_project_alt_member.volumes_client_latest cls.snapshots_alt_client = cls.os_project_alt_member.snapshots_client_latest cls.volumes_member_client = cls.os_project_member.volumes_client_latest cls.snapshots_member_client = cls.os_project_member.snapshots_client_latest @decorators.idempotent_id('5b3ec87f-443f-42f7-bd3c-ab05ea30c5e1') def test_list_snapshots(self): volume_id = self.create_volume(client=self.volumes_alt_client) self.create_snapshot(client=self.snapshots_alt_client, volume_id=volume_id) self.do_request(method='list_snapshots', expected_status=200) @decorators.idempotent_id('6fee8967-951c-4957-b51b-97b83c13c7c3') def test_show_snapshot(self): volume_id = self.create_volume(client=self.volumes_member_client) snapshot_id = self.create_snapshot(client=self.snapshots_member_client, volume_id=volume_id) self.do_request(method='show_snapshot', expected_status=200, snapshot_id=snapshot_id) class ProjectReaderTests(ProjectMemberTests, base.BaseVolumeTest): credentials = ['project_reader', 'project_member', 'project_alt_member'] @classmethod def setup_clients(cls): super().setup_clients() @decorators.idempotent_id('dd8e19dc-c8fd-443c-8aed-cdffe07fa6be') def test_list_snapshots(self): super().test_list_snapshots() @decorators.idempotent_id('6f69e8ed-4e11-40a1-9620-258cf3c45872') def test_show_snapshot(self): super().test_show_snapshot() ",,125,0
openstack%2Fcharm-hacluster~861680,openstack/charm-hacluster,stable/jammy,I8975f04ef03a7a1ff445771bacdb0fc6ed9d8267,Update bundles to use yoga,ABANDONED,2022-10-18 00:58:17.000000000,2023-05-29 19:27:38.000000000,,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-18 00:58:17.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/f9a2f4856fa09104bec686c088cb5892c4132111', 'message': 'Update bundles to use yoga\n\nThis change reconfigures the bundles to use OpenStack yoga, the last\nversion that supports Focal and Jammy.\n\nChange-Id: I8975f04ef03a7a1ff445771bacdb0fc6ed9d8267\nCloses-Bug: #1991528\n(cherry picked from commit 375060fcf278a177b923f280e272bb29fd05a899)\n'}]",1,861680,f9a2f4856fa09104bec686c088cb5892c4132111,12,3,1,2424,,,0,"Update bundles to use yoga

This change reconfigures the bundles to use OpenStack yoga, the last
version that supports Focal and Jammy.

Change-Id: I8975f04ef03a7a1ff445771bacdb0fc6ed9d8267
Closes-Bug: #1991528
(cherry picked from commit 375060fcf278a177b923f280e272bb29fd05a899)
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/80/861680/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",2,f9a2f4856fa09104bec686c088cb5892c4132111,bug/1991528, channel: yoga/edge, channel: latest/edge,2,2
openstack%2Fcharm-hacluster~884556,openstack/charm-hacluster,stable/jammy,I33aa8452dd73d7d9f272b5f9c74319b768cda743,Update bundles to use 8.0/edge,ABANDONED,2023-05-26 19:58:17.000000000,2023-05-29 19:27:30.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 19:58:17.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/c82793475e1c4c9c9ccea77f6c57632f849f1b81', 'message': 'Update bundles to use 8.0/edge\n\nChange-Id: I33aa8452dd73d7d9f272b5f9c74319b768cda743\n'}]",2,884556,c82793475e1c4c9c9ccea77f6c57632f849f1b81,7,3,1,2424,,,0,"Update bundles to use 8.0/edge

Change-Id: I33aa8452dd73d7d9f272b5f9c74319b768cda743
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/56/884556/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",2,c82793475e1c4c9c9ccea77f6c57632f849f1b81,bug/1991528, channel: 8.0/edge channel: 8.0/edge, channel: latest/edge channel: latest/edge,4,4
openstack%2Fneutron~883226,openstack/neutron,stable/zed,If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8,docs: Deindent code blocks,MERGED,2023-05-16 06:09:56.000000000,2023-05-29 19:24:31.000000000,2023-05-29 19:23:11.000000000,"[{'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 06:09:56.000000000', 'files': ['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/admin/config-logging.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/ovn/routed_provider_networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/438e486451f1bbb36df5970d6953651ea54e54fe', 'message': 'docs: Deindent code blocks\n\nWe had a number of code blocks that were being incorrectly rendered\ninside block quotes, which messed with formatting somewhat. Correct\nthem. This was done using the following script:\n\n  sphinx-build -W -b xml doc/source doc/build/xml\n  files=$(find doc/build/xml -name \'*.xml\' -print)\n  for file in $files; do\n      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then\n          echo ""$file""\n      fi\n  done\n\nNote that this also highlighted a file using DOS line endings. This is\ncorrected.\n\nChange-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)\n(cherry picked from commit 1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2)\nConflicts:\n\tdoc/source/admin/config-routed-networks.rst\n'}]",0,883226,438e486451f1bbb36df5970d6953651ea54e54fe,8,4,1,13861,,,0,"docs: Deindent code blocks

We had a number of code blocks that were being incorrectly rendered
inside block quotes, which messed with formatting somewhat. Correct
them. This was done using the following script:

  sphinx-build -W -b xml doc/source doc/build/xml
  files=$(find doc/build/xml -name '*.xml' -print)
  for file in $files; do
      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then
          echo ""$file""
      fi
  done

Note that this also highlighted a file using DOS line endings. This is
corrected.

Change-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)
(cherry picked from commit 1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2)
Conflicts:
	doc/source/admin/config-routed-networks.rst
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/883226/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/admin/config-logging.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/ovn/routed_provider_networks.rst']",8,438e486451f1bbb36df5970d6953651ea54e54fe,docs,".. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false.. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2"," .. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false .. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2",707,711
openstack%2Fneutron~883225,openstack/neutron,stable/2023.1,If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8,docs: Deindent code blocks,MERGED,2023-05-16 06:06:34.000000000,2023-05-29 19:24:24.000000000,2023-05-29 19:23:07.000000000,"[{'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-16 06:06:34.000000000', 'files': ['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/admin/config-logging.rst', 'doc/source/admin/config-routed-networks.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/ovn/routed_provider_networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2', 'message': 'docs: Deindent code blocks\n\nWe had a number of code blocks that were being incorrectly rendered\ninside block quotes, which messed with formatting somewhat. Correct\nthem. This was done using the following script:\n\n  sphinx-build -W -b xml doc/source doc/build/xml\n  files=$(find doc/build/xml -name \'*.xml\' -print)\n  for file in $files; do\n      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then\n          echo ""$file""\n      fi\n  done\n\nNote that this also highlighted a file using DOS line endings. This is\ncorrected.\n\nChange-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)\n'}]",1,883225,1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2,8,4,1,13861,,,0,"docs: Deindent code blocks

We had a number of code blocks that were being incorrectly rendered
inside block quotes, which messed with formatting somewhat. Correct
them. This was done using the following script:

  sphinx-build -W -b xml doc/source doc/build/xml
  files=$(find doc/build/xml -name '*.xml' -print)
  for file in $files; do
      if xmllint -xpath ""//block_quote/literal_block"" ""$file"" &>/dev/null; then
          echo ""$file""
      fi
  done

Note that this also highlighted a file using DOS line endings. This is
corrected.

Change-Id: If63f31bf13c76a185e2c6eebc9b85f9a1f3bbde8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit d409296bdeb97861e8eada77f9ad754fc957c12e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/883225/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/config-qos.rst', 'doc/source/admin/config-ovs-offload.rst', 'doc/source/configuration/metering-agent.rst', 'doc/source/contributor/internals/ovn/port_forwarding.rst', 'doc/source/admin/config-bgp-floating-ip-over-l2-segmented-network.rst', 'doc/source/admin/config-logging.rst', 'doc/source/admin/config-routed-networks.rst', 'doc/source/contributor/internals/ovn/ovn_network_logging.rst', 'doc/source/admin/ovn/routed_provider_networks.rst']",9,1ef6a605adfd516fcfb9b5d83bbcee46c73edcc2,docs,".. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false.. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2"," .. code-block:: bash $ ovn-nbctl list logical_switch public _uuid : 983719e5-4f32-4fb0-926d-46291457ca41 acls : [] dns_records : [] external_ids : {""neutron:mtu""=""1450"", ""neutron:network_name""=public, ""neutron:revision_number""=""3""} forwarding_groups : [] load_balancer : [] name : neutron-6c8be12a-9ed0-4ac4-8130-cb8fad83cd46 other_config : {mcast_flood_unregistered=""false"", mcast_snoop=""true""} ports : [81bce1ab-87f8-4ed5-8163-f16701499dfe, b23d0c2e-773b-4ecb-8306-53d117006a7b] qos_rules : [] $ ovn-nbctl list logical_switch_port 81bce1ab-87f8-4ed5-8163-f16701499dfe _uuid : 81bce1ab-87f8-4ed5-8163-f16701499dfe addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-96f663af-19fa-4c7e-a1b8-1dfdc9cd9e82 options : {network_name=phys-net-1} parent_name : [] port_security : [] tag : 100 tag_request : [] type : localnet up : false $ ovn-nbctl list logical_switch_port b23d0c2e-773b-4ecb-8306-53d117006a7b _uuid : b23d0c2e-773b-4ecb-8306-53d117006a7b addresses : [unknown] dhcpv4_options : [] dhcpv6_options : [] dynamic_addresses : [] enabled : [] external_ids : {} ha_chassis_group : [] name : provnet-469cbc3d-8e06-4a8f-be3a-3fcdadfd398a options : {network_name=phys-net-2} parent_name : [] port_security : [] tag : 200 tag_request : [] type : localnet up : false .. code-block:: bash compute-1: bridge-mappings = segment-1:br-provider1 compute-2: bridge-mappings = segment-2:br-provider2",708,712
openstack%2Fneutron~880773,openstack/neutron,master,Ibb32ec5492c4fe00b9dac510f7e69160982992dd,Handle no more IP addresses available during a network sync,MERGED,2023-04-18 18:28:24.000000000,2023-05-29 19:24:23.000000000,2023-05-29 19:23:03.000000000,"[{'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 18:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b67d4152e5f091f2f51500cfae80884884faae8', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when sb_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n'}, {'number': 2, 'created': '2023-05-16 21:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b7bc9a85c4586b33bf88a54534b722ccd5d425c', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when sb_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n'}, {'number': 3, 'created': '2023-05-16 21:33:30.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a86e300a0b3c9b00974041935861ffb9279a6960', 'message': 'Handle no more IP addresses available during a network sync\n\nIn some corner cases, like when db_sync is performed after OVS to OVN\nmigration, an implicit metadata port creation on a network with\ndepleted IP pool can raise IP allocation error. Just catch and log\nthis error such that the db_sync tool can finish syncing.\n\nChange-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd\n'}]",3,880773,a86e300a0b3c9b00974041935861ffb9279a6960,20,4,3,34271,,,0,"Handle no more IP addresses available during a network sync

In some corner cases, like when db_sync is performed after OVS to OVN
migration, an implicit metadata port creation on a network with
depleted IP pool can raise IP allocation error. Just catch and log
this error such that the db_sync tool can finish syncing.

Change-Id: Ibb32ec5492c4fe00b9dac510f7e69160982992dd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/880773/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py'],1,7b67d4152e5f091f2f51500cfae80884884faae8,catch_ipam," except n_exc.IpAddressGenerationFailure: LOG.warning(""No more IP addresses available during "" ""implicit port creation while creating "" ""network %s"", network['id'])",,4,0
openstack%2Fneutron~883508,openstack/neutron,stable/ussuri,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 13:51:50.000000000,2023-05-29 19:24:21.000000000,2023-05-29 19:22:59.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-18 13:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99b3b5fd191f9621cbbf5db4f0cdd541b8336da1', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n'}, {'number': 2, 'created': '2023-05-18 15:05:26.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b96edbeef8f76b57be7bd5f93d8c0acfc430a61', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py\n  neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n'}]",1,883508,5b96edbeef8f76b57be7bd5f93d8c0acfc430a61,15,3,2,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py
  neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/883508/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,99b3b5fd191f9621cbbf5db4f0cdd541b8336da1,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,142,34
openstack%2Fneutron~883535,openstack/neutron,stable/wallaby,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 14:39:08.000000000,2023-05-29 19:24:18.000000000,2023-05-29 19:22:55.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 14:39:08.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d636685f497f5ca2784f92f5d5b8bd24cf35c170', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)\n'}]",0,883535,d636685f497f5ca2784f92f5d5b8bd24cf35c170,12,4,1,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/883535/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,d636685f497f5ca2784f92f5d5b8bd24cf35c170,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,121,27
openstack%2Fneutron~883555,openstack/neutron,stable/victoria,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 17:16:39.000000000,2023-05-29 19:24:08.000000000,2023-05-29 19:22:51.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 17:16:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/85befc96787a71634576fdc54404e264861997da', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nConflicts:\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)\n'}]",0,883555,85befc96787a71634576fdc54404e264861997da,11,4,1,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Conflicts:
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
  neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/883555/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,85befc96787a71634576fdc54404e264861997da,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,142,34
openstack%2Fneutron~883534,openstack/neutron,stable/xena,I943f2fb4db9dc33dc372f844d6133faff415befe,OVN: Always try and create a metadata port on subnets,MERGED,2023-05-18 14:38:52.000000000,2023-05-29 19:17:30.000000000,2023-05-29 19:16:14.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-18 14:38:52.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/802f03b4de51f5339dc4970381b422107556406e', 'message': 'OVN: Always try and create a metadata port on subnets\n\nWhen a subnet is updated, for example, to disable then\nre-enable DHCP on it, if there is no metadata port it\nwill just return without trying to allocate an IP,\nleaving DHCP unusable on the subnet.  This could happen\nif an admin, even accidentally, deletes the DHCP port\non a subnet while DHCP is disabled.\n\nThis also makes OVN behave like ML2/OVS, which will\nre-create the DHCP port when the enable_dhcp flag is\nchanged to false and back to true.\n\nChange-Id: I943f2fb4db9dc33dc372f844d6133faff415befe\nCloses-bug: #2015377\n(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)\n(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)\n(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)\n'}]",0,883534,802f03b4de51f5339dc4970381b422107556406e,12,4,1,1131,,,0,"OVN: Always try and create a metadata port on subnets

When a subnet is updated, for example, to disable then
re-enable DHCP on it, if there is no metadata port it
will just return without trying to allocate an IP,
leaving DHCP unusable on the subnet.  This could happen
if an admin, even accidentally, deletes the DHCP port
on a subnet while DHCP is disabled.

This also makes OVN behave like ML2/OVS, which will
re-create the DHCP port when the enable_dhcp flag is
changed to false and back to true.

Change-Id: I943f2fb4db9dc33dc372f844d6133faff415befe
Closes-bug: #2015377
(cherry picked from commit 267efd298479d66c64d55a76bd21c9664080f76a)
(cherry picked from commit 0681f8b3ad43aafa6e6af521f2b0aaa5923041a1)
(cherry picked from commit 47b9511ec5da9b8c8721316f7671bc794c848147)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/34/883534/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_db_sync.py', 'releasenotes/notes/ovn-recreate-metadata-port-76e2c0e651267aa0.yaml']",5,802f03b4de51f5339dc4970381b422107556406e,bug/2015377,"--- fixes: - | Fix an issue in the OVN driver where network metadata could become unavailable if the metadata port was ever deleted, even if accidental. To re-create the port, a user can now disable, then enable, DHCP for one of the subnets associated with the network using the Neutron API. This will try and create the port, similar to what happens in the DHCP agent for ML2/OVS. For more information, see bug `2015377 <https://bugs.launchpad.net/ubuntu/+source/neutron/+bug/2015377>`_. ",,121,27
openstack%2Fneutron~869163,openstack/neutron,master,I6b51b41be90aad5566960701344a9cc710abbc0d,Add extra log to help figuring out OVS events,MERGED,2023-01-04 09:39:40.000000000,2023-05-29 19:12:10.000000000,2023-05-29 19:11:08.000000000,"[{'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 09:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56c6314ec6667db2ad91d040783f46a68ce9900a', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched by\nneutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}, {'number': 2, 'created': '2023-01-04 16:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df0e9181db39d4d4334fa8b43973468dcb2ec8dc', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched by\nneutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}, {'number': 3, 'created': '2023-01-05 10:41:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b78a10ed83827962f66fe4140deb9ca5295e03a', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched by\nneutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}, {'number': 4, 'created': '2023-05-04 09:22:37.000000000', 'files': ['neutron/agent/common/ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/78dbe55f19b61dc977bb255d135049712ceb0e8c', 'message': ""Add extra log to help figuring out OVS events\n\nWhen something new is appearing on OVS, an event is fired and catched\nby neutron agent.\n\nSometimes, it's useful to have debug info about these events.\n\nChange-Id: I6b51b41be90aad5566960701344a9cc710abbc0d\nSigned-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>\n""}]",20,869163,78dbe55f19b61dc977bb255d135049712ceb0e8c,38,5,4,11583,,,0,"Add extra log to help figuring out OVS events

When something new is appearing on OVS, an event is fired and catched
by neutron agent.

Sometimes, it's useful to have debug info about these events.

Change-Id: I6b51b41be90aad5566960701344a9cc710abbc0d
Signed-off-by: Arnaud Morin <arnaud.morin@ovhcloud.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/869163/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovsdb_monitor.py'],1,56c6314ec6667db2ad91d040783f46a68ce9900a,," LOG.debug('%(len)s new events from OVS: %(events)s', {""len"": len(json), ""events"": json}) if devices_added: LOG.debug( 'Adding %(len)s ""added"" events to new_events: %(events)s', {""len"": len(devices_added), ""events"": devices_added}) if devices_modified: LOG.debug( 'Adding %(len)s ""modified"" events to new_events: %(events)s', {""len"": len(devices_modified), ""events"": devices_modified}) if devices_removed: LOG.debug( 'Adding %(len)s ""removed"" events to new_events: %(events)s', {""len"": len(devices_removed), ""events"": devices_removed}) if any([len(self.new_events['added']) > 0, len(self.new_events['modified']) > 0, len(self.new_events['removed']) > 0]): LOG.debug( 'Current size of new_events: added=%(added)s ' 'modified=%(modified)s removed=%(removed)s', {""added"": len(self.new_events['added']), ""modified"": len(self.new_events['modified']), ""removed"": len(self.new_events['removed'])}) ",,26,0
openstack%2Fopenstack-ansible~884275,openstack/openstack-ansible,stable/yoga,I1fd9c7fe96dbba708e3fba2f769838605bf9ad05,Force enable openstack_service_token_roles_required,MERGED,2023-05-24 18:48:53.000000000,2023-05-29 19:02:53.000000000,2023-05-29 19:00:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 18:48:53.000000000', 'files': ['releasenotes/notes/service_token_roles_required_forced-b9ae6ce937c0ec32.yaml', 'inventory/group_vars/all/keystone.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4a1b22d09457f30753cd228aeef7e5d2f877203e', 'message': ""Force enable openstack_service_token_roles_required\n\nTo reduce downtime during major upgrades, we've disabled\nrequirement of providing service tokens along with user ones.\n\nHowever with OSSA-2023-003 enabling service tokens is a requirement. So\nwe have no other choice but to change the value and infrom users about\nchanges with release note.\n\nDistro jobs are removed to prevent circular dependency\n\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211\nNeeded-By: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213\nChange-Id: I1fd9c7fe96dbba708e3fba2f769838605bf9ad05\n""}]",4,884275,4a1b22d09457f30753cd228aeef7e5d2f877203e,19,3,1,28619,,,0,"Force enable openstack_service_token_roles_required

To reduce downtime during major upgrades, we've disabled
requirement of providing service tokens along with user ones.

However with OSSA-2023-003 enabling service tokens is a requirement. So
we have no other choice but to change the value and infrom users about
changes with release note.

Distro jobs are removed to prevent circular dependency

Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/884211
Needed-By: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/884213
Change-Id: I1fd9c7fe96dbba708e3fba2f769838605bf9ad05
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/884275/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/service_token_roles_required_forced-b9ae6ce937c0ec32.yaml', 'inventory/group_vars/all/keystone.yml', 'zuul.d/project.yaml']",3,4a1b22d09457f30753cd228aeef7e5d2f877203e,osa/OSSA-2023-003,, - openstack-ansible-deploy-aio_distro_metal-jobs,12,4
openstack%2Fkolla~884533,openstack/kolla,stable/2023.1,I18d3ca8bd83a72dba15fc7e543270e260ae4dab0,rocky/centos: mark bifrost buildable,MERGED,2023-05-29 16:05:45.000000000,2023-05-29 18:58:11.000000000,2023-05-29 18:57:15.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-29 16:05:45.000000000', 'files': ['kolla/image/unbuildable.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f911485bbef1e8d1f61daf938da1230ea8f927e', 'message': 'rocky/centos: mark bifrost buildable\n\nChange-Id: I18d3ca8bd83a72dba15fc7e543270e260ae4dab0\n(cherry picked from commit 878e9c0524e97dda7d61c6161d33e26052d6285f)\n'}]",1,884533,3f911485bbef1e8d1f61daf938da1230ea8f927e,9,3,1,22629,,,0,"rocky/centos: mark bifrost buildable

Change-Id: I18d3ca8bd83a72dba15fc7e543270e260ae4dab0
(cherry picked from commit 878e9c0524e97dda7d61c6161d33e26052d6285f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/884533/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/unbuildable.py'],1,3f911485bbef1e8d1f61daf938da1230ea8f927e,,," ""bifrost-base"", # EPEL-related breakage ""bifrost-base"", # EPEL-related breakage",0,2
openstack%2Fneutron~869613,openstack/neutron,master,I160dfc4e893b93ac7a40e19b3dd6b89750dac57d,[OVN][Migration] Enable settings backup subnet for NFS clients,MERGED,2023-01-09 22:41:14.000000000,2023-05-29 18:37:22.000000000,2023-05-29 18:35:03.000000000,"[{'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2023-01-09 22:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92047373d0120c206901366abee458905ee45544', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the “openstack overcloud backup”\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n'}, {'number': 2, 'created': '2023-05-19 19:18:32.000000000', 'files': ['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b677d65b2d9cf9e3ff58677300712fe3fe40da04', 'message': '[OVN][Migration] Enable settings backup subnet for NFS clients\n\nIf the BACKUP_MIGRATION_IP is set to a different IP outside of\nthe default nets[1] set in the “openstack overcloud backup”\nplaybook setup_nfs role[2]. Then the NFS will fail to mount\ndirectories during the backup, because they will not be\nreachable | permitted.\nThis change simply adds a new variable\nBACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script\nto allow the user to overwrite the extra-var used for\nOpenstack overcloud backup --setup-nfs command.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47\n[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127\n\nChange-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d\n'}]",1,869613,b677d65b2d9cf9e3ff58677300712fe3fe40da04,13,4,2,34271,,,0,"[OVN][Migration] Enable settings backup subnet for NFS clients

If the BACKUP_MIGRATION_IP is set to a different IP outside of
the default nets[1] set in the “openstack overcloud backup”
playbook setup_nfs role[2]. Then the NFS will fail to mount
directories during the backup, because they will not be
reachable | permitted.
This change simply adds a new variable
BACKUP_MIGRATION_CTL_PLANE_CIDRS into the ovn_migration script
to allow the user to overwrite the extra-var used for
Openstack overcloud backup --setup-nfs command.

[1] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/defaults/main.yml#L47
[2] https://opendev.org/openstack/tripleo-ansible/src/commit/e281ae7624774d71f22fbb993af967ed1ec08780/tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml#L127

Change-Id: I160dfc4e893b93ac7a40e19b3dd6b89750dac57d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/869613/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/tripleo_environment/playbooks/roles/recovery-backup/tasks/main.yml', 'doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",3,92047373d0120c206901366abee458905ee45544,migration_nfs_subnets,: ${BACKUP_MIGRATION_IP:=192.168.24.1} : ${BACKUP_MIGRATION_CTL_PLANE_CIDRS:=192.168.24.0/24} -e backup_migration_ctl_plane_cidrs=$BACKUP_MIGRATION_CTL_PLANE_CIDRS \,: ${BACKUP_MIGRATION_IP:=192.168.24.1} # TODO: Document this new var,10,1
openstack%2Fneutron~883902,openstack/neutron,master,Ic0e697bb212c7795a40c0b9be01345db26c2874e,SG rule dict method allows DB object and Neutron OVO,MERGED,2023-05-23 11:07:15.000000000,2023-05-29 18:36:20.000000000,2023-05-29 18:34:55.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 11:07:15.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/43ef447a5787c6065638652466d1c61c30750d76', 'message': 'SG rule dict method allows DB object and Neutron OVO\n\nThis change allows to pass to ``_make_security_group_rule_dict`` method\nthe Neutron OVO. That could include synthetic fields added in the OVO\n(SQL view) that are not present in the database register.\n\nThis change will be needed in next patches to increase the information\nreturned by this method, using new synthetic fields added to the\nsecurity group rule OVO.\n\nPartial-Bug: #2019960\nChange-Id: Ic0e697bb212c7795a40c0b9be01345db26c2874e\n'}]",2,883902,43ef447a5787c6065638652466d1c61c30750d76,16,4,1,16688,,,0,"SG rule dict method allows DB object and Neutron OVO

This change allows to pass to ``_make_security_group_rule_dict`` method
the Neutron OVO. That could include synthetic fields added in the OVO
(SQL view) that are not present in the database register.

This change will be needed in next patches to increase the information
returned by this method, using new synthetic fields added to the
security group rule OVO.

Partial-Bug: #2019960
Change-Id: Ic0e697bb212c7795a40c0b9be01345db26c2874e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/883902/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,43ef447a5787c6065638652466d1c61c30750d76,bug/2019960," self._make_security_group_rule_dict(r) res_rule_dict = self._make_security_group_rule_dict(sg_rule) if isinstance(security_group_rule, base_obj.NeutronDbObject): sg_rule_db = security_group_rule.db_obj else: sg_rule_db = security_group_rule res = {'id': sg_rule_db.id, 'project_id': sg_rule_db.project_id, 'tenant_id': sg_rule_db.project_id, 'security_group_id': sg_rule_db.security_group_id, 'ethertype': sg_rule_db.ethertype, 'direction': sg_rule_db.direction, 'protocol': sg_rule_db.protocol, 'port_range_min': sg_rule_db.port_range_min, 'port_range_max': sg_rule_db.port_range_max, 'remote_ip_prefix': sg_rule_db.remote_ip_prefix, 'remote_address_group_id': sg_rule_db.remote_address_group_id, sg_rule_db), 'remote_group_id': sg_rule_db.remote_group_id, 'standard_attr_id': sg_rule_db.standard_attr.id, } resource_extend.apply_funcs(ext_sg.SECURITYGROUPRULES, res, sg_rule_db) remote_ip_prefix = rule.remote_ip_prefix return self._make_security_group_rule_dict(security_group_rule, fields)"," self._make_security_group_rule_dict(r.db_obj) res_rule_dict = self._make_security_group_rule_dict(sg_rule.db_obj) res = {'id': security_group_rule['id'], 'tenant_id': security_group_rule['tenant_id'], 'security_group_id': security_group_rule['security_group_id'], 'ethertype': security_group_rule['ethertype'], 'direction': security_group_rule['direction'], 'protocol': security_group_rule['protocol'], 'port_range_min': security_group_rule['port_range_min'], 'port_range_max': security_group_rule['port_range_max'], 'remote_ip_prefix': security_group_rule['remote_ip_prefix'], 'remote_address_group_id': security_group_rule[ 'remote_address_group_id'], security_group_rule), 'remote_group_id': security_group_rule['remote_group_id'], 'standard_attr_id': security_group_rule.standard_attr.id, } resource_extend.apply_funcs(ext_sg.SECURITYGROUPRULES, res, security_group_rule) remote_ip_prefix = rule.get('remote_ip_prefix') return self._make_security_group_rule_dict( security_group_rule.db_obj, fields)",23,21
openstack%2Fcharm-octavia~880989,openstack/charm-octavia,stable/zed,I7469c45fd90207857918b3c727fc2779d32236f0,Add pkg-config to build-packages,MERGED,2023-04-20 16:08:06.000000000,2023-05-29 17:50:30.000000000,2023-05-29 17:50:30.000000000,"[{'_account_id': 1131}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 16:08:06.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/73af217350811ca3cca4ba2e794feadea2c8f071', 'message': 'Add pkg-config to build-packages\n\nCloses-Bug: #2016922\nChange-Id: I7469c45fd90207857918b3c727fc2779d32236f0\n(cherry picked from commit 07d0b94cdbd3f95b2d1fb74537e3f37d7237594f)\n'}]",3,880989,73af217350811ca3cca4ba2e794feadea2c8f071,13,5,1,2424,,,0,"Add pkg-config to build-packages

Closes-Bug: #2016922
Change-Id: I7469c45fd90207857918b3c727fc2779d32236f0
(cherry picked from commit 07d0b94cdbd3f95b2d1fb74537e3f37d7237594f)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/89/880989/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,73af217350811ca3cca4ba2e794feadea2c8f071,bug/2016922, - pkg-config,,1,0
openstack%2Fneutron~883912,openstack/neutron,stable/xena,I9c49a307956ecfbf8bd2e866cefb21a212c38bd6,Use explicit inner join for networks in port query,MERGED,2023-05-23 13:47:51.000000000,2023-05-29 17:48:42.000000000,2023-05-29 17:47:25.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30772}]","[{'number': 1, 'created': '2023-05-23 13:47:51.000000000', 'files': ['neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcfe550d5b164b6521eae0de514fc961bba35bb0', 'message': 'Use explicit inner join for networks in port query\n\nThis improves the performance of the database when fetching a list of ports\nfor a project user. This change creates an inner join with the networks\nbelonging to the ports.\n\nPrevious SQL query:\nSELECT ports ...\nFROM network, ports ...\nWHERE ports.project_id = <project>\nOR ports.network_id = networks.id\nAND networks.project_id = <project>\n\nCurrent SQL query:\nSELECT ports ...\nFROM ports\nINNER JOIN networks ON networks.id = ports.network_id\nWHERE ports.project_id = <project>\nOR networks.project_id = <project>\n\nCloses-Bug: #2016704\nChange-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6\n(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)\n'}]",1,883912,fcfe550d5b164b6521eae0de514fc961bba35bb0,10,4,1,21798,,,0,"Use explicit inner join for networks in port query

This improves the performance of the database when fetching a list of ports
for a project user. This change creates an inner join with the networks
belonging to the ports.

Previous SQL query:
SELECT ports ...
FROM network, ports ...
WHERE ports.project_id = <project>
OR ports.network_id = networks.id
AND networks.project_id = <project>

Current SQL query:
SELECT ports ...
FROM ports
INNER JOIN networks ON networks.id = ports.network_id
WHERE ports.project_id = <project>
OR networks.project_id = <project>

Closes-Bug: #2016704
Change-Id: I9c49a307956ecfbf8bd2e866cefb21a212c38bd6
(cherry picked from commit f23d7af8d7e36b9d52a8c8ccf64355e22f3adb9c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/883912/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/db_base_plugin_v2.py'],1,fcfe550d5b164b6521eae0de514fc961bba35bb0,bug/2016704-stable/xena,"def _port_query_hook(context, original_model, query): # Apply the port query only in non-admin and non-advsvc context if ndb_utils.model_query_scope_is_project(context, original_model): query = query.join(models_v2.Network, models_v2.Network.id == models_v2.Port.network_id) return query query_hook=_port_query_hook,"," models_v2.Port.network_id == models_v2.Network.id, query_hook=None,",9,2
openstack%2Fkolla-ansible~875670,openstack/kolla-ansible,stable/yoga,Iac917ef4471905caab591cd64eab379e150a8524,hacluster: Use nodename to align with nova service names,MERGED,2023-02-28 12:55:57.000000000,2023-05-29 17:37:55.000000000,2023-05-29 17:36:42.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-02-28 12:55:57.000000000', 'files': ['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b47c013cfe76d4496e48e65c3decc18552d6ebce', 'message': 'hacluster: Use nodename to align with nova service names\n\nFor Masakari and HACluster to work properly, the hostnames used\nin HACluster need to match with the hostnames used in Nova.\n\nChange-Id: Iac917ef4471905caab591cd64eab379e150a8524\n(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)\n'}]",1,875670,b47c013cfe76d4496e48e65c3decc18552d6ebce,15,3,1,29268,,,0,"hacluster: Use nodename to align with nova service names

For Masakari and HACluster to work properly, the hostnames used
in HACluster need to match with the hostnames used in Nova.

Change-Id: Iac917ef4471905caab591cd64eab379e150a8524
(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/875670/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2']",2,b47c013cfe76d4496e48e65c3decc18552d6ebce,, name: {{ hostvars[host].ansible_facts.nodename }}, name: {{ hostvars[host].ansible_facts.hostname }},5,5
openstack%2Fpuppet-nova~884457,openstack/puppet-nova,stable/xena,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:42:08.000000000,2023-05-29 17:23:14.000000000,2023-05-29 17:23:14.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a319dd3ec923780107d3eed6e89e53175b586a47', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit e131d7b531f411629259c77e4f5b5fffd575fb57)\n(cherry picked from commit 3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc)\n'}, {'number': 2, 'created': '2023-05-26 07:54:49.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)\n(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)\n'}]",1,884457,eabbcd391ee1122db44ef27bb8ad1aa79da2d5dc,8,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)
(cherry picked from commit 83f3820f9c5c6cc9d9202f96713d61f4910f26ba)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/57/884457/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,a319dd3ec923780107d3eed6e89e53175b586a47,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fopenstack-ansible~883497,openstack/openstack-ansible,master,I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519,Reduce stepca scenario to minimum setup,NEW,2023-05-18 12:34:05.000000000,2023-05-29 17:07:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-18 12:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33dcbdde40b0de2bb606469444d64bd89e1c74e5', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 2, 'created': '2023-05-18 12:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7b156535bb27a692d628b76bf9f656df70d96922', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 3, 'created': '2023-05-18 14:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f1399f4733f7c8cf3fa1da906baa7961cf934f4c', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 4, 'created': '2023-05-19 16:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/733a5957ac58acc9c5f34e98110091045018aa5b', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}, {'number': 5, 'created': '2023-05-29 14:27:20.000000000', 'files': ['zuul.d/project-templates.yaml', 'scripts/gate-check-commit.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/11dc35b777ac075e76a5be3101674769c20dc62a', 'message': ""Reduce stepca scenario to minimum setup\n\nThis patch aims to minimize amount of components that will be deployed\nwith stepca scenario.\n\nThis scenario aims to verify let's encrypt for public interface of\nhaproxy. thus we basically need to have infra setup + keystone\nand ensure that keystone can be accessed through public interface.\n\nSo we remove LXC scenario from the template and instead of aio\ndoing just basic stuff, which is infra + keystone.\n\nhealthcheck-openstack is used to ensure that keystone can be accessed\nfrom public endpoint.\n\nChange-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519\n""}]",49,883497,11dc35b777ac075e76a5be3101674769c20dc62a,10,1,5,28619,,,0,"Reduce stepca scenario to minimum setup

This patch aims to minimize amount of components that will be deployed
with stepca scenario.

This scenario aims to verify let's encrypt for public interface of
haproxy. thus we basically need to have infra setup + keystone
and ensure that keystone can be accessed through public interface.

So we remove LXC scenario from the template and instead of aio
doing just basic stuff, which is infra + keystone.

healthcheck-openstack is used to ensure that keystone can be accessed
from public endpoint.

Change-Id: I8b770ca30a9ab58c1b12c2a4d3a47745a1ffb519
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/883497/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'scripts/gate-check-commit.sh']",2,33dcbdde40b0de2bb606469444d64bd89e1c74e5,," if [[ $SCENARIO =~ ""stepca"" && ! $ACTION =~ ""upgrade"" ]]; then # Verify our infra setup and do not continue with openstack part openstack-ansible healthcheck-openstack.yml -e osa_gather_facts=False fi ",,7,4
openstack%2Fpython-zaqarclient~644216,openstack/python-zaqarclient,stable/stein,Ie6d6b779e1c4c6e2a0f3acb1dbeb5c1af65a9300,Update UPPER_CONSTRAINTS_FILE for stable/stein,ABANDONED,2019-03-18 14:56:56.000000000,2023-05-29 16:02:52.000000000,,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 14:56:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/e5a5ec9c54e8153167a82840aad8f3599b5896a4', 'message': 'Update UPPER_CONSTRAINTS_FILE for stable/stein\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/stein branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie6d6b779e1c4c6e2a0f3acb1dbeb5c1af65a9300\n'}]",0,644216,e5a5ec9c54e8153167a82840aad8f3599b5896a4,14,4,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/stein

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/stein branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie6d6b779e1c4c6e2a0f3acb1dbeb5c1af65a9300
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/16/644216/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e5a5ec9c54e8153167a82840aad8f3599b5896a4,create-stein, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/stein}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fpython-zaqarclient~644215,openstack/python-zaqarclient,stable/stein,I2583cd0f77f1647085ac2f5db7dfe5cb5c2aae77,Update .gitreview for stable/stein,ABANDONED,2019-03-18 14:56:54.000000000,2023-05-29 16:02:30.000000000,,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-18 14:56:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/5fe2f3d68ec275bcbddddcddff4757dfd6e524fe', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I2583cd0f77f1647085ac2f5db7dfe5cb5c2aae77\n'}]",1,644215,5fe2f3d68ec275bcbddddcddff4757dfd6e524fe,27,4,1,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I2583cd0f77f1647085ac2f5db7dfe5cb5c2aae77
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/15/644215/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5fe2f3d68ec275bcbddddcddff4757dfd6e524fe,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fpuppet-nova~884455,openstack/puppet-nova,stable/yoga,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:39:59.000000000,2023-05-29 15:04:20.000000000,2023-05-29 15:04:20.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit e131d7b531f411629259c77e4f5b5fffd575fb57)\n'}, {'number': 2, 'created': '2023-05-26 07:54:35.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/83f3820f9c5c6cc9d9202f96713d61f4910f26ba', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)\n'}]",1,884455,83f3820f9c5c6cc9d9202f96713d61f4910f26ba,8,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
(cherry picked from commit b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/55/884455/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,3087fd0733ceb14b75c713fb18c8dfb25eb1e4fc,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fopenstack-ansible-ops~858546,openstack/openstack-ansible-ops,master,I01fc2240232c3c629ce1debc244041d323bc1aa2,Fix typos,NEW,2022-09-20 15:49:03.000000000,2023-05-29 14:59:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 25600}, {'_account_id': 28619}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-20 15:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/90d8fbcf210dbb6e153f1cc66a6e8df2db515053', 'message': 'Fix typos\n\nChange-Id: I01fc2240232c3c629ce1debc244041d323bc1aa2\n'}, {'number': 2, 'created': '2023-05-29 14:28:30.000000000', 'files': ['elk_metrics_6x/installMonitorStack.yml', 'elk_metrics_7x/installMonitorStack.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/e55c3165ef52f5a134fd30ec8cb37e421b0f4ee0', 'message': 'Fix typos\n\nChange-Id: I01fc2240232c3c629ce1debc244041d323bc1aa2\n'}]",5,858546,e55c3165ef52f5a134fd30ec8cb37e421b0f4ee0,16,4,2,20733,,,0,"Fix typos

Change-Id: I01fc2240232c3c629ce1debc244041d323bc1aa2
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/46/858546/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_6x/installMonitorStack.yml', 'elk_metrics_7x/installMonitorStack.yml']",2,90d8fbcf210dbb6e153f1cc66a6e8df2db515053,typos, - inventory_hostname in (, - inventory_hostanme in (,2,2
openstack%2Fkolla-ansible~875609,openstack/kolla-ansible,stable/zed,Iac917ef4471905caab591cd64eab379e150a8524,hacluster: Use nodename to align with nova service names,MERGED,2023-02-28 12:55:39.000000000,2023-05-29 14:44:35.000000000,2023-05-29 14:43:32.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-02-28 12:55:39.000000000', 'files': ['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0a6271e7a2dff5f7dc097d9c6571d679ff04578', 'message': 'hacluster: Use nodename to align with nova service names\n\nFor Masakari and HACluster to work properly, the hostnames used\nin HACluster need to match with the hostnames used in Nova.\n\nChange-Id: Iac917ef4471905caab591cd64eab379e150a8524\n(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)\n'}]",2,875609,c0a6271e7a2dff5f7dc097d9c6571d679ff04578,16,3,1,29268,,,0,"hacluster: Use nodename to align with nova service names

For Masakari and HACluster to work properly, the hostnames used
in HACluster need to match with the hostnames used in Nova.

Change-Id: Iac917ef4471905caab591cd64eab379e150a8524
(cherry picked from commit e1ae8223f9eef072263496103f1a076108a93ba0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/875609/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/hacluster/tasks/bootstrap_service.yml', 'ansible/roles/hacluster/templates/hacluster_corosync.conf.j2']",2,c0a6271e7a2dff5f7dc097d9c6571d679ff04578,, name: {{ hostvars[host].ansible_facts.nodename }}, name: {{ hostvars[host].ansible_facts.hostname }},5,5
openstack%2Fpython-neutronclient~883362,openstack/python-neutronclient,master,I76e4c7ab742d0bf27fecfda8fab41035618a4e24,Remove 'bgp speaker show dragents',MERGED,2023-05-17 12:05:01.000000000,2023-05-29 14:40:03.000000000,2023-05-29 14:38:18.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2023-05-17 12:05:01.000000000', 'files': ['neutronclient/tests/unit/osc/v2/dynamic_routing/test_bgp_dragent.py', 'releasenotes/notes/remove-bgp-speaker-show-dragents-0a0db4b72b2feffc.yaml', 'setup.cfg', 'doc/source/cli/osc/v2/bgp-dynamic-routing.rst', 'neutronclient/osc/v2/dynamic_routing/bgp_dragent.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/79c7de463051a5ac832dd26057b5e3710f5ea19a', 'message': ""Remove 'bgp speaker show dragents'\n\nThis has been deprecated for ages and generates an annoying warning when\nbuilding OSC docs. Time to cull it.\n\nChange-Id: I76e4c7ab742d0bf27fecfda8fab41035618a4e24\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,883362,79c7de463051a5ac832dd26057b5e3710f5ea19a,13,6,1,15334,,,0,"Remove 'bgp speaker show dragents'

This has been deprecated for ages and generates an annoying warning when
building OSC docs. Time to cull it.

Change-Id: I76e4c7ab742d0bf27fecfda8fab41035618a4e24
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/62/883362/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/tests/unit/osc/v2/dynamic_routing/test_bgp_dragent.py', 'releasenotes/notes/remove-bgp-speaker-show-dragents-0a0db4b72b2feffc.yaml', 'setup.cfg', 'doc/source/cli/osc/v2/bgp-dynamic-routing.rst', 'neutronclient/osc/v2/dynamic_routing/bgp_dragent.py']",5,79c7de463051a5ac832dd26057b5e3710f5ea19a,,,"class ListDRAgentsHostingBgpSpeaker(command.Lister): """"""(Deprecated) List dynamic routing agents hosting a BGP speaker (Use ""bgp dragent list"" instead) """""" resource = 'agent' list_columns = ['id', 'host', 'admin_state_up', 'alive'] unknown_parts_flag = False def get_parser(self, prog_name): self.log.warning(""The 'openstack bgp speaker show dragents' CLI is "" ""deprecated and will be removed in the future. Use "" ""'openstack bgp dragent list' CLI instead."") parser = super(ListDRAgentsHostingBgpSpeaker, self).get_parser(prog_name) parser.add_argument('bgp_speaker', metavar='<bgp-speaker>', help=_(""List dynamic routing agents hosting a "" ""BGP speaker (name or ID)"")) return parser def take_action(self, parsed_args): client = self.app.client_manager.network speaker_id = client.find_bgp_speaker(parsed_args.bgp_speaker).id data = client.get_bgp_dragents_hosting_speaker(speaker_id) columns = ( 'id', 'agent_type', 'host', 'availability_zone', 'is_alive', 'is_admin_state_up', 'binary' ) column_headers = ( 'ID', 'Agent Type', 'Host', 'Availability Zone', 'Alive', 'State', 'Binary' ) return (column_headers, (utils.get_item_properties( s, columns,) for s in data)) ",6,94
openstack%2Fpython-neutronclient~875728,openstack/python-neutronclient,master,Iae1378ffabda3d30257e35a6148e205a9f495eb5,OSC: Remove BGPVPN calls to neutronclient,MERGED,2023-02-28 13:44:01.000000000,2023-05-29 14:39:19.000000000,2023-05-29 14:38:17.000000000,"[{'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 13:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/59509acd984c1ce03b6441ee791155e51d631d30', 'message': 'WIP: OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 2, 'created': '2023-03-09 15:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c7259b9b741bc132db4a0fddcb312d06581391b1', 'message': 'WIP: OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 3, 'created': '2023-03-10 10:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a97c8086598072b881233b02b2b395f6fa1ff1a0', 'message': 'WIP: OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 4, 'created': '2023-03-13 09:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/3e0e290bbc015afc2d28c5ea9dbec4630ae3df5d', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 5, 'created': '2023-03-22 10:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/cfbfcc736bb801f2c89d6ee195e0a1947cfb54bf', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 6, 'created': '2023-04-17 08:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/c59ff8a5df4997eaf61c5c5d97cb02d60a2ff873', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 7, 'created': '2023-05-22 13:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2ebea3c3a5a83183d1b615d9a91074d47b780b45', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 8, 'created': '2023-05-24 08:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/02c383291e76339300250a0bafac017a5e5c79c3', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}, {'number': 9, 'created': '2023-05-24 09:53:53.000000000', 'files': ['neutronclient/tests/unit/osc/v2/networking_bgpvpn/test_router_association.py', 'requirements.txt', 'neutronclient/tests/unit/osc/v2/networking_bgpvpn/fakes.py', 'neutronclient/tests/unit/osc/v2/networking_bgpvpn/test_bgpvpn.py', 'neutronclient/tests/unit/osc/v2/networking_bgpvpn/test_resource_association.py', 'neutronclient/osc/v2/networking_bgpvpn/port_association.py', 'neutronclient/osc/v2/networking_bgpvpn/bgpvpn.py', 'neutronclient/osc/v2/networking_bgpvpn/resource_association.py', 'neutronclient/osc/v2/networking_bgpvpn/router_association.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/d4124aed1ff260eb108b0433cc54625d93ead0d3', 'message': 'OSC: Remove BGPVPN calls to neutronclient\n\nWith [1] the python binding code in Neutronclient prints warning\nabout future deprecation, change networking-bgpvpn osc client\ncode to use totally OpenstackSDK.\n\n[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371\n\nChange-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5\nRelated-Bug: #1999774\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530\n'}]",16,875728,d4124aed1ff260eb108b0433cc54625d93ead0d3,35,4,9,8313,,,0,"OSC: Remove BGPVPN calls to neutronclient

With [1] the python binding code in Neutronclient prints warning
about future deprecation, change networking-bgpvpn osc client
code to use totally OpenstackSDK.

[1]: https://review.opendev.org/c/openstack/python-neutronclient/+/862371

Change-Id: Iae1378ffabda3d30257e35a6148e205a9f495eb5
Related-Bug: #1999774
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/875530
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/28/875728/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutronclient/osc/v2/networking_bgpvpn/port_association.py', 'neutronclient/osc/v2/networking_bgpvpn/bgpvpn.py', 'neutronclient/osc/v2/networking_bgpvpn/resource_association.py', 'neutronclient/osc/v2/networking_bgpvpn/router_association.py']",4,59509acd984c1ce03b6441ee791155e51d631d30,bug/1999774, return attrs, return {self._resource: attrs},55,70
openstack%2Fnova~872470,openstack/nova,master,Icc9b6366aebba2f8468e2127da7b7e099098513a,Reproducer for bug 2003991 unshelving offloaded instance,MERGED,2023-02-01 22:51:20.000000000,2023-05-29 14:38:59.000000000,2023-05-29 14:37:44.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-02-01 22:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc7f075b34a6d19182a450c007140d33057f17c7', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}, {'number': 2, 'created': '2023-02-04 09:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5fd49810562ada39ec98e779393b112c12208d1', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve offloaded with unified limits\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n  * Shelve/unshelve with unified limits\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}, {'number': 3, 'created': '2023-02-04 13:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67c57a55005802bdd54e881e97b1d0a4f21bed34', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve offloaded with unified limits\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n  * Shelve/unshelve with unified limits\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}, {'number': 4, 'created': '2023-05-23 01:09:06.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/427b2cb4d61cdfaf18b2467eb50b3772dffd3def', 'message': 'Reproducer for bug 2003991 unshelving offloaded instance\n\nThis adds test coverage for:\n\n  * Shelve/unshelve offloaded with legacy quota usage\n  * Shelve/unshelve offloaded with quota usage from placement\n  * Shelve/unshelve offloaded with unified limits\n  * Shelve/unshelve with legacy quota usage\n  * Shelve/unshelve with quota usage from placement\n  * Shelve/unshelve with unified limits\n\nRelated-Bug: #2003991\n\nChange-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a\n'}]",4,872470,427b2cb4d61cdfaf18b2467eb50b3772dffd3def,28,7,4,4690,,,0,"Reproducer for bug 2003991 unshelving offloaded instance

This adds test coverage for:

  * Shelve/unshelve offloaded with legacy quota usage
  * Shelve/unshelve offloaded with quota usage from placement
  * Shelve/unshelve offloaded with unified limits
  * Shelve/unshelve with legacy quota usage
  * Shelve/unshelve with quota usage from placement
  * Shelve/unshelve with unified limits

Related-Bug: #2003991

Change-Id: Icc9b6366aebba2f8468e2127da7b7e099098513a
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/872470/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,bc7f075b34a6d19182a450c007140d33057f17c7,bug/2003991," def test_unshelve_offloaded_overquota(self): # Use a quota limit of 3 vcpus. self.flags(cores=3, group='quota') # Use flavor that has vcpus = 1. for i in range(0, 3): server = self._create_server(flavor_id=1) # We should be at the quota limit now. Shelve an instance and wait for # it to become SHELVED_OFFLOADED. self._shelve_server(server, expected_state='SHELVED_OFFLOADED') # Try to boot another instance. It should fail because shelved # offloaded instances still consume quota. ex = self.assertRaises(client.OpenStackApiException, self._create_server, flavor_id=1) self.assertEqual(403, ex.response.status_code) # Unshelving the instance should also succeed. self._unshelve_server(server) def test_unshelve_offloaded_overquota_placement(self): # Count quota usage from placement. self.flags(count_usage_from_placement=True, group='quota') # Use a quota limit of 3 vcpus. self.flags(cores=3, group='quota') # Use flavor that has vcpus = 1. for i in range(0, 3): server = self._create_server(flavor_id=1) # We should be at the quota limit now. Shelve an instance and wait for # it to become SHELVED_OFFLOADED. self._shelve_server(server, expected_state='SHELVED_OFFLOADED') # Try to boot another instance. It should succeed because with # placement, shelved offloaded instances do not consume cores/ram # quota. self._create_server(flavor_id=1) # FIXME(melwitt): This is bug #2003991, the unshelve is supposed to # fail if we would be over quota after unshelving. # Now try to unshelve the earlier instance. It should fail because it # would put us over quota to have 4 running instances. # ex = self.assertRaises(client.OpenStackApiException, # self._unshelve_server, # server) # self.assertEqual(403, ex.response.status_code) def test_unshelve_overquota(self): # Test for behavior where the shelved instance is not offloaded. self.flags(shelved_offload_time=3600) # Use a quota limit of 3 vcpus. self.flags(cores=3, group='quota') # Use flavor that has vcpus = 1. for i in range(0, 3): server = self._create_server(flavor_id=1) # We should be at the quota limit now. Shelve an instance. self._shelve_server(server, expected_state='SHELVED') # Try to boot another instance. It should fail because shelved # instances still consume quota. ex = self.assertRaises(client.OpenStackApiException, self._create_server, flavor_id=1) self.assertEqual(403, ex.response.status_code) # Verify that it's still SHELVED. self._wait_for_state_change(server, 'SHELVED') # Unshelving the instance should also succeed. self._unshelve_server(server) def test_unshelve_overquota_placement(self): # Count quota usage from placement, should behave the same as legacy. self.flags(count_usage_from_placement=True, group='quota') self.test_unshelve_overquota() ",,81,0
openstack%2Fcinder-tempest-plugin~884204,openstack/cinder-tempest-plugin,master,I21c4f35ec620c6ffb9afd412b3858e338acbf4a2,zuul: Extend timeout for cinder-tempest-plugin-lvm-multiattach,ABANDONED,2023-05-24 14:09:19.000000000,2023-05-29 14:31:48.000000000,,"[{'_account_id': 5314}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-05-24 14:09:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e8eb6c22c6062ea01b590fe626a980542112f1df', 'message': 'zuul: Extend timeout for cinder-tempest-plugin-lvm-multiattach\n\nThis job is frequently timing out with the default 2h\nlimit, extend it to 3 hours.\n51c56f2 is one potential reason that these jobs are\ntaking longer to run now.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin\n\nChange-Id: I21c4f35ec620c6ffb9afd412b3858e338acbf4a2\n'}]",12,884204,e8eb6c22c6062ea01b590fe626a980542112f1df,26,4,1,4523,,,0,"zuul: Extend timeout for cinder-tempest-plugin-lvm-multiattach

This job is frequently timing out with the default 2h
limit, extend it to 3 hours.
51c56f2 is one potential reason that these jobs are
taking longer to run now.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin

Change-Id: I21c4f35ec620c6ffb9afd412b3858e338acbf4a2
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/04/884204/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e8eb6c22c6062ea01b590fe626a980542112f1df,, timeout: 10800,,1,0
openstack%2Fcinder-tempest-plugin~884258,openstack/cinder-tempest-plugin,master,If9237892cbbec750006bcf860ea14ab4d7d6aed5,zuul: Extend timeout for cbak-ceph job,ABANDONED,2023-05-24 17:43:23.000000000,2023-05-29 14:31:38.000000000,,"[{'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 17:43:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/6c82eac3ac5452bd91577b54eccec25a8d78fa31', 'message': 'zuul: Extend timeout for cbak-ceph job\n\ncinder-tempest-plugin-cbak-ceph is timing out (exceeding\nthe 2 hour limit) some of the time, and running at over 1h55m\nwhen it succeeds.  Bump the timeout from 2 to 3 hours to\nensure it can run successfully.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin\n\nChange-Id: If9237892cbbec750006bcf860ea14ab4d7d6aed5\n'}]",6,884258,6c82eac3ac5452bd91577b54eccec25a8d78fa31,13,3,1,4523,,,0,"zuul: Extend timeout for cbak-ceph job

cinder-tempest-plugin-cbak-ceph is timing out (exceeding
the 2 hour limit) some of the time, and running at over 1h55m
when it succeeds.  Bump the timeout from 2 to 3 hours to
ensure it can run successfully.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin

Change-Id: If9237892cbbec750006bcf860ea14ab4d7d6aed5
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/58/884258/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6c82eac3ac5452bd91577b54eccec25a8d78fa31,, timeout: 10800,,1,0
openstack%2Fopenstacksdk~884437,openstack/openstacksdk,stable/train,Icbb6137e77be8344e32e2e68a3e12d77087e96c5,[stable-only] Use train-eol for heat and drop l-c job,MERGED,2023-05-25 19:19:59.000000000,2023-05-29 13:17:47.000000000,2023-05-29 13:14:38.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-25 19:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1bc5817413cc67b72e4a4ae7388ec72749022ff6', 'message': '[stable-only] Use train-eol for heat and drop l-c job\n\nThis is a combination of 2 commits to unblock the gate.\n\n1. [stable-only] Pin openstacksdk in openstacksdk-functional-devstack\n\nThis patch is partially used in the squash as only the\nlower-constraints job removal was needed.\n(cherry picked from commit bef964cab2c44aec84daef83cb6296e9751db0e9)\n\n2. [stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nNOTE(elod.illes): instead of ussuri-eol, of course on stable/train\ntrain-eol tag has to be used.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n(cherry picked from commit 320c37ae24b7f07673502ef34299fbbb82a7eeef)\n'}, {'number': 2, 'created': '2023-05-26 11:13:59.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c41c060a3866c119cd824acf95b02f4d4785b59d', 'message': '[stable-only] Use train-eol for heat and drop l-c job\n\nThis is a combination of 2 commits to unblock the gate.\n\n1. [stable-only] Pin openstacksdk in openstacksdk-functional-devstack\n\nThis patch is partially used in the squash as only the\nlower-constraints job removal was needed.\n(cherry picked from commit bef964cab2c44aec84daef83cb6296e9751db0e9)\n\n2. [stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nNOTE(elod.illes):\n* instead of ussuri-eol, of course on stable/train train-eol tag has to\n  be used.\n* train-eol tag has to be used for designate and neutron-fwaas as well\n  in openstacksdk-functional-devstack-networking job\n* unstable unit test fixing part is not needed in this backport as that\n  unit test was added only in Ussuri.\n* openstacksdk-ansible-stable-2.x-functional-devstack jobs are failing\n  and they are either removed or set as non-voting on newer branches,\n  so no reason to keep them on the check & gate queues.\n\nConflicts:\n  .zuul.yaml\n  lower-constraints.txt\n  tox.ini\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n(cherry picked from commit eadba75afc04ebf4c364aeb0f750dd11e5270d3f)\n'}]",0,884437,c41c060a3866c119cd824acf95b02f4d4785b59d,12,3,2,17685,,,0,"[stable-only] Use train-eol for heat and drop l-c job

This is a combination of 2 commits to unblock the gate.

1. [stable-only] Pin openstacksdk in openstacksdk-functional-devstack

This patch is partially used in the squash as only the
lower-constraints job removal was needed.
(cherry picked from commit bef964cab2c44aec84daef83cb6296e9751db0e9)

2. [stable-only] Use ussuri-eol tag for heat checkout

heat transitioned their stable/ussuri and stable/train to End of Life,
thus stable/ussuri and stable/train branches were deleted and causing
branch checkout errors. This patch sets to override the default stable
branch checkout with using the eol tag instead.

NOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src
job is failing and set non-voting even on master, so to unblock the
gate this patch removes it as no reason to make it non-voting on such
old stable/branch as ussuri and train.

NOTE(elod.illes):
* instead of ussuri-eol, of course on stable/train train-eol tag has to
  be used.
* train-eol tag has to be used for designate and neutron-fwaas as well
  in openstacksdk-functional-devstack-networking job
* unstable unit test fixing part is not needed in this backport as that
  unit test was added only in Ussuri.
* openstacksdk-ansible-stable-2.x-functional-devstack jobs are failing
  and they are either removed or set as non-voting on newer branches,
  so no reason to keep them on the check & gate queues.

Conflicts:
  .zuul.yaml
  lower-constraints.txt
  tox.ini

Change-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5
(cherry picked from commit eadba75afc04ebf4c364aeb0f750dd11e5270d3f)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/884437/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,1bc5817413cc67b72e4a4ae7388ec72749022ff6,heat-eol-tag-for-devstack,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,3,55
openstack%2Fdevstack~884277,openstack/devstack,master,Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672,Use RDO official CloudSIG mirrors for C9S deployments,MERGED,2023-05-24 19:06:49.000000000,2023-05-29 13:17:35.000000000,2023-05-29 13:14:36.000000000,"[{'_account_id': 4146}, {'_account_id': 7973}, {'_account_id': 16312}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 34460}]","[{'number': 1, 'created': '2023-05-24 19:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/53d9deed186bf35bc29ad7db2732be81306aac7f', 'message': 'Use RDO official CloudSIG mirrors for C9S deployments\n\nInstead of using RDO Trunk repo server, CentOS official mirrors provide\na most reliable infrastructure and supports EMS which is required when\nenabling FIPS in C9S.\n\nCloses-Bug: #2020661\nCloses-Bug: #2020434\nChange-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672\n'}, {'number': 2, 'created': '2023-05-25 07:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7eb46c1e616dfa464a29fb9cc134bfdccfd44c64', 'message': ""Use RDO official CloudSIG mirrors for C9S deployments\n\nInstead of using RDO Trunk repo server, CentOS official mirrors provide\na most reliable infrastructure and supports EMS which is required when\nenabling FIPS in C9S.\n\nIn order to install the rdo-release rpm from repo.fedoraproject.org, I'm\nusing a workaround to wget and install it locally as that server does\nnot supports EMS.\n\nThis is also consistent to CentOS 8 implementatioin.\n\nCloses-Bug: #2020661\nCloses-Bug: #2020434\nChange-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672\n""}, {'number': 3, 'created': '2023-05-26 12:22:32.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b2ad00cb66bd38ec6179d3bd1bf41556b966dc8c', 'message': ""Use RDO official CloudSIG mirrors for C9S deployments\n\nInstead of using RDO Trunk repo server, CentOS official mirrors provide\na most reliable infrastructure and supports EMS which is required when\nenabling FIPS in C9S.\n\nIn order to install the rdo-release rpm from repo.fedoraproject.org,\nwhich does not support EMS, I'm using a workaround to wget, which works\nwith non-EMS servers because it uses gnutls instead of openssl, and\ninstall it locally with rpm.\n\nThis is also consistent to CentOS 8 implementatioin.\n\nCloses-Bug: #2020661\nCloses-Bug: #2020434\nChange-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672\n""}]",12,884277,b2ad00cb66bd38ec6179d3bd1bf41556b966dc8c,25,7,3,16312,,,0,"Use RDO official CloudSIG mirrors for C9S deployments

Instead of using RDO Trunk repo server, CentOS official mirrors provide
a most reliable infrastructure and supports EMS which is required when
enabling FIPS in C9S.

In order to install the rdo-release rpm from repo.fedoraproject.org,
which does not support EMS, I'm using a workaround to wget, which works
with non-EMS servers because it uses gnutls instead of openssl, and
install it locally with rpm.

This is also consistent to CentOS 8 implementatioin.

Closes-Bug: #2020661
Closes-Bug: #2020434
Change-Id: Icd99f467d47aaafaaf3ee8f2a3c4da08842cb672
",git fetch https://review.opendev.org/openstack/devstack refs/changes/77/884277/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,53d9deed186bf35bc29ad7db2732be81306aac7f,," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then # rdo-release.el9.rpm points to latest RDO release, use that for master sudo dnf -y install https://rdoproject.org/repos/rdo-release.el9.rpm else # For stable branches use corresponding release rpm rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") sudo dnf -y install https://rdoproject.org/repos/openstack-${rdo_release}/rdo-release-${rdo_release}.el9.rpm fi", sudo curl -L -o /etc/yum.repos.d/delorean-deps.repo http://trunk.rdoproject.org/centos9-master/delorean-deps.repo,8,1
openstack%2Fcinder-tempest-plugin~884504,openstack/cinder-tempest-plugin,master,Id0529a4f0a314996f8c0e8506596aefe0eb8648f,zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs,MERGED,2023-05-26 13:52:47.000000000,2023-05-29 13:14:34.000000000,2023-05-29 13:14:34.000000000,"[{'_account_id': 4523}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}]","[{'number': 1, 'created': '2023-05-26 13:52:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d0e5b91649f943a85e001a9182e7d728da993a46', 'message': 'zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs\n\nThese jobs are frequently timing out with the default 2h\nlimit, extend them to 3 hours.\n51c56f2 is one potential reason that these jobs are\ntaking longer to run now.\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin\nhttps://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin\n\nChange-Id: Id0529a4f0a314996f8c0e8506596aefe0eb8648f\n'}]",7,884504,d0e5b91649f943a85e001a9182e7d728da993a46,17,5,1,4523,,,0,"zuul: Extend timeout for lvm-multiattach and cbak-ceph jobs

These jobs are frequently timing out with the default 2h
limit, extend them to 3 hours.
51c56f2 is one potential reason that these jobs are
taking longer to run now.

https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-lvm-multiattach&project=openstack/cinder-tempest-plugin
https://zuul.opendev.org/t/openstack/builds?job_name=cinder-tempest-plugin-cbak-ceph&project=openstack/cinder-tempest-plugin

Change-Id: Id0529a4f0a314996f8c0e8506596aefe0eb8648f
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/04/884504/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d0e5b91649f943a85e001a9182e7d728da993a46,, timeout: 10800 timeout: 10800,,2,0
openstack%2Fironic~882597,openstack/ironic,master,I49e2f7f29eb98e5bb4e18614cea0aca726703f55,Fix self_owned_node policy check,MERGED,2023-05-08 16:20:20.000000000,2023-05-29 13:01:45.000000000,2023-05-19 22:23:36.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2023-05-08 16:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bca42e35dfca36a46eb5cd137519e151c8e4e8f2', 'message': ""Fix self_owned_node policy check\n\nWhen enabling scope enforcement, the self_owned_node check could\ngenerate a failure because the check internally can be touched\nby both a project scoped and system scoped endpoint.\n\nThis change changes the tag in the policy so it doesn't prematurely\nreturn an error to the API consumer.\n\nChange-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55\n""}, {'number': 2, 'created': '2023-05-09 16:51:55.000000000', 'files': ['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9da6dfd73d3b4abe6acba01d9c8176c1581dc51f', 'message': ""Fix self_owned_node policy check\n\nWhen enabling scope enforcement, the self_owned_node check could\ngenerate a failure because the check internally can be touched\nby both a project scoped and system scoped endpoint.\n\nThis change changes the tag in the policy so it doesn't prematurely\nreturn an error to the API consumer.\n\nChange-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55\n""}]",9,882597,9da6dfd73d3b4abe6acba01d9c8176c1581dc51f,36,5,2,11655,,,0,"Fix self_owned_node policy check

When enabling scope enforcement, the self_owned_node check could
generate a failure because the check internally can be touched
by both a project scoped and system scoped endpoint.

This change changes the tag in the policy so it doesn't prematurely
return an error to the API consumer.

Change-Id: I49e2f7f29eb98e5bb4e18614cea0aca726703f55
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/882597/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-self-owned-node-policy-fc2dae357879dc33.yaml', 'ironic/common/policy.py']",2,bca42e35dfca36a46eb5cd137519e151c8e4e8f2,," scope_types=['system', 'project'],"," scope_types=['project'],",8,1
openstack%2Fdiskimage-builder~884567,openstack/diskimage-builder,master,I681a1dd8befbb95cb9a8db52939a3fa80232ff2c,"Revert ""Update Fedora to 37""",ABANDONED,2023-05-27 18:59:26.000000000,2023-05-29 13:00:11.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-27 18:59:26.000000000', 'files': ['diskimage_builder/elements/fedora-container/containerfiles/37', 'diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/31b1636a2b1ac2fb8a37d322bcb3a54674b613cd', 'message': 'Revert ""Update Fedora to 37""\n\nThis reverts commit b6cdda4ab0d25eff665c8433b9d3b817410f1777.\n\nThe reason: Fedora 37 removed form the mirrors.\n\nChange-Id: I681a1dd8befbb95cb9a8db52939a3fa80232ff2c\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",6,884567,31b1636a2b1ac2fb8a37d322bcb3a54674b613cd,12,2,1,14200,,,0,"Revert ""Update Fedora to 37""

This reverts commit b6cdda4ab0d25eff665c8433b9d3b817410f1777.

The reason: Fedora 37 removed form the mirrors.

Change-Id: I681a1dd8befbb95cb9a8db52939a3fa80232ff2c
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/67/884567/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/fedora-container/containerfiles/37', 'diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', '.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",4,31b1636a2b1ac2fb8a37d322bcb3a54674b613cd,fix-fedora-mirrors, name: dib-nodepool-functional-openstack-fedora-36-containerfile-src release: '36', name: dib-nodepool-functional-openstack-fedora-37-containerfile-src release: '37',5,8
openstack%2Fdiskimage-builder~884565,openstack/diskimage-builder,master,I644f96cb7b832f3641321bba1e841405f6430b37,[DNM] test fedora,ABANDONED,2023-05-27 14:55:28.000000000,2023-05-29 12:59:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-27 14:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/89de5a615db6c5cb719501dc391b9bcf9b89d530', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2023-05-27 14:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fe09bf82942d41387e7f0cc4f413a6e1314d688c', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2023-05-27 14:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6f886120acd20e48d20dffe174a5148ac6e1676a', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 4, 'created': '2023-05-27 15:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0746a579b94a6f51d554bd2e8aa732edfdeb6365', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 5, 'created': '2023-05-27 15:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1aaf925e16cf5d182c885e952ac4db9d768d2bc8', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 6, 'created': '2023-05-27 15:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7423fe5e7502496a6008c32db00dc46865a05a9e', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 7, 'created': '2023-05-27 15:13:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d3fd410856557bdffc467b760b73f919c386db7d', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 8, 'created': '2023-05-27 15:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ac18c021496dd64d464158aeb1851a8c2ec5cd81', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 9, 'created': '2023-05-27 15:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3236d3e40ac4a5b6f8b6dd138251ce45ba5ccb7f', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 10, 'created': '2023-05-27 15:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1a646088738d8adf9f46066e2688f232b9356a50', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 11, 'created': '2023-05-27 15:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4a70a89bae02065de295401785d50f3f29a94a69', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 12, 'created': '2023-05-27 15:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e82a0f304701c807f9f93243bfc2daff276178cf', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 13, 'created': '2023-05-27 18:38:08.000000000', 'files': ['diskimage_builder/elements/fedora/environment.d/10-fedora-distro-name.bash', '.zuul.d/project.yaml', 'roles/dib-functests/tasks/main.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e598b56371406cdc8ab5af967d1b840bd9f5f66b', 'message': '[DNM] test fedora\n\nChange-Id: I644f96cb7b832f3641321bba1e841405f6430b37\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",2,884565,e598b56371406cdc8ab5af967d1b840bd9f5f66b,32,1,13,14200,,,0,"[DNM] test fedora

Change-Id: I644f96cb7b832f3641321bba1e841405f6430b37
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/65/884565/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'roles/dib-functests/tasks/main.yaml', '.zuul.d/jobs.yaml']",3,89de5a615db6c5cb719501dc391b9bcf9b89d530,fedoratest,," - containerfile/jammy-build-succeeds - openeuler-minimal/22.03-LTS-build-succeeds # Image based tests - centos/8-stream-build-succeeds - centos/9-stream-build-succeeds # NOTE(ianw) 2022-08-02 : disabled due to upstream # checksum mismatches; see # https://bugzilla.suse.com/show_bug.cgi?id=1202041 # - opensuse/build-succeeds - ubuntu/bionic-build-succeeds - ubuntu/focal-build-succeeds - ubuntu/jammy-build-succeeds # NOTE(ianw) : these jobs are split to keep the build times a bit more # reasonable. - job: name: dib-functests-arm64-deb description: | ARM64 build tests (Debian-like distros) nodeset: debian-bullseye-arm64 parent: dib-functests-base vars: dib_functests: - ubuntu-minimal/bionic-arm64-build-succeeds - ubuntu-minimal/focal-arm64-build-succeeds - ubuntu-minimal/jammy-arm64-build-succeeds - debian-minimal/bullseye-arm64-build-succeeds - job: name: dib-functests-arm64-rpm description: | ARM64 build tests (RPM-like distros) nodeset: debian-bullseye-arm64 parent: dib-functests-base vars: dib_functests: - centos-minimal/8-stream-aarch64-build-succeeds - centos-minimal/9-stream-aarch64-build-succeeds - openeuler-minimal/22.03-LTS-build-succeeds - rocky-container/rocky-9-aarch64-build-succeeds # # Build and boot functional tests # - job: name: dib-nodepool-functional-src-base description: | Base job for DIB functional tests, which build and boot a node under nodepool, using source versions of dependencies such as nodepool, dib, openstacksdk and glean. parent: nodepool-functional-container-openstack-siblings-base post-run: playbooks/dib-nodepool/collect-openstack-logs.yaml vars: nodepool_debug: true irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ - job: name: dib-nodepool-functional-openstack-centos-7-src description: | Test building and booting a Centos 7 image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: centos-minimal release: '7' mirror: ""http://{{ zuul_site_mirror_fqdn }}/centos"" - job: name: dib-nodepool-functional-openstack-centos-8-stream-src description: | Test building and booting a Centos 8 Stream image with Nodepool and OpenStack. parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: centos-minimal release: '8-stream' # TODO: set when CentOS 8 Stream repos mirrored. # mirror: ""http://{{ zuul_site_mirror_fqdn }}/centos"" - job: name: dib-nodepool-functional-openstack-centos-9-stream-src description: | Test building and booting a Centos 9 Stream image with Nodepool and OpenStack. parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: centos-minimal release: '9-stream' # TODO: set when CentOS 9 Stream repos mirrored. # mirror: ""http://{{ zuul_site_mirror_fqdn }}/centos"" - job: name: dib-nodepool-functional-openstack-fedora-37-containerfile-src description: | Test building and booting an Fedora image from a containerfile with Nodepool and OpenStack (using released libraries) parent: dib-nodepool-functional-src-base vars: nodepool_debug: true nodepool_diskimage: base_element : fedora-container release: '37' - job: name: dib-nodepool-functional-openstack-rockylinux-8-containerfile-src description: | Test building and booting a Rocky Linux image from a containerfile with Nodepool and OpenStack (using released libraries) parent: dib-nodepool-functional-src-base vars: nodepool_debug: true nodepool_diskimage: base_element: rocky-container release: '8' - job: name: dib-nodepool-functional-openstack-rockylinux-9-containerfile-src description: | Test building and booting a Rocky Linux image from a containerfile with Nodepool and OpenStack (using released libraries) parent: dib-nodepool-functional-src-base vars: nodepool_debug: true nodepool_diskimage: base_element: rocky-container release: '9' - job: name: dib-nodepool-functional-openstack-ubuntu-xenial-src description: | Test building and booting an Ubuntu xenial image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'xenial' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-ubuntu-bionic-src description: | Test building and booting an Ubuntu bionic image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'bionic' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-ubuntu-focal-src description: | Test building and booting an Ubuntu focal image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'focal' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-ubuntu-jammy-src description: | Test building and booting an Ubuntu jammy image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: ubuntu-minimal release: 'jammy' # mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-gentoo-src description: | Test building and booting a Gentoo image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: gentoo release: '' env-vars: GENTOO_PROFILE: 'default/linux/amd64/17.1/systemd' - job: name: dib-nodepool-functional-openstack-debian-stretch-src description: | Test building and booting a Debian stretch image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: debian-minimal release: 'stretch' mirror: ""http://{{ zuul_site_mirror_fqdn }}/debian"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-debian-bullseye-src description: | Test building and booting a Debian bullseye image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: debian-minimal release: 'bullseye' mirror: ""http://{{ zuul_site_mirror_fqdn }}/debian"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-debian-buster-src description: | Test building and booting a Debian buster image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: debian-minimal release: 'buster' mirror: ""http://{{ zuul_site_mirror_fqdn }}/debian"" env-vars: DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' - job: name: dib-nodepool-functional-openstack-opensuse-15-src description: | Test building and booting an openSUSE 15.x image with Nodepool and OpenStack parent: dib-nodepool-functional-src-base vars: nodepool_diskimage: base_element: opensuse-minimal release: '15.2' mirror: ""http://{{ zuul_site_mirror_fqdn }}/opensuse""",1,371
openstack%2Fdiskimage-builder~884581,openstack/diskimage-builder,master,Ie33df0760f1d3e9f823979b1f0c8dc282954f95a,[DNM] test fedora mirrors,ABANDONED,2023-05-29 10:03:19.000000000,2023-05-29 12:57:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-29 10:03:19.000000000', 'files': ['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8f0f047623f5d93cc8596262e94382924bcef873', 'message': '[DNM] test fedora mirrors\n\nChange-Id: Ie33df0760f1d3e9f823979b1f0c8dc282954f95a\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",0,884581,8f0f047623f5d93cc8596262e94382924bcef873,4,1,1,14200,,,0,"[DNM] test fedora mirrors

Change-Id: Ie33df0760f1d3e9f823979b1f0c8dc282954f95a
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/81/884581/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/fedora/root.d/10-fedora-cloud-image'],1,8f0f047623f5d93cc8596262e94382924bcef873,test-fedora-mirrors," SUBRELEASE=$(head -1 < <(curl -vLs $DIB_CLOUD_IMAGES/ 2>/tmp/curl$$.log | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r)) grep location: /tmp/curl$$.log rm -f /tmp/curl$$.log"," SUBRELEASE=$(head -1 < <(curl -Ls $DIB_CLOUD_IMAGES/ | grep -o -P '(?<=Fedora-Cloud-Base-'${DIB_RELEASE}'-).*?(?=.'${ARCH}'.qcow2"")' | sort -r))",3,1
openstack%2Fpuppet-nova~884454,openstack/puppet-nova,stable/zed,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:39:34.000000000,2023-05-29 12:52:43.000000000,2023-05-29 12:52:43.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e131d7b531f411629259c77e4f5b5fffd575fb57', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n'}, {'number': 2, 'created': '2023-05-26 07:54:05.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nBackport note:\nThis fix is adjusted during backport, because the commit[2] which\nadded support for customizing package status is not present in\nstable/zed and older branches.\n\n[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)\n'}]",0,884454,b9720fd43a2f7f0609062e3fe2f35f5ebb3e99ce,9,3,2,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Backport note:
This fix is adjusted during backport, because the commit[2] which
added support for customizing package status is not present in
stable/zed and older branches.

[2] ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
(cherry picked from commit d1bb160e40ad7e26dff2a33d10fe601349a5391f)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/54/884454/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,e131d7b531f411629259c77e4f5b5fffd575fb57,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fcinder~863927,openstack/cinder,master,I73c37b005e0640a2482a4a314c62dba48438c53e,DNM: test LVM NVMe support config patch,NEW,2022-11-07 19:25:59.000000000,2023-05-29 12:24:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-07 19:25:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d594fb880a7b437636d37fcb1287a295c6f368f3', 'message': 'DNM: test LVM NVMe support config patch\n\nMake sure the devstack patch supports the current config\noptions.\n\nDepends-on: https://review.opendev.org/c/openstack/devstack/+/814193\nChange-Id: I73c37b005e0640a2482a4a314c62dba48438c53e\n'}]",3,863927,d594fb880a7b437636d37fcb1287a295c6f368f3,24,1,1,5314,,,0,"DNM: test LVM NVMe support config patch

Make sure the devstack patch supports the current config
options.

Depends-on: https://review.opendev.org/c/openstack/devstack/+/814193
Change-Id: I73c37b005e0640a2482a4a314c62dba48438c53e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/863927/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d594fb880a7b437636d37fcb1287a295c6f368f3,nvme,,,1,0
openstack%2Fpuppet-nova~884453,openstack/puppet-nova,stable/2023.1,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-26 06:38:56.000000000,2023-05-29 11:40:48.000000000,2023-05-29 11:40:48.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 06:38:56.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d1bb160e40ad7e26dff2a33d10fe601349a5391f', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)\n'}]",1,884453,d1bb160e40ad7e26dff2a33d10fe601349a5391f,7,3,1,16312,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
(cherry picked from commit 5fe2ca84b0071980087534837dd571803e086486)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/53/884453/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,d1bb160e40ad7e26dff2a33d10fe601349a5391f,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Ftempest~883328,openstack/tempest,master,Icc174c905436ef2a0b8f41fe1cf11152cb72803f,Add tests for Glance hidden images,ABANDONED,2023-05-17 06:10:48.000000000,2023-05-29 10:41:14.000000000,,"[{'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 06:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13771746410e2c32b280c379ea5f1b7376f68e3b', 'message': 'Add tests for Glance hidden images\n\nThis commit add create/update tests\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}, {'number': 2, 'created': '2023-05-17 06:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c7d6ed6a74563254cb6f44ffd0bf493fc9ef7867', 'message': 'Add tests for Glance hidden images\n\nThis commit add tests for create/update hidden images\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}, {'number': 3, 'created': '2023-05-17 06:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/158142afe4c7e82efc007cc871af46fadd93568b', 'message': 'Add tests for Glance hidden images\n\nThis commit add tests for create/update hidden images\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}, {'number': 4, 'created': '2023-05-17 12:21:15.000000000', 'files': ['tempest/lib/common/api_microversion_fixture.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py', 'tempest/config.py', 'tempest/lib/services/image/v2/base_image_client.py', 'tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/69d82e5758c35dfa068897d4c246df1e3f19a281', 'message': 'Add tests for Glance hidden images\n\nThis commit add tests for create/update hidden images\n\nChange-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f\n'}]",0,883328,69d82e5758c35dfa068897d4c246df1e3f19a281,8,4,4,34510,,,0,"Add tests for Glance hidden images

This commit add tests for create/update hidden images

Change-Id: Icc174c905436ef2a0b8f41fe1cf11152cb72803f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/883328/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/api_microversion_fixture.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/base.py', 'tempest/lib/services/image/v2/base_image_client.py', 'tempest/test.py']",5,13771746410e2c32b280c379ea5f1b7376f68e3b,rhos-tests-migration," placement_microversion=None,image_microversion=None): placement_microversion=placement_microversion, image_microversion=image_microversion)", placement_microversion=None): placement_microversion=placement_microversion),141,5
openstack%2Fkayobe~884471,openstack/kayobe,master,I89a3fd800fafb29be27846806de4e6465209134c,2023.1 RC1 - Sync KA feature flags & inventories,MERGED,2023-05-26 09:34:06.000000000,2023-05-29 10:21:12.000000000,2023-05-29 10:20:02.000000000,"[{'_account_id': 14200}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 09:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/97a1a6a5098496cafc1335b769a7fc58db4ac819', 'message': '2023.1 RC1 - Sync KA feature flags & inventories\n\nPreparations for Antelope RC1.\n\nSynchronises Kayobe with the Kolla-Ansible feature flags and inventory.\n\nhttps: //docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-with-kolla-ansible-feature-flags\nhttps: //docs.openstack.org/kayobe/latest/contributor/releases.html#synchronise-with-kolla-ansible-inventory\nChange-Id: I89a3fd800fafb29be27846806de4e6465209134c\n'}, {'number': 2, 'created': '2023-05-26 12:07:55.000000000', 'files': ['ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0e984c4d479d256983719c65ebcbb514d924fc52', 'message': '2023.1 RC1 - Sync KA feature flags & inventories\n\nPreparations for Antelope RC1.\n\nSynchronises Kayobe with the Kolla-Ansible feature flags and inventory.\n\nChange-Id: I89a3fd800fafb29be27846806de4e6465209134c\n'}]",5,884471,0e984c4d479d256983719c65ebcbb514d924fc52,18,4,2,35263,,,0,"2023.1 RC1 - Sync KA feature flags & inventories

Preparations for Antelope RC1.

Synchronises Kayobe with the Kolla-Ansible feature flags and inventory.

Change-Id: I89a3fd800fafb29be27846806de4e6465209134c
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/884471/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-ansible/templates/overcloud-services.j2', 'etc/kayobe/kolla.yml', 'ansible/roles/kolla-ansible/templates/overcloud-components.j2', 'ansible/roles/kolla-ansible/vars/main.yml']",4,97a1a6a5098496cafc1335b769a7fc58db4ac819,, - skyline, - skydive,9,10
openstack%2Fpuppet-nova~884320,openstack/puppet-nova,master,I612856bfd23f980b1e94815d3b5e15e0ea39f72e,CentOS: Install libvirt-daemon package for monolithic daemon,MERGED,2023-05-25 08:09:54.000000000,2023-05-29 10:17:20.000000000,2023-05-29 10:17:20.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2023-05-25 08:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/59387adc3a72ced5f07c02ed9b7928c6b5835163', 'message': 'CentOS: Install libvirt common package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n'}, {'number': 2, 'created': '2023-05-25 09:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/fc21c0212a63f736e98e67e7e6177f9848081d4a', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n'}, {'number': 3, 'created': '2023-05-25 09:33:52.000000000', 'files': ['manifests/compute/libvirt/services.pp', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5fe2ca84b0071980087534837dd571803e086486', 'message': 'CentOS: Install libvirt-daemon package for monolithic daemon\n\nCentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)\nand the latest libvirt package no longer requires the daemon package\nwhich provides the monolithic libvirt daemon[1]\n\n[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f\n\nChange-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e\n'}]",4,884320,5fe2ca84b0071980087534837dd571803e086486,21,6,3,9816,,,0,"CentOS: Install libvirt-daemon package for monolithic daemon

CentOS 9 Stream recently bumped libvirt version (from 9.0.0 to 9.3.0)
and the latest libvirt package no longer requires the daemon package
which provides the monolithic libvirt daemon[1]

[1] https://github.com/libvirt/libvirt/commit/5358618b1cd0afc126aed313249bf2134731665f

Change-Id: I612856bfd23f980b1e94815d3b5e15e0ea39f72e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/20/884320/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/services.pp', 'manifests/params.pp']",2,59387adc3a72ced5f07c02ed9b7928c6b5835163,, $libvirt_daemon_package_name = 'libvirt-daemon',,8,0
openstack%2Fdevstack~884485,openstack/devstack,master,Ibb2a9731449e765c4a56952a9f02679e9618778b,Resolve distutils deprecation warning,MERGED,2023-05-26 11:49:19.000000000,2023-05-29 10:12:39.000000000,2023-05-29 10:11:35.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-26 11:49:19.000000000', 'files': ['tools/worlddump.py'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a37b6abc8ecab1a32593aecdf8f74d54f3c4adb1', 'message': ""Resolve distutils deprecation warning\n\nThe distutils package is deprecated and slated for removal in\nPython 3.12. Let's use shutil.which which is also recomended\nby PEP 632: https://peps.python.org/pep-0632/#migration-advice\n\nCloses-Bug: #2009229\nChange-Id: Ibb2a9731449e765c4a56952a9f02679e9618778b\n""}]",1,884485,a37b6abc8ecab1a32593aecdf8f74d54f3c4adb1,9,4,1,22873,,,0,"Resolve distutils deprecation warning

The distutils package is deprecated and slated for removal in
Python 3.12. Let's use shutil.which which is also recomended
by PEP 632: https://peps.python.org/pep-0632/#migration-advice

Closes-Bug: #2009229
Change-Id: Ibb2a9731449e765c4a56952a9f02679e9618778b
",git fetch https://review.opendev.org/openstack/devstack refs/changes/85/884485/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/worlddump.py'],1,a37b6abc8ecab1a32593aecdf8f74d54f3c4adb1,, if not shutil.which(cmd):,from distutils import spawn if not spawn.find_executable(cmd):,1,2
openstack%2Fcharm-ceph-mon~859966,openstack/charm-ceph-mon,master,I75623aa2e0608bcfbf170c023cf1f86e0b2e6536,Adds operator-native osd provides library.,NEW,2022-09-30 10:16:20.000000000,2023-05-29 09:59:39.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-30 10:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a1e663c3b8ac2dba7976e2b8988df838cbf59509', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 2, 'created': '2022-09-30 12:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/23973ae865fe3018fd9b19960a099bd715e52cdb', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 3, 'created': '2022-09-30 13:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/976d33cbe5a06d28b14d54eea0c51681efc69f50', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 4, 'created': '2022-10-04 06:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c0d51ca264781b695d0a00db01d1d321f2f19283', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 5, 'created': '2022-10-04 07:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ba37aa6ac71f26956db6f3d23428295dd979d7ba', 'message': 'Adds operator native osd relation provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 6, 'created': '2022-10-04 08:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f0c59fe0c353a72582f795d1a416fb729d4e4898', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 7, 'created': '2022-10-04 10:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9c70bb4a8b0d03f86558c2fa9b5570092280f4c9', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 8, 'created': '2022-10-04 11:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/6fc203fee7bbf579e98122c1f277e3f607bd8a20', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 9, 'created': '2022-10-04 19:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4e9235d8edcb612b6d6d7a79f654cacb77f05e0d', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 10, 'created': '2022-10-05 06:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a4c52bedc095892741cff2f025e7461e3939752d', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 11, 'created': '2022-10-05 07:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ff882382f45fee22712f00ad04b8cfe79f6d0765', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 12, 'created': '2022-10-05 09:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c7d1f8258816f04fe087549465cced48e1e91390', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 13, 'created': '2022-10-05 09:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/70ab155713620c1083145532f1435559699eafa6', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 14, 'created': '2022-10-05 10:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0ea6dda6d7c7035993c32e7330d77e00ba56ef14', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 15, 'created': '2022-10-06 06:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c09ae34f919c3bd9b2ab74d8d185f2c44928e21e', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 16, 'created': '2022-10-06 07:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/71b45e5eb9c16e65d38039b7ac1fe177b08c8708', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 17, 'created': '2022-10-06 08:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d57c92a8482f98ac6837f867b05cda669427b70e', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 18, 'created': '2022-10-06 11:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/302b4b468e2bfbfd3800e8f8bc171a4ee829fa03', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 19, 'created': '2022-10-06 16:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/23b7c8d8bbf0ba011fc95ee3d94e3c82533ed861', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 20, 'created': '2022-10-06 17:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1139b9aef8e54f7b15efb379f362dff896f949bf', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 21, 'created': '2022-10-06 17:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f03e818db8140a540f08f07898edd77e14ac0c30', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 22, 'created': '2022-10-07 06:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/558bddbd6e44aea72a7193d724e1b100b0344c8b', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 23, 'created': '2022-10-07 06:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ff203a224121ad17d07f83113134a1551ef3449c', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 24, 'created': '2022-10-10 04:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/0b13699909b47f1aa6755f32d61eecda5fabf8c0', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 25, 'created': '2022-10-10 08:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/13f36196b82aefa18a7674a90974e58c310dcb69', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 26, 'created': '2022-10-11 07:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8d5cfd12ac82d81e68945baf2a86d7f1c665303a', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 27, 'created': '2022-10-12 04:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/207a77bd3eb1f7b5f32c2b74bdd844a0405f2367', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 28, 'created': '2022-10-12 04:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/382d2bc5900955045c075b9bf4f5cdeffa4b98d0', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 29, 'created': '2022-10-12 07:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/826bdba82a2be7834b7420b7b4826e4f5755052a', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 30, 'created': '2022-10-13 10:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/daa984d92cda8738b1a4bc0702275b557945c0e7', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 31, 'created': '2022-10-13 11:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/cd0d70e9ed5a33fc9cc10369be8b92e15c91c44d', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 32, 'created': '2022-10-27 11:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a51803bfb2e8bcd63ec96adf0246c2d2725879b9', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/973\n'}, {'number': 33, 'created': '2022-10-28 05:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/8f7800f0e6cfe509b4b79cda73a460120b2855b2', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 34, 'created': '2022-10-31 06:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c00d9147e026e24239099c0c0a0134a909f83eee', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}, {'number': 35, 'created': '2023-05-29 08:51:44.000000000', 'files': ['src/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_ceph_osd_interface.py', 'unit_tests/manage_test_relations.py', 'src/ceph_client.py', 'src/charm.py', 'src/ceph_osd.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/2489d9198c048ddf8a150cc2b10cac9f0985018b', 'message': 'Adds operator-native osd provides library.\n\nChange-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536\n'}]",51,859966,2489d9198c048ddf8a150cc2b10cac9f0985018b,129,3,35,34952,,,0,"Adds operator-native osd provides library.

Change-Id: I75623aa2e0608bcfbf170c023cf1f86e0b2e6536
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/66/859966/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/charm.py', 'src/ceph_osd.py']",2,a1e663c3b8ac2dba7976e2b8988df838cbf59509,ceph-osd-provides,"from email import utils import logging from ops.charm import CharmEvents, CharmBase from ops.framework import EventBase, EventSource, Object, StoredState from ops.model import ActiveStatus, BlockedStatus import charms_ceph.utils as ceph from charmhelpers.core.hookenv import ( leader_get, ) from ceph_client import CephClientProvides as Client from utils import ( get_public_addr, get_ceph_osd_releases, execute_post_osd_upgrade_steps, ) log = logging.getLogger(__name__) class CephOsdProvides(Client): """""" Provide side lib for osd relation Hooks: osd-relation-joined osd-relation-changed """""" charm = None _stored = StoredState() def __init__(self, charm): super.__init__(charm, ""osd"") self.charm = charm def _get_ceph_info_from_configs(self): """"""Create dictionary of ceph information required to set osd relation. :returns: Dictionary of ceph configurations needed for osd relation :rtype: dict """""" return { 'fsid': leader_get('fsid'), 'osd_bootstrap_key': ceph.get_osd_bootstrap_key(), 'auth': 'cephx', 'ceph-public-address': get_public_addr(), 'osd_upgrade_key': ceph.get_named_key( 'osd-upgrade', caps=ceph.osd_upgrade_caps ), 'osd_disk_removal_key': ceph.get_named_key( 'osd-removal', caps={ 'mgr': ['allow *'], 'mon': [ 'allow r', 'allow command ""osd crush reweight""', 'allow command ""osd purge""', 'allow command ""osd destroy""', ] } ) } def _handle_client_relation(self, relation, unit): """"""Handle broker request and set the relation data :param relation: Operator relation :type relation: Relation :param unit: Unit to handle :type unit: Unit """""" # if is_unsupported_cmr(unit): # return log('mon cluster in quorum - providing fsid & keys') service_name = self._get_client_application_name(relation, unit) data = self._get_ceph_info_from_configs() data.update({'key': ceph.get_named_key(service_name)}) data.update( self._handle_broker_request( relation, unit, add_legacy_response=True ) ) for k, v in data.items(): relation.data[self.this_unit][k] = str(v) if ceph.is_leader(): ceph_osd_releases = get_ceph_osd_releases() if len(ceph_osd_releases) == 1: execute_post_osd_upgrade_steps(ceph_osd_releases[0]) ",,103,1
openstack%2Fopenstack-ansible-rabbitmq_server~884531,openstack/openstack-ansible-rabbitmq_server,master,Ibeda25763a06c4a786374dea07e922c5d4f949b5,"Revert ""Switch rabbitmq repo back to packagecloud""",ABANDONED,2023-05-28 00:32:41.000000000,2023-05-29 09:19:20.000000000,,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-28 00:32:41.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/334c7fdece9e80845b08482f8602cf0e4b0aeee2', 'message': 'Revert ""Switch rabbitmq repo back to packagecloud""\n\nThis reverts commit 84d88c5a265e2f783c7daa15d71251f45bcfc4b8.\n\nReason for revert: RabbitMQ team has dropped PackageCloud\nrepository.\n\nChange-Id: Ibeda25763a06c4a786374dea07e922c5d4f949b5\nCloses-Bug: #2021410\n'}]",1,884531,334c7fdece9e80845b08482f8602cf0e4b0aeee2,5,4,1,28619,,,0,"Revert ""Switch rabbitmq repo back to packagecloud""

This reverts commit 84d88c5a265e2f783c7daa15d71251f45bcfc4b8.

Reason for revert: RabbitMQ team has dropped PackageCloud
repository.

Change-Id: Ibeda25763a06c4a786374dea07e922c5d4f949b5
Closes-Bug: #2021410
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/31/884531/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960']",4,334c7fdece9e80845b08482f8602cf0e4b0aeee2,,-----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v2 mQGNBGAyemoBDADMwGfwPLzN0G0TOoiJdboRZOHUk51mtkBemD+JX2XiTvykjj4p M5MyRfGKV5YFRw5IkFXqYaNP/dqCAbWkfQG1aNpzPVIqlwwOkNEnNR2dKpiEpiq9 Q53HbAjMa9eHxvWN65MtvDIXGUIoupVMZAbycsYD9+fZWJrQgRlSb/Lk9cCvYKoy dXsfS1TOmglI3yFRgSvr+CM54gIOKpqWJVE+u2ZFq2rw9yh0GQzcOLXmrMStfbla akgqe3jpdXKIlI4tSoRaOsIFUjc1DeyZcEJGZyKlo4h1cgVNha8HDiMB9a7bdTCm W06ZbUrEz1vTmyFN6WFsLuZ4MRiWkuz0RAA9ePGMYz8DsQoMqusaoFAoQkgJQH4d MF+/3MFnK6CXMtkDYqwstcSDqtzbgvW+sOCzA/WGUzw37nwoh+mxIctVPxYsuipT aX8O9T449mQ61AOFw9MoTRSnf0XNfFUlkh9fQlUK/BWxM0X7A4UUtdMcZC54LsMF KHDCC4WHeOpDy1sAEQEAAbRFQ2xvdWRzbWl0aCBQYWNrYWdlIChyYWJiaXRtcS9y YWJiaXRtcS1zZXJ2ZXIpIDxzdXBwb3J0QGNsb3Vkc21pdGguaW8+iQG3BBMBCAAh BQJgMnpqAhsvBQsJCAcDBRUKCQgLBRYCAwEAAh4BAheAAAoJEJ9Fh/ImIINCM+4M AJmb/bXlShUTN4J1XCSOoUk4rBe0jBb6YbvB0YJrD1FZr/nfwV08sqCxfBvXR41W 9PwCCPYKUXo1K4TxehfOR4RpiHou+YxnqMiZjLKB9nSTnGj7kSJ8OLEcqUrgV/Uv Fk0w2IGQf25u6D6NumKuk6CElFxBG5OzBXtBAxUSLzQ7Xz/3IuqaPuA8KPRD25s8 yDjj2auyZxlfaD+wUNkqaLQ9quXd8IJuUqvz9wNbOItooWypEk2tX48w5i+wd1pP AW+NjKuwd0G88nO6J+7oFYXcsh7n3nblJZT0bmUZC9M6kL9llt8Vy/FBkHnP3dX3 +6EfEXeXPhVJTI7nkNP64XssO4zHg9vQd3rLd6RCfUnA/NjEXvpR6pjoEsPMlD99 8hsK1c0AhAntSsB2sky7E5p7Rzq8X/SM8aZGDmkitkN2VdnAQsJP0UVq7FnpqBFS pMxOxGveS5d5sjU3LoHPTg1uOcARcsOH245szVBPtklXOzg7Fazcc+BHmjYmrgeu QQ== =CfXb -----END PGP PUBLIC KEY BLOCK----- ,,32,72
openstack%2Fneutron~884279,openstack/neutron,master,I675ff6fdc13015bfe274d9c6752415b55484c542,Test devstack patch,ABANDONED,2023-05-24 19:11:54.000000000,2023-05-29 09:03:52.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 19:11:54.000000000', 'files': ['neutron/manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a55398b28f537596b6488d9fd8ac4ec7bbf8bb05', 'message': 'Test devstack patch\n\nbug 2020661\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/884277\nChange-Id: I675ff6fdc13015bfe274d9c6752415b55484c542\n'}]",4,884279,a55398b28f537596b6488d9fd8ac4ec7bbf8bb05,14,2,1,16312,,,0,"Test devstack patch

bug 2020661

Depends-On: https://review.opendev.org/c/openstack/devstack/+/884277
Change-Id: I675ff6fdc13015bfe274d9c6752415b55484c542
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/884279/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/manager.py'],1,a55398b28f537596b6488d9fd8ac4ec7bbf8bb05,bug/2020661,CHANGE = True,,1,0
openstack%2Fkolla-ansible~884489,openstack/kolla-ansible,master,I15af98faedd81cccbc10e2cc7dab4205a35684be,CI: cephadm - set rbd application on pool creation,MERGED,2023-05-26 12:49:54.000000000,2023-05-29 07:06:40.000000000,2023-05-29 07:05:38.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-26 12:49:54.000000000', 'files': ['roles/cephadm/templates/commands.sh.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86a3da5d7f885d5336a9cb7b7e8cc62a957ff52d', 'message': 'CI: cephadm - set rbd application on pool creation\n\nChange-Id: I15af98faedd81cccbc10e2cc7dab4205a35684be\n'}]",2,884489,86a3da5d7f885d5336a9cb7b7e8cc62a957ff52d,12,4,1,22629,,,0,"CI: cephadm - set rbd application on pool creation

Change-Id: I15af98faedd81cccbc10e2cc7dab4205a35684be
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/884489/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/templates/commands.sh.j2'],1,86a3da5d7f885d5336a9cb7b7e8cc62a957ff52d,,ceph osd pool application enable {{ pool }} rbd,,1,0
openstack%2Fcharm-ceph-osd~882381,openstack/charm-ceph-osd,master,I03995d23d41827fa8ad00e248e2d21527318327c,Move documentation over to discourse,NEW,2023-05-05 08:11:08.000000000,2023-05-29 06:10:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 08:11:08.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/9a649587457283739eedd96225bb6fd64c69ed9c', 'message': ""Move documentation over to discourse\n\nThis patchset moves the charm's documentation over to charmhub.\nSeen here: https://discourse.charmhub.io/t/ceph-osd-docs-index/10545\n\nChange-Id: I03995d23d41827fa8ad00e248e2d21527318327c\n""}]",2,882381,9a649587457283739eedd96225bb6fd64c69ed9c,6,2,1,33717,,,0,"Move documentation over to discourse

This patchset moves the charm's documentation over to charmhub.
Seen here: https://discourse.charmhub.io/t/ceph-osd-docs-index/10545

Change-Id: I03995d23d41827fa8ad00e248e2d21527318327c
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/81/882381/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,9a649587457283739eedd96225bb6fd64c69ed9c,charm-docs,# ceph-osdThe charm's documentation can be seen on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][track-bugs].[charm-docs]: https://discourse.charmhub.io/t/ceph-osd-docs-index/10545 [charm-bugs]: https://bugs.launchpad.net/charm-ceph-osd/+filebug,"# Overview [Ceph][ceph-upstream] is a unified, distributed storage system designed for excellent performance, reliability, and scalability.# Usage ## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. A YAML file (e.g. `ceph-osd.yaml`) is often used to store configuration options. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `bluestore` The `bluestore` option specifies whether the [BlueStore][upstream-ceph-bluestore] storage backend is used for all OSD devices. The feature is enabled by default (value 'True'). If set to 'True', this option overrides the `osd-format` option as BlueStore does not use a traditional filesystem. > **Important**: This option has no effect unless Ceph Luminous (or greater) is in use. #### `customize-failure-domain` The `customize-failure-domain` option determines how a Ceph CRUSH map is configured. A value of 'false' (the default) will lead to a map that will replicate data across hosts (implemented as [Ceph bucket type][upstream-ceph-buckets] 'host'). With a value of 'true' all MAAS-defined zones will be used to generate a map that will replicate data across Ceph availability zones (implemented as bucket type 'rack'). This option is also supported by the ceph-mon charm. Its value must be the same for both charms. #### `osd-devices` The `osd-devices` option lists what block devices can be used for OSDs across the cluster. See section 'Storage devices' for an elaboration on this fundamental topic. #### `osd-format` The `osd-format` option specifies what filesystem to use for all OSD devices ('xfs' or 'ext4'). The default value is 'xfs'. This option only applies when Ceph Luminous (or greater) is in use and option `bluestore` is set to 'False'. #### `source` The `source` option states the software sources. A common value is an OpenStack UCA release (e.g. 'cloud:xenial-queens' or 'cloud:bionic-ussuri'). See [Ceph and the UCA][cloud-archive-ceph]. The underlying host's existing apt sources will be used if this option is not specified (this behaviour can be explicitly chosen by using the value of 'distro'). ### Storage devices A storage device is destined as an OSD (Object Storage Device). There can be multiple OSDs per storage node (ceph-osd unit). The list of all possible storage devices for the cluster is defined by the `osd-devices` option. The below examples can be used in the `ceph-osd.yaml` configuration file. Block devices (regular), ceph-osd: osd-devices: /dev/vdb /dev/vdc /dev/vdd Each regular block device must be an absolute path to a device node. Block devices (Juju storage), ceph-osd: storage: osd-devices: cinder,20G See the [Juju documentation][juju-docs-storage] for guidance on implementing Juju storage. Directory-backed OSDs, ceph-osd: storage: osd-devices: /var/tmp/osd-1 > **Note**: OSD directories can no longer be created starting with Ceph Nautilus. Existing OSD directories will continue to function after an upgrade to Nautilus. The list defined by option `osd-devices` may affect newly added ceph-osd units as well as existing units (the option may be modified after units have been added). The charm will attempt to activate as Ceph storage any listed device that is visible by the unit's underlying machine. To prevent the activation of volumes on existing units the `blacklist-add-disk` action may be used. The configuration option is modified in the usual way. For instance, to have it consist solely of devices '/dev/sdb' and '/dev/sdc': juju config ceph-osd osd-devices='/dev/sdb /dev/sdc' The charm will go into a blocked state (visible in `juju status` output) if it detects pre-existing data on a device. In this case the operator can either instruct the charm to ignore the disk (action `blacklist-add-disk`) or to have it purge all data on the disk (action `zap-disk`). > **Important**: The recommended minimum number of OSDs in the cluster is three and this is what the ceph-mon charm expects (the cluster will not form with a lesser number). See option `expected-osd-count` in the ceph-mon charm to overcome this but beware that going below three is not a supported configuration. ## Deployment A cloud with three MON nodes is a typical design whereas three OSDs are considered the minimum. For example, to deploy a Ceph cluster consisting of three OSDs (one per ceph-osd unit) and three MONs: juju deploy -n 3 --config ceph-osd.yaml ceph-osd juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 ceph-mon juju add-relation ceph-osd:mon ceph-mon:osd Here, a containerised MON is running alongside each storage node. We've assumed that the machines spawned in the first command are assigned IDs of 0, 1, and 2. > **Note**: Refer to the [Install OpenStack][cdg-install-openstack] page in the OpenStack Charms Deployment Guide for instructions on installing the ceph-osd application for use with OpenStack. For each ceph-osd unit, the ceph-osd charm will scan for all the devices configured via the `osd-devices` option and attempt to assign to it all of the ones it finds. The cluster's initial pool of available storage is the ""sum"" of all these assigned devices. ## Network spaces This charm supports the use of Juju [network spaces][juju-docs-spaces] (Juju `v.2.0`). This feature optionally allows specific types of the application's network traffic to be bound to subnets that the underlying hardware is connected to. > **Note**: Spaces must be configured in the backing cloud prior to deployment. The ceph-osd charm exposes the following Ceph traffic types (bindings): * 'public' (front-side) * 'cluster' (back-side) For example, providing that spaces 'data-space' and 'cluster-space' exist, the deploy command above could look like this: juju deploy --config ceph-osd.yaml -n 3 ceph-osd \ --bind ""public=data-space cluster=cluster-space"" Alternatively, configuration can be provided as part of a bundle: ```yaml ceph-osd: charm: cs:ceph-osd num_units: 1 bindings: public: data-space cluster: cluster-space ``` Refer to the [Ceph Network Reference][ceph-docs-network-ref] to learn about the implications of segregating Ceph network traffic. > **Note**: Existing ceph-osd units configured with the `ceph-public-network` or `ceph-cluster-network` options will continue to honour them. Furthermore, these options override any space bindings, if set. ## AppArmor profiles Although AppArmor is not enabled for Ceph by default, an AppArmor profile can be generated by the charm by assigning a value of 'complain', 'enforce', or 'disable' (the default) to option `aa-profile-mode`. > **Caution**: Enabling an AppArmor profile is disruptive to a running Ceph cluster as all ceph-osd processes must be restarted. The new profile has a narrow supported use case, and it should always be verified in pre-production against the specific configurations and topologies intended for production. The profiles generated by the charm should **not** be used in the following scenarios: * On any version of Ubuntu older than 16.04 * On any version of Ceph older than Luminous * When OSD journal devices are in use * When Ceph BlueStore is enabled ## Block device encryption The ceph-osd charm supports encryption for OSD volumes that are backed by block devices. To use Ceph's native key management framework, available since Ceph Jewel, set option `osd-encrypt` for the ceph-osd charm: ```yaml ceph-osd: osd-encrypt: True ``` Here, dm-crypt keys are stored in the MON sub-cluster. Alternatively, since Ceph Luminous, encryption keys can be stored in Vault, which is deployed and initialised via the [vault][vault-charm] charm. Set options `osd-encrypt` and `osd-encrypt-keymanager` for the ceph-osd charm: ```yaml ceph-osd: osd-encrypt: True osd-encrypt-keymanager: vault ``` > **Important**: Post deployment configuration will only affect block devices associated with **new** ceph-osd units. ## Actions This section covers Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. To display action descriptions run `juju actions --schema ceph-osd`. If the charm is not deployed then see file `actions.yaml`. * `add-disk` * `blacklist-add-disk` * `blacklist-remove-disk` * `get-availibility-zone` * `list-disks` * `osd-in` * `osd-out` * `security-checklist` * `start` * `stop` * `zap-disk` ## Working with OSDs ### Set OSDs to 'out' Use the `osd-out` action to set OSD volumes on a unit to 'out'. > **Warning**: This action has the potential of impacting your cluster significantly. The [Ceph documentation][ceph-docs-removing-osds] on this topic is considered essential reading. Unless the cluster itself is set to 'noout' this action will cause Ceph to rebalance data by migrating PGs out of the affected OSDs and onto OSDs available on other units. The impact is twofold: 1. The available space on the remaining OSDs is reduced. Not only is there less space for future workloads but there is a danger of exceeding the cluster's storage capacity. 1. The traffic and CPU load on the cluster is increased. > **Note**: It has been reported that setting OSDs to 'out' may cause some PGs to get stuck in the 'active+remapped' state. This is an upstream issue. The [ceph-mon][ceph-mon-charm] charm has an action called `set-noout` that sets 'noout' for the cluster. It may be perfectly fine to have data rebalanced. The decisive factor is whether the OSDs are being paused temporarily (e.g. the underlying machine is scheduled for maintenance) or whether they are being removed from the cluster completely (e.g. the storage hardware is reaching EOL). Examples: # Set OSDs '0' and '1' to 'out' on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 osd-out osds=osd.0,osd.1 # Set all OSDs to 'out' on unit `ceph-osd/2` juju run-action --wait ceph-osd/2 osd-out osds=all ### Set OSDs to 'in' Use the `osd-in` action to set OSD volumes on a unit to 'in'. The `osd-in` action is reciprocal to the `osd-out` action. The OSDs are set to 'in'. It is typically used when the `osd-out` action was used in conjunction with the cluster 'noout' flag. Examples: # Set OSDs '0' and '1' to 'in' on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 osd-in osds=osd.0,osd.1 # Set all OSDs to 'in' on unit `ceph-osd/2` juju run-action --wait ceph-osd/2 osd-in osds=all ### Stop and start OSDs Use the `stop` and `start` actions to stop and start OSD daemons on a unit. > **Important**: These actions are not available on the 'trusty' series due to the reliance on `systemd`. Examples: # Stop services 'ceph-osd@0' and 'ceph-osd@1' on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 stop osds=0,1 # Start all ceph-osd services on unit `ceph-osd/2` juju run-action --wait ceph-osd/2 start osds=all > **Note**: Stopping an OSD daemon will put the associated unit into a blocked state. ## Working with disks ### List disks Use the `list-disks` action to list disks known to a unit. The action lists the unit's block devices by categorising them in three ways: * `disks`: visible (known by udev), unused (not mounted), and not designated as an OSD journal (via the `osd-journal` configuration option) * `blacklist`: like `disks` but blacklisted (see action `blacklist-add-disk`) * `non-pristine`: like `disks` but not eligible for use due to the presence of existing data Example: # List disks on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 list-disks ### Add a disk Use the `add-disk` action to add a disk to a unit. A ceph-osd unit is automatically assigned OSD volumes based on the current value of the `osd-devices` application option. The `add-disk` action allows the operator to manually add OSD volumes (for disks that are not listed by `osd-devices`) to an existing unit. **Parameters** <!-- The next line has two trailing spaces. --> * `osd-devices` (required) A space-separated list of devices to format and initialise as OSD volumes. <!-- The next line has two trailing spaces. --> * `bucket` The name of a Ceph bucket to add these devices to. Example: # Add disk /dev/vde on unit `ceph-osd/4` juju run-action --wait ceph-osd/4 add-disk osd-devices=/dev/vde ### Blacklist a disk Use the `blacklist-add-disk` action to add a disk to a unit's blacklist. The action allows the operator to add disks (that are visible to the unit's underlying machine) to the unit's blacklist. A blacklisted device will not be initialised as an OSD volume when the value of the `osd-devices` application option changes. This action does not prevent a device from being activated via the `add-disk` action. Use the `list-disks` action to list the unit's blacklist entries. > **Important**: This action and blacklist do not have any effect on current OSD volumes. **Parameters** <!-- The next line has two trailing spaces. --> * `osd-devices` (required) A space-separated list of devices to add to a unit's blacklist. Example: # Blacklist disks /dev/vda and /dev/vdf on unit `ceph-osd/0` juju run-action --wait ceph-osd/0 \ blacklist-add-disk osd-devices='/dev/vda /dev/vdf' ### Un-blacklist a disk Use the `blacklist-remove-disk` action to remove a disk from a unit's blacklist. **Parameters** <!-- The next line has two trailing spaces. --> * `osd-devices` (required) A space-separated list of devices to remove from a unit's blacklist. Each device should have an existing entry in the unit's blacklist. Use the `list-disks` action to list the unit's blacklist entries. Example: # Un-blacklist disk /dev/vdb on unit `ceph-osd/1` juju run-action --wait ceph-osd/1 \ blacklist-remove-disk osd-devices=/dev/vdb ### Zap a disk Use the `zap-disk` action to purge a disk of all data. In order to prevent unintentional data loss, the charm will not use a disk that contains data. To forcibly make a disk available, the `zap-disk` action can be used. Due to the destructive nature of this action the `i-really-mean-it` option must be passed. This action is normally followed by the `add-disk` action. **Parameters** <!-- The next line has two trailing spaces. --> * `devices` (required) A space-separated list of devices to be recycled. <!-- The next line has two trailing spaces. --> * `i-really-mean-it` (required) A boolean option for confirming the action. Example: # Zap disk /dev/vdc on unit `ceph-osd/3` juju run-action --wait ceph-osd/3 \ zap-disk i-really-mean-it=true devices=/dev/vdc > **Note**: The `zap-disk` action cannot be run on a mounted device, an active BlueStore device, or an encrypted device. There are also issues with LVM-backed volumes (see [LP #1858519][lp-bug-1858519]). # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information See also the [Charmed Ceph documentation][charmed-ceph-docs]. # Bugs Please report bugs on [Launchpad][lp-bugs-charm-ceph-osd].[ceph-upstream]: https://ceph.io [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [ceph-mon-charm]: https://jaas.ai/ceph-mon [vault-charm]: https://jaas.ai/vault [charmed-ceph-docs]: https://ubuntu.com/ceph/docs [juju-docs-storage]: https://jaas.ai/docs/storage [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-spaces]: https://jaas.ai/docs/spaces [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [ceph-docs-removing-osds]: https://docs.ceph.com/docs/master/rados/operations/add-or-rm-osds/ [ceph-docs-network-ref]: http://docs.ceph.com/docs/master/rados/configuration/network-config-ref [lp-bugs-charm-ceph-osd]: https://bugs.launchpad.net/charm-ceph-osd/+filebug [cdg-install-openstack]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack.html [upstream-ceph-buckets]: https://docs.ceph.com/docs/master/rados/operations/crush-map/#types-and-buckets [upstream-ceph-bluestore]: https://docs.ceph.com/en/latest/rados/configuration/storage-devices/#bluestore [cloud-archive-ceph]: https://wiki.ubuntu.com/OpenStack/CloudArchive#Ceph_and_the_UCA [lp-bug-1858519]: https://bugs.launchpad.net/charm-ceph-osd/+bug/1858519",6,473
openstack%2Fpuppet-openstack-integration~877228,openstack/puppet-openstack-integration,master,I67359c9a6ef361d161f51fe660d37db5f1656f89,Capture commands to check zaqar service status,ABANDONED,2023-03-13 08:00:47.000000000,2023-05-29 05:21:03.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-13 08:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/378d077056f9680c4927103685e63d621a754f73', 'message': 'Capture commands to check zaqar service status\n\nChange-Id: I67359c9a6ef361d161f51fe660d37db5f1656f89\n'}, {'number': 2, 'created': '2023-03-13 09:18:19.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d41b63e921fe43c980a88dfe24521c6ba6ad68bd', 'message': 'Capture commands to check zaqar service status\n\nChange-Id: I67359c9a6ef361d161f51fe660d37db5f1656f89\n'}]",0,877228,d41b63e921fe43c980a88dfe24521c6ba6ad68bd,5,2,2,9816,,,0,"Capture commands to check zaqar service status

Change-Id: I67359c9a6ef361d161f51fe660d37db5f1656f89
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/28/877228/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,378d077056f9680c4927103685e63d621a754f73,,# zaqar resources if [ -d $LOG_DIR/zaqar ]; then openstack >> $LOG_DIR/openstack_resources/zaqar.txt <<-EOC messaging ping messaging health EOC fi ,,8,0
openstack%2Fpuppet-neutron~878805,openstack/puppet-neutron,master,I5a547675b36df364dc7299ce647ddfe3d05d9af2,Deprecate support for networking-odl,ABANDONED,2023-03-29 01:32:24.000000000,2023-05-29 05:20:35.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-29 01:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/25b95be5ef4a5e4a907f8d01b883abd219ce49db', 'message': 'Deprecate support for networking-odl\n\n... because the networking-odl project has been deprecated[1].\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: I5a547675b36df364dc7299ce647ddfe3d05d9af2\n'}, {'number': 2, 'created': '2023-04-05 07:45:02.000000000', 'files': ['releasenotes/notes/deprecate-networking-odl-6684bc8400845d1a.yaml', 'manifests/plugins/ml2/opendaylight.pp', 'manifests/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9e83abbb8990048b764401dacff300e9fb29d60c', 'message': 'Deprecate support for networking-odl\n\n... because the networking-odl project has been deprecated[1].\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: I5a547675b36df364dc7299ce647ddfe3d05d9af2\n'}]",3,878805,9e83abbb8990048b764401dacff300e9fb29d60c,12,2,2,9816,,,0,"Deprecate support for networking-odl

... because the networking-odl project has been deprecated[1].

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html

Change-Id: I5a547675b36df364dc7299ce647ddfe3d05d9af2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/05/878805/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-networking-odl-6684bc8400845d1a.yaml', 'manifests/plugins/ml2/opendaylight.pp', 'manifests/plugins/ovs/opendaylight.pp']",3,25b95be5ef4a5e4a907f8d01b883abd219ce49db,,# DEPRECATED !! warning('Support for networking-odl has been deprecated.') ,,11,0
openstack%2Ftripleo-common~884573,openstack/tripleo-common,master,I1109320b1d6fc9ba5f4ac7083c799838bce6ac45,Workaround inventory script plugin limitation,ABANDONED,2023-05-29 04:45:07.000000000,2023-05-29 04:46:12.000000000,,[],"[{'number': 1, 'created': '2023-05-29 04:45:07.000000000', 'files': ['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a08a45ce0d98dc998684bdfd53822c001da701a', 'message': ""Workaround inventory script plugin limitation\n\nBlacklistedHostnames stack output  can be  ['', '', '', ''] when\nthere are no blacklisted hosts for any role . Scripts plugin could\nnot handle something like 'hosts': {} and expects it to be a empty\nlist []  instead. This works around that.\n\nChange-Id: I1109320b1d6fc9ba5f4ac7083c799838bce6ac45\n""}]",0,884573,5a08a45ce0d98dc998684bdfd53822c001da701a,2,0,1,8833,,,0,"Workaround inventory script plugin limitation

BlacklistedHostnames stack output  can be  ['', '', '', ''] when
there are no blacklisted hosts for any role . Scripts plugin could
not handle something like 'hosts': {} and expects it to be a empty
list []  instead. This works around that.

Change-Id: I1109320b1d6fc9ba5f4ac7083c799838bce6ac45
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/884573/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/inventory.py', 'tripleo_common/tests/test_inventory.py']",2,5a08a45ce0d98dc998684bdfd53822c001da701a,,," 'excluded_overcloud': { 'hosts': {} }, 'excluded_overcloud': { 'hosts': {} },",7,12
openstack%2Ftacker~879831,openstack/tacker,master,Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3,Update v2 api reference,MERGED,2023-04-07 03:09:23.000000000,2023-05-29 01:54:33.000000000,2023-05-29 01:53:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32102}, {'_account_id': 32707}, {'_account_id': 32826}, {'_account_id': 34712}]","[{'number': 1, 'created': '2023-04-07 03:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/17c45365bca8f980a47d378a6267c92aaa8d9929', 'message': 'Update v2 api reference\n\nThis patch updates the v2 API reference according to the current implementation.\nThe main update APIs are as follows:\n  * Show VNF instance\n  * List VNF instance\n  * Change Current VNF Package\n  * Show VNF LCM operation occurrence\n  * List VNF LCM operation occurrence\n  * Fail a VNF LCM operation occurrence\n  * Create a new subscription\n  * Show subscription\n  * List subscription\n\nChange-Id: Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3\n'}, {'number': 2, 'created': '2023-05-26 05:21:00.000000000', 'files': ['api-ref/source/v2/parameters_vnflcm.yaml', 'api-ref/source/v2/vnflcm.inc'], 'web_link': 'https://opendev.org/openstack/tacker/commit/80f4c8988ca3e1b7e5dd22413ba9f141e68dbf24', 'message': 'Update v2 api reference\n\nThis patch updates the v2 API reference according to\nthe current implementation.\nThe main update APIs are as follows:\n  * Show VNF instance\n  * List VNF instance\n  * Change Current VNF Package\n  * Show VNF LCM operation occurrence\n  * List VNF LCM operation occurrence\n  * Fail a VNF LCM operation occurrence\n  * Create a new subscription\n  * Show subscription\n  * List subscription\n\nChange-Id: Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3\n'}]",5,879831,80f4c8988ca3e1b7e5dd22413ba9f141e68dbf24,14,7,2,31730,,,0,"Update v2 api reference

This patch updates the v2 API reference according to
the current implementation.
The main update APIs are as follows:
  * Show VNF instance
  * List VNF instance
  * Change Current VNF Package
  * Show VNF LCM operation occurrence
  * List VNF LCM operation occurrence
  * Fail a VNF LCM operation occurrence
  * Create a new subscription
  * Show subscription
  * List subscription

Change-Id: Idca22a874b746c02e9d97f4ca08a1cfcee76ccc3
",git fetch https://review.opendev.org/openstack/tacker refs/changes/31/879831/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters_vnflcm.yaml', 'api-ref/source/v2/vnflcm.inc']",2,17c45365bca8f980a47d378a6267c92aaa8d9929,update-api-ref-v2, - extra: vim_connection_info_extra - macAddress: mac_address - segmentationId: segmentation_id - isDynamic: is_dynamic - addressRange: address_range - minAddress: min_address - maxAddress: max_address - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - parentCpConfigId: parent_cp_config_id - linkPortId: link_port_id - macAddress: mac_address - segmentationId: segmentation_id - fixedAddresses: fixed_addresses - addressRange: address_range - minAddress: min_address - maxAddress: max_address - subnetId: subnet_id - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - extManagedMultisiteVirtualLinkId: ext_managed_multisite_virtual_link_id - monitoringParameters: monitoring_parameters - id: monitoring_parameters_id - vnfdId: monitoring_parameters_vnfd_id - name: monitoring_parameters_name - performanceMetric: monitoring_parameters_performance_metric - localizationLanguage: localization_language - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - storageResourceIds: vnfc_resource_info_storage_resource_ids - vnfLinkPortId: vnfc_cp_info_vnf_link_port_id - metadata: vnfc_resource_info_metadata - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - vnfcConfigurableProperties: vnfc_configurable_properties - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - extensions: vnf_instance_extensions - extra: vim_connection_info_extra - macAddress: mac_address - segmentationId: segmentation_id - isDynamic: is_dynamic - addressRange: address_range - minAddress: min_address - maxAddress: max_address - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - parentCpConfigId: parent_cp_config_id - linkPortId: link_port_id - macAddress: mac_address - segmentationId: segmentation_id - fixedAddresses: fixed_addresses - addressRange: address_range - minAddress: min_address - maxAddress: max_address - subnetId: subnet_id - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - extManagedMultisiteVirtualLinkId: ext_managed_multisite_virtual_link_id - monitoringParameters: monitoring_parameters - id: monitoring_parameters_id - vnfdId: monitoring_parameters_vnfd_id - name: monitoring_parameters_name - performanceMetric: monitoring_parameters_performance_metric - localizationLanguage: localization_language - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - storageResourceIds: vnfc_resource_info_storage_resource_ids - vnfLinkPortId: vnfc_cp_info_vnf_link_port_id - metadata: vnfc_resource_info_metadata - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - vnfcConfigurableProperties: vnfc_configurable_properties - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - extensions: vnf_instance_extensions - id: ext_virtual_links_id - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: ext_virtual_links_resource_id - extCps: ext_cps - cpdId: cpd_id - cpConfig: cp_config - parentCpConfigId: parent_cp_config_id - linkPortId: link_port_id - cpProtocolData: cp_protocol_data - layerProtocol: layer_protocol - ipOverEthernet: ip_over_ethernet - macAddress: mac_address - segmentationId: segmentation_id - ipAddresses: ip_addresses - type: ip_address_type - fixedAddresses: fixed_addresses - numDynamicAddresses: num_dynamic_addresses - addressRange: address_range - minAddress: min_address - maxAddress: max_address - subnetId: subnet_id - extLinkPorts: ext_link_ports - id: ext_link_port_id - resourceHandle: ext_link_port_resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - extManagedVirtualLinks: ext_managed_virtual_links - id: ext_managed_virtual_link_data_id - vnfVirtualLinkDescId: vnf_virtual_link_desc_id - resourceId: ext_managed_virtual_link_data_resource_id - vimId: vim_connection_info_vim_id - vimType: vim_connection_info_vim_type - interfaceInfo: vim_connection_info_interface_info - accessInfo: vim_connection_info_access_info - extra: vim_connection_info_extra - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - metadata: affected_vnfcs_metadata - resourceProviderId: resource_provider_id - affectedExtLinkPorts: affected_ext_link_ports - id: affected_ext_link_ports_id - changeType: affected_ext_link_ports_change_type - extCpInstranceId: affected_ext_link_ports_ext_cp_instance_id - resourceHandle: resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - metadata: affected_virtual_storages_metadata - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - metadata: affected_vnfcs_metadata - resourceProviderId: resource_provider_id - affectedExtLinkPorts: affected_ext_link_ports - id: affected_ext_link_ports_id - changeType: affected_ext_link_ports_change_type - extCpInstranceId: affected_ext_link_ports_ext_cp_instance_id - resourceHandle: resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - resourceProviderId: resource_provider_id - metadata: affected_virtual_storages_metadata - resourceProviderId: resource_provider_id - zoneId: vnfc_resource_info_zone_id - metadata: affected_vnfcs_metadata - resourceProviderId: resource_provider_id - resourceId: resource_handle_resource_id - vimLevelResourceType: resource_handle_vim_level_resource_type - vnfLinkPortIds: vnf_link_port_ids - affectedExtLinkPorts: affected_ext_link_ports - id: affected_ext_link_ports_id - changeType: affected_ext_link_ports_change_type - extCpInstranceId: affected_ext_link_ports_ext_cp_instance_id - resourceHandle: resource_handle - vimConnectionId: vim_connection_id - resourceProviderId: resource_provider_id - resourceProviderId: resource_provider_id - metadata: affected_virtual_storages_metadata - vnfInstanceNames: vnf_instance_names - filter: filter - vnfInstanceSubscriptionFilter: vnf_instance_subscription_filter - vnfdIds: vnfd_ids - vnfProductsFromProviders: vnf_products_from_providers - vnfProvider: vnf_provider - vnfProducts: vnf_products - vnfProductName: vnf_product_name - versions: vnf_product_versions - vnfSoftwareVersion: vnf_product_vnf_software_version - vnfdVersions: vnfd_versions - vnfInstanceIds: vnf_instance_ids - vnfInstanceNames: vnf_instance_names - notificationTypes: filter_notification_types - operationTypes: filter_operation_types - operationStates: filter_operation_states - filter: filter - vnfInstanceSubscriptionFilter: vnf_instance_subscription_filter - vnfdIds: vnfd_ids - vnfProductsFromProviders: vnf_products_from_providers - vnfProvider: vnf_provider - vnfProducts: vnf_products - vnfProductName: vnf_product_name - versions: vnf_product_versions - vnfSoftwareVersion: vnf_product_vnf_software_version - vnfdVersions: vnfd_versions - vnfInstanceIds: vnf_instance_ids - vnfInstanceNames: vnf_instance_names - notificationTypes: filter_notification_types - operationTypes: filter_operation_types - operationStates: filter_operation_states - filter: filter - vnfInstanceSubscriptionFilter: vnf_instance_subscription_filter - vnfdIds: vnfd_ids - vnfProductsFromProviders: vnf_products_from_providers - vnfProvider: vnf_provider - vnfProducts: vnf_products - vnfProductName: vnf_product_name - versions: vnf_product_versions - vnfSoftwareVersion: vnf_product_vnf_software_version - vnfdVersions: vnfd_versions - vnfInstanceIds: vnf_instance_ids - vnfInstanceNames: vnf_instance_names - notificationTypes: filter_notification_types - operationTypes: filter_operation_types - operationStates: filter_operation_states, - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - metadata: instantiated_vnf_info_metadata - metadata: vnf_instance_metadata - vnfInstanceName: vnf_instance_names,344,5
openstack%2Fneutron~882963,openstack/neutron,stable/zed,Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005,[S-RBAC] Fix new policies for FIP PFs APIs,MERGED,2023-05-11 15:01:53.000000000,2023-05-28 21:02:50.000000000,2023-05-28 21:01:43.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-11 15:01:53.000000000', 'files': ['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/039caabfe352049f669323ffc00e74bb6ad5ca93', 'message': ""[S-RBAC] Fix new policies for FIP PFs APIs\n\nDuring transition to the new secure RBAC API policies, we made mistake\nwith policies for FIP PFs by defining them to be available for\nADMIN_OR_PROJECT_MEMBER/READER or FIP owner.\nFirst, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs\ndon't have tenant_id attribute at all and belongs to the owner of FIP always.\nSecond issue was that any FIP owner, even with just READER role could possibly\ne.g. create port forwarding.\n\nTo fix that, this patch changes those API policies to new rules:\nADMIN_OR_PARENT_OWNER_READER\nADMIN_OR_PARENT_OWNER_MEMBER\n\nConflicts:\n    neutron/conf/policies/floatingip_port_forwarding.py\n\nCloses-Bug: #2018989\nChange-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005\n(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)\n(cherry picked from commit 812526a2797770e4febe47d1547f1b383d772ffb)\n""}]",1,882963,039caabfe352049f669323ffc00e74bb6ad5ca93,12,3,1,16688,,,0,"[S-RBAC] Fix new policies for FIP PFs APIs

During transition to the new secure RBAC API policies, we made mistake
with policies for FIP PFs by defining them to be available for
ADMIN_OR_PROJECT_MEMBER/READER or FIP owner.
First, rule PROJECT_MEMBER/READER is not appropriate in this case as FIP PFs
don't have tenant_id attribute at all and belongs to the owner of FIP always.
Second issue was that any FIP owner, even with just READER role could possibly
e.g. create port forwarding.

To fix that, this patch changes those API policies to new rules:
ADMIN_OR_PARENT_OWNER_READER
ADMIN_OR_PARENT_OWNER_MEMBER

Conflicts:
    neutron/conf/policies/floatingip_port_forwarding.py

Closes-Bug: #2018989
Change-Id: Ibff4c4f5b6d020fd598831a8a6e8ec0e2f559005
(cherry picked from commit 4edff4fe8dff102f13e3da0a000c03538755337d)
(cherry picked from commit 812526a2797770e4febe47d1547f1b383d772ffb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/882963/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/conf/policies/floatingip_port_forwarding.py', 'neutron/tests/unit/conf/policies/test_floatingip_port_forwarding.py']",2,039caabfe352049f669323ffc00e74bb6ad5ca93,bug/2018989," 'tenant_id': self.project_id, self.alt_fip = { 'id': uuidutils.generate_uuid(), 'tenant_id': self.alt_project_id, 'project_id': self.alt_project_id} 'floatingip_id': self.alt_fip['id'], 'ext_parent_floatingip_id': self.alt_fip['id']} with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) with mock.patch.object(self.plugin_mock, 'get_floatingip', return_value=self.alt_fip): self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)"," 'project_id': self.project_id, 'project_id': self.alt_project_id, 'floatingip_id': self.fip['id'], 'ext_parent_floatingip_id': self.fip['id']} self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.InvalidScope, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.alt_target)) self.assertTrue( policy.enforce(self.context, 'create_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'get_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'get_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'update_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertTrue( policy.enforce(self.context, 'delete_floatingip_port_forwarding', self.target)) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'create_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'update_floatingip_port_forwarding', self.alt_target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.target) self.assertRaises( base_policy.PolicyNotAuthorized, policy.enforce, self.context, 'delete_floatingip_port_forwarding', self.alt_target)",209,154
openstack%2Fnova~796260,openstack/nova,stable/victoria,I3d1b21ba6eb3f5eb728693197c24b4b315eef821,libvirt: Do not destroy volume secrets during _hard_reboot,MERGED,2021-06-14 11:00:52.000000000,2023-05-28 16:55:30.000000000,2023-05-28 16:54:25.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecb3965deb06030529b57f45c222546bf765a7e9', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n'}, {'number': 2, 'created': '2021-06-17 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac3fc65f5ee62dd60525fce3e8b881e1389cca43', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n'}, {'number': 3, 'created': '2023-05-28 12:17:00.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1aca09b966a64520844d503f634b5f95a395001f', 'message': 'libvirt: Do not destroy volume secrets during _hard_reboot\n\nIa2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that\nresume_state_on_host_boot calls down into _hard_reboot always removing\nvolume secrets rendering that change useless.\n\nThis change seeks to address this by using the destroy_secrets kwarg\nintroduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the\n_hard_reboot method of the libvirt driver to ensure secrets are not\nremoved during a hard reboot.\n\nThis resolves the original issue in bug #1905701 *and* allows admins to\nhard reboot a users instance when that instance has encrypted volumes\nattached with secrets stored in Barbican. This latter use case being\nsomething we can easily test within tempest unlike the compute reboot in\nbug #1905701.\n\nThis change is kept small as it should ideally be backported alongside\nIa2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up\nchanges on master will improve formatting, doc text and introduce\nfunctional tests to further validate this new behaviour of hard reboot\nwithin the libvirt driver.\n\nCloses-Bug: #1905701\nChange-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821\n(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)\n(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)\n'}]",4,796260,1aca09b966a64520844d503f634b5f95a395001f,29,2,3,10135,,,0,"libvirt: Do not destroy volume secrets during _hard_reboot

Ia2007bc63ef09931ea0197cef29d6a5614ed821a unfortunately missed that
resume_state_on_host_boot calls down into _hard_reboot always removing
volume secrets rendering that change useless.

This change seeks to address this by using the destroy_secrets kwarg
introduced by I856268b371f7ba712b02189db3c927cd762a4dc3 within the
_hard_reboot method of the libvirt driver to ensure secrets are not
removed during a hard reboot.

This resolves the original issue in bug #1905701 *and* allows admins to
hard reboot a users instance when that instance has encrypted volumes
attached with secrets stored in Barbican. This latter use case being
something we can easily test within tempest unlike the compute reboot in
bug #1905701.

This change is kept small as it should ideally be backported alongside
Ia2007bc63ef09931ea0197cef29d6a5614ed821a to stable/queens. Follow up
changes on master will improve formatting, doc text and introduce
functional tests to further validate this new behaviour of hard reboot
within the libvirt driver.

Closes-Bug: #1905701
Change-Id: I3d1b21ba6eb3f5eb728693197c24b4b315eef821
(cherry picked from commit 26d65fc882e42b824409dff87ff026dee1debe20)
(cherry picked from commit 9cac2a8822ab81b7a0aa1f5b4472b306e4b68f93)
",git fetch https://review.opendev.org/openstack/nova refs/changes/60/796260/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,ecb3965deb06030529b57f45c222546bf765a7e9,bug/1905701," # assert that no attempt to remove the secret is made when # destroy_secrets=False drvr._host.find_secret.reset_mock() drvr._host.delete_secret.reset_mock() drvr._disconnect_volume( self.context, connection_info, instance, encryption=encryption, destroy_secrets=False ) drvr._host.delete_secret.assert_not_called() @mock.patch('nova.virt.libvirt.host.Host.delete_secret') @mock.patch('nova.virt.libvirt.host.Host.find_secret', new=mock.Mock()) def test_detach_encryptor_skip_secret_removal(self, mock_delete_secret): drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=False ) # Assert that no attempt is made to delete the volume secert mock_delete_secret.assert_not_called() drvr._detach_encryptor( self.context, { 'data': { 'volume_id': uuids.volume_id } }, None, destroy_secrets=True ) # Assert that volume secert is deleted mock_delete_secret.assert_called_once_with('volume', uuids.volume_id) network_info, None, False, destroy_secrets=True) network_info, None, False, destroy_secrets=True) block_device_info=block_device_info, destroy_secrets=False) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._disconnect_volume') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._undefine_domain', new=mock.Mock()) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_vpmems', new=mock.Mock(return_value=None)) def test_cleanup_destroy_secrets(self, mock_disconnect_volume): block_device_info = { 'block_device_mapping': [ { 'connection_info': mock.sentinel.connection_info } ] } instance = objects.Instance(self.context, **self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI()) # Pass destroy_vifs=False and destroy_disks=False as we only care about # asserting the behaviour of destroy_secrets in this test. drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, destroy_secrets=False ) drvr.cleanup( self.context, instance, network_info={}, block_device_info=block_device_info, destroy_vifs=False, destroy_disks=False, ) # Assert that disconnect_volume is called with destroy_secrets=False # and destroy_secrets=True by default mock_disconnect_volume.assert_has_calls([ mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=False ), mock.call( self.context, mock.sentinel.connection_info, instance, destroy_secrets=True ) ]) "," network_info, None, False) network_info, None, False) block_device_info=block_device_info)",124,11
openstack%2Fnova~796912,openstack/nova,stable/victoria,I92e57aefeb909297cf3d4f566a3308aa9312bb02,Trival Change: Remove redundant code in instance delete,MERGED,2021-06-17 17:06:26.000000000,2023-05-28 11:57:51.000000000,2023-05-28 11:56:45.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-17 17:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1387297dcd956f870327b9415cf6ffbbc7f0da3', 'message': 'Trival Change: Remove redundant code in instance delete\n\nChange-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02\n(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)\n'}, {'number': 2, 'created': '2023-05-26 00:43:37.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ab261fae4e05acf56efa58e2544d525f7065efd7', 'message': 'Trival Change: Remove redundant code in instance delete\n\nChange-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02\n(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)\n'}]",2,796912,ab261fae4e05acf56efa58e2544d525f7065efd7,22,3,2,10135,,,0,"Trival Change: Remove redundant code in instance delete

Change-Id: I92e57aefeb909297cf3d4f566a3308aa9312bb02
(cherry picked from commit 0be00cd58af97d6289bbfd19bdf1a2357383614d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/796912/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,a1387297dcd956f870327b9415cf6ffbbc7f0da3,bug/1905701,," disk_dev = vol['mount_device'] if disk_dev is not None: disk_dev = disk_dev.rpartition(""/"")[2]",0,3
openstack%2Fopenstack-ansible-haproxy_server~864784,openstack/openstack-ansible-haproxy_server,master,Iba9156c5b909f7b18599638db4471bab12794f0e,Fix service-redirect.j2 template,MERGED,2022-11-16 20:16:33.000000000,2023-05-28 08:54:23.000000000,2023-05-28 08:53:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-16 20:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/1f894e4793e12b28c495caa005a3baaaece581b7', 'message': ""Change 'vip_bind' to 'vip_address' in templates/service-redirect.j2\n\nWe have merged a broken patch [1].\n`vip_bind` is a dict, we want to use `vip_address` instead.\n\nAdditionally I modified few comments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 2, 'created': '2022-11-25 17:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/b6ea86c3269a33c4687b3e0071daf84eb6d0f175', 'message': ""Change 'vip_bind' to 'vip_address' in templates/service-redirect.j2\n\nWe have merged a broken patch [1].\n`vip_bind` is a dict, we want to use `vip_address` instead.\n\nAdditionally I modified few comments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 3, 'created': '2022-11-25 23:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/86f0a34f02f7cca97c4e8947fb667b14e4dd38b0', 'message': ""Change 'vip_bind' to 'vip_address' in templates/service-redirect.j2\n\nWe have merged a broken patch [1].\n`vip_bind` is a dict, we want to use `vip_address` instead.\n\nAdditionally I modified few comments.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/829899\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 4, 'created': '2023-05-25 16:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/1710fcf6ab38a59de70002d20c0a3160483b8872', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 5, 'created': '2023-05-25 22:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/2e013ce3187beefb20d2a0fb9ecd3172c09a842d', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}, {'number': 6, 'created': '2023-05-25 22:37:29.000000000', 'files': ['templates/service-redirect.j2', 'templates/service.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e', 'message': ""Fix service-redirect.j2 template\n\nThis change fixes service-redirect.j2 template that was not working so\nfar, mainly by replacing:\n- 'vip_bind' with 'vip_addres'\n- 'item' with 'service'\n\nAdditionally, I removed `haproxy_tcp_upgrade_backend` support because\nit's not really needed after haproxy separated service config was\nimplemented.\n\nI also changed variable name `haproxy_tcp_upgrade_frontend` to\n`haproxy_accept_both_protocols` to better describe what exactly it does.\nRelease note is not needed as ``haproxy_tcp_upgrade_frontend` was not\nworking properly before.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445\n\nChange-Id: Iba9156c5b909f7b18599638db4471bab12794f0e\n""}]",12,864784,c1be49a95c1ce4ad0122c7d97e48d8c143d10d0e,31,4,6,32666,,,0,"Fix service-redirect.j2 template

This change fixes service-redirect.j2 template that was not working so
far, mainly by replacing:
- 'vip_bind' with 'vip_addres'
- 'item' with 'service'

Additionally, I removed `haproxy_tcp_upgrade_backend` support because
it's not really needed after haproxy separated service config was
implemented.

I also changed variable name `haproxy_tcp_upgrade_frontend` to
`haproxy_accept_both_protocols` to better describe what exactly it does.
Release note is not needed as ``haproxy_tcp_upgrade_frontend` was not
working properly before.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/884445

Change-Id: Iba9156c5b909f7b18599638db4471bab12794f0e
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/84/864784/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/service-redirect.j2', 'templates/service.j2']",2,1f894e4793e12b28c495caa005a3baaaece581b7,tls-backend,{# # TODO(damiandabrowski): Remove 'if' section after 2023.1(Antelope) release. It's only temporary for smooth upgrade purposes. #},{# TODO: remove if and section inside if after HTTPS upgrade #},8,8
openstack%2Fopenstack-helm~884432,openstack/openstack-helm,master,I2687a6c176c6b6448396244c3650e688a14967fa,Add Zed test jobs,MERGED,2023-05-25 18:07:53.000000000,2023-05-28 07:09:40.000000000,2023-05-28 07:07:39.000000000,"[{'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-05-25 18:07:53.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/638cd297b24ec1263ca235a5fee78dff47de7e7f', 'message': 'Add Zed test jobs\n\nChange-Id: I2687a6c176c6b6448396244c3650e688a14967fa\n'}]",1,884432,638cd297b24ec1263ca235a5fee78dff47de7e7f,8,3,1,3009,,,0,"Add Zed test jobs

Change-Id: I2687a6c176c6b6448396244c3650e688a14967fa
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/884432/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,638cd297b24ec1263ca235a5fee78dff47de7e7f,, name: openstack-helm-cinder-zed-ubuntu_focal parent: openstack-helm-cinder vars: osh_params: openstack_release: zed container_distro_name: ubuntu container_distro_version: focal - job: name: openstack-helm-compute-kit-zed-ubuntu_focal parent: openstack-helm-compute-kit nodeset: openstack-helm-single-32GB-node vars: osh_params: openstack_release: zed container_distro_name: ubuntu container_distro_version: focal - job:,,19,0
openstack%2Fopenstack-ansible-rabbitmq_server~879732,openstack/openstack-ansible-rabbitmq_server,master,Ifac1481b459707b289a9804aa4240ebbf55f6ab7,Switch rabbitmq repo back to packagecloud,MERGED,2023-04-06 09:46:14.000000000,2023-05-28 00:32:41.000000000,2023-04-10 15:13:48.000000000,"[{'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-04-06 09:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e3e69d8891d01a888b0efcabd58277375f55c888', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 2, 'created': '2023-04-07 07:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/7c0a6e96aa1f7a89e16e23397fd0ae9479ae7b95', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 3, 'created': '2023-04-07 12:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0c606c9876047457d2af7909cfa65bf8faeec114', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 4, 'created': '2023-04-07 13:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0a08b945294ab034c9006d547eb01b82cd7c5971', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 5, 'created': '2023-04-07 14:45:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/576a091f8ed2946b4762d2bac811d768c2f27911', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 6, 'created': '2023-04-07 15:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/12015a9d9d4c18dbdffe79338c87553b0f3be2f9', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 7, 'created': '2023-04-07 16:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/0b64677f0006aae827c7fbe5505e98f99fae41b2', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}, {'number': 8, 'created': '2023-04-07 17:16:46.000000000', 'files': ['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/84d88c5a265e2f783c7daa15d71251f45bcfc4b8', 'message': ""Switch rabbitmq repo back to packagecloud\n\nDue to decision made during PTG, we're switching back source for\nRabbitMQ to packagcloud, since cloudsmith does rotate versions\ntoo aggressively and we can't keep up with them.\nWith that we're leaving erlang source to be cloudsmith, since\nthere're simply no other good sources for Ubuntu/Debian.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671\nChange-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7\n""}]",2,879732,84d88c5a265e2f783c7daa15d71251f45bcfc4b8,25,4,8,28619,,,0,"Switch rabbitmq repo back to packagecloud

Due to decision made during PTG, we're switching back source for
RabbitMQ to packagcloud, since cloudsmith does rotate versions
too aggressively and we can't keep up with them.
With that we're leaving erlang source to be cloudsmith, since
there're simply no other good sources for Ubuntu/Debian.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/879671
Change-Id: Ifac1481b459707b289a9804aa4240ebbf55f6ab7
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/32/879732/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'files/gpg/4D206F89', 'vars/debian.yml', 'files/gpg/C072C960']",4,e3e69d8891d01a888b0efcabd58277375f55c888,,,-----BEGIN PGP PUBLIC KEY BLOCK----- Version: GnuPG v2 mQGNBGAyemoBDADMwGfwPLzN0G0TOoiJdboRZOHUk51mtkBemD+JX2XiTvykjj4p M5MyRfGKV5YFRw5IkFXqYaNP/dqCAbWkfQG1aNpzPVIqlwwOkNEnNR2dKpiEpiq9 Q53HbAjMa9eHxvWN65MtvDIXGUIoupVMZAbycsYD9+fZWJrQgRlSb/Lk9cCvYKoy dXsfS1TOmglI3yFRgSvr+CM54gIOKpqWJVE+u2ZFq2rw9yh0GQzcOLXmrMStfbla akgqe3jpdXKIlI4tSoRaOsIFUjc1DeyZcEJGZyKlo4h1cgVNha8HDiMB9a7bdTCm W06ZbUrEz1vTmyFN6WFsLuZ4MRiWkuz0RAA9ePGMYz8DsQoMqusaoFAoQkgJQH4d MF+/3MFnK6CXMtkDYqwstcSDqtzbgvW+sOCzA/WGUzw37nwoh+mxIctVPxYsuipT aX8O9T449mQ61AOFw9MoTRSnf0XNfFUlkh9fQlUK/BWxM0X7A4UUtdMcZC54LsMF KHDCC4WHeOpDy1sAEQEAAbRFQ2xvdWRzbWl0aCBQYWNrYWdlIChyYWJiaXRtcS9y YWJiaXRtcS1zZXJ2ZXIpIDxzdXBwb3J0QGNsb3Vkc21pdGguaW8+iQG3BBMBCAAh BQJgMnpqAhsvBQsJCAcDBRUKCQgLBRYCAwEAAh4BAheAAAoJEJ9Fh/ImIINCM+4M AJmb/bXlShUTN4J1XCSOoUk4rBe0jBb6YbvB0YJrD1FZr/nfwV08sqCxfBvXR41W 9PwCCPYKUXo1K4TxehfOR4RpiHou+YxnqMiZjLKB9nSTnGj7kSJ8OLEcqUrgV/Uv Fk0w2IGQf25u6D6NumKuk6CElFxBG5OzBXtBAxUSLzQ7Xz/3IuqaPuA8KPRD25s8 yDjj2auyZxlfaD+wUNkqaLQ9quXd8IJuUqvz9wNbOItooWypEk2tX48w5i+wd1pP AW+NjKuwd0G88nO6J+7oFYXcsh7n3nblJZT0bmUZC9M6kL9llt8Vy/FBkHnP3dX3 +6EfEXeXPhVJTI7nkNP64XssO4zHg9vQd3rLd6RCfUnA/NjEXvpR6pjoEsPMlD99 8hsK1c0AhAntSsB2sky7E5p7Rzq8X/SM8aZGDmkitkN2VdnAQsJP0UVq7FnpqBFS pMxOxGveS5d5sjU3LoHPTg1uOcARcsOH245szVBPtklXOzg7Fazcc+BHmjYmrgeu QQ== =CfXb -----END PGP PUBLIC KEY BLOCK----- ,73,33
openstack%2Fnova~796259,openstack/nova,stable/victoria,I856268b371f7ba712b02189db3c927cd762a4dc3,virt: Add destroy_secrets kwarg to destroy and cleanup,MERGED,2021-06-14 11:00:52.000000000,2023-05-27 22:20:30.000000000,2023-05-27 22:19:25.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-14 11:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/813bee5a9df762a08c393b269b9b0d32096183d8', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n'}, {'number': 2, 'created': '2021-06-17 17:06:26.000000000', 'files': ['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f805779363b9933386eee4222de15466c547ba38', 'message': 'virt: Add destroy_secrets kwarg to destroy and cleanup\n\nThis change adds a simple optional kwarg to the virt driver signature of\ndestroy and cleanup to allow for callers to control when secrets should\nbe removed.\n\nChange-Id: I856268b371f7ba712b02189db3c927cd762a4dc3\n(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)\n(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)\n'}]",9,796259,f805779363b9933386eee4222de15466c547ba38,37,2,2,10135,,,0,"virt: Add destroy_secrets kwarg to destroy and cleanup

This change adds a simple optional kwarg to the virt driver signature of
destroy and cleanup to allow for callers to control when secrets should
be removed.

Change-Id: I856268b371f7ba712b02189db3c927cd762a4dc3
(cherry picked from commit 1cc52fd2f22ec37194519e473c88260bf90a3c8c)
(cherry picked from commit f2ba67184d3801fdca4a33aa744a3471bcd21de2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/796259/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hyperv/driver.py', 'nova/virt/ironic/driver.py', 'nova/virt/libvirt/driver.py', 'nova/virt/fake.py', 'nova/virt/vmwareapi/driver.py', 'nova/virt/driver.py']",6,813bee5a9df762a08c393b269b9b0d32096183d8,bug/1905701," destroy_disks=True, destroy_secrets=True): :param destroy_secrets: Indicates if secrets should be destroyed destroy_disks=True, migrate_data=None, destroy_vifs=True, destroy_secrets=True): :param destroy_vifs: Indicates if vifs should be unplugged :param destroy_secrets: Indicates if secrets should be destroyed"," destroy_disks=True): destroy_disks=True, migrate_data=None, destroy_vifs=True):",23,11
openstack%2Fhorizon~883922,openstack/horizon,stable/victoria,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:53.000000000,2023-05-27 19:03:44.000000000,2023-05-27 19:01:03.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c115fae8fd98c63a64f2dfb2a6a12228df382933', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:20:23.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ec27e19c0456053723b304c7a9fb7148954fa905', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,883922,ec27e19c0456053723b304c7a9fb7148954fa905,13,3,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/883922/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,c115fae8fd98c63a64f2dfb2a6a12228df382933,883922,, - openstack/xstatic-font-awesome,0,1
openstack%2Fhorizon~883919,openstack/horizon,stable/yoga,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:08.000000000,2023-05-27 19:03:33.000000000,2023-05-27 19:01:01.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5c9b3ad620be9b5b9668e4f178b7921ad19fa0f2', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:08:33.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f14a54262aa08bba65977262bdf8b8f57f717848', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,883919,f14a54262aa08bba65977262bdf8b8f57f717848,13,3,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/19/883919/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,5c9b3ad620be9b5b9668e4f178b7921ad19fa0f2,883919,, - openstack/xstatic-font-awesome,0,1
openstack%2Fopenstack-ansible-specs~822850,openstack/openstack-ansible-specs,master,I4b9d28c1e70d2aba39432f27d550b97691493cc2,Add proposal for enabling TLS on all internal communications,MERGED,2021-12-23 16:50:36.000000000,2023-05-27 13:19:57.000000000,2023-05-27 13:18:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}, {'_account_id': 34411}]","[{'number': 1, 'created': '2021-12-23 16:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/557f4e15825af415d70e1cc1cb9442e13635bbfe', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 2, 'created': '2022-02-21 09:41:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/b09ecc30f18a57ad7ece220ba01b917e9ae8be35', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 3, 'created': '2022-02-21 09:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/2f85850386cedfb2eaf4dade0f1bc428b29f9743', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 4, 'created': '2022-11-16 19:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/f4a53e1f7ca5777aed6ba1b8dd7c542bc3255cb5', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 5, 'created': '2022-11-16 20:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/02a3515f3e54ab104b232e202268724020917083', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 6, 'created': '2022-11-16 20:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/3cb6444361c9c1d11c94143bbe73d0262fb1ac6b', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 7, 'created': '2023-04-04 08:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/005e97c4d0bcd27459774fedba0c2b1008cb780a', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 8, 'created': '2023-04-04 08:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/9d10d570176bbafeae37a12d12f7cf631d357b20', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 9, 'created': '2023-05-25 17:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/9976555a36d103005bfd35a4814f966215e4bf6b', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 10, 'created': '2023-05-25 17:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/4190e49cfc42687167fe3e88779767773c10ac5b', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}, {'number': 11, 'created': '2023-05-25 22:41:55.000000000', 'files': ['doc/source/index.rst', 'specs/zed/internal-tls.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/8bc6eb20bca277f4b8b1e393671d8353a0b9a59f', 'message': 'Add proposal for enabling TLS on all internal communications\n\nChange-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2\n'}]",12,822850,8bc6eb20bca277f4b8b1e393671d8353a0b9a59f,37,4,11,31749,,,0,"Add proposal for enabling TLS on all internal communications

Change-Id: I4b9d28c1e70d2aba39432f27d550b97691493cc2
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/50/822850/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'README.rst', 'specs/yoga/internal-tls.rst']",3,557f4e15825af415d70e1cc1cb9442e13635bbfe,tls-backend,"Enabling TLS on Internal Communications ####################################### :date: 2021-12-08 12:00 :tags: ssl, tls, certificates, https, security To improve the security of an OpenStack-Ansible deployments all traffic, both internal and external should be encrypted. There is already support for encrypting external traffic from all public endpoints that reside behind haproxy, but this is not the case for all internal traffic. Problem description =================== This problem can broadly be split into 3 sections: * Securing internal communications to the internal haproxy VIP * Securing internal communications from haproxy to backends * Securing internal communications between services such as rabbitmq, galera, nova live migration and noVNC Securing internal communications to the internal haproxy VIP ------------------------------------------------------------ Support for using TLS on in the internal haproxy VIP is already present in haproxy role and is enabled for the AIO deployment, but not enabled for new or upgrades of existing deployments. There are no issues with enabling TLS on the internal haproxy VIP for new deployments, but for existing deployments an upgrade process needs to be implemented. The reason an upgrade process is required is because currently if you enabled TLS on the internal haproxy VIP it would cause downtime, until each client is configured to use HTTPS instead of HTTP. Problems to resolve: * Haproxy configuration to allow TLS to be enabled without downtime of API's on existing deployments * OpenStack-Ansible upgrade process and upgrade scripts to enable TLS without downtime of API's on existing deployments Securing internal communications from haproxy to backends --------------------------------------------------------- Securing the communications from haproxy to the services backends is as important as securing communication to the internal haproxy VIP. A large number of the services used with haproxy use UWSGI, meaning once TLS support is added to the UWSGI role there is only configuration to enable TLS and the generation of certificates required for each of the services. For services that do not use USWGI, such a noVNC Proxy further investigation is required. As with enabling TLS on the internal haproxy VIP for new deployments, there is no issue with enabling TLS from haproxy to backends, but an upgrade process for existing deployments is required. The reason an upgrade process is required is because if haproxy expects TLS backends, but TLS has not been enabled on the service yet the connection will fail and if you enable TLS on the service the connection will fail as haproxy is not configured for TLS. Problems to resolve: * Add TLS support to UWSGI * Add configuration to role for each service that use UWSGI to enable TLS * Add configuration to role for remaining services that do not use UWSGI * Add configuration to OpenStack-Ansible to enable TLS on backend of each service * OpenStack-Ansible upgrade process and upgrade scripts to enable TLS on backends without downtime of API's on existing deployments Securing internal communications between services ------------------------------------------------- Many OpenStack services communicate directly with each other and do not use haproxy, these communications should also be secured. The work to secure these communications is already complete and enabled in the current release of OpenStack-Ansible, for the following services: * RabbitMQ * Galera * Nova live migrations * noVNC (noVNC to compute nodes). Problems to resolve: * Are there any services missing from the list that do not go via haproxy Proposed change =============== Enable TLS on all internal communications. Internal communications could be encrypted using a self-signed certificate, but as OpenStack-Ansible has support for issuing certificates from a self-signed private certificate authority using the ansible-role-pki, this should be used instead as it both encrypts the data and allows a client to trust the server. In all cases a user should be able to override the certificates issued by a self-signed private certificate authority, allowing them to provide their own certificate which may have been issued by a publicly trusted certificate authority. Alternatives ------------ None, internal communications should be protected and TLS is an appropriate and well used solution. Playbook/Role impact -------------------- Roles: * Support for generating certificates using the ansible-role-pki role will be added to each service * Configuring to enable/disable TLS will be added Upgrade impact -------------- Enabling TLS could be performed during or post upgrade. As discussed in the problem description section, enabling TLS on the internal haproxy VIP and service backends for existing deployments will cause downtime during an upgrade if enabled. The reason it will cause downtime is that for both communications from internal client => internal haproxy VIP (server) and haproxy (client) => openstack service backend (server), both the client and server need to be updated to use TLS at the same time. To mitigate this issue I propose an intermediate step during an upgrade, where haproxy will accept both HTTP and HTTPS communications, it will also handle backends that speak HTTP and HTTPS. This would be achieved by adding a new TCP frontend to haproxy that accepts both HTTP and HTTPS traffic and redirects to correct frontend for each, and means that openstack clients can carry on using the same well known port and haproxy looks after redirecting them to the correct frontend; HTTP or HTTPS. For backends a duplicate set of backends that have HTTPS enabled are configured and are put into maintenance mode until the backend server has TLS enabled, after which the HTTP backend can be put into maintenance mode and then removed. After TLS has been enabled and its function verified these changes can be reverted. The other issue to be aware of is that haproxy role only supports presenting a single certificate on all VIP’s, both internal and external. This means that if TLS is enabled on haproxy's internal VIP, internal clients must be able to trust the presented certificate if it is the same as the external certificate. The exception to this rule is if you use certbot, which can present a separate certificate on external interfaces. Security impact --------------- This change will encrypt all internal communications, securing any sensitive data being sent, therefore security is improved. Performance impact ------------------ Implementing TLS on all internal communications will lead to a small increase in the processing requirements and latency of servers and clients, but the increased security outweighs these. End user impact --------------- None, if the deployment is done correctly. Deployer impact --------------- * Deployer's will need to add monitoring of certificate expiry dates and renew is necessary, if a certificates expires connections between services will be dropped. * This change should have no impact to deployer's of new deployments, OpenStack-Ansible will create the certificates, deploy them and configure all services to use them. * This change will impact existing deployments and an upgrade process will be implemented to help minimise and possibly prevent this. Developer impact ---------------- No impact, other that traffic will be encrypted meaning tools like tcpdump may provide less useful as they will not be able to the see the contents of packets. Dependencies ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: JamesGibo <James.Gibson@bbc.co.uk> Work items ---------- * Enable TLS support to UWSGI role * Enable TLS backend support to haproxy role * Add configuration to openstack services that use UWSGI to create TLS certificate and enable TLS on UWSGI * Add configuration to remaining openstack services that do not use USWGI to enable TLS support * Add configuration in OpenStack-Ansible to allow TLS for all service to be enabled on both the server and haproxy * Update documentation on TLS configuration options * Add documentation for upgrade procedure * Add script to automate as much as possible of the upgrade Testing ======= These changes can be tested using the existing setup, but manual testing of upgrade procedure will be required to make this is does not cause any downtime, as the automated testing only confirms a working upgrade at the end. Documentation impact ==================== As this change will add extra configuration options these will need to be documented. The upgrade procedure for existing deployments will also have be documented, as if this functionality is not deployed correctly it may cause system distribution. References ========== [1] https://review.opendev.org/c/openstack/openstack-ansible-galera_server/+/807717 ",,279,1
openstack%2Fhorizon~883923,openstack/horizon,stable/ussuri,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:04:25.000000000,2023-05-27 09:46:14.000000000,2023-05-27 09:44:33.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a4c56e129de2cc24da58424ab21300dbde6e969a', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-24 04:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/122de1a590531d7874170701a0b920bd87fe99f8', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 3, 'created': '2023-05-24 04:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a1e929998d056c6eb21d71be0c2bb2716e70434c', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 4, 'created': '2023-05-25 15:55:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/76e578b326b95f39adb2db682614b82686401084', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",7,883923,76e578b326b95f39adb2db682614b82686401084,20,3,4,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

[1] https://github.com/xstatic-py/xstatic-font-awesome

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/23/883923/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,a4c56e129de2cc24da58424ab21300dbde6e969a,883923,<<<<<<< HEAD (3e4574 Disable form auto-complete on login form) ======= - job: name: horizon-integration-tests-xstatic-master parent: horizon-integration-tests required-projects: &xstatic-projects - openstack/horizon - openstack/xstatic-angular - openstack/xstatic-angular-bootstrap - openstack/xstatic-angular-gettext - openstack/xstatic-angular-lrdragndrop - openstack/xstatic-angular-smart-table - openstack/xstatic-bootstrap-datepicker - openstack/xstatic-bootstrap-scss - openstack/xstatic-bootswatch - openstack/xstatic-d3 - openstack/xstatic-hogan - openstack/xstatic-jasmine - openstack/xstatic-jquery-migrate - openstack/xstatic-jquery.quicksearch - openstack/xstatic-jquery.tablesorter - openstack/xstatic-jsencrypt - openstack/xstatic-mdi - openstack/xstatic-rickshaw - openstack/xstatic-roboto-fontface - openstack/xstatic-spin - x/xstatic-angular-fileupload - job: name: horizon-tox-py36-xstatic-master parent: openstack-tox-py39 required-projects: *xstatic-projects - job: name: horizon-nodejs18-run-test-xstatic-master parent: horizon-nodejs18-run-test required-projects: *xstatic-projects pre-run: playbooks/npm-test-xstatic-master/pre.yaml >>>>>>> CHANGE (a01dc7 Remove usage of openstack/xstatic-font-awesome) ,,39,0
openstack%2Fdesignate~884560,openstack/designate,master,I2ef28eeb285462dc12b13de80cdab06b5cfb929b,Fix create zone export RBAC,MERGED,2023-05-26 23:59:36.000000000,2023-05-27 07:13:15.000000000,2023-05-27 07:12:06.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-26 23:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/77dc28fa705ee4abfd473105063ec94e8aedcd42', 'message': 'Fix create zone export RBAC\n\nPreviously the zone export create API relied on the zone lookup to fail if the\nproject did not have permission to export the zone. Because of this the RBAC\ntest was simply if the project_id was valid.\nWith shared zones, administrators may not want to allow exports of a zone that\nis shared with a project. This patch corrects the RBAC to check for zone\nownership before creating the zone export. This way a policy can be created to\nallow zone exports for projects that have a zone share.\n\nChange-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b\n'}, {'number': 2, 'created': '2023-05-27 00:11:13.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/48826ffa96b0ed358ea814657d31fb5ba28966ee', 'message': 'Fix create zone export RBAC\n\nPreviously the zone export create API relied on the zone lookup to fail if the\nproject did not have permission to export the zone. Because of this the RBAC\ntest was simply if the project_id was valid.\nWith shared zones, administrators may not want to allow exports of a zone that\nis shared with a project. This patch corrects the RBAC to check for zone\nownership before creating the zone export. This way a policy can be created to\nallow zone exports for projects that have a zone share.\n\nChange-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b\n'}]",2,884560,48826ffa96b0ed358ea814657d31fb5ba28966ee,13,3,2,11628,,,0,"Fix create zone export RBAC

Previously the zone export create API relied on the zone lookup to fail if the
project did not have permission to export the zone. Because of this the RBAC
test was simply if the project_id was valid.
With shared zones, administrators may not want to allow exports of a zone that
is shared with a project. This patch corrects the RBAC to check for zone
ownership before creating the zone export. This way a policy can be created to
allow zone exports for projects that have a zone share.

Change-Id: I2ef28eeb285462dc12b13de80cdab06b5cfb929b
",git fetch https://review.opendev.org/openstack/designate refs/changes/60/884560/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,77dc28fa705ee4abfd473105063ec94e8aedcd42,, target = {constants.RBAC_PROJECT_ID: zone.tenant_id} else: target = {'tenant_id': zone.tenant_id}, target = {constants.RBAC_PROJECT_ID: context.project_id} else: target = {'tenant_id': context.project_id},2,2
openstack%2Fhorizon~878437,openstack/horizon,stable/zed,Ib2f1aaae87820e8d5c4a6c9b01b6a6e9a5552952,fix(swift): allow object creation,MERGED,2023-03-24 06:07:47.000000000,2023-05-27 01:57:02.000000000,2023-05-27 01:55:56.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-03-24 06:07:47.000000000', 'files': ['openstack_dashboard/static/app/core/openstack-service-api/swift.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d4ff4f3c21cf260d5c96c999711f34893fbe46d9', 'message': ""fix(swift): allow object creation\n\nIt is currently not possible to create any new objects inside\nSwift as you'd always get an error that the new object name\nalready exists all the time.\n\nThis fixes that issue and enables you to upload files again.\n\nCloses-Bug: #1993005\nRelated-Change-Id: Idfb90a327e94ccaa3263aaaad1d6d52fa46312f4\nChange-Id: Ib2f1aaae87820e8d5c4a6c9b01b6a6e9a5552952\n(cherry picked from commit a327842a25f904397be0c3c141ada1f9ac8050cd)\n""}]",4,878437,d4ff4f3c21cf260d5c96c999711f34893fbe46d9,16,2,1,13252,,,0,"fix(swift): allow object creation

It is currently not possible to create any new objects inside
Swift as you'd always get an error that the new object name
already exists all the time.

This fixes that issue and enables you to upload files again.

Closes-Bug: #1993005
Related-Change-Id: Idfb90a327e94ccaa3263aaaad1d6d52fa46312f4
Change-Id: Ib2f1aaae87820e8d5c4a6c9b01b6a6e9a5552952
(cherry picked from commit a327842a25f904397be0c3c141ada1f9ac8050cd)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/878437/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/openstack-service-api/swift.service.js', 'openstack_dashboard/static/app/core/openstack-service-api/swift.service.spec.js']",2,d4ff4f3c21cf260d5c96c999711f34893fbe46d9,,, expect(promise.catch).toHaveBeenCalledWith(angular.noop);,1,3
openstack%2Fneutron~883269,openstack/neutron,master,Ic3e06460ac8294bfa882991eb678878b238735d7,Update api extension for default sg rules API,MERGED,2023-05-16 14:20:06.000000000,2023-05-27 01:37:21.000000000,2023-05-27 01:36:17.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-05-16 14:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cfa4c2659267baa552ab7a75676c0d1fb90e1211', 'message': 'Update api extension for default sg rules API\n\nThis patch adds two new attributes to the default SG rules API:\n* ""used_in_non_default_security_group"",\n* ""remote_address_group_id""\n\nThose new attributes are descibed in the proposed update to the related\nspec in [1] and [2].\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267\n[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268\n\nRelated-bug: #1983053\nChange-Id: Ic3e06460ac8294bfa882991eb678878b238735d7\n'}, {'number': 2, 'created': '2023-05-22 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b80575d9c2bc4d1aa9bf4ab4c797697481504284', 'message': 'Update api extension for default sg rules API\n\nThis patch adds two new attributes to the default SG rules API:\n* ""used_in_non_default_security_group"",\n* ""remote_address_group_id""\n\nThose new attributes are descibed in the proposed update to the related\nspec in [1] and [2].\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267\n[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268\n\nRelated-bug: #1983053\nChange-Id: Ic3e06460ac8294bfa882991eb678878b238735d7\n'}, {'number': 3, 'created': '2023-05-25 10:48:48.000000000', 'files': ['neutron/extensions/security_groups_default_rules.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a72e97ddff1c2a13cc3dc7636b927bd28bdf2ae3', 'message': 'Update api extension for default sg rules API\n\nThis patch adds two new attributes to the default SG rules API:\n* ""used_in_non_default_security_group"",\n* ""remote_address_group_id""\n\nThose new attributes are descibed in the proposed update to the related\nspec in [1] and [2].\n\n[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267\n[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268\n\nRelated-bug: #1983053\nChange-Id: Ic3e06460ac8294bfa882991eb678878b238735d7\n'}]",5,883269,a72e97ddff1c2a13cc3dc7636b927bd28bdf2ae3,31,5,3,11975,,,0,"Update api extension for default sg rules API

This patch adds two new attributes to the default SG rules API:
* ""used_in_non_default_security_group"",
* ""remote_address_group_id""

Those new attributes are descibed in the proposed update to the related
spec in [1] and [2].

[1] https://review.opendev.org/c/openstack/neutron-specs/+/883267
[2] https://review.opendev.org/c/openstack/neutron-specs/+/883268

Related-bug: #1983053
Change-Id: Ic3e06460ac8294bfa882991eb678878b238735d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/883269/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/extensions/security_groups_default_rules.py'],1,cfa4c2659267baa552ab7a75676c0d1fb90e1211,bug/1983053," 'remote_address_group_id': { 'allow_post': True, 'allow_put': False, 'default': None, 'is_visible': True, 'is_sort_key': True, 'is_filter': True}, 'used_in_non_default_sg': { 'allow_post': True, 'allow_put': False, 'convert_to': converters.convert_to_boolean, 'is_visible': True, 'is_filter': True},",,8,0
openstack%2Fos-net-config~877506,openstack/os-net-config,stable/wallaby,I6445685b00ec98788426d0786e78c6d3750c9910,os-net-config runs ethtool command without restarting interfaces,MERGED,2023-03-16 06:28:58.000000000,2023-05-26 23:43:27.000000000,2023-05-26 23:42:32.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-16 06:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b8642e1418460168e0e8512d3f7b6e7e91cb4795', 'message': 'os-net-config runs ethtool command without restarting interfaces\n\nPreviously, adding or modifying ETHTOOL_OPTS causes restarting\ninterfaces. It causes a downtime though ETHTOOL_OPTS can be applied\nwithout restarting interfaces.\nThis change will apply ETHTOOL_OPTS via ethtool command when the option\nis added or modified without restarting interfaces.\n\nChanges from Master branch:\nThe bindep.txt file is removed as its already present in stable/zed branch.\n\nCloses-Bug: #1800237\nChange-Id: I6445685b00ec98788426d0786e78c6d3750c9910\n(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)\n(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)\n'}, {'number': 2, 'created': '2023-04-05 05:36:14.000000000', 'files': ['bindep.txt', 'os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0e81aeaf8fe5ed8d0cd5e1da25c383eb9ec9a2a3', 'message': 'os-net-config runs ethtool command without restarting interfaces\n\nPreviously, adding or modifying ETHTOOL_OPTS causes restarting\ninterfaces. It causes a downtime though ETHTOOL_OPTS can be applied\nwithout restarting interfaces.\nThis change will apply ETHTOOL_OPTS via ethtool command when the option\nis added or modified without restarting interfaces.\n\nChanges from Master branch:\nThe bindep.txt file is removed as its already present in stable/zed branch.\n\nCloses-Bug: #1800237\nChange-Id: I6445685b00ec98788426d0786e78c6d3750c9910\n(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)\n(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)\n'}]",7,877506,0e81aeaf8fe5ed8d0cd5e1da25c383eb9ec9a2a3,17,3,2,25613,,,0,"os-net-config runs ethtool command without restarting interfaces

Previously, adding or modifying ETHTOOL_OPTS causes restarting
interfaces. It causes a downtime though ETHTOOL_OPTS can be applied
without restarting interfaces.
This change will apply ETHTOOL_OPTS via ethtool command when the option
is added or modified without restarting interfaces.

Changes from Master branch:
The bindep.txt file is removed as its already present in stable/zed branch.

Closes-Bug: #1800237
Change-Id: I6445685b00ec98788426d0786e78c6d3750c9910
(cherry picked from commit 1b2987ca3f66cbdc95b8fa1d8808b01f1b10cce5)
(cherry picked from commit b2e7d956ba8bb619e89cb20b8e1d94d2662ce305)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/06/877506/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",3,b8642e1418460168e0e8512d3f7b6e7e91cb4795,bug#1800237-stable/zed-stable/wallaby," ""ONBOOT"", ""ETHTOOL_OPTS"" def ethtool_apply_command(self, device_name, filename, data): """"""Return list of commands needed to implement changes. Given ifcfg data for an interface, return commands required to apply the configuration using 'ethtool' commands. :param device_name: The name of the int, bridge, or bond :type device_name: string :param filename: The ifcfg-<int> filename. :type filename: string :param data: The data for the new ifcfg-<int> file. :type data: string :returns: commands (commands to be run) """""" previous_cfg = common.get_file_data(filename) file_values = self.parse_ifcfg(previous_cfg) data_values = self.parse_ifcfg(data) logger.debug(""File values:\n%s"" % file_values) logger.debug(""Data values:\n%s"" % data_values) changes = self.enumerate_ifcfg_changes(file_values, data_values) commands = [] if ""ETHTOOL_OPTS"" in changes: if changes[""ETHTOOL_OPTS""] == ""added"" or \ changes[""ETHTOOL_OPTS""] == ""modified"": for command_opts in data_values[""ETHTOOL_OPTS""].split(';'): if re.match(r'\s*-+\w+-*\w* ', command_opts): if device_name or ""${DEVICE}"" or ""$DEVICE"" \ in command_opts: commands.append(""%s"" % command_opts) else: msg = (""Assigned interface name to \ ETHTOOL_OPTS is invalid %s"" % device_name) raise utils.InvalidInterfaceException(msg) else: commands.append(""-s %s %s"" % (device_name, command_opts)) return commands ethtoolcmd = utils.ethtool_path() commands = self.ethtool_apply_command(interface[0], interface[1], interface[2]) if commands is not None: for command in commands: try: args = command.split() args = [interface[0] if item in [""${DEVICE}"", ""$DEVICE""] else item for item in args] self.execute('Running ethtool %s' % command, ethtoolcmd, *args) except Exception as e: logger.warning(""Error in 'ethtool %s', restarting %s:\ \n%s)"" % (command, interface[0], str(e))) restart_interfaces.append(interface[0]) restart_interfaces.extend( self.child_members(interface[0])) break "," ""ONBOOT""",164,1
openstack%2Fcharm-nova-compute~880746,openstack/charm-nova-compute,stable/victoria,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:53:56.000000000,2023-05-26 22:31:04.000000000,2023-05-26 18:07:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:53:56.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/777d3dea842f03b83547aa5d3e05f9f805c9d137', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)\n(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)\n'}]",6,880746,777d3dea842f03b83547aa5d3e05f9f805c9d137,23,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
(cherry picked from commit 649c9a7737e13d95028a38a5b8650903b9f5510e)
(cherry picked from commit d16dadfab943235bc17f0a1b697132fedeede063)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/46/880746/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,777d3dea842f03b83547aa5d3e05f9f805c9d137,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fkolla-ansible~846069,openstack/kolla-ansible,master,Icc5765d1eb80248a08a5669ef3bd3412e8371515,DNM: Test zuul jobs with ansible-version 5,ABANDONED,2022-06-15 23:14:20.000000000,2023-05-26 22:24:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-15 23:14:20.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b164150907a9a9ae486f868f9f2f121a2d0ffcf8', 'message': 'DNM: Test zuul jobs with ansible-version 5\n\nChange-Id: Icc5765d1eb80248a08a5669ef3bd3412e8371515\n'}]",0,846069,b164150907a9a9ae486f868f9f2f121a2d0ffcf8,4,1,1,13252,,,0,"DNM: Test zuul jobs with ansible-version 5

Change-Id: Icc5765d1eb80248a08a5669ef3bd3412e8371515
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/846069/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,b164150907a9a9ae486f868f9f2f121a2d0ffcf8,zuul-ansible-5, ansible-version: 5,,1,0
openstack%2Ftempest~823159,openstack/tempest,master,I875039ee94e7aa462f949cb0157d1143647cdbea,DNM: Test paramiko override for cirros,ABANDONED,2021-12-29 11:38:39.000000000,2023-05-26 22:17:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-29 11:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc273ea1699bedfad2bdf37549bb51a9d6fa950a', 'message': 'DNM: Test paramiko override for cirros\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I875039ee94e7aa462f949cb0157d1143647cdbea\n'}, {'number': 2, 'created': '2021-12-29 12:32:57.000000000', 'files': ['tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e47e481064c8a7eca8c4fb22e08fb89f2a737bbc', 'message': 'DNM: Test paramiko override for cirros\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I875039ee94e7aa462f949cb0157d1143647cdbea\n'}]",0,823159,e47e481064c8a7eca8c4fb22e08fb89f2a737bbc,5,1,2,13252,,,0,"DNM: Test paramiko override for cirros

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I875039ee94e7aa462f949cb0157d1143647cdbea
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/823159/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/ssh.py'],1,fc273ea1699bedfad2bdf37549bb51a9d6fa950a,test-paramiko-rsa-override," disabled_keys = {'pubkeys':['rsa-sha2-512','rsa-sha2-256']} sock=proxy_chan, disabled_keys=disabled_keys)", sock=proxy_chan),2,1
openstack%2Fdesignate~884337,openstack/designate,master,Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a,Add cmd tests,MERGED,2023-05-26 03:58:11.000000000,2023-05-26 21:55:40.000000000,2023-05-26 21:54:31.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 03:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/17df206f79e1e274b311b57833f12d6e91a9cef7', 'message': 'Add cmd tests\n\nChange-Id: Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a\n'}, {'number': 2, 'created': '2023-05-26 18:25:50.000000000', 'files': ['designate/tests/unit/cmd/test_cmd.py', 'designate/tests/unit/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b9bd8e9bade38c4d6af72b482ce85b3e7a8cba6e', 'message': 'Add cmd tests\n\nChange-Id: Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a\n'}]",2,884337,b9bd8e9bade38c4d6af72b482ce85b3e7a8cba6e,11,2,2,22623,,,0,"Add cmd tests

Change-Id: Ic7c4d80a8b39640a1cb37ff01e12bb63f14ca09a
",git fetch https://review.opendev.org/openstack/designate refs/changes/37/884337/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/unit/cmd/test_cmd.py', 'designate/tests/unit/cmd/__init__.py']",2,17df206f79e1e274b311b57833f12d6e91a9cef7,test_cmd,,,136,0
openstack%2Fcharm-nova-compute~880744,openstack/charm-nova-compute,stable/xena,I2f2e9e44f6bba48e15621a216539089c7e3abc1d,Allow resizing to the same host,MERGED,2023-04-18 13:53:45.000000000,2023-05-26 21:35:57.000000000,2023-05-26 18:07:40.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:53:45.000000000', 'files': ['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/649c9a7737e13d95028a38a5b8650903b9f5510e', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nDepends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\nChange-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d\n(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)\n'}]",6,880744,649c9a7737e13d95028a38a5b8650903b9f5510e,23,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Depends-On: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
Change-Id: I2f2e9e44f6bba48e15621a216539089c7e3abc1d
(cherry picked from commit c3bd6788a73b5ca77729af6852f0e727f6615de6)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/44/880744/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_context.py', 'templates/train/nova.conf', 'unit_tests/test_nova_compute_contexts.py']",3,649c9a7737e13d95028a38a5b8650903b9f5510e,allow-resizing-to-same-host," self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, lxd()) 'allow_resize_to_same_host': False, self.assertEqual( {'resume_guests_state_on_host_boot': True, 'allow_resize_to_same_host': False}, lxd()) def test_allow_resize_to_same_host_empty(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': None, }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_enabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'true', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': True}, context.NovaComputeVirtContext()()) def test_allow_resize_to_same_host_disabled(self): self.lsb_release.return_value = {'DISTRIB_CODENAME': 'lucid'} self.relation_ids.return_value = ['cloud-compute:0'] self.related_units.return_value = 'nova-cloud-controller/0' self.test_relation.set({ 'allow_resize_to_same_host': 'false', }) self.assertEqual( {'resume_guests_state_on_host_boot': False, 'allow_resize_to_same_host': False}, context.NovaComputeVirtContext()())"," self.assertEqual({'resume_guests_state_on_host_boot': False}, lxd()) self.assertEqual({'resume_guests_state_on_host_boot': True}, lxd())",61,3
openstack%2Fopenstack-ansible~884445,openstack/openstack-ansible,master,Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b,Fix repo url in healthcheck-infrastructure.yml,MERGED,2023-05-25 22:09:16.000000000,2023-05-26 21:26:47.000000000,2023-05-26 21:25:33.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-25 22:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/73f3afb5d233f4e72f9524031b970bc5f6aada25', 'message': 'Fix repo url in healthcheck-infrastructure.yml\n\nRepository may be also available over https.\nThat is why `openstack_repo_protocol` variable should be used instead\nof hardcoded http://.\n\nChange-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b\n'}, {'number': 2, 'created': '2023-05-26 12:24:09.000000000', 'files': ['playbooks/healthcheck-infrastructure.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/724caeffd822bc687fa80d015f7fee85bc844c76', 'message': 'Fix repo url in healthcheck-infrastructure.yml\n\nRepository may be also available over https.\nThat is why `openstack_repo_protocol` variable should be used instead\nof hardcoded http://.\n\nChange-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b\n'}]",2,884445,724caeffd822bc687fa80d015f7fee85bc844c76,12,3,2,32666,,,0,"Fix repo url in healthcheck-infrastructure.yml

Repository may be also available over https.
That is why `openstack_repo_protocol` variable should be used instead
of hardcoded http://.

Change-Id: Ic2d829a6a87746dc746efe54e5e77e0f694cdf3b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/45/884445/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/healthcheck-infrastructure.yml'],1,73f3afb5d233f4e72f9524031b970bc5f6aada25,tls-backend," vars_files: - defaults/source_install.yml url: ""{{ openstack_repo_protocol }}://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}"""," url: ""http://{{ hostvars[item]['management_address'] }}:{{ repo_server_port }}/{{ repo_requirements_file }}""",3,1
openstack%2Fcharm-octavia-diskimage-retrofit~729892,openstack/charm-octavia-diskimage-retrofit,master,I1a077153dc0fb608793311e55cb706e2795d844a,set hw_vif_multiqueue_enabled to true by default,NEW,2020-05-21 10:20:19.000000000,2023-05-26 20:49:45.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 30669}]","[{'number': 1, 'created': '2020-05-21 10:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/06005f3ea89883dd0519badb82345e10d1c3fd07', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 2, 'created': '2020-05-21 11:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/64ba6c185171920ab94afc2bf9894380eaeb998a', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 3, 'created': '2020-05-21 11:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/bebc97d24639d9066386bd5dcf0db84994e1b53f', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 4, 'created': '2020-09-22 05:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/06e8e78fbedd1ec5beb31ebeee86511edb6ea1ed', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 5, 'created': '2021-04-07 09:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/543eb74055d73f291d05801aef2ec5095e5bc3de', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 6, 'created': '2021-07-13 11:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/459e10678671f7e1e8d00f5a0497624e9a0fa0ac', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 7, 'created': '2021-10-18 14:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/557b56febf84dcd69b92eff74c74d4a7ca623748', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 8, 'created': '2021-10-18 17:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/97cedd231d77cae961c0793ec9a58dfa028474d1', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 9, 'created': '2023-05-26 17:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/a8849426fad2a5b49be69cdd5ccc6f1c0dbce083', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}, {'number': 10, 'created': '2023-05-26 17:07:16.000000000', 'files': ['src/lib/charm/openstack/octavia_diskimage_retrofit.py', 'unit_tests/test_lib_charm_openstack_octavia_diskimage_retrofit.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/208dadcba85718d0bd25780ddab84d2df31d9c14', 'message': 'set hw_vif_multiqueue_enabled to true by default\n\nenables the virtio-net multiqueue feature by default,\nwhich sets the number of queues equal to the number of guest vCPUs.\nThis makes the network performance scale across a number of vCPUs.\n\nref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html\n\nCloses-Bug: #1878612\n\nChange-Id: I1a077153dc0fb608793311e55cb706e2795d844a\nSigned-off-by: Joe Guo <joe.guo@canonical.com>\n'}]",5,729892,208dadcba85718d0bd25780ddab84d2df31d9c14,64,5,10,30669,,,0,"set hw_vif_multiqueue_enabled to true by default

enables the virtio-net multiqueue feature by default,
which sets the number of queues equal to the number of guest vCPUs.
This makes the network performance scale across a number of vCPUs.

ref: https://docs.openstack.org/glance/rocky/admin/useful-image-properties.html

Closes-Bug: #1878612

Change-Id: I1a077153dc0fb608793311e55cb706e2795d844a
Signed-off-by: Joe Guo <joe.guo@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/92/729892/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/octavia_diskimage_retrofit.py'],1,06005f3ea89883dd0519badb82345e10d1c3fd07,bug/1878612," hw_vif_multiqueue_enabled=True,",,1,0
openstack%2Fcharm-cinder-ceph~881045,openstack/charm-cinder-ceph,stable/2023.1,I75bf95f8328a61731568dbb0e8277828bbab3032,Stable artefacts for stable/2023.1 (antelope),MERGED,2023-04-20 17:59:30.000000000,2023-05-26 20:06:17.000000000,2023-05-26 20:06:17.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 17:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/2f200f079a9197d3599d3f75a0266a6d7a0692eb', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 2, 'created': '2023-04-26 17:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/55ea5ffbc27c00012ebaebb8c7d5bfe7d2062d0d', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 3, 'created': '2023-04-26 17:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/2e614c0ce1fd27b42d83e9e691473b01a797108e', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 4, 'created': '2023-05-15 19:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/994b96c0d4b709247a1253f62ab184920060a497', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1050\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 5, 'created': '2023-05-17 02:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/7ef92cd5f58fdfbaf946292f32671e6e60cf2c43', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1050\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 6, 'created': '2023-05-17 18:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/9afc454d72cfcf5f36acec53b6a913fa4701ec51', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}, {'number': 7, 'created': '2023-05-26 15:13:24.000000000', 'files': ['tests/bundles/lunar-antelope-ec.yaml', 'tests/bundles/lunar-antelope.yaml', '.gitreview', 'test-requirements.txt', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed-ec.yaml', 'tests/bundles/jammy-antelope-ec.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/fedf3088f0a8d325c5323e90e4f15aa7f7461a49', 'message': 'Stable artefacts for stable/2023.1 (antelope)\n\nThis patch is to lock the stable/2023.1 (antelope release) charms\ndown so that as much as possible.\nIn particular, this patch does:\n\n- set the .gitreview to stable/2023.1\n- lock zaza and zaza-openstack-tests to stable/antelope branches\n- for reactive charms Add build.lock files to lock the layers\n  and python modules used to build the charm.\n- for ops framework charms, extract a pip freeze from the\n  charmcraft container after building the charm to lock the\n  modules used to build the charm.\n- drop the kinetic bundles if the exist. (Note the updates to\n  tests.yaml is in another batch (topic: antelope-voting)\n- update the bundles so that they point to the antelope specific\n  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for\n  OVN charms, quincy/edge for Ceph charms and generally, the\n  appropriate LTS Jammy branch for the various support charms.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1064\nChange-Id: I75bf95f8328a61731568dbb0e8277828bbab3032\n'}]",23,881045,fedf3088f0a8d325c5323e90e4f15aa7f7461a49,66,5,7,20870,,,0,"Stable artefacts for stable/2023.1 (antelope)

This patch is to lock the stable/2023.1 (antelope release) charms
down so that as much as possible.
In particular, this patch does:

- set the .gitreview to stable/2023.1
- lock zaza and zaza-openstack-tests to stable/antelope branches
- for reactive charms Add build.lock files to lock the layers
  and python modules used to build the charm.
- for ops framework charms, extract a pip freeze from the
  charmcraft container after building the charm to lock the
  modules used to build the charm.
- drop the kinetic bundles if the exist. (Note the updates to
  tests.yaml is in another batch (topic: antelope-voting)
- update the bundles so that they point to the antelope specific
  channels.  e.g. 2023.1/edge for OpenStack charms, 23.03/edge for
  OVN charms, quincy/edge for Ceph charms and generally, the
  appropriate LTS Jammy branch for the various support charms.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1064
Change-Id: I75bf95f8328a61731568dbb0e8277828bbab3032
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/45/881045/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'tests/bundles/lunar-antelope-ec.yaml', 'tests/bundles/lunar-antelope.yaml', '.gitreview', 'test-requirements.txt', 'tests/bundles/jammy-antelope.yaml', 'tests/bundles/jammy-zed-ec.yaml', 'tests/bundles/kinetic-zed-ec.yaml', 'tests/bundles/jammy-antelope-ec.yaml', 'charm-helpers-hooks.yaml', 'tests/bundles/jammy-zed.yaml']",11,2f200f079a9197d3599d3f75a0266a6d7a0692eb,antelope-stable-charms, channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: 8.0/edge channel: quincy/edge channel: quincy/edge channel: 3.9/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge channel: 2023.1/edge, channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge channel: latest/edge,119,713
openstack%2Fcharm-openstack-dashboard~860673,openstack/charm-openstack-dashboard,master,Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c,Closes-Bug: #1983578,NEW,2022-10-07 10:37:59.000000000,2023-05-26 19:39:38.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-07 10:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/43d03393af4e7b05844738ee608c8a5ce581b2d3', 'message': 'Closes-Bug: #1983578\n\nChange-Id: Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c\n'}, {'number': 2, 'created': '2023-05-26 16:56:42.000000000', 'files': ['hooks/horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/1a7ce2b3246ad1ff5aa2bdd43e03583992864309', 'message': 'Closes-Bug: #1983578\n\nChange-Id: Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c\n'}]",0,860673,1a7ce2b3246ad1ff5aa2bdd43e03583992864309,6,2,2,29685,,,0,"Closes-Bug: #1983578

Change-Id: Idc3a9dcfedd7c96ec3c2aaac22a746c9191f5f9c
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/73/860673/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/horizon_contexts.py', 'templates/stein/local_settings.py', 'config.yaml']",3,43d03393af4e7b05844738ee608c8a5ce581b2d3,bug/1983578," logout-sp-link: type: string default: '/auth/logout/' description: | A custom hyperlink for the ""Logout"" button of the Dashboard, e.g. https://keystone.example.com/mellon/logout. The default value is /auth/logout",,11,0
openstack%2Fwhitebox-tempest-plugin~860875,openstack/whitebox-tempest-plugin,master,Iab013b22e60d9d86666fedd76b5a73fe45b3bb98,Add multi-numa tests for masked policy,MERGED,2022-10-10 20:19:25.000000000,2023-05-26 18:59:26.000000000,2023-05-26 18:59:26.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 31033}]","[{'number': 1, 'created': '2022-10-10 20:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5f2c59ab4c0cdaee4b9d33cc8aa1e80d490e7f0a', 'message': ""Add multi-numa tests for masked policy\n\nAdd aditional tests based around [1] that introduces guest deployments\nwith multi-NUMA. The first new test is based on a symmetrical load with\nthe same number of vCPUs and memory per physical NUMA. The second test\nlimits a quarter of the resources to land on one NUMA and the remaining\n75% on the other.\n\nFor example a 4 vCPU 1024 RAM guest would configured NUMA 0 to hold 1\nvCPU and 256 with NUMA 1 would hold the remaining for the guest. This\ntype of deployment models high scale NFV architecture, where the control\nplane vCPUs may all be shared on a specific NUMA while the dataplane\nvCPUs would want to be dedicated and land on a NUMA that is connected to\nthe compute host's NICs.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/use-pcpu-vcpu-in-one-instance.html\n\nChange-Id: Iab013b22e60d9d86666fedd76b5a73fe45b3bb98\n""}, {'number': 2, 'created': '2023-03-21 17:08:22.000000000', 'files': ['whitebox_tempest_plugin/api/compute/numa_helper.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/db22bdcab52cbde12711faa5ba1a1731f4bbc53b', 'message': ""Add multi-numa tests for masked policy\n\nAdd aditional tests based around [1] that introduces guest deployments\nwith multi-NUMA. The first new test is based on a symmetrical load with\nthe same number of vCPUs and memory per physical NUMA. The second test\nlimits a quarter of the resources to land on one NUMA and the remaining\n75% on the other.\n\nFor example a 4 vCPU 1024 RAM guest would configured NUMA 0 to hold 1\nvCPU and 256 with NUMA 1 would hold the remaining for the guest. This\ntype of deployment models high scale NFV architecture, where the control\nplane vCPUs may all be shared on a specific NUMA while the dataplane\nvCPUs would want to be dedicated and land on a NUMA that is connected to\nthe compute host's NICs.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/use-pcpu-vcpu-in-one-instance.html\n\nChange-Id: Iab013b22e60d9d86666fedd76b5a73fe45b3bb98\n""}]",8,860875,db22bdcab52cbde12711faa5ba1a1731f4bbc53b,16,5,2,31033,,,0,"Add multi-numa tests for masked policy

Add aditional tests based around [1] that introduces guest deployments
with multi-NUMA. The first new test is based on a symmetrical load with
the same number of vCPUs and memory per physical NUMA. The second test
limits a quarter of the resources to land on one NUMA and the remaining
75% on the other.

For example a 4 vCPU 1024 RAM guest would configured NUMA 0 to hold 1
vCPU and 256 with NUMA 1 would hold the remaining for the guest. This
type of deployment models high scale NFV architecture, where the control
plane vCPUs may all be shared on a specific NUMA while the dataplane
vCPUs would want to be dedicated and land on a NUMA that is connected to
the compute host's NICs.

[1] https://specs.openstack.org/openstack/nova-specs/specs/victoria/implemented/use-pcpu-vcpu-in-one-instance.html

Change-Id: Iab013b22e60d9d86666fedd76b5a73fe45b3bb98
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/75/860875/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/numa_helper.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py']",2,5f2c59ab4c0cdaee4b9d33cc8aa1e80d490e7f0a,cpu_mixed_multi_numa," guest_shared_cpus = self.get_host_pcpus_for_guest_vcpu( server['id'], [0]) self.get_host_pcpus_for_guest_vcpu(server['id'], [1]) class MixedCPUPolicyTestMultiNuma(MixedCPUPolicyTest): vcpus = 4 ram = 1024 numa_nodes = '2' def setUp(self): super(MixedCPUPolicyTestMultiNuma, self).setUp() self.dedicated_cpus_per_numa = \ CONF.whitebox_hardware.dedicated_cpus_per_numa self.dedicated_guest_cpus_ids = list(range(self.vcpus)[1:]) self.dedicated_cpu_count = len(self.dedicated_guest_cpus_ids) @classmethod def skip_checks(cls): super(MixedCPUPolicyTestMultiNuma, cls).skip_checks() if CONF.whitebox_hardware.dedicated_cpus_per_numa == 0: msg = 'Need at least 1 or more pCPU\'s per NUMA allocated to ' \ 'the cpu_dedicated_set of the compute host' raise cls.skipException(msg) if getattr(CONF.whitebox_hardware, 'cpu_topology', None) is None: msg = ""cpu_topology in whitebox-hardware is not present"" raise cls.skipException(msg) cpu_topology = CONF.whitebox_hardware.cpu_topology if len(cpu_topology.keys()) < 2: msg = ""Need at least two or more NUMA Nodes to run tests"" raise cls.skipException(msg) def _verify_multi_numa_guest(self, server_id): host = self.get_host_for_server(server_id) host_sm = clients.NovaServiceManager(host, 'nova-compute', self.os_admin.services_client) # Gather the current hosts cpu dedicated and shared set values host_dedicated_cpus = host_sm.get_cpu_dedicated_set() host_shared_cpus = host_sm.get_cpu_shared_set() # Confirm the number of numa nodes for guest match expected flavor # configuration numa_nodes = self.get_server_cell_pinning(server_id) self.assertEqual(int(self.numa_nodes), len(numa_nodes), 'Expected to find %s NUMA Nodes but instead found %s ' % (self.numa_nodes, len(numa_nodes))) # Find the PCPU's currently mapped to core 0 of the guest guest_shared_cpus = self.get_host_pcpus_for_guest_vcpu( server_id, [0]) # Validate the PCPUs mapped to core 0 are a subset of the cpu shared # set of the host and number of shared CPUs are accurate to what # is expected for the NUMA node self.assertEqual( CONF.whitebox_hardware.shared_cpus_per_numa, len(guest_shared_cpus), 'Number of Shared CPUs allocated to guest should be %s but ' 'instead found %s' % (CONF.whitebox_hardware.shared_cpus_per_numa, len(guest_shared_cpus))) self.assertTrue( guest_shared_cpus.issubset(host_shared_cpus), 'Shared CPUs allocated to guest %s is not a subset of the shared ' 'CPUs that compute host is expected to provide %s' % (guest_shared_cpus, host_shared_cpus)) # Confirm the dedicated cpus allocated to guest are subset of the # hosts dedicated set and the number of dedicated cpus found is equal # to what is expected for the mask dedicated_pin = self.get_host_pcpus_for_guest_vcpu( server_id, self.dedicated_guest_cpus_ids) self.assertTrue( dedicated_pin.issubset(host_dedicated_cpus), 'Pinned Host CPU\'s %s of server %s is not a subset of %s' % (dedicated_pin, server_id, host_dedicated_cpus)) # Confirm the expected number of dedicated cpus that should be # allocated to the guest due to the mask match what is found on the # guest self.assertEqual( self.dedicated_cpu_count, len(dedicated_pin), 'Expected to find a total of %s dedicated cpus for guest but ' 'instead found %s' % (self.dedicated_cpu_count, dedicated_pin)) # Confirm the PCPUs allocated for shared and dedicated found on the # host do not intersect. self.assertTrue( guest_shared_cpus.isdisjoint(dedicated_pin), 'The shared cpus %s should be disjoint from the dedicated set %s' % (guest_shared_cpus, dedicated_pin)) def test_symmetric_multi_numa(self): """"""Create a multi NUMA guest with a mask and symmetric cpu allocation """""" symmetric_cpu_policy = {'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '^0', 'hw:numa_nodes': self.numa_nodes} flavor = self.create_flavor(vcpus=self.vcpus, extra_specs=symmetric_cpu_policy) server = self.create_test_server(flavor=flavor['id'], wait_until='ACTIVE') self._verify_multi_numa_guest(server['id']) def test_asymmetric_multi_numa(self): """"""Create a multi NUMA guest with a mask and asymmetric cpu allocation """""" if self.dedicated_cpus_per_numa < self.dedicated_cpu_count: msg = ('Need at least %s or more pCPUs per NUMA allocated to the ' 'cpu_dedicated_set of the compute host' % self.dedicated_cpu_count) raise self.skipException(msg) dedicated_str = [str(x) for x in self.dedicated_guest_cpus_ids] asymmetric_cpu_policy = {'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '^0', 'hw:numa_nodes': self.numa_nodes, 'hw:numa_cpus.0': '0', 'hw:numa_cpus.1': ','.join(dedicated_str), 'hw:numa_mem.0': str(int(self.ram * 0.25)), 'hw:numa_mem.1': str(int(self.ram * 0.75))} flavor = self.create_flavor(vcpus=self.vcpus, ram=self.ram, extra_specs=asymmetric_cpu_policy) server = self.create_test_server(flavor=flavor['id'], wait_until='ACTIVE') self._verify_multi_numa_guest(server['id'])"," guest_shared_cpus = self.get_host_pcpus_for_guest_vcpu(server['id'], 0) self.get_host_pcpus_for_guest_vcpu(server['id'], 1)",143,6
openstack%2Fwhitebox-tempest-plugin~880755,openstack/whitebox-tempest-plugin,master,Ief5e3a105e35ec65c6d5e3603c971d724949b2f1,Update jobs for Bobcat development cycle,MERGED,2023-04-18 14:44:36.000000000,2023-05-26 18:59:24.000000000,2023-05-26 18:59:24.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31033}]","[{'number': 1, 'created': '2023-04-18 14:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/41ec153a774bf33d039427a26304320d7e79fb57', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 2, 'created': '2023-04-24 11:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b8a99cdcd861935719a24e152db254d3d61521aa', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 3, 'created': '2023-05-09 13:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/eaf424128bdb22546072a8615dedfa41e4dabf1d', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 4, 'created': '2023-05-09 15:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5bc5a2ba3c1dfef58535c9d0162294337ea28f69', 'message': 'Switch to Bobcat testing runtime\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 5, 'created': '2023-05-17 12:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0bf4ef4dd968b83d3ca567707a024e23f4fc21e1', 'message': 'Update jobs for Bobcat development cycle\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 6, 'created': '2023-05-22 11:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/77d878fa7078bf54f03961ff62647a9c4a4ecba3', 'message': 'Update jobs for Bobcat development cycle\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\nAlso python 2.7 testing is dropped.\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}, {'number': 7, 'created': '2023-05-26 16:24:31.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f2e9cac7bbadbc7423e0298b29f4817fe0888557', 'message': 'Update jobs for Bobcat development cycle\n\nUpdating the testing template to Bobcat testing runtime:\nhttps://governance.openstack.org/tc/reference/runtimes/2023.2.html\nAlso python 2.7 testing is dropped.\n\nChange-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1\n'}]",24,880755,f2e9cac7bbadbc7423e0298b29f4817fe0888557,27,4,7,35229,,,0,"Update jobs for Bobcat development cycle

Updating the testing template to Bobcat testing runtime:
https://governance.openstack.org/tc/reference/runtimes/2023.2.html
Also python 2.7 testing is dropped.

Change-Id: Ief5e3a105e35ec65c6d5e3603c971d724949b2f1
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/55/880755/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,41ec153a774bf33d039427a26304320d7e79fb57,switch-to-bobcat-testing-runtime,"envlist = pep8,py{27,39,310}","envlist = pep8,py{27,36,38}",4,6
openstack%2Foctavia~868363,openstack/octavia,master,I9deaea182568a23e8c1104d806273dc87f5caa72,Fix hm operating status to ONLINE in single lb call,MERGED,2022-12-21 16:36:16.000000000,2023-05-26 18:57:42.000000000,2023-05-26 18:56:40.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-12-21 16:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/922bfc0f65b49f7cf1bb67390c6dc5c071bf4f26', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 2, 'created': '2022-12-22 10:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/377ecd25346377d4d9de6b62167f2d2badcdf5ff', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 3, 'created': '2023-01-03 15:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/33d248def4e82bbf47a4e2928e2b45d603ff5939', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 4, 'created': '2023-01-04 10:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0ffd1b90a9ef6413313ea2cc8ca7abf3973d94c6', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 5, 'created': '2023-02-15 17:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a9fcfe61fa27f4db912537ce111d06f110c53dd5', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 6, 'created': '2023-02-16 12:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/020b652a9c11751ec0f2c61d2c52808db85e1fcc', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 7, 'created': '2023-02-16 13:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/86d624431eff2a97031e5ec5ecc557f72bdcd6d6', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 8, 'created': '2023-02-16 13:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4785876ed015f651882b7e1b4bd2efc9b6f6696a', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 9, 'created': '2023-02-16 16:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cd383586b71c95137e74a8130eadce39be2cb2ed', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 10, 'created': '2023-02-23 13:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a22a423be27188a50abc41c05d1331a7abd3f440', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}, {'number': 11, 'created': '2023-04-14 12:58:53.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'releasenotes/notes/fix-hm-operating-status-online-in-single-lb-call-214a7ca22937a877.yaml', 'octavia/controller/worker/v2/flows/listener_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e20ceebcf245f3bb74b29287b138a3e42cc72a6c', 'message': 'Fix hm operating status to ONLINE in single lb call\n\nSo far, Health Monitor was not set to ONLINE when single-call-creates\nwere used.\n\nThis patch adds a database task which sets the operating status of all\nthe enabled Health Monitors of a LB to ONLINE.\n\nStory 2008400\nTask 41333\n\nChange-Id: I9deaea182568a23e8c1104d806273dc87f5caa72\n'}]",31,868363,e20ceebcf245f3bb74b29287b138a3e42cc72a6c,63,5,11,31664,,,0,"Fix hm operating status to ONLINE in single lb call

So far, Health Monitor was not set to ONLINE when single-call-creates
were used.

This patch adds a database task which sets the operating status of all
the enabled Health Monitors of a LB to ONLINE.

Story 2008400
Task 41333

Change-Id: I9deaea182568a23e8c1104d806273dc87f5caa72
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/868363/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py', 'releasenotes/notes/fix-hm-operating-status-online-in-single-lb-call-214a7ca22937a877.yaml']",4,922bfc0f65b49f7cf1bb67390c6dc5c071bf4f26,fix_pool_create_single_lb_create_call,--- fixes: - | Added a task that sets all LB's Health Monitors ONLINE. Now Health Monitors are ONLINE when created in LB single-create calls. ,,90,0
openstack%2Fgovernance~884002,openstack/governance,master,If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7,Deprecation of networking-odl,MERGED,2023-05-24 07:57:27.000000000,2023-05-26 18:46:08.000000000,2023-05-26 16:58:12.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 07:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/b25459aca0cfaabf6e581e2d5605a2c4ae1e54cd', 'message': 'Deprecation of networking-odl\n\nThe decision was taken during a Neutron team meeting and communicated\nvia mailing list [1]. Due to the lack of mantainers, this project is\ndeprecated during Bobcat (2023.3) release.\n\n[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7\n'}, {'number': 2, 'created': '2023-05-24 08:12:57.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/7458f00b17efef264b11c1e212dd408bb31638f0', 'message': 'Deprecation of networking-odl\n\nThe decision was taken during a Neutron team meeting and communicated\nvia mailing list [1]. Due to the lack of mantainers, this project is\ndeprecated during Bobcat (2023.3) release.\n\n[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html\n\nChange-Id: If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7\n'}]",1,884002,7458f00b17efef264b11c1e212dd408bb31638f0,17,9,2,16688,,,0,"Deprecation of networking-odl

The decision was taken during a Neutron team meeting and communicated
via mailing list [1]. Due to the lack of mantainers, this project is
deprecated during Bobcat (2023.3) release.

[1]https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033003.html

Change-Id: If6b6348bf91ed33cc9e63f8394de4279ae8ef9e7
",git fetch https://review.opendev.org/openstack/governance refs/changes/02/884002/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,b25459aca0cfaabf6e581e2d5605a2c4ae1e54cd,project-update, deprecated: 2023.2 release-management: deprecated,,2,0
openstack%2Fcharm-ceph-dashboard~871127,openstack/charm-ceph-dashboard,stable/octopus,I7fb186dfa5ada12bdfc206f2c1f03e1a2666ac29,Pin tox < 4 (octopus),MERGED,2023-01-19 19:24:19.000000000,2023-05-26 18:22:27.000000000,2023-05-26 18:22:27.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-19 19:24:19.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/51dd041983b21ada2428c31b4bc87e6ce4d7c7ce', 'message': 'Pin tox < 4 (octopus)\n\nThis patchset works around issues with versions of tox > 4\n\nChange-Id: I7fb186dfa5ada12bdfc206f2c1f03e1a2666ac29\n'}]",4,871127,51dd041983b21ada2428c31b4bc87e6ce4d7c7ce,12,5,1,33717,,,0,"Pin tox < 4 (octopus)

This patchset works around issues with versions of tox > 4

Change-Id: I7fb186dfa5ada12bdfc206f2c1f03e1a2666ac29
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/27/871127/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'tox.ini']",3,51dd041983b21ada2428c31b4bc87e6ce4d7c7ce,pin-tox-octopus, requires = tox < 4.0.0 pip install {opts} {packages}[testenv:py39] basepython = python3.9 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:py310] basepython = python3.10 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 pip install {opts} {packages}",16,13
openstack%2Fcharm-ceph-dashboard~819813,openstack/charm-ceph-dashboard,master,Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d,Added application dashboard relation for homer,ABANDONED,2021-11-30 12:10:32.000000000,2023-05-26 18:10:25.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-30 12:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/1d6baae17b130d8b8e557de20590253cb0c15b9d', 'message': 'Added application dashboard relation for homer\n\nChange-Id: Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d\n'}, {'number': 2, 'created': '2022-05-10 11:01:16.000000000', 'files': ['src/interface_application_dashboard.py', 'src/charm.py', 'icon.svg', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0662f76b50bdc1e73860d30fcb0676ebead5ffac', 'message': 'Added application dashboard relation for homer\n\nChange-Id: Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d\n'}]",8,819813,0662f76b50bdc1e73860d30fcb0676ebead5ffac,15,3,2,29889,,,0,"Added application dashboard relation for homer

Change-Id: Ief6fa39cd762b736e2b9428e5528f7bcb1d4b40d
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/13/819813/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/interface_application_dashboard.py', 'src/charm.py', 'icon.svg', 'metadata.yaml']",4,1d6baae17b130d8b8e557de20590253cb0c15b9d,add_homer_dashboards_relation, application-dashboard: interface: register-application,,184,0
openstack%2Fcharm-ceph-mon~842656,openstack/charm-ceph-mon,stable/quincy,I60d9fe2068b562d05e421fd1ab2914c9d5f00a25,Replace cs with ch links on prometheus,ABANDONED,2022-05-20 01:21:38.000000000,2023-05-26 18:08:15.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-20 01:21:38.000000000', 'files': ['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/fd6c449cb5fe09a00e5a76445d5d0fb681f5068b', 'message': 'Replace cs with ch links on prometheus\n\nChange-Id: I60d9fe2068b562d05e421fd1ab2914c9d5f00a25\n(cherry picked from commit bfd999cb856185d263ea36e231346976ca9cb3bf)\n'}]",0,842656,fd6c449cb5fe09a00e5a76445d5d0fb681f5068b,4,2,1,8992,,,0,"Replace cs with ch links on prometheus

Change-Id: I60d9fe2068b562d05e421fd1ab2914c9d5f00a25
(cherry picked from commit bfd999cb856185d263ea36e231346976ca9cb3bf)
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/56/842656/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-xena.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml']",3,fd6c449cb5fe09a00e5a76445d5d0fb681f5068b,bug/prometheus-charmhub, charm: ch:prometheus2,# Pin prometheus2 charm version Bug #1891942 charm: cs:prometheus2-18,3,6
openstack%2Fcharm-ceph-radosgw~866552,openstack/charm-ceph-radosgw,master,Ia6e838d607fecb9b391ebc450d611af1865b2eab,Removes stderr pipe from _check_output,MERGED,2022-12-05 08:27:37.000000000,2023-05-26 17:36:22.000000000,2023-05-26 17:36:22.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-05 08:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4d885801de5d2c0ada2edd165b6fbfccca52023c', 'message': '[WIP]: Curiousity Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 2, 'created': '2022-12-05 08:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c6f74901fad9240ba2533d37716393fdbce6b41c', 'message': '[WIP]: Curiousity Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 3, 'created': '2022-12-05 12:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d1675f2756dfeedce61c6bc51d07dcb0e31fe5c2', 'message': '[WIP]: Curiousity Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 4, 'created': '2022-12-05 12:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e6d48f10fcca8c2ac7350e2296316cf93e7a7cd9', 'message': '[WIP]: Testing\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 5, 'created': '2022-12-08 12:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/f09fdf22392d505c5814588ce0955172494a76c5', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 6, 'created': '2022-12-08 14:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9ec9012c8bb14c2842fb3b5531fa7f77ea75a9af', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 7, 'created': '2022-12-08 18:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/337e817c3cedf4da6859a0605d01f926df584fc7', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 8, 'created': '2023-02-01 09:23:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/0eb593acdd55bdcbd77301dab816ede3e567fc07', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}, {'number': 9, 'created': '2023-02-01 11:38:33.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_multisite.py', 'hooks/multisite.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b76b1df0dd3d33fda8b42a5a5d98298b8c1f6be4', 'message': 'Removes stderr pipe from _check_output\n\nChange-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab\n'}]",3,866552,b76b1df0dd3d33fda8b42a5a5d98298b8c1f6be4,30,3,9,34952,,,0,"Removes stderr pipe from _check_output

Change-Id: Ia6e838d607fecb9b391ebc450d611af1865b2eab
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/52/866552/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/multisite.py'],1,4d885801de5d2c0ada2edd165b6fbfccca52023c,stabilization," return subprocess.check_output(cmd, stderr=subprocess.DEVNULL).decode('UTF-8')"," return subprocess.check_output(cmd, stderr=subprocess.PIPE).decode('UTF-8')",1,1
openstack%2Fopenstack-helm~872436,openstack/openstack-helm,master,Iba03fc7142860c40c790bdf12bc24818e6921f65,Configure keystone auth credentials for placement in neutron,MERGED,2023-02-01 18:04:40.000000000,2023-05-26 17:31:31.000000000,2023-05-26 17:29:40.000000000,"[{'_account_id': 1004}, {'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-02-01 18:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2726e01be075c2b0232b31ad288c179defd0fa3a', 'message': 'Configure keystone auth credentials for placement in neutron\n\nChange-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65\n'}, {'number': 2, 'created': '2023-05-19 16:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f981d49fe682df39421b3c4669ed79ab2dd8dfdb', 'message': 'Configure keystone auth credentials for placement in neutron\n\nChange-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65\n'}, {'number': 3, 'created': '2023-05-25 08:41:17.000000000', 'files': ['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e1aaa1b550e0549eea9f4c18adac29cd1b0d3138', 'message': 'Configure keystone auth credentials for placement in neutron\n\nChange-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65\n'}]",1,872436,e1aaa1b550e0549eea9f4c18adac29cd1b0d3138,24,5,3,31746,,,0,"Configure keystone auth credentials for placement in neutron

Change-Id: Iba03fc7142860c40c790bdf12bc24818e6921f65
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/36/872436/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml']",4,2726e01be075c2b0232b31ad288c179defd0fa3a,,"{{- if empty $envAll.Values.conf.neutron.placement.auth_url -}} {{- $_ := tuple ""identity"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup""| set $envAll.Values.conf.neutron.placement ""auth_url"" -}} {{- end }} {{- if empty $envAll.Values.conf.neutron.placement.region_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""region_name"" $envAll.Values.endpoints.identity.auth.placement.region_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.project_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""project_name"" $envAll.Values.endpoints.identity.auth.placement.project_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.project_domain_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""project_domain_name"" $envAll.Values.endpoints.identity.auth.placement.project_domain_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.user_domain_name -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""user_domain_name"" $envAll.Values.endpoints.identity.auth.placement.user_domain_name -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.username -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""username"" $envAll.Values.endpoints.identity.auth.placement.username -}} {{- end -}} {{- if empty $envAll.Values.conf.neutron.placement.password -}} {{- $_ := set $envAll.Values.conf.neutron.placement ""password"" $envAll.Values.endpoints.identity.auth.placement.password -}} {{- end -}} ",,36,1
openstack%2Fopenstack-ansible~884203,openstack/openstack-ansible,master,I20a5049e14fae2da25a87a97efa58692e561b1be,Bump SHAs for OpenStack-Ansible 27.0.0.rc1,MERGED,2023-05-24 13:59:24.000000000,2023-05-26 17:30:55.000000000,2023-05-26 17:29:43.000000000,"[{'_account_id': 20705}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 34411}]","[{'number': 1, 'created': '2023-05-24 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ca5fb35f5088a0441d3dc2b5cd6fcfbb823420ca', 'message': 'Bump SHAs for OpenStack-Ansible 27.0.0.rc1\n\nChange-Id: I20a5049e14fae2da25a87a97efa58692e561b1be\n'}, {'number': 2, 'created': '2023-05-25 13:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/894db52901c1dd481133cc6b4a4f1a38f3827209', 'message': 'Bump SHAs for OpenStack-Ansible 27.0.0.rc1\n\nChange-Id: I20a5049e14fae2da25a87a97efa58692e561b1be\n'}, {'number': 3, 'created': '2023-05-26 08:34:28.000000000', 'files': ['releasenotes/notes/keystone_ssl-4dc7676a36831f85.yaml', 'releasenotes/notes/lxcbr0_type-2e9b5022864bc31c.yaml', 'releasenotes/notes/venv_build_group_variable-39f05cbdda59cd7e.yaml', 'releasenotes/notes/nova-resource-provider-config-files-a7ff9303bba083f9.yaml', 'releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'inventory/group_vars/sahara_all/source_git.yml', 'releasenotes/notes/nova_db_cleanup_services-a39bafaaacfb4671.yaml', 'releasenotes/notes/ovn_dhcp_metadata_agents-851b42a6923c811f.yaml', 'releasenotes/notes/horizon_backend_https-105d9050aa3ec125.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'releasenotes/notes/nova_network_type_deprecation-86da18bfc827818a.yaml', 'releasenotes/notes/octavia_amphorav2_default-6fbe0f75327def69.yaml', 'inventory/group_vars/neutron_all/source_git.yml', 'releasenotes/notes/pki_handler_variables-6e72209f9cbc4cf5.yaml', 'releasenotes/notes/ceph-caches-a12dbce748838ddc.yaml', 'inventory/group_vars/trove_all/source_git.yml', 'releasenotes/notes/install_libvirt_daemon_centos-9826ecb428bce8a5.yaml', 'inventory/group_vars/ironic_all/source_git.yml', 'releasenotes/notes/default_backend_override-9840dc75ff9d1a9c.yaml', 'releasenotes/notes/haproxy-maps-787084d7f161c27e.yaml', 'releasenotes/notes/horizon_enable_ssl_default-15089bd97d81ceb1.yaml', 'releasenotes/notes/certbot-auto-5ccf2184fb554c90.yaml', 'releasenotes/notes/openstack_hosts_systemd-4f47056a732820bd.yaml', 'releasenotes/notes/separated-haproxy-config-b38d200ee0baaeac.yaml', 'releasenotes/notes/bind-address-list-64633fd1cd22d785.yaml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/uwsgi-support-70d9427de86555eb.yaml', 'releasenotes/notes/no_driver-b289e1c4e2fafabe.yaml', 'releasenotes/notes/octavia_default_topology-91f574bbaed85249.yaml', 'releasenotes/notes/octavia_security_group_rule_cidr_default-dbf0cdfd17731a73.yaml', 'inventory/group_vars/swift_all/source_git.yml', 'releasenotes/notes/ipmitool-socat-console-5b99db22de49aefd.yaml', 'releasenotes/notes/cinder_db_cleanup_service-4754f3094604f677.yaml', 'releasenotes/notes/horizon_ssl_self_signed-aea616a3e1259a6c.yaml', 'releasenotes/notes/pip_build_install_env-464b66f471060442.yaml', 'releasenotes/notes/rabbit_3_11-f3ec4e2c38ee9a66.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7437b7641b73c6a29f3b7abc042b0af30d60c434', 'message': 'Bump SHAs for OpenStack-Ansible 27.0.0.rc1\n\nChange-Id: I20a5049e14fae2da25a87a97efa58692e561b1be\n'}]",3,884203,7437b7641b73c6a29f3b7abc042b0af30d60c434,15,5,3,28619,,,0,"Bump SHAs for OpenStack-Ansible 27.0.0.rc1

Change-Id: I20a5049e14fae2da25a87a97efa58692e561b1be
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/884203/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone_ssl-4dc7676a36831f85.yaml', 'releasenotes/notes/lxcbr0_type-2e9b5022864bc31c.yaml', 'releasenotes/notes/nova-resource-provider-config-files-a7ff9303bba083f9.yaml', 'releasenotes/notes/wheel_build_enable-ea0bd0cb676128dd.yaml', 'inventory/group_vars/sahara_all/source_git.yml', 'releasenotes/notes/nova_db_cleanup_services-a39bafaaacfb4671.yaml', 'releasenotes/notes/ovn_dhcp_metadata_agents-851b42a6923c811f.yaml', 'releasenotes/notes/horizon_backend_https-105d9050aa3ec125.yaml', 'releasenotes/notes/ceilometer_polling_namespaces-a21da7a655f4c922.yaml', 'releasenotes/notes/nova_network_type_deprecation-86da18bfc827818a.yaml', 'releasenotes/notes/octavia_amphorav2_default-6fbe0f75327def69.yaml', 'inventory/group_vars/neutron_all/source_git.yml', 'releasenotes/notes/pki_handler_variables-6e72209f9cbc4cf5.yaml', 'releasenotes/notes/ceph-caches-a12dbce748838ddc.yaml', 'inventory/group_vars/trove_all/source_git.yml', 'inventory/group_vars/ironic_all/source_git.yml', 'releasenotes/notes/default_backend_override-9840dc75ff9d1a9c.yaml', 'releasenotes/notes/haproxy-maps-787084d7f161c27e.yaml', 'releasenotes/notes/horizon_enable_ssl_default-15089bd97d81ceb1.yaml', 'releasenotes/notes/certbot-auto-5ccf2184fb554c90.yaml', 'releasenotes/notes/openstack_hosts_systemd-4f47056a732820bd.yaml', 'releasenotes/notes/separated-haproxy-config-b38d200ee0baaeac.yaml', 'releasenotes/notes/bind-address-list-64633fd1cd22d785.yaml', 'inventory/group_vars/horizon_all/source_git.yml', 'ansible-role-requirements.yml', 'releasenotes/notes/uwsgi-support-70d9427de86555eb.yaml', 'releasenotes/notes/no_driver-b289e1c4e2fafabe.yaml', 'releasenotes/notes/octavia_default_topology-91f574bbaed85249.yaml', 'releasenotes/notes/octavia_security_group_rule_cidr_default-dbf0cdfd17731a73.yaml', 'inventory/group_vars/swift_all/source_git.yml', 'releasenotes/notes/ipmitool-socat-console-5b99db22de49aefd.yaml', 'releasenotes/notes/cinder_db_cleanup_service-4754f3094604f677.yaml', 'releasenotes/notes/horizon_ssl_self_signed-aea616a3e1259a6c.yaml', 'releasenotes/notes/pip_build_install_env-464b66f471060442.yaml', 'releasenotes/notes/rabbit_3_11-f3ec4e2c38ee9a66.yaml']",35,ca5fb35f5088a0441d3dc2b5cd6fcfbb823420ca,,"--- other: - | Version of RabbitMQ is bumped to 3.11.7, Erlang version is bumped to 25.2. ",,394,164
openstack%2Fopenstack-helm~883818,openstack/openstack-helm,master,I0795e6e099b935ead8d6d3d22722999b852749d0,title: Update oslo_messaging_RPCClient,MERGED,2023-05-23 15:46:54.000000000,2023-05-26 17:30:39.000000000,2023-05-26 17:29:34.000000000,"[{'_account_id': 3009}, {'_account_id': 8104}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-05-23 15:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/131953b62b0bd9bddb205f94654819cfe5923012', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health prove to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 2, 'created': '2023-05-23 15:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef2f6a67411e5476b0cb6e8cae4ff356ddea0e82', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health prove to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 3, 'created': '2023-05-23 22:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9704acc7b44fe440c0370384e29927879f8c6b42', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health prove to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 4, 'created': '2023-05-24 03:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95fe991c6c4e030d5ae3118f4da8348d04842a61', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health probe to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 5, 'created': '2023-05-24 07:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec18722218ac18a736bae28e5b310621d3b44c34', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health probe to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 6, 'created': '2023-05-25 08:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9a9b461e991811901572983f1eae0c5ca30a8e3', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nThis change moves the health probe to use get_rpc_client instead.\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 7, 'created': '2023-05-25 09:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2ca4265c133dcf7cf2c22bdc2acc7fb08c29475', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nConfigure health probe to use get_rpc_client if get_rpc_client is\navailable\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}, {'number': 8, 'created': '2023-05-25 10:40:19.000000000', 'files': ['nova/templates/bin/_health-probe.py.tpl', 'releasenotes/notes/nova.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/969e3f78712f207c28155df676d200dd12aaa8bf', 'message': 'title: Update oslo_messaging_RPCClient\n\noslo_messaging.RPCClient is currently deprecated.\nConfigure health probe to use get_rpc_client if get_rpc_client is\navailable\n\nstory: 2010766\ntask: 48076\nChange-Id: I0795e6e099b935ead8d6d3d22722999b852749d0\n'}]",14,883818,969e3f78712f207c28155df676d200dd12aaa8bf,31,4,8,35655,,,0,"title: Update oslo_messaging_RPCClient

oslo_messaging.RPCClient is currently deprecated.
Configure health probe to use get_rpc_client if get_rpc_client is
available

story: 2010766
task: 48076
Change-Id: I0795e6e099b935ead8d6d3d22722999b852749d0
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/18/883818/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/templates/bin/_health-probe.py.tpl'],1,131953b62b0bd9bddb205f94654819cfe5923012,," client = oslo_messaging.get_rpc_transport(transport, target,"," client = oslo_messaging.RPCClient(transport, target,",1,1
openstack%2Fopenstack-helm-images~884450,openstack/openstack-helm-images,master,Ia90f8b9d1fd04e5c6b8a19609b0145795f98d72f,Add tags for tacker images,MERGED,2023-05-26 02:26:25.000000000,2023-05-26 17:26:45.000000000,2023-05-26 17:22:21.000000000,"[{'_account_id': 3009}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32204}]","[{'number': 1, 'created': '2023-05-26 02:26:25.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/f6c2a7b83f627b86373cf23b2445e05c5782126d', 'message': 'Add tags for tacker images\n\nChange-Id: Ia90f8b9d1fd04e5c6b8a19609b0145795f98d72f\n'}]",0,884450,f6c2a7b83f627b86373cf23b2445e05c5782126d,9,5,1,31857,,,0,"Add tags for tacker images

Change-Id: Ia90f8b9d1fd04e5c6b8a19609b0145795f98d72f
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/50/884450/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,f6c2a7b83f627b86373cf23b2445e05c5782126d,, tags: *imagetag,,1,0
openstack%2Fhorizon~883918,openstack/horizon,stable/zed,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:02:52.000000000,2023-05-26 17:25:18.000000000,2023-05-26 17:23:09.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6ea96ef63de84d32e3461cfff66278bb201406e4', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:05:16.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a29c93d20d95ccb12f546e46f3431a05087e9cb4', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,883918,a29c93d20d95ccb12f546e46f3431a05087e9cb4,13,3,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

[1] https://github.com/xstatic-py/xstatic-font-awesome

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/18/883918/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,6ea96ef63de84d32e3461cfff66278bb201406e4,883918,, - openstack/xstatic-font-awesome,0,1
openstack%2Fcharm-octavia-diskimage-retrofit~877886,openstack/charm-octavia-diskimage-retrofit,master,I5d5b1110e1efb3b92b4443b1a8b786cf58102910,"Update example for ""ubuntu-mirror""",MERGED,2023-03-20 02:05:05.000000000,2023-05-26 17:20:31.000000000,2023-05-26 17:20:31.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-20 02:05:05.000000000', 'files': ['src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/eec35d902228c07af3c567fee7594a6fbb858899', 'message': 'Update example for ""ubuntu-mirror""\n\nTo reflect changes made in the equivalent snap.\nhttps://github.com/openstack-charmers/octavia-diskimage-retrofit/pull/33\n\nCloses-Bug: #2011527\nChange-Id: I5d5b1110e1efb3b92b4443b1a8b786cf58102910\n'}]",2,877886,eec35d902228c07af3c567fee7594a6fbb858899,8,4,1,8108,,,0,"Update example for ""ubuntu-mirror""

To reflect changes made in the equivalent snap.
https://github.com/openstack-charmers/octavia-diskimage-retrofit/pull/33

Closes-Bug: #2011527
Change-Id: I5d5b1110e1efb3b92b4443b1a8b786cf58102910
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/86/877886/1 && git format-patch -1 --stdout FETCH_HEAD,['src/config.yaml'],1,eec35d902228c07af3c567fee7594a6fbb858899,," Repository from which to retrieve ubuntu packages. To pass multiple pockets, '\n' can be used. e.g. . 'deb http://example.com/ubuntu jammy main universe\ndeb http://example.com/ubuntu jammy-security main universe\ndeb http://example.com/ubuntu jammy-updates main universe'", Repository from which to retrieve ubuntu packages.,6,1
openstack%2Fcharm-ceph-dashboard~871341,openstack/charm-ceph-dashboard,stable/octopus,I0dd82e710687a86c7ea3558556907c70825066bc,Pin tox to < 4.0.0,ABANDONED,2023-01-20 17:35:20.000000000,2023-05-26 17:14:24.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-20 17:35:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/68d483ab5f7572398096b88fc64cac9550bb3873', 'message': ""Pin tox to < 4.0.0\n\nTox 4.0.0 was recently released and it has several breaking changes.\nWe pin to < 4.0.0 here. We are planning to move forward only on the\nmaster charm branches.\n\nTox is also pinned to < 4.0.0 for stable branches in upstream\nopenstack-zuul-jobs as well as in zosci-config. However, the\nrequires= section in the charm's tox.ini file ends up installing\ntox>4, wiping out the zuul-pinned tox<4 that was already installed\ninstalled. This patch fixes that.\n\nRelated-Bug: #2002788\nChange-Id: I0dd82e710687a86c7ea3558556907c70825066bc\n""}]",1,871341,68d483ab5f7572398096b88fc64cac9550bb3873,5,3,1,11805,,,0,"Pin tox to < 4.0.0

Tox 4.0.0 was recently released and it has several breaking changes.
We pin to < 4.0.0 here. We are planning to move forward only on the
master charm branches.

Tox is also pinned to < 4.0.0 for stable branches in upstream
openstack-zuul-jobs as well as in zosci-config. However, the
requires= section in the charm's tox.ini file ends up installing
tox>4, wiping out the zuul-pinned tox<4 that was already installed
installed. This patch fixes that.

Related-Bug: #2002788
Change-Id: I0dd82e710687a86c7ea3558556907c70825066bc
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/41/871341/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,68d483ab5f7572398096b88fc64cac9550bb3873,pin-tox-octopus, tox < 4.0.0,,1,0
openstack%2Fcharm-nova-compute-nvidia-vgpu~861106,openstack/charm-nova-compute-nvidia-vgpu,master,I93198488109b2c32bdc24ec634f406091ce27603,Fix the .gitreview file project key,MERGED,2022-10-12 19:16:21.000000000,2023-05-26 17:12:25.000000000,2023-05-26 17:12:25.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-12 19:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/b6afe66ca4bade4148cdc8fb5c4460ac09bfbc0e', 'message': 'Fix the .gitreview file project key\n\nThis patch ensures that the project key in the .gitreview file has the\n`.git` suffix. This is used by various tools, and so needs to be\npresent.\n\nChange-Id: I93198488109b2c32bdc24ec634f406091ce27603\n'}, {'number': 2, 'created': '2023-04-06 17:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/ae4710485429bc805ccf9d4fa9d9d84d9986617b', 'message': 'Fix the .gitreview file project key\n\nThis patch ensures that the project key in the .gitreview file has the\n`.git` suffix. This is used by various tools, and so needs to be\npresent.\n\nChange-Id: I93198488109b2c32bdc24ec634f406091ce27603\n'}, {'number': 3, 'created': '2023-04-19 19:20:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/c8f2e220ad88c797df187b915354fb9b0f680ecd', 'message': 'Fix the .gitreview file project key\n\nThis patch ensures that the project key in the .gitreview file has the\n`.git` suffix. This is used by various tools, and so needs to be\npresent.\n\nChange-Id: I93198488109b2c32bdc24ec634f406091ce27603\n'}]",2,861106,c8f2e220ad88c797df187b915354fb9b0f680ecd,17,3,3,20870,,,0,"Fix the .gitreview file project key

This patch ensures that the project key in the .gitreview file has the
`.git` suffix. This is used by various tools, and so needs to be
present.

Change-Id: I93198488109b2c32bdc24ec634f406091ce27603
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/06/861106/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b6afe66ca4bade4148cdc8fb5c4460ac09bfbc0e,fix-gitreview,project=openstack/charm-nova-compute-nvidia-vgpu.git,project=openstack/charm-nova-compute-nvidia-vgpu,1,1
openstack%2Fcharm-swift-proxy~823878,openstack/charm-swift-proxy,master,Ic49b13511810431c7a23919663630a4cc68eb355,Add package-upgrade action,NEW,2022-01-08 01:28:12.000000000,2023-05-26 17:09:23.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 01:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/9e895c3cc10b1aec634f13f135b28389ef238f7f', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ic49b13511810431c7a23919663630a4cc68eb355\n'}, {'number': 2, 'created': '2022-01-20 14:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/e2ab08441aa02019976fbb13287fa7d40e4bbd38', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ic49b13511810431c7a23919663630a4cc68eb355\n'}, {'number': 3, 'created': '2023-05-26 14:50:52.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'actions/package_upgrade.py', 'charmhelpers/fetch/ubuntu.py', 'actions/package-upgrade', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/18adc0085d292ee6c52c629f821ad09e3b156ae7', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ic49b13511810431c7a23919663630a4cc68eb355\n'}]",3,823878,18adc0085d292ee6c52c629f821ad09e3b156ae7,14,3,3,11805,,,0,"Add package-upgrade action

The package-upgrade action performs package upgrades for the current
OpenStack release.

The code path used is similar to the openstack-upgrade action, with the
difference being that package-upgrade will not execute if an openstack
upgrade is available (based on the openstack-origin setting).

This change includes a charm-helpers sync.

Change-Id: Ic49b13511810431c7a23919663630a4cc68eb355
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/78/823878/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/openstack/keystone.py', 'actions/package-upgrade', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'actions/package_upgrade.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'actions.yaml', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",45,9e895c3cc10b1aec634f13f135b28389ef238f7f,package-upgrade-action," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",443,435
openstack%2Ftempest~884509,openstack/tempest,master,I5ce5e17a22fe18e0e4609f00521611b7368ae6a2,[WIP] Fix distinguishing between reader and member role,NEW,2023-05-26 14:39:10.000000000,2023-05-26 17:06:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 14:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fc600bbd128a53b634043c866ca27c55f958ff4', 'message': '[WIP] Fix distinguishing between reader and member role\n\nChange-Id: I5ce5e17a22fe18e0e4609f00521611b7368ae6a2\n'}, {'number': 2, 'created': '2023-05-26 14:40:07.000000000', 'files': ['tempest/lib/common/preprov_creds.py', 'tempest/cmd/account_generator.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/33fa2e92a62beffcac12078a6d93b4a968c12be7', 'message': '[WIP] Fix distinguishing between reader and member role\n\nRelated-Bug: #2020860\nChange-Id: I5ce5e17a22fe18e0e4609f00521611b7368ae6a2\n'}]",0,884509,33fa2e92a62beffcac12078a6d93b4a968c12be7,4,1,2,30674,,,0,"[WIP] Fix distinguishing between reader and member role

Related-Bug: #2020860
Change-Id: I5ce5e17a22fe18e0e4609f00521611b7368ae6a2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/884509/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/preprov_creds.py', 'tempest/cmd/account_generator.py']",2,3fc600bbd128a53b634043c866ca27c55f958ff4,fix/preprov-creds," elif cred_type in ['primary', 'alt']: account['roles'] = ['member'] else:"," elif cred_type not in ['primary', 'alt']:",5,2
openstack%2Fcharm-openstack-dashboard~869221,openstack/charm-openstack-dashboard,master,Ic6ac01d53e84cd20d6cc48272a394b72e944f721,Update for tox4 compat,ABANDONED,2023-01-04 14:37:26.000000000,2023-05-26 17:01:12.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-01-04 14:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/5ac3e65c1751b0833dfd5580ae1e77039777ddb0', 'message': 'Update for tox4 compat\n\nChange-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721\n'}, {'number': 2, 'created': '2023-01-04 15:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/051b7ddf798d70310b8c49118b2df0fa8f504d16', 'message': 'Update for tox4 compat\n\nChange-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721\n'}, {'number': 3, 'created': '2023-01-05 08:00:17.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/4400f8a5a12fd7ce7993ff797c9666afc67acbce', 'message': 'Update for tox4 compat\n\nChange-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721\n'}]",0,869221,4400f8a5a12fd7ce7993ff797c9666afc67acbce,10,2,3,12549,,,0,"Update for tox4 compat

Change-Id: Ic6ac01d53e84cd20d6cc48272a394b72e944f721
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/21/869221/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ac3e65c1751b0833dfd5580ae1e77039777ddb0,fix-tox-ini-for-tox-4," pip install {opts} {packages}passenv = HOME TERM CS_* OS_* TEST_*# charmcraft clean is done to ensure that # `tox -e build` always performs a clean, repeatable build. # For faster rebuilds during development, # directly run `charmcraft -v pack && ./rename.sh`. charmcraft clean", virtualenv < 20.0 {toxinidir}/pip.sh install {opts} {packages}passenv = HOME TERM CS_* OS_* TEST_*,12,3
openstack%2Fwhitebox-tempest-plugin~872475,openstack/whitebox-tempest-plugin,master,I1c013b34cced35580fe3ce132523a36de5a90898,Move to Antelope testing runtime,ABANDONED,2023-02-01 23:39:23.000000000,2023-05-26 16:27:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-01 23:39:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/21af133250c3779bcfec2aa79d130aed41971fe3', 'message': 'Move to Antelope testing runtime\n\nChange-Id: I1c013b34cced35580fe3ce132523a36de5a90898\n'}]",0,872475,21af133250c3779bcfec2aa79d130aed41971fe3,3,1,1,8864,,,0,"Move to Antelope testing runtime

Change-Id: I1c013b34cced35580fe3ce132523a36de5a90898
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/75/872475/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,21af133250c3779bcfec2aa79d130aed41971fe3,, - openstack-python3-antelope-jobs, - openstack-python3-zed-jobs,1,1
openstack%2Fpython-openstackclient~884521,openstack/python-openstackclient,master,Ie6d79f438b32da73efecdd255650c2d95990ba22,[DNM] generated code for metadef_resource_type,NEW,2023-05-26 15:47:25.000000000,2023-05-26 16:16:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 15:47:25.000000000', 'files': ['openstackclient/tests/unit/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/common.py', 'openstackclient/image/v2/metadef_resource_type/list.py', 'openstackclient/tests/unit/image/v2/metadef_resource_type/test_list.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb8d1beb88e4b3e1a865550864449dd8a6eb8099', 'message': '[DNM] generated code for metadef_resource_type\n\nuse code generator to build image metadef resource type implementation\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884518\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682\nChange-Id: Ie6d79f438b32da73efecdd255650c2d95990ba22\n'}]",2,884521,bb8d1beb88e4b3e1a865550864449dd8a6eb8099,2,1,1,27900,,,0,"[DNM] generated code for metadef_resource_type

use code generator to build image metadef resource type implementation

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/884518
Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882682
Change-Id: Ie6d79f438b32da73efecdd255650c2d95990ba22
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/21/884521/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/__init__.py', 'openstackclient/image/v2/metadef_resource_type/common.py', 'openstackclient/image/v2/metadef_resource_type/list.py', 'openstackclient/tests/unit/image/v2/metadef_resource_type/test_list.py']",5,bb8d1beb88e4b3e1a865550864449dd8a6eb8099,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from unittest import mock from openstack.image.v2.metadef_resource_type import MetadefResourceType from openstack.tests.unit import fakes as sdk_fakes from openstack import utils as sdk_utils from openstackclient.image.v2.metadef_resource_type import list from openstackclient.tests.unit import utils as tests_utils class TestMetadefResourceType(tests_utils.TestCommand): def setUp(self): super().setUp() # SDK mock self.app.client_manager.sdk_connection = mock.Mock() self.app.client_manager.sdk_connection.image = mock.Mock() self.sdk_client = self.app.client_manager.sdk_connection self.app.client_manager.sdk_connection.search_resources = mock.Mock() class TestMetadefResourceTypeList(TestMetadefResourceType): _fake = sdk_fakes.get_fake_resource(MetadefResourceType) columns = ( ""Created_at"", ""Id"", ""Name"", ""Updated_at"", ) data = ( ( _fake.created_at, _fake.id, _fake.name, _fake.updated_at, ), ) def setUp(self): super().setUp() self.api_mock = mock.Mock() self.api_mock.side_effect = [ [self._fake], [], ] self.sdk_client.search_resources = self.api_mock # Get the command object to test self.cmd = list.ListMetadefResourceType(self.app, None) def test_list_no_options(self): arglist = [] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class Lister in cliff, abstract method take action() # returns a tuple containing the column names and an iterable # containing the data to be listed. columns, data = self.cmd.take_action(parsed_args) self.sdk_client.search_resources.assert_called_with( resource_type=""image.metadef_resource_type"", filters={}, name_or_id=None, ) self.assertEqual(self.columns, columns) self.assertEqual(self.data, tuple(data)) def test_list_all_options(self): arglist = [ ""--limit"", ""val_limit"", ""--marker"", ""val_marker"", ] verifylist = [ (""limit"", ""val_limit""), (""marker"", ""val_marker""), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class Lister in cliff, abstract method take action() # returns a tuple containing the column names and an iterable # containing the data to be listed. with mock.patch.object( sdk_utils, ""supports_microversion"", return_value=True ): columns, data = self.cmd.take_action(parsed_args) # Set expected values kwargs = { ""paginated"": False, ""limit"": ""val_limit"", ""marker"": ""val_marker"", } self.sdk_client.search_resources.assert_called_with( resource_type=""image.metadef_resource_type"", filters=kwargs, name_or_id=None, ) ",,250,0
openstack%2Fcharm-nova-cloud-controller~880751,openstack/charm-nova-cloud-controller,stable/ussuri,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:47.000000000,2023-05-26 15:51:14.000000000,2023-05-26 15:51:14.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:47.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4248cb35b95bfe7afcc94c0ee3dbe032ec1aa8d1', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)\n(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)\n(cherry picked from commit 4d010253584738ccafb98411746b35d73bdead72)\n'}]",4,880751,4248cb35b95bfe7afcc94c0ee3dbe032ec1aa8d1,15,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)
(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)
(cherry picked from commit 4d010253584738ccafb98411746b35d73bdead72)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/51/880751/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,4248cb35b95bfe7afcc94c0ee3dbe032ec1aa8d1,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcharm-hacluster~852573,openstack/charm-hacluster,master,I85645c7ed8d32bb822e59b1d942df0a275d3ce70,Fix invalid tempest pin for 31.0.0,NEW,2022-08-09 12:41:53.000000000,2023-05-26 15:43:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-09 12:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/08c20f87e1dc3c6fe0cdb8db38b7515fda3bbd71', 'message': 'Fix invalid tempest pin for 31.0.0\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n'}, {'number': 2, 'created': '2023-05-24 16:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/9308bf7382fdb4b13f950fa208beb4cbf92226cf', 'message': 'Fix invalid tempest pin for 31.0.0\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n'}, {'number': 3, 'created': '2023-05-24 20:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/77b27ac3f22351b83cfd106cc58283e7c65f00f6', 'message': ""Fix invalid tempest pin for 31.0.0\n\nAlso renaming 'hacluster' application to 'keystone-hacluster' to meet\nz-o-t expectations on HaclusterScaleBackAndForthTest.\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n""}, {'number': 4, 'created': '2023-05-25 13:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/9be4b9b33492bd91388b8c9d25885419f130c92f', 'message': ""Fix invalid tempest pin for 31.0.0\n\nAlso renaming 'hacluster' application to 'keystone-hacluster' to meet\nz-o-t expectations on HaclusterScaleBackAndForthTest.\n\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n""}, {'number': 5, 'created': '2023-05-25 15:53:02.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'test-requirements.txt', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/235af352191e4b89743dc632ba7f005ab2e701ea', 'message': ""Fix invalid tempest pin for 31.0.0\n\nAlso renaming 'hacluster' application to 'keystone-hacluster' to meet\nz-o-t expectations on HaclusterScaleBackAndForthTest.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1062\nChange-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70\n""}]",4,852573,235af352191e4b89743dc632ba7f005ab2e701ea,22,3,5,2424,,,0,"Fix invalid tempest pin for 31.0.0

Also renaming 'hacluster' application to 'keystone-hacluster' to meet
z-o-t expectations on HaclusterScaleBackAndForthTest.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1062
Change-Id: I85645c7ed8d32bb822e59b1d942df0a275d3ce70
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/73/852573/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,08c20f87e1dc3c6fe0cdb8db38b7515fda3bbd71,fix-pin-tempest,tempest<31.0.0;python_version<'3.8' and python_version>='3.6',tempest<31.0.0;python_version<'3.8',1,1
openstack%2Fpython-openstackclient~882568,openstack/python-openstackclient,master,I3c2fe7487023bb32a55311496b3a565ead073f47,[DNM]: poc generated code,NEW,2023-05-08 15:34:26.000000000,2023-05-26 15:34:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-08 15:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/214386c2dbeddb876248afcef536d227985e6849', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently only List is supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}, {'number': 2, 'created': '2023-05-09 14:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6c615cf24acf1c59aad23fcea4a29170491277b7', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently only List is supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}, {'number': 3, 'created': '2023-05-10 15:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/52780b354ba554de9b8d5942badc7ac871fbfdef', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently List,Show,Delete are supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}, {'number': 4, 'created': '2023-05-26 15:18:26.000000000', 'files': ['openstackclient/tests/unit/identity/v3/project/test_unset.py', 'openstackclient/identity/v3/project/list.py', 'openstackclient/identity/v3/project/show.py', 'openstackclient/tests/unit/identity/v3/project/test_delete.py', 'openstackclient/tests/unit/identity/v3/project/test_create.py', 'openstackclient/identity/v3/project/set.py', 'openstackclient/tests/unit/identity/v3/project/__init__.py', 'openstackclient/identity/v3/project/delete.py', 'openstackclient/identity/v3/project/create.py', 'openstackclient/identity/v3/project/unset.py', 'openstackclient/tests/unit/identity/v3/project/test_list.py', 'openstackclient/identity/v3/project/__init__.py', 'openstackclient/tests/unit/identity/v3/project/test_set.py', 'openstackclient/tests/unit/identity/v3/project/test_show.py', 'openstackclient/identity/v3/project/common.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/22763a0a5354602f14f95290b6888aec6b82dac2', 'message': '[DNM]: poc generated code\n\nOn the SDK side we experiment with code generation based on the resource\ndefinition. This is a result for the identity.project resource\n(currently List,Show,Delete,Set,Unset are supported)\n\nDepends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326\nChange-Id: I3c2fe7487023bb32a55311496b3a565ead073f47\n'}]",51,882568,22763a0a5354602f14f95290b6888aec6b82dac2,8,1,4,27900,,,0,"[DNM]: poc generated code

On the SDK side we experiment with code generation based on the resource
definition. This is a result for the identity.project resource
(currently List,Show,Delete,Set,Unset are supported)

Depends-On: https://review.opendev.org/c/openstack/openstacksdk/+/882326
Change-Id: I3c2fe7487023bb32a55311496b3a565ead073f47
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/68/882568/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/identity/v3/project/list.py', 'openstackclient/openstackclient/identity/v3/project/common.py', 'openstackclient/openstackclient/identity/v3/project/list.py', 'openstackclient/tests/unit/identity/v3/project/test_list.py', 'openstackclient/identity/v3/project/__init__.py', 'openstackclient/openstackclient/tests/unit/identity/v3/project/test_list.py', 'openstackclient/identity/v3/project/common.py', 'openstackclient/tests/unit/identity/v3/project/__init__.py']",8,214386c2dbeddb876248afcef536d227985e6849,,,,744,0
openstack%2Fcharm-placement~881085,openstack/charm-placement,stable/train,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:49.000000000,2023-05-26 15:29:22.000000000,2023-05-26 15:29:22.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/1cff9964353b77bee2ab2dbd05c99d6bc3a0a833', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:37:45.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/97223f60ac9f2d4f250bb94f379f5d301e46a009', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881085,97223f60ac9f2d4f250bb94f379f5d301e46a009,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/85/881085/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,1cff9964353b77bee2ab2dbd05c99d6bc3a0a833,bug/2016893-stable/train,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~881084,openstack/charm-placement,stable/ussuri,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:35.000000000,2023-05-26 15:29:21.000000000,2023-05-26 15:29:21.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/e098f9f212d29ded00b5b4fb61981070358e6265', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:36:38.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/e0d56e6457a464eb53e059c4e2e5ba0b4c874b7e', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",1,881084,e0d56e6457a464eb53e059c4e2e5ba0b4c874b7e,12,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/84/881084/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,e098f9f212d29ded00b5b4fb61981070358e6265,bug/2016893-stable/ussuri,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~881083,openstack/charm-placement,stable/victoria,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:22.000000000,2023-05-26 15:29:20.000000000,2023-05-26 15:29:20.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/dc01e88a5d85d9baa52063abc1057f2537fef068', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:36:04.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/3fdf4a66fa9df7a856f454802a1bb82637802095', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",2,881083,3fdf4a66fa9df7a856f454802a1bb82637802095,14,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/83/881083/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,dc01e88a5d85d9baa52063abc1057f2537fef068,bug/2016893-stable/victoria,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~881082,openstack/charm-placement,stable/wallaby,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:46:07.000000000,2023-05-26 15:29:19.000000000,2023-05-26 15:29:19.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/9c4aa5f92a0c6f6823e32bb649d99c6b3b549bcb', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:35:34.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/1c2cd3a94d242244c862411d0b2059fe5ec9761f', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881082,1c2cd3a94d242244c862411d0b2059fe5ec9761f,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/82/881082/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,9c4aa5f92a0c6f6823e32bb649d99c6b3b549bcb,bug/2016893-stable/wallaby,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fkeystoneauth~883926,openstack/keystoneauth,stable/zed,I2392ef51302804c0c66c0fb52227db5f35bca3fd,Make v3oidcpassword send client_id,MERGED,2023-05-24 09:02:23.000000000,2023-05-26 15:28:16.000000000,2023-05-26 15:27:02.000000000,"[{'_account_id': 597}, {'_account_id': 782}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-24 09:02:23.000000000', 'files': ['keystoneauth1/identity/v3/oidc.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/61c3dc7b38d53d6558b479db4ffbfbd1038994c9', 'message': 'Make v3oidcpassword send client_id\n\nUpdates the v3oidcpassword function to also send the client_id as part of the request body,\nthis seems to be a requirement for services like onelogin.\n\nChange-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd\n(cherry picked from commit 30d61ad316bc3fe873674b2825bab1e85534b80d)\n'}]",1,883926,61c3dc7b38d53d6558b479db4ffbfbd1038994c9,9,7,1,35976,,,0,"Make v3oidcpassword send client_id

Updates the v3oidcpassword function to also send the client_id as part of the request body,
this seems to be a requirement for services like onelogin.

Change-Id: I2392ef51302804c0c66c0fb52227db5f35bca3fd
(cherry picked from commit 30d61ad316bc3fe873674b2825bab1e85534b80d)
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/26/883926/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oidc.py'],1,61c3dc7b38d53d6558b479db4ffbfbd1038994c9,one_login_compat-stable/zed," 'scope': self.scope, 'client_id': self.client_id}", 'scope': self.scope},2,1
openstack%2Freleases~882596,openstack/releases,master,I63fd17ae6c9239a35968cd4f3acc7362e121b48c,Release python-manilaclient for Bobcat-1 milestone,ABANDONED,2023-05-08 16:17:34.000000000,2023-05-26 15:26:10.000000000,,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2023-05-08 16:17:34.000000000', 'files': ['deliverables/bobcat/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f5945437689d331a887ccc0668a306dca82ea01d', 'message': 'Release python-manilaclient for Bobcat-1 milestone\n\nThis is a library release for python-manilaclient for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 4.3.0..95763cd\n95763cd Use suitable api version for OSC.\n1e37914 Fix share network create command with the AZ option\n7a5d39b Update master for stable/2023.1\nd54326f Update micversion to 2.77,support share transfer between project.\n\nChange-Id: I63fd17ae6c9239a35968cd4f3acc7362e121b48c\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",5,882596,f5945437689d331a887ccc0668a306dca82ea01d,8,3,1,17685,,,0,"Release python-manilaclient for Bobcat-1 milestone

This is a library release for python-manilaclient for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 4.3.0..95763cd
95763cd Use suitable api version for OSC.
1e37914 Fix share network create command with the AZ option
7a5d39b Update master for stable/2023.1
d54326f Update micversion to 2.77,support share transfer between project.

Change-Id: I63fd17ae6c9239a35968cd4f3acc7362e121b48c
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/882596/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/python-manilaclient.yaml'],1,f5945437689d331a887ccc0668a306dca82ea01d,bobcat-milestone-1,releases: - version: 4.5.0 projects: - repo: openstack/python-manilaclient hash: 95763cdb0557aefd165487847d2f82f7fcf978f9,,5,0
openstack%2Fcharm-placement~881081,openstack/charm-placement,stable/xena,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:45:52.000000000,2023-05-26 15:23:29.000000000,2023-05-26 15:23:29.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/8164f49b365a752c643838c402ada964ecf1a509', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:34:00.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/53ac8872f1d5a29bddd6c23d61c5920e92e9c615', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881081,53ac8872f1d5a29bddd6c23d61c5920e92e9c615,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/81/881081/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,8164f49b365a752c643838c402ada964ecf1a509,bug/2016893-stable/xena,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fkeystoneauth~883383,openstack/keystoneauth,master,Id618b93d47a6e25a89144b3a93b12cbb5fc14797,Remove last reference to the python six package,MERGED,2023-05-17 14:35:25.000000000,2023-05-26 15:22:11.000000000,2023-05-26 15:20:57.000000000,"[{'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 32755}]","[{'number': 1, 'created': '2023-05-17 14:35:25.000000000', 'files': ['keystoneauth1/identity/v3/oauth2_mtls_client_credential.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/c69ade60a677a95c873a06fbc72e9810da7d5fdf', 'message': 'Remove last reference to the python six package\n\nWe missed an import of the six package.\n\nChange-Id: Id618b93d47a6e25a89144b3a93b12cbb5fc14797\n'}]",2,883383,c69ade60a677a95c873a06fbc72e9810da7d5fdf,10,4,1,7414,,,0,"Remove last reference to the python six package

We missed an import of the six package.

Change-Id: Id618b93d47a6e25a89144b3a93b12cbb5fc14797
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/83/883383/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/identity/v3/oauth2_mtls_client_credential.py'],1,c69ade60a677a95c873a06fbc72e9810da7d5fdf,remove_six,"class OAuth2mTlsClientCredential(base.BaseAuth, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class OAuth2mTlsClientCredential(base.BaseAuth):,1,4
openstack%2Fcharm-placement~881080,openstack/charm-placement,stable/yoga,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:45:35.000000000,2023-05-26 15:21:20.000000000,2023-05-26 15:21:20.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/20b3e4df13d4b467884de11cc1e2dcab593b5505', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}, {'number': 2, 'created': '2023-04-24 13:34:51.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/16ddbb0c856bc4a95a44326462502ea1228ada81', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",1,881080,16ddbb0c856bc4a95a44326462502ea1228ada81,11,4,2,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/80/881080/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,20b3e4df13d4b467884de11cc1e2dcab593b5505,bug/2016893-stable/yoga,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~881079,openstack/charm-placement,stable/zed,I63bfd9903057cbea2db8de4f1b612601aacb568d,Prevent update-status to run unrequired handlers,MERGED,2023-04-20 19:45:20.000000000,2023-05-26 15:20:53.000000000,2023-05-26 15:20:53.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 19:45:20.000000000', 'files': ['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/d8552bacd7940461f98aa25b20dd2eb71d7f7f4a', 'message': 'Prevent update-status to run unrequired handlers\n\nBefore the update-status hook would run handlers that are expected to\nrun when the configuration changes or relations added/removed.\n\nThe update-status hook doesn\'t hold the machine lock which makes\nconcurrent hook executions possible and seen in the gate where for\nexample multiple ""apt-get"" executions trying to acquire dpkg\'s lock.\n\nCloses-Bug: #2016893\nChange-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d\n'}]",0,881079,d8552bacd7940461f98aa25b20dd2eb71d7f7f4a,8,4,1,20870,,,0,"Prevent update-status to run unrequired handlers

Before the update-status hook would run handlers that are expected to
run when the configuration changes or relations added/removed.

The update-status hook doesn't hold the machine lock which makes
concurrent hook executions possible and seen in the gate where for
example multiple ""apt-get"" executions trying to acquire dpkg's lock.

Closes-Bug: #2016893
Change-Id: I63bfd9903057cbea2db8de4f1b612601aacb568d
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/79/881079/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_placement_handlers.py', 'src/reactive/placement_handlers.py']",2,d8552bacd7940461f98aa25b20dd2eb71d7f7f4a,bug/2016893-stable/zed,@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook')@reactive.when_not('is-update-status-hook'),,6,1
openstack%2Fcharm-placement~881377,openstack/charm-placement,stable/train,I94b6d90e74e51663b06386c52be96e2bbc4e36eb,Add bindep.txt,MERGED,2023-04-24 13:37:23.000000000,2023-05-26 15:20:31.000000000,2023-05-26 15:20:31.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:37:23.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/dc8a5899fb5b03b73faf1ce217391d6055bd782b', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I94b6d90e74e51663b06386c52be96e2bbc4e36eb\n'}]",0,881377,dc8a5899fb5b03b73faf1ce217391d6055bd782b,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I94b6d90e74e51663b06386c52be96e2bbc4e36eb
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/77/881377/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dc8a5899fb5b03b73faf1ce217391d6055bd782b,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~881376,openstack/charm-placement,stable/ussuri,I1c79da26d921c96c41fa099460eab291366ecf8b,Add bindep.txt,MERGED,2023-04-24 13:33:43.000000000,2023-05-26 15:20:30.000000000,2023-05-26 15:20:30.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:33:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/cc7f99a3706b14c1376b19dbbdac6f31554b0795', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I1c79da26d921c96c41fa099460eab291366ecf8b\n'}]",2,881376,cc7f99a3706b14c1376b19dbbdac6f31554b0795,10,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I1c79da26d921c96c41fa099460eab291366ecf8b
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/76/881376/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,cc7f99a3706b14c1376b19dbbdac6f31554b0795,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~881372,openstack/charm-placement,stable/victoria,Ic5069a256909b918cafba9ed861f2deac44ce28f,Add bindep.txt,MERGED,2023-04-24 13:16:36.000000000,2023-05-26 15:20:27.000000000,2023-05-26 15:20:27.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:16:36.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/dce04b0da248544d3685c1f1d43f3c622bbca4da', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: Ic5069a256909b918cafba9ed861f2deac44ce28f\n'}]",1,881372,dce04b0da248544d3685c1f1d43f3c622bbca4da,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: Ic5069a256909b918cafba9ed861f2deac44ce28f
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/72/881372/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dce04b0da248544d3685c1f1d43f3c622bbca4da,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~881371,openstack/charm-placement,stable/wallaby,I94914b88ecf0456a9f9d6d53e054c9c25f725209,Add bindep.txt,MERGED,2023-04-24 13:16:08.000000000,2023-05-26 15:20:26.000000000,2023-05-26 15:20:26.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:16:08.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/e34a28f4d10537271b96230bada33e49ebbbf2a2', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I94914b88ecf0456a9f9d6d53e054c9c25f725209\n'}]",0,881371,e34a28f4d10537271b96230bada33e49ebbbf2a2,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I94914b88ecf0456a9f9d6d53e054c9c25f725209
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/71/881371/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,e34a28f4d10537271b96230bada33e49ebbbf2a2,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~881370,openstack/charm-placement,stable/xena,I07efe32b78276a97f4a42e4510f3e2fd3d38e3f9,Add bindep.txt,MERGED,2023-04-24 13:15:28.000000000,2023-05-26 15:20:25.000000000,2023-05-26 15:20:25.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:15:28.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/1a1f4ff063c8cc6faec69fd55d114a72382d57fd', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: I07efe32b78276a97f4a42e4510f3e2fd3d38e3f9\n'}]",0,881370,1a1f4ff063c8cc6faec69fd55d114a72382d57fd,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: I07efe32b78276a97f4a42e4510f3e2fd3d38e3f9
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/70/881370/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1a1f4ff063c8cc6faec69fd55d114a72382d57fd,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-placement~881369,openstack/charm-placement,stable/yoga,Ic8d297b66b957ef538295ca785a5634c611a9ac4,Add bindep.txt,MERGED,2023-04-24 13:14:35.000000000,2023-05-26 15:18:15.000000000,2023-05-26 15:18:15.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-24 13:14:35.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/df82356478421b9d5835bd5df7667bdf304d329b', 'message': 'Add bindep.txt\n\nAdd build dependencies needed to run unit tests.\n\nChange-Id: Ic8d297b66b957ef538295ca785a5634c611a9ac4\n'}]",0,881369,df82356478421b9d5835bd5df7667bdf304d329b,8,4,1,2424,,,0,"Add bindep.txt

Add build dependencies needed to run unit tests.

Change-Id: Ic8d297b66b957ef538295ca785a5634c611a9ac4
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/69/881369/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,df82356478421b9d5835bd5df7667bdf304d329b,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fcharm-openstack-dashboard~821546,openstack/charm-openstack-dashboard,master,I6f7f03a52abef4f3f9ab83c4ff19cbd164ac014a,Set the Secure attribute on the cookie for ssl,ABANDONED,2021-12-13 12:39:00.000000000,2023-05-26 15:14:51.000000000,,"[{'_account_id': 8108}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 12:39:00.000000000', 'files': ['templates/default-ssl'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/bd5741e9dd4bed8d02185b5be095380098377355', 'message': 'Set the Secure attribute on the cookie for ssl\n\nThis is a slight revert to a previous revert to increase the security on\nthe dashboard.\n\nChange-Id: I6f7f03a52abef4f3f9ab83c4ff19cbd164ac014a\nCloses-Bug: #1822751\n'}]",6,821546,bd5741e9dd4bed8d02185b5be095380098377355,7,3,1,20870,,,0,"Set the Secure attribute on the cookie for ssl

This is a slight revert to a previous revert to increase the security on
the dashboard.

Change-Id: I6f7f03a52abef4f3f9ab83c4ff19cbd164ac014a
Closes-Bug: #1822751
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/46/821546/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/default-ssl'],1,bd5741e9dd4bed8d02185b5be095380098377355,bug/1822751," # NOTE(ajkavanagh) reference to Bug 1853173 and 1822751 he cookie can't be ""HttpOnly;Secure"" as Angular can't interact with the cookie. # Thus set it to Secure so that at least it is sent over the SSL channel. Header edit Set-Cookie ^(.*)$ $1;Secure"," # NOTE(ajkavanagh) due to Bug 1853173 the cookie can't be secure at this time, so disabling until a fix is found. # Header edit Set-Cookie ^(.*)$ $1;HttpOnly;Secure",3,2
openstack%2Fkeystonemiddleware~875109,openstack/keystonemiddleware,master,I8f97f3d30dde94ad512f75e0e2ff0718021dfde6,Update master for stable/2023.1,MERGED,2023-02-24 15:10:45.000000000,2023-05-26 15:02:31.000000000,2023-05-26 15:01:29.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-24 15:10:45.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/06bbdc8121f46581b766887f1ec255845bfea122', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I8f97f3d30dde94ad512f75e0e2ff0718021dfde6\n'}]",2,875109,06bbdc8121f46581b766887f1ec255845bfea122,11,4,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I8f97f3d30dde94ad512f75e0e2ff0718021dfde6
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/09/875109/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,06bbdc8121f46581b766887f1ec255845bfea122,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fhorizon~883921,openstack/horizon,stable/wallaby,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:37.000000000,2023-05-26 15:01:19.000000000,2023-05-26 14:59:18.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ef5f80ea9dae71bca8b208e4ede8d26176e902a', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:16:59.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b1a13e0837b9f0ac3e0e919ad0a270d417003db', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",5,883921,9b1a13e0837b9f0ac3e0e919ad0a270d417003db,11,2,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/883921/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,4ef5f80ea9dae71bca8b208e4ede8d26176e902a,883921,, - openstack/xstatic-font-awesome,0,1
openstack%2Fironic~882073,openstack/ironic,master,I4915dc23b1101b9b799f392434f237e5ccb323e4,Make metal3 job voting,MERGED,2023-05-02 15:15:20.000000000,2023-05-26 15:00:10.000000000,2023-05-26 14:57:20.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-05-02 15:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8329f28000ba2acaba639fc3aff3f700cd939b37', 'message': ""Make metal3 job voting\n\nNow that we have autocommit disabled, we need to make the metal3 job\nvoting to ensure we don't accidentally break sqlite support in the\nfuture.\n\nChange-Id: I4915dc23b1101b9b799f392434f237e5ccb323e4\n""}, {'number': 2, 'created': '2023-05-25 14:36:20.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf850cad14611b2f1489d767818fa108bbb7f337', 'message': ""Make metal3 job voting\n\nNow that we have autocommit disabled, we need to make the metal3 job\nvoting to ensure we don't accidentally break sqlite support in the\nfuture.\n\nChange-Id: I4915dc23b1101b9b799f392434f237e5ccb323e4\n""}]",3,882073,bf850cad14611b2f1489d767818fa108bbb7f337,18,4,2,10342,,,0,"Make metal3 job voting

Now that we have autocommit disabled, we need to make the metal3 job
voting to ensure we don't accidentally break sqlite support in the
future.

Change-Id: I4915dc23b1101b9b799f392434f237e5ccb323e4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/882073/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8329f28000ba2acaba639fc3aff3f700cd939b37,, - metal3-integration - metal3-integration, - metal3-integration: voting: false,2,2
openstack%2Fcharm-placement~842911,openstack/charm-placement,master,I446b859b83192de37c6d66bbfafbdf3f3208da7b,DO NOT MERGE TESTING ZAZA,ABANDONED,2022-05-23 06:14:15.000000000,2023-05-26 14:52:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-23 06:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/da2845f5afcbc229a6ad87a99f798a9f35243307', 'message': 'DO NOT MERGE TESTING ZAZA\n\nChange-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/499\n'}, {'number': 2, 'created': '2022-05-23 09:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/c93461a8c238458622eaf5196c8ca8aa679b1899', 'message': 'DO NOT MERGE TESTING ZAZA\n\nChange-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b\nfunc-test-pr: https://github.com/openstack-charmers/zaza/pull/499\n'}, {'number': 3, 'created': '2022-05-23 09:27:52.000000000', 'files': ['src/test-requirements.txt', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/550259362bf525659686b1831d653113013658d7', 'message': 'DO NOT MERGE TESTING ZAZA\n\nChange-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b\n'}]",2,842911,550259362bf525659686b1831d653113013658d7,12,2,3,12549,,,0,"DO NOT MERGE TESTING ZAZA

Change-Id: I446b859b83192de37c6d66bbfafbdf3f3208da7b
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/11/842911/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,da2845f5afcbc229a6ad87a99f798a9f35243307,test-run-no-merge,TESTING ZAZA NO MERGE,,1,0
openstack%2Fcharm-swift-proxy~551059,openstack/charm-swift-proxy,master,I6a6f827d249fb8432400a2b4564c82c2e865d561,Introduce manage-rings action to remove/reweight disks,ABANDONED,2018-03-09 02:45:03.000000000,2023-05-26 14:49:40.000000000,,"[{'_account_id': 6737}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 25011}, {'_account_id': 29805}, {'_account_id': 31420}]","[{'number': 1, 'created': '2018-03-09 02:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/548e6fa96189b0da5a2a19f2ea4b6e7afaa9eb3e', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 2, 'created': '2018-03-09 02:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/e631ffc0a35aeb30dfbfcb5a8d5699b59026e82e', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 3, 'created': '2018-04-05 22:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d6ada0fe771ed93ca41362baad955f2142f522e6', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 4, 'created': '2018-11-08 05:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/46813611b4ab3f0f80ac12cbd764ea50dfd5f4f7', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 5, 'created': '2020-01-22 21:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/88f99fd46fdfbd4f867998a5ede9a7590f9c054c', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 6, 'created': '2020-01-23 04:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/13c4f317ba5307287cf89bce303b0506c8b89407', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 7, 'created': '2020-01-23 04:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/9b5920a03399f02534b8516e1ad718e7bdb747dd', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 8, 'created': '2020-01-23 15:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d7ec40ea33f76aee0fa1c02d0fa370df1d53b0a3', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set_weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 9, 'created': '2020-01-23 18:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a08bdf7a136eae1f7557d3192c605688d408a859', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set_weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 10, 'created': '2020-01-23 21:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/673d59ea379e0b2f7f04dada6fcb375bcbbf0427', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 11, 'created': '2020-01-24 20:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a64734243836bf5b6b7e4f9dea257d5d85e6bfc8', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 12, 'created': '2020-01-24 22:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/0a58e437b3b1980f5c2c3a4c3dd38895487c28d8', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 13, 'created': '2020-01-24 22:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/db188a809a7e1a9190d0449f45f8285ecead635e', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 14, 'created': '2020-01-24 22:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/ec9cda51bf6c24ba063bed04cb0a3dd27b06622f', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 15, 'created': '2020-01-29 19:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/02babe4d06e7d977e383834767f0219eef8a166f', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 16, 'created': '2020-02-07 20:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f9aef1824ee8986000d393a934bb1e42882a66c0', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 17, 'created': '2020-02-07 21:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/70968efff21ee6f2b7f8a0213b2cea150cbdfa17', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}, {'number': 18, 'created': '2020-02-08 04:27:31.000000000', 'files': ['actions/actions.py', 'lib/swift_utils.py', 'actions/manage-rings', 'unit_tests/test_actions.py', 'unit_tests/test_swift_utils.py', 'README.md', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f91c08ba32a8a6a5b1ebc53231131fb333a00efb', 'message': 'Introduce manage-rings action to remove/reweight disks\n\nAllows you to run a single action that bulk manages\nring removes and set-weights on the leader.  Protects\nnon-leaders from executing ring manangement actions.\n\nChange-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561\n'}]",10,551059,f91c08ba32a8a6a5b1ebc53231131fb333a00efb,65,8,18,25011,,,0,"Introduce manage-rings action to remove/reweight disks

Allows you to run a single action that bulk manages
ring removes and set-weights on the leader.  Protects
non-leaders from executing ring manangement actions.

Change-Id: I6a6f827d249fb8432400a2b4564c82c2e865d561
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/59/551059/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/manage-rings', 'actions/manage_rings.py', 'actions.yaml']",3,548e6fa96189b0da5a2a19f2ea4b6e7afaa9eb3e,manage-rings,"manage-rings: description: | Parse YAML of actions to perform on rings, then trigger a ring rebalance and sync across swift environment if successful required: ring: type: string description: | The ring builder file(s) to modify. One of 'object', 'account', 'container', or 'all' change-spec: type: string description: |- YAML of actions and disks to take those actions on. Format as below. remove: - descriptor: 'd99' - descriptor: 'd100' - descriptor: '<any search device supported by swift-ring-builder>' set_weight: - descriptor: 'd101' weight: 1.0 - descriptor: 'd102' weight: 0.5 - descriptor: '<any search device>' weight: 0.0 ",,196,0
openstack%2Fcharm-swift-proxy~662218,openstack/charm-swift-proxy,master,I470ea76a543a7a5bef8fb2c4ca9f91c59715d519,Allow disabling load balancing,ABANDONED,2019-05-30 13:34:52.000000000,2023-05-26 14:45:21.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24504}]","[{'number': 1, 'created': '2019-05-30 13:34:52.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/2aa2148968ef5f90ae521eb1a9efe7827968f709', 'message': ""Allow disabling load balancing\n\nThis patchset implements a logic to control whether HAProxy load\nbalancing should be enabled or not based on the 'ha-lb-enable' config\noption.\n\nDepends-On: https://github.com/juju/charm-helpers/pull/331\nChange-Id: I470ea76a543a7a5bef8fb2c4ca9f91c59715d519\nCloses-Bug: 1827356\n""}]",0,662218,2aa2148968ef5f90ae521eb1a9efe7827968f709,5,3,1,24504,,,0,"Allow disabling load balancing

This patchset implements a logic to control whether HAProxy load
balancing should be enabled or not based on the 'ha-lb-enable' config
option.

Depends-On: https://github.com/juju/charm-helpers/pull/331
Change-Id: I470ea76a543a7a5bef8fb2c4ca9f91c59715d519
Closes-Bug: 1827356
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/18/662218/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,2aa2148968ef5f90ae521eb1a9efe7827968f709,bug/1827356, ha-lb-enable: type: boolean default: True description: | Defines whether HAProxy load balancing should be enabled or not.,,5,0
openstack%2Fsushy-tools~884502,openstack/sushy-tools,master,I5528adb10843f4d8fa82217dfa4dff1572fb0893,"Add fake_ipa inspection, lookup and heartbeater to fake system",ABANDONED,2023-05-26 13:40:12.000000000,2023-05-26 14:44:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 13:40:12.000000000', 'files': ['sushy_tools/fake_ipa/base.py', 'sushy_tools/fake_ipa/encoding.py', 'sushy_tools/fake_ipa/utils.py', 'sushy_tools/fake_ipa/clean.py', 'sushy_tools/fake_ipa/main.py', 'sushy_tools/fake_ipa/__init__.py', 'sushy_tools/fake_ipa/fake_agent.py', 'sushy_tools/error.py', 'sushy_tools/fake_ipa/deploy.py', 'sushy_tools/fake_ipa/inspector.py', 'setup.cfg', 'sushy_tools/fake_ipa/standby.py', 'tox.ini', 'sushy_tools/fake_ipa/heartbeater.py', 'sushy_tools/fake_ipa/ironic_api_client.py', 'sushy_tools/emulator/resources/systems/fakedriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d5408ac0a8f1c6ba3dbf4b3392d2e150aedf0a9d', 'message': '    Add fake_ipa inspection, lookup and heartbeater to fake system\n\n    Co-authored-by: Furkat Gofurov <furkat.gofurov@est.tech>\n        Co-authored-by: Huy Mai <huy.mai@est.tech>\n    Change-Id: Ideede495d4c093c6f9ea544b4ad9206070832dba\n\nChange-Id: I5528adb10843f4d8fa82217dfa4dff1572fb0893\n'}]",0,884502,d5408ac0a8f1c6ba3dbf4b3392d2e150aedf0a9d,3,1,1,35777,,,0,"    Add fake_ipa inspection, lookup and heartbeater to fake system

    Co-authored-by: Furkat Gofurov <furkat.gofurov@est.tech>
        Co-authored-by: Huy Mai <huy.mai@est.tech>
    Change-Id: Ideede495d4c093c6f9ea544b4ad9206070832dba

Change-Id: I5528adb10843f4d8fa82217dfa4dff1572fb0893
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/02/884502/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/fake_ipa/base.py', 'sushy_tools/fake_ipa/encoding.py', 'sushy_tools/fake_ipa/utils.py', 'sushy_tools/fake_ipa/clean.py', 'sushy_tools/fake_ipa/main.py', 'sushy_tools/fake_ipa/__init__.py', 'sushy_tools/fake_ipa/fake_agent.py', 'sushy_tools/error.py', 'sushy_tools/fake_ipa/deploy.py', 'sushy_tools/fake_ipa/inspector.py', 'setup.cfg', 'sushy_tools/fake_ipa/standby.py', 'tox.ini', 'sushy_tools/fake_ipa/heartbeater.py', 'sushy_tools/fake_ipa/ironic_api_client.py', 'sushy_tools/emulator/resources/systems/fakedriver.py']",16,d5408ac0a8f1c6ba3dbf4b3392d2e150aedf0a9d,Add-fake_ipa/mohammed,"import requests from sushy_tools.emulator import constants 'fake_ipa': 'disabled', { 'mac': '00:5c:52:31:3a:9c', 'ip': '172.22.0.100' } system = self._get(identity) power_state = system.get('power_state') fake_ipa = system.get('fake_ipa') self._logger.debug('Getting power state: node ""%s"" [power state: %s, \ fake_ipa: %s]', system.get('name'), power_state, fake_ipa) # if fake_ipa is in booting state boot fake_ipa then set it to enabled. if power_state in 'On' and fake_ipa and fake_ipa in 'booting': self._boot_ipa(system) return power_state self._logger.info('Setting power state ""%s"" in node %s', state, system.get('name')) fake_ipa = system.get('fake_ipa') if pending_state in 'On' and fake_ipa and fake_ipa in 'enabled': self._logger.info( 'Set fake_ipa state to booting in node %s', system.get('name')) self._update(system, fake_ipa='booting') if system['power_state'] != pending_state: # Check if powering off and fake_ipa is enabled then # remove the node from heartbeater threads if state not in 'On' and fake_ipa and fake_ipa in 'enabled': self._logger.info( 'Remove the node from heartbeater threads in node %s', system.get('name')) self._remove_from_heartbeater(system['uuid']) system = self._get(identity) self._logger.info('Enabling fake_ipa after set boot device: %s \ in node %s', boot_source, system.get('name')) if boot_source in constants.DEVICE_TYPE_HDD: self._update(identity, fake_ipa='disabled') else: self._update(identity, fake_ipa='enabled') return [{'id': nic.get('mac'), 'mac': nic.get('mac')} def _boot_ipa(self, system): self._config.setdefault('FAKE_IPA_URL', 'http://192.168.111.1:9999') fake_ipa_url = self._config['FAKE_IPA_URL'] boot_url = '{}/boot'.format(fake_ipa_url) resp = requests.put(boot_url, json=system, headers={'Content-type': 'application/json'}) if resp.status_code >= 400: self._logger.error('Fake ipa (%s) in node %s request error %d: %s', fake_ipa_url, system.get('name'), resp.status_code, resp.text) return self._logger.info(""ipa enabled in node %s"", system.get('name')) self._update(system, fake_ipa='enabled') def _remove_from_heartbeater(self, uuid): fake_ipa_url = self._config['FAKE_IPA_URL'] delete_url = '{}/{}'.format(fake_ipa_url, uuid) resp = requests.delete(delete_url) if resp.status_code >= 400: self._logger.error('Fake ipa (%s) request error %d: %s', uuid, resp.status_code, resp.text)"," {'address': '00:5c:52:31:3a:9c'} return self._get(identity)['power_state'] if system['power_state'] != pending_state: return [{'id': nic.get('address'), 'mac': nic.get('address')}",1864,7
openstack%2Fcharm-swift-storage~742702,openstack/charm-swift-storage,master,I973304a4293dde428b5e8b586b1ce7eae84f4e7a,Split the swift_storage nrpe check into separate checks,ABANDONED,2020-07-23 16:30:14.000000000,2023-05-26 14:40:33.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25011}, {'_account_id': 27944}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-23 16:30:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d7b4f25a8b3ca82e57a98062eb9ff79da2201217', 'message': 'Split the swift_storage nrpe check into separate checks\n\nThis allows for downtiming individual failures without having to silence\nthe whole check\n\nChange-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a\n'}, {'number': 2, 'created': '2020-07-23 16:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/97396be5d8610a910b3363b62cbd561f4ffcc6f1', 'message': 'Split the swift_storage nrpe check into separate checks\n\nThis allows for downtiming individual failures without having to silence\nthe whole check\n\nCloses-Bug: 1888709\nChange-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a\n'}, {'number': 3, 'created': '2020-07-23 17:18:40.000000000', 'files': ['files/nrpe-external-master/check_swift_storage.py', 'unit_tests/test_check_swift_storage.py', 'config.yaml', 'hooks/swift_storage_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/f99a02d7c7f7bda469392e909f8e6274df5fae5d', 'message': 'Split the swift_storage nrpe check into separate checks\n\nThis allows for downtiming individual failures without having to silence\nthe whole check\n\nCloses-Bug: 1888709\nChange-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a\n'}]",4,742702,f99a02d7c7f7bda469392e909f8e6274df5fae5d,16,5,3,27944,,,0,"Split the swift_storage nrpe check into separate checks

This allows for downtiming individual failures without having to silence
the whole check

Closes-Bug: 1888709
Change-Id: I973304a4293dde428b5e8b586b1ce7eae84f4e7a
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/02/742702/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/nrpe-external-master/check_swift_storage.py', 'unit_tests/test_check_swift_storage.py', 'config.yaml', 'hooks/swift_storage_hooks.py']",4,d7b4f25a8b3ca82e57a98062eb9ff79da2201217,bug/1888709,"RINGS = ['container', 'account', 'object'] # check ring hashes and replication for ring in RINGS: base_cmd = 'check_swift_storage.py -p {} --ring {}'.format( config('{}-server-port'.format(ring)), ring ) # check ring replication lag lag_args = \ config('nagios-check-params').replace('-m', '').strip() \ or '-r {} {} {} {}'.format( config('nagios-{}-replication-lag-warn'.format(ring)), config('nagios-{}-replication-lag-crit'.format(ring)), config('nagios-{}-replication-failure-warn'.format(ring)), config('nagios-{}-replication-failure-crit'.format(ring)) ) lag_cmd = '{} {}'.format(base_cmd, lag_args) lag_desc = ('Check swift {} storage ring replication [{}]' ''.format(ring, current_unit)) nrpe_setup.add_check( shortname='swift_{}_replication_lag'.format(ring), description=lag_desc, check_cmd=lag_cmd ) # check ring md5 md5_desc = ('Check swift {} storage ring replication [{}]' ''.format(ring, current_unit)) nrpe_setup.add_check( shortname='swift_{}_ring_md5'.format(ring), description=md5_desc, check_cmd='{} -m'.format(base_cmd) ) # this should be idempotent nrpe_setup.remove_check(shortname='swift_storage') # check for dead object replicators"," # check the rings and replication nrpe_setup.add_check( shortname='swift_storage', description='Check swift storage ring hashes and replication' ' {%s}' % current_unit, check_cmd='check_swift_storage.py {}'.format( config('nagios-check-params')) )",262,150
openstack%2Fcharm-swift-storage~643593,openstack/charm-swift-storage,master,I81732c8628cb36af0e5427626ca92275e7b2c98b,Migrate to safer disk handling,ABANDONED,2019-03-15 14:08:32.000000000,2023-05-26 14:39:35.000000000,,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-15 14:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/2fa3121c59a269cb0b7b316f8d770b2f6809fd3b', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 2, 'created': '2019-03-15 14:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/09f4cdfc5ec6d10e16236a3d74a5a6a154f72ed0', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 3, 'created': '2019-03-15 14:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d1dad83ef22f128e560153fd064c973365c09f71', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 4, 'created': '2019-03-15 14:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/17ca84341f8bddd19028b8ddbc954e27f781e960', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}, {'number': 5, 'created': '2019-05-30 09:01:51.000000000', 'files': ['unit_tests/test_actions_zap_disk.py', 'unit_tests/test_actions_blacklist.py', 'actions/list_disks.py', 'config.yaml', 'actions/list-disks', 'actions/zap_disk.py', 'actions/blacklist-remove-disk', 'tests/basic_deployment.py', 'actions/add_disk.py', 'actions/zap-disk', 'unit_tests/test_swift_storage_utils.py', 'actions/blacklist.py', 'hooks/install', 'lib/misc_utils.py', 'actions/blacklist-add-disk', 'hooks/install_deps', 'actions.yaml', 'actions/add-disk', 'lib/swift_storage_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/066d93621bab4f44cd071fba0378666b7e592cdb', 'message': 'Migrate to safer disk handling\n\nPreviously, it was possible, via a race condition, for\nthis charm to reformat disks that were used for Swift\nbacking storage if the charm execution started before\ndisks were fully setup in Swift after a boot.\n\nThis change integrates the solution adopted in the Ceph\ncharms that alow managing Swift devices via actions\nwhen uncertainty is detected during hook execution.\n\nThis change adds new new actions to ease management of\ndisks:\n\n- list-disks\n- add-disk\n- blacklist-add-disk\n- blacklist-remove-disk\n\nChange-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b\nCloses-Bug: #1819700\n'}]",0,643593,066d93621bab4f44cd071fba0378666b7e592cdb,17,5,5,20634,,,0,"Migrate to safer disk handling

Previously, it was possible, via a race condition, for
this charm to reformat disks that were used for Swift
backing storage if the charm execution started before
disks were fully setup in Swift after a boot.

This change integrates the solution adopted in the Ceph
charms that alow managing Swift devices via actions
when uncertainty is detected during hook execution.

This change adds new new actions to ease management of
disks:

- list-disks
- add-disk
- blacklist-add-disk
- blacklist-remove-disk

Change-Id: I81732c8628cb36af0e5427626ca92275e7b2c98b
Closes-Bug: #1819700
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/93/643593/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_actions_zap_disk.py', 'unit_tests/test_actions_blacklist.py', 'actions/list_disks.py', 'config.yaml', 'actions/list-disks', 'charmhelpers/core/host_factory/ubuntu.py', 'actions/zap_disk.py', 'actions/blacklist-remove-disk', 'charmhelpers/contrib/storage/linux/utils.py', 'charmhelpers/core/host.py', 'tests/basic_deployment.py', 'actions/add_disk.py', 'actions/zap-disk', 'unit_tests/test_swift_storage_utils.py', 'actions/blacklist.py', 'hooks/install', 'lib/misc_utils.py', 'actions/blacklist-add-disk', 'hooks/install_deps', 'actions.yaml', 'actions/add-disk', 'lib/swift_storage_utils.py']",22,2fa3121c59a269cb0b7b316f8d770b2f6809fd3b,bug/1819700," status_get, status_set,def get_blacklist(): """"""Get blacklist stored in the local kv() store"""""" db = kv() return db.get('disk-blacklist', []) # Filter out any devices in the action managed unit-local device blacklist _blacklist = get_blacklist() valid_bdevs = [device for device in valid_bdevs if device not in _blacklist]def setup_storage(encrypt=False, devices=None): devices = devices or determine_block_devices() devices = [dev for dev in devices if dev not in prepared_devices] for dev in devices: devices.remove(dev) # filter devices that are already mounted # NOTE: this deals with a dm-crypt'ed block device already in # use devices = [dev for dev in devices if not is_device_mounted(dev)] log('Checking for pristine devices: ""{}""'.format(devices), level=DEBUG) if not all(is_pristine_disk(dev) for dev in devices): status_set('blocked', 'Non-pristine devices detected, consult ' '`list-disks`, `zap-disk` and `blacklist-*` actions.') return for dev in devices: if setup_dev(dev, encrypt): prepared_devices.append(dev) db.set('prepared-devices', prepared_devices) db.flush() (prev_status, prev_message) = status_get() if prev_message.startswith('Non-pristine'): status_set('active', 'Unit is ready') def setup_dev(dev, encrypt=False): """"""Give a device to Swift. :param dev: The device name to manage, ex: /dev/sdb :type dev: str """""" loopback_device = is_mapped_loopback_device(dev) options = None if encrypt and not loopback_device: dev_uuid = str(uuid.uuid4()) check_call(['vaultlocker', 'encrypt', '--uuid', dev_uuid, dev]) dev = '/dev/mapper/crypt-{}'.format(dev_uuid) options = ','.join([ ""defaults"", ""nofail"", (""x-systemd.requires="" ""vaultlocker-decrypt@{uuid}.service"".format(uuid=dev_uuid)), ""comment=vaultlocker"", ]) try: # If not cleaned and in use, mkfs should fail. mkfs_xfs(dev) except subprocess.CalledProcessError as exc: # This is expected is a formatted device is provided and we are # forcing the format. log(""Format device '%s' failed (%s) - continuing to next device"" % (dev, exc), level=WARNING) return basename = os.path.basename(dev) _mp = os.path.join('/srv', 'node', basename) mkdir(_mp, owner='swift', group='swift') mountpoint = '/srv/node/%s' % basename if loopback_device: # If an exiting fstab entry exists using the image file as the # source then preserve it, otherwise use the loopback device # directly to avoid a secound implicit loopback device being # created on mount. Bug #1762390 fstab = charmhelpers.core.fstab.Fstab() fstab_entry = fstab.get_entry_by_attr('mountpoint', mountpoint) if fstab_entry and loopback_device == fstab_entry.device: dev = loopback_device options = ""loop,nofail,defaults"" filesystem = ""xfs"" mount(dev, mountpoint, filesystem=filesystem) fstab_add(dev, mountpoint, filesystem, options=options) check_call(['chown', '-R', 'swift:swift', mountpoint]) check_call(['chmod', '-R', '0755', mountpoint]) # NOTE: record preparation of device - this will be used when # providing block device configuration for ring builders. return True def is_pristine_disk(dev): """""" Read first 2048 bytes (LBA 0 - 3) of block device to determine whether it is actually all zeros and safe for us to use. Existing partitioning tools does not discern between a failure to read from block device, failure to understand a partition table and the fact that a block device has no partition table. Since we need to be positive about which is which we need to read the device directly and confirm ourselves. :param dev: Path to block device :type dev: str :returns: True all 2048 bytes == 0x0, False if not :rtype: bool """""" want_bytes = 2048 f = open(dev, 'rb') data = f.read(want_bytes) read_bytes = len(data) if read_bytes != want_bytes: log('{}: short read, got {} bytes expected {}.' .format(dev, read_bytes, want_bytes), level=WARNING) return False return all(byte == 0x0 for byte in data) (prev_status, prev_message) = status_get() if prev_message.startswith('Non-pristine'): return (prev_status, prev_message) else: return (""active"", ""Unit is ready"")"," clean_storage,def setup_storage(encrypt=False): reformat = str(config('overwrite')).lower() == ""true"" for dev in determine_block_devices(): if dev in prepared_devices: log('Device {} already processed by charm,' ' skipping'.format(dev)) continue continue # NOTE: this deals with a dm-crypt'ed block device already in # use if is_device_mounted(dev): log(""Device '{}' is already mounted, ignoring"".format(dev)) continue if reformat: clean_storage(dev) loopback_device = is_mapped_loopback_device(dev) options = None if encrypt and not loopback_device: dev_uuid = str(uuid.uuid4()) check_call(['vaultlocker', 'encrypt', '--uuid', dev_uuid, dev]) dev = '/dev/mapper/crypt-{}'.format(dev_uuid) options = ','.join([ ""defaults"", ""nofail"", (""x-systemd.requires="" ""vaultlocker-decrypt@{uuid}.service"".format(uuid=dev_uuid)), ""comment=vaultlocker"", ]) try: # If not cleaned and in use, mkfs should fail. mkfs_xfs(dev, force=reformat) except subprocess.CalledProcessError as exc: # This is expected is a formatted device is provided and we are # forcing the format. log(""Format device '%s' failed (%s) - continuing to next device"" % (dev, exc), level=WARNING) continue basename = os.path.basename(dev) _mp = os.path.join('/srv', 'node', basename) mkdir(_mp, owner='swift', group='swift') mountpoint = '/srv/node/%s' % basename if loopback_device: # If an exiting fstab entry exists using the image file as the # source then preserve it, otherwise use the loopback device # directly to avoid a secound implicit loopback device being # created on mount. Bug #1762390 fstab = charmhelpers.core.fstab.Fstab() fstab_entry = fstab.get_entry_by_attr('mountpoint', mountpoint) if fstab_entry and loopback_device == fstab_entry.device: dev = loopback_device options = ""loop,nofail,defaults"" filesystem = ""xfs"" mount(dev, mountpoint, filesystem=filesystem) fstab_add(dev, mountpoint, filesystem, options=options) check_call(['chown', '-R', 'swift:swift', mountpoint]) check_call(['chmod', '-R', '0755', mountpoint]) # NOTE: record preparation of device - this will be used when # providing block device configuration for ring builders. prepared_devices.append(dev) db.set('prepared-devices', prepared_devices) db.flush() return (""active"", ""Unit is ready"")",1028,175
openstack%2Fhorizon~883920,openstack/horizon,stable/xena,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-05-24 04:03:22.000000000,2023-05-26 14:33:36.000000000,2023-05-26 14:31:33.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-05-24 04:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb4d412afd21c061e21083a4eb27ee17d97df74d', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:13:41.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/050914d8b68bf049097bdd5656084df9ba64e684', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",5,883920,050914d8b68bf049097bdd5656084df9ba64e684,12,2,2,29313,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/883920/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,bb4d412afd21c061e21083a4eb27ee17d97df74d,883920,, - openstack/xstatic-font-awesome,0,1
openstack%2Fopenstacksdk~883949,openstack/openstacksdk,stable/ussuri,Icbb6137e77be8344e32e2e68a3e12d77087e96c5,[stable-only] Use ussuri-eol tag for heat checkout,MERGED,2023-05-23 15:46:30.000000000,2023-05-26 14:20:37.000000000,2023-05-26 14:18:14.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-23 15:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/12a789fbbe9edf18ea75214e03843b09b4df9c47', 'message': 'Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}, {'number': 2, 'created': '2023-05-25 14:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b505ab2f81833354a00aa72d65dff9a5865c6b0f', 'message': 'Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}, {'number': 3, 'created': '2023-05-25 16:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/320c37ae24b7f07673502ef34299fbbb82a7eeef', 'message': '[stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}, {'number': 4, 'created': '2023-05-26 07:54:14.000000000', 'files': ['openstack/tests/unit/baremetal/v1/test_proxy.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/eadba75afc04ebf4c364aeb0f750dd11e5270d3f', 'message': '[stable-only] Use ussuri-eol tag for heat checkout\n\nheat transitioned their stable/ussuri and stable/train to End of Life,\nthus stable/ussuri and stable/train branches were deleted and causing\nbranch checkout errors. This patch sets to override the default stable\nbranch checkout with using the eol tag instead.\n\nNOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src\njob is failing and set non-voting even on master, so to unblock the\ngate this patch removes it as no reason to make it non-voting on such\nold stable/branch as ussuri and train.\n\nNOTE(elod.illes): this patch also contains patch\nI293d0e05151acc4207c5d565bd6a1439b1873f3b, which is squashed into this\nto make the gate stable.\n(cherry picked from commit c3857c136cb3fcd24c92184ea7018b962b80798c)\n\nChange-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5\n'}]",3,883949,eadba75afc04ebf4c364aeb0f750dd11e5270d3f,21,2,4,17685,,,0,"[stable-only] Use ussuri-eol tag for heat checkout

heat transitioned their stable/ussuri and stable/train to End of Life,
thus stable/ussuri and stable/train branches were deleted and causing
branch checkout errors. This patch sets to override the default stable
branch checkout with using the eol tag instead.

NOTE(elod.illes): dib-nodepool-functional-openstack-centos-8-stream-src
job is failing and set non-voting even on master, so to unblock the
gate this patch removes it as no reason to make it non-voting on such
old stable/branch as ussuri and train.

NOTE(elod.illes): this patch also contains patch
I293d0e05151acc4207c5d565bd6a1439b1873f3b, which is squashed into this
to make the gate stable.
(cherry picked from commit c3857c136cb3fcd24c92184ea7018b962b80798c)

Change-Id: Icbb6137e77be8344e32e2e68a3e12d77087e96c5
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/883949/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,12a789fbbe9edf18ea75214e03843b09b4df9c47,heat-eol-tag-for-devstack, - name: openstack/heat override-branch: ussuri-eol, - openstack/heat,2,1
openstack%2Fcharm-swift-storage~742602,openstack/charm-swift-storage,master,Iedd27a51ff93fd1670a418e1434c94875fe21643,conntrack: set sane sysctl defaults,MERGED,2020-07-23 07:05:16.000000000,2023-05-26 14:13:26.000000000,2023-05-26 14:13:26.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 07:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/8b0ff2dc7e25c682d86230af2f0f1013fe8e86fa', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 2, 'created': '2020-09-11 14:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/550fa7c808d5fa80b46c92020e35d5e4e301e97d', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 3, 'created': '2021-09-03 12:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/99f44ec757937d983100272da52efb8a547e87f7', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 4, 'created': '2021-09-03 13:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/24fae807ca33dc1b65c3e9f90ee5d0c0330b141e', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}, {'number': 5, 'created': '2022-07-11 13:41:00.000000000', 'files': ['unit_tests/test_swift_storage_relations.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d9a8025ac3d8fa4743970e20a5634cd18680d2e9', 'message': 'conntrack: set sane sysctl defaults\n\nswift-storage is often deployed alongside nova-compute where it\ninherits some sane defaults for sysctl values, specifically around\nconntrack configuration.\n\nIf its deployed standalone it does not recieve the same tuning,\nbut its very much applicable as access between swift-storage nodes\nfor rsync traffic is firewall limited so makes a high demand\non conntrack on the server.\n\nLift and shift the defaults from the nova-compute charm.\n\nChange-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643\nCloses-Bug: 1879121\n'}]",3,742602,d9a8025ac3d8fa4743970e20a5634cd18680d2e9,22,3,5,935,,,0,"conntrack: set sane sysctl defaults

swift-storage is often deployed alongside nova-compute where it
inherits some sane defaults for sysctl values, specifically around
conntrack configuration.

If its deployed standalone it does not recieve the same tuning,
but its very much applicable as access between swift-storage nodes
for rsync traffic is firewall limited so makes a high demand
on conntrack on the server.

Lift and shift the defaults from the nova-compute charm.

Change-Id: Iedd27a51ff93fd1670a418e1434c94875fe21643
Closes-Bug: 1879121
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/02/742602/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,8b0ff2dc7e25c682d86230af2f0f1013fe8e86fa,bug/1879121," default: | { net.ipv4.neigh.default.gc_thresh1 : 128, net.ipv4.neigh.default.gc_thresh2 : 28672, net.ipv4.neigh.default.gc_thresh3 : 32768, net.ipv6.neigh.default.gc_thresh1 : 128, net.ipv6.neigh.default.gc_thresh2 : 28672, net.ipv6.neigh.default.gc_thresh3 : 32768, net.nf_conntrack_max : 1000000, net.netfilter.nf_conntrack_buckets : 204800, net.netfilter.nf_conntrack_max : 1000000 }", default:,10,1
openstack%2Freleases~882605,openstack/releases,master,I8c5a5ee1ecdb9630a4cf6f8cebec529a4fbb9c38,Release tosca-parser for Bobcat-1 milestone,ABANDONED,2023-05-08 16:27:57.000000000,2023-05-26 14:12:29.000000000,,"[{'_account_id': 9816}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-05-08 16:27:57.000000000', 'files': ['deliverables/bobcat/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1fdd3a4b0414f7a3e0c748417b31eddf666cdda5', 'message': 'Release tosca-parser for Bobcat-1 milestone\n\nThis is a library release for tosca-parser for the Bobcat-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 2.8.0..c34dd4b\nc34dd4b Interface outputs\ndcff68f Fix passenv for tox4\n\nChange-Id: I8c5a5ee1ecdb9630a4cf6f8cebec529a4fbb9c38\nSigned-off-by: Elod Illes <elod.illes@est.tech>\n'}]",0,882605,1fdd3a4b0414f7a3e0c748417b31eddf666cdda5,4,5,1,17685,,,0,"Release tosca-parser for Bobcat-1 milestone

This is a library release for tosca-parser for the Bobcat-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 2.8.0..c34dd4b
c34dd4b Interface outputs
dcff68f Fix passenv for tox4

Change-Id: I8c5a5ee1ecdb9630a4cf6f8cebec529a4fbb9c38
Signed-off-by: Elod Illes <elod.illes@est.tech>
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/882605/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/tosca-parser.yaml'],1,1fdd3a4b0414f7a3e0c748417b31eddf666cdda5,bobcat-milestone-1,releases: - version: 2.9.0 projects: - repo: openstack/tosca-parser hash: c34dd4b6af549ae251dcbfca059d216e688a6bc6,,5,0
openstack%2Fcharm-swift-storage~849346,openstack/charm-swift-storage,master,I62bb6a5e5dc0c82e0f9bf2e86c88cb4acea5c0af,Pin tempest for different python versions,ABANDONED,2022-07-11 11:37:31.000000000,2023-05-26 14:09:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-11 11:37:31.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/efac464f1c97c5700bbba99b08e963a9984500c2', 'message': 'Pin tempest for different python versions\n\nChange-Id: I62bb6a5e5dc0c82e0f9bf2e86c88cb4acea5c0af\n'}]",1,849346,efac464f1c97c5700bbba99b08e963a9984500c2,5,2,1,20870,,,0,"Pin tempest for different python versions

Change-Id: I62bb6a5e5dc0c82e0f9bf2e86c88cb4acea5c0af
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/46/849346/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,efac464f1c97c5700bbba99b08e963a9984500c2,pin-tempest,git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.8' tempest<31.0.0;python_version<'3.8' and python_version>='3.6',git+https://opendev.org/openstack/tempest.git#egg=tempest;python_version>='3.6',2,1
openstack%2Fcharm-aodh~869496,openstack/charm-aodh,master,I633ae78890f83142a170c3dfcec0db0459122472,Test to ensure tox is not pinned for master,ABANDONED,2023-01-06 18:29:18.000000000,2023-05-26 14:01:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-06 18:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/8234651d5c998d025a89e467c7a799e2ef69155e', 'message': 'Test to ensure tox is not pinned for master\n\nhttps: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3\nChange-Id: I633ae78890f83142a170c3dfcec0db0459122472\n'}]",0,869496,8234651d5c998d025a89e467c7a799e2ef69155e,3,1,1,11805,,,0,"Test to ensure tox is not pinned for master

https: //github.com/openstack-charmers/zosci-config/commit/bc7cb25b900cd7aed13b89bd2cfd0f03309bcfe3
Change-Id: I633ae78890f83142a170c3dfcec0db0459122472
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/96/869496/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8234651d5c998d025a89e467c7a799e2ef69155e,,,,0,0
openstack%2Fcharm-aodh~867528,openstack/charm-aodh,master,Ib06ba5313363ece38b9fee573421dd7a041539f3,Add support for tox 4.x,ABANDONED,2022-12-13 15:46:52.000000000,2023-05-26 13:59:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-12-13 15:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/7f0cd727b7c80720d248bbbacf153853ccb89751', 'message': 'Add support for tox 4.x\n\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 2, 'created': '2022-12-13 15:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/78c18edea638fae842a1482536aac83694d733dd', 'message': 'Add support for tox 4.x\n\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 3, 'created': '2022-12-13 16:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/33d5b189ce7155cbb57709a8b14d207afa3d1106', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 4, 'created': '2022-12-13 17:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/d8d4521440dbad148ead1955a512baeffb640cf5', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 5, 'created': '2022-12-13 17:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/14cf97e9f53e7125bb8675a60f1e0c1f81224c74', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 6, 'created': '2022-12-13 17:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/212cdda352b718bffd80e44617f5cced7680e8c7', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 7, 'created': '2022-12-13 19:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a017af5a1892f0bb0589aa9054d72f7f6f335b08', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 8, 'created': '2022-12-13 19:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/1039876d58b6f812e145827b060b82074e2d73ad', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}, {'number': 9, 'created': '2022-12-13 20:24:49.000000000', 'files': ['src/tox.ini', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/1559fbea074dfc2d8dd54106fd34296bdbf4d3ba', 'message': 'Add support for tox 4.x\n\n* Unpin everything in tox.ini\n* Add pip.sh to allowlist_externals\n* Use -- to separate func-target commands from tox ones\n* Move tox passenv variables to separate lines. tox no longer\n  supports space-separation for a single line with multiple\n  variables. They need to either be space-separated or on\n  separate lines.\n\nDepends-On: https://review.opendev.org/866943\nChange-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3\n'}]",1,867528,1559fbea074dfc2d8dd54106fd34296bdbf4d3ba,23,2,9,11805,,,0,"Add support for tox 4.x

* Unpin everything in tox.ini
* Add pip.sh to allowlist_externals
* Use -- to separate func-target commands from tox ones
* Move tox passenv variables to separate lines. tox no longer
  supports space-separation for a single line with multiple
  variables. They need to either be space-separated or on
  separate lines.

Depends-On: https://review.opendev.org/866943
Change-Id: Ib06ba5313363ece38b9fee573421dd7a041539f3
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/28/867528/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7f0cd727b7c80720d248bbbacf153853ccb89751,unpin-tox,,,1,0
openstack%2Fcharm-aodh~853186,openstack/charm-aodh,master,I919538ebcfa9e998eb455ea2ce1ec0c951dfead7,Fix for tox -e build failure due to charmcraft command,ABANDONED,2022-08-15 16:48:04.000000000,2023-05-26 13:56:30.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-15 16:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/0753a8768068c4a3214a0ecad8314fb8a7360143', 'message': 'Fix for tox -e build failure due to charmcraft command\n\nPreviously, tox -e build command would fail due to\n""charmcraft -v build"" being out-dated. Updated to\n""charmcraft -v pack"" which successfully builds.\n\nChange-Id: I919538ebcfa9e998eb455ea2ce1ec0c951dfead7\n'}, {'number': 2, 'created': '2022-08-15 21:39:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/fadf242b77a2d1047aa216f30ce04e036ad29b54', 'message': 'Fix for tox -e build failure due to charmcraft command\n\nUse pack command instead of build command for charmcraft\n\nChange-Id: I919538ebcfa9e998eb455ea2ce1ec0c951dfead7\n'}]",2,853186,fadf242b77a2d1047aa216f30ce04e036ad29b54,8,3,2,35076,,,0,"Fix for tox -e build failure due to charmcraft command

Use pack command instead of build command for charmcraft

Change-Id: I919538ebcfa9e998eb455ea2ce1ec0c951dfead7
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/86/853186/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0753a8768068c4a3214a0ecad8314fb8a7360143,update-tox-ini-charmcraft-pack, charmcraft -v pack, charmcraft -v build,1,1
openstack%2Fpuppet-tripleo~884384,openstack/puppet-tripleo,stable/zed,I20c2aee6af03af96a4a2022681eabba75a6acf00,Horizon: Support Strict-Transport-Security header,ABANDONED,2023-05-26 13:52:33.000000000,2023-05-26 13:54:33.000000000,,[],"[{'number': 1, 'created': '2023-05-26 13:52:33.000000000', 'files': ['manifests/haproxy/horizon_endpoint.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2402b5603fe658a7ba228841528c35700e618c09', 'message': 'Horizon: Support Strict-Transport-Security header\n\nThis allows operators to enable HTTP Strict-Transport-Security (HSTS)\nfor Horizon endpoint, to enforce usage of SSL.\n\nChange-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00\n(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)\n'}]",0,884384,2402b5603fe658a7ba228841528c35700e618c09,2,0,1,8648,,,0,"Horizon: Support Strict-Transport-Security header

This allows operators to enable HTTP Strict-Transport-Security (HSTS)
for Horizon endpoint, to enforce usage of SSL.

Change-Id: I20c2aee6af03af96a4a2022681eabba75a6acf00
(cherry picked from commit 837abea1f385851aa9d67848867f63ae820f3b5c)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/84/884384/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy/horizon_endpoint.pp'],1,2402b5603fe658a7ba228841528c35700e618c09,tripleo-horizon-hsts-stable/zed,"<<<<<<< HEAD (1b65f4 Merge ""Ironic: Manage [nova] options by puppet"" into stable/)======= # (optional) Adds the HTTP Strict Transport Securiy (HSTS) header to >>>>>>> CHANGE (837abe Horizon: Support Strict-Transport-Security header)",,4,0
openstack%2Fopenstacksdk~868100,openstack/openstacksdk,master,Ia16c3bf2ba6b28e1102a164f029be9df128e81a8,Make various proxy arguments kwarg-only,ABANDONED,2022-12-19 15:35:32.000000000,2023-05-26 13:30:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-12-19 15:35:32.000000000', 'files': ['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/516c7f805f661fa61359cc50431af73f04555c48', 'message': ""Make various proxy arguments kwarg-only\n\nPeople shouldn't be calling these via positional arguments as it results\nin worse code.\n\nChange-Id: Ia16c3bf2ba6b28e1102a164f029be9df128e81a8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,868100,516c7f805f661fa61359cc50431af73f04555c48,3,1,1,15334,,,0,"Make various proxy arguments kwarg-only

People shouldn't be calling these via positional arguments as it results
in worse code.

Change-Id: Ia16c3bf2ba6b28e1102a164f029be9df128e81a8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/00/868100/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/compute/v2/_proxy.py']",2,516c7f805f661fa61359cc50431af73f04555c48,all-projects-support," def get_flavor(self, flavor, *, get_extra_specs=False): def flavors(self, *, details=True, get_extra_specs=False, **query): def images(self, *, details=True, **query): def delete_keypair(self, keypair, ignore_missing=True, *, user_id=None): def delete_server(self, server, ignore_missing=True, *, force=False): def servers(self, *, details=True, all_projects=False, **query): def create_server_image( self, server, name, *, metadata=None, wait=False, timeout=120, ): def lock_server(self, server, *, locked_reason=None): def rescue_server(self, server, *, admin_pass=None, image_ref=None): def evacuate_server( self, server, *, host=None, admin_pass=None, force=None, ): def delete_server_interface( self, server_interface, server=None, ignore_missing=True, ): def availability_zones(self, *, details=False): def hypervisors(self, *, details=False, **query): self, service, *, host=None, binary=None, forced=True, service.set_forced_down(self, host=host, binary=binary, forced=forced) self, service, *, host=None, binary=None, disabled_reason=None, self, host=host, binary=binary, disabled_reason=disabled_reason, ) def enable_service(self, service, *, host=None, binary=None): return self.update_service(service, status='enabled') return service.enable(self, host=host, binary=binary) self, server, *, host=None, force=False, block_migration=None, self, server_migration, server, ignore_missing=True, def _service_cleanup( self, dry_run=True, client_status_queue=None, identified_resources=None, filters=None, resource_evaluation_fn=None, ):"," def get_flavor(self, flavor, get_extra_specs=False): def flavors(self, details=True, get_extra_specs=False, **query): def images(self, details=True, **query): def delete_keypair(self, keypair, ignore_missing=True, user_id=None): def delete_server(self, server, ignore_missing=True, force=False): def servers(self, details=True, all_projects=False, **query): def create_server_image(self, server, name, metadata=None, wait=False, timeout=120): def lock_server(self, server, locked_reason=None): def rescue_server(self, server, admin_pass=None, image_ref=None): def evacuate_server(self, server, host=None, admin_pass=None, force=None): # TODO(stephenfin): Does this work? There's no 'value' parameter for the # call to '_delete' def delete_server_interface(self, server_interface, server=None, ignore_missing=True): def availability_zones(self, details=False): def hypervisors(self, details=False, **query): self, service, host=None, binary=None, forced=True service.set_forced_down(self, host, binary, forced) self, service, host=None, binary=None, disabled_reason=None self, host, binary, disabled_reason) def enable_service(self, service, host=None, binary=None): return self.update_service( service, status='enabled') return service.enable(self, host, binary) self, server, host=None, force=False, block_migration=None, self, server_migration, server, ignore_missing=True, def _service_cleanup(self, dry_run=True, client_status_queue=None, identified_resources=None, filters=None, resource_evaluation_fn=None):",143,53
openstack%2Ftripleo-heat-templates~884322,openstack/tripleo-heat-templates,stable/wallaby,I8b0501e7e3a994d40d37c983b1f0c073fd69e969,[S-RBAC] Use ext_parent_owner rule in the Neutron QoS API policies,MERGED,2023-05-25 09:00:34.000000000,2023-05-26 13:22:42.000000000,2023-05-26 13:22:42.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2023-05-25 09:00:34.000000000', 'files': ['environments/enable-secure-rbac.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1e181ffbae66c3e1e8d399bb321e77cb6ee1ad3f', 'message': '[S-RBAC] Use ext_parent_owner rule in the Neutron QoS API policies\n\nIn custom, secure RBAC API policies for the Neutron\'s QoS rules there\nwas custom rule to allow get it for policy (ext_parent) owner as policy\nrules don\'t have tenant_id attribute itself.\nInstead of using this ""custom"" check there, let\'s use\n""rule:ext_parent_owner"" which is already defined there. It also used\n""tenant_id"" instead of ""project_id"" and for some reason that makes those\nrules working properly.\n\nRelated: rhbz#2196291\nChange-Id: I8b0501e7e3a994d40d37c983b1f0c073fd69e969\n'}]",3,884322,1e181ffbae66c3e1e8d399bb321e77cb6ee1ad3f,10,4,1,11975,,,0,"[S-RBAC] Use ext_parent_owner rule in the Neutron QoS API policies

In custom, secure RBAC API policies for the Neutron's QoS rules there
was custom rule to allow get it for policy (ext_parent) owner as policy
rules don't have tenant_id attribute itself.
Instead of using this ""custom"" check there, let's use
""rule:ext_parent_owner"" which is already defined there. It also used
""tenant_id"" instead of ""project_id"" and for some reason that makes those
rules working properly.

Related: rhbz#2196291
Change-Id: I8b0501e7e3a994d40d37c983b1f0c073fd69e969
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/884322/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-secure-rbac.yaml'],1,1e181ffbae66c3e1e8d399bb321e77cb6ee1ad3f,," value: ""rule:admin_api or (role:reader and rule:ext_parent_owner)"" value: ""rule:admin_api or (role:reader and rule:ext_parent_owner)"" value: ""rule:admin_api or (role:reader and rule:ext_parent_owner)"""," value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)"" value: ""rule:admin_api or (role:reader and project_id:%(ext_parent:project_id)s)""",3,3
openstack%2Fcharm-mysql-innodb-cluster~883839,openstack/charm-mysql-innodb-cluster,master,Ife6235bab82bb828c943ba1215bf938238d4b257,Improve handling of errors in update status hook,MERGED,2023-05-22 13:11:44.000000000,2023-05-26 12:52:51.000000000,2023-05-26 12:52:51.000000000,"[{'_account_id': 2424}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-22 13:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a08335ca38d9bf06498463db81a6adfe358604f3', 'message': 'Improve handling of errors in update status hook\n\nThe update status hookj can error during logging on cluster status. This\njust prevents it from going into error during update-status.\n\nChange-Id: Ife6235bab82bb828c943ba1215bf938238d4b257\nCloses-Bug: #2015368\n'}, {'number': 2, 'created': '2023-05-25 19:43:10.000000000', 'files': ['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/4a71dcbaaca786d168bf849b03832339e64a717d', 'message': 'Improve handling of errors in update status hook\n\nThe update status hook can error during logging on cluster status. This\njust prevents it from going into error during update-status.\n\nChange-Id: Ife6235bab82bb828c943ba1215bf938238d4b257\nCloses-Bug: #2015368\n'}]",3,883839,4a71dcbaaca786d168bf849b03832339e64a717d,13,4,2,20870,,,0,"Improve handling of errors in update status hook

The update status hook can error during logging on cluster status. This
just prevents it from going into error during update-status.

Change-Id: Ife6235bab82bb828c943ba1215bf938238d4b257
Closes-Bug: #2015368
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/39/883839/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py']",2,a08335ca38d9bf06498463db81a6adfe358604f3,bug/2015368," .format(self._error_str(e)), ""ERROR"") .format(self._error_str(e)), ""ERROR"") @staticmethod def _error_str(e): """"""Get error string, if possible, from a subprocess CalledProcessError. Try to get the stderr from a CalledProcessError object, but if it's None (or it is a different exception), just stringify the error. (due to bug LP#2015368) :param e: the Exception that occured. :type e: Exception or derived Exception :returns: the string for the error. :rtype: str """""" try: return e.stderr.decode() except Exception: pass return str(e) "," .format(e.stderr.decode(""UTF-8"")), ""ERROR"") .format(e.stderr.decode(""UTF-8"")), ""ERROR"")",42,2
openstack%2Fmanila~883243,openstack/manila,master,I1f010c4ff9faf837bd50b6c2823cbc526f3a42df,Report PortLimitExceeded error to customer,MERGED,2023-05-16 10:18:51.000000000,2023-05-26 12:37:10.000000000,2023-05-26 12:36:02.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}, {'_account_id': 33038}]","[{'number': 1, 'created': '2023-05-16 10:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bffe82b1d45050776be4a9a1fdc26682cbf31952', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports exceeded.'),\nerror message propogated to user is not useful. Improve user message in\nthis scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}, {'number': 2, 'created': '2023-05-16 10:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb9a8695fe5395deb0bf2650e6bd5a16f2fef7d1', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports\nexceeded.'), error message propogated to user is not useful.\nImprove user message in this scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}, {'number': 3, 'created': '2023-05-19 09:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2bba8318c363e7d5b6f603b68afcdc02857d1aeb', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports\nexceeded.'), error message propogated to user is not useful.\nImprove user message in this scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}, {'number': 4, 'created': '2023-05-21 10:32:55.000000000', 'files': ['releasenotes/notes/report-PortLimitExceeded-error-to-customer-528990dc9574688f.yaml', 'manila/share/manager.py', 'manila/message/message_field.py', 'manila/tests/share/test_manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a372e5309821720308d13d8b597be551769e8e4f', 'message': ""Report PortLimitExceeded error to customer\n\nWhen share creation fails due to missing ports quota (\n'manila.exception.PortLimitExceeded: Maximum number of ports\nexceeded.'), error message propogated to user is not useful.\nImprove user message in this scenario.\n\nCloses-bug: #2019846\nChange-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df\n""}]",11,883243,a372e5309821720308d13d8b597be551769e8e4f,38,6,4,32919,,,0,"Report PortLimitExceeded error to customer

When share creation fails due to missing ports quota (
'manila.exception.PortLimitExceeded: Maximum number of ports
exceeded.'), error message propogated to user is not useful.
Improve user message in this scenario.

Closes-bug: #2019846
Change-Id: I1f010c4ff9faf837bd50b6c2823cbc526f3a42df
",git fetch https://review.opendev.org/openstack/manila refs/changes/43/883243/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'manila/message/message_field.py']",2,bffe82b1d45050776be4a9a1fdc26682cbf31952,bug/2019846," SHARE_NETWORK_PORT_QUOTA_LIMIT_EXCEEDED = ( '027', _(""Share Driver failed to create share server on share network "" ""due to port limit exceeded. You may increase quota of network "" ""ports and retry your request. If this doesn't work, contact your "" ""administrator to troubleshoot issues with your network."")) SHARE_NETWORK_PORT_QUOTA_LIMIT_EXCEEDED,",,24,0
openstack%2Fpuppet-openstack-integration~884396,openstack/puppet-openstack-integration,master,Ia282f148a288d8272d9f44116983d3295c31374a,DNM: Enable Modular libvirt in scenario 004,ABANDONED,2023-05-25 13:18:34.000000000,2023-05-26 11:56:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-25 13:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ed8063516c71bb4679524e91f379ab7933afbd09', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 2, 'created': '2023-05-25 14:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/eb997d56709c958c61d44920ab8d78e6f63f435f', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 3, 'created': '2023-05-26 01:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/693e6d3e64ee5d50a50aa75882b4451dc7f6c712', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 4, 'created': '2023-05-26 02:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f5347b868006ad86bb3395260515560b87b69821', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}, {'number': 5, 'created': '2023-05-26 08:24:28.000000000', 'files': ['fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/7a80ed55251e009a908e92c2a126406d231d0be7', 'message': 'DNM: Enable Modular libvirt in scenario 004\n\nChange-Id: Ia282f148a288d8272d9f44116983d3295c31374a\n'}]",0,884396,7a80ed55251e009a908e92c2a126406d231d0be7,11,1,5,9816,,,0,"DNM: Enable Modular libvirt in scenario 004

Change-Id: Ia282f148a288d8272d9f44116983d3295c31374a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/96/884396/1 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario004.pp'],1,ed8063516c71bb4679524e91f379ab7933afbd09,cephfs," $modular_libvirt = false $modular_libvirt = true libvirt_rbd => true, modular_libvirt => $modular_libvirt,"," libvirt_rbd => true,",4,1
openstack%2Fhorizon~878831,openstack/horizon,stable/2023.1,I9c75b084705dfdc6df52aca1659f89444c8a1728,Remove usage of openstack/xstatic-font-awesome,MERGED,2023-03-29 06:10:57.000000000,2023-05-26 11:53:12.000000000,2023-05-26 11:51:22.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-03-29 06:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9d2e690467db6d8c0d0db9a370c18f0ba58bc43f', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}, {'number': 2, 'created': '2023-05-25 16:00:23.000000000', 'files': ['.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5a2d82b34d341a3f04b00d87b2033af81a354f7f', 'message': 'Remove usage of openstack/xstatic-font-awesome\n\nThe repository has been retired and will be maintained in an external\norganization[1]. Because we install the library from Pypi, we no longer\nneed to clone it from opendev repository.\n\n[1] https://github.com/xstatic-py/xstatic-font-awesome\n\nNote: It also cherry-pick 3c5006efb4 which rename from\nx/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload\n\nChange-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728\n(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)\n'}]",6,878831,5a2d82b34d341a3f04b00d87b2033af81a354f7f,15,5,2,13252,,,0,"Remove usage of openstack/xstatic-font-awesome

The repository has been retired and will be maintained in an external
organization[1]. Because we install the library from Pypi, we no longer
need to clone it from opendev repository.

[1] https://github.com/xstatic-py/xstatic-font-awesome

Note: It also cherry-pick 3c5006efb4 which rename from
x/xstatic-angular-fileupload->openstack/xstatic-angular-fileupload

Change-Id: I9c75b084705dfdc6df52aca1659f89444c8a1728
(cherry picked from commit a01dc74139ec61d97fc8ea0104e5ea5a83da7899)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/31/878831/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/xstatic-master.yaml'],1,9d2e690467db6d8c0d0db9a370c18f0ba58bc43f,878831,, - openstack/xstatic-font-awesome,0,1
openstack%2Fcharm-openstack-hypervisor~884478,openstack/charm-openstack-hypervisor,main,I7cc81bee023e3eeaa6eccd0d38968f3de48b86af,Upgrade operator_libs_linux/snap to v2,MERGED,2023-05-26 10:57:09.000000000,2023-05-26 11:50:15.000000000,2023-05-26 11:50:15.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 10:57:09.000000000', 'files': ['lib/charms/operator_libs_linux/v2/snap.py', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-hypervisor/commit/67179c2dd944edc7e2557fbdb55b8931bb137e69', 'message': 'Upgrade operator_libs_linux/snap to v2\n\noperator_libs_linux/v1/snap could not handle revisions as strings, which\nwould make deployment fail when using local revisions of any snap (x1,\nx2,...) on the target machine.\n\nChange-Id: I7cc81bee023e3eeaa6eccd0d38968f3de48b86af\n'}]",0,884478,67179c2dd944edc7e2557fbdb55b8931bb137e69,6,2,1,35761,,,0,"Upgrade operator_libs_linux/snap to v2

operator_libs_linux/v1/snap could not handle revisions as strings, which
would make deployment fail when using local revisions of any snap (x1,
x2,...) on the target machine.

Change-Id: I7cc81bee023e3eeaa6eccd0d38968f3de48b86af
",git fetch https://review.opendev.org/openstack/charm-openstack-hypervisor refs/changes/78/884478/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/charms/operator_libs_linux/v2/snap.py', 'src/charm.py']",2,67179c2dd944edc7e2557fbdb55b8931bb137e69,upgrade-snap-lib,import charms.operator_libs_linux.v2.snap as snap,import charms.operator_libs_linux.v1.snap as snap,14,14
openstack%2Fovn-octavia-provider~880737,openstack/ovn-octavia-provider,master,Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e,Apply admin_state_up on a new member creation,MERGED,2023-04-18 11:13:36.000000000,2023-05-26 11:22:03.000000000,2023-05-26 11:21:06.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-04-18 11:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/88c1079a821b024f537f6100c594774a69967752', 'message': 'Apply admin_state_up on a new member creation\n\nWhen a new member is added, if it is done with a admin_state_up to\nFalse, the member should not take part on the request balancing\nover the LB VIP, although Octavia API applies the member\noperation_status well, but the member receives requests.\n\nThis patch fix this issue, not adding the member to the vips, at\nthis way request over LB VIP are not taking that member as a\ncandidate.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n'}, {'number': 2, 'created': '2023-04-18 12:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d9c827fde44058731fdd50baeba9ecc7412dcd4a', 'message': 'Apply admin_state_up on a new member creation\n\nWhen a new member is added, if it is done with a admin_state_up to\nFalse, the member should not take part on the request balancing\nover the LB VIP, although Octavia API applies the member\noperation_status well, but the member receives requests.\n\nThis patch fix this issue, not adding the member to the vips, at\nthis way request over LB VIP are not taking that member as a\ncandidate.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n'}, {'number': 3, 'created': '2023-04-19 09:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/35083393ad887d3c86c0d74efd1a5eef5f39c357', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False, they should not participate in load balancing requests over the LB VIP. However, the member still receives requests, even though the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips (at\nOVN NB) so that request over LB VIP are not taking into account that member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 4, 'created': '2023-04-19 11:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/383541a194c6366ef06151aea463eb9a9dfd6d69', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False, they should not participate in load balancing requests over the LB VIP. However, the member still receives requests, even though the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips (at\nOVN NB) so that request over LB VIP are not taking into account that member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 5, 'created': '2023-05-10 12:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b10fb3741824bb0f24c6f2ea99c321bfa120a261', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 6, 'created': '2023-05-25 11:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/111abca837ea44e69f3026e3fb0c5c655dc4bbe0', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}, {'number': 7, 'created': '2023-05-26 06:43:02.000000000', 'files': ['ovn_octavia_provider/tests/functional/base.py', 'ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/01309d067c800c3bb07978c1db7e62a1c8b49a73', 'message': ""Apply admin_state_up on a new member creation\n\nIf a new member is added with the admin_state_up set to False,\nthey should not participate in load balancing requests over\nthe LB VIP. However, the member still receives requests, even\nthough the Octavia API applies the member's operation_status correctly,\n\nThis patch fixes this issue by not adding the member to the vips\n(at OVN NB) so that request over LB VIP are not taking into account\nthat member.\n\nCloses-Bug: 2016862\nChange-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e\n""}]",16,880737,01309d067c800c3bb07978c1db7e62a1c8b49a73,36,4,7,34451,,,0,"Apply admin_state_up on a new member creation

If a new member is added with the admin_state_up set to False,
they should not participate in load balancing requests over
the LB VIP. However, the member still receives requests, even
though the Octavia API applies the member's operation_status correctly,

This patch fixes this issue by not adding the member to the vips
(at OVN NB) so that request over LB VIP are not taking into account
that member.

Closes-Bug: 2016862
Change-Id: Iec7f6b1da8548a29eb9cc0e2544e77e1a6c6fb1e
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/37/880737/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,88c1079a821b024f537f6100c594774a69967752,880737," net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.assertEqual(status['members'][0]['operating_status'], constants.NO_MONITOR) calls = [ mock.call.db_clear('Load_Balancer', self.ovn_lb.uuid, 'vips'), mock.call.db_set('Load_Balancer', self.ovn_lb.uuid, ('vips', {}))] self.helper.ovn_nbdb_api.assert_has_calls(calls) @mock.patch('ovn_octavia_provider.common.clients.get_neutron_client') def test_member_create_disabled(self, net_cli): net_cli.return_value.show_subnet.side_effect = [idlutils.RowNotFound] self.ovn_lb.external_ids = mock.MagicMock() self.helper.ovn_nbdb_api.db_clear.assert_not_called()"," net_cli.return_value.show_subnet.side_effect = [ idlutils.RowNotFound, idlutils.RowNotFound]",26,10
openstack%2Fskyline-console~884010,openstack/skyline-console,master,I9b82c4624826854d40d11da4e6ce4a9137b86085,feat: update color variables,MERGED,2023-05-24 08:49:26.000000000,2023-05-26 11:01:25.000000000,2023-05-26 11:00:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2023-05-24 08:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/33fb39b1431d2949534b9761a124adba04b11a64', 'message': 'feat: update color variables\n\nUse color variables to set color in less and jsx, this makes it easy to change the theme for all pages.\n\nChange-Id: I9b82c4624826854d40d11da4e6ce4a9137b86085\n'}, {'number': 2, 'created': '2023-05-25 08:45:21.000000000', 'files': ['src/pages/monitor/containers/Overview/components/Tops/index.jsx', 'src/components/ProjectProgress/index.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.jsx', '.eslintrc', 'src/layouts/Base/index.less', 'src/resources/prometheus/monitoring.js', 'src/components/FormItem/Upload/index.jsx', 'src/pages/auth/containers/ChangePassword/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.less', 'src/components/Tables/SimpleTable/index.jsx', 'src/containers/List/index.less', 'src/components/Cards/NotFound/index.less', 'src/components/Tables/Base/index.jsx', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/pages/monitor/containers/OpenstackService/Services.jsx', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', '.stylelintrc.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', 'src/components/QuotaChart/Ring.jsx', 'src/core/index.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/auth/containers/Login/index.less', 'src/pages/monitor/containers/PhysicalNode/index.jsx', 'src/components/Progress/index.jsx', 'src/components/Layout/GlobalHeader/Token.jsx', 'src/components/Notify/index.jsx', 'src/pages/base/containers/Overview/style.less', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/pages/monitor/containers/Overview/config.jsx', 'src/components/Loading/index.jsx', 'src/components/Form/index.less', 'src/pages/auth/containers/ChangePassword/index.less', 'src/components/DetailCard/index.less', 'src/styles/base.less', 'src/styles/variables.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ec59419f4fd698523aa9b8718b8bd5d490b2464d', 'message': 'feat: update color variables\n\nUse color variables to set color in less and jsx, this makes it easy to change the theme for all pages.\n\nChange-Id: I9b82c4624826854d40d11da4e6ce4a9137b86085\n'}]",1,884010,ec59419f4fd698523aa9b8718b8bd5d490b2464d,11,2,2,30434,,,0,"feat: update color variables

Use color variables to set color in less and jsx, this makes it easy to change the theme for all pages.

Change-Id: I9b82c4624826854d40d11da4e6ce4a9137b86085
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/10/884010/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/monitor/containers/Overview/components/Tops/index.jsx', 'src/components/ProjectProgress/index.jsx', 'src/pages/network/containers/Topology/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.jsx', '.eslintrc', 'src/layouts/Base/index.less', 'src/resources/prometheus/monitoring.js', 'src/components/FormItem/Upload/index.jsx', 'src/pages/auth/containers/ChangePassword/index.jsx', 'src/pages/monitor/containers/StorageCluster/index.less', 'src/components/Tables/SimpleTable/index.jsx', 'src/containers/List/index.less', 'src/components/Cards/NotFound/index.less', 'src/components/Tables/Base/index.jsx', 'src/pages/base/containers/AdminOverview/components/VirtualResource.jsx', 'src/pages/monitor/containers/OpenstackService/Services.jsx', 'src/pages/base/containers/Overview/components/QuotaOverview.jsx', '.stylelintrc.json', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', 'src/components/QuotaChart/Ring.jsx', 'src/core/index.jsx', 'src/pages/compute/containers/Instance/actions/Resize.jsx', 'src/pages/auth/containers/Login/index.less', 'src/pages/monitor/containers/PhysicalNode/index.jsx', 'src/components/Progress/index.jsx', 'src/components/Layout/GlobalHeader/Token.jsx', 'src/components/Notify/index.jsx', 'src/pages/base/containers/Overview/style.less', 'src/pages/base/containers/AdminOverview/components/ResourceOverview.jsx', 'src/pages/monitor/containers/Overview/config.jsx', 'src/components/Loading/index.jsx', 'src/components/Form/index.less', 'src/pages/auth/containers/ChangePassword/index.less', 'src/components/DetailCard/index.less', 'src/styles/base.less', 'src/styles/variables.less']",36,33fb39b1431d2949534b9761a124adba04b11a64,color,@info-color: @blue-2;@warn-light-color: #f6b23d; @warn-dark-color: #fa8c16; /* login */ @login-error: #a43a39; @money-color: #f50; :export { primaryColor: @primary-color; successColor: @success-color; warnColor: @warn-color; warnDarkColor: @warn-dark-color; warnLightColor: @warn-light-color; errorColor: @error-color; dangerColor: @danger-color; moneyColor: @money-color; infoColor: @info-color; },,130,74
openstack%2Fansible-collections-openstack~883201,openstack/ansible-collections-openstack,master,I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707,Shared file system module,NEW,2023-05-15 18:45:02.000000000,2023-05-26 10:51:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-15 18:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/72f97bd26a8ce1b69de333d6863ad9a061fabbcf', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 2, 'created': '2023-05-15 19:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ff3353245cc65c47c5bc2799536716a9c4a2d28d', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 3, 'created': '2023-05-16 09:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d7f957b8e5c004c174a9ab7a5d3c9ca188128cf3', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 4, 'created': '2023-05-16 10:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e606d1e2bb3e4f33dd44029e97aa446f44a3690a', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 5, 'created': '2023-05-16 11:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a55e52c65fd85aa82ac53c3cbceb6c37152d7310', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 6, 'created': '2023-05-16 12:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1a35ae52eccceb22a0d9aea56348dd7f00f6e3fa', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 7, 'created': '2023-05-16 13:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c34935b4b8f9c9dee404fac373a9bc39a2bcac13', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 8, 'created': '2023-05-19 08:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/01cc6f602ae2aad103520dedd4daa69e25ee8483', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 9, 'created': '2023-05-19 10:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/834aa428f5666cb08e65a4aec85ec12973b3d247', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}, {'number': 10, 'created': '2023-05-26 09:25:28.000000000', 'files': ['ci/roles/share/tasks/main.yml', 'meta/runtime.yml', 'plugins/modules/share.py', 'ci/run-collection.yml', 'ci/roles/share/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7078e72cd4c2cb86e4d309c754cfbf906621fff4', 'message': 'Shared file system module\n\nChange-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707\n'}]",6,883201,7078e72cd4c2cb86e4d309c754cfbf906621fff4,19,1,10,32787,,,0,"Shared file system module

Change-Id: I0ed8674a3e59b4fdccc31699a2fc39abc1f9a707
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/01/883201/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/share/tasks/main.yml', 'meta/runtime.yml', 'plugins/modules/share.py', 'ci/run-collection.yml', 'ci/roles/share/defaults/main.yml']",5,72f97bd26a8ce1b69de333d6863ad9a061fabbcf,sfs,,,400,0
openstack%2Ftempest~882822,openstack/tempest,master,I5aee6c831abeb404c98751034903fd4d4ac9f47f,Add request id to logs if we get a timeout.,MERGED,2023-05-10 12:48:28.000000000,2023-05-26 10:49:13.000000000,2023-05-26 10:48:12.000000000,"[{'_account_id': 8556}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-10 12:48:28.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/be79b46bb5b81cd433e780b12d96744434e82125', 'message': 'Add request id to logs if we get a timeout.\n\nThis patch includes the request ID in the logs to aid in identifying issues\nrelated to timeouts when unshelving an instance.\n\nRelated-Bug: #2016967\nChange-Id: I5aee6c831abeb404c98751034903fd4d4ac9f47f\n'}]",10,882822,be79b46bb5b81cd433e780b12d96744434e82125,18,5,1,16207,,,0,"Add request id to logs if we get a timeout.

This patch includes the request ID in the logs to aid in identifying issues
related to timeouts when unshelving an instance.

Related-Bug: #2016967
Change-Id: I5aee6c831abeb404c98751034903fd4d4ac9f47f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/882822/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_server_actions.py'],1,be79b46bb5b81cd433e780b12d96744434e82125,bug/2016967," body = self.client.unshelve_server(self.server_id) waiters.wait_for_server_status( self.client, self.server_id, ""ACTIVE"", request_id=body.response[""x-openstack-request-id""], )"," self.client.unshelve_server(self.server_id) waiters.wait_for_server_status(self.client, self.server_id, 'ACTIVE')",7,2
openstack%2Fcharm-nova-cloud-controller~880750,openstack/charm-nova-cloud-controller,stable/victoria,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:41.000000000,2023-05-26 10:39:04.000000000,2023-05-26 10:39:04.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:41.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/4d010253584738ccafb98411746b35d73bdead72', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)\n(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)\n'}]",5,880750,4d010253584738ccafb98411746b35d73bdead72,16,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)
(cherry picked from commit b137e2bbfc3b4020bf5d068bcea043617daf1d2e)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/50/880750/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,4d010253584738ccafb98411746b35d73bdead72,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcharm-nova-cloud-controller~880749,openstack/charm-nova-cloud-controller,stable/wallaby,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:35.000000000,2023-05-26 10:39:03.000000000,2023-05-26 10:39:03.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:35.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b137e2bbfc3b4020bf5d068bcea043617daf1d2e', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)\n'}]",4,880749,b137e2bbfc3b4020bf5d068bcea043617daf1d2e,15,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
(cherry picked from commit 6691684d89b1353f8815be40a7d7dc659a6d7336)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/49/880749/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,b137e2bbfc3b4020bf5d068bcea043617daf1d2e,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcharm-nova-cloud-controller~880748,openstack/charm-nova-cloud-controller,stable/xena,I13d0c332cd0b110344b7a1645e3e4fd250fce33a,Allow resizing to the same host,MERGED,2023-04-18 13:54:30.000000000,2023-05-26 10:39:02.000000000,2023-05-26 10:39:02.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-18 13:54:30.000000000', 'files': ['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/5e61cb90332a11c84ad9089cec167bb708a6571c', 'message': 'Allow resizing to the same host\n\nBy default resizing an instance to the same host as the source is\nnot enabled. This change adds new charm config option that maps\ndirectly to the nova.conf setting which effectively gives a user\npossibility to enable/disable this functionality.\n\nCloses-Bug: #1946620\nChange-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a\n(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)\n'}]",3,880748,5e61cb90332a11c84ad9089cec167bb708a6571c,13,5,1,10058,,,0,"Allow resizing to the same host

By default resizing an instance to the same host as the source is
not enabled. This change adds new charm config option that maps
directly to the nova.conf setting which effectively gives a user
possibility to enable/disable this functionality.

Closes-Bug: #1946620
Change-Id: I13d0c332cd0b110344b7a1645e3e4fd250fce33a
(cherry picked from commit 690d1d190ca35958abd8d2c280a954e884e2c2f2)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/48/880748/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'config.yaml', 'hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",4,5e61cb90332a11c84ad9089cec167bb708a6571c,allow-resizing-to-same-host," @mock.patch('charmhelpers.contrib.openstack.ip.config') @mock.patch('charmhelpers.core.hookenv.local_unit') @mock.patch('charmhelpers.contrib.openstack.context.config') def test_allow_resize_to_same_host(self, mock_config, local_unit, mock_config_ip): _rel_data = {'disk_allocation_ratio': self.config('disk-allocation-ratio'), 'cpu_allocation_ratio': self.config('cpu-allocation-ratio'), 'ram_allocation_ratio': self.config('ram-allocation-ratio'), 'allow_resize_to_same_host': True} self.test_config.set('allow-resize-to-same-host', True) self.relation_ids.return_value = ['nova-compute:0'] ctxt = context.NovaConfigContext()() self.assertEqual(ctxt['allow_resize_to_same_host'], self.config('allow-resize-to-same-host')) self.relation_set.assert_called_with(relation_id=mock.ANY, relation_settings=_rel_data) ",,35,0
openstack%2Fcinder~861491,openstack/cinder,master,Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c,Automate generation of backups api-ref samples,MERGED,2022-10-15 12:05:39.000000000,2023-05-26 10:11:46.000000000,2023-05-25 21:17:15.000000000,"[{'_account_id': 7198}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-10-15 12:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bf62815b08469fb7093d15a8876efb5bf5bc288', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 2, 'created': '2022-10-15 12:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/336233e91b402332b9bf0917141bf275206effed', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 3, 'created': '2022-10-15 13:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b0d4f861d91b8e8851e58f07f26ea3f0d257e74', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 4, 'created': '2022-10-19 01:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23971e6a473da0b515453aa693058a7d9450e7dd', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 5, 'created': '2022-10-23 01:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77ec811858416c25033572d104b82613960926c7', 'message': 'Add api-ref tests to check url and parameter for importing backups\n\nAdds functional test to make sure that api-ref is in sync with the actual code.\nThe api-ref for import a backup (POST) was previously not in sync with the code\nthat caused a previous Bug: #1930526. The api_sample_tests folder is updated\nto incorporate test_backups.py which has the api-ref test for importing a backup.\n\nCloses Bug: #1940669\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 6, 'created': '2022-10-30 00:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c9feceaf47ba204a40590652573ee16524f7070', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup list\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 7, 'created': '2022-11-04 15:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/54618984ee9ab3ee624b1f8cb45fa99242cbf346', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup list\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 8, 'created': '2022-11-04 17:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6839b96949c4e6af147d3b8989d246e782302c43', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 9, 'created': '2022-11-04 17:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d12f4bd2a312bca145a21c8353ac175f146ba368', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 10, 'created': '2022-11-08 14:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb097b43f98cc7fbaa108927418407d72691cc85', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 11, 'created': '2023-04-02 07:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e612282c0512494c15c68f77fa5063a63e9b747', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 12, 'created': '2023-05-23 15:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2346642e91200b1557071582c3fd8bd3c086d3a', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}, {'number': 13, 'created': '2023-05-24 09:36:23.000000000', 'files': ['api-ref/source/v3/samples/backups/backup-create-response.json', 'cinder/tests/functional/api_sample_tests/test_backups.py', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-request.json.tpl', 'api-ref/source/v3/samples/backups/backup-create-request.json', 'api-ref/source/v3/samples/backup-create-response.json', 'api-ref/source/v3/ext-backups.inc', 'cinder/tests/functional/api_sample_tests/samples/backups/backup-create-response.json.tpl', 'api-ref/source/v3/samples/backup-create-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed2115a6f3e03f99fa99f071f686ad1467698a24', 'message': 'Automate generation of backups api-ref samples\n\nThis patch adds the following tests:\n\n1) Backup create\n\nPartially-Implements: blueprint generating-sample-files\n\nChange-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c\n'}]",49,861491,ed2115a6f3e03f99fa99f071f686ad1467698a24,186,4,13,35301,,,0,"Automate generation of backups api-ref samples

This patch adds the following tests:

1) Backup create

Partially-Implements: blueprint generating-sample-files

Change-Id: Ibe820e8906e6dfdf71a9fc77f3091ccd747f033c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/861491/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/functional/api_sample_tests/test_backups.py'],1,0bf62815b08469fb7093d15a8876efb5bf5bc288,bp/generating-sample-files,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cinder.tests.functional import api_samples_test_base as test_base class BackupClassesSampleJsonTest(test_base.VolumesSampleBase): sample_dir = ""backups"" def setUp(self): super(BackupClassesSampleJonTest, self).setUp() def test_backup_type_create(self): response = self._backup_type_create() self._verify_response('backup-type-create-response', self.subs, response, 200) # def test_quota_classes_show(self): # response = self._do_get('os-quota-class-sets/test_class') # self._verify_response('quota-classes-show-response', {}, # response, 200) # def test_quotas_update(self): # response = self._do_put('os-quota-class-sets/test_class', # 'quota-classes-update-request') # self._verify_response('quota-classes-update-response', {}, # response, 200) ",,37,0
openstack%2Fkolla~884470,openstack/kolla,master,I2e10f0aceb2eec74870d68311d14edd5672f702a,Update master for stable/2023.1,MERGED,2023-05-26 08:40:40.000000000,2023-05-26 10:05:12.000000000,2023-05-26 10:04:05.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:40:40.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e1b28022f2838d689312db32efe1475dca5be89', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I2e10f0aceb2eec74870d68311d14edd5672f702a\n'}]",0,884470,9e1b28022f2838d689312db32efe1475dca5be89,8,3,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I2e10f0aceb2eec74870d68311d14edd5672f702a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/884470/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,9e1b28022f2838d689312db32efe1475dca5be89,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Fkolla~884469,openstack/kolla,stable/2023.1,I4283a66c01a05cbaa01508a710decc3ebe779683,Update TOX_CONSTRAINTS_FILE for stable/2023.1,MERGED,2023-05-26 08:40:36.000000000,2023-05-26 10:04:34.000000000,2023-05-26 10:03:19.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2023-05-26 08:40:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4fe4642524e12d6891b7c4c55910c08c871a7fb3', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4283a66c01a05cbaa01508a710decc3ebe779683\n'}]",0,884469,4fe4642524e12d6891b7c4c55910c08c871a7fb3,9,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4283a66c01a05cbaa01508a710decc3ebe779683
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/884469/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4fe4642524e12d6891b7c4c55910c08c871a7fb3,create-2023.1,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
