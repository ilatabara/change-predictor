id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fkolla~master~Ia171639eadb73d7d1f05edac87f4366c1ce0e883,openstack/kolla,master,Ia171639eadb73d7d1f05edac87f4366c1ce0e883,Allow installation of Pypi packages in cinder-volume image,ABANDONED,2020-03-03 19:50:37.000000000,2020-03-07 13:51:31.000000000,,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 19:50:37.000000000', 'files': ['docker/cinder/cinder-volume/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9cb92f5a651c601490ca325b57188f4cec3802b3', 'message': 'Allow installation of Pypi packages in cinder-volume image\n\nChange-Id: Ia171639eadb73d7d1f05edac87f4366c1ce0e883\n'}]",2,711097,9cb92f5a651c601490ca325b57188f4cec3802b3,10,5,1,167,,,0,"Allow installation of Pypi packages in cinder-volume image

Change-Id: Ia171639eadb73d7d1f05edac87f4366c1ce0e883
",git fetch https://review.opendev.org/openstack/kolla refs/changes/97/711097/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/cinder/cinder-volume/Dockerfile.j2'],1,9cb92f5a651c601490ca325b57188f4cec3802b3,cinder_volume_pip_packages,"{% set cinder_volume_pip_packages = [] %} RUN {{ macros.install_pip(cinder_volume_pip_packages | customizable(""pip_packages"")) }} ",,3,0
openstack%2Fneutron~stable%2Fqueens~Id6fee5a752968b356b884d939b708a420016c9bc,openstack/neutron,stable/queens,Id6fee5a752968b356b884d939b708a420016c9bc,Ensure that default SG exists during list of SG rules API call,MERGED,2020-03-03 09:09:40.000000000,2020-03-07 13:42:04.000000000,2020-03-07 13:42:04.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-03 09:09:40.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c5532bf3de4bed0a8c467f9ce8b38cef6931e75', 'message': 'Ensure that default SG exists during list of SG rules API call\n\nDuring processing of security group rule list API call Neutron will\nnow ensure that default security group for project given in the filters\nor in the context exists.\nIt is similar to what is done for list of security groups or creation of\nnew network/port in the project.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: Id6fee5a752968b356b884d939b708a420016c9bc\nCloses-Bug: #1864171\n(cherry picked from commit 4739a4febb8c77e5a0ca48bc77ae4dccd9f8a81e)\n'}]",0,710959,4c5532bf3de4bed0a8c467f9ce8b38cef6931e75,18,6,1,11975,,,0,"Ensure that default SG exists during list of SG rules API call

During processing of security group rule list API call Neutron will
now ensure that default security group for project given in the filters
or in the context exists.
It is similar to what is done for list of security groups or creation of
new network/port in the project.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: Id6fee5a752968b356b884d939b708a420016c9bc
Closes-Bug: #1864171
(cherry picked from commit 4739a4febb8c77e5a0ca48bc77ae4dccd9f8a81e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/710959/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,4c5532bf3de4bed0a8c467f9ce8b38cef6931e75,bug/1864171-stable/stein-stable/rocky-stable/queens," project_id = filters.get('project_id') or filters.get('tenant_id') if project_id: project_id = project_id[0] else: project_id = context.project_id if project_id: self._ensure_default_security_group(context, project_id) ",,8,0
openstack%2Ftripleo-docs~master~Iec69fda604543c411cc6b0b6f1c77b60a4fba870,openstack/tripleo-docs,master,Iec69fda604543c411cc6b0b6f1c77b60a4fba870,Revisit the Ceph Dashboard section to reflect the new changes,MERGED,2020-01-23 09:56:02.000000000,2020-03-07 13:21:25.000000000,2020-03-07 13:19:37.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-23 09:56:02.000000000', 'files': ['deploy-guide/source/features/ceph_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7eb1bcf7a155fd869b758875e8cc108acddfcc99', 'message': 'Revisit the Ceph Dashboard section to reflect the new changes\n\nNew changes are introduced in the haproxy endpoint config, so\nthe purpose of this change is to update the ceph dashboard\nsection to reflect the new information.\n\nDepends-On: https://review.opendev.org/#/c/702846\nChange-Id: Iec69fda604543c411cc6b0b6f1c77b60a4fba870\n'}]",0,703955,7eb1bcf7a155fd869b758875e8cc108acddfcc99,11,5,1,25402,,,0,"Revisit the Ceph Dashboard section to reflect the new changes

New changes are introduced in the haproxy endpoint config, so
the purpose of this change is to update the ceph dashboard
section to reflect the new information.

Depends-On: https://review.opendev.org/#/c/702846
Change-Id: Iec69fda604543c411cc6b0b6f1c77b60a4fba870
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/55/703955/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/ceph_config.rst'],1,7eb1bcf7a155fd869b758875e8cc108acddfcc99,,"can reach grafana on the ceph storage network vip, and access the exposed ceph dashboard using the controller provisioning network vip on the specified port ( 8444 is the default for a generic overcloud deployment).module that acts as the backend for this external stack, embedding the grafana layouts and showing the ceph cluster specific metrics coming from prometheus. The Ceph Dashboard frontend is fully integrated with the tls-everywhere framework, hence providing the tls environments files will trigger the certificate request for both grafana and the ceph dashboard: the generated crt and key files are then passed to ceph-ansible.take advantage of composable networks and access the dashboard through a separate network vip. By doing this, it's not necessary to access the provisioning network and separate authorization profiles may be implemented.","can reach grafana using the controller provisioning network vip on the specified port.module that acts as the backend for this external stack, pushing the grafana layouts and providing the ceph cluster specific metrics. The grafana frontend is fully integrated with the tls-everywhere framework, hence providing the tls environments files will trigger the certificate request for grafana: the generated crt and key files are then passed to ceph-ansible.take advantage of composable networks and access grafana through a separate network vip. By doing this, it's not necessary to access the provisioning network and separate authorization profiles may be implemented.",12,10
openstack%2Fmistral~master~I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88,openstack/mistral,master,I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88,Move preinstalled workflows to mistral-extra,MERGED,2020-02-26 08:12:59.000000000,2020-03-07 12:51:02.000000000,2020-03-07 12:48:12.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-02-26 08:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/314c0b3c14e5edcbc4da592e3799d4d7fa9c70ad', 'message': 'Move preinstalled workflows to mistral-extra\n\n* This workflows are openstack workflows and should be in mistral-extra\n* Rename the function name to register_preinstalled_workflows\n\nChange-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88\nDepends-On: https://review.opendev.org/#/c/709970/\n'}, {'number': 2, 'created': '2020-02-26 08:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/289059f4acc95bace7ab8a2842634fcfd91d205c', 'message': 'Move preinstalled workflows to mistral-extra\n\n* This workflows are openstack workflows and should be in mistral-extra\n* Rename the function name to register_preinstalled_workflows\n\nChange-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88\nDepends-On: https://review.opendev.org/#/c/709970/\n'}, {'number': 3, 'created': '2020-02-26 08:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/3bded91a3435726c36f2923435e3ae30292be0e0', 'message': 'Move preinstalled workflows to mistral-extra\n\n* These workflows are openstack workflows and should be in mistral-extra\n* Rename the function name to register_preinstalled_workflows\n* Rename then function name to register_preinstalled_actions\n\nChange-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88\nDepends-On: https://review.opendev.org/#/c/709970/\n'}, {'number': 4, 'created': '2020-02-26 08:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0a9e1ca216410f3fba1b4cc8756c5c2c84001453', 'message': 'Move preinstalled workflows to mistral-extra\n\n* These workflows are openstack workflows and should be in mistral-extra\n* Rename the function name to register_preinstalled_workflows\n* Rename then function name to register_preinstalled_actions\n\nChange-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88\nDepends-On: https://review.opendev.org/#/c/709970/\n'}, {'number': 5, 'created': '2020-02-26 09:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a5da6994a23f94f8b3885be1a126dc7952cb9e8e', 'message': 'Move preinstalled workflows to mistral-extra\n\n* These workflows are openstack workflows and should be in mistral-extra\n* Rename the function name to register_preinstalled_workflows\n* Rename then function name to register_preinstalled_actions\n\nChange-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88\nDepends-On: https://review.opendev.org/#/c/709970/\n'}, {'number': 6, 'created': '2020-02-26 10:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fbed90df6d84effdd3e824acb07856cbec5b3f86', 'message': 'Move preinstalled workflows to mistral-extra\n\n* These workflows are openstack workflows and should be in mistral-extra\n* Rename the function name to register_preinstalled_workflows\n* Rename then function name to register_preinstalled_actions\n\nChange-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88\nDepends-On: https://review.opendev.org/#/c/709970/\n'}, {'number': 7, 'created': '2020-02-26 12:34:33.000000000', 'files': ['mistral/services/action_manager.py', 'mistral/resources/workflows/create_instance.yaml', 'mistral/resources/workflows/delete_instance.yaml', 'mistral/services/workflows.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b705666f9ff80d421b148498e31f65c20f4ec382', 'message': 'Move preinstalled workflows to mistral-extra\n\n* These workflows are openstack workflows and should be in mistral-extra\n* Rename the function name to register_preinstalled_workflows\n* Rename then function name to register_preinstalled_actions\n\nChange-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88\nDepends-On: https://review.opendev.org/#/c/709970/\nDepends-On: https://review.opendev.org/#/c/710024/\n'}]",0,709973,b705666f9ff80d421b148498e31f65c20f4ec382,20,4,7,19134,,,0,"Move preinstalled workflows to mistral-extra

* These workflows are openstack workflows and should be in mistral-extra
* Rename the function name to register_preinstalled_workflows
* Rename then function name to register_preinstalled_actions

Change-Id: I80fc1dfe4ec5e81b1b5163c9771eea5a49432f88
Depends-On: https://review.opendev.org/#/c/709970/
Depends-On: https://review.opendev.org/#/c/710024/
",git fetch https://review.opendev.org/openstack/mistral refs/changes/73/709973/7 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/resources/workflows/create_instance.yaml', 'mistral/resources/workflows/delete_instance.yaml', 'mistral/services/workflows.py']",3,314c0b3c14e5edcbc4da592e3799d4d7fa9c70ad,workflows,"from stevedore import extensiondef register_preinstalled_workflows(run_in_tx=True): LOG.debug(""Registering preinstalled workflows..."") extensions = extension.ExtensionManager( namespace='mistral.pre_installed_workflows', invoke_on_load=True ) for ext in extensions: for workflow_paths in ext.obj: for wf_path in workflow_paths: workflow_definition = open(wf_path).read() create_workflows( workflow_definition, scope='public', is_system=True, run_in_tx=run_in_tx, namespace='' ) register_preinstalled_workflows(run_in_tx=False)","def register_standard_workflows(run_in_tx=True): LOG.debug(""Registering standard workflows..."") workflow_paths = utils.get_file_list(STD_WF_PATH) for wf_path in workflow_paths: workflow_definition = open(wf_path).read() create_workflows( workflow_definition, scope='public', is_system=True, run_in_tx=run_in_tx, namespace='' ) register_standard_workflows(run_in_tx=False)",19,126
openstack%2Fmistral~stable%2Frocky~I4fa15994a7359a5f90a0a4671d47b19fe928cf33,openstack/mistral,stable/rocky,I4fa15994a7359a5f90a0a4671d47b19fe928cf33,"Retry a DB transaction on ""Too many connections"" error",MERGED,2020-02-27 02:09:34.000000000,2020-03-07 12:48:11.000000000,2020-03-07 12:48:11.000000000,"[{'_account_id': 8731}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 02:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f8fb0922c928ff68d3cc004706e3c930d58dbffb', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n(cherry picked from commit 4a9d55a1b041007fc1b2340c5a143ffa2eb3f31d)\n'}, {'number': 2, 'created': '2020-03-05 11:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/774b6582d1ff27f990ba0b9efab3fbb6f822f150', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}, {'number': 3, 'created': '2020-03-05 12:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c2639dad0480c1a5444d899f6f1c7df69cb44285', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}, {'number': 4, 'created': '2020-03-05 12:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a99ffddd2d8a0b6406ab995fb9f69c94dc45d93a', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}, {'number': 5, 'created': '2020-03-05 13:07:14.000000000', 'files': ['mistral/db/utils.py', '.zuul.yaml', 'mistral/utils/tenacity_patch.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/4ad66f140bc7cce9c1c7805a22d9d3c5600642d6', 'message': 'Retry a DB transaction on ""Too many connections"" error\n\n* Writing a unit test is very problematic but the fix has been\n  tested manually.\n\nCloses-Bug: #1837532\n\nChange-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33\n'}]",7,710170,4ad66f140bc7cce9c1c7805a22d9d3c5600642d6,22,5,5,8731,,,0,"Retry a DB transaction on ""Too many connections"" error

* Writing a unit test is very problematic but the fix has been
  tested manually.

Closes-Bug: #1837532

Change-Id: I4fa15994a7359a5f90a0a4671d47b19fe928cf33
",git fetch https://review.opendev.org/openstack/mistral refs/changes/70/710170/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'mistral/db/utils.py', 'lower-constraints.txt']",3,f8fb0922c928ff68d3cc004706e3c930d58dbffb,bug/1837532-stable/rocky,tenacity==5.0.1,tenacity==4.4.0,16,7
openstack%2Fneutron~master~Ia324b2cf40cb72d28efdc8826c673ec9395d3a24,openstack/neutron,master,Ia324b2cf40cb72d28efdc8826c673ec9395d3a24,"Increase log information in ""TestMonitorDaemon""",MERGED,2020-03-02 18:00:22.000000000,2020-03-07 12:11:08.000000000,2020-03-07 12:08:41.000000000,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-02 18:00:22.000000000', 'files': ['neutron/tests/functional/agent/l3/test_keepalived_state_change.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/42fc820ded7bf312413eaf819e248122acac60db', 'message': 'Increase log information in ""TestMonitorDaemon""\n\nWhen reading the \'neutron-keepalived-state-change\' log, if an error\noccurs, provide in the error log the namespace devices and addresses.\n\nChange-Id: Ia324b2cf40cb72d28efdc8826c673ec9395d3a24\nCloses-Bug: #1865557\n'}]",0,710850,42fc820ded7bf312413eaf819e248122acac60db,25,6,1,16688,,,0,"Increase log information in ""TestMonitorDaemon""

When reading the 'neutron-keepalived-state-change' log, if an error
occurs, provide in the error log the namespace devices and addresses.

Change-Id: Ia324b2cf40cb72d28efdc8826c673ec9395d3a24
Closes-Bug: #1865557
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/710850/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/l3/test_keepalived_state_change.py'],1,42fc820ded7bf312413eaf819e248122acac60db,bug/1865557," devices = {} for dev in ip_lib.IPWrapper( namespace=self.router.namespace).get_devices(): devices[dev.name] = [addr['cidr'] for addr in dev.addr.list()] self.fail( 'Text not found in file %(file_name)s: ""%(text)s"".\nDevice ' 'addresses: %(devices)s.\nFile content:\n%(file_content)s' % {'file_name': file_name, 'text': text, 'devices': devices,"," raise RuntimeError( 'Text not found in file %(file_name)s: ""%(text)s"". File ' 'content: %(file_content)s' % {'file_name': file_name, 'text': text,",8,4
openstack%2Fopenstack-manuals~master~I358f47b965f152a20ddabbdb77e2429210507258,openstack/openstack-manuals,master,I358f47b965f152a20ddabbdb77e2429210507258,Sync more languages,MERGED,2020-03-07 09:33:42.000000000,2020-03-07 11:24:23.000000000,2020-03-07 10:55:01.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-07 09:33:42.000000000', 'files': ['tools/sync-projects.sh'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/8c2d5bf3282223160d388ce1a27fbe19670e91cb', 'message': 'Sync more languages\n\nde, tr_TR translations exist for security-doc, copy the translated files\nfor those over as well.\n\nChange-Id: I358f47b965f152a20ddabbdb77e2429210507258\n'}]",0,711809,8c2d5bf3282223160d388ce1a27fbe19670e91cb,7,2,1,6547,,,0,"Sync more languages

de, tr_TR translations exist for security-doc, copy the translated files
for those over as well.

Change-Id: I358f47b965f152a20ddabbdb77e2429210507258
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/09/711809/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/sync-projects.sh'],1,8c2d5bf3282223160d388ce1a27fbe19670e91cb,copy-trans, for lang in de id ja tr_TR ; do, for lang in id ja ; do,1,1
openstack%2Fmistral-extra~master~I379dc5ca40c2055122508daae7a638c21c840254,openstack/mistral-extra,master,I379dc5ca40c2055122508daae7a638c21c840254,Move preinstalled workflows to mistral-extra,MERGED,2020-02-26 07:56:55.000000000,2020-03-07 10:12:40.000000000,2020-03-07 10:11:22.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-02-26 07:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/acba532a03ba0165bc5489b2c100f438f900ef4b', 'message': 'Move preinstalled workflows to mistral-extra\n\n* These workflows are openstack workflow so they should be\n  in mistral-extra where all the openstack actions are.\n\n* Use an entry point to get all the paths for the workflows.py,\n  This way other projects can have there own pre installed workflows.\n\nDepends-On: https://review.opendev.org/#/c/709963/\nChange-Id: I379dc5ca40c2055122508daae7a638c21c840254\n'}, {'number': 2, 'created': '2020-02-26 09:03:23.000000000', 'files': ['mistral_extra/resources/openstack/workflows/create_instance.yaml', 'mistral_extra/resources/openstack/workflows/delete_instance.yaml', 'setup.cfg', 'mistral_extra/workflows.py'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/b615bd4b48a97e8f90dc64cd89e890cc2e688a43', 'message': 'Move preinstalled workflows to mistral-extra\n\n* These workflows are openstack workflow so they should be\n  in mistral-extra where all the openstack actions are.\n\n* Use an entry point to get all the paths for the workflows.py,\n  This way other projects can have there own pre installed workflows.\n\nDepends-On: https://review.opendev.org/#/c/709963/\nChange-Id: I379dc5ca40c2055122508daae7a638c21c840254\n'}]",0,709970,b615bd4b48a97e8f90dc64cd89e890cc2e688a43,13,5,2,19134,,,0,"Move preinstalled workflows to mistral-extra

* These workflows are openstack workflow so they should be
  in mistral-extra where all the openstack actions are.

* Use an entry point to get all the paths for the workflows.py,
  This way other projects can have there own pre installed workflows.

Depends-On: https://review.opendev.org/#/c/709963/
Change-Id: I379dc5ca40c2055122508daae7a638c21c840254
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/70/709970/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral_extra/resources/openstack/workflows/create_instance.yaml', 'mistral_extra/resources/openstack/workflows/delete_instance.yaml', 'setup.cfg', 'mistral_extra/workflows.py']",4,acba532a03ba0165bc5489b2c100f438f900ef4b,resources,"# Copyright 2020 - Nokia Corporation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from mistral_lib import utils PRE_INSTALLED_WF_PATH = 'resources/openstack/workflows' def get_pre_installed_workflows(): return utils.get_file_list(PRE_INSTALLED_WF_PATH, package='mistral_extra') ",,137,0
openstack%2Fkolla~master~I4d7ef79df435b540137d1eb4058f8222baf17529,openstack/kolla,master,I4d7ef79df435b540137d1eb4058f8222baf17529,Deprecate Sensu images,MERGED,2020-03-06 15:02:32.000000000,2020-03-07 10:10:23.000000000,2020-03-07 10:08:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-06 15:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6500ff5adc343241bd643e0d3305c27f0800bc1b', 'message': 'Deprecate Sensu images\n\nSupport for Sensu has been dropped by CentOS/RHEL, and this was the main\nconsumer of these images.\n\nThis patch also marks opendaylight and mongodb images as deprecated on\nthe support matrix, as they have also been deprecated.\n\nChange-Id: I4d7ef79df435b540137d1eb4058f8222baf17529\n'}, {'number': 2, 'created': '2020-03-06 17:28:08.000000000', 'files': ['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'releasenotes/notes/deprecate-sensu-5bc4562c902d7fbf.yaml', 'doc/source/matrix_aarch64.csv'], 'web_link': 'https://opendev.org/openstack/kolla/commit/569807738bb96a872a1d014f1272063b4f3d3cc8', 'message': 'Deprecate Sensu images\n\nSupport for Sensu has been dropped by CentOS/RHEL, and this was the main\nconsumer of these images.\n\nThis patch also marks opendaylight and mongodb images as deprecated on\nthe support matrix, as they have also been deprecated.\n\nChange-Id: I4d7ef79df435b540137d1eb4058f8222baf17529\n'}]",0,711636,569807738bb96a872a1d014f1272063b4f3d3cc8,16,5,2,14826,,,0,"Deprecate Sensu images

Support for Sensu has been dropped by CentOS/RHEL, and this was the main
consumer of these images.

This patch also marks opendaylight and mongodb images as deprecated on
the support matrix, as they have also been deprecated.

Change-Id: I4d7ef79df435b540137d1eb4058f8222baf17529
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/711636/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv']",3,6500ff5adc343241bd643e0d3305c27f0800bc1b,,"mongodb (deprecated),N,N,C,C,N,Nopendaylight (deprecated),N,N,N,N,N,Nsensu (deprecated),C,C,N,N,N,N","mongodb,N,N,C,C,N,Nopendaylight,N,N,N,N,N,Nsensu,C,C,N,N,N,N",7,7
openstack%2Fnova~stable%2Ftrain~I48719c02713113a41176b8f5cc3c5831f1284a39,openstack/nova,stable/train,I48719c02713113a41176b8f5cc3c5831f1284a39,libvirt: Ignore DiskNotFound during update_available_resource,MERGED,2020-03-04 16:56:19.000000000,2020-03-07 10:02:48.000000000,2020-03-06 03:30:07.000000000,"[{'_account_id': 4690}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-04 16:56:19.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/73d9b6e5f622dc645ac6ad322c836ffbe4045072', 'message': ""libvirt: Ignore DiskNotFound during update_available_resource\n\nThere was a previous attempt to fix this in\nchange Id687e11e235fd6c2f99bb647184310dfdce9a08d. However, there were 2\nproblems with the previous fix:\n\n1. The handling of missing volumes and disks, while typically having the\n   same cause, was inconsistent.\n\n2. It failed to consider the very wide race opportunity in\n   _get_disk_over_committed_size_total between initially fetching the\n   instance list from the DB and later getting disk sizes.\n\nBecause _get_disk_over_committed_size_total() can be a very long\noperation, we found that we were reliably hitting this race in CI.\nIt might be possible to fix the race, but this would add unnecessary\ncomplication to code which isn't critical. It's far more robust just to\nlog it and ignore it, which is also consistent with the handling of\nmissing volumes.\n\nCloses-Bug: #1774249\n\nChange-Id: I48719c02713113a41176b8f5cc3c5831f1284a39\n(cherry picked from commit 6198f317be549e6d2bd324a48f226b379556e945)\n""}]",0,711276,73d9b6e5f622dc645ac6ad322c836ffbe4045072,13,8,1,10135,,,0,"libvirt: Ignore DiskNotFound during update_available_resource

There was a previous attempt to fix this in
change Id687e11e235fd6c2f99bb647184310dfdce9a08d. However, there were 2
problems with the previous fix:

1. The handling of missing volumes and disks, while typically having the
   same cause, was inconsistent.

2. It failed to consider the very wide race opportunity in
   _get_disk_over_committed_size_total between initially fetching the
   instance list from the DB and later getting disk sizes.

Because _get_disk_over_committed_size_total() can be a very long
operation, we found that we were reliably hitting this race in CI.
It might be possible to fix the race, but this would add unnecessary
complication to code which isn't critical. It's far more robust just to
log it and ignore it, which is also consistent with the handling of
missing volumes.

Closes-Bug: #1774249

Change-Id: I48719c02713113a41176b8f5cc3c5831f1284a39
(cherry picked from commit 6198f317be549e6d2bd324a48f226b379556e945)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/711276/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,73d9b6e5f622dc645ac6ad322c836ffbe4045072,bug/1774249,," @mock.patch('nova.virt.libvirt.host.Host.list_instance_domains') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_get_instance_disk_info_from_config', side_effect=exception.DiskNotFound(location='/opt/stack/foo')) @mock.patch('nova.objects.BlockDeviceMappingList.bdms_by_instance_uuid', return_value=objects.BlockDeviceMappingList()) @mock.patch('nova.objects.InstanceList.get_by_filters', return_value=objects.InstanceList(objects=[ objects.Instance(uuid=uuids.instance, vm_state=vm_states.ACTIVE, task_state=None)])) def test_disk_over_committed_size_total_disk_not_found_reraise( self, mock_get, mock_bdms, mock_get_disk_info, mock_list_domains): """"""Tests that we handle DiskNotFound gracefully for an instance that is NOT undergoing a task_state transition and the error is re-raised. """""" mock_dom = mock.Mock() mock_dom.XMLDesc.return_value = ""<domain/>"" mock_dom.UUIDString.return_value = uuids.instance mock_list_domains.return_value = [mock_dom] drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.assertRaises(exception.DiskNotFound, drvr._get_disk_over_committed_size_total) ",10,51
openstack%2Fsecurity-doc~master~I083b9ae33951bb045828518773ca8264b101615e,openstack/security-doc,master,I083b9ae33951bb045828518773ca8264b101615e,Updated from openstack-manuals,MERGED,2020-03-07 09:01:40.000000000,2020-03-07 09:43:10.000000000,2020-03-07 09:41:17.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-07 09:01:40.000000000', 'files': ['common/source/locale/ja/LC_MESSAGES/common.po', 'common/glossary.rst', 'common/source/locale/id/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/031eead1a10450326548bca762c0cc8390dea7ac', 'message': 'Updated from openstack-manuals\n\nChange-Id: I083b9ae33951bb045828518773ca8264b101615e\n'}]",0,711804,031eead1a10450326548bca762c0cc8390dea7ac,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I083b9ae33951bb045828518773ca8264b101615e
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/04/711804/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/source/locale/ja/LC_MESSAGES/common.po', 'common/glossary.rst', 'common/source/locale/id/LC_MESSAGES/common.po']",3,031eead1a10450326548bca762c0cc8390dea7ac,openstack/openstack-manuals,"# suhartono <cloudsuhartono@gmail.com>, 2020. #zanata""POT-Creation-Date: 2020-03-05 11:23+0000\n""""PO-Revision-Date: 2020-01-22 04:06+0000\n""msgid ""OpenDev"" msgstr ""OpenDev"" msgid """" ""OpenDev’s mission is to provide project hosting, continuous integration "" ""tooling, and virtual collaboration spaces for Open Source software projects. "" ""OpenDev is itself self hosted on this set of tools including code review, "" ""continuous integration, etherpad, wiki, code browsing and so on. This means "" ""that OpenDev itself is run like an open source project, you can join us and "" ""help run the system. Additionally, all of the services run are Open Source "" ""software themselves."" msgstr """" ""Misi OpenDev adalah untuk menyediakan hosting proyek, tooling integrasi "" ""berkesinambungan, dan ruang kolaborasi virtual untuk proyek perangkat lunak "" ""Open Source. OpenDev sendiri di-host di set alat ini termasuk tinjauan kode, "" ""integrasi berkelanjutan, etherpad, wiki, penelusuran kode, dan sebagainya. "" ""Ini berarti bahwa OpenDev sendiri dijalankan seperti proyek open source, "" ""Anda dapat bergabung dengan kami dan membantu menjalankan sistem. Selain "" ""itu, semua layanan yang dijalankan adalah perangkat lunak Open Source "" ""sendiri."" msgid ""The OpenStack project is the largest project using OpenDev."" msgstr ""Proyek OpenStack adalah proyek terbesar menggunakan OpenDev."" ""Infrastructure Summit took place in Denver, Colorado, US.""""Nama kode untuk rilis OpenStack yang kedua puluh. KTT Infrastruktur "" ""OpenStack berlangsung di Denver, Colorado, AS."" msgid """" ""The code name for the twenty first release of OpenStack. The OpenStack "" ""Infrastructure Summit took place in Shanghai, People's Republic of China. "" ""The release is named after the Ussuri river."" msgstr """" ""Nama kode untuk rilis OpenStack yang kedua puluh satu. KTT Infrastruktur "" ""OpenStack berlangsung di Shanghai, Republik Rakyat Tiongkok. Rilis ini "" ""dinamai sungai Ussuri."" msgid """" ""The code name for the twenty second release of OpenStack. The OpenStack "" ""Infrastructure Summit took place in Vancouver, British Columbia, Canada. The "" ""release is named after Victoria, the capital city of British Columbia."" msgstr """" ""Nama kode untuk rilis OpenStack dua puluh detik. KTT Infrastruktur OpenStack "" ""berlangsung di Vancouver, British Columbia, Kanada. Rilis ini dinamai "" ""setelah Victoria, ibu kota British Columbia.""msgid ""Ussuri"" msgstr ""Ussuri"" msgid ""Victoria"" msgstr ""Victoria"" msgid """" ""Zuul is used for OpenStack development to ensure that only tested code gets "" ""merged."" msgstr """" ""Zuul digunakan untuk pengembangan OpenStack untuk memastikan bahwa hanya "" ""kode yang diuji yang digabung."" ""`OpenDev <https://opendev.org>`__ is a space for collaborative Open Source "" ""software development."" msgstr """" ""`OpenDev <https://opendev.org>`__ adalah ruang untuk pengembangan perangkat "" ""lunak Open Source kolaboratif."" msgid """"msgid """" ""`Zuul <https://zuul-ci.org>`__ is an open source CI/CD platform specializing "" ""in gating changes across multiple systems and applications before landing a "" ""single patch."" msgstr """" ""`Zuul <https://zuul-ci.org>`__ adalah open source CI/CD platform yang "" ""mengkhususkan diri dalam perubahan gating di beberapa sistem dan aplikasi "" ""sebelum mendarat patch tunggal."" ","""POT-Creation-Date: 2019-08-16 18:09+0000\n""""PO-Revision-Date: 2019-07-25 04:48+0000\n""""An authentication and authorization service for Object Storage, implemented "" ""through WSGI middleware; uses Object Storage itself as the persistent "" ""backing store."" msgstr """" ""Layanan otentikasi dan otorisasi untuk Object Storage, dilaksanakan melalui "" ""WSGI middleware; menggunakan Object Storage dirinya sebagai penyimpan "" ""dukungan persisten."" msgid """"""Each OpenStack release has a code name. Code names ascend in alphabetical "" ""order: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, and Train. Code names are cities or counties near where the "" ""corresponding OpenStack design summit took place. An exception, called the "" ""Waldon exception, is granted to elements of the state flag that sound "" ""especially cool. Code names are chosen by popular vote."" msgstr """" ""Setiap rilis OpenStack memiliki nama kode. Nama kode naik dalam urutan "" ""abjad: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, and Train. Nama kode adalah kota atau kabupaten dekat tempat "" ""pertemuan desain OpenStack yang sesuai berlangsung. Pengecualian, yang "" ""disebut pengecualian Waldon, diberikan pada elemen bendera negara yang "" ""terdengar sangat keren. Nama kode dipilih dengan suara terbanyak."" msgid """"""Infrastructure Summit will take place in Denver, Colorado, US.""""Nama kode untuk rilis OpenStack yang kedua puluh. OpenStack Infrastructure "" ""Summit akan berlangsung di Denver, Colorado, AS.""msgid ""swauth"" msgstr ""swauth"" ",110,83
openstack%2Foperations-guide~master~Ic71949cf73c021b4f857a60b961ca1023519c9bf,openstack/operations-guide,master,Ic71949cf73c021b4f857a60b961ca1023519c9bf,Updated from openstack-manuals,MERGED,2020-03-07 09:01:54.000000000,2020-03-07 09:42:09.000000000,2020-03-07 09:40:42.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-07 09:01:54.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/f255fb1b59fefdf871ce476e31a65e05b73efbd4', 'message': 'Updated from openstack-manuals\n\nChange-Id: Ic71949cf73c021b4f857a60b961ca1023519c9bf\n'}]",0,711806,f255fb1b59fefdf871ce476e31a65e05b73efbd4,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: Ic71949cf73c021b4f857a60b961ca1023519c9bf
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/06/711806/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,f255fb1b59fefdf871ce476e31a65e05b73efbd4,openstack/openstack-manuals," Train, Ussuri, Victoria, and Wallaby. Wallaby was the first code name choosen by a new policy: Code names are choosen by the community following the alphabet, for details see `release name criteria <https://governance.openstack.org/tc/reference/release-naming.html#release-name-criteria>`__. The Victoria name was the last name where code names are cities or counties near where the corresponding OpenStack design summit took place. An exception, called the Waldon exception, was granted to elements of the state flag that sound especially cool. Code names are chosen by popular vote. OpenStack Infrastructure Summit took place in Denver, Ussuri The code name for the twenty first release of OpenStack. The OpenStack Infrastructure Summit took place in Shanghai, People's Republic of China. The release is named after the Ussuri river. Victoria The code name for the twenty second release of OpenStack. The OpenStack Infrastructure Summit took place in Vancouver, British Columbia, Canada. The release is named after Victoria, the capital city of British Columbia. Wallaby The code name for the twenty third release of OpenStack. Wallabies are native to Australia, which at the start of this naming period was experiencing unprecedented wild fires. "," and Train. Code names are cities or counties near where the corresponding OpenStack design summit took place. An exception, called the Waldon exception, is granted to elements of the state flag that sound especially cool. Code names are chosen by popular vote. swauth An authentication and authorization service for Object Storage, implemented through WSGI middleware; uses Object Storage itself as the persistent backing store. OpenStack Infrastructure Summit will take place in Denver,",32,13
openstack%2Fha-guide~master~I5b7c0aed595e4dd14530f360c4e3a70b2ca07a1c,openstack/ha-guide,master,I5b7c0aed595e4dd14530f360c4e3a70b2ca07a1c,Updated from openstack-manuals,MERGED,2020-03-07 09:01:46.000000000,2020-03-07 09:40:47.000000000,2020-03-07 09:39:24.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-07 09:01:46.000000000', 'files': ['doc/source/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/9bb951dc70284e59e568bfe49967845854f5842c', 'message': 'Updated from openstack-manuals\n\nChange-Id: I5b7c0aed595e4dd14530f360c4e3a70b2ca07a1c\n'}]",0,711805,9bb951dc70284e59e568bfe49967845854f5842c,7,2,1,11131,,,0,"Updated from openstack-manuals

Change-Id: I5b7c0aed595e4dd14530f360c4e3a70b2ca07a1c
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/05/711805/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/glossary.rst'],1,9bb951dc70284e59e568bfe49967845854f5842c,openstack/openstack-manuals," Train, Ussuri, Victoria, and Wallaby. Wallaby was the first code name choosen by a new policy: Code names are choosen by the community following the alphabet, for details see `release name criteria <https://governance.openstack.org/tc/reference/release-naming.html#release-name-criteria>`__. The Victoria name was the last name where code names are cities or counties near where the corresponding OpenStack design summit took place. An exception, called the Waldon exception, was granted to elements of the state flag that sound especially cool. Code names are chosen by popular vote. OpenStack Infrastructure Summit took place in Denver, Ussuri The code name for the twenty first release of OpenStack. The OpenStack Infrastructure Summit took place in Shanghai, People's Republic of China. The release is named after the Ussuri river. Victoria The code name for the twenty second release of OpenStack. The OpenStack Infrastructure Summit took place in Vancouver, British Columbia, Canada. The release is named after Victoria, the capital city of British Columbia. Wallaby The code name for the twenty third release of OpenStack. Wallabies are native to Australia, which at the start of this naming period was experiencing unprecedented wild fires. "," and Train. Code names are cities or counties near where the corresponding OpenStack design summit took place. An exception, called the Waldon exception, is granted to elements of the state flag that sound especially cool. Code names are chosen by popular vote. swauth An authentication and authorization service for Object Storage, implemented through WSGI middleware; uses Object Storage itself as the persistent backing store. OpenStack Infrastructure Summit will take place in Denver,",32,13
openstack%2Fkolla~master~Id2ee4229bd8854308c4f8dec1f676d00bdc6eb05,openstack/kolla,master,Id2ee4229bd8854308c4f8dec1f676d00bdc6eb05,DNM test new opstools temporary repo,ABANDONED,2020-03-04 16:47:54.000000000,2020-03-07 09:35:33.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 16:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/62deeb1a41d6247568a9af8010f43a46d8a5be28', 'message': 'DNM test new opstools temporary repo\n\nChange-Id: Id2ee4229bd8854308c4f8dec1f676d00bdc6eb05\n'}, {'number': 2, 'created': '2020-03-04 17:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a0c8aff455f78db7c0c261c1bc02249450b65c35', 'message': 'DNM test new opstools temporary repo\n\nChange-Id: Id2ee4229bd8854308c4f8dec1f676d00bdc6eb05\n'}, {'number': 3, 'created': '2020-03-05 10:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7595fd8baecc2540258831836de68e0a027233a2', 'message': ""Fix name for collectd-snmp-agent package\n\ncollectd-snmp_agent package was renamed to sollect-snmp-agent. It used\nto have provides to old name for compatibility but it has been removed\nin recent opstools builds so let's switch to the right package name.\n\nChange-Id: Id2ee4229bd8854308c4f8dec1f676d00bdc6eb05\n""}, {'number': 4, 'created': '2020-03-06 15:31:47.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0821f415675abe256121bb14be24f113f4f3338d', 'message': 'DNM test new opstools temporary repo\n\nChange-Id: Id2ee4229bd8854308c4f8dec1f676d00bdc6eb05\n'}]",0,711274,0821f415675abe256121bb14be24f113f4f3338d,19,3,4,16312,,,0,"DNM test new opstools temporary repo

Change-Id: Id2ee4229bd8854308c4f8dec1f676d00bdc6eb05
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/711274/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,62deeb1a41d6247568a9af8010f43a46d8a5be28,fix-collectd,"DELOREAN_DEPS_CENTOS8 = ""http://38.145.34.66/delorean-deps-ops.repo""","DELOREAN_DEPS_CENTOS8 = ""https://trunk.rdoproject.org/centos8-master/"" \ ""delorean-deps.repo""",1,2
openstack%2Fnova~master~Ib05501b678d0b58bbd9e77cd5d79a9b6ef661497,openstack/nova,master,Ib05501b678d0b58bbd9e77cd5d79a9b6ef661497,Fix os-os-deferred-delete policy to be admin_or_owner,MERGED,2020-02-12 19:31:38.000000000,2020-03-07 09:28:13.000000000,2020-03-04 21:01:00.000000000,"[{'_account_id': 782}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-12 19:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa4ad81689f0e682368ba3f4468c5a8e35c9b829', 'message': ""Fix os-os-deferred-delete policy to be admin_or_owner\n\nos-deferred-delete restore server API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/707455/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\nCloses-bug: #1863009\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/deferred_delete.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/deferred_delete.py#L38\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: Ib05501b678d0b58bbd9e77cd5d79a9b6ef661497\n""}, {'number': 2, 'created': '2020-03-04 09:58:02.000000000', 'files': ['nova/api/openstack/compute/deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f83c591e30e5283af3bd6b05b7bd041c83d5c20f', 'message': ""Fix os-os-deferred-delete policy to be admin_or_owner\n\nos-deferred-delete restore server API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/707455/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\nCloses-bug: #1863009\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/deferred_delete.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/deferred_delete.py#L38\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: Ib05501b678d0b58bbd9e77cd5d79a9b6ef661497\n""}]",0,707457,f83c591e30e5283af3bd6b05b7bd041c83d5c20f,39,10,2,8556,,,0,"Fix os-os-deferred-delete policy to be admin_or_owner

os-deferred-delete restore server API policy is default to admin_or_owner[1] but API
is allowed for everyone.

We can see the test trying with other project context can access the API
- https://review.opendev.org/#/c/707455/

This is because API does not pass the server project_id in policy target[2]
and if no target is passed then, policy.py add the default targets which is
nothing but context.project_id (allow for everyone who try to access)[3]

This commit fix this policy by passing the server's project_id in policy
target.

Closes-bug: #1863009

[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/deferred_delete.py#L27
[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/deferred_delete.py#L38
[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191

Change-Id: Ib05501b678d0b58bbd9e77cd5d79a9b6ef661497
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/707457/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py']",2,aa4ad81689f0e682368ba3f4468c5a8e35c9b829,bug/1863009," @mock.patch('nova.api.openstack.common.get_instance') def test_restore_policy_failed(self, get_instance_mock):", def test_restore_policy_failed(self):,4,2
openstack%2Fopenstack-manuals~master~Ifc10e9b84b0f58a546c7bcb3caea2caaf0dc514a,openstack/openstack-manuals,master,Ifc10e9b84b0f58a546c7bcb3caea2caaf0dc514a,Imported Translations from Zanata,MERGED,2020-03-07 06:53:52.000000000,2020-03-07 09:24:27.000000000,2020-03-07 08:56:44.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-07 06:53:52.000000000', 'files': ['doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/feba182b8800244e817795c50aea0af0dd596683', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifc10e9b84b0f58a546c7bcb3caea2caaf0dc514a\n'}]",0,711800,feba182b8800244e817795c50aea0af0dd596683,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ifc10e9b84b0f58a546c7bcb3caea2caaf0dc514a
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/00/711800/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/common/source/locale/id/LC_MESSAGES/common.po', 'doc/common/source/locale/de/LC_MESSAGES/common.po', 'doc/common/source/locale/en_GB/LC_MESSAGES/common.po']",3,feba182b8800244e817795c50aea0af0dd596683,zanata/translations,"""POT-Creation-Date: 2020-03-05 11:23+0000\n""","""POT-Creation-Date: 2020-01-15 15:41+0000\n""""Each OpenStack release has a code name. Code names ascend in alphabetical "" ""order: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, Train, Ussuri, and Victoria. Code names are cities or counties near "" ""where the corresponding OpenStack design summit took place. An exception, "" ""called the Waldon exception, is granted to elements of the state flag that "" ""sound especially cool. Code names are chosen by popular vote."" msgstr """" ""Each OpenStack release has a code name. Code names ascend in alphabetical "" ""order: Austin, Bexar, Cactus, Diablo, Essex, Folsom, Grizzly, Havana, "" ""Icehouse, Juno, Kilo, Liberty, Mitaka, Newton, Ocata, Pike, Queens, Rocky, "" ""Stein, Train, Ussuri, and Victoria. Code names are cities or counties near "" ""where the corresponding OpenStack design summit took place. An exception, "" ""called the Waldon exception, is granted to elements of the state flag that "" ""sound especially cool. Code names are chosen by popular vote."" msgid """"",42,47
openstack%2Fnova~master~Id920574fd7fa59f2a10e33dc458485bb4848347c,openstack/nova,master,Id920574fd7fa59f2a10e33dc458485bb4848347c,Introduce scope_types in os-aggregates policy,MERGED,2020-01-09 01:43:40.000000000,2020-03-07 06:25:06.000000000,2020-03-06 13:36:50.000000000,"[{'_account_id': 782}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-09 01:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cb443a1430768abda0f5f67be16caafc1ac2928', 'message': ""Introduce scope_types in os-aggregates policy\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-aggregates API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Id920574fd7fa59f2a10e33dc458485bb4848347c\n""}, {'number': 2, 'created': '2020-02-10 14:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6522b113f5d8054589b34b6a7959201548c9b152', 'message': ""Introduce scope_types in os-aggregates policy\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-aggregates API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Id920574fd7fa59f2a10e33dc458485bb4848347c\n""}, {'number': 3, 'created': '2020-03-06 10:02:25.000000000', 'files': ['nova/tests/unit/policies/test_aggregates.py', 'nova/policies/aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac68939cc5a83f5e5ce7757d0a03651909aa32a4', 'message': ""Introduce scope_types in os-aggregates policy\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-aggregates API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Id920574fd7fa59f2a10e33dc458485bb4848347c\n""}]",0,701652,ac68939cc5a83f5e5ce7757d0a03651909aa32a4,44,11,3,8556,,,0,"Introduce scope_types in os-aggregates policy

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for os-aggregates API policies
as 'system'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: Id920574fd7fa59f2a10e33dc458485bb4848347c
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/701652/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_aggregates.py', 'nova/policies/aggregates.py']",2,7cb443a1430768abda0f5f67be16caafc1ac2928,bp/policy-defaults-refresh," name=POLICY_ROOT % 'set_metadata', check_str=base.RULE_ADMIN_API, description=""Create or replace metadata for an aggregate"", operations=[ ], scope_types=['system']), name=POLICY_ROOT % 'add_host', check_str=base.RULE_ADMIN_API, description=""Add a host to an aggregate"", operations=[ ], scope_types=['system']), name=POLICY_ROOT % 'create', check_str=base.RULE_ADMIN_API, description=""Create an aggregate"", operations=[ ], scope_types=['system']), name=POLICY_ROOT % 'remove_host', check_str=base.RULE_ADMIN_API, description=""Remove a host from an aggregate"", operations=[ ], scope_types=['system']), name=POLICY_ROOT % 'update', check_str=base.RULE_ADMIN_API, description=""Update name and/or availability zone for an aggregate"", operations=[ ], scope_types=['system']), name=POLICY_ROOT % 'index', check_str=base.RULE_ADMIN_API, description=""List all aggregates"", operations=[ ], scope_types=['system']), name=POLICY_ROOT % 'delete', check_str=base.RULE_ADMIN_API, description=""Delete an aggregate"", operations=[ ], scope_types=['system']), name=POLICY_ROOT % 'show', check_str=base.RULE_ADMIN_API, description=""Show details for an aggregate"", operations=[ ], scope_types=['system']), name=NEW_POLICY_ROOT % 'images', check_str=base.RULE_ADMIN_API, description=""Request image caching for an aggregate"", operations=[ ], scope_types=['system']),"," POLICY_ROOT % 'set_metadata', base.RULE_ADMIN_API, ""Create or replace metadata for an aggregate"", [ ]), POLICY_ROOT % 'add_host', base.RULE_ADMIN_API, ""Add a host to an aggregate"", [ ]), POLICY_ROOT % 'create', base.RULE_ADMIN_API, ""Create an aggregate"", [ ]), POLICY_ROOT % 'remove_host', base.RULE_ADMIN_API, ""Remove a host from an aggregate"", [ ]), POLICY_ROOT % 'update', base.RULE_ADMIN_API, ""Update name and/or availability zone for an aggregate"", [ ]), POLICY_ROOT % 'index', base.RULE_ADMIN_API, ""List all aggregates"", [ ]), POLICY_ROOT % 'delete', base.RULE_ADMIN_API, ""Delete an aggregate"", [ ]), POLICY_ROOT % 'show', base.RULE_ADMIN_API, ""Show details for an aggregate"", [ ]), NEW_POLICY_ROOT % 'images', base.RULE_ADMIN_API, ""Request image caching for an aggregate"", [ ]),",67,45
openstack%2Fdevstack~stable%2Ftrain~I624e1dc57a3d3533322fb298c01f70241d0400ed,openstack/devstack,stable/train,I624e1dc57a3d3533322fb298c01f70241d0400ed,Removal of deprecated command and deprecated optional argument,MERGED,2020-03-04 07:47:02.000000000,2020-03-07 05:11:44.000000000,2020-03-07 05:10:16.000000000,"[{'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30491}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-03-04 07:47:02.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef44118eb8b9595d01df3e9bf50a8d7c2265604e', 'message': ""Removal of deprecated command and deprecated optional argument\n\nlib/tempest uses 'tempest-account-generator'\nwhich is deprecated 4 years back.\nIn addition to above, lib/tempest also uses\n'os-tenant-name' which is also deprecated.\n\nUse of 'tempest account-generator' and\n'os-project-name' should be done now.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I624e1dc57a3d3533322fb298c01f70241d0400ed\n(cherry picked from commit 7634c780027ad05e416c2a0c5ac688751aba4be6)\n""}]",0,711173,ef44118eb8b9595d01df3e9bf50a8d7c2265604e,12,7,1,16643,,,0,"Removal of deprecated command and deprecated optional argument

lib/tempest uses 'tempest-account-generator'
which is deprecated 4 years back.
In addition to above, lib/tempest also uses
'os-tenant-name' which is also deprecated.

Use of 'tempest account-generator' and
'os-project-name' should be done now.

Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I624e1dc57a3d3533322fb298c01f70241d0400ed
(cherry picked from commit 7634c780027ad05e416c2a0c5ac688751aba4be6)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/73/711173/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,ef44118eb8b9595d01df3e9bf50a8d7c2265604e,lib_tempest-stable/train," tox -evenv-tempest -- tempest account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-project-name $admin_project_name -r $TEMPEST_CONCURRENCY --with-admin etc/accounts.yaml tox -evenv-tempest -- tempest account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-project-name $admin_project_name -r $TEMPEST_CONCURRENCY etc/accounts.yaml"," tox -evenv-tempest -- tempest-account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-tenant-name $admin_project_name -r $TEMPEST_CONCURRENCY --with-admin etc/accounts.yaml tox -evenv-tempest -- tempest-account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-tenant-name $admin_project_name -r $TEMPEST_CONCURRENCY etc/accounts.yaml",2,2
openstack%2Fneutron~stable%2Fstein~Id6c103b7bcebe441c27c6049d349d84ba7fd15a6,openstack/neutron,stable/stein,Id6c103b7bcebe441c27c6049d349d84ba7fd15a6,Remove extra header fields in proxied metadata requests,MERGED,2020-03-03 20:11:30.000000000,2020-03-07 04:33:30.000000000,2020-03-07 04:30:25.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-03 20:11:30.000000000', 'files': ['releasenotes/notes/metadata-proxy-header-vulnerability-60c44eb7c76d560c.yaml', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dc0a61cd5aaa8a0448b19c08b9e8f04d2d11eb4', 'message': ""Remove extra header fields in proxied metadata requests\n\nIf a user specifies a header in their request for metadata,\nit could override what the proxy would have inserted on their\nbehalf. Make sure to remove any headers we don't want, and\noverride something that might be present in the request.\nIf the agent somehow gets a request with both headers it will\nsilently drop it.\n\nChange-Id: Id6c103b7bcebe441c27c6049d349d84ba7fd15a6\nCloses-bug: #1865036\n(cherry picked from commit 5af046fd4e6387cdbf8bf65ea4c2039a4019b64b)\n""}]",0,711101,4dc0a61cd5aaa8a0448b19c08b9e8f04d2d11eb4,9,5,1,1131,,,0,"Remove extra header fields in proxied metadata requests

If a user specifies a header in their request for metadata,
it could override what the proxy would have inserted on their
behalf. Make sure to remove any headers we don't want, and
override something that might be present in the request.
If the agent somehow gets a request with both headers it will
silently drop it.

Change-Id: Id6c103b7bcebe441c27c6049d349d84ba7fd15a6
Closes-bug: #1865036
(cherry picked from commit 5af046fd4e6387cdbf8bf65ea4c2039a4019b64b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/711101/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/metadata-proxy-header-vulnerability-60c44eb7c76d560c.yaml', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py']",5,4dc0a61cd5aaa8a0448b19c08b9e8f04d2d11eb4,metadata-agent-tests-assertEqual-stable/stein," if networks and router_id: return (instance_id, tenant_id) def test_get_instance_id_network_id_and_router_id_invalid(self): network_id = 'the_nid' router_id = 'the_rid' headers = { 'X-Neutron-Network-ID': network_id, 'X-Neutron-Router-ID': router_id } # The call should never do a port lookup, but mock it to verify ports = [ [{'device_id': 'device_id', 'tenant_id': 'tenant_id', 'network_id': network_id}] ] self.assertEqual( self._get_instance_and_tenant_id_helper(headers, ports, networks=(network_id,), router_id=router_id), (None, None) ) ",,47,1
openstack%2Fneutron~stable%2Fstein~Id6fee5a752968b356b884d939b708a420016c9bc,openstack/neutron,stable/stein,Id6fee5a752968b356b884d939b708a420016c9bc,Ensure that default SG exists during list of SG rules API call,MERGED,2020-03-03 09:09:20.000000000,2020-03-07 04:31:59.000000000,2020-03-07 04:30:19.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-03 09:09:20.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c12ccd1b8f148923d96369c02ee9f207aed81a5b', 'message': 'Ensure that default SG exists during list of SG rules API call\n\nDuring processing of security group rule list API call Neutron will\nnow ensure that default security group for project given in the filters\nor in the context exists.\nIt is similar to what is done for list of security groups or creation of\nnew network/port in the project.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: Id6fee5a752968b356b884d939b708a420016c9bc\nCloses-Bug: #1864171\n(cherry picked from commit 4739a4febb8c77e5a0ca48bc77ae4dccd9f8a81e)\n'}]",0,710957,c12ccd1b8f148923d96369c02ee9f207aed81a5b,18,5,1,11975,,,0,"Ensure that default SG exists during list of SG rules API call

During processing of security group rule list API call Neutron will
now ensure that default security group for project given in the filters
or in the context exists.
It is similar to what is done for list of security groups or creation of
new network/port in the project.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: Id6fee5a752968b356b884d939b708a420016c9bc
Closes-Bug: #1864171
(cherry picked from commit 4739a4febb8c77e5a0ca48bc77ae4dccd9f8a81e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/710957/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,c12ccd1b8f148923d96369c02ee9f207aed81a5b,bug/1864171-stable/stein," project_id = filters.get('project_id') or filters.get('tenant_id') if project_id: project_id = project_id[0] else: project_id = context.project_id if project_id: self._ensure_default_security_group(context, project_id) ",,8,0
openstack%2Fneutron~stable%2Fqueens~Id6c103b7bcebe441c27c6049d349d84ba7fd15a6,openstack/neutron,stable/queens,Id6c103b7bcebe441c27c6049d349d84ba7fd15a6,Remove extra header fields in proxied metadata requests,MERGED,2020-03-03 20:11:49.000000000,2020-03-07 04:31:57.000000000,2020-03-07 04:30:22.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-03 20:11:49.000000000', 'files': ['releasenotes/notes/metadata-proxy-header-vulnerability-60c44eb7c76d560c.yaml', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8de1e6ef01a45f75ad14d0d96cbcf40a8767f5d', 'message': ""Remove extra header fields in proxied metadata requests\n\nIf a user specifies a header in their request for metadata,\nit could override what the proxy would have inserted on their\nbehalf. Make sure to remove any headers we don't want, and\noverride something that might be present in the request.\nIf the agent somehow gets a request with both headers it will\nsilently drop it.\n\nChange-Id: Id6c103b7bcebe441c27c6049d349d84ba7fd15a6\nCloses-bug: #1865036\n(cherry picked from commit 5af046fd4e6387cdbf8bf65ea4c2039a4019b64b)\n""}]",0,711103,b8de1e6ef01a45f75ad14d0d96cbcf40a8767f5d,9,5,1,1131,,,0,"Remove extra header fields in proxied metadata requests

If a user specifies a header in their request for metadata,
it could override what the proxy would have inserted on their
behalf. Make sure to remove any headers we don't want, and
override something that might be present in the request.
If the agent somehow gets a request with both headers it will
silently drop it.

Change-Id: Id6c103b7bcebe441c27c6049d349d84ba7fd15a6
Closes-bug: #1865036
(cherry picked from commit 5af046fd4e6387cdbf8bf65ea4c2039a4019b64b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/03/711103/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/metadata-proxy-header-vulnerability-60c44eb7c76d560c.yaml', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/metadata/agent.py', 'neutron/tests/unit/agent/metadata/test_agent.py']",5,b8de1e6ef01a45f75ad14d0d96cbcf40a8767f5d,metadata-agent-tests-assertEqual-stable/queens," if networks and router_id: return (instance_id, tenant_id) def test_get_instance_id_network_id_and_router_id_invalid(self): network_id = 'the_nid' router_id = 'the_rid' headers = { 'X-Neutron-Network-ID': network_id, 'X-Neutron-Router-ID': router_id } # The call should never do a port lookup, but mock it to verify ports = [ [{'device_id': 'device_id', 'tenant_id': 'tenant_id', 'network_id': network_id}] ] self.assertEqual( self._get_instance_and_tenant_id_helper(headers, ports, networks=(network_id,), router_id=router_id), (None, None) ) ",,47,1
openstack%2Fnova~master~I023a13c0f7d205aa65b7f74589f243ea359345dc,openstack/nova,master,I023a13c0f7d205aa65b7f74589f243ea359345dc,Add new default roles in os-create-backup policies,MERGED,2020-02-11 02:24:59.000000000,2020-03-07 04:04:15.000000000,2020-03-06 19:53:22.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-11 02:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c73fbec8460a256e62debf9e2a8f48afd427b90b', 'message': 'Add new default roles in os-create-backup policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I023a13c0f7d205aa65b7f74589f243ea359345dc\n'}, {'number': 2, 'created': '2020-02-12 20:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c00cd0157490a308ba36129e8b00815fabcbd341', 'message': 'Add new default roles in os-create-backup policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I023a13c0f7d205aa65b7f74589f243ea359345dc\n'}, {'number': 3, 'created': '2020-03-06 01:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5a743ebd19cb110b998dab95add68bb44aaab9a', 'message': 'Add new default roles in os-create-backup policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I023a13c0f7d205aa65b7f74589f243ea359345dc\n'}, {'number': 4, 'created': '2020-03-06 01:45:51.000000000', 'files': ['nova/tests/unit/policies/test_create_backup.py', 'nova/policies/create_backup.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/abd67b9e5407e6728dbc9d23a8d3e3a17984992c', 'message': 'Add new default roles in os-create-backup policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nAlso add tests to simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I023a13c0f7d205aa65b7f74589f243ea359345dc\n'}]",0,707039,abd67b9e5407e6728dbc9d23a8d3e3a17984992c,48,12,4,8556,,,0,"Add new default roles in os-create-backup policies

This adds new defaults roles in os-admin-password API policies.

This policy is default to owner or system admin role.

Also add tests to simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: I023a13c0f7d205aa65b7f74589f243ea359345dc
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/707039/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/create_backup.py'],1,c73fbec8460a256e62debf9e2a8f48afd427b90b,bp/policy-defaults-refresh," check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN,"," check_str=base.RULE_ADMIN_OR_OWNER,",1,1
openstack%2Fnova~stable%2Ftrain~I4c3fbb213e023ac16efc0b8561f975a659311684,openstack/nova,stable/train,I4c3fbb213e023ac16efc0b8561f975a659311684,Clean up allocation if unshelve fails due to neutron,MERGED,2020-02-21 16:02:53.000000000,2020-03-07 04:01:39.000000000,2020-03-06 11:37:20.000000000,"[{'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-21 16:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec4208b5580c0f2354e1f4e6f4f1ff461f53ba31', 'message': 'Clean up allocation if unshelve fails due to neutron\n\nWhen port binding update fails during unshelve of a shelve offloaded\ninstance compute manager has to catch the exception and clean up the\ndestination host allocation.\n\nChange-Id: I4c3fbb213e023ac16efc0b8561f975a659311684\nCloses-Bug: #1862633\n(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)\n'}, {'number': 2, 'created': '2020-03-06 08:37:14.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e6b749dbdd735e2cd0054654b5da7a02280a080b', 'message': 'Clean up allocation if unshelve fails due to neutron\n\nWhen port binding update fails during unshelve of a shelve offloaded\ninstance compute manager has to catch the exception and clean up the\ndestination host allocation.\n\nChange-Id: I4c3fbb213e023ac16efc0b8561f975a659311684\nCloses-Bug: #1862633\n(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)\n'}]",0,709167,e6b749dbdd735e2cd0054654b5da7a02280a080b,22,8,2,9708,,,0,"Clean up allocation if unshelve fails due to neutron

When port binding update fails during unshelve of a shelve offloaded
instance compute manager has to catch the exception and clean up the
destination host allocation.

Change-Id: I4c3fbb213e023ac16efc0b8561f975a659311684
Closes-Bug: #1862633
(cherry picked from commit e65d4a131a7ebc02261f5df69fa1b394a502f268)
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/709167/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1862633.py']",2,ec4208b5580c0f2354e1f4e6f4f1ff461f53ba31,bug/1862633," self.assertEqual(0, len(allocations))"," # allocations = self.placement_api.get( # '/allocations/%s' % server['id']).body['allocations'] # self.assertEqual(0, len(allocations)) # # but the allocation is leaked this is bug 1862633 self.assertEqual(1, len(allocations))",5,9
openstack%2Fheat-tempest-plugin~master~Idf10445ac8cdd066a62a8fe08b542982895394bc,openstack/heat-tempest-plugin,master,Idf10445ac8cdd066a62a8fe08b542982895394bc,Resume tests on rocky and queens,MERGED,2020-02-14 07:11:24.000000000,2020-03-07 03:54:53.000000000,2020-03-07 03:54:53.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-14 07:11:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/08d2f89c508d67f867eeb903660d9427dc518c3e', 'message': 'Resume tests on rocky and queens\n\nDepends-On: https://review.opendev.org/707663\nDepends-On: https://review.opendev.org/707760\nChange-Id: Idf10445ac8cdd066a62a8fe08b542982895394bc\n'}]",0,707769,08d2f89c508d67f867eeb903660d9427dc518c3e,8,3,1,12404,,,0,"Resume tests on rocky and queens

Depends-On: https://review.opendev.org/707663
Depends-On: https://review.opendev.org/707760
Change-Id: Idf10445ac8cdd066a62a8fe08b542982895394bc
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/69/707769/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,08d2f89c508d67f867eeb903660d9427dc518c3e,fix-stable-gate, - heat-functional-convg-queens - heat-functional-orig-queens - heat-functional-convg-rocky - heat-functional-orig-rocky, # block untill https://review.opendev.org/#/q/topic:fix-stable-gate+( # status:open+OR+status:merged)+project:openstack/heat merged #- heat-functional-convg-queens #- heat-functional-orig-queens #- heat-functional-convg-rocky #- heat-functional-orig-rocky,4,6
openstack%2Fheat~stable%2Fqueens~I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f,openstack/heat,stable/queens,I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f,Use stable constraint and update fedora mirror,MERGED,2020-02-14 04:12:47.000000000,2020-03-07 03:53:47.000000000,2020-03-07 03:53:46.000000000,"[{'_account_id': 4257}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-14 04:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/306d5c3cdf0b63ce1d8b9b19b298aafac673efee', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 2, 'created': '2020-02-14 07:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/faf25e398fc15fa870afad2f4dce7b7751e1978f', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 3, 'created': '2020-02-16 12:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bc75f6f2bef67e966368bc35dcf07cfc4e7e7b46', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 4, 'created': '2020-02-19 03:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/090dd44579cd9ea76ef27778a2f0e00917e19b1f', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 5, 'created': '2020-02-19 05:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6c3ac6780b4cc9a73cc348259dc8ba242fedb65f', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 6, 'created': '2020-02-19 07:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/88b84007dded7faf788fb9388c155d500e04e6a8', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 7, 'created': '2020-02-20 02:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6ffa5f81a8f329c9faea93b297b9c601a336c021', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 8, 'created': '2020-02-20 04:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/78c5d4be22345565437c56ee7e46afa6c9233148', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 9, 'created': '2020-02-20 15:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9e5544f2913b504e2d5913a83ae4778145c1dee1', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 10, 'created': '2020-02-21 02:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9fe063a15e1d4b272d855b610255dfbac7fe4a52', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 11, 'created': '2020-02-21 05:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ca6f13c5862f3cf9e382d376ce2148a34a978bc7', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 12, 'created': '2020-02-22 05:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a5f6dacbc30c97f67fe3de7b089e06f64e0cb277', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 13, 'created': '2020-02-22 07:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9a984e2c815e3c2ff6271d98731163d9c255ce31', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 14, 'created': '2020-02-22 20:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/39ec9e548ccde171d6c19b14f5e7a5abbc33a6b2', 'message': 'Use stable constraint for Tempest pinned stable branches\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 15, 'created': '2020-02-23 03:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d16773e0c46d76c02f331796744e1392782ed603', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 16, 'created': '2020-02-23 04:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4af26c10386b969e9cd0613b0dad62fae5945628', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 17, 'created': '2020-02-23 07:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9267cfa3a7e570de502b3caa73544b3dc14efbcf', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 18, 'created': '2020-02-24 02:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d97297a5638760525e177fe3bb1d69d1432fe53f', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 19, 'created': '2020-02-24 17:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/271461e44d485b000873bba7d0a2b07678fff5e8', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 20, 'created': '2020-02-25 03:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/755e767ed09b26a5de1a160e8ea7201706dc3569', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 21, 'created': '2020-02-25 09:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5abb4ba780b814f529dfc186b1ce4e945f3adae7', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 22, 'created': '2020-02-25 17:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d1605e6ee34dc8a839eb1a4378705955b90a0a7d', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 23, 'created': '2020-02-26 02:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/af521fdf185dda4e45d5c25a86b02a487fbec66d', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 24, 'created': '2020-02-26 04:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/03d3f8640d7f148b3af528c0778830008ae14110', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 25, 'created': '2020-02-26 10:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8e0f87be65ddd4c0c3c82358afce0386658f518a', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 26, 'created': '2020-02-26 12:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1e395bbe16b1ca5f30b2264a51c24ab6aa64432e', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nUpdate pre-upgrade tests set to alias with ocata grenade tests\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 27, 'created': '2020-02-26 15:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/434eb4e41dd85e31a772e17c2eb26755759b3829', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 28, 'created': '2020-02-27 01:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e769cea20368f058bab22f05409b30b286b1af23', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 29, 'created': '2020-02-27 02:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fd4380953276bb2b9d190b9fbb41057bbd7a2106', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 30, 'created': '2020-02-27 03:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/487ccdb8a6721ce0be958bcc7453b83c588d4aae', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nDepends-On: https://review.opendev.org/707665\nDepends-On: https://review.opendev.org/708801\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 31, 'created': '2020-02-27 03:57:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/044379ddfe42dbad07edc149aa4747ebd85ef26a', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}, {'number': 32, 'created': '2020-02-27 05:39:43.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh', 'heat_integrationtests/post_test_hook.sh', 'heat_integrationtests/cleanup_test_env.sh', 'devstack/upgrade/resources.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/5352760deb3da75c59615e4850d391bdb51167ee', 'message': 'Use stable constraint and update fedora mirror\n\nStable branches till stable/rocky is using python\nversion <py3.6. Tempest test those branch in venv\nbut Tempest tox use the master upper-constraint[1]\nwhich block installation due to dependencies\nrequire >=py3.6. For exmaple, oslo.concurrency 4.0.0\nis not compatible for <py3.6.\n\nAs we pin Tempest for EM stable brach, we should be\nable to use stable constraint for Tempest installation\nas well as while running during run-tempest playbook.\n\ntox.ini is hard coded to use master constraint[1] which force\nrun-tempest to recreate the tox env and use the master constraint.\nFix for that- https://review.opendev.org/#/c/705870/\n\n[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14\n\nUpdate pre-upgrade tests set to alias with ocata grenade tests\n\nAlso update Fedora image ref for test jobs.\nFedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.\nUpdate to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.\n\nChange-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f\n'}]",7,707760,5352760deb3da75c59615e4850d391bdb51167ee,75,4,32,12404,,,0,"Use stable constraint and update fedora mirror

Stable branches till stable/rocky is using python
version <py3.6. Tempest test those branch in venv
but Tempest tox use the master upper-constraint[1]
which block installation due to dependencies
require >=py3.6. For exmaple, oslo.concurrency 4.0.0
is not compatible for <py3.6.

As we pin Tempest for EM stable brach, we should be
able to use stable constraint for Tempest installation
as well as while running during run-tempest playbook.

tox.ini is hard coded to use master constraint[1] which force
run-tempest to recreate the tox env and use the master constraint.
Fix for that- https://review.opendev.org/#/c/705870/

[1] https://opendev.org/openstack/tempest/src/commit/bc9fe8eca801f54915ff3eafa418e6e18ac2df63/tox.ini#L14

Update pre-upgrade tests set to alias with ocata grenade tests

Also update Fedora image ref for test jobs.
Fedora-Cloud-Base-29-1.2.x86_64 is removed from openstack local mirro.
Update to use Fedora-Cloud-Base-30-1.2.x86_64 for test jobs.

Change-Id: I12e52dcbe306fda7d3b8f28d3b3a25c4c741884f
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/707760/32 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/post_test_hook.sh'],1,306d5c3cdf0b63ce1d8b9b19b298aafac673efee,fix-stable-gate,export UPPER_CONSTRAINTS_FILE=${UPPER_CONSTRAINTS_FILE:-$DEST/requirements/upper-constraints.txt} sudo UPPER_CONSTRAINTS_FILE=$UPPER_CONSTRAINTS_FILE tox -evenv-tempest -- stestr --test-path=$DEST/heat/heat_integrationtests --top-dir=$DEST/heat --group_regex='heat_tempest_plugin\.tests\.api\.test_heat_api[._]([^_]+)' run,sudo tox -evenv-tempest -- stestr --test-path=$DEST/heat/heat_integrationtests --top-dir=$DEST/heat --group_regex='heat_tempest_plugin\.tests\.api\.test_heat_api[._]([^_]+)' run,2,1
openstack%2Ftripleo-ansible~master~If7d3a93070bc91410cc12832f60c98da40cd24e1,openstack/tripleo-ansible,master,If7d3a93070bc91410cc12832f60c98da40cd24e1,update more jobs to centos-8,MERGED,2020-03-05 16:04:14.000000000,2020-03-07 03:52:54.000000000,2020-03-07 03:52:54.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 16:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c370ab708517c124f6a39d9a5d71aed06d80163', 'message': 'update containers-multinode to centos-8\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: If7d3a93070bc91410cc12832f60c98da40cd24e1\n'}, {'number': 2, 'created': '2020-03-05 16:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c43714f6b12a33cdd0c2511f051c7becbf9e4c3', 'message': 'update more jobs to centos-8\n\ncontainers-multinode\nstandalone-scenario10\nundercloud-containers and minion\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: If7d3a93070bc91410cc12832f60c98da40cd24e1\n'}, {'number': 3, 'created': '2020-03-06 04:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9717fa1aa238485a9332091f0de1a67f649068ba', 'message': 'update more jobs to centos-8\n\ncontainers-multinode\nstandalone-scenario10\nundercloud-containers and minion\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: If7d3a93070bc91410cc12832f60c98da40cd24e1\n'}, {'number': 4, 'created': '2020-03-06 22:03:07.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34e1892c5ac378f434b30c29e21ac0d10dfb398c', 'message': 'update more jobs to centos-8\n\ncontainers-multinode\nstandalone-scenario10\nundercloud-containers and minion\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: If7d3a93070bc91410cc12832f60c98da40cd24e1\n'}]",1,711494,34e1892c5ac378f434b30c29e21ac0d10dfb398c,17,3,4,9592,,,0,"update more jobs to centos-8

containers-multinode
standalone-scenario10
undercloud-containers and minion

Depends-On: https://review.opendev.org/#/c/711480/
Change-Id: If7d3a93070bc91410cc12832f60c98da40cd24e1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/94/711494/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9c370ab708517c124f6a39d9a5d71aed06d80163,centos-8-jobs, - tripleo-ci-centos-8-containers-multinode: &containers_multinode, - tripleo-ci-centos-7-containers-multinode: &containers_multinode,1,1
openstack%2Fheat~stable%2Frocky~I56aede8209e425ee6c2d762a44db8cda5416e69b,openstack/heat,stable/rocky,I56aede8209e425ee6c2d762a44db8cda5416e69b,Ignore Not Found when deleting Keystone role assignment,MERGED,2020-02-27 10:40:46.000000000,2020-03-07 03:52:31.000000000,2020-03-07 03:52:30.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 10:40:46.000000000', 'files': ['heat/engine/resources/openstack/keystone/role_assignments.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a4d401d7827ffdbd2bdd8243eae6bfd6d5ddeb53', 'message': ""Ignore Not Found when deleting Keystone role assignment\n\nIf the project has already been deleted, don't let that prevent role\nassignments on it from being deleted.\n\nChange-Id: I56aede8209e425ee6c2d762a44db8cda5416e69b\nTask: 30955\n(cherry picked from commit 8c67437378ca505c5752cee0d862d806ca11c3a0)\n""}]",0,710219,a4d401d7827ffdbd2bdd8243eae6bfd6d5ddeb53,9,3,1,8833,,,0,"Ignore Not Found when deleting Keystone role assignment

If the project has already been deleted, don't let that prevent role
assignments on it from being deleted.

Change-Id: I56aede8209e425ee6c2d762a44db8cda5416e69b
Task: 30955
(cherry picked from commit 8c67437378ca505c5752cee0d862d806ca11c3a0)
",git fetch https://review.opendev.org/openstack/heat refs/changes/19/710219/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/keystone/role_assignments.py'],1,a4d401d7827ffdbd2bdd8243eae6bfd6d5ddeb53,, with self.client_plugin().ignore_not_found: self.delete_assignment(user_id=self.user_id) with self.client_plugin().ignore_not_found: self.delete_assignment(group_id=self.group_id), self.delete_assignment(user_id=self.user_id) self.delete_assignment(group_id=self.group_id),4,2
openstack%2Fheat~stable%2Frocky~Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23,openstack/heat,stable/rocky,Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23,Handle OS::Mistral::Workflow resource replacement properly,MERGED,2020-02-26 15:36:59.000000000,2020-03-07 03:52:26.000000000,2020-03-07 03:52:26.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-02-26 15:36:59.000000000', 'files': ['heat/engine/resources/openstack/mistral/workflow.py', 'heat/tests/openstack/mistral/test_workflow.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/29fa075627831e45177e61a6e5bba20059c7b3ce', 'message': ""Handle OS::Mistral::Workflow resource replacement properly\n\nOS::Mistral::Workflow resource creates a mistral workflow with\na unique name (resource_id). We replace FAILED resources by\ndefault and replace wont work in this case as it will try to\nuse the same workflow name for the replacement resouce, if the\n'name' property is provided.\n\nIf the workflow does not exist/deleted using mistral api directly,\nit would create a replacement resource, but it would delete the\nworkflow when cleaning up the old resource. So we would endup\nwith a replacement resource without any backing workflow.\n\nThis adds a new resource attribute ``always_replace_on_check_failed``\nand overrides needs_replace_failed() for OS::Mistral::Workflow.\n\nTask: 38855\nChange-Id: Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23\n(cherry picked from commit 9e80518b900a1f14a80ee05ddeef4b250433febd)\n""}]",0,710059,29fa075627831e45177e61a6e5bba20059c7b3ce,18,5,1,3153,,,0,"Handle OS::Mistral::Workflow resource replacement properly

OS::Mistral::Workflow resource creates a mistral workflow with
a unique name (resource_id). We replace FAILED resources by
default and replace wont work in this case as it will try to
use the same workflow name for the replacement resouce, if the
'name' property is provided.

If the workflow does not exist/deleted using mistral api directly,
it would create a replacement resource, but it would delete the
workflow when cleaning up the old resource. So we would endup
with a replacement resource without any backing workflow.

This adds a new resource attribute ``always_replace_on_check_failed``
and overrides needs_replace_failed() for OS::Mistral::Workflow.

Task: 38855
Change-Id: Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23
(cherry picked from commit 9e80518b900a1f14a80ee05ddeef4b250433febd)
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/710059/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/mistral/workflow.py', 'heat/tests/openstack/mistral/test_workflow.py', 'heat/engine/resource.py']",3,29fa075627831e45177e61a6e5bba20059c7b3ce,, # Whether the resource is always replaced when CHECK_FAILED always_replace_on_check_failed = True if ((self.action == self.CHECK and self.always_replace_on_check_failed) or ( self.needs_replace_failed())):, if self.action == self.CHECK or self.needs_replace_failed():,87,21
openstack%2Fnova~master~I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68,openstack/nova,master,I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68,Fix os-create-backup policy to be admin_or_owner,MERGED,2020-02-10 01:59:35.000000000,2020-03-07 03:24:37.000000000,2020-03-06 19:50:28.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-10 01:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8ff8342c342b1ca914d2b9cb82b477d64d36d58', 'message': ""Fix os-create-backup policy to be admin_or_owner\n\nos-create-backup API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706726/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/create_backup.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/create_backup.py#L50\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68\nCloses-bug: #1862558\n""}, {'number': 2, 'created': '2020-02-10 15:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/963b47cf426547711f9cb689beee3d5b61a50fa7', 'message': ""Fix os-create-backup policy to be admin_or_owner\n\nos-create-backup API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706726/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/create_backup.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/create_backup.py#L50\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68\nCloses-bug: #1862558\n""}, {'number': 3, 'created': '2020-02-12 20:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/415cfdd3df277f43624fd943315061571e84ee88', 'message': ""Fix os-create-backup policy to be admin_or_owner\n\nos-create-backup API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706726/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/create_backup.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/create_backup.py#L50\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68\nCloses-bug: #1862561\n""}, {'number': 4, 'created': '2020-03-02 14:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f1d8acc35cf0444e5d903fa6e19eccbbfd1280d', 'message': ""Fix os-create-backup policy to be admin_or_owner\n\nos-create-backup API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706726/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/create_backup.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/create_backup.py#L50\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68\nCloses-bug: #1862561\n""}, {'number': 5, 'created': '2020-03-06 01:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80e553d06e7adcc99e3ad59a84f3f35061073203', 'message': ""Fix os-create-backup policy to be admin_or_owner\n\nos-create-backup API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706726/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/create_backup.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/create_backup.py#L50\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68\nCloses-bug: #1862561\n""}, {'number': 6, 'created': '2020-03-06 01:39:03.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/api/openstack/compute/create_backup.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/30bcb43ca5bfc1f6f0efe9298ce2f9dbf9431e2e', 'message': ""Fix os-create-backup policy to be admin_or_owner\n\nos-create-backup API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706726/\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/create_backup.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/create_backup.py#L50\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68\nCloses-bug: #1862561\n""}]",0,706727,30bcb43ca5bfc1f6f0efe9298ce2f9dbf9431e2e,67,12,6,8556,,,0,"Fix os-create-backup policy to be admin_or_owner

os-create-backup API policy is default to admin_or_owner[1] but API
is allowed for everyone.

We can see the test trying with other project context can access the API
- https://review.opendev.org/#/c/706726/

This is because API does not pass the server project_id in policy target[2]
and if no target is passed then, policy.py add the default targets which is
nothing but context.project_id (allow for everyone who try to access)[3]

This commit fix this policy by passing the server's project_id in policy
target.

[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/create_backup.py#L27
[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/create_backup.py#L50
[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191

Change-Id: I36cba4c6760f8f9faa5f3039cbb11ea1dc296f68
Closes-bug: #1862561
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/706727/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/create_backup.py'],1,b8ff8342c342b1ca914d2b9cb82b477d64d36d58,bug/1862558," instance = common.get_instance(self.compute_api, context, id) context.can(cb_policies.BASE_POLICY_NAME, target={'project_id': instance.project_id})"," context.can(cb_policies.BASE_POLICY_NAME) instance = common.get_instance(self.compute_api, context, id) ",3,3
openstack%2Fpython-tripleoclient~master~I2285b23282a275097512dc35628cb7fa8ac94d61,openstack/python-tripleoclient,master,I2285b23282a275097512dc35628cb7fa8ac94d61,Start moving the import CLI command to the Ansible implementation,MERGED,2019-12-12 13:57:13.000000000,2020-03-07 02:51:47.000000000,2020-03-07 02:50:26.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-12 13:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f44ff7df102878500e95c547c9fcbbb1384c48b0', 'message': 'WIP Start moving the import CLI command to the Ansible implementation\n\nTOOD:\n- We still need ansible for importing and providing nodes\n- unit tests\n\nHopefully this test will show introspection working in CI\n\nDepends-On: https://review.opendev.org/#/c/692363/\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\n'}, {'number': 2, 'created': '2019-12-19 13:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f52cda4ff11753e0bb2f3135896b81242ec327b6', 'message': 'WIP Start moving the import CLI command to the Ansible implementation\n\nTOOD:\n- We still need ansible for importing and providing nodes\n- unit tests\n\nHopefully this test will show introspection working in CI\n\nDepends-On: https://review.opendev.org/#/c/692363/\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\n'}, {'number': 3, 'created': '2020-01-14 10:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9234d0e9abf92bfdb05054281b12b773ff7780bd', 'message': 'WIP Start moving the import CLI command to the Ansible implementation\n\nTOOD:\n- We still need ansible for importing and providing nodes\n- unit tests\n\nHopefully this test will show introspection working in CI\n\nDepends-On: https://review.opendev.org/#/c/692363/\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\n'}, {'number': 4, 'created': '2020-01-21 19:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6efccdf6d44373b9e8ece03479d9cca58631df27', 'message': 'Start moving the import CLI command to the Ansible implementation\n\nDepends-On: https://review.opendev.org/#/c/692363/\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-01-22 14:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/507dd417b9c9937e3338087aadd464f8a38e5755', 'message': 'Start moving the import CLI command to the Ansible implementation\n\nDepends-On: https://review.opendev.org/#/c/692363/\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-01-22 14:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/577332e4635617e7c86aad4fcdce740388dd968e', 'message': 'Start moving the import CLI command to the Ansible implementation\n\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-21 18:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb9355dc7fe774cd5fd5d861b3c2c1f3a5144250', 'message': 'Start moving the import CLI command to the Ansible implementation\n\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-02-21 19:03:11.000000000', 'files': ['tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/818c7a7a1a961b68658daebf0c736fbb17bd74b5', 'message': 'Start moving the import CLI command to the Ansible implementation\n\nChange-Id: I2285b23282a275097512dc35628cb7fa8ac94d61\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,698723,818c7a7a1a961b68658daebf0c736fbb17bd74b5,53,7,8,9712,,,0,"Start moving the import CLI command to the Ansible implementation

Change-Id: I2285b23282a275097512dc35628cb7fa8ac94d61
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/23/698723/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_node.py', 'tripleoclient/v2/__init__.py', 'setup.cfg']",3,f44ff7df102878500e95c547c9fcbbb1384c48b0,mistral_to_ansible,openstack.tripleoclient.v2 = overcloud_node_import = tripleoclient.v2.overcloud_node:ImportNode , overcloud_node_import = tripleoclient.v1.overcloud_node:ImportNode,120,1
openstack%2Fnova~master~Ieb026dadca2021dcc0451bf2167b15f5380e74ef,openstack/nova,master,Ieb026dadca2021dcc0451bf2167b15f5380e74ef,Add new default roles in os-admin-password policies,MERGED,2020-01-08 23:49:54.000000000,2020-03-07 02:47:04.000000000,2020-03-06 12:44:59.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-08 23:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b41861a48d7d63724ab20c03ee16e61be17def0', 'message': 'Add new default roles in os-admin-password policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ieb026dadca2021dcc0451bf2167b15f5380e74ef\n'}, {'number': 2, 'created': '2020-02-08 16:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3d53098ab9e00d6055eb2ab5a9f26443f88e818', 'message': 'Add new default roles in os-admin-password policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ieb026dadca2021dcc0451bf2167b15f5380e74ef\n'}, {'number': 3, 'created': '2020-02-08 23:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c7bbab481edcc2a4e876e85b866ac3c8834fa73', 'message': 'Add new default roles in os-admin-password policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ieb026dadca2021dcc0451bf2167b15f5380e74ef\n'}, {'number': 4, 'created': '2020-03-05 17:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c71200ccdc61f1ca93c4a39785c943cf1108648b', 'message': 'Add new default roles in os-admin-password policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ieb026dadca2021dcc0451bf2167b15f5380e74ef\n'}, {'number': 5, 'created': '2020-03-06 01:06:03.000000000', 'files': ['nova/policies/admin_password.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9bcdd05f0d30dea02747ab9d8fea9ebe4fa9b8c7', 'message': 'Add new default roles in os-admin-password policies\n\nThis adds new defaults roles in os-admin-password API policies.\n\nThis policy is default to owner or system admin role.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ieb026dadca2021dcc0451bf2167b15f5380e74ef\n'}]",0,701639,9bcdd05f0d30dea02747ab9d8fea9ebe4fa9b8c7,68,13,5,8556,,,0,"Add new default roles in os-admin-password policies

This adds new defaults roles in os-admin-password API policies.

This policy is default to owner or system admin role.

Partial implement blueprint policy-defaults-refresh

Change-Id: Ieb026dadca2021dcc0451bf2167b15f5380e74ef
",git fetch https://review.opendev.org/openstack/nova refs/changes/39/701639/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/admin_password.py'],1,5b41861a48d7d63724ab20c03ee16e61be17def0,bp/policy-defaults-refresh," check_str=base.PROJECT_MEMBER_OR_SYSTEM_ADMIN,"," check_str=base.RULE_ADMIN_OR_OWNER,",1,1
openstack%2Fnova~master~If73cedb50185c830167db1c86ad15095c9f3d104,openstack/nova,master,If73cedb50185c830167db1c86ad15095c9f3d104,Introduce scope_types in os-agents policy,MERGED,2020-01-09 01:11:02.000000000,2020-03-07 02:33:31.000000000,2020-03-05 02:47:20.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-09 01:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/385288e96a99428c28aa028c4696206e37dff8b6', 'message': ""Introduce scope_types in os-agents policy\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-agents API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: If73cedb50185c830167db1c86ad15095c9f3d104\n""}, {'number': 2, 'created': '2020-02-10 14:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d1e6baa51385d4d4d5c16675c34c011dc0a2603', 'message': ""Introduce scope_types in os-agents policy\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-agents API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: If73cedb50185c830167db1c86ad15095c9f3d104\n""}, {'number': 3, 'created': '2020-03-04 09:48:03.000000000', 'files': ['nova/tests/unit/policies/test_agents.py', 'nova/policies/agents.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c5bf8b230fea356a228485926bc889b138d5bcb1', 'message': ""Introduce scope_types in os-agents policy\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-agents API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: If73cedb50185c830167db1c86ad15095c9f3d104\n""}]",1,701645,c5bf8b230fea356a228485926bc889b138d5bcb1,38,12,3,8556,,,0,"Introduce scope_types in os-agents policy

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for os-agents API policies
as 'system'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: If73cedb50185c830167db1c86ad15095c9f3d104
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/701645/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_agents.py', 'nova/policies/agents.py']",2,385288e96a99428c28aa028c4696206e37dff8b6,bp/policy-defaults-refresh," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_API, description=""""""Create, list, update, and delete guest agent builds operations=[ ], scope_types=['system']),"," BASE_POLICY_NAME, base.RULE_ADMIN_API, """"""Create, list, update, and delete guest agent builds [ ]),",20,5
openstack%2Ftripleo-ansible~master~Ica06a34de3e153c665cadb01fdeb6b6a7dededc2,openstack/tripleo-ansible,master,Ica06a34de3e153c665cadb01fdeb6b6a7dededc2,Remove all the extra folders in the backup and restore role,MERGED,2020-02-03 14:44:20.000000000,2020-03-07 02:26:36.000000000,2020-03-07 02:26:36.000000000,"[{'_account_id': 7353}, {'_account_id': 8932}, {'_account_id': 11085}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-03 14:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f9f254fdc48c4cb23f9d3a0a8b71d42d8da0d571', 'message': 'remove extra folders in backup and restore role\n\nChange-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2\n'}, {'number': 2, 'created': '2020-02-03 14:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/918bfd799f493e33d78014d6969e9e6295412203', 'message': 'remove extra folders in backup and restore role\n\nChange-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2\n'}, {'number': 3, 'created': '2020-02-05 16:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/108afcfbad83d38afe04858b0b403d049f074d9d', 'message': 'Remove all the extra folders in the backup and restore role\n\nThis review cleans up the extra folders\nfor when we move this to a collection.\n\nChange-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2\n'}, {'number': 4, 'created': '2020-02-07 14:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cbed0562595003a605d6f8dcea21cafb5ec6ac2', 'message': 'Remove all the extra folders in the backup and restore role\n\nThis review cleans up the extra folders\nfor when we move this to a collection.\n\nChange-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2\n'}, {'number': 5, 'created': '2020-02-19 08:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22124cbf5c96768bf2edb604d53ccbcfc8e0af01', 'message': 'Remove all the extra folders in the backup and restore role\n\nThis review cleans up the extra folders\nfor when we move this to a collection.\n\nChange-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2\n'}, {'number': 6, 'created': '2020-03-06 09:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2caf9cefece49a7f5a7fd44739c2b89218f2171', 'message': 'Remove all the extra folders in the backup and restore role\n\nThis review cleans up the extra folders\nfor when we move this to a collection.\n\nChange-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2\n'}, {'number': 7, 'created': '2020-03-06 09:13:35.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_unpause.yml', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/644df915a9df021723a1683f641abf3956a664c8', 'message': 'Remove all the extra folders in the backup and restore role\n\nThis review cleans up the extra folders\nfor when we move this to a collection.\n\nChange-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2\n'}]",6,705453,644df915a9df021723a1683f641abf3956a664c8,37,9,7,20775,,,0,"Remove all the extra folders in the backup and restore role

This review cleans up the extra folders
for when we move this to a collection.

Change-Id: Ica06a34de3e153c665cadb01fdeb6b6a7dededc2
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/705453/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_nfs.yml', 'tripleo_ansible/roles/backup_and_restore/setup_nfs/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/setup_rear/tasks/main.yml']",6,f9f254fdc48c4cb23f9d3a0a8b71d42d8da0d571,,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""backup_and_restore"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" tags: - always - name: Install required packages for ReaR become: true package: name: ""{{ tripleo_backup_and_restore_rear_packages }}"" state: present tags: - bar_setup_rear - name: Get local hostname command: hostname register: tripleo_backup_and_restore_hostname tags: - bar_setup_rear - name: Get bootstrap_nodeid become: true command: ""hiera -c {{ tripleo_backup_and_restore_hiera_config_file }} bootstrap_nodeid"" register: tripleo_backup_and_restore_bootstrap_nodeid tags: - bar_setup_rear - name: Get enabled services by node become: true command: ""hiera -c {{ tripleo_backup_and_restore_hiera_config_file }} service_names"" register: tripleo_backup_and_restore_enabled_services tags: - bar_setup_rear - name: Calculate exclude paths register: tripleo_backup_and_restore_exclude_paths set_fact: tripleo_backup_and_restore_exclude_paths: - ""{{ tripleo_backup_and_restore_exclude_paths_common }}"" - ""{{ (tripleo_backup_and_restore_exclude_paths_compute) if (tripleo_backup_and_restore_enabled_services.stdout is search('nova_compute')) else [] }}"" - ""{{ (tripleo_backup_and_restore_exclude_paths_controller) if (tripleo_backup_and_restore_bootstrap_nodeid.stdout != tripleo_backup_and_restore_hostname.stdout and tripleo_backup_and_restore_enabled_services.stdout is search('pacemaker') and tripleo_backup_and_restore_enabled_services.stdout is search('mysql') and tripleo_backup_and_restore_exclude_paths_controller_non_bootrapnode) else [] }}"" tags: - bar_setup_rear - name: Generate ReaR config file become: true template: src: local.conf.j2 dest: /etc/rear/local.conf owner: root group: root mode: '0644' backup: true tags: - bar_setup_rear - name: Generate ReaR rescue file become: true template: src: rescue.conf.j2 dest: /etc/rear/rescue.conf owner: root group: root mode: '0644' backup: true tags: - bar_setup_rear ",141,213
openstack%2Ftripleo-ansible~master~Ib838c0527c33534cbf9f3bc8d69b9e5daf585607,openstack/tripleo-ansible,master,Ib838c0527c33534cbf9f3bc8d69b9e5daf585607,trivial: add reference to molecule-requirements.txt,MERGED,2020-03-06 19:36:54.000000000,2020-03-07 02:09:48.000000000,2020-03-07 02:08:07.000000000,"[{'_account_id': 7353}, {'_account_id': 9954}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 19:36:54.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f602f79f8785970a7b23e4a9696b266021e31ea1', 'message': 'trivial: add reference to molecule-requirements.txt\n\nThe contributor guide has a nice section on how to install dependencies\nrequired to develop roles for tripleo-ansible. This commit includes a\nreference to an additional requirements file for molecule dependencies.\n\nChange-Id: Ib838c0527c33534cbf9f3bc8d69b9e5daf585607\n'}]",0,711753,f602f79f8785970a7b23e4a9696b266021e31ea1,8,4,1,5046,,,0,"trivial: add reference to molecule-requirements.txt

The contributor guide has a nice section on how to install dependencies
required to develop roles for tripleo-ansible. This commit includes a
reference to an additional requirements file for molecule dependencies.

Change-Id: Ib838c0527c33534cbf9f3bc8d69b9e5daf585607
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/711753/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,f602f79f8785970a7b23e4a9696b266021e31ea1,, -r test-requirements.txt \ -r molecule-requirements.txt, -r test-requirements.txt,2,1
openstack%2Ftripleo-ansible~master~Ib3716e4823735a9db9bd3cac33b8daf0e5f3d186,openstack/tripleo-ansible,master,Ib3716e4823735a9db9bd3cac33b8daf0e5f3d186,Remove all ignore_errors to avoid confusion when debugging,MERGED,2020-03-03 23:51:40.000000000,2020-03-07 02:08:06.000000000,2020-03-07 02:08:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 23:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e9be4de4581c604e5b034efa17fdca4fb85b8d2', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- octavia_controller_post_config: remove ""ignore_errors: true"". It\'s not\n  supposed to be needed, since there is already a\n  ""failed_when: config_contents.rc != 0"" which knows when to fail.\n\n- octavia_undercloud, tripleo_cellv2, tripleo_ceph_common,\n  tripleo_container_manage, tripleo_packages and tripleo_puppet_cache:\n  replace ""ignore_errors: true"" by ""failed_when: false"" for debugging\n  experience. We know the tasks can fail and we don\'t care, let\'s just\n  not show them as failures in that case and force the task to never\n  fail.\n\n- tripleo_podman: instead of ignoring errors, check if the config file\n  actually exists before wipping it out.\n\n- tripleo_bootstrap: replace ""ignore_errors"" by ""when"". If we know that\n  the task might fail on a certain platform, let\'s just skip the task so\n  no failure is expected to happen.\n\nChange-Id: Ib3716e4823735a9db9bd3cac33b8daf0e5f3d186\n'}, {'number': 2, 'created': '2020-03-04 19:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6e22db927a88969c96a9cbe2e7ded7e847c8b49', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- octavia_controller_post_config: remove ""ignore_errors: true"". It\'s not\n  supposed to be needed, since there is already a\n  ""failed_when: config_contents.rc != 0"" which knows when to fail.\n\n- octavia_undercloud, tripleo_cellv2, tripleo_ceph_common,\n  tripleo_container_manage, tripleo_packages and tripleo_puppet_cache:\n  replace ""ignore_errors: true"" by ""failed_when: false"" for debugging\n  experience. We know the tasks can fail and we don\'t care, let\'s just\n  not show them as failures in that case and force the task to never\n  fail.\n\n- tripleo_podman: instead of ignoring errors, check if the config file\n  actually exists before wipping it out.\n\nChange-Id: Ib3716e4823735a9db9bd3cac33b8daf0e5f3d186\n'}, {'number': 3, 'created': '2020-03-06 00:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc2a6032b49dd49bd204a9bff42f0071afe64bd3', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- octavia_controller_post_config: remove ""ignore_errors: true"". It\'s not\n  supposed to be needed, since there is already a\n  ""failed_when: config_contents.rc != 0"" which knows when to fail.\n\n- octavia_undercloud, tripleo_cellv2, tripleo_ceph_common,\n  tripleo_container_manage, tripleo_packages and tripleo_puppet_cache:\n  replace ""ignore_errors: true"" by ""failed_when: false"" for debugging\n  experience. We know the tasks can fail and we don\'t care, let\'s just\n  not show them as failures in that case and force the task to never\n  fail.\n\n- tripleo_podman: instead of ignoring errors, check if the config file\n  actually exists before wipping it out.\n\nChange-Id: Ib3716e4823735a9db9bd3cac33b8daf0e5f3d186\n'}, {'number': 4, 'created': '2020-03-06 16:09:39.000000000', 'files': ['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'tripleo_ansible/roles/tripleo_packages/handlers/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/check_cell_exist.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1959707db82c558886eba4389069d3e22abada9', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- octavia_controller_post_config: remove ""ignore_errors: true"". It\'s not\n  supposed to be needed, since there is already a\n  ""failed_when: config_contents.rc != 0"" which knows when to fail.\n\n- octavia_undercloud, tripleo_cellv2, tripleo_ceph_common,\n  tripleo_container_manage, tripleo_packages and tripleo_puppet_cache:\n  replace ""ignore_errors: true"" by ""failed_when: false"" for debugging\n  experience. We know the tasks can fail and we don\'t care, let\'s just\n  not show them as failures in that case and force the task to never\n  fail.\n\n- tripleo_podman: instead of ignoring errors, check if the config file\n  actually exists before wipping it out.\n\nChange-Id: Ib3716e4823735a9db9bd3cac33b8daf0e5f3d186\n'}]",8,711129,c1959707db82c558886eba4389069d3e22abada9,23,6,4,3153,,,0,"Remove all ignore_errors to avoid confusion when debugging

- octavia_controller_post_config: remove ""ignore_errors: true"". It's not
  supposed to be needed, since there is already a
  ""failed_when: config_contents.rc != 0"" which knows when to fail.

- octavia_undercloud, tripleo_cellv2, tripleo_ceph_common,
  tripleo_container_manage, tripleo_packages and tripleo_puppet_cache:
  replace ""ignore_errors: true"" by ""failed_when: false"" for debugging
  experience. We know the tasks can fail and we don't care, let's just
  not show them as failures in that case and force the task to never
  fail.

- tripleo_podman: instead of ignoring errors, check if the config file
  actually exists before wipping it out.

Change-Id: Ib3716e4823735a9db9bd3cac33b8daf0e5f3d186
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/711129/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia_controller_post_config/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_common/tasks/main.yml', 'tripleo_ansible/roles/tripleo_packages/handlers/main.yml', 'tripleo_ansible/roles/tripleo_packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/check_cell_exist.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo_puppet_cache/tasks/main.yml', 'tripleo_ansible/roles/octavia_undercloud/tasks/image_mgmt.yml']",11,7e9be4de4581c604e5b034efa17fdca4fb85b8d2,ignore_errors, failed_when: false failed_when: false, ignore_errors: true ignore_errors: true,22,18
openstack%2Ftripleo-ansible~master~I3b8ba4b2a0d50077fcf4628720dff9310a200e2a,openstack/tripleo-ansible,master,I3b8ba4b2a0d50077fcf4628720dff9310a200e2a,Auto-detect default overcloud-full image,MERGED,2020-03-04 23:12:51.000000000,2020-03-07 02:08:05.000000000,2020-03-07 02:08:05.000000000,"[{'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 23:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/994e12717788340c507ffccd1dd6d84f3b6c2688', 'message': ""Auto-detect default overcloud-full image\n\nWhen the undercloud glance is switched off the image files will be\ncopied to /var/lib/ironic/images. This change will choose what to set\nfor the default image based on whether there are image files in\n/var/lib/ironic/images, falling back to a glance based\n'overcloud-full'.\n\nA missing .initrd file is used to imply that the .qcow2 file is a\nwhole-disk image.\n\nThis is just to determine the default image, and the image can always\nbe specified on a per-role basis in the baremetal provisioning yaml.\n\nChange-Id: I3b8ba4b2a0d50077fcf4628720dff9310a200e2a\nBlueprint: nova-less-deploy\n""}, {'number': 2, 'created': '2020-03-05 21:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df15c1438b53ace38b03b73b4931530eb9f8968a', 'message': ""Auto-detect default overcloud-full image\n\nWhen the undercloud glance is switched off the image files will be\ncopied to /var/lib/ironic/images. This change will choose what to set\nfor the default image based on whether there are image files in\n/var/lib/ironic/images, falling back to a glance based\n'overcloud-full'.\n\nA missing .initrd file is used to imply that the .qcow2 file is a\nwhole-disk image.\n\nThis is just to determine the default image, and the image can always\nbe specified on a per-role basis in the baremetal provisioning yaml.\n\nChange-Id: I3b8ba4b2a0d50077fcf4628720dff9310a200e2a\nBlueprint: nova-less-deploy\n""}, {'number': 3, 'created': '2020-03-06 15:14:18.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4369c28833036ccacc16276e4d64a4858bcda38a', 'message': ""Auto-detect default overcloud-full image\n\nWhen the undercloud glance is switched off the image files will be\ncopied to /var/lib/ironic/images. This change will choose what to set\nfor the default image based on whether there are image files in\n/var/lib/ironic/images, falling back to a glance based\n'overcloud-full'.\n\nA missing .initrd file is used to imply that the .qcow2 file is a\nwhole-disk image.\n\nThis is just to determine the default image, and the image can always\nbe specified on a per-role basis in the baremetal provisioning yaml.\n\nChange-Id: I3b8ba4b2a0d50077fcf4628720dff9310a200e2a\nBlueprint: nova-less-deploy\n""}]",5,711359,4369c28833036ccacc16276e4d64a4858bcda38a,18,7,3,4571,,,0,"Auto-detect default overcloud-full image

When the undercloud glance is switched off the image files will be
copied to /var/lib/ironic/images. This change will choose what to set
for the default image based on whether there are image files in
/var/lib/ironic/images, falling back to a glance based
'overcloud-full'.

A missing .initrd file is used to imply that the .qcow2 file is a
whole-disk image.

This is just to determine the default image, and the image can always
be specified on a per-role basis in the baremetal provisioning yaml.

Change-Id: I3b8ba4b2a0d50077fcf4628720dff9310a200e2a
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/711359/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'],1,994e12717788340c507ffccd1dd6d84f3b6c2688,mistral_to_ansible," - name: Detect default overcloud-full image block: - name: stat overcloud-full.qcow2 stat: path: /var/lib/ironic/images/overcloud-full.qcow2 get_checksum: true checksum_algorithm: md5 register: overcloud_full_stat - name: stat overcloud-full.initrd stat: path: /var/lib/ironic/images/overcloud-full.initrd get_checksum: false register: overcloud_full_initrd_stat - name: Set file based default image set_fact: default_image: href: file:///var/lib/ironic/images/overcloud-full.qcow2 checksum: ""{{ overcloud_full_stat.stat.checksum }}"" kernel: file:///var/lib/ironic/images/overcloud-full.vmlinuz ramdisk: file:///var/lib/ironic/images/overcloud-full.initrd when: overcloud_full_stat.stat.exists|bool and overcloud_full_initrd_stat.stat.exists|bool - name: Set whole-disk file based default image set_fact: default_image: href: file:///var/lib/ironic/images/overcloud-full.qcow2 checksum: ""{{ overcloud_full_stat.stat.checksum }}"" when: overcloud_full_stat.stat.exists|bool and not overcloud_full_initrd_stat.stat.exists|bool - name: Set glance based default image set_fact: default_image: href: overcloud-full when: not overcloud_full_stat.stat.exists|bool default_image: ""{{ default_image }}""",,39,0
openstack%2Ftripleo-ansible~master~I028cd953cd6d4b03538a4e265876e8a93c8bba25,openstack/tripleo-ansible,master,I028cd953cd6d4b03538a4e265876e8a93c8bba25,Playbooks for overcloud node (un)provision,MERGED,2020-02-11 02:58:34.000000000,2020-03-07 02:08:01.000000000,2020-03-07 02:08:01.000000000,"[{'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-11 02:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca802dcc3dc1496bf13d48ef6626d540618b7445', 'message': 'WIP role tripleo_baremetal_provision\n\nvery WIP\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\n'}, {'number': 2, 'created': '2020-02-12 02:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/47cdca42678a7c2cafb1ebe5108ec82cea025e61', 'message': 'WIP role tripleo_baremetal_provision\n\nvery WIP\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\n'}, {'number': 3, 'created': '2020-02-13 00:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c74a09014bfcc4e12ae0849c10baf14664bf5336', 'message': 'WIP role tripleo_baremetal_provision\n\nvery WIP\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\n'}, {'number': 4, 'created': '2020-02-13 00:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69020291c897be71a361acc5cf900531f210f9bd', 'message': 'WIP role tripleo_baremetal_provision\n\nvery WIP\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\n'}, {'number': 5, 'created': '2020-02-14 03:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c327cc01981c455460f105777f43a8c176c3792', 'message': 'WIP role tripleo_baremetal_provision\n\nvery WIP\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\n'}, {'number': 6, 'created': '2020-02-14 03:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/480c28d4b5d4f0781a8bd81b2c9a8b11923223dc', 'message': 'WIP role tripleo_baremetal_provision\n\nvery WIP\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\n'}, {'number': 7, 'created': '2020-02-18 03:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e8586fddb31dfe9eb015a5f7047efe9b7e2441b', 'message': 'Playbook for overcloud node provision\n\nThis now works, and all that is required is support for concurrent\nprovisioning.\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 8, 'created': '2020-02-18 03:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/957889d4f76a64a3fe244c1243cf823f51755558', 'message': 'Playbook for overcloud node provision\n\nThis now works, and all that is required is support for concurrent\nprovisioning.\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 9, 'created': '2020-02-19 21:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6a642e1c6b0a32dfe404037d738f97c62155ff6', 'message': 'Playbook for overcloud node provision\n\nThis now works, and all that is required is support for concurrent\nprovisioning.\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 10, 'created': '2020-02-20 22:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/90d5264839ee8fb6ea006f811165ac118e20824d', 'message': 'Playbook for overcloud node provision\n\nThis now works, and all that is required is support for concurrent\nprovisioning.\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 11, 'created': '2020-02-21 03:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/559c1e77b9ad0551e993d652aee076f3635b29bf', 'message': 'Playbook for overcloud node provision\n\nThis now works, and all that is required is support for concurrent\nprovisioning.\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 12, 'created': '2020-02-26 02:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7516b584948d807c56fd0e478db4788a28457381', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 13, 'created': '2020-02-28 02:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64f7ea8b8f97b65d9ecc32770d3f60f0b61e8b80', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 14, 'created': '2020-03-02 00:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2fe5b4460727134efe9086cff2ad6741547701ed', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 15, 'created': '2020-03-02 23:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/233009807cde97f2dc60b71416fa4bba17f15009', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 16, 'created': '2020-03-03 02:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/04e792bda692a8e27bcd4fe98f2085cc6b249c7b', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 17, 'created': '2020-03-04 01:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/994ce478818caf35031462701b2dec6ad164856f', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 18, 'created': '2020-03-04 01:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6dd9b40ba5b48bdda2d08b0e815ac9ddeee236af', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 19, 'created': '2020-03-04 01:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c38b19ba1402920c7a44aaaa08a1f64d517f57d0', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 20, 'created': '2020-03-04 21:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f7fc177fddd9a83d38d7406d5d3f18f932d0787e', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 21, 'created': '2020-03-05 21:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/acacc13216fd6dca762908e993a84a2459331585', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}, {'number': 22, 'created': '2020-03-06 15:14:05.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-unprovision.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-provision.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c77f15f66a4c974fe6396fe14e87d6ea791fe27c', 'message': 'Playbooks for overcloud node (un)provision\n\nChange-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25\nStory: 2007212\nTask: 38457\n'}]",5,707044,c77f15f66a4c974fe6396fe14e87d6ea791fe27c,81,6,22,4571,,,0,"Playbooks for overcloud node (un)provision

Change-Id: I028cd953cd6d4b03538a4e265876e8a93c8bba25
Story: 2007212
Task: 38457
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/707044/22 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo_baremetal_provision.rst', 'tripleo_ansible/roles/tripleo_baremetal_provision/tasks/unprovision.yml', 'tripleo_ansible/roles/tripleo_baremetal_provision/meta/main.yml', 'tripleo_ansible/roles/tripleo_baremetal_provision/handlers/main.yml', 'tripleo_ansible/roles/tripleo_baremetal_provision/defaults/main.yml', 'tripleo_ansible/roles/tripleo_baremetal_provision/files/.gitkeep', 'tripleo_ansible/roles/tripleo_baremetal_provision/vars/main.yml', 'tripleo_ansible/roles/tripleo_baremetal_provision/tasks/provision.yml', 'tripleo_ansible/roles/tripleo_baremetal_provision/tasks/main.yml']",9,ca802dcc3dc1496bf13d48ef6626d540618b7445,mistral_to_ansible,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""tripleo_baremetal_provision"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" tags: - always ",,181,0
openstack%2Ftripleo-heat-templates~master~Ic066a30c28881546179e2003ea30c08a0c0b15de,openstack/tripleo-heat-templates,master,Ic066a30c28881546179e2003ea30c08a0c0b15de,Fix get_attr syntax for port mtu and gateway,ABANDONED,2020-03-06 23:47:42.000000000,2020-03-07 01:57:12.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2020-03-06 23:47:42.000000000', 'files': ['puppet/role.role.j2.yaml', 'releasenotes/notes/fix-get-attr-port-gateway-and-mtu-7a6bc4c3036adbfa.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9ed95b080b6b1331c84fa08ecf0b550731c4d24', 'message': 'Fix get_attr syntax for port mtu and gateway\n\nThe syntax used for getting attributes of the network\nor subnet on a port was incorrect.\n\nCloses-Bug: #1866420\nChange-Id: Ic066a30c28881546179e2003ea30c08a0c0b15de\n'}]",0,711785,c9ed95b080b6b1331c84fa08ecf0b550731c4d24,3,1,1,24245,,,0,"Fix get_attr syntax for port mtu and gateway

The syntax used for getting attributes of the network
or subnet on a port was incorrect.

Closes-Bug: #1866420
Change-Id: Ic066a30c28881546179e2003ea30c08a0c0b15de
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/711785/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/role.role.j2.yaml', 'releasenotes/notes/fix-get-attr-port-gateway-and-mtu-7a6bc4c3036adbfa.yaml']",2,c9ed95b080b6b1331c84fa08ecf0b550731c4d24,bug/1866420,--- fixes: - | Fixed the ``get_attr`` syntax used to retrive the ``mtu`` and ``gateway_ip`` of port resources. In case the default ``network_data.yaml`` was used in combination with ``parameter_defaults`` overrides for the ``{{network.name}}NetworkMtu`` and ``{{network.name}}InterfaceDefaultRoute`` parameters. The default in ``network_data.yaml`` would be used instead of the values provided by the operator. See bug: `#1866420 <https://bugs.launchpad.net/tripleo/+bug/1866420>`_. ,,12,2
openstack%2Fswift~master~I28e062273d673c4f07cd3c5da088aa790b77a599,openstack/swift,master,I28e062273d673c4f07cd3c5da088aa790b77a599,Apply limit to list versioned containers,MERGED,2020-02-28 17:11:20.000000000,2020-03-07 01:18:37.000000000,2020-03-07 01:17:03.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-28 17:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/99689e29f500be73a56ee7c4e72a7e558de2857e', 'message': 'Apply limit to list versioned containers\n\nChange-Id: I28e062273d673c4f07cd3c5da088aa790b77a599\nCloses-Bug: #1863841\n'}, {'number': 2, 'created': '2020-02-28 19:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6179f7f6eaa8cf12eef79457202ba012c02afc02', 'message': 'Apply limit to list versioned containers\n\nChange-Id: I28e062273d673c4f07cd3c5da088aa790b77a599\nCloses-Bug: #1863841\n'}, {'number': 3, 'created': '2020-02-29 16:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0b3c789a98b6e6f67f0c82c9c7f7a72e43ad6b8', 'message': 'Apply limit to list versioned containers\n\nChange-Id: I28e062273d673c4f07cd3c5da088aa790b77a599\nCloses-Bug: #1863841\n'}, {'number': 4, 'created': '2020-02-29 22:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee33867dc16d6f4d5d66ef57120f0986e3da39f7', 'message': 'Apply limit to list versioned containers\n\nChange-Id: I28e062273d673c4f07cd3c5da088aa790b77a599\nCloses-Bug: #1863841\n'}, {'number': 5, 'created': '2020-03-03 19:27:40.000000000', 'files': ['test/unit/common/middleware/test_object_versioning.py', 'swift/container/server.py', 'test/unit/common/test_request_helpers.py', 'swift/account/server.py', 'test/functional/test_object_versioning.py', 'swift/common/request_helpers.py', 'swift/common/middleware/versioned_writes/object_versioning.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f2ffd900593db2829a39a073f0c033d82985c40f', 'message': 'Apply limit to list versioned containers\n\nChange-Id: I28e062273d673c4f07cd3c5da088aa790b77a599\nCloses-Bug: #1863841\n'}]",2,710492,f2ffd900593db2829a39a073f0c033d82985c40f,51,3,5,1179,,,0,"Apply limit to list versioned containers

Change-Id: I28e062273d673c4f07cd3c5da088aa790b77a599
Closes-Bug: #1863841
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/710492/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_object_versioning.py', 'test/functional/test_object_versioning.py', 'swift/common/middleware/versioned_writes/object_versioning.py']",3,99689e29f500be73a56ee7c4e72a7e558de2857e,bug/1863841," limit = kwargs.pop('limit', None) if limit and limit.isdigit(): limit = int(limit) )[:limit]).encode('ascii') reverse=config_true_value(params.get('reverse', 'no')), limit=params.get('limit')) reverse=config_true_value(params.get('reverse', 'no')), limit=params.get('limit'), ) reverse=config_true_value(params.get('reverse', 'no')), limit=params.get('limit'), )"," )).encode('ascii') reverse=config_true_value(params.get('reverse', 'no'))) reverse=config_true_value(params.get('reverse', 'no'))) reverse=config_true_value(params.get('reverse', 'no')))",46,4
openstack%2Fnova~master~I98405ebc216d4567b004d1222298136ab64fd5d1,openstack/nova,master,I98405ebc216d4567b004d1222298136ab64fd5d1,Correct the actual target in os-instance-actions policy,MERGED,2020-02-28 08:36:30.000000000,2020-03-07 00:31:05.000000000,2020-03-06 12:44:40.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-28 08:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9011da79a2b7a58864c0dac355407e8644aa11c1', 'message': 'Remove fatal=False from os-instance-actions show API\n\nWe should test the authorized contexts and the unauthorized contexts,\nand check the PolicyNotAuthorized [1].\nIf we set fatal=False in context.can(), we will not get the\nPolicyNotAuthorized exception (e.g.[2]) [3], so we should adjust the\njudgment strategy when context.can() is used as a condition.\n\n[1]https://github.com/openstack/nova/blob/master/nova/tests/unit/policies/base.py#L96-L101\n[2]https://github.com/openstack/nova/blob/master/nova/api/openstack/compute/instance_actions.py#L161\n[3]https://review.opendev.org/#/c/707777/2/nova/tests/unit/policies/test_instance_actions.py@131\n\nThis commit remove fatal=False from os-instance-actions show API, while\nwe authenticate the ""os_compute_api:os-instance-actions:events"" policy,\nthat we will catch the PolicyNotAuthorized exception but not raise.\n\nAnd add target to pass the server project_id in policy target.\n\nPartial implement blueprint policy-defaults-refresh\nCloses-Bug: #1865117\nChange-Id: I98405ebc216d4567b004d1222298136ab64fd5d1\n'}, {'number': 2, 'created': '2020-03-05 00:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9d6a51e44237db8776bd391966e52d491f3faf2', 'message': ""Correct the actual target in os-instance-actions policy\n\nThis commit correct the actual target for os-instance-actions policies,\nwhich is 'instance' because poolicy rule is system or project scoped\nrather than project only, so the token scope check deals with the\nrequired target checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I98405ebc216d4567b004d1222298136ab64fd5d1\n""}, {'number': 3, 'created': '2020-03-05 00:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61f3f0a68666a52a0d592cf6ea5798e10417adb0', 'message': ""Correct the actual target in os-instance-actions policy\n\nThis commit correct the actual target for os-instance-actions policies,\nwhich is 'instance' because policy rule is system or project scoped\nrather than project only, so the token scope check deals with the\nrequired target checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I98405ebc216d4567b004d1222298136ab64fd5d1\n""}, {'number': 4, 'created': '2020-03-06 00:59:54.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/api/openstack/compute/instance_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3903b91676c75b8d0082975337d0192e5dd96788', 'message': ""Correct the actual target in os-instance-actions policy\n\nThis commit correct the actual target for os-instance-actions policies,\nwhich is 'instance' because poolicy rule is system or project scoped\nrather than project only, so the token scope check deals with the\nrequired target checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I98405ebc216d4567b004d1222298136ab64fd5d1\n""}]",12,710411,3903b91676c75b8d0082975337d0192e5dd96788,56,12,4,26458,,,0,"Correct the actual target in os-instance-actions policy

This commit correct the actual target for os-instance-actions policies,
which is 'instance' because poolicy rule is system or project scoped
rather than project only, so the token scope check deals with the
required target checking.

Partial implement blueprint policy-defaults-refresh

Change-Id: I98405ebc216d4567b004d1222298136ab64fd5d1
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/710411/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/api/openstack/compute/instance_actions.py']",2,9011da79a2b7a58864c0dac355407e8644aa11c1,bp/policy-defaults-refresh," context.can(ia_policies.BASE_POLICY_NAME, target={'project_id': instance.project_id}) context.can(ia_policies.BASE_POLICY_NAME, target={'project_id': instance.project_id}) context.can(ia_policies.BASE_POLICY_NAME, target={'project_id': instance.project_id}) try: context.can(ia_policies.POLICY_ROOT % 'events', target={'project_id': instance.project_id}) except exception.PolicyNotAuthorized: # We don't need to raise this exception, fatal=False causes # context.can() to fail to throw a PolicyNotAuthorized exception, # we removed fatal=False to adapt the detection of test cases by # policy-defaults-refresh. if api_version_request.is_supported(req, '2.51'): # The user is not able to see all event details, but they can # at least see the non-traceback event details. show_events = True"," context.can(ia_policies.BASE_POLICY_NAME, instance) context.can(ia_policies.BASE_POLICY_NAME, instance) context.can(ia_policies.BASE_POLICY_NAME, instance) if context.can(ia_policies.POLICY_ROOT % 'events', fatal=False): elif api_version_request.is_supported(req, '2.51'): # The user is not able to see all event details, but they can at # least see the non-traceback event details. show_events = True",23,10
openstack%2Fneutron~stable%2Ftrain~I21bd60af000276779f56b3a6d45b4a6c1836bed1,openstack/neutron,stable/train,I21bd60af000276779f56b3a6d45b4a6c1836bed1,"Add ""project_id"" filter when changing the network segmentation ID",MERGED,2020-03-05 15:51:21.000000000,2020-03-07 00:14:26.000000000,2020-03-07 00:12:31.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-05 15:51:21.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_managers.py', 'neutron/plugins/ml2/managers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8166b1be448626fbb57f3389dcf1d547c71c272d', 'message': 'Add ""project_id"" filter when changing the network segmentation ID\n\nWhen the segmentation ID of a network is updated, first the provider\nnetwork segment is validated and then reserved. If service plugin\n""network_segment_range"" is enabled, the Neutron server retrieves the\nnetwork segment ranges with shared=True or those ones with the same\nproject_id as the network.\n\nThis patch adds the ""project_id"" information to the filters when\nreserving the network provider segment. This change will allow to\nretrieve those private networks segments belonging to the same\nproject.\n\nChange-Id: I21bd60af000276779f56b3a6d45b4a6c1836bed1\nCloses-Bug: #1863619\n(cherry picked from commit 0d43372f14d11b8d800439965d7e8aa07b0b3feb)\n'}]",0,711491,8166b1be448626fbb57f3389dcf1d547c71c272d,9,4,1,16688,,,0,"Add ""project_id"" filter when changing the network segmentation ID

When the segmentation ID of a network is updated, first the provider
network segment is validated and then reserved. If service plugin
""network_segment_range"" is enabled, the Neutron server retrieves the
network segment ranges with shared=True or those ones with the same
project_id as the network.

This patch adds the ""project_id"" information to the filters when
reserving the network provider segment. This change will allow to
retrieve those private networks segments belonging to the same
project.

Change-Id: I21bd60af000276779f56b3a6d45b4a6c1836bed1
Closes-Bug: #1863619
(cherry picked from commit 0d43372f14d11b8d800439965d7e8aa07b0b3feb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/711491/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_managers.py', 'neutron/plugins/ml2/managers.py']",2,8166b1be448626fbb57f3389dcf1d547c71c272d,bug/1863619-stable/train," project_id = network['project_id'] self.reserve_provider_segment(context, new_segment, filters={'project_id': project_id})"," self.reserve_provider_segment(context, new_segment)",8,3
openstack%2Ftripleo-ansible~master~I056b346ae7ff55ab6e27c3d3248820eca13dda8d,openstack/tripleo-ansible,master,I056b346ae7ff55ab6e27c3d3248820eca13dda8d,module tripleo_baremetal_check_existing,MERGED,2020-02-11 02:58:34.000000000,2020-03-07 00:14:22.000000000,2020-03-07 00:12:56.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-11 02:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ea2451c8d8734da6be7e7f9a5105561196bb0b9', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of instances\nwhich exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 2, 'created': '2020-02-12 02:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e130bf732c69ce4e79049ac45fff41aa3bd19045', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of instances\nwhich exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 3, 'created': '2020-02-13 00:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db9c157115c4a85ae9a891b1f5ae20f7b7c00207', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of instances\nwhich exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 4, 'created': '2020-02-13 00:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/39ca65d16db134bd84e2b63aede0f115d9c497b5', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of instances\nwhich exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 5, 'created': '2020-02-14 03:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55f9abcd703bc72fdcb0d6b8a3a526bd252487ca', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 6, 'created': '2020-02-14 03:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a65f80eb4c8088ff42ea489040f8be082f4441d', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 7, 'created': '2020-02-18 03:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27db439ae9437498fa20e04b0d6ba523dafe69b8', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 8, 'created': '2020-02-18 03:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a6f7837efccee109e0d7bcbb168817daedb20cfc', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 9, 'created': '2020-02-19 21:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9601049fa270609cd48269c6559a2823a1b5428e', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 10, 'created': '2020-02-20 22:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf38f3d4f53cb87bfd6eee766d601ce9a67b0c5e', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 11, 'created': '2020-02-21 03:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7fc83787f086cb54569fe83653c6ebd418a70075', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 12, 'created': '2020-02-26 02:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/072c9e2827edc5049ae2a1749d4562321920d95a', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 13, 'created': '2020-02-28 02:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64f58d1153da90a4843fa07e4f4757ba74c55905', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 14, 'created': '2020-03-02 00:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/13b817fd6c17c176ee20463a03894a72b217bfd9', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 15, 'created': '2020-03-02 23:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e82c49d435871d766fe9c243a7819a8b3f726ae', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 16, 'created': '2020-03-03 02:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/323097aa88a7c984dde08eb661c4e712581d0a76', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 17, 'created': '2020-03-04 01:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81eabe9550270f05f0c8c4ae843b5e386d049412', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 18, 'created': '2020-03-04 01:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/70d2b21354bb584ca52a0bd8e588b5ffab110882', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 19, 'created': '2020-03-04 21:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9375a0df33ebf2b967d777c3d06138c3209e2f6a', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 20, 'created': '2020-03-05 21:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8f3810ec9bdba96a415fb54ad5bdf634be767ff1', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}, {'number': 21, 'created': '2020-03-06 15:13:33.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_check_existing.py', 'tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'doc/source/modules/modules-tripleo_baremetal_check_existing.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c68275cf700eef4e694fddb8b30aee78054deca1', 'message': 'module tripleo_baremetal_check_existing\n\nThis module takes a list of instances and returns a list of uuids for\ninstances which exist, and a list of instances which were not found.\n\nChange-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d\nStory: 2007212\nTask: 38457\n'}]",9,707043,c68275cf700eef4e694fddb8b30aee78054deca1,84,9,21,4571,,,0,"module tripleo_baremetal_check_existing

This module takes a list of instances and returns a list of uuids for
instances which exist, and a list of instances which were not found.

Change-Id: I056b346ae7ff55ab6e27c3d3248820eca13dda8d
Story: 2007212
Task: 38457
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/707043/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_check_existing.py', 'tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'doc/source/modules/modules-tripleo_baremetal_check_existing.rst']",4,8ea2451c8d8734da6be7e7f9a5105561196bb0b9,mistral_to_ansible,========================================= Module - tripleo_baremetal_check_existing ========================================= This module provides for the following ansible plugin: * tripleo_baremetal_check_existing .. ansibleautoplugin:: :module: tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_check_existing.py :documentation: true :examples: true ,,328,0
openstack%2Ftripleo-ansible~master~I772b76922a2ba08201e94de6bfec1d750a62094b,openstack/tripleo-ansible,master,I772b76922a2ba08201e94de6bfec1d750a62094b,module tripleo_baremetal_populate_environment,MERGED,2020-02-12 02:30:15.000000000,2020-03-07 00:13:01.000000000,2020-03-07 00:13:01.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 7353}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-12 02:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/95cc9d03807ce47363dea370818b6ae320033926', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 2, 'created': '2020-02-13 00:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/18d7fdc4af30d2fb259bf69b79ce779ac1fdece7', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 3, 'created': '2020-02-13 00:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d358b25f102b5b8a73fe3c421f392d1d16b6666e', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 4, 'created': '2020-02-14 03:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe78570d7b562b101d7ae0516c798258858268d3', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 5, 'created': '2020-02-14 03:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cbdfcf1b296c6e6b58a97b1c009432ca97fcac9f', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 6, 'created': '2020-02-18 03:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e58b027d240c79a90a8404d5c79fc50b90952ae1', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 7, 'created': '2020-02-18 03:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d24baae6b615ec5b3d818aed714d3983008fca4e', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 8, 'created': '2020-02-19 21:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c4d3c318a36f63b6ce44b3d555986772bbaa2427', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 9, 'created': '2020-02-20 22:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aaf3496bcd59f3e01f4687878f35a92edebbcb1e', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 10, 'created': '2020-02-21 03:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e50f7a7386eb340a6aaecbd1aeb5f075332325f9', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 11, 'created': '2020-02-26 02:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9015ce95a1cdc188f679ac90b57ffc0f6998711', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 12, 'created': '2020-02-28 02:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/60a920198acbfae75ce0714c67aefb359943e1ee', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 13, 'created': '2020-03-02 00:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/76f28977745dc38789e9f0cf022343f9394ee8b5', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 14, 'created': '2020-03-02 23:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/011b9962fd65bda8ea67469f2b87cabff744ef4d', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 15, 'created': '2020-03-03 02:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/24c058642e79a49b924397119e53a8998bc6dea4', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 16, 'created': '2020-03-04 01:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f08c478f9cfff7cc41d5afe3396de1af15884eff', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 17, 'created': '2020-03-04 01:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8421f5e233d1f40e964b411b31900a75a7608b33', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 18, 'created': '2020-03-04 21:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4320b32345d7cf755c77c67374b8f98fa765a06c', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 19, 'created': '2020-03-05 21:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/25f6d867800b0cd3bc3b70ca042569d767d63235', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}, {'number': 20, 'created': '2020-03-06 15:13:43.000000000', 'files': ['doc/source/modules/modules-tripleo_baremetal_populate_environment.rst', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_populate_environment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80ae8cc7c3ba44ca5e04217afa48f7dc75c60e95', 'message': 'module tripleo_baremetal_populate_environment\n\nChange-Id: I772b76922a2ba08201e94de6bfec1d750a62094b\nStory: 2007212\nTask: 38457\n'}]",4,707295,80ae8cc7c3ba44ca5e04217afa48f7dc75c60e95,75,8,20,4571,,,0,"module tripleo_baremetal_populate_environment

Change-Id: I772b76922a2ba08201e94de6bfec1d750a62094b
Story: 2007212
Task: 38457
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/707295/12 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_populate_environment.py']",2,95cc9d03807ce47363dea370818b6ae320033926,mistral_to_ansible,"#!/usr/bin/python # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import __metaclass__ = type from ansible.module_utils import baremetal_deploy as bd from ansible.module_utils.basic import AnsibleModule import yaml ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = ''' --- module: tripleo_baremetal_populate_environment short_description: Add parameters to a heat environment with instance data version_added: ""2.0"" author: ""Steve Baker (@stevebaker)"" description: - Takes a list of existing instances and a heat environment file and appends to that environment with instance-specific parameters such as the port map. options: instances: description: - List of instances to use for building the environment required: true type: list elements: dict environment: description: - Existing heat environment data to add to type: dict default: {} ctlplane_network: description: - Name of control plane network default: ctlplane ''' RETURN = ''' environment: description: Heat environment data to be used with the overcloud deploy. This is only a partial environment, further changes are required once instance changes have been made. returned: changed type: dict sample: { ""parameter_defaults"": { ""ComputeDeployedServerCount"": 3, ""ComputeDeployedServerHostnameFormat"": ""%stackname%-novacompute-%index%"", ""ControllerDeployedServerCount"": 3, ""ControllerDeployedServerHostnameFormat"": ""%stackname%-controller-%index%"", ""DeployedServerPortMap"": {} ""HostnameMap"": { ""overcloud-controller-0"": ""overcloud-controller-0"", ""overcloud-controller-1"": ""overcloud-controller-1"", ""overcloud-controller-2"": ""overcloud-controller-2"", ""overcloud-novacompute-0"": ""overcloud-novacompute-0"", ""overcloud-novacompute-1"": ""overcloud-novacompute-1"", ""overcloud-novacompute-2"": ""overcloud-novacompute-2"" } }, ""resource_registry"": { ""OS::TripleO::DeployedServer::ControlPlanePort"": ""/usr/share/openstack-tripleo-heat-templates/deployed-server/deployed-neutron-port.yaml"" } } ''' # noqa def main(): argument_spec = yaml.safe_load(DOCUMENTATION)['options'] module = AnsibleModule( argument_spec=argument_spec, supports_check_mode=False, ) try: env = bd.populate_environment( instances=module.params['instances'], environment=module.params['environment'], ctlplane_network=module.params['ctlplane_network'] ) module.exit_json( changed=True, environment=env ) except Exception as e: module.fail_json(msg=str(e)) if __name__ == '__main__': main() ",,157,0
openstack%2Fnova~master~I77759721138b9b4cc724895c8d15c1ccf2923995,openstack/nova,master,I77759721138b9b4cc724895c8d15c1ccf2923995,Fix os-console-output policy to be admin_or_owner,MERGED,2020-02-10 01:07:32.000000000,2020-03-07 00:11:23.000000000,2020-03-05 21:32:59.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-10 01:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25262382d68a7a4d9f68794c12f182d99d30cf50', 'message': ""Fix os-console-output policy to be admin_or_owner\n\nos-console-output API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706724\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/console_output.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/console_output.py#L41\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I77759721138b9b4cc724895c8d15c1ccf2923995\nCloses-bug: #1862558\n""}, {'number': 2, 'created': '2020-02-10 02:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1780dc6e0c0d24583a30f7baa444fd12a2927fa4', 'message': ""Fix os-console-output policy to be admin_or_owner\n\nos-console-output API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706724\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/console_output.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/console_output.py#L41\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I77759721138b9b4cc724895c8d15c1ccf2923995\nCloses-bug: #1862558\n""}, {'number': 3, 'created': '2020-03-02 11:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b9ccdd4050f8415fb788771f022a97a8c248c42', 'message': ""Fix os-console-output policy to be admin_or_owner\n\nos-console-output API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706724\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/console_output.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/console_output.py#L41\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I77759721138b9b4cc724895c8d15c1ccf2923995\nCloses-bug: #1862558\n""}, {'number': 4, 'created': '2020-03-05 15:32:02.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_console_output.py', 'nova/api/openstack/compute/console_output.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/036af931c98da119ce61049e42f0c5f21a2436a1', 'message': ""Fix os-console-output policy to be admin_or_owner\n\nos-console-output API policy is default to admin_or_owner[1] but API\nis allowed for everyone.\n\nWe can see the test trying with other project context can access the API\n- https://review.opendev.org/#/c/706724\n\nThis is because API does not pass the server project_id in policy target[2]\nand if no target is passed then, policy.py add the default targets which is\nnothing but context.project_id (allow for everyone who try to access)[3]\n\nThis commit fix this policy by passing the server's project_id in policy\ntarget.\n\n[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/console_output.py#L27\n[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/console_output.py#L41\n[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191\n\nChange-Id: I77759721138b9b4cc724895c8d15c1ccf2923995\nCloses-bug: #1862558\n""}]",3,706725,036af931c98da119ce61049e42f0c5f21a2436a1,47,13,4,8556,,,0,"Fix os-console-output policy to be admin_or_owner

os-console-output API policy is default to admin_or_owner[1] but API
is allowed for everyone.

We can see the test trying with other project context can access the API
- https://review.opendev.org/#/c/706724

This is because API does not pass the server project_id in policy target[2]
and if no target is passed then, policy.py add the default targets which is
nothing but context.project_id (allow for everyone who try to access)[3]

This commit fix this policy by passing the server's project_id in policy
target.

[1] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/policies/console_output.py#L27
[2] https://github.com/openstack/nova/blob/1fcd74730d343b7cee12a0a50ea537dc4ff87f65/nova/api/openstack/compute/console_output.py#L41
[3] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/policy.py#L191

Change-Id: I77759721138b9b4cc724895c8d15c1ccf2923995
Closes-bug: #1862558
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/706725/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/console_output.py'],1,25262382d68a7a4d9f68794c12f182d99d30cf50,bug/1862558," context.can(co_policies.BASE_POLICY_NAME, target={'project_id': instance.project_id}) ", context.can(co_policies.BASE_POLICY_NAME) ,3,2
openstack%2Fopenstack-helm~master~I29a69fd7bbf19a7a4890c76366592a44528e3cc1,openstack/openstack-helm,master,I29a69fd7bbf19a7a4890c76366592a44528e3cc1,Define ceph-mon in overrides,MERGED,2020-03-06 16:29:40.000000000,2020-03-06 23:44:36.000000000,2020-03-06 23:42:57.000000000,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29298}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-06 16:29:40.000000000', 'files': ['tools/deployment/component/ceph/ceph-ns-activate.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1d81e56bdfbc62eeb0019739b97ee3d060570a87', 'message': 'Define ceph-mon in overrides\n\nThis ps overrides the ceph-mon in the ceph-ns-activate script\nto fix a current issue with the cinder gates.\n\nChange-Id: I29a69fd7bbf19a7a4890c76366592a44528e3cc1\n'}]",0,711648,1d81e56bdfbc62eeb0019739b97ee3d060570a87,17,9,1,21420,,,0,"Define ceph-mon in overrides

This ps overrides the ceph-mon in the ceph-ns-activate script
to fix a current issue with the cinder gates.

Change-Id: I29a69fd7bbf19a7a4890c76366592a44528e3cc1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/711648/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/component/ceph/ceph-ns-activate.sh'],1,1d81e56bdfbc62eeb0019739b97ee3d060570a87,cinder-update,conf: ceph: global: mon_host: ceph-mon-discovery.ceph.svc.cluster.local:6789,,4,0
openstack%2Fopenstack-ansible-os_octavia~master~I6df1734aa5c90d655b210649c27c5479e8f4208f,openstack/openstack-ansible-os_octavia,master,I6df1734aa5c90d655b210649c27c5479e8f4208f,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:58:35.000000000,2020-03-06 23:44:13.000000000,2020-03-06 23:42:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:58:35.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/4bdb07532ce409cc447d950b00c765917af3c269', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6df1734aa5c90d655b210649c27c5479e8f4208f\n'}]",0,711715,4bdb07532ce409cc447d950b00c765917af3c269,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6df1734aa5c90d655b210649c27c5479e8f4208f
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/15/711715/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,4bdb07532ce409cc447d950b00c765917af3c269,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fdevstack~master~I624e1dc57a3d3533322fb298c01f70241d0400ed,openstack/devstack,master,I624e1dc57a3d3533322fb298c01f70241d0400ed,Removal of deprecated command and deprecated optional argument,MERGED,2019-12-26 11:59:04.000000000,2020-03-06 23:33:07.000000000,2020-01-02 14:32:39.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2019-12-26 11:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b559ad2eea0c40bde9668aec70a1546dab30544a', 'message': ""Removal of deprecated command\n\nlib/tempest uses 'tempest-account-generator'\nwhich is deprecated 4 years back.\nUse of 'tempest account-generator' should\nbe done now.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I624e1dc57a3d3533322fb298c01f70241d0400ed\n""}, {'number': 2, 'created': '2019-12-27 10:13:32.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7634c780027ad05e416c2a0c5ac688751aba4be6', 'message': ""Removal of deprecated command and deprecated optional argument\n\nlib/tempest uses 'tempest-account-generator'\nwhich is deprecated 4 years back.\nIn addition to above, lib/tempest also uses\n'os-tenant-name' which is also deprecated.\n\nUse of 'tempest account-generator' and\n'os-project-name' should be done now.\n\nSigned-off by: Soniya Vyas<svyas@redhat.com>\nChange-Id: I624e1dc57a3d3533322fb298c01f70241d0400ed\n""}]",0,700620,7634c780027ad05e416c2a0c5ac688751aba4be6,13,8,2,30742,,,0,"Removal of deprecated command and deprecated optional argument

lib/tempest uses 'tempest-account-generator'
which is deprecated 4 years back.
In addition to above, lib/tempest also uses
'os-tenant-name' which is also deprecated.

Use of 'tempest account-generator' and
'os-project-name' should be done now.

Signed-off by: Soniya Vyas<svyas@redhat.com>
Change-Id: I624e1dc57a3d3533322fb298c01f70241d0400ed
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/700620/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,b559ad2eea0c40bde9668aec70a1546dab30544a,lib_tempest," tox -evenv-tempest -- tempest account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-tenant-name $admin_project_name -r $TEMPEST_CONCURRENCY --with-admin etc/accounts.yaml tox -evenv-tempest -- tempest account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-tenant-name $admin_project_name -r $TEMPEST_CONCURRENCY etc/accounts.yaml"," tox -evenv-tempest -- tempest-account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-tenant-name $admin_project_name -r $TEMPEST_CONCURRENCY --with-admin etc/accounts.yaml tox -evenv-tempest -- tempest-account-generator -c $TEMPEST_CONFIG --os-username $admin_username --os-password ""$password"" --os-tenant-name $admin_project_name -r $TEMPEST_CONCURRENCY etc/accounts.yaml",2,2
openstack%2Fopenstack-ansible-os_nova~master~If442a15c938960a010372a617279bdd76dbf856d,openstack/openstack-ansible-os_nova,master,If442a15c938960a010372a617279bdd76dbf856d,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:58:28.000000000,2020-03-06 23:31:29.000000000,2020-03-06 23:29:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:58:28.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/273c4720c5f7698da6d5792864a2c4b064d0fc76', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If442a15c938960a010372a617279bdd76dbf856d\n'}]",0,711714,273c4720c5f7698da6d5792864a2c4b064d0fc76,9,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If442a15c938960a010372a617279bdd76dbf856d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/14/711714/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,273c4720c5f7698da6d5792864a2c4b064d0fc76,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fcinderlib~master~I88f69618d7192b33fefa3696c7b494ff5a18d29d,openstack/cinderlib,master,I88f69618d7192b33fefa3696c7b494ff5a18d29d,Ussuri contrib docs community goal,MERGED,2020-03-03 13:43:40.000000000,2020-03-06 23:05:51.000000000,2020-03-06 19:02:12.000000000,"[{'_account_id': 9535}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 13:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a173fb47051567ed1895bcf327fa6fe2c297f960', 'message': 'WIP: ussuri contrib docs community goal\n\nThere are 2 changes in progress:\n1. standardize the CONTRIBUTING.rst file\n2. standardize the location and content of\n   doc/source/contributor/contributing.rst\n\nChange-Id: I88f69618d7192b33fefa3696c7b494ff5a18d29d\nNote: The URL for #2 on the current patch may point nowhere.\n'}, {'number': 2, 'created': '2020-03-05 15:00:51.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/154e80d340715064186f768d4db0550651e537d5', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds\ndoc/source/contributor/contributing.rst\n\nChange-Id: I88f69618d7192b33fefa3696c7b494ff5a18d29d\n'}]",0,711012,154e80d340715064186f768d4db0550651e537d5,13,4,2,5314,,,0,"Ussuri contrib docs community goal

This patch standardizes the CONTRIBUTING.rst file and adds
doc/source/contributor/contributing.rst

Change-Id: I88f69618d7192b33fefa3696c7b494ff5a18d29d
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/12/711012/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,a173fb47051567ed1895bcf327fa6fe2c297f960,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/cinderlib Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/cinderlib For more specific information about contributing to this repository, see the cinder contributor guide: https://docs.openstack.org/cinderlib/latest/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed in Launchpad: https://bugs.launchpad.net/cinderlib",13,10
openstack%2Fos-brick~master~I0fb219c678991078a592ef4c06890c1a14e7af0d,openstack/os-brick,master,I0fb219c678991078a592ef4c06890c1a14e7af0d,Ussuri contrib docs community goal,MERGED,2020-03-03 13:43:36.000000000,2020-03-06 23:05:07.000000000,2020-03-06 17:26:44.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 20813}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-03-03 13:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e2f2471cedcb722e8451e84a79ed10f86b360a63', 'message': 'WIP: ussuri contrib docs community goal\n\nThere are 2 changes in progress:\n1. standardize the CONTRIBUTING.rst file\n2. standardize the location and content of\n   doc/source/contributor/contributing.rst\n\nChange-Id: I0fb219c678991078a592ef4c06890c1a14e7af0d\nNote: The URL for #2 on the current patch may point nowhere.\n'}, {'number': 2, 'created': '2020-03-04 02:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/7a445a6b1e107c0a601a0cd9443e5527a012921c', 'message': 'WIP: ussuri contrib docs community goal\n\nThere are 2 changes in progress:\n1. standardize the CONTRIBUTING.rst file\n2. standardize the location and content of\n   doc/source/contributor/contributing.rst\n\nChange-Id: I0fb219c678991078a592ef4c06890c1a14e7af0d\n'}, {'number': 3, 'created': '2020-03-05 14:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/aac11276301ed13457d3ee07baee7e5cfdc18a8d', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes CONTRIBUTING.rst and adds\ndoc/source/contributor/contributing.rst\n\nChange-Id: I0fb219c678991078a592ef4c06890c1a14e7af0d\n'}, {'number': 4, 'created': '2020-03-05 14:11:41.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/304251007edcfa32eb82f1376818632a4a33b001', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes CONTRIBUTING.rst and adds\ndoc/source/contributor/contributing.rst\n\nChange-Id: I0fb219c678991078a592ef4c06890c1a14e7af0d\n'}]",0,711011,304251007edcfa32eb82f1376818632a4a33b001,35,12,4,5314,,,0,"Ussuri contrib docs community goal

This patch standardizes CONTRIBUTING.rst and adds
doc/source/contributor/contributing.rst

Change-Id: I0fb219c678991078a592ef4c06890c1a14e7af0d
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/11/711011/4 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,e2f2471cedcb722e8451e84a79ed10f86b360a63,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/os-brick Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/os-brick For more specific information about contributing to this repository, see the os-brick contributor guide: https://docs.openstack.org/os-brick/latest/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/os-brick",13,10
openstack%2Fopenstack-ansible-os_manila~master~I4b9129d34d9678aedb7287127d42ad45694562fb,openstack/openstack-ansible-os_manila,master,I4b9129d34d9678aedb7287127d42ad45694562fb,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:57:37.000000000,2020-03-06 22:53:45.000000000,2020-03-06 22:52:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:57:37.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/dc9dce1f5787b5895b1d49a327427c5170b96cd6', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4b9129d34d9678aedb7287127d42ad45694562fb\n'}]",0,711710,dc9dce1f5787b5895b1d49a327427c5170b96cd6,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4b9129d34d9678aedb7287127d42ad45694562fb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/10/711710/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,dc9dce1f5787b5895b1d49a327427c5170b96cd6,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-ceph_client~master~I092cc349d82ac2e2de26a1f82e62904df6567594,openstack/openstack-ansible-ceph_client,master,I092cc349d82ac2e2de26a1f82e62904df6567594,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:05:16.000000000,2020-03-06 22:46:09.000000000,2020-03-06 22:44:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-24 13:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/74111c4c1f5a117f7fd76356bde6ed6ce161feb0', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I092cc349d82ac2e2de26a1f82e62904df6567594\n'}, {'number': 2, 'created': '2020-03-06 17:53:43.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/1d9e10baa30e06b8c346102a9c759426b21e5c28', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I092cc349d82ac2e2de26a1f82e62904df6567594\n'}]",0,709466,1d9e10baa30e06b8c346102a9c759426b21e5c28,12,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I092cc349d82ac2e2de26a1f82e62904df6567594
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/66/709466/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,74111c4c1f5a117f7fd76356bde6ed6ce161feb0,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fopenstack-ansible-os_rally~master~I14a8a81171be34d60b259ec5558b17d7f318b2d1,openstack/openstack-ansible-os_rally,master,I14a8a81171be34d60b259ec5558b17d7f318b2d1,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:58:54.000000000,2020-03-06 22:39:30.000000000,2020-03-06 22:38:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:58:54.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/ae9220f468b6cd2879e779441b74365d60bb401d', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I14a8a81171be34d60b259ec5558b17d7f318b2d1\n'}]",0,711718,ae9220f468b6cd2879e779441b74365d60bb401d,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I14a8a81171be34d60b259ec5558b17d7f318b2d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/18/711718/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ae9220f468b6cd2879e779441b74365d60bb401d,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_barbican~master~I8aa1424640b548c5cbcfa40ad23b3e0750061c16,openstack/openstack-ansible-os_barbican,master,I8aa1424640b548c5cbcfa40ad23b3e0750061c16,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:55:20.000000000,2020-03-06 22:30:20.000000000,2020-03-06 22:28:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:55:20.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/69229c93901c4256d10d20dbb8605d5a0df6a976', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I8aa1424640b548c5cbcfa40ad23b3e0750061c16\n'}]",0,711698,69229c93901c4256d10d20dbb8605d5a0df6a976,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I8aa1424640b548c5cbcfa40ad23b3e0750061c16
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/98/711698/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,69229c93901c4256d10d20dbb8605d5a0df6a976,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fnova~master~I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4,openstack/nova,master,I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4,Introduce scope_types in os-attach-interfaces,MERGED,2020-02-04 18:49:34.000000000,2020-03-06 22:26:22.000000000,2020-03-06 11:50:05.000000000,"[{'_account_id': 782}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-04 18:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03e3c59bc1cddfabcf3968f5baa47c75083330de', 'message': ""Introduce scope_types in os-attach-interfaces\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-attach-interfaces API policies\nas 'system' and 'project'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4\n""}, {'number': 2, 'created': '2020-02-05 22:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe37c508c08f7cd43dea9ff2b8155e34bf8057a3', 'message': ""Introduce scope_types in os-attach-interfaces\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-attach-interfaces API policies\nas 'system' and 'project'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4\n""}, {'number': 3, 'created': '2020-02-10 15:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/791f39f36199d9a9feec300b4d33cef90c3de5d5', 'message': ""Introduce scope_types in os-attach-interfaces\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-attach-interfaces API policies\nas 'system' and 'project'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4\n""}, {'number': 4, 'created': '2020-03-04 09:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9b3b67b70ee9fac1f556a970ee0aedb4e0c6326', 'message': ""Introduce scope_types in os-attach-interfaces\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-attach-interfaces API policies\nas 'system' and 'project'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4\n""}, {'number': 5, 'created': '2020-03-04 21:18:28.000000000', 'files': ['nova/policies/attach_interfaces.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6cfc912ea57c09a661bd2fc172eae10e6667d0e9', 'message': ""Introduce scope_types in os-attach-interfaces\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-attach-interfaces API policies\nas 'system' and 'project'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4\n""}]",1,705799,6cfc912ea57c09a661bd2fc172eae10e6667d0e9,71,11,5,8556,,,0,"Introduce scope_types in os-attach-interfaces

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for os-attach-interfaces API policies
as 'system' and 'project'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: I6b2bafe0c9460a1a6fdd4fbaae46b99905894ad4
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/705799/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/policies/attach_interfaces.py'],1,03e3c59bc1cddfabcf3968f5baa47c75083330de,bp/policy-defaults-refresh," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_OR_OWNER, description=""List port interfaces or show details of a port interface "" ""attached to a server"", operations=[ ], scope_types=['system', 'project']), name=POLICY_ROOT % 'create', check_str=base.RULE_ADMIN_OR_OWNER, description=""Attach an interface to a server"", operations=[ ], scope_types=['system', 'project']), name=POLICY_ROOT % 'delete', check_str=base.RULE_ADMIN_OR_OWNER, description=""Detach an interface from a server"", operations=[ ], scope_types=['system', 'project'])"," BASE_POLICY_NAME, base.RULE_ADMIN_OR_OWNER, ""List port interfaces or show details of a port interface attached "" ""to a server"", [ ]), POLICY_ROOT % 'create', base.RULE_ADMIN_OR_OWNER, ""Attach an interface to a server"", [ ]), POLICY_ROOT % 'delete', base.RULE_ADMIN_OR_OWNER, ""Detach an interface from a server"", [ ])",19,16
openstack%2Fopenstack-ansible-os_swift~master~If1bdc08230f8f1346fc2de944f7b2a23767b3185,openstack/openstack-ansible-os_swift,master,If1bdc08230f8f1346fc2de944f7b2a23767b3185,Updated from OpenStack Ansible Tests,MERGED,2020-02-24 13:14:38.000000000,2020-03-06 22:19:01.000000000,2020-03-06 22:17:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-02-24 13:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/1b8019ac9be9204f55e4ad6d73c11ed702bf03d4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If1bdc08230f8f1346fc2de944f7b2a23767b3185\n'}, {'number': 2, 'created': '2020-03-06 17:59:13.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/1b7a0084cf5b03dd505f7fce8422e3966b3a752a', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If1bdc08230f8f1346fc2de944f7b2a23767b3185\n'}]",0,709508,1b7a0084cf5b03dd505f7fce8422e3966b3a752a,13,2,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If1bdc08230f8f1346fc2de944f7b2a23767b3185
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/08/709508/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1b8019ac9be9204f55e4ad6d73c11ed702bf03d4,openstack/openstack-ansible-tests/sync-tests,python3-devel [platform:rpm],,1,0
openstack%2Fansible-role-systemd_service~master~I8c7e476a478fc4e9a7e5bebfd6fdb91af488fdf6,openstack/ansible-role-systemd_service,master,I8c7e476a478fc4e9a7e5bebfd6fdb91af488fdf6,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 18:01:28.000000000,2020-03-06 22:16:53.000000000,2020-03-06 22:15:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 18:01:28.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/c6284dc5da1dbabdf466f5450879d8f431c6630e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I8c7e476a478fc4e9a7e5bebfd6fdb91af488fdf6\n'}]",0,711730,c6284dc5da1dbabdf466f5450879d8f431c6630e,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I8c7e476a478fc4e9a7e5bebfd6fdb91af488fdf6
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/30/711730/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c6284dc5da1dbabdf466f5450879d8f431c6630e,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_tacker~master~I6bacdef5d0a853084b7194cb415c08bcee09d7c1,openstack/openstack-ansible-os_tacker,master,I6bacdef5d0a853084b7194cb415c08bcee09d7c1,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:59:19.000000000,2020-03-06 22:13:27.000000000,2020-03-06 22:12:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:59:19.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/1266de32b4f7097dd1f1c123183f56643637620f', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6bacdef5d0a853084b7194cb415c08bcee09d7c1\n'}]",0,711720,1266de32b4f7097dd1f1c123183f56643637620f,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6bacdef5d0a853084b7194cb415c08bcee09d7c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/20/711720/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,1266de32b4f7097dd1f1c123183f56643637620f,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-galera_server~master~Id857c6d36ff371b4e4dbaae19fff80a6d3bec9c0,openstack/openstack-ansible-galera_server,master,Id857c6d36ff371b4e4dbaae19fff80a6d3bec9c0,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:53:57.000000000,2020-03-06 22:11:56.000000000,2020-03-06 22:10:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:53:57.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/07d8650b517ad2302373a7ba16ea1b2ff70e3ff7', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id857c6d36ff371b4e4dbaae19fff80a6d3bec9c0\n'}]",0,711689,07d8650b517ad2302373a7ba16ea1b2ff70e3ff7,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id857c6d36ff371b4e4dbaae19fff80a6d3bec9c0
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/89/711689/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,07d8650b517ad2302373a7ba16ea1b2ff70e3ff7,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_murano~master~I59eb4e5c2ddf67e8c2fb8b520cb618b944429d17,openstack/openstack-ansible-os_murano,master,I59eb4e5c2ddf67e8c2fb8b520cb618b944429d17,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:58:14.000000000,2020-03-06 22:10:43.000000000,2020-03-06 22:09:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:58:14.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_murano/commit/b1308f49f810593e4ded6ea2aaae8b36e221f32b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I59eb4e5c2ddf67e8c2fb8b520cb618b944429d17\n'}]",0,711712,b1308f49f810593e4ded6ea2aaae8b36e221f32b,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I59eb4e5c2ddf67e8c2fb8b520cb618b944429d17
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_murano refs/changes/12/711712/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b1308f49f810593e4ded6ea2aaae8b36e221f32b,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_congress~master~Ic32761b937dec579e7e3bebaa887b3fe03fb2088,openstack/openstack-ansible-os_congress,master,Ic32761b937dec579e7e3bebaa887b3fe03fb2088,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:55:55.000000000,2020-03-06 22:08:53.000000000,2020-03-06 22:07:31.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:55:55.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/7c479cc63a8dfc23bd4030e5db939a1c4cab6f64', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic32761b937dec579e7e3bebaa887b3fe03fb2088\n'}]",0,711702,7c479cc63a8dfc23bd4030e5db939a1c4cab6f64,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic32761b937dec579e7e3bebaa887b3fe03fb2088
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/02/711702/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,7c479cc63a8dfc23bd4030e5db939a1c4cab6f64,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_designate~master~Id703ccdf32a49d5d14708fb5fecfd0fcc37b7d34,openstack/openstack-ansible-os_designate,master,Id703ccdf32a49d5d14708fb5fecfd0fcc37b7d34,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:56:03.000000000,2020-03-06 22:07:19.000000000,2020-03-06 22:05:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:56:03.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/61d9f8fa26e82d8f1afa86b6c5455d6da0a376b3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id703ccdf32a49d5d14708fb5fecfd0fcc37b7d34\n'}]",0,711703,61d9f8fa26e82d8f1afa86b6c5455d6da0a376b3,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id703ccdf32a49d5d14708fb5fecfd0fcc37b7d34
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/03/711703/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,61d9f8fa26e82d8f1afa86b6c5455d6da0a376b3,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_masakari~master~I9b72dbb5e38dea59fd9843cf0ea38f66d7966423,openstack/openstack-ansible-os_masakari,master,I9b72dbb5e38dea59fd9843cf0ea38f66d7966423,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:57:44.000000000,2020-03-06 22:05:23.000000000,2020-03-06 22:04:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:57:44.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/c1aee782a4c89ee1896945b85f7a703dc1c3f7d5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I9b72dbb5e38dea59fd9843cf0ea38f66d7966423\n'}]",0,711711,c1aee782a4c89ee1896945b85f7a703dc1c3f7d5,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I9b72dbb5e38dea59fd9843cf0ea38f66d7966423
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/11/711711/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c1aee782a4c89ee1896945b85f7a703dc1c3f7d5,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_heat~master~If2543b4cdab355f6945462ab952d57414a253fbf,openstack/openstack-ansible-os_heat,master,If2543b4cdab355f6945462ab952d57414a253fbf,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:56:27.000000000,2020-03-06 22:04:55.000000000,2020-03-06 22:03:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:56:27.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/f00793e520a565a8f20f873f7cbe07a4df4765d8', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If2543b4cdab355f6945462ab952d57414a253fbf\n'}]",0,711705,f00793e520a565a8f20f873f7cbe07a4df4765d8,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If2543b4cdab355f6945462ab952d57414a253fbf
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/05/711705/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,f00793e520a565a8f20f873f7cbe07a4df4765d8,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fpython-tripleoclient~master~I19a32cfe412d507f1668affe995efdfb8c4366f4,openstack/python-tripleoclient,master,I19a32cfe412d507f1668affe995efdfb8c4366f4,Cleanup playbook execution,MERGED,2020-02-21 13:29:07.000000000,2020-03-06 22:03:30.000000000,2020-03-06 22:02:07.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-02-21 13:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0afd1c749267e1de1de9ec3f80496cc2db48719a', 'message': ""Cleanup playbook execution\n\nThis change removes the extra RC handling being done in the pre-flight function.\nThe playbook runner will raise an exception by default so there's no need to\nretrap and raise when the RC code is > 0 outside of the primary method.\n\nChange-Id: I19a32cfe412d507f1668affe995efdfb8c4366f4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-02-21 17:35:20.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4fa342362aaa81d737540c04750fb968dc34cb35', 'message': ""Cleanup playbook execution\n\nThis change removes the extra RC handling being done in the pre-flight function.\nThe playbook runner will raise an exception by default so there's no need to\nretrap and raise when the RC code is > 0 outside of the primary method.\n\nChange-Id: I19a32cfe412d507f1668affe995efdfb8c4366f4\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,709136,4fa342362aaa81d737540c04750fb968dc34cb35,15,6,2,7353,,,0,"Cleanup playbook execution

This change removes the extra RC handling being done in the pre-flight function.
The playbook runner will raise an exception by default so there's no need to
retrap and raise when the RC code is > 0 outside of the primary method.

Change-Id: I19a32cfe412d507f1668affe995efdfb8c4366f4
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/709136/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,0afd1c749267e1de1de9ec3f80496cc2db48719a,mistral_to_ansible, utils.run_ansible_playbook(," rc, _ = utils.run_ansible_playbook( fail_on_rc=False, if rc != 0: raise RuntimeError(_(""Disk space check failed""))",1,4
openstack%2Fopenstack-ansible-openstack_hosts~master~Ibbca856b975ae2fea3864241fa61cc057a8d6cbb,openstack/openstack-ansible-openstack_hosts,master,Ibbca856b975ae2fea3864241fa61cc057a8d6cbb,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:54:46.000000000,2020-03-06 22:02:26.000000000,2020-03-06 22:00:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:54:46.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/c108ea899cfb78e8723916f6b4438d882dc33356', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ibbca856b975ae2fea3864241fa61cc057a8d6cbb\n'}]",0,711695,c108ea899cfb78e8723916f6b4438d882dc33356,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ibbca856b975ae2fea3864241fa61cc057a8d6cbb
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/95/711695/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c108ea899cfb78e8723916f6b4438d882dc33356,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_keystone~master~Ia7bc834a1dbf094ea2c5473a064ab84789afd0c8,openstack/openstack-ansible-os_keystone,master,Ia7bc834a1dbf094ea2c5473a064ab84789afd0c8,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:57:13.000000000,2020-03-06 22:01:03.000000000,2020-03-06 21:59:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:57:13.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/89593b0712a31fb548f5c8467382eeded9e8a1f5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ia7bc834a1dbf094ea2c5473a064ab84789afd0c8\n'}]",0,711708,89593b0712a31fb548f5c8467382eeded9e8a1f5,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ia7bc834a1dbf094ea2c5473a064ab84789afd0c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/08/711708/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,89593b0712a31fb548f5c8467382eeded9e8a1f5,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Ftripleo-ansible~master~I848c45ec8f79f4e548c91a17b090def0a6aec7d2,openstack/tripleo-ansible,master,I848c45ec8f79f4e548c91a17b090def0a6aec7d2,CI: mount /lib/modules,MERGED,2020-03-05 10:11:56.000000000,2020-03-06 21:58:44.000000000,2020-03-06 21:58:43.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 10:11:56.000000000', 'files': ['tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/004726b5bc8c5f2c3756c08e33d4a64b421de725', 'message': 'CI: mount /lib/modules\n\n/lib/modules is required to execute the tests\n\nChange-Id: I848c45ec8f79f4e548c91a17b090def0a6aec7d2\nSigned-off-by: Christophe Fontaine <cfontain@redhat.com>\n'}]",0,711420,004726b5bc8c5f2c3756c08e33d4a64b421de725,9,5,1,23618,,,0,"CI: mount /lib/modules

/lib/modules is required to execute the tests

Change-Id: I848c45ec8f79f4e548c91a17b090def0a6aec7d2
Signed-off-by: Christophe Fontaine <cfontain@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/711420/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/molecule.yml'],1,004726b5bc8c5f2c3756c08e33d4a64b421de725,, - /lib/modules:/lib/modules - /lib/modules:/lib/modules,,2,0
openstack%2Ftripleo-ansible~master~I928518be3108c62989a07110d03c7cff8138ba34,openstack/tripleo-ansible,master,I928518be3108c62989a07110d03c7cff8138ba34,Ensure the os-cloud flag is used for CLI commands,MERGED,2020-03-04 16:02:18.000000000,2020-03-06 21:58:42.000000000,2020-03-06 21:58:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 16:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93e3f8c68709e851d08715db045babae8a060dc8', 'message': 'Ensure the os-cloud flag is used for CLI commands\n\nThis change will ensure that the `openstack` command has appropriate creds\nvia the clouds configuration for all invocations.\n\nChange-Id: I928518be3108c62989a07110d03c7cff8138ba34\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-03-05 23:29:27.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/playbooks/cli-baremetal-clean.yaml', 'tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-import.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-provide.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f27d8919820fe409f303150d0c99291e5d23c599', 'message': 'Ensure the os-cloud flag is used for CLI commands\n\nThis change will ensure that the `openstack` command has appropriate creds\nvia the clouds configuration for all invocations.\n\nChange-Id: I928518be3108c62989a07110d03c7cff8138ba34\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,711260,f27d8919820fe409f303150d0c99291e5d23c599,23,6,2,7353,,,0,"Ensure the os-cloud flag is used for CLI commands

This change will ensure that the `openstack` command has appropriate creds
via the clouds configuration for all invocations.

Change-Id: I928518be3108c62989a07110d03c7cff8138ba34
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/711260/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-overcloud-delete.yaml', 'tripleo_ansible/playbooks/cli-baremetal-clean.yaml', 'tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-import.yaml', 'tripleo_ansible/playbooks/cli-overcloud-node-provide.yaml']",5,93e3f8c68709e851d08715db045babae8a060dc8,mistral_to_ansible, openstack --os-cloud undercloud baremetal node provide {{ item }} --wait 1200 openstack --os-cloud undercloud hypervisor show {{ item }} openstack --os-cloud undercloud baremetal node power off {{ item }}, openstack baremetal node provide {{ item }} --wait 1200 openstack hypervisor show {{ item }} openstack baremetal node power off {{ item }},7,7
openstack%2Fopenstack-ansible-os_trove~master~Ic4ec2de4b943bf76fa1f5716793dc401f131ac85,openstack/openstack-ansible-os_trove,master,Ic4ec2de4b943bf76fa1f5716793dc401f131ac85,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:59:33.000000000,2020-03-06 21:58:22.000000000,2020-03-06 21:57:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:59:33.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/a3c0f889a3d804a7a57348f1212596e3f0904b8b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic4ec2de4b943bf76fa1f5716793dc401f131ac85\n'}]",0,711722,a3c0f889a3d804a7a57348f1212596e3f0904b8b,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic4ec2de4b943bf76fa1f5716793dc401f131ac85
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/22/711722/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a3c0f889a3d804a7a57348f1212596e3f0904b8b,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fansible-role-systemd_networkd~master~Id87931e043ac0a25f7fa3fc8d725762402d340fd,openstack/ansible-role-systemd_networkd,master,Id87931e043ac0a25f7fa3fc8d725762402d340fd,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 18:01:21.000000000,2020-03-06 21:58:16.000000000,2020-03-06 21:56:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 18:01:21.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/4dddfbda13ee70c3af7a891e511957cd7445a8c5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id87931e043ac0a25f7fa3fc8d725762402d340fd\n'}]",0,711729,4dddfbda13ee70c3af7a891e511957cd7445a8c5,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id87931e043ac0a25f7fa3fc8d725762402d340fd
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/29/711729/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,4dddfbda13ee70c3af7a891e511957cd7445a8c5,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-os_sahara~master~Iba84d231fad85f6354277289f4087294f9aa8994,openstack/openstack-ansible-os_sahara,master,Iba84d231fad85f6354277289f4087294f9aa8994,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:59:01.000000000,2020-03-06 21:55:40.000000000,2020-03-06 21:54:18.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:59:01.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/78e291c584a213228ce73f665bc2820203f030f5', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iba84d231fad85f6354277289f4087294f9aa8994\n'}]",0,711719,78e291c584a213228ce73f665bc2820203f030f5,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iba84d231fad85f6354277289f4087294f9aa8994
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/19/711719/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,78e291c584a213228ce73f665bc2820203f030f5,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-rabbitmq_server~master~If0bb6ec437d8932622a48c97ca00d6fb9f7f82ee,openstack/openstack-ansible-rabbitmq_server,master,If0bb6ec437d8932622a48c97ca00d6fb9f7f82ee,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 18:00:10.000000000,2020-03-06 21:51:55.000000000,2020-03-06 21:49:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 18:00:10.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/b84a61fcb95f1112c765ac983963bba4ed9c18d6', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If0bb6ec437d8932622a48c97ca00d6fb9f7f82ee\n'}]",0,711724,b84a61fcb95f1112c765ac983963bba4ed9c18d6,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If0bb6ec437d8932622a48c97ca00d6fb9f7f82ee
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/24/711724/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,b84a61fcb95f1112c765ac983963bba4ed9c18d6,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fansible-role-python_venv_build~master~Ic26db4e1e9a2664749383b5827c66ef145aac5bc,openstack/ansible-role-python_venv_build,master,Ic26db4e1e9a2664749383b5827c66ef145aac5bc,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 18:01:09.000000000,2020-03-06 21:48:30.000000000,2020-03-06 21:46:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 18:01:09.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/5424ae711d31f419377883db19ef073fb06aa6d6', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ic26db4e1e9a2664749383b5827c66ef145aac5bc\n'}]",0,711727,5424ae711d31f419377883db19ef073fb06aa6d6,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ic26db4e1e9a2664749383b5827c66ef145aac5bc
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/27/711727/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,5424ae711d31f419377883db19ef073fb06aa6d6,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-repo_server~master~If54e9689b99800c47dc15b024c80b1dc2dc57b08,openstack/openstack-ansible-repo_server,master,If54e9689b99800c47dc15b024c80b1dc2dc57b08,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 18:00:25.000000000,2020-03-06 21:48:18.000000000,2020-03-06 21:46:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 18:00:25.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/5978255c3738db93facbbe305dac3f2e4085f970', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If54e9689b99800c47dc15b024c80b1dc2dc57b08\n'}]",0,711725,5978255c3738db93facbbe305dac3f2e4085f970,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If54e9689b99800c47dc15b024c80b1dc2dc57b08
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/25/711725/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,5978255c3738db93facbbe305dac3f2e4085f970,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-memcached_server~master~I0806208831dece1bc5f516363e7d85477f3a7565,openstack/openstack-ansible-memcached_server,master,I0806208831dece1bc5f516363e7d85477f3a7565,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:54:26.000000000,2020-03-06 21:41:04.000000000,2020-03-06 21:39:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:54:26.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-memcached_server/commit/5fa6fa269c09df8b6191dce7910f15bdbe5b8132', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0806208831dece1bc5f516363e7d85477f3a7565\n'}]",0,711692,5fa6fa269c09df8b6191dce7910f15bdbe5b8132,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0806208831dece1bc5f516363e7d85477f3a7565
",git fetch https://review.opendev.org/openstack/openstack-ansible-memcached_server refs/changes/92/711692/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,5fa6fa269c09df8b6191dce7910f15bdbe5b8132,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-openstack_openrc~master~If05dbb2c3d9b57a4c730ca144d09b6c6cac57547,openstack/openstack-ansible-openstack_openrc,master,If05dbb2c3d9b57a4c730ca144d09b6c6cac57547,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:54:53.000000000,2020-03-06 21:37:57.000000000,2020-03-06 21:36:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:54:53.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/c8b1f998cb7be435518a395e1f94c62e703cc9dd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: If05dbb2c3d9b57a4c730ca144d09b6c6cac57547\n'}]",0,711696,c8b1f998cb7be435518a395e1f94c62e703cc9dd,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: If05dbb2c3d9b57a4c730ca144d09b6c6cac57547
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/96/711696/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c8b1f998cb7be435518a395e1f94c62e703cc9dd,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-galera_client~master~I78cae2cfd62722f2188fa07e00e26aff0158dfce,openstack/openstack-ansible-galera_client,master,I78cae2cfd62722f2188fa07e00e26aff0158dfce,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:53:50.000000000,2020-03-06 21:28:12.000000000,2020-03-06 21:26:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:53:50.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/2200d254bb18a3128d1ad8de3c34728054536ddd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I78cae2cfd62722f2188fa07e00e26aff0158dfce\n'}]",0,711688,2200d254bb18a3128d1ad8de3c34728054536ddd,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I78cae2cfd62722f2188fa07e00e26aff0158dfce
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/88/711688/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,2200d254bb18a3128d1ad8de3c34728054536ddd,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fnova~master~If6d9c3ad422b6e64b145c0695d441ba06045cce3,openstack/nova,master,If6d9c3ad422b6e64b145c0695d441ba06045cce3,Introduce scope_types in os-console-auth-tokens,MERGED,2020-02-09 02:29:28.000000000,2020-03-06 21:23:10.000000000,2020-03-06 11:50:14.000000000,"[{'_account_id': 782}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-09 02:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3dfc115b1232bee402041c9aa456ea91f013202d', 'message': ""Introduce scope_types in os-console-auth-tokens\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-console-auth-tokens API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: If6d9c3ad422b6e64b145c0695d441ba06045cce3\n""}, {'number': 2, 'created': '2020-02-10 14:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94a1b81ad57b01db71fb8bab3328af74162d0b5c', 'message': ""Introduce scope_types in os-console-auth-tokens\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-console-auth-tokens API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: If6d9c3ad422b6e64b145c0695d441ba06045cce3\n""}, {'number': 3, 'created': '2020-03-04 19:38:09.000000000', 'files': ['nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/policies/console_auth_tokens.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e2d0333d925ae905ea6d0afdf7194c8667d6dfa', 'message': ""Introduce scope_types in os-console-auth-tokens\n\noslo.policy introduced the scope_type feature which can\ncontrol the access level at system-level and project-level.\n - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope\n - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html\n\nAppropriate scope_type for nova case:\n- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope\n\nThis commit introduce scope_type for os-console-auth-tokens API policies\nas 'system'.\n\nAlso adds the test case with scope_type enabled and verify we\npass and fail the policy check with expected context.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: If6d9c3ad422b6e64b145c0695d441ba06045cce3\n""}]",0,706688,8e2d0333d925ae905ea6d0afdf7194c8667d6dfa,34,10,3,8556,,,0,"Introduce scope_types in os-console-auth-tokens

oslo.policy introduced the scope_type feature which can
control the access level at system-level and project-level.
 - https://docs.openstack.org/oslo.policy/latest/user/usage.html#setting-scope
 - http://specs.openstack.org/openstack/keystone-specs/specs/keystone/queens/system-scope.html

Appropriate scope_type for nova case:
- https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#scope

This commit introduce scope_type for os-console-auth-tokens API policies
as 'system'.

Also adds the test case with scope_type enabled and verify we
pass and fail the policy check with expected context.

Partial implement blueprint policy-defaults-refresh

Change-Id: If6d9c3ad422b6e64b145c0695d441ba06045cce3
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/706688/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_console_auth_tokens.py', 'nova/policies/console_auth_tokens.py']",2,3dfc115b1232bee402041c9aa456ea91f013202d,bp/policy-defaults-refresh," name=BASE_POLICY_NAME, check_str=base.RULE_ADMIN_API, description=""Show console connection information for a given console "" operations=[ ], scope_types=['system'])"," BASE_POLICY_NAME, base.RULE_ADMIN_API, ""Show console connection information for a given console "" [ ])",20,5
openstack%2Fpython-openstackclient~master~I17b0ec2ed9ad999e4930bd71967d423f763b81b9,openstack/python-openstackclient,master,I17b0ec2ed9ad999e4930bd71967d423f763b81b9,Honor api version settings in config like CLI,NEW,2020-03-06 18:17:24.000000000,2020-03-06 21:19:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-06 18:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9899b1043c9b75a51c9694bf167c056e740529b2', 'message': 'Honor api config version for compute calls\n\nThis super needs to be generalized, but as a quick stab, see if\nthis fixes it.\n\nChange-Id: I17b0ec2ed9ad999e4930bd71967d423f763b81b9\n'}, {'number': 2, 'created': '2020-03-06 19:39:38.000000000', 'files': ['openstackclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/241543e1d82a41d8da0e98d2d90887baeafd74dd', 'message': 'Honor api version settings in config like CLI\n\nIf someone sets a version option in clouds.yaml, honor it the\nsame as if they set it on the command line, but with a lower\npriority of course.\n\nChange-Id: I17b0ec2ed9ad999e4930bd71967d423f763b81b9\n'}]",0,711732,241543e1d82a41d8da0e98d2d90887baeafd74dd,3,1,2,2,,,0,"Honor api version settings in config like CLI

If someone sets a version option in clouds.yaml, honor it the
same as if they set it on the command line, but with a lower
priority of course.

Change-Id: I17b0ec2ed9ad999e4930bd71967d423f763b81b9
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/32/711732/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/compute/client.py'],1,9899b1043c9b75a51c9694bf167c056e740529b2,, config_version = instance._cli_options.get_api_version( API_NAME) or instance._cli_options.get_default_microversion( API_NAME) elif config_version is not None: version = config_version,,6,0
openstack%2Fpython-tripleoclient~master~I2f13885a3056dd7690e9a00e2b1f7bc6aa78fff7,openstack/python-tripleoclient,master,I2f13885a3056dd7690e9a00e2b1f7bc6aa78fff7,Make _get_undercloud_host_entry(self) python3 friendly,MERGED,2020-03-06 09:06:23.000000000,2020-03-06 20:46:11.000000000,2020-03-06 20:21:20.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 09:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc4289a0dd2fb20dbc306120ae6de6a599d9a78d', 'message': ""Make _get_undercloud_host_entry(self) python3 friendly\n\nOn CentOS8 we can fail with:\n\n    unable to pull image: Error initializing source docker://undercloud-0.ctlplane.redhat.local:8787/rh-osbs/rhosp16-openstack-cinder-volume:20200305.1: error pinging docker registry undercloud-0.ctlplane.redhat.local:8787: Get http://undercloud-0.ctlplane.redhat.local:8787/v2/: dial tcp: lookup undercloud-0.ctlplane.redhat.local: no such host\n\nThe reason for that is a wrong entry in /etc/hosts:\n$  grep undercloud-0 controller-0/etc/hosts\nb'192.168.24.1 undercloud-0.ctlplane.redhat.local undercloud-0.ctlplane\\n'\n\nThe reason for this is that we invoked 'getent hosts' without passing\n'universal_newlines=True' to subprocess.Popen()\n\nTested this and I correctly get past the issue that was observed\n(seen for the first time via rhbz#1810898)\n\nChange-Id: I2f13885a3056dd7690e9a00e2b1f7bc6aa78fff7\nCloses-Bug: #1866313\n""}, {'number': 2, 'created': '2020-03-06 12:04:49.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bba24caafcdfd7d450b29c00bdb81e518ba9b5f3', 'message': ""Make _get_undercloud_host_entry(self) python3 friendly\n\nOn CentOS8 we can fail with:\n\n    unable to pull image: Error initializing source docker://undercloud-0.ctlplane.redhat.local:8787/rh-osbs/rhosp16-openstack-cinder-volume:20200305.1: error pinging docker registry undercloud-0.ctlplane.redhat.local:8787: Get http://undercloud-0.ctlplane.redhat.local:8787/v2/: dial tcp: lookup undercloud-0.ctlplane.redhat.local: no such host\n\nThe reason for that is a wrong entry in /etc/hosts:\n$  grep undercloud-0 controller-0/etc/hosts\nb'192.168.24.1 undercloud-0.ctlplane.redhat.local undercloud-0.ctlplane\\n'\n\nThe reason for this is that we invoked 'getent hosts' without passing\n'universal_newlines=True' to subprocess.Popen()\n\nTested this and I correctly get past the issue that was observed\n(seen for the first time via rhbz#1810898)\n\nChange-Id: I2f13885a3056dd7690e9a00e2b1f7bc6aa78fff7\nCloses-Bug: #1866313\n""}]",0,711595,bba24caafcdfd7d450b29c00bdb81e518ba9b5f3,15,5,2,20172,,,0,"Make _get_undercloud_host_entry(self) python3 friendly

On CentOS8 we can fail with:

    unable to pull image: Error initializing source docker://undercloud-0.ctlplane.redhat.local:8787/rh-osbs/rhosp16-openstack-cinder-volume:20200305.1: error pinging docker registry undercloud-0.ctlplane.redhat.local:8787: Get http://undercloud-0.ctlplane.redhat.local:8787/v2/: dial tcp: lookup undercloud-0.ctlplane.redhat.local: no such host

The reason for that is a wrong entry in /etc/hosts:
$  grep undercloud-0 controller-0/etc/hosts
b'192.168.24.1 undercloud-0.ctlplane.redhat.local undercloud-0.ctlplane\n'

The reason for this is that we invoked 'getent hosts' without passing
'universal_newlines=True' to subprocess.Popen()

Tested this and I correctly get past the issue that was observed
(seen for the first time via rhbz#1810898)

Change-Id: I2f13885a3056dd7690e9a00e2b1f7bc6aa78fff7
Closes-Bug: #1866313
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/711595/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,bc4289a0dd2fb20dbc306120ae6de6a599d9a78d,," process = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True)"," process = subprocess.Popen(cmd, stdout=subprocess.PIPE)",1,1
openstack%2Fproject-config~master~Ia5caff34d3fafaffc459e7572a4eef6bd94422ea,openstack/project-config,master,Ia5caff34d3fafaffc459e7572a4eef6bd94422ea,Moving FortNebula to OpenEdge,MERGED,2020-03-06 20:16:38.000000000,2020-03-06 20:42:03.000000000,2020-03-06 20:42:03.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 29432}]","[{'number': 1, 'created': '2020-03-06 20:16:38.000000000', 'files': ['grafana/nodepool-openedge.yaml', 'nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'zuul/site-variables.yaml', 'nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7d08c277d7247edcff6a07ce44dc07f6f8099e60', 'message': 'Moving FortNebula to OpenEdge\n\nChange-Id: Ia5caff34d3fafaffc459e7572a4eef6bd94422ea\n'}]",0,711760,7d08c277d7247edcff6a07ce44dc07f6f8099e60,8,4,1,20754,,,0,"Moving FortNebula to OpenEdge

Change-Id: Ia5caff34d3fafaffc459e7572a4eef6bd94422ea
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/711760/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/nodepool-openedge.yaml', 'nodepool/nodepool.yaml', 'grafana/create-nodepool.sh', 'zuul/site-variables.yaml', 'nodepool/nl02.openstack.org.yaml']",5,7d08c277d7247edcff6a07ce44dc07f6f8099e60,674091, - name: openedge-us-east region-name: 'us-east' cloud: openedge, - name: fortnebula-regionone region-name: 'regionOne' cloud: fortnebula,12,12
openstack%2Ftripleo-quickstart-extras~master~Iea289f50bb218fc7ff015e2b031acb4b5903c7ef,openstack/tripleo-quickstart-extras,master,Iea289f50bb218fc7ff015e2b031acb4b5903c7ef,Update ara to 1.0.0,MERGED,2020-03-06 09:22:29.000000000,2020-03-06 20:28:27.000000000,2020-03-06 20:28:27.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 09:22:29.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bc330caeb1d640f569d995c87396ff640a66302a', 'message': ""Update ara to 1.0.0\n\nAra < 1.0.0 requires oslo.serialization that requires python3 and it's\nfailing on periodic promotion jobs. Ara 1.0.0 don't have this\ndependence.\n\nChange-Id: Iea289f50bb218fc7ff015e2b031acb4b5903c7ef\nCloses-Bug: #1866316\n""}]",0,711597,bc330caeb1d640f569d995c87396ff640a66302a,10,4,1,8367,,,0,"Update ara to 1.0.0

Ara < 1.0.0 requires oslo.serialization that requires python3 and it's
failing on periodic promotion jobs. Ara 1.0.0 don't have this
dependence.

Change-Id: Iea289f50bb218fc7ff015e2b031acb4b5903c7ef
Closes-Bug: #1866316
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/97/711597/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'],1,bc330caeb1d640f569d995c87396ff640a66302a,upgrade-ara,"sudo $container_cli exec --user root $cont bash -c ""easy_install pip && pip install 'ara==1.0.0' || pip3 install 'ara==1.0.0'""","sudo $container_cli exec --user root $cont bash -c ""easy_install pip && pip install 'ara<1.0.0' || pip3 install 'ara<1.0.0'""",1,1
openstack%2Ftripleo-ci~master~I26799d5e6a3ed404b4a29be621c5871ef9be6e4c,openstack/tripleo-ci,master,I26799d5e6a3ed404b4a29be621c5871ef9be6e4c,Add centos8 support for emit_releases_script,MERGED,2020-02-28 11:56:05.000000000,2020-03-06 20:21:18.000000000,2020-03-06 20:21:18.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 11:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/abf95f3bb6c3ac772c906a24eeea382b29dc9be1', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 2, 'created': '2020-02-28 13:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6857f314c5245641647c1819222b8495d974459f', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 3, 'created': '2020-02-28 13:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/11baa03bbba8d04041668c5b8c5d7bd44a73f2b8', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 4, 'created': '2020-03-02 10:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5974bce074118718c34bec7b7d3591792d4247f0', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 5, 'created': '2020-03-02 10:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f70fba3643c74a48fc497145c29184835fe57c55', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 6, 'created': '2020-03-02 14:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4195c7b9a6ec9bcbb36e79c394e8be21bc9d66ea', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 7, 'created': '2020-03-02 21:11:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2e54088c08e35b3ef69015e877b3cfba281281a5', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nDepends-On: https://review.opendev.org/#/c/710869/\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 8, 'created': '2020-03-04 19:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9772b9e2eba30ea26fa3307d93df5db1379b57fa', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nDepends-On: https://review.opendev.org/#/c/711305/\nDepends-On: https://review.opendev.org/#/c/710869/\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 9, 'created': '2020-03-05 16:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/be7dea860985247f4466a7aed60ddf18e5198f38', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 10, 'created': '2020-03-06 07:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c9b7f7c5ae361dfae39647aa1d52e225e29b181c', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}, {'number': 11, 'created': '2020-03-06 12:23:55.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2', 'scripts/emit_releases_file/test_write_bash_script.py', 'scripts/emit_releases_file/test_release_name.py', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_get_dlrn_hash.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50203ab44afa44f52c6f09d5450cb1689eb01a4f', 'message': 'Add centos8 support for emit_releases_script\n\nemit_releases_file needed to be updated to support centos8 and\nintegration pipeline.\nI needed to make the script distro aware, then distringuish between\ndistros to get the proper repo and hash in get_dlrn_hash function.\nThe tests have been only partially updated: I updated the success script\nto cover the centos8 case, and accountfor the change in signature for\nget_dlrn_hash, but the rest of the workflow is exaclty the same either\nif we are in centos7 or centos8, so I did not add any additional checks.\n\nChange-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c\n'}]",0,710441,50203ab44afa44f52c6f09d5450cb1689eb01a4f,45,6,11,10022,,,0,"Add centos8 support for emit_releases_script

emit_releases_file needed to be updated to support centos8 and
integration pipeline.
I needed to make the script distro aware, then distringuish between
distros to get the proper repo and hash in get_dlrn_hash function.
The tests have been only partially updated: I updated the success script
to cover the centos8 case, and accountfor the change in signature for
get_dlrn_hash, but the rest of the workflow is exaclty the same either
if we are in centos7 or centos8, so I did not add any additional checks.

Change-Id: I26799d5e6a3ed404b4a29be621c5871ef9be6e4c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/710441/10 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-test/templates/toci_gate_test.sh.j2', 'scripts/emit_releases_file/test_write_bash_script.py', 'scripts/emit_releases_file/test_release_name.py', 'scripts/emit_releases_file/emit_releases_file.py', 'scripts/emit_releases_file/test_get_dlrn_hash.py', 'tox.ini']",6,abf95f3bb6c3ac772c906a24eeea382b29dc9be1,update-emit-releases, python -m pytest --html={envlogdir}/reports.html --self-contained-html --cov=emit_releases_file {posargs:scripts}, python -m pytest --html={envlogdir}/reports.html --self-contained-html {posargs:--cov=emit_releases_file} scripts,86,24
openstack%2Ftripleo-ansible~master~I7494a937749a434f9bfb2e14c47b36aebdf89664,openstack/tripleo-ansible,master,I7494a937749a434f9bfb2e14c47b36aebdf89664,"Make run-local.yml use ansible_connection local, not ssh",MERGED,2020-02-25 13:11:29.000000000,2020-03-06 20:07:57.000000000,2020-03-06 20:07:57.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-02-25 13:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62dfb8f937d551f1b556285f357ed34ec5efbb0f', 'message': ""Make run-local.yml use ansible_connection local, not ssh\n\nIf the intent of run-local.yml is to use a local ansible\nconnection and not an SSH ansible connection, as implied\nby the tests/hosts.ini, then it shouldn't set a fact to\nset ansible_connection to 'ssh'. This patch changes it to\n'local'.\n\nChange-Id: I7494a937749a434f9bfb2e14c47b36aebdf89664\nCloses-Bug: #1864649\n""}, {'number': 2, 'created': '2020-03-06 19:25:03.000000000', 'files': ['zuul.d/playbooks/run-local.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5f0c07943eeb2c655f147be5e59b5128775ec34a', 'message': ""Make run-local.yml use ansible_connection local, not ssh\n\nIf the intent of run-local.yml is to use a local ansible\nconnection and not an SSH ansible connection, as implied\nby the tests/hosts.ini, then it shouldn't set a fact to\nset ansible_connection to 'ssh'. This patch changes it to\n'local'.\n\nChange-Id: I7494a937749a434f9bfb2e14c47b36aebdf89664\nCloses-Bug: #1864649\n""}]",0,709722,5f0c07943eeb2c655f147be5e59b5128775ec34a,15,6,2,18002,,,0,"Make run-local.yml use ansible_connection local, not ssh

If the intent of run-local.yml is to use a local ansible
connection and not an SSH ansible connection, as implied
by the tests/hosts.ini, then it shouldn't set a fact to
set ansible_connection to 'ssh'. This patch changes it to
'local'.

Change-Id: I7494a937749a434f9bfb2e14c47b36aebdf89664
Closes-Bug: #1864649
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/22/709722/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/run-local.yml'],1,62dfb8f937d551f1b556285f357ed34ec5efbb0f,bug/1864649, ansible_connection: local, ansible_connection: ssh,1,1
openstack%2Fopenstack-ansible~stable%2Fstein~I50ea0ba97c79f9c1509e382643b9aecc805862b7,openstack/openstack-ansible,stable/stein,I50ea0ba97c79f9c1509e382643b9aecc805862b7,Fix idempotency for os-lxc-container-setup.yml,MERGED,2020-02-19 15:14:49.000000000,2020-03-06 20:04:45.000000000,2020-03-06 20:02:19.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25591}, {'_account_id': 30004}]","[{'number': 1, 'created': '2020-02-19 15:14:49.000000000', 'files': ['playbooks/common-tasks/os-lxc-container-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37175866bd3723f943eba71c5124f990b1a70718', 'message': 'Fix idempotency for os-lxc-container-setup.yml\n\nAdded regexp to avoid multiple entry of lxc.start.order in\nos-lxc-container-setup.yml. Remove insertafter to avoid\nconfusion.\n\nChange-Id: I50ea0ba97c79f9c1509e382643b9aecc805862b7\nCloses-Bug: 1862625\n(cherry picked from commit 4d9b568f6c772269a95811c5f4e8c4b87eff4702)\n'}]",0,708667,37175866bd3723f943eba71c5124f990b1a70718,13,5,1,30004,,,0,"Fix idempotency for os-lxc-container-setup.yml

Added regexp to avoid multiple entry of lxc.start.order in
os-lxc-container-setup.yml. Remove insertafter to avoid
confusion.

Change-Id: I50ea0ba97c79f9c1509e382643b9aecc805862b7
Closes-Bug: 1862625
(cherry picked from commit 4d9b568f6c772269a95811c5f4e8c4b87eff4702)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/708667/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/os-lxc-container-setup.yml'],1,37175866bd3723f943eba71c5124f990b1a70718,bug/1862625-stable/stein," path: ""/var/lib/lxc/{{ inventory_hostname }}/config"" regexp: ""^{{ item.split('=')[0] }} ="" path: ""/var/lib/lxc/{{ inventory_hostname }}/config"" regexp: ""^{{ item.split('=')[0] }} ="""," dest: ""/var/lib/lxc/{{ inventory_hostname }}/config"" insertafter: ""^{{ item.split('=')[0] }}"" dest: ""/var/lib/lxc/{{ inventory_hostname }}/config"" insertafter: ""^{{ item.split('=')[0] }}""",4,4
openstack%2Fnova~master~I41b7c1653c6a887ee4b08e588c5d422409aebfba,openstack/nova,master,I41b7c1653c6a887ee4b08e588c5d422409aebfba,libvirt: Remove native LUKS compat code,MERGED,2019-07-04 09:40:37.000000000,2020-03-06 20:01:47.000000000,2020-03-05 04:44:42.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-04 09:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d93b0253c6e1ff6d478a5884e615e2e543e969b5', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades from\nStein to Train when we might need to live migrate instances etc.\n\nA _is_luks utility method is retained however to ensure the native\napproach is only used when using LUKS v1 volumes as v2 support is not\ncurrently available within QEMU.\nI09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is currently looking to\nintroduce support for LUKS v2 volumes using cryptsetup within os-brick.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 2, 'created': '2019-07-04 09:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/441708002fd69c56b434aec21664564f626e366d', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades from\nStein to Train when we might need to live migrate instances etc.\n\nA _is_luks utility method is retained however to ensure the native\napproach is only used when using LUKS v1 volumes as v2 support is not\ncurrently available within QEMU.\nI09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is currently looking to\nintroduce support for LUKS v2 volumes using cryptsetup within os-brick.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 3, 'created': '2019-07-04 10:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6786464866c5f3854e55b28c8ce316f3e3e30d0', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades from\nStein to Train when we might need to live migrate instances etc.\n\nA _is_luks utility method is retained however to ensure the native\napproach is only used when using LUKS v1 volumes as v2 support is not\ncurrently available within QEMU.\nI09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is currently looking to\nintroduce support for LUKS v2 volumes using cryptsetup within os-brick.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 4, 'created': '2019-07-05 08:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cea1a4a366063c830aebcbcbcc769dd6b7dc55b', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 5, 'created': '2019-07-29 08:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c732a4cf7b59b61c2f37cb027e5612c8bc852c39', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 6, 'created': '2019-08-06 09:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9205f5d0e99b44f41a4e1350d5803ad46fe9b0b', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 7, 'created': '2019-08-08 09:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37b9a6348a7262fcc15ca4fa9940aff429fe8a7f', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nDepends-On: https://review.opendev.org/674755\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 8, 'created': '2019-11-08 12:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50ac731ab1088e7bf14f6bdbae9a9256cff9940a', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nDepends-On: https://review.opendev.org/674755\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 9, 'created': '2019-12-11 16:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/41e6192bac4be378892366cfaf96ac4396315ec8', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nDepends-On: https://review.opendev.org/674755\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 10, 'created': '2020-01-25 14:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a22a78580fc995cf96f40223ac4300c3dfc4c8f', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nDepends-On: https://review.opendev.org/674755\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 11, 'created': '2020-02-06 17:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ed746eb63cb07af0e1dedb2b3c9101853a3da16', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nDepends-On: https://review.opendev.org/674755\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 12, 'created': '2020-02-21 10:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf0db2568ced2e7e661bd5dbcb6d2442e5b6d1bb', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nDepends-On: https://review.opendev.org/674755\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 13, 'created': '2020-02-26 11:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15f2aa33b7b5fe6e806afc37930b79feb9e43233', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nare no longer required for Stein to Train upgrades as both ends of the\nmigration should have the required versions of Libvirt and QEMU.\n\nAn _is_luks utility method is retained to ensure the native approach is\nonly used when using LUKS v1 volumes as v2 support is not currently\navailable within QEMU.  I09fb2b2be1e376f8ec0f49741c855cfd54ee27f0 is\ncurrently looking to introduce support for LUKS v2 volumes using\ncryptsetup within os-brick.\n\nDepends-On: https://review.opendev.org/674755\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}, {'number': 14, 'created': '2020-03-04 15:50:08.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/649236bbb1d1a204a308a9dad55b7a4d5a2a1021', 'message': 'libvirt: Remove native LUKS compat code\n\nI408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of\nLibvirt and QEMU past the required versions for native LUKS decryption\nsupport during the Stein cycle.\n\nAs a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we\ncan now remove various bits of compatibility code introduced to support\nthe use of native LUKS decryption in environments with mixed versions of\nLibvirt and QEMU. This includes code used during N to N+1 upgrades that\nis no longer required as both ends of a migration during an upgrade\nshould now have the required versions of Libvirt and QEMU.\n\nAn _is_luks_v1 utility method is retained to ensure the native approach\nis only used when using LUKS v1 volumes as native LUKS v2 support is not\ncurrently available within QEMU.\n\nChange-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba\n'}]",13,669121,649236bbb1d1a204a308a9dad55b7a4d5a2a1021,144,17,14,10135,,,0,"libvirt: Remove native LUKS compat code

I408baef12358a83921c4693b847a692f6c19e36f bumped the MIN versions of
Libvirt and QEMU past the required versions for native LUKS decryption
support during the Stein cycle.

As a result and building on I5a0de814f2868f1a4980a69b72b45ee829cedb94 we
can now remove various bits of compatibility code introduced to support
the use of native LUKS decryption in environments with mixed versions of
Libvirt and QEMU. This includes code used during N to N+1 upgrades that
is no longer required as both ends of a migration during an upgrade
should now have the required versions of Libvirt and QEMU.

An _is_luks_v1 utility method is retained to ensure the native approach
is only used when using LUKS v1 volumes as native LUKS v2 support is not
currently available within QEMU.

Change-Id: I41b7c1653c6a887ee4b08e588c5d422409aebfba
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/669121/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,d93b0253c6e1ff6d478a5884e615e2e543e969b5,remove_luks_compat," self.context, connection_info, encryption) self.context, connection_info, encryption) @mock.patch.object(libvirt_driver.LibvirtDriver, '_is_luks') def test_connect_volume_luks(self, mock_is_volume_luks, mock_host, mock_get_volume_encryptor, mock_is_luks, mock_is_volume_luks.return_value = True # _connect_volume when _is_luks is True mock_is_luks.return_value = True # assert that the encryptor is used if is_luks is False mock_is_luks.return_value = False # assert that we format the volume if it is not already formatted mock_is_luks.return_value = True mock_is_volume_luks.return_value = False def test_disconnect_volume_luks(self, mock_get_volume_encryptor): drvr._attach_encryptor(self.context, connection_info, None) drvr._attach_encryptor(self.context, connection_info, None) drvr._attach_encryptor(self.context, connection_info, encryption) encryption = {'provider': encryptors.PLAIN, 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, None) encryption = {'provider': encryptors.PLAIN, 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, encryption) with mock.patch.object(drvr, '_is_luks', return_value=True): encryption) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._is_luks') mock_is_luks, mock_get_encryptor, mock_get_metadata): mock_is_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._is_luks') mock_is_luks, mock_get_encryptor, mock_get_metadata): mock_is_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._is_luks') mock_get_encryptor, mock_is_luks, mock_find_secret): mock_is_luks.return_value = True def test_is_luks(self): self.assertFalse(drvr._is_luks({})) self.assertFalse(drvr._is_luks({ self.assertFalse(drvr._is_luks({ self.assertFalse(drvr._is_luks({ self.assertTrue(drvr._is_luks({ self.assertTrue(drvr._is_luks({ self.assertTrue(drvr._is_luks({ target_ret=None): mock.call(c, v['connection_info'], instance)) inst_ref) @mock.patch.object(libvirt_driver.LibvirtDriver, '_is_luks') def test_swap_volume_native_luks_blocked(self, mock_is_luks, mock_is_luks.return_value = True"," self.context, connection_info, encryption, True) self.context, connection_info, encryption, True) @mock.patch.object(libvirt_driver.LibvirtDriver, '_use_native_luks') def test_connect_volume_native_luks(self, mock_is_luks, mock_host, mock_get_volume_encryptor, mock_use_native_luks, mock_is_luks.return_value = True # _connect_volume when use_native_luks is True mock_use_native_luks.return_value = True # assert that the encryptor is used if use_native_luks is False mock_use_native_luks.return_value = False # assert that we format the volume if is_luks is False mock_use_native_luks.return_value = True mock_is_luks.return_value = False # assert that os-brick is used when allow_native_luks is False mock_encryptor.attach_volume.reset_mock() mock_is_luks.return_value = True drvr._connect_volume(self.context, connection_info, instance, encryption=encryption, allow_native_luks=False) mock_encryptor.attach_volume.assert_called_once_with(self.context, **encryption) def test_disconnect_volume_native_luks(self, mock_get_volume_encryptor): drvr._attach_encryptor(self.context, connection_info, None, False) drvr._attach_encryptor(self.context, connection_info, None, False) drvr._attach_encryptor(self.context, connection_info, encryption, False) encryption = {'provider': 'luks', 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, None, False) encryption = {'provider': 'luks', 'control_location': 'front-end'} drvr._attach_encryptor(self.context, connection_info, encryption, False) with mock.patch.object(drvr, '_use_native_luks', return_value=True): encryption, allow_native_luks=True) @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_get_encryptor, mock_use_native_luks, mock_find_secret): mock_use_native_luks.return_value = True @mock.patch.object(host.Host, ""has_min_version"") def test_use_native_luks(self, mock_has_min_version): # The required QEMU and Libvirt versions are always available # on the host and a valid LUKS provider is present within the # encryption metadata dict. mock_has_min_version.return_value = True self.assertFalse(drvr._use_native_luks({})) self.assertFalse(drvr._use_native_luks({ self.assertFalse(drvr._use_native_luks({ self.assertFalse(drvr._use_native_luks({ self.assertTrue(drvr._use_native_luks({ self.assertTrue(drvr._use_native_luks({ self.assertTrue(drvr._use_native_luks({ src_supports_native_luks=True, def test_pre_live_migration_only_dest_supports_native_luks(self): # Assert that allow_native_luks is False when src_supports_native_luks # is missing from migrate data during a P to Q LM. self._test_pre_live_migration_works_correctly_mocked( src_supports_native_luks=None, dest_supports_native_luks=True, allow_native_luks=False) target_ret=None, src_supports_native_luks=True, dest_supports_native_luks=True, allow_native_luks=True): mock.call(c, v['connection_info'], instance, allow_native_luks=allow_native_luks)) if src_supports_native_luks: migrate_data.src_supports_native_luks = True else: target_ret.pop('src_supports_native_luks') src_supports_native_luks=True, src_supports_native_luks=True inst_ref, allow_native_luks=True) @mock.patch.object(libvirt_driver.LibvirtDriver, '_use_native_luks') def test_swap_volume_native_luks_blocked(self, mock_use_native_luks, mock_use_native_luks.return_value = True",58,101
openstack%2Fnova~master~Iebc79fd72415603112a15a12f06153fb7a4e7fcc,openstack/nova,master,Iebc79fd72415603112a15a12f06153fb7a4e7fcc,Add test coverage of existing create_backup policies,MERGED,2020-02-10 01:45:28.000000000,2020-03-06 19:50:35.000000000,2020-03-06 19:50:34.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-10 01:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee527ace4e464a81ab1d01076d8812f51f03df81', 'message': 'Add test coverage of existing create_backup policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing create_backup policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Iebc79fd72415603112a15a12f06153fb7a4e7fcc\n'}, {'number': 2, 'created': '2020-02-10 02:36:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be3bd1db706f4e1bb2013d1b66b9990a7db56d61', 'message': 'Add test coverage of existing create_backup policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing create_backup policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Iebc79fd72415603112a15a12f06153fb7a4e7fcc\n'}, {'number': 3, 'created': '2020-02-10 15:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a24ea13af5d6f868a75329be43e6f3c15b75e62', 'message': 'Add test coverage of existing create_backup policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing create_backup policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Iebc79fd72415603112a15a12f06153fb7a4e7fcc\n'}, {'number': 4, 'created': '2020-02-12 20:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ba8db5300282b51b7fba276ad5a603586b71fe6', 'message': 'Add test coverage of existing create_backup policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing create_backup policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Iebc79fd72415603112a15a12f06153fb7a4e7fcc\n'}, {'number': 5, 'created': '2020-03-06 01:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd51cb75e3ca4100450db5ab7774799a311cf6f4', 'message': 'Add test coverage of existing create_backup policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing create_backup policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Iebc79fd72415603112a15a12f06153fb7a4e7fcc\n'}, {'number': 6, 'created': '2020-03-06 01:39:22.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/unit/policies/test_create_backup.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6692ee48a027fc0fcf411955f32402584451d48', 'message': 'Add test coverage of existing create_backup policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing create_backup policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Iebc79fd72415603112a15a12f06153fb7a4e7fcc\n'}]",2,706726,b6692ee48a027fc0fcf411955f32402584451d48,48,9,6,8556,,,0,"Add test coverage of existing create_backup policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing create_backup policies.

Partial implement blueprint policy-defaults-refresh

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing

Change-Id: Iebc79fd72415603112a15a12f06153fb7a4e7fcc
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/706726/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_create_backup.py', 'nova/tests/unit/policies/test_create_backup.py']",2,ee527ace4e464a81ab1d01076d8812f51f03df81,bp/policy-defaults-refresh,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock from oslo_utils.fixture import uuidsentinel as uuids from oslo_utils import timeutils from nova.api.openstack.compute import create_backup from nova.compute import vm_states from nova.tests.unit.api.openstack import fakes from nova.tests.unit import fake_instance from nova.tests.unit.policies import base class CreateBackupPolicyTest(base.BasePolicyTest): """"""Test Create Backup APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(CreateBackupPolicyTest, self).setUp() self.controller = create_backup.CreateBackupController() self.req = fakes.HTTPRequest.blank('') self.mock_get = self.useFixture( fixtures.MockPatch('nova.api.openstack.common.get_instance')).mock uuid = uuids.fake_id self.instance = fake_instance.fake_instance_obj( self.project_member_context, project_id=self.project_id, id=1, uuid=uuid, vm_state=vm_states.ACTIVE, task_state=None, launched_at=timeutils.utcnow()) self.mock_get.return_value = self.instance # Check that admin or owner is able to create server backup. self.admin_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_member_context, self.project_reader_context, self.project_foo_context ] # Check that non-admin and non-owner is not able to create server # backup. self.admin_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] @mock.patch('nova.compute.api.API.backup') def test_create_backup_policy(self, mock_backup): rule_name = ""os_compute_api:os-create-backup"" body = { 'createBackup': { 'name': 'Backup 1', 'backup_type': 'daily', 'rotation': 1, }, } self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller._create_backup, self.req, self.instance.uuid, body=body) class CreateBackupScopeTypePolicyTest(CreateBackupPolicyTest): """"""Test Create Backup APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(CreateBackupScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,90,28
openstack%2Fkayobe~master~If5230854d7565c8b3c91a46da4795c63edf095e4,openstack/kayobe,master,If5230854d7565c8b3c91a46da4795c63edf095e4,"CentOS 8: Disable ntpd, enable chrony container",MERGED,2020-02-25 16:51:39.000000000,2020-03-06 19:42:47.000000000,2020-03-06 19:39:30.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 16:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a9fe6bf36b97ac69aac6ef992cfc154a89517ee1', 'message': 'CentOS 8: Disable ntpd, enable chrony container\n\nCentOS 8 does not provide an ntp package. Instead fall back to using the\nchrony container provided by Kolla Ansible by default.\n\nChange-Id: If5230854d7565c8b3c91a46da4795c63edf095e4\nStory: 2006574\nTask: 38866\n'}, {'number': 2, 'created': '2020-02-27 11:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d301d0325833e56d2965d6be9936b6fd197a1520', 'message': 'CentOS 8: Disable ntpd, enable chrony container\n\nCentOS 8 does not provide an ntp package. Instead fall back to using the\nchrony container provided by Kolla Ansible by default.\n\nChange-Id: If5230854d7565c8b3c91a46da4795c63edf095e4\nStory: 2006574\nTask: 38866\n'}, {'number': 3, 'created': '2020-02-27 15:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dc8cd9d8a893be6121a846f2b0106f4222489d0e', 'message': 'CentOS 8: Disable ntpd, enable chrony container\n\nCentOS 8 does not provide an ntp package. Instead fall back to using the\nchrony container provided by Kolla Ansible by default.\n\nChange-Id: If5230854d7565c8b3c91a46da4795c63edf095e4\nStory: 2006574\nTask: 38866\n'}, {'number': 4, 'created': '2020-03-05 16:57:03.000000000', 'files': ['releasenotes/notes/centos-8-chrony-bec9d7bc8b346363.yaml', 'ansible/group_vars/all/kolla', 'doc/source/configuration/hosts.rst', 'etc/kayobe/kolla.yml', 'ansible/group_vars/all/ntp', 'etc/kayobe/ntp.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/71d36cbe5e00be6e94ec28fdc1fc28126756e557', 'message': 'CentOS 8: Disable ntpd, enable chrony container\n\nCentOS 8 does not provide an ntp package. Instead fall back to using the\nchrony container provided by Kolla Ansible by default.\n\nDepends-On: https://review.opendev.org/711511\n\nChange-Id: If5230854d7565c8b3c91a46da4795c63edf095e4\nStory: 2006574\nTask: 38866\n'}]",5,709785,71d36cbe5e00be6e94ec28fdc1fc28126756e557,23,4,4,14826,,,0,"CentOS 8: Disable ntpd, enable chrony container

CentOS 8 does not provide an ntp package. Instead fall back to using the
chrony container provided by Kolla Ansible by default.

Depends-On: https://review.opendev.org/711511

Change-Id: If5230854d7565c8b3c91a46da4795c63edf095e4
Story: 2006574
Task: 38866
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/709785/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/centos-8-chrony-bec9d7bc8b346363.yaml', 'ansible/group_vars/all/kolla', 'ansible/ntp.yml', 'doc/source/configuration/hosts.rst', 'etc/kayobe/kolla.yml', 'ansible/group_vars/all/ntp', 'etc/kayobe/ntp.yml']",7,a9fe6bf36b97ac69aac6ef992cfc154a89517ee1,,"# Whether to enable the NTP daemon on the host. On CentOS 7 the default is true # unless 'kolla_enable_chrony' has been set to true on overcloud hosts. On # CentOS 8 the host NTP daemon is not supported, and kolla_enable_chrony is set # to true by default.",# Whether to enable the NTP daemon on the host. Default is true unless # 'kolla_enable_chrony' has been set to true on overcloud hosts.,40,13
openstack%2Fopenstack-helm-images~master~I479845fc88da2e619cfe93866ce1d1421dac05b5,openstack/openstack-helm-images,master,I479845fc88da2e619cfe93866ce1d1421dac05b5,Add Placement image build,MERGED,2020-02-07 15:20:45.000000000,2020-03-06 19:36:41.000000000,2020-03-06 19:26:18.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-07 15:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/556ca7c0f60f678e7fb038499899d3f0da84fcb0', 'message': 'Add Placement image build\n\nThis patch set adds job to build and promote the placement image for the\nOpenStack train release.\n\nChange-Id: I479845fc88da2e619cfe93866ce1d1421dac05b5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-02-21 07:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/960688c70fc9f342af349dc61429e01461d3dace', 'message': 'Add Placement image build\n\nThis patch set adds job to build and promote the placement image for the\nOpenStack train release.\n\nChange-Id: I479845fc88da2e619cfe93866ce1d1421dac05b5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-03-03 18:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9d59217c971654e8005a72ceadfff8342e9a2e7f', 'message': 'Add Placement image build\n\nThis patch set adds job to build and promote the placement image for the\nOpenStack train release.\n\nDepends-On: https://review.opendev.org/#/c/707032/\nChange-Id: I479845fc88da2e619cfe93866ce1d1421dac05b5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-03-04 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/56441a05834ea23c11c404a367a627ccc2a551b5', 'message': 'Add Placement image build\n\nThis patch set adds job to build and promote the placement image for the\nOpenStack train release.\n\nDepends-On: https://review.opendev.org/#/c/707032/\nChange-Id: I479845fc88da2e619cfe93866ce1d1421dac05b5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2020-03-06 14:36:03.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/5f55e42f9249a82a5aa5f34eec9b68ab3b970675', 'message': 'Add Placement image build\n\nThis patch set adds job to build and promote the placement image for the\nOpenStack train release.\n\nDepends-On: https://review.opendev.org/#/c/707032/\nChange-Id: I479845fc88da2e619cfe93866ce1d1421dac05b5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,706542,5f55e42f9249a82a5aa5f34eec9b68ab3b970675,36,5,5,20466,,,0,"Add Placement image build

This patch set adds job to build and promote the placement image for the
OpenStack train release.

Depends-On: https://review.opendev.org/#/c/707032/
Change-Id: I479845fc88da2e619cfe93866ce1d1421dac05b5
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/42/706542/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,556ca7c0f60f678e7fb038499899d3f0da84fcb0,train/placement, - <<: *placement_project,,1,0
openstack%2Fopenstack-ansible-plugins~master~Id5f49f10ff0a9821231d9531c76e73259a51efb7,openstack/openstack-ansible-plugins,master,Id5f49f10ff0a9821231d9531c76e73259a51efb7,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 18:00:04.000000000,2020-03-06 19:24:18.000000000,2020-03-06 19:21:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 18:00:04.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c4f9f17551703f0d0c32a3191802f937d8c9a02b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Id5f49f10ff0a9821231d9531c76e73259a51efb7\n'}]",0,711723,c4f9f17551703f0d0c32a3191802f937d8c9a02b,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Id5f49f10ff0a9821231d9531c76e73259a51efb7
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/23/711723/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,c4f9f17551703f0d0c32a3191802f937d8c9a02b,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-haproxy_server~master~I55491021ce5309aaf72b5653fe32b265e95c6603,openstack/openstack-ansible-haproxy_server,master,I55491021ce5309aaf72b5653fe32b265e95c6603,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:54:04.000000000,2020-03-06 19:20:03.000000000,2020-03-06 19:17:07.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:54:04.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/56c005927ef1c5dc31a5e948a9312a655b3c78ea', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I55491021ce5309aaf72b5653fe32b265e95c6603\n'}]",0,711690,56c005927ef1c5dc31a5e948a9312a655b3c78ea,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I55491021ce5309aaf72b5653fe32b265e95c6603
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/90/711690/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,56c005927ef1c5dc31a5e948a9312a655b3c78ea,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fkeystone~master~I22f3bce647182996dfc06084ee6d4989449e3d2d,openstack/keystone,master,I22f3bce647182996dfc06084ee6d4989449e3d2d,Refactor some ldap code to implement TODOs,MERGED,2020-02-28 19:22:41.000000000,2020-03-06 19:16:36.000000000,2020-03-04 16:24:59.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-28 19:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4799a219965c12d6a146f748d1ad793724aaa637', 'message': 'Refactor some ldap code to implement TODOs\n\nThis implements TODOs added in [1], as promised in [2].\nThe first TODO is realised only partially because most ldap code\nactually relies on having two connections obtained from the pool.\n\nThis optimizes mixin code by removing extra ldap calls.\nThere is no change in the observed behaviour of integration.\n\nThis also removes some duplication and refactors names to avoid\nsome confusion related to dn/object_id.\n\nBackport to: Train, Stein (with [1]&[3]), Rocky (with [1]&[3])\n\n[1] c7fae97d873f72068ca65538ec5b5919c0ac7d5a\n[2] https://review.opendev.org/683303\n[3] 19d4831daa3991bed48fb364fa05927740c96445\n\nChange-Id: I22f3bce647182996dfc06084ee6d4989449e3d2d\n'}, {'number': 2, 'created': '2020-02-28 19:28:02.000000000', 'files': ['keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/test_backend_ldap.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6bb81146ff2126f055834459f428cf97080466f', 'message': 'Refactor some ldap code to implement TODOs\n\nThis implements TODOs added in [1], as promised in [2].\nThe first TODO is realised only partially because most ldap code\nactually relies on having two connections obtained from the pool.\n\nThis optimizes mixin code by removing extra ldap calls.\nThere is no change in the observed behaviour of integration.\n\nThis also removes some duplication and refactors names to avoid\nsome confusion related to dn/object_id.\n\nBackport to: Train, Stein (with [1]&[3]), Rocky (with [1]&[3]),\n             Queens (with [1]&[3])\n\n[1] c7fae97d873f72068ca65538ec5b5919c0ac7d5a\n[2] https://review.opendev.org/683303\n[3] 19d4831daa3991bed48fb364fa05927740c96445\n\nChange-Id: I22f3bce647182996dfc06084ee6d4989449e3d2d\n'}]",0,710511,a6bb81146ff2126f055834459f428cf97080466f,17,7,2,30491,,,0,"Refactor some ldap code to implement TODOs

This implements TODOs added in [1], as promised in [2].
The first TODO is realised only partially because most ldap code
actually relies on having two connections obtained from the pool.

This optimizes mixin code by removing extra ldap calls.
There is no change in the observed behaviour of integration.

This also removes some duplication and refactors names to avoid
some confusion related to dn/object_id.

Backport to: Train, Stein (with [1]&[3]), Rocky (with [1]&[3]),
             Queens (with [1]&[3])

[1] c7fae97d873f72068ca65538ec5b5919c0ac7d5a
[2] https://review.opendev.org/683303
[3] 19d4831daa3991bed48fb364fa05927740c96445

Change-Id: I22f3bce647182996dfc06084ee6d4989449e3d2d
",git fetch https://review.opendev.org/openstack/keystone refs/changes/11/710511/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/test_backend_ldap.py']",2,4799a219965c12d6a146f748d1ad793724aaa637,implement-yoctozepto-ldap-fix-todos," # The filter, which _is_id_enabled is going to build, contains the mixin_impl._is_id_enabled(object_id, conn)"," # The filter that _get_enabled is going to build contains the mixin_impl._get_enabled(object_id, conn)",21,26
openstack%2Fopenstack-helm-infra~master~Ie69cff1a06c58bcfe7be0c501a167f3555775b78,openstack/openstack-helm-infra,master,Ie69cff1a06c58bcfe7be0c501a167f3555775b78,"Revert ""[CEPH] update all ceph daemons startup scripts to support msgr2""",ABANDONED,2020-03-06 15:36:46.000000000,2020-03-06 19:16:29.000000000,,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-06 15:36:46.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl', 'ceph-osd/values.yaml', 'ceph-client/templates/bin/mgr/_start.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-osd/templates/configmap-etc.yaml', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-osd/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-mon/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-provisioners/values.yaml', 'ceph-provisioners/templates/configmap-etc-client.yaml', 'ceph-client/templates/configmap-etc-client.yaml', 'ceph-client/templates/deployment-mds.yaml', 'helm-toolkit/templates/manifests/_ceph-storageclass.tpl', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-rgw/templates/configmap-etc-client.yaml', 'ceph-client/templates/bin/mds/_start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f1b1fc0fb0b405b268d54081c05ddcf8bc0c7a7', 'message': 'Revert ""[CEPH] update all ceph daemons startup scripts to support msgr2""\n\nThis reverts commit 7425e3e5c09e0d8168616461342d93d0f72a3c0d.\n\nChange-Id: Ie69cff1a06c58bcfe7be0c501a167f3555775b78\n'}]",0,711641,9f1b1fc0fb0b405b268d54081c05ddcf8bc0c7a7,7,9,1,21420,,,0,"Revert ""[CEPH] update all ceph daemons startup scripts to support msgr2""

This reverts commit 7425e3e5c09e0d8168616461342d93d0f72a3c0d.

Change-Id: Ie69cff1a06c58bcfe7be0c501a167f3555775b78
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/41/711641/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl', 'ceph-osd/values.yaml', 'ceph-client/templates/bin/mgr/_start.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-osd/templates/configmap-etc.yaml', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-osd/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-mon/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-provisioners/values.yaml', 'ceph-provisioners/templates/configmap-etc-client.yaml', 'ceph-client/templates/configmap-etc-client.yaml', 'ceph-client/templates/deployment-mds.yaml', 'helm-toolkit/templates/manifests/_ceph-storageclass.tpl', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-rgw/templates/configmap-etc-client.yaml', 'ceph-client/templates/bin/mds/_start.sh.tpl']",19,9f1b1fc0fb0b405b268d54081c05ddcf8bc0c7a7,," ENDPOINT=$(kubectl get endpoints ceph-mon -n ${NAMESPACE} -o json | awk -F'""' -v port=${MON_PORT} '/""ip""/{print $4"":""port}' | paste -sd',') if [[ ${ENDPOINT} == """" ]]; then /bin/sh -c -e ""cat ${CEPH_CONF}.template | sed 's/mon_host.*/mon_host = ${ENDPOINT}/g' | tee ${CEPH_CONF}"" || true"," ENDPOINT=$(kubectl get endpoints ceph-mon-discovery -n ${NAMESPACE} -o json | awk -F'""' -v port=${MON_PORT} \ -v version=v1 -v msgr_version=v2 \ -v msgr2_port=${MON_PORT_V2} \ '/""ip""/{print ""[""version"":""$4"":""port""/""0"",""msgr_version"":""$4"":""msgr2_port""/""0""]""}' | paste -sd',') if [[ ""${ENDPOINT}"" == """" ]]; then /bin/sh -c -e ""cat ${CEPH_CONF}.template | sed 's#mon_host.*#mon_host = ${ENDPOINT}#g' | tee ${CEPH_CONF}"" || true",56,61
openstack%2Ftripleo-ansible~master~Ic88ccee05c5a286763661e8cc97e75b13dedba7e,openstack/tripleo-ansible,master,Ic88ccee05c5a286763661e8cc97e75b13dedba7e,Forces root for get_ssh_private_key,MERGED,2020-03-06 13:37:39.000000000,2020-03-06 19:12:15.000000000,2020-03-06 19:12:15.000000000,"[{'_account_id': 6796}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-03-06 13:37:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/get_ssh_private_key.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ccc8fb2e4864bfcb2ba2db63e4cf360c51c46d0d', 'message': 'Forces root for get_ssh_private_key\n\nThe ssh private key is not created by the external tasks so we\nneed to use become: true to make sure external tasks have read\npermissions on the file.\n\nChange-Id: Ic88ccee05c5a286763661e8cc97e75b13dedba7e\nRelated-Bug: 1823229\n'}]",0,711620,ccc8fb2e4864bfcb2ba2db63e4cf360c51c46d0d,11,6,1,6796,,,0,"Forces root for get_ssh_private_key

The ssh private key is not created by the external tasks so we
need to use become: true to make sure external tasks have read
permissions on the file.

Change-Id: Ic88ccee05c5a286763661e8cc97e75b13dedba7e
Related-Bug: 1823229
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/711620/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/get_ssh_private_key.yml'],1,ccc8fb2e4864bfcb2ba2db63e4cf360c51c46d0d,, # needs become to be able to read the ssh private key become: true # needs become to be able to read the ssh private key become: true,,4,0
openstack%2Fopenstack-ansible-nspawn_hosts~master~I6f6cac6b9e03d9de2a09a0143a99b4a3f84f4434,openstack/openstack-ansible-nspawn_hosts,master,I6f6cac6b9e03d9de2a09a0143a99b4a3f84f4434,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:54:40.000000000,2020-03-06 19:08:48.000000000,2020-03-06 19:06:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:54:40.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_hosts/commit/8249924967b69d4eb2225a071676ae1739899082', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6f6cac6b9e03d9de2a09a0143a99b4a3f84f4434\n'}]",0,711694,8249924967b69d4eb2225a071676ae1739899082,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6f6cac6b9e03d9de2a09a0143a99b4a3f84f4434
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_hosts refs/changes/94/711694/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8249924967b69d4eb2225a071676ae1739899082,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fneutron~master~I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1,openstack/neutron,master,I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1,Provide meaningful defaults for OVN/OVS_REPO_NAME,MERGED,2020-02-18 16:22:17.000000000,2020-03-06 19:06:35.000000000,2020-03-06 19:02:10.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-18 16:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f1fa85d1d289de5fa514fdaa3c2777045e3b0f6', 'message': 'Provide meaningful defaults for OVN/OVS_REPO_NAME\n\nIn local dev environments devstack may be configured to clone\na component from a git repo with a working directory, for example:\n$HOME/src/ovn/.git\n\nThe original logic took the the base name without the .git extension\nas the repo name to use - for this path that is the empty string,\nwhich of course did not work.\n\nThis change supplies a meaningful default repo name for cases like this.\n\nChange-Id: I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1\n'}, {'number': 2, 'created': '2020-02-19 11:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01f9975e94df61f3ffb282d14b3552af870645b1', 'message': 'Provide meaningful defaults for OVN/OVS_REPO_NAME\n\nIn local dev environments devstack may be configured to clone\na component from a git repo with a working directory, for example:\n$HOME/src/ovn/.git\n\nThe original logic took the the base name without the .git extension\nas the repo name to use - for this path that is the empty string,\nwhich of course did not work.\n\nThis change supplies a meaningful default repo name for cases like this.\n\nChange-Id: I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1\n'}, {'number': 3, 'created': '2020-02-24 14:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/220264219b23cc37107cd0d27f63ad6e6cc628cf', 'message': 'Provide meaningful defaults for OVN/OVS_REPO_NAME\n\nIn local dev environments devstack may be configured to clone\na component from a git repo with a working directory, for example:\n$HOME/src/ovn/.git\n\nThe original logic took the the base name without the .git extension\nas the repo name to use - for this path that is the empty string,\nwhich of course did not work.\n\nThis change supplies a meaningful default repo name for cases like this.\n\nChange-Id: I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1\n'}, {'number': 4, 'created': '2020-03-03 13:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fab90b093ab41139b9545fc28b21ddab385cf38', 'message': 'Provide meaningful defaults for OVN/OVS_REPO_NAME\n\nIn local dev environments devstack may be configured to clone\na component from a git repo with a working directory, for example:\n$HOME/src/ovn/.git\n\nThe original logic took the the base name without the .git extension\nas the repo name to use - for this path that is the empty string,\nwhich of course did not work.\n\nThis change supplies a meaningful default repo name for cases like this.\n\nChange-Id: I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1\n'}, {'number': 5, 'created': '2020-03-05 09:49:20.000000000', 'files': ['devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/295480c53ccf65c55ff119d54dfef5699522cb1f', 'message': 'Provide meaningful defaults for OVN/OVS_REPO_NAME\n\nIn local dev environments devstack may be configured to clone\na component from a git repo with a working directory, for example:\n$HOME/src/ovn/.git\n\nThe original logic took the the base name without the .git extension\nas the repo name to use - for this path that is the empty string,\nwhich of course did not work.\n\nThis change supplies a meaningful default repo name for cases like this.\n\nChange-Id: I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1\n'}]",0,708443,295480c53ccf65c55ff119d54dfef5699522cb1f,24,6,5,15554,,,0,"Provide meaningful defaults for OVN/OVS_REPO_NAME

In local dev environments devstack may be configured to clone
a component from a git repo with a working directory, for example:
$HOME/src/ovn/.git

The original logic took the the base name without the .git extension
as the repo name to use - for this path that is the empty string,
which of course did not work.

This change supplies a meaningful default repo name for cases like this.

Change-Id: I3a2796f67d7f0634b1f25d44f4fa229d31ef9cc1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/708443/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ovn_agent'],1,1f1fa85d1d289de5fa514fdaa3c2777045e3b0f6,bp/neutron-ovn-merge,OVN_REPO_NAME=${OVN_REPO_NAME:-ovn}OVS_REPO_NAME=${OVS_REPO_NAME:-ovs} local dir=$2 local branch=$3 if [ ! -d $dir ] ; then git_timed clone $repo $dir pushd $dir git_clone $repo $dir $branch clone_repository $OVS_REPO $DEST/$OVS_REPO_NAME $OVS_BRANCH clone_repository $OVN_REPO $DEST/$OVN_REPO_NAME $OVN_BRANCH clone_repository $OVS_REPO $DEST/$OVS_REPO_NAME $OVS_BRANCH, local branch=$2 repo_name=$(basename ${repo} | cut -f1 -d'.') REPO_DIR=$DEST/$repo_name if [ ! -d $REPO_DIR ] ; then git_timed clone $repo $REPO_DIR pushd $REPO_DIR git_clone $repo $REPO_DIR $branch clone_repository $OVS_REPO $OVS_BRANCH clone_repository $OVN_REPO $OVN_BRANCH clone_repository $OVS_REPO $OVS_BRANCH,11,11
openstack%2Fnova~master~Ie00bb6d33eb1860af1e918a5478aa540051263a6,openstack/nova,master,Ie00bb6d33eb1860af1e918a5478aa540051263a6,Name Enums,MERGED,2020-02-19 17:33:26.000000000,2020-03-06 19:05:53.000000000,2020-03-06 19:02:18.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-19 17:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5578d1ffa4a6ff49980a3e08f4c634a4f27c3c7', 'message': 'WIP: Name Enums\n\nalembic 1.4.0 seems to want us to provide a name for all EnumZ.\n\nFor now, this is just seeing whether our tests puke, demanding that we\ndo a migration to make this work.\n\nWIP: Real names. Test. Better commit message. Other things.\n\nDepends-On: https://review.opendev.org/708706\nChange-Id: Ie00bb6d33eb1860af1e918a5478aa540051263a6\n'}, {'number': 2, 'created': '2020-02-21 19:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15c6d26b6212d3c01c43e6bcbef83350d806fdc9', 'message': 'WIP: Name Enums\n\nalembic 1.4.0 seems to want us to provide a name for all EnumZ.\n\nFor now, this is just seeing whether our tests puke, demanding that we\ndo a migration to make this work.\n\nWIP: Real names. Test. Better commit message. Other things.\n\nDepends-On: https://review.opendev.org/708706\nChange-Id: Ie00bb6d33eb1860af1e918a5478aa540051263a6\n'}, {'number': 3, 'created': '2020-02-25 14:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f08903d185052a5d137d5f6f5235be949741845', 'message': 'WIP: Name Enums\n\nalembic 1.4.0 seems to want us to provide a name for all EnumZ.\n\nFor now, this is just seeing whether our tests puke, demanding that we\ndo a migration to make this work.\n\nWIP: Real names. Test. Better commit message. Other things.\n\nDepends-On: https://review.opendev.org/708706\nChange-Id: Ie00bb6d33eb1860af1e918a5478aa540051263a6\n'}, {'number': 4, 'created': '2020-02-25 21:41:10.000000000', 'files': ['nova/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a5506b7d4c6230c5a6cd02d434eb3303c6495f22', 'message': 'Name Enums\n\nalembic 1.4.0 seems to want us to provide a name for all EnumZ.\n\nChange-Id: Ie00bb6d33eb1860af1e918a5478aa540051263a6\n'}]",1,708707,a5506b7d4c6230c5a6cd02d434eb3303c6495f22,59,14,4,14070,,,0,"Name Enums

alembic 1.4.0 seems to want us to provide a name for all EnumZ.

Change-Id: Ie00bb6d33eb1860af1e918a5478aa540051263a6
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/708707/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/models.py'],1,b5578d1ffa4a6ff49980a3e08f4c634a4f27c3c7,name-yer-enums," locked_by = Column(Enum('owner', 'admin', name='does_this_work_1')) 'evacuation', name='does_this_work_2'),"," locked_by = Column(Enum('owner', 'admin')) 'evacuation'),",2,2
openstack%2Fopenstack-ansible-nspawn_container_create~master~I57a0cb1cb94adae82742508b0e2658bce5411ba6,openstack/openstack-ansible-nspawn_container_create,master,I57a0cb1cb94adae82742508b0e2658bce5411ba6,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:54:32.000000000,2020-03-06 19:02:28.000000000,2020-03-06 19:00:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:54:32.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-nspawn_container_create/commit/3d8889bdb7aa0f6412f384006b0dfbb5328cc3bf', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I57a0cb1cb94adae82742508b0e2658bce5411ba6\n'}]",0,711693,3d8889bdb7aa0f6412f384006b0dfbb5328cc3bf,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I57a0cb1cb94adae82742508b0e2658bce5411ba6
",git fetch https://review.opendev.org/openstack/openstack-ansible-nspawn_container_create refs/changes/93/711693/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,3d8889bdb7aa0f6412f384006b0dfbb5328cc3bf,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fcinder-tempest-plugin~master~I7b1d4f58e586653059dabe84ddde949a1f989b45,openstack/cinder-tempest-plugin,master,I7b1d4f58e586653059dabe84ddde949a1f989b45,Ussuri contrib docs community goal,MERGED,2020-03-03 13:43:31.000000000,2020-03-06 19:02:22.000000000,2020-03-06 19:02:22.000000000,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 13:43:31.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/82b3e2df84957d8b2b74059e50732cb5e50a65c0', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file.  This repo\nhas no docs, so this patch completes the goal for the\ncinder-tempest-plugin.\n\nChange-Id: I7b1d4f58e586653059dabe84ddde949a1f989b45\n'}]",0,711010,82b3e2df84957d8b2b74059e50732cb5e50a65c0,6,2,1,5314,,,0,"Ussuri contrib docs community goal

This patch standardizes the CONTRIBUTING.rst file.  This repo
has no docs, so this patch completes the goal for the
cinder-tempest-plugin.

Change-Id: I7b1d4f58e586653059dabe84ddde949a1f989b45
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/10/711010/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,82b3e2df84957d8b2b74059e50732cb5e50a65c0,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/cinder-tempest-plugin Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/cinder-tempest-plugin","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/cinder",8,11
openstack%2Fopenstack-ansible-ops~master~Iff924431ca3c10aff348f90abd67f64a9eb1ce7e,openstack/openstack-ansible-ops,master,Iff924431ca3c10aff348f90abd67f64a9eb1ce7e,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:55:01.000000000,2020-03-06 18:59:48.000000000,2020-03-06 18:58:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:55:01.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/5b255d69f919c55809bd4cf5ea097b01bef14460', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iff924431ca3c10aff348f90abd67f64a9eb1ce7e\n'}]",0,711697,5b255d69f919c55809bd4cf5ea097b01bef14460,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iff924431ca3c10aff348f90abd67f64a9eb1ce7e
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/97/711697/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,5b255d69f919c55809bd4cf5ea097b01bef14460,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Fopenstack-ansible-apt_package_pinning~master~I6ee1088532666ab10cba0d94c3c341577f651581,openstack/openstack-ansible-apt_package_pinning,master,I6ee1088532666ab10cba0d94c3c341577f651581,Updated from OpenStack Ansible Tests,MERGED,2020-03-06 17:53:35.000000000,2020-03-06 18:58:13.000000000,2020-03-06 18:55:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-06 17:53:35.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-apt_package_pinning/commit/0935c5c8dcfab6477078d38885545fc3fa265cd3', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I6ee1088532666ab10cba0d94c3c341577f651581\n'}]",0,711687,0935c5c8dcfab6477078d38885545fc3fa265cd3,7,2,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I6ee1088532666ab10cba0d94c3c341577f651581
",git fetch https://review.opendev.org/openstack/openstack-ansible-apt_package_pinning refs/changes/87/711687/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,0935c5c8dcfab6477078d38885545fc3fa265cd3,openstack/openstack-ansible-tests/sync-tests,, # Required for compressing collected log files in CI gzip,0,3
openstack%2Foslo.serialization~master~I1fadcad8219322b569eeecd81e454a44641e8b1e,openstack/oslo.serialization,master,I1fadcad8219322b569eeecd81e454a44641e8b1e,Drop use of six,MERGED,2020-02-27 15:49:24.000000000,2020-03-06 18:52:37.000000000,2020-03-06 18:50:27.000000000,"[{'_account_id': 6928}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-02-27 15:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/e7045c822a712155b22270d1c0d895257c4a99ce', 'message': 'Drop use of six\n\nAnother one bites the dust.\n\nChange-Id: I1fadcad8219322b569eeecd81e454a44641e8b1e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-03-02 10:10:31.000000000', 'files': ['oslo_serialization/tests/test_jsonutils.py', 'requirements.txt', 'oslo_serialization/jsonutils.py', 'oslo_serialization/base64.py', 'lower-constraints.txt', 'oslo_serialization/tests/test_msgpackutils.py', 'oslo_serialization/msgpackutils.py', 'oslo_serialization/serializer/base_serializer.py'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/ad356ea9c286c3bf3e953aa5b7c0c26766a28ad3', 'message': 'Drop use of six\n\nAnother one bites the dust.\n\nChange-Id: I1fadcad8219322b569eeecd81e454a44641e8b1e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,710300,ad356ea9c286c3bf3e953aa5b7c0c26766a28ad3,14,5,2,15334,,,0,"Drop use of six

Another one bites the dust.

Change-Id: I1fadcad8219322b569eeecd81e454a44641e8b1e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/00/710300/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_serialization/tests/test_jsonutils.py', 'requirements.txt', 'oslo_serialization/jsonutils.py', 'oslo_serialization/base64.py', 'lower-constraints.txt', 'oslo_serialization/tests/test_msgpackutils.py', 'oslo_serialization/msgpackutils.py', 'oslo_serialization/serializer/base_serializer.py']",8,e7045c822a712155b22270d1c0d895257c4a99ce,drop-py27-support," class BaseSerializer(object, metaclass=abc.ABCMeta):",import six @six.add_metaclass(abc.ABCMeta) class BaseSerializer(object):,44,65
openstack%2Foctavia~master~I9a76619e6507ab7e55e49a34308d40f226f2367f,openstack/octavia,master,I9a76619e6507ab7e55e49a34308d40f226f2367f,"Revert ""Improve the error message for bad pkcs12 bundles""",ABANDONED,2020-03-06 18:44:59.000000000,2020-03-06 18:46:04.000000000,,[],"[{'number': 1, 'created': '2020-03-06 18:44:59.000000000', 'files': ['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/a97a22c32fb067404be53628cc917916d9ddb3d0', 'message': 'Revert ""Improve the error message for bad pkcs12 bundles""\n\nThis reverts commit a501714a76e04b33dfb24c4ead9956ed4696d1df.\n\nOn train and stein , with the addition of this change\nhttps://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df\n(and posterior backport to stable releases) isn\'t longer possible to create listeners that\nuse barbican secret containers except for single secrets exported as pkcs12 directly.\n\nBefore that change, any exception raised when trying to to decode the\nPKCS12 bundle would have resulted on falling back to the legacy\nbarbican certificate manager code, which supports secret containers [2],\nwhile with the addition of this line, makes this exception to raise and not falling back to the legacy code anymore.\n\nPlease check the related story.\n\nChange-Id: I9a76619e6507ab7e55e49a34308d40f226f2367f\nStory: 2007371\n'}]",0,711735,a97a22c32fb067404be53628cc917916d9ddb3d0,2,0,1,2276,,,0,"Revert ""Improve the error message for bad pkcs12 bundles""

This reverts commit a501714a76e04b33dfb24c4ead9956ed4696d1df.

On train and stein , with the addition of this change
https://opendev.org/openstack/octavia/commit/a501714a76e04b33dfb24c4ead9956ed4696d1df
(and posterior backport to stable releases) isn't longer possible to create listeners that
use barbican secret containers except for single secrets exported as pkcs12 directly.

Before that change, any exception raised when trying to to decode the
PKCS12 bundle would have resulted on falling back to the legacy
barbican certificate manager code, which supports secret containers [2],
while with the addition of this line, makes this exception to raise and not falling back to the legacy code anymore.

Please check the related story.

Change-Id: I9a76619e6507ab7e55e49a34308d40f226f2367f
Story: 2007371
",git fetch https://review.opendev.org/openstack/octavia refs/changes/35/711735/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/base.py', 'octavia/common/exceptions.py']",5,a97a22c32fb067404be53628cc917916d9ddb3d0,story-2007371,,"class UnreadablePKCS12(APIException): msg = _(""The PKCS12 bundle is unreadable. Please check the PKCS12 bundle "" ""validity. In addition, make sure it does not require a pass "" ""phrase. Error: %(error)s"") code = 400 ",2,33
openstack%2Foslo.limit~master~Ic5c0f747c8d579ce3369635b67cdbf2d134c175d,openstack/oslo.limit,master,Ic5c0f747c8d579ce3369635b67cdbf2d134c175d,Update the minversion parameter.,MERGED,2020-03-03 14:25:53.000000000,2020-03-06 18:40:00.000000000,2020-03-06 18:38:11.000000000,"[{'_account_id': 11904}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-03-03 14:25:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/4a1c93a513d72f4f7e9cdca68f93bc04803a9886', 'message': ""Update the minversion parameter.\n\nUpdate the minversion parameter to use the python -m pip to install\npython packages:\n\nhttps://tox.readthedocs.io/en/latest/changelog.html#id185\n\nIt's recommend to use this. Remove the useless install_command\nparameter.\n\nChange-Id: Ic5c0f747c8d579ce3369635b67cdbf2d134c175d\n""}]",0,711024,4a1c93a513d72f4f7e9cdca68f93bc04803a9886,9,4,1,31245,,,0,"Update the minversion parameter.

Update the minversion parameter to use the python -m pip to install
python packages:

https://tox.readthedocs.io/en/latest/changelog.html#id185

It's recommend to use this. Remove the useless install_command
parameter.

Change-Id: Ic5c0f747c8d579ce3369635b67cdbf2d134c175d
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/24/711024/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4a1c93a513d72f4f7e9cdca68f93bc04803a9886,update_tox_minversion,minversion = 3.2.0,minversion = 3.1.1,1,1
openstack%2Fkolla~master~If968694bfff8c32727d0dc7f157e5b127b61d529,openstack/kolla,master,If968694bfff8c32727d0dc7f157e5b127b61d529,Deprecate neutron-fwaas and neutron-fwaas-dashboard,MERGED,2020-03-05 17:48:05.000000000,2020-03-06 18:35:43.000000000,2020-03-06 18:32:21.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 17:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/55b2b41a0528f0e4bcee5a163842f5ba34534dcc', 'message': 'Deprecate neutron-fwaas and neutron-fwaas-dashboard\n\nChange-Id: If968694bfff8c32727d0dc7f157e5b127b61d529\n'}, {'number': 2, 'created': '2020-03-05 19:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/145002bdb40677f86ad7251348776b662e26b110', 'message': 'Deprecate neutron-fwaas and neutron-fwaas-dashboard\n\nChange-Id: If968694bfff8c32727d0dc7f157e5b127b61d529\n'}, {'number': 3, 'created': '2020-03-05 19:22:12.000000000', 'files': ['releasenotes/notes/deprecate-neutron-fwaas-cb5eb042824aad28.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e447bcfe8c99fead559c9558105abf6e680dd1f', 'message': 'Deprecate neutron-fwaas and neutron-fwaas-dashboard\n\nChange-Id: If968694bfff8c32727d0dc7f157e5b127b61d529\n'}]",1,711522,8e447bcfe8c99fead559c9558105abf6e680dd1f,13,4,3,167,,,0,"Deprecate neutron-fwaas and neutron-fwaas-dashboard

Change-Id: If968694bfff8c32727d0dc7f157e5b127b61d529
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/711522/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-neutron-fwaas-cb5eb042824aad28.yaml'],1,55b2b41a0528f0e4bcee5a163842f5ba34534dcc,deprecate-neutron-fwaas,--- deprecations: - The neutron-fwaas project was deprecated in the Neutron stadium and will be removed from stadium in the W cycle. The neutron-fwaas extension in the Neutron containers is deprecated as of the Ussuri release and will be removed in the future. The neutron-fwaas-dashboard extension in the Horizon container is deprecated as of the Ussuri release and will be removed in the future. ,,12,0
openstack%2Fkolla-ansible~master~I2257dedb21f335666695648bd4bbd725e7b082b3,openstack/kolla-ansible,master,I2257dedb21f335666695648bd4bbd725e7b082b3,Deprecate neutron-fwaas support,MERGED,2020-03-05 17:51:19.000000000,2020-03-06 18:34:58.000000000,2020-03-06 18:32:22.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 17:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94d33758ac110a4cacb52aca79a9c3fb23a0bb3b', 'message': 'Deprecate neutron-fwaas support\n\nChange-Id: I2257dedb21f335666695648bd4bbd725e7b082b3\n'}, {'number': 2, 'created': '2020-03-05 17:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c093b2be192e95160a02208cd562fc862a840902', 'message': 'Deprecate neutron-fwaas support\n\nChange-Id: I2257dedb21f335666695648bd4bbd725e7b082b3\n'}, {'number': 3, 'created': '2020-03-05 17:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4cd4e92f5d10fa83966c9f2a3c590d957cb0039d', 'message': 'Deprecate neutron-fwaas support\n\nChange-Id: I2257dedb21f335666695648bd4bbd725e7b082b3\n'}, {'number': 4, 'created': '2020-03-05 19:21:47.000000000', 'files': ['releasenotes/notes/deprecate-neutron-fwaas-a8c7d1e9d8e563eb.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf774974c0b1d08e64c6afd9ee9d5e6703b73215', 'message': 'Deprecate neutron-fwaas support\n\nChange-Id: I2257dedb21f335666695648bd4bbd725e7b082b3\n'}]",2,711524,bf774974c0b1d08e64c6afd9ee9d5e6703b73215,14,4,4,167,,,0,"Deprecate neutron-fwaas support

Change-Id: I2257dedb21f335666695648bd4bbd725e7b082b3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/711524/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-neutron-fwaas-a8c7d1e9d8e563eb.yaml'],1,94d33758ac110a4cacb52aca79a9c3fb23a0bb3b,deprecate-neutron-fwaas,--- deprecations: - The neutron-fwaas project was deprecated in the Neutron stadium and will be removed from stadium in the W cycle. The support for neutron-fwaas in the Neutron and Horizon roles is deprecated as of the Ussuri release and will be removed in the future. ,,8,0
openstack%2Fkolla~master~I46d567f7ddadf4a40a4af9652248b50b3ac7be80,openstack/kolla,master,I46d567f7ddadf4a40a4af9652248b50b3ac7be80,Clean up collectd dockerfile,MERGED,2020-03-06 07:37:34.000000000,2020-03-06 18:33:56.000000000,2020-03-06 18:32:19.000000000,"[{'_account_id': 4264}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-06 07:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/db2417efa0d2e6f2919cd468e2a2c1a240d80a82', 'message': 'Clean up collectd dockerfile\n\nfor CentOS 7 and CentOS 8.\n\nChange-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80\n'}, {'number': 2, 'created': '2020-03-06 08:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bcb70c09b643f9d21279372f4538dd6dc840f272', 'message': 'Clean up collectd dockerfile\n\nfor CentOS 7 and CentOS 8.\n\nChange-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80\n'}, {'number': 3, 'created': '2020-03-06 08:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f23679ec0643566024a0c90f5e570a224cbfaf0', 'message': 'Clean up collectd dockerfile\n\nfor CentOS 7 and CentOS 8.\n\nChange-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80\n'}, {'number': 4, 'created': '2020-03-06 09:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e17cfa241c7a78a5412229e6ed81e323da52a06', 'message': 'Clean up collectd dockerfile\n\nfor CentOS 7 and CentOS 8.\n\nChange-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80\n'}, {'number': 5, 'created': '2020-03-06 09:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b17bbcd4eee69b33cc640f933a75925a308f4adf', 'message': 'Clean up collectd dockerfile\n\nfor CentOS 7 and CentOS 8.\n\nChange-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80\n'}, {'number': 6, 'created': '2020-03-06 10:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f95e269c74f77092a0f5cc71973bf29a0fda269c', 'message': 'Clean up collectd dockerfile\n\nfor CentOS 7 and CentOS 8.\n\nChange-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80\n'}, {'number': 7, 'created': '2020-03-06 15:08:26.000000000', 'files': ['docker/collectd/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/25cf1daf9747d7887897475eee3a3fd23c605ab7', 'message': 'Clean up collectd dockerfile\n\nfor CentOS 7 and CentOS 8.\n\nChange-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80\n'}]",6,711584,25cf1daf9747d7887897475eee3a3fd23c605ab7,30,5,7,4264,,,0,"Clean up collectd dockerfile

for CentOS 7 and CentOS 8.

Change-Id: I46d567f7ddadf4a40a4af9652248b50b3ac7be80
",git fetch https://review.opendev.org/openstack/kolla refs/changes/84/711584/6 && git format-patch -1 --stdout FETCH_HEAD,['docker/collectd/Dockerfile.j2'],1,db2417efa0d2e6f2919cd468e2a2c1a240d80a82,bp/centos-rhel-8," 'collectd-amqp1', 'collectd-connectivity', 'collectd-hugepages', 'collectd-ovs-events', 'collectd-ovs-stats', 'collectd-procevent', 'collectd-snmp-agent', 'collectd-sysevent', 'collectd-write_prometheus', 'python3-sqlalchemy-collectd'"," 'collectd-write_prometheus' {# TODO(aschultz): there are some missing packages here #} 'collectd-ovs_events', 'collectd-ovs_stats', 'collectd-snmp_agent', 'collectd-amqp1', 'collectd-connectivity', 'collectd-ovs-events', 'collectd-ovs-stats', 'collectd-procevent', 'collectd-snmp-agent', 'collectd-sysevent', 'python-collectd-gnocchi', {% if distro_python_version.startswith('3') %} {# NOTE(aschultz): there are some missing packages here #} {% set collectd_packages = collectd_packages + [ 'collectd-hugepages', ] %} {% else %}",10,19
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0c44db40e1b9a935e7dde115bb0c9affa15c42bf,openstack/tripleo-heat-templates,stable/train,I0c44db40e1b9a935e7dde115bb0c9affa15c42bf,Remove all ignore_errors to avoid confusion when debugging,MERGED,2020-03-06 02:51:44.000000000,2020-03-06 18:17:44.000000000,2020-03-06 18:17:43.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 02:51:44.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'ci/environments/disable-unbound.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/generate-config-tasks.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/851bbb31e0132424694335793fa987dac77199a6', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing\n  with check-mode directories. The file module is resilient enough to\n  not fail if the path is already absent.\n\n- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,\n  ""not ansible_check_mode""; this task is not needed in check mode.\n\n- generate-config-tasks.yaml: Replace ignore_errors by another\n  condition, ""not ansible_check_mode""; this task is not needed in check mode.\n\n- Neutron wrappers: use fail_key: False instead of ignore_errors: True\n  if a key can\'t be found in /etc/passwd.\n\n- All services with service checks: Replace ""ignore_errors: true"" by\n  ""failed_when: false"". Since we don\'t care about whether or not the\n  task returns 0, let\'s just make the task never fail. It will only\n  improve UX when scrawling logs; no more failure will be shown for\n  these tasks.\n\n- Same as above for cibadmin commands, cluster resources show\n  commands and keepalived container restart command; and all other shell\n  or command or yum modules uses where we just don\'t care about their potential\n  failures.\n\n- Aodh/Gnocchi: Add pipefail so the task isn\'t support to fail\n\n- tripleo-packages-baremetal-puppet and undercloud-upgrade: check shell\n  rc instead of ""succeeded"", since the task will always succeed.\n\nChange-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf\n(cherry picked from commit 38bad5283f3d30cb461d7f89ba7a0b3bd0f540d5)\n'}]",0,711576,851bbb31e0132424694335793fa987dac77199a6,7,3,1,3153,,,0,"Remove all ignore_errors to avoid confusion when debugging

- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing
  with check-mode directories. The file module is resilient enough to
  not fail if the path is already absent.

- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,
  ""not ansible_check_mode""; this task is not needed in check mode.

- generate-config-tasks.yaml: Replace ignore_errors by another
  condition, ""not ansible_check_mode""; this task is not needed in check mode.

- Neutron wrappers: use fail_key: False instead of ignore_errors: True
  if a key can't be found in /etc/passwd.

- All services with service checks: Replace ""ignore_errors: true"" by
  ""failed_when: false"". Since we don't care about whether or not the
  task returns 0, let's just make the task never fail. It will only
  improve UX when scrawling logs; no more failure will be shown for
  these tasks.

- Same as above for cibadmin commands, cluster resources show
  commands and keepalived container restart command; and all other shell
  or command or yum modules uses where we just don't care about their potential
  failures.

- Aodh/Gnocchi: Add pipefail so the task isn't support to fail

- tripleo-packages-baremetal-puppet and undercloud-upgrade: check shell
  rc instead of ""succeeded"", since the task will always succeed.

Change-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf
(cherry picked from commit 38bad5283f3d30cb461d7f89ba7a0b3bd0f540d5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/711576/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'ci/environments/disable-unbound.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/generate-config-tasks.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",64,851bbb31e0132424694335793fa987dac77199a6,train/ignore, failed_when: false failed_when: false, ignore_errors: true ignore_errors: true,107,106
openstack%2Fnova~master~I19fa9f2cb762baf5aeb5e9f25465863f9613f6db,openstack/nova,master,I19fa9f2cb762baf5aeb5e9f25465863f9613f6db,Pass the actual target in os-availability-zone policy,MERGED,2020-02-09 03:14:28.000000000,2020-03-06 18:15:10.000000000,2020-03-04 21:00:51.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-09 03:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4578b0d93bafddf04ae13249e0bc4b6ce19449ce', 'message': ""Pass the actual target in os-availability-zone policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for os-availability-zone policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I19fa9f2cb762baf5aeb5e9f25465863f9613f6db\n""}, {'number': 2, 'created': '2020-02-12 20:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e8e1981ccf0d069934a13f61db73faeb3104a40', 'message': ""Pass the actual target in os-availability-zone policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for os-availability-zone policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I19fa9f2cb762baf5aeb5e9f25465863f9613f6db\n""}, {'number': 3, 'created': '2020-02-12 21:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63167c7a45d1d6d78bb1a89e7c6bb13aa22ae82e', 'message': ""Pass the actual target in os-availability-zone policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for os-availability-zone policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I19fa9f2cb762baf5aeb5e9f25465863f9613f6db\n""}, {'number': 4, 'created': '2020-02-12 22:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/797093ef8f7bc8d7231f0d7ca7ff07a84228f1ce', 'message': ""Pass the actual target in os-availability-zone policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for os-availability-zone policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I19fa9f2cb762baf5aeb5e9f25465863f9613f6db\n""}, {'number': 5, 'created': '2020-03-04 09:46:41.000000000', 'files': ['nova/api/openstack/compute/availability_zone.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4892607740b8d8536e7ea66a7202b9cc4fc99b87', 'message': ""Pass the actual target in os-availability-zone policy\n\nCurrently if target is not passed in context.can(),\nit use defauls target which is context.user_id, context.project_id.\nThese defaults target are not useful as it pass the\ncontext's user_id and project_id only which means we tell\noslo policy to verify the context data with context data.\n\nThis commit pass the actual target for os-availability-zone policies\nwhich is empty dict because policy rule is system scoped rather\nthan project, so the token scope check deals with the required\ntarget checking.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I19fa9f2cb762baf5aeb5e9f25465863f9613f6db\n""}]",0,706691,4892607740b8d8536e7ea66a7202b9cc4fc99b87,67,12,5,8556,,,0,"Pass the actual target in os-availability-zone policy

Currently if target is not passed in context.can(),
it use defauls target which is context.user_id, context.project_id.
These defaults target are not useful as it pass the
context's user_id and project_id only which means we tell
oslo policy to verify the context data with context data.

This commit pass the actual target for os-availability-zone policies
which is empty dict because policy rule is system scoped rather
than project, so the token scope check deals with the required
target checking.

Partial implement blueprint policy-defaults-refresh

Change-Id: I19fa9f2cb762baf5aeb5e9f25465863f9613f6db
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/706691/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/availability_zone.py'],1,4578b0d93bafddf04ae13249e0bc4b6ce19449ce,bp/policy-defaults-refresh," context.can(az_policies.POLICY_ROOT % 'list', target={}) context.can(az_policies.POLICY_ROOT % 'detail', target={})", context.can(az_policies.POLICY_ROOT % 'list') context.can(az_policies.POLICY_ROOT % 'detail'),2,2
openstack%2Floci~master~I1023d6b2af4421ed014ba5b7c98e57294c5d46d9,openstack/loci,master,I1023d6b2af4421ed014ba5b7c98e57294c5d46d9,Add support for virtualenv > 20,MERGED,2020-02-10 23:58:34.000000000,2020-03-06 18:02:56.000000000,2020-03-06 18:02:56.000000000,"[{'_account_id': 8064}, {'_account_id': 8863}, {'_account_id': 9373}, {'_account_id': 17068}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29911}]","[{'number': 1, 'created': '2020-02-10 23:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/0aa09b6f41c76edd1106d88af19cff9e2d3b4564', 'message': 'Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n'}, {'number': 2, 'created': '2020-02-11 00:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/673a5a6fe19a7423e2ff35e44a4c022a281551c6', 'message': 'Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n'}, {'number': 3, 'created': '2020-02-11 01:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9149d3601b4e1973ec5f08aedbeaede770d3149e', 'message': 'Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nAlso install setuptools for py2 required for virtualenv >20 as a\nfilelock installation dependency.\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n'}, {'number': 4, 'created': '2020-02-11 01:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/736333efa38b61d42508f395b0bbbd6d99e4131a', 'message': 'Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nAlso setuptools in intermediate venv required for virtualenv >20 as a\nfilelock installation dependency.\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n'}, {'number': 5, 'created': '2020-02-11 02:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6b15afd339fc7962297b7bb23a05d423ee113bc0', 'message': ""Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nAlso move setuptools installation to intermediate venv as it's not installed\nwith pip and required for virtualenv > 20\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n""}, {'number': 6, 'created': '2020-02-11 02:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/004e275dfe21851e698b86b7ebe60c64b6a9129e', 'message': ""Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nAlso move setuptools installation to intermediate venv as it's not installed\nwith pip and required for virtualenv > 20\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n""}, {'number': 7, 'created': '2020-02-24 23:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/666bd5b4333f1f7a757940cab76a482b9034dbdc', 'message': 'Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n'}, {'number': 8, 'created': '2020-02-25 03:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/06d8ebe846dbf9939e498adc24fe9798b229414c', 'message': 'Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n'}, {'number': 9, 'created': '2020-02-25 03:53:35.000000000', 'files': ['scripts/cleanup.sh', 'scripts/setup_pip.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/c94a86c32894f9d43ac008a7079fe7663fce3b80', 'message': 'Add support for virtualenv > 20\n\nVirtualenv > 20 no longer supports --no-site-packages option and does\nnot create no-global-site-packages.txt flag file.\nChanging pyvenv.cfg instead to achieve the same.\n\nChange-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9\n'}]",0,707032,c94a86c32894f9d43ac008a7079fe7663fce3b80,44,9,9,8863,,,0,"Add support for virtualenv > 20

Virtualenv > 20 no longer supports --no-site-packages option and does
not create no-global-site-packages.txt flag file.
Changing pyvenv.cfg instead to achieve the same.

Change-Id: I1023d6b2af4421ed014ba5b7c98e57294c5d46d9
",git fetch https://review.opendev.org/openstack/loci refs/changes/32/707032/8 && git format-patch -1 --stdout FETCH_HEAD,['scripts/cleanup.sh'],1,0aa09b6f41c76edd1106d88af19cff9e2d3b4564,,# Changing this option allows python to use libraries outside of the # virtualenv > 20 if they do not exist inside the venv. This is a requirementsed -i 's/\(include-system-site-packages\).*/\1 = true/g' /var/lib/openstack/lib/pyvenv.cfg,# Removing this file allows python to use libraries outside of the # virtualenv if they do not exist inside the venv. This is a requirementrm /var/lib/openstack/lib/python*/no-global-site-packages.txt,3,3
openstack%2Ftripleo-common~master~I56b76149cff28ca7454f27b0816a4c7604775f31,openstack/tripleo-common,master,I56b76149cff28ca7454f27b0816a4c7604775f31,Move RotateFernetKeysAction functionality to utils,MERGED,2020-03-05 11:11:01.000000000,2020-03-06 18:02:51.000000000,2020-03-06 17:59:13.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 11:11:01.000000000', 'files': ['tripleo_common/tests/utils/test_plan.py', 'tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/utils/plan.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/869f176c6757049edca6ea010746db744e43257b', 'message': 'Move RotateFernetKeysAction functionality to utils\n\nChange-Id: I56b76149cff28ca7454f27b0816a4c7604775f31\n'}]",1,711434,869f176c6757049edca6ea010746db744e43257b,10,4,1,8833,,,0,"Move RotateFernetKeysAction functionality to utils

Change-Id: I56b76149cff28ca7454f27b0816a4c7604775f31
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/34/711434/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_plan.py', 'tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/utils/plan.py', 'tripleo_common/actions/parameters.py']",4,869f176c6757049edca6ea010746db744e43257b,mistral_to_ansible," try: return plan_utils.update_plan_rotate_fernet_keys( swift, self.container) except Exception as err: LOG.exception(six.text_typ(err)) return actions.Result(error=six.text_type(err))"," try: env = plan_utils.get_env(swift, self.container) except swiftexceptions.ClientException as err: err_msg = (""Error retrieving environment for plan %s: %s"" % ( self.container, err)) LOG.exception(err_msg) return actions.Result(error=err_msg) parameter_defaults = env.get('parameter_defaults', {}) passwords = self._get_overriden_passwords(env.get('passwords', {}), parameter_defaults) next_index = self.get_next_index(passwords['KeystoneFernetKeys']) keys_map = self.rotate_keys(passwords['KeystoneFernetKeys'], next_index) max_keys = self.get_max_keys_value(parameter_defaults) keys_map = self.purge_excess_keys(max_keys, keys_map) env['passwords']['KeystoneFernetKeys'] = keys_map try: plan_utils.put_env(swift, env) except swiftexceptions.ClientException as err: err_msg = ""Error uploading to container: %s"" % err LOG.exception(err_msg) return actions.Result(error=err_msg) plan_utils.cache_delete(swift, self.container, ""tripleo.parameters.get"") return keys_map @staticmethod def get_key_index_from_path(path): return int(path[path.rfind('/') + 1:]) def get_next_index(self, keys_map): return self.get_key_index_from_path( max(keys_map, key=self.get_key_index_from_path)) + 1 def get_key_path(self, index): return password_utils.KEYSTONE_FERNET_REPO + str(index) def rotate_keys(self, keys_map, next_index): next_index_path = self.get_key_path(next_index) zero_index_path = self.get_key_path(0) # promote staged key to be new primary keys_map[next_index_path] = keys_map[zero_index_path] # Set new staged key keys_map[zero_index_path] = { 'content': password_utils.create_keystone_credential()} return keys_map def get_max_keys_value(self, parameter_defaults): # The number of max keys should always be positive. The minimum amount # of keys is 3. return max(parameter_defaults.get('KeystoneFernetMaxActiveKeys', 5), 3) def purge_excess_keys(self, max_keys, keys_map): current_repo_size = len(keys_map) if current_repo_size <= max_keys: return keys_map key_paths = sorted(keys_map.keys(), key=self.get_key_index_from_path) keys_to_be_purged = current_repo_size - max_keys for key_path in key_paths[1:keys_to_be_purged + 1]: del keys_map[key_path] return keys_map",171,160
openstack%2Ftripleo-common~master~Id2387df5f00f8af5a8b2b139da3a06632ba2f815,openstack/tripleo-common,master,Id2387df5f00f8af5a8b2b139da3a06632ba2f815,Remove package_update workbook,MERGED,2020-03-02 09:38:52.000000000,2020-03-06 18:00:31.000000000,2020-03-06 17:57:47.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-02 09:38:52.000000000', 'files': ['workbooks/package_update.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f7217d23dc009a36588140a7af89ccf425fd543d', 'message': 'Remove package_update workbook\n\nRemoves the unused workbook.\n\nChange-Id: Id2387df5f00f8af5a8b2b139da3a06632ba2f815\n'}]",0,710728,f7217d23dc009a36588140a7af89ccf425fd543d,16,7,1,8833,,,0,"Remove package_update workbook

Removes the unused workbook.

Change-Id: Id2387df5f00f8af5a8b2b139da3a06632ba2f815
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/710728/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/package_update.yaml'],1,f7217d23dc009a36588140a7af89ccf425fd543d,mistral_to_ansible,,"--- version: '2.0' name: tripleo.package_update.v1 description: TripleO update workflows workflows: get_config: input: - container - queue_name: tripleo tags: - tripleo-common-managed tasks: get_config: action: tripleo.config.get_overcloud_config input: container: <% $.container %> container_config: <% $.container %>-config publish: status: SUCCESS message: <% task().result %> publish-on-error: status: FAILED message: Init Minor update failed on-complete: send_message send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> get_key: description: Get private ssh key stored in Mistral input: - queue_name: tripleo tags: - tripleo-common-managed tasks: get_private_key: action: tripleo.validations.get_privkey publish: private_key: <% task().result %> on-success: send_message send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.private_key %> execution: <% execution() %> update_nodes: description: Take a container and perform an update nodes by nodes input: - container: overcloud - node_user: tripleo-admin - nodes - playbook - inventory_file - ansible_queue_name: tripleo - module_path: /usr/share/ansible-modules - ansible_extra_env_variables: ANSIBLE_LOG_PATH: /var/log/mistral/package_update.log ANSIBLE_HOST_KEY_CHECKING: 'False' - verbosity: 1 - work_dir: /var/lib/mistral - tags: '' - skip_tags: '' - extra_vars: '' - config_download_args: [] tags: - tripleo-common-managed tasks: download_config: action: tripleo.config.download_config input: work_dir: <% $.work_dir %>/<% execution().id %> container_config: <% $.container %>-config on-success: get_private_key on-error: node_update_failed get_private_key: action: tripleo.validations.get_privkey publish: private_key: <% task().result %> on-success: node_update node_update: action: tripleo.ansible-playbook input: inventory: <% $.inventory_file %> playbook: <% $.work_dir %>/<% execution().id %>/<% $.playbook %> remote_user: <% $.node_user %> become: true become_user: root verbosity: <% $.verbosity %> ssh_private_key: <% $.private_key %> extra_env_variables: <% $.ansible_extra_env_variables %> limit_hosts: <% $.nodes %> module_path: <% $.module_path %> queue_name: <% $.ansible_queue_name %> reproduce_command: true execution_id: <% execution().id %> work_dir: <% $.work_dir %>/<% execution().id %> tags: <% $.tags %> skip_tags: <% $.skip_tags %> extra_vars: <% $.extra_vars %> trash_output: true on-success: - node_update_passed: <% task().result.returncode = 0 %> - node_update_failed: <% task().result.returncode != 0 %> on-error: node_update_failed publish-on-error: status: FAILED message: Ansible failed, check log at <% $.work_dir %>/<% execution().id %>/ansible.log. publish: log_path: <% task().result.get('log_path') %> node_update_passed: on-success: send_message publish: status: SUCCESS message: Updated nodes - <% $.nodes %> node_update_failed: on-success: send_message publish: status: FAILED message: Ansible failed, check log at <% $.get('work_dir') %>/<% execution().id %>/ansible.log. send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.ansible_queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> update_converge_plan: description: Take a container and perform the converge for minor update input: - container - queue_name: tripleo tags: - tripleo-common-managed tasks: remove_noop: action: tripleo.plan.remove_noop_deploystep input: container: <% $.container %> on-success: send_message on-error: set_update_failed set_update_failed: on-success: send_message publish: status: FAILED message: <% task(remove_noop).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> converge_upgrade_plan: description: Take a container and perform the converge step of a major upgrade input: - container - timeout: 240 - queue_name: tripleo - skip_deploy_identifier: False tags: - tripleo-common-managed tasks: remove_noop: action: tripleo.plan.remove_noop_deploystep input: container: <% $.container %> on-success: send_message on-error: set_update_failed set_update_failed: on-success: send_message publish: status: FAILED message: <% task(upgrade_converge).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> ffwd_upgrade_converge_plan: description: ffwd-upgrade converge removes DeploymentSteps no-op from plan input: - container - queue_name: tripleo tags: - tripleo-common-managed tasks: remove_noop: action: tripleo.plan.remove_noop_deploystep input: container: <% $.container %> on-success: send_message on-error: set_update_failed set_update_failed: on-success: send_message publish: status: FAILED message: <% task(remove_noop).result %> send_message: workflow: tripleo.messaging.v1.send input: queue_name: <% $.queue_name %> type: <% execution().name %> status: <% $.get('status', 'SUCCESS') %> message: <% $.get('message', '') %> execution: <% execution() %> ",0,254
openstack%2Fopenstack-ansible-tests~master~I0c07bc46f5b9a519232620f2d79d6a894f317921,openstack/openstack-ansible-tests,master,I0c07bc46f5b9a519232620f2d79d6a894f317921,Pin version of tox used for Centos-7 tests,MERGED,2020-03-03 13:52:10.000000000,2020-03-06 17:55:25.000000000,2020-03-06 17:53:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-03-03 13:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b9e9ecc816501259f7e25715a8760ecb0037bf93', 'message': 'Pin version of tox used for Centos-7 tests\n\nTox has virtalenv as a dependancy and will install it using pip during\ntox installation if a suitable version is not present.\n\nThis patch pins the version of tox to one which is compatible with the\nversion of virtualenv in the centos-7 python-virtualenv distro package.\n\nWithout this patch, tests which include the openstack_hosts role\nwill install the python-virtualenv distro package on top of the pip\nintalled virtualenv form the tox install, and this results in a broken\npackage and the test fails.\n\nChange-Id: I0c07bc46f5b9a519232620f2d79d6a894f317921\n'}, {'number': 2, 'created': '2020-03-03 13:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c84ed9b953f05a051ea13be17218849bc5297313', 'message': 'Pin version of tox used for Centos-7 tests\n\nTox has virtalenv as a dependancy and will install it using pip during\ntox installation if a suitable version is not present.\n\nThis patch pins the version of tox to one which is compatible with the\nversion of virtualenv in the centos-7 python-virtualenv distro package.\n\nWithout this patch, tests which include the openstack_hosts role\nwill install the python-virtualenv distro package on top of the pip\nintalled virtualenv form the tox install, and this results in a broken\npackage and the test fails.\n\nChange-Id: I0c07bc46f5b9a519232620f2d79d6a894f317921\n'}, {'number': 3, 'created': '2020-03-03 18:16:17.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/220b4ecac2770a54d790b24c358e090641b8b6fe', 'message': 'Pin version of tox used for Centos-7 tests\n\nTox has virtalenv as a dependancy and will install it using pip during\ntox installation if a suitable version is not present.\n\nThis patch pins the version of tox to one which is compatible with the\nversion of virtualenv in the centos-7 python-virtualenv distro package.\n\nWithout this patch, tests which include the openstack_hosts role\nwill install the python-virtualenv distro package on top of the pip\nintalled virtualenv from the tox install, and this results in a broken\npackage and the test fails.\n\nChange-Id: I0c07bc46f5b9a519232620f2d79d6a894f317921\n'}]",0,711015,220b4ecac2770a54d790b24c358e090641b8b6fe,19,4,3,25023,,,0,"Pin version of tox used for Centos-7 tests

Tox has virtalenv as a dependancy and will install it using pip during
tox installation if a suitable version is not present.

This patch pins the version of tox to one which is compatible with the
version of virtualenv in the centos-7 python-virtualenv distro package.

Without this patch, tests which include the openstack_hosts role
will install the python-virtualenv distro package on top of the pip
intalled virtualenv from the tox install, and this results in a broken
package and the test fails.

Change-Id: I0c07bc46f5b9a519232620f2d79d6a894f317921
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/15/711015/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,b9e9ecc816501259f7e25715a8760ecb0037bf93,," # NOTE(jrosser) on centos7 we ensure that the distro version of virtualenv is present to avoid # tox later installing virtualenv as a dependancy with pip, and breaking later tests with # openstack_hosts which correctly install the virtualenv-python distro package [[ ""${VERSION_ID}"" == ""7"" ]] && extra_redhat_deps=""python-virtualenv"" pkg_list=""python-devel redhat-lsb-core yum-utils ${extra_redhat_deps:-}""if [[ ""${ID,,}"" == ""centos"" ]] && [[ ${VERSION_ID} == ""7"" ]]; then sudo pip install 'bindep>=2.4.0' 'tox<=3.14.0' else sudo pip install 'bindep>=2.4.0' tox fi"," pkg_list=""python-devel redhat-lsb-core yum-utils""sudo pip install 'bindep>=2.4.0' tox",10,2
openstack%2Fnova~master~Icdf6302b332ccf23f36c4106c194af71877f2813,openstack/nova,master,Icdf6302b332ccf23f36c4106c194af71877f2813,Remove old policy enforcement in attach_interfaces,MERGED,2020-01-30 22:40:42.000000000,2020-03-06 17:53:12.000000000,2020-03-06 11:49:53.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-30 22:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b19b502367d1e2a9fe49b8936ae08940f67ee91c', 'message': ""Remove old policy enforcement in attach_interfaces\n\nos-attach-interfaces API policy for create and delete\nhave been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6\nand old rule enforcement were kept to support the old deployement.\n\nIt's been 3.5 years and we did not remove the old rule from\nthese two APIs.\n\nThis commit removes the old rule enforcement.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142\n\nChange-Id: Icdf6302b332ccf23f36c4106c194af71877f2813\n""}, {'number': 2, 'created': '2020-01-31 02:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f4ad0ca7a56fcde1877b421aad289770f90e7e6', 'message': ""Remove old policy enforcement in attach_interfaces\n\nos-attach-interfaces API policy for create and delete\nhave been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6\nand old rule enforcement were kept to support the old deployement.\n\nIt's been 3.5 years and we did not remove the old rule from\nthese two APIs.\n\nThis commit removes the old rule enforcement.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142\n\nChange-Id: Icdf6302b332ccf23f36c4106c194af71877f2813\n""}, {'number': 3, 'created': '2020-01-31 15:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/654f41a550787431a134c67c642304a70bbfda64', 'message': ""Remove old policy enforcement in attach_interfaces\n\nos-attach-interfaces API policy for create and delete\nhave been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6\nand old rule enforcement were kept to support the old deployement.\n\nIt's been 3.5 years and we did not remove the old rule from\nthese two APIs.\n\nThis commit removes the old rule enforcement.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142\n\nChange-Id: Icdf6302b332ccf23f36c4106c194af71877f2813\n""}, {'number': 4, 'created': '2020-02-03 19:39:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7476a238cfb02928d69b8b38f5edec6695f72c4f', 'message': ""Remove old policy enforcement in attach_interfaces\n\nos-attach-interfaces API policy for create and delete\nhave been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6\nand old rule enforcement were kept to support the old deployement.\n\nIt's been 3.5 years and we did not remove the old rule from\nthese two APIs.\n\nThis commit removes the old rule enforcement.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142\n\nChange-Id: Icdf6302b332ccf23f36c4106c194af71877f2813\n""}, {'number': 5, 'created': '2020-02-05 22:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f98698aacf57a3d65cb70822979eebd031176786', 'message': ""Remove old policy enforcement in attach_interfaces\n\nos-attach-interfaces API policy for create and delete\nhave been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6\nand old rule enforcement were kept to support the old deployement.\n\nIt's been 3.5 years and we did not remove the old rule from\nthese two APIs.\n\nThis commit removes the old rule enforcement.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142\n\nChange-Id: Icdf6302b332ccf23f36c4106c194af71877f2813\n""}, {'number': 6, 'created': '2020-03-02 10:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db1a4b64daf6697f795e04f676c35e3111b218d3', 'message': ""Remove old policy enforcement in attach_interfaces\n\nos-attach-interfaces API policy for create and delete\nhave been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6\nand old rule enforcement were kept to support the old deployement.\n\nIt's been 3.5 years and we did not remove the old rule from\nthese two APIs.\n\nThis commit removes the old rule enforcement.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142\n\nChange-Id: Icdf6302b332ccf23f36c4106c194af71877f2813\n""}, {'number': 7, 'created': '2020-03-04 09:49:39.000000000', 'files': ['nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/55e16ea11fc1dafacae5ac8b404909ff705aa9da', 'message': ""Remove old policy enforcement in attach_interfaces\n\nos-attach-interfaces API policy for create and delete\nhave been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6\nand old rule enforcement were kept to support the old deployement.\n\nIt's been 3.5 years and we did not remove the old rule from\nthese two APIs.\n\nThis commit removes the old rule enforcement.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142\n\nChange-Id: Icdf6302b332ccf23f36c4106c194af71877f2813\n""}]",1,705127,55e16ea11fc1dafacae5ac8b404909ff705aa9da,73,12,7,8556,,,0,"Remove old policy enforcement in attach_interfaces

os-attach-interfaces API policy for create and delete
have been granular in Icf1f0dd12920a2c6126e52a548f3fa4636b431d6
and old rule enforcement were kept to support the old deployement.

It's been 3.5 years and we did not remove the old rule from
these two APIs.

This commit removes the old rule enforcement.

Partial implement blueprint policy-defaults-refresh

[1] https://github.com/openstack/nova/blob/c16315165ce307c605cf4b608b2df3aa06f46982/nova/api/openstack/compute/attach_interfaces.py#L142

Change-Id: Icdf6302b332ccf23f36c4106c194af71877f2813
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/705127/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/attach_interfaces.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py']",2,b19b502367d1e2a9fe49b8936ae08940f67ee91c,bp/policy-defaults-refresh," rule_name = ""os_compute_api:os-attach-interfaces:create"" ""Policy doesn't allow %s to be performed."" % rule_name, rule_name = ""os_compute_api:os-attach-interfaces:delete"" ""Policy doesn't allow %s to be performed."" % rule_name,"," ""Policy doesn't allow %s to be performed."" % self.rule_name, ""Policy doesn't allow %s to be performed."" % self.rule_name, def test_attach_interfaces_create_policy_failed(self): self.policy.set_rules({self.rule_name: ""@"", 'os_compute_api:os-attach-interfaces:create': ""!""}) exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller.create, self.req, fakes.FAKE_UUID, body={}) self.assertEqual( ""Policy doesn't allow os_compute_api:os-attach-interfaces:create "" ""to be performed."", exc.format_message()) def test_attach_interfaces_delete_policy_failed(self): self.policy.set_rules({self.rule_name: ""@"", 'os_compute_api:os-attach-interfaces:delete': ""!""}) exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller.delete, self.req, fakes.FAKE_UUID, FAKE_PORT_ID1) self.assertEqual( ""Policy doesn't allow os_compute_api:os-attach-interfaces:delete "" ""to be performed."", exc.format_message())",4,26
openstack%2Fopenstack-ansible-tests~master~I8738b28eb4f0fef314c751f67c7f361641128544,openstack/openstack-ansible-tests,master,I8738b28eb4f0fef314c751f67c7f361641128544,Do not compress log files before uploading,MERGED,2020-03-03 21:27:10.000000000,2020-03-06 17:50:24.000000000,2020-03-06 17:48:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-03-03 21:27:10.000000000', 'files': ['test-log-collect.sh', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/df7fed2c56b13713b6e6f9cf08239fc43c97a674', 'message': 'Do not compress log files before uploading\n\nLog file compression is now not supported in the zuul log viewer.\n\nChange-Id: I8738b28eb4f0fef314c751f67c7f361641128544\n'}]",0,711110,df7fed2c56b13713b6e6f9cf08239fc43c97a674,16,4,1,25023,,,0,"Do not compress log files before uploading

Log file compression is now not supported in the zuul log viewer.

Change-Id: I8738b28eb4f0fef314c751f67c7f361641128544
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/10/711110/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'test-log-collect.sh']",2,df7fed2c56b13713b6e6f9cf08239fc43c97a674,,,"function compress_files { # We use 'command' to ensure that we're not executing with an alias. GZIP_CMD=""command gzip --force --best"" find_files |\ while read filename; do \ ${GZIP_CMD} ${filename} || echo ""WARNING: Could not gzip ${filename}""; \ done } # Compress the files gathered so that they do not take up too much space. compress_files ",0,15
openstack%2Fkolla~stable%2Ftrain~I9032e43bffa3a3de6c33a4ab59f65bafb0129dd5,openstack/kolla,stable/train,I9032e43bffa3a3de6c33a4ab59f65bafb0129dd5,Adapt fetch-fernet-tokens script to Python 3,MERGED,2020-01-14 08:31:20.000000000,2020-03-06 17:47:34.000000000,2020-01-14 12:38:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-14 08:31:20.000000000', 'files': ['releasenotes/notes/bug-1859047-d41762357da8ae0b.yaml', 'docker/keystone/keystone-fernet/fetch_fernet_tokens.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/902f16cb1a8efc44da8669a6707d93d47160ae9d', 'message': 'Adapt fetch-fernet-tokens script to Python 3\n\nBackport: train\nCloses-Bug: #1859047\nChange-Id: I9032e43bffa3a3de6c33a4ab59f65bafb0129dd5\n'}]",0,702370,902f16cb1a8efc44da8669a6707d93d47160ae9d,10,4,1,22629,,,0,"Adapt fetch-fernet-tokens script to Python 3

Backport: train
Closes-Bug: #1859047
Change-Id: I9032e43bffa3a3de6c33a4ab59f65bafb0129dd5
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/702370/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1859047-d41762357da8ae0b.yaml', 'docker/keystone/keystone-fernet/fetch_fernet_tokens.py']",2,902f16cb1a8efc44da8669a6707d93d47160ae9d,fetch_fernet_python3-stable/train," _, _, files = next(os.walk(TOKEN_PATH))"," _, _, files = os.walk(TOKEN_PATH).next()",7,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia7e96808eec933c834251b1364f331c196789159,openstack/tripleo-heat-templates,stable/train,Ia7e96808eec933c834251b1364f331c196789159,Remove comment about tripleo_container_manage being experimental,MERGED,2020-03-05 23:20:59.000000000,2020-03-06 17:47:21.000000000,2020-03-06 17:47:21.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 23:20:59.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8687f5f2a42ebbc7c590dcd62d41088f1242167d', 'message': ""Remove comment about tripleo_container_manage being experimental\n\nWe now have solid testing and have several gating jobs which test this\nfunctionality, we can remove the comment that says it's experimental.\n\nChange-Id: Ia7e96808eec933c834251b1364f331c196789159\n(cherry picked from commit 83e56a4bbe96b5fdc7b73d9c63572c670b70b6fe)\n""}]",0,711563,8687f5f2a42ebbc7c590dcd62d41088f1242167d,7,3,1,3153,,,0,"Remove comment about tripleo_container_manage being experimental

We now have solid testing and have several gating jobs which test this
functionality, we can remove the comment that says it's experimental.

Change-Id: Ia7e96808eec933c834251b1364f331c196789159
(cherry picked from commit 83e56a4bbe96b5fdc7b73d9c63572c670b70b6fe)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/711563/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,8687f5f2a42ebbc7c590dcd62d41088f1242167d,experi-stable/train,," # This is experimental, do not use for production now",0,1
openstack%2Fpython-manilaclient~master~Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916,openstack/python-manilaclient,master,Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916,Implement OSC share access rules commands,MERGED,2020-01-16 17:08:47.000000000,2020-03-06 17:35:05.000000000,2020-03-06 17:30:43.000000000,"[{'_account_id': 6413}, {'_account_id': 18058}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 31213}]","[{'number': 1, 'created': '2020-01-16 17:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/77d5cd7af1a79b94890875cfb1a0034f1b721663', 'message': 'Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n'}, {'number': 2, 'created': '2020-01-19 14:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ab76e7ff6ba600ef7740aa498ce280cf70c22e9f', 'message': 'Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n'}, {'number': 3, 'created': '2020-01-20 09:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a1f8efaf979403b102b71f4f9efb2c4889ec0fcc', 'message': 'Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n'}, {'number': 4, 'created': '2020-01-20 09:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/fb205cea14431257385aef2c913a92cdf0819c99', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}, {'number': 5, 'created': '2020-01-22 13:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/4a55d27e9f2450de1fca2f643ef5c1464422310e', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}, {'number': 6, 'created': '2020-01-24 08:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/07f675efcaab336b28dc7077b2b89dc6804bcf17', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}, {'number': 7, 'created': '2020-01-30 19:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/87404a7bf0a541dcd1ef14a19e45cf48cd62f872', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}, {'number': 8, 'created': '2020-02-06 16:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/774ca0546782da058a2403eaace92b7f8fa5ef4e', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}, {'number': 9, 'created': '2020-02-24 08:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1c24b8b5f597b4c3dd041e548e120f1bf5501ccd', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}, {'number': 10, 'created': '2020-02-25 15:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/049fab305d3cd2cce39cb7314f41c76fc4ffe731', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}, {'number': 11, 'created': '2020-03-03 02:10:28.000000000', 'files': ['manilaclient/osc/v2/share_access_rules.py', 'manilaclient/osc/utils.py', 'manilaclient/tests/unit/osc/v2/fakes.py', 'manilaclient/tests/unit/osc/v2/test_share_access_rules.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/9fc3723de89518ff06e457edd4579093686a6410', 'message': ""Implement OSC share access rules commands\n\nIn this patch we add openstack commands for:\nshare access create\nshare access delete\nshare access list\nshare access show\nshare access set\nshare access unset\n\nThese commands can be used to replace all 'manila access-...' commands.\n'manila access-metadata' is replaced by:\n'openstack share access set --property <key=value>' and\n'openstack share access unset --property <key>'\n\nChange-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916\nPartially-implements: bp openstack-client-support\n""}]",8,702924,9fc3723de89518ff06e457edd4579093686a6410,48,6,11,31213,,,0,"Implement OSC share access rules commands

In this patch we add openstack commands for:
share access create
share access delete
share access list
share access show
share access set
share access unset

These commands can be used to replace all 'manila access-...' commands.
'manila access-metadata' is replaced by:
'openstack share access set --property <key=value>' and
'openstack share access unset --property <key>'

Change-Id: Id2bd92bcb629905c7db12951d6e4ebe2d5b4d916
Partially-implements: bp openstack-client-support
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/24/702924/9 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/osc/v2/share_access_rules.py', 'setup.cfg', 'manilaclient/tests/osc/unit/v2/test_share_access_rules.py', 'manilaclient/tests/osc/unit/v2/fakes.py']",4,77d5cd7af1a79b94890875cfb1a0034f1b721663,bp/openstack-client-support,"import datetimefrom manilaclient import api_versions self.share_access_rules = mock.Mock() self.api_version = api_versions.APIVersion('2.51') def create_one_share(attrs=None, methods=None): methods = methods or {} methods=methods, class FakeShareAccessRule(object): """"""Fake one or more share access rules"""""" @staticmethod def create_one_access_rule(attrs=None): """"""Create a fake share access rule :param Dictionary attrs: A dictionary with all attributes :return: A FakeResource object, with project_id, resource and so on """""" attrs = attrs or {} share_access_rule = { 'id': 'access_rule-id-' + uuid.uuid4().hex, 'share_id': 'share-id-' + uuid.uuid4().hex, 'access_level': 'rw', 'access_to': 'demo', 'access_type': 'user', 'state': 'queued_to_apply', 'access_key': None, 'created_at': datetime.datetime.now().isoformat(), 'updated_at': None, 'properties': {} } share_access_rule.update(attrs) share_access_rule = osc_fakes.FakeResource(info=copy.deepcopy( share_access_rule), loaded=True) return share_access_rule", def create_one_share(attrs=None):,546,1
openstack%2Ftripleo-heat-templates~master~I47506181c38b9363b9c82c536e7c9d7d765f093f,openstack/tripleo-heat-templates,master,I47506181c38b9363b9c82c536e7c9d7d765f093f,Update the number of keystone workers,MERGED,2020-03-05 20:35:21.000000000,2020-03-06 17:32:39.000000000,2020-03-06 17:32:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9954}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 20:35:21.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c728bde8457f6571c48f9c51827e6049ab4278f', 'message': ""Update the number of keystone workers\n\nWe recently patched puppet-keystone and puppet-openstacklib to set\nKeystoneWorkers to a reasonable default given the consolidation of two\nkeystone processes into a single keystone process (keystone-main and\nkeystone-admin):\n\n  https://review.opendev.org/#/c/702031/13\n  https://review.opendev.org/#/c/705041/3\n\nThis patch updates THT to ensure we're using the new variable that's\ndedicated to keystone's process count.\n\nThis ensures there isn't a performance regression due to reduced process\ncounts when upgrading to newer OpenStack versions because the keystone\napplications were consolidated in puppet-keystone.\n\nChange-Id: I47506181c38b9363b9c82c536e7c9d7d765f093f\n""}]",0,711549,8c728bde8457f6571c48f9c51827e6049ab4278f,8,5,1,5046,,,0,"Update the number of keystone workers

We recently patched puppet-keystone and puppet-openstacklib to set
KeystoneWorkers to a reasonable default given the consolidation of two
keystone processes into a single keystone process (keystone-main and
keystone-admin):

  https://review.opendev.org/#/c/702031/13
  https://review.opendev.org/#/c/705041/3

This patch updates THT to ensure we're using the new variable that's
dedicated to keystone's process count.

This ensures there isn't a performance regression due to reduced process
counts when upgrading to newer OpenStack versions because the keystone
applications were consolidated in puppet-keystone.

Change-Id: I47506181c38b9363b9c82c536e7c9d7d765f093f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/711549/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,8c728bde8457f6571c48f9c51827e6049ab4278f,, default: '%{::os_workers_keystone}', default: '%{::os_workers}',1,1
openstack%2Fpython-brick-cinderclient-ext~master~I3e66bc36b22bcae65e5f3363b49fe9fa455758a7,openstack/python-brick-cinderclient-ext,master,I3e66bc36b22bcae65e5f3363b49fe9fa455758a7,Ussuri contrib docs community goal,MERGED,2020-03-03 13:43:26.000000000,2020-03-06 17:26:40.000000000,2020-03-06 17:24:18.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 13:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/1b909ee03cca75bb7e5ffe231725e82bda859bc1', 'message': 'WIP: ussuri contrib docs community goal\n\nThere are 2 changes in progress:\n1. standardize the CONTRIBUTING.rst file\n2. standardize the location and content of\n   doc/source/contributor/contributing.rst\n\nChange-Id: I3e66bc36b22bcae65e5f3363b49fe9fa455758a7\nNote: The URL for #2 on the current patch may point nowhere.\n'}, {'number': 2, 'created': '2020-03-05 14:54:25.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/3d331c37e2e76d2333862366d982b7e0432dadc5', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds\ndoc/source/contributor/contributing.rst\n\nChange-Id: I3e66bc36b22bcae65e5f3363b49fe9fa455758a7\n'}]",0,711009,3d331c37e2e76d2333862366d982b7e0432dadc5,9,2,2,5314,,,0,"Ussuri contrib docs community goal

This patch standardizes the CONTRIBUTING.rst file and adds
doc/source/contributor/contributing.rst

Change-Id: I3e66bc36b22bcae65e5f3363b49fe9fa455758a7
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/09/711009/2 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,1b909ee03cca75bb7e5ffe231725e82bda859bc1,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/python-brick-cinderclient-ext Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/python-cinderclient .. note:: When creating a bug, please tag it with 'brick-cinderclient-ext'. To create a tag, select the 'Extra options' after filling in the bug description and type **brick-cinderclient-ext** in the 'Tags' text box. For more specific information about contributing to this repository, see the python-brick-cinderclient-ext contributor guide: https://docs.openstack.org/python-brick-cinderclient-ext/latest/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/brick-python-cinderclient-ext",19,11
openstack%2Freleases~master~Ic61ffe7f53b9bbaf6658379425089e29a8c45f68,openstack/releases,master,Ic61ffe7f53b9bbaf6658379425089e29a8c45f68,Release virtualbmc 2.0.0 (independent),MERGED,2020-03-06 11:16:46.000000000,2020-03-06 17:17:01.000000000,2020-03-06 17:17:01.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 11:16:46.000000000', 'files': ['deliverables/_independent/virtualbmc.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f79d5d35b25237f07c7cbe1f239723a5abfcb111', 'message': 'Release virtualbmc 2.0.0 (independent)\n\nChange-Id: Ic61ffe7f53b9bbaf6658379425089e29a8c45f68\n'}]",0,711606,f79d5d35b25237f07c7cbe1f239723a5abfcb111,7,2,1,14826,,,0,"Release virtualbmc 2.0.0 (independent)

Change-Id: Ic61ffe7f53b9bbaf6658379425089e29a8c45f68
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/711606/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/virtualbmc.yaml'],1,f79d5d35b25237f07c7cbe1f239723a5abfcb111,, - version: 2.0.0 projects: - hash: 9742c042084d87c755e6d2e2d9df6e88e3bf1790 repo: openstack/virtualbmc,,4,0
openstack%2Fneutron-tempest-plugin~master~I9743bb950c434d8e0504492158a8bf3a305df401,openstack/neutron-tempest-plugin,master,I9743bb950c434d8e0504492158a8bf3a305df401,Rocky jobs will now be run with same version of plugin,MERGED,2020-03-03 11:05:03.000000000,2020-03-06 17:09:17.000000000,2020-03-06 17:09:17.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2020-03-03 11:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1351c048f263cc6cea55d3c6cabdb922fc6f7e9f', 'message': 'Rocky jobs will now be run with same version of plugin\n\nAs was agreed during Shanghai PTG neutron-tempest-plugin jobs for the\nbranch which is going to EM phase should always use tagged version of\ntempest and tempest-plugin and should be removed from\ncheck/gate queues for patches to master branch.\n\nChange-Id: I9743bb950c434d8e0504492158a8bf3a305df401\n'}, {'number': 2, 'created': '2020-03-05 10:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e9107c4e7272c713b7a97bce000040d3838b7ba7', 'message': 'Rocky jobs will now be run with same version of plugin\n\nAs was agreed during Shanghai PTG neutron-tempest-plugin jobs for the\nbranch which is going to EM phase should always use tagged version of\ntempest and tempest-plugin and should be removed from\ncheck/gate queues for patches to master branch.\n\nChange-Id: I9743bb950c434d8e0504492158a8bf3a305df401\n'}, {'number': 3, 'created': '2020-03-05 13:15:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/abe828d1ba7bceb53e302ae7fc2bff726792cb8f', 'message': 'Rocky jobs will now be run with same version of plugin\n\nAs was agreed during Shanghai PTG neutron-tempest-plugin jobs for the\nbranch which is going to EM phase should always use tagged version of\ntempest and tempest-plugin and should be removed from\ncheck/gate queues for patches to master branch.\n\nAlso skip two tests added for newer branches and unstable on rocky:\nneutron_tempest_plugin.scenario.test_port_forwardings.PortForwardingTestJSON.test_port_forwarding_to_2_servers\nneutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_portrange_remote\n\nChange-Id: I9743bb950c434d8e0504492158a8bf3a305df401\n'}]",4,710974,abe828d1ba7bceb53e302ae7fc2bff726792cb8f,21,6,3,11975,,,0,"Rocky jobs will now be run with same version of plugin

As was agreed during Shanghai PTG neutron-tempest-plugin jobs for the
branch which is going to EM phase should always use tagged version of
tempest and tempest-plugin and should be removed from
check/gate queues for patches to master branch.

Also skip two tests added for newer branches and unstable on rocky:
neutron_tempest_plugin.scenario.test_port_forwardings.PortForwardingTestJSON.test_port_forwarding_to_2_servers
neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_portrange_remote

Change-Id: I9743bb950c434d8e0504492158a8bf3a305df401
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/74/710974/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1351c048f263cc6cea55d3c6cabdb922fc6f7e9f,heads/rocky-em, required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 required-projects: - openstack/devstack-gate - openstack/neutron - name: openstack/neutron-tempest-plugin override-checkout: 0.9.0 - openstack/tempest, - openstack/neutron-tempest-plugin # TODO(slaweq): bring rocky jobs back when dropping py27 # drama will be finally over # - neutron-tempest-plugin-jobs-rocky,68,4
openstack%2Fkolla-ansible~master~I5e4d20d112db2392b55a0788f4d704ab6ca6112f,openstack/kolla-ansible,master,I5e4d20d112db2392b55a0788f4d704ab6ca6112f,Remove enable_cadf_notifications variable,MERGED,2020-03-03 18:54:28.000000000,2020-03-06 17:07:21.000000000,2020-03-06 17:03:15.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 18:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf5dd20b14e526df70a1f5cda2c5f4163cf91c4e', 'message': 'Remove enable_cadf_notifications variable\n\nThe variable enable_cadf_notifications is deprecated and marked\nfor removal during the U cycle.\n\nChange-Id: I5e4d20d112db2392b55a0788f4d704ab6ca6112f\n'}, {'number': 2, 'created': '2020-03-05 12:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bd5346c70c1ff22ce7c154b62c93869e4c7414f', 'message': 'Remove enable_cadf_notifications variable\n\nThe variable enable_cadf_notifications is deprecated and marked\nfor removal during the U cycle.\n\nChange-Id: I5e4d20d112db2392b55a0788f4d704ab6ca6112f\n'}, {'number': 3, 'created': '2020-03-06 13:40:43.000000000', 'files': ['releasenotes/notes/remove-enable-cadf-notifications-variable-5af76a972725f202.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/77a1d2793805cce89ed7b17268159b67e2a05285', 'message': 'Remove enable_cadf_notifications variable\n\nThe variable enable_cadf_notifications is deprecated and marked\nfor removal during the U cycle.\n\nChange-Id: I5e4d20d112db2392b55a0788f4d704ab6ca6112f\n'}]",0,711086,77a1d2793805cce89ed7b17268159b67e2a05285,15,3,3,167,,,0,"Remove enable_cadf_notifications variable

The variable enable_cadf_notifications is deprecated and marked
for removal during the U cycle.

Change-Id: I5e4d20d112db2392b55a0788f4d704ab6ca6112f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/711086/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-enable-cadf-notifications-variable-5af76a972725f202.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/defaults/main.yml', 'etc/kolla/globals.yml']",4,cf5dd20b14e526df70a1f5cda2c5f4163cf91c4e,remove-enable_cadf_notifications,,"# NOTE: This variable has been deprecated and will be removed in the U cycle. #enable_cadf_notifications: ""no""",8,5
openstack%2Fkayobe~master~I640873c11ceae5008030dc03984c089a410a0cee,openstack/kayobe,master,I640873c11ceae5008030dc03984c089a410a0cee,Skip resmo.ntp role if ntp_service_enabled is false,MERGED,2020-03-05 16:47:54.000000000,2020-03-06 17:07:13.000000000,2020-03-06 17:01:14.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 16:47:54.000000000', 'files': ['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/35e50bb6b8f149d9edac6718121407b08ff402d8', 'message': 'Skip resmo.ntp role if ntp_service_enabled is false\n\nWe enable ntpd by default, and provide a variable to disable it -\nntp_service_enabled. It is also automatically disabled if the user\nenables the chrony container (kolla_enable_chrony).\n\nHowever, setting ntp_service_enabled to false will cause the host\nconfigure commands to fail due to a bug in the resmo.ntp role. This is\nbecause it tries to configure the ntpd service in systemd, but it will\nnot exist so the task fails.\n\nThis change fixes the issue by skipping the resmo.ntp role if the NTP\nservice is disabled.\n\nChange-Id: I640873c11ceae5008030dc03984c089a410a0cee\nStory: 2007384\nTask: 38968\n'}]",0,711511,35e50bb6b8f149d9edac6718121407b08ff402d8,14,4,1,14826,,,0,"Skip resmo.ntp role if ntp_service_enabled is false

We enable ntpd by default, and provide a variable to disable it -
ntp_service_enabled. It is also automatically disabled if the user
enables the chrony container (kolla_enable_chrony).

However, setting ntp_service_enabled to false will cause the host
configure commands to fail due to a bug in the resmo.ntp role. This is
because it tries to configure the ntpd service in systemd, but it will
not exist so the task fails.

This change fixes the issue by skipping the resmo.ntp role if the NTP
service is disabled.

Change-Id: I640873c11ceae5008030dc03984c089a410a0cee
Story: 2007384
Task: 38968
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/11/711511/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/ntp.yml', 'releasenotes/notes/skip-ntp-if-disabled-585c756f01b34bfa.yaml']",2,35e50bb6b8f149d9edac6718121407b08ff402d8,,--- fixes: - | Fixes an issue where host configuration would fail if ``ntp_service_enabled`` is set to ``false`` or ``kolla_enable_chrony`` is set to ``true``. See `story 2007384 <https://storyboard.openstack.org/#!/story/2007384>`__ for details. ,,12,0
openstack%2Fkolla-ansible~stable%2Fstein~I8bd3d42a5e3bd0f63336ed60a0af90d52b1650d6,openstack/kolla-ansible,stable/stein,I8bd3d42a5e3bd0f63336ed60a0af90d52b1650d6,Use more permissive regex to remove the offending 127.0.1.1,MERGED,2020-02-26 19:55:18.000000000,2020-03-06 17:06:31.000000000,2020-02-27 21:26:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-26 19:55:18.000000000', 'files': ['releasenotes/notes/bug-1862739-05246e7599375800.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ac158d19f5d0b5085b8c2fb2ba17cebd164f6582', 'message': ""Use more permissive regex to remove the offending 127.0.1.1\n\nline from /etc/hosts\n\nUbuntu always uses 127.0.1.1 for that with some tricky sauce\naround `hostname` depending on whether it contains '.' or not.\nAnd when I mean `hostname` it's the one returned by `hostname`\ncommand with no arguments.\n\nansible_hostname is always a single word so we can match on that.\n\nI did not want to remove just any 127.0.1.1 in case someone\nis using it for other purposes. :-)\n\nChange-Id: I8bd3d42a5e3bd0f63336ed60a0af90d52b1650d6\nCloses-bug: #1862739\n(cherry picked from commit adbe115e39ef2320e2e1ab57f97d5191282951d7)\n""}]",0,710127,ac158d19f5d0b5085b8c2fb2ba17cebd164f6582,10,3,1,30523,,,0,"Use more permissive regex to remove the offending 127.0.1.1

line from /etc/hosts

Ubuntu always uses 127.0.1.1 for that with some tricky sauce
around `hostname` depending on whether it contains '.' or not.
And when I mean `hostname` it's the one returned by `hostname`
command with no arguments.

ansible_hostname is always a single word so we can match on that.

I did not want to remove just any 127.0.1.1 in case someone
is using it for other purposes. :-)

Change-Id: I8bd3d42a5e3bd0f63336ed60a0af90d52b1650d6
Closes-bug: #1862739
(cherry picked from commit adbe115e39ef2320e2e1ab57f97d5191282951d7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/27/710127/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1862739-05246e7599375800.yaml', 'ansible/roles/baremetal/tasks/pre-install.yml']",2,ac158d19f5d0b5085b8c2fb2ba17cebd164f6582,bug/1862739-stable/train-stable/stein,"# NOTE(mgoddard): Ubuntu may include a line in /etc/hosts that makes the local # hostname and fqdn point to 127.0.1.1. This can break# Remove the troublesome entry. # see https://bugs.launchpad.net/kolla-ansible/+bug/1837699 # and https://bugs.launchpad.net/kolla-ansible/+bug/1862739 - name: Ensure hostname does not point to 127.0.1.1 in /etc/hosts regexp: ""^127.0.1.1\\b.*\\s{{ ansible_hostname }}\\b""","# NOTE(mgoddard): Ubuntu includes a line in /etc/hosts that makes the local # hostname and nodename (if different) point to 127.0.1.1. This can break# Remove these troublesome entries. - name: Ensure hostname does not point to loopback in /etc/hosts regexp: ""^127.\\d+.\\d+.\\d+(\\s+{{ ansible_nodename }})?\\s+{{ ansible_hostname }}$""",14,5
openstack%2Fpython-cinderclient~master~I892e49f96573b77b46bd8847a5d2ac8254e8e5e1,openstack/python-cinderclient,master,I892e49f96573b77b46bd8847a5d2ac8254e8e5e1,Ussuri contrib docs community goal,MERGED,2020-03-03 13:43:21.000000000,2020-03-06 16:57:26.000000000,2020-03-06 16:54:59.000000000,"[{'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-03-03 13:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f619bc7b95902db09ae307cf48403d23a1a24476', 'message': 'WIP: ussuri contrib docs community goal\n\nThere are 2 changes in progress:\n1. standardize the CONTRIBUTING.rst file\n2. standardize the location and content of\n   doc/source/contributor/contributing.rst\n\nChange-Id: I892e49f96573b77b46bd8847a5d2ac8254e8e5e1\nNote: The URL for #2 on the current patch may point nowhere.\n'}, {'number': 2, 'created': '2020-03-05 14:32:07.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/9191d76450c0d80400a08e730a8f54f826e23022', 'message': 'Ussuri contrib docs community goal\n\nThis patch standardizes the CONTRIBUTING.rst file and adds\ndoc/source/contributor/contributing.rst\n\nChange-Id: I892e49f96573b77b46bd8847a5d2ac8254e8e5e1\n'}]",0,711008,9191d76450c0d80400a08e730a8f54f826e23022,9,2,2,5314,,,0,"Ussuri contrib docs community goal

This patch standardizes the CONTRIBUTING.rst file and adds
doc/source/contributor/contributing.rst

Change-Id: I892e49f96573b77b46bd8847a5d2ac8254e8e5e1
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/08/711008/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,f619bc7b95902db09ae307cf48403d23a1a24476,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/python-cinderclient Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Launchpad: https://bugs.launchpad.net/python-cinderclient For more specific information about contributing to this repository, see the cinderclient contributor guide: https://docs.openstack.org/python-cinderclient/latest/contributor/contributing.html","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: https://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: https://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not in GitHub's issue tracker: https://bugs.launchpad.net/python-cinderclient",13,10
openstack%2Ftripleo-ansible~master~Iec83c9a3510ef000272dae446346996242cadc8c,openstack/tripleo-ansible,master,Iec83c9a3510ef000272dae446346996242cadc8c,Roll role-addition jobs to python3 (centos-8),MERGED,2020-03-06 00:40:37.000000000,2020-03-06 16:56:32.000000000,2020-03-06 16:52:13.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 00:40:37.000000000', 'files': ['zuul.d/molecule.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae7cda8bbf4416989013403298d34b3a84ff5307', 'message': 'Roll role-addition jobs to python3 (centos-8)\n\nThis change moves our role-addition jobs to using centos-8 because\npre-commit has dropped support for python2 as noted here [0]. Due\nto this dropped support, the role-addition job needs to be executed\non a system that has access to py3.\n\n[0] https://github.com/ansible/ansible-lint/issues/683#issuecomment-592084930\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Iec83c9a3510ef000272dae446346996242cadc8c\n'}]",0,711568,ae7cda8bbf4416989013403298d34b3a84ff5307,9,4,1,7353,,,0,"Roll role-addition jobs to python3 (centos-8)

This change moves our role-addition jobs to using centos-8 because
pre-commit has dropped support for python2 as noted here [0]. Due
to this dropped support, the role-addition job needs to be executed
on a system that has access to py3.

[0] https://github.com/ansible/ansible-lint/issues/683#issuecomment-592084930
Signed-off-by: Kevin Carter <kecarter@redhat.com>

Change-Id: Iec83c9a3510ef000272dae446346996242cadc8c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/711568/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tox.ini']",2,ae7cda8bbf4416989013403298d34b3a84ff5307,,basepython = python3,,5,4
openstack%2Fkolla-ansible~stable%2Ftrain~I4f553bd0888e200ddf744604c5029e67a95ee2cd,openstack/kolla-ansible,stable/train,I4f553bd0888e200ddf744604c5029e67a95ee2cd,Fix Prometheus mysqld exporter pointing to VIP address,MERGED,2020-03-01 14:08:15.000000000,2020-03-06 16:56:30.000000000,2020-03-02 12:18:23.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-03-01 14:08:15.000000000', 'files': ['releasenotes/notes/bug-1863041-30d87a768339251b.yaml', 'ansible/roles/prometheus/templates/my.cnf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aea4b7cc0b328d40847df8af3584e6224c4e5c66', 'message': 'Fix Prometheus mysqld exporter pointing to VIP address\n\nChange-Id: I4f553bd0888e200ddf744604c5029e67a95ee2cd\nCloses-bug: #1863041\n(cherry picked from commit 410fcc6363ca91e715472ab69c6a4383bdaefa77)\n'}]",0,710646,aea4b7cc0b328d40847df8af3584e6224c4e5c66,9,4,1,30491,,,0,"Fix Prometheus mysqld exporter pointing to VIP address

Change-Id: I4f553bd0888e200ddf744604c5029e67a95ee2cd
Closes-bug: #1863041
(cherry picked from commit 410fcc6363ca91e715472ab69c6a4383bdaefa77)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/710646/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1863041-30d87a768339251b.yaml', 'ansible/roles/prometheus/templates/my.cnf.j2']",2,aea4b7cc0b328d40847df8af3584e6224c4e5c66,bug/1863041-stable/train,host={{ api_interface_address }} port={{ mariadb_port }},host={{ database_address }} port={{ database_port }},8,2
openstack%2Ftripleo-upgrade~stable%2Fqueens~I43d61398cf140ba6c84f521e2f646b55a9db3968,openstack/tripleo-upgrade,stable/queens,I43d61398cf140ba6c84f521e2f646b55a9db3968,Remove obsolete |succeeded filter from tasks,MERGED,2020-03-06 09:45:41.000000000,2020-03-06 16:54:18.000000000,2020-03-06 16:54:18.000000000,"[{'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 09:45:41.000000000', 'files': ['tasks/common/convert_cli_opts_params.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'templates/fast-forward-upgrade/cli_opts_params.yaml.j2', 'tasks/common/convert_ceph_params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/192d6d8cd2629d538cf3cbd1e4e0919ff1b973b8', 'message': 'Remove obsolete |succeeded filter from tasks\n\n\nCloses-Bug: #1860797\nChange-Id: I43d61398cf140ba6c84f521e2f646b55a9db3968\n(cherry picked from commit 14789b640d4eea853b87245359ffa6bf146c5d30)\n(cherry picked from commit 717a28a3040fd2f5d4d371b2ff0a8be6455d09ff)\n(cherry picked from commit 97397f7cea37141a4d21a1017cfbbabb75d3d984)\n'}]",0,711598,192d6d8cd2629d538cf3cbd1e4e0919ff1b973b8,7,8,1,26343,,,0,"Remove obsolete |succeeded filter from tasks


Closes-Bug: #1860797
Change-Id: I43d61398cf140ba6c84f521e2f646b55a9db3968
(cherry picked from commit 14789b640d4eea853b87245359ffa6bf146c5d30)
(cherry picked from commit 717a28a3040fd2f5d4d371b2ff0a8be6455d09ff)
(cherry picked from commit 97397f7cea37141a4d21a1017cfbbabb75d3d984)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/98/711598/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_cli_opts_params.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'templates/fast-forward-upgrade/cli_opts_params.yaml.j2', 'tasks/common/convert_ceph_params.yaml']",4,192d6d8cd2629d538cf3cbd1e4e0919ff1b973b8,, when: ceph_ansible is succeeded and not ceph_osd_adjusted.stat.exists, when: ceph_ansible|succeeded and not ceph_osd_adjusted.stat.exists,23,23
openstack%2Ftripleo-heat-templates~master~I888bb421eaa6b82ebac57a5420fc60fc4744840a,openstack/tripleo-heat-templates,master,I888bb421eaa6b82ebac57a5420fc60fc4744840a,Add the certificate specs in ceph_mgr service,MERGED,2020-01-16 11:08:55.000000000,2020-03-06 16:54:15.000000000,2020-03-06 16:54:14.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-01-16 11:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d262ca94072db796874191accf007884cc5bd2f', 'message': '[WIP] Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 2, 'created': '2020-01-16 11:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8535586b0fba6239e7b40116569739cb72b1a570', 'message': '[WIP] Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 3, 'created': '2020-01-17 15:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b64346aff69868e020c87bd34e62d41ce4ede96', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 4, 'created': '2020-01-30 12:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10d0a3faf5561fc0ff5caa0f69126b90ca37fa5d', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 5, 'created': '2020-01-30 13:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95a679244408a84a2422fe41acf4664af5d2a006', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 6, 'created': '2020-01-31 08:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf00c4ef9b9e21e67833d4aa58c1edd170328723', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 7, 'created': '2020-01-31 10:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6267f63f353bae8af86c44267c3d478042561524', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nDepends-On: https://review.opendev.org/#/c/702839\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 8, 'created': '2020-02-14 14:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c9736a4696e07c2f6c47a679bbbf9e92295aa85', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\nThis patch also introduces the dashboard_frontend_vip\nvariable to properly set the grafana_api_url on the ceph\nmgr for ha purposes.\n\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 9, 'created': '2020-02-14 14:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11af6b254777bbed299612bab31dcf30aebbce0d', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 10, 'created': '2020-02-14 20:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d54c16143c7d9e07dd0242389bac1cf57da9eb4', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 11, 'created': '2020-03-02 09:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8a34452d70fa9559920d29a91e7c81e29402853', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 12, 'created': '2020-03-02 09:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e89178b7ba9d0412f2dd7a207c3b55b39d373e7c', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 13, 'created': '2020-03-04 15:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0abcd05b5cca1b64cad6b1e59c0967ff100ab536', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}, {'number': 14, 'created': '2020-03-05 06:55:14.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'network/service_net_map.j2.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3d66f618246f84f343f1eeee58d2869fccce390', 'message': 'Add the certificate specs in ceph_mgr service\n\nIn order to meet the tls cert request requirements, this\nchange adds the tht config and metadata settings when\nthe ceph dashboard is enabled.\n\nChange-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a\n'}]",8,702846,d3d66f618246f84f343f1eeee58d2869fccce390,76,9,14,25402,,,0,"Add the certificate specs in ceph_mgr service

In order to meet the tls cert request requirements, this
change adds the tht config and metadata settings when
the ceph dashboard is enabled.

Change-Id: I888bb421eaa6b82ebac57a5420fc60fc4744840a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/702846/9 && git format-patch -1 --stdout FETCH_HEAD,"['network/service_net_map.j2.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml']",2,5d262ca94072db796874191accf007884cc5bd2f,," description: Admin user for the dashboard component description: Admin password for the dashboard component EnableInternalTLS: type: boolean default: false internal_tls_enabled: {equals: [{get_param: EnableInternalTLS}, true]} dashboard_port: 8444 ceph_ansible_group_vars_mgrs: if: - internal_tls_enabled - yaql: data: default: map_merge: - {get_attr: [CephMgrAnsibleVars, value, vars]} certmap: dashboard_crt: '/etc/pki/tls/certs/ceph_dashboard.crt' dashboard_key: '/etc/pki/tls/private/ceph_dashboard.key' expression: $.data.default.mergeWith($.data.certmap) - {get_attr: [CephMgrAnsibleVars, value, vars]} config_settings: map_merge: - if: - internal_tls_enabled - generate_service_certificates: true ceph_dashboard_certificate_specs: service_certificate: '/etc/pki/tls/certs/ceph_dashboard.crt' service_key: '/etc/pki/tls/private/ceph_dashboard.key' hostname: str_replace: template: ""%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, CephDashboardNetwork]} principal: str_replace: template: ""ceph_mgr/%{hiera('fqdn_NETWORK')}"" params: NETWORK: {get_param: [ServiceNetMap, CephDashboardNetwork]} postsave_cmd: ""/usr/bin/certmonger-dashboard-refresh.sh"" - {} metadata_settings: if: - internal_tls_enabled - - service: ceph_mgr network: {get_param: [ServiceNetMap, CephDashboardNetwork]} type: node - null"," description: Admin user for grafana component description: Admin password for grafana component ceph_ansible_group_vars_mgrs: {get_attr: [CephMgrAnsibleVars, value, vars]}",50,3
openstack%2Fneutron-vpnaas~master~I493e854c2d21d1d29e3f85d1dd73aefbb6c87e10,openstack/neutron-vpnaas,master,I493e854c2d21d1d29e3f85d1dd73aefbb6c87e10,Migrate neutron-vpnaas-dsvm-rally job to the zuul v3 syntax,MERGED,2020-02-02 10:00:15.000000000,2020-03-06 16:49:04.000000000,2020-03-06 16:45:28.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15905}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-02 10:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ae0146acbbdc2a56b215484c46ababf7eb9e4d7b', 'message': ""Migrate neutron-vpnaas-dsvm-rally job to the zuul v3 syntax\n\nIt also renames job's name to neutron-vpnaas-rally.\n\nChange-Id: I493e854c2d21d1d29e3f85d1dd73aefbb6c87e10\n""}, {'number': 2, 'created': '2020-02-27 11:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/e6c44a9c00b2b61bb9a63360cad2db362e6151a6', 'message': ""Migrate neutron-vpnaas-dsvm-rally job to the zuul v3 syntax\n\nIt also renames job's name to neutron-vpnaas-rally.\n\nChange-Id: I493e854c2d21d1d29e3f85d1dd73aefbb6c87e10\n""}, {'number': 3, 'created': '2020-03-02 21:29:47.000000000', 'files': ['playbooks/legacy/neutron-vpnaas-dsvm-rally/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-vpnaas-dsvm-rally/post.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/547ce67459816fb844c15153753bc18a8b9b1275', 'message': ""Migrate neutron-vpnaas-dsvm-rally job to the zuul v3 syntax\n\nIt also renames job's name to neutron-vpnaas-rally.\n\nChange-Id: I493e854c2d21d1d29e3f85d1dd73aefbb6c87e10\n""}]",5,705352,547ce67459816fb844c15153753bc18a8b9b1275,30,7,3,11975,,,0,"Migrate neutron-vpnaas-dsvm-rally job to the zuul v3 syntax

It also renames job's name to neutron-vpnaas-rally.

Change-Id: I493e854c2d21d1d29e3f85d1dd73aefbb6c87e10
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/52/705352/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-vpnaas-dsvm-rally/run.yaml', '.zuul.yaml', 'playbooks/legacy/neutron-vpnaas-dsvm-rally/post.yaml']",3,ae0146acbbdc2a56b215484c46ababf7eb9e4d7b,migrate-to-zuul-v3,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/rally-plot/** - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/rally-plot/extra/index.html - --include=*/ - --exclude=* - --prune-empty-dirs ,9,174
openstack%2Fcharm-designate-bind~master~I10df42ac5243df0bd2bcf145a345694c7047663f,openstack/charm-designate-bind,master,I10df42ac5243df0bd2bcf145a345694c7047663f,Update charm build requirements,MERGED,2020-03-03 08:54:54.000000000,2020-03-06 16:31:37.000000000,2020-03-06 16:31:37.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:54:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/e04dae376b2e127a4fd0978a1c60b21c09b5987a', 'message': 'Update charm build requirements\n\nChange-Id: I10df42ac5243df0bd2bcf145a345694c7047663f\n'}]",0,710935,e04dae376b2e127a4fd0978a1c60b21c09b5987a,13,3,1,13686,,,0,"Update charm build requirements

Change-Id: I10df42ac5243df0bd2bcf145a345694c7047663f
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/35/710935/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e04dae376b2e127a4fd0978a1c60b21c09b5987a,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fos-vif~master~I2c06c2f7dc89e7ee1f3f23352484976e14ffc383,openstack/os-vif,master,I2c06c2f7dc89e7ee1f3f23352484976e14ffc383,WIP: Testing CI,ABANDONED,2019-10-06 14:13:31.000000000,2020-03-06 16:16:11.000000000,,"[{'_account_id': 9732}, {'_account_id': 14807}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 14:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7c2ce05c06a98c901d29afbe340cce88ab756aa5', 'message': 'WIP: Testing CI\n\nChange-Id: I2c06c2f7dc89e7ee1f3f23352484976e14ffc383\n'}, {'number': 2, 'created': '2019-11-03 15:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/c42ca60406bd34e66afebf41cbb3d71cf5bb5931', 'message': 'WIP: Testing CI\n\nChange-Id: I2c06c2f7dc89e7ee1f3f23352484976e14ffc383\n'}, {'number': 3, 'created': '2020-01-29 14:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e7ce0bf62f9972721e51ecfd415c042c3161a946', 'message': 'WIP: Testing CI\n\nChange-Id: I2c06c2f7dc89e7ee1f3f23352484976e14ffc383\n'}, {'number': 4, 'created': '2020-03-03 06:11:31.000000000', 'files': ['vif_plug_ovs/ovs.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/a529ca9d6c52670487fe96a774984b400943e9cd', 'message': 'WIP: Testing CI\n\nChange-Id: I2c06c2f7dc89e7ee1f3f23352484976e14ffc383\n'}]",0,686937,a529ca9d6c52670487fe96a774984b400943e9cd,30,3,4,14807,,,0,"WIP: Testing CI

Change-Id: I2c06c2f7dc89e7ee1f3f23352484976e14ffc383
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/37/686937/1 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/ovs.py'],1,7c2ce05c06a98c901d29afbe340cce88ab756aa5,,# Copyright 2019 OpenStack Foundation,# Copyright 2011 OpenStack Foundation,1,1
openstack%2Fnova~master~I5961b4814062795f91b490cf660880b49b1d7c51,openstack/nova,master,I5961b4814062795f91b490cf660880b49b1d7c51,[Do not Merge] test Arm64 CI,ABANDONED,2020-02-18 03:11:21.000000000,2020-03-06 16:16:06.000000000,,"[{'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-18 03:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57be528a96c87215a0f66f0815d55f802ab7580e', 'message': '[Do not Merge] test Arm64 CI\n\nChange-Id: I5961b4814062795f91b490cf660880b49b1d7c51\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 2, 'created': '2020-02-18 07:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00c56200c5231e67cff19401bb4947d5d2627039', 'message': '[Do not Merge] test Arm64 CI\n\nChange-Id: I5961b4814062795f91b490cf660880b49b1d7c51\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,708293,00c56200c5231e67cff19401bb4947d5d2627039,19,7,2,22076,,,0,"[Do not Merge] test Arm64 CI

Change-Id: I5961b4814062795f91b490cf660880b49b1d7c51
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/708293/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,57be528a96c87215a0f66f0815d55f802ab7580e,, # already in the node pool. , # already in the node pool.,1,1
openstack%2Fnova~master~Iaa2f1ad5bf14f48c2a4b23f29dd456b0dfbc5848,openstack/nova,master,Iaa2f1ad5bf14f48c2a4b23f29dd456b0dfbc5848,[Do not Merge] test Arm64 CI,ABANDONED,2020-02-18 03:17:26.000000000,2020-03-06 16:15:59.000000000,,"[{'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-18 03:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd1b3c996d4cd00f5979b2986b3496b81f168cad', 'message': '[Do not Merge] test Arm64 CI\n\nChange-Id: Iaa2f1ad5bf14f48c2a4b23f29dd456b0dfbc5848\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}, {'number': 2, 'created': '2020-02-18 07:50:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/902bc5d7d287a46e358592e19f995eda64136404', 'message': '[Do not Merge] test Arm64 CI\n\nChange-Id: Iaa2f1ad5bf14f48c2a4b23f29dd456b0dfbc5848\nSigned-off-by: Kevin Zhao <kevin.zhao@linaro.org>\n'}]",0,708294,902bc5d7d287a46e358592e19f995eda64136404,15,7,2,22076,,,0,"[Do not Merge] test Arm64 CI

Change-Id: Iaa2f1ad5bf14f48c2a4b23f29dd456b0dfbc5848
Signed-off-by: Kevin Zhao <kevin.zhao@linaro.org>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/708294/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cd1b3c996d4cd00f5979b2986b3496b81f168cad,, # already in the node pool. , # already in the node pool. ,1,1
openstack%2Ftenks~master~I5d30aca2b1e1ae897568f6e11fceda39e0b06e17,openstack/tenks,master,I5d30aca2b1e1ae897568f6e11fceda39e0b06e17,Install virtualbmc to system when SELinux is enabled,MERGED,2020-02-26 17:03:27.000000000,2020-03-06 15:43:19.000000000,2020-03-06 15:41:35.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-02-26 17:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/8df0c77c8679f8dd617af9044807af67645def57', 'message': ""Install virtualbmc to system when SELinux is enabled\n\nCentOS 8 nodepool images come with SELinux enabled, and prevent systemd\nfrom accessing files in users' home directories. This prevents vbmcd\nfrom starting.\n\nTo resolve this, install virtualbmc to the system when SELinux is\nenabled.\n\nChange-Id: I5d30aca2b1e1ae897568f6e11fceda39e0b06e17\n""}, {'number': 2, 'created': '2020-02-26 17:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/74d3bb58641d38924481a7b1f85c3c2919fb4b1c', 'message': ""Install virtualbmc to system when SELinux is enabled\n\nCentOS 8 nodepool images come with SELinux enabled, and prevent systemd\nfrom accessing files in users' home directories. This prevents vbmcd\nfrom starting.\n\nTo resolve this, install virtualbmc to the system when SELinux is\nenabled.\n\nChange-Id: I5d30aca2b1e1ae897568f6e11fceda39e0b06e17\n""}, {'number': 3, 'created': '2020-02-26 17:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/e4dae3dd4a4ceedb04f4f994e76bb2de278757ac', 'message': ""Install virtualbmc to system when SELinux is enabled\n\nCentOS 8 nodepool images come with SELinux enabled, and prevent systemd\nfrom accessing files in users' home directories. This prevents vbmcd\nfrom starting.\n\nTo resolve this, install virtualbmc to the system when SELinux is\nenabled.\n\nChange-Id: I5d30aca2b1e1ae897568f6e11fceda39e0b06e17\n""}, {'number': 4, 'created': '2020-02-27 09:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/ff1691d57ecf84fe5c28ab9d65f0a184de87df93', 'message': ""Install virtualbmc to system when SELinux is enabled\n\nCentOS 8 nodepool images come with SELinux enabled, and prevent systemd\nfrom accessing files in users' home directories. This prevents vbmcd\nfrom starting.\n\nTo resolve this, install virtualbmc to the system when SELinux is\nenabled.\n\nChange-Id: I5d30aca2b1e1ae897568f6e11fceda39e0b06e17\n""}, {'number': 5, 'created': '2020-02-27 10:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/e76b6e31bfed2fc36c351b8f955459453f58e335', 'message': ""Install virtualbmc to system when SELinux is enabled\n\nCentOS 8 nodepool images come with SELinux enabled, and prevent systemd\nfrom accessing files in users' home directories. This prevents vbmcd\nfrom starting.\n\nTo resolve this, install virtualbmc to the system when SELinux is\nenabled.\n\nChange-Id: I5d30aca2b1e1ae897568f6e11fceda39e0b06e17\n""}, {'number': 6, 'created': '2020-02-27 15:50:07.000000000', 'files': ['ansible/node_bmc.yml', 'requirements.txt', 'ansible/roles/virtualbmc-daemon/templates/vbmcd.service.j2', 'releasenotes/notes/virtualbmc-selinux-86a667ba27d9a05e.yaml', 'ansible/roles/virtualbmc-domain/tasks/main.yml', 'ansible/host_setup.yml', 'ansible/roles/virtualbmc-daemon/tasks/main.yml', 'ansible/roles/virtualbmc-daemon/README.md', 'ansible/roles/virtualbmc-domain/README.md'], 'web_link': 'https://opendev.org/openstack/tenks/commit/13de0edd6c4699cf9a3096f4ed2803efdc30a38a', 'message': ""Install virtualbmc to system when SELinux is enabled\n\nCentOS 8 nodepool images come with SELinux enabled, and prevent systemd\nfrom accessing files in users' home directories. This prevents vbmcd\nfrom starting.\n\nTo resolve this, install virtualbmc to the system when SELinux is\nenabled.\n\nChange-Id: I5d30aca2b1e1ae897568f6e11fceda39e0b06e17\n""}]",0,710086,13de0edd6c4699cf9a3096f4ed2803efdc30a38a,15,4,6,14826,,,0,"Install virtualbmc to system when SELinux is enabled

CentOS 8 nodepool images come with SELinux enabled, and prevent systemd
from accessing files in users' home directories. This prevents vbmcd
from starting.

To resolve this, install virtualbmc to the system when SELinux is
enabled.

Change-Id: I5d30aca2b1e1ae897568f6e11fceda39e0b06e17
",git fetch https://review.opendev.org/openstack/tenks refs/changes/86/710086/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/node_bmc.yml', 'ansible/roles/virtualbmc-daemon/templates/vbmcd.service.j2', 'ansible/roles/virtualbmc-domain/tasks/main.yml', 'ansible/host_setup.yml', 'ansible/roles/virtualbmc-daemon/tasks/main.yml', 'ansible/roles/virtualbmc-daemon/README.md', 'ansible/roles/virtualbmc-domain/README.md']",7,8df0c77c8679f8dd617af9044807af67645def57,, installed. Optional., installed.,27,7
openstack%2Fopenstack-helm-images~master~If96140d377d719fb1ebf46e177dd6ba8036266e1,openstack/openstack-helm-images,master,If96140d377d719fb1ebf46e177dd6ba8036266e1,DNM: Testing OpenStack image build gate,ABANDONED,2020-02-28 20:45:41.000000000,2020-03-06 15:40:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-28 20:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/93a6c02c1d3eba13d330c9787dad28fae0ea7688', 'message': 'DNM: Testing OpenStack image build gate\n\nChange-Id: If96140d377d719fb1ebf46e177dd6ba8036266e1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-03-03 17:45:25.000000000', 'files': ['openstack/loci/build-stein.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/c590542eccf3fe8195c67080ac49e90ab1b373c1', 'message': 'DNM: Testing OpenStack image build gate\n\nDepends-On: https://review.opendev.org/#/c/707032/\nChange-Id: If96140d377d719fb1ebf46e177dd6ba8036266e1\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,710526,c590542eccf3fe8195c67080ac49e90ab1b373c1,5,1,2,20466,,,0,"DNM: Testing OpenStack image build gate

Depends-On: https://review.opendev.org/#/c/707032/
Change-Id: If96140d377d719fb1ebf46e177dd6ba8036266e1
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/26/710526/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/loci/build-stein.sh'],1,93a6c02c1d3eba13d330c9787dad28fae0ea7688,dnm/gate-test,,,1,0
openstack%2Fopenstack-helm~master~Icdf550f2a6a9d3a23ffbcb9d02af94061d6922dc,openstack/openstack-helm,master,Icdf550f2a6a9d3a23ffbcb9d02af94061d6922dc,DNM: Add helm tests to gate,ABANDONED,2019-09-20 03:52:26.000000000,2020-03-06 15:39:50.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 03:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b18c90a16c09943fe7364b3d9e545c5b92551cfb', 'message': 'DNM: Add helm tests to gate\n\nThis patch set places helm test to the single node gate.\n\nDepends-On: https://review.opendev.org/#/c/683233/\n\nChange-Id: Icdf550f2a6a9d3a23ffbcb9d02af94061d6922dc\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-09-20 15:56:34.000000000', 'files': ['tools/deployment/developer/ceph/130-cinder.sh', 'tools/deployment/component/compute-kit/compute-kit.sh', 'tools/deployment/developer/common/080-keystone.sh', 'tools/deployment/component/keystone/keystone.sh', 'tools/deployment/component/cinder/cinder.sh', 'tools/deployment/developer/ceph/160-compute-kit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee70fca822a6fda1d38afc4a8df9e25097e815f1', 'message': 'DNM: Add helm tests to gate\n\nThis patch set places helm test to the single node gate.\n\nDepends-On: https://review.opendev.org/#/c/683233/\n\nChange-Id: Icdf550f2a6a9d3a23ffbcb9d02af94061d6922dc\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,683279,ee70fca822a6fda1d38afc4a8df9e25097e815f1,8,2,2,20466,,,0,"DNM: Add helm tests to gate

This patch set places helm test to the single node gate.

Depends-On: https://review.opendev.org/#/c/683233/

Change-Id: Icdf550f2a6a9d3a23ffbcb9d02af94061d6922dc
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/79/683279/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/ceph/130-cinder.sh', 'tools/deployment/developer/common/080-keystone.sh', 'tools/deployment/developer/ceph/160-compute-kit.sh']",3,b18c90a16c09943fe7364b3d9e545c5b92551cfb,rally-cleanup," # Delete the test pods if they still exist kubectl delete pods -l application=nova,release_group=nova,component=test --namespace=openstack --ignore-not-found kubectl delete pods -l application=neutron,release_group=neutron,component=test --namespace=openstack --ignore-not-found timeout=${OSH_TEST_TIMEOUT:-900} helm test nova --timeout $timeout helm test neutron --timeout $timeout",,15,0
openstack%2Fopenstack-helm-infra~master~I2d5b7f7abf38d8a8f60fae1221d0b633b9d9ce84,openstack/openstack-helm-infra,master,I2d5b7f7abf38d8a8f60fae1221d0b633b9d9ce84,"Revert ""[CEPH] update all ceph daemons startup scripts to support msgr2""",ABANDONED,2020-03-06 15:36:50.000000000,2020-03-06 15:39:26.000000000,,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-06 15:36:50.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl', 'ceph-osd/values.yaml', 'ceph-client/templates/bin/mgr/_start.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-osd/templates/configmap-etc.yaml', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-osd/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-mon/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-provisioners/values.yaml', 'ceph-provisioners/templates/configmap-etc-client.yaml', 'ceph-client/templates/configmap-etc-client.yaml', 'ceph-client/templates/deployment-mds.yaml', 'helm-toolkit/templates/manifests/_ceph-storageclass.tpl', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-rgw/templates/configmap-etc-client.yaml', 'ceph-client/templates/bin/mds/_start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9531101068abf8f360e1602e35849beda3790d52', 'message': 'Revert ""[CEPH] update all ceph daemons startup scripts to support msgr2""\n\nThis reverts commit 7425e3e5c09e0d8168616461342d93d0f72a3c0d.\n\nChange-Id: I2d5b7f7abf38d8a8f60fae1221d0b633b9d9ce84\n'}]",0,711642,9531101068abf8f360e1602e35849beda3790d52,4,9,1,20466,,,0,"Revert ""[CEPH] update all ceph daemons startup scripts to support msgr2""

This reverts commit 7425e3e5c09e0d8168616461342d93d0f72a3c0d.

Change-Id: I2d5b7f7abf38d8a8f60fae1221d0b633b9d9ce84
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/42/711642/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl', 'ceph-osd/values.yaml', 'ceph-client/templates/bin/mgr/_start.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-osd/templates/configmap-etc.yaml', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-osd/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-mon/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-provisioners/values.yaml', 'ceph-provisioners/templates/configmap-etc-client.yaml', 'ceph-client/templates/configmap-etc-client.yaml', 'ceph-client/templates/deployment-mds.yaml', 'helm-toolkit/templates/manifests/_ceph-storageclass.tpl', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-rgw/templates/configmap-etc-client.yaml', 'ceph-client/templates/bin/mds/_start.sh.tpl']",19,9531101068abf8f360e1602e35849beda3790d52,," ENDPOINT=$(kubectl get endpoints ceph-mon -n ${NAMESPACE} -o json | awk -F'""' -v port=${MON_PORT} '/""ip""/{print $4"":""port}' | paste -sd',') if [[ ${ENDPOINT} == """" ]]; then /bin/sh -c -e ""cat ${CEPH_CONF}.template | sed 's/mon_host.*/mon_host = ${ENDPOINT}/g' | tee ${CEPH_CONF}"" || true"," ENDPOINT=$(kubectl get endpoints ceph-mon-discovery -n ${NAMESPACE} -o json | awk -F'""' -v port=${MON_PORT} \ -v version=v1 -v msgr_version=v2 \ -v msgr2_port=${MON_PORT_V2} \ '/""ip""/{print ""[""version"":""$4"":""port""/""0"",""msgr_version"":""$4"":""msgr2_port""/""0""]""}' | paste -sd',') if [[ ""${ENDPOINT}"" == """" ]]; then /bin/sh -c -e ""cat ${CEPH_CONF}.template | sed 's#mon_host.*#mon_host = ${ENDPOINT}#g' | tee ${CEPH_CONF}"" || true",56,61
openstack%2Fcharm-octavia-dashboard~master~Ic012f6c7d196ef97dae67b4d88e33269ee82445f,openstack/charm-octavia-dashboard,master,Ic012f6c7d196ef97dae67b4d88e33269ee82445f,Update charm build requirements,MERGED,2020-03-03 08:58:04.000000000,2020-03-06 15:38:28.000000000,2020-03-06 15:38:27.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:58:04.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/c364d131f4371729bed46181bb87ff5fa3b1184c', 'message': 'Update charm build requirements\n\nChange-Id: Ic012f6c7d196ef97dae67b4d88e33269ee82445f\n'}]",0,710950,c364d131f4371729bed46181bb87ff5fa3b1184c,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: Ic012f6c7d196ef97dae67b4d88e33269ee82445f
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/50/710950/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c364d131f4371729bed46181bb87ff5fa3b1184c,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Fopenstack-helm-infra~master~I3d95edbd89f5ac8b40a34f41c1099311cee4f875,openstack/openstack-helm-infra,master,I3d95edbd89f5ac8b40a34f41c1099311cee4f875,[CEPH] update all ceph daemons startup scripts to support msgr2,MERGED,2020-02-27 17:12:22.000000000,2020-03-06 15:36:50.000000000,2020-03-05 22:28:52.000000000,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-27 17:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fc4af4080177badf20967315c625ee63be3e242d', 'message': '[wip][ceph-mon] update start up script to support msgr2\n\nThis is to update ceph mon start script to support msgr2 protocol.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 2, 'created': '2020-02-27 20:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c00c2e207c1bf69337dbd2e7aa17008d3b24184c', 'message': '[wip][ceph-mon] update start up script to support msgr2\n\nThis is to update ceph mon start script to support msgr2 protocol.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 3, 'created': '2020-02-27 20:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aaa03641f1dc9a40bc13528f4bd801a4289e6e03', 'message': '[wip][ceph-mon] update start up script to support msgr2\n\nThis is to update ceph mon start script to support msgr2 protocol.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 4, 'created': '2020-02-27 20:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e2e73b73b7de57971d6cb50afb7b6592147ced8', 'message': '[wip][ceph-mon] update start up script to support msgr2\n\nThis is to update ceph mon start script to support msgr2 protocol.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 5, 'created': '2020-02-27 22:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/26aaabdf17ccd97a53b207b780e35be7b1281741', 'message': '[wip][ceph-mon] update start up script to support msgr2\n\nThis is to update ceph mon start script to support msgr2 protocol.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 6, 'created': '2020-02-28 15:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2b36d1e485b262903d3ee1f7118366aa30b294d', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 7, 'created': '2020-02-28 15:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/497d770bf1e3106828b94c8720a6cd21f025adee', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 8, 'created': '2020-02-28 19:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/45d068ead8ce995fa89ff4cf711e366d8d9e17cf', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 9, 'created': '2020-02-28 19:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cfcf751e7d69cc72f7fbd18d477719a829bfb284', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 10, 'created': '2020-03-01 14:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79867012b4769dd0d2ab7cedee5150f8a26699fd', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 11, 'created': '2020-03-01 14:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d87fd0e830e6acfb64124c873670eda297a4b02', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 12, 'created': '2020-03-01 17:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15f875d4efcc2169c1be344f1052e5abc1e7238d', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 13, 'created': '2020-03-02 13:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0dc23ea02c56cdeeb8e32ff7e0ab03186466323f', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 14, 'created': '2020-03-02 13:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dbee01b98987c257ae62d8a9a63c68d54303f566', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 15, 'created': '2020-03-02 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9e7cdcdefcf2fd8f83fa9779ffee966a79ce44be', 'message': '[CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 16, 'created': '2020-03-02 20:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/acb7823676bdd209ee8f01b78a9adbe97edb4e7b', 'message': '[WIP][CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 17, 'created': '2020-03-02 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0730b3d08b476041c524333e6c18c75d29a46d8', 'message': '[WIP][CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 18, 'created': '2020-03-04 01:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f3478d07dc469c595eb75fb45bd3e3d2e46b2c6c', 'message': '[WIP][CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 19, 'created': '2020-03-04 21:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c5502b33f3c6db9944a67d55a6e875a6429d8df1', 'message': '[WIP][CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 20, 'created': '2020-03-04 21:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0d5bcf2eea961a29400927d3b7482b21e330ed6', 'message': '[WIP][CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 21, 'created': '2020-03-04 21:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/408326caf3527117d1d6e5165c99c6f9334390db', 'message': '[WIP][CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 22, 'created': '2020-03-05 00:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a1b44eeb87e56ab16c0a6f8d3d482ac01580e95', 'message': '[WIP][CEPH] update startup scripts to support msgr2\n\nThis is to update all ceph daemon startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 23, 'created': '2020-03-05 00:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1d0264e467f1b9f5604718d198dcc0e91750669', 'message': '[CEPH] update all ceph daemons startup scripts to support msgr2\n\nThis is to update all ceph daemons startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nv1 default port: 6789\nV2 default port: 3300\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}, {'number': 24, 'created': '2020-03-05 05:22:40.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-disk/_common.sh.tpl', 'ceph-osd/values.yaml', 'ceph-client/templates/bin/mgr/_start.sh.tpl', 'ceph-rgw/values.yaml', 'ceph-osd/templates/configmap-etc.yaml', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-osd/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/daemonset-osd.yaml', 'ceph-mon/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-provisioners/values.yaml', 'ceph-provisioners/templates/configmap-etc-client.yaml', 'ceph-client/templates/configmap-etc-client.yaml', 'ceph-client/templates/deployment-mds.yaml', 'helm-toolkit/templates/manifests/_ceph-storageclass.tpl', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-client/templates/deployment-mgr.yaml', 'ceph-rgw/templates/configmap-etc-client.yaml', 'ceph-client/templates/bin/mds/_start.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7425e3e5c09e0d8168616461342d93d0f72a3c0d', 'message': '[CEPH] update all ceph daemons startup scripts to support msgr2\n\nThis is to update all ceph daemons startup scripts as per msgr2 protocol and\nalso to update v2 port for mon_host config.\nThis also removes setting mon_addr config since we already have mon_host config.\n\nv1 default port: 6789\nV2 default port: 3300\n\nChange-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875\n'}]",0,710319,7425e3e5c09e0d8168616461342d93d0f72a3c0d,55,8,24,28372,,,0,"[CEPH] update all ceph daemons startup scripts to support msgr2

This is to update all ceph daemons startup scripts as per msgr2 protocol and
also to update v2 port for mon_host config.
This also removes setting mon_addr config since we already have mon_host config.

v1 default port: 6789
V2 default port: 3300

Change-Id: I3d95edbd89f5ac8b40a34f41c1099311cee4f875
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/710319/24 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-mon/templates/service-mon-discovery.yaml', 'ceph-mon/templates/service-mon.yaml', 'ceph-mon/values.yaml']",6,fc4af4080177badf20967315c625ee63be3e242d,, type: null default: 6790 mon_msgr2: default: 3400, type: apparmor default: 6789,29,16
openstack%2Fcharm-gnocchi~master~I14f9294019d2c9f1e32366f0820a6889a0ea0846,openstack/charm-gnocchi,master,I14f9294019d2c9f1e32366f0820a6889a0ea0846,Update charm build requirements,MERGED,2020-03-03 08:55:08.000000000,2020-03-06 15:35:59.000000000,2020-03-06 15:35:58.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:55:08.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/4a92b006811821452bcdb1cb32ca5dffa9436e3e', 'message': 'Update charm build requirements\n\nChange-Id: I14f9294019d2c9f1e32366f0820a6889a0ea0846\n'}]",0,710937,4a92b006811821452bcdb1cb32ca5dffa9436e3e,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: I14f9294019d2c9f1e32366f0820a6889a0ea0846
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/37/710937/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4a92b006811821452bcdb1cb32ca5dffa9436e3e,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fcharm-keystone-ldap~master~Idbdf25ded15f3cd523ff94f716670f94a3090908,openstack/charm-keystone-ldap,master,Idbdf25ded15f3cd523ff94f716670f94a3090908,Update charm build requirements,MERGED,2020-03-03 08:55:23.000000000,2020-03-06 15:34:20.000000000,2020-03-06 15:34:19.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:55:23.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/9b63a62d386b975e2311d6c920338ce300360279', 'message': 'Update charm build requirements\n\nChange-Id: Idbdf25ded15f3cd523ff94f716670f94a3090908\n'}]",0,710938,9b63a62d386b975e2311d6c920338ce300360279,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: Idbdf25ded15f3cd523ff94f716670f94a3090908
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/38/710938/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9b63a62d386b975e2311d6c920338ce300360279,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Ftripleo-quickstart~master~I8db75969866afe0e0f44be23fbc2baeca7b8961a,openstack/tripleo-quickstart,master,I8db75969866afe0e0f44be23fbc2baeca7b8961a,DNM test previous SecretStorage in UC host,ABANDONED,2020-03-04 09:16:29.000000000,2020-03-06 15:28:42.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 09:16:29.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/82e996a8f6be185bf60849f880c1148fd0ec9410', 'message': 'DNM test previous SecretStorage in UC host\n\nChange-Id: I8db75969866afe0e0f44be23fbc2baeca7b8961a\n'}]",0,711184,82e996a8f6be185bf60849f880c1148fd0ec9410,5,3,1,16312,,,0,"DNM test previous SecretStorage in UC host

Change-Id: I8db75969866afe0e0f44be23fbc2baeca7b8961a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/84/711184/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml']",2,82e996a8f6be185bf60849f880c1148fd0ec9410,, sudo dnf install -y https://cbs.centos.org/kojifiles/packages/python-SecretStorage/2.3.1/7.el8/noarch/python3-SecretStorage-2.3.1-7.el8.noarch.rpm,,2,0
openstack%2Fkolla-ansible~master~I3ed8b56232e9fa99f7a0bb262d57a2d13cb18999,openstack/kolla-ansible,master,I3ed8b56232e9fa99f7a0bb262d57a2d13cb18999,Fix renos,MERGED,2020-03-03 19:25:49.000000000,2020-03-06 15:04:18.000000000,2020-03-06 15:02:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 19:25:49.000000000', 'files': ['releasenotes/notes/bug-1863041-30d87a768339251b.yaml', 'releasenotes/notes/prometheus-config-when-alertmanager-disabled-0090c1570ff4e632.yaml', 'releasenotes/notes/bug-1861792-a44a31693b0c786f.yaml', 'releasenotes/notes/bug-1861513-8e09a6fb42dfc99c.yaml', 'releasenotes/notes/bug-1863094-1564f489a7eecb28.yaml', 'releasenotes/notes/bug-1863363-eb5d0ddd0d0d1090.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7d4b9165991dd47a4be306f50f9191308bfbafc', 'message': 'Fix renos\n\nto backport before releases\n\nChange-Id: I3ed8b56232e9fa99f7a0bb262d57a2d13cb18999\n'}]",0,711091,d7d4b9165991dd47a4be306f50f9191308bfbafc,9,2,1,30491,,,0,"Fix renos

to backport before releases

Change-Id: I3ed8b56232e9fa99f7a0bb262d57a2d13cb18999
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/711091/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1863041-30d87a768339251b.yaml', 'releasenotes/notes/prometheus-config-when-alertmanager-disabled-0090c1570ff4e632.yaml', 'releasenotes/notes/bug-1861792-a44a31693b0c786f.yaml', 'releasenotes/notes/bug-1861513-8e09a6fb42dfc99c.yaml', 'releasenotes/notes/bug-1863094-1564f489a7eecb28.yaml', 'releasenotes/notes/bug-1863363-eb5d0ddd0d0d1090.yaml']",6,d7d4b9165991dd47a4be306f50f9191308bfbafc,fix-renos, `LP#1863363 <https://launchpad.net/bugs/1863363>`__, `LP#1863363 <https://launchpad.net/bugs/1863363>`,6,7
openstack%2Fkolla~master~I467da5e7e2e59d226987db970ea80c161bc454e4,openstack/kolla,master,I467da5e7e2e59d226987db970ea80c161bc454e4,Fix renos,MERGED,2020-03-03 19:26:16.000000000,2020-03-06 14:51:28.000000000,2020-03-06 14:49:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 19:26:16.000000000', 'files': ['releasenotes/notes/bug-1859047-d41762357da8ae0b.yaml', 'releasenotes/notes/bug-1814552-a037354969dcf7e5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b10e5ca800388b193e5ef2e85ffd6bf64bcae10', 'message': 'Fix renos\n\nto backport before releases\n\nChange-Id: I467da5e7e2e59d226987db970ea80c161bc454e4\n'}]",0,711092,0b10e5ca800388b193e5ef2e85ffd6bf64bcae10,8,3,1,30491,,,0,"Fix renos

to backport before releases

Change-Id: I467da5e7e2e59d226987db970ea80c161bc454e4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/711092/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1859047-d41762357da8ae0b.yaml', 'releasenotes/notes/bug-1814552-a037354969dcf7e5.yaml']",2,0b10e5ca800388b193e5ef2e85ffd6bf64bcae10,fix-renos, `LP#1814552 <https://launchpad.net/bugs/1814552>`__, `LP#1814552 <https://launchpad.net/bugs/1814552>`,2,2
openstack%2Fkolla~stable%2Ftrain~Id37dca84c4eb918aaf2d3c036ef5387fe75988dd,openstack/kolla,stable/train,Id37dca84c4eb918aaf2d3c036ef5387fe75988dd,Use StorageSIG repos for Ceph in CentOS8,MERGED,2020-03-04 17:54:02.000000000,2020-03-06 14:49:31.000000000,2020-03-06 14:46:37.000000000,"[{'_account_id': 14826}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-04 17:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3c5782e8b660e58dca8d3ed54a51d6e55f503971', 'message': ""Use StorageSIG repos for Ceph in CentOS8\n\nStorage SIG has built Ceph Nautilus and Ganesha for CentOS8 in CentOS\nBuild System.\n\nLet's switch to use them in kolla.\n\nChange-Id: Id37dca84c4eb918aaf2d3c036ef5387fe75988dd\n(cherry picked from commit 0c6312968214e403b5a408d69df17bd0a9267095)\n""}, {'number': 2, 'created': '2020-03-04 18:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e04c64fce9247daa58c2f5fd981c22143755af9a', 'message': ""Use StorageSIG repos for Ceph in CentOS8\n\nStorage SIG has built Ceph Nautilus and Ganesha for CentOS8 in CentOS\nBuild System.\n\nLet's switch to use them in kolla.\n\nDepends-On: https://review.opendev.org/711214\n\nChange-Id: Id37dca84c4eb918aaf2d3c036ef5387fe75988dd\n(cherry picked from commit 0c6312968214e403b5a408d69df17bd0a9267095)\n""}, {'number': 3, 'created': '2020-03-05 09:20:14.000000000', 'files': ['docker/base/Dockerfile.j2', 'docker/base/ceph.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6df9ff0c46bfc6caf7e39ba96a41209dca44ce4e', 'message': ""Use StorageSIG repos for Ceph in CentOS8\n\nStorage SIG has built Ceph Nautilus and Ganesha for CentOS8 in CentOS\nBuild System.\n\nLet's switch to use them in kolla.\n\nDepends-On: https://review.opendev.org/711214\n\nChange-Id: Id37dca84c4eb918aaf2d3c036ef5387fe75988dd\n(cherry picked from commit 0c6312968214e403b5a408d69df17bd0a9267095)\n""}]",0,711295,6df9ff0c46bfc6caf7e39ba96a41209dca44ce4e,21,5,3,14826,,,0,"Use StorageSIG repos for Ceph in CentOS8

Storage SIG has built Ceph Nautilus and Ganesha for CentOS8 in CentOS
Build System.

Let's switch to use them in kolla.

Depends-On: https://review.opendev.org/711214

Change-Id: Id37dca84c4eb918aaf2d3c036ef5387fe75988dd
(cherry picked from commit 0c6312968214e403b5a408d69df17bd0a9267095)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/711295/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'docker/base/ceph.repo']",2,3c5782e8b660e58dca8d3ed54a51d6e55f503971,,[centos-ceph-nautilus] name=Ceph packages for $basearch baseurl=https://trunk.rdoproject.org/centos8-master/deps/storage/storage8-ceph-nautilus/$basearch/ enabled=0 gpgcheck=0 type=rpm-md [centos-nfs-ganesha28] name=Ganesha packages for $basearch baseurl=https://trunk.rdoproject.org/centos8-master/deps/storage/storage8-nfsganesha-28/$basearch/ enabled=0 gpgcheck=0 type=rpm-md ,,14,3
openstack%2Ftripleo-common~master~I9b44d4239cb4b88865bc5e93af18b1293bf4ec7a,openstack/tripleo-common,master,I9b44d4239cb4b88865bc5e93af18b1293bf4ec7a,"Revert ""Modify roles to remove unused services""",ABANDONED,2020-03-05 20:42:09.000000000,2020-03-06 14:37:50.000000000,,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2020-03-05 20:42:09.000000000', 'files': ['tripleo_common/actions/deployment.py', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/template.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/749eba9bab45c762baefc0282dbd3f320628bd53', 'message': 'Revert ""Modify roles to remove unused services""\n\nThis reverts commit 79edc6a65340f291f9d96f77d843d1d6baf5770e.\n\nTesting that this is causing issues with path loading\n\nChange-Id: I9b44d4239cb4b88865bc5e93af18b1293bf4ec7a\n'}]",0,711551,749eba9bab45c762baefc0282dbd3f320628bd53,5,14,1,14985,,,0,"Revert ""Modify roles to remove unused services""

This reverts commit 79edc6a65340f291f9d96f77d843d1d6baf5770e.

Testing that this is causing issues with path loading

Change-Id: I9b44d4239cb4b88865bc5e93af18b1293bf4ec7a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/711551/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/deployment.py', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/template.py']",3,749eba9bab45c762baefc0282dbd3f320628bd53,remove-services," def __init__(self, swift, container, searchpath=None): if searchpath is not None: if isinstance(searchpath, six.string_types): self.searchpath = [searchpath] else: self.searchpath = list(searchpath) else: self.searchpath = []def j2_render_and_put(swift, j2_template, j2_data, container=constants.DEFAULT_CONTAINER_NAME, outfile_name=None): yaml_f = outfile_name or j2_template.replace('.j2.yaml', '.yaml') j2_data, container, out_f_path) j2_data, container, out_f_path) j2_data, container, out_f_path) j2_data, container, out_f) def process_templates(swift, heat, container=constants.DEFAULT_CONTAINER_NAME): process_custom_roles(swift, heat, container) files = dict(list(template_files.items()) + list(env_files.items())) 'template': template, 'environment': env,"," def __init__(self, swift, container, searchpath): self.searchpath = [searchpath]def j2_render_and_put(swift, j2_template, j2_data, yaml_f, container=constants.DEFAULT_CONTAINER_NAME): j2_data, out_f_path, container) j2_data, out_f_path, container) j2_data, out_f_path, container) j2_data, out_f, container) return role_data def prune_unused_services(swift, role_data, resource_registry, container=constants.DEFAULT_CONTAINER_NAME): """"""Remove unused services from role data Finds the unused services in the resource registry and removes them from the role data in the plan so we do not create OS::Heat::None resources. :param resource_registry: tripleo resource registry dict :param swift: swift client :param resource_registry: tripleo resource registry dict :returns: true if we updated the roles file. else false """""" to_remove = set() for key, value in resource_registry.items(): if (key.startswith('OS::TripleO::Services::') and value.startswith('OS::Heat::None')): to_remove.add(key) if not to_remove or not role_data: LOG.info('No unused services to prune or no role data') return False LOG.info('Removing unused services from role data') for role in role_data: role_name = role.get('name') for service in to_remove: try: role.get('ServicesDefault', []).remove(service) LOG.debug('Removing {} from {} role'.format( service, role_name)) except ValueError: pass LOG.debug('Saving updated role data to swift') swift.put_object(container, constants.OVERCLOUD_J2_ROLES_NAME, yaml.safe_dump(role_data, default_flow_style=False)) return True def build_heat_args(swift, heat, container=constants.DEFAULT_CONTAINER_NAME): role_data = process_custom_roles(swift, heat, container) heat_args = { 'template': template, 'template_files': template_files, 'env': env, 'env_files': env_files } return heat_args, role_data def process_templates(swift, heat, container=constants.DEFAULT_CONTAINER_NAME, prune_services=False): heat_args, role_data = build_heat_args(swift, heat, container) if prune_services: try: # Prune OS::Heat::None resources resource_reg = heat_args['env'].get('resource_registry', {}) roles_updated = prune_unused_services( swift, role_data, resource_reg) if roles_updated: heat_args, _ = build_heat_args(swift, heat, container) except Exception as err: LOG.exception(""Error occurred while prunning prune_services."") raise RuntimeError(six.text_type(err)) files = dict(list(heat_args['template_files'].items()) + list( heat_args['env_files'].items())) 'template': heat_args['template'], 'environment': heat_args['env'],",32,140
openstack%2Fpython-tripleoclient~master~I043024cd92c9a6ed40ec740e116ffb86ba2af1f6,openstack/python-tripleoclient,master,I043024cd92c9a6ed40ec740e116ffb86ba2af1f6,Remove mistral from the configure_manageable_nodes workflow,ABANDONED,2020-02-24 23:28:43.000000000,2020-03-06 14:31:36.000000000,,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-24 23:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fedd3b9d1e5cbcdc459b3c21b20436e54e4b0b41', 'message': 'Remove mistral from the configure_manageable_nodes workflow\n\nThis change removes all of mistral from the configure_manageable_nodes\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38448\n\nChange-Id: I043024cd92c9a6ed40ec740e116ffb86ba2af1f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-26 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0c6cbb7f72d7702e0f8e47d0ee331bc93930630', 'message': 'Remove mistral from the configure_manageable_nodes workflow\n\nThis change removes all of mistral from the configure_manageable_nodes\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38448\n\nChange-Id: I043024cd92c9a6ed40ec740e116ffb86ba2af1f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-27 17:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e094c5fb4a687cc3707bb9a8c6ee7592f194a5b8', 'message': 'Remove mistral from the configure_manageable_nodes workflow\n\nThis change removes all of mistral from the configure_manageable_nodes\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38448\n\nChange-Id: I043024cd92c9a6ed40ec740e116ffb86ba2af1f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-28 10:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/732d96b9eb6dda244fbbb0b13e9ac1b60fd3dcb1', 'message': 'Remove mistral from the configure_manageable_nodes workflow\n\nThis change removes all of mistral from the configure_manageable_nodes\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38448\n\nChange-Id: I043024cd92c9a6ed40ec740e116ffb86ba2af1f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-03-05 23:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc48107d0335c739a26e91fee92832ceee04834f', 'message': 'Remove mistral from the configure_manageable_nodes workflow\n\nThis change removes all of mistral from the configure_manageable_nodes\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38448\n\nChange-Id: I043024cd92c9a6ed40ec740e116ffb86ba2af1f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-03-06 14:26:09.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c3b294b7e023c31a8391acb299ec470ef190bbca', 'message': 'Remove mistral from the configure_manageable_nodes workflow\n\nThis change removes all of mistral from the configure_manageable_nodes\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38448\n\nChange-Id: I043024cd92c9a6ed40ec740e116ffb86ba2af1f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,709633,c3b294b7e023c31a8391acb299ec470ef190bbca,29,5,6,7353,,,0,"Remove mistral from the configure_manageable_nodes workflow

This change removes all of mistral from the configure_manageable_nodes
function by calling the required functions directly.

Story: 2007212
Task: 38448

Change-Id: I043024cd92c9a6ed40ec740e116ffb86ba2af1f6
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/709633/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/tests/fakes.py']",4,fedd3b9d1e5cbcdc459b3c21b20436e54e4b0b41,mistral_to_ansible, baremetal = self.app.client_manager.baremetal = mock.Mock() baremetal.node.list.return_value = [], self.app.client_manager.baremetal = mock.Mock(),46,87
openstack%2Fkolla~stable%2Ftrain~Idca0f983451fb67527f4917642de510dbf9af921,openstack/kolla,stable/train,Idca0f983451fb67527f4917642de510dbf9af921,CentOS 8: Add deploy jobs in CI,MERGED,2020-02-24 14:24:50.000000000,2020-03-06 14:16:03.000000000,2020-03-06 14:13:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-24 14:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e09ddb9be67eeaa4cc79583e13085cf7f37bd17', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds the following deploy jobs, defined in kolla-ansible, to the CI\ncheck pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n\nThe following job is not yet passing:\n\n- kolla-ansible-centos8-source-bifrost\n\nAlso adds the following deploy job to the CI gate pipeline:\n\n- kolla-ansible-centos8-source\n\nPartially-Implements: blueprint centos-rhel-8\n\nDepends-On: https://review.opendev.org/709536\n\nChange-Id: Idca0f983451fb67527f4917642de510dbf9af921\n(cherry picked from commit 018f69bc7177403bb7c9d644bc4dbf96bc2915e2)\n'}, {'number': 2, 'created': '2020-02-25 17:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9821d94ff346237b5e49c3b55740917ec2dd4840', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds the following deploy jobs, defined in kolla-ansible, to the CI\ncheck pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n\nThe following job is not yet passing:\n\n- kolla-ansible-centos8-source-bifrost\n\nAlso adds the following deploy job to the CI gate pipeline:\n\n- kolla-ansible-centos8-source\n\nPartially-Implements: blueprint centos-rhel-8\n\nDepends-On: https://review.opendev.org/709536\n\nChange-Id: Idca0f983451fb67527f4917642de510dbf9af921\n(cherry picked from commit 018f69bc7177403bb7c9d644bc4dbf96bc2915e2)\n'}, {'number': 3, 'created': '2020-02-26 11:59:08.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f0c9a0a9fac1ad95d6ed52b61983c52f2fa5f48', 'message': 'CentOS 8: Add deploy jobs in CI\n\nAdds the following deploy jobs, defined in kolla-ansible, to the CI\ncheck pipeline:\n\n- kolla-ansible-centos8-source\n- kolla-ansible-centos8-binary\n- kolla-ansible-centos8-source-cinder-lvm\n- kolla-ansible-centos8-source-scenario-nfv\n- kolla-ansible-centos8-source-ironic\n\nThe following job is not yet passing:\n\n- kolla-ansible-centos8-source-bifrost\n\nAlso adds the following deploy job to the CI gate pipeline:\n\n- kolla-ansible-centos8-source\n\nPartially-Implements: blueprint centos-rhel-8\n\nDepends-On: https://review.opendev.org/709536\n\nChange-Id: Idca0f983451fb67527f4917642de510dbf9af921\n(cherry picked from commit 018f69bc7177403bb7c9d644bc4dbf96bc2915e2)\n'}]",0,709538,9f0c9a0a9fac1ad95d6ed52b61983c52f2fa5f48,26,4,3,14826,,,0,"CentOS 8: Add deploy jobs in CI

Adds the following deploy jobs, defined in kolla-ansible, to the CI
check pipeline:

- kolla-ansible-centos8-source
- kolla-ansible-centos8-binary
- kolla-ansible-centos8-source-cinder-lvm
- kolla-ansible-centos8-source-scenario-nfv
- kolla-ansible-centos8-source-ironic

The following job is not yet passing:

- kolla-ansible-centos8-source-bifrost

Also adds the following deploy job to the CI gate pipeline:

- kolla-ansible-centos8-source

Partially-Implements: blueprint centos-rhel-8

Depends-On: https://review.opendev.org/709536

Change-Id: Idca0f983451fb67527f4917642de510dbf9af921
(cherry picked from commit 018f69bc7177403bb7c9d644bc4dbf96bc2915e2)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/38/709538/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,2e09ddb9be67eeaa4cc79583e13085cf7f37bd17,bp/centos-rhel-8, - kolla-ansible-centos8-source - kolla-ansible-centos8-binary # FIXME(mgoddard): Bifrost deploy jobs not yet passing. # - kolla-ansible-centos8-source-bifrost: # files: ^docker\/(base|bifrost|openstack-base)\/.* - kolla-ansible-centos8-source-zun: files: ^docker\/(base|cinder|etcd|iscsid|kuryr|openstack-base|zun)\/.* - kolla-ansible-centos8-source-scenario-nfv: files: ^docker\/(base|barbican|heat|mistral|openstack-base|redis|tacker)\/.* - kolla-ansible-centos8-source-ironic: files: ^docker\/(base|dnsmasq|ironic|ironic-inspector|iscsid|openstack-base)\/.* - kolla-ansible-centos8-source,,12,0
openstack%2Frpm-packaging~stable%2Ftrain~Ic6ad38c418b63abd3fc420507e8fa1e7f61fd7ae,openstack/rpm-packaging,stable/train,Ic6ad38c418b63abd3fc420507e8fa1e7f61fd7ae,python-cloudkittyclient: convert to python3,MERGED,2020-02-27 13:53:39.000000000,2020-03-06 14:14:33.000000000,2020-03-06 14:14:33.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-27 13:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ff495a9bc52a1846b22f7871cf12f8fd2b90833e', 'message': 'python-cloudkittyclient: convert to python3\n\nChange-Id: Ic6ad38c418b63abd3fc420507e8fa1e7f61fd7ae\n(cherry picked from commit 184b0b72d25549f19032ca1172e51f4e867078ec)\n'}, {'number': 2, 'created': '2020-03-04 08:54:35.000000000', 'files': ['openstack/python-cloudkittyclient/python-cloudkittyclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/57035fe101c0d7c018bb1eff69bfaa7f680f8742', 'message': 'python-cloudkittyclient: convert to python3\n\nChange-Id: Ic6ad38c418b63abd3fc420507e8fa1e7f61fd7ae\n(cherry picked from commit 184b0b72d25549f19032ca1172e51f4e867078ec)\n'}]",0,710258,57035fe101c0d7c018bb1eff69bfaa7f680f8742,16,6,2,13294,,,0,"python-cloudkittyclient: convert to python3

Change-Id: Ic6ad38c418b63abd3fc420507e8fa1e7f61fd7ae
(cherry picked from commit 184b0b72d25549f19032ca1172e51f4e867078ec)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/58/710258/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-cloudkittyclient/python-cloudkittyclient.spec.j2'],1,ff495a9bc52a1846b22f7871cf12f8fd2b90833e,remove-python2-stable/train,BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('cliff') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('python-keystoneclient') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }} %description This is a client library for CloudKitty built on the CloudKitty API. It provides a Python API (the cloudkittyclient module). %package -n python3-cloudkittyclient Summary: Python API for OpenStack Cloudkitty Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('cliff') }} Requires: {{ py3('python-keystoneclient') }} Requires: {{ py3('python-openstackclient') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n python3-cloudkittyclientThis package contains the Python 3.x module BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }}%{py3_build}PBR_VERSION={{ upstream_version }} PYTHONPATH=. %sphinx_build -b html doc/source doc/build/html%{py3_install}python3 -m stestr.cli run %files -n python3-cloudkittyclient%{python3_sitelib}/cloudkittyclient %{python3_sitelib}/*.egg-info %{_bindir}/cloudkitty,"BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('cliff', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-keystoneclient', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.log', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-subunit', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('cliff') }} Requires: {{ py2pkg('python-keystoneclient') }} Requires: {{ py2pkg('python-openstackclient') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}%python_subpackages %descriptionBuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }}%{python_build}PBR_VERSION={{ upstream_version }} PYTHONPATH=. sphinx-build -b html doc/source doc/build/html%{python_install} %python_clone -a %{buildroot}%{_bindir}/cloudkitty %post %python_install_alternative cloudkitty %postun %python_uninstall_alternative cloudkitty%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/cloudkittyclient %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/cloudkitty",48,47
openstack%2Fnova~stable%2Ftrain~I7be32e4fc2e69f805535e0a437931516f491e5cb,openstack/nova,stable/train,I7be32e4fc2e69f805535e0a437931516f491e5cb,Reproduce bug 1862633,MERGED,2020-02-21 16:02:53.000000000,2020-03-06 14:13:11.000000000,2020-03-06 09:33:00.000000000,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-21 16:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31df2b6b921f5121741b8aa9b695b42860c77cb3', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChanges in test_bug_1862633.py is due to\nI84c58de90dad6d86271767363aef90ddac0f1730 is missing from train.\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)\n'}, {'number': 2, 'created': '2020-03-06 08:36:57.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1862633.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd1bfc13d7e2c418afc409871ab56da454a1334d', 'message': 'Reproduce bug 1862633\n\nIf port update fails during unshelve of an offloaded server then\nplacement allocation on the target host is leaked.\n\nChanges in test_bug_1862633.py is due to\nI84c58de90dad6d86271767363aef90ddac0f1730 and \nI8c96b337f32148f8f5899c9b87af331b1fa41424 are missing from train.\n\nChange-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb\nRelated-Bug: #1862633\n(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)\n'}]",4,709166,bd1bfc13d7e2c418afc409871ab56da454a1334d,18,5,2,9708,,,0,"Reproduce bug 1862633

If port update fails during unshelve of an offloaded server then
placement allocation on the target host is leaked.

Changes in test_bug_1862633.py is due to
I84c58de90dad6d86271767363aef90ddac0f1730 and 
I8c96b337f32148f8f5899c9b87af331b1fa41424 are missing from train.

Change-Id: I7be32e4fc2e69f805535e0a437931516f491e5cb
Related-Bug: #1862633
(cherry picked from commit c33ebdafbd633578a0a4b6f1b118c756510acea6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/709166/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1862633.py'],1,31df2b6b921f5121741b8aa9b695b42860c77cb3,bug/1862633,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutronclient.common import exceptions as neutron_exception from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import fake_notifier from nova.tests.unit.image import fake as fake_image class UnshelveNeutronErrorTest( test.TestCase, integrated_helpers.InstanceHelperMixin): def setUp(self): super(UnshelveNeutronErrorTest, self).setUp() # Start standard fixtures. placement = func_fixtures.PlacementFixture() self.useFixture(placement) self.placement_api = placement.api self.neutron = nova_fixtures.NeutronFixture(self) self.useFixture(self.neutron) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Start nova services. self.api = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')).admin_api self.api.microversion = 'latest' fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) self.start_service('conductor') self.start_service('scheduler') self.start_service('compute', host='host1') self.start_service('compute', host='host2') def test_unshelve_offloaded_fails_due_to_neutron(self): server_req = self._build_minimal_create_server_request( self.api, name='unshelve-error-vm', image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', networks=[{'port': self.neutron.port_1['id']}], az='nova:host1') created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change( self.api, created_server, 'ACTIVE') # with default config shelve means immediate offload as well req = { 'shelve': {} } self.api.post_server_action(server['id'], req) self._wait_for_server_parameter( self.api, server, {'status': 'SHELVED_OFFLOADED'}) allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(0, len(allocations)) # disable the original host of the instance to force a port update # during unshelve source_service_id = self.api.get_services( host='host1', binary='nova-compute')[0]['id'] self.api.put_service(source_service_id, {""status"": ""disabled""}) # Simulate that port update fails during unshelve due to neutron is # unavailable with mock.patch( 'nova.tests.fixtures.NeutronFixture.' 'update_port') as mock_update_port: mock_update_port.side_effect = neutron_exception.ConnectionFailed( reason='test') req = {'unshelve': None} self.api.post_server_action(server['id'], req) fake_notifier.wait_for_versioned_notifications( 'instance.unshelve.start') self._wait_for_server_parameter( self.api, server, {'status': 'SHELVED_OFFLOADED', 'OS-EXT-STS:task_state': None}) # As the instance went back to offloaded state we expect no allocation # allocations = self.placement_api.get( # '/allocations/%s' % server['id']).body['allocations'] # self.assertEqual(0, len(allocations)) # # but the allocation is leaked this is bug 1862633 allocations = self.placement_api.get( '/allocations/%s' % server['id']).body['allocations'] self.assertEqual(1, len(allocations)) ",,98,0
openstack%2Fcookiecutter~master~Ice9b73e6e42071b954a9b8058ab34799ee6cce89,openstack/cookiecutter,master,Ice9b73e6e42071b954a9b8058ab34799ee6cce89,Fix links formatting for the contributing documentation,MERGED,2020-03-05 09:22:55.000000000,2020-03-06 14:06:12.000000000,2020-03-06 14:06:12.000000000,"[{'_account_id': 2}, {'_account_id': 4257}, {'_account_id': 5314}, {'_account_id': 6928}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 09:22:55.000000000', 'files': ['{{cookiecutter.repo_name}}/CONTRIBUTING.rst', '{{cookiecutter.repo_name}}/doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/69ae03c0d290295baec707e24f7544633a9ca1c0', 'message': 'Fix links formatting for the contributing documentation\n\nEnsure that\n- the URLs shown on a single line are properly aligned (3 spaces);\n- bug tracking URLs are rendered on their own separate line,\n  removing the space chomping Jinja operators around the\n  expressions.\n\nChange-Id: Ice9b73e6e42071b954a9b8058ab34799ee6cce89\n'}]",0,711407,69ae03c0d290295baec707e24f7544633a9ca1c0,13,11,1,10459,,,0,"Fix links formatting for the contributing documentation

Ensure that
- the URLs shown on a single line are properly aligned (3 spaces);
- bug tracking URLs are rendered on their own separate line,
  removing the space chomping Jinja operators around the
  expressions.

Change-Id: Ice9b73e6e42071b954a9b8058ab34799ee6cce89
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/07/711407/1 && git format-patch -1 --stdout FETCH_HEAD,"['{{cookiecutter.repo_name}}/CONTRIBUTING.rst', '{{cookiecutter.repo_name}}/doc/source/contributor/contributing.rst']",2,69ae03c0d290295baec707e24f7544633a9ca1c0,fix-formatting,{% if cookiecutter.bug_tracker == 'Launchpad' -%}{%- endif %},{%- if cookiecutter.bug_tracker == 'Launchpad' -%}{%- endif -%},6,6
openstack%2Fopenstacksdk~master~Ifa5af28e76bf6017fc6cd1dbd998efbe0e1200bf,openstack/openstacksdk,master,Ifa5af28e76bf6017fc6cd1dbd998efbe0e1200bf,"Include ""fields"" to ""SecurityGroup"" query parameters",MERGED,2020-03-02 16:37:16.000000000,2020-03-06 13:58:19.000000000,2020-03-05 14:00:44.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16011}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-02 16:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a6554306f61472e766de5e5c29f1c7db8d5cf00', 'message': 'Include ""fields"" to ""SecurityGroup"" query parameters\n\nThis new query parameter will allow to send a query sending the\n""fields"" parameter. This ""fields"" parameter contains the needed\nOVO fields that need to be retrieved from the DB.\n\nAs commented in the related bug, the OS client ""list"" command only\nprints five parameters, none of them the security group rules. In\nsystems with a reasonable amount of security groups, skipping the\nunnecessary rule load can save a lot of time.\n\nChange-Id: Ifa5af28e76bf6017fc6cd1dbd998efbe0e1200bf\nRelated-Bug: #1865223\n'}, {'number': 2, 'created': '2020-03-03 14:54:34.000000000', 'files': ['openstack/network/v2/security_group.py', 'openstack/tests/unit/network/v2/test_security_group.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b3068002da8798e75d9c9a98fbc40fde1f68fdfe', 'message': 'Include ""fields"" to ""SecurityGroup"" query parameters\n\nThis new query parameter will allow to send a query sending the\n""fields"" parameter. This ""fields"" parameter contains the needed\nOVO fields that need to be retrieved from the DB.\n\nAs commented in the related bug, the OS client ""list"" command only\nprints five parameters, none of them the security group rules. In\nsystems with a reasonable amount of security groups, skipping the\nunnecessary rule load can save a lot of time.\n\nChange-Id: Ifa5af28e76bf6017fc6cd1dbd998efbe0e1200bf\nRelated-Bug: #1865223\n'}]",0,710820,b3068002da8798e75d9c9a98fbc40fde1f68fdfe,14,7,2,16688,,,0,"Include ""fields"" to ""SecurityGroup"" query parameters

This new query parameter will allow to send a query sending the
""fields"" parameter. This ""fields"" parameter contains the needed
OVO fields that need to be retrieved from the DB.

As commented in the related bug, the OS client ""list"" command only
prints five parameters, none of them the security group rules. In
systems with a reasonable amount of security groups, skipping the
unnecessary rule load can save a lot of time.

Change-Id: Ifa5af28e76bf6017fc6cd1dbd998efbe0e1200bf
Related-Bug: #1865223
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/20/710820/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/security_group.py'],1,4a6554306f61472e766de5e5c29f1c7db8d5cf00,bug/1865223," 'description', 'fields', 'name', 'project_id', 'tenant_id', 'revision_number', 'sort_dir', 'sort_key',"," 'description', 'name', 'project_id', 'tenant_id', 'revision_number', 'sort_dir', 'sort_key',",2,2
openstack%2Fnetworking-ovn~master~I559f8e610eeaa679047f63c3e530ea848f491309,openstack/networking-ovn,master,I559f8e610eeaa679047f63c3e530ea848f491309,WIP - tripleo / ovn / migration / cleanup-dataplane: remove paunch,ABANDONED,2020-03-05 16:13:16.000000000,2020-03-06 13:43:42.000000000,,"[{'_account_id': 1131}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 16:13:16.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b0350139ff6f727d34c64da0b16992e319e3c09d', 'message': 'WIP - tripleo / ovn / migration / cleanup-dataplane: remove paunch\n\nWe don\'t need Paunch to run the network namespace cleanup; we could do\nit with a ""podman exec"".\nAlso replace the ""docker inspect"" command by systemd to check if whether\nor not the neutron_dhcp container is up.\n\nThis is part of the effort where we remove Paunch in TripleO and replace\nit by Ansible.\n\nChange-Id: I559f8e610eeaa679047f63c3e530ea848f491309\n'}]",0,711498,b0350139ff6f727d34c64da0b16992e319e3c09d,5,3,1,3153,,,0,"WIP - tripleo / ovn / migration / cleanup-dataplane: remove paunch

We don't need Paunch to run the network namespace cleanup; we could do
it with a ""podman exec"".
Also replace the ""docker inspect"" command by systemd to check if whether
or not the neutron_dhcp container is up.

This is part of the effort where we remove Paunch in TripleO and replace
it by Ansible.

Change-Id: I559f8e610eeaa679047f63c3e530ea848f491309
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/98/711498/1 && git format-patch -1 --stdout FETCH_HEAD,['migration/tripleo_environment/playbooks/roles/migration/tasks/cleanup-dataplane.yml'],1,b0350139ff6f727d34c64da0b16992e319e3c09d,paunch/removal," set -ex systemctl is-active --quiet tripleo_neutron_dhcp && echo ""Shouldn't clean DHCP namespaces if neutron_dhcp docker is up"" && exit 0 podman exec -ti -u root {{ item.key }} neutron-netns-cleanup {{ item.value.config }} --agent-type {{ item.value.cleanup_type }} --force"," docker inspect neutron_dhcp && echo ""Shouldn't clean DHCP namespaces if neutron_dhcp docker is up"" && exit 0 cmd=""$(paunch debug --file {{ ovn_migration_backups }}/tripleo-config/hashed-container-startup-config-step_4.json \ --action print-cmd --container {{ item.key }} \ --interactive | \ sed 's/--interactive /--volume=\/tmp\/cleanup-{{ item.key }}.sh:\/cleanup.sh:ro /g ' )"" f=""/tmp/cleanup-{{ item.key }}.sh"" f_cmd=""/tmp/container-cmd-{{ item.key }}.sh"" echo ""#!/bin/sh"" > $f echo ""set -x"" >> $f echo ""set -e"" >> $f echo ""sudo -E kolla_set_configs"" >> $f echo ""neutron-netns-cleanup {{ item.value.config }} --agent-type {{ item.value.cleanup_type }} --force"" >> $f chmod a+x $f echo $cmd /cleanup.sh echo ""#!/bin/sh"" > $f_cmd echo ""set -x"" >> $f_cmd echo ""set -e"" >> $f_cmd echo $cmd /cleanup.sh >> $f_cmd chmod a+x $f_cmd $f_cmd ",3,26
openstack%2Fnova~master~I6b232c65c83dfcf69b711b7d53e75658c9a44df4,openstack/nova,master,I6b232c65c83dfcf69b711b7d53e75658c9a44df4,Add test coverage of existing os-volumes-attachments policies,MERGED,2020-02-26 01:55:12.000000000,2020-03-06 13:36:11.000000000,2020-03-06 13:32:22.000000000,"[{'_account_id': 782}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-26 01:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1315e753eadcd665cb9bfb9d5a66af50a2ced37', 'message': 'Add test coverage of existing os-volumes-attachments policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing\nos-volumes-attachments policies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I6b232c65c83dfcf69b711b7d53e75658c9a44df4\n'}, {'number': 2, 'created': '2020-02-27 01:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3345e30fa324d2310473e3c8b2fb862ec7f0930f', 'message': 'Add test coverage of existing os-volumes-attachments policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing\nos-volumes-attachments policies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I6b232c65c83dfcf69b711b7d53e75658c9a44df4\n'}, {'number': 3, 'created': '2020-03-03 00:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d78c57cf0f37d2739d1f7244dfd4b5eeb61f5b9', 'message': 'Add test coverage of existing os-volumes-attachments policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing\nos-volumes-attachments policies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I6b232c65c83dfcf69b711b7d53e75658c9a44df4\n'}, {'number': 4, 'created': '2020-03-03 00:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/147e4613782ab47417e163a0839a18a63a45ff07', 'message': 'Add test coverage of existing os-volumes-attachments policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing\nos-volumes-attachments policies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I6b232c65c83dfcf69b711b7d53e75658c9a44df4\n'}, {'number': 5, 'created': '2020-03-06 09:19:25.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/policies/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a7d3e3a020e10352c641420f9dfc5a5c50dada65', 'message': 'Add test coverage of existing os-volumes-attachments policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing\nos-volumes-attachments policies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I6b232c65c83dfcf69b711b7d53e75658c9a44df4\n'}]",4,709929,a7d3e3a020e10352c641420f9dfc5a5c50dada65,40,9,5,26458,,,0,"Add test coverage of existing os-volumes-attachments policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin role
- policy check fail with context having any other role than admin

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.
When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing
os-volumes-attachments policies.

[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing

Partial implement blueprint policy-defaults-refresh
Change-Id: I6b232c65c83dfcf69b711b7d53e75658c9a44df4
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/709929/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/unit/policies/test_volumes.py']",2,f1315e753eadcd665cb9bfb9d5a66af50a2ced37,bp/policy-defaults-refresh,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from nova.api.openstack.compute import volumes as volumes_v21 from nova import exception from nova import objects from nova.tests.unit.api.openstack import fakes from nova.tests.unit import fake_block_device from nova.tests.unit import fake_instance from nova.tests.unit.policies import base # This is the server ID. FAKE_UUID = 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa' # This is the old volume ID (to swap from). FAKE_UUID_A = '00000000-aaaa-aaaa-aaaa-000000000000' # This is the new volume ID (to swap to). FAKE_UUID_B = 'bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbbbbbb' def fake_bdm_get_by_volume_and_instance(cls, ctxt, volume_id, instance_uuid): if volume_id != FAKE_UUID_A: raise exception.VolumeBDMNotFound(volume_id=volume_id) db_bdm = fake_block_device.FakeDbBlockDeviceDict( {'id': 1, 'instance_uuid': instance_uuid, 'device_name': '/dev/fake0', 'delete_on_termination': 'False', 'source_type': 'volume', 'destination_type': 'volume', 'snapshot_id': None, 'volume_id': volume_id, 'volume_size': 1}) return objects.BlockDeviceMapping._from_db_object( ctxt, objects.BlockDeviceMapping(), db_bdm) def fake_get_volume(self, context, id): if id == FAKE_UUID_A: status = 'in-use' attach_status = 'attached' elif id == FAKE_UUID_B: status = 'available' attach_status = 'detached' else: raise exception.VolumeNotFound(volume_id=id) return {'id': id, 'status': status, 'attach_status': attach_status} def fake_get_instance(self, context, instance_id, expected_attrs=None, cell_down_support=False): return fake_instance.fake_instance_obj(context, **{'uuid': instance_id}) class VolumeAttachPolicyTest(base.BasePolicyTest): """"""Test os-volumes-attachments APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(VolumeAttachPolicyTest, self).setUp() self.controller = volumes_v21.VolumeAttachmentController() self.req = fakes.HTTPRequest.blank('') self.stub_out('nova.objects.BlockDeviceMapping' '.get_by_volume_and_instance', fake_bdm_get_by_volume_and_instance) self.stub_out('nova.compute.api.API.get', fake_get_instance) self.stub_out('nova.volume.cinder.API.get', fake_get_volume) # Check that everyone is able to list/create/show/delete # the attached volume. self.everyone_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.system_member_context, self.system_reader_context, self.system_foo_context, self.project_member_context, self.other_project_member_context, self.project_foo_context, self.project_reader_context] self.everyone_unauthorized_contexts = [] # Check that admin is able to change the volume attchments self.admin_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context ] # Check that non-admin is not able to change the service self.admin_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, self.system_foo_context, self.project_member_context, self.other_project_member_context, self.project_foo_context, self.project_reader_context ] @mock.patch.object(objects.BlockDeviceMappingList, 'get_by_instance_uuid') def test_index_volume_attach_policy(self, mock_get_instance): rule_name = ""os_compute_api:os-volumes-attachments:index"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.index, self.req, FAKE_UUID) def test_show_volume_attach_policy(self): rule_name = ""os_compute_api:os-volumes-attachments:show"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.show, self.req, FAKE_UUID, FAKE_UUID_A) @mock.patch('nova.compute.api.API.attach_volume') def test_create_volume_attach_policy(self, mock_attach_volume): rule_name = ""os_compute_api:os-volumes-attachments:create"" body = {'volumeAttachment': {'volumeId': FAKE_UUID_B, 'device': '/dev/fake'}} self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.create, self.req, FAKE_UUID, body=body) @mock.patch('nova.compute.api.API.detach_volume') def test_delete_volume_attach_policy(self, mock_detach_volume): rule_name = ""os_compute_api:os-volumes-attachments:delete"" self.common_policy_check(self.everyone_authorized_contexts, self.everyone_unauthorized_contexts, rule_name, self.controller.delete, self.req, FAKE_UUID, FAKE_UUID_A) @mock.patch('nova.compute.api.API.swap_volume') def test_update_volume_attach_policy(self, mock_swap_volume): rule_name = ""os_compute_api:os-volumes-attachments:update"" body = {'volumeAttachment': {'volumeId': FAKE_UUID_B}} self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.update, self.req, FAKE_UUID, FAKE_UUID_A, body=body) class VolumeAttachScopeTypePolicyTest(VolumeAttachPolicyTest): """"""Test os-volume-attachments APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(VolumeAttachScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,167,49
openstack%2Fkolla-ansible~stable%2Ftrain~I71e3607c50110763259bfcd70ffb2f4c76e27f62,openstack/kolla-ansible,stable/train,I71e3607c50110763259bfcd70ffb2f4c76e27f62,Use listen port for Placement precheck,MERGED,2020-03-04 09:41:29.000000000,2020-03-06 13:18:20.000000000,2020-03-06 13:16:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 25138}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-04 09:41:29.000000000', 'files': ['ansible/roles/placement/tasks/precheck.yml', 'releasenotes/notes/placement-listen-port-ebbd6aa61aa551da.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/250d7667abe3f704351fc6b3d7baa55412e80a74', 'message': 'Use listen port for Placement precheck\n\nPlacement only needs its listen port to be free. During the Placement\nsplit from Nova in commit 2fc6d4cfc5 the wrong variable got moved into\nprecheck for Placement, this fixes it.\n\nChange-Id: I71e3607c50110763259bfcd70ffb2f4c76e27f62\nCloses-Bug: #1861189\n(cherry picked from commit 49b30a267f4f82472862405ed258d2ca0e284278)\n'}]",0,711187,250d7667abe3f704351fc6b3d7baa55412e80a74,10,4,1,14826,,,0,"Use listen port for Placement precheck

Placement only needs its listen port to be free. During the Placement
split from Nova in commit 2fc6d4cfc5 the wrong variable got moved into
precheck for Placement, this fixes it.

Change-Id: I71e3607c50110763259bfcd70ffb2f4c76e27f62
Closes-Bug: #1861189
(cherry picked from commit 49b30a267f4f82472862405ed258d2ca0e284278)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/711187/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/placement/tasks/precheck.yml', 'releasenotes/notes/placement-listen-port-ebbd6aa61aa551da.yaml']",2,250d7667abe3f704351fc6b3d7baa55412e80a74,bug/1861189-stable/train,--- fixes: - | Fixes an issue with port prechecks for the Placement service. See `bug 1861189 <https://launchpad.net/bugs/1861189>`__ for details. ,,6,1
openstack%2Fironic-tempest-plugin~master~Ibea78605aedb955e3dc70252ca380c7e5f8f8726,openstack/ironic-tempest-plugin,master,Ibea78605aedb955e3dc70252ca380c7e5f8f8726,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-01-24 00:05:38.000000000,2020-03-06 13:16:47.000000000,2020-03-06 13:13:35.000000000,"[{'_account_id': 8556}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-01-24 00:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/7731beb8ba2a02ec04e3d1d262099d20ebfeb0bc', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAll stable jobs need to run on py3 as master ironic-tempest-plugin\ncannot support py2 anymore. Any py2 cloud/env can be tested by\ninstalling the Temepest and plugins on py3 venv.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ibea78605aedb955e3dc70252ca380c7e5f8f8726\n'}, {'number': 2, 'created': '2020-01-30 01:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a818ce756e8a085746bee8572289f5c647166fdd', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAll stable jobs need to run on py3 as master ironic-tempest-plugin\ncannot support py2 anymore. Any py2 cloud/env can be tested by\ninstalling the Temepest and plugins on py3 venv.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ibea78605aedb955e3dc70252ca380c7e5f8f8726\n'}, {'number': 3, 'created': '2020-02-13 16:30:09.000000000', 'files': ['test-requirements.txt', 'releasenotes/notes/drop-py-2-7-c81e7ff14950791b.yaml', 'zuul.d/stable-jobs.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/e83d220d032d46901bd7bfd905e12a227b256b9f', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nironic-tempest-plugin is ready with python 3 and ok to drop the\npython 2.7 support.\n\nAll stable jobs need to run on py3 as master ironic-tempest-plugin\ncannot support py2 anymore. Any py2 cloud/env can be tested by\ninstalling the Temepest and plugins on py3 venv.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: Ibea78605aedb955e3dc70252ca380c7e5f8f8726\n'}]",2,704093,e83d220d032d46901bd7bfd905e12a227b256b9f,40,5,3,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

ironic-tempest-plugin is ready with python 3 and ok to drop the
python 2.7 support.

All stable jobs need to run on py3 as master ironic-tempest-plugin
cannot support py2 anymore. Any py2 cloud/env can be tested by
installing the Temepest and plugins on py3 venv.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: Ibea78605aedb955e3dc70252ca380c7e5f8f8726
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/93/704093/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'releasenotes/notes/drop-py-2-7-c81e7ff14950791b.yaml', 'zuul.d/stable-jobs.yaml', 'setup.cfg', 'tox.ini']",5,7731beb8ba2a02ec04e3d1d262099d20ebfeb0bc,drop-py27-support,"envlist = py3,pep8basepython = python3","envlist = py3,py27,pep8basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",11,46
openstack%2Fkolla-ansible~stable%2Fstein~I71e3607c50110763259bfcd70ffb2f4c76e27f62,openstack/kolla-ansible,stable/stein,I71e3607c50110763259bfcd70ffb2f4c76e27f62,Use listen port for Placement precheck,MERGED,2019-11-11 22:05:33.000000000,2020-03-06 12:59:28.000000000,2020-03-06 12:57:46.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-11 22:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9d48ec7de2e61e3bad15b4fb851dd5926e04198', 'message': 'Use listen port for Placement precheck\n\nPlacement only needs its listen port to be free. During the Placement\nsplit from Nova in commit 2fc6d4cfc5 the wrong variable got moved into\nprecheck for Placement, this fixes it.\n\nChange-Id: I71e3607c50110763259bfcd70ffb2f4c76e27f62\n'}, {'number': 2, 'created': '2020-03-04 09:41:37.000000000', 'files': ['ansible/roles/placement/tasks/precheck.yml', 'releasenotes/notes/placement-listen-port-ebbd6aa61aa551da.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/623eb220a8dd9f90fb2f82b2aa7fb6df782998b6', 'message': 'Use listen port for Placement precheck\n\nPlacement only needs its listen port to be free. During the Placement\nsplit from Nova in commit 2fc6d4cfc5 the wrong variable got moved into\nprecheck for Placement, this fixes it.\n\nChange-Id: I71e3607c50110763259bfcd70ffb2f4c76e27f62\nCloses-Bug: #1861189\n(cherry picked from commit 49b30a267f4f82472862405ed258d2ca0e284278)\n'}]",0,693750,623eb220a8dd9f90fb2f82b2aa7fb6df782998b6,15,4,2,25138,,,0,"Use listen port for Placement precheck

Placement only needs its listen port to be free. During the Placement
split from Nova in commit 2fc6d4cfc5 the wrong variable got moved into
precheck for Placement, this fixes it.

Change-Id: I71e3607c50110763259bfcd70ffb2f4c76e27f62
Closes-Bug: #1861189
(cherry picked from commit 49b30a267f4f82472862405ed258d2ca0e284278)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/693750/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/placement/tasks/precheck.yml'],1,e9d48ec7de2e61e3bad15b4fb851dd5926e04198,," port: ""{{ placement_api_listen_port }}"""," port: ""{{ placement_api_port }}""",1,1
openstack%2Frpm-packaging~stable%2Ftrain~I1489bc8f0c0fbec75600629a44b1c30f11a4d037,openstack/rpm-packaging,stable/train,I1489bc8f0c0fbec75600629a44b1c30f11a4d037,python-troveclient: convert to python3,MERGED,2020-03-02 13:55:20.000000000,2020-03-06 12:56:12.000000000,2020-03-06 12:56:12.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 13:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/99f16566bea3693e18a4823bcd5e24ee693daf1b', 'message': 'python-troveclient: convert to python3\n\nChange-Id: I1489bc8f0c0fbec75600629a44b1c30f11a4d037\n(cherry picked from commit fd85d57b0752e93ffeb8abc0cf02a0bda552dee7)\n'}, {'number': 2, 'created': '2020-03-04 08:59:43.000000000', 'files': ['openstack/python-troveclient/python-troveclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/46bca802ea19a0728a89157d63e042ff8dfeded6', 'message': 'python-troveclient: convert to python3\n\nChange-Id: I1489bc8f0c0fbec75600629a44b1c30f11a4d037\n(cherry picked from commit fd85d57b0752e93ffeb8abc0cf02a0bda552dee7)\n'}]",0,710771,46bca802ea19a0728a89157d63e042ff8dfeded6,13,5,2,13294,,,0,"python-troveclient: convert to python3

Change-Id: I1489bc8f0c0fbec75600629a44b1c30f11a4d037
(cherry picked from commit fd85d57b0752e93ffeb8abc0cf02a0bda552dee7)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/71/710771/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-troveclient/python-troveclient.spec.j2'],1,99f16566bea3693e18a4823bcd5e24ee693daf1b,remove-python2-stable/train,"BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('httplib2') }} BuildRequires: {{ py3('keystoneauth1') }} BuildRequires: {{ py3('python-mistralclient') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('simplejson') }} BuildRequires: {{ py3('sphinxcontrib-apidoc') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('python-swiftclient') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n python3-troveclient Summary: Client library for OpenStack DBaaS API Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('python-mistralclient') }} Requires: {{ py3('osc-lib') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} Requires: {{ py3('simplejson') }} Requires: {{ py3('six') }} Requires: {{ py3('python-swiftclient') }} %description -n python3-troveclient This is a client for the Trove API. There's a Python API (the troveclient module), and a command-line script (trove). Each implements 100% (or less ;) ) of the Trove API. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n python3-troveclient%{python3_sitelib}/python_troveclient-*.egg-info %{python3_sitelib}/troveclient %{_bindir}/trove","BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('httplib2', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('keystoneauth1', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-mistralclient', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('simplejson', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('sphinxcontrib-apidoc', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-swiftclient', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('python-mistralclient') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('simplejson') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('python-swiftclient') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/trove%python_exec -m stestr.cli run %post %python_install_alternative trove %postun %python_uninstall_alternative trove %files %{python_files}%{python_sitelib}/python_troveclient-*.egg-info %{python_sitelib}/troveclient %python_alternative %{_bindir}/trove",44,50
openstack%2Frpm-packaging~stable%2Ftrain~Ic4cf2b84817ce2f9c8bd44415e614739b50c7a5c,openstack/rpm-packaging,stable/train,Ic4cf2b84817ce2f9c8bd44415e614739b50c7a5c,python-monascaclient: convert to python3,MERGED,2020-02-27 13:53:56.000000000,2020-03-06 12:54:03.000000000,2020-03-06 12:54:03.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-27 13:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/fffc0f618cead75fa56506e8af69b5fa30ea3a92', 'message': 'python-monascaclient: convert to python3\n\nChange-Id: Ic4cf2b84817ce2f9c8bd44415e614739b50c7a5c\n(cherry picked from commit a9c1255dc21f994afeeacbdbacb7626da08d58e9)\n'}, {'number': 2, 'created': '2020-03-04 08:54:40.000000000', 'files': ['openstack/python-monascaclient/python-monascaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0557c9bcee0cc72badd4de1dfed833516bc8ae69', 'message': 'python-monascaclient: convert to python3\n\nChange-Id: Ic4cf2b84817ce2f9c8bd44415e614739b50c7a5c\n(cherry picked from commit a9c1255dc21f994afeeacbdbacb7626da08d58e9)\n'}]",0,710261,0557c9bcee0cc72badd4de1dfed833516bc8ae69,17,5,2,13294,,,0,"python-monascaclient: convert to python3

Change-Id: Ic4cf2b84817ce2f9c8bd44415e614739b50c7a5c
(cherry picked from commit a9c1255dc21f994afeeacbdbacb7626da08d58e9)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/61/710261/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-monascaclient/python-monascaclient.spec.j2'],1,fffc0f618cead75fa56506e8af69b5fa30ea3a92,remove-python2-stable/train,BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('mox3') }} BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('osc-lib') }} BuildRequires: {{ py3('oslo.concurrency') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n python3-monascaclient Summary: Python API and CLI for OpenStack Monasca Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('PyYAML') }} Requires: {{ py3('iso8601') }} Requires: {{ py3('osc-lib') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} %description -n python3-monascaclient This is a client library for Monasca built to interface with the Monasca API. It provides a Python API (the ``monascaclient`` module) and a command-line tool (``monasca``). %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n python3-monascaclient%{python3_sitelib}/monascaclient %{python3_sitelib}/*.egg-info %{_bindir}/monasca,"BuildRequires: {{ py2pkg('PrettyTable', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('PyYAML', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mox3', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('openstackdocstheme', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('osc-lib', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.concurrency', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testscenarios', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install} %python_clone -a %{buildroot}%{_bindir}/monasca %post %python_install_alternative monasca %postun %python_uninstall_alternative monasca%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/monascaclient %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/monasca",41,49
openstack%2Frpm-packaging~master~I1c189650b3b053243c9b80281d8d9c2e62711b02,openstack/rpm-packaging,master,I1c189650b3b053243c9b80281d8d9c2e62711b02,update sushy to 3.1.0,MERGED,2020-03-06 08:59:13.000000000,2020-03-06 12:54:01.000000000,2020-03-06 12:54:01.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-06 08:59:13.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ef8c3c873aff14dd4fff8cfbf9197f6547959e89', 'message': 'update sushy to 3.1.0\n\nChange-Id: I1c189650b3b053243c9b80281d8d9c2e62711b02\n'}]",0,711594,ef8c3c873aff14dd4fff8cfbf9197f6547959e89,8,4,1,28654,,,0,"update sushy to 3.1.0

Change-Id: I1c189650b3b053243c9b80281d8d9c2e62711b02
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/94/711594/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,ef8c3c873aff14dd4fff8cfbf9197f6547959e89,bug/sushy,{% set upstream_version = upstream_version('3.1.0') %},{% set upstream_version = upstream_version('2.0.0') %},1,1
openstack%2Frpm-packaging~master~I2eb8afbf314541fa82b751370ff1b54b25f33019,openstack/rpm-packaging,master,I2eb8afbf314541fa82b751370ff1b54b25f33019,update constraint for oslo.log to new release 4.0.1,MERGED,2020-02-27 01:08:21.000000000,2020-03-06 12:53:57.000000000,2020-03-06 12:53:57.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-27 01:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/00088c2fcf2abbb361ecfb6cab2301042164a224', 'message': 'update constraint for oslo.log to new release 4.0.1\n\nDepends-on:I7597c3dcc6e1b39060b09ed01a93ed93f757dc27\nChange-Id: I2eb8afbf314541fa82b751370ff1b54b25f33019\n'}, {'number': 2, 'created': '2020-03-01 20:00:40.000000000', 'files': ['openstack/oslo.log/oslo.log.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bdd5cdf3f4e64aa36bca7870993d8112d02080a4', 'message': 'update constraint for oslo.log to new release 4.0.1\n\nDepends-on:I7597c3dcc6e1b39060b09ed01a93ed93f757dc27\nChange-Id: I2eb8afbf314541fa82b751370ff1b54b25f33019\n'}]",0,710164,bdd5cdf3f4e64aa36bca7870993d8112d02080a4,17,6,2,26571,,,0,"update constraint for oslo.log to new release 4.0.1

Depends-on:I7597c3dcc6e1b39060b09ed01a93ed93f757dc27
Change-Id: I2eb8afbf314541fa82b751370ff1b54b25f33019
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/64/710164/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.log/oslo.log.spec.j2'],1,00088c2fcf2abbb361ecfb6cab2301042164a224,oslo.log,{% set upstream_version = upstream_version('4.0.1') %},{% set upstream_version = upstream_version('4.0.0') %},1,1
openstack%2Frpm-packaging~master~Ic318bf025adc077be78ebc0f0882a66b70d04b0f,openstack/rpm-packaging,master,Ic318bf025adc077be78ebc0f0882a66b70d04b0f,update python-manilaclient to 2.0.0,MERGED,2020-02-28 06:04:27.000000000,2020-03-06 12:53:56.000000000,2020-03-06 12:53:56.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-28 06:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/380998c430820c8e18ca07330600127497e4ae9d', 'message': 'update python-manilaclient to 2.0.0\n\nChange-Id: Ic318bf025adc077be78ebc0f0882a66b70d04b0f\n'}, {'number': 2, 'created': '2020-03-01 20:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1294cf836a7a1b9d76dff6fbd4d6a6d8e4fde371', 'message': 'update python-manilaclient to 2.0.0\n\nChange-Id: Ic318bf025adc077be78ebc0f0882a66b70d04b0f\n'}, {'number': 3, 'created': '2020-03-04 12:08:00.000000000', 'files': ['openstack/python-manilaclient/python-manilaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30a39f992fd88562026a4023f61bbc21fee5bceb', 'message': 'update python-manilaclient to 2.0.0\n\nChange-Id: Ic318bf025adc077be78ebc0f0882a66b70d04b0f\n'}]",0,710389,30a39f992fd88562026a4023f61bbc21fee5bceb,22,6,3,28654,,,0,"update python-manilaclient to 2.0.0

Change-Id: Ic318bf025adc077be78ebc0f0882a66b70d04b0f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/710389/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-manilaclient/python-manilaclient.spec.j2'],1,380998c430820c8e18ca07330600127497e4ae9d,python-manilaclient,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.29.0') %},1,1
openstack%2Frpm-packaging~master~I75954775a42d4da4180c52d89b72c748b97ee953,openstack/rpm-packaging,master,I75954775a42d4da4180c52d89b72c748b97ee953,os-faults: fix tests run,MERGED,2020-02-22 11:57:35.000000000,2020-03-06 12:53:54.000000000,2020-03-06 12:53:54.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-22 11:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/64b57bec2b52900aaab0647e71e1be8fb71b76c9', 'message': ""os-faults: fix tests run\n\non SUSE's current pytest we now get:\n\n/var/tmp/rpm-tmp.sx5sKl: line 30: py.test-3: command not found\n\nBecause of update-alternatives being removed.\n\nChange-Id: I75954775a42d4da4180c52d89b72c748b97ee953\n""}, {'number': 2, 'created': '2020-02-22 12:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3ff40cfa1280a5b6467283319f0c0a2f7f422742', 'message': ""os-faults: fix tests run\n\non SUSE's current pytest we now get:\n\n/var/tmp/rpm-tmp.sx5sKl: line 30: py.test-3: command not found\n\nBecause of update-alternatives being removed.\n\nChange-Id: I75954775a42d4da4180c52d89b72c748b97ee953\n""}, {'number': 3, 'created': '2020-03-04 12:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5eafecb3d58c034da3384ae0f489cd7879aaafb5', 'message': ""os-faults: fix tests run\n\non SUSE's current pytest we now get:\n\n/var/tmp/rpm-tmp.sx5sKl: line 30: py.test-3: command not found\n\nBecause of update-alternatives being removed.\n\nChange-Id: I75954775a42d4da4180c52d89b72c748b97ee953\n""}, {'number': 4, 'created': '2020-03-05 12:23:37.000000000', 'files': ['openstack/os-faults/os-faults.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d007b1eb9df3ee1a06498d9722371854c29fe954', 'message': ""os-faults: fix tests run\n\non SUSE's current pytest we now get:\n\n/var/tmp/rpm-tmp.sx5sKl: line 30: py.test-3: command not found\n\nBecause of update-alternatives being removed.\n\nChange-Id: I75954775a42d4da4180c52d89b72c748b97ee953\n""}]",0,709289,d007b1eb9df3ee1a06498d9722371854c29fe954,26,6,4,6593,,,0,"os-faults: fix tests run

on SUSE's current pytest we now get:

/var/tmp/rpm-tmp.sx5sKl: line 30: py.test-3: command not found

Because of update-alternatives being removed.

Change-Id: I75954775a42d4da4180c52d89b72c748b97ee953
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/89/709289/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-faults/os-faults.spec.j2'],1,64b57bec2b52900aaab0647e71e1be8fb71b76c9,,python3 -m pytest -vvvv --durations=10 os_faults/test/unit,"py.test-3 -vvvv --durations=10 ""os_faults/tests/unit""",1,1
openstack%2Frpm-packaging~master~If05daa6d00cf56c7b7f84b6674b096dfcacf5315,openstack/rpm-packaging,master,If05daa6d00cf56c7b7f84b6674b096dfcacf5315,update python-monascaclient to 2.0.0,MERGED,2020-02-20 03:21:49.000000000,2020-03-06 12:52:14.000000000,2020-03-06 12:52:14.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-20 03:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0e0f5bfc47bfc54a1047699b1e59990c41668fd6', 'message': 'update python-monascaclient to 2.0.0\n\nChange-Id: If05daa6d00cf56c7b7f84b6674b096dfcacf5315\n'}, {'number': 2, 'created': '2020-03-04 12:00:27.000000000', 'files': ['openstack/python-monascaclient/python-monascaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9f2dcf3cff500f3888b7f3b79e53620301c63b0d', 'message': 'update python-monascaclient to 2.0.0\n\nChange-Id: If05daa6d00cf56c7b7f84b6674b096dfcacf5315\n'}]",0,708793,9f2dcf3cff500f3888b7f3b79e53620301c63b0d,16,6,2,28654,,,0,"update python-monascaclient to 2.0.0

Change-Id: If05daa6d00cf56c7b7f84b6674b096dfcacf5315
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/93/708793/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-monascaclient/python-monascaclient.spec.j2'],1,0e0f5bfc47bfc54a1047699b1e59990c41668fd6,python-monascaclient,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.16.0') %},1,1
openstack%2Frpm-packaging~master~I77eda5bb74068496c6832e57fcae0bd3b671f4f7,openstack/rpm-packaging,master,I77eda5bb74068496c6832e57fcae0bd3b671f4f7,update python-congressclient to 2.0.0,MERGED,2020-02-28 07:04:41.000000000,2020-03-06 12:51:06.000000000,2020-03-06 12:51:06.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-28 07:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0965eee092356c8037825baa1465a0fde6565573', 'message': 'update python-congressclient to 2.0.0\n\nChange-Id: I77eda5bb74068496c6832e57fcae0bd3b671f4f7\n'}, {'number': 2, 'created': '2020-03-01 11:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/67eb4a5b87cce95bfd67e6ec56525e5efa7118ac', 'message': 'update python-congressclient to 2.0.0\n\nChange-Id: I77eda5bb74068496c6832e57fcae0bd3b671f4f7\n'}, {'number': 3, 'created': '2020-03-04 12:05:38.000000000', 'files': ['openstack/python-congressclient/python-congressclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c6675d669a55a574c32f3042096c64137a04e5d5', 'message': 'update python-congressclient to 2.0.0\n\nChange-Id: I77eda5bb74068496c6832e57fcae0bd3b671f4f7\n'}]",0,710399,c6675d669a55a574c32f3042096c64137a04e5d5,22,6,3,28654,,,0,"update python-congressclient to 2.0.0

Change-Id: I77eda5bb74068496c6832e57fcae0bd3b671f4f7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/99/710399/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-congressclient/python-congressclient.spec.j2'],1,0965eee092356c8037825baa1465a0fde6565573,python-congressclient,{% set upstream_version = upstream_version('2.0.0') %},{% set upstream_version = upstream_version('1.13.0') %},1,1
openstack%2Fcharm-neutron-dynamic-routing~master~Icc10d12a921d4fc6d3d775a591039becef73a846,openstack/charm-neutron-dynamic-routing,master,Icc10d12a921d4fc6d3d775a591039becef73a846,Update charm build requirements,MERGED,2020-03-03 08:57:27.000000000,2020-03-06 12:49:50.000000000,2020-03-06 12:49:49.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:57:27.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/2d43e2677ce5c189d06cceaff82bfa70dfa6b3a9', 'message': 'Update charm build requirements\n\nChange-Id: Icc10d12a921d4fc6d3d775a591039becef73a846\n'}]",0,710947,2d43e2677ce5c189d06cceaff82bfa70dfa6b3a9,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: Icc10d12a921d4fc6d3d775a591039becef73a846
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/47/710947/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2d43e2677ce5c189d06cceaff82bfa70dfa6b3a9,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Fnova~master~Ieb04c83659154ec038efadaeb228930268ad8bce,openstack/nova,master,Ieb04c83659154ec038efadaeb228930268ad8bce,Add test coverage of existing console_output policies,MERGED,2020-02-10 00:55:29.000000000,2020-03-06 12:49:47.000000000,2020-03-06 12:45:22.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-10 00:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cfbe4e7f4c8f930e8cd2bef8add700287c162805', 'message': 'Add test coverage of existing console_output policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing console_output policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ieb04c83659154ec038efadaeb228930268ad8bce\n'}, {'number': 2, 'created': '2020-02-10 01:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aecf102a5997edfda22278f140d5b987bd63ae0a', 'message': 'Add test coverage of existing console_output policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing console_output policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ieb04c83659154ec038efadaeb228930268ad8bce\n'}, {'number': 3, 'created': '2020-02-10 01:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/600058fe032e504db47c750565f851ddf950c252', 'message': 'Add test coverage of existing console_output policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing console_output policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ieb04c83659154ec038efadaeb228930268ad8bce\n'}, {'number': 4, 'created': '2020-02-10 03:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f9cb4c5b11d5efdb92543fa9e6bc52b76887299d', 'message': 'Add test coverage of existing console_output policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing console_output policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ieb04c83659154ec038efadaeb228930268ad8bce\n'}, {'number': 5, 'created': '2020-03-02 11:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/623c7ea78a39d00a027ebc052650285d49774aa2', 'message': 'Add test coverage of existing console_output policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing console_output policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ieb04c83659154ec038efadaeb228930268ad8bce\n'}, {'number': 6, 'created': '2020-03-06 01:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab8bf49d163bca7c75ee15305f80c436956964ef', 'message': 'Add test coverage of existing console_output policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing console_output policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ieb04c83659154ec038efadaeb228930268ad8bce\n'}, {'number': 7, 'created': '2020-03-06 01:28:11.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_console_output.py', 'nova/tests/unit/policies/test_console_output.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b0d5357b29720ee66a7cf619ea31370a99b410df', 'message': 'Add test coverage of existing console_output policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing console_output policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ieb04c83659154ec038efadaeb228930268ad8bce\n'}]",0,706724,b0d5357b29720ee66a7cf619ea31370a99b410df,47,11,7,8556,,,0,"Add test coverage of existing console_output policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing console_output policies.

Partial implement blueprint policy-defaults-refresh

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing

Change-Id: Ieb04c83659154ec038efadaeb228930268ad8bce
",git fetch https://review.opendev.org/openstack/nova refs/changes/24/706724/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_console_output.py'],1,cfbe4e7f4c8f930e8cd2bef8add700287c162805,bp/policy-defaults-refresh,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import mock from oslo_utils.fixture import uuidsentinel as uuids from oslo_utils import timeutils from nova.api.openstack.compute import console_output from nova.compute import vm_states from nova.tests.unit.api.openstack import fakes from nova.tests.unit import fake_instance from nova.tests.unit.policies import base class ConsoleOutputPolicyTest(base.BasePolicyTest): """"""Test Console Output APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(ConsoleOutputPolicyTest, self).setUp() self.controller = console_output.ConsoleOutputController() self.req = fakes.HTTPRequest.blank('') self.mock_get = self.useFixture( fixtures.MockPatch('nova.api.openstack.common.get_instance')).mock uuid = uuids.fake_id self.instance = fake_instance.fake_instance_obj( self.project_member_context, project_id=self.project_id, id=1, uuid=uuid, vm_state=vm_states.ACTIVE, task_state=None, launched_at=timeutils.utcnow()) self.mock_get.return_value = self.instance # Check that admin or owner is able to get the server console. self.admin_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_member_context, self.project_reader_context, self.project_foo_context ] # Check that non-admin and non-owner is not able to get the server # console. self.admin_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] @mock.patch('nova.compute.api.API.get_console_output') def test_console_output_policy(self, mock_console): mock_console.return_value = '\n'.join([str(i) for i in range(2)]) rule_name = ""os_compute_api:os-console-output"" self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.get_console_output, self.req, self.instance.uuid, body={'os-getConsoleOutput': {}}) class ConsoleOutputScopeTypePolicyTest(ConsoleOutputPolicyTest): """"""Test Console Output APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scopped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(ConsoleOutputScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,84,0
openstack%2Fcharm-neutron-api-plugin-ovn~master~I372a20be8c2ebb1e643b9552d2bbb34773ad8b7a,openstack/charm-neutron-api-plugin-ovn,master,I372a20be8c2ebb1e643b9552d2bbb34773ad8b7a,Update charm build requirements,MERGED,2020-03-03 08:57:14.000000000,2020-03-06 12:49:21.000000000,2020-03-06 12:49:21.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:57:14.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/b24d1fc8fd841ed4a153407fa27c9fb9029322c9', 'message': 'Update charm build requirements\n\nChange-Id: I372a20be8c2ebb1e643b9552d2bbb34773ad8b7a\n'}]",0,710946,b24d1fc8fd841ed4a153407fa27c9fb9029322c9,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: I372a20be8c2ebb1e643b9552d2bbb34773ad8b7a
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/46/710946/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b24d1fc8fd841ed4a153407fa27c9fb9029322c9,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fcharm-manila-ganesha~master~Ie92736637301d9dfdab19c469171d92fef3b8bee,openstack/charm-manila-ganesha,master,Ie92736637301d9dfdab19c469171d92fef3b8bee,Update charm build requirements,MERGED,2020-03-03 08:55:52.000000000,2020-03-06 12:49:14.000000000,2020-03-06 12:49:14.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:55:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/e680e93c4f3eb05a3d529d68b61b260bdc82d896', 'message': 'Update charm build requirements\n\nChange-Id: Ie92736637301d9dfdab19c469171d92fef3b8bee\n'}]",0,710940,e680e93c4f3eb05a3d529d68b61b260bdc82d896,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: Ie92736637301d9dfdab19c469171d92fef3b8bee
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/40/710940/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e680e93c4f3eb05a3d529d68b61b260bdc82d896,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0 simplejson ,simplejson,3,1
openstack%2Frpm-packaging~master~I3456c61edd958f5b773df7d5a4688753be97e5db,openstack/rpm-packaging,master,I3456c61edd958f5b773df7d5a4688753be97e5db,update pyghmi to 1.5.8,MERGED,2020-02-28 06:42:38.000000000,2020-03-06 12:46:37.000000000,2020-03-06 12:46:36.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-28 06:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7d0cacbe53c828fc4e9247de4d84d26932c61d0a', 'message': 'update pyghmi to 1.5.8\n\nChange-Id: I3456c61edd958f5b773df7d5a4688753be97e5db\n'}, {'number': 2, 'created': '2020-03-01 11:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/64446873d39c82338456e4628881819fc08335ae', 'message': 'update pyghmi to 1.5.8\n\nChange-Id: I3456c61edd958f5b773df7d5a4688753be97e5db\n'}, {'number': 3, 'created': '2020-03-04 12:05:04.000000000', 'files': ['openstack/pyghmi/pyghmi.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dd9da49f5a0056f828c3fc888949f66ba91b39ee', 'message': 'update pyghmi to 1.5.8\n\nNOTE(dmllr): fix requires\n\nChange-Id: I3456c61edd958f5b773df7d5a4688753be97e5db\n'}]",0,710395,dd9da49f5a0056f828c3fc888949f66ba91b39ee,19,6,3,28654,,,0,"update pyghmi to 1.5.8

NOTE(dmllr): fix requires

Change-Id: I3456c61edd958f5b773df7d5a4688753be97e5db
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/95/710395/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/pyghmi/pyghmi.spec.j2'],1,7d0cacbe53c828fc4e9247de4d84d26932c61d0a,pyghmi,{% set upstream_version = upstream_version('1.5.8') %},{% set upstream_version = upstream_version('1.4.1') %},1,1
openstack%2Fnova~master~Ic6e1fb081fe61262f718efc045b3b3f28694e8a7,openstack/nova,master,Ic6e1fb081fe61262f718efc045b3b3f28694e8a7,Add a tests to check when legacy access is removed,MERGED,2020-03-02 16:17:11.000000000,2020-03-06 12:45:07.000000000,2020-03-06 12:45:07.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-02 16:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/636f7326bfff4cffc6fcbfa2dffde7bc4fda9e43', 'message': 'Add a tests to check when legacy access is removed\n\nChange-Id: Ic6e1fb081fe61262f718efc045b3b3f28694e8a7\n'}, {'number': 2, 'created': '2020-03-02 16:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/950b93340b7a845ac88073bbcd8014db39a50afa', 'message': 'Add a tests to check when legacy access is removed\n\nThis test is trying to check how an operator is able to adopt things\nlike project_reader. We need project_member APIs to not be available\nto the project_reader.\n\nThis basically simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nChange-Id: Ic6e1fb081fe61262f718efc045b3b3f28694e8a7\n'}, {'number': 3, 'created': '2020-03-05 23:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0c8e50d6ce87f54b5d5c159f1c38002fb99afe2', 'message': 'Add a tests to check when legacy access is removed\n\nThis test is trying to check how an operator is able to adopt things\nlike project_reader. We need project_member APIs to not be available\nto the project_reader.\n\nThis basically simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ic6e1fb081fe61262f718efc045b3b3f28694e8a7\n'}, {'number': 4, 'created': '2020-03-06 01:06:17.000000000', 'files': ['nova/tests/unit/policies/test_admin_password.py', 'nova/tests/unit/policies/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/608e063c6334ceddb0cc206c33784a1e0b106ac1', 'message': 'Add a tests to check when legacy access is removed\n\nThis test is trying to check how an operator is able to adopt things\nlike project_reader. We need project_member APIs to not be available\nto the project_reader.\n\nThis basically simulates the future where we drop the deprecation\nfall back in the policy by overriding the rules with a version where\nthere are no deprecated rule options. Operators can do the same by\nadding overrides in their policy files that match the default but\nstop the rule deprecation fallback from happening.\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: Ic6e1fb081fe61262f718efc045b3b3f28694e8a7\n'}]",10,710813,608e063c6334ceddb0cc206c33784a1e0b106ac1,32,10,4,782,,,0,"Add a tests to check when legacy access is removed

This test is trying to check how an operator is able to adopt things
like project_reader. We need project_member APIs to not be available
to the project_reader.

This basically simulates the future where we drop the deprecation
fall back in the policy by overriding the rules with a version where
there are no deprecated rule options. Operators can do the same by
adding overrides in their policy files that match the default but
stop the rule deprecation fallback from happening.

Partial implement blueprint policy-defaults-refresh

Change-Id: Ic6e1fb081fe61262f718efc045b3b3f28694e8a7
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/710813/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_admin_password.py'],1,636f7326bfff4cffc6fcbfa2dffde7bc4fda9e43,bp/policy-defaults-refresh," class AdminPasswordNoLegacyPolicyTest(AdminPasswordPolicyTest): """"""Test Admin Password APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scoped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(AdminPasswordNoLegacyPolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") # To simulate the new world, remove deprecations by overriding rules # TODO(johngarbutt): we should import these rules from base policy self.policy.set_rules( {self.rule_name: ""rule:system_admin_or_owner"", ""system_admin_or_owner"": ""rule:system_admin_api or rule:project_member_api"", ""system_admin_api"": ""role:admin and system_scope:all"", ""project_member_api"": ""role:member and project_id:%(project_id)s"" }) # Check that system or projct admin or owner is able to change # the password. self.admin_authorized_contexts = [ self.system_admin_context, self.project_admin_context, self.project_member_context] # Check that non-system and non-admin/owner is not able to change the self.admin_unauthorized_contexts = [ self.legacy_admin_context, self.project_reader_context, self.project_foo_context, self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context]",,40,0
openstack%2Fnova~master~I7757adf925006f0b3f2558e0cbb3175e885718f9,openstack/nova,master,I7757adf925006f0b3f2558e0cbb3175e885718f9,Add test coverage of existing os-instance-actions policies,MERGED,2020-02-14 07:57:56.000000000,2020-03-06 12:44:46.000000000,2020-03-06 12:44:46.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-14 07:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56d3cdf97182a7faef4fc18a6b2d904e69f8608c', 'message': 'Add test coverage of existing os-instance-actions policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-instance-actions\npolicies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I7757adf925006f0b3f2558e0cbb3175e885718f9\n'}, {'number': 2, 'created': '2020-02-14 09:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60fb73e4cc04d554af912b1ef22660584d493c3e', 'message': 'Add test coverage of existing os-instance-actions policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-instance-actions\npolicies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I7757adf925006f0b3f2558e0cbb3175e885718f9\n'}, {'number': 3, 'created': '2020-02-28 14:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff6ba2505cd61f2756a14ac8507c69fa4c7485ac', 'message': 'Add test coverage of existing os-instance-actions policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-instance-actions\npolicies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I7757adf925006f0b3f2558e0cbb3175e885718f9\n'}, {'number': 4, 'created': '2020-02-29 00:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79af8045622cafe5411755cb0b7377ce679790c0', 'message': 'Add test coverage of existing os-instance-actions policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-instance-actions\npolicies.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\nChange-Id: I7757adf925006f0b3f2558e0cbb3175e885718f9\n'}, {'number': 5, 'created': '2020-03-05 10:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/112841848437b2fa737afe9ade3eb285c77192eb', 'message': ""Add test coverage of existing os-instance-actions policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-instance-actions\npolicies, and updating the 'common_policy_check()' function in\nnova/tests/unit/policies/base.py, while we request 'fatal=False' in\n'context.can()' that we can get the API function response to assert\nsomething.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I7757adf925006f0b3f2558e0cbb3175e885718f9\n""}, {'number': 6, 'created': '2020-03-06 00:59:54.000000000', 'files': ['nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/policies/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2f11a5a0a95dbcbda56455db76ebab93e2f68cd4', 'message': ""Add test coverage of existing os-instance-actions policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing os-instance-actions\npolicies, and updating the 'common_policy_check()' function in\nnova/tests/unit/policies/base.py, while we request 'fatal=False' in\n'context.can()' that we can get the API function response to assert\nsomething.\n\n[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nPartial implement blueprint policy-defaults-refresh\n\nChange-Id: I7757adf925006f0b3f2558e0cbb3175e885718f9\n""}]",11,707777,2f11a5a0a95dbcbda56455db76ebab93e2f68cd4,49,10,6,26458,,,0,"Add test coverage of existing os-instance-actions policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin role
- policy check fail with context having any other role than admin

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.
When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing os-instance-actions
policies, and updating the 'common_policy_check()' function in
nova/tests/unit/policies/base.py, while we request 'fatal=False' in
'context.can()' that we can get the API function response to assert
something.

[1]https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing

Partial implement blueprint policy-defaults-refresh

Change-Id: I7757adf925006f0b3f2558e0cbb3175e885718f9
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/707777/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_instance_actions.py', 'nova/tests/unit/api/openstack/compute/test_instance_actions.py', 'nova/tests/unit/policies/base.py']",3,56d3cdf97182a7faef4fc18a6b2d904e69f8608c,bp/policy-defaults-refresh,"import copy def ensure_raises(req, *args, **kwargs): args1 = copy.deepcopy(arg) kwargs1 = copy.deepcopy(kwarg) func(req, *args1, **kwargs1) args1 = copy.deepcopy(arg) kwargs1 = copy.deepcopy(kwarg) ensure_raises(req, *args1, **kwargs1)"," def ensure_raises(req): func(req, *arg, **kwarg) ensure_raises(req)",163,42
openstack%2Ftripleo-heat-templates~master~I867e0bcbfc54d759be85cb572413ad46d139d668,openstack/tripleo-heat-templates,master,I867e0bcbfc54d759be85cb572413ad46d139d668,Fix mapping of KeystoneOpenIdcEnableOAuth,MERGED,2020-02-28 10:14:30.000000000,2020-03-06 12:08:46.000000000,2020-02-29 15:19:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 10:14:30.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71dd438149b2d96af0658f34678b2dba2d36bdf2', 'message': 'Fix mapping of KeystoneOpenIdcEnableOAuth\n\nKeystoneOpenIdcEnableOAuth currently creates a hiera entry\n""keystone::federation::openidc::openidc_oauth_enabled"", however this doesn\'t\nexist, it\'s ""keystone::federation::openidc::openidc_enable_oauth""\n\nChange-Id: I867e0bcbfc54d759be85cb572413ad46d139d668\n'}]",0,710422,71dd438149b2d96af0658f34678b2dba2d36bdf2,16,4,1,14369,,,0,"Fix mapping of KeystoneOpenIdcEnableOAuth

KeystoneOpenIdcEnableOAuth currently creates a hiera entry
""keystone::federation::openidc::openidc_oauth_enabled"", however this doesn't
exist, it's ""keystone::federation::openidc::openidc_enable_oauth""

Change-Id: I867e0bcbfc54d759be85cb572413ad46d139d668
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/710422/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,71dd438149b2d96af0658f34678b2dba2d36bdf2,openidc_enable_oauth, keystone::federation::openidc::openidc_enable_oauth:, keystone::federation::openidc::openidc_oauth_enabled:,1,1
openstack%2Fcharm-mysql-innodb-cluster~master~I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1,openstack/charm-mysql-innodb-cluster,master,I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1,Restore mysqldump action,MERGED,2020-02-18 23:38:11.000000000,2020-03-06 12:06:55.000000000,2020-03-06 12:06:55.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-18 23:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f03868550a2c9070832d0dbd23c5591d46d3b208', 'message': 'Restore mysqldump action\n\nThe restore-mysqldump action will read a msyqldump SQL file and restore\ndatabase data.\n\nChange-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1\n'}, {'number': 2, 'created': '2020-02-19 22:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/216045aa4887539e7c9fc4e1ee8761a34ea8120a', 'message': 'Restore mysqldump action\n\nThe restore-mysqldump action will read a msyqldump SQL file and restore\ndatabase data.\n\nChange-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1\n'}, {'number': 3, 'created': '2020-02-22 00:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a8f313ca3b5f6e89b1dcb6610e05f8f2a6b4cfea', 'message': 'Restore mysqldump action\n\nThe restore-mysqldump action will read a msyqldump SQL file and restore\ndatabase data.\n\nChange-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1\n'}, {'number': 4, 'created': '2020-02-28 23:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/56bc7d21e47c823331ac5d48d8f311a89df5b4e4', 'message': 'Restore mysqldump action\n\nThe restore-mysqldump action will read a msyqldump SQL file and restore\ndatabase data.\n\nChange-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1\n'}, {'number': 5, 'created': '2020-03-02 16:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a5ff13009ddfc1244a7156f756f57450b4173114', 'message': 'Restore mysqldump action\n\nThe restore-mysqldump action will read a msyqldump SQL file and restore\ndatabase data.\n\nChange-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1\n'}, {'number': 6, 'created': '2020-03-06 10:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/c448f2cf8bfceee2bcf259cf456ed38afabfd40c', 'message': 'Restore mysqldump action\n\nThe restore-mysqldump action will read a msyqldump SQL file and restore\ndatabase data.\n\nChange-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1\n'}, {'number': 7, 'created': '2020-03-06 10:57:39.000000000', 'files': ['src/actions.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py', 'src/templates/root-my.cnf', 'src/actions/restore-mysqldump'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/405c388318b2e1c8e87ce70d2deb430296c73ff5', 'message': 'Restore mysqldump action\n\nThe restore-mysqldump action will read a msyqldump SQL file and restore\ndatabase data.\n\nChange-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1\n'}]",5,708537,405c388318b2e1c8e87ce70d2deb430296c73ff5,31,5,7,20805,,,0,"Restore mysqldump action

The restore-mysqldump action will read a msyqldump SQL file and restore
database data.

Change-Id: I27fa3f5c88df7dede1cdf15d9e128b4a35391bb1
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/37/708537/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions.yaml', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/actions/actions.py', 'src/actions/restore-mysqldump']",4,f03868550a2c9070832d0dbd23c5591d46d3b208,mysql8-migration,actions.py,,77,7
openstack%2Fkolla-ansible~master~If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2,openstack/kolla-ansible,master,If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2,zuul: drop all CentOS 7 jobs,MERGED,2020-03-05 09:48:40.000000000,2020-03-06 12:03:19.000000000,2020-03-06 12:00:29.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 09:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c54b5b5e159dcc16a3e37168e985d1130e6b32d6', 'message': 'zuul: drop all CentOS 7 jobs\n\nChange-Id: If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2\n'}, {'number': 2, 'created': '2020-03-05 09:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2cc107459e0cc73bfc36893f451b0d26512154ac', 'message': 'zuul: drop all CentOS 7 jobs\n\nChange-Id: If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2\n'}, {'number': 3, 'created': '2020-03-05 09:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb6f1798d24334e0ef41fabca06b6d43f26765b3', 'message': 'zuul: drop all CentOS 7 jobs\n\nDepends-On: https://review.opendev.org/#/c/711413/\n\nChange-Id: If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2\n'}, {'number': 4, 'created': '2020-03-05 11:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56ca2b708e43afc2374387aa752dc884c5f015a9', 'message': 'zuul: drop all CentOS 7 jobs\n\nDepends-On: https://review.opendev.org/#/c/711413/\n\nChange-Id: If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2\n'}, {'number': 5, 'created': '2020-03-06 09:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3bcf0a31a5a244c1c450a9bdaae75dae9f14cdd', 'message': 'zuul: drop all CentOS 7 jobs\n\nChange-Id: If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2\n'}, {'number': 6, 'created': '2020-03-06 11:14:07.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f487fc5e5cab3446da27ab33b5b5399f83e0ef5a', 'message': 'zuul: drop all CentOS 7 jobs\n\nChange-Id: If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2\n'}]",5,711414,f487fc5e5cab3446da27ab33b5b5399f83e0ef5a,26,4,6,24072,,,0,"zuul: drop all CentOS 7 jobs

Change-Id: If63e1d00f0e56b65b636d38a6533c63d2ee1e0e2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/711414/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c54b5b5e159dcc16a3e37168e985d1130e6b32d6,, base_tag: 8, name: kolla-ansible-centos-source parent: kolla-ansible-base nodeset: kolla-ansible-centos vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-binary parent: kolla-ansible-base nodeset: kolla-ansible-centos voting: false vars: base_distro: centos install_type: binary - job: name: kolla-ansible-centos-source-ceph-ansible parent: kolla-ansible-ceph-ansible-base nodeset: kolla-ansible-centos-multi timeout: 9000 vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-source-mariadb parent: kolla-ansible-mariadb-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-source-upgrade parent: kolla-ansible-base nodeset: kolla-ansible-centos timeout: 9000 vars: base_distro: centos install_type: source is_upgrade: yes - job: name: kolla-ansible-centos-source-upgrade-ceph-ansible parent: kolla-ansible-ceph-ansible-base nodeset: kolla-ansible-centos-multi timeout: 9000 vars: base_distro: centos install_type: source is_upgrade: yes - job: name: kolla-ansible-bifrost-centos-source parent: kolla-ansible-bifrost-base nodeset: kolla-ansible-centos vars: base_distro: centos - job: name: kolla-ansible-centos-source-zun parent: kolla-ansible-zun-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-source-swift parent: kolla-ansible-swift-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-source-scenario-nfv parent: kolla-ansible-scenario-nfv-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-source-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-centos vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-binary-ironic parent: kolla-ansible-ironic-base nodeset: kolla-ansible-centos vars: base_distro: centos install_type: binary - job: name: kolla-ansible-centos-source-masakari parent: kolla-ansible-masakari-base nodeset: kolla-ansible-centos vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-source-cells parent: kolla-ansible-cells-base nodeset: kolla-ansible-centos-multi vars: base_distro: centos install_type: source - job: name: kolla-ansible-centos-source-linuxbridge parent: kolla-ansible-linuxbridge-base nodeset: kolla-ansible-centos vars: base_distro: centos install_type: source - job:,1,125
openstack%2Fkolla~master~I9e30f161938c4fe45d91c35d26b308148d082ca8,openstack/kolla,master,I9e30f161938c4fe45d91c35d26b308148d082ca8,Unpin openstack/requirements,MERGED,2020-03-06 00:48:49.000000000,2020-03-06 12:03:14.000000000,2020-03-06 12:00:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-06 00:48:49.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f5bb4776e4a6cf64a7b46fbed66e2f5215b1c99a', 'message': 'Unpin openstack/requirements\n\nPinning no longer required because of the black list of\noslo.cache 2.1.0 in openstack/requirements.\n\nRelated-Bug: #1866008\n\nChange-Id: I9e30f161938c4fe45d91c35d26b308148d082ca8\nDepends-On: https://review.opendev.org/#/c/711427/\n'}]",0,711570,f5bb4776e4a6cf64a7b46fbed66e2f5215b1c99a,15,4,1,167,,,0,"Unpin openstack/requirements

Pinning no longer required because of the black list of
oslo.cache 2.1.0 in openstack/requirements.

Related-Bug: #1866008

Change-Id: I9e30f161938c4fe45d91c35d26b308148d082ca8
Depends-On: https://review.opendev.org/#/c/711427/
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/711570/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,f5bb4776e4a6cf64a7b46fbed66e2f5215b1c99a,lp1866008," 'openstack-base': { 'type': 'url', 'location': ('$tarballs_base/requirements/' 'requirements-${openstack_branch}.tar.gz')},"," # FIXME(mgoddard): Pinning requirements to # ea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid # oslo.cache 2.1.0, which breaks us. See # https://bugs.launchpad.net/kolla-ansible/+bug/1866008. 'openstack-base': { 'type': 'git', 'location': 'https://opendev.org/openstack/requirements', 'reference': 'ea42244642c3c091cb4f70917ae8d79af217b6af'},",3,7
openstack%2Fkolla-ansible~master~I3e1ca3ac0a8bac8ba68911ffb4925c5a474f24dd,openstack/kolla-ansible,master,I3e1ca3ac0a8bac8ba68911ffb4925c5a474f24dd,Add deprecation note to nova-hyperv role,MERGED,2020-03-03 19:00:26.000000000,2020-03-06 11:54:13.000000000,2020-03-06 11:52:47.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 19:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ea33eafc976b113d2ba8425e394f3110b3fa815', 'message': 'Add deprecation note to nova-hyperv role\n\nThe support of hyperv was deprecated.\n\nChange-Id: I3e1ca3ac0a8bac8ba68911ffb4925c5a474f24dd\n'}, {'number': 2, 'created': '2020-03-05 12:13:46.000000000', 'files': ['ansible/roles/nova-hyperv/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e81eed930e391b0d04b8324cf3b1372760bad5bc', 'message': 'Add deprecation note to nova-hyperv role\n\nThe support of hyperv was deprecated.\n\nChange-Id: I3e1ca3ac0a8bac8ba68911ffb4925c5a474f24dd\n'}]",0,711088,e81eed930e391b0d04b8324cf3b1372760bad5bc,19,4,2,167,,,0,"Add deprecation note to nova-hyperv role

The support of hyperv was deprecated.

Change-Id: I3e1ca3ac0a8bac8ba68911ffb4925c5a474f24dd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/711088/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova-hyperv/tasks/main.yml'],1,6ea33eafc976b113d2ba8425e394f3110b3fa815,role-nove-hyperv-deprecation-note,- name: Warn about deprecation debug: msg: > Nova Hyper-V deployment role is deprecated in Ussuri and will be removed in Victoria. Please read release notes for more background. ,,6,0
openstack%2Fnova~master~I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3,openstack/nova,master,I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3,Add test coverage of existing attach_interfaces policies,MERGED,2020-01-30 22:16:56.000000000,2020-03-06 11:49:58.000000000,2020-03-06 11:49:58.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-30 22:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd113aeb2da85e6f7321612791e059092eca2ad', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 2, 'created': '2020-01-30 22:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8cc49e40dfa732e776e478beba1d03d8fc9168a7', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 3, 'created': '2020-01-30 22:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e65da2d519767fff7d9616eed0797c8116661180', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 4, 'created': '2020-01-30 23:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2cafaeb7acb7e2bcf37dca4a7df372ca7c12e037', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 5, 'created': '2020-01-31 15:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fedfaea795156b594f909cb4d96e3aa5fb7875b', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 6, 'created': '2020-02-03 19:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7aa68ea06d6416413a4f7a87d23ecdb4e755a7fb', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 7, 'created': '2020-02-03 19:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d903607599d6fb3f5747085f49ba70547859b6c', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 8, 'created': '2020-02-05 22:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0504edbd67d505c74d658804c8951e48626b0923', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 9, 'created': '2020-02-10 15:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9099f0b22d5f40ac015ae64518c1134e397af813', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 10, 'created': '2020-03-04 09:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9059712ba10e189e85453f2686917d070b059aff', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}, {'number': 11, 'created': '2020-03-04 21:11:10.000000000', 'files': ['nova/tests/unit/policies/test_attach_interfaces.py', 'nova/tests/unit/api/openstack/compute/test_attach_interfaces.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/76c23785b149d64cb40d798feab0049e7f13055c', 'message': 'Add test coverage of existing attach_interfaces policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin or server owner\n- policy check fail with context having non-admin and not server owner\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\n\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing attach_interfaces policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3\n'}]",2,705126,76c23785b149d64cb40d798feab0049e7f13055c,65,11,11,8556,,,0,"Add test coverage of existing attach_interfaces policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin or server owner
- policy check fail with context having non-admin and not server owner

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.

When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing attach_interfaces policies.

Partial implement blueprint policy-defaults-refresh

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing

Change-Id: I8a91db6c13710b693b3b4a3d002fd2ac09fcf3f3
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/705126/11 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/policies/test_attach_interfaces.py'],1,9fd113aeb2da85e6f7321612791e059092eca2ad,bp/policy-defaults-refresh,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslo_utils.fixture import uuidsentinel as uuids from nova.api.openstack.compute import attach_interfaces from nova.tests.unit.api.openstack import fakes from nova.tests.unit.policies import base class AttachInterfacesPolicyTest(base.BasePolicyTest): """"""Test Attach Interfaces APIs policies with all possible context. This class defines the set of context with different roles which are allowed and not allowed to pass the policy checks. With those set of context, it will call the API operation and verify the expected behaviour. """""" def setUp(self): super(AttachInterfacesPolicyTest, self).setUp() self.controller = attach_interfaces.InterfaceAttachmentController() self.req = fakes.HTTPRequest.blank('') self.admin_authorized_contexts = [ self.legacy_admin_context, self.system_admin_context, self.project_admin_context, self.project_foo_context, self.project_reader_context, self.project_member_context ] self.admin_unauthorized_contexts = [ self.system_member_context, self.system_reader_context, self.system_foo_context, self.other_project_member_context ] @mock.patch('nova.compute.api.API.get') @mock.patch('nova.network.neutronv2.api.API.list_ports') def test_index_interfaces_policy(self, mock_port, mock_get): rule_name = ""os_compute_api:os-attach-interfaces"" self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.index, self.req, uuids.fake_id) @mock.patch('nova.compute.api.API.get') @mock.patch('nova.network.neutronv2.api.API.show_port') def test_show_interface_policy(self, mock_port, mock_get): rule_name = ""os_compute_api:os-attach-interfaces"" server_id = uuids.fake_id port_id = uuids.fake_id mock_port.return_value = {'port': { ""id"": port_id, ""network_id"": uuids.fake_id, ""admin_state_up"": True, ""status"": ""ACTIVE"", ""mac_address"": ""bb:bb:bb:bb:bb:bb"", ""fixed_ips"": [""10.0.2.2""], ""device_id"": server_id, }} self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.show, self.req, server_id, port_id) @mock.patch('nova.compute.api.API.get') @mock.patch('nova.api.openstack.compute.attach_interfaces' '.InterfaceAttachmentController.show') @mock.patch('nova.compute.api.API.attach_interface') def test_attach_interface(self, mock_interface, mock_port, mock_get): rule_name = ""os_compute_api:os-attach-interfaces:create"" body = {'interfaceAttachment': {'net_id': uuids.fake_id}} self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.create, self.req, uuids.fake_id, body=body) @mock.patch('nova.compute.api.API.get') @mock.patch('nova.compute.api.API.detach_interface') def test_delete_interface(self, mock_detach, mock_get): rule_name = ""os_compute_api:os-attach-interfaces:delete"" self.common_policy_check(self.admin_authorized_contexts, self.admin_unauthorized_contexts, rule_name, self.controller.delete, self.req, uuids.fake_id, uuids.fake_id) class AttachInterfacesScopeTypePolicyTest(AttachInterfacesPolicyTest): """"""Test Attach Interfaces APIs policies with system scope enabled. This class set the nova.conf [oslo_policy] enforce_scope to True so that we can switch on the scope checking on oslo policy side. It defines the set of context with scopped token which are allowed and not allowed to pass the policy checks. With those set of context, it will run the API operation and verify the expected behaviour. """""" def setUp(self): super(AttachInterfacesScopeTypePolicyTest, self).setUp() self.flags(enforce_scope=True, group=""oslo_policy"") ",,109,0
openstack%2Fopenstack-ansible-ops~master~Ifa23fc624c04aa6441f704bf3305f4a397f11a22,openstack/openstack-ansible-ops,master,Ifa23fc624c04aa6441f704bf3305f4a397f11a22,Do not delegate ILM template & policy updates,MERGED,2020-02-26 16:42:14.000000000,2020-03-06 11:43:06.000000000,2020-03-06 11:41:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-02-26 16:42:14.000000000', 'files': ['elk_metrics_7x/roles/elastic_ilm/tasks/main.yml', 'elk_metrics_7x/roles/elastic_ilm/tasks/elastic_ilm_update_policy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/4dba23288f1c733e5667ecda7da4bacb5a318454', 'message': 'Do not delegate ILM template & policy updates\n\nThere is no need to delegate API requests for ILM templates/policies to\nthe elasticsearch nodes. API requests to be made from the ansible host.\n\nChange-Id: Ifa23fc624c04aa6441f704bf3305f4a397f11a22\n'}]",0,710079,4dba23288f1c733e5667ecda7da4bacb5a318454,8,3,1,29864,,,0,"Do not delegate ILM template & policy updates

There is no need to delegate API requests for ILM templates/policies to
the elasticsearch nodes. API requests to be made from the ansible host.

Change-Id: Ifa23fc624c04aa6441f704bf3305f4a397f11a22
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/79/710079/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_ilm/tasks/elastic_ilm_update_policy.yml', 'elk_metrics_7x/roles/elastic_ilm/tasks/main.yml']",2,4dba23288f1c733e5667ecda7da4bacb5a318454,elastic_ilm_templates,," delegate_to: ""{{ elasticsearch_data_node_details[0] | regex_replace(':' ~ elastic_port,'') }}""",7,8
openstack%2Ftripleo-upgrade~stable%2Fqueens~I03378557653d07113fa70782e5d22bf5e3e969b8,openstack/tripleo-upgrade,stable/queens,I03378557653d07113fa70782e5d22bf5e3e969b8,Allow to switch from parallel to serial update.,MERGED,2020-03-02 09:18:30.000000000,2020-03-06 11:09:17.000000000,2020-03-06 11:09:16.000000000,"[{'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-02 09:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b31cb59a7244ab749d1d80d793701e03551d5266', 'message': 'Allow to switch from parallel to serial update.\n\nWe can encounter corner case pacemaker issues with parallel role\nupdate. While we solve them, we need a way to disable parallel role\nupdate.\n\nUsing a idiom mentionned in the ansible documentation[1] we start role\nupdate by batch. When batch is 1, this is serial update, one role\nafter another.\n\nThis is the default.\n\n[1] https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html\n\nChange-Id: I03378557653d07113fa70782e5d22bf5e3e969b8\n(cherry picked from commit 8d2027f1f177fcd3f42f182e4af2c93022baeec8)\n(cherry picked from commit a7704f65598c5bccbf681bc1bc611dce8a73703d)\n(cherry picked from commit 52c2dda30a8ad94d22a9d0d88cad60ebfba22ddf)\n(cherry picked from commit b24ac90e24432eaf9417022cebb2020b1ba26e64)\n'}, {'number': 2, 'created': '2020-03-06 06:19:38.000000000', 'files': ['tasks/update/overcloud_update_run.yml', 'tasks/update/overcloud_update_run_role.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1154212bb43e27118e7847d31bd835959a6f02e5', 'message': 'Allow to switch from parallel to serial update.\n\nWe can encounter corner case pacemaker issues with parallel role\nupdate. While we solve them, we need a way to disable parallel role\nupdate.\n\nUsing a idiom mentionned in the ansible documentation[1] we start role\nupdate by batch. When batch is 1, this is serial update, one role\nafter another.\n\nThis is the default.\n\n[1] https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html\n\nChange-Id: I03378557653d07113fa70782e5d22bf5e3e969b8\n(cherry picked from commit 8d2027f1f177fcd3f42f182e4af2c93022baeec8)\n(cherry picked from commit a7704f65598c5bccbf681bc1bc611dce8a73703d)\n(cherry picked from commit 52c2dda30a8ad94d22a9d0d88cad60ebfba22ddf)\n(cherry picked from commit b24ac90e24432eaf9417022cebb2020b1ba26e64)\n'}]",0,710725,1154212bb43e27118e7847d31bd835959a6f02e5,10,3,2,8297,,,0,"Allow to switch from parallel to serial update.

We can encounter corner case pacemaker issues with parallel role
update. While we solve them, we need a way to disable parallel role
update.

Using a idiom mentionned in the ansible documentation[1] we start role
update by batch. When batch is 1, this is serial update, one role
after another.

This is the default.

[1] https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html

Change-Id: I03378557653d07113fa70782e5d22bf5e3e969b8
(cherry picked from commit 8d2027f1f177fcd3f42f182e4af2c93022baeec8)
(cherry picked from commit a7704f65598c5bccbf681bc1bc611dce8a73703d)
(cherry picked from commit 52c2dda30a8ad94d22a9d0d88cad60ebfba22ddf)
(cherry picked from commit b24ac90e24432eaf9417022cebb2020b1ba26e64)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/25/710725/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/overcloud_update_run.yml', 'tasks/update/overcloud_update_run_role.yml', 'defaults/main.yml']",3,b31cb59a7244ab749d1d80d793701e03551d5266,,overcloud_batch_update: false,,37,19
openstack%2Ftripleo-ci~master~I723adb70fad4c1e69361c6f9c3c110ab61c13997,openstack/tripleo-ci,master,I723adb70fad4c1e69361c6f9c3c110ab61c13997,update periodics for centos-8,MERGED,2020-03-05 16:46:23.000000000,2020-03-06 11:09:16.000000000,2020-03-06 11:09:16.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 16:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c161a4d1406618bfb6d3cffc4a1348885ff776fb', 'message': 'update periodics for centos-8\n\nChange-Id: I723adb70fad4c1e69361c6f9c3c110ab61c13997\n'}, {'number': 2, 'created': '2020-03-06 04:40:10.000000000', 'files': ['zuul.d/periodic.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ca55baff0d69f9f76d7e0703a34c442a6e0ad0a9', 'message': 'update periodics for centos-8\n\nChange-Id: I723adb70fad4c1e69361c6f9c3c110ab61c13997\n'}]",0,711510,ca55baff0d69f9f76d7e0703a34c442a6e0ad0a9,11,4,2,9592,,,0,"update periodics for centos-8

Change-Id: I723adb70fad4c1e69361c6f9c3c110ab61c13997
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/711510/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/periodic.yaml'],1,c161a4d1406618bfb6d3cffc4a1348885ff776fb,centos-8-jobs, - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-scenario001-standalone:, - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-scenario001-standalone:,2,2
openstack%2Fcharm-interface-keystone~master~I9c7a9a4d218059de2ad24c8481fd263f8125a8e3,openstack/charm-interface-keystone,master,I9c7a9a4d218059de2ad24c8481fd263f8125a8e3,Add optional admin_* keys to keystone interface,MERGED,2020-03-05 15:07:15.000000000,2020-03-06 11:07:18.000000000,2020-03-06 11:07:18.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 15:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone/commit/947f54cff7b8cf5d914955ef871888378e19a6ad', 'message': 'Add option admin_* keys to keystone interface\n\nThe keystone charm may provide ID information about the admin\nuser, project and domain.\n\nThese are used to build trusts between service accounts and the\nmain cloud admin account to allow priviledge escalation for\ncloud applications (such as backups).\n\nChange-Id: I9c7a9a4d218059de2ad24c8481fd263f8125a8e3\n'}, {'number': 2, 'created': '2020-03-05 15:07:37.000000000', 'files': ['requires.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone/commit/b365c78a21e233c8093a10cd88e80decdf836056', 'message': 'Add optional admin_* keys to keystone interface\n\nThe keystone charm may provide ID information about the admin\nuser, project and domain.\n\nThese are used to build trusts between service accounts and the\nmain cloud admin account to allow priviledge escalation for\ncloud applications (such as backups).\n\nChange-Id: I9c7a9a4d218059de2ad24c8481fd263f8125a8e3\n'}]",0,711475,b365c78a21e233c8093a10cd88e80decdf836056,8,3,2,935,,,0,"Add optional admin_* keys to keystone interface

The keystone charm may provide ID information about the admin
user, project and domain.

These are used to build trusts between service accounts and the
main cloud admin account to allow priviledge escalation for
cloud applications (such as backups).

Change-Id: I9c7a9a4d218059de2ad24c8481fd263f8125a8e3
",git fetch https://review.opendev.org/openstack/charm-interface-keystone refs/changes/75/711475/2 && git format-patch -1 --stdout FETCH_HEAD,['requires.py'],1,947f54cff7b8cf5d914955ef871888378e19a6ad,misc-fixes-for-cloud-trust," 'service_domain_id', 'ep_changed', 'admin_domain_id', 'admin_user_id', 'admin_project_id']"," 'service_domain_id', 'ep_changed']",2,1
openstack%2Fvirtualbmc~master~I931751d7cdd591cae6f9a1bca8d72a4b3935a45f,openstack/virtualbmc,master,I931751d7cdd591cae6f9a1bca8d72a4b3935a45f,Remove `vbmc` feature of starting up `vbmcd`,MERGED,2020-03-05 17:29:50.000000000,2020-03-06 11:06:10.000000000,2020-03-06 11:03:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-05 17:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/d170631b2b6431580abb937e64ca4db71d997309', 'message': 'Remove `vbmc` feature of starting up `vbmcd`\n\nRemoves the backward compatibility feature of `vbmc` to\nautomatically start up `vbmcd` daemon process if it is not running.\nFrom now on, `vbmcd` should be started by systemd or some other\nmechanism.\n\nChange-Id: I931751d7cdd591cae6f9a1bca8d72a4b3935a45f\n'}, {'number': 2, 'created': '2020-03-05 17:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/ac506e9b94a54838327db3fc8d3279aa71a1d740', 'message': 'Remove `vbmc` feature of starting up `vbmcd`\n\nRemoves the backward compatibility feature of `vbmc` to\nautomatically start up `vbmcd` daemon process if it is not running.\nFrom now on, `vbmcd` should be started by systemd or some other\nmechanism.\n\nChange-Id: I931751d7cdd591cae6f9a1bca8d72a4b3935a45f\n'}, {'number': 3, 'created': '2020-03-05 17:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/ae69da0680ec0d1b19785dd068b19bfbab9757b4', 'message': 'Remove `vbmc` feature of starting up `vbmcd`\n\nRemoves the backward compatibility feature of `vbmc` to\nautomatically start up `vbmcd` daemon process if it is not running.\nFrom now on, `vbmcd` should be started by systemd or some other\nmechanism.\n\nChange-Id: I931751d7cdd591cae6f9a1bca8d72a4b3935a45f\n'}, {'number': 4, 'created': '2020-03-05 17:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/88b263d6dc10184a67133656ea64307c743d871e', 'message': 'Remove `vbmc` feature of starting up `vbmcd`\n\nRemoves the backward compatibility feature of `vbmc` to\nautomatically start up `vbmcd` daemon process if it is not running.\nFrom now on, `vbmcd` should be started by systemd or some other\nmechanism.\n\nChange-Id: I931751d7cdd591cae6f9a1bca8d72a4b3935a45f\n'}, {'number': 5, 'created': '2020-03-05 17:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/55fbf4fa8bc82715edf1ec13a8483ece6a086565', 'message': 'Remove `vbmc` feature of starting up `vbmcd`\n\nRemoves the backward compatibility feature of `vbmc` to\nautomatically start up `vbmcd` daemon process if it is not running.\nFrom now on, `vbmcd` should be started by systemd or some other\nmechanism.\n\nChange-Id: I931751d7cdd591cae6f9a1bca8d72a4b3935a45f\n'}, {'number': 6, 'created': '2020-03-06 08:12:52.000000000', 'files': ['virtualbmc/tests/unit/cmd/test_vbmc.py', 'releasenotes/notes/remove-vbmcd-autostart-d1f567803526a4c1.yaml', 'virtualbmc/cmd/vbmc.py'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/bddca37807e09fb2e7a42b710e1ecbde37391916', 'message': 'Remove `vbmc` feature of starting up `vbmcd`\n\nRemoves the backward compatibility feature of `vbmc` to\nautomatically start up `vbmcd` daemon process if it is not running.\nFrom now on, `vbmcd` should be started by systemd or some other\nmechanism.\n\nChange-Id: I931751d7cdd591cae6f9a1bca8d72a4b3935a45f\n'}]",1,711520,bddca37807e09fb2e7a42b710e1ecbde37391916,14,3,6,26340,,,0,"Remove `vbmc` feature of starting up `vbmcd`

Removes the backward compatibility feature of `vbmc` to
automatically start up `vbmcd` daemon process if it is not running.
From now on, `vbmcd` should be started by systemd or some other
mechanism.

Change-Id: I931751d7cdd591cae6f9a1bca8d72a4b3935a45f
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/20/711520/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-vbmcd-autostart-d1f567803526a4c1.yaml', 'virtualbmc/cmd/vbmc.py']",2,d170631b2b6431580abb937e64ca4db71d997309,02-remove-legacy-mode," try: socket.send(data_out.encode('utf-8')) socks = dict(poller.poll(timeout=self.SERVER_TIMEOUT)) if socket in socks and socks[socket] == zmq.POLLIN: data_in = socket.recv() else: except zmq.ZMQError as ex: msg = ('Server at %(port)s connection error: ' '%(error)s', {'port': server_port, 'error': ex}) LOG.error(msg) raise VirtualBMCError(msg)","import timefrom virtualbmc.cmd import vbmcdfrom virtualbmc import utils while True: try: if data_out: socket.send(data_out.encode('utf-8')) socks = dict(poller.poll(timeout=self.SERVER_TIMEOUT)) if socket in socks and socks[socket] == zmq.POLLIN: data_in = socket.recv() break except zmq.ZMQError as ex: LOG.debug('Server at %(port)s connection error: ' '%(error)s', {'port': server_port, 'error': ex}) if no_daemon: msg = ('Server at %(port)s may be dead, will not ' 'try to revive it' % {'port': server_port}) LOG.error(msg) raise VirtualBMCError(msg) no_daemon = True LOG.debug(""Attempting to start `vbmcd` behind the "" ""scenes. Consider configuring your system to "" ""manage `vbmcd` via systemd. Automatic "" ""`vbmcd` start up will be removed in the "" ""future releases!"") # attempt to start and daemonize the server with utils.detach_process() as pid: if pid == 0: # NOTE(etingof): this child will never return vbmcd.main(['--foreground']) # TODO(etingof): perform some more retries time.sleep(CONF['default']['server_spawn_wait'] / 1000.) # MQ will deliver the original message to the daemon # we've started data_out = {}",17,40
openstack%2Fcharm-guide~master~Id90e369fec475c892366a2eb3b75e2e51de2ef07,openstack/charm-guide,master,Id90e369fec475c892366a2eb3b75e2e51de2ef07,How to run Zaza tests with layered source charms,MERGED,2020-03-06 10:39:33.000000000,2020-03-06 11:05:10.000000000,2020-03-06 11:03:04.000000000,"[{'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 10:39:33.000000000', 'files': ['doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8dcf7a760bf74edfa3b1db9e4536f090fac2370e', 'message': 'How to run Zaza tests with layered source charms\n\nChange-Id: Id90e369fec475c892366a2eb3b75e2e51de2ef07\n'}]",0,711603,8dcf7a760bf74edfa3b1db9e4536f090fac2370e,7,2,1,31289,,,0,"How to run Zaza tests with layered source charms

Change-Id: Id90e369fec475c892366a2eb3b75e2e51de2ef07
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/03/711603/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/testing.rst'],1,8dcf7a760bf74edfa3b1db9e4536f090fac2370e,zaza-layered-source-charms,.. note:: Layered source charms must be built before the Zaza_ tests can be run: .. code:: bash tox -e build cd build/builds/mycharm/ tox -e func ,,8,0
openstack%2Fkolla-ansible~master~Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd,openstack/kolla-ansible,master,Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd,CentOS 8: CI: Add upgrade job,MERGED,2020-03-02 15:35:42.000000000,2020-03-06 11:04:50.000000000,2020-03-06 11:01:18.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-02 15:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/574cf52d48caf5bb61af25f4723e518bb3be40e4', 'message': 'CentOS 8: CI: Add upgrade job\n\nTest upgrade from CentOS 8 train to CentOS 8 master.\n\nChange-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 2, 'created': '2020-03-02 15:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fcb5b584c1e5b40d875aae0f2bf02727df831c41', 'message': 'CentOS 8: CI: Add upgrade job\n\nTest upgrade from CentOS 8 train to CentOS 8 master.\n\nChange-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 3, 'created': '2020-03-02 16:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/730fccc177876d21484657d94d21dec810ece61b', 'message': 'CentOS 8: CI: Add upgrade job\n\nTest upgrade from CentOS 8 train to CentOS 8 master.\n\nChange-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 4, 'created': '2020-03-02 16:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/374f0938df75c037cdcd1daacba9a1450a08d240', 'message': 'CentOS 8: CI: Add upgrade job\n\nTest upgrade from CentOS 8 train to CentOS 8 master.\n\nChange-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 5, 'created': '2020-03-02 16:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/087e4caa07e3c49543b91844584e90a8f40f2f49', 'message': 'CentOS 8: CI: Add upgrade job\n\nTest upgrade from CentOS 8 train to CentOS 8 master.\n\nChange-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 6, 'created': '2020-03-02 17:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c5ea5ea3d1edff997679a781249b7850a3fa10b', 'message': 'CentOS 8: CI: Add upgrade job\n\nTest upgrade from CentOS 8 train to CentOS 8 master.\n\nChange-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 7, 'created': '2020-03-03 10:29:49.000000000', 'files': ['tests/run.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29f223c02a27d3f65b0355d6b9098afd0373f12e', 'message': 'CentOS 8: CI: Add upgrade job\n\nTest upgrade from CentOS 8 train to CentOS 8 master.\n\nChange-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd\nPartially-Implements: blueprint centos-rhel-8\n'}]",0,710797,29f223c02a27d3f65b0355d6b9098afd0373f12e,23,6,7,14826,,,0,"CentOS 8: CI: Add upgrade job

Test upgrade from CentOS 8 train to CentOS 8 master.

Change-Id: Ibff2c7f8844dec4758945cbc7aa8df80d70a3dfd
Partially-Implements: blueprint centos-rhel-8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/710797/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,574cf52d48caf5bb61af25f4723e518bb3be40e4,bp/centos-rhel-8, name: kolla-ansible-centos8-source-upgrade parent: kolla-ansible-base nodeset: kolla-ansible-centos8 timeout: 9000 vars: base_distro: centos install_type: source is_upgrade: yes - job:,,11,0
openstack%2Fvirtualbmc~master~Id9dedac4f778cf37d626f2777d519f73cc4b5f2c,openstack/virtualbmc,master,Id9dedac4f778cf37d626f2777d519f73cc4b5f2c,Fix hanging on shell-pipe,MERGED,2020-02-18 18:40:07.000000000,2020-03-06 11:04:45.000000000,2020-03-06 11:03:04.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2020-02-18 18:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/c51f0479cbad1e8bd202a11b31609c2f84229f51', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 2, 'created': '2020-02-20 09:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/f9e9dfb65af4436c4d20510b006f4adbc9ca5160', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 3, 'created': '2020-02-20 10:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/2cd44853d072f707bcca0adbbfe62aef9b0f8808', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 4, 'created': '2020-02-20 10:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/d11f2acc6640946a855306fd5acf01e9e78fb519', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 5, 'created': '2020-02-20 12:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/3511d5848b72d73bca7cf2a2f77bbd72f1e4b529', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 6, 'created': '2020-03-05 17:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/25b4386be1c0f23ef2afda00fc61dbaa5fad5358', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 7, 'created': '2020-03-05 17:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/4679c6ca561c4b3abbcb38512af5c7ec5d4c672f', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 8, 'created': '2020-03-05 17:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/67b2ffbca743775e5b50e723dc064d128f11a968', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}, {'number': 9, 'created': '2020-03-06 08:09:10.000000000', 'files': ['virtualbmc/tests/unit/test_utils.py', 'releasenotes/notes/fix-hanging-on-pipe-7c4b5f9c81623b524.yaml', 'virtualbmc/utils.py', 'virtualbmc/tests/unit/cmd/test_vbmcd.py', 'virtualbmc/cmd/vbmcd.py', 'virtualbmc/cmd/vbmc.py'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/2651f13f28cfc0e89c6a473386a250ba36ab6f40', 'message': 'Fix hanging on shell-pipe\n\nProperly closes standard I/O streams to prevent shell-piped\nprocesses from hanging infinitely on a dead pipe.\n\nChange-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c\nStory: 2007219\nTask: 38471\n'}]",4,708483,2651f13f28cfc0e89c6a473386a250ba36ab6f40,25,4,9,26340,,,0,"Fix hanging on shell-pipe

Properly closes standard I/O streams to prevent shell-piped
processes from hanging infinitely on a dead pipe.

Change-Id: Id9dedac4f778cf37d626f2777d519f73cc4b5f2c
Story: 2007219
Task: 38471
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/83/708483/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-hanging-on-pipe-7c4b5f9c81623b524.yaml', 'virtualbmc/utils.py', 'virtualbmc/cmd/vbmcd.py', 'virtualbmc/cmd/vbmc.py']",4,c51f0479cbad1e8bd202a11b31609c2f84229f51,01-fix-hanging-on-pipe,from virtualbmc import utils with utils.detach_process() as pid: if pid == 0: # NOTE(etingof): this child will never return vbmcd.main(['--foreground']),import os if os.fork() == 0: # this will also fork and detach properly vbmcd.main([]),45,13
openstack%2Fcharm-ceph-radosgw~master~Ic50f48c3b3ba21c65cee07badf398cf3ef222c86,openstack/charm-ceph-radosgw,master,Ic50f48c3b3ba21c65cee07badf398cf3ef222c86,"Sync charm-helpers for py38, distro, and other updates",MERGED,2020-03-05 12:31:11.000000000,2020-03-06 11:01:14.000000000,2020-03-06 11:01:13.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 12:31:11.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'Makefile', 'hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/9fb21f184093ee28f560403b8b0574cbb3fee2d6', 'message': 'Sync charm-helpers for py38, distro, and other updates\n\nChange-Id: Ic50f48c3b3ba21c65cee07badf398cf3ef222c86\n'}]",0,711448,9fb21f184093ee28f560403b8b0574cbb3fee2d6,9,4,1,20635,,,0,"Sync charm-helpers for py38, distro, and other updates

Change-Id: Ic50f48c3b3ba21c65cee07badf398cf3ef222c86
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/48/711448/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'Makefile', 'hooks/charmhelpers/core/host_factory/ubuntu.py']",8,9fb21f184093ee28f560403b8b0574cbb3fee2d6,batch-update, 'focal',,157,24
openstack%2Fcharm-ceph-mon~master~I0a21ed8ad4bf740308bd822c9fe36872e78c9ee5,openstack/charm-ceph-mon,master,I0a21ed8ad4bf740308bd822c9fe36872e78c9ee5,"Sync charm-helpers for py38, distro, and other updates",MERGED,2020-03-05 12:30:33.000000000,2020-03-06 11:00:58.000000000,2020-03-06 11:00:58.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 12:30:33.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'Makefile', 'hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/734f3fcdd53fbbf77ef5d9c07ed017a1a7adefe4', 'message': 'Sync charm-helpers for py38, distro, and other updates\n\nChange-Id: I0a21ed8ad4bf740308bd822c9fe36872e78c9ee5\n'}]",0,711445,734f3fcdd53fbbf77ef5d9c07ed017a1a7adefe4,9,4,1,20635,,,0,"Sync charm-helpers for py38, distro, and other updates

Change-Id: I0a21ed8ad4bf740308bd822c9fe36872e78c9ee5
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/45/711445/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'Makefile', 'hooks/charmhelpers/core/host_factory/ubuntu.py']",8,734f3fcdd53fbbf77ef5d9c07ed017a1a7adefe4,batch-update, 'focal',,156,24
openstack%2Fcharm-ceph-proxy~master~I7964252f9d65b17915ac1d324b186955213a6297,openstack/charm-ceph-proxy,master,I7964252f9d65b17915ac1d324b186955213a6297,"Sync charm-helpers for py38, distro, and other updates",MERGED,2020-03-05 12:30:59.000000000,2020-03-06 11:00:54.000000000,2020-03-06 11:00:54.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 12:30:59.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'Makefile', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f57bb43fe829d6961d92ef24664a54064b4e280c', 'message': 'Sync charm-helpers for py38, distro, and other updates\n\nChange-Id: I7964252f9d65b17915ac1d324b186955213a6297\n'}]",0,711447,f57bb43fe829d6961d92ef24664a54064b4e280c,9,4,1,20635,,,0,"Sync charm-helpers for py38, distro, and other updates

Change-Id: I7964252f9d65b17915ac1d324b186955213a6297
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/47/711447/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'Makefile', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py']",6,f57bb43fe829d6961d92ef24664a54064b4e280c,batch-update, 'focal',,142,23
openstack%2Fcharm-ceph-osd~master~I9e8848cc6dff2addd4db087740ba5bbc967577cf,openstack/charm-ceph-osd,master,I9e8848cc6dff2addd4db087740ba5bbc967577cf,"Sync charm-helpers for py38, distro, and other updates",MERGED,2020-03-05 12:30:45.000000000,2020-03-06 11:00:07.000000000,2020-03-06 11:00:07.000000000,"[{'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 12:30:45.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'Makefile', 'hooks/charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/61ffd77184a794825d77cac8f9c53e28cfab3cd5', 'message': 'Sync charm-helpers for py38, distro, and other updates\n\nChange-Id: I9e8848cc6dff2addd4db087740ba5bbc967577cf\n'}]",0,711446,61ffd77184a794825d77cac8f9c53e28cfab3cd5,9,4,1,20635,,,0,"Sync charm-helpers for py38, distro, and other updates

Change-Id: I9e8848cc6dff2addd4db087740ba5bbc967577cf
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/46/711446/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/osplatform.py', 'Makefile', 'hooks/charmhelpers/core/host_factory/ubuntu.py']",7,61ffd77184a794825d77cac8f9c53e28cfab3cd5,batch-update, 'focal',,144,23
openstack%2Fcharm-barbican-vault~master~Ic23776ad7306ec79ff6e675d0fd0b4d1da239f84,openstack/charm-barbican-vault,master,Ic23776ad7306ec79ff6e675d0fd0b4d1da239f84,Update charm build requirements,MERGED,2020-03-03 08:53:26.000000000,2020-03-06 10:53:28.000000000,2020-03-06 10:53:28.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:53:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican-vault/commit/3175fc802a0c4180a781321b27f4d0738a3dc0dc', 'message': 'Update charm build requirements\n\nChange-Id: Ic23776ad7306ec79ff6e675d0fd0b4d1da239f84\n'}]",0,710929,3175fc802a0c4180a781321b27f4d0738a3dc0dc,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: Ic23776ad7306ec79ff6e675d0fd0b4d1da239f84
",git fetch https://review.opendev.org/openstack/charm-barbican-vault refs/changes/29/710929/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3175fc802a0c4180a781321b27f4d0738a3dc0dc,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Fcharm-barbican~master~I8b55c684ae8b547a46f45024a2c08d398cc622c8,openstack/charm-barbican,master,I8b55c684ae8b547a46f45024a2c08d398cc622c8,Update charm build requirements,MERGED,2020-03-03 08:52:59.000000000,2020-03-06 10:53:21.000000000,2020-03-06 10:53:20.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:52:59.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/5f1d6519695aced52e7480482e084cda3b617319', 'message': 'Update charm build requirements\n\nChange-Id: I8b55c684ae8b547a46f45024a2c08d398cc622c8\n'}]",0,710927,5f1d6519695aced52e7480482e084cda3b617319,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: I8b55c684ae8b547a46f45024a2c08d398cc622c8
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/27/710927/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,5f1d6519695aced52e7480482e084cda3b617319,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fcharm-designate~master~I7bff23d257f3682374dd1618d2366a2c8b9f4395,openstack/charm-designate,master,I7bff23d257f3682374dd1618d2366a2c8b9f4395,Update charm build requirements,MERGED,2020-03-03 08:54:39.000000000,2020-03-06 10:52:49.000000000,2020-03-06 10:52:49.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:54:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/9671d176f323c949f03c27d73fcc61b6d614085f', 'message': 'Update charm build requirements\n\nChange-Id: I7bff23d257f3682374dd1618d2366a2c8b9f4395\n'}]",0,710934,9671d176f323c949f03c27d73fcc61b6d614085f,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: I7bff23d257f3682374dd1618d2366a2c8b9f4395
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/34/710934/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9671d176f323c949f03c27d73fcc61b6d614085f,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fcharm-keystone~master~I6166793a497a283e743210d067eb44c14071e61e,openstack/charm-keystone,master,I6166793a497a283e743210d067eb44c14071e61e,Provide admin user ID and project ID,MERGED,2020-03-05 15:41:32.000000000,2020-03-06 10:51:44.000000000,2020-03-06 10:51:44.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 15:41:32.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/dc2f5e5259b74f1a06cd3ca120d5a0d17ecefefa', 'message': 'Provide admin user ID and project ID\n\nFor keystone v3 deployments, provide the admin user and project ID\nover identity-service relations.\n\nThis may be used by consuming services to build trust between the\nservice account and the cloud admin account.\n\nChange-Id: I6166793a497a283e743210d067eb44c14071e61e\n'}]",0,711486,dc2f5e5259b74f1a06cd3ca120d5a0d17ecefefa,7,3,1,935,,,0,"Provide admin user ID and project ID

For keystone v3 deployments, provide the admin user and project ID
over identity-service relations.

This may be used by consuming services to build trust between the
service account and the cloud admin account.

Change-Id: I6166793a497a283e743210d067eb44c14071e61e
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/86/711486/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,dc2f5e5259b74f1a06cd3ca120d5a0d17ecefefa,admin-user-and-project-id," admin_project_id = None admin_user_id = None if get_api_version() > 2: # NOTE(jamespage): # Resolve cloud admin project and user ID's # which may be used for trusts in consuming # services - but don't pass the password admin_project_id = manager.resolve_tenant_id(ADMIN_PROJECT, domain=ADMIN_DOMAIN) admin_user_id = manager.resolve_user_id(config('admin-user'), user_domain=ADMIN_DOMAIN) ""admin_project_id"": admin_project_id, ""admin_user_id"": admin_user_id,",,21,0
openstack%2Fcharm-keystone~master~I39b6e3df17e44c801f5f6bb122407623cbf1c937,openstack/charm-keystone,master,I39b6e3df17e44c801f5f6bb122407623cbf1c937,endpoint notification: provide full endpoint,MERGED,2020-03-05 11:12:36.000000000,2020-03-06 10:51:44.000000000,2020-03-06 10:51:44.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 11:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/4fe76bcb7060f42b0668f5c8f137cf19dc897a9b', 'message': ""endpoint notification: provide full endpoint\n\nWhen a remote service requests notification about changes to\nendpoints, provide the full detail on each endpoint rather than\njust a checksum of the internal/admin/public URL's.\n\nThis allows consuming services which require explicit configuration\nof service endpoint URL's to configure everything via their\nrelation to keystone rather than directly relating to all required\nservices.\n\nChange-Id: I39b6e3df17e44c801f5f6bb122407623cbf1c937\n""}, {'number': 2, 'created': '2020-03-05 11:21:57.000000000', 'files': ['.gitignore', 'unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', '.pydevproject'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f984c4ec9bf9c58fa2f8fff13cbc5c6f5ff0f19d', 'message': ""endpoint notification: provide full endpoint\n\nWhen a remote service requests notification about changes to\nendpoints, provide the full detail on each endpoint rather than\njust a checksum of the internal/admin/public URL's.\n\nThis allows consuming services which require explicit configuration\nof service endpoint URL's to configure everything via their\nrelation to keystone rather than directly relating to all required\nservices.\n\nChange-Id: I39b6e3df17e44c801f5f6bb122407623cbf1c937\n""}]",0,711435,f984c4ec9bf9c58fa2f8fff13cbc5c6f5ff0f19d,9,3,2,935,,,0,"endpoint notification: provide full endpoint

When a remote service requests notification about changes to
endpoints, provide the full detail on each endpoint rather than
just a checksum of the internal/admin/public URL's.

This allows consuming services which require explicit configuration
of service endpoint URL's to configure everything via their
relation to keystone rather than directly relating to all required
services.

Change-Id: I39b6e3df17e44c801f5f6bb122407623cbf1c937
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/35/711435/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py', 'hooks/keystone_hooks.py', '.pydevproject']",5,4fe76bcb7060f42b0668f5c8f137cf19dc897a9b,endpoint-notifications," <pydev_property name=""org.python.pydev.PYTHON_PROJECT_INTERPRETER"">python3</pydev_property>"," <pydev_property name=""org.python.pydev.PYTHON_PROJECT_INTERPRETER"">Default</pydev_property> ",74,34
openstack%2Fcharm-mysql-router~master~I20f3a22deff221a9e843a2e92a025b41ab944ead,openstack/charm-mysql-router,master,I20f3a22deff221a9e843a2e92a025b41ab944ead,Update charm build requirements,MERGED,2020-03-03 08:57:03.000000000,2020-03-06 10:51:01.000000000,2020-03-06 10:51:01.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:57:03.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/64a9e2352ea9cf42ecacec49a049c7f6ab066f46', 'message': 'Update charm build requirements\n\nChange-Id: I20f3a22deff221a9e843a2e92a025b41ab944ead\n'}]",0,710945,64a9e2352ea9cf42ecacec49a049c7f6ab066f46,7,3,1,13686,,,0,"Update charm build requirements

Change-Id: I20f3a22deff221a9e843a2e92a025b41ab944ead
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/45/710945/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,64a9e2352ea9cf42ecacec49a049c7f6ab066f46,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Fcharm-mysql-innodb-cluster~master~If7f713bfe2f571aea737607e293911171c93cee9,openstack/charm-mysql-innodb-cluster,master,If7f713bfe2f571aea737607e293911171c93cee9,Update charm build requirements,MERGED,2020-03-03 08:56:49.000000000,2020-03-06 10:50:13.000000000,2020-03-06 10:50:13.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:56:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/15b4d0bcfda22d755fa310e222b5652e1f60216e', 'message': 'Update charm build requirements\n\nChange-Id: If7f713bfe2f571aea737607e293911171c93cee9\n'}]",0,710944,15b4d0bcfda22d755fa310e222b5652e1f60216e,7,3,1,13686,,,0,"Update charm build requirements

Change-Id: If7f713bfe2f571aea737607e293911171c93cee9
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/44/710944/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,15b4d0bcfda22d755fa310e222b5652e1f60216e,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Fcharm-keystone~master~If46e007700bfa95585c65364a80710b25d42c562,openstack/charm-keystone,master,If46e007700bfa95585c65364a80710b25d42c562,Add Trilio workloadmgr service definition,MERGED,2020-03-05 10:53:04.000000000,2020-03-06 10:48:36.000000000,2020-03-06 10:48:36.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 10:53:04.000000000', 'files': ['hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/6ca8e9b508457c7b1f1c5032f19feb8ed9b31ae8', 'message': 'Add Trilio workloadmgr service definition\n\nAdd support for registration of the Trilio Workload Manager\nservice into the keystone service catalog.\n\nChange-Id: If46e007700bfa95585c65364a80710b25d42c562\n'}]",2,711431,6ca8e9b508457c7b1f1c5032f19feb8ed9b31ae8,9,4,1,935,,,0,"Add Trilio workloadmgr service definition

Add support for registration of the Trilio Workload Manager
service into the keystone service catalog.

Change-Id: If46e007700bfa95585c65364a80710b25d42c562
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/31/711431/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/keystone_utils.py'],1,6ca8e9b508457c7b1f1c5032f19feb8ed9b31ae8,workloadmgr-service," ""workloadmgr"": { ""type"": ""workloads"", ""desc"": ""TrilioVault Workload Manager Service"", },",,4,0
openstack%2Fcharm-guide~master~Ic2ffba2d96c6be0c1b5d2f1c3ba48f7f066bd427,openstack/charm-guide,master,Ic2ffba2d96c6be0c1b5d2f1c3ba48f7f066bd427,Minor grammar fixes,MERGED,2020-01-16 09:48:44.000000000,2020-03-06 10:42:28.000000000,2020-03-06 10:41:10.000000000,"[{'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-01-16 09:48:44.000000000', 'files': ['doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/c2c74fff763f1ae13af2f1dcf97dc4297f8aad83', 'message': 'Minor grammar fixes\n\nChange-Id: Ic2ffba2d96c6be0c1b5d2f1c3ba48f7f066bd427\n'}]",0,702832,c2c74fff763f1ae13af2f1dcf97dc4297f8aad83,8,3,1,31289,,,0,"Minor grammar fixes

Change-Id: Ic2ffba2d96c6be0c1b5d2f1c3ba48f7f066bd427
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/32/702832/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/testing.rst'],1,c2c74fff763f1ae13af2f1dcf97dc4297f8aad83,fixed-grammar,"The goal is, for each function under test, to verify that the *outputs* ofA *pure* function is one that always returns the same results for the same* Pure functions require no mocking. The objective is to verify that for combinations of input parameter values, the correct return values are","The goal is, for each function under test, is to verify that the *outputs* ofA *pure* function is one that is always returns the same results for the same* Pure functions require no mocking. The object is to verify that for combinations of input parameter values, that the correct return values are",4,4
openstack%2Fcharm-nova-compute~master~Iff44806bdd0f6078879c9872ba0531485f0ca4c7,openstack/charm-nova-compute,master,Iff44806bdd0f6078879c9872ba0531485f0ca4c7,Fix oslo notification format configuration option,MERGED,2020-03-03 12:21:54.000000000,2020-03-06 10:42:11.000000000,2020-03-06 10:42:11.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 30442}]","[{'number': 1, 'created': '2020-03-03 12:21:54.000000000', 'files': ['templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/7be640e29df718686c89284a4533f95d847d0caa', 'message': 'Fix oslo notification format configuration option\n\nThis patch removes the hardcoded notification_format value in nova.conf\nin order to fill it with the configuration option provided by the user.\nAt the moment, if user fills with an option different than the default\nempty, the produced nova.conf contains two [notifications] sections,\nthus, ocurring in an erroneous configuration.\n\nChange-Id: Iff44806bdd0f6078879c9872ba0531485f0ca4c7\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",0,710989,7be640e29df718686c89284a4533f95d847d0caa,9,6,1,28014,,,0,"Fix oslo notification format configuration option

This patch removes the hardcoded notification_format value in nova.conf
in order to fill it with the configuration option provided by the user.
At the moment, if user fills with an option different than the default
empty, the produced nova.conf contains two [notifications] sections,
thus, ocurring in an erroneous configuration.

Change-Id: Iff44806bdd0f6078879c9872ba0531485f0ca4c7
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/89/710989/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/stein/nova.conf', 'templates/train/nova.conf', 'templates/pike/nova.conf', 'config.yaml', 'templates/queens/nova.conf', 'templates/rocky/nova.conf']",6,7be640e29df718686c89284a4533f95d847d0caa,,,"[notifications] # Starting in the Pike release, the notification_format includes both the # versioned and unversioned message notifications. Ceilometer does not yet # consume the versioned message notifications, so intentionally make the # notification format unversioned until this is implemented. notification_format = unversioned ",7,38
openstack%2Fcharm-watcher~master~I5afdacb1f5b33f79c3e83d39a43a056e01aa682f,openstack/charm-watcher,master,I5afdacb1f5b33f79c3e83d39a43a056e01aa682f,Fix configuration template rendering,MERGED,2020-02-26 21:32:21.000000000,2020-03-06 10:29:32.000000000,2020-03-06 10:29:32.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 21:32:21.000000000', 'files': ['src/templates/train/watcher.conf'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/698f97fb1e7625f8fb264f45e93a58b9072a4269', 'message': 'Fix configuration template rendering\n\nAdd planner_ prexix to relevant configuration values in order to be\ncorrectly filled inside templated configuration file.\n\nChange-Id: I5afdacb1f5b33f79c3e83d39a43a056e01aa682f\nSigned-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>\n'}]",0,710143,698f97fb1e7625f8fb264f45e93a58b9072a4269,7,4,1,28014,,,0,"Fix configuration template rendering

Add planner_ prexix to relevant configuration values in order to be
correctly filled inside templated configuration file.

Change-Id: I5afdacb1f5b33f79c3e83d39a43a056e01aa682f
Signed-off-by: Stamatis Katsaounis <skatsaounis@admin.grnet.gr>
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/43/710143/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/train/watcher.conf'],1,698f97fb1e7625f8fb264f45e93a58b9072a4269,fix-config,weights = {{ options.planner_weights }}parallelization = {{ options.planner_parallelization }}weights = {{ options.planner_weights }}check_optimize_metadata = {{ options.planner_check_optimize_metadata }}ex_pools = {{ options.planner_ex_pools }},weights = {{ options.weights }}parallelization = {{ options.parallelization }}weights = {{ options.weights }}check_optimize_metadata = {{ options.check_optimize_metadata }}ex_pools = {{ options.ex_pools }},5,5
openstack%2Fbifrost~master~I22b817ad7b945509bb2e89d0467df53975434313,openstack/bifrost,master,I22b817ad7b945509bb2e89d0467df53975434313,"Fix ""unbound variable"" error in scripts",MERGED,2020-02-05 16:08:13.000000000,2020-03-06 10:29:25.000000000,2020-03-06 10:27:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-05 16:08:13.000000000', 'files': ['scripts/collect-test-info.sh', 'scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c8c4b8c90f21255dd49ee1c5a01573a167c7816f', 'message': 'Fix ""unbound variable"" error in scripts\n\nIf user runs scripts without VENV defined, then an error\n""unbound variable"" will be received. This patch fixes this issue\n\nChange-Id: I22b817ad7b945509bb2e89d0467df53975434313\n'}]",2,706002,c8c4b8c90f21255dd49ee1c5a01573a167c7816f,12,3,1,31556,,,0,"Fix ""unbound variable"" error in scripts

If user runs scripts without VENV defined, then an error
""unbound variable"" will be received. This patch fixes this issue

Change-Id: I22b817ad7b945509bb2e89d0467df53975434313
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/02/706002/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/collect-test-info.sh', 'scripts/install-deps.sh']",2,c8c4b8c90f21255dd49ee1c5a01573a167c7816f,fix-scripts,"if [ -n ""${VENV-}"" ]; thenif [ -n ""${VENV-}"" ]; then","if [ -n ""${VENV}"" ]; thenif [ -n ""${VENV}"" ]; then",3,3
openstack%2Fmistral~master~Ic706d7a7ecb28d86bff034a2f9227c63705edcae,openstack/mistral,master,Ic706d7a7ecb28d86bff034a2f9227c63705edcae,Fix requirements,MERGED,2020-01-30 15:11:23.000000000,2020-03-06 10:22:20.000000000,2020-03-06 10:20:23.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-01-30 15:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6cf4625eaedbe462b10272cc853b7ca44f5c60dd', 'message': 'Fix requirements\n\nMake sure lower constraints supports python37 (async is a reserved word)\n\nChange-Id: Ic706d7a7ecb28d86bff034a2f9227c63705edcae\n'}, {'number': 2, 'created': '2020-02-18 14:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5148f78c0ee5656c7e307bc69846005a56de85f8', 'message': 'Fix requirements\n\nMake sure lower constraints supports python37 (async is a reserved word)\n\nChange-Id: Ic706d7a7ecb28d86bff034a2f9227c63705edcae\n'}, {'number': 3, 'created': '2020-02-26 08:12:59.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/mistral/commit/5aa1c7045281ac618d053c6405093681c557a38f', 'message': 'Fix requirements\n\nMake sure lower constraints supports python37 (async is a reserved word)\n\nChange-Id: Ic706d7a7ecb28d86bff034a2f9227c63705edcae\n'}]",0,705039,5aa1c7045281ac618d053c6405093681c557a38f,19,4,3,19134,,,0,"Fix requirements

Make sure lower constraints supports python37 (async is a reserved word)

Change-Id: Ic706d7a7ecb28d86bff034a2f9227c63705edcae
",git fetch https://review.opendev.org/openstack/mistral refs/changes/39/705039/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,6cf4625eaedbe462b10272cc853b7ca44f5c60dd,workflows,alembic==0.9.6oslo.db==4.40.0paramiko==2.4.1,alabaster==0.7.10 alembic==0.8.10 amqp==2.5.2 aodhclient==0.9.0 appdirs==1.3.0 asn1crypto==0.23.0beautifulsoup4==4.6.0cffi==1.7.0 chardet==3.0.4 cliff==2.8.0 cmd2==0.8.0 contextlib2==0.4.0cryptography==2.1 debtcollector==1.2.0 decorator==3.4.0 deprecation==1.0docutils==0.11dulwich==0.15.0extras==1.0.0 fasteners==0.7.0future==0.16.0 futurist==1.2.0 gnocchiclient==3.3.1 greenlet==0.4.13httplib2==0.9.1 idna==2.6 imagesize==0.7.1 iso8601==0.1.11jmespath==0.9.0 jsonpatch==1.16 jsonpointer==1.13kazoo==2.2 keystoneauth1==3.4.0linecache2==1.0.0 logutils==0.3.5 Mako==0.4.0 MarkupSafe==1.0 mccabe==0.2.1monotonic==0.6 mox3==0.20.0 msgpack-python==0.4.0 munch==2.1.0 netaddr==0.7.18 netifaces==0.10.4oauthlib==0.6.2 openstackdocstheme==1.30.0 openstacksdk==0.11.2 os-api-ref==1.4.0 os-client-config==1.28.0 os-service-types==1.2.0 os-testr==1.0.0 osc-lib==1.8.0oslo.db==4.27.0paramiko==2.0.0 Paste==2.0.2 PasteDeploy==1.5.0pep8==1.5.7 pika-pool==0.1.3 pika==0.10.0 ply==3.10 positional==1.2.1 prettytable==0.7.2 pyasn1==0.1.8 pycadf==1.1.0 pycodestyle==2.3.1 pycparser==2.18 pyflakes==0.8.1pyinotify==0.9.6pyOpenSSL==17.1.0 pyparsing==2.1.0 pyperclip==1.5.27 python-barbicanclient==4.5.2 python-cinderclient==3.3.0 python-dateutil==2.5.3 python-designateclient==2.7.0 python-editor==1.0.3 python-glanceclient==2.8.0 python-glareclient==0.3.0 python-heatclient==1.10.0 python-ironic-inspector-client==1.5.0 python-ironicclient==2.7.0 python-keystoneclient==3.8.0 python-magnumclient==2.1.0 python-manilaclient==1.23.0 python-mimeparse==1.6.0 python-mistralclient==3.1.0 python-muranoclient==0.8.2 python-neutronclient==6.7.0 python-novaclient==9.1.0 python-openstackclient==3.12.0 python-senlinclient==1.1.0 python-subunit==1.0.0 python-swiftclient==3.2.0 python-tackerclient==0.8.0 python-troveclient==2.2.0 python-vitrageclient==2.0.0 python-zaqarclient==1.0.0 python-zunclient==3.4.0 python-qinlingclient==1.0.0 pytz==2013.6repoze.lru==0.7requestsexceptions==1.2.0 restructuredtext-lint==1.1.1 rfc3986==0.3.1 Routes==2.3.1 simplegeneric==0.8.1 simplejson==3.5.1snowballstemmer==1.2.1sqlalchemy-migrate==0.11.0sqlparse==0.2.2 statsd==3.2.1Tempita==0.5.2testrepository==0.0.18traceback2==1.4.0 ujson==1.35urllib3==1.21.1 vine==1.1.4 voluptuous==0.8.9 waitress==1.1.0 warlock==1.2.0wrapt==1.7.0,6,125
openstack%2Fcharm-keystone~master~I5a34777c84698396b4c8e68ff9f8fc50effe2904,openstack/charm-keystone,master,I5a34777c84698396b4c8e68ff9f8fc50effe2904,Resync charmhelpers,MERGED,2020-03-05 10:50:46.000000000,2020-03-06 10:17:15.000000000,2020-03-06 10:17:15.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 10:50:46.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'Makefile', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/917c8edf7002f73fc058c6bc2a75995e373aaa9d', 'message': 'Resync charmhelpers\n\nUpdate Makefile to use python3, supporting use in focal\ndevelopment release.\n\nChange-Id: I5a34777c84698396b4c8e68ff9f8fc50effe2904\n'}]",0,711430,917c8edf7002f73fc058c6bc2a75995e373aaa9d,7,3,1,935,,,0,"Resync charmhelpers

Update Makefile to use python3, supporting use in focal
development release.

Change-Id: I5a34777c84698396b4c8e68ff9f8fc50effe2904
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/30/711430/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'Makefile', 'charmhelpers/contrib/openstack/vaultlocker.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py']",7,917c8edf7002f73fc058c6bc2a75995e373aaa9d,ch-resync, 'focal',,155,24
openstack%2Fcharms.openstack~master~Icad1811d1f183da25872b81192b69284373fbefb,openstack/charms.openstack,master,Icad1811d1f183da25872b81192b69284373fbefb,release select: Handle None return from get_os_codename_package,MERGED,2020-03-06 09:08:47.000000000,2020-03-06 10:11:39.000000000,2020-03-06 10:11:39.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 09:08:47.000000000', 'files': ['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/defaults.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/5deeb8afb8d34ce6ddf338dfe21c920e7f62b94d', 'message': 'release select: Handle None return from get_os_codename_package\n\nChange If7f35e7d00533599c3800aa4a22c51861017969e introduced a bug\nthat roots in the assumption that the ``get_os_codename_package``\nfunction when called with ``fatal=True`` would raise an exception\nin the event package or major version was not present in the map\nprovided to the function.\n\nInstead of changing the API of ``get_os_codename_package`` method\nwe detect a ``None`` return in the default select handler.\n\nChange-Id: Icad1811d1f183da25872b81192b69284373fbefb\nRelated-Bug: #1863774\n'}]",0,711596,5deeb8afb8d34ce6ddf338dfe21c920e7f62b94d,6,2,1,13686,,,0,"release select: Handle None return from get_os_codename_package

Change If7f35e7d00533599c3800aa4a22c51861017969e introduced a bug
that roots in the assumption that the ``get_os_codename_package``
function when called with ``fatal=True`` would raise an exception
in the event package or major version was not present in the map
provided to the function.

Instead of changing the API of ``get_os_codename_package`` method
we detect a ``None`` return in the default select handler.

Change-Id: Icad1811d1f183da25872b81192b69284373fbefb
Related-Bug: #1863774
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/96/711596/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/defaults.py']",2,5deeb8afb8d34ce6ddf338dfe21c920e7f62b94d,bug/1863774, if release_version is None: # Surprisingly get_os_codename_package called with # ``Fatal=True`` does not raise an error when the charm # class ``package_codenames`` map does not contain package # or major version. We'll handle it here instead of # changing the API of the method. raise ValueError,,8,1
openstack%2Fkolla-ansible~master~Id6270d75ec73e4a73533922eb29a741a6c3566ed,openstack/kolla-ansible,master,Id6270d75ec73e4a73533922eb29a741a6c3566ed,CentOS 8: CI: Test CentOS 7 to 8 migration,ABANDONED,2020-03-02 17:33:33.000000000,2020-03-06 10:06:58.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-02 17:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20c02b37fbc2b765de8b737ca2302a60d9655506', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 2, 'created': '2020-03-02 17:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ec2e45f977f8feef7758d49a848a9ccf88c7c8a6', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 3, 'created': '2020-03-03 11:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3aa21f44066e49e2d1c59fd9e381ce121e8efe62', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 4, 'created': '2020-03-03 11:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf9b03bbf38b4d6755081a1013647dfb9a1f4ae9', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 5, 'created': '2020-03-03 12:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c514da397046ddbb8e9c715a89f2ddd5b73d5fd3', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 6, 'created': '2020-03-03 14:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af1c4f86198346bec18c1464733b514fec9981f1', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 7, 'created': '2020-03-03 14:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc85db15d6d80572e86c17aa3d73ab8d6097479a', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}, {'number': 8, 'created': '2020-03-03 17:16:06.000000000', 'files': ['tests/migration-expand.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'tests/bootstrap-servers.sh', 'zuul.d/project.yaml', 'tests/migration-contract.sh', 'zuul.d/nodesets.yaml', 'tests/templates/inventory.j2', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa45d40f65dd472a140a4202665783dde40c0f69', 'message': 'CentOS 8: CI: Test CentOS 7 to 8 migration\n\n* Deploy multinode CentOS 7 cluster\n* Expand to CentOS 8 nodes\n* Remove CentOS 7 nodes\n\nChange-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed\nPartially-Implements: blueprint centos-rhel-8\n'}]",1,710842,fa45d40f65dd472a140a4202665783dde40c0f69,20,4,8,14826,,,0,"CentOS 8: CI: Test CentOS 7 to 8 migration

* Deploy multinode CentOS 7 cluster
* Expand to CentOS 8 nodes
* Remove CentOS 7 nodes

Change-Id: Id6270d75ec73e4a73533922eb29a741a6c3566ed
Partially-Implements: blueprint centos-rhel-8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/710842/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/migration-expand.sh', 'tests/run.yml', 'tests/migration-contract.sh', 'zuul.d/nodesets.yaml', 'tests/templates/inventory.j2', 'zuul.d/jobs.yaml']",6,20c02b37fbc2b765de8b737ca2302a60d9655506,bp/centos-rhel-8, - job: name: kolla-ansible-centos-source-7-8-migration parent: kolla-ansible-base nodeset: kolla-ansible-centos-7-8-migration-multi timeout: 9000 vars: base_distro: centos install_type: source scenario: 7-8-migration,,227,8
openstack%2Ftripleo-upgrade~stable%2Frocky~I43d61398cf140ba6c84f521e2f646b55a9db3968,openstack/tripleo-upgrade,stable/rocky,I43d61398cf140ba6c84f521e2f646b55a9db3968,Remove obsolete |succeeded filter from tasks,MERGED,2020-01-27 18:41:45.000000000,2020-03-06 09:45:41.000000000,2020-01-28 18:54:35.000000000,"[{'_account_id': 8297}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-27 18:41:45.000000000', 'files': ['tasks/common/convert_cli_opts_params.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'templates/fast-forward-upgrade/cli_opts_params.yaml.j2', 'tasks/common/convert_ceph_params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/97397f7cea37141a4d21a1017cfbbabb75d3d984', 'message': 'Remove obsolete |succeeded filter from tasks\n\n\nCloses-Bug: #1860797\nChange-Id: I43d61398cf140ba6c84f521e2f646b55a9db3968\n(cherry picked from commit 14789b640d4eea853b87245359ffa6bf146c5d30)\n(cherry picked from commit 717a28a3040fd2f5d4d371b2ff0a8be6455d09ff)\n'}]",0,704388,97397f7cea37141a4d21a1017cfbbabb75d3d984,9,5,1,9592,,,0,"Remove obsolete |succeeded filter from tasks


Closes-Bug: #1860797
Change-Id: I43d61398cf140ba6c84f521e2f646b55a9db3968
(cherry picked from commit 14789b640d4eea853b87245359ffa6bf146c5d30)
(cherry picked from commit 717a28a3040fd2f5d4d371b2ff0a8be6455d09ff)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/88/704388/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/convert_cli_opts_params.yaml', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml', 'templates/fast-forward-upgrade/cli_opts_params.yaml.j2', 'tasks/common/convert_ceph_params.yaml']",4,97397f7cea37141a4d21a1017cfbbabb75d3d984,, when: ceph_ansible is succeeded and not ceph_osd_adjusted.stat.exists, when: ceph_ansible|succeeded and not ceph_osd_adjusted.stat.exists,23,23
openstack%2Fpaunch~stable%2Ftrain~I3c6d0670e11d035287d12f4207489a13e0891943,openstack/paunch,stable/train,I3c6d0670e11d035287d12f4207489a13e0891943,Cleanup containers in the same loop as they are created,MERGED,2020-02-25 15:51:01.000000000,2020-03-06 09:45:15.000000000,2020-03-06 09:43:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-25 15:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/3f5b4ef84f7f5c3fc4bf6879cd3cdd864b17c1e1', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n  * in order to make that cached container_names working and saving off\n    extra podman ps/inspect calls, rework it to return a list instead\n    of an iterator. There is no huge lists of containers, iterators buy\n    us nothing here, while podman CLI calls are the more expensive\n    thing and we optimize the latter instead.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n(cherry picked from commit eb3d3b75bb8bf300fb52390610a6a53ddbfaa48e)\n""}, {'number': 2, 'created': '2020-03-03 09:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/d59031f32ad54aebe9e5ce4e5249ed4d3e137ddd', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n  * in order to make that cached container_names working and saving off\n    extra podman ps/inspect calls, rework it to return a list instead\n    of an iterator. There is no huge lists of containers, iterators buy\n    us nothing here, while podman CLI calls are the more expensive\n    thing and we optimize the latter instead.\n\n(cherry picked from commit eb3d3b75bb8bf300fb52390610a6a53ddbfaa48e)\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}, {'number': 3, 'created': '2020-03-05 20:02:34.000000000', 'files': ['paunch/runner.py', 'paunch/tests/test_builder_base.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/de359d17477996182d1992f689212ea811faebe5', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n  * in order to make that cached container_names working and saving off\n    extra podman ps/inspect calls, rework it to return a list instead\n    of an iterator. There is no huge lists of containers, iterators buy\n    us nothing here, while podman CLI calls are the more expensive\n    thing and we optimize the latter instead.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n(cherry picked from commit eb3d3b75bb8bf300fb52390610a6a53ddbfaa48e)\n""}]",0,709760,de359d17477996182d1992f689212ea811faebe5,23,8,3,6926,,,0,"Cleanup containers in the same loop as they are created

Split delete_missing_and_updated() into 2 methods:

  * delete_missing(), that will remove all containers installed on the
    host but missing from the given config. This runs outside of the
    loop, once.
  * delete_updated(), that will remove a container installed on the host
    (if present), that is part of the config, if config_data changed or
    didn't exist. It runs within the create loop, so the downtime
    between a container removal and creation should be shorter than
    before.
  * make delete_missing(), delete_updated() and rename_containers()
    returning True, if any container has been touched by either. Use
    that flag in order to keep the container_names contents always
    actual.
  * in order to make that cached container_names working and saving off
    extra podman ps/inspect calls, rework it to return a list instead
    of an iterator. There is no huge lists of containers, iterators buy
    us nothing here, while podman CLI calls are the more expensive
    thing and we optimize the latter instead.

Co-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I3c6d0670e11d035287d12f4207489a13e0891943
Closes-Bug: #1862954
(cherry picked from commit eb3d3b75bb8bf300fb52390610a6a53ddbfaa48e)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/60/709760/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/runner.py', 'paunch/builder/base.py', 'paunch/tests/test_builder_base.py']",3,3f5b4ef84f7f5c3fc4bf6879cd3cdd864b17c1e1,," @mock.patch(""paunch.builder.base.BaseBuilder.delete_updated"", return_value=False) def test_apply(self, mock_delete_updated, mock_cpu): # container_names for delete_missing (twice by managed_by) ('', '', 0), ('''five five six six two two three-12345678 three''', '', 0), ('', '', 0), # stop five ('', '', 0), # rm five ('', '', 0), # stop six ('', '', 0), # rm six # container_names for rename_containers ('three-12345678 three', '', 0), ('', '', 0), # rename three # desired/container_names to be refreshed after delete/rename ('three three', '', 0), # renamed three already exists ('a\nb\nc', '', 0) # exec four # container_names for delete_missing # rm containers missing in config mock.call(['docker', 'stop', 'five'], mock.ANY), mock.call(['docker', 'rm', 'five'], mock.ANY), mock.call(['docker', 'stop', 'six'], mock.ANY), mock.call(['docker', 'rm', 'six'], mock.ANY), # container_names for rename # rename three from an ephemeral to the static name mock.call(['docker', 'rename', 'three-12345678', 'three'], mock.ANY), # container_names to be refreshed after delete/rename @mock.patch(""paunch.runner.BaseRunner.container_names"") @mock.patch(""paunch.runner.BaseRunner.discover_container_name"", return_value='one') def test_apply_idempotency(self, mock_dname, mock_cnames, mock_cpu): config = { # running with the same config and given an ephemeral name # not running yet # running, but with a different config 'one_ls': { 'command': ['one', 'ls', '-l', '/'] } # five is running but is not managed by us } # represents the state before and after renaming/removing things mock_cnames.side_effect = ( # delete_missing [['five', 'five'], ['one-12345678', 'one'], ['three', 'three']], # rename_containers [['one-12345678', 'one']], # refresh container_names/desired after del/rename [['one', 'one'], ['three', 'three']], # refresh container_names/desired after delete_updated [['one', 'one']] ) ('', '', 0), # ps for rename one # inspect one ('{""start_order"": 0, ""image"": ""centos:7""}', '', 0), # inspect three ('{""start_order"": 42, ""image"": ""centos:7""}', '', 0), # stop three, changed config data ('', '', 0), # rm three, changed config data ('', '', 0), ('Created three-12345678', '', 0), ('a\nb\nc', '', 0) # exec one 'Created three-12345678', # rename one from an ephemeral to the static name mock.call(['docker', 'rename', 'one-12345678', 'one'], mock.ANY), # check the renamed one, config hasn't changed 'one'], mock.ANY, False), # don't run one, its already running # rm three, changed config mock.call(['docker', 'inspect', '--type', 'container', '--format', '{{index .Config.Labels ""config_data""}}', 'three'], mock.ANY, False), mock.call(['docker', 'stop', 'three'], mock.ANY), mock.call(['docker', 'rm', 'three'], mock.ANY), # run three mock.call( ['docker', 'run', '--name', 'three-12345678', '--label', 'config_id=foo', '--label', 'container_name=three', '--label', 'managed_by=tester', '--label', 'config_data=%s' % json.dumps(config['three']), '--detach=true', '--cpuset-cpus=0,1,2,3', 'centos:7'], mock.ANY ), # FIXME(bogdando): shall exec ls in the renamed one! # Why discover_container_name is never called to get it as c_name? ['docker', 'exec', 'one-12345678', 'ls', '-l',"," def test_apply(self, mock_cpu): ('', '', 0), # ps for delete_missing_and_updated container_names ('', '', 0), # ps2 for delete_missing_and_updated container_names ('', '', 0), # ps for after delete_missing_and_updated renames ('', '', 0), # ps2 for after delete_missing_and_updated renames ('', '', 0), # ps to only create containers which don't exist ('', '', 0), # ps2 to only create containers which don't exist ('Created three-12345678', '', 0), ('a\nb\nc', '', 0) 'Created three-12345678', # ps for delete_missing_and_updated container_names # ps2 for delete_missing_and_updated container_names # ps for after delete_missing_and_updated renames # ps2 for after delete_missing_and_updated renames mock.call( ['docker', 'ps', '-a', '--filter', 'label=managed_by=paunch', '--format', '{{.Names}} {{.Label ""container_name""}}'], mock.ANY ), # ps to only create containers which don't exist # ps2 to only create containers which don't exist mock.call( ['docker', 'ps', '-a', '--filter', 'label=managed_by=paunch', '--filter', 'label=config_id=foo', '--format', '{{.Names}} {{.Label ""container_name""}}'], mock.ANY ), # run three mock.call( ['docker', 'run', '--name', 'three-12345678', '--label', 'config_id=foo', '--label', 'container_name=three', '--label', 'managed_by=tester', '--label', 'config_data=%s' % json.dumps(config['three']), '--detach=true', '--cpuset-cpus=0,1,2,3', 'centos:6'], mock.ANY ), def test_apply_idempotency(self, mock_cpu): config = { # not running yet # running, but with a different config # running with the same config 'four_ls': { 'command': ['four', 'ls', '-l', '/'] } } # ps for delete_missing_and_updated container_names ('''five five six six two-12345678 two three-12345678 three''', '', 0), # stop six ('', '', 0), # rm six ('', '', 0), # inspect two ('{""start_order"": 1, ""image"": ""centos:6""}', '', 0), # stop two, changed config data ('', '', 0), # rm two, changed config data ('', '', 0), # inspect three ('{""start_order"": 2, ""image"": ""centos:7""}', '', 0), # ps for after delete_missing_and_updated renames ('', '', 0), # ps2 for after delete_missing_and_updated renames ('', '', 0), # ps to only create containers which don't exist ('three-12345678 three', '', 0), ('Created one-12345678', '', 0), ('a\nb\nc', '', 0) 'Created one-12345678', # ps for delete_missing_and_updated container_names mock.call( ['docker', 'ps', '-a', '--filter', 'label=managed_by=tester', '--filter', 'label=config_id=foo', '--format', '{{.Names}} {{.Label ""container_name""}}'], mock.ANY ), mock.call(['docker', 'stop', 'six'], mock.ANY), mock.call(['docker', 'rm', 'six'], mock.ANY), # rm two, changed config 'two-12345678'], mock.ANY, False), mock.call(['docker', 'stop', 'two-12345678'], mock.ANY), mock.call(['docker', 'rm', 'two-12345678'], mock.ANY), # check three, config hasn't changed mock.call(['docker', 'inspect', '--type', 'container', '--format', '{{index .Config.Labels ""config_data""}}', 'three-12345678'], mock.ANY, False), # ps for after delete_missing_and_updated renames mock.call( ['docker', 'ps', '-a', '--filter', 'label=managed_by=tester', '--format', '{{.Names}} {{.Label ""container_name""}}'], mock.ANY ), # ps2 for after delete_missing_and_updated renames mock.call( ['docker', 'ps', '-a', '--filter', 'label=managed_by=paunch', '--format', '{{.Names}} {{.Label ""container_name""}}'], mock.ANY ), # ps to only create containers which don't exist mock.call( ['docker', 'ps', '-a', '--filter', 'label=managed_by=tester', '--filter', 'label=config_id=foo', '--format', '{{.Names}} {{.Label ""container_name""}}'], mock.ANY ), # run one mock.call( ['docker', 'run', '--name', 'one-12345678', '--label', 'config_id=foo', '--label', 'container_name=one', '--label', 'managed_by=tester', '--label', 'config_data=%s' % json.dumps(config['one']), '--detach=true', '--cpuset-cpus=0,1,2,3', 'centos:7'], mock.ANY ), # don't run three, its already running # execute within four ['docker', 'exec', 'four-12345678', 'ls', '-l',",142,151
openstack%2Fkolla~master~I68aa6f4b7fb1c8d63c84f3436a34399cc9644060,openstack/kolla,master,I68aa6f4b7fb1c8d63c84f3436a34399cc9644060,nova-libvirt: use dmidecode and xen-utils on archs which have them,MERGED,2020-03-03 13:24:31.000000000,2020-03-06 09:38:51.000000000,2020-03-06 09:37:05.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 13:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4bfdb56c1b57964ec7cbdc07fbb35ab4c6f6c6e', 'message': 'nova-libvirt: use dmidecode and xen-utils on archs which have them\n\nInstead of listing architectures which do not have those packages we\nshould list those which have. Makes adding s390x easier.\n\nChange-Id: I68aa6f4b7fb1c8d63c84f3436a34399cc9644060\n'}, {'number': 2, 'created': '2020-03-03 13:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c5bc16e22fad0b6a531683def53d4bbbef582e3', 'message': 'nova-libvirt: use dmidecode and xen-utils on archs which have them\n\nInstead of listing architectures which do not have those packages we\nshould list those which have. Makes adding s390x easier.\n\nChange-Id: I68aa6f4b7fb1c8d63c84f3436a34399cc9644060\n'}, {'number': 3, 'created': '2020-03-03 13:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca7021974506cc8640ffa6994da0eebff49614fc', 'message': 'nova-libvirt: use dmidecode and xen-utils on archs which have them\n\nInstead of listing architectures which do not have those packages we\nshould list those which have. Makes adding s390x easier.\n\nChange-Id: I68aa6f4b7fb1c8d63c84f3436a34399cc9644060\n'}, {'number': 4, 'created': '2020-03-03 17:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/79e994292036ab7b59bf03baa1ef2f7e3705ecbd', 'message': 'nova-libvirt: use dmidecode and xen-utils on archs which have them\n\nInstead of listing architectures which do not have those packages we\nshould list those which have. Makes adding s390x easier.\n\nChange-Id: I68aa6f4b7fb1c8d63c84f3436a34399cc9644060\n'}, {'number': 5, 'created': '2020-03-05 21:56:08.000000000', 'files': ['docker/nova/nova-libvirt/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c8c9b42f295663fd641eadab89a82d4b93d18bf', 'message': 'nova-libvirt: use dmidecode and xen-utils on archs which have them\n\nInstead of listing architectures which do not have those packages we\nshould list those which have. Makes adding s390x easier.\n\nChange-Id: I68aa6f4b7fb1c8d63c84f3436a34399cc9644060\n'}]",0,711003,1c8c9b42f295663fd641eadab89a82d4b93d18bf,29,5,5,24072,,,0,"nova-libvirt: use dmidecode and xen-utils on archs which have them

Instead of listing architectures which do not have those packages we
should list those which have. Makes adding s390x easier.

Change-Id: I68aa6f4b7fb1c8d63c84f3436a34399cc9644060
",git fetch https://review.opendev.org/openstack/kolla refs/changes/03/711003/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-libvirt/Dockerfile.j2'],1,d4bfdb56c1b57964ec7cbdc07fbb35ab4c6f6c6e,," {% if base_arch in ['aarch64', 'x86_64' %}"," {% if base_arch != ""ppc64le"" %}",1,1
openstack%2Fglance~master~Ib02387c4be70581df64cf5009750b4f30ae30159,openstack/glance,master,Ib02387c4be70581df64cf5009750b4f30ae30159,Remove policy.json from setup.cfg,MERGED,2020-03-06 05:24:00.000000000,2020-03-06 09:34:33.000000000,2020-03-06 09:32:57.000000000,"[{'_account_id': 4257}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 05:24:00.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/c7ddabb15f3a56570b59259a29c0e943805af007', 'message': 'Remove policy.json from setup.cfg\n\npython setup.py install fails due to https://review.opendev.org/#/c/694387\nunable to copy missing file.\n\nChange-Id: Ib02387c4be70581df64cf5009750b4f30ae30159\n'}]",0,711581,c7ddabb15f3a56570b59259a29c0e943805af007,9,5,1,8863,,,0,"Remove policy.json from setup.cfg

python setup.py install fails due to https://review.opendev.org/#/c/694387
unable to copy missing file.

Change-Id: Ib02387c4be70581df64cf5009750b4f30ae30159
",git fetch https://review.opendev.org/openstack/glance refs/changes/81/711581/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c7ddabb15f3a56570b59259a29c0e943805af007,,, etc/policy.json,0,1
openstack%2Fcharm-swift-storage~master~I2a0fa8491fc61ef362db4fc25e66c069abfb03f6,openstack/charm-swift-storage,master,I2a0fa8491fc61ef362db4fc25e66c069abfb03f6,Review and improve README,MERGED,2020-02-19 03:28:36.000000000,2020-03-06 09:25:55.000000000,2020-03-06 09:25:55.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-19 03:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/a2489fe57e5757dba37652f87f317d4d4c3a56e3', 'message': ""Review and improve README\n\nThe dubious 'guess' method for block-device determination\nwas removed. It remains in config.yaml.\n\nChange-Id: I2a0fa8491fc61ef362db4fc25e66c069abfb03f6\n""}, {'number': 2, 'created': '2020-02-19 03:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/c04ed42a7bd24680dd0dba75757ee51860d58b1d', 'message': ""Review and improve README\n\nThe dubious 'guess' method for block-device determination\nwas removed. It remains in config.yaml.\n\nThis PR should be reviewed in tandem with the nearby\nPR for the swift-proxy README.\n\nChange-Id: I2a0fa8491fc61ef362db4fc25e66c069abfb03f6\n""}, {'number': 3, 'created': '2020-02-25 03:10:22.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/0e66d20aa5c7198aff39eab99421ae4e3ac68ad9', 'message': ""Review and improve README\n\nThe dubious 'guess' method for block-device determination\nwas removed. It remains in config.yaml.\n\nThis PR should be reviewed alongside the nearby\nPR for the swift-proxy README.\n\nChange-Id: I2a0fa8491fc61ef362db4fc25e66c069abfb03f6\n""}]",1,708557,0e66d20aa5c7198aff39eab99421ae4e3ac68ad9,13,4,3,30561,,,0,"Review and improve README

The dubious 'guess' method for block-device determination
was removed. It remains in config.yaml.

This PR should be reviewed alongside the nearby
PR for the swift-proxy README.

Change-Id: I2a0fa8491fc61ef362db4fc25e66c069abfb03f6
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/57/708557/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a2489fe57e5757dba37652f87f317d4d4c3a56e3,clean-up-readme,"# Overview OpenStack [Swift][swift-upstream] is a highly available, distributed, eventually consistent object/blob store. The swift-storage charm deploys Swift's storage component. The charm's basic function is to initialise storage devices and manage the container, object, and account services. The [swift-proxy][swift-proxy-charm] charm will also need to be deployed in order to add proxy nodes. # Usage ## Storage devices There are two main configuration options for storage devices: `zone` and `block-device`. In addition, if a global cluster is involved the `storage-region` option is needed. The `block-device` option specifies the device(s) that will be used on all machines associated with the application. Value types include: * an actual block device (e.g. 'sdb' or '/dev/sdb'). A space-separated list is used for multiple devices. * a path to a local file with the size appended after a pipe (e.g. '/etc/swift/storagedev1.img|5G'). The file will be created if necessary and be mapped to a loopback device. This is intended for development and testing purposes. The resulting block device(s) will be XFS-formatted and use `/srv/node/<device-name>` as a mount point. ## Deployment Due to the close relationship between swift-proxy and swift-storage the deployment workflow for both will be covered in the [swift-proxy charm README][swift-proxy-charm-readme]. ## Actions This section covers Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. * `openstack-upgrade` * `pause` * `resume` To display action descriptions run `juju actions swift-storage`. # Bugs Please report bugs on [Launchpad][lp-bugs-charm-swift-storage]. For general charm questions refer to the [OpenStack Charm Guide][cg]. <!-- LINKS --> [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [swift-proxy-charm]: https://jaas.ai/swift-proxy[swift-upstream]: https://docs.openstack.org/developer/swift [lp-bugs-charm-swift-storage]: https://bugs.launchpad.net/charm-swift-storage/+filebug [cdg-appendix-r]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-swift-gc.html [juju-docs-actions]: https://jaas.ai/docs/actions ","Overview -------- This charm provides the swift-storage component of the OpenStack Swift object storage system. It can be deployed as part of its own standalone storage cluster or it can be integrated with the other OpenStack components, assuming those are also managed by Juju. For Swift to function, you'll also need to deploy an additional swift-proxy using the cs:precise/swift-proxy charm. For more information about Swift and its architecture, visit the official [Swift project website][swift-project]. This charm is intended to track each LTS release of Ubuntu Server, as well as newer OpenStack releases via the Ubuntu Cloud Archive as supported by each Ubuntu LTS version. Non-LTS (interim release) Ubuntu server versions are enabled in the charms strictly for development and testing purposes. Usage ----- This charm is quite simple. Its basic function is to get a storage device setup for swift usage, and run the container, object and account services. The deployment workflow for swift using this charm is covered in the README for the swift-proxy charm at cs:precise/swift-proxy. The following are deployment options to take into consideration when deploying swift-storage. **Zone assignment** If the swift-proxy charm is configured for manual zone assignment (recommended), the 'zone' option should be set for each swift-storage service being deployed. See the swift-proxy README for more information about zone assignment. **Region assignment** If the swift-proxy charm is configured with the Swift Global Cluster feature, the 'region' option should be set for each swift-storage service being deployed. See the [swift-proxy charm README][swift-proxy-charm-readme] for more information about the Swift Global Cluster feature. **Storage** Swift storage nodes require access to local storage and filesystem. The charm takes a 'block-device' config setting that can be used to specify which storage device(s) to use. Options include: - 1 or more local block devices (eg, sdb or /dev/sdb). It's important that this device be the same on all machine units assigned to this service. Multiple block devices should be listed as a space-separated list of device nodes. - a path to a local file on the filesystem with the size appended after a pipe, eg ""/etc/swift/storagedev1.img|5G"". This will be created if it does not exist and be mapped to a loopback device. Intended strictly for development and testing. - ""guess"" can be used to tell the charm to do its best to find a local devices to use. *EXPERIMENTAL* Multiple devices can be specified. In all cases, the resulting block device(s) will each be formatted as XFS file system and mounted at /srv/node/$devname. **Installation repository** The 'openstack-origin' setting allows Swift to be installed from repositories such as the Ubuntu Cloud Archive, which enables installation of Swift versions more recent than what shipped with the Ubuntu LTS release. For more information, see config.yaml. [swift-project]: https://docs.openstack.org/developer/swift",49,50
openstack%2Fcharm-swift-proxy~master~I66a722b794cc4b10b07c3b9b772db8a7fd858804,openstack/charm-swift-proxy,master,I66a722b794cc4b10b07c3b9b772db8a7fd858804,Review and improve README,MERGED,2020-02-19 03:35:12.000000000,2020-03-06 09:24:25.000000000,2020-03-06 09:24:24.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2020-02-19 03:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a3bcab2d905e0c1e0c99801a13debb0191ac609c', 'message': 'Review and improve README\n\nThis PR should be reviewed in tandem with the nearby\nPR for the swift-storage README.\n\nI had trouble testing the global cluster feature.\nSee bug #1863815.\n\nChange-Id: I66a722b794cc4b10b07c3b9b772db8a7fd858804\n'}, {'number': 2, 'created': '2020-02-25 02:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/630b1e205a75d932b4839e7b29a280e6a966bcdb', 'message': 'Review and improve README\n\nThis PR should be reviewed alongside the nearby\nPR for the swift-storage README.\n\nI had trouble testing the global cluster feature.\nSee bug #1863815.\n\nChange-Id: I66a722b794cc4b10b07c3b9b772db8a7fd858804\n'}, {'number': 3, 'created': '2020-02-25 03:08:22.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/3101f78f6ba8fcfb225894a8b27c4d289d18b25d', 'message': 'Review and improve README\n\nThis PR should be reviewed alongside the nearby\nPR for the swift-storage README.\n\nI had trouble testing the global cluster feature.\nSee bug #1863815.\n\nChange-Id: I66a722b794cc4b10b07c3b9b772db8a7fd858804\n'}]",2,708558,3101f78f6ba8fcfb225894a8b27c4d289d18b25d,16,4,3,30561,,,0,"Review and improve README

This PR should be reviewed alongside the nearby
PR for the swift-storage README.

I had trouble testing the global cluster feature.
See bug #1863815.

Change-Id: I66a722b794cc4b10b07c3b9b772db8a7fd858804
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/58/708558/3 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,a3bcab2d905e0c1e0c99801a13debb0191ac609c,bug/1863815,"# Overview OpenStack [Swift][swift-upstream] is a highly available, distributed, eventually consistent object/blob store. The swift-proxy charm deploys Swift's proxy component. The charm's basic function is to manage zone assignment and enforce replica requirements for the storage nodes. The [swift-storage][swift-storage-charm] charm will need to be deployed in order to add storage nodes. Due to the close relationship between swift-proxy and swift-storage the deployment workflow for both will be covered here. In particular, the same configuration YAML file will be used. # Usage ## Storage devices Storage devices are managed by the swift-storage charm. There are two main configuration options: `zone` and `block-device`. In addition, if a global cluster is involved the `storage-region` option is needed. The `block-device` option specifies the device(s) that will be used on all machines associated with the application. Value types include: * an actual block device (e.g. 'sdb' or '/dev/sdb'). A space-separated list is used for multiple devices. * a path to a local file with the size appended after a pipe (e.g. '/etc/swift/storage.img|5G'). The file will be created if necessary and be mapped to a loopback device. This is intended for development and testing purposes. The resulting storage device(s) will be XFS-formatted and use `/srv/node/<device-name>` as a mount point. ## Deployment There are two fundamental ways to deploy a Swift cluster with charms. Each method differs by how storage nodes get assigned to storage zones. If a global cluster is being deployed it will use one of these methods. ### Manual zone assignment The 'manual' method (the default) allows the cluster to be designed by explicitly assigning a storage zone to a storage node. This zone gets associated with the swift-storage application. This means that this method involves multiple uniquely-named applications. A sample `swift.yaml` file's contents: ```yaml swift-proxy: zone-assignment: manual replicas: 3 swift-storage-zone1: zone: 1 block-device: /dev/sdb swift-storage-zone2: zone: 2 block-device: /dev/sdb swift-storage-zone3: zone: 3 block-device: /dev/sdb ``` Deploy the proxy and storage nodes: juju deploy --config swift.yaml swift-proxy juju deploy --config swift.yaml swift-storage swift-storage-zone1 juju deploy --config swift.yaml swift-storage swift-storage-zone2 juju deploy --config swift.yaml swift-storage swift-storage-zone3 Add relations between the proxy node and all storage nodes: juju add-relation swift-proxy:swift-storage swift-storage-zone1:swift-storage juju add-relation swift-proxy:swift-storage swift-storage-zone2:swift-storage juju add-relation swift-proxy:swift-storage swift-storage-zone3:swift-storage This will result in a three-zone cluster, with each zone consisting of a single storage node, thereby satisfying the replica requirement of three. Storage capacity is increased by adding swift-storage units to a zone. For example, to add two storage nodes to zone '3': juju add-unit -n 2 swift-storage-zone3 > **Note**: When scaling out ensure the candidate machines are equipped with the block devices currently configured for the associated application.zones to meet its minimum replica requirement, in this case three. ### Auto zone assignment The 'auto' method automatically assigns storage zones to storage nodes. There is only one swift-storage application and only one relation between it and the swift-proxy application. The relation sets up the initial storage node in zone '1' (by default). Newly-added nodes get assigned to zone '2', '3', and so on, until the number of stated replicas is reached. Zone numbering then falls back to '1' and the zone-assignment cycle repeats. In this way, storage nodes get distributed evenly across zones. A sample `swift.yaml` file's contents: ```yaml block-device: /dev/sdb ``` Deploy the proxy node and the storage application: juju deploy --config swift.yaml swift-proxy juju deploy --config swift.yaml swift-storage The first storage node gets assigned to zone '1' when the initial relation is added: juju add-relation swift-proxy:swift-storage swift-storage:swift-storage The second and third units get assigned to zones '2' and '3', respectively, during scale-out operations: juju add-unit -n 2 swift-storage > **Note**: When scaling out ensure the candidate machines are equipped with the block devices currently configured for the associated application. At this point the replica requirement is satisfied and the ring is balanced. The ring is extended by continuing to add more units to the single application. ### Global cluster The configurations given above provide a single-region cluster. Generally a region is composed of a group of nodes with high-bandwidth, low-latency links between them. Multiple such clusters can be meshed together to create a multi-region (global) cluster. The goal is to achieve greater data resiliency by spanning zones across geographically dispersed regions. For global clusters, beyond the standard Swift settings previously covered, the proxy and storage nodes (in each region) require extra configuration: On the proxy node, * option `enable-multi-region` is set to 'true' * option `region` is defined * option `swift-hash` is defined (unique value across regions) On the storage nodes, * option `storage-region` is set The below example has two regions, a single zone, one storage node per region, and a replica requirement of two. Manual zone assignment will be used. A sample `swift.yaml` file's contents: ```yaml swift-proxy-region1: swift-hash: ""efcf2102-b9e9-4d71-afe6-035e62bb9cfb"" swift-proxy-region2: swift-hash: ""efcf2102-b9e9-4d71-afe6-035e62bb9cfb"" swift-storage-region1: block-device: /dev/sdb swift-storage-region2: block-device: /dev/sdb ``` The value of `swift-hash` is arbitrary. It is provided here in the form of a UUID. Deploy in region 1: juju deploy --config swift.yaml swift-proxy swift-proxy-region1 juju deploy --config swift.yaml swift-storage swift-storage-region1 Deploy in region 2: juju deploy --config swift.yaml swift-proxy swift-proxy-region2 juju deploy --config swift.yaml swift-storage swift-storage-region2 Add relations between swift-proxy in region 1 and swift-storage in both regions: juju add-relation swift-proxy-region1:swift-storage swift-storage-region1:swift-storage juju add-relation swift-proxy-region1:swift-storage swift-storage-region2:swift-storage Add relations between swift-proxy in region 2 and swift-storage in both regions: juju add-relation swift-proxy-region2:swift-storage swift-storage-region1:swift-storage juju add-relation swift-proxy-region2:swift-storage swift-storage-region2:swift-storage Add a relation between swift-proxy in region 1 and swift-proxy in region 2: juju add-relation swift-proxy-region1:rings-distributor swift-proxy-region2:rings-consumer More than one proxy can be deployed per region, and each must have a relation to every proxy in all other regions. Only one proxy can act as a rings-distributor at any one time and the proxy in region '1' was arbitrarily chosen here. [Swift global cluster][cdg-app-swift-gc] in the [OpenStack Charms Deployment Guide][cdg] offers in-depth guidance on how this feature can be used with charms. In particular, it demonstrates how to work with cross model relations since regions typically reside in separate Juju models. ## Swift as backend for Glance Swift may be used as a storage backend for the Glance image service. To do so, add a relation between the swift-proxy and glance applications: juju add-relation swift-proxy:object-store glance:object-store ## Telemetry Starting with OpenStack Mitaka improved telemetry collection support can be achieved by adding a relation to rabbitmq-server:Doing the above in a busy Swift deployment can add a significant amount of load to the underlying message bus. ## High availability This charm supports high availability. There are two mutually exclusive HA/clustering strategies: * virtual IP(s) * DNS In both cases, the hacluster subordinate charm is required. It provides the corosync backend HA functionality. ### virtual IP(s) To use virtual IP(s) the clustered nodes and the VIP must be on the same subnet. That is, the VIP must be a valid IP on the subnet for one of the node's interfaces and each node has an interface in said subnet. The VIP becomes a highly-available API endpoint. At a minimum, the configuration option `vip` must be defined. The value can take on space-separated values if multiple networks are in use. Optionally, options `vip_iface` or `vip_cidr` may be specified. ### DNS DNS high availability does not require the clustered nodes to be on the same subnet. It does require: * an environment with MAAS 2.0 and Juju 2.0 (as minimum versions) * clustered nodes with static or ""reserved"" IP addresses registered in MAAS * DNS hostnames that are pre-registered in MAAS At a minimum, the configuration option `dns-ha` must be set to 'true' and at least one of `os-admin-hostname`, `os-internal-hostname`, or `os-public-hostname` must be set. The charm will throw an exception in the following circumstances: * if neither `vip` nor `dns-ha` is set and the charm has a relation added to hacluster * if both `vip` and `dns-ha` are set * if `dns-ha` is set and none of `os-admin-hostname`, `os-internal-hostname`, or `os-public-hostname` are set ## Network spaces This charm supports the use of Juju [network spaces][juju-docs-spaces] (Juju `v.2.0`). This feature optionally allows specific types of the application's network traffic to be bound to subnets that the underlying hardware is connected to. > **Note**: Spaces must be configured in the backing cloud prior to deployment. API endpoints can be bound to distinct network spaces supporting the network separation of public, internal, and admin endpoints. For example, providing that spaces 'public-space', 'internal-space', and 'admin-space' exist, the deploy command above could look like this: juju deploy --config swift-proxy.yaml swift-proxy \ --bind ""public=public-space internal=internal-space admin=admin-space"" Alternatively, configuration can be provided as part of a bundle: ```yaml swift-proxy: charm: cs:swift-proxy num_units: 1 bindings: public: public-space internal: internal-space admin: admin-space ``` > **Note**: Existing cinder units configured with the `os-admin-network`, `os-internal-network`, or `os-public-network` options will continue to honour them. Furthermore, these options override any space bindings, if set. ## Actions This section lists Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. * `add-user` * `diskusage` * `dispersion-populate` * `dispersion-report` * `openstack-upgrade` * `pause` * `remove-devices` * `resume` * `set-weight` To display action descriptions run `juju actions swift-proxy`. # Bugs Please report bugs on [Launchpad][lp-bugs-charm-swift-proxy]. For general charm questions refer to the [OpenStack Charm Guide][cg]. <!-- LINKS --> [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [lp-bugs-charm-swift-proxy]: https://bugs.launchpad.net/charm-swift-proxy/+filebug [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-spaces]: https://jaas.ai/docs/spaces [swift-storage]: https://jaas.ai/swift-storage [cdg-app-swift-gc]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-swift-gc.html [juju-docs-actions]: https://jaas.ai/docs/actions [swift-upstream]: https://docs.openstack.org/developer/swift [swift-storage-charm]: https://jaas.ai/swift-storage","Overview -------- This charm provides the swift-proxy component of the OpenStack Swift object storage system. It can be deployed as part of its own stand-alone storage cluster or it can be integrated with the other OpenStack components, assuming those are also managed by Juju. For Swift to function, you'll also need to deploy additional swift-storage nodes using the cs:precise/swift-storage charm. For more information about Swift and its architecture, visit the [official project website](https://docs.openstack.org/developer/swift) This charm was developed to support deploying multiple version of Swift on Ubuntu Precise 12.04, as they relate to the release series of OpenStack. That is, OpenStack Essex corresponds to Swift 1.4.8 while OpenStack Folsom shipped 1.7.4. This charm can be used to deploy either (and future) versions of Swift onto an Ubuntu Precise 12.04 or Trusty 14.04 making use of the Ubuntu Cloud Archive when needed. Usage ----- Currently, Swift may be deployed in two ways. In either case, additional storage nodes are required. The configuration option that dictates how to deploy this charm is the 'zone-assignment' setting. This section describes how to select the appropriate zone assignment policy, as well as a few other configuration settings of interest. Many of the configuration settings can be left as default. **Zone Assignment** This setting determines how the charm assigns new storage nodes to storage zones. The default, 'manual' option is suggested for production as it allows administrators to carefully architect the storage cluster. It requires each swift-storage service to be deployed with an explicit storage zone configured in its deployment settings. Upon relation to a swift-proxy, the storage node will request membership to its configured zone and be assigned by the swift-proxy charm accordingly. Using the cs:precise/swift-storage charm with this charm, a deployment would look something like: $ cat >swift.cfg <<END swift-proxy: zone-assignment: manual replicas: 3 swift-storage-zone1: zone: 1 block-device: /etc/swift/storage.img|2G swift-storage-zone2: zone: 2 block-device: /etc/swift/storage.img|2G swift-storage-zone3: zone: 3 block-device: /etc/swift/storage.img|2G END $ juju deploy --config=swift.cfg swift-proxy $ juju deploy --config=swift.cfg swift-storage swift-storage-zone1 $ juju deploy --config=swift.cfg swift-storage swift-storage-zone2 $ juju deploy --config=swift.cfg swift-storage swift-storage-zone3 $ juju add-relation swift-proxy swift-storage-zone1 $ juju add-relation swift-proxy swift-storage-zone2 $ juju add-relation swift-proxy swift-storage-zone3 This will result in a configured storage cluster of 3 zones, each with one node. To expand capacity of the storage system, nodes can be added to specific zones in the ring. $ juju add-unit swift-storage-zone1 $ juju add-unit -n5 swift-storage-zone3 # Adds 5 units to zone3zones to meet its minimum replica requirement, in this case 3. The other option for zone assignment is 'auto'. In this mode, swift-proxy gets a relation to a single swift-storage service unit. Each machine unit assigned to that service unit will be distributed evenly across zones. $ cat >swift.cfg <<END zone: 1 block-device: /etc/swift/storage.img|2G END $ juju deploy --config=swift.cfg swift-proxy $ juju deploy --config=swift.cfg swift-storage $ juju add-relation swift-proxy swift-storage # The swift-storage/0 unit ends up the first node in zone 1 $ juju add-unit swift-storage # swift-storage/1 ends up the first node in zone 2. $ juju add-unit swift-storage # swift-storage/2 is the first in zone 3, replica requirement is satisfied # the ring is balanced. Extending the ring in the case is just a matter of adding more units to the single service unit. New units will be distributed across the existing zones. $ juju add-unit swift-storage # swift-storage/3 is assigned to zone 1. $ juju add-unit swift-storage # swift-storage/4 is assigned to zone 2. etc. **Global Cluster.** This charm supports Swift Global Cluster feature as described at https://docs.openstack.org/swift/latest/overview_global_cluster.html . In order to enable it the 'enable-multi-region' option has to be set to 'True'. Additional options ('read-affinity', 'write-affinity' and 'write-affinity-node-count') can be used to influence how the objects will be read and written. In addition storage nodes have to be configured with the 'region' option and related to all proxies participating in the global cluster. More than one proxy can be deployed, but they have to be related using 'rings-distributor' / 'rings-consumer' endpoints and the 'swift-hash' option has to be unique across them. Only one proxy can act as a rings-distributor at a time. $ cat >swift.cfg <<END sp-r1: swift-hash: ""global-cluster"" read-affinity: ""r1=100, r2=200"" write-affinity: ""r1, r2"" write-affinity-node-count: ""1"" sp-r2: swift-hash: ""global-cluster"" read-affinity: ""r2=100, r1=200"" write-affinity: ""r2, r1"" write-affinity-node-count: ""1"" ss-r1: block-device: /etc/swift/storage.img|2G ss-r2: block-device: /etc/swift/storage.img|2G END $ juju deploy --config=swift.cfg swift-proxy sp-r1 $ juju deploy --config=swift.cfg swift-proxy sp-r2 $ juju deploy --config=swift.cfg swift-storage ss-r1 $ juju deploy --config=swift.cfg swift-storage ss-r2 $ juju add-relation sp-r1:swift-storage ss-r1:swift-storage $ juju add-relation sp-r1:swift-storage ss-r2:swift-storage $ juju add-relation sp-r2:swift-storage ss-r1:swift-storage $ juju add-relation sp-r2:swift-storage ss-r2:swift-storage $ juju add-relation sp-r1:rings-distributor sp-r2:rings-consumer In case of the failure of 'sp-r1', if it is not possible to recover it, the relation should be removed: $ juju remove-relation sp-r2:rings-consumer sp-r1:rings-distributor Additional proxy can be deployed later and related to 'swift-proxy-region2' using 'rings-distributor' / 'rings-consumer' endpoints. **Installation repository.** The 'openstack-origin' setting allows Swift to be installed from installation repositories and can be used to setup access to the Ubuntu Cloud Archive to support installing Swift versions more recent than what is shipped with Ubuntu 12.04 (1.4.8). For more information, see config.yaml. **Authentication.** By default, the charm will be deployed using the tempauth auth system. This is a simple and not-recommended auth system that functions without any external dependencies. See Swift documentation for details. The charm may also be configured to use Keystone, either manually (via config) or automatically via a relation to an existing Keystone service using the cs:precise/keystone charm. The latter is preferred, however, if a Keystone service is desired but it is not managed by Juju, the configuration for the auth token middleware can be set manually via the charm's config. A relation to a Keystone server via the identity-service interface will configure swift-proxy with the appropriate credentials to make use of Keystone and is required for any integration with other OpenStack components. **Glance** Swift may be used to as a storage backend for the Glance image service. To do so, simply add a relation between swift-proxy and an existing Glance service deployed using the cs:precise/glance charm. HA/Clustering ------------- There are two mutually exclusive high availability options: using virtual IP(s) or DNS. In both cases, a relationship to hacluster is required which provides the corosync back end HA functionality. To use virtual IP(s) the clustered nodes must be on the same subnet such that the VIP is a valid IP on the subnet for one of the node's interfaces and each node has an interface in said subnet. The VIP becomes a highly-available API endpoint. At a minimum, the config option 'vip' must be set in order to use virtual IP HA. If multiple networks are being used, a VIP should be provided for each network, separated by spaces. Optionally, vip_iface or vip_cidr may be specified. To use DNS high availability there are several prerequisites. However, DNS HA does not require the clustered nodes to be on the same subnet. Currently the DNS HA feature is only available for MAAS 2.0 or greater environments. MAAS 2.0 requires Juju 2.0 or greater. The clustered nodes must have static or ""reserved"" IP addresses registered in MAAS. The DNS hostname(s) must be pre-registered in MAAS before use with DNS HA. At a minimum, the config option 'dns-ha' must be set to true and at least one of 'os-public-hostname', 'os-internal-hostname' or 'os-internal-hostname' must be set in order to use DNS HA. One or more of the above hostnames may be set. The charm will throw an exception in the following circumstances: If neither 'vip' nor 'dns-ha' is set and the charm is related to hacluster If both 'vip' and 'dns-ha' are set as they are mutually exclusive If 'dns-ha' is set and none of the os-{admin,internal,public}-hostname(s) are set Network Space support --------------------- This charm supports the use of Juju Network Spaces, allowing the charm to be bound to network space configurations managed directly by Juju. This is only supported with Juju 2.0 and above. API endpoints can be bound to distinct network spaces supporting the network separation of public, internal and admin endpoints. To use this feature, use the --bind option when deploying the charm: juju deploy swift-proxy --bind ""public=public-space internal=internal-space admin=admin-space"" alternatively these can also be provided as part of a juju native bundle configuration: swift-proxy: charm: cs:xenial/swift-proxy num_units: 1 bindings: public: public-space admin: admin-space internal: internal-space **NOTE:** Spaces must be configured in the underlying provider prior to attempting to use them. **NOTE:** Existing deployments using os-\*-network configuration options will continue to function; these options are preferred over any network space binding provided if set. Telemetry support ------------------ For OpenStack releases >= Mitaka, improved telemetry collection support is possible by adding a relation between swift-proxy and rabbitmq-server:**NOTE:** In a busy Swift deployment this can place additional load on the underlying message bus.",294,206
openstack%2Fmistral~master~Id62fdabe7699e7c3b2977166e253cfc77779e467,openstack/mistral,master,Id62fdabe7699e7c3b2977166e253cfc77779e467,Remove OpenStack actions from mistral,MERGED,2020-01-23 11:31:32.000000000,2020-03-06 09:10:57.000000000,2020-03-06 09:08:24.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-01-23 11:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/357bf55e35a7a50234877edb318d5ec3d0e056f3', 'message': 'Remove openstack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 2, 'created': '2020-01-23 11:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4e4ce2b0b5ab32ec57be48785dd47e87c266fbee', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 3, 'created': '2020-01-23 13:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f110424d29a5bcfe1a0f27b05bef53caf72cd976', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 4, 'created': '2020-01-26 07:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/454c1f6f37ece220e9ef18953bf250492082ef87', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 5, 'created': '2020-01-26 13:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/87475d23d90a20ea5c2c81c34754475f72311d9e', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 6, 'created': '2020-01-29 15:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9eb498a7fa428728d4beabff8a9d9c131283c0ff', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nDepends-On: https://review.opendev.org/#/c/704280/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 7, 'created': '2020-01-30 09:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4c017c53af0e08bbcb6a0f7766aa6f4752f545f5', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nDepends-On: https://review.opendev.org/#/c/704280/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 8, 'created': '2020-01-30 10:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c151c470c4c3a165a53d9da908daa91d59e17f9e', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nDepends-On: https://review.opendev.org/#/c/704280/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 9, 'created': '2020-01-30 10:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/604c8106a987b3b28b6db576fcba80250e971603', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nDepends-On: https://review.opendev.org/#/c/704280/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 10, 'created': '2020-01-30 14:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4675f524749b07c7fd387fdc61076ecb93f69d13', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nDepends-On: https://review.opendev.org/#/c/704280/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 11, 'created': '2020-02-18 14:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/833abf1c181e8fb5b08b51a3cf2462355d368ea2', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nDepends-On: https://review.opendev.org/#/c/704280/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}, {'number': 12, 'created': '2020-02-26 08:12:59.000000000', 'files': ['mistral/actions/action_generator.py', 'mistral/utils/inspect_utils.py', 'mistral/tests/unit/utils/test_keystone_utils.py', 'mistral/utils/openstack/keystone.py', 'test-requirements.txt', 'mistral/config.py', 'mistral/tests/unit/test_exception_base.py', 'mistral/actions/openstack/action_generator/base.py', 'mistral/actions/openstack/base.py', 'mistral/engine/base.py', 'releasenotes/notes/move_openstack_actions_from_mistral_to_mistral_extra-b3f7bc71ffd72c6e.yaml', 'mistral/tests/resources/openstack/test_mapping.json', 'mistral/tests/unit/api/v2/test_action_executions.py', 'devstack/settings', 'mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json', 'requirements.txt', 'mistral/db/sqlalchemy/migration/cli.py', 'tools/get_action_list.py', 'mistral/actions/openstack/action_generator/__init__.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/actions/base.py', 'mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/services/action_manager.py', 'mistral/tests/unit/actions/openstack/__init__.py', '.zuul.yaml', 'mistral/actions/generator_factory.py', 'mistral/tests/unit/base.py', 'devstack/plugin.sh', 'lower-constraints.txt', 'tools/sync_db.py', 'mistral/tests/unit/utils/test_inspect_utils.py', 'mistral/actions/openstack/__init__.py', 'mistral/workflow/data_flow.py', 'mistral/tests/unit/actions/openstack/test_openstack_actions.py', 'mistral/executors/default_executor.py', 'doc/requirements.txt', 'mistral/tests/resources/openstack/action_collection_wb.yaml', 'mistral/tests/unit/actions/test_action_manager.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/8bdf341af7348d3d092c6523a09df118c51c2a53', 'message': 'Remove OpenStack actions from mistral\n\nDepends-on: https://review.opendev.org/#/c/703296/\nDepends-On: https://review.opendev.org/#/c/704280/\nChange-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467\n'}]",1,703972,8bdf341af7348d3d092c6523a09df118c51c2a53,59,9,12,19134,,,0,"Remove OpenStack actions from mistral

Depends-on: https://review.opendev.org/#/c/703296/
Depends-On: https://review.opendev.org/#/c/704280/
Change-Id: Id62fdabe7699e7c3b2977166e253cfc77779e467
",git fetch https://review.opendev.org/openstack/mistral refs/changes/72/703972/12 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/actions/action_generator.py', 'mistral/tests/unit/actions/openstack/test_generator.py', 'mistral/services/action_manager.py', 'mistral/config.py', 'mistral/tests/unit/actions/openstack/__init__.py', 'mistral/actions/generator_factory.py', 'mistral/actions/openstack/action_generator/base.py', 'mistral/actions/openstack/base.py', 'devstack/plugin.sh', 'mistral/tests/resources/openstack/test_mapping.json', 'devstack/settings', 'mistral/actions/openstack/__init__.py', 'mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json', 'mistral/tests/unit/actions/openstack/test_openstack_actions.py', 'mistral/actions/openstack/action_generator/__init__.py', 'mistral/tests/resources/openstack/action_collection_wb.yaml', 'mistral/actions/base.py', 'mistral/tests/unit/actions/test_action_manager.py']",19,357bf55e35a7a50234877edb318d5ec3d0e056f3,workflows,," self._assert_single_item(action_list, name=""nova.servers_get"") self._assert_single_item( action_list, name=""nova.volumes_delete_server_volume"" ) server_find_action = self._assert_single_item( action_list, name=""nova.servers_find"" ) self.assertIn('**', server_find_action.input) self._assert_single_item(action_list, name=""keystone.users_list"") self._assert_single_item(action_list, name=""keystone.trusts_create"") self._assert_single_item(action_list, name=""glance.images_list"") self._assert_single_item(action_list, name=""glance.images_delete"") ",38,3821
openstack%2Fvirtualbmc~master~I3ad307f97442c6b30c3e60bd8186bfb30903c0b0,openstack/virtualbmc,master,I3ad307f97442c6b30c3e60bd8186bfb30903c0b0,Add `error` instance status to `vbmc` reporing,MERGED,2020-02-19 22:30:13.000000000,2020-03-06 08:48:25.000000000,2020-03-06 08:47:03.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2020-02-19 22:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/621b41e63d26fbcc744b42a69a379cc3960da615', 'message': 'Add `failing` instance status to `vbmc` reporing\n\nAdded `failing` status to `vbmc list` and `vbmc start`\ncommands output. If the instance is failing to start, such\ninstance will be shown as `failing` rather than being\n`down`.\n\nChange-Id: I3ad307f97442c6b30c3e60bd8186bfb30903c0b0\nStory: 2006457\nTask: 36378\n'}, {'number': 2, 'created': '2020-03-05 15:46:19.000000000', 'files': ['virtualbmc/manager.py', 'releasenotes/notes/show-error-status-13456782b3a5a6e2.yaml'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/f79c9ee89a6929a5c6f7d154f59a8443b244bb4d', 'message': 'Add `error` instance status to `vbmc` reporing\n\nAdded `error` status to `vbmc list` and `vbmc start`\ncommands output. If the instance is failing to start, such\ninstance will be shown as being in `error` satte rather\nthan being `down`.\n\nChange-Id: I3ad307f97442c6b30c3e60bd8186bfb30903c0b0\nStory: 2006457\nTask: 36378\n'}]",0,708763,f79c9ee89a6929a5c6f7d154f59a8443b244bb4d,13,4,2,26340,,,0,"Add `error` instance status to `vbmc` reporing

Added `error` status to `vbmc list` and `vbmc start`
commands output. If the instance is failing to start, such
instance will be shown as being in `error` satte rather
than being `down`.

Change-Id: I3ad307f97442c6b30c3e60bd8186bfb30903c0b0
Story: 2006457
Task: 36378
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/63/708763/1 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbmc/manager.py', 'releasenotes/notes/show-failing-status-13456782b3a5a6e2.yaml']",2,621b41e63d26fbcc744b42a69a379cc3960da615,show-failing-state,"features: - | Added ``failing`` status to ``vbmc list`` and ``vbmc start`` commands output. If the instance is failing to start, such instance will be shown as ``failing`` rather than being ``down``. ",,17,8
openstack%2Fpaunch~master~I2e0a5af0e7928e6048eedec9a91e6eeee60b98fa,openstack/paunch,master,I2e0a5af0e7928e6048eedec9a91e6eeee60b98fa,move centos-7 jobs to centos-8 where possible,MERGED,2020-03-02 16:25:45.000000000,2020-03-06 08:35:46.000000000,2020-03-06 08:32:01.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 16:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/b94c6d9eb15bbae5812b5d486f67e86674d4c59f', 'message': 'move centos-7 jobs to centos-8 where possible\n\nmove standalone scenario jobs to centos-8\n\nRelated-Bug: #1865525\nChange-Id: I2e0a5af0e7928e6048eedec9a91e6eeee60b98fa\n'}, {'number': 2, 'created': '2020-03-02 16:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/f61c60b16bbf61cb03b10054a2369771646f5ffb', 'message': 'move centos-7 jobs to centos-8 where possible\n\nmove standalone scenario jobs to centos-8\n\nRelated-Bug: #1865525\nChange-Id: I2e0a5af0e7928e6048eedec9a91e6eeee60b98fa\n'}, {'number': 3, 'created': '2020-03-05 20:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/8a73b6b944a8e14952bcb035e3fc8c54a974465d', 'message': 'move centos-7 jobs to centos-8 where possible\n\nmove standalone scenario jobs to centos-8\n\nRelated-Bug: #1865525\nChange-Id: I2e0a5af0e7928e6048eedec9a91e6eeee60b98fa\n'}, {'number': 4, 'created': '2020-03-05 20:38:14.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/paunch/commit/6bf30006c0d9b32f7c37107c8d79bff4b6fd1753', 'message': 'move centos-7 jobs to centos-8 where possible\n\nmove standalone scenario jobs to centos-8\n\nRelated-Bug: #1865525\nChange-Id: I2e0a5af0e7928e6048eedec9a91e6eeee60b98fa\n'}]",0,710816,6bf30006c0d9b32f7c37107c8d79bff4b6fd1753,15,4,4,9592,,,0,"move centos-7 jobs to centos-8 where possible

move standalone scenario jobs to centos-8

Related-Bug: #1865525
Change-Id: I2e0a5af0e7928e6048eedec9a91e6eeee60b98fa
",git fetch https://review.opendev.org/openstack/paunch refs/changes/16/710816/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b94c6d9eb15bbae5812b5d486f67e86674d4c59f,centos-8-jobs, - tripleo-ci-centos-8-scenario001-standalone: - tripleo-ci-centos-8-scenario002-standalone: - tripleo-ci-centos-8-scenario003-standalone: - tripleo-ci-centos-8-scenario004-standalone:, - tripleo-ci-centos-7-scenario001-standalone: - tripleo-ci-centos-7-scenario002-standalone: - tripleo-ci-centos-7-scenario003-standalone: - tripleo-ci-centos-7-scenario004-standalone:,4,4
openstack%2Ftripleo-common~master~I85e2a7eedd7727fc6f2f633329c04d2b954d9a73,openstack/tripleo-common,master,I85e2a7eedd7727fc6f2f633329c04d2b954d9a73,update jobs to centos-8,MERGED,2020-03-05 16:06:01.000000000,2020-03-06 08:35:46.000000000,2020-03-06 08:31:56.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 16:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92c9acb38a69c302e3024279daeeef5a04f1b1b3', 'message': 'update containers-multinode to centos-8\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: I85e2a7eedd7727fc6f2f633329c04d2b954d9a73\n'}, {'number': 2, 'created': '2020-03-05 17:32:12.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/14da80f4689f8f9bd1edd9dcd3c4e2f8911f63f4', 'message': 'update jobs to centos-8\n\ncontainers-multinode\nundercloud-containers\novercloud-image builds\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: I85e2a7eedd7727fc6f2f633329c04d2b954d9a73\n'}]",0,711496,14da80f4689f8f9bd1edd9dcd3c4e2f8911f63f4,15,3,2,9592,,,0,"update jobs to centos-8

containers-multinode
undercloud-containers
overcloud-image builds

Depends-On: https://review.opendev.org/#/c/711480/
Change-Id: I85e2a7eedd7727fc6f2f633329c04d2b954d9a73
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/96/711496/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,92c9acb38a69c302e3024279daeeef5a04f1b1b3,centos-8-jobs, - tripleo-ci-centos-8-containers-multinode:, - tripleo-ci-centos-7-containers-multinode:,1,1
openstack%2Fpython-tripleoclient~master~I903729bcf0d6212bb542e3536140da9b44824b30,openstack/python-tripleoclient,master,I903729bcf0d6212bb542e3536140da9b44824b30,"update containers-multinode, minion to centos-8",MERGED,2020-03-05 16:32:03.000000000,2020-03-06 08:35:25.000000000,2020-03-06 08:31:55.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 16:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/96a39ae14473f3b0984033c2c76728fc82617a87', 'message': 'update containers-multinode to centos-8\n\nDepends-On: https://review.opendev.org/#/c/711480\nChange-Id: I903729bcf0d6212bb542e3536140da9b44824b30\n'}, {'number': 2, 'created': '2020-03-05 16:51:26.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9bab4be307f8f5941c604b64ab2ce1222b17ce47', 'message': 'update containers-multinode, minion to centos-8\n\nDepends-On: https://review.opendev.org/#/c/711480\nChange-Id: I903729bcf0d6212bb542e3536140da9b44824b30\n'}]",0,711503,9bab4be307f8f5941c604b64ab2ce1222b17ce47,12,3,2,9592,,,0,"update containers-multinode, minion to centos-8

Depends-On: https://review.opendev.org/#/c/711480
Change-Id: I903729bcf0d6212bb542e3536140da9b44824b30
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/03/711503/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,96a39ae14473f3b0984033c2c76728fc82617a87,centos-8-jobs, - tripleo-ci-centos-8-containers-multinode:, - tripleo-ci-centos-7-containers-multinode:,1,1
openstack%2Fcharm-percona-cluster~master~I1167c67fa23482862900989d5105162af2599309,openstack/charm-percona-cluster,master,I1167c67fa23482862900989d5105162af2599309,Remove Amulet leftover and support Python 3.8,MERGED,2020-03-03 16:28:07.000000000,2020-03-06 08:34:15.000000000,2020-03-06 08:34:15.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 22799}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-03-03 16:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/653325c7ee346813b30c5020434fb7b0241a203b', 'message': 'Remove Amulet leftover\n\nChange-Id: I1167c67fa23482862900989d5105162af2599309\nCloses-Bug: #1828424\n'}, {'number': 2, 'created': '2020-03-04 16:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/9c41ddcc5b885dfaf9e8e8a3e29e74b7df37b335', 'message': 'Remove Amulet leftover and support Python 3.8\nSupport Python 3.8 by pulling a version of charm-helpers containing https://github.com/juju/charm-helpers/pull/423\n\nChange-Id: I1167c67fa23482862900989d5105162af2599309\nCloses-Bug: #1828424\n'}, {'number': 3, 'created': '2020-03-05 11:36:38.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'Makefile', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/osplatform.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/core/host_factory/ubuntu.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/31fe0059f26697aec4678ca5fda5d6d3a9782b1e', 'message': 'Remove Amulet leftover and support Python 3.8\n\nSupport Python 3.8 by pulling a version of charm-helpers containing https://github.com/juju/charm-helpers/pull/423\n\nChange-Id: I1167c67fa23482862900989d5105162af2599309\nCloses-Bug: #1828424\n'}]",0,711051,31fe0059f26697aec4678ca5fda5d6d3a9782b1e,18,4,3,31289,,,0,"Remove Amulet leftover and support Python 3.8

Support Python 3.8 by pulling a version of charm-helpers containing https://github.com/juju/charm-helpers/pull/423

Change-Id: I1167c67fa23482862900989d5105162af2599309
Closes-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/51/711051/1 && git format-patch -1 --stdout FETCH_HEAD,['Makefile'],1,653325c7ee346813b30c5020434fb7b0241a203b,bug/1828424, @echo Starting Zaza functional tests..., @echo Starting amulet tests...,1,1
openstack%2Ftripleo-ci~master~I091ac7727661788e756fc170373a16c7f259124b,openstack/tripleo-ci,master,I091ac7727661788e756fc170373a16c7f259124b,make centos-8 undercloud-containers voting,MERGED,2020-03-05 17:10:22.000000000,2020-03-06 08:32:00.000000000,2020-03-06 08:31:59.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 17:10:22.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5b40b05e8fb3544704c68c67cfd5c9d1dd5e6c0', 'message': 'make centos-8 undercloud-containers voting\n\nChange-Id: I091ac7727661788e756fc170373a16c7f259124b\n'}]",0,711516,d5b40b05e8fb3544704c68c67cfd5c9d1dd5e6c0,7,3,1,9592,,,0,"make centos-8 undercloud-containers voting

Change-Id: I091ac7727661788e756fc170373a16c7f259124b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/711516/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,d5b40b05e8fb3544704c68c67cfd5c9d1dd5e6c0,centos-8-jobs, voting: true, voting: false,1,1
openstack%2Ftripleo-heat-templates~master~I5c4fa8c22c20acd211bbc67f057356da1d53fbd1,openstack/tripleo-heat-templates,master,I5c4fa8c22c20acd211bbc67f057356da1d53fbd1,"update containers-multinode, minion to centos-8",MERGED,2020-03-05 16:23:17.000000000,2020-03-06 08:31:58.000000000,2020-03-06 08:31:58.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 16:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2cedfb609984b031305c608552e466f9b7d1963e', 'message': 'update containers-multinode to centos-8\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: I5c4fa8c22c20acd211bbc67f057356da1d53fbd1\n'}, {'number': 2, 'created': '2020-03-05 17:07:17.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b33d9c537db4cff0bef94b66dccc96ddfda99c03', 'message': 'update containers-multinode, minion to centos-8\n\nDepends-On: https://review.opendev.org/#/c/711480/\nChange-Id: I5c4fa8c22c20acd211bbc67f057356da1d53fbd1\n'}]",0,711499,b33d9c537db4cff0bef94b66dccc96ddfda99c03,13,3,2,9592,,,0,"update containers-multinode, minion to centos-8

Depends-On: https://review.opendev.org/#/c/711480/
Change-Id: I5c4fa8c22c20acd211bbc67f057356da1d53fbd1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/711499/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2cedfb609984b031305c608552e466f9b7d1963e,centos-8-jobs, - tripleo-ci-centos-8-containers-multinode:, - tripleo-ci-centos-7-containers-multinode:,1,1
openstack%2Fcharm-ceilometer~master~I844836b0c2f7556da0b73a7917b8ec18052ba841,openstack/charm-ceilometer,master,I844836b0c2f7556da0b73a7917b8ec18052ba841,Porting tests from Amulet to Zaza and support for Python 3.8,MERGED,2019-09-24 15:36:51.000000000,2020-03-06 08:30:00.000000000,2020-03-06 08:30:00.000000000,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 29556}, {'_account_id': 31289}]","[{'number': 1, 'created': '2019-09-24 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f814beb9ff984faadb285109b0b007520442c198', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 2, 'created': '2019-09-26 10:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/528cf16ae166a3fc77adca5790f9eb3888b3d731', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 3, 'created': '2019-09-26 10:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/ef7c7419eee1872e7ffc99d02dfd858d6bece72d', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 4, 'created': '2019-09-26 10:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/61499fc3202346b1eb59363e397b66b3876b66d9', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 5, 'created': '2019-09-26 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9f61a2ceb3905ed83e65de8b8ee7eb2399f59dfd', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 6, 'created': '2019-09-26 15:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d578b27a2ef49edea4e44f048f98d373cd06497a', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 7, 'created': '2019-09-26 16:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/f0b2cf0abe47d95367dcb432a2f13511e5e1fc20', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 8, 'created': '2019-09-26 16:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/944c7e3ff70c5d1fa71f5490eb2865396bb539e8', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 9, 'created': '2019-09-26 17:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/1b8e093a97ab2931d51b9ca075ba9298e5a75f8d', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 10, 'created': '2019-09-27 17:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/431b9a7eb1ad68fb3e72b90e09aeeaef15544462', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 11, 'created': '2019-09-27 18:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/abe7899538dac46e21aba13f5a980f7d11431b9a', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 12, 'created': '2019-09-27 18:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/76daec1721504c42a0f689c0ec57251fe2ab9d96', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 13, 'created': '2019-09-28 15:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/28e9d12140f7fe8d9943e49bd911fcdeb0934f1f', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 14, 'created': '2019-09-28 16:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/ff7a0b3dd7bce5136fc6290cd7f03e0f2c9c0642', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 15, 'created': '2019-09-28 16:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/fd090e8979a71bfb042bfbd3452c6c329ea223f2', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 16, 'created': '2019-09-28 17:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/5e7ab52c630f138558e7ddf63e003fc71f49e136', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 17, 'created': '2019-09-28 17:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/404cd8fe33d7547dbc66f315142470972c7169ef', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 18, 'created': '2019-09-28 18:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/8f94ad4d3357d7e9cbf8d4cb31e333b4661b1a1f', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 19, 'created': '2019-09-28 21:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9504156c09b9402ce08ad4567a23834a30e26c86', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 20, 'created': '2019-09-28 21:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/3be38fa6b7d808a73b419aa4e921af3701770f58', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 21, 'created': '2019-09-28 22:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/72bb7b6f0d3dfd8a7e7800c4cd5a106d074a32d4', 'message': '[WIP] Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 22, 'created': '2019-09-29 13:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/aab22bded82eeb93a714b5675520f2696bc265ab', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 23, 'created': '2019-10-03 14:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/2b8d7b83eaecf89b160fb34f1e9bb134a57d39a1', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 24, 'created': '2019-10-05 15:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/2ccd4fe3202d700027b34a10dbf45f0b139405af', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 25, 'created': '2019-10-07 19:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/0c26360024777bcc7f61dd4503d619b908d1744c', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 26, 'created': '2019-10-10 17:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/be9405782a5f21151068741097ac059de121e330', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 27, 'created': '2020-01-30 13:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/2acedd6158af104a294d147e7159be17f6ea6e9d', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 28, 'created': '2020-02-01 10:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/ac85f94c9b31d9a82958aada2b7c38c59d4bc017', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 29, 'created': '2020-02-01 15:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/2e9ec3570458273c3b867bdd23dbc8a594da8c2a', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 30, 'created': '2020-03-05 09:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/fe4cc3fd4bd26661b3d9afecccd22bcb44d7bef0', 'message': 'Porting tests from Amulet to Zaza\n\nMoving the tests from Amulet to Zaza.\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 31, 'created': '2020-03-05 11:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/570dfd636ec2d9b4f99b0039a7602be817601c24', 'message': 'Porting tests from Amulet to Zaza and support for Python 3.8\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/185\n\nSupport Python 3.8 by pulling a version of charm-helpers containing https://github.com/juju/charm-helpers/pull/423\n\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}, {'number': 32, 'created': '2020-03-05 11:08:38.000000000', 'files': ['tests/gate-basic-xenial-pike', 'test-requirements.txt', 'Makefile', 'charmhelpers/osplatform.py', 'tests/gate-basic-trusty-mitaka', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'charmhelpers/contrib/openstack/policyd.py', 'tests/gate-basic-bionic-stein', 'charmhelpers/contrib/openstack/utils.py', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/disco-stein.yaml', 'tests/gate-basic-xenial-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'tests/bundles/xenial-mitaka.yaml', 'tests/gate-basic-bionic-train', 'charmhelpers/core/host_factory/ubuntu.py', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'charmhelpers/contrib/openstack/vaultlocker.py', 'tests/basic_deployment.py', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/bbf4ad60ddf0a00f1126c285219c49745d51d92e', 'message': 'Porting tests from Amulet to Zaza and support for Python 3.8\n\nZaza tests can be found here:\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/59\nhttps://github.com/openstack-charmers/zaza-openstack-tests/pull/185\n\nSupport Python 3.8 by pulling a version of charm-helpers containing https://github.com/juju/charm-helpers/pull/423\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/185\nCloses-Bug: #1828424\n\nChange-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841\n'}]",5,684382,bbf4ad60ddf0a00f1126c285219c49745d51d92e,105,8,32,29556,,,0,"Porting tests from Amulet to Zaza and support for Python 3.8

Zaza tests can be found here:
https://github.com/openstack-charmers/zaza-openstack-tests/pull/59
https://github.com/openstack-charmers/zaza-openstack-tests/pull/185

Support Python 3.8 by pulling a version of charm-helpers containing https://github.com/juju/charm-helpers/pull/423

Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/185
Closes-Bug: #1828424

Change-Id: I844836b0c2f7556da0b73a7917b8ec18052ba841
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/82/684382/32 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xenial-ocata.yaml', 'test-requirements.txt', 'tests/bundles/disco-stein.yaml', 'Makefile', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/cosmic-rocky.yaml', 'tox.ini']",14,f814beb9ff984faadb285109b0b007520442c198,bug/1828424,passenv = HOME TERM CS_API_* OS_*[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = /bin/true [testenv:func] basepython = python3 functest-run-suite --keep-model [testenv:func-smoke] basepython = python3 functest-run-suite --keep-model --smoke [testenv:func-dev] basepython = python3 functest-run-suite --keep-model --dev [testenv:func-target] basepython = python3 functest-run-suite --keep-model --bundle {posargs}," AMULET_SETUP_TIMEOUT=5400passenv = HOME TERM AMULET_* CS_API_*commands = {posargs} [testenv:func27-noop] # DRY RUN - For Debug basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" -n --no-destroy [testenv:func27] # Charm Functional Test # Run all gate tests which are +x (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" --no-destroy [testenv:func27-smoke] # Charm Functional Test # Run a specific test as an Amulet smoke test (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy [testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev] # Charm Functional Test # Run all development test targets which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dev-*"" --no-destroy",141,83
openstack%2Fkolla~master~I70e9a49eab9ce5523e09e2c7824fd44a0ec18704,openstack/kolla,master,I70e9a49eab9ce5523e09e2c7824fd44a0ec18704,DNM: Test oslo.cache fix,ABANDONED,2020-03-04 13:33:12.000000000,2020-03-06 08:24:26.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-04 13:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/32d139293ac8a4e1c3220425f3c40f0cdbb6a083', 'message': 'DNM: Test oslo.cache fix\n\nTests https://review.opendev.org/#/c/711220/4.\n\nChange-Id: I70e9a49eab9ce5523e09e2c7824fd44a0ec18704\n'}, {'number': 2, 'created': '2020-03-04 13:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/314c894d8168d246bfa8079264c42da31739f34e', 'message': 'DNM: Test oslo.cache fix\n\nTests https://review.opendev.org/#/c/711220/4.\n\nChange-Id: I70e9a49eab9ce5523e09e2c7824fd44a0ec18704\n'}, {'number': 3, 'created': '2020-03-04 14:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/80837e4de8b35bf9cc6b1a1c5d605906002414df', 'message': 'DNM: Test oslo.cache fix\n\nTests https://review.opendev.org/#/c/711220/4.\n\nChange-Id: I70e9a49eab9ce5523e09e2c7824fd44a0ec18704\n'}, {'number': 4, 'created': '2020-03-04 16:11:48.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/keystone/keystone-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f07a1e0dbb33ec117ca2cfc6175f7dc665258d1', 'message': 'DNM: Test oslo.cache fix\n\nTests https://review.opendev.org/#/c/711220/4.\n\nChange-Id: I70e9a49eab9ce5523e09e2c7824fd44a0ec18704\n'}]",1,711227,3f07a1e0dbb33ec117ca2cfc6175f7dc665258d1,19,5,4,14826,,,0,"DNM: Test oslo.cache fix

Tests https://review.opendev.org/#/c/711220/4.

Change-Id: I70e9a49eab9ce5523e09e2c7824fd44a0ec18704
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/711227/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'kolla/common/config.py']",4,32d139293ac8a4e1c3220425f3c40f0cdbb6a083,," 'location': 'https://github.com/markgoddard/oslo.cache', 'reference': 'bug/1866008'}"," 'location': ('$tarballs_base/requirements/' 'requirements-${openstack_branch}.tar.gz')},",2,62
openstack%2Fkolla~master~I278bb01c6b9a2b90d992cbe9587326b605910c1e,openstack/kolla,master,I278bb01c6b9a2b90d992cbe9587326b605910c1e,zuul: drop all CentOS 7 jobs,ABANDONED,2020-03-05 09:44:00.000000000,2020-03-06 08:23:46.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 09:44:00.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ef5d9414dc046624cc41cfb203170b3847b06174', 'message': 'zuul: drop all CentOS 7 jobs\n\nChange-Id: I278bb01c6b9a2b90d992cbe9587326b605910c1e\n'}]",0,711413,ef5d9414dc046624cc41cfb203170b3847b06174,5,2,1,24072,,,0,"zuul: drop all CentOS 7 jobs

Change-Id: I278bb01c6b9a2b90d992cbe9587326b605910c1e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/13/711413/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,ef5d9414dc046624cc41cfb203170b3847b06174,, name: kolla-build-centos8-binary name: kolla-publish-centos8-binary base_tag: 8 name: kolla-build-centos8-source name: kolla-publish-centos8-source parent: kolla-build-centos8-source, - kolla-build-centos-binary - kolla-build-centos-source - kolla-ansible-centos-source - kolla-ansible-centos-binary - kolla-ansible-centos-source-upgrade - kolla-ansible-bifrost-centos-source: files: ^docker\/(base|bifrost|openstack-base)\/.* - kolla-ansible-centos-source-ceph-ansible: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.* - kolla-ansible-centos-source-upgrade-ceph-ansible: files: ^docker\/(base|cinder|glance|mariadb|openstack-base|rabbitmq)\/.* - kolla-ansible-centos-source-zun: files: ^docker\/(base|cinder|etcd|iscsid|kuryr|openstack-base|zun)\/.* - kolla-ansible-centos-source-scenario-nfv: files: ^docker\/(base|barbican|heat|mistral|openstack-base|redis|tacker)\/.* - kolla-ansible-centos-source-ironic: files: ^docker\/(base|dnsmasq|ironic|ironic-inspector|iscsid|openstack-base)\/.* - kolla-build-centos-source - kolla-ansible-centos-source - kolla-ansible-centos-source-upgrade - kolla-publish-centos-source - kolla-publish-centos-binary - kolla-publish-centos-source - kolla-publish-centos-binary name: kolla-build-centos-binary - job: name: kolla-build-centos8-binary parent: kolla-build-centos-binary vars: name: kolla-publish-centos-binary parent: kolla-build-centos-binary name: kolla-publish-centos8-binary parent: kolla-publish-centos-binary vars: base_tag: 8 - job: name: kolla-build-centos-source - job: name: kolla-build-centos8-source parent: kolla-build-centos-source vars: name: kolla-publish-centos-source parent: kolla-build-centos-source - job: name: kolla-publish-centos8-source parent: kolla-publish-centos-source vars: base_tag: 8,6,52
openstack%2Fpython-tripleoclient~master~Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b,openstack/python-tripleoclient,master,Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b,Remove mistral when running the validate_nodes,MERGED,2020-02-24 15:22:54.000000000,2020-03-06 08:06:33.000000000,2020-03-06 08:04:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 10969}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-24 15:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0d7e9551062a95539112cbf856adac533a2de259', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-24 15:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b3aad03e53f2d63305d34e35babe135717e0fd19', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-24 15:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c2421e0e7d9c9b49c180c06602f6403c121c32a8', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-24 15:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd0fbfdc1b395091268f5eda9e0aa1235164e245', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-24 19:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb4de8a6adafdaee72db1f40ebaf311da1365645', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-02-24 19:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/10f92e83ad85a7bfff0f18c6c2e88bba7deac78d', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-24 19:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5580f3b07ad6761f1c58a6bf1ce9b6ece5025c0', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2020-02-27 17:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1fc5ca7a1a1f52da947d0f647bb0fb0fc594c0d5', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2020-02-28 10:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ae325e640fbd1c43f3d240fd54a90c480f55a6c4', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2020-03-05 23:21:13.000000000', 'files': ['tripleoclient/workflows/baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c7bd24720ca8b12ec8f9d05ee862bbcf3b2ebff', 'message': 'Remove mistral when running the validate_nodes\n\nThis change removes all of mistral from the validate_nodes workflow\nby calling the required functions directly.\n\nStory: 2007212\nTask: 38440\n\nChange-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,709552,9c7bd24720ca8b12ec8f9d05ee862bbcf3b2ebff,35,8,10,7353,,,0,"Remove mistral when running the validate_nodes

This change removes all of mistral from the validate_nodes workflow
by calling the required functions directly.

Story: 2007212
Task: 38440

Change-Id: Ic340fad0d7305188cf3bf33a73d36cd20fca4f6b
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/52/709552/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/baremetal.py'],1,0d7e9551062a95539112cbf856adac533a2de259,mistral_to_ansible,"def validate_nodes(clients, nodes_json): """"""Validate nodes. :param clients: Application client object. :type clients: Object :param nodes_json: :type nodes_json: Object :returns: Boolean context = clients.tripleoclient.create_mistral_context() validate_nodes = baremetal.ValidateNodes(nodes_json=nodes_json) if not validate_nodes.run(context=context):","def validate_nodes(clients, **workflow_input): """"""Node Registration or Update Run the tripleo.baremetal.v1.validate_nodes Mistral workflow. workflow_client = clients.workflow_engine tripleoclients = clients.tripleoclient with tripleoclients.messaging_websocket() as ws: execution = base.start_workflow( workflow_client, 'tripleo.baremetal.v1.validate_nodes', workflow_input=workflow_input ) for payload in base.wait_for_messages(workflow_client, ws, execution): if 'message' in payload: print(payload['message']) if payload['status'] == 'SUCCESS': print('Successfully validated environment file') else: raise exceptions.RegisterOrUpdateError( 'Exception validating environment file: {}'.format( payload['message']) )",12,24
openstack%2Fproject-config~master~I46a857800326db2ad06be276da65279852cc4a90,openstack/project-config,master,I46a857800326db2ad06be276da65279852cc4a90,Fix translation-source location,MERGED,2020-03-06 06:12:19.000000000,2020-03-06 07:38:26.000000000,2020-03-06 07:38:26.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-06 06:12:19.000000000', 'files': ['playbooks/translation/openstack-translation-artifacts.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f1acd97b9d8700e6a6d2c8dbe1b6887bce94afd3', 'message': 'Fix translation-source location\n\nThe previous change published to\nhttps://tarballs.opendev.org/translation-source/\n\nbut we should publish to\nhttps://tarballs.opendev.org/openstack/translation-source/ .\n\nFix it. We should remove the files from\nhttps://tarballs.opendev.org/translation-source/ afterwards.\n\nChange-Id: I46a857800326db2ad06be276da65279852cc4a90\n'}]",0,711582,f1acd97b9d8700e6a6d2c8dbe1b6887bce94afd3,6,2,1,6547,,,0,"Fix translation-source location

The previous change published to
https://tarballs.opendev.org/translation-source/

but we should publish to
https://tarballs.opendev.org/openstack/translation-source/ .

Fix it. We should remove the files from
https://tarballs.opendev.org/translation-source/ afterwards.

Change-Id: I46a857800326db2ad06be276da65279852cc4a90
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/711582/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/translation/openstack-translation-artifacts.yaml'],1,f1acd97b9d8700e6a6d2c8dbe1b6887bce94afd3,fix-trans," afs_target: ""/afs/.openstack.org/project/tarballs.opendev.org/openstack/translation-source/{{ zuul.project.short_name}}/"""," afs_target: ""/afs/.openstack.org/project/tarballs.opendev.org/translation-source/{{ zuul.project.short_name}}/""",1,1
openstack%2Fmistral-lib~master~I3157f9de4f2905dbc4f77257abbbc9f65093a63b,openstack/mistral-lib,master,I3157f9de4f2905dbc4f77257abbbc9f65093a63b,Support getting a file list from a module that isn't mistral,MERGED,2020-02-26 07:45:08.000000000,2020-03-06 07:07:18.000000000,2020-03-06 07:05:52.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-02-26 07:45:08.000000000', 'files': ['mistral_lib/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/237a10d22e4dc4965c553489fe3d24e8c75d308d', 'message': ""Support getting a file list from a module that isn't mistral\n\nChange-Id: I3157f9de4f2905dbc4f77257abbbc9f65093a63b\n""}]",0,709963,237a10d22e4dc4965c553489fe3d24e8c75d308d,9,3,1,19134,,,0,"Support getting a file list from a module that isn't mistral

Change-Id: I3157f9de4f2905dbc4f77257abbbc9f65093a63b
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/63/709963/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_lib/utils/__init__.py'],1,237a10d22e4dc4965c553489fe3d24e8c75d308d,file_list,"def get_file_list(directory, package='mistral'): base_path = pkg.resource_filename(package, directory)","def get_file_list(directory): base_path = pkg.resource_filename(""mistral"", directory)",2,2
openstack%2Fneutron~master~I215d65599e7ea2ee25794d25fa264ae03eaa3d13,openstack/neutron,master,I215d65599e7ea2ee25794d25fa264ae03eaa3d13,[OVN] Add missing OVN functional tests,MERGED,2020-01-14 11:30:40.000000000,2020-03-06 06:36:03.000000000,2020-03-04 19:28:09.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 29874}, {'_account_id': 31210}]","[{'number': 1, 'created': '2020-01-14 11:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7128649e1a13679205f94f7da4c542af90a828bd', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 2, 'created': '2020-01-14 12:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/acce4282a31b38f35da39b95c1ca451a709b7c13', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 3, 'created': '2020-01-14 12:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a3704c5dfe3d61ab4eed00d14107d3bcc282cf0', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 4, 'created': '2020-01-14 13:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/045996ec35f397c4ef18282b1dc1268becadfa7f', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 5, 'created': '2020-01-20 08:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dbf9a50c1277fbfb6ba87d4697f7b3033022d90', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 6, 'created': '2020-01-20 10:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a9d84fe1d06822eb58e07a072bfa179e869b05d', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 7, 'created': '2020-01-26 20:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c55cc7aeaf1e1b134dc01e65dccc50ece035e0df', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 8, 'created': '2020-01-29 15:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/353909d2bf9c6466cb135c06737b3c6e05da2b02', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 9, 'created': '2020-01-31 08:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03e16a2f30ed4dd04c41207fda2b3fd3b072e966', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 10, 'created': '2020-02-21 09:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e14e9245ad3186adcf9bb09fd1f83f7b8b6f1aab', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 11, 'created': '2020-02-21 09:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c795ce6018bec91c94b9f1ec909cca6970722fa', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 12, 'created': '2020-02-23 14:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aaae0909964a53475d1a62b28641943ef641706b', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 13, 'created': '2020-02-24 09:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0390db07a64decd2ef2e199e1ef19d9cf9629a51', 'message': '[OVN] Add OVN functional tests - part 2\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 14, 'created': '2020-02-24 11:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f34d393ed6dee838bcb34015f2e359a846fdad37', 'message': '[OVN] Add missing OVN functional tests\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n  * OVN QoS\n  * OVN DB Revision numbers\n  * OVN L3 Plugina\n  * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n./networking_ovn/tests/functional/test_qos_driver.py ->\n  ./neutron/tests/functional/services/qos/drivers/ovn/test_qos_driver.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}, {'number': 15, 'created': '2020-03-03 09:21:40.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/services/trunk/drivers/ovn/__init__.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/functional/services/ovn_l3/__init__.py', 'neutron/tests/functional/db/test_ovn_revision_numbers_db.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/07d5a20b3b332e7ec525f21802bd043d89a329f6', 'message': '[OVN] Add missing OVN functional tests\n\nThis patch adds functional tests for:\n  * OVN DB Resources\n  * OVN DB Sync\n  * OVSDB Monitor\n  * OVN DB Revision numbers\n  * OVN L3 Plugin\n  * OVN Trunk driver\n\nPrevious paths in networking-ovn tree:\n./networking_ovn/tests/functional/test_ovn_db_resources.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py\n./networking_ovn/tests/functional/test_ovn_db_sync.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py\n./networking_ovn/tests/functional/test_ovsdb_monitor.py ->\n  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n./networking_ovn/tests/functional/test_revision_numbers.py ->\n  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py\n./networking_ovn/tests/functional/test_router.py ->\n  ./neutron/tests/functional/services/ovn_l3/test_plugin.py\n./networking_ovn/tests/functional/test_trunk_driver.py ->\n  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py\n\nCo-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>\nCo-Authored-By: Armando Migliaccio <armamig@gmail.com>\nCo-Authored-By: Brian Haley <bhaley@redhat.com>\nCo-Authored-By: Daniel Alvarez <dalvarez@redhat.com>\nCo-Authored-By: Dong Jun <dongj@dtdream.com>\nCo-Authored-By: Guoshuai Li <ligs@dtdream.com>\nCo-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>\nCo-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>\nCo-Authored-By: Jakub Libosvar <libosvar@redhat.com>\nCo-Authored-By: Jenkins <jenkins@review.openstack.org>\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nCo-Authored-By: Numan Siddique <nusiddiq@redhat.com>\nCo-Authored-By: Richard Theis <rtheis@us.ibm.com>\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Zuul <zuul@review.opendev.org>\nCo-Authored-By: Zuul <zuul@review.openstack.org>\nCo-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>\nCo-Authored-By: lzklibj <lzklibj@cn.ibm.com>\nCo-Authored-By: melissaml <ma.lei@99cloud.net>\nCo-Authored-By: venkata anil <anilvenkata@redhat.com>\nCo-Authored-By: xurong00037997 <xu.rong@zte.com.cn>\n\nChange-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13\nRelated-Blueprint: neutron-ovn-merge\n'}]",14,702397,07d5a20b3b332e7ec525f21802bd043d89a329f6,100,10,15,24791,,,0,"[OVN] Add missing OVN functional tests

This patch adds functional tests for:
  * OVN DB Resources
  * OVN DB Sync
  * OVSDB Monitor
  * OVN DB Revision numbers
  * OVN L3 Plugin
  * OVN Trunk driver

Previous paths in networking-ovn tree:
./networking_ovn/tests/functional/test_ovn_db_resources.py ->
  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py
./networking_ovn/tests/functional/test_ovn_db_sync.py ->
  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py
./networking_ovn/tests/functional/test_ovsdb_monitor.py ->
  ./neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py
./networking_ovn/tests/functional/test_revision_numbers.py ->
  ./neutron/tests/functional/db/test_ovn_revision_numbers_db.py
./networking_ovn/tests/functional/test_router.py ->
  ./neutron/tests/functional/services/ovn_l3/test_plugin.py
./networking_ovn/tests/functional/test_trunk_driver.py ->
  ./neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py

Co-Authored-By: Amitabha Biswas <abiswas@us.ibm.com>
Co-Authored-By: Armando Migliaccio <armamig@gmail.com>
Co-Authored-By: Brian Haley <bhaley@redhat.com>
Co-Authored-By: Daniel Alvarez <dalvarez@redhat.com>
Co-Authored-By: Dong Jun <dongj@dtdream.com>
Co-Authored-By: Guoshuai Li <ligs@dtdream.com>
Co-Authored-By: Hong Hui Xiao <honghui_xiao@yeah.net>
Co-Authored-By: Hong Hui Xiao <xiaohhui@cn.ibm.com>
Co-Authored-By: Jakub Libosvar <libosvar@redhat.com>
Co-Authored-By: Jenkins <jenkins@review.openstack.org>
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
Co-Authored-By: Numan Siddique <nusiddiq@redhat.com>
Co-Authored-By: Richard Theis <rtheis@us.ibm.com>
Co-Authored-By: Terry Wilson <twilson@redhat.com>
Co-Authored-By: Zuul <zuul@review.opendev.org>
Co-Authored-By: Zuul <zuul@review.openstack.org>
Co-Authored-By: bailinzhang <zhang.bailin@zte.com.cn>
Co-Authored-By: lzklibj <lzklibj@cn.ibm.com>
Co-Authored-By: melissaml <ma.lei@99cloud.net>
Co-Authored-By: venkata anil <anilvenkata@redhat.com>
Co-Authored-By: xurong00037997 <xu.rong@zte.com.cn>

Change-Id: I215d65599e7ea2ee25794d25fa264ae03eaa3d13
Related-Blueprint: neutron-ovn-merge
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/702397/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py']",3,7128649e1a13679205f94f7da4c542af90a828bd,bp/neutron-ovn-merge,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from oslo_utils import uuidutils from neutron.common.ovn import constants as ovn_const from neutron.common import utils as n_utils from neutron.db import ovn_hash_ring_db as db_hash_ring from neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb import ovsdb_monitor from neutron.tests.functional import base from neutron_lib.api.definitions import portbindings from neutron_lib.plugins import constants as plugin_constants from neutron_lib.plugins import directory from ovsdbapp.backend.ovs_idl import event class WaitForMACBindingDeleteEvent(event.WaitEvent): event_name = 'WaitForMACBindingDeleteEvent' def __init__(self, entry): table = 'MAC_Binding' events = (self.ROW_DELETE,) conditions = (('_uuid', '=', entry),) super(WaitForMACBindingDeleteEvent, self).__init__( events, table, conditions, timeout=15) class DistributedLockTestEvent(event.WaitEvent): ONETIME = False COUNTER = 0 def __init__(self): table = 'Logical_Switch_Port' events = (self.ROW_CREATE,) super(DistributedLockTestEvent, self).__init__( events, table, (), timeout=15) self.event_name = 'DistributedLockTestEvent' def run(self, event, row, old): self.COUNTER += 1 self.event.set() class TestNBDbMonitor(base.TestOVNFunctionalBase): def setUp(self): super(TestNBDbMonitor, self).setUp() self.chassis = self.add_fake_chassis('ovs-host1') self.l3_plugin = directory.get_plugin(plugin_constants.L3) def create_port(self): net = self._make_network(self.fmt, 'net1', True) self._make_subnet(self.fmt, net, '20.0.0.1', '20.0.0.0/24', ip_version=4) arg_list = ('device_owner', 'device_id', portbindings.HOST_ID) host_arg = {'device_owner': 'compute:nova', 'device_id': uuidutils.generate_uuid(), portbindings.HOST_ID: 'ovs-host1'} port_res = self._create_port(self.fmt, net['network']['id'], arg_list=arg_list, **host_arg) port = self.deserialize(self.fmt, port_res)['port'] return port def _create_fip(self, port, fip_address): e1 = self._make_network(self.fmt, 'e1', True, arg_list=('router:external', 'provider:network_type', 'provider:physical_network'), **{'router:external': True, 'provider:network_type': 'flat', 'provider:physical_network': 'public'}) res = self._create_subnet(self.fmt, e1['network']['id'], '100.0.0.0/24', gateway_ip='100.0.0.254', allocation_pools=[{'start': '100.0.0.2', 'end': '100.0.0.253'}], enable_dhcp=False) e1_s1 = self.deserialize(self.fmt, res) r1 = self.l3_plugin.create_router( self.context, {'router': { 'name': 'r1', 'admin_state_up': True, 'tenant_id': self._tenant_id, 'external_gateway_info': { 'enable_snat': True, 'network_id': e1['network']['id'], 'external_fixed_ips': [ {'ip_address': '100.0.0.2', 'subnet_id': e1_s1['subnet']['id']}]}}}) self.l3_plugin.add_router_interface( self.context, r1['id'], {'subnet_id': port['fixed_ips'][0]['subnet_id']}) r1_f2 = self.l3_plugin.create_floatingip( self.context, {'floatingip': { 'tenant_id': self._tenant_id, 'floating_network_id': e1['network']['id'], 'subnet_id': None, 'floating_ip_address': fip_address, 'port_id': port['id']}}) return r1_f2 def test_floatingip_mac_bindings(self): """"""Check that MAC_Binding entries are cleared on FIP add/removal This test will: * Create a MAC_Binding entry for an IP address on the 'network1' datapath. * Create a FIP with that same IP address on an external. network and associate it to a Neutron port on a private network. * Check that the MAC_Binding entry gets deleted. * Create a new MAC_Binding entry for the same IP address. * Delete the FIP. * Check that the MAC_Binding entry gets deleted. """""" self._make_network(self.fmt, 'network1', True) dp = self.sb_api.db_find( 'Datapath_Binding', ('external_ids', '=', {'name2': 'network1'})).execute() macb_id = self.sb_api.db_create('MAC_Binding', datapath=dp[0]['_uuid'], ip='100.0.0.21').execute() port = self.create_port() # Ensure that the MAC_Binding entry gets deleted after creating a FIP row_event = WaitForMACBindingDeleteEvent(macb_id) self.mech_driver._sb_ovn.idl.notify_handler.watch_event(row_event) fip = self._create_fip(port, '100.0.0.21') self.assertTrue(row_event.wait()) # Now that the FIP is created, add a new MAC_Binding entry with the # same IP address macb_id = self.sb_api.db_create('MAC_Binding', datapath=dp[0]['_uuid'], ip='100.0.0.21').execute() # Ensure that the MAC_Binding entry gets deleted after deleting the FIP row_event = WaitForMACBindingDeleteEvent(macb_id) self.mech_driver._sb_ovn.idl.notify_handler.watch_event(row_event) self.l3_plugin.delete_floatingip(self.context, fip['id']) self.assertTrue(row_event.wait()) def _test_port_binding_and_status(self, port_id, action, status): # This function binds or unbinds port to chassis and # checks if port status matches with input status core_plugin = directory.get_plugin() self.sb_api.check_for_row_by_value_and_retry( 'Port_Binding', 'logical_port', port_id) def check_port_status(status): port = core_plugin.get_ports( self.context, filters={'id': [port_id]})[0] return port['status'] == status if action == 'bind': self.sb_api.lsp_bind(port_id, self.chassis, may_exist=True).execute(check_error=True) else: self.sb_api.lsp_unbind(port_id).execute(check_error=True) n_utils.wait_until_true(lambda: check_port_status(status)) def test_port_up_down_events(self): """"""Test the port up down events. This test case creates a port, binds the port to chassis, tests if the ovsdb monitor calls mech_driver to set port status to 'ACTIVE'. Then unbinds the port and checks if the port status is set to ""DOWN' """""" port = self.create_port() self._test_port_binding_and_status(port['id'], 'bind', 'ACTIVE') self._test_port_binding_and_status(port['id'], 'unbind', 'DOWN') def test_distributed_lock(self): row_event = DistributedLockTestEvent() self.mech_driver._nb_ovn.idl.notify_handler.watch_event(row_event) worker_list = [self.mech_driver._nb_ovn, ] # Create 10 fake workers for _ in range(10): node_uuid = uuidutils.generate_uuid() db_hash_ring.add_node( self.context, ovn_const.HASH_RING_ML2_GROUP, node_uuid) fake_driver = mock.MagicMock( node_uuid=node_uuid, hash_ring_group=ovn_const.HASH_RING_ML2_GROUP) _idl = ovsdb_monitor.OvnNbIdl.from_server( self.ovsdb_server_mgr.get_ovsdb_connection_path(), 'OVN_Northbound', fake_driver) worker = self.useFixture( base.ConnectionFixture(idl=_idl, timeout=10)).connection worker.idl.notify_handler.watch_event(row_event) worker.start() worker_list.append(worker) # Refresh the hash rings just in case [worker.idl._hash_ring.refresh() for worker in worker_list] # Assert we have 11 active workers in the ring self.assertEqual( 11, len(db_hash_ring.get_active_nodes( self.context, interval=ovn_const.HASH_RING_NODES_TIMEOUT, group_name=ovn_const.HASH_RING_ML2_GROUP))) # Trigger the event self.create_port() # Wait for the event to complete self.assertTrue(row_event.wait()) # Assert that only one worker handled the event self.assertEqual(1, row_event.COUNTER) class TestNBDbMonitorOverTcp(TestNBDbMonitor): def get_ovsdb_server_protocol(self): return 'tcp' class TestNBDbMonitorOverSsl(TestNBDbMonitor): def get_ovsdb_server_protocol(self): return 'ssl' ",,3023,0
openstack%2Fpaunch~stable%2Ftrain~Ib633ae29fdcca42cddb17f6b29bf4dbc66c30370,openstack/paunch,stable/train,Ib633ae29fdcca42cddb17f6b29bf4dbc66c30370,"DNM yet Revert ""Do not force remove containers""",ABANDONED,2020-02-18 11:34:43.000000000,2020-03-06 06:23:25.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-18 11:34:43.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/bb1dc03cca8634cf3b04d2b1418eea546f551c27', 'message': 'DNM yet Revert ""Do not force remove containers""\n\nCloses-Bug: #1863746\n\nTESTING.\n\nNot this is in competion with https://review.opendev.org/#/c/708341/\nwhich should be prefered all things considered.\n\nThis reverts commit d56765a0aff2f8cf5761a26de86a0ec3a2e5bd0f.\n\nChange-Id: Ib633ae29fdcca42cddb17f6b29bf4dbc66c30370\n'}]",0,708358,bb1dc03cca8634cf3b04d2b1418eea546f551c27,7,3,1,8297,,,0,"DNM yet Revert ""Do not force remove containers""

Closes-Bug: #1863746

TESTING.

Not this is in competion with https://review.opendev.org/#/c/708341/
which should be prefered all things considered.

This reverts commit d56765a0aff2f8cf5761a26de86a0ec3a2e5bd0f.

Change-Id: Ib633ae29fdcca42cddb17f6b29bf4dbc66c30370
",git fetch https://review.opendev.org/openstack/paunch refs/changes/58/708358/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/runner.py', 'paunch/tests/test_builder_base.py']",3,bb1dc03cca8634cf3b04d2b1418eea546f551c27,," mock.call(['docker', 'rm', '-f', 'five'], mock.ANY), mock.call(['docker', 'rm', '-f', 'six'], mock.ANY), mock.call(['docker', 'rm', '-f', 'two-12345678'], mock.ANY),"," # stop five ('', '', 0), # stop six ('', '', 0), # stop two, changed config data ('', '', 0), mock.call(['docker', 'stop', 'five'], mock.ANY), mock.call(['docker', 'rm', 'five'], mock.ANY), mock.call(['docker', 'stop', 'six'], mock.ANY), mock.call(['docker', 'rm', 'six'], mock.ANY), mock.call(['docker', 'stop', 'two-12345678'], mock.ANY), mock.call(['docker', 'rm', 'two-12345678'], mock.ANY),",5,15
openstack%2Ftripleo-upgrade~stable%2Ftrain~Iec17645459821fb541f025260061e688079e55b9,openstack/tripleo-upgrade,stable/train,Iec17645459821fb541f025260061e688079e55b9,"DNM: Revert ""Update: Run all roles update at once""",ABANDONED,2020-01-15 11:14:20.000000000,2020-03-06 06:21:50.000000000,,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-15 11:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f86b05308323c72cfe78fa3ba5ef2481dc0c94fd', 'message': 'DNM: Revert ""Update: Run all roles update at once""\n\nTESTING\n\nThis reverts commit 3f696c8abbbc1d6173c2c85d115c872330eec135.\n\nChange-Id: Iec17645459821fb541f025260061e688079e55b9\n'}, {'number': 2, 'created': '2020-01-15 11:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c4606f7d3ab1d3a4a74286b0ce679d6b80f199f6', 'message': 'DNM: Revert ""Update: Run all roles update at once""\n\nTESTING\n\nThis reverts commit 3f696c8abbbc1d6173c2c85d115c872330eec135.\n\nChange-Id: Iec17645459821fb541f025260061e688079e55b9\n'}, {'number': 3, 'created': '2020-02-25 10:04:05.000000000', 'files': ['tasks/update/overcloud_update_run.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9d9d6fb45a856336204103782f0358c19d2e54b9', 'message': 'DNM: Revert ""Update: Run all roles update at once""\n\nTESTING\n\nThis reverts commit 3f696c8abbbc1d6173c2c85d115c872330eec135.\n\nChange-Id: Iec17645459821fb541f025260061e688079e55b9\n'}]",0,702648,9d9d6fb45a856336204103782f0358c19d2e54b9,8,4,3,8297,,,0,"DNM: Revert ""Update: Run all roles update at once""

TESTING

This reverts commit 3f696c8abbbc1d6173c2c85d115c872330eec135.

Change-Id: Iec17645459821fb541f025260061e688079e55b9
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/48/702648/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/overcloud_update_run.yml'],1,f86b05308323c72cfe78fa3ba5ef2481dc0c94fd,,"- name: was the overcloud minor update successful. fail: msg=""Overcloud minor update execution step failed..."" when: item.rc != 0"," async: 25200 poll: 0- name: was the overcloud minor update successful? async_status: jid: ""{{ async_result_item.ansible_job_id }}"" loop_control: loop_var: ""async_result_item"" register: async_poll_results until: async_poll_results.finished retries: 25200",3,10
openstack%2Fopenstack-ansible~master~I4f701ca5e7caa4d5ef182ca3eba523702bdae36a,openstack/openstack-ansible,master,I4f701ca5e7caa4d5ef182ca3eba523702bdae36a,Re-order gate cleanup pip package removal,MERGED,2020-02-26 08:47:19.000000000,2020-03-06 05:37:47.000000000,2020-03-06 05:34:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-02-26 08:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b296e3c409ab318cc080a1c4413a9a5d9fbcb6ce', 'message': ""Re-order gate cleanup pip package removal\n\nThe packages are now removed in reverse dependency order. The previous\norder would remove packages until a dependancy conflict would arise,\nthen would stop and the pip task would return 'changed' rather than\n'failed'. See [1].\n\nIn addition, the pip installation of tox is removed.\n\n[1] http://paste.openstack.org/show/789996/\n\nChange-Id: I4f701ca5e7caa4d5ef182ca3eba523702bdae36a\n""}, {'number': 2, 'created': '2020-03-04 15:55:15.000000000', 'files': ['zuul.d/playbooks/pre-gate-cleanup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b04481c82cd595fe775f43b3cb5ae566bd145ca3', 'message': ""Re-order gate cleanup pip package removal\n\nThe packages are now removed in reverse dependency order. The previous\norder would remove packages until a dependancy conflict would arise,\nthen would stop and the pip task would return 'changed' rather than\n'failed'. See [1].\n\nIn addition, the pip installation of tox is removed.\n\n[1] http://paste.openstack.org/show/789996/\n\nChange-Id: I4f701ca5e7caa4d5ef182ca3eba523702bdae36a\n""}]",1,709986,b04481c82cd595fe775f43b3cb5ae566bd145ca3,13,4,2,25023,,,0,"Re-order gate cleanup pip package removal

The packages are now removed in reverse dependency order. The previous
order would remove packages until a dependancy conflict would arise,
then would stop and the pip task would return 'changed' rather than
'failed'. See [1].

In addition, the pip installation of tox is removed.

[1] http://paste.openstack.org/show/789996/

Change-Id: I4f701ca5e7caa4d5ef182ca3eba523702bdae36a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/86/709986/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre-gate-cleanup.yml'],1,b296e3c409ab318cc080a1c4413a9a5d9fbcb6ce,, - virtualenv - tox - zipp, - virtualenv - zipp ,3,2
openstack%2Ftripleo-heat-templates~master~I22c08bea913542e71c6cea10f2b13bbf8320fb74,openstack/tripleo-heat-templates,master,I22c08bea913542e71c6cea10f2b13bbf8320fb74,update tht standalone scenario jobs for centos-8,MERGED,2020-03-02 16:05:50.000000000,2020-03-06 05:07:20.000000000,2020-03-06 05:07:20.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 16:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/340f3b2f97bb6a3d1d54853ac0c3246f3fc66d82', 'message': 'update tht standalone scenario jobs for centos-8\n\nChange-Id: I22c08bea913542e71c6cea10f2b13bbf8320fb74\n'}, {'number': 2, 'created': '2020-03-02 16:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a1e89b4f16aefb248db587c9a4056574713620d', 'message': 'update tht standalone scenario jobs for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\n\nRelated-Bug: #1865525\nChange-Id: I22c08bea913542e71c6cea10f2b13bbf8320fb74\n'}, {'number': 3, 'created': '2020-03-05 14:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eaa0f594a068d1986f6748f029b603b043ab8485', 'message': 'update tht standalone scenario jobs for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\n\nRelated-Bug: #1865525\nChange-Id: I22c08bea913542e71c6cea10f2b13bbf8320fb74\n'}, {'number': 4, 'created': '2020-03-05 15:02:00.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cab2abf916352b3c30f2335eaca9a43372929030', 'message': 'update tht standalone scenario jobs for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\n\nRelated-Bug: #1865525\nChange-Id: I22c08bea913542e71c6cea10f2b13bbf8320fb74\n'}]",1,710811,cab2abf916352b3c30f2335eaca9a43372929030,29,6,4,9592,,,0,"update tht standalone scenario jobs for centos-8

move centos-7 jobs to centos-8 where possible.

Related-Bug: #1865525
Change-Id: I22c08bea913542e71c6cea10f2b13bbf8320fb74
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/710811/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,340f3b2f97bb6a3d1d54853ac0c3246f3fc66d82,centos-8-jobs, - tripleo-ci-centos-8-scenario001-standalone: - tripleo-ci-centos-8-scenario002-standalone: - tripleo-ci-centos-8-scenario003-standalone: - tripleo-ci-centos-8-scenario004-standalone:, - tripleo-ci-centos-7-scenario001-standalone: - tripleo-ci-centos-7-scenario002-standalone: - tripleo-ci-centos-7-scenario003-standalone: - tripleo-ci-centos-7-scenario004-standalone:,4,4
openstack%2Ftripleo-ci~master~Ie9845a3072917a3c09d6b0bd8c11dddab0a3b109,openstack/tripleo-ci,master,Ie9845a3072917a3c09d6b0bd8c11dddab0a3b109,make centos-8 containers-multinode voting/gating,MERGED,2020-03-05 15:46:16.000000000,2020-03-06 04:48:59.000000000,2020-03-06 04:48:58.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 15:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8ccf7cbefcd00ec30455434584ce8ab4a104341f', 'message': 'make centos-8 containers-multinode voting/gating\n\nDepends-On: https://review.opendev.org/#/c/711291/\nChange-Id: Ie9845a3072917a3c09d6b0bd8c11dddab0a3b109\n'}, {'number': 2, 'created': '2020-03-05 15:58:41.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc03642aff7d06817125690139015d7591deaf69', 'message': 'make centos-8 containers-multinode voting/gating\n\nDepends-On: https://review.opendev.org/711480/\nChange-Id: Ie9845a3072917a3c09d6b0bd8c11dddab0a3b109\n'}]",0,711488,bc03642aff7d06817125690139015d7591deaf69,10,3,2,9592,,,0,"make centos-8 containers-multinode voting/gating

Depends-On: https://review.opendev.org/711480/
Change-Id: Ie9845a3072917a3c09d6b0bd8c11dddab0a3b109
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/711488/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,8ccf7cbefcd00ec30455434584ce8ab4a104341f,, voting: true, voting: false,1,1
openstack%2Fpython-tripleoclient~master~Ia0fc3ef70a1f3938ccccfd778cec24628bbee1fe,openstack/python-tripleoclient,master,Ia0fc3ef70a1f3938ccccfd778cec24628bbee1fe,"Partial Revert ""Replace ansible shell with python runner""",MERGED,2020-03-05 21:19:04.000000000,2020-03-06 04:19:09.000000000,2020-03-06 04:17:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 21:19:04.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bf2e56b1407699a3963354929f7648e391581831', 'message': 'Partial Revert ""Replace ansible shell with python runner""\n\nThis is a partial revert of bcc9c667471e832739c20ae06b8325ef95a5e56b.\nThe change broke using non-fully qualified paths for the overcloud\ndeploy command. This puts the code back that fixes using a local\nenvironment file during the deployment.\n\nChange-Id: Ia0fc3ef70a1f3938ccccfd778cec24628bbee1fe\nCloses-Bug: #1866249\n'}]",0,711556,bf2e56b1407699a3963354929f7648e391581831,9,4,1,14985,,,0,"Partial Revert ""Replace ansible shell with python runner""

This is a partial revert of bcc9c667471e832739c20ae06b8325ef95a5e56b.
The change broke using non-fully qualified paths for the overcloud
deploy command. This puts the code back that fixes using a local
environment file during the deployment.

Change-Id: Ia0fc3ef70a1f3938ccccfd778cec24628bbee1fe
Closes-Bug: #1866249
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/711556/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,bf2e56b1407699a3963354929f7648e391581831,bug/1866249,"import tempfile tht_tmp = tempfile.mkdtemp(prefix='tripleoclient-') new_tht_root = ""%s/tripleo-heat-templates"" % tht_tmp self.log.debug(""Creating temporary templates tree in %s"" % new_tht_root) try: finally: if parsed_args.no_cleanup: self.log.warning(""Not cleaning temporary directory %s"" % tht_tmp) else: shutil.rmtree(tht_tmp)"," with utils.TempDirs(dir_prefix='tripleoclient-', cleanup=(not parsed_args.no_cleanup)) as tht_tmp: new_tht_root = ""%s/tripleo-heat-templates"" % tht_tmp self.log.debug( ""Creating temporary templates tree in %s"" % new_tht_root )",18,7
openstack%2Fneutron~stable%2Ftrain~I7719491275fa1ebfa7e881366e5cb066e3d4185c,openstack/neutron,stable/train,I7719491275fa1ebfa7e881366e5cb066e3d4185c,Do not initialize snat-ns twice,MERGED,2020-02-25 01:53:25.000000000,2020-03-06 03:52:25.000000000,2020-03-06 03:50:02.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 20363}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-25 01:53:25.000000000', 'files': ['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a56f11222a6c294190a1d90d3db421577f07663d', 'message': 'Do not initialize snat-ns twice\n\nIf the DVR+HA router has external gateway, the snat-namespace will be\ninitialized twice during agent restart. And that ns initialization\nfunction will run many external resource processing actions which will\ndefinitely increase the starting time of L3 agent. This patch addresses\nthis issue.\n\nChange-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c\nCloses-Bug: #1850779\n(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)\n'}]",0,709648,a56f11222a6c294190a1d90d3db421577f07663d,69,6,1,9531,,,0,"Do not initialize snat-ns twice

If the DVR+HA router has external gateway, the snat-namespace will be
initialized twice during agent restart. And that ns initialization
function will run many external resource processing actions which will
definitely increase the starting time of L3 agent. This patch addresses
this issue.

Change-Id: I7719491275fa1ebfa7e881366e5cb066e3d4185c
Closes-Bug: #1850779
(cherry picked from commit 7a9d6d26419defa148764166600bc4ac6b50c109)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/709648/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/dvr_edge_ha_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py', 'neutron/agent/l3/dvr_edge_router.py']",3,a56f11222a6c294190a1d90d3db421577f07663d,bug/1850779-stable/train," def initialize(self, process_monitor): self._create_snat_namespace() super(DvrEdgeRouter, self).initialize(process_monitor) def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): self.snat_namespace.name, preserve_ips=[]) namespace=self.snat_namespace.name,"," def _create_dvr_gateway(self, ex_gw_port, gw_interface_name): snat_ns = self._create_snat_namespace() snat_ns.name, preserve_ips=[]) namespace=snat_ns.name,",24,7
openstack%2Fpython-tripleoclient~master~I063cecaeb89b7103938fd9545c5fb976e7e17e95,openstack/python-tripleoclient,master,I063cecaeb89b7103938fd9545c5fb976e7e17e95,Fix delete plan,MERGED,2020-03-05 20:32:39.000000000,2020-03-06 03:51:41.000000000,2020-03-06 03:48:50.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 20:32:39.000000000', 'files': ['tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/31e631e950f04d897cbdbb9c35a1527a0349afd4', 'message': 'Fix delete plan\n\nThis change fixes the delete plan function which was building context\nincorrectly and raising a soon to be irrelevant exception in the event\nof a failure.\n\nChange-Id: I063cecaeb89b7103938fd9545c5fb976e7e17e95\nCloses-Bug: #1866247\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,711548,31e631e950f04d897cbdbb9c35a1527a0349afd4,10,4,1,7353,,,0,"Fix delete plan

This change fixes the delete plan function which was building context
incorrectly and raising a soon to be irrelevant exception in the event
of a failure.

Change-Id: I063cecaeb89b7103938fd9545c5fb976e7e17e95
Closes-Bug: #1866247
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/48/711548/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/test_overcloud_plan.py', 'tripleoclient/workflows/plan_management.py']",2,31e631e950f04d897cbdbb9c35a1527a0349afd4,mistral_to_ansible," """"""Delete a deployment plan. :param clients: Application client object. :type clients: Object :param container: Container name to pull from. :type container: String """""" context = clients.tripleoclient.create_mistral_context() result = plan.DeletePlanAction(container=container).run(context=context) if result: raise RuntimeError(result)", mistral_context = clients.create_mistral_context() result = plan.DeletePlanAction(container=container).run(mistral_context) if result and result.error: raise exceptions.WorkflowServiceError( 'Exception deleting plan: {}'.format(result.error)),14,13
openstack%2Fpython-tripleoclient~master~I745c43b8b4461ae2f60834a262ab358a7434efeb,openstack/python-tripleoclient,master,I745c43b8b4461ae2f60834a262ab358a7434efeb,Fix KeyError exception on check_deprecated_parameters,MERGED,2020-03-05 15:29:40.000000000,2020-03-06 03:50:28.000000000,2020-03-06 03:48:50.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 15:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/69bfa17fdea4bcaf92732f2976edec2e3673dba5', 'message': ""Fix KeyError exception on check_deprecated_parameters\n\nheat_resource_tree_params is returning a KeyError.\nProbably this was not caught before because it always had this key.\nIf the key doesn't exist, returning a empty dictionary because of\nseveral for loops used and NoneType is not iterable.\n\nChange-Id: I745c43b8b4461ae2f60834a262ab358a7434efeb\nCloses-Bug: #1866184\n""}, {'number': 2, 'created': '2020-03-05 16:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/44a576a96680ffb8f30267a8319f2f85a7dbcfbd', 'message': ""Fix KeyError exception on check_deprecated_parameters\n\nheat_resource_tree_params is returning a KeyError.\nProbably this was not caught before because it always had this key.\nIf the key doesn't exist, returning a empty dictionary because of\nseveral for loops used and NoneType is not iterable.\n\nChange-Id: I745c43b8b4461ae2f60834a262ab358a7434efeb\nCloses-Bug: #1866184\n""}, {'number': 3, 'created': '2020-03-05 18:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8c0aeafbe5021624f1ba34ba5218690fbd3f6a5d', 'message': ""Fix KeyError exception on check_deprecated_parameters\n\nheat_resource_tree_params is returning a KeyError.\nProbably this was not caught before because it always had this key.\nIf the key doesn't exist, returning a empty dictionary because of\nseveral for loops used and NoneType is not iterable.\n\nChange-Id: I745c43b8b4461ae2f60834a262ab358a7434efeb\nCloses-Bug: #1866184\n""}, {'number': 4, 'created': '2020-03-05 19:43:58.000000000', 'files': ['tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/14f52713c4ae4fcebe68a34716037a6364522738', 'message': ""Fix KeyError exception on check_deprecated_parameters\n\nheat_resource_tree_params is returning a KeyError.\nProbably this was not caught before because it always had this key.\nIf the key doesn't exist, returning a empty dictionary because of\nseveral for loops used and NoneType is not iterable.\n\nChange-Id: I745c43b8b4461ae2f60834a262ab358a7434efeb\nCloses-Bug: #1866184\n""}]",0,711480,14f52713c4ae4fcebe68a34716037a6364522738,23,9,4,8367,,,0,"Fix KeyError exception on check_deprecated_parameters

heat_resource_tree_params is returning a KeyError.
Probably this was not caught before because it always had this key.
If the key doesn't exist, returning a empty dictionary because of
several for loops used and NoneType is not iterable.

Change-Id: I745c43b8b4461ae2f60834a262ab358a7434efeb
Closes-Bug: #1866184
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/80/711480/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/parameters.py'],1,69bfa17fdea4bcaf92732f2976edec2e3673dba5,keyerror," user_params = flattened_parms.get('environment_parameters', {}) heat_resource_tree = flattened_parms.get('heat_resource_tree', {}) heat_resource_tree_params = heat_resource_tree.get('parameters', {}) heat_resource_tree_resources = heat_resource_tree.get('resources', {})", user_params = flattened_parms['environment_parameters'] heat_resource_tree = flattened_parms['heat_resource_tree'] heat_resource_tree_params = heat_resource_tree['parameters'] heat_resource_tree_resources = heat_resource_tree['resources'],4,4
openstack%2Fneutron~master~I5b9176d4a55a826f498e367f1f02569429dbe546,openstack/neutron,master,I5b9176d4a55a826f498e367f1f02569429dbe546,Limit ovn sanity checks to q-svc,MERGED,2020-02-18 16:21:09.000000000,2020-03-06 03:49:51.000000000,2020-03-06 03:47:30.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-18 16:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b567d64492ee8237686627f4b33764cdc99dec0', 'message': ""Limit ovn sanity checks to q-svc\n\nThe sanity checks related to neutron-server config only make sense\nwhen q-svc service is enabled. When building a devstack without q-svc\n(for example a compute-only devstack) do not force this configuration\nto be present where it's meaningless.\n\nChange-Id: I5b9176d4a55a826f498e367f1f02569429dbe546\n""}, {'number': 2, 'created': '2020-02-19 11:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70cca70e04e68f0dcb172e7141a0ddb86cad6332', 'message': ""Limit ovn sanity checks to q-svc\n\nThe sanity checks related to neutron-server config only make sense\nwhen q-svc service is enabled. When building a devstack without q-svc\n(for example a compute-only devstack) do not force this configuration\nto be present where it's meaningless.\n\nChange-Id: I5b9176d4a55a826f498e367f1f02569429dbe546\n""}, {'number': 3, 'created': '2020-02-24 14:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfdb6409415758018d4edde7d2cd4d07c85a26f4', 'message': ""Limit ovn sanity checks to q-svc\n\nThe sanity checks related to neutron-server config only make sense\nwhen q-svc service is enabled. When building a devstack without q-svc\n(for example a compute-only devstack) do not force this configuration\nto be present where it's meaningless.\n\nChange-Id: I5b9176d4a55a826f498e367f1f02569429dbe546\n""}, {'number': 4, 'created': '2020-03-03 13:44:12.000000000', 'files': ['devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b01ecf9ea393f89d5ee9b41f534fb785aa22450', 'message': ""Limit ovn sanity checks to q-svc\n\nThe sanity checks related to neutron-server config only make sense\nwhen q-svc service is enabled. When building a devstack without q-svc\n(for example a compute-only devstack) do not force this configuration\nto be present where it's meaningless.\n\nChange-Id: I5b9176d4a55a826f498e367f1f02569429dbe546\n""}]",2,708441,6b01ecf9ea393f89d5ee9b41f534fb785aa22450,40,10,4,15554,,,0,"Limit ovn sanity checks to q-svc

The sanity checks related to neutron-server config only make sense
when q-svc service is enabled. When building a devstack without q-svc
(for example a compute-only devstack) do not force this configuration
to be present where it's meaningless.

Change-Id: I5b9176d4a55a826f498e367f1f02569429dbe546
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/708441/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ovn_agent'],1,7b567d64492ee8237686627f4b33764cdc99dec0,bp/neutron-ovn-merge," elif is_service_enabled q-svc && [[ ! $Q_ML2_PLUGIN_MECHANISM_DRIVERS =~ ""ovn"" ]]; then elif is_service_enabled q-svc && [[ ! $Q_ML2_PLUGIN_TYPE_DRIVERS =~ ""geneve"" ]]; then"," elif [[ ! $Q_ML2_PLUGIN_MECHANISM_DRIVERS =~ ""ovn"" ]]; then elif [[ ! $Q_ML2_PLUGIN_TYPE_DRIVERS =~ ""geneve"" ]]; then",2,2
openstack%2Fkayobe~master~I535ab240b7ab8f3ab104b49170e4a9ee01fc482b,openstack/kayobe,master,I535ab240b7ab8f3ab104b49170e4a9ee01fc482b,Blacklist Ansible 2.8.9,MERGED,2020-03-05 15:38:38.000000000,2020-03-06 02:52:55.000000000,2020-03-06 02:51:18.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 15:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cdfb22e12c27b0a9df666ba46f1aeeda441ee6b0', 'message': ""Blacklist Ansible 2.8.9\n\nBackport: train\n\nOpenStack Ansible modules were broken in Ansible 2.8.9. This affects\nkolla-toolbox, and kayobe's ansible install for tasks that interact with\nAPIs. See https://github.com/ansible/ansible/issues/68042 and\nhttps://bugs.launchpad.net/kolla/+bug/1866181.\n\nThis change blacklists ansible 2.8.9 for Kayobe and Kolla Ansible. A\nseparate change will be made to kolla to blacklist ansible 2.8.9 from\nthe kolla-toolbox image.\n\nChange-Id: I535ab240b7ab8f3ab104b49170e4a9ee01fc482b\nStory: 2007383\nTask: 38959\n""}, {'number': 2, 'created': '2020-03-05 17:00:49.000000000', 'files': ['requirements.txt', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5507bba744165657cbfddd75a9f304b0bbb78be0', 'message': ""Blacklist Ansible 2.8.9\n\nBackport: train\n\nOpenStack Ansible modules were broken in Ansible 2.8.9. This affects\nkolla-toolbox, and kayobe's ansible install for tasks that interact with\nAPIs. See https://github.com/ansible/ansible/issues/68042 and\nhttps://bugs.launchpad.net/kolla/+bug/1866181.\n\nThis change blacklists ansible 2.8.9 for Kayobe and Kolla Ansible. A\nseparate change will be made to kolla to blacklist ansible 2.8.9 from\nthe kolla-toolbox image.\n\nDepends-On: https://review.opendev.org/711485\n\nChange-Id: I535ab240b7ab8f3ab104b49170e4a9ee01fc482b\nStory: 2007383\nTask: 38959\n""}]",0,711484,5507bba744165657cbfddd75a9f304b0bbb78be0,16,4,2,14826,,,0,"Blacklist Ansible 2.8.9

Backport: train

OpenStack Ansible modules were broken in Ansible 2.8.9. This affects
kolla-toolbox, and kayobe's ansible install for tasks that interact with
APIs. See https://github.com/ansible/ansible/issues/68042 and
https://bugs.launchpad.net/kolla/+bug/1866181.

This change blacklists ansible 2.8.9 for Kayobe and Kolla Ansible. A
separate change will be made to kolla to blacklist ansible 2.8.9 from
the kolla-toolbox image.

Depends-On: https://review.opendev.org/711485

Change-Id: I535ab240b7ab8f3ab104b49170e4a9ee01fc482b
Story: 2007383
Task: 38959
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/84/711484/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2']",2,cdfb22e12c27b0a9df666ba46f1aeeda441ee6b0,,"ansible>=2.8,<2.10,!=2.8.9","ansible>=2.8,<2.10",2,2
openstack%2Fpython-tripleoclient~master~I974167d0d2d04a94dc8a82a361a9ca1425364935,openstack/python-tripleoclient,master,I974167d0d2d04a94dc8a82a361a9ca1425364935,Update undercloud.conf with correct SSL information,MERGED,2020-03-04 00:10:47.000000000,2020-03-06 02:45:56.000000000,2020-03-06 01:56:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 00:10:47.000000000', 'files': ['tripleoclient/config/undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b5df6b265dac7ffc07fcf3da10492fc84174ea20', 'message': 'Update undercloud.conf with correct SSL information\n\nThe generated certificates are located:\n/etc/pki/tls/private/overcloud_endpoint.pem\n\nBecause in environments/ssl/enable-tls.yaml, we can find:\nDeployedSSLCertificatePath: /etc/pki/tls/private/overcloud_endpoint.pem\n\nUpdate the doc, so there is no confusion.\n\nChange-Id: I974167d0d2d04a94dc8a82a361a9ca1425364935\n'}]",1,711131,b5df6b265dac7ffc07fcf3da10492fc84174ea20,13,5,1,3153,,,0,"Update undercloud.conf with correct SSL information

The generated certificates are located:
/etc/pki/tls/private/overcloud_endpoint.pem

Because in environments/ssl/enable-tls.yaml, we can find:
DeployedSSLCertificatePath: /etc/pki/tls/private/overcloud_endpoint.pem

Update the doc, so there is no confusion.

Change-Id: I974167d0d2d04a94dc8a82a361a9ca1425364935
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/31/711131/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/config/undercloud.py'],1,b5df6b265dac7ffc07fcf3da10492fc84174ea20,bz/1807415, '/etc/pki/tls/private/overcloud_endpoint.pem. This' ' certificate is signed by CA selected by the ', '/etc/pki/tls/certs/' 'undercloud-[undercloud_public_host].pem. This ' 'certificate is signed by CA selected by the ',2,3
openstack%2Fironic~master~I7185679203e0f9aa7ebe9c69971009cd59271b89,openstack/ironic,master,I7185679203e0f9aa7ebe9c69971009cd59271b89,Docs: split away user image building and highlight whole disk images,MERGED,2020-03-03 10:38:08.000000000,2020-03-06 02:32:41.000000000,2020-03-05 11:34:50.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-03 10:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a5ac1a8d5bff271f19789beaca619165f93288b', 'message': ""Docs: split away user image building and highlight whole disk images\n\nThe user image documentation applies to both standalone and glance\nusage, but we keep it in the glance section. This change creates\na new page to talk about user images.\n\nWe also don't emphasize the difference between partition and whole\ndisk images enough, resulting in users trying whole disk images\nwith kernel/ramdisk set. Make the difference clearer.\n\nChange-Id: I7185679203e0f9aa7ebe9c69971009cd59271b89\n""}, {'number': 2, 'created': '2020-03-03 12:25:51.000000000', 'files': ['doc/source/install/creating-images.rst', 'doc/source/install/index.rst', 'doc/source/install/configure-glance-images.rst', 'doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/530ec9d0b133fad5c05ebf988320394358fe4ff4', 'message': ""Docs: split away user image building and highlight whole disk images\n\nThe user image documentation applies to both standalone and glance\nusage, but we keep it in the glance section. This change creates\na new page to talk about user images.\n\nWe also don't emphasize the difference between partition and whole\ndisk images enough, resulting in users trying whole disk images\nwith kernel/ramdisk set. Make the difference clearer.\n\nChange-Id: I7185679203e0f9aa7ebe9c69971009cd59271b89\n""}]",0,710966,530ec9d0b133fad5c05ebf988320394358fe4ff4,13,5,2,10239,,,0,"Docs: split away user image building and highlight whole disk images

The user image documentation applies to both standalone and glance
usage, but we keep it in the glance section. This change creates
a new page to talk about user images.

We also don't emphasize the difference between partition and whole
disk images enough, resulting in users trying whole disk images
with kernel/ramdisk set. Make the difference clearer.

Change-Id: I7185679203e0f9aa7ebe9c69971009cd59271b89
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/710966/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/creating-images.rst', 'doc/source/install/configure-glance-images.rst', 'doc/source/install/index.rst', 'doc/source/install/standalone.rst']",4,4a5ac1a8d5bff271f19789beaca619165f93288b,image-docs,#. You also need to specify image information in the node's ``instance_info`` (see :doc:`creating-images`): initramfs of the target OS. Must be added **only** for partition images. With a whole disk image:: openstack baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_checksum=$MD5HASH ,"#. You also need to specify some fields in the node's ``instance_info``: initramfs of the target OS, only required for partition images.",87,57
openstack%2Ftripleo-quickstart-extras~master~I6c9239fb8f2b892a6f0bc7d53d1e5c413c2dd0b2,openstack/tripleo-quickstart-extras,master,I6c9239fb8f2b892a6f0bc7d53d1e5c413c2dd0b2,Add job.repos to container updates for component jobs,MERGED,2020-03-04 03:54:18.000000000,2020-03-06 02:17:05.000000000,2020-03-06 02:17:05.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 03:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3aa8ed30f86e06446b2043c63a3eb9b3ece4a835', 'message': 'Add job.repos to container updates for component jobs\n\nmultinode, undercloud, ovb jobs can be run in the component\npipeline. As such, the update_containers_repo should\ninclude the component repo.\nThis review add the job defined repos to the\nupdate_containers_repo variable.\n\nChange-Id: I6c9239fb8f2b892a6f0bc7d53d1e5c413c2dd0b2\n'}, {'number': 2, 'created': '2020-03-05 10:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f7c5125104cbb714d2d69a0c68afcf210493b360', 'message': 'Add job.repos to container updates for component jobs\n\nmultinode, undercloud, ovb jobs can be run in the component\npipeline. As such, the update_containers_repo should\ninclude the component repo.\nThis review add the job defined repos to the\nupdate_containers_repo variable.\n\nChange-Id: I6c9239fb8f2b892a6f0bc7d53d1e5c413c2dd0b2\n'}, {'number': 3, 'created': '2020-03-05 19:29:30.000000000', 'files': ['roles/undercloud-deploy/tasks/create-scripts.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9b2ad467b6b313e70be2b2da54cee4ffb6b809b4', 'message': 'Add job.repos to container updates for component jobs\n\nmultinode, undercloud, ovb jobs can be run in the component\npipeline. As such, the update_containers_repo should\ninclude the component repo.\nThis review add the job defined repos to the\nupdate_containers_repo variable.\n\nChange-Id: I6c9239fb8f2b892a6f0bc7d53d1e5c413c2dd0b2\n'}]",0,711156,9b2ad467b6b313e70be2b2da54cee4ffb6b809b4,34,5,3,9976,,,0,"Add job.repos to container updates for component jobs

multinode, undercloud, ovb jobs can be run in the component
pipeline. As such, the update_containers_repo should
include the component repo.
This review add the job defined repos to the
update_containers_repo variable.

Change-Id: I6c9239fb8f2b892a6f0bc7d53d1e5c413c2dd0b2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/56/711156/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/tasks/create-scripts.yml'],1,3aa8ed30f86e06446b2043c63a3eb9b3ece4a835,update-component-repos," - name: Set repos defined in the job for container update when: - job.add_repos is defined - job.add_repos != [] - containerized_undercloud|bool or containerized_overcloud|bool block: - name: Create string of repos to update set_fact: add_repo_update_list: >- {% if job.add_repos[item|int].update_container|default(false) -%} {{ job.add_repos[item|int].reponame }} {% endif -%} with_sequence: start=0 end=""{{ (job.add_repos|length -1)|int }}"" register: add_repo_update_list_result - debug: var: add_repo_update_list - name: Add repos to update_repo set_fact: add_repos_update: ""{{ add_repo_update_list_result.results | map(attribute='ansible_facts.add_repo_update_list') | list }}"" cacheable: true when: add_repo_update_list_result|length > 0 - debug: var: add_repos_update - name: Create string from list set_fact: add_repos_update: "",{{ add_repos_update | join(',') }}"" when: add_repos_update|length > 0 - name: Create string from list set_fact: update_containers_repo: ""{{ update_containers_repo }}{{ add_repos_update }}"" when: add_repos_update|length > 0 ",,38,0
openstack%2Ftripleo-heat-templates~master~I0c44db40e1b9a935e7dde115bb0c9affa15c42bf,openstack/tripleo-heat-templates,master,I0c44db40e1b9a935e7dde115bb0c9affa15c42bf,Remove all ignore_errors to avoid confusion when debugging,MERGED,2020-03-03 17:15:59.000000000,2020-03-06 02:12:10.000000000,2020-03-06 02:12:10.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-03-03 17:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e759ad6834b16c0078781dcb171558e443610d30', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing\n  with check-mode directories. The file module is resilient enough to\n  not fail if the path is already absent.\n\n- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,\n  ""not ansible_check_mode""; this task is not needed in check mode.\n\n- deploy-steps.j2: During a scale down, instead of using fail module,\n  only debug module will be used to tell the operator that the node\n  isn\'t available anymore; which reduces confusion when debugging\n  scaling operations.\n\n- generate-config-tasks.yaml: Replace ignore_errors by another\n  condition, ""not ansible_check_mode""; this task is not needed in check mode.\n\n- Neutron wrappers: use fail_key: False instead of ignore_errors: True\n  if a key can\'t be found in /etc/passwd.\n\n- All services with service checks: Replace ""ignore_errors: true"" by\n  ""failed_when: false"". Since we don\'t care about whether or not the\n  task returns 0, let\'s just make the task never fail. It will only\n  improve UX when scrawling logs; no more failure will be shown for\n  these tasks.\n\n- Same as above for cibadmin commands, cluster resources show\n  commands and keepalived container restart command; and all other shell\n  or command or yum modules uses where we just don\'t care about their potential\n  failures.\n\nChange-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf\n'}, {'number': 2, 'created': '2020-03-03 18:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd4c7d5f7ee15e465f407de75c389d28fa50a483', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing\n  with check-mode directories. The file module is resilient enough to\n  not fail if the path is already absent.\n\n- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,\n  ""not ansible_check_mode""; this task is not needed in check mode.\n\n- generate-config-tasks.yaml: Replace ignore_errors by another\n  condition, ""not ansible_check_mode""; this task is not needed in check mode.\n\n- Neutron wrappers: use fail_key: False instead of ignore_errors: True\n  if a key can\'t be found in /etc/passwd.\n\n- All services with service checks: Replace ""ignore_errors: true"" by\n  ""failed_when: false"". Since we don\'t care about whether or not the\n  task returns 0, let\'s just make the task never fail. It will only\n  improve UX when scrawling logs; no more failure will be shown for\n  these tasks.\n\n- Same as above for cibadmin commands, cluster resources show\n  commands and keepalived container restart command; and all other shell\n  or command or yum modules uses where we just don\'t care about their potential\n  failures.\n\n- Aodh/Gnocchi: Add pipefail so the task isn\'t support to fail\n\nChange-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf\n'}, {'number': 3, 'created': '2020-03-04 19:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e042f8793d41087c0c18fc0eed17541f0bf6435', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing\n  with check-mode directories. The file module is resilient enough to\n  not fail if the path is already absent.\n\n- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,\n  ""not ansible_check_mode""; this task is not needed in check mode.\n\n- generate-config-tasks.yaml: Replace ignore_errors by another\n  condition, ""not ansible_check_mode""; this task is not needed in check mode.\n\n- Neutron wrappers: use fail_key: False instead of ignore_errors: True\n  if a key can\'t be found in /etc/passwd.\n\n- All services with service checks: Replace ""ignore_errors: true"" by\n  ""failed_when: false"". Since we don\'t care about whether or not the\n  task returns 0, let\'s just make the task never fail. It will only\n  improve UX when scrawling logs; no more failure will be shown for\n  these tasks.\n\n- Same as above for cibadmin commands, cluster resources show\n  commands and keepalived container restart command; and all other shell\n  or command or yum modules uses where we just don\'t care about their potential\n  failures.\n\n- Aodh/Gnocchi: Add pipefail so the task isn\'t support to fail\n\nChange-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf\n'}, {'number': 4, 'created': '2020-03-05 14:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c249a0c3068a15372191050adc8e5971082535a9', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing\n  with check-mode directories. The file module is resilient enough to\n  not fail if the path is already absent.\n\n- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,\n  ""not ansible_check_mode""; this task is not needed in check mode.\n\n- generate-config-tasks.yaml: Replace ignore_errors by another\n  condition, ""not ansible_check_mode""; this task is not needed in check mode.\n\n- Neutron wrappers: use fail_key: False instead of ignore_errors: True\n  if a key can\'t be found in /etc/passwd.\n\n- All services with service checks: Replace ""ignore_errors: true"" by\n  ""failed_when: false"". Since we don\'t care about whether or not the\n  task returns 0, let\'s just make the task never fail. It will only\n  improve UX when scrawling logs; no more failure will be shown for\n  these tasks.\n\n- Same as above for cibadmin commands, cluster resources show\n  commands and keepalived container restart command; and all other shell\n  or command or yum modules uses where we just don\'t care about their potential\n  failures.\n\n- Aodh/Gnocchi: Add pipefail so the task isn\'t support to fail\n\n- tripleo-packages-baremetal-puppet and undercloud-upgrade: check shell\n  rc instead of ""succeeded"", since the task will always succeed.\n\nChange-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf\n'}, {'number': 5, 'created': '2020-03-05 14:22:10.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'ci/environments/disable-unbound.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/generate-config-tasks.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38bad5283f3d30cb461d7f89ba7a0b3bd0f540d5', 'message': 'Remove all ignore_errors to avoid confusion when debugging\n\n- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing\n  with check-mode directories. The file module is resilient enough to\n  not fail if the path is already absent.\n\n- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,\n  ""not ansible_check_mode""; this task is not needed in check mode.\n\n- generate-config-tasks.yaml: Replace ignore_errors by another\n  condition, ""not ansible_check_mode""; this task is not needed in check mode.\n\n- Neutron wrappers: use fail_key: False instead of ignore_errors: True\n  if a key can\'t be found in /etc/passwd.\n\n- All services with service checks: Replace ""ignore_errors: true"" by\n  ""failed_when: false"". Since we don\'t care about whether or not the\n  task returns 0, let\'s just make the task never fail. It will only\n  improve UX when scrawling logs; no more failure will be shown for\n  these tasks.\n\n- Same as above for cibadmin commands, cluster resources show\n  commands and keepalived container restart command; and all other shell\n  or command or yum modules uses where we just don\'t care about their potential\n  failures.\n\n- Aodh/Gnocchi: Add pipefail so the task isn\'t support to fail\n\n- tripleo-packages-baremetal-puppet and undercloud-upgrade: check shell\n  rc instead of ""succeeded"", since the task will always succeed.\n\nChange-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf\n'}]",130,711059,38bad5283f3d30cb461d7f89ba7a0b3bd0f540d5,28,8,5,3153,,,0,"Remove all ignore_errors to avoid confusion when debugging

- deploy-steps-tasks-step-1.yaml: Do not ignore errors when dealing
  with check-mode directories. The file module is resilient enough to
  not fail if the path is already absent.

- deploy-steps-tasks.yaml: Replace ignore_errors by another condition,
  ""not ansible_check_mode""; this task is not needed in check mode.

- generate-config-tasks.yaml: Replace ignore_errors by another
  condition, ""not ansible_check_mode""; this task is not needed in check mode.

- Neutron wrappers: use fail_key: False instead of ignore_errors: True
  if a key can't be found in /etc/passwd.

- All services with service checks: Replace ""ignore_errors: true"" by
  ""failed_when: false"". Since we don't care about whether or not the
  task returns 0, let's just make the task never fail. It will only
  improve UX when scrawling logs; no more failure will be shown for
  these tasks.

- Same as above for cibadmin commands, cluster resources show
  commands and keepalived container restart command; and all other shell
  or command or yum modules uses where we just don't care about their potential
  failures.

- Aodh/Gnocchi: Add pipefail so the task isn't support to fail

- tripleo-packages-baremetal-puppet and undercloud-upgrade: check shell
  rc instead of ""succeeded"", since the task will always succeed.

Change-Id: I0c44db40e1b9a935e7dde115bb0c9affa15c42bf
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/711059/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/undercloud/undercloud-upgrade.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'common/deploy-steps.j2', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/keepalived/keepalived-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/sahara/sahara-engine-container-puppet.yaml', 'deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'ci/environments/disable-unbound.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/ironic/ironic-pxe-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/vpp/vpp-baremetal-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'common/generate-config-tasks.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/snmp/snmp-baremetal-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",66,e759ad6834b16c0078781dcb171558e443610d30,ignore_errors, failed_when: false failed_when: false, ignore_errors: true ignore_errors: true,103,107
openstack%2Ftripleo-common~master~Id65c0d1c58db0d399d3e170b98e1df54c67ef49d,openstack/tripleo-common,master,Id65c0d1c58db0d399d3e170b98e1df54c67ef49d,replace centos-7 with centos-8 in scenario jobs,MERGED,2020-03-02 16:37:35.000000000,2020-03-06 01:54:04.000000000,2020-03-06 01:51:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 16:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2fe11f561d3746738d2c9ac47b8606a636202cf3', 'message': 'replace centos-7 with centos-8 in scenario jobs\n\nstandalone / standalone scenario jobs move to centos-8\n\nRelated-Bug: #1865525\nChange-Id: Id65c0d1c58db0d399d3e170b98e1df54c67ef49d\n'}, {'number': 2, 'created': '2020-03-05 15:02:36.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/21ab7853ea897ea2b999124777b2f34f8ddf0f5d', 'message': 'replace centos-7 with centos-8 in scenario jobs\n\nstandalone / standalone scenario jobs move to centos-8\n\nRelated-Bug: #1865525\nChange-Id: Id65c0d1c58db0d399d3e170b98e1df54c67ef49d\n'}]",0,710821,21ab7853ea897ea2b999124777b2f34f8ddf0f5d,21,5,2,9592,,,0,"replace centos-7 with centos-8 in scenario jobs

standalone / standalone scenario jobs move to centos-8

Related-Bug: #1865525
Change-Id: Id65c0d1c58db0d399d3e170b98e1df54c67ef49d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/21/710821/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2fe11f561d3746738d2c9ac47b8606a636202cf3,centos-8-jobs, - tripleo-ci-centos-8-standalone: - tripleo-ci-centos-8-scenario001-standalone: - tripleo-ci-centos-8-scenario002-standalone: - tripleo-ci-centos-8-scenario003-standalone: - tripleo-ci-centos-8-scenario004-standalone:, - tripleo-ci-centos-7-standalone: - tripleo-ci-centos-7-scenario001-standalone: - tripleo-ci-centos-7-scenario002-standalone: - tripleo-ci-centos-7-scenario003-standalone: - tripleo-ci-centos-7-scenario004-standalone:,5,5
openstack%2Foslo.log~master~I515a6b03b810a7c8b2246279e380973a29c626f4,openstack/oslo.log,master,I515a6b03b810a7c8b2246279e380973a29c626f4,Add Victoria and Wallaby releases to versionutils,MERGED,2020-03-05 22:12:25.000000000,2020-03-06 01:09:00.000000000,2020-03-06 01:07:28.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-05 22:12:25.000000000', 'files': ['oslo_log/versionutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/adef9b6ecbecedad9836e96a092c32cc8a17eb97', 'message': ""Add Victoria and Wallaby releases to versionutils\n\nNow that we have names for the next two releases we can get them\nadded here so we'll be ready when development starts.\n\nChange-Id: I515a6b03b810a7c8b2246279e380973a29c626f4\n""}]",0,711561,adef9b6ecbecedad9836e96a092c32cc8a17eb97,8,3,1,6928,,,0,"Add Victoria and Wallaby releases to versionutils

Now that we have names for the next two releases we can get them
added here so we'll be ready when development starts.

Change-Id: I515a6b03b810a7c8b2246279e380973a29c626f4
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/61/711561/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/versionutils.py'],1,adef9b6ecbecedad9836e96a092c32cc8a17eb97,victoria-wallaby," 'V': 'Victoria', 'W': 'Wallaby',",,2,0
openstack%2Fkuryr-kubernetes~master~I90b0ae7650aa36fb321d66b9d95fc8fd36249896,openstack/kuryr-kubernetes,master,I90b0ae7650aa36fb321d66b9d95fc8fd36249896,Remove remaining notions of python-neutronclient,MERGED,2020-02-25 17:59:55.000000000,2020-03-06 01:02:42.000000000,2020-03-06 01:01:13.000000000,"[{'_account_id': 6541}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-02-25 17:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4300fa5e45bc7fed7bde2e74b48c692eabcfb5cd', 'message': ""Remove remaining notions of python-neutronclient\n\nThis commit converts nested_dpdk_vif and nested_macvlan_vif drivers to\nuse openstacksdk. The latter required a bit of a hack visible in the\nclients.py - the openstacksdk's Port resource is injected with\nadditional header parameter to be able to use If-Match header when\nupdating allowed_address_pairs on the parent VIFs.\n\nWhat's missing here is removal of some hacks still present in\nos_vif_util.py.\n\nChange-Id: I90b0ae7650aa36fb321d66b9d95fc8fd36249896\n""}, {'number': 2, 'created': '2020-02-25 18:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6df3fd5556d94a4b261678bde852978757180091', 'message': ""Remove remaining notions of python-neutronclient\n\nThis commit converts nested_dpdk_vif and nested_macvlan_vif drivers to\nuse openstacksdk. The latter required a bit of a hack visible in the\nclients.py - the openstacksdk's Port resource is injected with\nadditional header parameter to be able to use If-Match header when\nupdating allowed_address_pairs on the parent VIFs.\n\nWhat's missing here is removal of some hacks still present in\nos_vif_util.py.\n\nChange-Id: I90b0ae7650aa36fb321d66b9d95fc8fd36249896\n""}, {'number': 3, 'created': '2020-02-26 09:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5ec49a2c5e53b066aaa8e5645bb1626e51b4ac70', 'message': ""Remove remaining notions of python-neutronclient\n\nThis commit converts nested_dpdk_vif and nested_macvlan_vif drivers to\nuse openstacksdk. The latter required a bit of a hack visible in the\nclients.py - the openstacksdk's Port resource is injected with\nadditional header parameter to be able to use If-Match header when\nupdating allowed_address_pairs on the parent VIFs.\n\nWhat's missing here is removal of some hacks still present in\nos_vif_util.py.\n\nChange-Id: I90b0ae7650aa36fb321d66b9d95fc8fd36249896\n""}, {'number': 4, 'created': '2020-02-26 11:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d940b54163cb54643efbd9823f4d5934b29aaaec', 'message': ""Remove remaining notions of python-neutronclient\n\nThis commit converts nested_dpdk_vif and nested_macvlan_vif drivers to\nuse openstacksdk. The latter required a bit of a hack visible in the\nclients.py - the openstacksdk's Port resource is injected with\nadditional header parameter to be able to use If-Match header when\nupdating allowed_address_pairs on the parent VIFs.\n\nWhat's missing here is removal of some hacks still present in\nos_vif_util.py.\n\nChange-Id: I90b0ae7650aa36fb321d66b9d95fc8fd36249896\n""}, {'number': 5, 'created': '2020-02-28 09:49:24.000000000', 'files': ['kuryr_kubernetes/clients.py', 'kuryr_kubernetes/tests/fake.py', 'kuryr_kubernetes/tests/unit/test_clients.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_dpdk.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_macvlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_dpdk_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/tests/unit/kuryr_fixtures.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/handlers/retry.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7707f83adc10f2b46b751be4ac0c90c67f66b731', 'message': ""Remove remaining notions of python-neutronclient\n\nThis commit converts nested_dpdk_vif and nested_macvlan_vif drivers to\nuse openstacksdk. The latter required a bit of a hack visible in the\nclients.py - the openstacksdk's Port resource is injected with\nadditional header parameter to be able to use If-Match header when\nupdating allowed_address_pairs on the parent VIFs.\n\nWhat's missing here is removal of some hacks still present in\nos_vif_util.py.\n\nChange-Id: I90b0ae7650aa36fb321d66b9d95fc8fd36249896\n""}]",6,709806,7707f83adc10f2b46b751be4ac0c90c67f66b731,29,7,5,11600,,,0,"Remove remaining notions of python-neutronclient

This commit converts nested_dpdk_vif and nested_macvlan_vif drivers to
use openstacksdk. The latter required a bit of a hack visible in the
clients.py - the openstacksdk's Port resource is injected with
additional header parameter to be able to use If-Match header when
updating allowed_address_pairs on the parent VIFs.

What's missing here is removal of some hacks still present in
os_vif_util.py.

Change-Id: I90b0ae7650aa36fb321d66b9d95fc8fd36249896
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/06/709806/4 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/clients.py', 'kuryr_kubernetes/tests/unit/test_clients.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_dpdk.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_nested_macvlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_dpdk_vif.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_public_ip.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_lbaasv2.py', 'kuryr_kubernetes/controller/drivers/nested_macvlan_vif.py', 'kuryr_kubernetes/tests/unit/kuryr_fixtures.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/handlers/retry.py']",12,4300fa5e45bc7fed7bde2e74b48c692eabcfb5cd,macvlan-openstacksdk,,"from neutronclient.common import exceptions as n_exc except n_exc.OverQuotaClient: # NOTE(gryf): this exception handling should be removed after # nested_macvlan_driver convertion to OpenStackSDK. with excutils.save_and_reraise_exception() as ex: if self._sleep(deadline, attempt, ex.value): ex.reraise = False",138,199
openstack%2Frequirements~master~I058716256c37b6246a01612aaaa066c8e7b093e5,openstack/requirements,master,I058716256c37b6246a01612aaaa066c8e7b093e5,black list oslo.cache 2.1.0,MERGED,2020-03-05 10:44:05.000000000,2020-03-06 00:47:52.000000000,2020-03-06 00:46:24.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 10:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/4e51cc1370ba7c32535f8bd8b73fdc2266b2192f', 'message': 'black list oslo.cache 2.1.0\n\noslo.cache 2.1.0 introduced issue with memcache we must blacklist\nthis version because it will introduce bugs [1].\n\n[1] https://bugs.launchpad.net/kolla-ansible/+bug/1866008\n\nChange-Id: I058716256c37b6246a01612aaaa066c8e7b093e5\n'}, {'number': 2, 'created': '2020-03-05 10:47:39.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/21473074e5e9411de0aa92a9bf6e01251922e5ae', 'message': 'black list oslo.cache 2.1.0\n\noslo.cache 2.1.0 introduced issue with memcache we must blacklist\nthis version because it will introduce bugs [1].\n\n[1] https://bugs.launchpad.net/kolla-ansible/+bug/1866008\n\nChange-Id: I058716256c37b6246a01612aaaa066c8e7b093e5\n'}]",0,711427,21473074e5e9411de0aa92a9bf6e01251922e5ae,18,6,2,28522,,,0,"black list oslo.cache 2.1.0

oslo.cache 2.1.0 introduced issue with memcache we must blacklist
this version because it will introduce bugs [1].

[1] https://bugs.launchpad.net/kolla-ansible/+bug/1866008

Change-Id: I058716256c37b6246a01612aaaa066c8e7b093e5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/711427/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,4e51cc1370ba7c32535f8bd8b73fdc2266b2192f,oslo-cache-blacklist,"oslo.cache!=1.31.1,!=2.1.0;python_version>='3.0' # Apache-2.0",oslo.cache!=1.31.1;python_version>='3.0' # Apache-2.0,1,1
openstack%2Fkeystone~stable%2Frocky~I3fc591e09c1e25a3bd2a3922880772ea9617f1e3,openstack/keystone,stable/rocky,I3fc591e09c1e25a3bd2a3922880772ea9617f1e3,Use pycodestyle in place of pep8,ABANDONED,2019-03-14 15:44:57.000000000,2020-03-06 00:43:32.000000000,,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 23950}]","[{'number': 1, 'created': '2019-03-14 15:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c54f38af959008574876e97d2e0f1c1f2f11335b', 'message': 'Use pycodestyle in place of pep8\n\nThe lower version of pycodestyle lib (aliased to pep8) doesn\'t work\nfor py36 env. This commit unblocks the py36 gate by adding a\ndependency on pycodestyle and using that for style checks.\n\nBump the ""hacking"" lib version to v1.1.0 which depends\non a higher verion of pycodestyle.\n\nChange-Id: I3fc591e09c1e25a3bd2a3922880772ea9617f1e3\n(cherry picked from commit 090886902c41c39cb7843b8ac6855e1dabd954ef)\n'}, {'number': 2, 'created': '2020-01-29 10:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/685e78070ac0f258181a19bcfc06158a733f9ed8', 'message': 'Use pycodestyle in place of pep8\n\nThe lower version of pycodestyle lib (aliased to pep8) doesn\'t work\nfor py36 env. This commit unblocks the py36 gate by adding a\ndependency on pycodestyle and using that for style checks.\n\nBump the ""hacking"" lib version to v1.1.0 which depends\non a higher verion of pycodestyle.\n\nChange-Id: I3fc591e09c1e25a3bd2a3922880772ea9617f1e3\n(cherry picked from commit 090886902c41c39cb7843b8ac6855e1dabd954ef)\n'}, {'number': 3, 'created': '2020-01-29 11:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/797dbfdad3bac6c6e02a095cbfa0da6c14b90d30', 'message': 'Use pycodestyle in place of pep8\n\nThe lower version of pycodestyle lib (aliased to pep8) doesn\'t work\nfor py36 env. This commit unblocks the py36 gate by adding a\ndependency on pycodestyle and using that for style checks.\n\nBump the ""hacking"" lib version to v1.1.0 which depends\non a higher verion of pycodestyle.\n\nChange-Id: I3fc591e09c1e25a3bd2a3922880772ea9617f1e3\n(cherry picked from commit 090886902c41c39cb7843b8ac6855e1dabd954ef)\nCloses-Bug: #1858410\n'}, {'number': 4, 'created': '2020-01-29 13:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/89b6238a25e35c90c376f54473042c26df601ed9', 'message': 'Use pycodestyle in place of pep8\n\nThe lower version of pycodestyle lib (aliased to pep8) doesn\'t work\nfor py36 env. This commit unblocks the py36 gate by adding a\ndependency on pycodestyle and using that for style checks.\n\nBump the ""hacking"" lib version to v1.1.0 which depends\non a higher verion of pycodestyle.\n\nChange-Id: I3fc591e09c1e25a3bd2a3922880772ea9617f1e3\n(cherry picked from commit 090886902c41c39cb7843b8ac6855e1dabd954ef)\nCloses-Bug: #1858410\n'}, {'number': 5, 'created': '2020-01-30 03:33:20.000000000', 'files': ['keystone/identity/core.py', 'test-requirements.txt', 'keystone/cmd/cli.py', 'keystone/tests/unit/test_hacking_checks.py', 'lower-constraints.txt', 'doc/requirements.txt', 'keystone/tests/unit/backend/core_ldap.py', 'tox.ini', 'keystone/tests/hacking/checks.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4c3191691bdddfccf78b482c0795d7f5c1921a24', 'message': 'Use pycodestyle in place of pep8\n\nThe lower version of pycodestyle lib (aliased to pep8) doesn\'t work\nfor py36 env. This commit unblocks the py36 gate by adding a\ndependency on pycodestyle and using that for style checks.\n\nBump the ""hacking"" lib version to v1.1.0 which depends\non a higher verion of pycodestyle.\n\nChange-Id: I3fc591e09c1e25a3bd2a3922880772ea9617f1e3\n(cherry picked from commit 090886902c41c39cb7843b8ac6855e1dabd954ef)\nCloses-Bug: #1858410\n'}]",0,643373,4c3191691bdddfccf78b482c0795d7f5c1921a24,17,4,5,8482,,,0,"Use pycodestyle in place of pep8

The lower version of pycodestyle lib (aliased to pep8) doesn't work
for py36 env. This commit unblocks the py36 gate by adding a
dependency on pycodestyle and using that for style checks.

Bump the ""hacking"" lib version to v1.1.0 which depends
on a higher verion of pycodestyle.

Change-Id: I3fc591e09c1e25a3bd2a3922880772ea9617f1e3
(cherry picked from commit 090886902c41c39cb7843b8ac6855e1dabd954ef)
Closes-Bug: #1858410
",git fetch https://review.opendev.org/openstack/keystone refs/changes/73/643373/5 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'keystone/tests/unit/test_hacking_checks.py', 'lower-constraints.txt', 'tox.ini', 'keystone/tests/hacking/checks.py']",5,c54f38af959008574876e97d2e0f1c1f2f11335b,bug_1858410,by pycodestyle. The second type is a class that parses AST trees. For more info please see pycodestyle.py.,by pep8. The second type is a class that parses AST trees. For more info please see pep8.py.,16,16
openstack%2Fopenstacksdk~master~I3d72304247dd60b3d761b730f020b8722702b6c1,openstack/openstacksdk,master,I3d72304247dd60b3d761b730f020b8722702b6c1,"Normalise create_coe_cluster{,_template} results",MERGED,2020-03-05 18:04:57.000000000,2020-03-06 00:29:16.000000000,2020-03-06 00:27:41.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 18:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/29e86964aebcea0f5e0de30c975184e70c9cb052', 'message': 'Normalise create_coe_cluster{,_template} results\n\nAt present, create_coe_cluster{,_template} return result that is not\nnormalized which means that notably the `id` field is missing. This PS\naddresses this issue and the adjacent tests.\n\nChange-Id: I3d72304247dd60b3d761b730f020b8722702b6c1\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 2, 'created': '2020-03-05 18:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/61cc59af44d24b194eda8012acbc315c4d7e4ca4', 'message': 'Normalise create_coe_cluster{,_template} results\n\nAt present, create_coe_cluster{,_template} return result that is not\nnormalized which means that notably the `id` field is missing. This PS\naddresses this issue and the adjacent tests.\n\nChange-Id: I3d72304247dd60b3d761b730f020b8722702b6c1\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}, {'number': 3, 'created': '2020-03-05 21:11:16.000000000', 'files': ['openstack/cloud/_coe.py', 'openstack/tests/unit/cloud/test_coe_clusters.py', 'openstack/tests/unit/cloud/test_cluster_templates.py', 'openstack/cloud/_normalize.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ce00e05aebe32d759eed298012883ebfded97558', 'message': 'Normalise create_coe_cluster{,_template} results\n\nAt present, create_coe_cluster{,_template} return result that is not\nnormalized which means that notably the `id` field is missing. This PS\naddresses this issue and the adjacent tests.\n\nChange-Id: I3d72304247dd60b3d761b730f020b8722702b6c1\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\nDepends-On: https://review.opendev.org/711533\n'}]",0,711526,ce00e05aebe32d759eed298012883ebfded97558,13,3,3,28022,,,0,"Normalise create_coe_cluster{,_template} results

At present, create_coe_cluster{,_template} return result that is not
normalized which means that notably the `id` field is missing. This PS
addresses this issue and the adjacent tests.

Change-Id: I3d72304247dd60b3d761b730f020b8722702b6c1
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
Depends-On: https://review.opendev.org/711533
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/711526/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_coe.py', 'openstack/tests/unit/cloud/test_coe_clusters.py', 'openstack/cloud/_normalize.py', 'openstack/tests/unit/cloud/test_cluster_templates.py']",4,29e86964aebcea0f5e0de30c975184e70c9cb052,," json_response = cluster_template_obj.toDict() json=json_response, expected = self.cloud._normalize_cluster_template(json_response) response = self.cloud.create_cluster_template( self.assertEqual(response, expected)"," json=dict(baymodels=[cluster_template_obj.toDict()]), self.cloud.create_cluster_template(",14,14
openstack%2Fopenstacksdk~master~If38b457509c1502a9c9a633f2c0668cba42d2997,openstack/openstacksdk,master,If38b457509c1502a9c9a633f2c0668cba42d2997,Fix service_type test for magnum in gate,MERGED,2020-03-05 18:56:32.000000000,2020-03-06 00:25:16.000000000,2020-03-06 00:23:48.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-03-05 18:56:32.000000000', 'files': ['openstack/tests/functional/cloud/test_devstack.py', 'openstack/tests/functional/cloud/test_cluster_templates.py', 'openstack/tests/functional/cloud/test_magnum_services.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a03f235b6cf160e60ef91c093440943f2bc9d893', 'message': ""Fix service_type test for magnum in gate\n\nThe official type is container-infrastructure-management, which\nis long but is the official type per service-types-authority.\nThat means it's the key we need to use in has_service.\n\nChange-Id: If38b457509c1502a9c9a633f2c0668cba42d2997\n""}]",0,711533,a03f235b6cf160e60ef91c093440943f2bc9d893,9,4,1,2,,,0,"Fix service_type test for magnum in gate

The official type is container-infrastructure-management, which
is long but is the official type per service-types-authority.
That means it's the key we need to use in has_service.

Change-Id: If38b457509c1502a9c9a633f2c0668cba42d2997
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/33/711533/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/cloud/test_cluster_templates.py', 'openstack/tests/functional/cloud/test_devstack.py', 'openstack/tests/functional/cloud/test_magnum_services.py']",3,a03f235b6cf160e60ef91c093440943f2bc9d893,fix-magnum-tests, if not self.operator_cloud.has_service( 'container-infrastructure-management' ):, if not self.operator_cloud.has_service('container-infra'):,10,3
openstack%2Fneutron~master~I838de14f183f805c19411218edb815e190f8d650,openstack/neutron,master,I838de14f183f805c19411218edb815e190f8d650,Add tag-ports-during-bulk-creation to devstack,MERGED,2020-03-02 00:56:16.000000000,2020-03-06 00:24:36.000000000,2020-03-06 00:22:33.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-02 00:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/12d38d8e58b030e5ddcd1eb3c239abfb406590eb', 'message': 'Add tag-ports-during-bulk-creation to devstack\n\nAdd tag-ports-during-bulk-creation to devstack\n\nChange-Id: I838de14f183f805c19411218edb815e190f8d650\n'}, {'number': 2, 'created': '2020-03-02 00:59:26.000000000', 'files': ['devstack/plugin.sh', 'devstack/lib/tag_ports_during_bulk_creation'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6e1523f78f09386c80f7ddebd810e025cd6c3a2', 'message': 'Add tag-ports-during-bulk-creation to devstack\n\nAdd tag-ports-during-bulk-creation to devstack\n\nChange-Id: I838de14f183f805c19411218edb815e190f8d650\n'}]",0,710677,d6e1523f78f09386c80f7ddebd810e025cd6c3a2,19,6,2,4694,,,0,"Add tag-ports-during-bulk-creation to devstack

Add tag-ports-during-bulk-creation to devstack

Change-Id: I838de14f183f805c19411218edb815e190f8d650
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/710677/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/lib/tag_ports_during_bulk_creation']",2,12d38d8e58b030e5ddcd1eb3c239abfb406590eb,tag-ports-during-bulk-creation-devstack-plugin,"function configure_tag_ports_during_bulk_creation { neutron_ml2_extension_driver_add ""tag_ports_during_bulk_creation"" } ",,7,0
openstack%2Fneutron-tempest-plugin~master~I99d633bdc0fbac7d7259210052be289c94b70a2b,openstack/neutron-tempest-plugin,master,I99d633bdc0fbac7d7259210052be289c94b70a2b,Helper class for BaseSecGroupRulesQuota tests.,MERGED,2020-02-20 09:55:46.000000000,2020-03-06 00:22:35.000000000,2020-03-06 00:22:35.000000000,"[{'_account_id': 4727}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 19118}, {'_account_id': 21302}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31450}]","[{'number': 1, 'created': '2020-02-20 09:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/af2bb87f08a4f6d7f9bad88d9b69733adbfc3112', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 2, 'created': '2020-02-23 10:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a022dc3be21c073a70558bb51e0e0d3efb748516', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 3, 'created': '2020-02-23 12:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/69432e004917ab42b8af9391d39120dfc58c257d', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 4, 'created': '2020-02-27 07:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/123befaeeccddeb30a28e5c581ced2c0771ff7a4', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 5, 'created': '2020-02-27 07:46:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/dee69e0f5c1eb5693355768aa8accc4cc2676820', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 6, 'created': '2020-03-01 08:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/913ea88c6c0e6a8495b93d4137026692b33c880d', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 7, 'created': '2020-03-03 06:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/22e2a434e400962ad08745f1bde16043e16b1f1a', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 8, 'created': '2020-03-03 06:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b3a88e74d773cc809fdc6c208054de295114dcac', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 9, 'created': '2020-03-03 06:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/56141acf48de2b19fd7b8aaf85526adc480a55cc', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 10, 'created': '2020-03-03 10:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ea8947100635e955196567cfc9fefa0a320e152b', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 11, 'created': '2020-03-03 12:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3250c6c28f3f5f477276e5ace7170642796abec8', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}, {'number': 12, 'created': '2020-03-04 07:42:12.000000000', 'files': ['neutron_tempest_plugin/api/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1b896ca1968affede6a611f3e1e717037c43ca84', 'message': 'Helper class for BaseSecGroupRulesQuota tests.\n\nThe helper class contain:\n-Get function of security group rules quota\n-Set function of security group rules quota\n-Increase & Decrease of security group rules quota\n\nChange-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b\n'}]",28,708828,1b896ca1968affede6a611f3e1e717037c43ca84,49,8,12,19118,,,0,"Helper class for BaseSecGroupRulesQuota tests.

The helper class contain:
-Get function of security group rules quota
-Set function of security group rules quota
-Increase & Decrease of security group rules quota

Change-Id: I99d633bdc0fbac7d7259210052be289c94b70a2b
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/28/708828/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_security_groups.py'],1,af2bb87f08a4f6d7f9bad88d9b69733adbfc3112,new_Helper_class_for_BaseSecGroupRulesQuota_tests," class BaseSecGroupRulesQuota(base.BaseAdminNetworkTest): def _create_max_allowed_sg_rules_amount(self): sg_rules_amount = self._get_sg_rules_amount() sg_rules_quota = self._get_sg_rules_quota() sg_rules_to_create = sg_rules_quota - sg_rules_amount self._create_security_group_rule(sg_rules_to_create) def _create_security_group_rule(self, amount): for i in range(amount): sg_rule = self.create_security_group_rule(**{ 'project_id': self.client.tenant_id, 'direction': 'ingress', 'port_range_max': 100+i, 'port_range_min': 100+i, 'protocol': 'tcp'}) def _increase_sg_rules_quota(self): sg_rules_quota = self._get_sg_rules_quota() new_sg_rules_quota = 2 * sg_rules_quota self._set_sg_rules_quota(new_sg_rules_quota) return new_sg_rules_quota def _decrease_sg_rules_quota(self): sg_rules_quota = self._get_sg_rules_quota() new_sg_rules_quota = sg_rules_quota // 2 self._set_sg_rules_quota(new_sg_rules_quota) return new_sg_rules_quota def _set_sg_rules_quota(self, val): sg_rules_quota = self._get_sg_rules_quota() project_id = self.client.tenant_id self.admin_client.update_quotas(project_id, **{'security_group_rule': val}) self.addCleanup(self.admin_client.update_quotas, project_id, **{'security_group_rule': sg_rules_quota}) def _get_sg_rules_quota(self): project_id = self.client.tenant_id quotas = self.admin_client.show_quotas(project_id) return quotas['quota']['security_group_rule'] def _get_sg_rules_amount(self): project_id = self.client.tenant_id filter_query = {'project_id': project_id} security_group_rules = self.client.list_security_group_rules( **filter_query) return len(security_group_rules['security_group_rules'])",,50,0
openstack%2Ftripleo-quickstart~master~Ia8d43951b22d50e1cd167961c447cc7362974939,openstack/tripleo-quickstart,master,Ia8d43951b22d50e1cd167961c447cc7362974939,Fix convert image package list,MERGED,2020-03-05 09:29:37.000000000,2020-03-06 00:12:35.000000000,2020-03-06 00:09:42.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 09:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fbcbe078e359ea607abea4d7e681ac1a6d278647', 'message': 'Fix convert image package list\n\nhttps://review.opendev.org/#/c/711078 converted\nit to string which made the wrong install command,\nthis patch converts it to list again so it works.\n\nChange-Id: Ia8d43951b22d50e1cd167961c447cc7362974939\n'}, {'number': 2, 'created': '2020-03-05 09:41:58.000000000', 'files': ['roles/convert-image/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d37944c41e7467a078ef02d312adc5ffe068555a', 'message': 'Fix convert image package list\n\nhttps://review.opendev.org/#/c/711078 converted\nit to string which made the wrong install command,\nthis patch converts it to list again so it works.\n\nChange-Id: Ia8d43951b22d50e1cd167961c447cc7362974939\n'}]",4,711408,d37944c41e7467a078ef02d312adc5ffe068555a,17,8,2,13861,,,0,"Fix convert image package list

https://review.opendev.org/#/c/711078 converted
it to string which made the wrong install command,
this patch converts it to list again so it works.

Change-Id: Ia8d43951b22d50e1cd167961c447cc7362974939
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/08/711408/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/convert-image/defaults/main.yml'],1,fbcbe078e359ea607abea4d7e681ac1a6d278647,,"convert_image_install_pkgs: - ""{{ 'python3-tripleoclient' if ansible_distribution_major_version|int >= 8 else 'python-tripleoclient' }}""","# <wes> notes this was a list, but is now a string # still should work w/ https://opendev.org/openstack/tripleo-quickstart/src/branch/master/roles/convert-image/templates/convert_image.sh.j2#L24 convert_image_install_pkgs: ""{{ 'python3-tripleoclient' if ansible_distribution_major_version|int >= 8 else 'python-tripleoclient' }}""",2,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia7cf78e1f5e46235147bdf67c03b58d774244774,openstack/tripleo-heat-templates,stable/train,Ia7cf78e1f5e46235147bdf67c03b58d774244774,Restart ovn-dbs resource to take new VIP property.,MERGED,2020-03-02 17:11:28.000000000,2020-03-06 00:09:41.000000000,2020-03-06 00:09:40.000000000,"[{'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 26343}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-03-02 17:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7985094b402a968b7ac74a6ba0758fe8843674bc', 'message': 'Restart ovn-dbs resource to take new VIP property.\n\nThe ovn-dbs pacemaker resource has a new dedicated VIP [0]\nwhich was added in Train. However, when upgrading from\nStein to Train this change is not being taken into account\nand the only way to get it is by restarting the resource\n\n[0] - I620e37117c26b5b51bf9e1eda91daeb00fdf0f43\n\nCloses-Bug: #1865458\nChange-Id: Ia7cf78e1f5e46235147bdf67c03b58d774244774\n(cherry picked from commit 967d2eb40d381ef680b098cccb3555a8a3d450e4)\n'}, {'number': 2, 'created': '2020-03-03 05:52:19.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aabb3cace59b22c109fe71ba915ecddc07c3726a', 'message': 'Restart ovn-dbs resource to take new VIP property.\n\nThe ovn-dbs pacemaker resource has a new dedicated VIP [0]\nwhich was added in Train. However, when upgrading from\nStein to Train this change is not being taken into account\nand the only way to get it is by restarting the resource\n\n[0] - I620e37117c26b5b51bf9e1eda91daeb00fdf0f43\n\nCloses-Bug: #1865458\nChange-Id: Ia7cf78e1f5e46235147bdf67c03b58d774244774\n(cherry picked from commit 967d2eb40d381ef680b098cccb3555a8a3d450e4)\n'}]",0,710835,aabb3cace59b22c109fe71ba915ecddc07c3726a,31,11,2,26343,,,0,"Restart ovn-dbs resource to take new VIP property.

The ovn-dbs pacemaker resource has a new dedicated VIP [0]
which was added in Train. However, when upgrading from
Stein to Train this change is not being taken into account
and the only way to get it is by restarting the resource

[0] - I620e37117c26b5b51bf9e1eda91daeb00fdf0f43

Closes-Bug: #1865458
Change-Id: Ia7cf78e1f5e46235147bdf67c03b58d774244774
(cherry picked from commit 967d2eb40d381ef680b098cccb3555a8a3d450e4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/710835/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,7985094b402a968b7ac74a6ba0758fe8843674bc,, post_upgrade_tasks: - name: Restart ovn-dbs service (pacemaker) when: - step|int == 1 - ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower pacemaker_resource: resource: ovn-dbs-bundle state: restart wait_for_resource: true,,10,0
openstack%2Ftripleo-ci~master~If22cb6a347c83a35733a97150eb0d3b491cb4f56,openstack/tripleo-ci,master,If22cb6a347c83a35733a97150eb0d3b491cb4f56,Add centos-8 scenario010 standalone jobs.,MERGED,2020-03-04 17:11:40.000000000,2020-03-06 00:09:39.000000000,2020-03-06 00:09:39.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 17:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/910271e966d185e14a0da1d3c633757056b20b5b', 'message': 'Add centos-8 scenario010 standalone jobs.\n\nChange-Id: If22cb6a347c83a35733a97150eb0d3b491cb4f56\nDepends-On: https://review.opendev.org/#/c/710980\n'}, {'number': 2, 'created': '2020-03-04 17:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/673b7ee71dd3dd6c7ebf08d95c438a35ee6cb6be', 'message': 'Add centos-8 scenario010 standalone jobs.\n\nDepends-On: https://review.opendev.org/#/c/711250\nDepends-On: https://review.opendev.org/#/c/710980\nChange-Id: If22cb6a347c83a35733a97150eb0d3b491cb4f56\n'}, {'number': 3, 'created': '2020-03-04 20:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7f13ce87609c51ad5dd4d62db08fcd2cabac5cd', 'message': 'Add centos-8 scenario010 standalone jobs.\n\nDepends-On: https://review.opendev.org/#/c/710913/\nChange-Id: If22cb6a347c83a35733a97150eb0d3b491cb4f56\n'}, {'number': 4, 'created': '2020-03-05 04:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7575402b1d8afc7630e67bf7e6def915012bffc6', 'message': 'Add centos-8 scenario010 standalone jobs.\n\nDepends-On: https://review.opendev.org/#/c/710913/\nChange-Id: If22cb6a347c83a35733a97150eb0d3b491cb4f56\n'}, {'number': 5, 'created': '2020-03-05 11:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a1a93d7926604a7e3fbca68c3132f3f07adb6cf9', 'message': 'Add centos-8 scenario010 standalone jobs.\n\nDepends-On: https://review.opendev.org/#/c/710913/\nChange-Id: If22cb6a347c83a35733a97150eb0d3b491cb4f56\n'}, {'number': 6, 'created': '2020-03-05 12:30:49.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4bc8738e362205d1ecd400301b9fd53642a24e1', 'message': 'Add centos-8 scenario010 standalone jobs.\n\nDepends-On: https://review.opendev.org/#/c/710913/\nChange-Id: If22cb6a347c83a35733a97150eb0d3b491cb4f56\n'}]",3,711287,b4bc8738e362205d1ecd400301b9fd53642a24e1,31,7,6,9976,,,0,"Add centos-8 scenario010 standalone jobs.

Depends-On: https://review.opendev.org/#/c/710913/
Change-Id: If22cb6a347c83a35733a97150eb0d3b491cb4f56
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/87/711287/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,910271e966d185e14a0da1d3c633757056b20b5b,c8-scenario010, - tripleo-ci-centos-8-scenario010-standalone: - tripleo-ci-centos-7-scenario010-standalone: files: *scen10_files - tripleo-ci-centos-8-scenario010-standalone: files: *scen10_files - tripleo-ci-centos-8-scenario010-standalone: branches: ^(stable/(stein|train)).*$ parent: tripleo-ci-base-standalone-centos-8 - job: name: tripleo-ci-centos-8-scenario010-standalone voting: true parent: tripleo-ci-base-standalone-centos-8 branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$ vars: tags: - build - standalone - octavia featureset: '062' standalone_ceph: true tempest_workers: 1 featureset_override: validate_services: false standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario010-standalone.yaml', - tripleo-ci-centos-7-scenario010-standalone: - tripleo-ci-centos-7-scenario010-standalone: branches: ^(?!stable/(newton|ocata|pike|queens|rocky)).*$ nodeset: single-centos-8-node parent: tripleo-ci-base-standalone nodeset: single-centos-8-node,28,6
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ic69a78435491d2dbcff80dc0a15098a3c2ebf213,openstack/tripleo-upgrade,stable/train,Ic69a78435491d2dbcff80dc0a15098a3c2ebf213,Replace Docker service by Podman in roles_data.,MERGED,2020-03-03 09:02:22.000000000,2020-03-05 23:55:10.000000000,2020-03-05 23:55:10.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-03 09:02:22.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b71fcfc55628c486dc99522eb43d9291b06b0d77', 'message': 'Replace Docker service by Podman in roles_data.\n\nIn Stein Podman passed to be the default containers engine [0].\nTherefore, if upgrading from a release which used Docker and\ncomposables roles, we need to replace the Docker service by the\nPodman one.\n\nThis patch does this replacement in the roles_data file used\nfor the upgrade prepare.\n\n[0] - Ie9f5d3b6380caa6824ca940ca48ed0fcf6308608\n\nChange-Id: Ic69a78435491d2dbcff80dc0a15098a3c2ebf213\n(cherry picked from commit baaea87b3564f1197c0236253e9f9b524b458a73)\n'}]",0,710955,b71fcfc55628c486dc99522eb43d9291b06b0d77,13,8,1,26343,,,0,"Replace Docker service by Podman in roles_data.

In Stein Podman passed to be the default containers engine [0].
Therefore, if upgrading from a release which used Docker and
composables roles, we need to replace the Docker service by the
Podman one.

This patch does this replacement in the roles_data file used
for the upgrade prepare.

[0] - Ie9f5d3b6380caa6824ca940ca48ed0fcf6308608

Change-Id: Ic69a78435491d2dbcff80dc0a15098a3c2ebf213
(cherry picked from commit baaea87b3564f1197c0236253e9f9b524b458a73)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/710955/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,b71fcfc55628c486dc99522eb43d9291b06b0d77,,"- name: Replace Docker for Podman service replace: path: ""{{ roles_data }}"" regexp: '(\s+)(- OS::TripleO::Services::Docker$)' replace: '\1- OS::TripleO::Services::Podman' ",,6,0
openstack%2Ftripleo-heat-templates~master~Ia7e96808eec933c834251b1364f331c196789159,openstack/tripleo-heat-templates,master,Ia7e96808eec933c834251b1364f331c196789159,Remove comment about tripleo_container_manage being experimental,MERGED,2020-02-18 21:33:24.000000000,2020-03-05 23:20:59.000000000,2020-02-20 22:07:40.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-18 21:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1e3fb23e2ed9c66924d9160b4f580c6e409ead8', 'message': ""Remove comment about tripleo_container_manage being experimental\n\nWe now have solid testing and have several gating jobs which test this\nfunctionality, we can remove the comment that says it's experimental.\n\nChange-Id: Ia7e96808eec933c834251b1364f331c196789159\n""}, {'number': 2, 'created': '2020-02-19 11:31:17.000000000', 'files': ['common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83e56a4bbe96b5fdc7b73d9c63572c670b70b6fe', 'message': ""Remove comment about tripleo_container_manage being experimental\n\nWe now have solid testing and have several gating jobs which test this\nfunctionality, we can remove the comment that says it's experimental.\n\nChange-Id: Ia7e96808eec933c834251b1364f331c196789159\n""}]",0,708521,83e56a4bbe96b5fdc7b73d9c63572c670b70b6fe,12,4,2,3153,,,0,"Remove comment about tripleo_container_manage being experimental

We now have solid testing and have several gating jobs which test this
functionality, we can remove the comment that says it's experimental.

Change-Id: Ia7e96808eec933c834251b1364f331c196789159
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/708521/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-tasks.yaml'],1,f1e3fb23e2ed9c66924d9160b4f580c6e409ead8,experi,," # This is experimental, do not use for production now",0,1
openstack%2Fneutron~stable%2Ftrain~Ic821f8ca84add9c8137ef712031afb43e491591c,openstack/neutron,stable/train,Ic821f8ca84add9c8137ef712031afb43e491591c,Re-use existing ProcessLauncher from wsgi in RPC workers,MERGED,2020-02-19 07:58:41.000000000,2020-03-05 22:56:14.000000000,2020-03-05 22:54:04.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-19 07:58:41.000000000', 'files': ['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/13f2e1344a697c8c7adf795100e3e0ee92bdc43f', 'message': 'Re-use existing ProcessLauncher from wsgi in RPC workers\n\nIf both are run under the same process, and api_workers >= 2, the server\nprocess will instantiate two oslo_service.ProcessLauncher instances\n\nThis should be avoided [0], and indeed causes issues on subprocess and\nsignal handling: killed RPC workers not respawning, SIGHUP on master\nprocess leading to unresponsive server, signal not properly sent to all\nchild processes, ...\n\nTo avoid this, use the wsgi ProcessLauncher instance if it exists\n\n[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers\n\nChange-Id: Ic821f8ca84add9c8137ef712031afb43e491591c\nCloses-Bug: #1780139\n(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)\n'}]",0,708570,13f2e1344a697c8c7adf795100e3e0ee92bdc43f,76,7,1,21798,,,0,"Re-use existing ProcessLauncher from wsgi in RPC workers

If both are run under the same process, and api_workers >= 2, the server
process will instantiate two oslo_service.ProcessLauncher instances

This should be avoided [0], and indeed causes issues on subprocess and
signal handling: killed RPC workers not respawning, SIGHUP on master
process leading to unresponsive server, signal not properly sent to all
child processes, ...

To avoid this, use the wsgi ProcessLauncher instance if it exists

[0] https://docs.openstack.org/oslo.service/latest/user/usage.html#launchers

Change-Id: Ic821f8ca84add9c8137ef712031afb43e491591c
Closes-Bug: #1780139
(cherry picked from commit 13aa00026f768642f385259ba7ccddcfdad3c75f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/708570/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/server/wsgi_eventlet.py', 'neutron/wsgi.py', 'neutron/service.py']",3,13f2e1344a697c8c7adf795100e3e0ee92bdc43f,bug/1780139-stable/train,"def _start_workers(workers, neutron_api=None): # Get eventual already existing instance from WSGI app worker_launcher = None if neutron_api: worker_launcher = neutron_api.wsgi_app.process_launcher if worker_launcher is None: worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0, restart_method='mutate' )def start_all_workers(neutron_api=None): launcher = _start_workers(workers, neutron_api)","def _start_workers(workers): worker_launcher = common_service.ProcessLauncher( cfg.CONF, wait_interval=1.0, restart_method='mutate' )def start_all_workers(): launcher = _start_workers(workers)",18,7
openstack%2Fdesignate~stable%2Frocky~I0c7b45d3125ff1e007d44064a7653c1b2b07c770,openstack/designate,stable/rocky,I0c7b45d3125ff1e007d44064a7653c1b2b07c770,Clean up zone locking,MERGED,2019-05-20 16:50:06.000000000,2020-03-05 22:32:44.000000000,2020-03-05 22:32:44.000000000,"[{'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 15736}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-05-20 16:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/87dac16100ced0cc9d0c025f0ec78df589ec6290', 'message': ""Clean up zone locking\n\nUpdated the decorator to log something more appropriate when locking during\nzone creation. The existing implementation would log 'zone-None', this\nchanges it to 'create-new-zone'.\n\nWe also add a try/finally catch statement to make sure the lock is always\nreleased when done.\n\n* Changed lock name to be more appropriate when creating new zones.\n* Implement try/finally pattern to make sure lock is always released.\n\nChange-Id: I0c7b45d3125ff1e007d44064a7653c1b2b07c770\n""}, {'number': 2, 'created': '2020-02-27 12:49:05.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/5bb39c18fb674ce9eca62419c049e72b02b2f8c4', 'message': ""Clean up zone locking\n\nUpdated the decorator to log something more appropriate when locking during\nzone creation. The existing implementation would log 'zone-None', this\nchanges it to 'create-new-zone'.\n\nWe also add a try/finally catch statement to make sure the lock is always\nreleased when done.\n\n* Changed lock name to be more appropriate when creating new zones.\n* Implement try/finally pattern to make sure lock is always released.\n\nDepends-On: https://review.opendev.org/#/c/710243/\nChange-Id: I0c7b45d3125ff1e007d44064a7653c1b2b07c770\n""}]",1,660172,5bb39c18fb674ce9eca62419c049e72b02b2f8c4,31,7,2,8099,,,0,"Clean up zone locking

Updated the decorator to log something more appropriate when locking during
zone creation. The existing implementation would log 'zone-None', this
changes it to 'create-new-zone'.

We also add a try/finally catch statement to make sure the lock is always
released when done.

* Changed lock name to be more appropriate when creating new zones.
* Implement try/finally pattern to make sure lock is always released.

Depends-On: https://review.opendev.org/#/c/710243/
Change-Id: I0c7b45d3125ff1e007d44064a7653c1b2b07c770
",git fetch https://review.opendev.org/openstack/designate refs/changes/72/660172/2 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,87dac16100ced0cc9d0c025f0ec78df589ec6290,660172," if zone_id: if zone_id: if not zone_id and len(args) > zone_arg: if new_zone and not zone_id: lock_name = 'create-new-zone' elif not new_zone and zone_id: lock_name = 'zone-%s' % zone_id else: with lockutils.lock(lock_name): try: return f(self, *args, **kwargs) finally:"," if zone_id is not None: if zone_id is not None: if zone_id is None and len(args) > zone_arg: if not new_zone and zone_id is None: # Call the wrapped function else: with lockutils.lock('zone-%s' % zone_id): # Call the wrapped function result = f(self, *args, **kwargs) return result",13,18
openstack%2Fopenstack-helm-infra~master~I48a7db1514857e082cecbb3b57deff9174509601,openstack/openstack-helm-infra,master,I48a7db1514857e082cecbb3b57deff9174509601,Grafana: Change to import the dashboards in json raw format,MERGED,2020-02-26 19:05:03.000000000,2020-03-05 22:31:30.000000000,2020-03-05 22:28:54.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28849}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-26 19:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e338c9b7fc2d6129fae6bdddd34ff49a40d81513', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 2, 'created': '2020-02-26 19:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a8f9a38ee0d2bdf14c4ae8c085d100fb086ea742', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 3, 'created': '2020-02-26 19:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b39f989f5e1807c7404ae3c4cef1427ffc268756', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 4, 'created': '2020-02-26 20:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/21f57fd63ec161ad609cdf1a272f2c5b7f30a5e0', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 5, 'created': '2020-02-26 22:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1cd628c565adf4c6d4557e817ab20b0d909a9c47', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 6, 'created': '2020-02-27 00:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43342384d81f2fd918866e02cb290a3a70c6a330', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 7, 'created': '2020-02-27 00:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/75ff7830a1a8dfaba23532df11028ed2e4069069', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 8, 'created': '2020-02-27 00:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f2c4dd66f655bec0dd83dd503e7d230608e0400', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 9, 'created': '2020-02-27 14:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/238950fe3e44916ec2f06b91aaeed53978ca78ff', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 10, 'created': '2020-02-27 18:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4de3022c435142382483aaa529ef167a6b5811b7', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 11, 'created': '2020-02-28 14:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e272091e7ca2735c1c9c4d825c79024ae780ce12', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 12, 'created': '2020-02-29 00:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c2fc259c770e728fbd2aebda1fece93904ac458', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 13, 'created': '2020-02-29 01:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae8bfdc6844a8cc43c07f7fdca8950f6ff7e3711', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 14, 'created': '2020-02-29 02:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/903236b56d5504e0ad4a07eef28702a65ce51b5f', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 15, 'created': '2020-02-29 04:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ae130bf3facff7a5c81620d6ba3dfcef23e38c80', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 16, 'created': '2020-02-29 18:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4b58e6027dd484f5a8348f78a0ce8b2b1c551748', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 17, 'created': '2020-03-02 15:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/656e89f1a73e6d58c62bbf01d91de7ce86653835', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 18, 'created': '2020-03-02 21:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28aa8e5637d19f3f92d1006acbc992f64fc79cff', 'message': '[WIP/DNM] Grafana: Change to import the json dashboards\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\nAll the exisiting dashboards under values_override folder are updated to\nuse raw json format.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 19, 'created': '2020-03-02 23:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b313b7dd3ea6eeabdb0629001a86afa10ce5dd1', 'message': 'Grafana: Change to import the dashboards in json raw format\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\nAll the exisiting dashboards under values_override folder are updated to\nuse raw json format.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 20, 'created': '2020-03-03 00:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/adb9590f8dc7762c028b01cfdeed0b80b2f5a4eb', 'message': 'Grafana: Change to import the dashboards in json raw format\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\nAll the exisiting dashboards under values_override folder are updated to\nuse raw json format.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 21, 'created': '2020-03-03 03:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee1cc6cbb54203cd474ea727a72bcae4ef372ffa', 'message': 'Grafana: Change to import the dashboards in json raw format\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\nAll the exisiting dashboards under values_override folder are updated to\nuse raw json format.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 22, 'created': '2020-03-03 14:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8232ea960cbd7205743acc7d0a39be91fd85750c', 'message': 'Grafana: Change to import the dashboards in json raw format\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\nAll the exisiting dashboards under values_override folder are updated to\nuse raw json format.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 23, 'created': '2020-03-03 20:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7bdbf2f3b66437e009a3b3378fe1ce77532b980', 'message': 'Grafana: Change to import the dashboards in json raw format\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\nAll the exisiting dashboards under values_override folder are updated to\nuse raw json format.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}, {'number': 24, 'created': '2020-03-04 15:52:40.000000000', 'files': ['grafana/values_overrides/containers.yaml', 'grafana/templates/configmap-dashboards.yaml', 'grafana/values.yaml', 'grafana/values_overrides/nginx.yaml', 'grafana/templates/configmap-etc.yaml', 'grafana/templates/deployment.yaml', 'grafana/values_overrides/ceph.yaml', 'grafana/values_overrides/persistentvolume.yaml', 'grafana/values_overrides/prometheus.yaml', 'grafana/values_overrides/nodes.yaml', 'grafana/values_overrides/calico.yaml', 'grafana/values_overrides/elasticsearch.yaml', 'grafana/values_overrides/coredns.yaml', 'grafana/values_overrides/kubernetes.yaml', 'grafana/values_overrides/home_dashboard.yaml', 'tools/deployment/osh-infra-monitoring/110-grafana.sh', 'grafana/values_overrides/openstack.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc9e435abbf41eaa0a283b0bf0a95141d55b4c4a', 'message': 'Grafana: Change to import the dashboards in json raw format\n\nThis code change is to enable grafana to use the raw json format\ndashboards . This is to avoid the conversion of dashboards from json to\nyaml and back to json during which the format is encountering issue.\nAlso this will help in adding new dashboards and maintaining the old\nones.\nAll the exisiting dashboards under values_override folder are updated to\nuse raw json format.\n\nChange-Id: I48a7db1514857e082cecbb3b57deff9174509601\n'}]",1,710118,dc9e435abbf41eaa0a283b0bf0a95141d55b4c4a,59,7,24,30582,,,0,"Grafana: Change to import the dashboards in json raw format

This code change is to enable grafana to use the raw json format
dashboards . This is to avoid the conversion of dashboards from json to
yaml and back to json during which the format is encountering issue.
Also this will help in adding new dashboards and maintaining the old
ones.
All the exisiting dashboards under values_override folder are updated to
use raw json format.

Change-Id: I48a7db1514857e082cecbb3b57deff9174509601
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/18/710118/7 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/templates/configmap-etc.yaml', 'tools/deployment/osh-infra-monitoring/110-grafana.sh', 'grafana/values_overrides/etcd.yaml']",3,e338c9b7fc2d6129fae6bdddd34ff49a40d81513,grafana_json,"# This overrides file provides a raw json file for a dashboard for # the etcd conf: dashboards: etcd.json: |- { ""__inputs"": [ { ""name"": ""prometheus"", ""label"": ""Prometheus"", ""description"": """", ""type"": ""datasource"", ""pluginId"": ""prometheus"", ""pluginName"": ""Prometheus"" } ], ""__requires"": [ { ""type"": ""grafana"", ""id"": ""grafana"", ""name"": ""Grafana"", ""version"": ""5.0.0"" }, { ""type"": ""panel"", ""id"": ""graph"", ""name"": ""Graph"", ""version"": """" }, { ""type"": ""datasource"", ""id"": ""prometheus"", ""name"": ""Prometheus"", ""version"": ""1.0.0"" } ] } { ""annotations"": { ""list"": [] }, ""description"": ""etcd sample Grafana dashboard with Prometheus"", ""editable"": true, ""gnetId"": null, ""hideControls"": false, ""id"": 6, ""links"": [], ""refresh"": ""10s"", ""rows"": [ { ""collapse"": false, ""editable"": true, ""height"": ""250px"", ""panels"": [ { ""cacheTimeout"": null, ""colorBackground"": false, ""colorValue"": false, ""colors"": [ ""rgba(245, 54, 54, 0.9)"", ""rgba(237, 129, 40, 0.89)"", ""rgba(50, 172, 45, 0.97)"" ], ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""format"": ""none"", ""gauge"": { ""maxValue"": 100, ""minValue"": 0, ""show"": false, ""thresholdLabels"": false, ""thresholdMarkers"": true }, ""id"": 28, ""interval"": null, ""isNew"": true, ""links"": [], ""mappingType"": 1, ""mappingTypes"": [ { ""name"": ""value to text"", ""value"": 1 }, { ""name"": ""range to text"", ""value"": 2 } ], ""maxDataPoints"": 100, ""nullPointMode"": ""connected"", ""nullText"": null, ""postfix"": """", ""postfixFontSize"": ""50%"", ""prefix"": """", ""prefixFontSize"": ""50%"", ""rangeMaps"": [ { ""from"": ""null"", ""text"": ""N/A"", ""to"": ""null"" } ], ""span"": 3, ""sparkline"": { ""fillColor"": ""rgba(31, 118, 189, 0.18)"", ""full"": false, ""lineColor"": ""rgb(31, 120, 193)"", ""show"": false }, ""targets"": [ { ""expr"": ""sum(etcd_server_has_leader{job=\""$cluster\""})"", ""intervalFactor"": 2, ""legendFormat"": """", ""metric"": ""etcd_server_has_leader"", ""refId"": ""A"", ""step"": 20 } ], ""thresholds"": """", ""title"": ""Up"", ""type"": ""singlestat"", ""valueFontSize"": ""200%"", ""valueMaps"": [ { ""op"": ""="", ""text"": ""N/A"", ""value"": ""null"" } ], ""valueName"": ""avg"" }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 0, ""id"": 23, ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 5, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""expr"": ""sum(rate(grpc_server_started_total{job=\""$cluster\"",grpc_type=\""unary\""}[5m]))"", ""format"": ""time_series"", ""intervalFactor"": 2, ""legendFormat"": ""RPC Rate"", ""metric"": ""grpc_server_started_total"", ""refId"": ""A"", ""step"": 2 }, { ""expr"": ""sum(rate(grpc_server_handled_total{job=\""$cluster\"",grpc_type=\""unary\"",grpc_code!=\""OK\""}[5m]))"", ""format"": ""time_series"", ""intervalFactor"": 2, ""legendFormat"": ""RPC Failed Rate"", ""metric"": ""grpc_server_handled_total"", ""refId"": ""B"", ""step"": 2 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""RPC Rate"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""ops"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 0, ""id"": 41, ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 4, ""stack"": true, ""steppedLine"": false, ""targets"": [ { ""expr"": ""sum(grpc_server_started_total{job=\""$cluster\"",grpc_service=\""etcdserverpb.Watch\"",grpc_type=\""bidi_stream\""}) - sum(grpc_server_handled_total{job=\""$cluster\"",grpc_service=\""etcdserverpb.Watch\"",grpc_type=\""bidi_stream\""})"", ""intervalFactor"": 2, ""legendFormat"": ""Watch Streams"", ""metric"": ""grpc_server_handled_total"", ""refId"": ""A"", ""step"": 4 }, { ""expr"": ""sum(grpc_server_started_total{job=\""$cluster\"",grpc_service=\""etcdserverpb.Lease\"",grpc_type=\""bidi_stream\""}) - sum(grpc_server_handled_total{job=\""$cluster\"",grpc_service=\""etcdserverpb.Lease\"",grpc_type=\""bidi_stream\""})"", ""intervalFactor"": 2, ""legendFormat"": ""Lease Streams"", ""metric"": ""grpc_server_handled_total"", ""refId"": ""B"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Active Streams"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""short"", ""label"": """", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] } ], ""showTitle"": false, ""title"": ""Row"" }, { ""collapse"": false, ""editable"": true, ""height"": ""250px"", ""panels"": [ { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""decimals"": null, ""editable"": true, ""error"": false, ""fill"": 0, ""grid"": {}, ""id"": 1, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 4, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""expr"": ""etcd_mvcc_db_total_size_in_bytes{job=\""$cluster\""}"", ""hide"": false, ""interval"": """", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} DB Size"", ""metric"": """", ""refId"": ""A"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""DB Size"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""cumulative"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""bytes"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": false } ] }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 0, ""grid"": {}, ""id"": 3, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 1, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 4, ""stack"": false, ""steppedLine"": true, ""targets"": [ { ""expr"": ""histogram_quantile(0.99, sum(rate(etcd_disk_wal_fsync_duration_seconds_bucket{job=\""$cluster\""}[5m])) by (instance, le))"", ""hide"": false, ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} WAL fsync"", ""metric"": ""etcd_disk_wal_fsync_duration_seconds_bucket"", ""refId"": ""A"", ""step"": 4 }, { ""expr"": ""histogram_quantile(0.99, sum(rate(etcd_disk_backend_commit_duration_seconds_bucket{job=\""$cluster\""}[5m])) by (instance, le))"", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} DB fsync"", ""metric"": ""etcd_disk_backend_commit_duration_seconds_bucket"", ""refId"": ""B"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Disk Sync Duration"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""cumulative"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""s"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": false } ] }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 0, ""id"": 29, ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 4, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""expr"": ""process_resident_memory_bytes{job=\""$cluster\""}"", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} Resident Memory"", ""metric"": ""process_resident_memory_bytes"", ""refId"": ""A"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Memory"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""bytes"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] } ], ""title"": ""New row"" }, { ""collapse"": false, ""editable"": true, ""height"": ""250px"", ""panels"": [ { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 5, ""id"": 22, ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 3, ""stack"": true, ""steppedLine"": false, ""targets"": [ { ""expr"": ""rate(etcd_network_client_grpc_received_bytes_total{job=\""$cluster\""}[5m])"", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} Client Traffic In"", ""metric"": ""etcd_network_client_grpc_received_bytes_total"", ""refId"": ""A"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Client Traffic In"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""Bps"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 5, ""id"": 21, ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 3, ""stack"": true, ""steppedLine"": false, ""targets"": [ { ""expr"": ""rate(etcd_network_client_grpc_sent_bytes_total{job=\""$cluster\""}[5m])"", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} Client Traffic Out"", ""metric"": ""etcd_network_client_grpc_sent_bytes_total"", ""refId"": ""A"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Client Traffic Out"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""Bps"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 0, ""id"": 20, ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 3, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""expr"": ""sum(rate(etcd_network_peer_received_bytes_total{job=\""$cluster\""}[5m])) by (instance)"", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} Peer Traffic In"", ""metric"": ""etcd_network_peer_received_bytes_total"", ""refId"": ""A"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Peer Traffic In"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""Bps"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""decimals"": null, ""editable"": true, ""error"": false, ""fill"": 0, ""grid"": {}, ""id"": 16, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 3, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""expr"": ""sum(rate(etcd_network_peer_sent_bytes_total{job=\""$cluster\""}[5m])) by (instance)"", ""hide"": false, ""interval"": """", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} Peer Traffic Out"", ""metric"": ""etcd_network_peer_sent_bytes_total"", ""refId"": ""A"", ""step"": 4 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Peer Traffic Out"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""cumulative"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""Bps"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] } ], ""title"": ""New row"" }, { ""collapse"": false, ""editable"": true, ""height"": ""250px"", ""panels"": [ { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""editable"": true, ""error"": false, ""fill"": 0, ""id"": 40, ""isNew"": true, ""legend"": { ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 6, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""expr"": ""sum(rate(etcd_server_proposals_failed_total{job=\""$cluster\""}[5m]))"", ""intervalFactor"": 2, ""legendFormat"": ""Proposal Failure Rate"", ""metric"": ""etcd_server_proposals_failed_total"", ""refId"": ""A"", ""step"": 2 }, { ""expr"": ""sum(etcd_server_proposals_pending{job=\""$cluster\""})"", ""intervalFactor"": 2, ""legendFormat"": ""Proposal Pending Total"", ""metric"": ""etcd_server_proposals_pending"", ""refId"": ""B"", ""step"": 2 }, { ""expr"": ""sum(rate(etcd_server_proposals_committed_total{job=\""$cluster\""}[5m]))"", ""intervalFactor"": 2, ""legendFormat"": ""Proposal Commit Rate"", ""metric"": ""etcd_server_proposals_committed_total"", ""refId"": ""C"", ""step"": 2 }, { ""expr"": ""sum(rate(etcd_server_proposals_applied_total{job=\""$cluster\""}[5m]))"", ""intervalFactor"": 2, ""legendFormat"": ""Proposal Apply Rate"", ""refId"": ""D"", ""step"": 2 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Raft Proposals"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""short"", ""label"": """", ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] }, { ""aliasColors"": {}, ""bars"": false, ""datasource"": ""$datasource"", ""decimals"": 0, ""editable"": true, ""error"": false, ""fill"": 0, ""id"": 19, ""isNew"": true, ""legend"": { ""alignAsTable"": false, ""avg"": false, ""current"": false, ""max"": false, ""min"": false, ""rightSide"": false, ""show"": false, ""total"": false, ""values"": false }, ""lines"": true, ""linewidth"": 2, ""links"": [], ""nullPointMode"": ""connected"", ""percentage"": false, ""pointradius"": 5, ""points"": false, ""renderer"": ""flot"", ""seriesOverrides"": [], ""span"": 6, ""stack"": false, ""steppedLine"": false, ""targets"": [ { ""expr"": ""changes(etcd_server_leader_changes_seen_total{job=\""$cluster\""}[1d])"", ""intervalFactor"": 2, ""legendFormat"": ""{{`{{instance}}`}} Total Leader Elections Per Day"", ""metric"": ""etcd_server_leader_changes_seen_total"", ""refId"": ""A"", ""step"": 2 } ], ""thresholds"": [], ""timeFrom"": null, ""timeShift"": null, ""title"": ""Total Leader Elections Per Day"", ""tooltip"": { ""msResolution"": false, ""shared"": true, ""sort"": 0, ""value_type"": ""individual"" }, ""type"": ""graph"", ""xaxis"": { ""mode"": ""time"", ""name"": null, ""show"": true, ""values"": [] }, ""yaxes"": [ { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true }, { ""format"": ""short"", ""label"": null, ""logBase"": 1, ""max"": null, ""min"": null, ""show"": true } ] } ], ""title"": ""New row"" } ], ""schemaVersion"": 13, ""sharedCrosshair"": false, ""style"": ""dark"", ""tags"": [], ""templating"": { ""list"": [ { ""current"": { ""text"": ""Prometheus"", ""value"": ""Prometheus"" }, ""hide"": 0, ""label"": null, ""name"": ""datasource"", ""options"": [], ""query"": ""prometheus"", ""refresh"": 1, ""regex"": """", ""type"": ""datasource"" }, { ""allValue"": null, ""current"": { ""text"": ""prod"", ""value"": ""prod"" }, ""datasource"": ""$datasource"", ""hide"": 0, ""includeAll"": false, ""label"": ""cluster"", ""multi"": false, ""name"": ""cluster"", ""options"": [], ""query"": ""label_values(etcd_server_has_leader, job)"", ""refresh"": 1, ""regex"": """", ""sort"": 2, ""tagValuesQuery"": """", ""tags"": [], ""tagsQuery"": """", ""type"": ""query"", ""useTags"": false } ] }, ""time"": { ""from"": ""now-15m"", ""to"": ""now"" }, ""timepicker"": { ""now"": true, ""refresh_intervals"": [ ""5s"", ""10s"", ""30s"", ""1m"", ""5m"", ""15m"", ""30m"", ""1h"", ""2h"", ""1d"" ], ""time_options"": [ ""5m"", ""15m"", ""1h"", ""6h"", ""12h"", ""24h"", ""2d"", ""7d"", ""30d"" ] }, ""timezone"": ""browser"", ""title"": ""etcd"", ""version"": 215 } ",,1132,2
openstack%2Ftripleo-heat-templates~master~Id8e76ae7c41a562f5c47d911c42aa18001c11be1,openstack/tripleo-heat-templates,master,Id8e76ae7c41a562f5c47d911c42aa18001c11be1,Jinja automation for %network%NetworkVlanId,MERGED,2019-03-21 12:31:31.000000000,2020-03-05 22:21:57.000000000,2019-04-08 21:10:14.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-03-21 12:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d189f78678da877eeff6fd67207515b434ae8f69', 'message': ""Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nChanges the default vlan id in nic config templates to ''.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n""}, {'number': 2, 'created': '2019-03-21 13:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c750a9da82b74036ca6f860b4e5d49701743f229', 'message': ""Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nChanges the default vlan id in nic config templates to ''.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n""}, {'number': 3, 'created': '2019-03-21 16:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ecd27a4c05127b43514375c2dfb4324fb19587a', 'message': 'Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nChanges the default vlan id in nic config templates to 1.\nAlso use type: number for all vlan parameters.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n'}, {'number': 4, 'created': '2019-03-21 16:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f8300b01c96c13a978d3391c31a918cba501d2e', 'message': 'Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nChanges the default vlan id in nic config templates to 1.\nAlso use type: number for all vlan parameters.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n'}, {'number': 5, 'created': '2019-03-25 22:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3387badaca4454bf22f04c1e7539f0d6b465f509', 'message': 'Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nChanges the default vlan id in nic config templates to 1.\nAlso use type: number for all vlan parameters.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n'}, {'number': 6, 'created': '2019-03-26 15:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34aede88b8b24ff51f37d6e2fdf49e038f3186fd', 'message': 'Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nChanges the default vlan id in nic config templates to 1.\nAlso use type: number for all vlan parameters.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n'}, {'number': 7, 'created': '2019-04-02 22:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ae5f7deaf67c0a6f42b0f80a8a28ecf7ae42584', 'message': 'Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n'}, {'number': 8, 'created': '2019-04-02 22:37:37.000000000', 'files': ['ci/common/net-config-multinode.yaml', 'ci/common/net-config-simple-bridge.yaml', 'network/network.j2', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'network/config/multiple-nics/controller-v6.j2.yaml', 'network/config/single-nic-vlans/controller-v6.j2.yaml', 'puppet/role.role.j2.yaml', 'ci/common/net-config-multinode-os-net-config.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'network/config/bond-with-vlans/controller-v6.j2.yaml', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'network/config/single-nic-linux-bridge-vlans/controller-v6.j2.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59c5e23c54d09e32e4197eb9ddcd8d6459c1e80b', 'message': 'Jinja automation for %network%NetworkVlanId\n\nPer-subnet vlan id parameters are already rendered in\nnetwork-environment.yaml. This change uses networks data\nand roles data so that per-subnet vlan id param is used\nwhen passing the relevant NetworkVlanId data to nic-config\ntemplates.\n\nBy using the generic %network%NetworkVlanId (no subnet suffix)\nin nic-config templates instead of %network%NetworkVlanId_%subnet%,\nthis allow homogeneous computes in multiple sites to use the\nsame nic-config template.\n\nAlso use type: number for all vlan parameters.\n\nCloses-Bug: #1821043\nChange-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1\n'}]",7,645159,59c5e23c54d09e32e4197eb9ddcd8d6459c1e80b,41,7,8,24245,,,0,"Jinja automation for %network%NetworkVlanId

Per-subnet vlan id parameters are already rendered in
network-environment.yaml. This change uses networks data
and roles data so that per-subnet vlan id param is used
when passing the relevant NetworkVlanId data to nic-config
templates.

By using the generic %network%NetworkVlanId (no subnet suffix)
in nic-config templates instead of %network%NetworkVlanId_%subnet%,
this allow homogeneous computes in multiple sites to use the
same nic-config template.

Also use type: number for all vlan parameters.

Closes-Bug: #1821043
Change-Id: Id8e76ae7c41a562f5c47d911c42aa18001c11be1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/645159/3 && git format-patch -1 --stdout FETCH_HEAD,"['network/network.j2', 'network/config/single-nic-vlans/controller-no-external.j2.yaml', 'puppet/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/ceph-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute-dvr.yaml', 'ci/environments/network/multiple-nics/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/ceph-storage.yaml', 'network/config/bond-with-vlans/controller-no-external.j2.yaml', 'network/config/bond-with-vlans/controller-v6.j2.yaml', 'ci/environments/network/public-bond/nic-configs/swift-storage.yaml', 'network/config/multiple-nics/compute-dvr.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/compute.yaml', 'network/config/multiple-nics/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/swift-storage.yaml', 'ci/environments/network/public-bond/nic-configs/controller.yaml', 'ci/environments/network/public-bond/nic-configs/compute.yaml', 'network/config/2-linux-bonds-vlans/role.role.j2.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/compute-dvr.yaml', 'ci/environments/network/public-bond/nic-configs/cinder-storage.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics/nic-configs/cinder-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/role.role.j2.yaml', 'network/config/multiple-nics/controller-v6.j2.yaml', 'network/config/single-nic-vlans/controller-v6.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/controller.yaml', 'ci/environments/network/multiple-nics-ipv6/nic-configs/cinder-storage.yaml', 'network/config/single-nic-vlans/role.role.j2.yaml', 'network/config/bond-with-vlans/role.role.j2.yaml', 'ci/environments/network/multiple-nics/nic-configs/ceph-storage.yaml', 'network/config/single-nic-linux-bridge-vlans/controller-v6.j2.yaml']",31,d189f78678da877eeff6fd67207515b434ae8f69,bug/1821043, default: '', default: {{network.vlan}},97,67
openstack%2Freleases~master~I5f8ca373af9d9fa539713fbf00e50ccc224506e3,openstack/releases,master,I5f8ca373af9d9fa539713fbf00e50ccc224506e3,[vitrage] Transition Rocky to EM,MERGED,2020-02-26 01:11:36.000000000,2020-03-05 22:15:12.000000000,2020-03-05 22:15:12.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6794aa700a0faefc47a0278401723978554d68f0', 'message': '[vitrage] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5f8ca373af9d9fa539713fbf00e50ccc224506e3\n'}, {'number': 2, 'created': '2020-02-29 14:31:30.000000000', 'files': ['deliverables/rocky/python-vitrageclient.yaml', 'deliverables/rocky/vitrage.yaml', 'deliverables/rocky/vitrage-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c6e05b04f09f1949ece286da9102eb92bbc0fa4b', 'message': '[vitrage] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I5f8ca373af9d9fa539713fbf00e50ccc224506e3\n'}]",1,709924,c6e05b04f09f1949ece286da9102eb92bbc0fa4b,13,5,2,11904,,,0,"[vitrage] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I5f8ca373af9d9fa539713fbf00e50ccc224506e3
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/709924/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/python-vitrageclient.yaml', 'deliverables/rocky/vitrage.yaml', 'deliverables/rocky/vitrage-dashboard.yaml', 'deliverables/rocky/vitrage-tempest-plugin.yaml']",4,6794aa700a0faefc47a0278401723978554d68f0,rocky-em, - version: rocky-em projects: - repo: openstack/vitrage-tempest-plugin hash: 1f78e663ad28df4d1a1261f384e170b911c5cc0e,,16,0
openstack%2Freleases~master~Ifb1790af883f4067a1d26c3684a86382b7ef5d7f,openstack/releases,master,Ifb1790af883f4067a1d26c3684a86382b7ef5d7f,[congress] Transition Rocky to EM,MERGED,2020-02-26 00:59:52.000000000,2020-03-05 22:15:11.000000000,2020-03-05 22:15:11.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 00:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e4076413752e63fff78cb4f62626a0bb6663f992', 'message': '[congress] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ifb1790af883f4067a1d26c3684a86382b7ef5d7f\n'}, {'number': 2, 'created': '2020-02-26 17:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4db0139ad19138807af93bdcd550136ecb189539', 'message': '[congress] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ifb1790af883f4067a1d26c3684a86382b7ef5d7f\n'}, {'number': 3, 'created': '2020-02-29 14:21:19.000000000', 'files': ['deliverables/rocky/python-congressclient.yaml', 'deliverables/rocky/congress.yaml', 'deliverables/rocky/congress-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/fe83b963aa0895b078fa122ee6b8bd333a5fbcdc', 'message': '[congress] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ifb1790af883f4067a1d26c3684a86382b7ef5d7f\n'}]",2,709884,fe83b963aa0895b078fa122ee6b8bd333a5fbcdc,16,6,3,11904,,,0,"[congress] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ifb1790af883f4067a1d26c3684a86382b7ef5d7f
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/709884/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/congress.yaml', 'deliverables/rocky/congress-dashboard.yaml', 'deliverables/rocky/congress-tempest-plugin.yaml']",3,e4076413752e63fff78cb4f62626a0bb6663f992,rocky-em, - version: rocky-em projects: - repo: openstack/congress-tempest-plugin hash: 284000148ee2e1e8625189fdf423d6d1099b787f,,12,0
openstack%2Freleases~master~I1947d65865c3ed07b067b834daaebfac67fc01da,openstack/releases,master,I1947d65865c3ed07b067b834daaebfac67fc01da,[keystone] Transition Rocky to EM,MERGED,2020-02-26 01:00:34.000000000,2020-03-05 22:15:10.000000000,2020-03-05 22:15:09.000000000,"[{'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 16465}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4ba8803be4ea35fabfb200de8beedb1669e6fb47', 'message': '[keystone] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1947d65865c3ed07b067b834daaebfac67fc01da\n'}, {'number': 2, 'created': '2020-02-26 01:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/be637ea3291a0e93cb64694944755210479617a4', 'message': '[keystone] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1947d65865c3ed07b067b834daaebfac67fc01da\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-02-29 14:32:00.000000000', 'files': ['deliverables/rocky/keystoneauth.yaml', 'deliverables/rocky/keystone.yaml', 'deliverables/rocky/pycadf.yaml', 'deliverables/rocky/python-keystoneclient.yaml', 'deliverables/rocky/keystonemiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a16538f0d6f5af9152c5496dcdc800dc845585bc', 'message': '[keystone] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I1947d65865c3ed07b067b834daaebfac67fc01da\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,709892,a16538f0d6f5af9152c5496dcdc800dc845585bc,19,7,3,11904,,,0,"[keystone] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I1947d65865c3ed07b067b834daaebfac67fc01da
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/709892/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/keystoneauth.yaml', 'deliverables/rocky/keystone-tempest-plugin.yaml', 'deliverables/rocky/keystone.yaml', 'deliverables/rocky/keystonemiddleware.yaml']",4,4ba8803be4ea35fabfb200de8beedb1669e6fb47,rocky-em, - version: rocky-em projects: - repo: openstack/keystonemiddleware hash: 7ab4a3e63cba8b4d94c7d8a528716532844febcb,,16,0
openstack%2Freleases~master~Ibddef4bfcc18a302fcc12302c37850f2b29d5cef,openstack/releases,master,Ibddef4bfcc18a302fcc12302c37850f2b29d5cef,[PowerVMStackers] Transition Rocky to EM,MERGED,2020-02-26 00:59:27.000000000,2020-03-05 22:15:08.000000000,2020-03-05 22:15:08.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 00:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1349d3b9314f4e4d6fcc68052f59071d6e125dad', 'message': '[PowerVMStackers] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ibddef4bfcc18a302fcc12302c37850f2b29d5cef\n'}, {'number': 2, 'created': '2020-02-26 18:21:37.000000000', 'files': ['deliverables/rocky/networking-powervm.yaml', 'deliverables/rocky/nova-powervm.yaml', 'deliverables/rocky/ceilometer-powervm.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e4d14d2c80f0f0978bd9ef7ac99364c51bc595fd', 'message': '[PowerVMStackers] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ibddef4bfcc18a302fcc12302c37850f2b29d5cef\n'}]",0,709878,e4d14d2c80f0f0978bd9ef7ac99364c51bc595fd,13,4,2,11904,,,0,"[PowerVMStackers] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ibddef4bfcc18a302fcc12302c37850f2b29d5cef
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/709878/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/ceilometer-powervm.yaml'],1,1349d3b9314f4e4d6fcc68052f59071d6e125dad,rocky-em, - version: rocky-em projects: - repo: openstack/ceilometer-powervm hash: 1bd1f9e639f07b4f53be30ee887f9cced5d80d2a,,4,0
openstack%2Freleases~master~Iaa33e8c1c0c24021a613badf02a7a9f8ad4846ff,openstack/releases,master,Iaa33e8c1c0c24021a613badf02a7a9f8ad4846ff,[cyborg] Transition Rocky to EM,MERGED,2020-02-26 00:59:56.000000000,2020-03-05 22:15:07.000000000,2020-03-05 22:15:07.000000000,"[{'_account_id': 11904}, {'_account_id': 13629}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 00:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2619e2eba3ae946cbd483aa1881490ba86e9c16e', 'message': '[cyborg] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iaa33e8c1c0c24021a613badf02a7a9f8ad4846ff\n'}, {'number': 2, 'created': '2020-02-26 17:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/57580122f1d9ad3d65a542fca07c93f8b40a561f', 'message': '[cyborg] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iaa33e8c1c0c24021a613badf02a7a9f8ad4846ff\n'}, {'number': 3, 'created': '2020-02-26 18:14:23.000000000', 'files': ['deliverables/rocky/cyborg.yaml', 'deliverables/rocky/python-cyborgclient.yaml', 'deliverables/rocky/os-acc.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0eb1171e18633f02871e54719d5339fa38e2019b', 'message': '[cyborg] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Iaa33e8c1c0c24021a613badf02a7a9f8ad4846ff\n'}]",0,709885,0eb1171e18633f02871e54719d5339fa38e2019b,14,5,3,11904,,,0,"[cyborg] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Iaa33e8c1c0c24021a613badf02a7a9f8ad4846ff
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/709885/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/cyborg.yaml'],1,2619e2eba3ae946cbd483aa1881490ba86e9c16e,rocky-em, - version: rocky-em projects: - repo: openstack/cyborg hash: b727c1670ab24b68d7224e7967adff5145e45c40,,4,0
openstack%2Freleases~master~I08ea720f6c06812cee87033190b2f3505c9b5f78,openstack/releases,master,I08ea720f6c06812cee87033190b2f3505c9b5f78,[OpenStackClient] Transition Rocky to EM,MERGED,2020-02-26 00:59:20.000000000,2020-03-05 22:15:06.000000000,2020-03-05 22:15:06.000000000,"[{'_account_id': 970}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 00:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dae2653798c964b1a345ce76c21417125140c12c', 'message': '[OpenStackClient] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I08ea720f6c06812cee87033190b2f3505c9b5f78\n'}, {'number': 2, 'created': '2020-02-26 17:49:14.000000000', 'files': ['deliverables/rocky/cliff.yaml', 'deliverables/rocky/osc-lib.yaml', 'deliverables/rocky/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/201a7e6339129ab7d795060f459f3e95896b0c06', 'message': '[OpenStackClient] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I08ea720f6c06812cee87033190b2f3505c9b5f78\n'}]",0,709876,201a7e6339129ab7d795060f459f3e95896b0c06,11,5,2,11904,,,0,"[OpenStackClient] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I08ea720f6c06812cee87033190b2f3505c9b5f78
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/709876/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/cliff.yaml'],1,dae2653798c964b1a345ce76c21417125140c12c,rocky-em, - version: rocky-em projects: - repo: openstack/cliff hash: dd6abfffba239ff1be945dbd2b53a402d2757b46,,4,0
openstack%2Freleases~master~I9380afdede5c08cbdc53eea92254a7bff1591e29,openstack/releases,master,I9380afdede5c08cbdc53eea92254a7bff1591e29,[karbor] Transition Rocky to EM,MERGED,2020-02-26 01:10:44.000000000,2020-03-05 22:15:05.000000000,2020-03-05 22:15:05.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/81b4473bcae7767a9b5087f3d9f56da05474b1fb', 'message': '[karbor] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9380afdede5c08cbdc53eea92254a7bff1591e29\n'}, {'number': 2, 'created': '2020-02-26 17:30:57.000000000', 'files': ['deliverables/rocky/karbor.yaml', 'deliverables/rocky/python-karborclient.yaml', 'deliverables/rocky/karbor-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3e98fb1d3950e44046eda17935827d04ea73a283', 'message': '[karbor] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9380afdede5c08cbdc53eea92254a7bff1591e29\n'}]",0,709922,3e98fb1d3950e44046eda17935827d04ea73a283,11,4,2,11904,,,0,"[karbor] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I9380afdede5c08cbdc53eea92254a7bff1591e29
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/709922/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/karbor.yaml', 'deliverables/rocky/karbor-dashboard.yaml']",2,81b4473bcae7767a9b5087f3d9f56da05474b1fb,rocky-em, - version: rocky-em projects: - repo: openstack/karbor-dashboard hash: 3c83ccaac9431b6ede1872819180890c09aeb2c5,,8,0
openstack%2Freleases~master~I9c0d4480587d10533113b19e45ee0dec2d37781b,openstack/releases,master,I9c0d4480587d10533113b19e45ee0dec2d37781b,[OpenStackSDK] Transition Rocky to EM,MERGED,2020-02-26 00:59:23.000000000,2020-03-05 22:15:04.000000000,2020-03-05 22:15:04.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 00:59:23.000000000', 'files': ['deliverables/rocky/shade.yaml', 'deliverables/rocky/openstacksdk.yaml', 'deliverables/rocky/os-client-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a469ccf0b80168313ccc8a561b5a7f655958d36c', 'message': '[OpenStackSDK] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I9c0d4480587d10533113b19e45ee0dec2d37781b\n'}]",0,709877,a469ccf0b80168313ccc8a561b5a7f655958d36c,8,5,1,11904,,,0,"[OpenStackSDK] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I9c0d4480587d10533113b19e45ee0dec2d37781b
",git fetch https://review.opendev.org/openstack/releases refs/changes/77/709877/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/shade.yaml', 'deliverables/rocky/openstacksdk.yaml', 'deliverables/rocky/os-client-config.yaml']",3,a469ccf0b80168313ccc8a561b5a7f655958d36c,rocky-em, - version: rocky-em projects: - repo: openstack/os-client-config hash: a024da3618c4a2a69eca0d83f6e4b34fa25643ca,,12,0
openstack%2Freleases~master~I0072dff5824c631f6aab360bea99f94224225ba0,openstack/releases,master,I0072dff5824c631f6aab360bea99f94224225ba0,[tricircle] Transition Rocky to EM,MERGED,2020-02-26 01:01:55.000000000,2020-03-05 22:09:16.000000000,2020-03-05 22:09:16.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28071}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:01:55.000000000', 'files': ['deliverables/rocky/python-tricircleclient.yaml', 'deliverables/rocky/tricircle.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cf4f034e96136e7db725f7608597093219704eab', 'message': '[tricircle] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I0072dff5824c631f6aab360bea99f94224225ba0\n'}]",0,709911,cf4f034e96136e7db725f7608597093219704eab,8,5,1,11904,,,0,"[tricircle] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I0072dff5824c631f6aab360bea99f94224225ba0
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/709911/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/python-tricircleclient.yaml', 'deliverables/rocky/tricircle.yaml']",2,cf4f034e96136e7db725f7608597093219704eab,rocky-em, - version: rocky-em projects: - repo: openstack/tricircle hash: 361e5e7a7285e469410df03e8dd1edfdd0243891,,8,0
openstack%2Freleases~master~I21fc820c305389ff88e180c4aa36459c0fe652fe,openstack/releases,master,I21fc820c305389ff88e180c4aa36459c0fe652fe,[tacker] Transition Rocky to EM,MERGED,2020-02-26 01:11:17.000000000,2020-03-05 22:09:15.000000000,2020-03-05 22:09:15.000000000,"[{'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:11:17.000000000', 'files': ['deliverables/rocky/tacker-horizon.yaml', 'deliverables/rocky/python-tackerclient.yaml', 'deliverables/rocky/tacker.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8b8fd1068f238f88e5892bb17f8144545b4ffe21', 'message': '[tacker] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I21fc820c305389ff88e180c4aa36459c0fe652fe\n'}]",0,709923,8b8fd1068f238f88e5892bb17f8144545b4ffe21,8,4,1,11904,,,0,"[tacker] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I21fc820c305389ff88e180c4aa36459c0fe652fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/709923/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/tacker-horizon.yaml', 'deliverables/rocky/python-tackerclient.yaml', 'deliverables/rocky/tacker.yaml']",3,8b8fd1068f238f88e5892bb17f8144545b4ffe21,rocky-em, - version: rocky-em projects: - repo: openstack/tacker hash: 5987ad8c56a61e3a6d8fcf37a2557926c585de41,,12,0
openstack%2Freleases~master~I808d47cb87d99316c8556aac0b024463cc8a9692,openstack/releases,master,I808d47cb87d99316c8556aac0b024463cc8a9692,[zun] Transition Rocky to EM,MERGED,2020-02-26 01:02:22.000000000,2020-03-05 22:09:14.000000000,2020-03-05 22:09:14.000000000,"[{'_account_id': 8556}, {'_account_id': 11536}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9863ec02631a6710b7f850c83df16c300c0b9e64', 'message': '[zun] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I808d47cb87d99316c8556aac0b024463cc8a9692\n'}, {'number': 2, 'created': '2020-02-29 14:19:53.000000000', 'files': ['deliverables/rocky/zun-ui.yaml', 'deliverables/rocky/zun.yaml', 'deliverables/rocky/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ee2daad20b2aa8e49fe6b0dccdf4441df1803c60', 'message': '[zun] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I808d47cb87d99316c8556aac0b024463cc8a9692\n'}]",3,709917,ee2daad20b2aa8e49fe6b0dccdf4441df1803c60,19,7,2,11904,,,0,"[zun] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I808d47cb87d99316c8556aac0b024463cc8a9692
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/709917/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/zun-ui.yaml', 'deliverables/rocky/zun-tempest-plugin.yaml', 'deliverables/rocky/zun.yaml', 'deliverables/rocky/python-zunclient.yaml']",4,9863ec02631a6710b7f850c83df16c300c0b9e64,rocky-em, - version: rocky-em projects: - repo: openstack/python-zunclient hash: 10cda2de665bed7ed9cc55b1c4d514a8a4c31528,,16,0
openstack%2Freleases~master~I8128b420bd97ef92acb6b74e55fcf54651974ebb,openstack/releases,master,I8128b420bd97ef92acb6b74e55fcf54651974ebb,[storlets] Transition Rocky to EM,MERGED,2020-02-26 01:01:43.000000000,2020-03-05 22:08:06.000000000,2020-03-05 22:08:06.000000000,"[{'_account_id': 4608}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:01:43.000000000', 'files': ['deliverables/rocky/storlets.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a27e2e82af08f35cf82f0ffdc6fa0fb89409f2e9', 'message': '[storlets] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I8128b420bd97ef92acb6b74e55fcf54651974ebb\n'}]",0,709909,a27e2e82af08f35cf82f0ffdc6fa0fb89409f2e9,8,5,1,11904,,,0,"[storlets] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I8128b420bd97ef92acb6b74e55fcf54651974ebb
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/709909/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/storlets.yaml'],1,a27e2e82af08f35cf82f0ffdc6fa0fb89409f2e9,rocky-em, - version: rocky-em projects: - repo: openstack/storlets hash: 201f2b99411ee78af1882fc550166aa58d4b1d8a,,4,0
openstack%2Freleases~master~I05d222c102ac2b8b5a222b7d2fa2cd902367e7dd,openstack/releases,master,I05d222c102ac2b8b5a222b7d2fa2cd902367e7dd,[cinder] Transition Rocky to EM,MERGED,2020-02-26 00:59:45.000000000,2020-03-05 22:08:05.000000000,2020-03-05 22:08:05.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 00:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f7462549de1405af78d06e6710caf252a65b2de8', 'message': '[cinder] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I05d222c102ac2b8b5a222b7d2fa2cd902367e7dd\n'}, {'number': 2, 'created': '2020-02-26 01:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8aa575e0b0122881c87ee3c7a482d051d8178253', 'message': '[cinder] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I05d222c102ac2b8b5a222b7d2fa2cd902367e7dd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-02-29 14:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f038d018012febf9c810d2248a404b97cdf15571', 'message': '[cinder] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I05d222c102ac2b8b5a222b7d2fa2cd902367e7dd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2020-03-04 15:39:22.000000000', 'files': ['deliverables/rocky/os-brick.yaml', 'deliverables/rocky/python-brick-cinderclient-ext.yaml', 'deliverables/rocky/python-cinderclient.yaml', 'deliverables/rocky/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/554ba49c1af0b32299468747149e49bd9fba0b14', 'message': '[cinder] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I05d222c102ac2b8b5a222b7d2fa2cd902367e7dd\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,709883,554ba49c1af0b32299468747149e49bd9fba0b14,20,4,4,11904,,,0,"[cinder] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I05d222c102ac2b8b5a222b7d2fa2cd902367e7dd
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/709883/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/cinder-tempest-plugin.yaml', 'deliverables/rocky/cinder.yaml']",2,f7462549de1405af78d06e6710caf252a65b2de8,rocky-em, - version: rocky-em projects: - repo: openstack/cinder hash: ce951a3b586bc51a77422c3079637198f14ecb44,,8,0
openstack%2Freleases~master~I0e959cf6cde1c963bfad0c4ae39a85be6d80dbfd,openstack/releases,master,I0e959cf6cde1c963bfad0c4ae39a85be6d80dbfd,[masakari] Transition Rocky to EM,MERGED,2020-02-26 01:00:53.000000000,2020-03-05 22:08:04.000000000,2020-03-05 22:08:04.000000000,"[{'_account_id': 8716}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 01:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/74ad98a5bf5dba8eacd6fd166065e3a44f1c93b9', 'message': '[masakari] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I0e959cf6cde1c963bfad0c4ae39a85be6d80dbfd\n'}, {'number': 2, 'created': '2020-02-26 17:34:33.000000000', 'files': ['deliverables/rocky/masakari-monitors.yaml', 'deliverables/rocky/masakari-dashboard.yaml', 'deliverables/rocky/masakari.yaml', 'deliverables/rocky/python-masakariclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d12dc6fc25602e284cf6a314487fa41c84b6c0a9', 'message': '[masakari] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: I0e959cf6cde1c963bfad0c4ae39a85be6d80dbfd\n'}]",0,709897,d12dc6fc25602e284cf6a314487fa41c84b6c0a9,14,5,2,11904,,,0,"[masakari] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: I0e959cf6cde1c963bfad0c4ae39a85be6d80dbfd
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/709897/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/masakari-monitors.yaml', 'deliverables/rocky/masakari-dashboard.yaml', 'deliverables/rocky/masakari.yaml']",3,74ad98a5bf5dba8eacd6fd166065e3a44f1c93b9,rocky-em, - version: rocky-em projects: - repo: openstack/masakari hash: c742bb4973626cac269ec05cafc56543f8d6d5e6,,12,0
openstack%2Fproject-config~master~I8a15e8c6aafc4659330646da8e1485508f2d21a2,openstack/project-config,master,I8a15e8c6aafc4659330646da8e1485508f2d21a2,Fix openstack-manuals sync,MERGED,2020-03-05 21:08:26.000000000,2020-03-05 22:04:32.000000000,2020-03-05 22:04:32.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 21:08:26.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f1da934249b35c8b6e77b7a7c2e16c2a714fd17b', 'message': 'Fix openstack-manuals sync\n\nIt\'s target with an R in update_target. This fixes the openstack-manuals\nsync job.\n\nCurrent failure:\n""The task includes an option with an undefined variable. The error was:\n\'update_target\' is undefined""\n\nChange-Id: I8a15e8c6aafc4659330646da8e1485508f2d21a2\n'}]",0,711554,f1da934249b35c8b6e77b7a7c2e16c2a714fd17b,10,4,1,6547,,,0,"Fix openstack-manuals sync

It's target with an R in update_target. This fixes the openstack-manuals
sync job.

Current failure:
""The task includes an option with an undefined variable. The error was:
'update_target' is undefined""

Change-Id: I8a15e8c6aafc4659330646da8e1485508f2d21a2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/711554/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f1da934249b35c8b6e77b7a7c2e16c2a714fd17b,fix-openstack-manuals, update_target: openstack-manuals, update_taget: openstack-manuals,1,1
openstack%2Fpython-glanceclient~master~Id549a73e0dd323718d02e5d5ccd8c5fb09da9c6b,openstack/python-glanceclient,master,Id549a73e0dd323718d02e5d5ccd8c5fb09da9c6b,Switch to Ussuri jobs,ABANDONED,2019-10-22 05:57:55.000000000,2020-03-05 21:58:31.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 05:57:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/5ee10df20b650bfc38eec4a5f3d3ca0a604a9085', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id549a73e0dd323718d02e5d5ccd8c5fb09da9c6b\n'}]",0,689949,5ee10df20b650bfc38eec4a5f3d3ca0a604a9085,4,2,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Id549a73e0dd323718d02e5d5ccd8c5fb09da9c6b
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/49/689949/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5ee10df20b650bfc38eec4a5f3d3ca0a604a9085,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fglance_store~master~I2b33f37cd9826a903702b05ad381f200dbfae745,openstack/glance_store,master,I2b33f37cd9826a903702b05ad381f200dbfae745,Switch to Ussuri jobs,ABANDONED,2019-10-25 02:27:49.000000000,2020-03-05 21:57:32.000000000,,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 02:27:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ae81914506353a9e8db49807b6d98c6a2ec7d87b', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I2b33f37cd9826a903702b05ad381f200dbfae745\n'}]",0,691150,ae81914506353a9e8db49807b6d98c6a2ec7d87b,4,2,1,30092,,,0,"Switch to Ussuri jobs

Change-Id: I2b33f37cd9826a903702b05ad381f200dbfae745
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/50/691150/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ae81914506353a9e8db49807b6d98c6a2ec7d87b,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fproject-config~master~I8b49e4d91600377c98e003b806a13fc89d2614ec,openstack/project-config,master,I8b49e4d91600377c98e003b806a13fc89d2614ec,Fix afs publishing of translation sources,MERGED,2020-03-05 21:11:29.000000000,2020-03-05 21:56:19.000000000,2020-03-05 21:56:19.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 21:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0b4ae7c78daddcfde21d348b2985cedcc7c81f95', 'message': ""Fix afs publishing of translation sources\n\nThere are at least two problems here. The first is we can't create an\nafs token because we don't ahve access to the afs secret. This seems to\nhave been removed by:\n\n  https://review.opendev.org/#/c/706734/2/zuul.d/jobs.yaml\n\nFix that by adding the new opendev tarballs secret to the job.\n\nNext we need to prefix translation sources with translation-source/ in\nthe filesystem path. This requires us to write out to a different afs\npath than normal. To address that we add a new playbook that is aware of\nthis different path.\n\nChange-Id: I8b49e4d91600377c98e003b806a13fc89d2614ec\n""}, {'number': 2, 'created': '2020-03-05 21:19:00.000000000', 'files': ['playbooks/translation/openstack-translation-artifacts.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2e12d5df0b898f38ca0510c7b375114278982a1c', 'message': ""Fix afs publishing of translation sources\n\nThere are at least two problems here. The first is we can't create an\nafs token because we don't have access to the afs secret. The old ssh\nbased secret was removed by:\n\n  https://review.opendev.org/#/c/706734/2/zuul.d/jobs.yaml\n\nFix that by adding the new opendev tarballs secret to the job.\n\nNext we need to prefix translation sources with translation-source/ in\nthe filesystem path. This requires us to write out to a different afs\npath than normal. To address that we add a new playbook that is aware of\nthis different path.\n\nChange-Id: I8b49e4d91600377c98e003b806a13fc89d2614ec\n""}]",2,711555,2e12d5df0b898f38ca0510c7b375114278982a1c,14,4,2,4146,,,0,"Fix afs publishing of translation sources

There are at least two problems here. The first is we can't create an
afs token because we don't have access to the afs secret. The old ssh
based secret was removed by:

  https://review.opendev.org/#/c/706734/2/zuul.d/jobs.yaml

Fix that by adding the new opendev tarballs secret to the job.

Next we need to prefix translation sources with translation-source/ in
the filesystem path. This requires us to write out to a different afs
path than normal. To address that we add a new playbook that is aware of
this different path.

Change-Id: I8b49e4d91600377c98e003b806a13fc89d2614ec
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/711555/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/translation/openstack-translation-artifacts.yaml', 'zuul.d/jobs.yaml']",2,0b4ae7c78daddcfde21d348b2985cedcc7c81f95,fix-upstream-translation-job, - playbooks/translation/openstack-translation-artifacts.yaml - secret: afs_tarballs_opendev_org name: afs, - playbooks/publish/openstack-artifacts.yaml,19,1
openstack%2Frequirements~stable%2Frocky~I419edb985683c3f5c96d98833bf39dc523837e90,openstack/requirements,stable/rocky,I419edb985683c3f5c96d98833bf39dc523837e90,Bump tenacity to 5.0.1 in UC,ABANDONED,2020-02-27 09:04:02.000000000,2020-03-05 21:34:37.000000000,,"[{'_account_id': 8731}, {'_account_id': 14288}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 09:04:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0e4dfb65c0ac23b6e36573febd87456ab67d1ab8', 'message': 'Bump tenacity to 5.0.1 in UC\n\nThis is needed to fix a bug in mistral for rocky\nsee https://review.opendev.org/#/c/710170/1\n\nChange-Id: I419edb985683c3f5c96d98833bf39dc523837e90\n'}]",0,710204,0e4dfb65c0ac23b6e36573febd87456ab67d1ab8,16,4,1,19134,,,0,"Bump tenacity to 5.0.1 in UC

This is needed to fix a bug in mistral for rocky
see https://review.opendev.org/#/c/710170/1

Change-Id: I419edb985683c3f5c96d98833bf39dc523837e90
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/710204/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0e4dfb65c0ac23b6e36573febd87456ab67d1ab8,tenacity,tenacity===5.0.1,tenacity===4.12.0,1,1
openstack%2Ftripleo-docs~master~I914cf74971ca235d31b3bc4f82431c86cf936016,openstack/tripleo-docs,master,I914cf74971ca235d31b3bc4f82431c86cf936016,Fix a typo,MERGED,2020-03-04 21:49:47.000000000,2020-03-05 21:03:37.000000000,2020-03-05 21:02:10.000000000,"[{'_account_id': 4978}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 21:49:47.000000000', 'files': ['deploy-guide/source/features/server_blacklist.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/15985d209e4841b651c8e5f72d8cc7e4a5851f68', 'message': 'Fix a typo\n\nChange-Id: I914cf74971ca235d31b3bc4f82431c86cf936016\n'}]",0,711346,15985d209e4841b651c8e5f72d8cc7e4a5851f68,9,4,1,3153,,,0,"Fix a typo

Change-Id: I914cf74971ca235d31b3bc4f82431c86cf936016
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/46/711346/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/server_blacklist.rst'],1,15985d209e4841b651c8e5f72d8cc7e4a5851f68,typo,The behavior can be overridden by passing ``--skip-deploy-identifier`` to the,The beavhior can be overridden by passing ``--skip-deploy-identifier`` to the,1,1
openstack%2Fnetworking-bgpvpn~master~Ic050602958270935e8dd1b67f4cc0ff4d0df6134,openstack/networking-bgpvpn,master,Ic050602958270935e8dd1b67f4cc0ff4d0df6134,Add release note on horizon optional dependency,MERGED,2020-02-27 00:23:16.000000000,2020-03-05 21:03:28.000000000,2020-03-05 21:01:53.000000000,"[{'_account_id': 8313}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 00:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9926fb1bb7f137b3651d8be61a1fb5314ef2e971', 'message': 'Add release note on horizon optional dependency\n\nThis is a follow-up for https://review.opendev.org/#/c/604335/.\nThe dependency change is worth having a release note.\n\nBabel is also dropped from requirements.txt.\nIt is a horizon dependency and there is no need to have it here.\n\nChange-Id: Ic050602958270935e8dd1b67f4cc0ff4d0df6134\n'}, {'number': 2, 'created': '2020-02-29 06:18:00.000000000', 'files': ['requirements.txt', 'releasenotes/notes/horizon-in-extras-371d572b09437dc4.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9dcd5ed88c9d7d662ec278029aedcbbb401258fb', 'message': 'Add release note on horizon optional dependency\n\nThis is a follow-up for https://review.opendev.org/#/c/604335/.\nThe dependency change is worth having a release note.\n\nBabel is also dropped from requirements.txt.\nIt is a horizon dependency and there is no need to have it here.\n\nChange-Id: Ic050602958270935e8dd1b67f4cc0ff4d0df6134\n'}]",1,710158,9dcd5ed88c9d7d662ec278029aedcbbb401258fb,11,3,2,841,,,0,"Add release note on horizon optional dependency

This is a follow-up for https://review.opendev.org/#/c/604335/.
The dependency change is worth having a release note.

Babel is also dropped from requirements.txt.
It is a horizon dependency and there is no need to have it here.

Change-Id: Ic050602958270935e8dd1b67f4cc0ff4d0df6134
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/58/710158/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'releasenotes/notes/horizon-in-extras-371d572b09437dc4.yaml']",2,9926fb1bb7f137b3651d8be61a1fb5314ef2e971,extras-followup,"--- upgrade: - | Horizon is now an optional dependency of networking-bgpvpn as the GUI support is optional. This means horizon will not be installed automatically. The horizon dependency is now declared in ``extras`` section in ``setup.cfg``. If you would like to enable the GUI support, you can install the dependences using ``python -m pip install networking-bgpvpn[horizon]`` (or ``.[horizon]`` in case you install it from the source code). ",,10,1
openstack%2Ftripleo-ansible~master~I1f8e2e548754bd64440e2f98543c0af3ba70b1ea,openstack/tripleo-ansible,master,I1f8e2e548754bd64440e2f98543c0af3ba70b1ea,"Revert ""Modify the introspection playbook to simplify client interactions""",MERGED,2020-03-05 20:09:10.000000000,2020-03-05 20:57:08.000000000,2020-03-05 20:54:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-03-05 20:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f10d3d65e2bb6854f02af3d51f5c252ac7ba1f69', 'message': 'Revert ""Modify the introspection playbook to simplify client interactions""\n\nThis reverts commit d2b745cf4be5292d54b7715290e093788e355d8c.\n\nChange-Id: I1f8e2e548754bd64440e2f98543c0af3ba70b1ea\n'}, {'number': 2, 'created': '2020-03-05 20:15:17.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c27075ba70cf316d07dfcc4c391652b50e2abf30', 'message': 'Revert ""Modify the introspection playbook to simplify client interactions""\n\nThis reverts commit d2b745cf4be5292d54b7715290e093788e355d8c.\n\nCloses-Bug: #1866233\nChange-Id: I1f8e2e548754bd64440e2f98543c0af3ba70b1ea\n'}]",0,711543,c27075ba70cf316d07dfcc4c391652b50e2abf30,11,7,2,7353,,,0,"Revert ""Modify the introspection playbook to simplify client interactions""

This reverts commit d2b745cf4be5292d54b7715290e093788e355d8c.

Closes-Bug: #1866233
Change-Id: I1f8e2e548754bd64440e2f98543c0af3ba70b1ea
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/43/711543/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'],1,f10d3d65e2bb6854f02af3d51f5c252ac7ba1f69,mistral_to_ansible," Either `node_uuids` or `all_manageable` are required inputs but currently are not set. Check you inputs and try again. when: >- (node_uuids is undefined and all_manageable is undefined) or (node_uuids is undefined and not all_manageable|bool) tasks: # Pre-introspection validation - name: Run Validations command: > openstack tripleo validator run --group ""pre-introspection"" when: - run_validations | bool # TODO(sshnaidm): change to module when https://review.opendev.org/#/c/694751/ merges - name: Run all manageable block when: - all_manageable is defined - all_manageable|bool block: # Get Node UUIDs, if ""all_manageable"" is True - name: Get node UUIDS os_baremetal_node_info: auth_type: password cloud: undercloud filters: provision_state: manageable register: manageable_nodes - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ manageable_nodes.baremetal_nodes | default([]) | map(attribute='id') | list }}"" - name: Process only passed node UUIDs when: - all_manageable is not defined or not all_manageable|bool block: - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ node_uuids }}"""," Input missing `{{ item }}` when: - hostvars[inventory_hostname][item] is undefined loop: - node_uuids tasks: - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ node_uuids }}"" # Pre-introspection validation - name: Run Validations command: > openstack tripleo validator run --group ""pre-introspection"" when: - run_validations | bool ",40,15
openstack%2Ftripleo-upgrade~master~I3b917434b9bc7d5d288b702e85a07b2356fa6896,openstack/tripleo-upgrade,master,I3b917434b9bc7d5d288b702e85a07b2356fa6896,Initital ffwd2 patch to automate OS upgrade.,MERGED,2020-01-29 22:28:24.000000000,2020-03-05 20:50:52.000000000,2020-03-05 14:32:30.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-29 22:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/37f3cfe09c535c49a71b29e0b7b7deca40138689', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 2, 'created': '2020-01-30 13:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b1fcc26f4a8f7ee140bd090d98e8093bee224eba', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 3, 'created': '2020-01-30 17:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1e63ab0cc661f15c000b3bfef05ffa87157f70c6', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 4, 'created': '2020-01-31 21:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0c10448265b21348308c6d26262e9e731e28acb8', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 5, 'created': '2020-02-06 14:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8cb74e40f8f7f34ec3ac8ac4490bc022db7b5e67', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 6, 'created': '2020-02-07 15:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/70477f237c573d1b58010b3733f52d68aaf05787', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 7, 'created': '2020-02-11 12:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/e4ad0efda6d4288846f63d55f47038943fa67a6a', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 8, 'created': '2020-02-14 13:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5ea42282f882cc1bbd8355bb748d664b4e380b5b', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 9, 'created': '2020-02-18 10:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d4fb26363cb78946e26fe055c7fbfbabe19daa64', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 10, 'created': '2020-02-18 13:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ca336920f9da907e4af1744022e722c8c70b1245', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}, {'number': 11, 'created': '2020-03-03 11:18:19.000000000', 'files': ['templates/workarounds.sh.j2', 'tasks/main.yml', 'templates/fast-forward-upgrade/workarounds.sh.j2', 'tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'infrared_plugin/plugin.spec', 'tasks/common/undercloud_os_upgrade.yaml', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c6574d0271b4c7e24c38b2cccdf869bfa859affb', 'message': 'Initital ffwd2 patch to automate OS upgrade.\n\nThis patch updates some of the ffu existing variables in\nthe tripleo-upgrade role to be able to upgrade to the\nffu (Queens to Train).\n\nAlso, it includes the undercloud operating system upgrade\nlogic as part of the upgrade of the undercloud (which will\nbe used mostly downstream). It leverages from the existing\nplay in common/undercloud_os_upgrade.yaml and adds the\nspecific tasks right before invoking it.\n\nAs part of the refactoring, the fast forward upgrades\nautomation tasks also make use of the imporved workarounds\nmechanism, so all the operations (update,upgrade,ffwd)\nshare the same format for the workarounds.\n\nRemoving too the python-jsonpointer package before running\nleapp upgrade on the undercloud node, as it is conflicting\nafter the upgrade and it does seem to not impact into the\nleapp or subscription-manager packages dependencies.\n\nChange-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896\n'}]",0,704905,c6574d0271b4c7e24c38b2cccdf869bfa859affb,29,4,11,26343,,,0,"Initital ffwd2 patch to automate OS upgrade.

This patch updates some of the ffu existing variables in
the tripleo-upgrade role to be able to upgrade to the
ffu (Queens to Train).

Also, it includes the undercloud operating system upgrade
logic as part of the upgrade of the undercloud (which will
be used mostly downstream). It leverages from the existing
play in common/undercloud_os_upgrade.yaml and adds the
specific tasks right before invoking it.

As part of the refactoring, the fast forward upgrades
automation tasks also make use of the imporved workarounds
mechanism, so all the operations (update,upgrade,ffwd)
share the same format for the workarounds.

Removing too the python-jsonpointer package before running
leapp upgrade on the undercloud node, as it is conflicting
after the upgrade and it does seem to not impact into the
leapp or subscription-manager packages dependencies.

Change-Id: I3b917434b9bc7d5d288b702e85a07b2356fa6896
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/05/704905/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/create-prepare-scripts.yaml', 'infrared_plugin/plugin.spec', 'tasks/common/undercloud_os_upgrade.yaml', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",6,37f3cfe09c535c49a71b29e0b7b7deca40138689,ffwd-upgrade2," - name: apply pre FFU undercloud OS upgrade workarounds shell: | set -o pipefail bash pre_ffu_undercloud_os_upgrade_workarounds.sh 2>&1 {{ timestamper_cmd }} > pre_ffu_undercloud_os_upgrade_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool - name: Stop Undercloud services command: systemctl stop openstack-* httpd haproxy mariadb rabbitmq* failed_when: false - name: Clean up httpd folder file: path: /etc/httpd state: absent - name: Clean docker folder file: path: /var/lib/docker state: absent - name: Upgrade operating system become: true become_user: root import_tasks: ../common/undercloud_os_upgrade.yaml when: not use_oooq|bool - name: apply post FFU undercloud OS upgrade workarounds shell: | set -o pipefail bash post_ffu_undercloud_os_upgrade_workarounds.sh 2>&1 {{ timestamper_cmd }} > post_ffu_undercloud_os_upgrade_workarounds.log args: chdir: ""{{ working_dir }}"" when: ffu_upgrade_workarounds|bool when: ffu_undercloud_os_upgrade|bool tags: ffu_undercloud_os_upgrade - block:",,78,9
openstack%2Fkolla~master~Iebc39bd804d2c4f553d42c285549f50f4c8bc8be,openstack/kolla,master,Iebc39bd804d2c4f553d42c285549f50f4c8bc8be,Multiple fixes to unblock CI,MERGED,2020-03-05 14:54:31.000000000,2020-03-05 20:49:53.000000000,2020-03-05 20:46:46.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 14:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4016cebbb960cb2a7f25b16c402bbc560df82e26', 'message': 'Blacklist ansible 2.8.9 in kolla-toolbox\n\nAnsible 2.8.9 broke the OpenStack modules, see\nhttps://bugs.launchpad.net/kolla/+bug/1866181 for details.\n\nThis causes us to fail with the following error:\n\n    /usr/lib64/python2.7/distutils/version.py\\"", line 40, in __init__\n    self.parse(vstring)\n    File ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse\n    match = self.version_re.match(vstring)\\nTypeError: expected string or buffer\n\nThis change works around the issue by blacklisting ansible 2.8.9 in the\nkolla-toolbox image.\n\nThis change also marks tempest as unbuildable for CentOS 7, since it is\nno longer buildable due to patrole dropping support for Python 2.\n\nThis change also pins requirements to commit\nea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid\noslo.cache 2.1.0, which breaks us. See\nhttps://bugs.launchpad.net/kolla-ansible/+bug/1866008.\n\nChange-Id: Iebc39bd804d2c4f553d42c285549f50f4c8bc8be\nCloses-Bug: #1866181\nRelated-Bug: #1866008\n'}, {'number': 2, 'created': '2020-03-05 15:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1cd62c01b60e6fd38963e7b18ccf40c491824887', 'message': 'Blacklist ansible 2.8.9 in kolla-toolbox\n\nAnsible 2.8.9 broke the OpenStack modules, see\nhttps://bugs.launchpad.net/kolla/+bug/1866181 for details.\n\nThis causes us to fail with the following error:\n\n    /usr/lib64/python2.7/distutils/version.py\\"", line 40, in __init__\n    self.parse(vstring)\n    File ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse\n    match = self.version_re.match(vstring)\\nTypeError: expected string or buffer\n\nThis change works around the issue by blacklisting ansible 2.8.9 in the\nkolla-toolbox image.\n\nThis change includes a number of other fixes to make CI functional as\nwell:\n\n* mark tempest as unbuildable for CentOS 7, since patrole dropped\n  support for Python 2\n\n* mark monasca-grafana as unbuildable for CentOS 7, since we are seeing\n  build failures for it (errno HPE_UNEXPECTED_CONTENT_LENGTH)\n\n* pin requirements to commit\n  ea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid\n  oslo.cache 2.1.0, which breaks us. See\n  https://bugs.launchpad.net/kolla-ansible/+bug/1866008.\n\nChange-Id: Iebc39bd804d2c4f553d42c285549f50f4c8bc8be\nCloses-Bug: #1866181\nRelated-Bug: #1866008\n'}, {'number': 3, 'created': '2020-03-05 15:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f3473d1f0b219b18ff817f366d00c663679e3e89', 'message': 'Multiple fixes to unblock CI\n\nThis change includes a number of fixes to make CI functional.\n\n* Blacklist ansible 2.8.9 in kolla-toolbox\n\n  Ansible 2.8.9 broke the OpenStack modules, see\n  https://bugs.launchpad.net/kolla/+bug/1866181 for details.\n\n  This causes us to fail with the following error:\n\n    /usr/lib64/python2.7/distutils/version.py\\"", line 40, in __init__\n    self.parse(vstring)\n    File ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse\n    match = self.version_re.match(vstring)\\nTypeError: expected string or buffer\n\n  This change works around the issue by blacklisting ansible 2.8.9 in\n  the kolla-toolbox image.\n\n* mark tempest as unbuildable for CentOS 7, since patrole dropped\n  support for Python 2\n\n* mark monasca-grafana as unbuildable for CentOS 7, since we are seeing\n  build failures for it (errno HPE_UNEXPECTED_CONTENT_LENGTH)\n\n* pin requirements to commit\n  ea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid\n  oslo.cache 2.1.0, which breaks us. See\n  https://bugs.launchpad.net/kolla-ansible/+bug/1866008.\n\nChange-Id: Iebc39bd804d2c4f553d42c285549f50f4c8bc8be\nCloses-Bug: #1866181\nRelated-Bug: #1866008\n'}, {'number': 4, 'created': '2020-03-05 17:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/333af8d553813b933e637244d80564dc78070d2b', 'message': 'Multiple fixes to unblock CI\n\nThis change includes a number of fixes to make CI functional.\n\n* Blacklist ansible 2.8.9 in kolla-toolbox\n\n  Ansible 2.8.9 broke the OpenStack modules, see\n  https://bugs.launchpad.net/kolla/+bug/1866181 for details.\n\n  This causes us to fail with the following error:\n\n    /usr/lib64/python2.7/distutils/version.py\\"", line 40, in __init__\n    self.parse(vstring)\n    File ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse\n    match = self.version_re.match(vstring)\\nTypeError: expected string or buffer\n\n  This change works around the issue by blacklisting ansible 2.8.9 in\n  the kolla-toolbox image.\n\n* Drop CentOS 7 CI jobs. There are multiple issues with CentOS 7 now,\n  and we have CentOS 8 jobs in place so it\'s time to move on\n\n* pin requirements to commit\n  ea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid\n  oslo.cache 2.1.0, which breaks us. See\n  https://bugs.launchpad.net/kolla-ansible/+bug/1866008.\n\nChange-Id: Iebc39bd804d2c4f553d42c285549f50f4c8bc8be\nCloses-Bug: #1866181\nRelated-Bug: #1866008\n'}, {'number': 5, 'created': '2020-03-05 17:54:46.000000000', 'files': ['.zuul.d/centos.yaml', 'docker/kolla-toolbox/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a755304795eb7bd43a26b7380aa2686151295c64', 'message': 'Multiple fixes to unblock CI\n\nThis change includes a number of fixes to make CI functional.\n\n* Blacklist ansible 2.8.9 in kolla-toolbox\n\n  Ansible 2.8.9 broke the OpenStack modules, see\n  https://bugs.launchpad.net/kolla/+bug/1866181 for details.\n\n  This causes us to fail with the following error:\n\n    /usr/lib64/python2.7/distutils/version.py\\"", line 40, in __init__\n    self.parse(vstring)\n    File ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse\n    match = self.version_re.match(vstring)\\nTypeError: expected string or buffer\n\n  This change works around the issue by blacklisting ansible 2.8.9 in\n  the kolla-toolbox image.\n\n* Drop CentOS 7 CI jobs. There are multiple issues with CentOS 7 now,\n  and we have CentOS 8 jobs in place so it\'s time to move on\n\n* pin requirements to commit\n  ea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid\n  oslo.cache 2.1.0, which breaks us. See\n  https://bugs.launchpad.net/kolla-ansible/+bug/1866008.\n\nChange-Id: Iebc39bd804d2c4f553d42c285549f50f4c8bc8be\nCloses-Bug: #1866181\nRelated-Bug: #1866008\n'}]",2,711470,a755304795eb7bd43a26b7380aa2686151295c64,28,6,5,14826,,,0,"Multiple fixes to unblock CI

This change includes a number of fixes to make CI functional.

* Blacklist ansible 2.8.9 in kolla-toolbox

  Ansible 2.8.9 broke the OpenStack modules, see
  https://bugs.launchpad.net/kolla/+bug/1866181 for details.

  This causes us to fail with the following error:

    /usr/lib64/python2.7/distutils/version.py\"", line 40, in __init__
    self.parse(vstring)
    File ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse
    match = self.version_re.match(vstring)\nTypeError: expected string or buffer

  This change works around the issue by blacklisting ansible 2.8.9 in
  the kolla-toolbox image.

* Drop CentOS 7 CI jobs. There are multiple issues with CentOS 7 now,
  and we have CentOS 8 jobs in place so it's time to move on

* pin requirements to commit
  ea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid
  oslo.cache 2.1.0, which breaks us. See
  https://bugs.launchpad.net/kolla-ansible/+bug/1866008.

Change-Id: Iebc39bd804d2c4f553d42c285549f50f4c8bc8be
Closes-Bug: #1866181
Related-Bug: #1866008
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/711470/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/kolla-toolbox/Dockerfile.j2', 'kolla/common/config.py']",3,4016cebbb960cb2a7f25b16c402bbc560df82e26,bug/1866181," # FIXME(mgoddard): Pinning requirements to # ea42244642c3c091cb4f70917ae8d79af217b6af. This is required to avoid # oslo.cache 2.1.0, which breaks us. See # https://bugs.launchpad.net/kolla-ansible/+bug/1866008. 'openstack-base': { 'type': 'git', 'location': 'https://opendev.org/openstack/requirements', 'reference': 'ea42244642c3c091cb4f70917ae8d79af217b6af'},"," 'openstack-base': { 'type': 'url', 'location': ('$tarballs_base/requirements/' 'requirements-${openstack_branch}.tar.gz')},",14,4
openstack%2Ftripleo-common~master~I54539f7dd694e0804006470221e55fd3cafea539,openstack/tripleo-common,master,I54539f7dd694e0804006470221e55fd3cafea539,Modify roles to remove unused services,MERGED,2019-03-08 14:37:22.000000000,2020-03-05 20:42:09.000000000,2020-02-29 02:41:40.000000000,"[{'_account_id': 360}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-03-08 14:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11b868e5146eddea447d077019798d670f7e0ae8', 'message': 'Revert ""Revert ""Modify roles to remove unused services""""\n\nThis reverts commit 0786ed26d79342df35d35a952c8a496d989b8d75.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\n'}, {'number': 2, 'created': '2019-03-08 14:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/22e0ad3567ba4d17c4010c54780f24ccabc678c2', 'message': 'Revert ""Revert ""Modify roles to remove unused services""""\n\nThis reverts commit 0786ed26d79342df35d35a952c8a496d989b8d75.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\n'}, {'number': 3, 'created': '2019-03-27 17:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d06d91451d19fda5d7a0b94cfb455ea07fc3a9a', 'message': 'Revert ""Revert ""Modify roles to remove unused services""""\n\nThis reverts commit 0786ed26d79342df35d35a952c8a496d989b8d75.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\n'}, {'number': 4, 'created': '2019-04-03 22:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/576b530c89d19724f63b4e0115a069b659276492', 'message': 'WIP Modify roles to remove unused services\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\n'}, {'number': 5, 'created': '2019-04-08 16:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ede0cacaf7ece56090a700da03758c4ab4a3fa19', 'message': 'WIP Modify roles to remove unused services\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\n'}, {'number': 6, 'created': '2019-04-08 22:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e19b400235c14978c20caa23f13849dcb3a7edc4', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 7, 'created': '2019-04-09 14:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/87baebc804f326b75495139fed21b45bd46cb595', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 8, 'created': '2019-04-11 19:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59a5e3e8d60a8e390fee8ab337b2030e5528d6cf', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 9, 'created': '2019-04-11 20:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59041d1807720754fa40f8098c3db459a7eec9de', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 10, 'created': '2019-07-15 21:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df3ff3eab1aafa5d653eb3fb636838877c14208b', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 11, 'created': '2019-07-15 21:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c00b1be1a542db7a81649eeb880d963901946203', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 12, 'created': '2019-07-15 22:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a5a9e853be083e795630f02d6b55187849211b8d', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 13, 'created': '2019-07-16 14:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/970ecfe3fe15bc94b20a08217bdf50d5e3cb9198', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 14, 'created': '2019-07-16 15:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3b72833d88d61ad97fc1f052fc2ecd420ebfb1e3', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None which Heat will create an empty ServiceChain for.\nFor large scale deployments this results in many extra stacks having to\nbe manged by Heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces the time Heat takes\nto build and manage the stack. This function is rerun on updates so that\nservices will be added if they get enabled after initial deployment\nas well.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}, {'number': 15, 'created': '2020-02-26 15:03:04.000000000', 'files': ['tripleo_common/actions/deployment.py', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/template.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/79edc6a65340f291f9d96f77d843d1d6baf5770e', 'message': ""Modify roles to remove unused services\n\nHistorically we've included unused services in all the roles as a way\nfor users to enable the services for a given role. By default many are\nset to OS::Heat::None. For large scale deployments this results in many\nextra resources managed by heat.\n\nThis change adds a function to look at the resource registry of the\nenvironment and will remove any unused services from the roles data.\nRemoving these services from the roles data reduces number of heat\nresource and hence possibly little deployment time.\n\nChange-Id: I54539f7dd694e0804006470221e55fd3cafea539\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Thomas Herve <therve@redhat.com>\n""}]",7,642032,79edc6a65340f291f9d96f77d843d1d6baf5770e,84,14,15,3153,,,0,"Modify roles to remove unused services

Historically we've included unused services in all the roles as a way
for users to enable the services for a given role. By default many are
set to OS::Heat::None. For large scale deployments this results in many
extra resources managed by heat.

This change adds a function to look at the resource registry of the
environment and will remove any unused services from the roles data.
Removing these services from the roles data reduces number of heat
resource and hence possibly little deployment time.

Change-Id: I54539f7dd694e0804006470221e55fd3cafea539
Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Thomas Herve <therve@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/642032/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/templates.py', 'tripleo_common/tests/actions/test_templates.py']",2,11b868e5146eddea447d077019798d670f7e0ae8,remove-services," j2_loader = templates.J2SwiftLoader(self._setup_swift(), None, '') j2_loader = templates.J2SwiftLoader(self._setup_swift(), None, '') j2_loader = templates.J2SwiftLoader(self._setup_swift(), 'bar', '') 'customrole-config.yaml', swift) swift) swift)"," j2_loader = templates.J2SwiftLoader(self._setup_swift(), None) j2_loader = templates.J2SwiftLoader(self._setup_swift(), None) j2_loader = templates.J2SwiftLoader(self._setup_swift(), 'bar') mock_ctx = mock.MagicMock() 'customrole-config.yaml', context=mock_ctx) mock_ctx = mock.MagicMock() context=mock_ctx) mock_ctx = mock.MagicMock() context=mock_ctx)",37,31
openstack%2Ftripleo-ansible~master~I7ba8a31b71ed5bc9bdd944769ea472b537c83a98,openstack/tripleo-ansible,master,I7ba8a31b71ed5bc9bdd944769ea472b537c83a98,Modify the introspection playbook to simplify client interactions,MERGED,2020-02-28 00:39:28.000000000,2020-03-05 20:09:10.000000000,2020-03-03 19:14:27.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-28 00:39:28.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2b745cf4be5292d54b7715290e093788e355d8c', 'message': 'Modify the introspection playbook to simplify client interactions\n\nThis change modifies the introspection playbook to simply require the uuids\nof nodes to be provided instead of attempting to discover managable nodes.\nThis will simplify client interactions while also making it clear to admins\ncalling this playbook directly what the inputs are and how to leverage it.\n\nTask: 38444\n\nChange-Id: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",2,710356,d2b745cf4be5292d54b7715290e093788e355d8c,16,6,1,7353,,,0,"Modify the introspection playbook to simplify client interactions

This change modifies the introspection playbook to simply require the uuids
of nodes to be provided instead of attempting to discover managable nodes.
This will simplify client interactions while also making it clear to admins
calling this playbook directly what the inputs are and how to leverage it.

Task: 38444

Change-Id: I7ba8a31b71ed5bc9bdd944769ea472b537c83a98
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/56/710356/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml'],1,d2b745cf4be5292d54b7715290e093788e355d8c,mistral_to_ansible," Input missing `{{ item }}` when: - hostvars[inventory_hostname][item] is undefined loop: - node_uuids tasks: - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ node_uuids }}"" # Pre-introspection validation - name: Run Validations command: > openstack tripleo validator run --group ""pre-introspection"" when: - run_validations | bool "," Either `node_uuids` or `all_manageable` are required inputs but currently are not set. Check you inputs and try again. when: >- (node_uuids is undefined and all_manageable is undefined) or (node_uuids is undefined and not all_manageable|bool) tasks: # Pre-introspection validation - name: Run Validations command: > openstack tripleo validator run --group ""pre-introspection"" when: - run_validations | bool # TODO(sshnaidm): change to module when https://review.opendev.org/#/c/694751/ merges - name: Run all manageable block when: - all_manageable is defined - all_manageable|bool block: # Get Node UUIDs, if ""all_manageable"" is True - name: Get node UUIDS os_baremetal_node_info: auth_type: password cloud: undercloud filters: provision_state: manageable register: manageable_nodes - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ manageable_nodes.baremetal_nodes | default([]) | map(attribute='id') | list }}"" - name: Process only passed node UUIDs when: - all_manageable is not defined or not all_manageable|bool block: - name: Set node_uuids_intro fact set_fact: node_uuids_intro: ""{{ node_uuids }}""",15,40
openstack%2Fopenstack-helm-addons~master~Iaf049c4fe4b86aea31cba896015b73c495c71d0a,openstack/openstack-helm-addons,master,Iaf049c4fe4b86aea31cba896015b73c495c71d0a,Add services dependency to ranger and ranger-agent helm test,MERGED,2020-02-28 18:47:57.000000000,2020-03-05 19:44:16.000000000,2020-03-05 19:44:16.000000000,"[{'_account_id': 18213}, {'_account_id': 18524}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24999}, {'_account_id': 29585}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-28 18:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/db6f39296ad6d402a14da110043ed54817089ff5', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 2, 'created': '2020-02-28 18:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/401ddcb7b780031f3356fd5aaa5dc074fc95b9e9', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 3, 'created': '2020-02-28 19:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/9d5f14a1a9f99360ca9e10e6f4f24a52c8820238', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 4, 'created': '2020-02-28 19:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/975dfd36babf1b2d8b001eac9c351018000d16a3', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 5, 'created': '2020-02-28 19:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/740309c86bf9667580ac1fa0f2ad40263c60a326', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 6, 'created': '2020-02-28 21:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/7b2d443eb2d02eacf7af42f6e7258939cc75ce8d', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 7, 'created': '2020-02-28 21:33:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/997fc90b536fa3836fef2f4e338461de70fb811d', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 8, 'created': '2020-02-28 22:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ca0380dc26c895f67b9ae90a5dae3f9b6d60f153', 'message': 'Add services dependency to ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}, {'number': 9, 'created': '2020-03-02 17:10:33.000000000', 'files': ['ranger/values.yaml', 'ranger-agent/templates/bin/_ranger-agent-test.py.tpl', 'ranger-agent/templates/pod-test.yaml', 'ranger/templates/pod-test.yaml', 'ranger-agent/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/771599d718b64bab5a6127a91e5008c096480ea0', 'message': 'Add services dependency to ranger and ranger-agent helm test\n\nChange-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a\n'}]",2,710505,771599d718b64bab5a6127a91e5008c096480ea0,25,9,9,19391,,,0,"Add services dependency to ranger and ranger-agent helm test

Change-Id: Iaf049c4fe4b86aea31cba896015b73c495c71d0a
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/05/710505/9 && git format-patch -1 --stdout FETCH_HEAD,['ranger-agent/values.yaml'],1,db6f39296ad6d402a14da110043ed54817089ff5,,,,1,0
openstack%2Fkuryr-kubernetes~master~Ia5a0f0dd89d72b16189cb33e97720bc6171239ac,openstack/kuryr-kubernetes,master,Ia5a0f0dd89d72b16189cb33e97720bc6171239ac,Remove sgId from KuryrNet CRD,MERGED,2020-03-04 08:44:02.000000000,2020-03-05 19:33:14.000000000,2020-03-05 19:31:30.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-03-04 08:44:02.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kubernetes_crds/kuryrnet.yaml', 'kuryr_kubernetes/controller/handlers/kuryrnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/93657a9f128901fa1808df7263f06e8517943d86', 'message': ""Remove sgId from KuryrNet CRD\n\nSeems like we don't need sgId on KuryrNet CRD, it's not written anywhere\nand only read in one place. This patch removes it.\n\nChange-Id: Ia5a0f0dd89d72b16189cb33e97720bc6171239ac\n""}]",0,711178,93657a9f128901fa1808df7263f06e8517943d86,14,4,1,11600,,,0,"Remove sgId from KuryrNet CRD

Seems like we don't need sgId on KuryrNet CRD, it's not written anywhere
and only read in one place. This patch removes it.

Change-Id: Ia5a0f0dd89d72b16189cb33e97720bc6171239ac
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/78/711178/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_namespace_subnet.py', 'kubernetes_crds/kuryrnet.yaml', 'kuryr_kubernetes/controller/handlers/kuryrnet.py']",3,93657a9f128901fa1808df7263f06e8517943d86,remove-sgId, []), sgs = [] sg_id = kuryrnet_crd['spec'].get('sgId') if sg_id: sgs.append(sg_id) sgs),1,11
openstack%2Fopenstack-helm-images~master~I371302bc24e59320a59bd815922d41e387e23e3a,openstack/openstack-helm-images,master,I371302bc24e59320a59bd815922d41e387e23e3a,Enhance the ES plugin to check the results count field.,MERGED,2020-03-04 17:06:17.000000000,2020-03-05 19:24:43.000000000,2020-03-05 19:23:23.000000000,"[{'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 24563}, {'_account_id': 27499}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-04 17:06:17.000000000', 'files': ['nagios/plugins/query_elasticsearch.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/ded4c59dc23c00c788531be2abdaedbba133b477', 'message': 'Enhance the ES plugin to check the results count field.\n\nThe plugin script uses [hits][hits] for checking the total\nresult count. So, it was updated to use the right field.\n\nChange-Id: I371302bc24e59320a59bd815922d41e387e23e3a\n'}]",0,711284,ded4c59dc23c00c788531be2abdaedbba133b477,13,7,1,18295,,,0,"Enhance the ES plugin to check the results count field.

The plugin script uses [hits][hits] for checking the total
result count. So, it was updated to use the right field.

Change-Id: I371302bc24e59320a59bd815922d41e387e23e3a
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/84/711284/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/query_elasticsearch.py'],1,ded4c59dc23c00c788531be2abdaedbba133b477,, hits = int(results['hits']['total']['value']), hits = len(results['hits']['hits']),1,1
openstack%2Fkayobe~stable%2Ftrain~I535ab240b7ab8f3ab104b49170e4a9ee01fc482b,openstack/kayobe,stable/train,I535ab240b7ab8f3ab104b49170e4a9ee01fc482b,Blacklist Ansible 2.8.9,MERGED,2020-03-05 15:39:47.000000000,2020-03-05 19:20:18.000000000,2020-03-05 19:18:49.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 15:39:47.000000000', 'files': ['requirements.txt', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/61690b7e750dfe139cea62cb3760c20b85569dac', 'message': ""Blacklist Ansible 2.8.9\n\nBackport: train\n\nOpenStack Ansible modules were broken in Ansible 2.8.9. This affects\nkolla-toolbox, and kayobe's ansible install for tasks that interact with\nAPIs. See https://github.com/ansible/ansible/issues/68042 and\nhttps://bugs.launchpad.net/kolla/+bug/1866181.\n\nThis change blacklists ansible 2.8.9 for Kayobe and Kolla Ansible. A\nseparate change will be made to kolla to blacklist ansible 2.8.9 from\nthe kolla-toolbox image.\n\nChange-Id: I535ab240b7ab8f3ab104b49170e4a9ee01fc482b\nStory: 2007383\nTask: 38959\n(cherry picked from commit cdfb22e12c27b0a9df666ba46f1aeeda441ee6b0)\n""}]",0,711485,61690b7e750dfe139cea62cb3760c20b85569dac,8,3,1,14826,,,0,"Blacklist Ansible 2.8.9

Backport: train

OpenStack Ansible modules were broken in Ansible 2.8.9. This affects
kolla-toolbox, and kayobe's ansible install for tasks that interact with
APIs. See https://github.com/ansible/ansible/issues/68042 and
https://bugs.launchpad.net/kolla/+bug/1866181.

This change blacklists ansible 2.8.9 for Kayobe and Kolla Ansible. A
separate change will be made to kolla to blacklist ansible 2.8.9 from
the kolla-toolbox image.

Change-Id: I535ab240b7ab8f3ab104b49170e4a9ee01fc482b
Story: 2007383
Task: 38959
(cherry picked from commit cdfb22e12c27b0a9df666ba46f1aeeda441ee6b0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/711485/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ansible/roles/kolla-ansible/templates/requirements.txt.j2']",2,61690b7e750dfe139cea62cb3760c20b85569dac,,"ansible>=2.6,<2.9,!=2.8.9","ansible>=2.6,<2.9",2,2
openstack%2Fcharm-ceph-osd~master~Ifffdca4d8c467dbb126e2470a73047074df19675,openstack/charm-ceph-osd,master,Ifffdca4d8c467dbb126e2470a73047074df19675,Sync charm-helpers,ABANDONED,2020-01-22 17:11:21.000000000,2020-03-05 19:11:02.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 17:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/75c1510dc5921ea7392f51aa37689721f43b7a30', 'message': 'Sync charm-helpers\n\nChange-Id: Ifffdca4d8c467dbb126e2470a73047074df19675\n'}, {'number': 2, 'created': '2020-01-27 16:17:48.000000000', 'files': ['hooks/charmhelpers/contrib/hahelpers/cluster.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/6192264f40afef37d505cc921da1a3c094b1cd52', 'message': 'Sync charm-helpers\n\nChange-Id: Ifffdca4d8c467dbb126e2470a73047074df19675\n'}]",0,703844,6192264f40afef37d505cc921da1a3c094b1cd52,7,2,2,17097,,,0,"Sync charm-helpers

Change-Id: Ifffdca4d8c467dbb126e2470a73047074df19675
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/44/703844/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py']",10,75c1510dc5921ea7392f51aa37689721f43b7a30,," # Ussuri 'ussuri': 'bionic-updates/ussuri', 'bionic-ussuri': 'bionic-updates/ussuri', 'bionic-ussuri/updates': 'bionic-updates/ussuri', 'bionic-updates/ussuri': 'bionic-updates/ussuri', 'ussuri/proposed': 'bionic-proposed/ussuri', 'bionic-ussuri/proposed': 'bionic-proposed/ussuri', 'bionic-proposed/ussuri': 'bionic-proposed/ussuri',",,208,11
openstack%2Fcharm-ceph-mon~master~I8e5304becf85f7fe0a308f575b0c20b1aff3e601,openstack/charm-ceph-mon,master,I8e5304becf85f7fe0a308f575b0c20b1aff3e601,Sync charm-helpers,ABANDONED,2020-01-22 17:13:10.000000000,2020-03-05 19:10:56.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-22 17:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/34fdab1a283db0bbdd5cbcc3dd87a0cf324f30e0', 'message': 'Sync charm-helpers\n\nChange-Id: I8e5304becf85f7fe0a308f575b0c20b1aff3e601\n'}, {'number': 2, 'created': '2020-01-27 16:19:03.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/7b2f06acbaced810448ff2ab1e05eec8e480c3c7', 'message': 'Sync charm-helpers\n\nChange-Id: I8e5304becf85f7fe0a308f575b0c20b1aff3e601\n'}]",0,703845,7b2f06acbaced810448ff2ab1e05eec8e480c3c7,7,2,2,17097,,,0,"Sync charm-helpers

Change-Id: I8e5304becf85f7fe0a308f575b0c20b1aff3e601
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/45/703845/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/amulet/deployment.py', 'hooks/charmhelpers/contrib/charmsupport/nrpe.py', 'hooks/charmhelpers/contrib/python/__init__.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/charmhelpers/contrib/openstack/vaultlocker.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py']",14,34fdab1a283db0bbdd5cbcc3dd87a0cf324f30e0,," 'bionic_ussuri', 'focal_ussuri',",,508,118
openstack%2Fheat~stable%2Fstein~I56aede8209e425ee6c2d762a44db8cda5416e69b,openstack/heat,stable/stein,I56aede8209e425ee6c2d762a44db8cda5416e69b,Ignore Not Found when deleting Keystone role assignment,MERGED,2020-02-27 10:40:31.000000000,2020-03-05 19:09:03.000000000,2020-03-05 19:06:47.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 10:40:31.000000000', 'files': ['heat/engine/resources/openstack/keystone/role_assignments.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1c6dee1f90851aad55ff9b77cc1b724e43b96e16', 'message': ""Ignore Not Found when deleting Keystone role assignment\n\nIf the project has already been deleted, don't let that prevent role\nassignments on it from being deleted.\n\nChange-Id: I56aede8209e425ee6c2d762a44db8cda5416e69b\nTask: 30955\n(cherry picked from commit 8c67437378ca505c5752cee0d862d806ca11c3a0)\n""}]",0,710218,1c6dee1f90851aad55ff9b77cc1b724e43b96e16,18,4,1,8833,,,0,"Ignore Not Found when deleting Keystone role assignment

If the project has already been deleted, don't let that prevent role
assignments on it from being deleted.

Change-Id: I56aede8209e425ee6c2d762a44db8cda5416e69b
Task: 30955
(cherry picked from commit 8c67437378ca505c5752cee0d862d806ca11c3a0)
",git fetch https://review.opendev.org/openstack/heat refs/changes/18/710218/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/keystone/role_assignments.py'],1,1c6dee1f90851aad55ff9b77cc1b724e43b96e16,, with self.client_plugin().ignore_not_found: self.delete_assignment(user_id=self.user_id) with self.client_plugin().ignore_not_found: self.delete_assignment(group_id=self.group_id), self.delete_assignment(user_id=self.user_id) self.delete_assignment(group_id=self.group_id),4,2
openstack%2Fdesignate-tempest-plugin~master~I8e42ddd73c4c4f4a2d5cc348b75ddf342c7d04f2,openstack/designate-tempest-plugin,master,I8e42ddd73c4c4f4a2d5cc348b75ddf342c7d04f2,Limit where dnspython3 is installed,MERGED,2020-02-27 12:47:52.000000000,2020-03-05 19:02:02.000000000,2020-03-05 18:58:26.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 12:47:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0fb8c493a256d076b6023a1213569326c051fc42', 'message': 'Limit where dnspython3 is installed\n\ntempest is still testing tools that have python2 environments, and due to\nthe branchless setup, we need to make sure dnspython3 is not installed on\npython2.7\n\nChange-Id: I8e42ddd73c4c4f4a2d5cc348b75ddf342c7d04f2\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,710243,0fb8c493a256d076b6023a1213569326c051fc42,16,4,1,8099,,,0,"Limit where dnspython3 is installed

tempest is still testing tools that have python2 environments, and due to
the branchless setup, we need to make sure dnspython3 is not installed on
python2.7

Change-Id: I8e42ddd73c4c4f4a2d5cc348b75ddf342c7d04f2
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/43/710243/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0fb8c493a256d076b6023a1213569326c051fc42,,"dnspython>=1.14.0;python_version=='2.7' # http://www.dnspython.org/LICENSE dnspython3!=1.13.0,!=1.14.0,>=1.12.0;python_version>='3.0' # http://www.dnspython.org/LICENSE","dnspython3!=1.13.0,!=1.14.0,>=1.12.0 # http://www.dnspython.org/LICENSE",2,1
openstack%2Fopenstack-health~master~I5fd09a0621a314e3ac508601ea1ec464e41b03b7,openstack/openstack-health,master,I5fd09a0621a314e3ac508601ea1ec464e41b03b7,Update nodejs to 10 LTS,MERGED,2020-03-05 03:10:51.000000000,2020-03-05 18:54:08.000000000,2020-03-05 18:54:08.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-03-05 03:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/5e0273565628447230ca9edc0c592d3932aa50ce', 'message': 'Update nodejs to 10 LTS\n\nThis patch updates the zuul nodejs test jobs to use the\nLTS version 10 of nodejs because nodejs4 version\nrun to xenial and we already switch to bionic. Horizon has\ndefine a template for nodejs 10 job so using the same\ntemplate here.\n\nChange-Id: I5fd09a0621a314e3ac508601ea1ec464e41b03b7\n'}, {'number': 2, 'created': '2020-03-05 05:53:26.000000000', 'files': ['.zuul.yaml', 'package.json'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/a88c4fd073fc811532269ed9a4e66fd24f86bc4d', 'message': 'Update nodejs to 10 LTS\n\nThis patch updates the zuul nodejs test jobs to use the\nLTS version 10 of nodejs because nodejs4 version\nrun to xenial and we already switch to bionic. Horizon has\ndefine a template for nodejs 10 job so using the same\ntemplate here.\n\nChange-Id: I5fd09a0621a314e3ac508601ea1ec464e41b03b7\n'}]",0,711380,a88c4fd073fc811532269ed9a4e66fd24f86bc4d,10,4,2,29313,,,0,"Update nodejs to 10 LTS

This patch updates the zuul nodejs test jobs to use the
LTS version 10 of nodejs because nodejs4 version
run to xenial and we already switch to bionic. Horizon has
define a template for nodejs 10 job so using the same
template here.

Change-Id: I5fd09a0621a314e3ac508601ea1ec464e41b03b7
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/80/711380/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5e0273565628447230ca9edc0c592d3932aa50ce,, - horizon-nodejs10-jobs, - nodejs4-jobs,1,1
openstack%2Fproject-config~master~I50f9826929488cf80341ae3e921c4ee89825aa84,openstack/project-config,master,I50f9826929488cf80341ae3e921c4ee89825aa84,Remove networking-zvm entry,MERGED,2020-03-05 08:33:48.000000000,2020-03-05 18:51:41.000000000,2020-03-05 18:51:41.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 08:33:48.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e7876e4790d024eb25ed0b68aede9d2fba7ec0ed', 'message': 'Remove networking-zvm entry\n\nAs part of dropping py27 job, openstack-python3-ussuri-jobs\nhas been added to networking-zvm .zuul.yaml file:\n\nhttps://review.opendev.org/#/c/711395/\n\nRemoving the networking-zvm entry in zuul.d/projects.yaml\nas it is no longer needed anymore.\n\nChange-Id: I50f9826929488cf80341ae3e921c4ee89825aa84\n'}]",0,711399,e7876e4790d024eb25ed0b68aede9d2fba7ec0ed,7,3,1,9725,,,0,"Remove networking-zvm entry

As part of dropping py27 job, openstack-python3-ussuri-jobs
has been added to networking-zvm .zuul.yaml file:

https://review.opendev.org/#/c/711395/

Removing the networking-zvm entry in zuul.d/projects.yaml
as it is no longer needed anymore.

Change-Id: I50f9826929488cf80341ae3e921c4ee89825aa84
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/711399/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,e7876e4790d024eb25ed0b68aede9d2fba7ec0ed,drop-py27-networking-zvm,, name: x/networking-zvm templates: - openstack-python-jobs-neutron - project:,0,5
openstack%2Fproject-config~master~I9fc4a14ae21d3b069db1fed12136b6cc787ae599,openstack/project-config,master,I9fc4a14ae21d3b069db1fed12136b6cc787ae599,zuul.d/projects.yaml: remove x/networking-6wind entry,MERGED,2020-03-05 10:01:44.000000000,2020-03-05 18:49:13.000000000,2020-03-05 18:49:13.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 13869}, {'_account_id': 22348}, {'_account_id': 28375}]","[{'number': 1, 'created': '2020-03-05 10:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/21fceb4d8f078a4e9a6060da3cb1dc961f856e6c', 'message': 'Update jobs for  networking-6wind\n\nnetworking-6wind no longer supports Python2.7 due to changes in requirements and rpm-deps list\nDue to the following commit in x/networking-6wind:  changes in project requirements list and rpm-deps\n\nChange-Id: I9fc4a14ae21d3b069db1fed12136b6cc787ae599\nSigned-off-by: Valentina Krasnobaeva <valentina.krasnobaeva@6wind.com>\n'}, {'number': 2, 'created': '2020-03-05 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6634770254475e37c3bc07a3710363696783353', 'message': 'zuul.d/projects.yaml: remove x/networking-6wind entry\n\nThe following commit in x/networking-6wind 3b8f98af1c6d\n(""Fix dup dependency in requirements.txt, align unit tests"")\nadds .zuul.yaml with updated opendev CI Zuul jobs list. So no longer need to\nmaintain x/networking-6wind entry in the global zuul.d/projects.yaml.\n\nChange-Id: I9fc4a14ae21d3b069db1fed12136b6cc787ae599\nSigned-off-by: Valentina Krasnobaeva <valentina.krasnobaeva@6wind.com>\n'}, {'number': 3, 'created': '2020-03-05 14:35:51.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe261109f68c74f60dca9b455088817e928e6a56', 'message': 'zuul.d/projects.yaml: remove x/networking-6wind entry\n\nThe following commit in x/networking-6wind 3b8f98af1c6d\n(""Fix dup dependency in requirements.txt, align unit tests"")\nadds .zuul.yaml with updated opendev CI Zuul jobs list. So no longer need to\nmaintain x/networking-6wind entry in the global zuul.d/projects.yaml.\n\nChange-Id: I9fc4a14ae21d3b069db1fed12136b6cc787ae599\nSigned-off-by: Valentina Krasnobaeva <valentina.krasnobaeva@6wind.com>\nAcked-by: Maxime Leroy <maxime.leroy@6wind.com>\n'}]",4,711419,fe261109f68c74f60dca9b455088817e928e6a56,17,5,3,28375,,,0,"zuul.d/projects.yaml: remove x/networking-6wind entry

The following commit in x/networking-6wind 3b8f98af1c6d
(""Fix dup dependency in requirements.txt, align unit tests"")
adds .zuul.yaml with updated opendev CI Zuul jobs list. So no longer need to
maintain x/networking-6wind entry in the global zuul.d/projects.yaml.

Change-Id: I9fc4a14ae21d3b069db1fed12136b6cc787ae599
Signed-off-by: Valentina Krasnobaeva <valentina.krasnobaeva@6wind.com>
Acked-by: Maxime Leroy <maxime.leroy@6wind.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/711419/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,21fceb4d8f078a4e9a6060da3cb1dc961f856e6c,, check: jobs: - openstack-tox-pep8 - openstack-tox-py36 gate: jobs: - openstack-tox-pep8 - openstack-tox-py36 post: jobs: - publish-openstack-python-branch-tarball, templates: - openstack-python-jobs-neutron,11,2
openstack%2Fpuppet-openstack-integration~master~I7d964e266522cba6e5eef8a7a6e43000ec2d354a,openstack/puppet-openstack-integration,master,I7d964e266522cba6e5eef8a7a6e43000ec2d354a,add centos-8 standalone puppet job,MERGED,2020-03-04 19:41:00.000000000,2020-03-05 18:39:14.000000000,2020-03-05 18:39:13.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 19:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/aecdfa937abff34fc8b452cc1bfc42e67c9b0527', 'message': 'add centos-8 standalone puppet job\n\nAdd the centos-8 job for ussuri\nand master+\n\nRelated-Bug: #1865525\nChange-Id: I7d964e266522cba6e5eef8a7a6e43000ec2d354a\n'}, {'number': 2, 'created': '2020-03-04 19:44:57.000000000', 'files': ['zuul.d/tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e754ce1e429a022ee4b2648cd6ed2719a6b72ba3', 'message': 'add centos-8 standalone puppet job\n\nAdd the centos-8 job for ussuri\nand master+\n\nRelated-Bug: #1865525\nChange-Id: I7d964e266522cba6e5eef8a7a6e43000ec2d354a\n'}]",1,711320,e754ce1e429a022ee4b2648cd6ed2719a6b72ba3,10,4,2,9592,,,0,"add centos-8 standalone puppet job

Add the centos-8 job for ussuri
and master+

Related-Bug: #1865525
Change-Id: I7d964e266522cba6e5eef8a7a6e43000ec2d354a
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/20/711320/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tripleo.yaml'],1,aecdfa937abff34fc8b452cc1bfc42e67c9b0527,centos-8-jobs, branches: ^(?stable/(rocky|stein|train)).*$ irrelevant-files: &standalone_irrelevant_files- job: name: tripleo-puppet-ci-centos-8-standalone parent: tripleo-ci-centos-8-standalone branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$ irrelevant-files: *standalone_irrelevant_files - tripleo-puppet-ci-centos-8-standalone - tripleo-puppet-ci-centos-8-standalone, branches: ^(?!stable/(newton|ocata|pike|queens)).*$ irrelevant-files:,10,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I82810c239da169c3a87060b8c1b08a3a5755f673,openstack/tripleo-heat-templates,stable/train,I82810c239da169c3a87060b8c1b08a3a5755f673,nova-compute-container: add missing condition for ksmdisabled,MERGED,2020-03-05 00:14:52.000000000,2020-03-05 18:31:26.000000000,2020-03-05 18:31:26.000000000,"[{'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 00:14:52.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae2aac5d057cdbcbd30f20e23e4ced06276d4b6d', 'message': 'nova-compute-container: add missing condition for ksmdisabled\n\nIf ""disable KSM services"" is skipped, we don\'t want to run the task\nnamed ""delete PageKSM after disable ksm on compute"", so let\'s add the\nsame condition and also use ""is changed"" which is cleaner.\n\nChange-Id: I82810c239da169c3a87060b8c1b08a3a5755f673\n(cherry picked from commit 96e600576c9b30133b98860428995d3b1dde22db)\n'}]",0,711368,ae2aac5d057cdbcbd30f20e23e4ced06276d4b6d,8,4,1,3153,,,0,"nova-compute-container: add missing condition for ksmdisabled

If ""disable KSM services"" is skipped, we don't want to run the task
named ""delete PageKSM after disable ksm on compute"", so let's add the
same condition and also use ""is changed"" which is cleaner.

Change-Id: I82810c239da169c3a87060b8c1b08a3a5755f673
(cherry picked from commit 96e600576c9b30133b98860428995d3b1dde22db)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/711368/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,ae2aac5d057cdbcbd30f20e23e4ced06276d4b6d,condition/ksm-stable/train," when: - ""'ksm.service' in ansible_facts.services"" - ksmdisabled is changed", when: ksmdisabled.changed,3,1
openstack%2Fnova~master~I05cef73aa71c97a1fa0f3dee0c28b2a2b00b97d6,openstack/nova,master,I05cef73aa71c97a1fa0f3dee0c28b2a2b00b97d6,Update resource tracker to use per-hypervisor lock,ABANDONED,2020-02-25 20:52:15.000000000,2020-03-05 18:23:24.000000000,,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29100}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-25 20:52:15.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c1136ec63c7df564316304e01212b6c1835e8ca5', 'message': 'Update resource tracker to use per-hypervisor lock\n\nCurrently, the resource tracker uses one semaphore (""compute_resources"")\nto lock updates around a specific compute host. This makes sense when in\na traditional nova-compute use-case, where the host == the hypervisor.\nHowever, in drivers such as Ironic, a single compute service manages\nmultiple hypervisors. This means that any updates to any hypervisor will\nlock the compute process and prevent it from making updates to another\nhypervisor.\n\nCombined with behavior such as the update_available_resource periodic\ntask, which runs every minute by default and necessarily locks the\ncompute host during inspection, the compute process experiences a severe\nslowdown from the user\'s point of view, and instance builds can get\nstuck waiting for a claim, up to and exceeding an hour in some\ndeployments.\n\nThis changes the lock behavior to lock on the ""nodename"" (the hypervisor\nhostname) instead of having a single lock for every operation. This\npreserves the isolation of changes within a single hypervisor, but\nallows multiple different hypervisors to be updated without locking\neach other. To accomplish this, the synchronized decorator cannot be\nused, as function arguments are needed to compute the lock name.\nInstead, the ""lock"" mechanism inside oslo.lockutils, which implements a\ncontext manager, is used to gate execution of the business logic.\n\nChange-Id: I05cef73aa71c97a1fa0f3dee0c28b2a2b00b97d6\nRelated-Bug: #1864122\n'}]",9,709832,c1136ec63c7df564316304e01212b6c1835e8ca5,18,9,1,29100,,,0,"Update resource tracker to use per-hypervisor lock

Currently, the resource tracker uses one semaphore (""compute_resources"")
to lock updates around a specific compute host. This makes sense when in
a traditional nova-compute use-case, where the host == the hypervisor.
However, in drivers such as Ironic, a single compute service manages
multiple hypervisors. This means that any updates to any hypervisor will
lock the compute process and prevent it from making updates to another
hypervisor.

Combined with behavior such as the update_available_resource periodic
task, which runs every minute by default and necessarily locks the
compute host during inspection, the compute process experiences a severe
slowdown from the user's point of view, and instance builds can get
stuck waiting for a claim, up to and exceeding an hour in some
deployments.

This changes the lock behavior to lock on the ""nodename"" (the hypervisor
hostname) instead of having a single lock for every operation. This
preserves the isolation of changes within a single hypervisor, but
allows multiple different hypervisors to be updated without locking
each other. To accomplish this, the synchronized decorator cannot be
used, as function arguments are needed to compute the lock name.
Instead, the ""lock"" mechanism inside oslo.lockutils, which implements a
context manager, is used to gate execution of the business logic.

Change-Id: I05cef73aa71c97a1fa0f3dee0c28b2a2b00b97d6
Related-Bug: #1864122
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/709832/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/utils.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",5,c1136ec63c7df564316304e01212b6c1835e8ca5,bug/1864122," with utils.lock(nodename): if self.disabled(nodename): # instance_claim was called before update_available_resource # (which ensures that a compute node exists for nodename). We # shouldn't get here but in case we do, just set the instance's # host and nodename attribute (probably incorrect) and return a # NoopClaim. # TODO(jaypipes): Remove all the disabled junk from the # resource tracker. Servicegroup API-level active-checking # belongs in the nova-compute manager. self._set_instance_host_and_node(instance, nodename) return claims.NopClaim() # sanity checks: if instance.host: LOG.warning(""Host field should not be set on the instance "" ""until resources have been claimed."", instance=instance) if instance.node: LOG.warning(""Node field should not be set on the instance "" ""until resources have been claimed."", instance=instance) cn = self.compute_nodes[nodename] pci_requests = instance.pci_requests claim = claims.Claim(context, instance, nodename, self, cn, pci_requests, limits=limits) # self._set_instance_host_and_node() will save instance to the DB # so set instance.numa_topology first. We need to make sure # that numa_topology is saved while under a lock so that the # resource audit knows about any cpus we've pinned. instance_numa_topology = claim.claimed_numa_topology instance.numa_topology = instance_numa_topology if self.pci_tracker: # NOTE(jaypipes): ComputeNode.pci_device_pools is set below # in _update_usage_from_instance(). self.pci_tracker.claim_instance(context, pci_requests, instance_numa_topology) claimed_resources = self._claim_resources(allocations) instance.resources = claimed_resources # Mark resources in-use and update stats self._update_usage_from_instance(context, instance, nodename) elevated = context.elevated() # persist changes to the compute node: self._update(elevated, cn) return claim with utils.lock(nodename): return self._move_claim(context, instance, instance_type, nodename, migration, allocations, move_type='evacuation', limits=limits, image_meta=image_meta) with utils.lock(nodename): return self._move_claim(context, instance, instance_type, nodename, migration, allocations, image_meta=image_meta, limits=limits) with utils.lock(nodename): # TODO(Luyao) will pass allocations to live_migration_claim after # the live migration change is done, now just set it None to # _move_claim return self._move_claim(context, instance, instance_type, nodename, migration, None, move_type='live-migration', image_meta=image_meta, limits=limits) be done while the resource semaphore is held so the resource resource tracking. This should be done while the resource semaphore is held. while the resource semaphore is held so the resource claim will not be lost if the audit process starts. This should be done while the resource semaphore is held so the resource claim will not be lost if the audit process starts. with utils.lock(nodename): self._update_usage_from_instance(context, instance, nodename, is_removed=True) instance.clear_numa_topology() self._unset_instance_host_and_node(instance) self._update(context.elevated(), self.compute_nodes[nodename]) with utils.lock(nodename): # Remove usage for an instance that is tracked in migrations, such # as on the dest node during revert resize. if instance['uuid'] in self.tracked_migrations: migration = self.tracked_migrations.pop(instance['uuid']) if not instance_type: instance_type = self._get_instance_type(instance, prefix, migration) # Remove usage for an instance that is not tracked in migrations # (such as on the source node after a migration). # NOTE(lbeliveau): On resize on the same node, the instance is # included in both tracked_migrations and tracked_instances. elif instance['uuid'] in self.tracked_instances: self.tracked_instances.remove(instance['uuid']) if instance_type is not None: numa_topology = self._get_migration_context_resource( 'numa_topology', instance, prefix=prefix) usage = self._get_usage_dict( instance_type, instance, numa_topology=numa_topology) self._drop_pci_devices(instance, nodename, prefix) resources = self._get_migration_context_resource( 'resources', instance, prefix=prefix) self._release_assigned_resources(resources) self._update_usage(usage, nodename, sign=-1) ctxt = context.elevated() self._update(ctxt, self.compute_nodes[nodename]) with utils.lock(nodename): if self.disabled(nodename): return uuid = instance['uuid'] # don't update usage for this instance unless it submitted a # resource claim first: if uuid in self.tracked_instances: self._update_usage_from_instance(context, instance, nodename) self._update(context.elevated(), self.compute_nodes[nodename]) def _update_available_resource(self, context, resources, startup=False): with utils.lock(nodename): # initialize the compute node object, creating it # if it does not already exist. is_new_compute_node = self._init_compute_node(context, resources) # if we could not init the compute node the tracker will be # disabled and we should quit now if self.disabled(nodename): return # Grab all instances assigned to this node: instances = objects.InstanceList.get_by_host_and_node( context, self.host, nodename, expected_attrs=['system_metadata', 'numa_topology', 'flavor', 'migration_context', 'resources']) # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) # Grab all in-progress migrations: migrations = ( objects.MigrationList.get_in_progress_by_host_and_node( context, self.host, nodename)) self._pair_instances_to_migrations(migrations, instance_by_uuid) self._update_usage_from_migrations(context, migrations, nodename) # A new compute node means there won't be a resource provider yet # since that would be created via the _update() call below, and if # there is no resource provider then there are no allocations # against it. if not is_new_compute_node: self._remove_deleted_instances_allocations( context, self.compute_nodes[nodename], migrations, instance_by_uuid) # Detect and account for orphaned instances that may exist on the # hypervisor, but are not in the DB: orphans = self._find_orphaned_instances() self._update_usage_from_orphans(orphans, nodename) cn = self.compute_nodes[nodename] # NOTE(yjiang5): Because pci device tracker status is not cleared # in this periodic task, and also because the resource tracker is # not notified when instances are deleted, we need remove all # usages from deleted instances. self.pci_tracker.clean_usage(instances, migrations, orphans) dev_pools_obj = self.pci_tracker.stats.to_device_pools_obj() cn.pci_device_pools = dev_pools_obj self._report_final_resource_view(nodename) metrics = self._get_host_metrics(context, nodename) # TODO(pmurray): metrics should not be a json string in # ComputeNode, but it is. This should be changed in ComputeNode cn.metrics = jsonutils.dumps(metrics) # Update assigned resources to self.assigned_resources self._populate_assigned_resources(context, instance_by_uuid) # update the compute_node self._update(context, cn, startup=startup) LOG.debug('Compute_service record updated for %(host)s:%(node)s', {'host': self.host, 'node': nodename}) # Check if there is any resource assigned but not found # in provider tree if startup: self._check_resources(context) def claim_pci_devices(self, context, pci_requests, instance): :param instance: instance object with utils.lock(instance.node): result = self.pci_tracker.claim_instance( context, pci_requests, None) self.pci_tracker.save(context) return result with utils.lock(instance.node): self.pci_tracker.allocate_instance(instance) self.pci_tracker.save(context) with utils.lock(instance.node): self.pci_tracker.free_instance_allocations(context, instance) self.pci_tracker.save(context) with utils.lock(instance.node): self.pci_tracker.free_instance_claims(context, instance) self.pci_tracker.save(context)","COMPUTE_RESOURCE_SEMAPHORE = ""compute_resources"" @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) if self.disabled(nodename): # instance_claim() was called before update_available_resource() # (which ensures that a compute node exists for nodename). We # shouldn't get here but in case we do, just set the instance's # host and nodename attribute (probably incorrect) and return a # NoopClaim. # TODO(jaypipes): Remove all the disabled junk from the resource # tracker. Servicegroup API-level active-checking belongs in the # nova-compute manager. return claims.NopClaim() # sanity checks: if instance.host: LOG.warning(""Host field should not be set on the instance "" ""until resources have been claimed."", instance=instance) if instance.node: LOG.warning(""Node field should not be set on the instance "" ""until resources have been claimed."", instance=instance) cn = self.compute_nodes[nodename] pci_requests = instance.pci_requests claim = claims.Claim(context, instance, nodename, self, cn, pci_requests, limits=limits) # self._set_instance_host_and_node() will save instance to the DB # so set instance.numa_topology first. We need to make sure # that numa_topology is saved while under COMPUTE_RESOURCE_SEMAPHORE # so that the resource audit knows about any cpus we've pinned. instance_numa_topology = claim.claimed_numa_topology instance.numa_topology = instance_numa_topology self._set_instance_host_and_node(instance, nodename) if self.pci_tracker: # NOTE(jaypipes): ComputeNode.pci_device_pools is set below # in _update_usage_from_instance(). self.pci_tracker.claim_instance(context, pci_requests, instance_numa_topology) claimed_resources = self._claim_resources(allocations) instance.resources = claimed_resources # Mark resources in-use and update stats self._update_usage_from_instance(context, instance, nodename) elevated = context.elevated() # persist changes to the compute node: self._update(elevated, cn) return claim @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) return self._move_claim(context, instance, instance_type, nodename, migration, allocations, move_type='evacuation', limits=limits, image_meta=image_meta) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) return self._move_claim(context, instance, instance_type, nodename, migration, allocations, image_meta=image_meta, limits=limits) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) # TODO(Luyao) will pass allocations to live_migration_claim after the # live migration change is done, now just set it None to _move_claim return self._move_claim(context, instance, instance_type, nodename, migration, None, move_type='live-migration', image_meta=image_meta, limits=limits) be done while the COMPUTE_RESOURCES_SEMAPHORE is held so the resource resource tracking. This should be done while the COMPUTE_RESOURCES_SEMAPHORE is held. while the COMPUTE_RESOURCES_SEMAPHORE is held so the resource claim will not be lost if the audit process starts. This should be done while the COMPUTE_RESOURCES_SEMAPHORE is held so the resource claim will not be lost if the audit process starts. @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) self._update_usage_from_instance(context, instance, nodename, is_removed=True) instance.clear_numa_topology() self._unset_instance_host_and_node(instance) self._update(context.elevated(), self.compute_nodes[nodename]) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) # Remove usage for an instance that is tracked in migrations, such as # on the dest node during revert resize. if instance['uuid'] in self.tracked_migrations: migration = self.tracked_migrations.pop(instance['uuid']) if not instance_type: instance_type = self._get_instance_type(instance, prefix, migration) # Remove usage for an instance that is not tracked in migrations (such # as on the source node after a migration). # NOTE(lbeliveau): On resize on the same node, the instance is # included in both tracked_migrations and tracked_instances. elif instance['uuid'] in self.tracked_instances: self.tracked_instances.remove(instance['uuid']) if instance_type is not None: numa_topology = self._get_migration_context_resource( 'numa_topology', instance, prefix=prefix) usage = self._get_usage_dict( instance_type, instance, numa_topology=numa_topology) self._drop_pci_devices(instance, nodename, prefix) resources = self._get_migration_context_resource( 'resources', instance, prefix=prefix) self._release_assigned_resources(resources) self._update_usage(usage, nodename, sign=-1) ctxt = context.elevated() self._update(ctxt, self.compute_nodes[nodename]) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) if self.disabled(nodename): return uuid = instance['uuid'] # don't update usage for this instance unless it submitted a resource # claim first: if uuid in self.tracked_instances: self._update_usage_from_instance(context, instance, nodename) self._update(context.elevated(), self.compute_nodes[nodename]) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) def _update_available_resource(self, context, resources, startup=False): # initialize the compute node object, creating it # if it does not already exist. is_new_compute_node = self._init_compute_node(context, resources) # if we could not init the compute node the tracker will be # disabled and we should quit now if self.disabled(nodename): return # Grab all instances assigned to this node: instances = objects.InstanceList.get_by_host_and_node( context, self.host, nodename, expected_attrs=['system_metadata', 'numa_topology', 'flavor', 'migration_context', 'resources']) # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) # Grab all in-progress migrations: migrations = objects.MigrationList.get_in_progress_by_host_and_node( context, self.host, nodename) self._pair_instances_to_migrations(migrations, instance_by_uuid) self._update_usage_from_migrations(context, migrations, nodename) # A new compute node means there won't be a resource provider yet since # that would be created via the _update() call below, and if there is # no resource provider then there are no allocations against it. if not is_new_compute_node: self._remove_deleted_instances_allocations( context, self.compute_nodes[nodename], migrations, instance_by_uuid) # Detect and account for orphaned instances that may exist on the # hypervisor, but are not in the DB: orphans = self._find_orphaned_instances() self._update_usage_from_orphans(orphans, nodename) cn = self.compute_nodes[nodename] # NOTE(yjiang5): Because pci device tracker status is not cleared in # this periodic task, and also because the resource tracker is not # notified when instances are deleted, we need remove all usages # from deleted instances. self.pci_tracker.clean_usage(instances, migrations, orphans) dev_pools_obj = self.pci_tracker.stats.to_device_pools_obj() cn.pci_device_pools = dev_pools_obj self._report_final_resource_view(nodename) metrics = self._get_host_metrics(context, nodename) # TODO(pmurray): metrics should not be a json string in ComputeNode, # but it is. This should be changed in ComputeNode cn.metrics = jsonutils.dumps(metrics) # Update assigned resources to self.assigned_resources self._populate_assigned_resources(context, instance_by_uuid) # update the compute_node self._update(context, cn, startup=startup) LOG.debug('Compute_service record updated for %(host)s:%(node)s', {'host': self.host, 'node': nodename}) # Check if there is any resource assigned but not found # in provider tree if startup: self._check_resources(context) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) def claim_pci_devices(self, context, pci_requests): result = self.pci_tracker.claim_instance( context, pci_requests, None) self.pci_tracker.save(context) return result @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) self.pci_tracker.allocate_instance(instance) self.pci_tracker.save(context) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) self.pci_tracker.free_instance_allocations(context, instance) self.pci_tracker.save(context) @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) self.pci_tracker.free_instance_claims(context, instance) self.pci_tracker.save(context)",197,188
openstack%2Fopenstack-helm~master~I395c69c420ff8bdeb68847cf3edd3bde18241aa8,openstack/openstack-helm,master,I395c69c420ff8bdeb68847cf3edd3bde18241aa8,Enable Apparmor Docker default to neutron,MERGED,2020-03-04 23:00:33.000000000,2020-03-05 18:16:39.000000000,2020-03-05 18:14:56.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 23:00:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec0df828a4c2622c8e9c2e8c933945048444d58c', 'message': 'Enable Apparmor Docker default to neutron\n\nChange-Id: I395c69c420ff8bdeb68847cf3edd3bde18241aa8\n'}, {'number': 2, 'created': '2020-03-05 04:06:24.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/values_overrides/apparmor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ec1ba0d5d9614615d3fc105944909ebbe09de9b', 'message': 'Enable Apparmor Docker default to neutron\n\nThis enabled for neutron-server\n\nChange-Id: I395c69c420ff8bdeb68847cf3edd3bde18241aa8\n'}]",0,711355,8ec1ba0d5d9614615d3fc105944909ebbe09de9b,10,3,2,29131,,,0,"Enable Apparmor Docker default to neutron

This enabled for neutron-server

Change-Id: I395c69c420ff8bdeb68847cf3edd3bde18241aa8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/711355/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/values_overrides/apparmor.yaml']",2,ec0df828a4c2622c8e9c2e8c933945048444d58c,, neutron-server: neutron-server: runtime/default,,3,0
openstack%2Ftripleo-ansible~master~I4da414fbadf6fa000ee564e59e89298ac8a3db9d,openstack/tripleo-ansible,master,I4da414fbadf6fa000ee564e59e89298ac8a3db9d,update tripleo-ansible ci for centos-8,MERGED,2020-03-02 16:01:21.000000000,2020-03-05 17:59:22.000000000,2020-03-05 17:59:22.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 16:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19353205bbf7bb0b9dac4632961b817e57cbe8c2', 'message': 'update tripleo-ansible ci for centos-8\n\nChange-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d\n'}, {'number': 2, 'created': '2020-03-02 16:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f72975e46cbcd6d2cc5ffc47d1427d833574525e', 'message': 'update tripleo-ansible ci for centos-8\n\nChange-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d\n'}, {'number': 3, 'created': '2020-03-02 16:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f6ddced258a9e7f84d4000d643cbf6ebde5a101', 'message': 'update tripleo-ansible ci for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\nthis change also adds a default standalone job\nto tripleo-ansible changes.\n\nRelated-Bug: #1865525\nChange-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d\n'}, {'number': 4, 'created': '2020-03-03 16:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b494723f09b3fa9691f42c422b8297640a8d4a59', 'message': 'update tripleo-ansible ci for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\nthis change also adds a default standalone job\nto tripleo-ansible changes.\n\nRelated-Bug: #1865525\nChange-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d\n'}, {'number': 5, 'created': '2020-03-03 16:51:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/755a7a9863bc043118c4c5433b131a1235bcd3d3', 'message': 'update tripleo-ansible ci for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\nthis change also adds a default standalone job\nto tripleo-ansible changes.\n\nRelated-Bug: #1865525\nChange-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d\n'}, {'number': 6, 'created': '2020-03-03 16:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d64cf0b127c21dd30e2f6bc2c7f58d40153b8dc', 'message': 'update tripleo-ansible ci for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\nthis change also adds a default standalone job\nto tripleo-ansible changes.\n\nRelated-Bug: #1865525\nChange-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d\n'}, {'number': 7, 'created': '2020-03-04 19:54:32.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/661aaba67e850fd92ae9b0be9033f012d745c7e4', 'message': 'update tripleo-ansible ci for centos-8\n\nmove centos-7 jobs to centos-8 where possible.\nthis change also adds a default standalone job\nto tripleo-ansible changes.\n\nRelated-Bug: #1865525\nChange-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d\n'}]",20,710810,661aaba67e850fd92ae9b0be9033f012d745c7e4,41,7,7,9592,,,0,"update tripleo-ansible ci for centos-8

move centos-7 jobs to centos-8 where possible.
this change also adds a default standalone job
to tripleo-ansible changes.

Related-Bug: #1865525
Change-Id: I4da414fbadf6fa000ee564e59e89298ac8a3db9d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/10/710810/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,19353205bbf7bb0b9dac4632961b817e57cbe8c2,centos-8-jobs, - tripleo-ci-centos-8-standalone: dependencies: &deps - openstack-tox-linters files: - ^tripleo_ansible/.* irrelevant-files: &standalone_ignored - .*.md$ - .*.rst$ - .*.txt$ - ^_skeleton_role_/.* - ^tripleo_ansible/.*molecule.* - ^tripleo_ansible/.*meta.* - ^tripleo_ansible/roles/test_deps/.* - tripleo-ci-centos-8-scenario001-standalone: &scenario001 - tripleo-ci-centos-8-scenario002-standalone: &scenario002 - tripleo-ci-centos-8-scenario003-standalone: &scenario003 - tripleo-ci-centos-8-scenario004-standalone: &scenario004, - tripleo-ci-centos-7-scenario001-standalone: &scenario001 - tripleo-ci-centos-7-scenario002-standalone: &scenario002 - tripleo-ci-centos-7-scenario003-standalone: &scenario003 - tripleo-ci-centos-7-scenario004-standalone: &scenario004,17,4
openstack%2Fglance~master~I19c4e7d8dba4f9f8f0f3efa2a37245a7510cd052,openstack/glance,master,I19c4e7d8dba4f9f8f0f3efa2a37245a7510cd052,Amend tempest-irrelevant-files to avoid false positives,MERGED,2020-02-14 10:16:53.000000000,2020-03-05 17:54:00.000000000,2020-03-05 17:40:38.000000000,"[{'_account_id': 5314}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-14 10:16:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/9181935d6c86ad6a0005720bc9638164b8e619be', 'message': ""Amend tempest-irrelevant-files to avoid false positives\n\nBoth setup.cfg and files in etc/ can be relevant for devstack based\nruns, as the recent breakage [0] has shown. Don't ignore them when\ndeciding whether to run tempest-based jobs.\n\n[0] https://review.opendev.org/707759\n\nChange-Id: I19c4e7d8dba4f9f8f0f3efa2a37245a7510cd052\n""}]",0,707810,9181935d6c86ad6a0005720bc9638164b8e619be,11,6,1,13252,,,0,"Amend tempest-irrelevant-files to avoid false positives

Both setup.cfg and files in etc/ can be relevant for devstack based
runs, as the recent breakage [0] has shown. Don't ignore them when
deciding whether to run tempest-based jobs.

[0] https://review.opendev.org/707759

Change-Id: I19c4e7d8dba4f9f8f0f3efa2a37245a7510cd052
",git fetch https://review.opendev.org/openstack/glance refs/changes/10/707810/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,9181935d6c86ad6a0005720bc9638164b8e619be,test-zuul,, - ^etc/.*$ - ^setup.cfg$,0,2
openstack%2Fglance~master~I33b84c4d68e8077271447bcbdea4b7052eb01204,openstack/glance,master,I33b84c4d68e8077271447bcbdea4b7052eb01204,Remove empty policy.json,MERGED,2019-11-14 19:08:00.000000000,2020-03-05 17:50:11.000000000,2020-03-05 17:40:36.000000000,"[{'_account_id': 4257}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-14 19:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e22c3ee4994786e7661ebb4d91d67605a0d61fac', 'message': 'Remove empty policy.json\n\nSupplying a policy.json file is no longer necessary.\n\nChange-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204\nDepends-On: https://review.opendev.org/694386\n'}, {'number': 2, 'created': '2019-11-14 21:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/199b12b81c224e61f6c1aba0bbe482d4f2c7b9f7', 'message': 'Remove empty policy.json\n\nSupplying a policy.json file is no longer necessary.\n\nChange-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204\nDepends-On: https://review.opendev.org/694386\n'}, {'number': 3, 'created': '2019-12-12 02:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f162f2e260776e9d82fd0424efabb1b96228cca7', 'message': 'Remove empty policy.json\n\nSupplying a policy.json file is no longer necessary.\n\nChange-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204\nDepends-On: https://review.opendev.org/694386\n'}, {'number': 4, 'created': '2019-12-12 19:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/029ccf17a0a80cd1272752b901e9f7dbdb19be4c', 'message': 'Remove empty policy.json\n\nSupplying a policy.json file is no longer necessary.\n\nChange-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204\nDepends-On: https://review.opendev.org/694386\n'}, {'number': 5, 'created': '2019-12-16 14:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/89e2276f670f77239ad10842861ad3e6110b5d4a', 'message': 'Remove empty policy.json\n\nSupplying a policy.json file is no longer necessary.\n\nChange-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204\nDepends-On: https://review.opendev.org/694386\n'}, {'number': 6, 'created': '2020-01-06 18:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f4520756a1645171e9040f6f3692bd907e667c44', 'message': 'Remove empty policy.json\n\nSupplying a policy.json file is no longer necessary.\n\nChange-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204\nDepends-On: https://review.opendev.org/694386\n'}, {'number': 7, 'created': '2020-01-16 22:15:49.000000000', 'files': ['releasenotes/notes/policy-in-code-implications-438449a73af2893c.yaml', 'etc/property-protections-policies.conf.sample', 'etc/policy.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/5bffac018656145a986a9a8227167cf0e1890be8', 'message': 'Remove empty policy.json\n\nSupplying a policy.json file is no longer necessary.\n\nChange-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204\nDepends-On: https://review.opendev.org/694386\n'}]",0,694387,5bffac018656145a986a9a8227167cf0e1890be8,31,6,7,4257,,,0,"Remove empty policy.json

Supplying a policy.json file is no longer necessary.

Change-Id: I33b84c4d68e8077271447bcbdea4b7052eb01204
Depends-On: https://review.opendev.org/694386
",git fetch https://review.opendev.org/openstack/glance refs/changes/87/694387/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.json'],1,e22c3ee4994786e7661ebb4d91d67605a0d61fac,694387,,{ } ,0,2
openstack%2Frequirements~master~I407f5071bd1f651b9f60a6427287dca48150ab61,openstack/requirements,master,I407f5071bd1f651b9f60a6427287dca48150ab61,update constraint for oslo.db to new release 8.0.0,MERGED,2020-03-03 14:35:58.000000000,2020-03-05 17:50:11.000000000,2020-03-05 17:40:29.000000000,"[{'_account_id': 4690}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 14:35:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e88904abe4da9546a91e8cce18bbf9d8ed5a0b47', 'message': 'update constraint for oslo.db to new release 8.0.0\n\nChange-Id: I407f5071bd1f651b9f60a6427287dca48150ab61\nmeta:version: 8.0.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I8ff829a8884688d23d3c8298b3c09eb484148e28\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,711031,e88904abe4da9546a91e8cce18bbf9d8ed5a0b47,22,3,1,11131,,,0,"update constraint for oslo.db to new release 8.0.0

Change-Id: I407f5071bd1f651b9f60a6427287dca48150ab61
meta:version: 8.0.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I8ff829a8884688d23d3c8298b3c09eb484148e28
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/711031/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e88904abe4da9546a91e8cce18bbf9d8ed5a0b47,new-release,oslo.db===8.0.0;python_version=='3.6' oslo.db===8.0.0;python_version=='3.7',oslo.db===7.0.0;python_version=='3.6' oslo.db===7.0.0;python_version=='3.7',2,2
openstack%2Fnova~master~Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5,openstack/nova,master,Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5,Stop using PlacementDirect,MERGED,2019-03-04 22:31:39.000000000,2020-03-05 17:50:07.000000000,2020-03-05 17:40:32.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-03-04 22:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a8d73443c92f7751027da362d4fd043eeac3edf', 'message': 'Stop using PlacementDirect\n\nPlacementDirect was integrated into a functional test suite when it was\nfirst created as a way to prove that it worked and demonstrate how to\nuse it.\n\nHowever, it was a pain then, because the interceptor needs to be created\nevery time you want to use it; and since extracted placement started\ndiverging from in-tree placement, other problems started cropping up\n(see the associated bug).\n\nSo this commit removes the use of PlacementDirect from nova. Details:\n\n- test_report_client now uses PlacementFixture. So all the `with\n  interceptor` context management is gone. This accounts for the vast\n  majority of the apparent change, which is just outdenting those\n  contexts.\n- SchedulerReportClientTestBase, which was doing some hocus pocus to\n  wrap the SchedulerReportClient such that we could do some microversion\n  checks, is removed. The test suite simply instantiates the\n  microversion-checking wrapper class directly as the client used by the\n  test cases.\n- We were taking advantage of a PlacementDirect feature allowing us to\n  default to the latest microversion if not explicitly specified in the\n  request. Without this, we had to add the `version` kwarg to some of\n  the calls we were making to SchedulerReportClient primitives\n  (get/put/post/delete).\n- A piece of test_update_from_provider_tree was using a\n  deliberately-broken interceptor to prove that the code in question\n  wasn\'t hitting the API. We replace this with a non-callable mock on\n  the Adapter\'s request method.\n- test_global_request_id was taking advantage of the interceptor to\n  validate that the global request ID was making it to the ""other side""\n  of the API boundary. This was fun, but overkill. We now simply assert\n  that the correct HTTP header is making it into the ksa Adapter\'s\n  request method.\n- Functional test suite test_resource_tracker.IronicResourceTrackerTest\n  was inheriting from the SchedulerReportClientTestBase class, but not\n  using the interceptor anywhere. Can\'t tell you why that was done. So\n  now it just uses the plain old test.TestBase like everyone else.\n\nChange-Id: Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5\nCloses-Bug: #1818560\n'}, {'number': 2, 'created': '2019-03-05 14:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4872867d2bc3b1f0d4c31d58889c852b973e9eb3', 'message': 'Stop using PlacementDirect\n\nPlacementDirect was integrated into a functional test suite when it was\nfirst created as a way to prove that it worked and demonstrate how to\nuse it.\n\nHowever, it was a pain then, because the interceptor needs to be created\nevery time you want to use it; and since extracted placement started\ndiverging from in-tree placement, other problems started cropping up\n(see the associated bug).\n\nSo this commit removes the use of PlacementDirect from nova. Details:\n\n- test_report_client now uses PlacementFixture. So all the `with\n  interceptor` context management is gone. This accounts for the vast\n  majority of the apparent change, which is just outdenting those\n  contexts.\n- SchedulerReportClientTestBase, which was doing some hocus pocus to\n  wrap the SchedulerReportClient such that we could do some microversion\n  checks, is removed. The test suite simply instantiates the\n  microversion-checking wrapper class directly as the client used by the\n  test cases.\n- We were taking advantage of a PlacementDirect feature allowing us to\n  default to the latest microversion if not explicitly specified in the\n  request. Without this, we had to add the `version` kwarg to some of\n  the calls we were making to SchedulerReportClient primitives\n  (get/put/post/delete).\n- A piece of test_update_from_provider_tree was using a\n  deliberately-broken interceptor to prove that the code in question\n  wasn\'t hitting the API. We replace this with a non-callable mock on\n  the Adapter\'s request method.\n- test_global_request_id was taking advantage of the interceptor to\n  validate that the global request ID was making it to the ""other side""\n  of the API boundary. This was fun, but overkill. We now simply assert\n  that the correct HTTP header is making it into the ksa Adapter\'s\n  request method.\n- Functional test suite test_resource_tracker.IronicResourceTrackerTest\n  was inheriting from the SchedulerReportClientTestBase class, but not\n  using the interceptor anywhere. Can\'t tell you why that was done. So\n  now it just uses the plain old test.TestBase like everyone else.\n\nChange-Id: Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5\nCloses-Bug: #1818560\n'}, {'number': 3, 'created': '2019-03-05 14:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73fc1df5f21147835058a27efe00ca6596320610', 'message': 'Stop using PlacementDirect\n\nPlacementDirect was integrated into a functional test suite when it was\nfirst created as a way to prove that it worked and demonstrate how to\nuse it.\n\nHowever, it was a pain then, because the interceptor needs to be created\nevery time you want to use it; and since extracted placement started\ndiverging from in-tree placement, other problems started cropping up\n(see the associated bug).\n\nSo this commit removes the use of PlacementDirect from nova. Details:\n\n- test_report_client now uses PlacementFixture. So all the `with\n  interceptor` context management is gone. This accounts for the vast\n  majority of the apparent change, which is just outdenting those\n  contexts.\n- SchedulerReportClientTestBase, which was doing some hocus pocus to\n  wrap the SchedulerReportClient such that we could do some microversion\n  checks, is removed. The test suite simply instantiates the\n  microversion-checking wrapper class directly as the client used by the\n  test cases.\n- We were taking advantage of a PlacementDirect feature allowing us to\n  default to the latest microversion if not explicitly specified in the\n  request. Without this, we had to add the `version` kwarg to some of\n  the calls we were making to SchedulerReportClient primitives\n  (get/put/post/delete).\n- A piece of test_update_from_provider_tree was using a\n  deliberately-broken interceptor to prove that the code in question\n  wasn\'t hitting the API. We replace this with a non-callable mock on\n  the Adapter\'s request method.\n- test_global_request_id was taking advantage of the interceptor to\n  validate that the global request ID was making it to the ""other side""\n  of the API boundary. This was fun, but overkill. We now simply assert\n  that the correct HTTP header is making it into the ksa Adapter\'s\n  request method.\n- Functional test suite test_resource_tracker.IronicResourceTrackerTest\n  was inheriting from the SchedulerReportClientTestBase class, but not\n  using the interceptor anywhere. Can\'t tell you why that was done. So\n  now it just uses the plain old test.TestBase like everyone else.\n\nChange-Id: Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5\nCloses-Bug: #1818560\n'}, {'number': 4, 'created': '2019-03-11 19:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcbc623868c2e7419e9dd6fff2dc12047553c494', 'message': 'Stop using PlacementDirect\n\nPlacementDirect was integrated into a functional test suite when it was\nfirst created as a way to prove that it worked and demonstrate how to\nuse it.\n\nHowever, it was a pain then, because the interceptor needs to be created\nevery time you want to use it; and since extracted placement started\ndiverging from in-tree placement, other problems started cropping up\n(see the associated bug).\n\nSo this commit removes the use of PlacementDirect from nova. Details:\n\n- test_report_client now uses PlacementFixture. So all the `with\n  interceptor` context management is gone. This accounts for the vast\n  majority of the apparent change, which is just outdenting those\n  contexts.\n- SchedulerReportClientTestBase, which was doing some hocus pocus to\n  wrap the SchedulerReportClient such that we could do some microversion\n  checks, is removed. The test suite simply instantiates the\n  microversion-checking wrapper class directly as the client used by the\n  test cases.\n- We were taking advantage of a PlacementDirect feature allowing us to\n  default to the latest microversion if not explicitly specified in the\n  request. Without this, we had to add the `version` kwarg to some of\n  the calls we were making to SchedulerReportClient primitives\n  (get/put/post/delete).\n- A piece of test_update_from_provider_tree was using a\n  deliberately-broken interceptor to prove that the code in question\n  wasn\'t hitting the API. We replace this with a non-callable mock on\n  the Adapter\'s request method.\n- test_global_request_id was taking advantage of the interceptor to\n  validate that the global request ID was making it to the ""other side""\n  of the API boundary. This was fun, but overkill. We now simply assert\n  that the correct HTTP header is making it into the ksa Adapter\'s\n  request method.\n- Functional test suite test_resource_tracker.IronicResourceTrackerTest\n  was inheriting from the SchedulerReportClientTestBase class, but not\n  using the interceptor anywhere. Can\'t tell you why that was done. So\n  now it just uses the plain old test.TestCase like everyone else.\n\nChange-Id: Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5\nRelated-Bug: #1818560\n'}, {'number': 5, 'created': '2019-03-11 21:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b25ea3d54bfffbc015a0eb1853154e27788e9f99', 'message': 'Stop using PlacementDirect\n\nPlacementDirect was integrated into a functional test suite when it was\nfirst created as a way to prove that it worked [1] and demonstrate how\nto use it.\n\nHowever, it was a pain then, because the interceptor needs to be created\nevery time you want to use it; and since extracted placement started\ndiverging from in-tree placement, other problems started cropping up\n(see the associated bug).\n\nSo this commit removes the use of PlacementDirect from nova. Details:\n\n- test_report_client now uses PlacementFixture. So all the `with\n  interceptor` context management is gone. This accounts for the vast\n  majority of the apparent change, which is just outdenting those\n  contexts.\n- SchedulerReportClientTestBase, which was doing some hocus pocus to\n  wrap the SchedulerReportClient such that we could do some microversion\n  checks, is removed. The test suite simply instantiates the\n  microversion-checking wrapper class directly as the client used by the\n  test cases.\n- We were taking advantage of a PlacementDirect feature allowing us to\n  default to the latest microversion if not explicitly specified in the\n  request. Without this, we had to add the `version` kwarg to some of\n  the calls we were making to SchedulerReportClient primitives\n  (get/put/post/delete).\n- A piece of test_update_from_provider_tree was using a\n  deliberately-broken interceptor to prove that the code in question\n  wasn\'t hitting the API. We replace this with a non-callable mock on\n  the Adapter\'s request method.\n- test_global_request_id was taking advantage of the interceptor to\n  validate that the global request ID was making it to the ""other side""\n  of the API boundary. This was fun, but overkill. We now simply assert\n  that the correct HTTP header is making it into the ksa Adapter\'s\n  request method.\n- Functional test suite test_resource_tracker.IronicResourceTrackerTest\n  was inheriting from the SchedulerReportClientTestBase class, but not\n  using the interceptor anywhere. Can\'t tell you why that was done. So\n  now it just uses the plain old test.TestCase like everyone else.\n\n[1] This commit does remove all of nova\'s testing of PlacementDirect.\nHowever, it is still tested in the placement repository itself:\nhttps://github.com/openstack/placement/blob/69b9659a457b6d715ed47e6bd6d3b923d548c620/placement/tests/functional/test_direct.py\n\nChange-Id: Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5\nRelated-Bug: #1818560\n'}, {'number': 6, 'created': '2020-03-05 13:36:43.000000000', 'files': ['nova/tests/functional/test_report_client.py', 'nova/tests/functional/compute/test_resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f2d088b04e6e6896f0df04f03e92b32a539b6917', 'message': 'Stop using PlacementDirect\n\nPlacementDirect was integrated into a functional test suite when it was\nfirst created as a way to prove that it worked [1] and demonstrate how\nto use it.\n\nHowever, it was a pain then, because the interceptor needs to be created\nevery time you want to use it; and since extracted placement started\ndiverging from in-tree placement, other problems started cropping up\n(see the associated bug).\n\nSo this commit removes the use of PlacementDirect from nova. Details:\n\n- test_report_client now uses PlacementFixture. So all the `with\n  interceptor` context management is gone. This accounts for the vast\n  majority of the apparent change, which is just outdenting those\n  contexts.\n- SchedulerReportClientTestBase, which was doing some hocus pocus to\n  wrap the SchedulerReportClient such that we could do some microversion\n  checks, is removed. The test suite simply instantiates the\n  microversion-checking wrapper class directly as the client used by the\n  test cases.\n- We were taking advantage of a PlacementDirect feature allowing us to\n  default to the latest microversion if not explicitly specified in the\n  request. Without this, we had to add the `version` kwarg to some of\n  the calls we were making to SchedulerReportClient primitives\n  (get/put/post/delete).\n- A piece of test_update_from_provider_tree was using a\n  deliberately-broken interceptor to prove that the code in question\n  wasn\'t hitting the API. We replace this with a non-callable mock on\n  the Adapter\'s request method.\n- test_global_request_id was taking advantage of the interceptor to\n  validate that the global request ID was making it to the ""other side""\n  of the API boundary. This was fun, but overkill. We now simply assert\n  that the correct HTTP header is making it into the ksa Adapter\'s\n  request method.\n- Functional test suite test_resource_tracker.IronicResourceTrackerTest\n  was inheriting from the SchedulerReportClientTestBase class, but not\n  using the interceptor anywhere. Can\'t tell you why that was done. So\n  now it just uses the plain old test.TestCase like everyone else.\n\n[1] This commit does remove all of nova\'s testing of PlacementDirect.\nHowever, it is still tested in the placement repository itself:\nhttps://github.com/openstack/placement/blob/69b9659a457b6d715ed47e6bd6d3b923d548c620/placement/tests/functional/test_direct.py\n\nChange-Id: Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5\nRelated-Bug: #1818560\n'}]",21,640887,f2d088b04e6e6896f0df04f03e92b32a539b6917,68,16,6,14070,,,0,"Stop using PlacementDirect

PlacementDirect was integrated into a functional test suite when it was
first created as a way to prove that it worked [1] and demonstrate how
to use it.

However, it was a pain then, because the interceptor needs to be created
every time you want to use it; and since extracted placement started
diverging from in-tree placement, other problems started cropping up
(see the associated bug).

So this commit removes the use of PlacementDirect from nova. Details:

- test_report_client now uses PlacementFixture. So all the `with
  interceptor` context management is gone. This accounts for the vast
  majority of the apparent change, which is just outdenting those
  contexts.
- SchedulerReportClientTestBase, which was doing some hocus pocus to
  wrap the SchedulerReportClient such that we could do some microversion
  checks, is removed. The test suite simply instantiates the
  microversion-checking wrapper class directly as the client used by the
  test cases.
- We were taking advantage of a PlacementDirect feature allowing us to
  default to the latest microversion if not explicitly specified in the
  request. Without this, we had to add the `version` kwarg to some of
  the calls we were making to SchedulerReportClient primitives
  (get/put/post/delete).
- A piece of test_update_from_provider_tree was using a
  deliberately-broken interceptor to prove that the code in question
  wasn't hitting the API. We replace this with a non-callable mock on
  the Adapter's request method.
- test_global_request_id was taking advantage of the interceptor to
  validate that the global request ID was making it to the ""other side""
  of the API boundary. This was fun, but overkill. We now simply assert
  that the correct HTTP header is making it into the ksa Adapter's
  request method.
- Functional test suite test_resource_tracker.IronicResourceTrackerTest
  was inheriting from the SchedulerReportClientTestBase class, but not
  using the interceptor anywhere. Can't tell you why that was done. So
  now it just uses the plain old test.TestCase like everyone else.

[1] This commit does remove all of nova's testing of PlacementDirect.
However, it is still tested in the placement repository itself:
https://github.com/openstack/placement/blob/69b9659a457b6d715ed47e6bd6d3b923d548c620/placement/tests/functional/test_direct.py

Change-Id: Icb889c09a69e7c5cbf9330e5d9917d6ab3ac3dc5
Related-Bug: #1818560
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/640887/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_report_client.py', 'nova/tests/functional/compute/test_resource_tracker.py']",2,6a8d73443c92f7751027da362d4fd043eeac3edf,bug/1818560,from nova import testclass IronicResourceTrackerTest(test.TestCase):,from nova.tests.functional import test_report_client as test_baseclass IronicResourceTrackerTest(test_base.SchedulerReportClientTestBase):,905,976
openstack%2Fneutron~master~If0274741bb4b077e652eada7272bd9165ba32690,openstack/neutron,master,If0274741bb4b077e652eada7272bd9165ba32690,"Revert ""Blacklist test_multiple_ports_portrange_remote for OVN""",MERGED,2020-02-28 19:51:58.000000000,2020-03-05 17:50:04.000000000,2020-03-05 17:40:27.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-28 19:51:58.000000000', 'files': ['zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ae949d5cb0a1084eb9b0938b940476281eb2c2f', 'message': 'Revert ""Blacklist test_multiple_ports_portrange_remote for OVN""\n\nNeeded patch in the OVN repository has been merged [1].\n\n[1] https://github.com/openvswitch/ovs/commit/764df790b95aa4e6bf035d4b3ca14e8800c71368\n\nThis reverts commit 4d5817003cc2766839f7629234d7a72697821ae9.\n\nChange-Id: If0274741bb4b077e652eada7272bd9165ba32690\n'}]",0,710516,8ae949d5cb0a1084eb9b0938b940476281eb2c2f,36,8,1,24791,,,0,"Revert ""Blacklist test_multiple_ports_portrange_remote for OVN""

Needed patch in the OVN repository has been merged [1].

[1] https://github.com/openvswitch/ovs/commit/764df790b95aa4e6bf035d4b3ca14e8800c71368

This reverts commit 4d5817003cc2766839f7629234d7a72697821ae9.

Change-Id: If0274741bb4b077e652eada7272bd9165ba32690
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/710516/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-singlenode.yaml'],1,8ae949d5cb0a1084eb9b0938b940476281eb2c2f,,," # TODO(mjozefcz): Remove this blacklist when https://bugs.launchpad.net/neutron/+bug/1864620 # will be fixed. tempest_black_regex: ""(?:neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_portrange_remote)""",0,3
openstack%2Fcharm-nova-cell-controller~master~I09e12aee3c0693036f8f348b6b3531ce048931f8,openstack/charm-nova-cell-controller,master,I09e12aee3c0693036f8f348b6b3531ce048931f8,Update charm build requirements,MERGED,2020-03-03 08:57:40.000000000,2020-03-05 17:31:58.000000000,2020-03-05 17:31:57.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:57:40.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/a6a5ef6e448326065122e3c032021c982bd278d0', 'message': 'Update charm build requirements\n\nChange-Id: I09e12aee3c0693036f8f348b6b3531ce048931f8\n'}]",0,710948,a6a5ef6e448326065122e3c032021c982bd278d0,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: I09e12aee3c0693036f8f348b6b3531ce048931f8
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/48/710948/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,a6a5ef6e448326065122e3c032021c982bd278d0,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Fcharm-placement~master~I33c6aa75f7fe1997722ce7ffdafd90584cce7fcb,openstack/charm-placement,master,I33c6aa75f7fe1997722ce7ffdafd90584cce7fcb,Update charm build requirements,MERGED,2020-03-03 08:58:28.000000000,2020-03-05 17:31:57.000000000,2020-03-05 17:31:57.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:58:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/da03a01d051cf131e7670364bb5bbbea6e4607ad', 'message': 'Update charm build requirements\n\nChange-Id: I33c6aa75f7fe1997722ce7ffdafd90584cce7fcb\n'}]",0,710952,da03a01d051cf131e7670364bb5bbbea6e4607ad,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: I33c6aa75f7fe1997722ce7ffdafd90584cce7fcb
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/52/710952/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,da03a01d051cf131e7670364bb5bbbea6e4607ad,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I9844ed166ecf0718935ac1537b719000da816dbb,openstack/tripleo-ansible,stable/train,I9844ed166ecf0718935ac1537b719000da816dbb,Creates container_config_data module,MERGED,2020-03-04 21:52:35.000000000,2020-03-05 17:29:10.000000000,2020-03-05 17:29:10.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 21:52:35.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/tests/modules/test_container_config_data.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/191b60731d3d499fad94ce72e7ed3b249ac9518b', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nUnit tests will come later.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n(cherry picked from commit c2602508e12c95dbff46827a64e0ea2d190ca646)\n'}]",0,711347,191b60731d3d499fad94ce72e7ed3b249ac9518b,8,4,1,3153,,,0,"Creates container_config_data module

container_config_data is a new module that replaces some tasks that were
previously used to read and process JSON files on a host.

Doing it in a module will reduce the number of tasks, and make it a
little bit faster and easier to debug in big deployments.

Unit tests will come later.

Change-Id: I9844ed166ecf0718935ac1537b719000da816dbb
(cherry picked from commit c2602508e12c95dbff46827a64e0ea2d190ca646)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/47/711347/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/tests/modules/test_container_config_data.py']",4,191b60731d3d499fad94ce72e7ed3b249ac9518b,train/configdata,"# Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tripleo_ansible.ansible_plugins.modules import container_config_data from tripleo_ansible.tests import base as tests_base class TestContainerConfigData(tests_base.TestCase): def test_run(self): # TODO(emilien) write actual tests pass ",,225,23
openstack%2Fcharm-vault~master~I86a4e02a99d5fee616afd014100e6d73dad28f28,openstack/charm-vault,master,I86a4e02a99d5fee616afd014100e6d73dad28f28,Update charm build requirements,MERGED,2020-03-03 08:58:53.000000000,2020-03-05 17:26:50.000000000,2020-03-05 17:26:50.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:58:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/187ac78f50a0865701a3d596e5769f7ac27e0c6b', 'message': 'Update charm build requirements\n\nChange-Id: I86a4e02a99d5fee616afd014100e6d73dad28f28\n'}]",0,710954,187ac78f50a0865701a3d596e5769f7ac27e0c6b,9,3,1,13686,,,0,"Update charm build requirements

Change-Id: I86a4e02a99d5fee616afd014100e6d73dad28f28
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/54/710954/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,187ac78f50a0865701a3d596e5769f7ac27e0c6b,update-build-requirements,# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,,2,0
openstack%2Foslo.cache~master~I07555b658f3730851baaa0772b2567f1f23bcab6,openstack/oslo.cache,master,I07555b658f3730851baaa0772b2567f1f23bcab6,Fix python2 syntaxe in doc,MERGED,2020-03-05 16:38:39.000000000,2020-03-05 17:13:04.000000000,2020-03-05 17:11:34.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 16:38:39.000000000', 'files': ['doc/source/user/usage.rst'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/aa2a5c21eb1b6f314ec547d70ec37c410066c11f', 'message': 'Fix python2 syntaxe in doc\n\nChange-Id: I07555b658f3730851baaa0772b2567f1f23bcab6\n'}]",0,711505,aa2a5c21eb1b6f314ec547d70ec37c410066c11f,7,2,1,28522,,,0,"Fix python2 syntaxe in doc

Change-Id: I07555b658f3730851baaa0772b2567f1f23bcab6
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/05/711505/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/usage.rst'],1,aa2a5c21eb1b6f314ec547d70ec37c410066c11f,nit, print(x), print x,1,1
openstack%2Fglance_store~master~I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf,openstack/glance_store,master,I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf,Restore quotes removal for swift config in Python3,MERGED,2019-08-11 18:57:05.000000000,2020-03-05 17:11:22.000000000,2020-03-05 17:09:51.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8863}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-11 18:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/1ea06c72ea2f4f1aadd04887ec0a1c18bf79e20d', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 2, 'created': '2019-08-11 20:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/3591392e8730e59cdbfc6cd33bba8fceab5157e2', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 3, 'created': '2019-08-11 22:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/ad3683483d275b1cfdb3e3494a268c46e1a4a346', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 4, 'created': '2019-08-11 22:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9b7ca836a7cd9d7f52cf62f75bde37a4028a4ec4', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 5, 'created': '2019-08-12 01:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/46e12422d9e2d4d5695edde8273518bd5615b929', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 6, 'created': '2019-08-12 03:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/cb7267647ef872d12dd379fa5f6fe81701375c35', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 7, 'created': '2019-08-12 14:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d9acc772a8e0dce681b83257d70b9a266219fc8c', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 8, 'created': '2020-01-27 20:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/324e2329b2cbb173f53a76723b0dc8adb88c0124', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 9, 'created': '2020-01-28 22:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/cd65b7c99386641c463b40c77fc40d26b8200f65', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}, {'number': 10, 'created': '2020-01-29 00:12:00.000000000', 'files': ['glance_store/tests/unit/test_swift_store_utils.py', 'glance_store/tests/etc/glance-swift.conf', 'glance_store/_drivers/swift/utils.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/cb7ddec38377c3c64288494c359e1e31ab13c60f', 'message': 'Restore quotes removal for swift config in Python3\n\nConfigParser does not remove quotes in Python3 that may break existing\nconfiguration. This commit restores Python2 behavior and acts as\noslo.config StrOpt with quotes=True.\n\nCloses-bug: #1839778\nRelated-bug: #1839772\nChange-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf\n'}]",4,675792,cb7ddec38377c3c64288494c359e1e31ab13c60f,34,8,10,8863,,,0,"Restore quotes removal for swift config in Python3

ConfigParser does not remove quotes in Python3 that may break existing
configuration. This commit restores Python2 behavior and acts as
oslo.config StrOpt with quotes=True.

Closes-bug: #1839778
Related-bug: #1839772
Change-Id: I9e8e7e32b7abf1020081cc3b9fbdf7229403b7bf
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/92/675792/6 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/swift/utils.py'],1,1ea06c72ea2f4f1aadd04887ec0a1c18bf79e20d,," for key, value in reference.items(): if value: if set([value[0], value[-1]]) & set(['""', ""'""]): if value[-1] != value[0] or len(value) == 1: raise ValueError('Non-closed quote: %s' % value) reference[key] = value[1:-1] ",,8,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ie7f241ba5b7df5aea423df5cf03930cad1c1f3eb,openstack/tripleo-ansible,stable/train,Ie7f241ba5b7df5aea423df5cf03930cad1c1f3eb,Tune-up package install,MERGED,2020-03-04 21:55:21.000000000,2020-03-05 17:01:49.000000000,2020-03-05 17:01:49.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 21:55:21.000000000', 'files': ['tripleo_ansible/roles/tripleo-clients-install/tasks/main.yml', 'tripleo_ansible/roles/tripleo-clients-install/tasks/install_pkgs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aae28de17fae20acc1b786d161a1121a590e2f60', 'message': 'Tune-up package install\n\nThis change will make the client package install process faster by skipping the\ninclude loop which will make better use of the built-in ansible package action\nplugin.\n\nChange-Id: Ie7f241ba5b7df5aea423df5cf03930cad1c1f3eb\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 8ca2ae96e478b6785486f87f65951c17981142c1)\n'}]",0,711349,aae28de17fae20acc1b786d161a1121a590e2f60,7,4,1,3153,,,0,"Tune-up package install

This change will make the client package install process faster by skipping the
include loop which will make better use of the built-in ansible package action
plugin.

Change-Id: Ie7f241ba5b7df5aea423df5cf03930cad1c1f3eb
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 8ca2ae96e478b6785486f87f65951c17981142c1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/711349/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-clients-install/tasks/main.yml', 'tripleo_ansible/roles/tripleo-clients-install/tasks/install_pkgs.yml']",2,aae28de17fae20acc1b786d161a1121a590e2f60,train/package,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""tripleo-clients-install"" will search for and load any operating system variable file # found within the ""vars/"" path. If no OS files are found the task will skip. - name: Gather variables for each operating system include_vars: ""{{ item }}"" with_first_found: - skip: true files: - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_major_version | lower }}.yml"" - ""{{ ansible_distribution | lower }}.yml"" - ""{{ ansible_os_family | lower }}-{{ ansible_distribution_version.split('.')[0] }}.yml"" - ""{{ ansible_os_family | lower }}.yml"" tags: - always - name: ""Ensure {{ tripleo_clients_install_client }} package state is {{ tripleo_clients_install_pkg_state }}"" package: name: ""{{ tripleo_clients_install_python_prefix }}-{{ tripleo_clients_install_client }}client"" state: ""{{ tripleo_clients_install_pkg_state }}"" ",43,47
openstack%2Fhorizon~master~I30080f4e1a5ac04860c4341d966ee53131eb2022,openstack/horizon,master,I30080f4e1a5ac04860c4341d966ee53131eb2022,Cleanup python 2.7 handling logic,MERGED,2020-02-21 00:04:41.000000000,2020-03-05 16:43:50.000000000,2020-03-05 16:41:47.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-02-21 00:04:41.000000000', 'files': ['horizon/base.py', 'horizon/tables/base.py', 'horizon/test/helpers.py', 'openstack_dashboard/api/base.py', 'openstack_dashboard/test/integration_tests/decorators.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ac3d139c06b0031993ee42b307e39461789f72be', 'message': 'Cleanup python 2.7 handling logic\n\nWe have several codes to handle the differences between py2 and py3.\npy2 support has been dropped so there is no need for them now.\n\nChange-Id: I30080f4e1a5ac04860c4341d966ee53131eb2022\n'}]",0,709018,ac3d139c06b0031993ee42b307e39461789f72be,8,3,1,841,,,0,"Cleanup python 2.7 handling logic

We have several codes to handle the differences between py2 and py3.
py2 support has been dropped so there is no need for them now.

Change-Id: I30080f4e1a5ac04860c4341d966ee53131eb2022
",git fetch https://review.opendev.org/openstack/horizon refs/changes/18/709018/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/base.py', 'horizon/tables/base.py', 'horizon/test/helpers.py', 'openstack_dashboard/api/base.py', 'openstack_dashboard/test/integration_tests/decorators.py']",5,ac3d139c06b0031993ee42b307e39461789f72be,py27-cleanup," if bugs and isinstance(bugs, collections.abc.Iterable):","# Python 3.8 removes the ability to import the abstract base classes from # 'collections', but 'collections.abc' is not present in Python 2.7 # TODO(stephenfin): Remove when we drop support for Python 2.7 # pylint: disable=ungrouped-imports if hasattr(collections, 'abc'): from collections.abc import Iterable else: from collections import Iterable if bugs and isinstance(bugs, Iterable):",10,54
openstack%2Fironic~master~I7e4416113d06b3f10a78c28e14c9add89c21ef95,openstack/ironic,master,I7e4416113d06b3f10a78c28e14c9add89c21ef95,[doc] Missing --name option,MERGED,2020-03-05 13:12:59.000000000,2020-03-05 16:42:22.000000000,2020-03-05 14:47:25.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 13:12:59.000000000', 'files': ['doc/source/admin/drivers/redfish.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a15df60c3da28bbae44e8e3cbb0b5c4042730ed', 'message': '[doc] Missing --name option\n\nThe --name parameter needs to be passed when a node is created\nwith a name.\n\nChange-Id: I7e4416113d06b3f10a78c28e14c9add89c21ef95\n'}]",0,711452,7a15df60c3da28bbae44e8e3cbb0b5c4042730ed,9,4,1,11292,,,0,"[doc] Missing --name option

The --name parameter needs to be passed when a node is created
with a name.

Change-Id: I7e4416113d06b3f10a78c28e14c9add89c21ef95
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/711452/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/drivers/redfish.rst'],1,7a15df60c3da28bbae44e8e3cbb0b5c4042730ed,redfish_doc_name, --name node-0, node-0,1,1
openstack%2Fpython-tripleoclient~master~Ic0c246ff60579b8079279141b4c541b4f2105f6e,openstack/python-tripleoclient,master,Ic0c246ff60579b8079279141b4c541b4f2105f6e,Avoid TZ issues in test_image test,MERGED,2020-03-04 15:35:23.000000000,2020-03-05 16:40:09.000000000,2020-03-05 16:38:21.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 15:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/93e5aaea4ca7f59a49eecb278bdd2e99a2275779', 'message': 'Avoid TZ issues in test_image test\n\nCompare only minute and seconds when comparing timestamps\nChange-Id: Ic0c246ff60579b8079279141b4c541b4f2105f6e\n'}, {'number': 2, 'created': '2020-03-04 15:48:12.000000000', 'files': ['tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1ce32574d11e6a6b75372061e1bd4e8eb4eda730', 'message': 'Avoid TZ issues in test_image test\n\nCompare only minute and seconds when comparing timestamps\nChange-Id: Ic0c246ff60579b8079279141b4c541b4f2105f6e\n'}]",0,711253,1ce32574d11e6a6b75372061e1bd4e8eb4eda730,17,7,2,10969,,,0,"Avoid TZ issues in test_image test

Compare only minute and seconds when comparing timestamps
Change-Id: Ic0c246ff60579b8079279141b4c541b4f2105f6e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/53/711253/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'],1,93e5aaea4ca7f59a49eecb278bdd2e99a2275779,mistral_to_ansible," self.assertEqual(datetime.fromtimestamp(st_mtime).strftime(""%M:%S""), datetime.fromisoformat( image.created_at).strftime(""%M:%S""))"," self.assertEqual(datetime.fromtimestamp(st_mtime).isoformat(), image.created_at)",3,2
openstack%2Fansible-collections-openstack~master~Ifb21554d67863b4e4e964f3e98263c3dafcb607f,openstack/ansible-collections-openstack,master,Ifb21554d67863b4e4e964f3e98263c3dafcb607f,Add Openstack guidelines spec from Ansible,MERGED,2020-01-28 12:48:37.000000000,2020-03-05 16:39:08.000000000,2020-03-05 16:39:08.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 27379}, {'_account_id': 27900}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-01-28 12:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/adad19d33da05516056c79dc0c5d5025b7ab2855', 'message': 'WIP: porting Openstack guidelines spec from Ansible\n\nChange-Id: Ifb21554d67863b4e4e964f3e98263c3dafcb607f\n'}, {'number': 2, 'created': '2020-01-28 14:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8b93304e2f791981abf216e5b248a226097576c5', 'message': 'WIP: porting Openstack guidelines spec from Ansible\n\nChange-Id: Ifb21554d67863b4e4e964f3e98263c3dafcb607f\n'}, {'number': 3, 'created': '2020-01-28 17:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/b56f26f634ccddcc50532f2659ac60a814c8c600', 'message': 'WIP: porting Openstack guidelines spec from Ansible\n\nChange-Id: Ifb21554d67863b4e4e964f3e98263c3dafcb607f\n'}, {'number': 4, 'created': '2020-01-28 17:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4ce2b38cd11bb6858c32dc18d1273ad0a2c45453', 'message': 'WIP: porting Openstack guidelines spec from Ansible\n\nChange-Id: Ifb21554d67863b4e4e964f3e98263c3dafcb607f\n'}, {'number': 5, 'created': '2020-03-03 15:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ec92486170da8542cf7b010016ce4cd3ac447906', 'message': 'Add Openstack guidelines spec from Ansible\n\nThese may not be 100% perfect, but they are a good\nstarting place and we can improve them over time.\n\nChange-Id: Ifb21554d67863b4e4e964f3e98263c3dafcb607f\n'}, {'number': 6, 'created': '2020-03-05 15:40:54.000000000', 'files': ['docs/openstack_guidelines.rst'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/31b113d402a0b5e23113e8ac972785fc36c03cb8', 'message': 'Add Openstack guidelines spec from Ansible\n\nThese may not be 100% perfect, but they are a good\nstarting place and we can improve them over time.\n\nChange-Id: Ifb21554d67863b4e4e964f3e98263c3dafcb607f\n'}]",13,704558,31b113d402a0b5e23113e8ac972785fc36c03cb8,22,12,6,10969,,,0,"Add Openstack guidelines spec from Ansible

These may not be 100% perfect, but they are a good
starting place and we can improve them over time.

Change-Id: Ifb21554d67863b4e4e964f3e98263c3dafcb607f
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/58/704558/4 && git format-patch -1 --stdout FETCH_HEAD,['docs/openstack_guidelines.rst'],1,adad19d33da05516056c79dc0c5d5025b7ab2855,spec,".. _OpenStack_module_development: OpenStack Ansible Modules ========================= These are a set of modules for interacting with OpenStack as either an admin or an end user. If the module does not begin with ``os_``, it's either deprecated or soon to be. This document serves as developer coding guidelines for modules intended to be here. .. contents:: :local: Naming ------ * All module names should start with ``os_`` * Name any module that a cloud consumer would expect to use after the logical resource it manages: ``os_server`` not ``os_nova``. This naming convention acknowledges that the end user does not care which service manages the resource - that is a deployment detail. For example cloud consumers may not know whether their floating IPs are managed by Nova or Neutron. * Name any module that a cloud admin would expect to use with the service and the resource: ``os_keystone_domain``. * If the module is one that a cloud admin and a cloud consumer could both use, the cloud consumer rules apply. Interface --------- * If the resource being managed has an id, it should be returned. * If the resource being managed has an associated object more complex than an id, it should also be returned. Interoperability ---------------- * It should be assumed that the cloud consumer does not know a bazillion details about the deployment choices their cloud provider made, and a best effort should be made to present one sane interface to the Ansible user regardless of deployer insanity. * All modules should work appropriately against all existing known public OpenStack clouds. * It should be assumed that a user may have more than one cloud account that they wish to combine as part of a single Ansible-managed infrastructure. Libraries --------- * All modules should use ``openstack_full_argument_spec`` to pick up the standard input such as auth and ssl support. * All modules should include ``extends_documentation_fragment: openstack``. * All complex cloud interaction or interoperability code should be housed in the `openstacksdk <https://git.openstack.org/cgit/openstack/openstacksdk>`_ library. * All OpenStack API interactions should happen via the openstacksdk and not via OpenStack Client libraries. The OpenStack Client libraries do no have end users as a primary audience, they are for intra-server communication. Testing ------- * Integration testing is currently done in `OpenStack's CI system <https://git.openstack.org/cgit/openstack/openstacksdk/tree/openstack/tests/ansible>`_ * Testing in openstacksdk produces an obvious chicken-and-egg scenario. Work is under way to trigger from and report on PRs directly. ",,60,0
openstack%2Fansible-collections-openstack~master~I2ea0b04c8e56b3b7186ac2e9c475144340067636,openstack/ansible-collections-openstack,master,I2ea0b04c8e56b3b7186ac2e9c475144340067636,Clean up minor build quibbles,MERGED,2020-03-03 14:57:10.000000000,2020-03-05 16:39:07.000000000,2020-03-05 16:39:07.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 14:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6c650923e1abc4f7a04f99f232f35034fb703f33', 'message': ""Clean up minor build quibbles\n\ncollection build produces FILES.json and METADATA.json, so add them\nto the .gitignore. Also, remove the version line from galaxy.yml.in\nsince it's generated.\n\nChange-Id: I2ea0b04c8e56b3b7186ac2e9c475144340067636\n""}, {'number': 2, 'created': '2020-03-05 15:08:44.000000000', 'files': ['.gitignore', 'galaxy.yml.in'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1553d34b022f4a6ecbc45be33b1ba69374b387c8', 'message': ""Clean up minor build quibbles\n\ncollection build produces FILES.json and METADATA.json, so add them\nto the .gitignore. Also, remove the version line from galaxy.yml.in\nsince it's generated.\n\nChange-Id: I2ea0b04c8e56b3b7186ac2e9c475144340067636\n""}]",0,711036,1553d34b022f4a6ecbc45be33b1ba69374b387c8,11,3,2,2,,,0,"Clean up minor build quibbles

collection build produces FILES.json and METADATA.json, so add them
to the .gitignore. Also, remove the version line from galaxy.yml.in
since it's generated.

Change-Id: I2ea0b04c8e56b3b7186ac2e9c475144340067636
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/36/711036/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'galaxy.yml.in']",2,6c650923e1abc4f7a04f99f232f35034fb703f33,,,version: 1.0.0,2,1
openstack%2Fansible-collections-openstack~master~I6c82b49d7ce5ea8c9cde939d5d37ff54b969a598,openstack/ansible-collections-openstack,master,I6c82b49d7ce5ea8c9cde939d5d37ff54b969a598,Fix license metadata,MERGED,2020-03-03 14:55:36.000000000,2020-03-05 16:39:07.000000000,2020-03-05 16:39:07.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 14:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e8ab6b816b98cd94f0539241234b8213061133d9', 'message': 'Fix license metadata\n\nThe galaxy upload rejects GPLv3 and requires a valid SPDX license\ntag. The file headers list:\n\n  GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nwhich is a way of saying ""3 or later"" - so use that SPDX tag.\n\nAlso - the license headers refer to the file being COPYING, so\nrename the file and update it in the galaxy metadata to match.\n\nChange-Id: I6c82b49d7ce5ea8c9cde939d5d37ff54b969a598\n'}, {'number': 2, 'created': '2020-03-05 15:08:38.000000000', 'files': ['galaxy.yml.in', 'COPYING'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/e0200e9fafa0290882084d286a3212ebd59343d8', 'message': 'Fix license metadata\n\nThe galaxy upload rejects GPLv3 and requires a valid SPDX license\ntag. The file headers list:\n\n  GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)\n\nwhich is a way of saying ""3 or later"" - so use that SPDX tag.\n\nAlso - the license headers refer to the file being COPYING, so\nrename the file and update it in the galaxy metadata to match.\n\nChange-Id: I6c82b49d7ce5ea8c9cde939d5d37ff54b969a598\n'}]",0,711035,e0200e9fafa0290882084d286a3212ebd59343d8,11,4,2,2,,,0,"Fix license metadata

The galaxy upload rejects GPLv3 and requires a valid SPDX license
tag. The file headers list:

  GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)

which is a way of saying ""3 or later"" - so use that SPDX tag.

Also - the license headers refer to the file being COPYING, so
rename the file and update it in the galaxy metadata to match.

Change-Id: I6c82b49d7ce5ea8c9cde939d5d37ff54b969a598
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/35/711035/1 && git format-patch -1 --stdout FETCH_HEAD,"['galaxy.yml.in', 'COPYING']",2,e8ab6b816b98cd94f0539241234b8213061133d9,,,,2,2
openstack%2Fansible-collections-openstack~master~I0f82531e99a98d656b60079fd3e94d4e3a1dbb6b,openstack/ansible-collections-openstack,master,I0f82531e99a98d656b60079fd3e94d4e3a1dbb6b,Deal with collection build modifying tree,MERGED,2020-03-03 14:50:52.000000000,2020-03-05 16:39:06.000000000,2020-03-05 16:39:06.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 14:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a6fb8621a01c8cd88b8db62e178d7e258382d6f5', 'message': ""Deal with collection build modifying tree\n\nansible-galaxy collection build modifies the contents of the tree.\nLet's not go in to why this is bad, but instead just deal with it.\nThe issue in question is that is removes the +x bit from files in\nthe tree, which means you can't run a build twice in a row locally.\nShrug. Just roll with the -x and update our usage to reflect it.\n\nChange-Id: I0f82531e99a98d656b60079fd3e94d4e3a1dbb6b\n""}, {'number': 2, 'created': '2020-03-05 15:08:32.000000000', 'files': ['tests/sanity/ignore-2.9.txt', 'tools/build.py', 'ci/run-ansible-tests-collection.sh', 'tests/sanity/ignore-2.10.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/97eb24ac4d917a1bfe9bc8959fb9be237670139e', 'message': ""Deal with collection build modifying tree\n\nansible-galaxy collection build modifies the contents of the tree.\nLet's not go in to why this is bad, but instead just deal with it.\nThe issue in question is that is removes the +x bit from files in\nthe tree, which means you can't run a build twice in a row locally.\nShrug. Just roll with the -x and update our usage to reflect it.\n\nChange-Id: I0f82531e99a98d656b60079fd3e94d4e3a1dbb6b\n""}]",1,711033,97eb24ac4d917a1bfe9bc8959fb9be237670139e,11,3,2,2,,,0,"Deal with collection build modifying tree

ansible-galaxy collection build modifies the contents of the tree.
Let's not go in to why this is bad, but instead just deal with it.
The issue in question is that is removes the +x bit from files in
the tree, which means you can't run a build twice in a row locally.
Shrug. Just roll with the -x and update our usage to reflect it.

Change-Id: I0f82531e99a98d656b60079fd3e94d4e3a1dbb6b
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/33/711033/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/sanity/ignore-2.9.txt', 'ci/run-ansible-tests-collection.sh', 'tools/build.py', 'tests/sanity/ignore-2.10.txt', 'tox.ini']",5,a6fb8621a01c8cd88b8db62e178d7e258382d6f5,, python {toxinidir}/tools/build.py /bin/bash {toxinidir}/ci/run-ansible-tests-collection.sh -e {envdir} {posargs}, {toxinidir}/tools/build.py {toxinidir}/ci/run-ansible-tests-collection.sh -e {envdir} {posargs},2,5
openstack%2Fpuppet-pacemaker~master~Ib96d2561857f4f87badbbe0a1e125300bcb936b7,openstack/puppet-pacemaker,master,Ib96d2561857f4f87badbbe0a1e125300bcb936b7,Enforce firewall rules before pacemaker-auth,ABANDONED,2020-03-05 09:17:21.000000000,2020-03-05 16:30:39.000000000,,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 09:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/49b88485d915f5f80294226578f8efbd75540fd4', 'message': 'WIP enforce firewall rules before pacemaker-auth\n\nChange-Id: Ib96d2561857f4f87badbbe0a1e125300bcb936b7\n'}, {'number': 2, 'created': '2020-03-05 12:34:23.000000000', 'files': ['manifests/corosync.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/b5f7c947e777e70b2c3b893c7d077633597de205', 'message': ""Enforce firewall rules before pacemaker-auth\n\nWe want to make sure that any firewall rule set to open pacemaker ports\nis executed before we run any commands that invoke pcs to\nauthenticate remote nodes.\n\nIt simply makes sense from a high-level POV to explicitely open\nup firewall rules before we invoke pcs commands that will talk to\nremote nodes.\n\nI have actually seen one case in the wild where during a scaleup\nthe node being scaled up was waiting on Exec['wait-for-settle']\nand the bootstrap node failed to contact pcs on the scaled up node\nbecause there the firewall rules were never opened up as it was\nwaiting on the 'wait-for-settle' step.\n\nChange-Id: Ib96d2561857f4f87badbbe0a1e125300bcb936b7\n""}]",0,711405,b5f7c947e777e70b2c3b893c7d077633597de205,10,4,2,20172,,,0,"Enforce firewall rules before pacemaker-auth

We want to make sure that any firewall rule set to open pacemaker ports
is executed before we run any commands that invoke pcs to
authenticate remote nodes.

It simply makes sense from a high-level POV to explicitely open
up firewall rules before we invoke pcs commands that will talk to
remote nodes.

I have actually seen one case in the wild where during a scaleup
the node being scaled up was waiting on Exec['wait-for-settle']
and the bootstrap node failed to contact pcs on the scaled up node
because there the firewall rules were never opened up as it was
waiting on the 'wait-for-settle' step.

Change-Id: Ib96d2561857f4f87badbbe0a1e125300bcb936b7
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/05/711405/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/corosync.pp'],1,49b88485d915f5f80294226578f8efbd75540fd4,fw-before-auth, # Make sure that we open up any ports before attempting to authenticate to the pcsd service Firewall<||> -> Exec <|tag == 'pacemaker-auth'|>,,2,0
openstack%2Fhorizon~master~Ibd331dc77026ed8ca812822b08253650bcb140bc,openstack/horizon,master,Ibd331dc77026ed8ca812822b08253650bcb140bc,Drop custom formatwarning from settings.py,MERGED,2020-02-21 00:10:14.000000000,2020-03-05 16:29:33.000000000,2020-03-05 16:27:23.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 30619}]","[{'number': 1, 'created': '2020-02-21 00:10:14.000000000', 'files': ['openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/22c6409c634671fc6da34278054cf108def9c7ec', 'message': 'Drop custom formatwarning from settings.py\n\nopenstack_dashboard/settings.py defines a custom formatwarning function,\nbut it looks unnecessary. When using the custom function, there are\ndownsides: locations which cause warnings are not shown, and\nno newline is added at the end of warning messages.\n\nChange-Id: Ibd331dc77026ed8ca812822b08253650bcb140bc\n'}]",0,709020,22c6409c634671fc6da34278054cf108def9c7ec,11,5,1,841,,,0,"Drop custom formatwarning from settings.py

openstack_dashboard/settings.py defines a custom formatwarning function,
but it looks unnecessary. When using the custom function, there are
downsides: locations which cause warnings are not shown, and
no newline is added at the end of warning messages.

Change-Id: Ibd331dc77026ed8ca812822b08253650bcb140bc
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/709020/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/settings.py'],1,22c6409c634671fc6da34278054cf108def9c7ec,drop-customized-warnformat,,"import warningswarnings.formatwarning = lambda message, category, *args, **kwargs: \ '%s: %s' % (category.__name__, message) ",0,4
openstack%2Fcharm-percona-cluster~master~Ibb9c5e17d01c7bb1335d8a7c9087216af8d00b09,openstack/charm-percona-cluster,master,Ibb9c5e17d01c7bb1335d8a7c9087216af8d00b09,Mysqldump Action,MERGED,2020-02-18 23:36:24.000000000,2020-03-05 16:15:44.000000000,2020-03-05 15:58:38.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-18 23:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/483df346aaf8ac87687fda295111dad525ac7852', 'message': 'Mysqldump Action\n\nAdd the mysqldump and set-pxc-strict-mode actions to allow for dumping\ndatabases in text form.\n\nChange-Id: Ibb9c5e17d01c7bb1335d8a7c9087216af8d00b09\n'}, {'number': 2, 'created': '2020-02-25 18:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/8fcb1de60ac844c38e69464c7c9d084ba9a6e3e5', 'message': 'Mysqldump Action\n\nAdd the mysqldump and set-pxc-strict-mode actions to allow for dumping\ndatabases in text form.\n\nChange-Id: Ibb9c5e17d01c7bb1335d8a7c9087216af8d00b09\n'}, {'number': 3, 'created': '2020-02-28 22:57:27.000000000', 'files': ['actions/actions.py', 'actions/set-pxc-strict-mode', 'templates/root-my.cnf', 'actions/mysqldump', 'hooks/percona_utils.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/b73f5c4880bf1f68e29591720b5e6979d078b7a3', 'message': 'Mysqldump Action\n\nAdd the mysqldump and set-pxc-strict-mode actions to allow for dumping\ndatabases in text form.\n\nChange-Id: Ibb9c5e17d01c7bb1335d8a7c9087216af8d00b09\n'}]",2,708536,b73f5c4880bf1f68e29591720b5e6979d078b7a3,19,4,3,20805,,,0,"Mysqldump Action

Add the mysqldump and set-pxc-strict-mode actions to allow for dumping
databases in text form.

Change-Id: Ibb9c5e17d01c7bb1335d8a7c9087216af8d00b09
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/36/708536/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/actions.py', 'actions/set-pxc-strict-mode', 'actions/mysqldump', 'actions.yaml', 'hooks/percona_utils.py']",5,483df346aaf8ac87687fda295111dad525ac7852,mysql8-migration,"import datetime def set_pxc_strict_mode(mode): """"""Set PXC Strict Mode. :param mode: Strict mode: DISALBED, PERMISSIVE, ENFORCING or MASTER :type backup_dir: str :raises: Raises ValueError if mode is not a valide parameter :raises: Raises MySQLdb.OperationalError if SQL is not successful :returns: None :rtype: None """""" _VALID_PARAMS = [""DISABLED"", ""PERMISSIVE"", ""ENFORCING"", ""MASTER""] mode = mode.upper() if mode not in _VALID_PARAMS: raise ValueError( ""'{}' is not a valid parameter for pxc_strict_mode. "" ""Valid options are {}."".format(mode, "", "".join(_VALID_PARAMS))) m_helper = get_db_helper() m_helper.connect(password=m_helper.get_mysql_root_password()) m_helper.execute(""SET GLOBAL pxc_strict_mode='{}'"".format(mode)) def mysqldump(backup_dir, databases=None): """"""Execute a MySQL dump :param backup_dir: Path to the backup directory :type backup_dir: str :param databases: Comma delimited database names :type database: str :side effect: Calls subprocess.check_call :raises subprocess.CalledProcessError: If the mysqldump fails :returns: Path to the mysqldump file :rtype: str """""" _user = ""root"" _delimiter = "","" if not os.path.exists(backup_dir): mkdir( backup_dir, owner=""mysql"", group=""mysql"", perms=0o750) mysql_password = leader_get(""mysql.passwd"") bucmd = [""/usr/bin/mysqldump"", ""-u"", _user, ""-p{}"".format(mysql_password), ""--column-statistics=0"", ""--triggers"", ""--routines"", ""--events"", ""--ignore-table=mysql.event""] if databases is not None: _filename = os.path.join( backup_dir, ""mysqldump-{}-{}"".format( ""-"".join(databases.split(_delimiter)), datetime.datetime.now().strftime(""%Y%m%d%H%M""))) bucmd.extend([""--result-file"", _filename, ""--databases""]) bucmd.extend(databases.split(_delimiter)) else: _filename = os.path.join( backup_dir, ""mysqldump-all-databases-{}"".format( datetime.datetime.now().strftime(""%Y%m%d%H%M""))) bucmd.extend([""--result-file"", _filename, ""--all-databases""]) subprocess.check_call(bucmd) gzcmd = [""gzip"", _filename] subprocess.check_call(gzcmd) return ""{}.gz"".format(_filename)",,157,1
openstack%2Fpython-glanceclient~master~Ic6cb15670a42d0cea424f58d6a1d85d5471e162e,openstack/python-glanceclient,master,Ic6cb15670a42d0cea424f58d6a1d85d5471e162e,Remove v1 tests,MERGED,2020-02-19 09:34:04.000000000,2020-03-05 15:59:58.000000000,2020-03-05 15:55:02.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 09:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/7f1409151cbb0b4f8f64c8e3b8e88dc73736c29d', 'message': 'Remove v1 tests\n\nChange-Id: Ic6cb15670a42d0cea424f58d6a1d85d5471e162e\n'}, {'number': 2, 'created': '2020-02-19 09:34:42.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/993406d57d933cd4f789f97b48cf4d7b5b0b9bc4', 'message': 'Remove v1 tests\n\nChange-Id: Ic6cb15670a42d0cea424f58d6a1d85d5471e162e\n'}]",0,708597,993406d57d933cd4f789f97b48cf4d7b5b0b9bc4,9,3,2,5202,,,0,"Remove v1 tests

Change-Id: Ic6cb15670a42d0cea424f58d6a1d85d5471e162e
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/97/708597/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,7f1409151cbb0b4f8f64c8e3b8e88dc73736c29d,remove-v1-tests,,[testenv:functional-v1] # TODO(rosmaita): remove this testenv at the beginning # of the 'S' cycle setenv = OS_TEST_PATH = ./glanceclient/tests/functional/v1 OS_TESTENV_NAME = {envname} whitelist_externals = bash commands = bash tools/fix_ca_bundle.sh stestr run --slowest {posargs} ,0,62
openstack%2Fcookbook-openstack-ops-database~master~Ia5b401cafcdf57aa84e090c745bd3e517c7251bf,openstack/cookbook-openstack-ops-database,master,Ia5b401cafcdf57aa84e090c745bd3e517c7251bf,Update to latest mariadb cookbook,MERGED,2020-02-28 00:11:27.000000000,2020-03-05 15:57:37.000000000,2020-03-05 15:57:37.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-28 00:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/167eae6fd4d9a0387eb35e253f8fa62cfd0f0014', 'message': ""Update to latest mariadb cookbook\n\nThis updates us to a new resource driven mariadb cookbook which\nsimplifies how we manage mysql. Other changes:\n\n- Update to using MariaDB 10.3 instead of 10.1 as we need this for Stein\n- Update attributes so they work better with the\n  mariadb_server_configuration resource\n- Remove use of the mysql2_chef_gem cookbook as it's no longer needed\n  and causes issues with newer versions of MariaDB and MySQL.\n- Remove use of the openstack.cnf template since we can add all\n  configuration using the mariadb_server_configuration resource\n- Remove RHEL mariadb-server ChefSpec as it's not needed\n- Update openstack-db recipe to use the openstack_database resource\n  instead of the openstack_common_database resource which was renamed\n\nDepends-On: https://review.opendev.org/710351\nChange-Id: Ia5b401cafcdf57aa84e090c745bd3e517c7251bf\n""}, {'number': 2, 'created': '2020-02-28 01:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/68c07acec1c6fd0130ec215ee66b0248fd533e1c', 'message': ""Update to latest mariadb cookbook\n\nThis updates us to a new resource driven mariadb cookbook which\nsimplifies how we manage mysql. Other changes:\n\n- Update to using MariaDB 10.3 instead of 10.1 as we need this for Stein\n- Update attributes so they work better with the\n  mariadb_server_configuration resource\n- Remove use of the mysql2_chef_gem cookbook as it's no longer needed\n  and causes issues with newer versions of MariaDB and MySQL.\n- Remove use of the openstack.cnf template since we can add all\n  configuration using the mariadb_server_configuration resource\n- Remove RHEL mariadb-server ChefSpec as it's not needed\n- Update openstack-db recipe to use the openstack_database resource\n  instead of the openstack_common_database resource which was renamed\n\nDepends-On: https://review.opendev.org/710351\nChange-Id: Ia5b401cafcdf57aa84e090c745bd3e517c7251bf\n""}, {'number': 3, 'created': '2020-02-28 17:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/d3cb4eb281d2e5c8cf11c5e8dd03b0c528c06756', 'message': ""Update to latest mariadb cookbook\n\nThis updates us to a new resource driven mariadb cookbook which\nsimplifies how we manage mysql. Other changes:\n\n- Update to using MariaDB 10.3 instead of 10.1 as we need this for Stein\n- Update attributes so they work better with the\n  mariadb_server_configuration resource\n- Remove use of the mysql2_chef_gem cookbook as it's no longer needed\n  and causes issues with newer versions of MariaDB and MySQL.\n- Remove use of the openstack.cnf template since we can add all\n  configuration using the mariadb_server_configuration resource\n- Remove RHEL mariadb-server ChefSpec as it's not needed\n- Update openstack-db recipe to use the openstack_database resource\n  instead of the openstack_common_database resource which was renamed\n\nDepends-On: https://review.opendev.org/710351\nChange-Id: Ia5b401cafcdf57aa84e090c745bd3e517c7251bf\n""}, {'number': 4, 'created': '2020-02-28 19:46:00.000000000', 'files': ['recipes/mysql-client.rb', 'spec/mariadb-server-redhat_spec.rb', 'recipes/mariadb-server.rb', 'attributes/mysql.rb', 'spec/mariadb-client_spec.rb', 'spec/openstack-db_spec.rb', 'spec/mysql-client_spec.rb', 'recipes/mariadb-client.rb', 'recipes/openstack-db.rb', 'spec/mysql-client-redhat_spec.rb', 'metadata.rb', 'spec/mariadb-server_spec.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-ops-database/commit/8747a1cf96c6299de1a21cbf4bda330dc149164f', 'message': ""Update to latest mariadb cookbook\n\nThis updates us to a new resource driven mariadb cookbook which\nsimplifies how we manage mysql. Other changes:\n\n- Update to using MariaDB 10.3 instead of 10.1 as we need this for Stein\n- Update attributes so they work better with the\n  mariadb_server_configuration resource\n- Remove use of the mysql2_chef_gem cookbook as it's no longer needed\n  and causes issues with newer versions of MariaDB and MySQL.\n- Remove use of the openstack.cnf template since we can add all\n  configuration using the mariadb_server_configuration resource\n- Remove RHEL mariadb-server ChefSpec as it's not needed\n- Update openstack-db recipe to use the openstack_database resource\n  instead of the openstack_common_database resource which was renamed\n\nDepends-On: https://review.opendev.org/710351\nChange-Id: Ia5b401cafcdf57aa84e090c745bd3e517c7251bf\n""}]",0,710352,8747a1cf96c6299de1a21cbf4bda330dc149164f,12,2,4,21961,,,0,"Update to latest mariadb cookbook

This updates us to a new resource driven mariadb cookbook which
simplifies how we manage mysql. Other changes:

- Update to using MariaDB 10.3 instead of 10.1 as we need this for Stein
- Update attributes so they work better with the
  mariadb_server_configuration resource
- Remove use of the mysql2_chef_gem cookbook as it's no longer needed
  and causes issues with newer versions of MariaDB and MySQL.
- Remove use of the openstack.cnf template since we can add all
  configuration using the mariadb_server_configuration resource
- Remove RHEL mariadb-server ChefSpec as it's not needed
- Update openstack-db recipe to use the openstack_database resource
  instead of the openstack_common_database resource which was renamed

Depends-On: https://review.opendev.org/710351
Change-Id: Ia5b401cafcdf57aa84e090c745bd3e517c7251bf
",git fetch https://review.opendev.org/openstack/cookbook-openstack-ops-database refs/changes/52/710352/4 && git format-patch -1 --stdout FETCH_HEAD,"['recipes/mysql-client.rb', 'spec/mariadb-server-redhat_spec.rb', 'recipes/mariadb-server.rb', 'attributes/mysql.rb', 'spec/mariadb-client_spec.rb', 'spec/openstack-db_spec.rb', 'spec/mysql-client_spec.rb', 'recipes/mariadb-client.rb', 'recipes/openstack-db.rb', 'spec/mysql-client-redhat_spec.rb', 'metadata.rb', 'spec/mariadb-server_spec.rb']",12,167eae6fd4d9a0387eb35e253f8fa62cfd0f0014,resource-refactor," it do expect(chef_run).to install_mariadb_server_install('default').with( version: '10.3', password: 'abc123' it do expect(chef_run).to create_mariadb_server_install('default') end it do expect(chef_run).to modify_mariadb_server_configuration('default').with( innodb_buffer_pool_size: '134217728', innodb_file_per_table: 0, innodb_log_buffer_size: '8388608', innodb_log_file_size: '5242880', innodb_options: { innodb_autoinc_lock_mode: 1, innodb_thread_concurrency: 0, innodb_commit_concurrency: 0, innodb_read_io_threads: 4, innodb_flush_log_at_trx_commit: 1, }, mysqld_bind_address: '127.0.0.1', mysqld_connect_timeout: 30, mysqld_default_storage_engine: 'InnoDB', mysqld_max_connections: 307, mysqld_query_cache_size: '0', mysqld_skip_name_resolve: false, mysqld_options: { 'character-set-server' => 'latin1', }, version: '10.3' ) it do expect(chef_run).to modify_mariadb_server_configuration('default').with( mysqld_bind_address: '192.168.1.1' )"," let(:file) { chef_run.template('/etc/mysql/conf.d/openstack.cnf') } it 'overrides mariadb default attributes' do expect(chef_run.node['mariadb']['mysqld']['bind_address']).to eq '127.0.0.1' expect(chef_run.node['mariadb']['mysqld']['default_storage_engine']).to eq 'InnoDB' expect(chef_run.node['mariadb']['mysqld']['max_connections']).to eq '307' expect(chef_run.node['mariadb']['forbid_remote_root']).to be true expect(chef_run.node['mariadb']['remove_anonymous_users']).to be true expect(chef_run.node['mariadb']['remove_test_database']).to be true end expect(chef_run).to include_recipe('mariadb::server') it 'creates template /etc/mysql/conf.d/openstack.cnf' do node.override['mariadb']['install']['version'] = '10.1' expect(chef_run).to create_template(file.name).with( user: 'mysql', group: 'mysql', source: 'openstack.cnf.erb' expect(file).to notify('service[mysql]') [/^default-storage-engine = InnoDB$/, /^innodb_autoinc_lock_mode = 1$/, /^innodb_file_per_table = OFF$/, /^innodb_thread_concurrency = 0$/, /^innodb_commit_concurrency = 0$/, /^innodb_read_io_threads = 4$/, /^innodb_flush_log_at_trx_commit = 1$/, /^innodb_buffer_pool_size = 134217728$/, /^innodb_log_file_size = 5242880$/, /^innodb_log_buffer_size = 8388608$/, /^character-set-server = latin1$/, /^query_cache_size = 0$/, /^max_connections = 307$/].each do |line| expect(chef_run).to render_config_file(file.name)\ .with_section_content('mysqld', line) end it 'creates mariadb with root password' do # Password is fixed as 'abc123' by spec_helper expect(chef_run.node['mariadb']['allow_root_pass_change']).to be true expect(chef_run.node['mariadb']['server_root_password']).to eq 'abc123' it 'allow root remote access' do expect(chef_run.node['mariadb']['forbid_remote_root']).to be false",92,143
openstack%2Fpython-tripleoclient~master~I1389dd177746ec43013912a85dd5934a21ef9419,openstack/python-tripleoclient,master,I1389dd177746ec43013912a85dd5934a21ef9419,Ensure there's no exceptions when parsing resources,ABANDONED,2020-03-04 17:41:11.000000000,2020-03-05 15:52:20.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 17:41:11.000000000', 'files': ['tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/771230b92c1d94b6858848add83a2cb0acd9410c', 'message': 'Ensure there\'s no exceptions when parsing resources\n\nThis change ensures that we\'re not causing an exception when parsing heat\nresources by using `.get` on the ""heat_resource_tree"". In some circumstances a\nplan may not have all of the parameters or resources generated at the time the\ndeprecated options check is executed, which could cause an exception under\nthese types of conditions. To ensure we\'re able to gracefully handle situations\nwhere the resources are not available, or have not yet been generated, the\nmethod will now use `.get` when retrieving objects from the\n""heat_resource_tree"" dictionary.\n\nChange-Id: I1389dd177746ec43013912a85dd5934a21ef9419\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,711291,771230b92c1d94b6858848add83a2cb0acd9410c,5,3,1,7353,,,0,"Ensure there's no exceptions when parsing resources

This change ensures that we're not causing an exception when parsing heat
resources by using `.get` on the ""heat_resource_tree"". In some circumstances a
plan may not have all of the parameters or resources generated at the time the
deprecated options check is executed, which could cause an exception under
these types of conditions. To ensure we're able to gracefully handle situations
where the resources are not available, or have not yet been generated, the
method will now use `.get` when retrieving objects from the
""heat_resource_tree"" dictionary.

Change-Id: I1389dd177746ec43013912a85dd5934a21ef9419
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/91/711291/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/parameters.py'],1,771230b92c1d94b6858848add83a2cb0acd9410c,," heat_resource_tree_params = heat_resource_tree.get('parameters', dict()) heat_resource_tree_resources = heat_resource_tree.get('resources', dict())", heat_resource_tree_params = heat_resource_tree['parameters'] heat_resource_tree_resources = heat_resource_tree['resources'],2,2
openstack%2Fglance_store~stable%2Frocky~I6a89042fae63bf5c9096a6bee6774aebf3f5864b,openstack/glance_store,stable/rocky,I6a89042fae63bf5c9096a6bee6774aebf3f5864b,Fix python3 compatibility of rbd get_fsid,MERGED,2019-06-07 08:23:58.000000000,2020-03-05 15:52:04.000000000,2020-03-05 15:52:04.000000000,"[{'_account_id': 5202}, {'_account_id': 6737}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2019-06-07 08:23:58.000000000', 'files': ['glance_store/_drivers/rbd.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/7880a5bfa7639fd6aa07d96b32da594c76940e38', 'message': 'Fix python3 compatibility of rbd get_fsid\n\nIn python3 conn.get_fsid() is represented as binary.\nBecause of this, direct_url is corrupted in DB.\nThis patch is fixing this. More informations in\nclosing bug.\n\nCloses-Bug: #1816721\n\nChange-Id: I6a89042fae63bf5c9096a6bee6774aebf3f5864b\n(cherry picked from commit 9c73370358c02fc7f308d88f4563f22969a42c96)\n'}]",0,663857,7880a5bfa7639fd6aa07d96b32da594c76940e38,15,6,1,6737,,,0,"Fix python3 compatibility of rbd get_fsid

In python3 conn.get_fsid() is represented as binary.
Because of this, direct_url is corrupted in DB.
This patch is fixing this. More informations in
closing bug.

Closes-Bug: #1816721

Change-Id: I6a89042fae63bf5c9096a6bee6774aebf3f5864b
(cherry picked from commit 9c73370358c02fc7f308d88f4563f22969a42c96)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/57/663857/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/rbd.py'],1,7880a5bfa7639fd6aa07d96b32da594c76940e38,bug/1816721,from oslo_utils import encodeutils # Librados's get_fsid is represented as binary # in py3 instead of str as it is in py2. # This is causing problems with ceph. # Decode binary to str fixes these issues. # Fix with encodeutils.safe_decode CAN BE REMOVED # after librados's fix will be stable. # # More informations: # https://bugs.launchpad.net/glance-store/+bug/1816721 # https://bugs.launchpad.net/cinder/+bug/1816468 # https://tracker.ceph.com/issues/38381 fsid = encodeutils.safe_decode(conn.get_fsid()), fsid = conn.get_fsid(),13,1
openstack%2Fneutron~master~I21bd60af000276779f56b3a6d45b4a6c1836bed1,openstack/neutron,master,I21bd60af000276779f56b3a6d45b4a6c1836bed1,"Add ""project_id"" filter when changing the network segmentation ID",MERGED,2020-02-17 15:56:12.000000000,2020-03-05 15:51:21.000000000,2020-03-03 18:29:44.000000000,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-17 15:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cfc153f0c21e94c52f0ea34f1b6c1906f1f5283', 'message': 'Add ""project_id"" filter when changing the network segmentation ID\n\nWhen the segmentation ID of a network is updated, first the provider\nnetwork segment is validated and then reserved. If service plugin\n""network_segment_range"" is enabled, the Neutron server retrieves the\nnetwork segment ranges with shared=True or those ones with the same\nproject_id as the network.\n\nThis patch adds the ""project_id"" information to the filters when\nreserving the network provider segment. This change will allow to\nretrieve those private networks segments belonging to the same\nproject.\n\nChange-Id: I21bd60af000276779f56b3a6d45b4a6c1836bed1\nCloses-Bug: #1863619\n'}, {'number': 2, 'created': '2020-02-17 16:03:28.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_managers.py', 'neutron/plugins/ml2/managers.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d43372f14d11b8d800439965d7e8aa07b0b3feb', 'message': 'Add ""project_id"" filter when changing the network segmentation ID\n\nWhen the segmentation ID of a network is updated, first the provider\nnetwork segment is validated and then reserved. If service plugin\n""network_segment_range"" is enabled, the Neutron server retrieves the\nnetwork segment ranges with shared=True or those ones with the same\nproject_id as the network.\n\nThis patch adds the ""project_id"" information to the filters when\nreserving the network provider segment. This change will allow to\nretrieve those private networks segments belonging to the same\nproject.\n\nChange-Id: I21bd60af000276779f56b3a6d45b4a6c1836bed1\nCloses-Bug: #1863619\n'}]",0,708196,0d43372f14d11b8d800439965d7e8aa07b0b3feb,22,8,2,16688,,,0,"Add ""project_id"" filter when changing the network segmentation ID

When the segmentation ID of a network is updated, first the provider
network segment is validated and then reserved. If service plugin
""network_segment_range"" is enabled, the Neutron server retrieves the
network segment ranges with shared=True or those ones with the same
project_id as the network.

This patch adds the ""project_id"" information to the filters when
reserving the network provider segment. This change will allow to
retrieve those private networks segments belonging to the same
project.

Change-Id: I21bd60af000276779f56b3a6d45b4a6c1836bed1
Closes-Bug: #1863619
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/708196/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/managers.py'],1,3cfc153f0c21e94c52f0ea34f1b6c1906f1f5283,bug/1863619," project_id = network['project_id'] self.reserve_provider_segment(context, new_segment, filters={'project_id': project_id})"," self.reserve_provider_segment(context, new_segment)",3,1
openstack%2Fpython-glanceclient~master~I313df5b36ad908d55ae69421dfc527a67847c970,openstack/python-glanceclient,master,I313df5b36ad908d55ae69421dfc527a67847c970,setup.cfg: Use better Python 3 hinting,MERGED,2020-02-22 00:10:44.000000000,2020-03-05 15:50:37.000000000,2020-03-05 15:48:54.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-22 00:10:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/3ebc72f7af07eb2a5c99cc1da8c1c6b237777b02', 'message': ""setup.cfg: Use better Python 3 hinting\n\nMake sure people are not using an incorrect version of Python and don't\nsay we support universal wheels when we clearly do not.\n\nA bit of pbr configuration that hasn't been required since pre-1.0 is\nalso dropped.\n\nChange-Id: I313df5b36ad908d55ae69421dfc527a67847c970\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,709262,3ebc72f7af07eb2a5c99cc1da8c1c6b237777b02,8,3,1,15334,,,0,"setup.cfg: Use better Python 3 hinting

Make sure people are not using an incorrect version of Python and don't
say we support universal wheels when we clearly do not.

A bit of pbr configuration that hasn't been required since pre-1.0 is
also dropped.

Change-Id: I313df5b36ad908d55ae69421dfc527a67847c970
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/62/709262/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3ebc72f7af07eb2a5c99cc1da8c1c6b237777b02,trivial,python-requires = >=3.6,[global] setup-hooks = pbr.hooks.setup_hook [wheel] universal = 1,1,7
openstack%2Fironic~stable%2Ftrain~I7185679203e0f9aa7ebe9c69971009cd59271b89,openstack/ironic,stable/train,I7185679203e0f9aa7ebe9c69971009cd59271b89,Docs: split away user image building and highlight whole disk images,MERGED,2020-03-05 11:43:28.000000000,2020-03-05 15:29:59.000000000,2020-03-05 14:47:26.000000000,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-05 11:43:28.000000000', 'files': ['doc/source/install/creating-images.rst', 'doc/source/install/index.rst', 'doc/source/install/configure-glance-images.rst', 'doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f2418d75fa2e8322378cf78409dd6da636a96ab6', 'message': ""Docs: split away user image building and highlight whole disk images\n\nThe user image documentation applies to both standalone and glance\nusage, but we keep it in the glance section. This change creates\na new page to talk about user images.\n\nWe also don't emphasize the difference between partition and whole\ndisk images enough, resulting in users trying whole disk images\nwith kernel/ramdisk set. Make the difference clearer.\n\nConflicts:\n\tdoc/source/install/standalone.rst\n\nChange-Id: I7185679203e0f9aa7ebe9c69971009cd59271b89\n(cherry picked from commit 530ec9d0b133fad5c05ebf988320394358fe4ff4)\n""}]",0,711438,f2418d75fa2e8322378cf78409dd6da636a96ab6,8,3,1,10239,,,0,"Docs: split away user image building and highlight whole disk images

The user image documentation applies to both standalone and glance
usage, but we keep it in the glance section. This change creates
a new page to talk about user images.

We also don't emphasize the difference between partition and whole
disk images enough, resulting in users trying whole disk images
with kernel/ramdisk set. Make the difference clearer.

Conflicts:
	doc/source/install/standalone.rst

Change-Id: I7185679203e0f9aa7ebe9c69971009cd59271b89
(cherry picked from commit 530ec9d0b133fad5c05ebf988320394358fe4ff4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/711438/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/creating-images.rst', 'doc/source/install/configure-glance-images.rst', 'doc/source/install/index.rst', 'doc/source/install/standalone.rst']",4,f2418d75fa2e8322378cf78409dd6da636a96ab6,image-docs-train,#. You also need to specify image information in the node's ``instance_info`` (see :doc:`creating-images`): initramfs of the target OS. Must be added **only** for partition images. With a whole disk image:: openstack baremetal node set $NODE_UUID \ --instance-info image_source=$IMG \ --instance-info image_checksum=$MD5HASH ,"#. You also need to specify some fields in the node's ``instance_info``: initramfs of the target OS, only required for partition images.",91,57
openstack%2Fcinder~master~I942d9d8b3976232ae1cf82b698fb27285fbef13a,openstack/cinder,master,I942d9d8b3976232ae1cf82b698fb27285fbef13a,ChunkedBackupDriver: Freeing memory on restore,MERGED,2020-02-27 13:16:27.000000000,2020-03-05 15:29:36.000000000,2020-03-03 21:58:27.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-02-27 13:16:27.000000000', 'files': ['cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69462315bc8416bd02ebd6085f0cfc141cfd8877', 'message': 'ChunkedBackupDriver: Freeing memory on restore\n\nWhen restoring many backups, the backup service uses a lot of memory and\nwhen we do many concurrent restores the backup service ends up getting\nkilled becase the system runs out of memory.\n\nThis patch reduces the ref count to the data as soon as possible to let\nPython garbage collect it instead of hogging it for the whole chunk\nrestore.\n\nRelated-Bug: #1865011\nChange-Id: I942d9d8b3976232ae1cf82b698fb27285fbef13a\n'}]",0,710250,69462315bc8416bd02ebd6085f0cfc141cfd8877,143,35,1,9535,,,0,"ChunkedBackupDriver: Freeing memory on restore

When restoring many backups, the backup service uses a lot of memory and
when we do many concurrent restores the backup service ends up getting
killed becase the system runs out of memory.

This patch reduces the ref count to the data as soon as possible to let
Python garbage collect it instead of hogging it for the whole chunk
restore.

Related-Bug: #1865011
Change-Id: I942d9d8b3976232ae1cf82b698fb27285fbef13a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/710250/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/chunkeddriver.py'],1,69462315bc8416bd02ebd6085f0cfc141cfd8877,bug/1865011, body = None # Allow Python to free it decompressed = None # Allow Python to free it body = None # Allow Python to free it,,3,0
openstack%2Frally-openstack~master~Iac06fd64b4365aa29c0b06df6142a8c0851f6d22,openstack/rally-openstack,master,Iac06fd64b4365aa29c0b06df6142a8c0851f6d22,Allowing None values in the config parser,MERGED,2020-03-04 23:20:40.000000000,2020-03-05 15:28:08.000000000,2020-03-05 15:28:08.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 23:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cde5da97610e2d34dd496893c8e1c928f3246aaa', 'message': 'Allowing None values in the config parser\n\nCloses-Bug: #1863945\nChange-Id: Iac06fd64b4365aa29c0b06df6142a8c0851f6d22\n'}, {'number': 2, 'created': '2020-03-05 12:20:01.000000000', 'files': ['rally_openstack/verification/tempest/context.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3e487073df6d2a588ec2e722c13570a91aefcfbf', 'message': 'Allowing None values in the config parser\n\nCloses-Bug: #1863945\nChange-Id: Iac06fd64b4365aa29c0b06df6142a8c0851f6d22\n'}]",0,711361,3e487073df6d2a588ec2e722c13570a91aefcfbf,8,2,2,31647,,,0,"Allowing None values in the config parser

Closes-Bug: #1863945
Change-Id: Iac06fd64b4365aa29c0b06df6142a8c0851f6d22
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/61/711361/2 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/verification/tempest/context.py'],1,cde5da97610e2d34dd496893c8e1c928f3246aaa,bug/1863945, self.conf = configparser.ConfigParser(allow_no_value=True), self.conf = configparser.ConfigParser(),1,1
openstack%2Frally-openstack~master~I90df1999fd4b96c7b8dbaa707c50111b3728f2e7,openstack/rally-openstack,master,I90df1999fd4b96c7b8dbaa707c50111b3728f2e7,Add missing argument to _discover_or_create_flavor,MERGED,2020-02-06 18:07:50.000000000,2020-03-05 15:28:07.000000000,2020-03-05 15:28:07.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 31647}]","[{'number': 1, 'created': '2020-02-06 18:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ce0a8ef464ebb25d4cb586e3dbee3e6bb1b9a55c', 'message': 'Add missing argument to _discover_or_create_flavor\n\nSorry, I missed this in:\n\nhttps://review.opendev.org/#/c/678901/\n\nChange-Id: I90df1999fd4b96c7b8dbaa707c50111b3728f2e7\nCloses-Bug: #1862220\n'}, {'number': 2, 'created': '2020-02-07 10:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/b4b29842f3305a1c6ea21d61b38b8e433d3b539a', 'message': 'Add missing argument to _discover_or_create_flavor\n\nSorry, I missed this in:\n\nhttps://review.opendev.org/#/c/678901/\n\nChange-Id: I90df1999fd4b96c7b8dbaa707c50111b3728f2e7\nCloses-Bug: #1862220\n'}, {'number': 3, 'created': '2020-03-05 00:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/3c47a5963a561989e00e463bff0c4e4b2854af94', 'message': 'Add missing argument to _discover_or_create_flavor\n\nSorry, I missed this in:\n\nhttps://review.opendev.org/#/c/678901/\n\nCo-Authored-By: dlutton <eyedea32@gmail.com>\n\nChange-Id: I90df1999fd4b96c7b8dbaa707c50111b3728f2e7\nCloses-Bug: #1862220\n'}, {'number': 4, 'created': '2020-03-05 12:19:50.000000000', 'files': ['tests/unit/verification/tempest/test_context.py', 'rally_openstack/cfg/tempest.py', 'rally_openstack/verification/tempest/context.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/0ff4590b97e1d905d0470d71abeda47719b817b0', 'message': 'Add missing argument to _discover_or_create_flavor\n\nSorry, I missed this in:\n\nhttps://review.opendev.org/#/c/678901/\n\nCo-Authored-By: dlutton <eyedea32@gmail.com>\n\nChange-Id: I90df1999fd4b96c7b8dbaa707c50111b3728f2e7\nCloses-Bug: #1862220\n'}]",0,706341,0ff4590b97e1d905d0470d71abeda47719b817b0,14,3,4,28048,,,0,"Add missing argument to _discover_or_create_flavor

Sorry, I missed this in:

https://review.opendev.org/#/c/678901/

Co-Authored-By: dlutton <eyedea32@gmail.com>

Change-Id: I90df1999fd4b96c7b8dbaa707c50111b3728f2e7
Closes-Bug: #1862220
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/41/706341/3 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/verification/tempest/context.py'],1,ce0a8ef464ebb25d4cb586e3dbee3e6bb1b9a55c,bug/1862220," flv_ram=conf.CONF.openstack.heat_instance_type_ram, flv_disk=conf.CONF.openstack.flavor_ref_disk)", flv_ram=conf.CONF.openstack.heat_instance_type_ram),2,1
openstack%2Fnova~master~Ie266b802609e7e55d870c52d83b2c1b3e30f6997,openstack/nova,master,Ie266b802609e7e55d870c52d83b2c1b3e30f6997,WIP: Update tests from fake_libvirt_util mocks,ABANDONED,2019-04-02 22:39:14.000000000,2020-03-05 15:20:21.000000000,,"[{'_account_id': 2271}, {'_account_id': 9008}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2019-04-02 22:39:14.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef2dc316ea40e3f7f837fe3400c38a5d0e306818', 'message': ""WIP: Update tests from fake_libvirt_util mocks\n\nWhen fake_libvirt_utils existed, it was making it unnecessary (or\nimpossible) for unit tests to assert some of the internal calls being\nmade. The effort to torch fake_libvirt_utils just created mocks for\nparity but didn't change the test coverage.\n\nThis commit attempts to pay down that technical debt by adding\nassertions for new mocks added in series fake-cleanup [1].\n\n[1] https://review.openstack.org/#/q/topic:fake-cleanup+(status:open+OR+status:merged)\n\nChange-Id: Ie266b802609e7e55d870c52d83b2c1b3e30f6997\n""}]",0,649471,ef2dc316ea40e3f7f837fe3400c38a5d0e306818,7,5,1,14070,,,0,"WIP: Update tests from fake_libvirt_util mocks

When fake_libvirt_utils existed, it was making it unnecessary (or
impossible) for unit tests to assert some of the internal calls being
made. The effort to torch fake_libvirt_utils just created mocks for
parity but didn't change the test coverage.

This commit attempts to pay down that technical debt by adding
assertions for new mocks added in series fake-cleanup [1].

[1] https://review.openstack.org/#/q/topic:fake-cleanup+(status:open+OR+status:merged)

Change-Id: Ie266b802609e7e55d870c52d83b2c1b3e30f6997
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/649471/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,ef2dc316ea40e3f7f837fe3400c38a5d0e306818,fake-cleanup," mock_create_cow_image.assert_called_once_with( backfile_path, '/fake/instance/dir/disk_path') @mock.patch('nova.virt.libvirt.utils.create_image', new=mock.NonCallableMock()) def test_create_images_and_backing_images_exist(self, mock_fetch_image): @mock.patch('nova.privsep.path.utime') # TODO(efried): Should these be disk_info[path]?? mock_create_cow_image.assert_has_calls([ mock.call(root_backing, CONF.instances_path + '/disk'), mock.call(ephemeral_backing, CONF.instances_path + '/disk.local')])"," @mock.patch('nova.virt.libvirt.utils.create_image') def test_create_images_and_backing_images_exist( self, mock_fetch_image, mock_crteate_image): @mock.patch('nova.privsep.path.utime')",11,4
openstack%2Frally-openstack~master~I2ed649ea3488f44d1cf83b532d57c2428010e092,openstack/rally-openstack,master,I2ed649ea3488f44d1cf83b532d57c2428010e092,Do not run py35 job at CI,MERGED,2020-03-05 12:18:54.000000000,2020-03-05 15:16:32.000000000,2020-03-05 15:16:32.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 12:18:54.000000000', 'files': ['.zuul.d/zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/539404212cafa932ce3456ab1471f25fc1c50568', 'message': 'Do not run py35 job at CI\n\nChange-Id: I2ed649ea3488f44d1cf83b532d57c2428010e092\n'}]",0,711444,539404212cafa932ce3456ab1471f25fc1c50568,6,2,1,9545,,,0,"Do not run py35 job at CI

Change-Id: I2ed649ea3488f44d1cf83b532d57c2428010e092
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/44/711444/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/zuul.yaml'],1,539404212cafa932ce3456ab1471f25fc1c50568,turn-off-py35,, - rally-tox-py35 - rally-tox-py35,0,2
openstack%2Fheat~stable%2Fstein~Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23,openstack/heat,stable/stein,Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23,Handle OS::Mistral::Workflow resource replacement properly,MERGED,2020-02-26 15:36:50.000000000,2020-03-05 15:02:16.000000000,2020-03-05 14:59:46.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2020-02-26 15:36:50.000000000', 'files': ['heat/engine/resources/openstack/mistral/workflow.py', 'heat/tests/openstack/mistral/test_workflow.py', 'heat/engine/resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7480a8f313523b8aae7391b3c7905df753c6d7fb', 'message': ""Handle OS::Mistral::Workflow resource replacement properly\n\nOS::Mistral::Workflow resource creates a mistral workflow with\na unique name (resource_id). We replace FAILED resources by\ndefault and replace wont work in this case as it will try to\nuse the same workflow name for the replacement resouce, if the\n'name' property is provided.\n\nIf the workflow does not exist/deleted using mistral api directly,\nit would create a replacement resource, but it would delete the\nworkflow when cleaning up the old resource. So we would endup\nwith a replacement resource without any backing workflow.\n\nThis adds a new resource attribute ``always_replace_on_check_failed``\nand overrides needs_replace_failed() for OS::Mistral::Workflow.\n\nTask: 38855\nChange-Id: Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23\n(cherry picked from commit 9e80518b900a1f14a80ee05ddeef4b250433febd)\n""}]",0,710058,7480a8f313523b8aae7391b3c7905df753c6d7fb,29,4,1,3153,,,0,"Handle OS::Mistral::Workflow resource replacement properly

OS::Mistral::Workflow resource creates a mistral workflow with
a unique name (resource_id). We replace FAILED resources by
default and replace wont work in this case as it will try to
use the same workflow name for the replacement resouce, if the
'name' property is provided.

If the workflow does not exist/deleted using mistral api directly,
it would create a replacement resource, but it would delete the
workflow when cleaning up the old resource. So we would endup
with a replacement resource without any backing workflow.

This adds a new resource attribute ``always_replace_on_check_failed``
and overrides needs_replace_failed() for OS::Mistral::Workflow.

Task: 38855
Change-Id: Ia0812b88cae363dfa25ccd907ecbe8b86f5b1a23
(cherry picked from commit 9e80518b900a1f14a80ee05ddeef4b250433febd)
",git fetch https://review.opendev.org/openstack/heat refs/changes/58/710058/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/openstack/mistral/workflow.py', 'heat/tests/openstack/mistral/test_workflow.py', 'heat/engine/resource.py']",3,7480a8f313523b8aae7391b3c7905df753c6d7fb,, # Whether the resource is always replaced when CHECK_FAILED always_replace_on_check_failed = True if ((self.action == self.CHECK and self.always_replace_on_check_failed) or ( self.needs_replace_failed())):, if self.action == self.CHECK or self.needs_replace_failed():,87,21
openstack%2Fironic~stable%2Frocky~If6e3af03287c0153f996c823f374e55612ac2a24,openstack/ironic,stable/rocky,If6e3af03287c0153f996c823f374e55612ac2a24,Remove rocky grenade jobs,MERGED,2020-03-03 16:05:13.000000000,2020-03-05 14:47:24.000000000,2020-03-05 14:47:24.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-03 16:05:13.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/989a3432af061ac32e2fdc2161e040b4c22297f9', 'message': 'Remove rocky grenade jobs\n\nQueens is in extended maintenance and we no longer\nneed to run upgrade jobs to Rocky.\n\nAs such, removing the jobs.\n\nChange-Id: If6e3af03287c0153f996c823f374e55612ac2a24\n'}]",0,711045,989a3432af061ac32e2fdc2161e040b4c22297f9,13,5,1,11655,,,0,"Remove rocky grenade jobs

Queens is in extended maintenance and we no longer
need to run upgrade jobs to Rocky.

As such, removing the jobs.

Change-Id: If6e3af03287c0153f996c823f374e55612ac2a24
",git fetch https://review.opendev.org/openstack/ironic refs/changes/45/711045/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,989a3432af061ac32e2fdc2161e040b4c22297f9,,, - ironic-grenade-dsvm - ironic-grenade-dsvm-multinode-multitenant - ironic-grenade-dsvm - ironic-grenade-dsvm-multinode-multitenant,0,4
openstack%2Fkolla~master~I5b8c0c26f3841719a4f4a3cc09bdac41631918e4,openstack/kolla,master,I5b8c0c26f3841719a4f4a3cc09bdac41631918e4,DNM: Test without oslo.cache 2.1.0 in upper-constraints,ABANDONED,2020-03-04 11:06:16.000000000,2020-03-05 14:47:17.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-04 11:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5efb83721176ec6db08416a9ffc3ed6629234f0e', 'message': 'DNM: Test without oslo.cache 2.1.0 in upper-constraints\n\nTesting whether this fixes keystone.\n\nChange-Id: I5b8c0c26f3841719a4f4a3cc09bdac41631918e4\n'}, {'number': 2, 'created': '2020-03-04 11:22:48.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/708542ad5e27db083c227d31524482be7e60093c', 'message': 'DNM: Test without oslo.cache 2.1.0 in upper-constraints\n\nTesting whether this fixes keystone.\n\nChange-Id: I5b8c0c26f3841719a4f4a3cc09bdac41631918e4\n'}]",1,711205,708542ad5e27db083c227d31524482be7e60093c,11,4,2,14826,,,0,"DNM: Test without oslo.cache 2.1.0 in upper-constraints

Testing whether this fixes keystone.

Change-Id: I5b8c0c26f3841719a4f4a3cc09bdac41631918e4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/711205/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,5efb83721176ec6db08416a9ffc3ed6629234f0e,," 'type': 'git', 'location': 'https://opendev.org/openstack/keystone', 'reference': 'ea42244642c3c091cb4f70917ae8d79af217b6af'},"," 'type': 'url', 'location': ('$tarballs_base/requirements/' 'requirements-${openstack_branch}.tar.gz')},",3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0fe2bf37f71fa4009aa597deae41f74bce8ab214,openstack/tripleo-heat-templates,stable/train,I0fe2bf37f71fa4009aa597deae41f74bce8ab214,WIP: DNM: Undercloud FFWD from queens to train,ABANDONED,2020-01-30 11:21:45.000000000,2020-03-05 14:41:36.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-01-30 11:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a65be29d70a2e3367db2b330ca8be24527c4a34', 'message': 'WIP: DNM: Undercloud FFWD from queens to train\n\nThis is WIP where we plan to place upgrade steps in deployment.\nThis code works as POC and does upgrade the UC from qeens to train.\n\nChange-Id: I0fe2bf37f71fa4009aa597deae41f74bce8ab214\n'}, {'number': 2, 'created': '2020-01-31 14:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d87228edc70d7c6df625fe3182feed2d69f4bad3', 'message': 'WIP: DNM: Undercloud FFWD from queens to train\n\nThis is WIP where we plan to place upgrade steps in deployment.\nThis code works as POC and does upgrade the UC from qeens to train.\n\nChange-Id: I0fe2bf37f71fa4009aa597deae41f74bce8ab214\n'}, {'number': 3, 'created': '2020-02-07 13:57:28.000000000', 'files': ['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3da80db82f0f7e0f02916675b683a9a7b66104e7', 'message': 'WIP: DNM: Undercloud FFWD from queens to train\n\nThis is WIP where we plan to place upgrade steps in deployment.\nThis code works as POC and does upgrade the UC from qeens to train.\n\nChange-Id: I0fe2bf37f71fa4009aa597deae41f74bce8ab214\n'}]",3,704964,3da80db82f0f7e0f02916675b683a9a7b66104e7,19,9,3,11166,,,0,"WIP: DNM: Undercloud FFWD from queens to train

This is WIP where we plan to place upgrade steps in deployment.
This code works as POC and does upgrade the UC from qeens to train.

Change-Id: I0fe2bf37f71fa4009aa597deae41f74bce8ab214
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/704964/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/sahara/sahara-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml']",16,5a65be29d70a2e3367db2b330ca8be24527c4a34,ffwd-upgrade2," ContainerManilaApiImage14: description: image type: string ContainerManilaApiImage15: description: image type: string manila_api_db_sync14: user: root image: &manila_api_image14 {get_param: ContainerManilaApiImage14} start_order: 0 net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/manila/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/manila/etc/manila/:/etc/manila/:ro - /var/log/containers/manila:/var/log/manila:z - /var/log/containers/httpd/manila-api:/var/log/httpd:z command: ""/usr/bin/bootstrap_host_exec manila_api su manila -s /bin/bash -c '/usr/bin/manila-manage db sync'"" manila_api_db_sync15: user: root image: &manila_api_image15 {get_param: ContainerManilaApiImage15} start_order: 1 net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/manila/etc/my.cnf.d/tripleo.cnf:/etc/my.cnf.d/tripleo.cnf:ro - /var/lib/config-data/manila/etc/manila/:/etc/manila/:ro - /var/log/containers/manila:/var/log/manila:z - /var/log/containers/httpd/manila-api:/var/log/httpd:z command: ""/usr/bin/bootstrap_host_exec manila_api su manila -s /bin/bash -c '/usr/bin/manila-manage db sync'"" start_order: 2",,618,21
openstack%2Fopenstack-chef~master~I215a777d255b4b5f9a3481f782a2b7b89f9c3a07,openstack/openstack-chef,master,I215a777d255b4b5f9a3481f782a2b7b89f9c3a07,Update tests for using newer mariadb cookbook,MERGED,2020-02-28 00:06:08.000000000,2020-03-05 14:35:59.000000000,2020-03-05 14:32:54.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-28 00:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/89463260f4aa9afa92bf92713e2d18c56dcd9267', 'message': 'Update tests for using newer mariadb cookbook\n\nThis updates the integration tests for the ops-database cookbook so that\nit works properly with the new mariadb cookbook. In addition:\n\n- Enable auto_correct for forwarded_port so we can run more than one\n  instance at a time with test-kitchen\n- Remove mariadb attributes that are no longer needed\n- Temporarily disable voting on centos/ubuntu gates since this will\n  require a patch from ops-database and we cannot create a circular\n  dependency\n\nDepends-On: https://review.opendev.org/710348\nChange-Id: I215a777d255b4b5f9a3481f782a2b7b89f9c3a07\n'}, {'number': 2, 'created': '2020-02-28 03:05:59.000000000', 'files': ['test/integration/ops-database/inspec/ops_database_spec.rb', '.zuul.yaml', 'environments/allinone.json', 'environments/integration.json', 'environments/multinode.json', '.kitchen.yml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/1fe9d3129500a8b81bbd5d29f721a4e49db09605', 'message': 'Update tests for using newer mariadb cookbook\n\nThis updates the integration tests for the ops-database cookbook so that\nit works properly with the new mariadb cookbook. In addition:\n\n- Enable auto_correct for forwarded_port so we can run more than one\n  instance at a time with test-kitchen\n- Remove mariadb attributes that are no longer needed\n- Temporarily disable voting on centos/ubuntu gates since this will\n  require a patch from ops-database and we cannot create a circular\n  dependency\n\nDepends-On: https://review.opendev.org/710348\nChange-Id: I215a777d255b4b5f9a3481f782a2b7b89f9c3a07\n'}]",0,710351,1fe9d3129500a8b81bbd5d29f721a4e49db09605,9,2,2,21961,,,0,"Update tests for using newer mariadb cookbook

This updates the integration tests for the ops-database cookbook so that
it works properly with the new mariadb cookbook. In addition:

- Enable auto_correct for forwarded_port so we can run more than one
  instance at a time with test-kitchen
- Remove mariadb attributes that are no longer needed
- Temporarily disable voting on centos/ubuntu gates since this will
  require a patch from ops-database and we cannot create a circular
  dependency

Depends-On: https://review.opendev.org/710348
Change-Id: I215a777d255b4b5f9a3481f782a2b7b89f9c3a07
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/51/710351/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/integration/ops-database/inspec/ops_database_spec.rb', '.zuul.yaml', 'environments/allinone.json', 'environments/integration.json', 'environments/multinode.json', '.kitchen.yml']",6,89463260f4aa9afa92bf92713e2d18c56dcd9267,mysql-fixes," - [""forwarded_port"", {guest: 443, host: 9443, auto_correct: true}]"," - [""forwarded_port"", {guest: 443, host: 9443}]",6,30
openstack%2Fpaunch~master~I3c6d0670e11d035287d12f4207489a13e0891943,openstack/paunch,master,I3c6d0670e11d035287d12f4207489a13e0891943,Cleanup containers in the same loop as they are created,MERGED,2020-02-12 15:24:21.000000000,2020-03-05 14:34:41.000000000,2020-03-05 14:32:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-02-12 15:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/554f071dcb2fb5c263a9fc2cc0407b63a4f50e49', 'message': ""WIP - Cleanup containers in the same loop as they are created\n\nTODO: unit tests\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}, {'number': 2, 'created': '2020-02-13 17:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/92384ae2fd0da1b0b94342bc76090113acf69869', 'message': ""WIP Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}, {'number': 3, 'created': '2020-02-14 15:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/0548f01d0161ce8ccdae7238829a51cf570cf635', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}, {'number': 4, 'created': '2020-02-14 20:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/d04481caa9d73add3c435ece204553de786a4290', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}, {'number': 5, 'created': '2020-02-18 02:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/61ee5f9208b40ceadf482c13f309d30c728f8805', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}, {'number': 6, 'created': '2020-02-21 09:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/5c4e6abe84323ab1967b6c66a7cfa1e7f3e6517d', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n  * in order to make that cached container_names working and saving off\n    extra podman ps/inspect calls, rework it to return a list instead\n    of an iterator. There is no huge lists of containers, iterators buy\n    us nothing here, while podman CLI calls are the more expensive\n    thing and we optimize the latter instead.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}, {'number': 7, 'created': '2020-02-21 09:22:06.000000000', 'files': ['paunch/runner.py', 'paunch/tests/test_builder_base.py', 'paunch/builder/base.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/eb3d3b75bb8bf300fb52390610a6a53ddbfaa48e', 'message': ""Cleanup containers in the same loop as they are created\n\nSplit delete_missing_and_updated() into 2 methods:\n\n  * delete_missing(), that will remove all containers installed on the\n    host but missing from the given config. This runs outside of the\n    loop, once.\n  * delete_updated(), that will remove a container installed on the host\n    (if present), that is part of the config, if config_data changed or\n    didn't exist. It runs within the create loop, so the downtime\n    between a container removal and creation should be shorter than\n    before.\n  * make delete_missing(), delete_updated() and rename_containers()\n    returning True, if any container has been touched by either. Use\n    that flag in order to keep the container_names contents always\n    actual.\n  * in order to make that cached container_names working and saving off\n    extra podman ps/inspect calls, rework it to return a list instead\n    of an iterator. There is no huge lists of containers, iterators buy\n    us nothing here, while podman CLI calls are the more expensive\n    thing and we optimize the latter instead.\n\nCo-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I3c6d0670e11d035287d12f4207489a13e0891943\nCloses-Bug: #1862954\n""}]",6,707408,eb3d3b75bb8bf300fb52390610a6a53ddbfaa48e,58,9,7,3153,,,0,"Cleanup containers in the same loop as they are created

Split delete_missing_and_updated() into 2 methods:

  * delete_missing(), that will remove all containers installed on the
    host but missing from the given config. This runs outside of the
    loop, once.
  * delete_updated(), that will remove a container installed on the host
    (if present), that is part of the config, if config_data changed or
    didn't exist. It runs within the create loop, so the downtime
    between a container removal and creation should be shorter than
    before.
  * make delete_missing(), delete_updated() and rename_containers()
    returning True, if any container has been touched by either. Use
    that flag in order to keep the container_names contents always
    actual.
  * in order to make that cached container_names working and saving off
    extra podman ps/inspect calls, rework it to return a list instead
    of an iterator. There is no huge lists of containers, iterators buy
    us nothing here, while podman CLI calls are the more expensive
    thing and we optimize the latter instead.

Co-Authored-By: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I3c6d0670e11d035287d12f4207489a13e0891943
Closes-Bug: #1862954
",git fetch https://review.opendev.org/openstack/paunch refs/changes/08/707408/5 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/base.py'],1,554f071dcb2fb5c263a9fc2cc0407b63a4f50e49,bug/1862954," # Cleanup containers missing from the config self.delete_missing(container_names) # Applying new containers configs is an opportunity for renames to # their preferred name self.runner.rename_containers() for container in sorted(self.config, key=key_fltr): # Before creating the container, figure out if it needs to be # removed self.delete_updated(container, container_names) def delete_missing(self, container_names): def delete_updated(self, container, container_names): # If a container is not deployed, there is nothing to delete if container not in container_names: return ex_data_str = self.runner.inspect( container, '{{index .Config.Labels ""config_data""}}') if not ex_data_str: self.log.debug(""Deleting container (no config_data): %s"" % container) self.runner.remove_container(container) return try: ex_data = yaml.safe_load(str(ex_data_str)) except Exception: ex_data = None new_data = self.config[container] if new_data != ex_data: self.log.debug(""Deleting container (changed config_data): %s"" % container) self.runner.remove_container(container)"," self.delete_missing_and_updated() for container in sorted(self.config, key=key_fltr): def delete_missing_and_updated(self): container_names = self.runner.container_names(self.config_id) continue ex_data_str = self.runner.inspect( container, '{{index .Config.Labels ""config_data""}}') if not ex_data_str: self.log.debug(""Deleting container (no config_data): %s"" % container) self.runner.remove_container(container) continue try: ex_data = yaml.safe_load(str(ex_data_str)) except Exception: ex_data = None new_data = self.config.get(cn[-1]) if new_data != ex_data: self.log.debug(""Deleting container (changed config_data): %s"" % container) self.runner.remove_container(container) # deleting containers is an opportunity for renames to their # preferred name self.runner.rename_containers()",32,25
openstack%2Fkolla-ansible~master~I1be4739866f7eb901824bbd8e1ae292b7ea75a7e,openstack/kolla-ansible,master,I1be4739866f7eb901824bbd8e1ae292b7ea75a7e,CI: Pin ansible to <2.9.6 on Ubuntu and CentOS 8,ABANDONED,2020-03-05 12:38:30.000000000,2020-03-05 14:33:57.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 12:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d12642c75733f1a045d397c7e3c7e81fe9da32a', 'message': 'CI: Pin ansible to <2.9.6 on Ubuntu and CentOS 8\n\nUbuntu and CentOS 8 deploy jobs are currently broken on master\n(probably) due to ansible 2.9.6 release. We get errors like the\nfollowing:\n\n    ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse\n    match = self.version_re.match(vstring)\n    TypeError: expected string or buffer\n\nThis change pins ansible to <2.9.6 on Ubuntu and CentOS 8 to work around\nthis issue. Other distros use a lower version of ansible so are not\naffected.\n\nChange-Id: I1be4739866f7eb901824bbd8e1ae292b7ea75a7e\nCloses-Bug: #1866181\n'}, {'number': 2, 'created': '2020-03-05 13:09:56.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f538bd9fbd0a9bd116d6c5578e519e8410b0604', 'message': 'CI: Pin ansible to <2.9.6 on Ubuntu and CentOS 8\n\nUbuntu and CentOS 8 deploy jobs are currently broken on master\n(probably) due to ansible 2.9.6 release. We get errors like the\nfollowing:\n\n    ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse\n    match = self.version_re.match(vstring)\n    TypeError: expected string or buffer\n\nThis change pins ansible to <2.9.6 on Ubuntu and CentOS 8 to work around\nthis issue. Other distros use a lower version of ansible so are not\naffected.\n\nChange-Id: I1be4739866f7eb901824bbd8e1ae292b7ea75a7e\nCloses-Bug: #1866181\n'}]",2,711449,1f538bd9fbd0a9bd116d6c5578e519e8410b0604,9,4,2,14826,,,0,"CI: Pin ansible to <2.9.6 on Ubuntu and CentOS 8

Ubuntu and CentOS 8 deploy jobs are currently broken on master
(probably) due to ansible 2.9.6 release. We get errors like the
following:

    ""/usr/lib64/python2.7/distutils/version.py"", line 105, in parse
    match = self.version_re.match(vstring)
    TypeError: expected string or buffer

This change pins ansible to <2.9.6 on Ubuntu and CentOS 8 to work around
this issue. Other distros use a lower version of ansible so are not
affected.

Change-Id: I1be4739866f7eb901824bbd8e1ae292b7ea75a7e
Closes-Bug: #1866181
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/711449/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,8d12642c75733f1a045d397c7e3c7e81fe9da32a,bug/1866181," # NOTE(mgoddard): Ansible 2.9.6 broke our use of OpenStack modules. See # https://bugs.launchpad.net/kolla-ansible/+bug/1866181. ansible_version_constraint: ""{{ '<2.9.6' if base_distro == 'ubuntu' else '==2.8.*' }}"" # NOTE(mgoddard): Ansible 2.9.6 broke our use of OpenStack # modules. See # https://bugs.launchpad.net/kolla-ansible/+bug/1866181. ansible_version_constraint: ""{{ '<2.9.6' if base_distro == 'ubuntu' else '==2.8.*' }}"""," ansible_version_constraint: ""{{ '==2.9.*' if base_distro == 'ubuntu' else '==2.8.*' }}"" ansible_version_constraint: ""{{ '==2.9.*' if base_distro == 'ubuntu' else '==2.8.*' }}""",7,2
openstack%2Fcookbook-openstack-common~master~I723740b53fe772cf17e65acfb62d5f82e107b7ea,openstack/cookbook-openstack-common,master,I723740b53fe772cf17e65acfb62d5f82e107b7ea,Switch to using mariadb user and database resources,MERGED,2020-02-27 23:39:25.000000000,2020-03-05 14:32:53.000000000,2020-03-05 14:32:53.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 23:39:25.000000000', 'files': ['spec/cookbooks/test-openstack-common-database/recipes/default.rb', 'libraries/resource_mysql_database.rb', 'README.rst', 'libraries/hashed_password.rb', 'spec/database_provider_spec.rb', 'providers/database.rb', 'resources/database.rb', 'libraries/resource_mysql_database_user.rb', 'libraries/resource_database.rb', 'libraries/provider_database_mysql_user.rb', 'libraries/resource_database_user.rb', 'metadata.rb', 'libraries/provider_database_mysql.rb'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/ea8684d2cf57e5ccde36959524b1fd81fe7b0922', 'message': 'Switch to using mariadb user and database resources\n\nThis updates the mariadb cookbook dependency which pulls in mariadb_user\nand mariadb_database resources that do not require the mysql2 gem. In\naddition, this removes all of the imported mysql libraries and resources.\n\nOther fixes include:\n- Rename openstack_common_database resource to openstack_database\n- Convert LWRP to a custom resource\n\nChange-Id: I723740b53fe772cf17e65acfb62d5f82e107b7ea\n'}]",0,710348,ea8684d2cf57e5ccde36959524b1fd81fe7b0922,6,2,1,21961,,,0,"Switch to using mariadb user and database resources

This updates the mariadb cookbook dependency which pulls in mariadb_user
and mariadb_database resources that do not require the mysql2 gem. In
addition, this removes all of the imported mysql libraries and resources.

Other fixes include:
- Rename openstack_common_database resource to openstack_database
- Convert LWRP to a custom resource

Change-Id: I723740b53fe772cf17e65acfb62d5f82e107b7ea
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/48/710348/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/cookbooks/test-openstack-common-database/recipes/default.rb', 'libraries/resource_mysql_database.rb', 'README.rst', 'libraries/hashed_password.rb', 'spec/database_provider_spec.rb', 'providers/database.rb', 'resources/database.rb', 'libraries/resource_mysql_database_user.rb', 'libraries/resource_database.rb', 'libraries/provider_database_mysql_user.rb', 'libraries/resource_database_user.rb', 'metadata.rb', 'libraries/provider_database_mysql.rb']",13,ea8684d2cf57e5ccde36959524b1fd81fe7b0922,mariadb-resources,,"# # Author:: Seth Chisamore (<schisamo@chef.io>) # Author:: Sean OMeara (<sean@sean.io>) # Copyright:: 2011-2016, Chef Software, Inc. # License:: Apache License, Version 2.0 # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # this file is originally from the database cookbook, preserved for legacy # purposes until the functionality can be refactored into a custom resource. # Original: https://github.com/chef-boneyard/database class Chef class Provider class Database class Mysql < Chef::Provider::LWRPBase def whyrun_supported? true end action :create do # test schema_present = nil begin test_sql = 'SHOW SCHEMAS;' Chef::Log.debug(""#{new_resource.name}: Performing query [#{test_sql}]"") test_sql_results = test_client.query(test_sql) test_sql_results.each do |r| schema_present = true if r['Database'] == new_resource.database_name end ensure close_test_client end # repair unless schema_present converge_by ""Creating schema '#{new_resource.database_name}'"" do begin repair_sql = ""CREATE SCHEMA IF NOT EXISTS `#{new_resource.database_name}`"" repair_sql += "" CHARACTER SET = #{new_resource.encoding}"" if new_resource.encoding repair_sql += "" COLLATE = #{new_resource.collation}"" if new_resource.collation Chef::Log.debug(""#{new_resource.name}: Performing query [#{repair_sql}]"") repair_client.query(repair_sql) ensure close_repair_client end end end end action :drop do # test schema_present = nil begin test_sql = 'SHOW SCHEMAS;' Chef::Log.debug(""Performing query [#{test_sql}]"") test_sql_results = test_client.query(test_sql) test_sql_results.each do |r| schema_present = true if r['Database'] == new_resource.database_name end ensure close_test_client end # repair if schema_present converge_by ""Dropping schema '#{new_resource.database_name}'"" do begin repair_sql = ""DROP SCHEMA IF EXISTS `#{new_resource.database_name}`"" Chef::Log.debug(""Performing query [#{repair_sql}]"") repair_client.query(repair_sql) ensure close_repair_client end end end end action :query do begin query_sql = new_resource.sql_query Chef::Log.debug(""Performing query [#{query_sql}]"") query_client.query(query_sql) ensure close_query_client end end private def test_client require 'mysql2' @test_client ||= Mysql2::Client.new( host: new_resource.connection[:host], socket: new_resource.connection[:socket], username: new_resource.connection[:username], password: new_resource.connection[:password], port: new_resource.connection[:port], default_file: new_resource.connection[:default_file], default_group: new_resource.connection[:default_group] ) end def close_test_client @test_client.close if @test_client rescue Mysql2::Error @test_client = nil end def repair_client require 'mysql2' @repair_client ||= Mysql2::Client.new( host: new_resource.connection[:host], socket: new_resource.connection[:socket], username: new_resource.connection[:username], password: new_resource.connection[:password], port: new_resource.connection[:port], default_file: new_resource.connection[:default_file], default_group: new_resource.connection[:default_group] ) end def close_repair_client @repair_client.close if @repair_client rescue Mysql2::Error @repair_client = nil end def query_client require 'mysql2' @query_client ||= Mysql2::Client.new( host: new_resource.connection[:host], socket: new_resource.connection[:socket], username: new_resource.connection[:username], password: new_resource.connection[:password], port: new_resource.connection[:port], default_file: new_resource.connection[:default_file], default_group: new_resource.connection[:default_group], flags: new_resource.connection[:flags], database: new_resource.database_name ) end def close_query_client @query_client.close if @query_client rescue Mysql2::Error @query_client = nil end end end end end ",96,1066
openstack%2Fironic~stable%2Ftrain~Ibff1f07ca00b8f5a5274d73f9e53196f49c33a66,openstack/ironic,stable/train,Ibff1f07ca00b8f5a5274d73f9e53196f49c33a66,Using loop instead of with_X,MERGED,2020-03-03 14:16:59.000000000,2020-03-05 14:23:58.000000000,2020-03-05 14:21:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-03 14:16:59.000000000', 'files': ['releasenotes/notes/ansible-loops-de0eef0d5b79a9ff.yaml', 'ironic/drivers/modules/ansible/playbooks/roles/discover/tasks/main.yaml', 'driver-requirements.txt', 'doc/source/admin/drivers/ansible.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/361f00f0c1080d7934b9ac39811431825c2bf707', 'message': ""Using loop instead of with_X\n\nThe loop keyword is the current recommended way to handle loops,\nand supports filters.\nIt's available since Ansible version 2.5 so changing ansible\nrequirement in driver-requirements.\n\nNote on backport: while it's not obvious from the commit message,\nthis change fixes the ansible deploy interface under Python 3.\nThe release note is updated accordingly. Since the oldest supported\nAnsible release is currently 2.7, bumping the minimum version to\n2.5 has been deemed acceptable.\n\nChange-Id: Ibff1f07ca00b8f5a5274d73f9e53196f49c33a66\n(cherry picked from commit 89c30cb923863c71a88647309cdc605b18caa777)\n""}]",0,711020,361f00f0c1080d7934b9ac39811431825c2bf707,21,7,1,10239,,,0,"Using loop instead of with_X

The loop keyword is the current recommended way to handle loops,
and supports filters.
It's available since Ansible version 2.5 so changing ansible
requirement in driver-requirements.

Note on backport: while it's not obvious from the commit message,
this change fixes the ansible deploy interface under Python 3.
The release note is updated accordingly. Since the oldest supported
Ansible release is currently 2.7, bumping the minimum version to
2.5 has been deemed acceptable.

Change-Id: Ibff1f07ca00b8f5a5274d73f9e53196f49c33a66
(cherry picked from commit 89c30cb923863c71a88647309cdc605b18caa777)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/711020/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ansible-loops-de0eef0d5b79a9ff.yaml', 'ironic/drivers/modules/ansible/playbooks/roles/discover/tasks/main.yaml', 'driver-requirements.txt', 'doc/source/admin/drivers/ansible.rst']",4,361f00f0c1080d7934b9ac39811431825c2bf707,," Tested with, and targets, Ansible 2.5.x"," Tested with, and targets, Ansible 2.4.x",14,3
openstack%2Frpm-packaging~stable%2Ftrain~I483713ef299c7863a3ed04ab68e2f8e3a58161aa,openstack/rpm-packaging,stable/train,I483713ef299c7863a3ed04ab68e2f8e3a58161aa,python-manilaclient: convert to python3,MERGED,2020-02-27 13:54:04.000000000,2020-03-05 14:07:40.000000000,2020-03-05 14:07:40.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-27 13:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cbeb5398e2fc46ad54c7ab07d00811941e720ac5', 'message': 'python-manilaclient: convert to python3\n\nChange-Id: I483713ef299c7863a3ed04ab68e2f8e3a58161aa\n(cherry picked from commit b1e91b60d895fade1087b8b9f792ba055729827c)\n'}, {'number': 2, 'created': '2020-03-04 08:59:43.000000000', 'files': ['openstack/python-manilaclient/python-manilaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4c0fb04d071a0457476d8746482e17dfda8616d4', 'message': 'python-manilaclient: convert to python3\n\nChange-Id: I483713ef299c7863a3ed04ab68e2f8e3a58161aa\n(cherry picked from commit b1e91b60d895fade1087b8b9f792ba055729827c)\n'}]",0,710262,4c0fb04d071a0457476d8746482e17dfda8616d4,17,5,2,13294,,,0,"python-manilaclient: convert to python3

Change-Id: I483713ef299c7863a3ed04ab68e2f8e3a58161aa
(cherry picked from commit b1e91b60d895fade1087b8b9f792ba055729827c)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/62/710262/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-manilaclient/python-manilaclient.spec.j2'],1,cbeb5398e2fc46ad54c7ab07d00811941e720ac5,remove-python2-stable/train,BuildRequires: {{ py3('ddt') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('python-openstackclient') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testrepository') }} BuildRequires: {{ py3('testtools') }}%package -n python3-manilaclient Summary: Client Library for OpenStack Share API Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('debtcollector') }} Requires: {{ py3('python-keystoneclient') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('requests') }} Requires: {{ py3('simplejson') }} Requires: {{ py3('six') }} %description -n python3-manilaclient Client library and command line utility for interacting with Openstack Share API. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n python3-manilaclient%{python3_sitelib}/manilaclient %{python3_sitelib}/*.egg-info %{_bindir}/manila %{_sysconfdir}/bash_completion.d/manila.bash_completion,"BuildRequires: {{ py2pkg('ddt', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('fixtures', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('python-openstackclient', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.config', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.log', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testrepository', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testtools', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('debtcollector') }} Requires: {{ py2pkg('python-keystoneclient') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('simplejson') }} Requires: {{ py2pkg('six') }}%if 0%{?suse_version} Requires(post): update-alternatives Requires(postun): update-alternatives %else # on RDO, update-alternatives is in chkconfig Requires(post): chkconfig Requires(postun): chkconfig %endif %python_subpackages%{python_build}%{python_install}%python_clone -a %{buildroot}%{_bindir}/manila %python_clone -a %{buildroot}%{_sysconfdir}/bash_completion.d/manila.bash_completion %post %{python_install_alternative manila %{_sysconfdir}/bash_completion.d/manila.bash_completion} %postun %python_uninstall_alternative manila%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/manilaclient %{python_sitelib}/*.egg-info %python_alternative %{_bindir}/manila %python_alternative %{_sysconfdir}/bash_completion.d/manila.bash_completion",37,47
openstack%2Fnova~stable%2Fstein~I98bbe96e4be5326e18ef2c2ac50c0d24993d52ec,openstack/nova,stable/stein,I98bbe96e4be5326e18ef2c2ac50c0d24993d52ec,Add retry_on_deadlock to migration_update DB API,MERGED,2019-03-28 14:46:12.000000000,2020-03-05 14:05:33.000000000,2019-04-11 20:55:40.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-28 14:46:12.000000000', 'files': ['nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/99b3f44eb138b02bd5e967cbbb1574ebcdbc6cc5', 'message': 'Add retry_on_deadlock to migration_update DB API\n\nLots of different things can be updating the same migration\nrecord at the same time (different computes, the API, etc)\nand we see DBDeadlock errors on migration_update at times\n(and operators that do a lot of migrations have mentioned it\nalso) so this change simply adds the retry_on_deadlock decorator\nto the migration_update DB API method.\n\nChange-Id: I98bbe96e4be5326e18ef2c2ac50c0d24993d52ec\nCloses-Bug: #1642537\n(cherry picked from commit 74f9bba9c7ac27df8f73d11fc317649ae22040fb)\n'}]",0,648428,99b3f44eb138b02bd5e967cbbb1574ebcdbc6cc5,17,7,1,6873,,,0,"Add retry_on_deadlock to migration_update DB API

Lots of different things can be updating the same migration
record at the same time (different computes, the API, etc)
and we see DBDeadlock errors on migration_update at times
(and operators that do a lot of migrations have mentioned it
also) so this change simply adds the retry_on_deadlock decorator
to the migration_update DB API method.

Change-Id: I98bbe96e4be5326e18ef2c2ac50c0d24993d52ec
Closes-Bug: #1642537
(cherry picked from commit 74f9bba9c7ac27df8f73d11fc317649ae22040fb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/648428/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/db/sqlalchemy/api.py'],1,99b3f44eb138b02bd5e967cbbb1574ebcdbc6cc5,bug/1642537,"@oslo_db_api.wrap_db_retry(max_retries=5, retry_on_deadlock=True)",,1,0
openstack%2Frpm-packaging~stable%2Ftrain~Ic55b91dc6baee56e4ad21ef4624cb0654099f776,openstack/rpm-packaging,stable/train,Ic55b91dc6baee56e4ad21ef4624cb0654099f776,python-saharaclient: convert to python3,MERGED,2020-03-02 13:55:24.000000000,2020-03-05 14:04:18.000000000,2020-03-05 14:04:18.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 13:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/71a43ce8cdd7af12cf067e0467f6e84e4d55fa97', 'message': 'python-saharaclient: convert to python3\n\nChange-Id: Ic55b91dc6baee56e4ad21ef4624cb0654099f776\n(cherry picked from commit 7f6e684d48d470635b794594e0cba530977658f0)\n'}, {'number': 2, 'created': '2020-03-04 08:54:49.000000000', 'files': ['openstack/python-saharaclient/python-saharaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0727a8c4f180062af3e0175b7a2c3ed75adea46f', 'message': 'python-saharaclient: convert to python3\n\nChange-Id: Ic55b91dc6baee56e4ad21ef4624cb0654099f776\n(cherry picked from commit 7f6e684d48d470635b794594e0cba530977658f0)\n'}]",0,710772,0727a8c4f180062af3e0175b7a2c3ed75adea46f,13,5,2,13294,,,0,"python-saharaclient: convert to python3

Change-Id: Ic55b91dc6baee56e4ad21ef4624cb0654099f776
(cherry picked from commit 7f6e684d48d470635b794594e0cba530977658f0)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/72/710772/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-saharaclient/python-saharaclient.spec.j2'],1,71a43ce8cdd7af12cf067e0467f6e84e4d55fa97,remove-python2-stable/train,BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('osc-lib') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.serialization') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('requests') }} BuildRequires: {{ py3('requests-mock') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testrepository') }}%package -n python3-saharaclient Summary: Client library for OpenStack Sahara API Requires: {{ py3('Babel') }} Requires: {{ py3('keystoneauth1') }} Requires: {{ py3('python-openstackclient') }} Requires: {{ py3('osc-lib') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.serialization') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} %description -n python3-saharaclient Python client library for interacting with OpenStack Sahara API. This package contains the Python 3.x module. %{py3_build}%{py3_install}python3 -m stestr.cli run %files -n python3-saharaclient%{python3_sitelib}/saharaclient %{python3_sitelib}/*.egg-info,"BuildRequires: {{ py2pkg('mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('osc-lib', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.i18n', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.log', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.serialization', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslo.utils', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('oslotest', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('pbr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('requests-mock', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('setuptools', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('stestr', py_versions=['py2', 'py3']) }} BuildRequires: {{ py2pkg('testrepository', py_versions=['py2', 'py3']) }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('keystoneauth1') }} Requires: {{ py2pkg('python-openstackclient') }} Requires: {{ py2pkg('osc-lib') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.serialization') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }}%python_subpackages%{python_build}%{python_install}%python_exec -m stestr.cli run %files %{python_files}%{python_sitelib}/saharaclient %{python_sitelib}/*.egg-info",37,30
openstack%2Frpm-packaging~stable%2Ftrain~If199545874e73f2d77f1fdf6d518c6b2af8a5aad,openstack/rpm-packaging,stable/train,If199545874e73f2d77f1fdf6d518c6b2af8a5aad,python-solumclient: convert to python3,MERGED,2020-02-27 13:53:48.000000000,2020-03-05 14:04:17.000000000,2020-03-05 14:04:17.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-27 13:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/298e78941a23e476b001ed36c46bd85a9d41e50a', 'message': 'python-solumclient: convert to python3\n\nChange-Id: If199545874e73f2d77f1fdf6d518c6b2af8a5aad\n(cherry picked from commit e58d6b7724e21bc1bf7cc097fc6f10199b4054ae)\n'}, {'number': 2, 'created': '2020-03-04 08:54:37.000000000', 'files': ['openstack/python-solumclient/python-solumclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/9ae890f65c87bd910766bccffdd060095d4cf31b', 'message': 'python-solumclient: convert to python3\n\nChange-Id: If199545874e73f2d77f1fdf6d518c6b2af8a5aad\n(cherry picked from commit e58d6b7724e21bc1bf7cc097fc6f10199b4054ae)\n'}]",0,710260,9ae890f65c87bd910766bccffdd060095d4cf31b,13,5,2,13294,,,0,"python-solumclient: convert to python3

Change-Id: If199545874e73f2d77f1fdf6d518c6b2af8a5aad
(cherry picked from commit e58d6b7724e21bc1bf7cc097fc6f10199b4054ae)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/710260/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-solumclient/python-solumclient.spec.j2'],1,298e78941a23e476b001ed36c46bd85a9d41e50a,remove-python2-stable/train,{% set pypi_name = 'python-solumclient' %} {% set upstream_version = upstream_version('2.9.0') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name() }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://launchpad.net/{{ pypi_name }} Source0: {{ source }}BuildRequires: {{ py3('PrettyTable') }} BuildRequires: {{ py3('PyYAML') }} BuildRequires: {{ py3('fixtures') }} BuildRequires: {{ py3('httplib2') }} BuildRequires: {{ py3('jsonschema') }} BuildRequires: {{ py3('python-keystoneclient') }} BuildRequires: {{ py3('mock') }} BuildRequires: {{ py3('oslo.config') }} BuildRequires: {{ py3('oslo.i18n') }} BuildRequires: {{ py3('oslo.log') }} BuildRequires: {{ py3('oslo.utils') }} BuildRequires: {{ py3('oslotest') }} BuildRequires: {{ py3('pbr') }} BuildRequires: {{ py3('python-subunit') }} BuildRequires: {{ py3('setuptools') }} BuildRequires: {{ py3('stestr') }} BuildRequires: {{ py3('testscenarios') }} BuildRequires: {{ py3('testtools') }}%package -n python3-solumclient Summary: Python API and CLI for OpenStack Solum Requires: {{ py3('Babel') }} Requires: {{ py3('PrettyTable') }} Requires: {{ py3('PyYAML') }} Requires: {{ py3('httplib2') }} Requires: {{ py3('iso8601') }} Requires: {{ py3('jsonschema') }} Requires: {{ py3('python-keystoneclient') }} Requires: {{ py3('oslo.config') }} Requires: {{ py3('oslo.i18n') }} Requires: {{ py3('oslo.log') }} Requires: {{ py3('oslo.utils') }} Requires: {{ py3('pbr') }} Requires: {{ py3('requests') }} Requires: {{ py3('six') }} Requires: {{ py3('stevedore') }} %description -n python3-solumclient Client library for Solum built on the Solum API. It provides a Python API (the solumclient module) and a command-line tool (solum). This package contains the Python 3.x module. BuildRequires: {{ py3('Sphinx') }} BuildRequires: {{ py3('openstackdocstheme') }} BuildRequires: {{ py3('sphinxcontrib-apidoc') }}%py3_buildPBR_VERSION=%{version} %sphinx_build -b html doc/source doc/build/html PBR_VERSION=%{version} %sphinx_build -b man doc/source doc/build/man%py3_install%{__python3} -m stestr.cli run %files -n python3-solumclient%{python3_sitelib}/solumclient %{python3_sitelib}/*.egg-info, Name: {{ py2name('python-solumclient') }} Version: 2.9.0 Release: 0URL: https://launchpad.net/%{name} Source0: https://files.pythonhosted.org/packages/source/p/%{name}/%{name}-%{version}.tar.gzBuildRequires: {{ py2pkg('PrettyTable') }} BuildRequires: {{ py2pkg('PyYAML') }} BuildRequires: {{ py2pkg('fixtures') }} BuildRequires: {{ py2pkg('httplib2') }} BuildRequires: {{ py2pkg('jsonschema') }} BuildRequires: {{ py2pkg('python-keystoneclient') }} BuildRequires: {{ py2pkg('mock') }} BuildRequires: {{ py2pkg('oslo.config') }} BuildRequires: {{ py2pkg('oslo.i18n') }} BuildRequires: {{ py2pkg('oslo.log') }} BuildRequires: {{ py2pkg('oslo.utils') }} BuildRequires: {{ py2pkg('oslotest') }} BuildRequires: {{ py2pkg('pbr') }} BuildRequires: {{ py2pkg('python-subunit') }} BuildRequires: {{ py2pkg('setuptools') }} BuildRequires: {{ py2pkg('stestr') }} BuildRequires: {{ py2pkg('testscenarios') }} BuildRequires: {{ py2pkg('testtools') }} Requires: {{ py2pkg('Babel') }} Requires: {{ py2pkg('PrettyTable') }} Requires: {{ py2pkg('PyYAML') }} Requires: {{ py2pkg('httplib2') }} Requires: {{ py2pkg('iso8601') }} Requires: {{ py2pkg('jsonschema') }} Requires: {{ py2pkg('python-keystoneclient') }} Requires: {{ py2pkg('oslo.config') }} Requires: {{ py2pkg('oslo.i18n') }} Requires: {{ py2pkg('oslo.log') }} Requires: {{ py2pkg('oslo.utils') }} Requires: {{ py2pkg('pbr') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('six') }} Requires: {{ py2pkg('stevedore') }}BuildRequires: {{ py2pkg('Sphinx') }} BuildRequires: {{ py2pkg('openstackdocstheme') }} BuildRequires: {{ py2pkg('sphinxcontrib-apidoc') }}%py2_buildPBR_VERSION=%{version} sphinx-build -b html doc/source doc/build/html PBR_VERSION=%{version} sphinx-build -b man doc/source doc/build/man%py2_install# TODO(jpena): do not ignore tests once we have a patched python 2.7.5 # We are hitting http://bugs.python.org/issue18015 with two tests if [[ $(python --version 2>&1 | awk '{print $2}') == '2.7.5' ]]; then %{__python2} -m stestr.cli run ||: else %{__python2} -m stestr.cli run fi %files%{python2_sitelib}/solumclient %{python2_sitelib}/*.egg-info,62,56
openstack%2Freleases~master~Ic6c0f4089259cfc79b70b80c571f5b903a04fd7f,openstack/releases,master,Ic6c0f4089259cfc79b70b80c571f5b903a04fd7f,Update keystone liaison's email,MERGED,2020-03-04 10:29:44.000000000,2020-03-05 13:58:55.000000000,2020-03-05 13:58:55.000000000,"[{'_account_id': 16465}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 10:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d79f836df1b3979c92a8167d38adc7df11f4fc10', 'message': ""Update keystone liaison's email\n\nKristi Nikolla's keystone liaison but is email is not recognized.\n\nChange-Id: Ic6c0f4089259cfc79b70b80c571f5b903a04fd7f\n""}, {'number': 2, 'created': '2020-03-04 10:32:49.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/de22dbefa69ca67f18f1e248011d2cbbab10d79e', 'message': ""Update keystone liaison's email\n\nKristi Nikolla is the keystone liaison but is email is not recognized.\n\nChange-Id: Ic6c0f4089259cfc79b70b80c571f5b903a04fd7f\n""}]",0,711196,de22dbefa69ca67f18f1e248011d2cbbab10d79e,10,3,2,28522,,,0,"Update keystone liaison's email

Kristi Nikolla is the keystone liaison but is email is not recognized.

Change-Id: Ic6c0f4089259cfc79b70b80c571f5b903a04fd7f
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/711196/2 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,d79f836df1b3979c92a8167d38adc7df11f4fc10,keystone-liaison, email: knikolla@icloud.com, email: kristi@nikolla.me,1,1
openstack%2Fnova~master~Ia58f0de7fd1f36caa5cdcc8d6b41632dd4fa3505,openstack/nova,master,Ia58f0de7fd1f36caa5cdcc8d6b41632dd4fa3505,DNM: Trying a different strategy for tests,ABANDONED,2019-03-20 22:12:57.000000000,2020-03-05 13:58:49.000000000,,"[{'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-20 22:12:57.000000000', 'files': ['requirements.txt', 'nova/tests/fixtures.py', 'nova/test.py', 'nova/scheduler/client/report.py', 'lower-constraints.txt', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ffa02044440dc7219720c3f8a582f0eee2720e18', 'message': 'DNM: Trying a different strategy for tests\n\nSquash into https://review.openstack.org/#/c/643664/ if it works.\n\nChange-Id: Ia58f0de7fd1f36caa5cdcc8d6b41632dd4fa3505\n'}]",1,645026,ffa02044440dc7219720c3f8a582f0eee2720e18,10,8,1,14070,,,0,"DNM: Trying a different strategy for tests

Squash into https://review.openstack.org/#/c/643664/ if it works.

Change-Id: Ia58f0de7fd1f36caa5cdcc8d6b41632dd4fa3505
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/645026/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova/tests/fixtures.py', 'nova/test.py', 'nova/scheduler/client/report.py', 'lower-constraints.txt', 'nova/utils.py']",6,ffa02044440dc7219720c3f8a582f0eee2720e18,openstacksdk-infra-2,"from openstack import connectiondef _get_conf_group(service_type): # Get the conf group corresponding to the service type. confgrp = _SERVICE_TYPES.get_project_name(service_type) if not confgrp or not hasattr(CONF, confgrp): # Try the service type as the conf group. This is necessary for e.g. # placement, while it's still part of the nova project. # Note that this might become the first thing we try if/as we move to # using service types for conf group names in general. confgrp = service_type if not confgrp or not hasattr(CONF, confgrp): raise exception.ConfGroupForServiceTypeNotFound(stype=service_type) return confgrp def _get_auth_and_session(confgrp, ksa_auth=None, ksa_session=None): # Ensure we have an auth. # NOTE(efried): This could be None, and that could be okay - e.g. if the # result is being used for get_endpoint() and the conf only contains # endpoint_override. if not ksa_auth: if ksa_session and ksa_session.auth: ksa_auth = ksa_session.auth else: ksa_auth = ks_loading.load_auth_from_conf_options(CONF, confgrp) if not ksa_session: ksa_session = ks_loading.load_session_from_conf_options( CONF, confgrp, auth=ksa_auth) return ksa_auth, ksa_session confgrp = _get_conf_group(service_type) ksa_auth, ksa_session = _get_auth_and_session( confgrp, ksa_auth, ksa_session)def get_sdk_adapter(service_type): """"""Construct an openstacksdk-brokered Adapter for a given service type. We expect to find a conf group whose name corresponds to the service_type's project according to the service-types-authority. That conf group must provide ksa auth, session, and adapter options. :param service_type: String name of the service type for which the Adapter is to be constructed. :return: An openstack.proxy.Proxy object for the specified service_type. :raise: ConfGroupForServiceTypeNotFound If no conf group name could be found for the specified service_type. """""" confgrp = _get_conf_group(service_type) _, sess = _get_auth_and_session(confgrp) conn = connection.Connection(session=sess, oslo_conf=CONF) return getattr(conn, service_type) "," # Get the conf group corresponding to the service type. confgrp = _SERVICE_TYPES.get_project_name(service_type) if not confgrp or not hasattr(CONF, confgrp): # Try the service type as the conf group. This is necessary for e.g. # placement, while it's still part of the nova project. # Note that this might become the first thing we try if/as we move to # using service types for conf group names in general. confgrp = service_type if not confgrp or not hasattr(CONF, confgrp): raise exception.ConfGroupForServiceTypeNotFound(stype=service_type) # Ensure we have an auth. # NOTE(efried): This could be None, and that could be okay - e.g. if the # result is being used for get_endpoint() and the conf only contains # endpoint_override. if not ksa_auth: if ksa_session and ksa_session.auth: ksa_auth = ksa_session.auth else: ksa_auth = ks_loading.load_auth_from_conf_options(CONF, confgrp) if not ksa_session: ksa_session = ks_loading.load_session_from_conf_options( CONF, confgrp, auth=ksa_auth)",69,25
openstack%2Fplacement~master~I8220353872f79453c4aa55058f0f7aebef161e1c,openstack/placement,master,I8220353872f79453c4aa55058f0f7aebef161e1c,Use ``code`` role in api-ref titles,ABANDONED,2019-03-06 14:53:59.000000000,2020-03-05 13:56:28.000000000,,"[{'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-06 14:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fd8e9ef13cdbe1f30f44c1e13b1299371013d1cd', 'message': ""DNM: Use ``code`` role in api-ref titles\n\nA previous change [1] remove the ``code`` role from titles in the api\nreference because they rendered rather loudly.\n\nThis was deemed a bug in the openstack docs theme [2] which has since\nbeen fixed [3].\n\nSo this commit reinstates the ``code`` role as removed from [1], as well\nas in other appropriate titles in the ref.\n\n[1] I5224776133afa6d9855c535af68f8d73575bad9b\n[2] https://bugs.launchpad.net/openstack-doc-tools/+bug/1818840\n[3] No, it hasn't. DNM until this points to a real commit and this one\nhas been updated to require the new openstackdocstheme in\ndoc/requirements.txt\n\nChange-Id: I8220353872f79453c4aa55058f0f7aebef161e1c\n""}, {'number': 2, 'created': '2019-03-06 15:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fb7c7ae9254ade82f0a376156716832b405d7824', 'message': 'DNM: Use ``code`` role in api-ref titles\n\nA previous change [1] remove the ``code`` role from titles in the api\nreference because they rendered rather loudly.\n\nThis was deemed a bug in the openstack docs theme [2] which has since\nbeen fixed [3].\n\nSo this commit reinstates the ``code`` role as removed from [1], as well\nas in other appropriate titles in the ref.\n\n[1] I5224776133afa6d9855c535af68f8d73575bad9b\n[2] https://bugs.launchpad.net/openstack-doc-tools/+bug/1818840\n[3] https://review.openstack.org/641408 but DNM until that is released,\nand this commit has been updated to require the release in\ndoc/requirements.txt\n\nDepends-On: https://review.openstack.org/641408\n\nChange-Id: I8220353872f79453c4aa55058f0f7aebef161e1c\n'}, {'number': 3, 'created': '2019-03-15 12:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ca9aa94eb98bb583ecba87442ab324cd1a1b844b', 'message': 'Use ``code`` role in api-ref titles\n\nA previous change [1] remove the ``code`` role from titles in the api\nreference because they rendered rather loudly.\n\nThis was deemed a bug in the openstackdocstheme [2] which has since\nbeen fixed [3] and released in 1.29.2 [4].\n\nSo this commit reinstates the ``code`` role as removed from [1], as well\nas in other appropriate titles in the ref.\n\n[1] I5224776133afa6d9855c535af68f8d73575bad9b\n[2] https://bugs.launchpad.net/openstack-doc-tools/+bug/1818840\n[3] https://review.openstack.org/641408\n[4] https://review.openstack.org/643283\n\nChange-Id: I8220353872f79453c4aa55058f0f7aebef161e1c\n'}, {'number': 4, 'created': '2019-03-15 12:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ffbdeb8c6ac6f8416c7d1bc6cb7294a7b3f8471b', 'message': 'Use ``code`` role in api-ref titles\n\nA previous change [1] remove the ``code`` role from titles in the api\nreference because they rendered rather loudly.\n\nThis was deemed a bug in the openstackdocstheme [2] which has since\nbeen fixed [3] and released in 1.29.2 [4].\n\nSo this commit reinstates the ``code`` role as removed from [1], as well\nas in other appropriate titles in the ref.\n\n[1] I5224776133afa6d9855c535af68f8d73575bad9b\n[2] https://bugs.launchpad.net/openstack-doc-tools/+bug/1818840\n[3] https://review.openstack.org/641408\n[4] https://review.openstack.org/643283\n\nChange-Id: I8220353872f79453c4aa55058f0f7aebef161e1c\n'}, {'number': 5, 'created': '2019-03-15 13:29:24.000000000', 'files': ['doc/requirements.txt', 'placement/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/1876417fa6cafd05be9c3cf36b8b8fbbd679f2ab', 'message': 'Use ``code`` role in api-ref titles\n\nA previous change [1] remove the ``code`` role from titles in the api\nreference because they rendered rather loudly.\n\nThis was deemed a bug in the openstackdocstheme [2] which has since\nbeen fixed [3] and released in 1.29.2 [4].\n\nSo this commit reinstates the ``code`` role as removed from [1], as well\nas in other appropriate titles in the ref.\n\n[1] I5224776133afa6d9855c535af68f8d73575bad9b\n[2] https://bugs.launchpad.net/openstack-doc-tools/+bug/1818840\n[3] https://review.openstack.org/641408\n[4] https://review.openstack.org/643283\n\nChange-Id: I8220353872f79453c4aa55058f0f7aebef161e1c\n'}]",2,641404,1876417fa6cafd05be9c3cf36b8b8fbbd679f2ab,23,6,5,14070,,,0,"Use ``code`` role in api-ref titles

A previous change [1] remove the ``code`` role from titles in the api
reference because they rendered rather loudly.

This was deemed a bug in the openstackdocstheme [2] which has since
been fixed [3] and released in 1.29.2 [4].

So this commit reinstates the ``code`` role as removed from [1], as well
as in other appropriate titles in the ref.

[1] I5224776133afa6d9855c535af68f8d73575bad9b
[2] https://bugs.launchpad.net/openstack-doc-tools/+bug/1818840
[3] https://review.openstack.org/641408
[4] https://review.openstack.org/643283

Change-Id: I8220353872f79453c4aa55058f0f7aebef161e1c
",git fetch https://review.opendev.org/openstack/placement refs/changes/04/641404/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/rest_api_version_history.rst'],1,fd8e9ef13cdbe1f30f44c1e13b1299371013d1cd,code-role-in-api-ref-titles,"1.3 ``member``_of query parameter ---------------------------------1.5 ``DELETE`` all inventory for a resource provider ----------------------------------------------------1.7 Idempotent ``PUT /resource_classes/{name}`` -----------------------------------------------1.8 Require placement ``project_id``, ``user_id`` in ``PUT /allocations`` -------------------------------------------------------------------------1.9 Add ``GET /usages`` -----------------------1.11 Add ``allocations`` link to the ``GET /resource_providers`` response -------------------------------------------------------------------------1.12 ``PUT`` dict format to ``/allocations/{consumer_uuid}`` ------------------------------------------------------------1.13 ``POST`` multiple allocations to ``/allocations`` ------------------------------------------------------1.15 Add ``last-modified`` and ``cache-control`` headers --------------------------------------------------------1.17 Add ``required`` parameter to allocation candidates (Maximum in Queens) ----------------------------------------------------------------------------1.18 Support ``?required=<traits>`` queryparam on ``GET /resource_providers`` -----------------------------------------------------------------------------1.20 Return 200 with provider payload from ``POST /resource_providers`` -----------------------------------------------------------------------1.21 Support ``?member_of=<aggregates>`` on ``GET /allocation_candidates`` --------------------------------------------------------------------------1.22 Support forbidden traits on resource providers and allocation candidates -----------------------------------------------------------------------------1.24 Support multiple ``?member_of`` queryparams ------------------------------------------------1.25 Granular resource requests to ``GET /allocation_candidates`` -----------------------------------------------------------------1.30 Provide a ``/reshaper`` resource (Maximum in Rocky) --------------------------------------------------------1.31 Add ``?in_tree`` to ``GET /allocation_candidates`` (Maximum in Stein) --------------------------------------------------------------------------","1.3 member_of query parameter -----------------------------1.5 DELETE all inventory for a resource provider ------------------------------------------------1.7 Idempotent PUT /resource_classes/{name} -------------------------------------------1.8 Require placement 'project_id', 'user_id' in PUT /allocations -----------------------------------------------------------------1.9 Add GET /usages --------------------1.11 Add 'allocations' link to the GET /resource_providers response -------------------------------------------------------------------1.12 PUT dict format to /allocations/{consumer_uuid} ----------------------------------------------------1.13 POST multiple allocations to /allocations ----------------------------------------------1.15 Add 'last-modified' and 'cache-control' headers ----------------------------------------------------1.17 Add 'required' parameter to the allocation candidates (Maximum in Queens) ------------------------------------------------------------------------------1.18 Support ?required=<traits> queryparam on GET /resource_providers ---------------------------------------------------------------------1.20 Return 200 with provider payload from POST /resource_providers -------------------------------------------------------------------1.21 Support ?member_of=<aggregates> queryparam on GET /allocation_candidates -----------------------------------------------------------------------------1.22 Support forbidden traits on resource providers and allocations candidates ------------------------------------------------------------------------------1.24 Support multiple ?member_of queryparams --------------------------------------------1.25 Granular resource requests to GET /allocation_candidates -------------------------------------------------------------1.30 Provide a /reshaper resource (Maximum in Rocky) ----------------------------------------------------1.31 Add in_tree queryparam on GET /allocation_candidates (Maximum in Stein) ----------------------------------------------------------------------------",36,36
openstack%2Ftripleo-ci~master~Ib0d209a14e1faf96656b3ed8de1eb6d13e6fcc93,openstack/tripleo-ci,master,Ib0d209a14e1faf96656b3ed8de1eb6d13e6fcc93,Adds tripleo-ci-centos-8-containers-undercloud-minion,MERGED,2020-03-03 09:25:49.000000000,2020-03-05 13:55:27.000000000,2020-03-05 13:55:26.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 09:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8dcb4c87ddb16103a57712725e4c57fef5336876', 'message': 'Adds tripleo-ci-centos-8-containers-undercloud-minion\n\nChange-Id: Ib0d209a14e1faf96656b3ed8de1eb6d13e6fcc93\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-03-04 10:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b0261a15329f6911c4a3477638808277bfa840c3', 'message': 'Adds tripleo-ci-centos-8-containers-undercloud-minion\n\nChange-Id: Ib0d209a14e1faf96656b3ed8de1eb6d13e6fcc93\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-03-05 07:20:52.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a35f890a634e68e868429b85869465cb16cf2ec5', 'message': 'Adds tripleo-ci-centos-8-containers-undercloud-minion\n\nChange-Id: Ib0d209a14e1faf96656b3ed8de1eb6d13e6fcc93\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,710961,a35f890a634e68e868429b85869465cb16cf2ec5,14,6,3,12393,,,0,"Adds tripleo-ci-centos-8-containers-undercloud-minion

Change-Id: Ib0d209a14e1faf96656b3ed8de1eb6d13e6fcc93
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/61/710961/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,8dcb4c87ddb16103a57712725e4c57fef5336876,c8minion, - tripleo-ci-centos-8-containers-undercloud-minion: - tripleo-ci-centos-8-containers-undercloud-minion: name: tripleo-ci-centos-8-containers-undercloud-minion parent: tripleo-ci-base-multinode-centos-8 branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$ vars: nodes: 1minion featureset: '061' playbooks: - multinode-minion.yml extra_tags: - undercloud-minion-setup - undercloud-minion-deploy - job:, - tripleo-ci-centos-7-containers-undercloud-minion: - tripleo-ci-centos-7-containers-undercloud-minion:,16,2
openstack%2Fglance_store~stable%2Frocky~I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3,openstack/glance_store,stable/rocky,I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3,Image upload fails if cinder multipath is enabled,ABANDONED,2020-02-21 05:12:02.000000000,2020-03-05 13:50:01.000000000,,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 05:12:02.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/7b229321c673ac377f8a48efb91c282acbf0cbe2', 'message': ""Image upload fails if cinder multipath is enabled\n\nImage upload is failing with NoFibreChannelVolumeDeviceFound error after\nconfiguring cinder backend (HP3Par FC storage) for the glance service. The\nissue here is that usually cinder calls os_brick with multipath information\nbut in this case cinder driver of glance is doing the call (without passing\nany multipath information). with hard-coded' False to let os_brick library\nknow that multipath is not configured.\n\nIn order to fix this, added two new boolean config option for cinder\ndriver default to False;\n\n'cinder_use_multipath'\n'cinder_enforce_multipath'\n\nChange-Id: I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3\nCloses-Bug: #1863983\n(cherry picked from commit ae73287c7b4db8d5894f72d8a5b1b89b42697545)\n""}]",0,709050,7b229321c673ac377f8a48efb91c282acbf0cbe2,3,3,1,9303,,,0,"Image upload fails if cinder multipath is enabled

Image upload is failing with NoFibreChannelVolumeDeviceFound error after
configuring cinder backend (HP3Par FC storage) for the glance service. The
issue here is that usually cinder calls os_brick with multipath information
but in this case cinder driver of glance is doing the call (without passing
any multipath information). with hard-coded' False to let os_brick library
know that multipath is not configured.

In order to fix this, added two new boolean config option for cinder
driver default to False;

'cinder_use_multipath'
'cinder_enforce_multipath'

Change-Id: I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3
Closes-Bug: #1863983
(cherry picked from commit ae73287c7b4db8d5894f72d8a5b1b89b42697545)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/50/709050/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py']",4,7b229321c673ac377f8a48efb91c282acbf0cbe2,bug/1863983-stable/rocky," def _test_open_cinder_volume(self, open_mode, attach_mode, error, multipath_supported=False, enforce_multipath=False): with mock.patch.object(connector, 'get_connector_properties') as mock_conn: if error: self.assertRaises(error, do_open) else: do_open() mock_conn.assert_called_once_with( root_helper, socket.gethostname(), multipath_supported, enforce_multipath) fake_connector.connect_volume.assert_called_once_with(mock.ANY) fake_connector.disconnect_volume.assert_called_once_with( mock.ANY, fake_devinfo) fake_volume.attach.assert_called_once_with( None, 'glance_store', attach_mode, host_name=socket.gethostname()) fake_volumes.detach.assert_called_once_with(fake_volume) def test_open_cinder_volume_multipath_disabled(self): self.config(cinder_use_multipath=False, group='cinder1') self._test_open_cinder_volume('wb', 'rw', None, multipath_supported=False) def test_open_cinder_volume_enforce_multipath(self): self.config(cinder_use_multipath=True, group='cinder1') self.config(cinder_enforce_multipath=True, group='cinder1') self._test_open_cinder_volume('wb', 'rw', None, multipath_supported=True, enforce_multipath=True) "," def _test_open_cinder_volume(self, open_mode, attach_mode, error): mock.patch.object(connector, 'get_connector_properties'), \ if error: self.assertRaises(error, do_open) else: do_open() fake_connector.connect_volume.assert_called_once_with(mock.ANY) fake_connector.disconnect_volume.assert_called_once_with( mock.ANY, fake_devinfo) fake_volume.attach.assert_called_once_with( None, 'glance_store', attach_mode, host_name=socket.gethostname()) fake_volumes.detach.assert_called_once_with(fake_volume)",104,28
openstack%2Fglance_store~stable%2Fstein~I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3,openstack/glance_store,stable/stein,I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3,Image upload fails if cinder multipath is enabled,ABANDONED,2020-02-21 05:11:14.000000000,2020-03-05 13:49:52.000000000,,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-21 05:11:14.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/c4a43eee4bd4943a78d2e32dc17bf94444dbbe23', 'message': ""Image upload fails if cinder multipath is enabled\n\nImage upload is failing with NoFibreChannelVolumeDeviceFound error after\nconfiguring cinder backend (HP3Par FC storage) for the glance service. The\nissue here is that usually cinder calls os_brick with multipath information\nbut in this case cinder driver of glance is doing the call (without passing\nany multipath information). with hard-coded' False to let os_brick library\nknow that multipath is not configured.\n\nIn order to fix this, added two new boolean config option for cinder\ndriver default to False;\n\n'cinder_use_multipath'\n'cinder_enforce_multipath'\n\nChange-Id: I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3\nCloses-Bug: #1863983\n(cherry picked from commit ae73287c7b4db8d5894f72d8a5b1b89b42697545)\n""}]",0,709049,c4a43eee4bd4943a78d2e32dc17bf94444dbbe23,7,4,1,9303,,,0,"Image upload fails if cinder multipath is enabled

Image upload is failing with NoFibreChannelVolumeDeviceFound error after
configuring cinder backend (HP3Par FC storage) for the glance service. The
issue here is that usually cinder calls os_brick with multipath information
but in this case cinder driver of glance is doing the call (without passing
any multipath information). with hard-coded' False to let os_brick library
know that multipath is not configured.

In order to fix this, added two new boolean config option for cinder
driver default to False;

'cinder_use_multipath'
'cinder_enforce_multipath'

Change-Id: I07064f3cb1a33ac4ac7e4b572f8e1b5c688bd9a3
Closes-Bug: #1863983
(cherry picked from commit ae73287c7b4db8d5894f72d8a5b1b89b42697545)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/49/709049/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_opts.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py']",4,c4a43eee4bd4943a78d2e32dc17bf94444dbbe23,bug/1863983-stable/stein," def _test_open_cinder_volume(self, open_mode, attach_mode, error, multipath_supported=False, enforce_multipath=False): with mock.patch.object(connector, 'get_connector_properties') as mock_conn: if error: self.assertRaises(error, do_open) else: do_open() mock_conn.assert_called_once_with( root_helper, socket.gethostname(), multipath_supported, enforce_multipath) fake_connector.connect_volume.assert_called_once_with(mock.ANY) fake_connector.disconnect_volume.assert_called_once_with( mock.ANY, fake_devinfo) fake_volume.attach.assert_called_once_with( None, 'glance_store', attach_mode, host_name=socket.gethostname()) fake_volumes.detach.assert_called_once_with(fake_volume) def test_open_cinder_volume_multipath_disabled(self): self.config(cinder_use_multipath=False, group='cinder1') self._test_open_cinder_volume('wb', 'rw', None, multipath_supported=False) def test_open_cinder_volume_enforce_multipath(self): self.config(cinder_use_multipath=True, group='cinder1') self.config(cinder_enforce_multipath=True, group='cinder1') self._test_open_cinder_volume('wb', 'rw', None, multipath_supported=True, enforce_multipath=True) "," def _test_open_cinder_volume(self, open_mode, attach_mode, error): mock.patch.object(connector, 'get_connector_properties'), \ if error: self.assertRaises(error, do_open) else: do_open() fake_connector.connect_volume.assert_called_once_with(mock.ANY) fake_connector.disconnect_volume.assert_called_once_with( mock.ANY, fake_devinfo) fake_volume.attach.assert_called_once_with( None, 'glance_store', attach_mode, host_name=socket.gethostname()) fake_volumes.detach.assert_called_once_with(fake_volume)",104,28
openstack%2Fnova~master~I5ff29cb1924d1adf1a66ede566ec7b2250ff6174,openstack/nova,master,I5ff29cb1924d1adf1a66ede566ec7b2250ff6174,WIP: Privatize SchedulerReportClient HTTP wrappers,ABANDONED,2019-02-27 20:45:25.000000000,2020-03-05 13:45:47.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-27 20:45:25.000000000', 'files': ['nova/tests/functional/fixtures.py', 'nova/tests/unit/test_nova_manage.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6e3b9106ff915292c6bfeab5a2c38f6a85ade716', 'message': ""WIP: Privatize SchedulerReportClient HTTP wrappers\n\nSchedulerReportClient is and should remain a clearinghouse for\nnova-specific methods that need to talk to placement. Nova code wishing\nto interact with placement artifacts should use such methods rather than\nthe get/put/post/delete primitives - at a minimum the report client\nmethod should do querystring/payload interpretation (in and out) and\nerror handling.\n\nTo reinforce this, we make the SchedulerReportClient's HTTP wrappers\nprivate (_get/_put/_post/_delete).\n\nChange-Id: I5ff29cb1924d1adf1a66ede566ec7b2250ff6174\n""}]",0,639818,6e3b9106ff915292c6bfeab5a2c38f6a85ade716,9,7,1,14070,,,0,"WIP: Privatize SchedulerReportClient HTTP wrappers

SchedulerReportClient is and should remain a clearinghouse for
nova-specific methods that need to talk to placement. Nova code wishing
to interact with placement artifacts should use such methods rather than
the get/put/post/delete primitives - at a minimum the report client
method should do querystring/payload interpretation (in and out) and
error handling.

To reinforce this, we make the SchedulerReportClient's HTTP wrappers
private (_get/_put/_post/_delete).

Change-Id: I5ff29cb1924d1adf1a66ede566ec7b2250ff6174
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/639818/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/fixtures.py', 'nova/tests/unit/test_nova_manage.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",4,6e3b9106ff915292c6bfeab5a2c38f6a85ade716,privatize_reportclient_http_methods," def _get(self, url, version=None, global_request_id=None): def _post(self, url, data, version=None, global_request_id=None): def _put(self, url, data, version=None, global_request_id=None): def _delete(self, url, version=None, global_request_id=None): resp = self._get(url, version=version, global_request_id=context.global_id) resp = self._get(""/resource_providers/%s/aggregates"" % rp_uuid, version=AGGREGATE_GENERATION_VERSION, global_request_id=context.global_id) resp = self._get(""/resource_providers/%s/traits"" % rp_uuid, version='1.6', global_request_id=context.global_id) resp = self._get(""/resource_providers/%s"" % uuid, version=NESTED_PROVIDER_API_VERSION, global_request_id=context.global_id) resp = self._get(url, version='1.18', global_request_id=context.global_id) resp = self._get(""/resource_providers?in_tree=%s"" % uuid, version=NESTED_PROVIDER_API_VERSION, global_request_id=context.global_id) resp = self._post(url, payload, version=POST_RPS_RETURNS_PAYLOAD_API_VERSION, global_request_id=context.global_id) resp = self._delete('/resource_providers/%s' % rp_uuid, global_request_id=global_request_id) result = self._get(url, global_request_id=context.global_id) return self._put( resp = self._get('/traits?name=in:' + ','.join(traits), version='1.6', global_request_id=context.global_id) resp = self._put('/traits/' + trait, None, version='1.6', global_request_id=context.global_id) resp = self._put(url, payload, version='1.6', global_request_id=context.global_id) resp = self._put(url, payload, version=AGGREGATE_GENERATION_VERSION, global_request_id=context.global_id) resp = self._put( resp = self._post('/reshaper', payload, version=RESHAPER_VERSION, global_request_id=context.global_id) resp = self._get('/allocations/%s' % consumer, version=CONSUMER_GENERATION_VERSION, global_request_id=context.global_id) r = self._get(url, global_request_id=context.global_id, version=CONSUMER_GENERATION_VERSION) r = self._put(url, payload, version=version, global_request_id=context.global_id) r = self._post('/allocations', new_allocs, version=CONSUMER_GENERATION_VERSION, global_request_id=context.global_id) r = self._get(url, global_request_id=context.global_id, version=CONSUMER_GENERATION_VERSION) r = self._put(url, allocations, global_request_id=context.global_id, version=CONSUMER_GENERATION_VERSION) resp = self._get(url, global_request_id=context.global_id) resp = self._get(""/resource_providers?name=%s"" % name, global_request_id=context.global_id)"," def get(self, url, version=None, global_request_id=None): def post(self, url, data, version=None, global_request_id=None): def put(self, url, data, version=None, global_request_id=None): def delete(self, url, version=None, global_request_id=None): resp = self.get(url, version=version, global_request_id=context.global_id) resp = self.get(""/resource_providers/%s/aggregates"" % rp_uuid, version=AGGREGATE_GENERATION_VERSION, global_request_id=context.global_id) resp = self.get(""/resource_providers/%s/traits"" % rp_uuid, version='1.6', global_request_id=context.global_id) resp = self.get(""/resource_providers/%s"" % uuid, version=NESTED_PROVIDER_API_VERSION, global_request_id=context.global_id) resp = self.get(url, version='1.18', global_request_id=context.global_id) resp = self.get(""/resource_providers?in_tree=%s"" % uuid, version=NESTED_PROVIDER_API_VERSION, global_request_id=context.global_id) resp = self.post(url, payload, version=POST_RPS_RETURNS_PAYLOAD_API_VERSION, global_request_id=context.global_id) resp = self.delete('/resource_providers/%s' % rp_uuid, global_request_id=global_request_id) result = self.get(url, global_request_id=context.global_id) return self.put( resp = self.get('/traits?name=in:' + ','.join(traits), version='1.6', global_request_id=context.global_id) resp = self.put('/traits/' + trait, None, version='1.6', global_request_id=context.global_id) resp = self.put(url, payload, version='1.6', global_request_id=context.global_id) resp = self.put(url, payload, version=AGGREGATE_GENERATION_VERSION, global_request_id=context.global_id) resp = self.put( resp = self.post('/reshaper', payload, version=RESHAPER_VERSION, global_request_id=context.global_id) resp = self.get('/allocations/%s' % consumer, version=CONSUMER_GENERATION_VERSION, global_request_id=context.global_id) r = self.get(url, global_request_id=context.global_id, version=CONSUMER_GENERATION_VERSION) r = self.put(url, payload, version=version, global_request_id=context.global_id) r = self.post('/allocations', new_allocs, version=CONSUMER_GENERATION_VERSION, global_request_id=context.global_id) r = self.get(url, global_request_id=context.global_id, version=CONSUMER_GENERATION_VERSION) r = self.put(url, allocations, global_request_id=context.global_id, version=CONSUMER_GENERATION_VERSION) resp = self.get(url, global_request_id=context.global_id) resp = self.get(""/resource_providers?name=%s"" % name, global_request_id=context.global_id)",84,84
openstack%2Fnova~master~If84e8c1d3749bd588782cc016a8d997e1a07b15d,openstack/nova,master,If84e8c1d3749bd588782cc016a8d997e1a07b15d,WIP: use ironicclient AdapterClient,ABANDONED,2019-03-06 00:17:41.000000000,2020-03-05 13:44:53.000000000,,"[{'_account_id': 1916}, {'_account_id': 9008}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-06 00:17:41.000000000', 'files': ['nova/virt/ironic/client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aea7960a302d3117972bfdb24a7b9e3232e2ee10', 'message': 'WIP: use ironicclient AdapterClient\n\nDepends-On: https://review.openstack.org/641169\nChange-Id: If84e8c1d3749bd588782cc016a8d997e1a07b15d\n'}]",2,641170,aea7960a302d3117972bfdb24a7b9e3232e2ee10,10,9,1,14070,,,0,"WIP: use ironicclient AdapterClient

Depends-On: https://review.openstack.org/641169
Change-Id: If84e8c1d3749bd588782cc016a8d997e1a07b15d
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/641170/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/client_wrapper.py'],1,aea7960a302d3117972bfdb24a7b9e3232e2ee10,ironic-AdapterClient," return ironic.client.get_client(IRONIC_API_VERSION[0], adapter=ksa_adap)", ironic_url = ksa_adap.get_endpoint(),2,1
openstack%2Fnetworking-ovn~stable%2Fstein~Id606a8bae66f3236422b6f952ab66915b80bd1ef,openstack/networking-ovn,stable/stein,Id606a8bae66f3236422b6f952ab66915b80bd1ef,Blacklist test_multiple_ports_portrange_remote for OVN stable/stein,MERGED,2020-03-02 08:23:17.000000000,2020-03-05 13:36:27.000000000,2020-03-05 13:32:37.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-02 08:23:17.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e6615b87b310ec176d3e06685a42189052e52607', 'message': ""Blacklist test_multiple_ports_portrange_remote for OVN stable/stein\n\nWe recently merged this test and it its very unstable.\nThe fix for it was merged for OVN branch-2.12 recently [1].\n\nFor now we don't plan to bump OVN to 2.12 in stable/stein, because\nof it lest skip this test.\n\n[1] https://patchwork.ozlabs.org/patch/1185708/\n\nChange-Id: Id606a8bae66f3236422b6f952ab66915b80bd1ef\n""}]",0,710710,e6615b87b310ec176d3e06685a42189052e52607,17,5,1,24791,,,0,"Blacklist test_multiple_ports_portrange_remote for OVN stable/stein

We recently merged this test and it its very unstable.
The fix for it was merged for OVN branch-2.12 recently [1].

For now we don't plan to bump OVN to 2.12 in stable/stein, because
of it lest skip this test.

[1] https://patchwork.ozlabs.org/patch/1185708/

Change-Id: Id606a8bae66f3236422b6f952ab66915b80bd1ef
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/10/710710/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,e6615b87b310ec176d3e06685a42189052e52607,," tempest_black_regex: ""((neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest)|(neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest.test_multiple_ports_portrange_remote))"""," tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_internal_dns.InternalDNSTest)""",1,1
openstack%2Freleases~master~Ic19a582879cc019f41271c449cd8b130cd6b7b46,openstack/releases,master,Ic19a582879cc019f41271c449cd8b130cd6b7b46,[Puppet OpenStack] Transition Rocky to EM,MERGED,2020-02-26 00:59:31.000000000,2020-03-05 13:35:28.000000000,2020-03-05 13:35:27.000000000,"[{'_account_id': 9414}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-02-26 00:59:31.000000000', 'files': ['deliverables/rocky/puppet-oslo.yaml', 'deliverables/rocky/puppet-vitrage.yaml', 'deliverables/rocky/puppet-aodh.yaml', 'deliverables/rocky/puppet-panko.yaml', 'deliverables/rocky/puppet-congress.yaml', 'deliverables/rocky/puppet-glance.yaml', 'deliverables/rocky/puppet-zaqar.yaml', 'deliverables/rocky/puppet-freezer.yaml', 'deliverables/rocky/puppet-monasca.yaml', 'deliverables/rocky/puppet-octavia.yaml', 'deliverables/rocky/puppet-rally.yaml', 'deliverables/rocky/puppet-ceilometer.yaml', 'deliverables/rocky/puppet-keystone.yaml', 'deliverables/rocky/puppet-qdr.yaml', 'deliverables/rocky/puppet-ovn.yaml', 'deliverables/rocky/puppet-sahara.yaml', 'deliverables/rocky/puppet-heat.yaml', 'deliverables/rocky/puppet-openstacklib.yaml', 'deliverables/rocky/puppet-trove.yaml', 'deliverables/rocky/puppet-ironic.yaml', 'deliverables/rocky/puppet-murano.yaml', 'deliverables/rocky/puppet-neutron.yaml', 'deliverables/rocky/puppet-magnum.yaml', 'deliverables/rocky/puppet-watcher.yaml', 'deliverables/rocky/puppet-vswitch.yaml', 'deliverables/rocky/puppet-gnocchi.yaml', 'deliverables/rocky/puppet-cloudkitty.yaml', 'deliverables/rocky/puppet-manila.yaml', 'deliverables/rocky/puppet-ec2api.yaml', 'deliverables/rocky/puppet-swift.yaml', 'deliverables/rocky/puppet-glare.yaml', 'deliverables/rocky/puppet-mistral.yaml', 'deliverables/rocky/puppet-openstack_extras.yaml', 'deliverables/rocky/puppet-tempest.yaml', 'deliverables/rocky/puppet-cinder.yaml', 'deliverables/rocky/puppet-nova.yaml', 'deliverables/rocky/puppet-designate.yaml', 'deliverables/rocky/puppet-tacker.yaml', 'deliverables/rocky/puppet-horizon.yaml', 'deliverables/rocky/puppet-barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8f5b284f1dcf9e3fe5d6e66a28077041243d696f', 'message': '[Puppet OpenStack] Transition Rocky to EM\n\nThis transition the rocky branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ic19a582879cc019f41271c449cd8b130cd6b7b46\n'}]",0,709879,8f5b284f1dcf9e3fe5d6e66a28077041243d696f,11,4,1,11904,,,0,"[Puppet OpenStack] Transition Rocky to EM

This transition the rocky branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ic19a582879cc019f41271c449cd8b130cd6b7b46
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/709879/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/puppet-oslo.yaml', 'deliverables/rocky/puppet-vitrage.yaml', 'deliverables/rocky/puppet-aodh.yaml', 'deliverables/rocky/puppet-panko.yaml', 'deliverables/rocky/puppet-congress.yaml', 'deliverables/rocky/puppet-glance.yaml', 'deliverables/rocky/puppet-zaqar.yaml', 'deliverables/rocky/puppet-freezer.yaml', 'deliverables/rocky/puppet-monasca.yaml', 'deliverables/rocky/puppet-octavia.yaml', 'deliverables/rocky/puppet-rally.yaml', 'deliverables/rocky/puppet-ceilometer.yaml', 'deliverables/rocky/puppet-keystone.yaml', 'deliverables/rocky/puppet-qdr.yaml', 'deliverables/rocky/puppet-ovn.yaml', 'deliverables/rocky/puppet-sahara.yaml', 'deliverables/rocky/puppet-heat.yaml', 'deliverables/rocky/puppet-openstacklib.yaml', 'deliverables/rocky/puppet-trove.yaml', 'deliverables/rocky/puppet-ironic.yaml', 'deliverables/rocky/puppet-murano.yaml', 'deliverables/rocky/puppet-neutron.yaml', 'deliverables/rocky/puppet-magnum.yaml', 'deliverables/rocky/puppet-watcher.yaml', 'deliverables/rocky/puppet-vswitch.yaml', 'deliverables/rocky/puppet-gnocchi.yaml', 'deliverables/rocky/puppet-cloudkitty.yaml', 'deliverables/rocky/puppet-manila.yaml', 'deliverables/rocky/puppet-ec2api.yaml', 'deliverables/rocky/puppet-swift.yaml', 'deliverables/rocky/puppet-glare.yaml', 'deliverables/rocky/puppet-mistral.yaml', 'deliverables/rocky/puppet-openstack_extras.yaml', 'deliverables/rocky/puppet-tempest.yaml', 'deliverables/rocky/puppet-cinder.yaml', 'deliverables/rocky/puppet-nova.yaml', 'deliverables/rocky/puppet-designate.yaml', 'deliverables/rocky/puppet-tacker.yaml', 'deliverables/rocky/puppet-horizon.yaml', 'deliverables/rocky/puppet-barbican.yaml']",40,8f5b284f1dcf9e3fe5d6e66a28077041243d696f,rocky-em, - version: rocky-em projects: - repo: openstack/puppet-barbican hash: 2c3dc778504c18695792203e308e74113ae81ba9,,160,0
openstack%2Fopenstacksdk~master~I5c4ff42796cc860c0a99a431cac84bb75a2d9236,openstack/openstacksdk,master,I5c4ff42796cc860c0a99a431cac84bb75a2d9236,Implement If-Match support for Neutron resources,MERGED,2020-02-26 13:12:08.000000000,2020-03-05 13:34:38.000000000,2020-03-05 13:30:37.000000000,"[{'_account_id': 2}, {'_account_id': 11600}, {'_account_id': 11975}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 13:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/09b2e77f93e84217f174b6561d098ab6a5d16be9', 'message': 'Implement If-Match support for Neutron resources\n\nNeutron API supports using If-Match HTTP header to do compare-and-swap\nupdates and deletes of several resources [1]. This feature is based on\nrevision_number property.\n\nThis commit implements that by adding the if_match header property to\nsupported resources that can be filled with ""revision_number=x"" to force\ncompare-and-swap update.\n\n[1] https://docs.openstack.org/api-ref/network/v2/?expanded=list-routers-detail#revisions\n\nChange-Id: I5c4ff42796cc860c0a99a431cac84bb75a2d9236\n'}, {'number': 2, 'created': '2020-02-27 15:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f8c9aab3c019f862a756c97d1761cdb3b8442683', 'message': 'Implement If-Match support for Neutron resources\n\nNeutron API supports using If-Match HTTP header to do compare-and-swap\nupdates and deletes of several resources [1]. This feature is based on\nrevision_number property.\n\nThis commit implements that by adding the if_match header property to\nsupported resources that can be filled with ""revision_number=x"" to force\ncompare-and-swap update.\n\n[1] https://docs.openstack.org/api-ref/network/v2/?expanded=list-routers-detail#revisions\n\nChange-Id: I5c4ff42796cc860c0a99a431cac84bb75a2d9236\n'}, {'number': 3, 'created': '2020-02-27 15:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/71e292636178c9483ea24f0e1dc8c7f92d0b9f8d', 'message': 'Implement If-Match support for Neutron resources\n\nNeutron API supports using If-Match HTTP header to do compare-and-swap\nupdates and deletes of several resources [1]. This feature is based on\nrevision_number property.\n\nThis commit implements that by adding the if_revision argument to\nsupported update_* and delete_* resources.\n\n[1] https://docs.openstack.org/api-ref/network/v2/?expanded=list-routers-detail#revisions\n\nChange-Id: I5c4ff42796cc860c0a99a431cac84bb75a2d9236\n'}, {'number': 4, 'created': '2020-02-27 16:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bbbfaf30cb8ca35ac15731248bc59136429f7c4d', 'message': 'Implement If-Match support for Neutron resources\n\nNeutron API supports using If-Match HTTP header to do compare-and-swap\nupdates and deletes of several resources [1]. This feature is based on\nrevision_number property.\n\nThis commit implements that by adding the if_revision argument to\nsupported update_* and delete_* resources.\n\n[1] https://docs.openstack.org/api-ref/network/v2/?expanded=list-routers-detail#revisions\n\nChange-Id: I5c4ff42796cc860c0a99a431cac84bb75a2d9236\n'}, {'number': 5, 'created': '2020-02-28 10:52:16.000000000', 'files': ['openstack/image/v2/image.py', 'openstack/network/v2/quota.py', 'openstack/network/v2/subnet.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/compute/v2/server.py', 'openstack/network/v2/_proxy.py', 'openstack/network/v2/port.py', 'openstack/database/v1/user.py', 'openstack/network/v2/_base.py', 'openstack/exceptions.py', 'openstack/network/v2/security_group_rule.py', 'openstack/network/v2/router.py', 'openstack/network/v2/floating_ip.py', 'openstack/tests/unit/test_resource.py', 'openstack/resource.py', 'openstack/load_balancer/v2/quota.py', 'openstack/network/v2/security_group.py', 'openstack/network/v2/network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c2f2ffdd9f91773838060280747614b1691e7e01', 'message': 'Implement If-Match support for Neutron resources\n\nNeutron API supports using If-Match HTTP header to do compare-and-swap\nupdates and deletes of several resources [1]. This feature is based on\nrevision_number property.\n\nThis commit implements that by adding the if_revision argument to\nsupported update_* and delete_* resources.\n\n[1] https://docs.openstack.org/api-ref/network/v2/?expanded=list-routers-detail#revisions\n\nChange-Id: I5c4ff42796cc860c0a99a431cac84bb75a2d9236\n'}]",2,710030,c2f2ffdd9f91773838060280747614b1691e7e01,23,5,5,11600,,,0,"Implement If-Match support for Neutron resources

Neutron API supports using If-Match HTTP header to do compare-and-swap
updates and deletes of several resources [1]. This feature is based on
revision_number property.

This commit implements that by adding the if_revision argument to
supported update_* and delete_* resources.

[1] https://docs.openstack.org/api-ref/network/v2/?expanded=list-routers-detail#revisions

Change-Id: I5c4ff42796cc860c0a99a431cac84bb75a2d9236
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/710030/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/security_group_rule.py', 'openstack/network/v2/subnet.py', 'openstack/network/v2/router.py', 'openstack/network/v2/floating_ip.py', 'openstack/network/v2/port.py', 'openstack/network/v2/_revision_number.py', 'openstack/network/v2/security_group.py', 'openstack/tests/unit/cloud/test_security_groups.py', 'openstack/network/v2/network.py']",9,09b2e77f93e84217f174b6561d098ab6a5d16be9,neutron-if-match,"from openstack.network.v2 import _revision_numberclass Network(resource.Resource, resource.TagMixin, _revision_number.RevisionNumberMixin):","class Network(resource.Resource, resource.TagMixin): #: Revision number of the network. *Type: int* revision_number = resource.Body('revision_number', type=int)",43,19
openstack%2Fnetworking-ovn~stable%2Fqueens~I4b9d899db13d7d8071330fe92966a8632f0ab08b,openstack/networking-ovn,stable/queens,I4b9d899db13d7d8071330fe92966a8632f0ab08b,Blacklist test_multiple_ports_portrange_remote for OVN stable/queens,MERGED,2020-03-02 08:34:53.000000000,2020-03-05 13:32:39.000000000,2020-03-05 13:32:39.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-02 08:34:53.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ac4b3cff0ffa91764085aba5881c1a9f0b782921', 'message': ""Blacklist test_multiple_ports_portrange_remote for OVN stable/queens\n\nWe recently merged this test and it its very unstable.\nThe fix for it was merged for OVN branch-2.12 recently [1].\n\nFor now we don't plan to bump OVN to 2.12 in stable/queens, because\nof it lest skip this test.\n\n[1] https://patchwork.ozlabs.org/patch/1185708/\n\nChange-Id: I4b9d899db13d7d8071330fe92966a8632f0ab08b\n""}]",0,710712,ac4b3cff0ffa91764085aba5881c1a9f0b782921,10,5,1,24791,,,0,"Blacklist test_multiple_ports_portrange_remote for OVN stable/queens

We recently merged this test and it its very unstable.
The fix for it was merged for OVN branch-2.12 recently [1].

For now we don't plan to bump OVN to 2.12 in stable/queens, because
of it lest skip this test.

[1] https://patchwork.ozlabs.org/patch/1185708/

Change-Id: I4b9d899db13d7d8071330fe92966a8632f0ab08b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/12/710712/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,ac4b3cff0ffa91764085aba5881c1a9f0b782921,,"r=""$r|(?:neutron_tempest_plugin\.scenario\.test_security_groups\.NetworkSecGroupTest\.test_multiple_ports_portrange_remote)""",,1,2
openstack%2Fnetworking-ovn~stable%2Frocky~I254f0ac28f7585b699a8238e01ffb37dd70282ef,openstack/networking-ovn,stable/rocky,I254f0ac28f7585b699a8238e01ffb37dd70282ef,Centralize traffic when LB and member has FIP,MERGED,2020-02-10 11:00:43.000000000,2020-03-05 13:32:39.000000000,2020-03-05 13:32:38.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-02-10 11:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7d767935e422d6b92fb36b5ed2d4a6d2feafa979', 'message': 'Centralize traffic when LB and member has FIP\n\nWhen Load Balancer and its member has FIP assigned\nand environment is configured to use DVR the member\nFIP needs to be centralized. It is current core OVN\nlimitation, that should be solved in [1].\n\nThis patch adds this mechanism to OVN Client.\nIt covers cases:\n\n1) FIP association on port that is a member of\n   some LB - make it centralized.\n2) FIP association on LB VIP - find a members\n   FIPs and centralized them.\n3) The reverse of each of the above cases.\n\nRelated-Bug: #1860662\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897\n\nConflicts:\n    networking_ovn/common/ovn_client.py\n    networking_ovn/common/constants.py\n    networking_ovn/tests/unit/l3/test_l3_ovn.py\n\nChange-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef\n(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)\n'}, {'number': 2, 'created': '2020-02-20 09:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ee3479ed97f39f86593d9271a1c0edb0618fa697', 'message': 'Centralize traffic when LB and member has FIP\n\nWhen Load Balancer and its member has FIP assigned\nand environment is configured to use DVR the member\nFIP needs to be centralized. It is current core OVN\nlimitation, that should be solved in [1].\n\nThis patch adds this mechanism to OVN Client.\nIt covers cases:\n\n1) FIP association on port that is a member of\n   some LB - make it centralized.\n2) FIP association on LB VIP - find a members\n   FIPs and centralized them.\n3) The reverse of each of the above cases.\n\nRelated-Bug: #1860662\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897\n\nConflicts:\n    networking_ovn/common/ovn_client.py\n    networking_ovn/common/constants.py\n    networking_ovn/tests/unit/l3/test_l3_ovn.py\n\nChange-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef\n(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)\n'}, {'number': 3, 'created': '2020-03-02 08:36:05.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/52422393f942760c00b5aa73336de7f033565bf4', 'message': 'Centralize traffic when LB and member has FIP\n\nWhen Load Balancer and its member has FIP assigned\nand environment is configured to use DVR the member\nFIP needs to be centralized. It is current core OVN\nlimitation, that should be solved in [1].\n\nThis patch adds this mechanism to OVN Client.\nIt covers cases:\n\n1) FIP association on port that is a member of\n   some LB - make it centralized.\n2) FIP association on LB VIP - find a members\n   FIPs and centralized them.\n3) The reverse of each of the above cases.\n\nRelated-Bug: #1860662\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897\n\nConflicts:\n    networking_ovn/common/ovn_client.py\n    networking_ovn/common/constants.py\n    networking_ovn/tests/unit/l3/test_l3_ovn.py\n\nChange-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef\n(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)\n'}]",0,706795,52422393f942760c00b5aa73336de7f033565bf4,48,4,3,24791,,,0,"Centralize traffic when LB and member has FIP

When Load Balancer and its member has FIP assigned
and environment is configured to use DVR the member
FIP needs to be centralized. It is current core OVN
limitation, that should be solved in [1].

This patch adds this mechanism to OVN Client.
It covers cases:

1) FIP association on port that is a member of
   some LB - make it centralized.
2) FIP association on LB VIP - find a members
   FIPs and centralized them.
3) The reverse of each of the above cases.

Related-Bug: #1860662

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1793897

Conflicts:
    networking_ovn/common/ovn_client.py
    networking_ovn/common/constants.py
    networking_ovn/tests/unit/l3/test_l3_ovn.py

Change-Id: I254f0ac28f7585b699a8238e01ffb37dd70282ef
(cherry picked from commit 57ac38921efa6bbf0bc4a22950355256cc3ebe6d)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/95/706795/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py', 'networking_ovn/tests/unit/fakes.py']",4,7d767935e422d6b92fb36b5ed2d4a6d2feafa979,bug/1860662, self.db_find_rows = mock.Mock(),,324,4
openstack%2Fnetworking-ovn~stable%2Frocky~I4b9d899db13d7d8071330fe92966a8632f0ab08b,openstack/networking-ovn,stable/rocky,I4b9d899db13d7d8071330fe92966a8632f0ab08b,Blacklist test_multiple_ports_portrange_remote for OVN stable/rocky,MERGED,2020-03-02 08:34:11.000000000,2020-03-05 13:32:38.000000000,2020-03-05 13:32:38.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-03-02 08:34:11.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/98b6751f187e62311c318f2d3b3d0d4fcc496569', 'message': ""Blacklist test_multiple_ports_portrange_remote for OVN stable/rocky\n\nWe recently merged this test and it its very unstable.\nThe fix for it was merged for OVN branch-2.12 recently [1].\n\nFor now we don't plan to bump OVN to 2.12 in stable/rocky, because\nof it lest skip this test.\n\n[1] https://patchwork.ozlabs.org/patch/1185708/\n\nChange-Id: I4b9d899db13d7d8071330fe92966a8632f0ab08b\n""}]",0,710711,98b6751f187e62311c318f2d3b3d0d4fcc496569,11,5,1,24791,,,0,"Blacklist test_multiple_ports_portrange_remote for OVN stable/rocky

We recently merged this test and it its very unstable.
The fix for it was merged for OVN branch-2.12 recently [1].

For now we don't plan to bump OVN to 2.12 in stable/rocky, because
of it lest skip this test.

[1] https://patchwork.ozlabs.org/patch/1185708/

Change-Id: I4b9d899db13d7d8071330fe92966a8632f0ab08b
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/11/710711/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,98b6751f187e62311c318f2d3b3d0d4fcc496569,,"r=""$r|(?:neutron_tempest_plugin\.scenario\.test_security_groups\.NetworkSecGroupTest\.test_multiple_ports_portrange_remote)""",,1,2
openstack%2Fgovernance-sigs~master~I25797028b03b9213ff74905f8efa3d225ad7d916,openstack/governance-sigs,master,I25797028b03b9213ff74905f8efa3d225ad7d916,Clarify scope to explain ownership of openstack ns in galaxy,MERGED,2020-02-26 14:12:48.000000000,2020-03-05 13:12:15.000000000,2020-03-05 13:10:51.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 14:12:48.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/9e319f534173ce7f62f7784bb1d83f1c4ec0453d', 'message': ""Clarify scope to explain ownership of openstack ns in galaxy\n\nWithout this patch, we don't know who owns the namespace of\nOpenStack on galaxy.ansible.com.\nIt makes sense to delegate this duty to this SIG, which can then\nbe responsible of the whole aspect of dealing with Ansible's\ngalaxy, including the credentials management.\n\nChange-Id: I25797028b03b9213ff74905f8efa3d225ad7d916\n""}]",0,710045,9e319f534173ce7f62f7784bb1d83f1c4ec0453d,9,4,1,17068,,,0,"Clarify scope to explain ownership of openstack ns in galaxy

Without this patch, we don't know who owns the namespace of
OpenStack on galaxy.ansible.com.
It makes sense to delegate this duty to this SIG, which can then
be responsible of the whole aspect of dealing with Ansible's
galaxy, including the credentials management.

Change-Id: I25797028b03b9213ff74905f8efa3d225ad7d916
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/45/710045/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,9e319f534173ce7f62f7784bb1d83f1c4ec0453d,project-update, It is also responsible of the OpenStack namespace on Ansible's galaxy.,,1,0
openstack%2Fnova~master~Ie6e9db6c59923ea9253cf4cbd4071714da44c3c6,openstack/nova,master,Ie6e9db6c59923ea9253cf4cbd4071714da44c3c6,WIP: De-shim PlacementFixture,ABANDONED,2019-02-19 18:21:32.000000000,2020-03-05 12:59:14.000000000,,"[{'_account_id': 9008}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-02-19 18:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a71f797804c6da872c806e238bf3fdec0acc02c1', 'message': ""WIP: De-shim PlacementFixture\n\nWIP: Explain self here.\n\nWIP: still need to go around test-land and fix all the places that\ncalled into the fixtures 'api' directly.\n\nChange-Id: Ie6e9db6c59923ea9253cf4cbd4071714da44c3c6\n""}, {'number': 2, 'created': '2019-02-19 22:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ca60d773128e657f3d49db4061c6b06f185cec2', 'message': 'WIP: De-shim PlacementFixture\n\nWIP: Explain self here.\n\nWIP: This is busted in (at least)\nnova.tests.functional.regressions.test_bug_1679750 - mainly because the\nfixture is now intercepting at the report client init rather than at\neach get/put/post/delete call. Meaning it needs to be in place before\nservices (scheduler, compute) start rather than being able to be\ninterleaved as this test does. Future self: Consider using\nPlacementDirect for these...\n\nChange-Id: Ie6e9db6c59923ea9253cf4cbd4071714da44c3c6\n'}, {'number': 3, 'created': '2019-02-21 20:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bf0eeeca8a8f5b8825a02251bcd1b3fef302329', 'message': 'WIP: De-shim PlacementFixture\n\nWIP: Explain self here.\n\nWIP: This is busted in (at least)\nnova.tests.functional.regressions.test_bug_1679750 - mainly because the\nfixture is now intercepting at the report client init rather than at\neach get/put/post/delete call. Meaning it needs to be in place before\nservices (scheduler, compute) start rather than being able to be\ninterleaved as this test does. Future self: Consider using\nPlacementDirect for these...\n\nChange-Id: Ie6e9db6c59923ea9253cf4cbd4071714da44c3c6\n'}, {'number': 4, 'created': '2019-02-21 20:48:20.000000000', 'files': ['nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/fixtures.py', 'nova/tests/functional/regressions/test_bug_1679750.py', 'nova/tests/functional/wsgi/test_services.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/93c42631ebccaa7d3ae0c0590b9c3c4e587e2e76', 'message': 'WIP: De-shim PlacementFixture\n\nWIP: Explain self here.\n\nWIP: This is busted in (at least)\nnova.tests.functional.regressions.test_bug_1679750 - mainly because the\nfixture is now intercepting at the report client init rather than at\neach get/put/post/delete call. Meaning it needs to be in place before\nservices (scheduler, compute) start rather than being able to be\ninterleaved as this test does. Future self: Consider using\nPlacementDirect for these...\n\nChange-Id: Ie6e9db6c59923ea9253cf4cbd4071714da44c3c6\n'}]",0,637959,93c42631ebccaa7d3ae0c0590b9c3c4e587e2e76,23,6,4,14070,,,0,"WIP: De-shim PlacementFixture

WIP: Explain self here.

WIP: This is busted in (at least)
nova.tests.functional.regressions.test_bug_1679750 - mainly because the
fixture is now intercepting at the report client init rather than at
each get/put/post/delete call. Meaning it needs to be in place before
services (scheduler, compute) start rather than being able to be
interleaved as this test does. Future self: Consider using
PlacementDirect for these...

Change-Id: Ie6e9db6c59923ea9253cf4cbd4071714da44c3c6
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/637959/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/fixtures.py', 'nova/tests/functional/integrated_helpers.py']",2,a71f797804c6da872c806e238bf3fdec0acc02c1,unshim-PlacementFixture," '/resource_providers/%s/usages' % provider_uuid).json()['usages'] '/allocations/%s' % server_uuid).json()['allocations'] '/resource_providers/%s/allocations' % rp_uuid).json()['allocations'] '/resource_providers', microversion='1.14').json()['resource_providers'] return self.placement_api.put('/traits/%s' % trait, json={}, microversion='1.6') microversion='1.6').json()['traits'] '/resource_providers/%s' % rp_uuid).json() json=put_traits_req, microversion='1.6') '/resource_classes', microversion='1.2').json()['resource_classes'] return self.placement_api.get('/traits', microversion='1.6').json()['traits'] '/resource_providers/%s/inventories' % rp_uuid).json()['inventories'] microversion='1.1').json()['aggregates'] microversion='1.20', json={'name': rp_name}).json() microversion='1.15', json=inv_body).json() json=inv_body).json() '/resource_providers/%s' % rp_uuid, microversion='1.15').json() '/resource_providers/%s' % rp_uuid).json() '/resource_providers/%s/aggregates' % rp_uuid, microversion='1.19', json=post_agg_req).json() microversion='1.20').json()['resource_providers']"," '/resource_providers/%s/usages' % provider_uuid).body['usages'] '/allocations/%s' % server_uuid).body['allocations'] '/resource_providers/%s/allocations' % rp_uuid).body['allocations'] '/resource_providers', version='1.14').body['resource_providers'] return self.placement_api.put('/traits/%s' % trait, {}, version='1.6') version='1.6').body['traits'] '/resource_providers/%s' % rp_uuid).body put_traits_req, version='1.6') '/resource_classes', version='1.2').body['resource_classes'] return self.placement_api.get('/traits', version='1.6').body['traits'] '/resource_providers/%s/inventories' % rp_uuid).body['inventories'] version='1.1').body['aggregates'] version='1.20', body={'name': rp_name}).body version='1.15', body=inv_body).body body=inv_body).body '/resource_providers/%s' % rp_uuid, version='1.15').body '/resource_providers/%s' % rp_uuid).body '/resource_providers/%s/aggregates' % rp_uuid, version='1.19', body=post_agg_req).body version='1.20').body['resource_providers']",37,119
openstack%2Fnova~master~Icd3f9e16ac31ea7220052770390aaf4b38e1c469,openstack/nova,master,Icd3f9e16ac31ea7220052770390aaf4b38e1c469,Avoid PlacementFixture silently swallowing kwargs,MERGED,2020-01-09 15:43:49.000000000,2020-03-05 12:58:33.000000000,2020-02-19 17:17:32.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-09 15:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4de9cb0b132a2f62ef5550206f106321331b9105', 'message': 'DNM: Avoid PlacementFixture silently swallowing kwargs\n\nAlternative proposal for I2a27a47af2091e035da6fbccb0991d5d742f33cd\n\nChange-Id: Icd3f9e16ac31ea7220052770390aaf4b38e1c469\n'}, {'number': 2, 'created': '2020-02-19 11:03:06.000000000', 'files': ['nova/tests/functional/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/42f42a396c0297aed451375bbd7663eb6e0ea2c9', 'message': ""Avoid PlacementFixture silently swallowing kwargs\n\nWhen using PlacementFixture, we can pass some arguments to the CRUD operators.\nThat said, given the fake methods use kwargs, the fixture won't raise a\nTypeError if the parameter name is wrong like the reportclient would do.\nAdding a new decorator for verifying it.\n\nChange-Id: Icd3f9e16ac31ea7220052770390aaf4b38e1c469\n""}]",3,701754,42f42a396c0297aed451375bbd7663eb6e0ea2c9,24,9,2,9708,,,0,"Avoid PlacementFixture silently swallowing kwargs

When using PlacementFixture, we can pass some arguments to the CRUD operators.
That said, given the fake methods use kwargs, the fixture won't raise a
TypeError if the parameter name is wrong like the reportclient would do.
Adding a new decorator for verifying it.

Change-Id: Icd3f9e16ac31ea7220052770390aaf4b38e1c469
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/701754/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/fixtures.py'],1,4de9cb0b132a2f62ef5550206f106321331b9105,bug/1793569," def _update_headers_with_version(headers, version): def _fake_get(self, client, url, version=None, global_request_id=None): self._update_headers_with_version(headers, version) def _fake_post( self, client, url, data, version=None, global_request_id=None): self._update_headers_with_version(headers, version) def _fake_put( self, client, url, data, version=None, global_request_id=None): self._update_headers_with_version(headers, version) def _fake_delete( self, client, url, version=None, global_request_id=None): self._update_headers_with_version(headers, version)","import functools def expected_args(*expected_args): """"""Allows to make sure we don't pass wrong kwargs when using PlacementFixture. """""" def _decorator(fn): @functools.wraps(fn) def _decorated(*args, **kwargs): # NOTE(sbauza): We only verify kwargs since args are direcly passed if any(arg not in expected_args for arg in kwargs.keys()): invalid_args = set(kwargs.keys()) - set(expected_args) raise TypeError(""Invalid parameters : %s"" % invalid_args) return fn(*args, **kwargs) return _decorated return _decorator def _update_headers_with_version(headers, **kwargs): version = kwargs.get(""version"") @expected_args('url', 'version', 'global_request_id') def _fake_get(self, *args, **kwargs): (url,) = args[1:] self._update_headers_with_version(headers, **kwargs) @expected_args('url', 'data', 'version', 'global_request_id') def _fake_post(self, *args, **kwargs): (url, data) = args[1:] self._update_headers_with_version(headers, **kwargs) @expected_args('url', 'data', 'version', 'global_request_id') def _fake_put(self, *args, **kwargs): (url, data) = args[1:] self._update_headers_with_version(headers, **kwargs) @expected_args('url', 'version', 'global_request_id') def _fake_delete(self, *args, **kwargs): (url,) = args[1:] self._update_headers_with_version(headers, **kwargs)",12,36
openstack%2Ftripleo-upgrade~stable%2Frocky~I03378557653d07113fa70782e5d22bf5e3e969b8,openstack/tripleo-upgrade,stable/rocky,I03378557653d07113fa70782e5d22bf5e3e969b8,Allow to switch from parallel to serial update.,MERGED,2020-03-02 09:09:54.000000000,2020-03-05 12:57:30.000000000,2020-03-05 12:57:30.000000000,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-02 09:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/48f9c69d3f0dc014431eb48ca188f4b30a565b69', 'message': 'Allow to switch from parallel to serial update.\n\nWe can encounter corner case pacemaker issues with parallel role\nupdate. While we solve them, we need a way to disable parallel role\nupdate.\n\nUsing a idiom mentionned in the ansible documentation[1] we start role\nupdate by batch. When batch is 1, this is serial update, one role\nafter another.\n\nThis is the default.\n\n[1] https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html\n\nChange-Id: I03378557653d07113fa70782e5d22bf5e3e969b8\n(cherry picked from commit 8d2027f1f177fcd3f42f182e4af2c93022baeec8)\n'}, {'number': 2, 'created': '2020-03-02 09:16:43.000000000', 'files': ['tasks/update/overcloud_update_run.yml', 'tasks/update/overcloud_update_run_role.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b24ac90e24432eaf9417022cebb2020b1ba26e64', 'message': 'Allow to switch from parallel to serial update.\n\nWe can encounter corner case pacemaker issues with parallel role\nupdate. While we solve them, we need a way to disable parallel role\nupdate.\n\nUsing a idiom mentionned in the ansible documentation[1] we start role\nupdate by batch. When batch is 1, this is serial update, one role\nafter another.\n\nThis is the default.\n\n[1] https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html\n\nChange-Id: I03378557653d07113fa70782e5d22bf5e3e969b8\n(cherry picked from commit 8d2027f1f177fcd3f42f182e4af2c93022baeec8)\n(cherry picked from commit a7704f65598c5bccbf681bc1bc611dce8a73703d)\n(cherry picked from commit 52c2dda30a8ad94d22a9d0d88cad60ebfba22ddf)\n'}]",0,710724,b24ac90e24432eaf9417022cebb2020b1ba26e64,10,4,2,8297,,,0,"Allow to switch from parallel to serial update.

We can encounter corner case pacemaker issues with parallel role
update. While we solve them, we need a way to disable parallel role
update.

Using a idiom mentionned in the ansible documentation[1] we start role
update by batch. When batch is 1, this is serial update, one role
after another.

This is the default.

[1] https://docs.ansible.com/ansible/latest/user_guide/playbooks_async.html

Change-Id: I03378557653d07113fa70782e5d22bf5e3e969b8
(cherry picked from commit 8d2027f1f177fcd3f42f182e4af2c93022baeec8)
(cherry picked from commit a7704f65598c5bccbf681bc1bc611dce8a73703d)
(cherry picked from commit 52c2dda30a8ad94d22a9d0d88cad60ebfba22ddf)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/24/710724/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/update/overcloud_update_run.yml', 'tasks/update/overcloud_update_run_role.yml', 'defaults/main.yml']",3,48f9c69d3f0dc014431eb48ca188f4b30a565b69,,overcloud_batch_update: false,,37,19
openstack%2Ftripleo-upgrade~stable%2Ftrain~Iecf2b0211a69e99efe0f402efb00c7080b784104,openstack/tripleo-upgrade,stable/train,Iecf2b0211a69e99efe0f402efb00c7080b784104,Change roles_data/update_serial without using shell,MERGED,2020-03-04 16:10:14.000000000,2020-03-05 12:57:10.000000000,2020-03-05 12:57:10.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-03-04 16:10:14.000000000', 'files': ['tasks/common/adjust-roles-data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3ba8b6912f5977c66e56e894290d25aa0dfed81f', 'message': 'Change roles_data/update_serial without using shell\n\nThe currently mechanism uses shell/command, cat and jq in\n4 tasks.\n\nWe can do the required transformation without using shell,\ncommand, cat or jq by using the slurp ansible module and\nsome jinja. We can also reduce the implementation to 3\ntasks.\n\nThis patch implements that in order for a more optimal\nexecution which is also easier to read and maintain.\n\nRelated-Bug: #1856865\nChange-Id: Iecf2b0211a69e99efe0f402efb00c7080b784104\n(cherry picked from commit 16d393d6c06c71693356f01741491c3805dafc74)\n'}]",0,711264,3ba8b6912f5977c66e56e894290d25aa0dfed81f,7,4,1,8297,,,0,"Change roles_data/update_serial without using shell

The currently mechanism uses shell/command, cat and jq in
4 tasks.

We can do the required transformation without using shell,
command, cat or jq by using the slurp ansible module and
some jinja. We can also reduce the implementation to 3
tasks.

This patch implements that in order for a more optimal
execution which is also easier to read and maintain.

Related-Bug: #1856865
Change-Id: Iecf2b0211a69e99efe0f402efb00c7080b784104
(cherry picked from commit 16d393d6c06c71693356f01741491c3805dafc74)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/64/711264/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/adjust-roles-data.yaml'],1,3ba8b6912f5977c66e56e894290d25aa0dfed81f,bug/1856865-stable/train," - name: Read the existing roles data file slurp: src: ""{{ roles_data }}"" register: _roles_data_slurp - name: Transform the roles data file update_serial values vars: old_roles_data: ""{{ _roles_data_slurp['content'] | b64decode | from_yaml }}"" when: ""'OS::TripleO::Services::Pacemaker' in old_roles_data | json_query('[].ServicesDefault[]')"" block: - name: Backup original roles data file copy: src: ""{{ roles_data }}"" dest: ""{{ roles_data | regex_replace('.yaml$') }}.original.yaml"" remote_src: true force: false - name: Write new roles data file with revised update_serial copy: content: >- {%- set new_data = [] %} {%- for data_item in old_roles_data %} {%- if 'ServiceDefault' in data_item %} {%- if 'OS::TripleO::Services::Pacemaker' in data_item['ServicesDefault'] %} {%- set _ = data_item.update({'update_serial': 1}) %} {%- else %} {%- set _ = data_item.update({'update_serial': 25}) %} {%- endif %} {%- endif %} {%- set _ = new_data.append(data_item) %} {%- endfor %} {{- new_data | to_nice_yaml(indent=2) }} dest: ""{{ roles_data }}""","# # save roles_data # remove all update_serial # add update_serial: 25 # set update_serial to 1 on roles with OS::TripleO::Services::Pacemaker # write new roles_data - name: copy roles_data in a variable command: ""cat {{ roles_data }}"" register: roles_data_yaml - name: save roles_data into json file copy: content: ""{{ roles_data_yaml.stdout | from_yaml | to_nice_json }}"" dest: ""{{ roles_data }}.json"" - name: Ensure we set update_serial in roles data shell: | set -o pipefail if grep -q OS::TripleO::Services::Pacemaker ""{{ roles_data }}.json""; then cat {{ roles_data }}.json |\ jq 'del(.[] | .update_serial ) | map(. |= (. += {update_serial: 25} )) | map( if .ServicesDefault | contains ([""OS::TripleO::Services::Pacemaker""]) then . += {update_serial: 1} else . += {update_serial: 25} end )' exit 2 else echo ""No service defined, not modifying the role file"" fi register: modified_roles_data failed_when: modified_roles_data.rc not in [0,2] changed_when: modified_roles_data.rc == 2 - name: ""Dump the modified roles_data into {{ roles_data }}"" copy: content: ""{{ modified_roles_data.stdout | from_json | to_nice_yaml(indent=2) | trim}}"" dest: ""{{ roles_data }}"" when: modified_roles_data.rc == 2",31,34
openstack%2Fnova-powervm~master~If0101ef75da4531f2b35d366f0293b9e478af944,openstack/nova-powervm,master,If0101ef75da4531f2b35d366f0293b9e478af944,WIP: update_provider_tree with device exposure,ABANDONED,2018-08-07 22:55:47.000000000,2020-03-05 12:55:37.000000000,,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-07 22:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5b169c85d47b0fa307997c6f22081506940bf539', 'message': 'WIP: update_provider_tree with device exposure\n\nThis change implements the update_provider_tree compute driver method.\n\nWIP: Populate the compute node inventory (how to handle allocation\nratios?)\nWIP: All the tests\n\nblueprint: device-passthrough\nChange-Id: If0101ef75da4531f2b35d366f0293b9e478af944\n'}, {'number': 2, 'created': '2018-08-07 22:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/880c7eea3f822ed88c14f3322c2ec7a7c7d19ce2', 'message': 'WIP: update_provider_tree with device exposure\n\nThis change implements the update_provider_tree compute driver method.\n\nWIP: Populate the compute node inventory (how to handle allocation\nratios?)\nWIP: All the tests\n\nblueprint: device-passthrough\nChange-Id: If0101ef75da4531f2b35d366f0293b9e478af944\n'}, {'number': 3, 'created': '2018-08-09 22:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ee8675567ea49213bd136a76e51f0e90d584d9a4', 'message': 'WIP: update_provider_tree with device exposure\n\nThis change implements the update_provider_tree compute driver method.\nWIP: More commit message\n\nWIP: All the tests\n\nblueprint: device-passthrough\nChange-Id: If0101ef75da4531f2b35d366f0293b9e478af944\n'}, {'number': 4, 'created': '2018-08-10 16:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/fd801b06802284815a42029e99bf5f7fe4544d02', 'message': 'WIP: update_provider_tree with device exposure\n\nThis change implements the update_provider_tree compute driver method.\nWIP: More commit message\n\nWIP: All the tests\n\nblueprint: device-passthrough\nChange-Id: If0101ef75da4531f2b35d366f0293b9e478af944\n'}, {'number': 5, 'created': '2018-08-14 21:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/e1f22063909a42267d53d61337c9163bb3adc717', 'message': 'WIP: update_provider_tree with device exposure\n\nThis change implements the update_provider_tree compute driver method.\nWIP: More commit message\n\nWIP: All the tests\n\nblueprint: device-passthrough\nChange-Id: If0101ef75da4531f2b35d366f0293b9e478af944\n'}, {'number': 6, 'created': '2018-08-15 20:07:23.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/a198c03ddee3db33fe5a35cfe424867f218ab366', 'message': 'WIP: update_provider_tree with device exposure\n\nThis change implements the update_provider_tree compute driver method.\nWIP: More commit message\n\nWIP: All the tests\n\nblueprint: device-passthrough\nChange-Id: If0101ef75da4531f2b35d366f0293b9e478af944\n'}]",9,589668,a198c03ddee3db33fe5a35cfe424867f218ab366,20,4,6,14070,,,0,"WIP: update_provider_tree with device exposure

This change implements the update_provider_tree compute driver method.
WIP: More commit message

WIP: All the tests

blueprint: device-passthrough
Change-Id: If0101ef75da4531f2b35d366f0293b9e478af944
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/68/589668/2 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/driver.py'],1,5b169c85d47b0fa307997c6f22081506940bf539,bp/device-passthrough,"import errnofrom oslo_utils import excutilsfrom nova_powervm.virt.powervm import inventory as inv def update_provider_tree(self, provider_tree, nodename): """"""Update a ProviderTree object with current resource provider and inventory information. :param nova.compute.provider_tree.ProviderTree provider_tree: A nova.compute.provider_tree.ProviderTree object representing all the providers in the tree associated with the compute node, and any sharing providers (those with the ``MISC_SHARES_VIA_AGGREGATE`` trait) associated via aggregate with any of those providers (but not *their* tree- or aggregate-associated providers), as currently known by placement. :param nodename: String name of the compute node (i.e. ComputeNode.hypervisor_hostname) for which the caller is requesting updated provider information. """""" # TODO(efried): Fix the compute node inventory (alloc ratios, etc.) # TODO(efried): Proper DISK_GB sharing when the SSP driver is in play inv_rules = [] try: # TODO(efried): Optimize (cache, reload per file timestamp, etc.) inv_rules = inv.parse_inventory_yaml('/etc/nova/inventory.yaml') except IOError as e: with excutils.save_and_reraise_exception() as sare: if e.errno == errno.ENOENT: # No inventory.yaml file; no devices are allowed sare.reraise = False # We don't need to refresh self.host_wrapper; it was *just* refreshed # by get_available_resource in the resource tracker's # update_available_resource flow. devices = inv.build_filtered_inventory(self.host_wrapper, inv_rules) # Remove any device RPs (identified by name prefix) that aren't in the # list. exp_rp_names = {item.provider_name for item in devices} act_rp_names = {provider_tree.data(uuid).name for uuid in provider_tree.get_provider_uuids()} act_rp_names = {rp_name for rp_name in act_rp_names if rp_name.startswith(inv.RP_NAME_PREFIX)} for rp_name in act_rp_names - exp_rp_names: LOG.info(""Removing device provider %s: it is not in the filtered "" ""inventory list."", rp_name) provider_tree.remove(rp_name) # Add any new device RPs for rp_name in exp_rp_names - act_rp_names: provider_tree.new_child(rp_name, nodename) # Now we should have all and only the expected device RPs. for device in devices: rp_name = device.provider_name inventory = {device.resource_class: {'total': 1}} provider_tree.update_inventory(rp_name, inventory) # Disallow any traits in the reserved namespace traits = {trait for trait in provider_tree.data(rp_name).traits if inv.RESERVED_TRAIT_NAMESPACE not in trait} traits |= device.traits provider_tree.update_traits(rp_name, traits) ",,64,0
openstack%2Fnova-powervm~master~I7ffb6a5030ce06d6ecdf53576694a2376d300866,openstack/nova-powervm,master,I7ffb6a5030ce06d6ecdf53576694a2376d300866,Placement-isms for inventory items,ABANDONED,2018-08-06 23:40:56.000000000,2020-03-05 12:55:19.000000000,,"[{'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-06 23:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ef59aec3bdfbb3384fd347b8b953cc10470b4a2e', 'message': 'WIP: Placement-isms for inventory items\n\nAdds the following Placement-ish @propertyZ to the\nnova_powervm.virt.powervm.inventory.InventoryItem class:\n- resource_class: The resource class to be used. From the config if\n  specified; else defaults to CUSTOM_IOSLOT.\n- generated_traits: CUSTOM_POWERVM_IOSLOT_* traits generated from the\n  fields of the IOSlot.\n- config_traits: Traits specified from the config, or the empty list if\n  none.\n- traits: Combined list of generated_traits and config_traits. Accessing\n  this @property will raise an exception if any config-specified trait\n  overlaps with a generated trait.\n\nChange-Id: I7ffb6a5030ce06d6ecdf53576694a2376d300866\nblueprint: device-passthrough\n'}, {'number': 2, 'created': '2018-08-07 20:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/62d41f6aa62ff244511152cbcb254003f3094936', 'message': 'Placement-isms for inventory items\n\nAdds the following Placement-ish attributes to the\nnova_powervm.virt.powervm.inventory.InventoryItem class:\n- resource_class: String name of the resource class to be used.\n  From the config if specified; else defaults to CUSTOM_IOSLOT.\n- generated_traits: Set of CUSTOM_POWERVM_IOSLOT_* traits\n  generated from the fields of the IOSlot wrapper.\n- config_traits: Set of traits specified from the config, or the\n  empty list if none. These are not validated here, other than checking\n  for conflicts with generated_traits.\n- traits: Combined set of generated_traits and config_traits.\n\nInitialization of an InventoryItem will raise an exception if any\nconfig-specified trait overlaps with a generated trait.\n\nChange-Id: I7ffb6a5030ce06d6ecdf53576694a2376d300866\nblueprint: device-passthrough\n'}, {'number': 3, 'created': '2018-08-07 20:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/8a5e3e8825958f5aa27471b9fb36c3c796cbf407', 'message': 'Placement-isms for inventory items\n\nAdds the following Placement-ish attributes to the\nnova_powervm.virt.powervm.inventory.InventoryItem class:\n- resource_class: String name of the resource class to be used.\n  From the config if specified; else defaults to CUSTOM_IOSLOT.\n- generated_traits: Set of CUSTOM_POWERVM_IOSLOT_* traits\n  generated from the fields of the IOSlot wrapper.\n- config_traits: Set of traits specified from the config, or the\n  empty list if none. These are not validated here, other than checking\n  for conflicts with generated_traits.\n- traits: Combined set of generated_traits and config_traits.\n\nInitialization of an InventoryItem will raise an exception if any\nconfig-specified trait overlaps with a generated trait.\n\nChange-Id: I7ffb6a5030ce06d6ecdf53576694a2376d300866\nblueprint: device-passthrough\n'}, {'number': 4, 'created': '2018-08-07 22:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2322f4593580178fd419cfaee8bfd5941e42f278', 'message': 'Placement-isms for inventory items\n\nAdds the following Placement-ish attributes to the\nnova_powervm.virt.powervm.inventory.InventoryItem class:\n- provider_name: String name to be used for the resource provider.\n  Generated as ``PowerVM IOSlot %(drc_index)08X``.\n- resource_class: String name of the resource class to be used.\n  From the config if specified; else defaults to CUSTOM_IOSLOT.\n- generated_traits: Set of CUSTOM_POWERVM_IOSLOT_* traits\n  generated from the fields of the IOSlot wrapper.\n- config_traits: Set of traits specified from the config, or the\n  empty list if none. These are not validated here, other than checking\n  for conflicts with generated_traits.\n- traits: Combined set of generated_traits and config_traits.\n\nInitialization of an InventoryItem will raise an exception if any\nconfig-specified trait overlaps with a generated trait.\n\nChange-Id: I7ffb6a5030ce06d6ecdf53576694a2376d300866\nblueprint: device-passthrough\n'}, {'number': 5, 'created': '2018-08-14 21:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2d2de9b11be3732ca6d382ffd8b58f5b9d44f743', 'message': 'Placement-isms for inventory items\n\nAdds the following Placement-ish attributes to the\nnova_powervm.virt.powervm.inventory.InventoryItem class:\n- provider_name: String name to be used for the resource provider.\n  Generated as ``PowerVM IOSlot %(drc_index)08X``.\n- resource_class: String name of the resource class to be used.\n  From the config if specified; else defaults to CUSTOM_IOSLOT.\n- generated_traits: Set of CUSTOM_POWERVM_IOSLOT_* traits\n  generated from the fields of the IOSlot wrapper.\n- config_traits: Set of traits specified from the config, or the\n  empty list if none. These are not validated here, other than checking\n  for conflicts with generated_traits.\n- traits: Combined set of generated_traits and config_traits.\n\nInitialization of an InventoryItem will raise an exception if any\nconfig-specified trait overlaps with a generated trait.\n\nChange-Id: I7ffb6a5030ce06d6ecdf53576694a2376d300866\nblueprint: device-passthrough\n'}, {'number': 6, 'created': '2018-08-15 20:07:23.000000000', 'files': ['nova_powervm/tests/virt/powervm/test_inventory.py', 'requirements.txt', 'nova_powervm/virt/powervm/inventory.py', 'lower-constraints.txt', 'nova_powervm/virt/powervm/exception.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/e256090dd868b7da486bd7f6e40e86b70dfd1657', 'message': 'Placement-isms for inventory items\n\nAdds the following Placement-ish attributes to the\nnova_powervm.virt.powervm.inventory.InventoryItem class:\n- provider_name: String name to be used for the resource provider.\n  Generated as ``PowerVM IOSlot %(drc_index)08X``.\n- resource_class: String name of the resource class to be used.\n  From the config if specified; else defaults to CUSTOM_IOSLOT.\n- generated_traits: Set of CUSTOM_POWERVM_IOSLOT_* traits\n  generated from the fields of the IOSlot wrapper.\n- config_traits: Set of traits specified from the config, or the\n  empty list if none. These are not validated here, other than checking\n  for conflicts with generated_traits.\n- traits: Combined set of generated_traits and config_traits.\n\nInitialization of an InventoryItem will raise an exception if any\nconfig-specified trait overlaps with a generated trait.\n\nChange-Id: I7ffb6a5030ce06d6ecdf53576694a2376d300866\nblueprint: device-passthrough\n'}]",0,589307,e256090dd868b7da486bd7f6e40e86b70dfd1657,13,2,6,14070,,,0,"Placement-isms for inventory items

Adds the following Placement-ish attributes to the
nova_powervm.virt.powervm.inventory.InventoryItem class:
- provider_name: String name to be used for the resource provider.
  Generated as ``PowerVM IOSlot %(drc_index)08X``.
- resource_class: String name of the resource class to be used.
  From the config if specified; else defaults to CUSTOM_IOSLOT.
- generated_traits: Set of CUSTOM_POWERVM_IOSLOT_* traits
  generated from the fields of the IOSlot wrapper.
- config_traits: Set of traits specified from the config, or the
  empty list if none. These are not validated here, other than checking
  for conflicts with generated_traits.
- traits: Combined set of generated_traits and config_traits.

Initialization of an InventoryItem will raise an exception if any
config-specified trait overlaps with a generated trait.

Change-Id: I7ffb6a5030ce06d6ecdf53576694a2376d300866
blueprint: device-passthrough
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/07/589307/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/inventory.py', 'nova_powervm/virt/powervm/exception.py']",2,ef59aec3bdfbb3384fd347b8b953cc10470b4a2e,bp/device-passthrough,"class InvalidInventoryConfigTraitsReserved(nex.NovaException): msg_fmt = _(""The following reserved trait(s) were specified in config: "" ""%(traits)s"") ",,46,0
openstack%2Ftripleo-quickstart-extras~master~I142d9f94b57d264b193d76a1bc3c03c6d63cae05,openstack/tripleo-quickstart-extras,master,I142d9f94b57d264b193d76a1bc3c03c6d63cae05,Remove yum calls from images prepare script,MERGED,2020-03-04 16:47:03.000000000,2020-03-05 12:54:58.000000000,2020-03-05 12:54:57.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 16:47:03.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dc8387b53eb62d93342c8ddb1343117d20e87c71', 'message': 'Remove yum calls from images prepare script\n\nChange-Id: I142d9f94b57d264b193d76a1bc3c03c6d63cae05\n'}]",0,711273,dc8387b53eb62d93342c8ddb1343117d20e87c71,9,7,1,10969,,,0,"Remove yum calls from images prepare script

Change-Id: I142d9f94b57d264b193d76a1bc3c03c6d63cae05
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/711273/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'],1,dc8387b53eb62d93342c8ddb1343117d20e87c71,ovb_centos8,rpm -q qemu-img || sudo {{ ansible_pkg_mgr }} install -y qemu-imgsudo {{ ansible_pkg_mgr }} -y install tcpdump,rpm -q qemu-img || sudo yum install -y qemu-imgsudo yum -y install tcpdump,2,2
openstack%2Fnova-powervm~master~I1a00729285a285516ef75d6c6e5dfc686e5184a6,openstack/nova-powervm,master,I1a00729285a285516ef75d6c6e5dfc686e5184a6,Filter IOSlots per inventory config yaml,ABANDONED,2018-08-06 23:40:56.000000000,2020-03-05 12:54:57.000000000,,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2018-08-06 23:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3ca3f0bea9cee8488e8b845ccc26130d239ec3fa', 'message': ""Filter IOSlots per inventory config yaml\n\nIn the nova_powervm.virt.powervm.inventory module:\n\n- Enhances the Rule object with a .matches method which applies AND\n  logic to the 'identification' section of the Rule to determine whether\n  it applies to an IOSlot.\n- Adds an InventoryItem class, which will ultimately be used to\n  represent an IOSlot and calculate the associated information that\n  makes it useful to the device passthrough framework, including\n  placement.\n- Adds a build_filtered_inventory method. It accepts a ManagedSystem\n  wrapper and a list of Rule objects, and returns a list of\n  InventoryItem objects. It raises an exception if a single IOSlot is\n  matched by more than one rule.\n\nblueprint: device-passthrough\n\nChange-Id: I1a00729285a285516ef75d6c6e5dfc686e5184a6\n""}, {'number': 2, 'created': '2018-08-07 20:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5bbd1ae1fc490668308373df1b74f22b15c0a0a6', 'message': ""Filter IOSlots per inventory config yaml\n\nIn the nova_powervm.virt.powervm.inventory module:\n\n- Enhances the Rule object with a .matches method which applies AND\n  logic to the 'identification' section of the Rule to determine whether\n  it applies to an IOSlot.\n- Adds an InventoryItem class, which will ultimately be used to\n  represent an IOSlot and calculate the associated information that\n  makes it useful to the device passthrough framework, including\n  placement.\n- Adds a build_filtered_inventory method. It accepts a ManagedSystem\n  wrapper and a list of Rule objects, and returns a list of\n  InventoryItem objects. It raises an exception if a single IOSlot is\n  matched by more than one rule.\n\nblueprint: device-passthrough\n\nChange-Id: I1a00729285a285516ef75d6c6e5dfc686e5184a6\n""}, {'number': 3, 'created': '2018-08-07 20:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/791e9225b07bc33848f46d951034d07647caa6ad', 'message': ""Filter IOSlots per inventory config yaml\n\nIn the nova_powervm.virt.powervm.inventory module:\n\n- Enhances the Rule object with a .matches method which applies AND\n  logic to the 'identification' section of the Rule to determine whether\n  it applies to an IOSlot.\n- Adds an InventoryItem class, which will ultimately be used to\n  represent an IOSlot and calculate the associated information that\n  makes it useful to the device passthrough framework, including\n  placement.\n- Adds a build_filtered_inventory method. It accepts a ManagedSystem\n  wrapper and a list of Rule objects, and returns a list of\n  InventoryItem objects. It raises an exception if a single IOSlot is\n  matched by more than one rule.\n\nblueprint: device-passthrough\n\nChange-Id: I1a00729285a285516ef75d6c6e5dfc686e5184a6\n""}, {'number': 4, 'created': '2018-08-14 21:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f054aeb328bee01b0f6d13d18fe93acc35f00bcb', 'message': ""Filter IOSlots per inventory config yaml\n\nIn the nova_powervm.virt.powervm.inventory module:\n\n- Enhances the Rule object with a .matches method which applies AND\n  logic to the 'identification' section of the Rule to determine whether\n  it applies to an IOSlot.\n- Adds an InventoryItem class, which will ultimately be used to\n  represent an IOSlot and calculate the associated information that\n  makes it useful to the device passthrough framework, including\n  placement.\n- Adds a build_filtered_inventory method. It accepts a ManagedSystem\n  wrapper and a list of Rule objects, and returns a list of\n  InventoryItem objects. It raises an exception if a single IOSlot is\n  matched by more than one rule.\n\nblueprint: device-passthrough\n\nChange-Id: I1a00729285a285516ef75d6c6e5dfc686e5184a6\n""}, {'number': 5, 'created': '2018-08-15 20:07:23.000000000', 'files': ['nova_powervm/tests/virt/powervm/test_inventory.py', 'nova_powervm/virt/powervm/inventory.py', 'nova_powervm/virt/powervm/exception.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/67e3aa45c59a731c3f00a2a62050f7d6040db19e', 'message': ""Filter IOSlots per inventory config yaml\n\nIn the nova_powervm.virt.powervm.inventory module:\n\n- Enhances the Rule object with a .matches method which applies AND\n  logic to the 'identification' section of the Rule to determine whether\n  it applies to an IOSlot.\n- Adds an InventoryItem class, which will ultimately be used to\n  represent an IOSlot and calculate the associated information that\n  makes it useful to the device passthrough framework, including\n  placement.\n- Adds a build_filtered_inventory method. It accepts a ManagedSystem\n  wrapper and a list of Rule objects, and returns a list of\n  InventoryItem objects. It raises an exception if a single IOSlot is\n  matched by more than one rule.\n\nblueprint: device-passthrough\n\nChange-Id: I1a00729285a285516ef75d6c6e5dfc686e5184a6\n""}]",0,589306,67e3aa45c59a731c3f00a2a62050f7d6040db19e,13,5,5,14070,,,0,"Filter IOSlots per inventory config yaml

In the nova_powervm.virt.powervm.inventory module:

- Enhances the Rule object with a .matches method which applies AND
  logic to the 'identification' section of the Rule to determine whether
  it applies to an IOSlot.
- Adds an InventoryItem class, which will ultimately be used to
  represent an IOSlot and calculate the associated information that
  makes it useful to the device passthrough framework, including
  placement.
- Adds a build_filtered_inventory method. It accepts a ManagedSystem
  wrapper and a list of Rule objects, and returns a list of
  InventoryItem objects. It raises an exception if a single IOSlot is
  matched by more than one rule.

blueprint: device-passthrough

Change-Id: I1a00729285a285516ef75d6c6e5dfc686e5184a6
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/06/589306/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/test_inventory.py', 'requirements.txt', 'nova_powervm/virt/powervm/inventory.py', 'nova_powervm/virt/powervm/exception.py']",4,3ca3f0bea9cee8488e8b845ccc26130d239ec3fa,bp/device-passthrough," class InvalidInventoryMultipleMatchesForIOSlot(nex.NovaException): msg_fmt = _(""The device %(dev_name)s matched multiple config rules: "" ""%(matching_rules)s"")",,185,2
openstack%2Fnova-powervm~master~I9296a0c3797d21c1c1a8a19a01f92823aff27e90,openstack/nova-powervm,master,I9296a0c3797d21c1c1a8a19a01f92823aff27e90,Inventory whitelist schema and loading,ABANDONED,2018-06-29 21:35:49.000000000,2020-03-05 12:54:16.000000000,,"[{'_account_id': 8190}, {'_account_id': 10608}, {'_account_id': 13557}, {'_account_id': 14070}, {'_account_id': 14532}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 27961}]","[{'number': 1, 'created': '2018-06-29 21:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ca1bb43befc19264e7cf140eb3a35c6e1e730c02', 'message': 'WIP: Passthrough whitelist schema and loading\n\nInitial drop of schema file for the device passthrough whitelist YAML\nfile, as well as the code to load/parse such a file and validate it\nagainst the schema.\n\nWIP: Moar unit tests (including demonstrating schema validation)\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 2, 'created': '2018-06-30 03:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/8f8148c491a4f9fb670b52f82bc90e1087a0fb46', 'message': 'Passthrough whitelist schema and loading\n\nInitial drop of schema file for the device passthrough whitelist YAML\nfile, as well as the code to load/parse such a file and validate it\nagainst the schema.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 3, 'created': '2018-06-30 21:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/d831e736987b34fe3895cb31c6230302ae3d73c4', 'message': 'Passthrough whitelist schema and loading\n\nInitial drop of schema file for the device passthrough whitelist YAML\nfile, as well as the code to load/parse such a file and validate it\nagainst the schema.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 4, 'created': '2018-07-17 22:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/3f43d9c0dbc9038c9358ceecbc8a3132d14acebf', 'message': 'Passthrough whitelist schema and loading\n\nInitial drop of schema file for the device passthrough whitelist YAML\nfile, as well as the code to load/parse such a file and validate it\nagainst the schema.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 5, 'created': '2018-07-18 12:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/91459120af33e9d02bd86ccd8a265cfeacd018d7', 'message': 'Passthrough whitelist schema and loading\n\nInitial drop of schema file for the device passthrough whitelist YAML\nfile, as well as the code to load/parse such a file and validate it\nagainst the schema.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 6, 'created': '2018-07-18 21:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/e525f212156cfbe118e070fd9941aa7a8aeaf85d', 'message': 'Inventory whitelist schema and loading\n\nInitial drop of schema file for the inventory whitelist YAML file, as\nwell as the code to load/parse such a file and validate it against the\nschema.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 7, 'created': '2018-07-20 20:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1e12743618d9969df06df5f735e4fa6214b9f73a', 'message': 'Inventory whitelist schema and loading\n\nInitial drop of schema file for the inventory whitelist YAML file, as\nwell as the code to load/parse such a file and validate it against the\nschema.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 8, 'created': '2018-07-20 21:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f400134b321346eae8a5fc46a906f38e52219e11', 'message': 'Inventory whitelist schema and loading\n\nInitial drop of schema file for the inventory whitelist YAML file, as\nwell as the code to load/parse such a file and validate it against the\nschema.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 9, 'created': '2018-08-06 23:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1e898660d662cd37eab918163527efdbbb0dc448', 'message': 'Inventory whitelist schema and loading\n\nInitial drop of schema file for the inventory whitelist YAML file, as\nwell as the code to load/parse such a file and validate it against the\nschema.\n\nThe new nova_powervm.virt.powervm.inventory module contains:\n\n- A Rule class, which represents a single paragraph in the inventory\n  whitelist YAML file. Rule will later gain convenience methods for\n  matching devices gleaned from the ManagedSystem.\n- A parse_inventory_yaml method, which parses the inventory whitelist\n  YAML file (great name, eh?) to produce a list of Rule objects.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 10, 'created': '2018-08-07 20:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/cbdf230ae132a9ed00b80ecc1cc365f71922715e', 'message': 'Inventory whitelist schema and loading\n\nInitial drop of schema file for the inventory whitelist YAML file, as\nwell as the code to load/parse such a file and validate it against the\nschema.\n\nThe new nova_powervm.virt.powervm.inventory module contains:\n\n- A Rule class, which represents a single paragraph in the inventory\n  whitelist YAML file. Rule will later gain convenience methods for\n  matching devices gleaned from the ManagedSystem.\n- A parse_inventory_yaml method, which parses the inventory whitelist\n  YAML file (great name, eh?) to produce a set of Rule objects.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 11, 'created': '2018-08-14 21:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/07036901cf327a7837e4c1e428e0a25710f87e6f', 'message': 'Inventory whitelist schema and loading\n\nInitial drop of schema file for the inventory whitelist YAML file, as\nwell as the code to load/parse such a file and validate it against the\nschema.\n\nThe new nova_powervm.virt.powervm.inventory module contains:\n\n- A Rule class, which represents a single paragraph in the inventory\n  whitelist YAML file. Rule will later gain convenience methods for\n  matching devices gleaned from the ManagedSystem.\n- A parse_inventory_yaml method, which parses the inventory whitelist\n  YAML file (great name, eh?) to produce a set of Rule objects.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}, {'number': 12, 'created': '2018-08-15 20:07:23.000000000', 'files': ['nova_powervm/tests/virt/powervm/inventory_sample.yaml', 'nova_powervm/tests/virt/powervm/test_inventory.py', 'nova_powervm/virt/powervm/inventory_schema.yaml', 'requirements.txt', 'nova_powervm/virt/powervm/inventory.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/c9f435beef820877d7a801282d781cfa6e0acd7f', 'message': 'Inventory whitelist schema and loading\n\nInitial drop of schema file for the inventory whitelist YAML file, as\nwell as the code to load/parse such a file and validate it against the\nschema.\n\nThe new nova_powervm.virt.powervm.inventory module contains:\n\n- A Rule class, which represents a single paragraph in the inventory\n  whitelist YAML file. Rule will later gain convenience methods for\n  matching devices gleaned from the ManagedSystem.\n- A parse_inventory_yaml method, which parses the inventory whitelist\n  YAML file (great name, eh?) to produce a set of Rule objects.\n\nChange-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90\nblueprint: device-passthrough\n'}]",22,579289,c9f435beef820877d7a801282d781cfa6e0acd7f,56,8,12,14070,,,0,"Inventory whitelist schema and loading

Initial drop of schema file for the inventory whitelist YAML file, as
well as the code to load/parse such a file and validate it against the
schema.

The new nova_powervm.virt.powervm.inventory module contains:

- A Rule class, which represents a single paragraph in the inventory
  whitelist YAML file. Rule will later gain convenience methods for
  matching devices gleaned from the ManagedSystem.
- A parse_inventory_yaml method, which parses the inventory whitelist
  YAML file (great name, eh?) to produce a set of Rule objects.

Change-Id: I9296a0c3797d21c1c1a8a19a01f92823aff27e90
blueprint: device-passthrough
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/89/579289/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'nova_powervm/virt/powervm/passthrough.py', 'nova_powervm/tests/virt/powervm/test_passthrough.py', 'nova_powervm/tests/virt/powervm/passthrough_sample.yaml', 'nova_powervm/virt/powervm/passthrough_schema.yaml']",5,ca1bb43befc19264e7cf140eb3a35c6e1e730c02,bp/device-passthrough,"# Copyright IBM Corp. and contributors # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. type: object patternProperties: # A human-readable title/description of the group ^.*$: # One group type: object properties: identification: type: object properties: vendor_id: type: string pattern: ^[0-9A-F]{4}$ description: pvmctl ioslot list -d pci_vendor_id device_id: type: string pattern: ^[0-9A-F]{4}$ description: pvmctl ioslot list -d pci_dev_id drc_index: type: string pattern: ^[0-9A-F]{8}$ description: pvmctl ioslot list -d drc_index drc_name: type: string # TODO(efried): What's a reasonable pattern here? description: 'Physical location code: pvmctl ioslot list -d drc_name' minProperties: 1 additionalProperties: false allow: type: boolean default: true resource_class: type: string pattern: ^[A-Z0-9_]+$ traits: type: array # At least one required; else omit the section minItems: 1 items: type: string pattern: ^[A-Z0-9_]+$ required: - identification additionalProperties: false ",,164,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Ftrain~I0d603dfa7319d09201f5f1d64d10cc71c56c2c21,openstack/openstack-ansible-os_tempest,stable/train,I0d603dfa7319d09201f5f1d64d10cc71c56c2c21,post_install: add missing onditional to workspace task,MERGED,2020-03-04 21:53:16.000000000,2020-03-05 12:48:36.000000000,2020-03-05 12:46:58.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-03-04 21:53:16.000000000', 'files': ['tasks/tempest_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c7bee3d7d9ecc675dd3cfc653ef521cb14b3faeb', 'message': 'post_install: add missing onditional to workspace task\n\nThe ""Move over workspace when config is updated"" task was running if\ncopy_tempest_config changed, but copy_tempest_config is created in\n""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional\nis met. To avoid an error like ""\'copy_tempest_config\' is undefined"", we\nneed to add the same conditional to the first mentioned task.\n\nChange-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21\n(cherry picked from commit 2348898bc28bdebb0217245e8f925cae18c21b95)\n'}]",0,711348,c7bee3d7d9ecc675dd3cfc653ef521cb14b3faeb,8,3,1,3153,,,0,"post_install: add missing onditional to workspace task

The ""Move over workspace when config is updated"" task was running if
copy_tempest_config changed, but copy_tempest_config is created in
""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional
is met. To avoid an error like ""'copy_tempest_config' is undefined"", we
need to add the same conditional to the first mentioned task.

Change-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21
(cherry picked from commit 2348898bc28bdebb0217245e8f925cae18c21b95)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/48/711348/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_post_install.yml'],1,c7bee3d7d9ecc675dd3cfc653ef521cb14b3faeb,copy_tempest-stable/train, when: - not tempest_use_tempestconf | bool - copy_tempest_config is changed, when: copy_tempest_config.changed,3,1
openstack%2Fos-loganalyze~master~I251822cf91009a78ae54b5a54e410433bd815711,openstack/os-loganalyze,master,I251822cf91009a78ae54b5a54e410433bd815711,WIP: Support ANSI color codes in HTMLView,ABANDONED,2017-12-01 15:58:16.000000000,2020-03-05 12:39:50.000000000,,"[{'_account_id': 7186}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-01 15:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/198873ea984176e2d8b9ba3fd090e0b2c851fd5e', 'message': ""WIP: Support ANSI color codes in HTMLView\n\nFor logs rendered with ANSI color codes (journalctl -a under systemd)\nthis patch makes HTMLView honor them.\n\nWIP: This isn't perfect yet - it's not closing some spans.  Also, more\ntesting needed.\n\nChange-Id: I251822cf91009a78ae54b5a54e410433bd815711\n""}, {'number': 2, 'created': '2017-12-01 16:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/75d6034ff820adbad5838f6d0f85c2aecc2bf1b6', 'message': ""WIP: Support ANSI color codes in HTMLView\n\nFor logs rendered with ANSI color codes (journalctl -a under systemd)\nthis patch makes HTMLView honor them.\n\nFor non-ANSI-color-coded sources, the default view is changed to a\nblack background with foreground colors closer to what you would see\non the console.\n\nWIP: This isn't perfect yet - it's not closing some spans.  Also, more\ntesting needed.\n\nChange-Id: I251822cf91009a78ae54b5a54e410433bd815711\n""}, {'number': 3, 'created': '2018-01-18 15:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/ed4e49ad710cc6b48114915bd52ef5115b9a1e77', 'message': 'WIP: Support ANSI color codes in HTMLView\n\nFor logs rendered with ANSI color codes (journalctl -a under systemd)\nthis patch makes HTMLView honor them.\n\nIt also introduces multiple themes for viewing the logs. These are\nlegacy (no change), monochrome (black and white), and solarized.\n\nChange-Id: I251822cf91009a78ae54b5a54e410433bd815711\n'}, {'number': 4, 'created': '2018-01-18 17:03:45.000000000', 'files': ['os_loganalyze/ansi_colors.py', 'os_loganalyze/view.py'], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/7fe82e95a69af58bfd57921a57f6212d310d6b6a', 'message': ""WIP: Support ANSI color codes in HTMLView\n\nFor logs rendered with ANSI color codes (journalctl -a under systemd)\nthis patch makes HTMLView honor them.\n\nFor non-ANSI-color-coded sources, the default view is changed to a\nblack background with foreground colors closer to what you would see\non the console.\n\nWIP: This isn't perfect yet - it's not closing some spans.  Also, more\ntesting needed.\n\nChange-Id: I251822cf91009a78ae54b5a54e410433bd815711\n""}]",0,524658,7fe82e95a69af58bfd57921a57f6212d310d6b6a,17,3,4,14070,,,0,"WIP: Support ANSI color codes in HTMLView

For logs rendered with ANSI color codes (journalctl -a under systemd)
this patch makes HTMLView honor them.

For non-ANSI-color-coded sources, the default view is changed to a
black background with foreground colors closer to what you would see
on the console.

WIP: This isn't perfect yet - it's not closing some spans.  Also, more
testing needed.

Change-Id: I251822cf91009a78ae54b5a54e410433bd815711
",git fetch https://review.opendev.org/openstack/os-loganalyze refs/changes/58/524658/3 && git format-patch -1 --stdout FETCH_HEAD,"['os_loganalyze/ansi_colors.py', 'os_loganalyze/view.py']",2,198873ea984176e2d8b9ba3fd090e0b2c851fd5e,ansi_colors,"import os_loganalyze.ansi_colors as ansi_colorsbody {background-color: black; color: white} a {color: #fff; text-decoration: none} ""%s</a>%s</span>"") NONDATE_LINE = ""<span class='%s'>%s</span>"" span_depth = 0 first_ansi_span = True def _convert_ansi_nested(self, match): prefix, suffix = match.groups() txt, count = ansi_colors.mkspan_nested(prefix, suffix, self.span_depth) self.span_depth += count return txt def _convert_ansi_single(self, match): prefix, suffix = match.groups() txt = ansi_colors.mkspan_single(prefix, suffix, not self.first_ansi_span) self.first_ansi_span = False return txt safeline = re.sub(ansi_colors.CODE_PAT, self._convert_ansi_single, safeline) ","a {color: #000; text-decoration: none}pre span span {padding-left: 0} pre span { padding-left: 22em; text-indent: -22em; white-space: pre-wrap; display: block; } ""%s</a>%s\n</span>"") NONDATE_LINE = ""<span class='%s'>%s\n</span>""",86,10
openstack%2Fos-loganalyze~master~Iabc73a884b4034b574ba51871a2ad9bb6e7c2c1b,openstack/os-loganalyze,master,Iabc73a884b4034b574ba51871a2ad9bb6e7c2c1b,Strip ANSI color codes,ABANDONED,2017-12-01 21:09:10.000000000,2020-03-05 12:37:17.000000000,,"[{'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-01 21:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/5ee98af8b1e10167cca860fd7ae2a92ee85b4cfb', 'message': ""Strip ANSI color codes\n\nIf logs were produced using journalctl -a, their HTMLView is all messed\nup and unreadable.  With this change set, the filter code strips out\nthose color codes so the file will render as if they weren't there.\nHowever, they'll still be in place when the file is downloaded.\n\nChange-Id: Iabc73a884b4034b574ba51871a2ad9bb6e7c2c1b\n""}, {'number': 2, 'created': '2017-12-01 21:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/297123b43630c2a60cbc7c9fe91106af64f7ac6e', 'message': ""Strip ANSI color codes\n\nIf logs were produced using journalctl -a, their HTMLView is all messed\nup and unreadable.  With this change set, the filter code strips out\nthose color codes so the file will render as if they weren't there.\nHowever, they'll still be in place when the file is downloaded.\n\nChange-Id: Iabc73a884b4034b574ba51871a2ad9bb6e7c2c1b\n""}, {'number': 3, 'created': '2017-12-01 21:50:54.000000000', 'files': ['os_loganalyze/filter.py', 'os_loganalyze/util.py', 'os_loganalyze/view.py'], 'web_link': 'https://opendev.org/openstack/os-loganalyze/commit/5c02d3425f3ad5aeecfbe35667119cf24e972f70', 'message': ""Strip ANSI color codes\n\nIf logs were produced using journalctl -a, their HTMLView is all messed\nup and unreadable.  With this change set, the filter code strips out\nthose color codes so the file will render as if they weren't there.\nHowever, they'll still be in place when the file is downloaded.\n\nChange-Id: Iabc73a884b4034b574ba51871a2ad9bb6e7c2c1b\n""}]",1,524731,5c02d3425f3ad5aeecfbe35667119cf24e972f70,9,2,3,14070,,,0,"Strip ANSI color codes

If logs were produced using journalctl -a, their HTMLView is all messed
up and unreadable.  With this change set, the filter code strips out
those color codes so the file will render as if they weren't there.
However, they'll still be in place when the file is downloaded.

Change-Id: Iabc73a884b4034b574ba51871a2ad9bb6e7c2c1b
",git fetch https://review.opendev.org/openstack/os-loganalyze refs/changes/31/524731/2 && git format-patch -1 --stdout FETCH_HEAD,['os_loganalyze/filter.py'],1,5ee98af8b1e10167cca860fd7ae2a92ee85b4cfb,strip-ansi,"ANSIRE = re.compile('\x1b\[(?:\d+;)?\d+m') line = re.sub(ANSIRE, '', line)",,3,0
openstack%2Fdevstack~master~I5133def9cf11f907d70978523c9067817709ee25,openstack/devstack,master,I5133def9cf11f907d70978523c9067817709ee25,DNM: Remove glance api_servers from nova config,ABANDONED,2017-11-30 18:50:31.000000000,2020-03-05 12:34:44.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-30 18:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0131dcf409e68249e355bcb80b9260498a3c1ace', 'message': ""DNM: Remove glance api_servers from nova config\n\nThis is the same as I7383b589fbcef9423beeab735db42c594f7b56fd -- I'm\njust testing that it also works on top of\nIf2a56ed56ecb3402fdee1189df81f0b9fbc483b3\n\nChange-Id: I5133def9cf11f907d70978523c9067817709ee25\n""}, {'number': 2, 'created': '2017-11-30 18:50:52.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/95703de567e1010c2791a3959783bd3ea6651aa6', 'message': ""DNM: Remove glance api_servers from nova config\n\nThis is the same as I7383b589fbcef9423beeab735db42c594f7b56fd -- I'm\njust testing that it also works on top of:\n\nDepends-On: If2a56ed56ecb3402fdee1189df81f0b9fbc483b3\n\nChange-Id: I5133def9cf11f907d70978523c9067817709ee25\n""}]",0,524317,95703de567e1010c2791a3959783bd3ea6651aa6,6,3,2,14070,,,0,"DNM: Remove glance api_servers from nova config

This is the same as I7383b589fbcef9423beeab735db42c594f7b56fd -- I'm
just testing that it also works on top of:

Depends-On: If2a56ed56ecb3402fdee1189df81f0b9fbc483b3

Change-Id: I5133def9cf11f907d70978523c9067817709ee25
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/524317/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,0131dcf409e68249e355bcb80b9260498a3c1ace,remove_glance_api_servers,," iniset $NOVA_CONF glance api_servers ""$GLANCE_URL""",0,1
openstack%2Fkolla-ansible~stable%2Frocky~I4050c243f05571bbebab07b08c101e61879cda67,openstack/kolla-ansible,stable/rocky,I4050c243f05571bbebab07b08c101e61879cda67,Openvswitch: some ovs tools require ovs daemons pidfiles,MERGED,2020-02-22 20:47:02.000000000,2020-03-05 12:33:46.000000000,2020-03-05 12:31:21.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28374}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-02-22 20:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3aeb802947f27dcf3a5012e79a82d67d8eaf800', 'message': 'Openvswitch: some ovs tools require ovs daemons pidfiles\n\nChange-Id: I4050c243f05571bbebab07b08c101e61879cda67\nCloses-Bug: 1848363\n(cherry picked from commit 492940be7b2a89b18975afa56e04a8beb4019ae2)\n(cherry picked from commit 0f17688ac638fabef4942e78e5eed09e8d1c48db)\n'}, {'number': 2, 'created': '2020-03-05 09:36:35.000000000', 'files': ['ansible/roles/openvswitch/templates/start-ovsdb-server.j2', 'ansible/roles/openvswitch/templates/start-ovs.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6292392de8fbb498a2e2f219bdd8cbe4bfee5fb', 'message': 'Openvswitch: some ovs tools require ovs daemons pidfiles\n\nChange-Id: I4050c243f05571bbebab07b08c101e61879cda67\nCloses-Bug: 1848363\n(cherry picked from commit 492940be7b2a89b18975afa56e04a8beb4019ae2)\n(cherry picked from commit 0f17688ac638fabef4942e78e5eed09e8d1c48db)\n'}]",0,709322,e6292392de8fbb498a2e2f219bdd8cbe4bfee5fb,17,7,2,30491,,,0,"Openvswitch: some ovs tools require ovs daemons pidfiles

Change-Id: I4050c243f05571bbebab07b08c101e61879cda67
Closes-Bug: 1848363
(cherry picked from commit 492940be7b2a89b18975afa56e04a8beb4019ae2)
(cherry picked from commit 0f17688ac638fabef4942e78e5eed09e8d1c48db)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/709322/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/openvswitch/templates/start-ovsdb-server.j2', 'ansible/roles/openvswitch/templates/start-ovs.j2']",2,f3aeb802947f27dcf3a5012e79a82d67d8eaf800,685964-stable/stein-stable/rocky,/usr/sbin/ovs-vswitchd unix:/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --log-file=/var/log/kolla/openvswitch/ovs-vswitchd.log --pidfile,/usr/sbin/ovs-vswitchd unix:/run/openvswitch/db.sock -vconsole:emer -vsyslog:err -vfile:info --mlockall --log-file=/var/log/kolla/openvswitch/ovs-vswitchd.log,2,2
openstack%2Fpuppet-tripleo~master~Ib79fbd47169388bfb044a8183725a3d1de5bc480,openstack/puppet-tripleo,master,Ib79fbd47169388bfb044a8183725a3d1de5bc480,set x-forwarded-port header for proxied requests,MERGED,2018-06-20 13:56:40.000000000,2020-03-05 12:16:29.000000000,2018-07-01 00:33:41.000000000,"[{'_account_id': 6926}, {'_account_id': 8745}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-20 13:56:40.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bf9a9620c68eb3934a897038ccc36a1a2a10bf66', 'message': 'set x-forwarded-port header for proxied requests\n\nThis is required for keystone federation to work correctly when\nmod_auth_openidc.\n\nChange-Id: Ib79fbd47169388bfb044a8183725a3d1de5bc480\nCloses-bug: 1777884\n'}]",0,576867,bf9a9620c68eb3934a897038ccc36a1a2a10bf66,18,6,1,8745,,,0,"set x-forwarded-port header for proxied requests

This is required for keystone federation to work correctly when
mod_auth_openidc.

Change-Id: Ib79fbd47169388bfb044a8183725a3d1de5bc480
Closes-bug: 1777884
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/67/576867/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,bf9a9620c68eb3934a897038ccc36a1a2a10bf66,feature/keystone/openidc," 'set-header X-Forwarded-Proto http if !{ ssl_fc }', 'set-header X-Forwarded-Port %[dst_port]'],"," 'set-header X-Forwarded-Proto http if !{ ssl_fc }'],",2,1
openstack%2Fmanila-tempest-plugin~master~I5f685f01d3ed39344fda784823faefabdbf7817f,openstack/manila-tempest-plugin,master,I5f685f01d3ed39344fda784823faefabdbf7817f,Fix link to bug tracker,MERGED,2020-03-05 10:23:52.000000000,2020-03-05 12:08:24.000000000,2020-03-05 12:08:24.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-05 10:23:52.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/39ef895d112f947564d7ca52a73a5b2afb82f741', 'message': 'Fix link to bug tracker\n\nCurrent link for bug tracking system returns 404,\nthe review fixes that.\n\nChange-Id: I5f685f01d3ed39344fda784823faefabdbf7817f\n'}]",0,711424,39ef895d112f947564d7ca52a73a5b2afb82f741,7,4,1,22873,,,0,"Fix link to bug tracker

Current link for bug tracking system returns 404,
the review fixes that.

Change-Id: I5f685f01d3ed39344fda784823faefabdbf7817f
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/24/711424/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,39ef895d112f947564d7ca52a73a5b2afb82f741,,* Bugs: https://bugs.launchpad.net/manila,* Bugs: https://bugs.launchpad.net/manila-tempest-plugin,1,1
openstack%2Fkolla-ansible~stable%2Frocky~I6eb8c1216e3a9295b7d8cb7fbcbb8778ae7caf7e,openstack/kolla-ansible,stable/rocky,I6eb8c1216e3a9295b7d8cb7fbcbb8778ae7caf7e,Use InfluxDB default [http]/max-row-limit setting,MERGED,2020-03-03 19:15:42.000000000,2020-03-05 12:04:16.000000000,2020-03-05 12:02:20.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-03 19:15:42.000000000', 'files': ['ansible/roles/influxdb/templates/influxdb.conf.j2', 'releasenotes/notes/remove-influxdb-max-row-limit-f814a310aa6bf6ab.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15806d45d85f930575250f7a5f0f13d6e4b32fdb', 'message': 'Use InfluxDB default [http]/max-row-limit setting\n\nSince version 1.2.2, InfluxDB uses 0 (unlimited) as default value for\n[http]/max-row-limit [1].\n\nUsing the default value resolves an issue with the CloudKitty v1 API\nreturning only 10000 dataframes.\n\n[1] https://docs.influxdata.com/influxdb/v1.7/about_the_project/releasenotes-changelog/#v1-2-2-2017-03-14\n\nChange-Id: I6eb8c1216e3a9295b7d8cb7fbcbb8778ae7caf7e\nCloses-Bug: #1862358\n(cherry picked from commit fc3492bcb18e74cb76753da46fd4ad0bb098b6bd)\n(cherry picked from commit 349febd88af09ac217f6025cc946508bd69652bc)\n(cherry picked from commit b47bd864ed0e5ffd190abd0180cad37f7cfece0d)\n'}]",0,711090,15806d45d85f930575250f7a5f0f13d6e4b32fdb,14,6,1,15197,,,0,"Use InfluxDB default [http]/max-row-limit setting

Since version 1.2.2, InfluxDB uses 0 (unlimited) as default value for
[http]/max-row-limit [1].

Using the default value resolves an issue with the CloudKitty v1 API
returning only 10000 dataframes.

[1] https://docs.influxdata.com/influxdb/v1.7/about_the_project/releasenotes-changelog/#v1-2-2-2017-03-14

Change-Id: I6eb8c1216e3a9295b7d8cb7fbcbb8778ae7caf7e
Closes-Bug: #1862358
(cherry picked from commit fc3492bcb18e74cb76753da46fd4ad0bb098b6bd)
(cherry picked from commit 349febd88af09ac217f6025cc946508bd69652bc)
(cherry picked from commit b47bd864ed0e5ffd190abd0180cad37f7cfece0d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/711090/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/influxdb/templates/influxdb.conf.j2', 'releasenotes/notes/remove-influxdb-max-row-limit-f814a310aa6bf6ab.yaml']",2,15806d45d85f930575250f7a5f0f13d6e4b32fdb,bug/1862358-stable/rocky,"--- fixes: - | Removes the ``[http]/max-row-limit = 10000`` setting from the default InfluxDB configuration, which resulted in the CloudKitty v1 API returning only 10000 dataframes when using InfluxDB as a storage backend. See `bug 1862358 <https://bugs.launchpad.net/kolla-ansible/+bug/1862358>`__ for details. ",,8,1
openstack%2Fkuryr-kubernetes~master~I60d487552b15b09776b83796c2eb52cbbce44eb3,openstack/kuryr-kubernetes,master,I60d487552b15b09776b83796c2eb52cbbce44eb3,Update class hierarchy for sriov driver,MERGED,2020-03-04 06:58:46.000000000,2020-03-05 12:01:25.000000000,2020-03-05 11:59:32.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 28396}, {'_account_id': 31686}]","[{'number': 1, 'created': '2020-03-04 06:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b0ec3df2d067e4de5a506b1904f70f9de63e2482', 'message': 'Update class hierarchy for sriov driver\n\nInherit sriov driver from the BaseBindingDriver. SRIOV driver\nalready implements the needed methods and should align with driver\nclass hierarchy.\n\nChange-Id: I60d487552b15b09776b83796c2eb52cbbce44eb3\n'}, {'number': 2, 'created': '2020-03-04 08:30:51.000000000', 'files': ['kuryr_kubernetes/cni/binding/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/05599e8ca92ccc4d1222f9ef297151663e61d1e6', 'message': 'Update class hierarchy for sriov driver\n\nInherit sriov driver from the BaseBindingDriver. SRIOV driver\nalready implements the needed methods and should align with driver\nclass hierarchy.\n\nChange-Id: I60d487552b15b09776b83796c2eb52cbbce44eb3\n'}]",0,711168,05599e8ca92ccc4d1222f9ef297151663e61d1e6,14,7,2,14570,,,0,"Update class hierarchy for sriov driver

Inherit sriov driver from the BaseBindingDriver. SRIOV driver
already implements the needed methods and should align with driver
class hierarchy.

Change-Id: I60d487552b15b09776b83796c2eb52cbbce44eb3
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/68/711168/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/sriov.py'],1,b0ec3df2d067e4de5a506b1904f70f9de63e2482,,class VIFSriovDriver(b_base.BaseBindingDriver):,class VIFSriovDriver(object):,1,1
openstack%2Ftripleo-quickstart~master~I320ff33dd21157c518fd582055726764240d9f59,openstack/tripleo-quickstart,master,I320ff33dd21157c518fd582055726764240d9f59,"DNM, puppet is no longer gated by tripleo, remove include_pkg",ABANDONED,2020-03-04 16:25:24.000000000,2020-03-05 11:54:17.000000000,,"[{'_account_id': 14985}, {'_account_id': 18846}]","[{'number': 1, 'created': '2020-03-04 16:25:24.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bc91902a709854c08ca50284d19cc11e7c22d87c', 'message': 'DNM, puppet is no longer gated by tripleo, remove include_pkg\n\nThe puppet-* repos are not gated by tripleo. This is a\ndangerous include.  We need to either add a simple\ntripleo job back to puppet-* repos or remove this.\n\nChange-Id: I320ff33dd21157c518fd582055726764240d9f59\n'}]",1,711269,bc91902a709854c08ca50284d19cc11e7c22d87c,5,2,1,9592,,,0,"DNM, puppet is no longer gated by tripleo, remove include_pkg

The puppet-* repos are not gated by tripleo. This is a
dangerous include.  We need to either add a simple
tripleo job back to puppet-* repos or remove this.

Change-Id: I320ff33dd21157c518fd582055726764240d9f59
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/69/711269/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,bc91902a709854c08ca50284d19cc11e7c22d87c,,, - puppet-*,0,1
openstack%2Foslo.cache~master~Icaa6b252145685d1b5667b883e3bf693920b5b93,openstack/oslo.cache,master,Icaa6b252145685d1b5667b883e3bf693920b5b93,Switch from python-memcached to pymemcache.,MERGED,2019-02-01 17:07:23.000000000,2020-03-05 11:50:38.000000000,2020-02-26 14:35:16.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 7730}, {'_account_id': 8770}, {'_account_id': 11805}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 15334}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-01 17:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1af30bbea0a24da52ac9f993db434bc5e5dfced4', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 2, 'created': '2019-02-02 11:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/65ecd1d6902c649e5f4f00825f149575e64e0c99', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 3, 'created': '2019-02-02 11:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e092ec151d1e35b1651e1739f8750c2b4732a693', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 4, 'created': '2019-02-02 11:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3fb903aa558258c7a61ad6d9525700b1b735bfcb', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 5, 'created': '2019-02-02 12:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/71783604de02e9e7bd19a59643de15eb16df58e2', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 6, 'created': '2019-02-04 10:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/9e971f5023635c51fc996f96562a401a31830dfa', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 7, 'created': '2019-02-04 16:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/67d64522b7d94db94000eef3016d9aac6a384ab9', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 8, 'created': '2019-02-08 11:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/534343b146e9ebd4dd1f6111297e13d92704290b', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 9, 'created': '2019-02-13 08:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/9f9dffaf1bca0af95fe8887d9f36872bcd243977', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 10, 'created': '2019-02-13 09:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5b1ae4057089c0eb052ea37bcf21ff4c8fe32d59', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 11, 'created': '2019-02-13 14:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c3642c7d815a019d01dd98ed3ebdf50da709a222', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nReassign the __new__ attribute cause fail with memcache.\n\nIs not a good practice to simply redefine this attribute like\nthe previous version of this code.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 12, 'created': '2019-02-14 14:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1a9945ffab4ea74558a5fc8825ffd70d9e4deaf1', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 13, 'created': '2019-02-14 14:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/81d6977be14d9315703739772ecf2ec667ee37f9', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 14, 'created': '2019-02-14 14:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/96b52c146550efbc726ea47a1b16c0dc9602ce8b', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 15, 'created': '2019-02-14 16:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/9207cef132c5bc7bb83831e222b12c81189bcc52', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 16, 'created': '2019-02-14 16:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1ae21420d4736b596e303dc3c8c98916c4cbf02f', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 17, 'created': '2019-02-15 09:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/7a206e81a06ccfca64f4e3df402b87a3d57c4a52', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 18, 'created': '2019-02-15 14:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2dab636b013306a4bdec41711c6a779ec528a3ce', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 19, 'created': '2019-02-15 16:42:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/528297e7de1672a1a633339b86a5d946fc5fb434', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 20, 'created': '2019-02-19 15:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a17caded6e445571b8523ab1229fbd07a1ed6d64', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 21, 'created': '2019-02-20 09:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/37cca8236430d49701ebba6c2bc3da2ef73a2cde', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 22, 'created': '2019-02-20 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/75c98eec1bebb6f771a4711483dc4b9fda6614bc', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 23, 'created': '2019-02-20 14:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f618ff5687dc8a4799ffeed5b9c07d9a141cba0e', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 24, 'created': '2019-02-20 17:05:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2eb9281c586b7fc92523fcb03f558cd48d994691', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 25, 'created': '2019-02-20 20:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1ea1406bbd5cf3062c9ff1f2ace555dc78e491d9', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 26, 'created': '2019-02-22 23:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/88e1cccf076b2be96f86a27e42a2b2284233233d', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 27, 'created': '2019-02-25 20:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e0990389661612e3e9f33fd5854cd5555a6712e0', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 28, 'created': '2019-02-26 09:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/66d46881af4b95d672283fc6f1d0eff64ffadbed', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 29, 'created': '2019-02-26 16:09:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/7987dc90533ed3467bd9b17d3b7d392d6b6b7e89', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 30, 'created': '2019-02-26 18:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/0b13a5117544701f27e7363adc5e917891cc1e7b', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 31, 'created': '2019-02-27 16:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/bfd023f63a8e7914e9c56d2456da408a63770d1a', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 32, 'created': '2019-02-27 17:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/acbb5ee017154eac287e065bbe8821833904c55f', 'message': 'Switch from python-memcached to pymemcache.\n\nFix memcache issue due to the __new__ attribute reassign.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 33, 'created': '2019-02-27 20:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/55e98ad993cb92dcbee90a6843820d15ab276e75', 'message': 'Switch from python-memcached to pymemcache.\n\nFix memcache issue due to the __new__ attribute reassign.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 34, 'created': '2019-03-12 13:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2021353398155e2101907e4697d4a7dc45323aa0', 'message': 'Switch from python-memcached to pymemcache.\n\nFix memcache issue due to the __new__ attribute reassign.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 35, 'created': '2019-03-12 16:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f746540484bb3f604085a2bf8cadc2a9b92055ff', 'message': 'Switch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 36, 'created': '2019-03-12 16:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/50cc7e420b7d05e61b6372bfab9a47f126ed29e0', 'message': 'Switch from python-memcached to pymemcache.\n\nFix memcache issue due to the __new__ attribute reassign.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 37, 'created': '2019-03-13 08:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/2cd7647780e70e795473ff11631c6da28baf9957', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 38, 'created': '2019-03-13 08:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/a6d0e94d9f68701743bf968bf148dfe4b0c3076e', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 39, 'created': '2019-03-13 13:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d6896879669f6d1089673ccab724e3e6ef65aaf6', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 40, 'created': '2019-03-22 16:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/b450e00dbf775880b6ecbde50f3d773ddad8d2e9', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 41, 'created': '2019-03-22 22:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/06c218203cd760d2d115635e417eeef3ce31209c', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 42, 'created': '2019-03-23 09:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e9014c9c3f583db056bdb077cee9b1a004e05cac', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 43, 'created': '2019-05-03 12:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/f9153c5c6b12e287a4ab658b9a23ae139049e01a', 'message': 'Fix memcache issue due to the __new__ attribute reassign.\n\nSwitch from python-memcached to pymemcache.\n\nThis is avoid problems due to threading.local and attribute\noverride since pymemcache remove this kind of stuffs.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 44, 'created': '2019-05-10 07:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/56aecc4d051ad0f9663d4b229d6c1a295f026faf', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 45, 'created': '2019-05-13 16:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/bfa1f36eeaa2219f82691ede66635abb68e94c92', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 46, 'created': '2020-01-10 14:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/3cd0bfb7d5d4fb01dd11acc8e51a3f40e8d0edcf', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 47, 'created': '2020-02-24 16:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/6c869ababa948fe31b3cd941c73435eb1028982b', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}, {'number': 48, 'created': '2020-02-25 16:17:15.000000000', 'files': ['test-requirements.txt', 'releasenotes/notes/switch-from-python-memcached-to-pymemcache-566e70b224f92b73.yaml', 'oslo_cache/_memcache_pool.py', 'lower-constraints.txt', 'setup.cfg', 'oslo_cache/tests/test_connection_pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8a8248d764bbb1db6c0089a58745803c03e38fdb', 'message': 'Switch from python-memcached to pymemcache.\n\nSwitch memcachepool to use pymemcache.\n\nThis change switches from python-memcached to pymemcached for\nthe memcachepool backend fixing an issue due to the\n__new__ attribute reassign.\n\nChange-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93\nCloses-Bug: #1812935\n'}]",55,634457,8a8248d764bbb1db6c0089a58745803c03e38fdb,212,12,48,28522,,,0,"Switch from python-memcached to pymemcache.

Switch memcachepool to use pymemcache.

This change switches from python-memcached to pymemcached for
the memcachepool backend fixing an issue due to the
__new__ attribute reassign.

Change-Id: Icaa6b252145685d1b5667b883e3bf693920b5b93
Closes-Bug: #1812935
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/57/634457/48 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/_memcache_pool.py'],1,1af30bbea0a24da52ac9f993db434bc5e5dfced4,all-the-fixes," def _new__(cls, *args, **kwargs): return object.__new__(cls) ", __new__ = object.__new__,3,1
openstack%2Fopenstacksdk~master~Ia402e39739f8800e50a949f696b3a2877d3b793b,openstack/openstacksdk,master,Ia402e39739f8800e50a949f696b3a2877d3b793b,Add port property: ip_allocation,MERGED,2020-03-04 14:09:00.000000000,2020-03-05 11:46:03.000000000,2020-03-05 11:43:27.000000000,"[{'_account_id': 2}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 10273}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 14:09:00.000000000', 'files': ['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1d48f780065299597c3a33453877bd9ab1480b83', 'message': 'Add port property: ip_allocation\n\nip_allocation field is to let Nova know when deferred port binding is in\neffect. This field can be useful for the user/admin as well.\n\nChange-Id: Ia402e39739f8800e50a949f696b3a2877d3b793b\n'}]",0,711237,1d48f780065299597c3a33453877bd9ab1480b83,13,8,1,8313,,,0,"Add port property: ip_allocation

ip_allocation field is to let Nova know when deferred port binding is in
effect. This field can be useful for the user/admin as well.

Change-Id: Ia402e39739f8800e50a949f696b3a2877d3b793b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/711237/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/port.py']",2,1d48f780065299597c3a33453877bd9ab1480b83,ip_allocation," #: Read-only. The ip_allocation indicates when ports use deferred, # immediate or no IP allocation. ip_allocation = resource.Body('ip_allocation')",,5,0
openstack%2Fopenstack-manuals~master~I2d63a8da3331688bdca323cf78d48e13eef763be,openstack/openstack-manuals,master,I2d63a8da3331688bdca323cf78d48e13eef763be,[glossary] Add Wallaby,MERGED,2020-03-04 08:02:45.000000000,2020-03-05 11:42:13.000000000,2020-03-05 11:16:17.000000000,"[{'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 08:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/45b596f53cf29e531a5342393ac3fac8b2deaa96', 'message': '[glossary] Add Wallaby\n\nWallaby is the next code name, add it and expand explanation of code\nnames.\n\nChange-Id: I2d63a8da3331688bdca323cf78d48e13eef763be\n'}, {'number': 2, 'created': '2020-03-04 08:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ffbacce11f43cd83d5a43de7f235b89ce0949965', 'message': '[glossary] Add Wallaby\n\nWallaby is the next code name, add it and expand explanation of code\nnames.\n\nChange-Id: I2d63a8da3331688bdca323cf78d48e13eef763be\n'}, {'number': 3, 'created': '2020-03-04 08:42:21.000000000', 'files': ['doc/common/glossary.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/30f203b8302a76ea453d9f0f3425374bbcd8c905', 'message': '[glossary] Add Wallaby\n\nWallaby is the next code name, add it and expand explanation of code\nnames.\n\nChange-Id: I2d63a8da3331688bdca323cf78d48e13eef763be\n'}]",0,711175,30f203b8302a76ea453d9f0f3425374bbcd8c905,11,2,3,6547,,,0,"[glossary] Add Wallaby

Wallaby is the next code name, add it and expand explanation of code
names.

Change-Id: I2d63a8da3331688bdca323cf78d48e13eef763be
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/75/711175/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/common/glossary.rst'],1,45b596f53cf29e531a5342393ac3fac8b2deaa96,wallaby," Train, Ussuri, Victoria, and Wallaby. Wallaby was the first code name choosen by a new policy: Code names are choosen by the community following the alphabet, for details see `release name criteria <https://governance.openstack.org/tc/reference/release-naming.html#release-name-criteria`__. The Victoria name was the last name where code names are cities or counties near where the corresponding OpenStack design summit took place. An exception, called the Waldon exception, was granted to elements of the state flag that sound especially cool. Code names are chosen by popular vote. Wallaby The code name for the twenty third release of OpenStack. Wallabies are native to Australia, which at the start of this naming period was experiencing unprecedented wild fires. "," Train, Ussuri, and Victoria. Code names are cities or counties near where the corresponding OpenStack design summit took place. An exception, called the Waldon exception, is granted to elements of the state flag that sound especially cool. Code names are chosen by popular vote. ",18,6
openstack%2Fkolla~master~I8c7a4330b667bcd98ac9516c2c5a9853f48ca816,openstack/kolla,master,I8c7a4330b667bcd98ac9516c2c5a9853f48ca816,DNM: Test oslo.cache fix (drop pool args),ABANDONED,2020-03-05 09:59:19.000000000,2020-03-05 11:41:38.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 09:59:19.000000000', 'files': ['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/keystone/keystone-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1002ccf25647c9dccb0f43d1baceeddba03bc942', 'message': 'DNM: Test oslo.cache fix (drop pool args)\n\nTests https://review.opendev.org/#/c/711220/4.\n\nChange-Id: I8c7a4330b667bcd98ac9516c2c5a9853f48ca816\n'}]",1,711417,1002ccf25647c9dccb0f43d1baceeddba03bc942,5,3,1,14826,,,0,"DNM: Test oslo.cache fix (drop pool args)

Tests https://review.opendev.org/#/c/711220/4.

Change-Id: I8c7a4330b667bcd98ac9516c2c5a9853f48ca816
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/711417/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml', 'docker/keystone/keystone-base/Dockerfile.j2']",4,1002ccf25647c9dccb0f43d1baceeddba03bc942,,RUN /var/lib/kolla/venv/bin/pip install --no-deps -U git+https://github.com/markgoddard/oslo.cache@bug/1866008-2#egg=oslo.cache ,,3,60
openstack%2Fdevstack~master~I92025c92bae7a673aae16192cfe892f3bdee269f,openstack/devstack,master,I92025c92bae7a673aae16192cfe892f3bdee269f,Updated from generate-devstack-plugins-list,MERGED,2020-03-05 06:13:03.000000000,2020-03-05 11:39:41.000000000,2020-03-05 11:37:50.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 06:13:03.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/d0886f1ee9cd342d9d3dac0e3c9ee407dee3e697', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I92025c92bae7a673aae16192cfe892f3bdee269f\n'}]",0,711386,d0886f1ee9cd342d9d3dac0e3c9ee407dee3e697,8,3,1,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I92025c92bae7a673aae16192cfe892f3bdee269f
",git fetch https://review.opendev.org/openstack/devstack refs/changes/86/711386/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,d0886f1ee9cd342d9d3dac0e3c9ee407dee3e697,openstack/devstack/plugins,openstack/ironic-prometheus-exporter `https://opendev.org/openstack/ironic-prometheus-exporter <https://opendev.org/openstack/ironic-prometheus-exporter>`__,,1,0
openstack%2Fironic~stable%2Frocky~I8047d805b0a3da4051a6d618ed9ac40875b8636a,openstack/ironic,stable/rocky,I8047d805b0a3da4051a6d618ed9ac40875b8636a,tell reno to ignore the kilo branch,MERGED,2020-02-10 10:37:11.000000000,2020-03-05 11:34:47.000000000,2020-03-05 11:34:47.000000000,"[{'_account_id': 2472}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 17685}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-10 10:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3c02d94a8e2f95dd721f07883b55f9853faa9097', 'message': ""tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it\ncan find, including any that look like they're closed and have an -eol\ntag. The old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno\nwasn't adopted while it was open. The releasenotes/source/index.rst\nlinks to separate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw\nan exception when it gets confused about the old tag.\n\nStory: #2007274\nTask: #38710\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n(cherry picked from commit 0f4b9e38a2924a693e17d815b16f19223f16632a)\n""}, {'number': 2, 'created': '2020-03-03 13:38:22.000000000', 'files': ['reno.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0362f72636436238f3b10b45d79ba190b63981ba', 'message': ""tell reno to ignore the kilo branch\n\nWhen reno 3.x runs under setuptools, it scans all of the branches it\ncan find, including any that look like they're closed and have an -eol\ntag. The old kilo branch in this repository has a jumbled history that\nsomehow makes it look like it should include tags that it doesn't. We\nknow that there are no release notes in that branch, because reno\nwasn't adopted while it was open. The releasenotes/source/index.rst\nlinks to separate release notes in the wiki.\n\nThis patch tells reno to ignore that branch so that it doesn't throw\nan exception when it gets confused about the old tag.\n\nStory: #2007274\nTask: #38710\n\nChange-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n(cherry picked from commit 0f4b9e38a2924a693e17d815b16f19223f16632a)\n""}]",0,706786,0362f72636436238f3b10b45d79ba190b63981ba,39,9,2,14826,,,0,"tell reno to ignore the kilo branch

When reno 3.x runs under setuptools, it scans all of the branches it
can find, including any that look like they're closed and have an -eol
tag. The old kilo branch in this repository has a jumbled history that
somehow makes it look like it should include tags that it doesn't. We
know that there are no release notes in that branch, because reno
wasn't adopted while it was open. The releasenotes/source/index.rst
links to separate release notes in the wiki.

This patch tells reno to ignore that branch so that it doesn't throw
an exception when it gets confused about the old tag.

Story: #2007274
Task: #38710

Change-Id: I8047d805b0a3da4051a6d618ed9ac40875b8636a
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
(cherry picked from commit 0f4b9e38a2924a693e17d815b16f19223f16632a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/706786/1 && git format-patch -1 --stdout FETCH_HEAD,['reno.yaml'],1,3c02d94a8e2f95dd721f07883b55f9853faa9097,ignore-kilo-in-release-notes-stable/rocky,"--- # Ignore the kilo-eol tag because that branch does not work with reno # and contains no release notes. closed_branch_tag_re: ""(.+)(?<!kilo)-eol"" ",,4,0
openstack%2Fcontributor-guide~master~I7b39fea8c1ae3f2409637ab62a185b4116645a83,openstack/contributor-guide,master,I7b39fea8c1ae3f2409637ab62a185b4116645a83,"Add ""clean check"" explanation",MERGED,2020-03-04 19:40:59.000000000,2020-03-05 11:30:22.000000000,2020-03-05 11:26:48.000000000,"[{'_account_id': 4146}, {'_account_id': 10607}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 19:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/fbdb26228d1e7eaa05a9dfc2bc60efff771f1157', 'message': 'Add ""clean check"" explanation\n\nMove content from\nhttps://docs.openstack.org/infra/manual/testing.html#can-my-changes-skip-the-check-queue\nover to this guide since it\'s OpenStack specific.\n\nChange-Id: I7b39fea8c1ae3f2409637ab62a185b4116645a83\n'}, {'number': 2, 'created': '2020-03-05 11:08:22.000000000', 'files': ['doc/source/common/zuul-status.rst'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/1a9cac0f3410e670390ca7f6a0e4e34d3b837fcc', 'message': 'Add ""clean check"" explanation\n\nMove content from\nhttps://docs.openstack.org/infra/manual/testing.html#can-my-changes-skip-the-check-queue\nover to this guide since it\'s OpenStack specific.\n\nChange-Id: I7b39fea8c1ae3f2409637ab62a185b4116645a83\n'}]",0,711319,1a9cac0f3410e670390ca7f6a0e4e34d3b837fcc,11,4,2,6547,,,0,"Add ""clean check"" explanation

Move content from
https://docs.openstack.org/infra/manual/testing.html#can-my-changes-skip-the-check-queue
over to this guide since it's OpenStack specific.

Change-Id: I7b39fea8c1ae3f2409637ab62a185b4116645a83
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/19/711319/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/zuul-status.rst'],1,fbdb26228d1e7eaa05a9dfc2bc60efff771f1157,opendev," Why do changes go first in the check queue? ------------------------------------------- The OpenStack project uses a ""clean check"" approach to keep flaky changes out of the gate. So, a change always needs to pass ""check"" before it enters ""gate"" - and if it fails in ""gate"", it re-enters the ""check"" pipeline. * If your change fails in the gate, then there is an increased chance it is introducing non-deterministic failure behavior so forcing it to go through check again helps make that more apparent. * This avoids also approving changes that have no hope of ever passing due to pep8 or other trivial errors. * It also helps with approving changes that had been sitting around with a 6-month-old passing check. Changes in the gate pipeline are prioritized but also serialized, so if a change fails, all tests for changes behind that failing change have to be restarted. If restarts after restarts happen, then resources are never freed up for the check pipeline. Therefore, having a stable gate pipeline is crucial - and the ""clean check"" requirement will help with the stable jobs.",,25,0
openstack%2Ftripleo-heat-templates~master~I82810c239da169c3a87060b8c1b08a3a5755f673,openstack/tripleo-heat-templates,master,I82810c239da169c3a87060b8c1b08a3a5755f673,nova-compute-container: add missing condition for ksmdisabled,MERGED,2020-03-03 13:43:16.000000000,2020-03-05 11:19:10.000000000,2020-03-05 00:11:02.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-03-03 13:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a71ede9719e838b0f2d87728efd3ccf8ca6c2435', 'message': 'nova-compute-container: add missing condition for ksmdisabled\n\nIf ""disable KSM services"" is skipped, we don\'t want to run the task\nnamed ""delete PageKSM after disable ksm on compute"", so let\'s add the\nsame condition and also use ""is changed"" which is cleaner.\n\nChange-Id: I82810c239da169c3a87060b8c1b08a3a5755f673\n'}, {'number': 2, 'created': '2020-03-03 15:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fcefcae309a6b9352d8a234a175ab4c9373e1ae', 'message': 'nova-compute-container: add missing condition for ksmdisabled\n\nIf ""disable KSM services"" is skipped, we don\'t want to run the task\nnamed ""delete PageKSM after disable ksm on compute"", so let\'s use\n""is changed"" which should be enough even if the task didn\'t run before.\n\nChange-Id: I82810c239da169c3a87060b8c1b08a3a5755f673\n'}, {'number': 3, 'created': '2020-03-03 23:06:42.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96e600576c9b30133b98860428995d3b1dde22db', 'message': 'nova-compute-container: add missing condition for ksmdisabled\n\nIf ""disable KSM services"" is skipped, we don\'t want to run the task\nnamed ""delete PageKSM after disable ksm on compute"", so let\'s add the\nsame condition and also use ""is changed"" which is cleaner.\n\nChange-Id: I82810c239da169c3a87060b8c1b08a3a5755f673\n'}]",0,711007,96e600576c9b30133b98860428995d3b1dde22db,15,6,3,3153,,,0,"nova-compute-container: add missing condition for ksmdisabled

If ""disable KSM services"" is skipped, we don't want to run the task
named ""delete PageKSM after disable ksm on compute"", so let's add the
same condition and also use ""is changed"" which is cleaner.

Change-Id: I82810c239da169c3a87060b8c1b08a3a5755f673
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/711007/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,a71ede9719e838b0f2d87728efd3ccf8ca6c2435,condition/ksm," when: - ""'ksm.service' in ansible_facts.services"" - ksmdisabled is changed", when: ksmdisabled.changed,3,1
openstack%2Ftripleo-quickstart~master~I4e86e27a5733ec9d1d53d970053a28d3d6310133,openstack/tripleo-quickstart,master,I4e86e27a5733ec9d1d53d970053a28d3d6310133,WIP/DNM Test CentOS8 Storagte Sig Ceph packages on RHEL8,ABANDONED,2020-02-10 16:04:37.000000000,2020-03-05 10:47:36.000000000,,"[{'_account_id': 1955}, {'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 16312}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-10 16:04:37.000000000', 'files': ['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/363de143d5b39ea95b0bd669d14dd67db50d6074', 'message': ""WIP/DNM Test CentOS8 Storagte Sig Ceph packages on RHEL8\n\nTripleO scenarios use Ceph packages from CentOS Storage Sig.\nIn Id13ff8bf1d896a039dc29e0db7d36d48c3186bff we hard-coded\na temporary build from rhel8-master to workaround the Sig\nnot having builds for CentOS8.\n\nIn I69d4d82c3874b2a66bcd8c666b5d5d85f4f0dd3c we then switched\nfrom the temporary build to dynamic builds which came from work\nto have ceph-ansible run jobs against tripleo. This patch does\nnot undo ceph-ansible's ability to test on tripleo when check-rdo\nis used in ceph-ansible PRs.\n\nThis patch undoes both proceeding patches mentioned above and\nmoves us back to the CentOS Storage Sig as we now have CentOS8\nbuilds.\n\nCurrently the patch hacks the ceph-ansible installation only to\nworkaround [1].\n\n[1] https://lists.centos.org/pipermail/centos-devel/2020-February/036544.html\n\nChange-Id: I4e86e27a5733ec9d1d53d970053a28d3d6310133\n""}]",6,706889,363de143d5b39ea95b0bd669d14dd67db50d6074,11,7,1,18002,,,0,"WIP/DNM Test CentOS8 Storagte Sig Ceph packages on RHEL8

TripleO scenarios use Ceph packages from CentOS Storage Sig.
In Id13ff8bf1d896a039dc29e0db7d36d48c3186bff we hard-coded
a temporary build from rhel8-master to workaround the Sig
not having builds for CentOS8.

In I69d4d82c3874b2a66bcd8c666b5d5d85f4f0dd3c we then switched
from the temporary build to dynamic builds which came from work
to have ceph-ansible run jobs against tripleo. This patch does
not undo ceph-ansible's ability to test on tripleo when check-rdo
is used in ceph-ansible PRs.

This patch undoes both proceeding patches mentioned above and
moves us back to the CentOS Storage Sig as we now have CentOS8
builds.

Currently the patch hacks the ceph-ansible installation only to
workaround [1].

[1] https://lists.centos.org/pipermail/centos-devel/2020-February/036544.html

Change-Id: I4e86e27a5733ec9d1d53d970053a28d3d6310133
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/706889/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/RedHat-8/master.yml', 'config/release/tripleo-ci/RedHat-8/promotion-testing-hash-master.yml']",2,363de143d5b39ea95b0bd669d14dd67db50d6074,cbs8-ceph, # test early cbs8 for ceph # installing this way as repo is uninstallable as per # https://lists.centos.org/pipermail/centos-devel/2020-February/036544.html # installing directly from the following for testing # https://cbs.centos.org/koji/builds?order=nvr&tagID=1891&inherited=1&latest=1 sudo dnf install -y https://cbs.centos.org/kojifiles/packages/python-notario/0.0.16/4.el8/noarch/python3-notario-0.0.16-4.el8.noarch.rpm sudo dnf install -y https://cbs.centos.org/kojifiles/packages/ceph-ansible/4.0.14/1.el8/noarch/ceph-ansible-4.0.14-1.el8.noarch.rpm, ceph-ansible,15,3
openstack%2Frpm-packaging~master~I850974ce8bde211b76da10e9d92a2349fe59c69c,openstack/rpm-packaging,master,I850974ce8bde211b76da10e9d92a2349fe59c69c,tempest: Update to 23.0.0,MERGED,2020-03-05 09:50:39.000000000,2020-03-05 10:46:14.000000000,2020-03-05 10:46:14.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-05 09:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8867ca3e52021e60c5081356e28345c72dfdfcbd', 'message': 'tempest: Update to 23.0.0\n\nChange-Id: I850974ce8bde211b76da10e9d92a2349fe59c69c\n'}, {'number': 2, 'created': '2020-03-05 09:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/13c32073282190eb602e62002de6a093d817eeff', 'message': 'tempest: Update to 23.0.0\n\nChange-Id: I850974ce8bde211b76da10e9d92a2349fe59c69c\n'}, {'number': 3, 'created': '2020-03-05 09:55:48.000000000', 'files': ['openstack/tempest/tempest.spec.j2', 'openstack/tempest/0001-test_project_get_equals_list-allows-extra-fields.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8f4038c678b5b46474aa19ef243c9a18760a30b6', 'message': 'tempest: Update to 23.0.0\n\nChange-Id: I850974ce8bde211b76da10e9d92a2349fe59c69c\n'}]",0,711415,8f4038c678b5b46474aa19ef243c9a18760a30b6,10,4,3,7102,,,0,"tempest: Update to 23.0.0

Change-Id: I850974ce8bde211b76da10e9d92a2349fe59c69c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/711415/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tempest/tempest.spec.j2'],1,8867ca3e52021e60c5081356e28345c72dfdfcbd,,{% set upstream_version = upstream_version('23.0.0') %},{% set upstream_version = upstream_version('21.0.0') %},1,1
openstack%2Fneutron-tempest-plugin~master~If5a363cb9582b44e780165d537cebd217962db4c,openstack/neutron-tempest-plugin,master,If5a363cb9582b44e780165d537cebd217962db4c,[DNM] Change cirros image used for tests,ABANDONED,2019-12-17 08:30:13.000000000,2020-03-05 10:42:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-12-17 08:30:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/70c2739b334fc6cad68c46a18ae75881dc6e3a1d', 'message': ""[DNM] Change cirros image used for tests\n\nWhile checking bug https://bugs.launchpad.net/neutron/+bug/1856523\nwe found that potentially problem is in cirros.\nThis patch uses modified cirros image that has removed '--silent'\nfrom CURL.\n\nChange-Id: If5a363cb9582b44e780165d537cebd217962db4c\n""}]",0,699369,70c2739b334fc6cad68c46a18ae75881dc6e3a1d,4,2,1,24791,,,0,"[DNM] Change cirros image used for tests

While checking bug https://bugs.launchpad.net/neutron/+bug/1856523
we found that potentially problem is in cirros.
This patch uses modified cirros image that has removed '--silent'
from CURL.

Change-Id: If5a363cb9582b44e780165d537cebd217962db4c
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/69/699369/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,70c2739b334fc6cad68c46a18ae75881dc6e3a1d,," IMAGE_URLS: ""http://54.93.191.23/cirros-master-modified-curl.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" DEFAULT_IMAGE_FILE_NAME: cirros-master-modified-curl.img DEFAULT_IMAGE_NAME: cirros-master-modified-curl IMAGE_URLS: ""http://54.93.191.23/cirros-master-modified-curl.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" DEFAULT_IMAGE_NAME: cirros-master-modified-curl DEFAULT_IMAGE_FILE_NAME: cirros-master-modified-curl.img IMAGE_URLS: http://54.93.191.23/cirros-master-modified-curl.img,"," IMAGE_URLS: ""http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-i386-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" DEFAULT_IMAGE_NAME: cirros-0.3.4-i386-disk IMAGE_URLS: ""http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-i386-disk.img,https://cloud-images.ubuntu.com/releases/xenial/release/ubuntu-16.04-server-cloudimg-amd64-disk1.img"" DEFAULT_IMAGE_NAME: cirros-0.3.4-i386-disk IMAGE_URLS: http://download.cirros-cloud.net/0.3.4/cirros-0.3.4-i386-disk.img,",7,5
openstack%2Fcharm-vault~master~Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a,openstack/charm-vault,master,Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a,Rebuild of dependencies,MERGED,2020-03-03 17:56:00.000000000,2020-03-05 10:33:22.000000000,2020-03-05 10:33:22.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 25817}]","[{'number': 1, 'created': '2020-03-03 17:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/2daaf2a2c16cb65a9dd51f73becde63e93f796ae', 'message': 'Rebuild of dependencies.\n\nChange-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a\nCloses-bug: #1864804\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n'}, {'number': 2, 'created': '2020-03-04 11:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/72c35f37f7e1182506fb17bb6e45ed37c6a598b5', 'message': 'Rebuild of dependencies.\n\nChange-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a\nCloses-bug: #1864804\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n'}, {'number': 3, 'created': '2020-03-04 12:09:33.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/0d4103ea6ca29dd9ed655cb002a60878b4b919a2', 'message': 'Rebuild of dependencies\n\nChange-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a\nCloses-bug: #1864804\nSigned-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>\n'}]",0,711077,0d4103ea6ca29dd9ed655cb002a60878b4b919a2,19,4,3,25817,,,0,"Rebuild of dependencies

Change-Id: Ie7daa37aac4a8984b68a93b8c7fee0faefcdd98a
Closes-bug: #1864804
Signed-off-by: José Pekkarinen <jose.pekkarinen@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/77/711077/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,2daaf2a2c16cb65a9dd51f73becde63e93f796ae,bug/1864804,027377d8-a59b-4b6d-bae1-b2c0ff6e2d82,52737480-4839-11ea-8ea6-4bb6c0f4660c,1,1
openstack%2Ftripleo-ci~master~I05e0b8df1f547ee265288e797cedaac8719bb7dd,openstack/tripleo-ci,master,I05e0b8df1f547ee265288e797cedaac8719bb7dd,Add centos-8 scenario007 standalone jobs.,MERGED,2020-03-04 20:26:58.000000000,2020-03-05 10:25:23.000000000,2020-03-05 10:25:23.000000000,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 20:26:58.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/767f3c5c5a9bf6195cc5bdadd991e07c9b5a68ed', 'message': 'Add centos-8 scenario007 standalone jobs.\n\ntripleo-ci-centos-8-scenario007-standalone is added\nas non-voting in check and has been left out\nof gates until it has a proven record of passing.\n\nChange-Id: I05e0b8df1f547ee265288e797cedaac8719bb7dd\nDepends-On: https://review.opendev.org/#/c/710980/\nDepends-On: https://review.opendev.org/#/c/710913/\n'}]",0,711330,767f3c5c5a9bf6195cc5bdadd991e07c9b5a68ed,8,4,1,9976,,,0,"Add centos-8 scenario007 standalone jobs.

tripleo-ci-centos-8-scenario007-standalone is added
as non-voting in check and has been left out
of gates until it has a proven record of passing.

Change-Id: I05e0b8df1f547ee265288e797cedaac8719bb7dd
Depends-On: https://review.opendev.org/#/c/710980/
Depends-On: https://review.opendev.org/#/c/710913/
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/30/711330/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,767f3c5c5a9bf6195cc5bdadd991e07c9b5a68ed,c8-scenario007, - tripleo-ci-centos-8-scenario007-standalone: - tripleo-ci-centos-7-scenario007-standalone: files: *scen7_files branches: ^stable/train$ - job: name: tripleo-ci-centos-8-scenario007-standalone voting: false parent: tripleo-ci-base-standalone-centos-8 branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$ vars: featureset: '052' featureset_override: run_tempest: false standalone_environment_files: - 'environments/low-memory-usage.yaml' - 'ci/environments/scenario007-standalone.yaml' tempest_services: - neutron tempest_test_whitelist: - 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' tempest_private_net_provider_type: 'vxlan' use_os_tempest: true, - tripleo-ci-centos-7-scenario007-standalone: branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein)).*$,23,2
openstack%2Fnova~master~Iec9ece10c7c6e8d6e00ed0e4669dbda48efc7137,openstack/nova,master,Iec9ece10c7c6e8d6e00ed0e4669dbda48efc7137,Ensure snapshot min_disk tracks instance root_gb,ABANDONED,2016-04-05 23:09:02.000000000,2020-03-05 10:19:45.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5170}, {'_account_id': 5754}, {'_account_id': 6802}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7789}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13915}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 22056}]","[{'number': 1, 'created': '2016-04-05 23:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1def637da9828a6b5c1e8a7b414e16f484e4bf54', 'message': ""Ensure snapshot min_disk tracks instance root_gb\n\nSome clients utilize an image's min_disk property to determine the\nminimum flavor to select when creating an instance from image.\nThe image's min_disk value was being set equal to the instance's\nmin_disk value. Since the instance's min_disk is only set at creation\ntime and doesn't change when it is resized this means the min_disk on\nthe snapshot image might be too small wrt the actual image size,\nleading to 'flavor too small for image' errors.\n\nTo address this issue, this CR computes the snapshot image's min_disk\nbased on the instance's root_gb value, which does update across\nresizes from updated flavors.\n\nChange-Id: Iec9ece10c7c6e8d6e00ed0e4669dbda48efc7137\nCloses-Bug: 1565590\n""}, {'number': 2, 'created': '2016-04-05 23:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c77215f3040a80885844e61fd5b96021f3bcb41', 'message': ""Ensure snapshot min_disk tracks instance root_gb\n\nSome clients utilize an image's min_disk property to determine the\nminimum flavor to select when creating an instance from image.\nThe image's min_disk value was being set equal to the instance's\nmin_disk value. Since the instance's min_disk is only set at creation\ntime and doesn't change when it is resized this means the min_disk on\nthe snapshot image might be too small wrt the actual image size,\nleading to 'flavor too small for image' errors.\n\nTo address this issue, this CR computes the snapshot image's min_disk\nbased on the instance's root_gb value, which does update across\nresizes from updated flavors.\n\nChange-Id: Iec9ece10c7c6e8d6e00ed0e4669dbda48efc7137\nCloses-Bug: 1565590\n""}, {'number': 3, 'created': '2016-04-06 03:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8eb8af5091d42897190c753de3f0c28f7f410d00', 'message': ""Ensure snapshot min_disk tracks instance root_gb\n\nSome clients utilize an image's min_disk property to determine the\nminimum flavor to select when creating an instance from image.\nThe image's min_disk value was being set equal to the instance's\nmin_disk value. Since the instance's min_disk is only set at creation\ntime and doesn't change when it is resized this means the min_disk on\nthe snapshot image might be too small wrt the actual image size,\nleading to 'flavor too small for image' errors.\n\nTo address this issue, this CR computes the snapshot image's min_disk\nbased on the instance's root_gb value, which does update across\nresizes from updated flavors.\n\nChange-Id: Iec9ece10c7c6e8d6e00ed0e4669dbda48efc7137\nCloses-Bug: 1565590\n""}, {'number': 4, 'created': '2016-07-08 19:38:54.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd982bf2d5f7529f2c61140a11fdf2ac8620971e', 'message': ""Ensure snapshot min_disk tracks instance root_gb\n\nSome clients utilize an image's min_disk property to determine the\nminimum flavor to select when creating an instance from image.\nThe image's min_disk value was being set equal to the instance's\nmin_disk value. Since the instance's min_disk is only set at creation\ntime and doesn't change when it is resized this means the min_disk on\nthe snapshot image might be too small wrt the actual image size,\nleading to 'flavor too small for image' errors.\n\nTo address this issue, this CR computes the snapshot image's min_disk\nbased on the instance's root_gb value, which does update across\nresizes from updated flavors.\n\nChange-Id: Iec9ece10c7c6e8d6e00ed0e4669dbda48efc7137\nCloses-Bug: 1565590\n""}]",1,301966,bd982bf2d5f7529f2c61140a11fdf2ac8620971e,77,26,4,7789,,,0,"Ensure snapshot min_disk tracks instance root_gb

Some clients utilize an image's min_disk property to determine the
minimum flavor to select when creating an instance from image.
The image's min_disk value was being set equal to the instance's
min_disk value. Since the instance's min_disk is only set at creation
time and doesn't change when it is resized this means the min_disk on
the snapshot image might be too small wrt the actual image size,
leading to 'flavor too small for image' errors.

To address this issue, this CR computes the snapshot image's min_disk
based on the instance's root_gb value, which does update across
resizes from updated flavors.

Change-Id: Iec9ece10c7c6e8d6e00ed0e4669dbda48efc7137
Closes-Bug: 1565590
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/301966/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/test_utils.py', 'nova/utils.py', 'nova/compute/api.py']",4,1def637da9828a6b5c1e8a7b414e16f484e4bf54,bug/1565590," # Make sure created snapshot image's min_disk can accommodate this # instance. The min_disk value in the instance's system metadata # reflects the original instance's state. Subsequent resizes do not # adjust that value, but rather the instance's root_gb (per the # resized flavor). Hence we need to compute the effective min_disk now # to stamp on the snapshot image later. min_disk = utils.get_instance_min_disk( image_meta.get('min_disk'), image_meta.get('disk_format'), instance.root_gb) if min_disk: image_meta.update({'min_disk': min_disk}) ",,113,6
openstack%2Ftripleo-ci~master~If7f6b203103958d3a48d4a5fa4f51ae4579285f2,openstack/tripleo-ci,master,If7f6b203103958d3a48d4a5fa4f51ae4579285f2,add the upstream centos-8 undercloud job,MERGED,2020-03-02 19:20:44.000000000,2020-03-05 10:16:34.000000000,2020-03-05 10:16:33.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 19:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fe796670cf3294547870b0c936e8a7dcffe6ff3c', 'message': 'add the upstream centos-8 undercloud job\n\nupdates for centos-8\ndo not run on <= train\n\nChange-Id: If7f6b203103958d3a48d4a5fa4f51ae4579285f2\n'}, {'number': 2, 'created': '2020-03-02 19:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/179ac25621ec9b7d53e57642622be1410f66398f', 'message': 'add the upstream centos-8 undercloud job\n\nupdates for centos-8\ndo not run on <= train\n\nChange-Id: If7f6b203103958d3a48d4a5fa4f51ae4579285f2\n'}, {'number': 3, 'created': '2020-03-02 19:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7daed8ac92371b5ff6c5aa0036b368d8f1e1c3b9', 'message': 'add the upstream centos-8 undercloud job\n\nupdates for centos-8\ndo not run on <= train\n\nChange-Id: If7f6b203103958d3a48d4a5fa4f51ae4579285f2\n'}, {'number': 4, 'created': '2020-03-03 15:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2b4d88af18d1c41cabc60b6aa0a85c2758142c2e', 'message': 'add the upstream centos-8 undercloud job\n\nupdates for centos-8\ndo not run on <= train\n\nChange-Id: If7f6b203103958d3a48d4a5fa4f51ae4579285f2\n'}, {'number': 5, 'created': '2020-03-04 13:23:38.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/24c2c02440ee420c5d6b3aa5842a19853f634d08', 'message': 'add the upstream centos-8 undercloud job\n\nupdates for centos-8\ndo not run on <= train\n\nChange-Id: If7f6b203103958d3a48d4a5fa4f51ae4579285f2\n'}]",3,710856,24c2c02440ee420c5d6b3aa5842a19853f634d08,32,5,5,9592,,,0,"add the upstream centos-8 undercloud job

updates for centos-8
do not run on <= train

Change-Id: If7f6b203103958d3a48d4a5fa4f51ae4579285f2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/710856/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,fe796670cf3294547870b0c936e8a7dcffe6ff3c,If7f6b203103958d3a48d4a5fa4f51ae4579285f2, - tripleo-ci-centos-8-undercloud-containers: irrelevant-files: *undercloud_ignored branches: ^(stable/(rocky|stein|train)).*$ vars: featureset: '027' - job: name: tripleo-ci-centos-8-undercloud-containers parent: tripleo-ci-base-singlenode-centos-8 nodeset: single-centos-7-node branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$, branches: ^(?!stable/(newton|ocata|pike|queens)).*$,11,1
openstack%2Fcharm-tempest~master~I2c3d167be35833877c04c3a711bdd40e6a8727b2,openstack/charm-tempest,master,I2c3d167be35833877c04c3a711bdd40e6a8727b2,Update charm build requirements,MERGED,2020-03-03 08:58:39.000000000,2020-03-05 10:14:45.000000000,2020-03-05 10:14:45.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:58:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/2fda13ea18b2ff18bd9f845f3b432e521eee39e5', 'message': 'Update charm build requirements\n\nChange-Id: I2c3d167be35833877c04c3a711bdd40e6a8727b2\n'}]",0,710953,2fda13ea18b2ff18bd9f845f3b432e521eee39e5,7,3,1,13686,,,0,"Update charm build requirements

Change-Id: I2c3d167be35833877c04c3a711bdd40e6a8727b2
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/53/710953/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2fda13ea18b2ff18bd9f845f3b432e521eee39e5,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Fnetworking-generic-switch~stable%2Ftrain~Ia3ccb31a30c50dc6b66f28395b5a16c2c1e6bfa1,openstack/networking-generic-switch,stable/train,Ia3ccb31a30c50dc6b66f28395b5a16c2c1e6bfa1,Update .gitreview for stable/train,ABANDONED,2019-09-26 19:59:59.000000000,2020-03-05 10:10:00.000000000,,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 19:59:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/083170edad03a05356fd67ae484ea7bdfddf03b9', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ia3ccb31a30c50dc6b66f28395b5a16c2c1e6bfa1\n'}]",0,685169,083170edad03a05356fd67ae484ea7bdfddf03b9,21,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ia3ccb31a30c50dc6b66f28395b5a16c2c1e6bfa1
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/69/685169/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,083170edad03a05356fd67ae484ea7bdfddf03b9,create-train,defaultbranch=stable/train,,1,0
openstack%2Fcharm-barbican-softhsm~master~I760024d8ddd15f8023dfb51bbbee62b37beacbb7,openstack/charm-barbican-softhsm,master,I760024d8ddd15f8023dfb51bbbee62b37beacbb7,Update charm build requirements,MERGED,2020-03-03 08:53:13.000000000,2020-03-05 10:09:42.000000000,2020-03-05 10:09:42.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 08:53:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/7d3cc83e382230c50b05de90ba84d68521832884', 'message': 'Update charm build requirements\n\nChange-Id: I760024d8ddd15f8023dfb51bbbee62b37beacbb7\n'}]",0,710928,7d3cc83e382230c50b05de90ba84d68521832884,7,3,1,13686,,,0,"Update charm build requirements

Change-Id: I760024d8ddd15f8023dfb51bbbee62b37beacbb7
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/28/710928/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7d3cc83e382230c50b05de90ba84d68521832884,update-build-requirements,# This file is managed centrally by release-tools and should not be modified # within individual charm repos. See the 'global' dir contents for available # choices of *requirements.txt files for OpenStack Charms: # https://github.com/openstack-charmers/release-tools# importlib-resources 1.1.0 removed Python 3.5 support importlib-resources<1.1.0,"# This file is managed centrally. If you find the need to modify this as a # one-off, please don't. Intead, consult #openstack-charms and ask about # requirements management in charms via bot-control. Thank you.",6,3
openstack%2Ftripleo-ansible~master~Ic2512799b9ce0bdd5e538e939b54dcad40572bbc,openstack/tripleo-ansible,master,Ic2512799b9ce0bdd5e538e939b54dcad40572bbc,DNM: debug keystone,ABANDONED,2020-02-26 09:59:57.000000000,2020-03-05 09:59:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 09:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/66de79368ce70cd3bd71ac093828f2ae1a75b920', 'message': 'DNM: debug keystone\n\nChange-Id: Ic2512799b9ce0bdd5e538e939b54dcad40572bbc\n'}, {'number': 2, 'created': '2020-02-26 10:03:10.000000000', 'files': ['tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/016ad9b87d43b2a82a44fbd486b6e79322637381', 'message': 'DNM: debug keystone\n\nChange-Id: Ic2512799b9ce0bdd5e538e939b54dcad40572bbc\n'}]",0,709996,016ad9b87d43b2a82a44fbd486b6e79322637381,5,2,2,10969,,,0,"DNM: debug keystone

Change-Id: Ic2512799b9ce0bdd5e538e939b54dcad40572bbc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/709996/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_keystone_resources/tasks/user_per_role.yml'],1,66de79368ce70cd3bd71ac093828f2ae1a75b920,debug1,- name: Print vars tripleo_keystone_resources_data_users debug: var=tripleo_keystone_resources_data_users - name: Print vars batched_tripleo_keystone_resources_roles_data debug: var=batched_tripleo_keystone_resources_roles_data ,,6,0
openstack%2Ftripleo-quickstart~master~I89c23ccc8aabda9cf139a306183280a6e5772832,openstack/tripleo-quickstart,master,I89c23ccc8aabda9cf139a306183280a6e5772832,DNM: use vexxhost registry for promotion jobs,ABANDONED,2020-02-26 20:19:17.000000000,2020-03-05 09:56:35.000000000,,"[{'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 20:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/380e45493ab5c427703b2bc0534a882f473bd407', 'message': 'DNM: use vexxhost registry for promotion jobs\n\nChange-Id: I89c23ccc8aabda9cf139a306183280a6e5772832\n'}, {'number': 2, 'created': '2020-03-05 09:48:14.000000000', 'files': ['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6afe35786ef865a2a64a27559ec3a07b1f3d3759', 'message': 'DNM: use vexxhost registry for promotion jobs\n\nChange-Id: I89c23ccc8aabda9cf139a306183280a6e5772832\n'}]",0,710135,6afe35786ef865a2a64a27559ec3a07b1f3d3759,11,4,2,10969,,,0,"DNM: use vexxhost registry for promotion jobs

Change-Id: I89c23ccc8aabda9cf139a306183280a6e5772832
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/35/710135/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-7/promotion-testing-hash-stein.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-pike.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-rocky.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-train.yml', 'config/release/tripleo-ci/CentOS-7/promotion-testing-hash-queens.yml']",7,380e45493ab5c427703b2bc0534a882f473bd407,migrate_vexxhost,docker_registry_host: 'trunk.registry-vexxhost.rdoproject.org',"docker_registry_host: ""{{ 'trunk.registry-vexxhost.rdoproject.org' if 'vexxhost-nodepool-tripleo' in job.nodepool_provider|default('rdo-cloud') else 'trunk.registry.rdoproject.org' }}""",7,21
openstack%2Fnetworking-generic-switch~stable%2Ftrain~Iec89a389a6158ca06bad9a3f844c1433a6ad0b64,openstack/networking-generic-switch,stable/train,Iec89a389a6158ca06bad9a3f844c1433a6ad0b64,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,ABANDONED,2019-09-26 20:00:04.000000000,2020-03-05 09:50:14.000000000,,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 20:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/2f5d333692ab639e752f57f7cc93d80e16809f64', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iec89a389a6158ca06bad9a3f844c1433a6ad0b64\n'}, {'number': 2, 'created': '2020-02-29 14:13:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/de5c3ecb52472c71bf4b332df9e7e3e2936237d4', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iec89a389a6158ca06bad9a3f844c1433a6ad0b64\n'}]",0,685170,de5c3ecb52472c71bf4b332df9e7e3e2936237d4,14,5,2,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iec89a389a6158ca06bad9a3f844c1433a6ad0b64
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/70/685170/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2f5d333692ab639e752f57f7cc93d80e16809f64,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fpython-tripleoclient~master~I48e251f88a724b6026f4c25a8afac363260345b0,openstack/python-tripleoclient,master,I48e251f88a724b6026f4c25a8afac363260345b0,DNM: test build pkg,ABANDONED,2020-02-26 07:57:14.000000000,2020-03-05 09:49:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 07:57:14.000000000', 'files': ['tripleoclient/workflows/baremetal.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5c697ac22383c0665fc93ad9f0d10d2d2b3bc871', 'message': 'DNM: test build pkg\n\nDepends-On: https://review.opendev.org/#/c/709837\nChange-Id: I48e251f88a724b6026f4c25a8afac363260345b0\n'}]",0,709971,5c697ac22383c0665fc93ad9f0d10d2d2b3bc871,4,2,1,10969,,,0,"DNM: test build pkg

Depends-On: https://review.opendev.org/#/c/709837
Change-Id: I48e251f88a724b6026f4c25a8afac363260345b0
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/709971/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/baremetal.py'],1,5c697ac22383c0665fc93ad9f0d10d2d2b3bc871,testpatch, # test,,1,0
openstack%2Ftripleo-quickstart-extras~master~Iecbf784275e53e9251baadd6640c4583a47e8f77,openstack/tripleo-quickstart-extras,master,Iecbf784275e53e9251baadd6640c4583a47e8f77,DNM test ci patch,ABANDONED,2020-03-04 11:00:57.000000000,2020-03-05 09:49:29.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 11:00:57.000000000', 'files': ['roles/undercloud-deploy/templates/install_novajoin.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ae1ef8e097dcb86c2121a4dad0102f9b004cd296', 'message': 'DNM test ci patch\n\nDepends-On: https://review.opendev.org/#/c/711201\nChange-Id: Iecbf784275e53e9251baadd6640c4583a47e8f77\n'}]",0,711202,ae1ef8e097dcb86c2121a4dad0102f9b004cd296,7,3,1,10969,,,0,"DNM test ci patch

Depends-On: https://review.opendev.org/#/c/711201
Change-Id: Iecbf784275e53e9251baadd6640c4583a47e8f77
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/02/711202/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/install_novajoin.sh.j2'],1,ae1ef8e097dcb86c2121a4dad0102f9b004cd296,test99,# test,,1,0
openstack%2Foslo.cache~master~I37c2ab6c787fe997e91302d1ce7cdc68ef23a353,openstack/oslo.cache,master,I37c2ab6c787fe997e91302d1ce7cdc68ef23a353,improve backward compat and deprecate memcached arguments,ABANDONED,2020-03-04 15:20:39.000000000,2020-03-05 09:47:46.000000000,,[{'_account_id': 30491}],"[{'number': 1, 'created': '2020-03-04 15:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/4d98e4de04169d2128d6010053ec2d68b59d2f05', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 2, 'created': '2020-03-04 15:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/39f7c8dd5cf193bed5644b62586c6a37725c732e', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 3, 'created': '2020-03-04 16:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/c4800efa365d4871b028a5fe87bc3d301a524748', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 4, 'created': '2020-03-04 16:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1741b334b4649870d028841598df60b9b06d8d25', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 5, 'created': '2020-03-04 16:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/b5bae3f85c4ca6e6afab7380ef755a1261ee6fe0', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 6, 'created': '2020-03-04 16:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8868c8dba398179d6c6ca8b1c9a09039ef4773f7', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 7, 'created': '2020-03-04 16:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e0a8a77d0241b0ad7f3178ac127aa468fd483669', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 8, 'created': '2020-03-04 16:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/4e77777c8b7c4c1629ded75130f6ea1e30389648', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 9, 'created': '2020-03-04 16:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/37cca1437fa45fa9904233fcbb141a8d2c14ed3a', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 10, 'created': '2020-03-04 17:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/40a9ff67019ce85a77fffcedae2f82c9b45363dd', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 11, 'created': '2020-03-04 17:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/1757267acfdc05b5026a997e6b746419192ee914', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 12, 'created': '2020-03-04 17:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/eee87b227337263eb86987bd9b8a6e5449d2e4d9', 'message': '[WIP] improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 13, 'created': '2020-03-04 17:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/d5bee5c29a9669353f0896235dc457a6feba7e9a', 'message': 'improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 14, 'created': '2020-03-04 18:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/410f4f5db7887f73a8a00eb902495f12d619a9d9', 'message': 'improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}, {'number': 15, 'created': '2020-03-04 18:14:53.000000000', 'files': ['releasenotes/notes/deprecate-python-memcached-arguments-572520e7e833e3a1.yaml', 'oslo_cache/_memcache_pool.py', 'oslo_cache/tests/test_connection_pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/18b38bbd1d0c6f1ba8f9b9f3e4efa6aaffd2ff7c', 'message': 'improve backward compat and deprecate memcached arguments\n\nThese changes improve the backward between client initialy based\non python-memcached and client that use pymemcache now.\n\nThese changes introduce a mapping between the 2 libraries allow\narguments but they deprecate the python-memcached arguments if givens.\n\npython-memcached support and backward compat will be dropped in future cycle\nafter ussuri.\n\nChange-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353\n'}]",0,711247,18b38bbd1d0c6f1ba8f9b9f3e4efa6aaffd2ff7c,16,1,15,28522,,,0,"improve backward compat and deprecate memcached arguments

These changes improve the backward between client initialy based
on python-memcached and client that use pymemcache now.

These changes introduce a mapping between the 2 libraries allow
arguments but they deprecate the python-memcached arguments if givens.

python-memcached support and backward compat will be dropped in future cycle
after ussuri.

Change-Id: I37c2ab6c787fe997e91302d1ce7cdc68ef23a353
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/47/711247/13 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/_memcache_pool.py'],1,4d98e4de04169d2128d6010053ec2d68b59d2f05,fix-dead-retry,"import debtcollector # Map backward compat between python-memcached and pymemcache. # Available params differ between libs, the goal of this function # is to make enduser compatible with pymemcache. if 'pickleProtocol' in self._arguments: # get the right version of pickle depending on user choice. # this is a python-memcache argument which can be emulated # by using the right version of pickle in serializer like bellow. # By default python-memcached using pickle version 0 and # pymemcache using pickle version 2 by default. # The version 0 is compatible with old versions of python and the # version 2 is a more efficient and modern version, so if user # don't ask for a specific version let's use the version 2 as # the default version here. # https://docs.python.org/3.7/library/pickle.html#data-stream-format ## noqa serializer = serde.get_python_memcache_serializer( pickle_version=int(self._arguments['pickleProtocol'])) self._arguments['serializer'] = serializer del self._arguments['pickleProtocol'] debtcollector.deprecate( ""`pickleProtocol` argument is deprecated and will "" ""be no longer supported. "" ""Support will be removed in future version"") if 'pickler' in self._arguments: self._arguments['serializer'] = self._arguments['pickler'] del self._arguments['pickler'] debtcollector.deprecate( ""`pickler` argument is deprecated and will be no "" ""longer supported. "" ""Prefer to use `serializer` instead."") if 'unpickler' in self._arguments: self._arguments['deserializer'] = self._arguments['unpickler'] del self._arguments['unpickler'] debtcollector.deprecate( ""`unpickler` argument is deprecated and will be no "" ""longer supported. "" ""Prefer to use `deserializer` instead."") if 'pload' in self._arguments: del self._arguments['pload'] debtcollector.deprecate( ""`pload` argument is deprecated and no longer "" ""supported. It will be ignored during execution. "" ""Support will be removed in future version"") if 'pid' in self._arguments: del self._arguments['pid'] debtcollector.deprecate( ""`pid` argument is deprecated and no longer "" ""supported. It will be ignored during execution. "" ""Support will be removed in future version"") if 'cache_cas' in self._arguments: del self._arguments['cache_cas'] debtcollector.deprecate( ""`cache_cas` argument is deprecated and no longer "" ""supported. It will be ignored during execution. "" ""Support will be removed in future version"") if 'server_max_key_length' in self._arguments: del self._arguments['server_max_key_length'] debtcollector.deprecate( ""`server_max_key_length` argument is deprecated and no longer "" ""supported. It will be ignored during execution. "" ""Support will be removed in future version"") if 'server_max_value_length' in self._arguments: del self._arguments['server_max_value_length'] debtcollector.deprecate( ""`server_max_value_length` argument is deprecated and no"" ""longer supported. It will be ignored during execution. "" ""Support will be removed in future version"") if 'flush_on_reconnect' in self._arguments: del self._arguments['flush_on_reconnect'] debtcollector.deprecate( ""`flush_on_reconnect` argument is deprecated and no "" ""longer supported. It will be ignored during execution. "" ""Support will be removed in future version"") if 'check_keys' in self._arguments: del self._arguments['check_keys'] debtcollector.deprecate( ""`check_keys` argument is deprecated and no "" ""longer supported. It will be ignored during execution. "" ""Support will be removed in future version"") debtcollector.deprecate( ""`socket_timeout` argument is deprecated and will be no "" ""longer supported. "" ""Prefer to use `connection_timeout` instead."") debtcollector.deprecate( ""`dead_retry` argument is deprecated and will be no "" ""longer supported. Prefer to use `dead_timeout` instead."") if 'debug' in self._arguments: # on python-memcached sys.stderr is used to print debug only if # the `debug` param is given and equal to `True`. # pymemcache handle debug with standard loggin level so we # just need to set the right log level in config to get debug # outputs in standard logs. del self._arguments['debug'] debtcollector.deprecate( ""`debug` argument is deprecated and no longer "" ""supported. It will be ignored during execution. "" ""Support will be removed in future version"")",,97,0
openstack%2Ftripleo-quickstart-extras~master~Ifddc354ba6acde02775b820dce7bf122727bc0c1,openstack/tripleo-quickstart-extras,master,Ifddc354ba6acde02775b820dce7bf122727bc0c1,DNM: test logs,ABANDONED,2020-02-26 10:43:18.000000000,2020-03-05 09:46:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 10:43:18.000000000', 'files': ['roles/overcloud-deploy/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a52e34558212bbbfc239ee154702e7fccc07162b', 'message': 'DNM: test logs\n\nDepends-On: https://review.opendev.org/710006\nChange-Id: Ifddc354ba6acde02775b820dce7bf122727bc0c1\n'}]",0,710007,a52e34558212bbbfc239ee154702e7fccc07162b,4,2,1,10969,,,0,"DNM: test logs

Depends-On: https://review.opendev.org/710006
Change-Id: Ifddc354ba6acde02775b820dce7bf122727bc0c1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/07/710007/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/main.yml'],1,a52e34558212bbbfc239ee154702e7fccc07162b,,# test,,1,0
openstack%2Fkolla-ansible~stable%2Ftrain~Ia0dc783929769c7c2dae5aaaad7d51c7de0e2b10,openstack/kolla-ansible,stable/train,Ia0dc783929769c7c2dae5aaaad7d51c7de0e2b10,Set openstack_release and kolla_source_version to train,MERGED,2020-03-04 12:18:32.000000000,2020-03-05 09:32:43.000000000,2020-03-04 20:20:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-04 12:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd5e8469be37a1c4fc84f3067bbea50657bcd895', 'message': ""Set openstack_release and kolla_source_version to train\n\nIn stein and earlier releases, we set openstack_release to 'auto'. This\nwould detect the version of kolla-ansible and use it as the container\ntag. On master, we then changed this to 'master', with the intention\nthat it would be changed on each stable branch prior to release.\nHowever, as this was a new part of the release process, we forgot to do\nit for Train. This results in kolla-ansible using the 'master' images by\ndefault.\n\nThe same is true for kolla_source_version, which affects the version of\nrepos used in dev mode.\n\nThis change sets openstack_release and kolla_source_version to 'train'.\n\nChange-Id: Ia0dc783929769c7c2dae5aaaad7d51c7de0e2b10\nCloses-Bug: #1866054\n""}, {'number': 2, 'created': '2020-03-04 12:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1df3028821ba35c49c0efb43eb1c6834b410dc42', 'message': ""Set openstack_release and kolla_source_version to train\n\nIn stein and earlier releases, we set openstack_release to 'auto'. This\nwould detect the version of kolla-ansible and use it as the container\ntag. On master, we then changed this to 'master', with the intention\nthat it would be changed on each stable branch prior to release.\nHowever, as this was a new part of the release process, we forgot to do\nit for Train. This results in kolla-ansible using the 'master' images by\ndefault.\n\nThe same is true for kolla_source_version, which affects the version of\nrepos used in dev mode.\n\nThis change sets openstack_release and kolla_source_version to 'train'.\n\nChange-Id: Ia0dc783929769c7c2dae5aaaad7d51c7de0e2b10\nCloses-Bug: #1866054\n""}, {'number': 3, 'created': '2020-03-04 16:19:55.000000000', 'files': ['releasenotes/notes/openstack-release-train-49464568d8b57812.yaml', 'tests/run.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c61d0af87c1d8ec8eb6897de0cef426a0c74dfee', 'message': ""Set openstack_release and kolla_source_version to train\n\nIn stein and earlier releases, we set openstack_release to 'auto'. This\nwould detect the version of kolla-ansible and use it as the container\ntag. On master, we then changed this to 'master', with the intention\nthat it would be changed on each stable branch prior to release.\nHowever, as this was a new part of the release process, we forgot to do\nit for Train. This results in kolla-ansible using the 'master' images by\ndefault.\n\nThe same is true for kolla_source_version, which affects the version of\nrepos used in dev mode.\n\nThis change sets openstack_release and kolla_source_version to 'train'.\n\nAlso included in this patch is a fix for ARA on Python 2:\n\npyfakefs 4.0.0 dropped support for Python 2. It is used by the ARA\ncallback plugin.\n\nChange-Id: Ia0dc783929769c7c2dae5aaaad7d51c7de0e2b10\nCloses-Bug: #1866054\nCloses-Bug: #1866079\n""}]",0,711214,c61d0af87c1d8ec8eb6897de0cef426a0c74dfee,26,4,3,14826,,,0,"Set openstack_release and kolla_source_version to train

In stein and earlier releases, we set openstack_release to 'auto'. This
would detect the version of kolla-ansible and use it as the container
tag. On master, we then changed this to 'master', with the intention
that it would be changed on each stable branch prior to release.
However, as this was a new part of the release process, we forgot to do
it for Train. This results in kolla-ansible using the 'master' images by
default.

The same is true for kolla_source_version, which affects the version of
repos used in dev mode.

This change sets openstack_release and kolla_source_version to 'train'.

Also included in this patch is a fix for ARA on Python 2:

pyfakefs 4.0.0 dropped support for Python 2. It is used by the ARA
callback plugin.

Change-Id: Ia0dc783929769c7c2dae5aaaad7d51c7de0e2b10
Closes-Bug: #1866054
Closes-Bug: #1866079
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/711214/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,fd5e8469be37a1c4fc84f3067bbea50657bcd895,bug/1866054,"kolla_source_version: ""train""openstack_release: ""train""","kolla_source_version: ""master""openstack_release: ""master""",2,2
openstack%2Fneutron-lib~master~Ief9df3d23a192a9e374819ffc8869c4f1966bfd4,openstack/neutron-lib,master,Ief9df3d23a192a9e374819ffc8869c4f1966bfd4,Remove warning message when using old and new engine facade,MERGED,2020-02-29 12:47:41.000000000,2020-03-05 09:32:34.000000000,2020-03-04 17:22:02.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-29 12:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d669cec083084ebb961e664c2b2e40759230731d', 'message': 'Remove warning message when using old and new engine facade\n\nThe aim of this patch is to reduce the log pollution, specially in\ntesting. Anyway, a comment is left in this section of the code,\nconsistent with the previous TODO message.\n\nChange-Id: Ief9df3d23a192a9e374819ffc8869c4f1966bfd4\nCloses-Bug: #1865281\n'}, {'number': 2, 'created': '2020-02-29 19:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/275da58fc95bb99795902313be47a895d3e67775', 'message': 'Remove warning message when using old and new engine facade\n\nThe aim of this patch is to reduce the log pollution, specially in\ntesting. Anyway, a comment is left in this section of the code,\nconsistent with the previous TODO message.\n\nChange-Id: Ief9df3d23a192a9e374819ffc8869c4f1966bfd4\nCloses-Bug: #1865281\n'}, {'number': 3, 'created': '2020-03-03 10:53:34.000000000', 'files': ['neutron_lib/context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/77b761dfe438f7a2d61dac3337b65d0f9d85c20b', 'message': 'Remove warning message when using old and new engine facade\n\nThe aim of this patch is to reduce the log pollution, specially in\ntesting. The warning message is now a LOG.debug message.\n\nChange-Id: Ief9df3d23a192a9e374819ffc8869c4f1966bfd4\nCloses-Bug: #1865281\n'}]",3,710557,77b761dfe438f7a2d61dac3337b65d0f9d85c20b,20,7,3,16688,,,0,"Remove warning message when using old and new engine facade

The aim of this patch is to reduce the log pollution, specially in
testing. The warning message is now a LOG.debug message.

Change-Id: Ief9df3d23a192a9e374819ffc8869c4f1966bfd4
Closes-Bug: #1865281
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/57/710557/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/context.py'],1,d669cec083084ebb961e664c2b2e40759230731d,bug/1865281," # NOTE(ralonsoh): if self._session, context.session is used with # and without new engine facade. The code should be updated to use # new enginefacede consistently. No warning is written here to # to avoid log pollution."," if self._session: warnings.warn('context.session is used with and without ' 'new enginefacade. Please update the code to ' 'use new enginefacede consistently.', DeprecationWarning)",4,5
openstack%2Fcookiecutter~master~I02dd34a1cf6b62d12f7a26d21b3a2857d82d1b0a,openstack/cookiecutter,master,I02dd34a1cf6b62d12f7a26d21b3a2857d82d1b0a,Minimise info in CONTRIBUTING.rst,MERGED,2020-02-19 15:34:36.000000000,2020-03-05 09:23:10.000000000,2020-03-03 22:55:40.000000000,"[{'_account_id': 2}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 5314}, {'_account_id': 6928}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-19 15:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/e028a0ad26e95833f5e1f191805da814466cf807', 'message': 'Link to contributor guide from CONTRIBUTING.rst\n\nChange-Id: I02dd34a1cf6b62d12f7a26d21b3a2857d82d1b0a\n'}, {'number': 2, 'created': '2020-02-19 17:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/57df5509e9afc1b9c8248bceb237f95e29ecf74f', 'message': 'Link to repo and contributor guide from CONTRIBUTING.rst\n\nThis reverts commit ed3a0b07c72667628064dc7c5d8eae47dcae16d6 so that the\nCONTRIBUTING.rst file contains only the same information that it\nhistorically had, plus adds links to the canonical OpenDev repo and the\nnew project-specific contributor documentation.\n\nThe content of the new project-specific contributor docs template is\nmoved back to the docs tree, with some minor cleanups, instead of\ntranscluding it.\n\nChange-Id: I02dd34a1cf6b62d12f7a26d21b3a2857d82d1b0a\n'}, {'number': 3, 'created': '2020-02-24 20:56:50.000000000', 'files': ['{{cookiecutter.repo_name}}/CONTRIBUTING.rst', '{{cookiecutter.repo_name}}/doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/cookiecutter/commit/7bfef146ff9581899bfa9e539b6efb21b2e5b223', 'message': ""Minimise info in CONTRIBUTING.rst\n\nThis reverts commit ed3a0b07c72667628064dc7c5d8eae47dcae16d6 so that the\nCONTRIBUTING.rst file contains only the same information that it\nhistorically had, plus adds links to the canonical OpenDev repo and the\nnew project-specific contributor documentation.\n\nIt also links to the new quick-start page in the Contributor Guide\ninstead of the OpenStack Infra manual, as the latter is expected to be\nmoved to OpenDev and scrubbed of OpenStack-specific information.\n\nThis has the effect of minimising the amount of information contained in\neach repo's CONTRIBUTING file, in favour of keeping it in one place in\nthe Contributor Guide that can easily be kept up to date.\n\nThe content of the new project-specific contributor docs template is\nmoved back to the docs tree, with some minor cleanups, instead of\ntranscluding it.\n\nChange-Id: I02dd34a1cf6b62d12f7a26d21b3a2857d82d1b0a\nDepends-On: https://review.opendev.org/708939\n""}]",15,708672,7bfef146ff9581899bfa9e539b6efb21b2e5b223,33,13,3,4257,,,0,"Minimise info in CONTRIBUTING.rst

This reverts commit ed3a0b07c72667628064dc7c5d8eae47dcae16d6 so that the
CONTRIBUTING.rst file contains only the same information that it
historically had, plus adds links to the canonical OpenDev repo and the
new project-specific contributor documentation.

It also links to the new quick-start page in the Contributor Guide
instead of the OpenStack Infra manual, as the latter is expected to be
moved to OpenDev and scrubbed of OpenStack-specific information.

This has the effect of minimising the amount of information contained in
each repo's CONTRIBUTING file, in favour of keeping it in one place in
the Contributor Guide that can easily be kept up to date.

The content of the new project-specific contributor docs template is
moved back to the docs tree, with some minor cleanups, instead of
transcluding it.

Change-Id: I02dd34a1cf6b62d12f7a26d21b3a2857d82d1b0a
Depends-On: https://review.opendev.org/708939
",git fetch https://review.opendev.org/openstack/cookiecutter refs/changes/72/708672/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/CONTRIBUTING.rst'],1,e028a0ad26e95833f5e1f191805da814466cf807,," For more specific information, see the {{ cookiecutter.service }} ``contributor guide <https://docs.openstack.org/{{ cookiecutter.repo_name }}/latest/contributor/contributing.html>``.",,4,0
openstack%2Ftripleo-quickstart~master~I26f01891df4e8035c484edb43603675530f64f79,openstack/tripleo-quickstart,master,I26f01891df4e8035c484edb43603675530f64f79,update convert images for python3 packages,MERGED,2020-03-03 18:09:32.000000000,2020-03-05 09:13:29.000000000,2020-03-04 20:35:30.000000000,"[{'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 18:09:32.000000000', 'files': ['roles/convert-image/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a71751d166c262896b81debb5f79b599cdf0c3ee', 'message': 'update convert images for python3 packages\n\nWhen an overcloud image is converted to an undercloud\nimage a few packages are removed and installed.\nThe removed packages are fine, same names\nin centos-7 and 8.  python- is now python3\n\nChange-Id: I26f01891df4e8035c484edb43603675530f64f79\n'}]",1,711078,a71751d166c262896b81debb5f79b599cdf0c3ee,11,4,1,9592,,,0,"update convert images for python3 packages

When an overcloud image is converted to an undercloud
image a few packages are removed and installed.
The removed packages are fine, same names
in centos-7 and 8.  python- is now python3

Change-Id: I26f01891df4e8035c484edb43603675530f64f79
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/78/711078/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/convert-image/defaults/main.yml'],1,a71751d166c262896b81debb5f79b599cdf0c3ee,,"# <wes> notes this was a list, but is now a string # still should work w/ https://opendev.org/openstack/tripleo-quickstart/src/branch/master/roles/convert-image/templates/convert_image.sh.j2#L24 convert_image_install_pkgs: ""{{ 'python3-tripleoclient' if ansible_distribution_major_version|int >= 8 else 'python-tripleoclient' }}""",convert_image_install_pkgs: - python-tripleoclient,3,2
openstack%2Fhorizon~master~Ie63e9a9361f2fd7111767864043eb8ad3084a900,openstack/horizon,master,Ie63e9a9361f2fd7111767864043eb8ad3084a900,Skip integration tests for UT only changes,MERGED,2020-02-18 05:09:31.000000000,2020-03-05 09:08:06.000000000,2020-03-05 09:05:14.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-02-18 05:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/83de7d2d8c11f52152638a645b842d80d9a0eac8', 'message': 'Skip integration tests for UT only changes\n\nThe integration tests job takes longest time in horizon jobs.\nIt is worth skipping it for UT only changes.\nWe already do the similar in the tempest job.\n\nChange-Id: Ie63e9a9361f2fd7111767864043eb8ad3084a900\n'}, {'number': 2, 'created': '2020-03-03 07:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8b5ac932c0116c47c7c508a337790e62d1bc46d0', 'message': 'Skip integration tests for UT only changes\n\nThe integration tests job takes longest time in horizon jobs.\nIt is worth skipping it for UT only changes (including JS UT).\nWe already do the similar in the tempest job.\n\nIrrevalent file list for tempest job is also updated\nto ignoer JS UT changes.\n\nChange-Id: Ie63e9a9361f2fd7111767864043eb8ad3084a900\n'}, {'number': 3, 'created': '2020-03-04 20:58:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/dd32c9287b1384b423f446a745eddd36d29e0d49', 'message': 'Skip integration tests for UT only changes\n\nThe integration tests job takes longest time in horizon jobs.\nIt is worth skipping it for UT only changes (including JS UT).\nWe already do the similar in the tempest job.\n\nIrrevalent file list for tempest job is also updated\nto ignoer JS UT changes.\n\nChange-Id: Ie63e9a9361f2fd7111767864043eb8ad3084a900\n'}]",3,708301,dd32c9287b1384b423f446a745eddd36d29e0d49,15,4,3,841,,,0,"Skip integration tests for UT only changes

The integration tests job takes longest time in horizon jobs.
It is worth skipping it for UT only changes (including JS UT).
We already do the similar in the tempest job.

Irrevalent file list for tempest job is also updated
to ignoer JS UT changes.

Change-Id: Ie63e9a9361f2fd7111767864043eb8ad3084a900
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/708301/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83de7d2d8c11f52152638a645b842d80d9a0eac8,remove-mox, - ^horizon/test/unit/.*$ - ^openstack_auth/tests/unit/.*$ - ^openstack_dashboard/test/unit/.*$,,3,0
openstack%2Fironic-prometheus-exporter~master~I5e6221a49c60a18309ca9b5d644d97acb56f7fef,openstack/ironic-prometheus-exporter,master,I5e6221a49c60a18309ca9b5d644d97acb56f7fef,DevStack support and Redfish job,MERGED,2019-10-01 07:54:37.000000000,2020-03-05 08:53:05.000000000,2020-03-04 21:26:11.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-01 07:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/fc3709351e3c488b955fb8a78f338cc629970449', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 2, 'created': '2019-10-01 08:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/dd9cede189a12955f6a1288be08fe07d8af8a481', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 3, 'created': '2019-10-01 08:37:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/7c97ef73c6c4c98b5c857be95939df9866d22c75', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 4, 'created': '2019-10-01 12:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/702b9a23be7d10ddea0e38fb54c16e8ca29fcf12', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 5, 'created': '2019-10-01 13:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/0ed34aaeebb14b46e67ec7f77cdcdcb106f612cd', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 6, 'created': '2019-10-01 14:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/9702914dcf2583a1a574734726ba44172a0bdfbe', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 7, 'created': '2019-10-02 12:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/38aedfb3aefcc753cf2c5c8e016b6bd774066b65', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 8, 'created': '2019-10-02 13:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/23531561d487ea1ad0422bd4a1d47bfa281fa386', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 9, 'created': '2019-10-02 14:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/c25607572e9e95e83fc2e9859fa886a2f53f7c29', 'message': '[WIP] Add CI job\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 10, 'created': '2019-10-08 15:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/88e89b820ecf60c52aa8282300eff649d36dc354', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 11, 'created': '2019-10-09 15:03:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/1e647b25d2ff13b9ce0c20d4074720476ede8903', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nDepends-On: https://review.opendev.org/#/c/685398/\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 12, 'created': '2019-11-11 15:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/ff24ae68319fe099fce857d0a084a9de4cd75ba1', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nDepends-On: https://review.opendev.org/688458\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 13, 'created': '2019-11-12 09:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/1ed832773c826adaecc097dc3d6f1c6bdb50dc60', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nDepends-On: https://review.opendev.org/688458\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 14, 'created': '2019-12-13 09:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/f5ac886760877f7060f7c10ee5dc4d8d3d25e2a7', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 15, 'created': '2019-12-16 13:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/334cc1e580e3d9ce1ffad1620174e0f012342091', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 16, 'created': '2019-12-16 14:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/edbf5ee1dbb5e1d35e6f8b9e8e2454e2eea468eb', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 17, 'created': '2019-12-18 16:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/cd9d24ab0e5c3e213f261152bf73ba1c0a63cd01', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 18, 'created': '2020-01-14 16:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/2f07b3df5cdf0e03c1f153ce1525447f4a0ca066', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 19, 'created': '2020-02-06 12:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/19b7cd6d94aecdf5b77a1a21804afddd64d042d7', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\n- Testing with redfish changes\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 20, 'created': '2020-02-06 15:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/c8be1e47093856fa14052663a83f6834a7fabe89', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 21, 'created': '2020-02-13 17:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/fcf551e3c3c2da27a12ed20dbd7445f08b1fc29b', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 22, 'created': '2020-02-13 18:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/748ab11e1ee804bcb360d552dfeb7aa90c786a6a', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 23, 'created': '2020-02-14 08:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/d328b54f008b0f8c745dce934d42dedf683794c2', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 24, 'created': '2020-02-14 09:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/230c2da74b30bfbf739f75c95a63d031ca1f9347', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 25, 'created': '2020-02-14 10:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/72ce6ee436885bb617ccf764c26f672d4a34a6f2', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 26, 'created': '2020-02-17 10:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/9800b8ccd2595cb2d3232e3bbde14f9750b46d05', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 27, 'created': '2020-02-17 11:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/4c9f22e40862064607f1252271ca8bd94e72280f', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n- Fixed ironic env var\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 28, 'created': '2020-02-17 13:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/45370ed68fd3c63768e1ae692bc7d55d92bfc25e', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n- Fixed ironic env var\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 29, 'created': '2020-02-17 14:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/e3dbf817ae6754d4ef9b65bc06d4fd23b385f0bd', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n- Fixed ironic env var\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 30, 'created': '2020-02-17 17:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/da4e6a082958d30ca36c22a6ac14a8b2672ec047', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 31, 'created': '2020-02-17 18:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/5a03a81f1428cf40201e085181703d75ab05ecfd', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 32, 'created': '2020-02-18 14:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/488963e0e0bc9eba73494901b484e7ab5d765cb0', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 33, 'created': '2020-02-18 14:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/b9ece1bf40692eb90d0570467c9d3d9ca7abe271', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}, {'number': 34, 'created': '2020-02-18 15:57:50.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/1765f44faaca43eb9274544c2e6aa33e44635920', 'message': 'DevStack support and Redfish job\n\n- plugin for devstack\n- runs the exporter as a service with gunicorn\n- collect data from virtual baremetal (redfish)\n\nChange-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef\n'}]",57,685888,1765f44faaca43eb9274544c2e6aa33e44635920,103,5,34,15519,,,0,"DevStack support and Redfish job

- plugin for devstack
- runs the exporter as a service with gunicorn
- collect data from virtual baremetal (redfish)

Change-Id: I5e6221a49c60a18309ca9b5d644d97acb56f7fef
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/88/685888/34 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'zuul.d/ironic-prometheus-exporter-jobs.yaml', '.zuul.yaml', 'devstack/plugin.sh', 'zuul.d/project.yaml', 'devstack/settings']",6,fc3709351e3c488b955fb8a78f338cc629970449,685888,define_plugin ironic-prometheus-exporter plugin_requires ironic-prometheus-exporter ironic ,,126,6
openstack%2Fironic-prometheus-exporter~master~Ie26d42bc3842f2446d1ddc9704f5df431306aa46,openstack/ironic-prometheus-exporter,master,Ie26d42bc3842f2446d1ddc9704f5df431306aa46,Fix None for instance_uuid label,MERGED,2020-02-06 18:14:29.000000000,2020-03-05 08:52:41.000000000,2020-03-04 21:26:12.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-06 18:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/32a0d54121437459650115dee457c6086cc0e52f', 'message': 'Fix None for instance_uuid label\n\nIn some envs the `instance_uuid` can be `None`, if this happens\nwe will override using `node_uuid`.\n\nChange-Id: Ie26d42bc3842f2446d1ddc9704f5df431306aa46\n'}, {'number': 2, 'created': '2020-02-19 10:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/e55d99cbf3938668c1f7c4d8e587bd1e82e96c4b', 'message': 'Fix None for instance_uuid label\n\nIn some envs the `instance_uuid` can be `None`, if this happens\nwe will override using `node_uuid`.\n\nChange-Id: Ie26d42bc3842f2446d1ddc9704f5df431306aa46\nStory: #2007302\n'}, {'number': 3, 'created': '2020-02-20 10:08:35.000000000', 'files': ['ironic_prometheus_exporter/tests/json_samples/notification-ipmi-none-instance_uuid.json', 'ironic_prometheus_exporter/utils.py', 'ironic_prometheus_exporter/parsers/header.py', 'ironic_prometheus_exporter/tests/test_header_parser.py', 'ironic_prometheus_exporter/tests/test_ipmi_parser.py', 'ironic_prometheus_exporter/parsers/redfish.py', 'ironic_prometheus_exporter/parsers/ipmi.py', 'ironic_prometheus_exporter/tests/json_samples/notification-redfish-none-instance_uuid.json', 'releasenotes/notes/none_instance_uuid-651a6c17a998c010.yaml', 'ironic_prometheus_exporter/tests/test_redfish_parser.py', 'ironic_prometheus_exporter/tests/json_samples/notification-header-with-none.json'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/09f802160ec6e62be0aa16d4078369e985394cd3', 'message': 'Fix None for instance_uuid label\n\nIn some envs the `instance_uuid` can be `None`, if this happens\nwe will override using `node_uuid`.\n\nChange-Id: Ie26d42bc3842f2446d1ddc9704f5df431306aa46\nStory: #2007302\nTask: #38779\n'}]",3,706346,09f802160ec6e62be0aa16d4078369e985394cd3,16,4,3,15519,,,0,"Fix None for instance_uuid label

In some envs the `instance_uuid` can be `None`, if this happens
we will override using `node_uuid`.

Change-Id: Ie26d42bc3842f2446d1ddc9704f5df431306aa46
Story: #2007302
Task: #38779
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/46/706346/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_prometheus_exporter/tests/json_samples/notification-ipmi-none-instance_uuid.json', 'ironic_prometheus_exporter/utils.py', 'ironic_prometheus_exporter/tests/test_header_parser.py', 'ironic_prometheus_exporter/tests/test_ipmi_parser.py', 'ironic_prometheus_exporter/tests/json_samples/notification-redfish-none-instance_uuid.json', 'releasenotes/notes/none_instance_uuid-651a6c17a998c010.yaml', 'ironic_prometheus_exporter/tests/test_redfish_parser.py', 'ironic_prometheus_exporter/tests/json_samples/notification-header-with-none.json']",8,32a0d54121437459650115dee457c6086cc0e52f,avoid_none,"{ ""priority"": ""INFO"", ""event_type"": ""hardware.redfish.metrics"", ""timestamp"": ""2019-03-29 20:12:26.885347"", ""publisher_id"": ""None.localhost.localdomain"", ""payload"": { ""instance_uuid"":null , ""node_uuid"": ""6d85703a-565d-469a-96ce-30b6de53079d"", ""event_type"": ""hardware.redfish.metrics.update"", ""timestamp"": ""2019-03-29T20:12:22.989020"", ""node_name"": ""knilab-master-u9"", ""message_id"": ""85d6b2c8-fe57-432d-868a-330e0e28cf34"", ""payload"": { } }, ""message_id"": ""2c0da1e8-1958-484f-9bdd-9117d717f7fa"" } ",,2523,1
openstack%2Fpython-tripleoclient~master~Ib76dac4e0d11c66fe90c30db19788af1cb4694f6,openstack/python-tripleoclient,master,Ib76dac4e0d11c66fe90c30db19788af1cb4694f6,Remove the mistral from the check_deprecated_parameters workflow,MERGED,2020-02-21 13:39:07.000000000,2020-03-05 08:45:11.000000000,2020-03-05 02:31:30.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-02-21 13:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9ddcfc5d3504b085ec1b1f2fe30660d17756a467', 'message': 'WIP remove mistral from parameters\n\nChange-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2020-02-21 15:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7d2757b351fc7451085ac70007f4f89a7102eaeb', 'message': 'Remove the mistral from the check_deprecated_parameters workflow\n\nThis change removes all of mistral from the check_deprecated_parameters\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38424\n\nChange-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2020-02-21 16:55:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/335a1015f9ea0e13202ebac403923421080b04bc', 'message': 'Remove the mistral from the check_deprecated_parameters workflow\n\nThis change removes all of mistral from the check_deprecated_parameters\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38424\n\nChange-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2020-02-24 19:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0207a5a46c5dbb2ed2334019e653fc05ac6cc72a', 'message': 'Remove the mistral from the check_deprecated_parameters workflow\n\nThis change removes all of mistral from the check_deprecated_parameters\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38424\n\nChange-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2020-02-26 17:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/865294aaae2f358bbb4b5947a021781e80c6cff2', 'message': 'Remove the mistral from the check_deprecated_parameters workflow\n\nThis change removes all of mistral from the check_deprecated_parameters\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38424\n\nChange-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2020-02-27 17:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b2e0524ddff570e0230c29a7bf836f60061eb052', 'message': 'Remove the mistral from the check_deprecated_parameters workflow\n\nThis change removes all of mistral from the check_deprecated_parameters\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38424\n\nChange-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2020-02-28 10:41:26.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_admin.py', 'tripleoclient/tests/workflows/test_parameters.py', 'tripleoclient/workflows/parameters.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/841655390335a68e81e7aea1ea8aaa1dc304db7f', 'message': 'Remove the mistral from the check_deprecated_parameters workflow\n\nThis change removes all of mistral from the check_deprecated_parameters\nfunction by calling the required functions directly.\n\nStory: 2007212\nTask: 38424\n\nChange-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",1,709141,841655390335a68e81e7aea1ea8aaa1dc304db7f,36,7,7,7353,,,0,"Remove the mistral from the check_deprecated_parameters workflow

This change removes all of mistral from the check_deprecated_parameters
function by calling the required functions directly.

Story: 2007212
Task: 38424

Change-Id: Ib76dac4e0d11c66fe90c30db19788af1cb4694f6
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/41/709141/6 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/parameters.py'],1,9ddcfc5d3504b085ec1b1f2fe30660d17756a467,mistral_to_ansible,"from tripleoclient.workflows import roles """"""Checks for deprecated parameters in plan and adds warning if present. :param clients: application client object. :type clients: Object :param container: Name of the stack container. :type container: String """""" context = clients.tripleoclient.create_mistral_context() role_name_list = roles.list_available_roles( clients=clients, container=container ) flattened_parms = parameters.GetFlattenedParametersAction( container=container ).run(context=context) user_params = flattened_parms['environment_parameters'] heat_resource_tree = flattened_parms['heat_resource_tree'] heat_resource_tree_params = heat_resource_tree['parameters'] heat_resource_tree_resources = heat_resource_tree['resources'] plan_params = heat_resource_tree_params.keys() parameter_groups = [ i.get('parameter_groups') for i in heat_resource_tree_params.values() if 'parameter_groups' in i ] params_role_specific_tag = [ i.get('name') for i in heat_resource_tree_resources.values() if 'tags' in i and 'role_specific' in i['tags'] ] valid_role_name_list = list() for role_name in role_name_list: if heat_resource_tree_params[role_name].get('Count', 0) > 0: valid_role_name_list.append(role_name) deprecated_params = set( [ i for i in parameter_groups if i.get('label') == 'deprecated' ] ) deprecated_result = [ { 'parameter': i, 'deprecated': True, 'user_defined': i in user_params.keys() } for i in deprecated_params ] unused_params = [i for i in user_params.keys() if not i in plan_params] user_provided_role_specific = [ v for i in valid_role_name_list for k, v in user_params.items() if k in i ] invalid_role_specific_params = [ i for i in user_provided_role_specific if i in params_role_specific_tag ] deprecated_parameters = [ param['parameter'] for param in deprecated_result if param.get('user_defined') ] unused_parameters = unused_params if deprecated_parameters: deprecated_join = ', '.join(deprecated_parameters) LOG.warning( 'WARNING: Following parameter(s) are deprecated and still ' 'defined. Deprecated parameters will be removed soon!' ' {deprecated_join}'.format( deprecated_join=deprecated_join)) # exclude our known params that may not be used ignore_re = re.compile('|'.join(UNUSED_PARAMETER_EXCLUDES_RE)) unused_params = [p for p in unused_params if not ignore_re.search(p)] if unused_params: unused_join = ', '.join(unused_params) LOG.warning( 'WARNING: Following parameter(s) are defined but not ' 'currently used in the deployment plan. These parameters ' 'may be valid but not in use due to the service or ' 'deployment configuration.' ' {unused_join}'.format(unused_join=unused_join)) if invalid_role_specific_params: invalid_join = ', '.join(invalid_role_specific_params) LOG.warning( 'WARNING: Following parameter(s) are not supported as ' 'role-specific inputs. {invalid_join}'.format( invalid_join=invalid_join))"," """"""Checks for deprecated parameters in plan and adds warning if present"""""" workflow_client = clients.workflow_engine tripleoclients = clients.tripleoclient workflow_input = { 'container': container } with tripleoclients.messaging_websocket() as ws: execution = base.start_workflow( workflow_client, 'tripleo.plan_management.v1.get_deprecated_parameters', workflow_input=workflow_input ) messages = base.wait_for_messages(workflow_client, ws, execution, 120) has_messages = False for message in messages: if message['status'] != 'SUCCESS': return has_messages = True deprecated_params = [ param['parameter'] for param in message.get('deprecated', []) if param.get('user_defined') ] unused_params = message.get('unused', []) invalid_role_specific_params = message.get( 'invalid_role_specific', []) if not has_messages: return if deprecated_params: deprecated_join = ', '.join(deprecated_params) LOG.warning( 'WARNING: Following parameter(s) are deprecated and still ' 'defined. Deprecated parameters will be removed soon!' ' {deprecated_join}'.format( deprecated_join=deprecated_join)) # exclude our known params that may not be used ignore_re = re.compile('|'.join(UNUSED_PARAMETER_EXCLUDES_RE)) unused_params = [p for p in unused_params if not ignore_re.search(p)] if unused_params: unused_join = ', '.join(unused_params) LOG.warning( 'WARNING: Following parameter(s) are defined but not ' 'currently used in the deployment plan. These parameters ' 'may be valid but not in use due to the service or ' 'deployment configuration.' ' {unused_join}'.format(unused_join=unused_join)) if invalid_role_specific_params: invalid_join = ', '.join(invalid_role_specific_params) LOG.warning( 'WARNING: Following parameter(s) are not supported as ' 'role-specific inputs. {invalid_join}'.format( invalid_join=invalid_join))",86,52
openstack%2Fnetworking-ovn~stable%2Ftrain~I0b84f41865e3fdea49cf169df5431249c35f5ff8,openstack/networking-ovn,stable/train,I0b84f41865e3fdea49cf169df5431249c35f5ff8,[OVN] Set 'unknown' address properly when port sec is disabled,ABANDONED,2020-02-18 10:28:45.000000000,2020-03-05 08:15:37.000000000,,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-02-18 10:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cd549b20c068f636f49c819faafc837afe8a9e2e', 'message': ""[OVN] Set 'unknown' address properly when port sec is disabled\n\nPrevious to this patch, the 'unknown' address was added to the\nOVN Logical_Switch_Port row. However, the '<ip> <mac1> <macN>'\nwas still there so the port security was not really disabled.\n\nThe correct behavior is to set the 'addresses' field to 'unknown'\nand remove everything else.\n\nChange-Id: I0b84f41865e3fdea49cf169df5431249c35f5ff8\nCloses-Bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 03b87ad963d5d8165a92e5c7c284c1517333dd00)\n""}, {'number': 2, 'created': '2020-02-19 14:06:45.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/488623dfda040e88f346bb852de83a1947e0ee96', 'message': ""[OVN] Set 'unknown' address properly when port sec is disabled\n\nPrevious to this patch, the 'unknown' address was added to the\nOVN Logical_Switch_Port row. However, the '<ip> <mac1> <macN>'\nwas still there so the port security was not really disabled.\n\nThe correct behavior is to set the 'addresses' field to 'unknown'\nand remove everything else.\n\nChange-Id: I0b84f41865e3fdea49cf169df5431249c35f5ff8\nCloses-Bug: #1728886\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 03b87ad963d5d8165a92e5c7c284c1517333dd00)\n""}]",0,708330,488623dfda040e88f346bb852de83a1947e0ee96,18,5,2,24791,,,0,"[OVN] Set 'unknown' address properly when port sec is disabled

Previous to this patch, the 'unknown' address was added to the
OVN Logical_Switch_Port row. However, the '<ip> <mac1> <macN>'
was still there so the port security was not really disabled.

The correct behavior is to set the 'addresses' field to 'unknown'
and remove everything else.

Change-Id: I0b84f41865e3fdea49cf169df5431249c35f5ff8
Closes-Bug: #1728886
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 03b87ad963d5d8165a92e5c7c284c1517333dd00)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/30/708330/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/common/maintenance.py']",3,cd549b20c068f636f49c819faafc837afe8a9e2e,, addresses = [ovn_const.UNKNOWN_ADDR], addresses.append(ovn_const.UNKNOWN_ADDR),12,8
openstack%2Fneutron~master~I72eb938008903d23226f0445e9098185a9bfcb3c,openstack/neutron,master,I72eb938008903d23226f0445e9098185a9bfcb3c,[OVN] Enable Internal DNS functionality,ABANDONED,2020-02-21 11:31:39.000000000,2020-03-05 08:12:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-21 11:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9759ad49b6caf30cea7d146672442d24e548cba9', 'message': '[WIP] Enable Internal DNS functionality\n\nInternal DNS for OVN should work, lets enable it.\n\nChange-Id: I72eb938008903d23226f0445e9098185a9bfcb3c\n'}, {'number': 2, 'created': '2020-02-24 08:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3ebc9bee3a3d15aa492f302c0dd8717d4c89bc4', 'message': 'Enable Internal DNS functionality\n\nInternal DNS for OVN should work, lets enable it.\n\nChange-Id: I72eb938008903d23226f0445e9098185a9bfcb3c\n'}, {'number': 3, 'created': '2020-03-02 10:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2190f6af68fdda65c89fcb082aa693ccfeb00f9', 'message': 'Enable Internal DNS functionality\n\nInternal DNS for OVN should work, lets enable it.\n\nChange-Id: I72eb938008903d23226f0445e9098185a9bfcb3c\n'}, {'number': 4, 'created': '2020-03-05 08:00:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a7b2ac8ca0c4661f0b66b6b6549659b2b6c77ccb', 'message': '[OVN] Enable Internal DNS functionality\n\nInternal DNS for OVN should work, lets enable it.\n\nChange-Id: I72eb938008903d23226f0445e9098185a9bfcb3c\n'}, {'number': 5, 'created': '2020-03-05 08:10:37.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a85423d207d7f0555b6d8ab71f9436ad81e82a6f', 'message': '[OVN] Enable Internal DNS functionality\n\nInternal DNS for OVN should work, lets enable it.\n\nChange-Id: I72eb938008903d23226f0445e9098185a9bfcb3c\n'}]",0,709111,a85423d207d7f0555b6d8ab71f9436ad81e82a6f,23,3,5,24791,,,0,"[OVN] Enable Internal DNS functionality

Internal DNS for OVN should work, lets enable it.

Change-Id: I72eb938008903d23226f0445e9098185a9bfcb3c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/709111/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,9759ad49b6caf30cea7d146672442d24e548cba9,, q-dns: true,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I01b22b6e13d17887fb30cca3c51c245b71530f2d,openstack/tripleo-common,stable/train,I01b22b6e13d17887fb30cca3c51c245b71530f2d,Fix memcached healthcheck regression,MERGED,2020-03-04 21:15:51.000000000,2020-03-05 08:04:44.000000000,2020-03-05 08:03:14.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 21:15:51.000000000', 'files': ['healthcheck/memcached'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc3a2a511d49b5838f404aaeefe6dec7b5d6f243', 'message': 'Fix memcached healthcheck regression\n\nsource common.sh to use the wrap_ipv6() function.\n\nMissed in https://review.opendev.org/#/c/707263/\n\nChange-Id: I01b22b6e13d17887fb30cca3c51c245b71530f2d\nCloses-Bug: #1866048\n(cherry picked from commit 7e5b011946a170219ad245499e9b0eace9742cb2)\n'}]",0,711340,dc3a2a511d49b5838f404aaeefe6dec7b5d6f243,9,5,1,14985,,,0,"Fix memcached healthcheck regression

source common.sh to use the wrap_ipv6() function.

Missed in https://review.opendev.org/#/c/707263/

Change-Id: I01b22b6e13d17887fb30cca3c51c245b71530f2d
Closes-Bug: #1866048
(cherry picked from commit 7e5b011946a170219ad245499e9b0eace9742cb2)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/711340/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/memcached'],1,dc3a2a511d49b5838f404aaeefe6dec7b5d6f243,,. ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh,,1,0
openstack%2Ftripleo-quickstart-extras~master~I1e4d525e840401be2ee876d63b75b6adb50ba35f,openstack/tripleo-quickstart-extras,master,I1e4d525e840401be2ee876d63b75b6adb50ba35f,Remove unnecessary yum calls,MERGED,2020-03-03 11:30:35.000000000,2020-03-05 08:03:15.000000000,2020-03-05 08:03:15.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 11:30:35.000000000', 'files': ['playbooks/prepare-slave.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1bd05da18babb287c659fb06bd0781726877f844', 'message': ""Remove unnecessary yum calls\n\nWhile running this in centos8, we remove also\ncritical packages. Let's remove this legacy yum calls.\nChange-Id: I1e4d525e840401be2ee876d63b75b6adb50ba35f\n""}]",2,710982,1bd05da18babb287c659fb06bd0781726877f844,31,6,1,10969,,,0,"Remove unnecessary yum calls

While running this in centos8, we remove also
critical packages. Let's remove this legacy yum calls.
Change-Id: I1e4d525e840401be2ee876d63b75b6adb50ba35f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/82/710982/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/prepare-slave.yml'],1,1bd05da18babb287c659fb06bd0781726877f844,ovb_centos8,, sudo yum remove -y puppet hiera puppetlabs-release rdo-release centos-release-[a-z]*;,0,1
openstack%2Ftacker~master~I8e7cc4367002724f9ff00a623f7722e915ca1333,openstack/tacker,master,I8e7cc4367002724f9ff00a623f7722e915ca1333,Ping monitor ignores retry parameter,MERGED,2020-02-04 07:32:44.000000000,2020-03-05 07:36:10.000000000,2020-03-05 07:34:11.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2020-02-04 07:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d0d6312011969ecaa5e55bee19622f2e8eaca7c1', 'message': ""Ping monitor ignores retry parameter\n\nNow Tacker ping monitor do not retry even in 'retry' parameter is\nspecified like described in [1]. In addition, description about ping\nmonitor in [1] is incorrect.\n\nThis patch fixes above problems.\n\n[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html\n\nChange-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333\nCloses-Bug: #1861774\n""}, {'number': 2, 'created': '2020-02-05 01:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4bec047e375678747b6d2dc72b205c85268a2ae3', 'message': ""Ping monitor ignores retry parameter\n\nNow Tacker ping monitor do not retry even in 'retry' parameter is\nspecified like described in [1]. In addition, description about ping\nmonitor in [1] is incorrect.\n\nThis patch fixes above problems.\n\n[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html\n\nChange-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333\nCloses-Bug: #1861774\n""}, {'number': 3, 'created': '2020-02-05 07:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/cce366ab468d8b23450c3fce6ef9a5afe2f57491', 'message': ""Ping monitor ignores retry parameter\n\nNow Tacker ping monitor do not retry even in 'retry' parameter is\nspecified like described in [1]. In addition, description about ping\nmonitor in [1] is incorrect.\n\nThis patch fixes above problems.\n\n[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html\n\nChange-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333\nCloses-Bug: #1861774\n""}, {'number': 4, 'created': '2020-02-06 02:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ec853117b0506dd59a5823c31197aff396e83516', 'message': ""Ping monitor ignores retry parameter\n\nNow Tacker ping monitor do not retry even in 'retry' parameter is\nspecified like described in [1]. In addition, description about ping\nmonitor in [1] is incorrect.\n\nThis patch fixes above problems.\n\n[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html\n\nChange-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333\nCloses-Bug: #1861774\n""}, {'number': 5, 'created': '2020-02-06 08:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/85efc0de86410ee316abe48ba7ef0893ff499677', 'message': ""Ping monitor ignores retry parameter\n\nNow Tacker ping monitor do not retry even in 'retry' parameter is\nspecified like described in [1]. In addition, description about ping\nmonitor in [1] is incorrect.\n\nThis patch fixes above problems.\n\n[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html\n\nChange-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333\nCloses-Bug: #1861774\n""}, {'number': 6, 'created': '2020-02-25 08:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6ab0a9058fa8711846dec81d678b2991ab0453ef', 'message': ""Ping monitor ignores retry parameter\n\nNow Tacker ping monitor do not retry even in 'retry' parameter is\nspecified like described in [1]. In addition, description about ping\nmonitor in [1] is incorrect.\n\nThis patch fixes above problems.\n\n[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html\n\nChange-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333\nCloses-Bug: #1861774\n""}, {'number': 7, 'created': '2020-02-25 09:06:53.000000000', 'files': ['doc/source/contributor/monitor-api.rst', 'tacker/vnfm/monitor_drivers/ping/ping.py', 'tacker/tests/unit/vnfm/monitor_drivers/ping/test_ping.py', 'doc/source/contributor/vnfd_template_description.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/364ce6921ee8d3c5aeb00aa948b96462027089e0', 'message': ""Ping monitor ignores retry parameter\n\nNow Tacker ping monitor do not retry even in 'retry' parameter is\nspecified like described in [1]. In addition, description about ping\nmonitor in [1] is incorrect.\n\nThis patch fixes above problems.\n\n[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html\n\nChange-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333\nCloses-Bug: #1861774\n""}]",8,705611,364ce6921ee8d3c5aeb00aa948b96462027089e0,27,4,7,26588,,,0,"Ping monitor ignores retry parameter

Now Tacker ping monitor do not retry even in 'retry' parameter is
specified like described in [1]. In addition, description about ping
monitor in [1] is incorrect.

This patch fixes above problems.

[1] https://docs.openstack.org/tacker/latest/contributor/vnfd_template_description.html

Change-Id: I8e7cc4367002724f9ff00a623f7722e915ca1333
Closes-Bug: #1861774
",git fetch https://review.opendev.org/openstack/tacker refs/changes/11/705611/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/monitor-api.rst', 'tacker/vnfm/monitor_drivers/ping/ping.py', 'tacker/tests/unit/vnfm/monitor_drivers/ping/test_ping.py', 'doc/source/contributor/vnfd_template_description.rst']",4,d0d6312011969ecaa5e55bee19622f2e8eaca7c1,bug/1861774," A VDU can be monitored by pinging it. The following VNFD pings VDU1 with 3 ECHO packet counts, 0.2 second intervals and 2 second timeout options. Ping is attempted up to 6 times unless it returns an exit code 0. On VDU2, Tacker tries to open http://<VDU2_mgmt_ip>:<port> with 2 second timeout and 6 retries. The VDUs can be re-spawned in case of failure. See :doc:`monitor-api.rst` for more information. interval: 0.2 retry: 6 VDU2: type: tosca.nodes.nfv.VDU.Tacker properties: monitoring_policy: name: http-ping parameters: monitoring_delay: 20 timeout: 2 port: 80 actions: failure: respawn",A VDU can be monitored by pinging it on port 22 for 3 times at an interval of 2 seconds every 20 seconds. Number of retries be 6 and timeout of 2 seconds. It can be re-spawned in case ping fails. This is described under **monitoring_policy**. interval: 2 port: 22,91,28
openstack%2Ftripleo-ci~master~I247bf8fd239b56d94182c0996923ad46de106f3d,openstack/tripleo-ci,master,I247bf8fd239b56d94182c0996923ad46de106f3d,Added tripleo-ci-centos-8-undercloud-oooq,ABANDONED,2020-03-03 05:25:04.000000000,2020-03-05 07:18:26.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 05:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6b63c8aa5df9d15b601a17aa2a85045b4990ac7a', 'message': 'Added tripleo-ci-centos-8-undercloud-containers\n\nChange-Id: I247bf8fd239b56d94182c0996923ad46de106f3d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-03-03 05:38:37.000000000', 'files': ['zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/452e7f78e2f236ffe996256d48a516a5e62ad9aa', 'message': 'Added tripleo-ci-centos-8-undercloud-oooq\n\nChange-Id: I247bf8fd239b56d94182c0996923ad46de106f3d\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",2,710906,452e7f78e2f236ffe996256d48a516a5e62ad9aa,9,7,2,12393,,,0,"Added tripleo-ci-centos-8-undercloud-oooq

Change-Id: I247bf8fd239b56d94182c0996923ad46de106f3d
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/06/710906/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/undercloud-jobs.yaml'],1,6b63c8aa5df9d15b601a17aa2a85045b4990ac7a,c8minion, - tripleo-ci-centos-8-undercloud-containers: irrelevant-files: *undercloud_ignored - tripleo-ci-centos-8-undercloud-containers: irrelevant-files: *undercloud_ignored branches: ^(stable/(pike|queens|rocky|stein|train)).*$ # CentOS-8 Jobs - job: name: tripleo-ci-centos-8-undercloud-containers parent: tripleo-ci-base-singlenode-centos-8 nodeset: single-centos-8-node voting: false branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$ vars: featureset: '027' , branches: ^(?!stable/(newton|ocata|pike|queens)).*$,18,1
openstack%2Fcyborg~master~I3e824acb6f8b9a14b56d4ae6899f1c217bcca5fe,openstack/cyborg,master,I3e824acb6f8b9a14b56d4ae6899f1c217bcca5fe,Update cpid_type allowed values in db schema,ABANDONED,2020-02-22 10:22:37.000000000,2020-03-05 07:11:43.000000000,,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2020-02-22 10:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/f0c914376478f79e3393f1c3b31e559bd1d9fe4f', 'message': 'Add cpid_type to db schema\n\nEnumeration values of cpid_type in db schema should be (""PCI"", ""MDEV""),\nbut current value is only ""PCI"". This patch fixes this.\n\nChange-Id: I3e824acb6f8b9a14b56d4ae6899f1c217bcca5fe\n'}, {'number': 2, 'created': '2020-02-24 06:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2c577f6de7c5f05ab44d382026b874a170c13e21', 'message': 'Update cpid_type allowed values in db schema\n\nEnumeration values of cpid_type in db schema should be (""PCI"", ""MDEV""),\nbut current value is only ""PCI"". This patch fixes this.\n\nChange-Id: I3e824acb6f8b9a14b56d4ae6899f1c217bcca5fe\n'}, {'number': 3, 'created': '2020-02-24 09:43:25.000000000', 'files': ['cyborg/common/constants.py', 'cyborg/db/sqlalchemy/alembic/versions/011_add_cpid_type.py', 'cyborg/objects/control_path.py', 'cyborg/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c49b5fb9bb7c0a644733cb7244453edce82face3', 'message': 'Update cpid_type allowed values in db schema\n\nEnumeration values of cpid_type in db schema should be (""PCI"", ""MDEV""),\nbut current value is only ""PCI"". This patch fixes this.\n\nChange-Id: I3e824acb6f8b9a14b56d4ae6899f1c217bcca5fe\n'}]",0,709286,c49b5fb9bb7c0a644733cb7244453edce82face3,12,9,3,24872,,,0,"Update cpid_type allowed values in db schema

Enumeration values of cpid_type in db schema should be (""PCI"", ""MDEV""),
but current value is only ""PCI"". This patch fixes this.

Change-Id: I3e824acb6f8b9a14b56d4ae6899f1c217bcca5fe
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/86/709286/3 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/common/constants.py', 'cyborg/db/sqlalchemy/alembic/versions/011_add_cpid_type.py', 'cyborg/objects/control_path.py', 'cyborg/db/sqlalchemy/models.py']",4,f0c914376478f79e3393f1c3b31e559bd1d9fe4f,gpu-driver-improve," cpid_type = Column(Enum('PCI', 'MDEV', name='cpid_type'), nullable=False)"," cpid_type = Column(Enum('PCI', name='cpid_type'), nullable=False)",32,5
openstack%2Fswift~master~I7eaa012ba938eaa7fc22837c32007d1b7ae99709,openstack/swift,master,I7eaa012ba938eaa7fc22837c32007d1b7ae99709,sharding: filter shards based on prefix param when listing,MERGED,2020-02-05 16:38:25.000000000,2020-03-05 06:55:06.000000000,2020-03-05 06:53:05.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-05 16:38:25.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/09b7ed600bfda6f708db85cd850c0539c3448a0a', 'message': 'sharding: filter shards based on prefix param when listing\n\nOtherwise, we make a bunch of backend requests where we have no\nreal expectation of finding data.\n\nChange-Id: I7eaa012ba938eaa7fc22837c32007d1b7ae99709\n'}]",3,706010,09b7ed600bfda6f708db85cd850c0539c3448a0a,31,5,1,15343,,,0,"sharding: filter shards based on prefix param when listing

Otherwise, we make a bunch of backend requests where we have no
real expectation of finding data.

Change-Id: I7eaa012ba938eaa7fc22837c32007d1b7ae99709
",git fetch https://review.opendev.org/openstack/swift refs/changes/10/706010/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/proxy/controllers/container.py']",2,09b7ed600bfda6f708db85cd850c0539c3448a0a,, prefix = wsgi_to_str(params.get('prefix')) if prefix: if prefix > shard_range: continue try: just_past = prefix[:-1] + chr(ord(prefix[-1]) + 1) except ValueError: pass else: if just_past < shard_range: continue ,,38,0
openstack%2Fneutron~master~I07c081d1984b26a10a4d854d17117cfeaac7f8ac,openstack/neutron,master,I07c081d1984b26a10a4d854d17117cfeaac7f8ac,Change way of retrieving LSP in virtual_port functional tests,MERGED,2020-03-02 09:05:25.000000000,2020-03-05 06:55:04.000000000,2020-03-05 06:53:00.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-02 09:05:25.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/08132e213d90772af3a2e34b62a8094ec86ab06e', 'message': ""Change way of retrieving LSP in virtual_port functional tests\n\nSometimes we had a situation, where Logical_Switch_Port type\nreceived by IDL had a different type, that type set in the\nNBDB. We changed the way we retrieve the LS from DB, to not\nloop over rows in table, but call db_find_rows() instead.\nWith this change after about 40 retries of functional tests we\ndon't spot the same issue again.\n\nChange-Id: I07c081d1984b26a10a4d854d17117cfeaac7f8ac\nRelated-Bug: 1862618\n""}]",0,710722,08132e213d90772af3a2e34b62a8094ec86ab06e,29,6,1,24791,,,0,"Change way of retrieving LSP in virtual_port functional tests

Sometimes we had a situation, where Logical_Switch_Port type
received by IDL had a different type, that type set in the
NBDB. We changed the way we retrieve the LS from DB, to not
loop over rows in table, but call db_find_rows() instead.
With this change after about 40 retries of functional tests we
don't spot the same issue again.

Change-Id: I07c081d1984b26a10a4d854d17117cfeaac7f8ac
Related-Bug: 1862618
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/710722/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py'],1,08132e213d90772af3a2e34b62a8094ec86ab06e,," cmd = self.nb_api.db_find_rows( 'Logical_Switch_Port', ('name', '=', port_id)) rows = cmd.execute(check_error=True) return rows[0] if rows else None", for row in self.nb_api._tables['Logical_Switch_Port'].rows.values(): if row.name == port_id: return row,4,3
openstack%2Frequirements~master~I5d3267f1af871506d2664fe84a6685678d699f31,openstack/requirements,master,I5d3267f1af871506d2664fe84a6685678d699f31,Exclude pyghmi 1.5.11 since it breaks VirtualBMC,MERGED,2020-03-04 10:14:41.000000000,2020-03-05 06:54:36.000000000,2020-03-05 06:53:03.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-04 10:14:41.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/2b3404d25ddd717cf1051fe94abe0c0a509d136c', 'message': 'Exclude pyghmi 1.5.11 since it breaks VirtualBMC\n\nChange-Id: I5d3267f1af871506d2664fe84a6685678d699f31\nRelated-Bug: #1865987\n'}]",0,711193,2b3404d25ddd717cf1051fe94abe0c0a509d136c,15,6,1,10239,,,0,"Exclude pyghmi 1.5.11 since it breaks VirtualBMC

Change-Id: I5d3267f1af871506d2664fe84a6685678d699f31
Related-Bug: #1865987
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/711193/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,2b3404d25ddd717cf1051fe94abe0c0a509d136c,pyghmi,"pyghmi!=1.4.0,!=1.5.11 # Apache-2.0",pyghmi!=1.4.0 # Apache-2.0,1,1
openstack%2Fopenstack-health~master~I50c96add405e7b9862c892f20459b602ebca9c8b,openstack/openstack-health,master,I50c96add405e7b9862c892f20459b602ebca9c8b,DNM: Test nodejs job,ABANDONED,2020-03-04 03:33:29.000000000,2020-03-05 06:47:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-03-04 03:33:29.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/26049707320a91de2e70ab660843198d6a62e302', 'message': 'DNM: Test nodejs job\n\nChange-Id: I50c96add405e7b9862c892f20459b602ebca9c8b\n'}]",0,711155,26049707320a91de2e70ab660843198d6a62e302,3,1,1,29313,,,0,"DNM: Test nodejs job

Change-Id: I50c96add405e7b9862c892f20459b602ebca9c8b
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/55/711155/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,26049707320a91de2e70ab660843198d6a62e302,,,,1,0
openstack%2Fcinder~master~I2a8a3127ce42b11ff5427ac16ea76ab1854aecf6,openstack/cinder,master,I2a8a3127ce42b11ff5427ac16ea76ab1854aecf6,Imported Translations from Zanata,MERGED,2020-02-28 07:17:28.000000000,2020-03-05 06:38:47.000000000,2020-02-28 16:09:44.000000000,"[{'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-02-28 07:17:28.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6f6ee1146d51c312d25de3d8e866940b01bc716', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2a8a3127ce42b11ff5427ac16ea76ab1854aecf6\n'}]",0,710403,c6f6ee1146d51c312d25de3d8e866940b01bc716,28,22,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2a8a3127ce42b11ff5427ac16ea76ab1854aecf6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/710403/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/locale/ja/LC_MESSAGES/cinder.po'],1,c6f6ee1146d51c312d25de3d8e866940b01bc716,zanata/translations,"""POT-Creation-Date: 2020-02-27 21:29+0000\n""msgid ""Host attach volume failed!"" msgstr ""ホストへのボリュームの接続に失敗しました。"" ","""POT-Creation-Date: 2020-02-19 01:28+0000\n""",4,1
openstack%2Fcinder~stable%2Fstein~If39bf731494155f040b5f0f1c38da0e406e2cb62,openstack/cinder,stable/stein,If39bf731494155f040b5f0f1c38da0e406e2cb62,Add MacroSAN cinder driver,ABANDONED,2020-03-02 05:08:17.000000000,2020-03-05 06:19:42.000000000,,"[{'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29620}]","[{'number': 1, 'created': '2020-03-02 05:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/431abc326c02ecf820a8cf15d24cf6db09414af4', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nChange-Id: If39bf731494155f040b5f0f1c38da0e406e2cb62\n'}, {'number': 2, 'created': '2020-03-02 06:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8edc1570e883a80a1ccd4928a797a6b2011d6b42', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n* Revert to snapshot\n* MultiAttach\n* Thin Provisioning\n* Consistency Groups\n* volume replication\n* Qos\n* Attach Snapshot\n* Online Extend Support\nThis patchset includes the unit tests.\n\nChange-Id: If39bf731494155f040b5f0f1c38da0e406e2cb62\n'}, {'number': 3, 'created': '2020-03-03 05:51:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0ca8af0a8ec39f87d63fa292372e041d5ec5ef9', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n* Revert to snapshot\n* MultiAttach\n* Thin Provisioning\n* Consistency Groups\n* volume replication\n* Qos\n* Attach Snapshot\n* Online Extend Support\n\nThis patchset includes the unit tests.\n\nChange-Id: If39bf731494155f040b5f0f1c38da0e406e2cb62\n'}, {'number': 4, 'created': '2020-03-04 02:28:22.000000000', 'files': ['cinder/opts.py', 'cinder/volume/drivers/macrosan/__init__.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/macrosan/devop_client.py', 'cinder/volume/drivers/macrosan/config.py', 'doc/source/configuration/block-storage/drivers/MacroSAN-storage-driver.rst', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/tests/unit/test_macrosan_drivers.py', 'releasenotes/notes/MacroSAN-volume-driver-44ef6e1727e5b863.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e507b71cbda1cbe0079186a230dd1163e1e11260', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n* Revert to snapshot\n* MultiAttach\n* Thin Provisioning\n* Consistency Groups\n* volume replication\n* Qos\n* Attach Snapshot\n* Online Extend Support\n\nThis patchset includes the unit tests.\n\nChange-Id: If39bf731494155f040b5f0f1c38da0e406e2cb62\n'}]",0,710695,e507b71cbda1cbe0079186a230dd1163e1e11260,47,11,4,29620,,,0,"Add MacroSAN cinder driver

This driver supports below features:
* Volume Create/Delete
* Volume Attach/Detach
* Snapshot Create/Delete
* Create Volume from Snapshot
* Copy Image to Volume
* Copy Volume to Image
* Clone Volume
* Extend volume
* Volume Migration
* Revert to snapshot
* MultiAttach
* Thin Provisioning
* Consistency Groups
* volume replication
* Qos
* Attach Snapshot
* Online Extend Support

This patchset includes the unit tests.

Change-Id: If39bf731494155f040b5f0f1c38da0e406e2cb62
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/710695/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/macrosan/__init__.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/macrosan/devop_client.py', 'cinder/volume/drivers/macrosan/config.py', 'doc/source/configuration/block-storage/drivers/MacroSAN-storage-driver.rst', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/tests/unit/test_macrosan_drivers.py', 'releasenotes/notes/MacroSAN-volume-driver-44ef6e1727e5b863.yaml']",8,431abc326c02ecf820a8cf15d24cf6db09414af4,victoria-drivers,--- features: - Added MacroSAN drivers that allows cinder to manage volumes in ISCSI and FC environment ,,4650,0
openstack%2Fcyborg~master~I398db324563ecdb6e8fe0abb86fd02c1336b467f,openstack/cyborg,master,I398db324563ecdb6e8fe0abb86fd02c1336b467f,"Revert ""Solve py37 timeout""",MERGED,2020-02-18 15:54:27.000000000,2020-03-05 06:11:04.000000000,2020-03-05 06:07:36.000000000,"[{'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-02-18 15:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4a2b5cf389aabc0702e137e8fcdc6cc4a1819464', 'message': '[WIP] Revert ""Solve py37 timeout""\n\nStill not find a good solution.\nThis reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.\n\nThe whole history of timeout can be 3 stage:\n1. After we enable py37 there are some random timeout as follow:\nhttps://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM\nhttps://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM\nhttps://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,\n  Oct 29 9:11 AM, Oct 29 12:05 PM\nhttps://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,\n   Nov 14 7:42 AM\nhttps://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM\nhttps://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM\n\n2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared\nfor a while. This patch is merged on Nov 19 5:05 PM.\nThis patch set a wrong python path evn.\n\n3. After another patch https://review.opendev.org/#/c/696397， timeout\ncomes out again.\nThe intention of this patch is to suppress confusing pep8 message, but\nit also fix python path evn unintentionally.\n\nThe thread pool lib always loop to check if there are new jobs.\nThe action of testunit framework in py37 is different with py36. If\nthere are thread pool run, the testunit will never return.\n\nyou can a simple test as follow in this file:\ndef job1(t1=0):\n    print(time.time())\n    print(""sleep %s second"" % t1)\n    time.sleep(t1)\n    print(time.time())\n    return ""Hello, world""\n\nclass TestExtARQObject(base.DbTestCase):\n    def test_foo(self):\n        print(""Test Foo"")\n\n    def test_bar(self):\n        print(""Test bar"")\n\n    def test_apply_patch_fpga_arq_monitor_job(self):\n        works = utils.ThreadWorks()\n        job = works.spawn(job1, 1)\n        return job\n\nChange-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f\n'}, {'number': 2, 'created': '2020-02-19 14:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4665aa03ae3ad03db30cdfdcfe2e94e6225a6f5d', 'message': 'Revert ""Solve py37 timeout""\n\nStill not find a good solution.\nThis reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.\n\nThe whole history of timeout can be 3 stage:\n1. After we enable py37 there are some random timeout as follow:\nhttps://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM\nhttps://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM\nhttps://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,\n  Oct 29 9:11 AM, Oct 29 12:05 PM\nhttps://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,\n   Nov 14 7:42 AM\nhttps://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM\nhttps://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM\n\n2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared\nfor a while. This patch is merged on Nov 19 5:05 PM.\nThis patch set a wrong python path evn.\n\n3. After another patch https://review.opendev.org/#/c/696397， timeout\ncomes out again.\nThe intention of this patch is to suppress confusing pep8 message, but\nit also fix python path evn unintentionally.\n\nThe thread pool lib always loop to check if there are new jobs.\nThe action of testunit framework in py37 is different with py36. If\nthere are thread pool run, the testunit will never return.\n\nyou can a simple test as follow in this file:\ndef job1(t1=0):\n    print(time.time())\n    print(""sleep %s second"" % t1)\n    time.sleep(t1)\n    print(time.time())\n    return ""Hello, world""\n\nclass TestExtARQObject(base.DbTestCase):\n    def test_foo(self):\n        print(""Test Foo"")\n\n    def test_bar(self):\n        print(""Test bar"")\n\n    def test_apply_patch_fpga_arq_monitor_job(self):\n        works = utils.ThreadWorks()\n        job = works.spawn(job1, 1)\n        return job\n\nChange-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f\n'}, {'number': 3, 'created': '2020-02-19 14:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9bc20b402245d6c90f9e93edd914c6e131d9359f', 'message': 'Revert ""Solve py37 timeout""\n\nStill not find a good solution.\nThis reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.\n\nThe whole history of timeout can be 3 stage:\n1. After we enable py37 there are some random timeout as follow:\nhttps://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM\nhttps://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM\nhttps://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,\n  Oct 29 9:11 AM, Oct 29 12:05 PM\nhttps://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,\n   Nov 14 7:42 AM\nhttps://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM\nhttps://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM\n\n2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared\nfor a while. This patch is merged on Nov 19 5:05 PM.\nThis patch set a wrong python path evn.\n\n3. After another patch https://review.opendev.org/#/c/696397， timeout\ncomes out again.\nThe intention of this patch is to suppress confusing pep8 message, but\nit also fix python path evn unintentionally.\n\nThe thread pool lib always loop to check if there are new jobs.\nThe action of testunit framework in py37 is different with py36. If\nthere are thread pool run, the testunit will never return.\n\nyou can a simple test as follow in this file:\ndef job1(t1=0):\n    print(time.time())\n    print(""sleep %s second"" % t1)\n    time.sleep(t1)\n    print(time.time())\n    return ""Hello, world""\n\nclass TestExtARQObject(base.DbTestCase):\n    def test_foo(self):\n        print(""Test Foo"")\n\n    def test_bar(self):\n        print(""Test bar"")\n\n    def test_apply_patch_fpga_arq_monitor_job(self):\n        works = utils.ThreadWorks()\n        job = works.spawn(job1, 1)\n        return job\n\nChange-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f\n'}, {'number': 4, 'created': '2020-02-19 14:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c6b72e8614fcdb6ef89683f8ec94bdbc91d8f117', 'message': 'Revert ""Solve py37 timeout""\n\nStill not find a good solution.\nThis reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.\n\nThe whole history of timeout can be 3 stage:\n1. After we enable py37 there are some random timeout as follow:\nhttps://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM\nhttps://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM\nhttps://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,\n  Oct 29 9:11 AM, Oct 29 12:05 PM\nhttps://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,\n   Nov 14 7:42 AM\nhttps://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM\nhttps://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM\n\n2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared\nfor a while. This patch is merged on Nov 19 5:05 PM.\nThis patch set a wrong python path evn.\n\n3. After another patch https://review.opendev.org/#/c/696397， timeout\ncomes out again.\nThe intention of this patch is to suppress confusing pep8 message, but\nit also fix python path evn unintentionally.\n\nThe thread pool lib always loop to check if there are new jobs.\nThe action of testunit framework in py37 is different with py36. If\nthere are thread pool run, the testunit will never return.\n\nyou can a simple test as follow in this file:\ndef job1(t1=0):\n    print(time.time())\n    print(""sleep %s second"" % t1)\n    time.sleep(t1)\n    print(time.time())\n    return ""Hello, world""\n\nclass TestExtARQObject(base.DbTestCase):\n    def test_foo(self):\n        print(""Test Foo"")\n\n    def test_bar(self):\n        print(""Test bar"")\n\n    def test_apply_patch_fpga_arq_monitor_job(self):\n        works = utils.ThreadWorks()\n        job = works.spawn(job1, 1)\n        return job\n\nChange-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f\n'}, {'number': 5, 'created': '2020-02-19 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/02f497801e75758c6c1820b68dbdfacf7846b146', 'message': 'Revert ""Solve py37 timeout""\n\nStill not find a good solution.\nThis reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.\n\nThe whole history of timeout can be 3 stage:\n1. After we enable py37 there are some random timeout as follow:\nhttps://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM\nhttps://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM\nhttps://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,\n  Oct 29 9:11 AM, Oct 29 12:05 PM\nhttps://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,\n   Nov 14 7:42 AM\nhttps://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM\nhttps://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM\n\n2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared\nfor a while. This patch is merged on Nov 19 5:05 PM.\nThis patch set a wrong python path evn.\n\n3. After another patch https://review.opendev.org/#/c/696397， timeout\ncomes out again.\nThe intention of this patch is to suppress confusing pep8 message, but\nit also fix python path evn unintentionally.\n\nThe thread pool lib always loop to check if there are new jobs.\nThe action of testunit framework in py37 is different with py36. If\nthere are thread pool run, the testunit will never return.\n\nyou can a simple test as follow in this file:\ndef job1(t1=0):\n    print(time.time())\n    print(""sleep %s second"" % t1)\n    time.sleep(t1)\n    print(time.time())\n    return ""Hello, world""\n\nclass TestExtARQObject(base.DbTestCase):\n    def test_foo(self):\n        print(""Test Foo"")\n\n    def test_bar(self):\n        print(""Test bar"")\n\n    def test_apply_patch_fpga_arq_monitor_job(self):\n        works = utils.ThreadWorks()\n        job = works.spawn(job1, 1)\n        return job\n\nChange-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f\n'}, {'number': 6, 'created': '2020-02-19 14:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/e232e461e7c6e3c973c637ab4d1c4eebc6c3fff0', 'message': 'Revert ""Solve py37 timeout""\n\nStill not find a good solution.\nThis reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.\n\nThe whole history of timeout can be 3 stage:\n1. After we enable py37 there are some random timeout as follow:\nhttps://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM\nhttps://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM\nhttps://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,\n  Oct 29 9:11 AM, Oct 29 12:05 PM\nhttps://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,\n   Nov 14 7:42 AM\nhttps://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM\nhttps://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM\n\n2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared\nfor a while. This patch is merged on Nov 19 5:05 PM.\nThis patch set a wrong python path evn.\n\n3. After another patch https://review.opendev.org/#/c/696397， timeout\ncomes out again.\nThe intention of this patch is to suppress confusing pep8 message, but\nit also fix python path evn unintentionally.\n\nThe thread pool lib always loop to check if there are new jobs.\nThe action of testunit framework in py37 is different with py36. If\nthere are thread pool run, the testunit will never return.\n\nyou can a simple test as follow in this file:\ndef job1(t1=0):\n    print(time.time())\n    print(""sleep %s second"" % t1)\n    time.sleep(t1)\n    print(time.time())\n    return ""Hello, world""\n\nclass TestExtARQObject(base.DbTestCase):\n    def test_foo(self):\n        print(""Test Foo"")\n\n    def test_bar(self):\n        print(""Test bar"")\n\n    def test_apply_patch_fpga_arq_monitor_job(self):\n        works = utils.ThreadWorks()\n        job = works.spawn(job1, 1)\n        return job\n\nChange-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f\n'}, {'number': 7, 'created': '2020-02-20 01:36:57.000000000', 'files': ['cyborg/tests/unit/objects/test_extarq.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d79ef4d6161b950e873ef19ee24f5ca0fcdc112f', 'message': 'Revert ""Solve py37 timeout""\n\nStill not find a good solution.\nThis reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.\n\nThe whole history of timeout can be 3 stage:\n1. After we enable py37 there are some random timeout as follow:\nhttps://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM\nhttps://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM\nhttps://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,\n  Oct 29 9:11 AM, Oct 29 12:05 PM\nhttps://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,\n   Nov 14 7:42 AM\nhttps://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM\nhttps://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM\n\n2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared\nfor a while. This patch is merged on Nov 19 5:05 PM.\nThis patch set a wrong python path evn.\n\n3. After another patch https://review.opendev.org/#/c/696397， timeout\ncomes out again.\nThe intention of this patch is to suppress confusing pep8 message, but\nit also fix python path evn unintentionally.\n\nThe thread pool lib always loop to check if there are new jobs.\nThe action of testunit framework in py37 is different with py36. If\nthere are thread pool run, the testunit will never return.\n\nyou can a simple test as follow in this file:\ndef job1(t1=0):\n    print(time.time())\n    print(""sleep %s second"" % t1)\n    time.sleep(t1)\n    print(time.time())\n    return ""Hello, world""\n\nclass TestExtARQObject(base.DbTestCase):\n    def test_foo(self):\n        print(""Test Foo"")\n\n    def test_bar(self):\n        print(""Test bar"")\n\n    def test_apply_patch_fpga_arq_monitor_job(self):\n        works = utils.ThreadWorks()\n        job = works.spawn(job1, 1)\n        return job\n\nChange-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f\n'}]",0,708431,d79ef4d6161b950e873ef19ee24f5ca0fcdc112f,18,4,7,14131,,,0,"Revert ""Solve py37 timeout""

Still not find a good solution.
This reverts commit 08af6012710fc9bbbec0f7936abd701d4eccf7db.

The whole history of timeout can be 3 stage:
1. After we enable py37 there are some random timeout as follow:
https://review.opendev.org/#/c/679406/  On Sep 19 11:30 AM
https://review.opendev.org/#/c/688239/  On Oct 12 3:31 PM
https://review.opendev.org/#/c/688231/  On Oct 28 11:38 PM,
  Oct 29 9:11 AM, Oct 29 12:05 PM
https://review.opendev.org/#/c/685542/  On Nov 14 12:31 AM,
   Nov 14 7:42 AM
https://review.opendev.org/#/c/691872/  On Oct 29 11:55 PM
https://review.opendev.org/#/c/690509/  On Nov 15 4:33 PM

2. After this https://review.opendev.org/#/c/688593/ timeout Disappeared
for a while. This patch is merged on Nov 19 5:05 PM.
This patch set a wrong python path evn.

3. After another patch https://review.opendev.org/#/c/696397， timeout
comes out again.
The intention of this patch is to suppress confusing pep8 message, but
it also fix python path evn unintentionally.

The thread pool lib always loop to check if there are new jobs.
The action of testunit framework in py37 is different with py36. If
there are thread pool run, the testunit will never return.

you can a simple test as follow in this file:
def job1(t1=0):
    print(time.time())
    print(""sleep %s second"" % t1)
    time.sleep(t1)
    print(time.time())
    return ""Hello, world""

class TestExtARQObject(base.DbTestCase):
    def test_foo(self):
        print(""Test Foo"")

    def test_bar(self):
        print(""Test bar"")

    def test_apply_patch_fpga_arq_monitor_job(self):
        works = utils.ThreadWorks()
        job = works.spawn(job1, 1)
        return job

Change-Id: I398db324563ecdb6e8fe0abb86fd02c1336b467f
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/31/708431/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/objects/test_extarq.py'],1,4a2b5cf389aabc0702e137e8fcdc6cc4a1819464,async-ut-v9," @mock.patch('openstack.connection.Connection') @mock.patch('cyborg.common.nova_client.NovaAPI.notify_binding') @mock.patch('cyborg.objects.ExtARQ._allocate_attach_handle') @mock.patch('cyborg.objects.ExtARQ.get') @mock.patch('cyborg.objects.ExtARQ.list') @mock.patch('cyborg.objects.ExtARQ.update_check_state') @mock.patch('cyborg.objects.deployable.Deployable.get_by_device_rp_uuid') @mock.patch('cyborg.common.utils.ThreadWorks.spawn_master') def test_apply_patch_fpga_arq_monitor_job( self, mock_master, mock_get_dep, mock_check_state, mock_list, mock_get, mock_attach_handle, mock_notify_bind, mock_conn): good_states = constants.ARQ_STATES_TRANSFORM_MATRIX[ constants.ARQ_BIND_STARTED] obj_extarq = self.fake_obj_extarqs[2] obj_fpga_extarq = self.fake_obj_fpga_extarqs[1] obj_fpga_extarq.state = self.fake_obj_fpga_extarqs[1] obj_extarq.arq.state = good_states[0] obj_fpga_extarq.arq.state = good_states[0] # TODO(Shaohe) we should control the state of arq to make # better testcase. # bound_extarq = copy.deepcopy(obj_extarq) # bound_extarq.arq.state = constants.ARQ_BOUND # mock_get.side_effect = [obj_extarq, bound_extarq] mock_get.side_effect = [obj_extarq, obj_fpga_extarq] mock_list.return_value = [obj_extarq] uuid = obj_extarq.arq.uuid instance_uuid = obj_extarq.arq.instance_uuid dep_uuid = self.deployable_uuids[0] fake_dep = fake_deployable.fake_deployable_obj(self.context, uuid=dep_uuid) mock_get_dep.return_value = fake_dep valid_fields = { uuid: {'hostname': obj_extarq.arq.hostname, 'device_rp_uuid': obj_extarq.arq.device_rp_uuid, 'instance_uuid': instance_uuid} } patch_list = { str(uuid): [ {""path"": ""/hostname"", ""op"": ""add"", ""value"": obj_extarq.arq.hostname}, {""path"": ""/device_rp_uuid"", ""op"": ""add"", ""value"": obj_extarq.arq.device_rp_uuid}, {""path"": ""/instance_uuid"", ""op"": ""add"", ""value"": instance_uuid} ] } objects.ExtARQ.apply_patch(self.context, patch_list, valid_fields) mock_master.assert_called_once() ",,51,0
openstack%2Fcyborg~master~Ibbcaac060b365cf3366e3b408a385d613b006dff,openstack/cyborg,master,Ibbcaac060b365cf3366e3b408a385d613b006dff,UT for job manager,MERGED,2019-12-24 11:19:14.000000000,2020-03-05 06:08:15.000000000,2020-03-05 06:05:54.000000000,"[{'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-12-24 11:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dc28d76229db876d56738c72ddfb217ccc06ebdc', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 2, 'created': '2020-01-16 11:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/fa63e673948c693f6ef8050308dd256c773dfa98', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 3, 'created': '2020-01-17 11:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/baa744a2ce2e81b43aeea90a2db804bf9e57cdd6', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 4, 'created': '2020-01-18 05:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c5c83fc1863c200427062db0c5d1634db0e44567', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 5, 'created': '2020-01-18 05:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4f74788434a71148f7ffbcb2b84a33b809e8e612', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 6, 'created': '2020-01-18 07:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7252701633c2f989d166b20327edae80c6c7144d', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 7, 'created': '2020-01-21 06:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9b6470cb1f31d6147641446247df185456cf30d3', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 8, 'created': '2020-01-21 07:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/28d50e68bc92c441122938903555a7186f032d60', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 9, 'created': '2020-02-16 14:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d92c0b099e1767a7e31405f65ad4a97851182387', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}, {'number': 10, 'created': '2020-02-18 15:46:19.000000000', 'files': ['cyborg/objects/device_profile.py', 'cyborg/tests/unit/objects/test_ext_arq_job.py', 'cyborg/tests/unit/fake_extarq.py', 'cyborg/objects/ext_arq.py', 'cyborg/tests/unit/api/controllers/v2/test_arqs.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/39b33b44cec401261d01d8302429353ed19dac54', 'message': 'UT for job manager\n\nFor we are consider to use Multiprocessing, so just submit partial of\nUTs.\n\nOther UTs will TBD.\n\nAlso fix some bugs when write UTs.\n\nAlso cover the follow Py3 compatibility:\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl\n    LOG.error(msg, e.message)\nAttributeError: \'AttributeError\' object has no attribute \'message\'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched\n    return func(*args, **keywargs)\n  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor\n    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl\n    output = method(self, *args, **kwargs)\n  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor\n    for _, (exc, tb), _, err in works_generator:\n  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator\n    f.exception_info(), f._result, f._state, e.message)\nAttributeError: \'Future\' object has no attribute \'exception_info\'\n\nChange-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff\n'}]",16,700504,39b33b44cec401261d01d8302429353ed19dac54,43,6,10,14131,,,0,"UT for job manager

For we are consider to use Multiprocessing, so just submit partial of
UTs.

Other UTs will TBD.

Also fix some bugs when write UTs.

Also cover the follow Py3 compatibility:
Traceback (most recent call last):
  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched
    return func(*args, **keywargs)
  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor
    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)
  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 432, in _impl
    LOG.error(msg, e.message)
AttributeError: 'AttributeError' object has no attribute 'message'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/usr/local/lib/python3.6/dist-packages/mock/mock.py"", line 1330, in patched
    return func(*args, **keywargs)
  File ""/opt/stack/cyborg/cyborg/tests/unit/objects/test_ext_arq_job.py"", line 293, in test_job_monitor
    objects.ext_arq.ExtARQ.job_monitor(self.context, works_generator, extarqs)
  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 430, in _impl
    output = method(self, *args, **kwargs)
  File ""/opt/stack/cyborg/cyborg/objects/extarq/ext_arq_job.py"", line 154, in job_monitor
    for _, (exc, tb), _, err in works_generator:
  File ""/opt/stack/cyborg/cyborg/common/utils.py"", line 333, in future_iterator
    f.exception_info(), f._result, f._state, e.message)
AttributeError: 'Future' object has no attribute 'exception_info'

Change-Id: Ibbcaac060b365cf3366e3b408a385d613b006dff
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/04/700504/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/db/sqlalchemy/api.py', 'cyborg/objects/device_profile.py', 'cyborg/tests/unit/objects/test_ext_arq_job.py', 'cyborg/common/exception.py', 'cyborg/tests/unit/fake_extarq.py', 'cyborg/objects/ext_arq.py']",6,dc28d76229db876d56738c72ddfb217ccc06ebdc,async-ut-v6," devprof = DeviceProfile.get_by_id(context, devprof_id) groups = devprof['groups']"," devprof = cls.dbapi.device_profile_get_by_id(context, devprof_id) # Get the device profile group obj_devprof = DeviceProfile.get_by_name(context, devprof['name']) groups = obj_devprof['groups']",105,7
openstack%2Fcyborg~master~I9c7ecb1c1556751c2517a9f6e967885fd2088f87,openstack/cyborg,master,I9c7ecb1c1556751c2517a9f6e967885fd2088f87,add testcases for async job bind,MERGED,2020-02-18 15:46:19.000000000,2020-03-05 06:07:36.000000000,2020-03-05 06:07:36.000000000,"[{'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-02-18 15:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ceb2ece7b17ef1c87f2313b6f393df4cd9f7ecb4', 'message': '[WIP] add testcases for async job bind\n\nChange-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87\n'}, {'number': 2, 'created': '2020-02-19 14:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4acadd90bd9e6705dcdb652f02a5d2af86f84605', 'message': 'add testcases for async job bind\n\nChange-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87\n'}, {'number': 3, 'created': '2020-02-19 14:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/87e172e96d1f2c75bc7bd13b31086e5ed0ba2ee5', 'message': 'add testcases for async job bind\n\nChange-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87\n'}, {'number': 4, 'created': '2020-02-19 14:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ae059a21049871a568747a7045121a29bdcbe8b4', 'message': 'add testcases for async job bind\n\nChange-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87\n'}, {'number': 5, 'created': '2020-02-19 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7eb2aa61504dc48fd799b830fb0f2be7fa5d682d', 'message': 'add testcases for async job bind\n\nChange-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87\n'}, {'number': 6, 'created': '2020-02-19 14:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/36f995c9b5fbb484c3b0d64364eca874beccac4c', 'message': 'add testcases for async job bind\n\nChange-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87\n'}, {'number': 7, 'created': '2020-02-20 01:36:00.000000000', 'files': ['cyborg/tests/unit/objects/test_ext_arq_job.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1345beb920827a756c6d1af927e8ad1d241e678f', 'message': 'add testcases for async job bind\n\nChange-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87\n'}]",0,708426,1345beb920827a756c6d1af927e8ad1d241e678f,18,5,7,14131,,,0,"add testcases for async job bind

Change-Id: I9c7ecb1c1556751c2517a9f6e967885fd2088f87
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/26/708426/5 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/objects/test_ext_arq_job.py'],1,ceb2ece7b17ef1c87f2313b6f393df4cd9f7ecb4,async-ut-v9," @mock.patch('cyborg.common.utils.ThreadWorks.get_workers_result') @mock.patch('cyborg.common.utils.ThreadWorks.spawn_master') def test_master_with_async_jobs(self, mock_spawn, mock_get_result): # There are async job, so will start to monitor the job status def job(context, deployable): pass works = utils.ThreadWorks() dep_uuid = self.deployable_uuids[0] fake_dep = fake_deployable.fake_deployable_obj(self.context, uuid=dep_uuid) arq_job_binds = { self.class_objects[""bitstream_program""]: works.spawn(job, self.context, fake_dep), self.class_objects[""function_program""]: works.spawn(job, self.context, fake_dep) } arq_binds = { self.class_objects[""gpu""]: None, self.class_objects[""no_program""]: None, } arq_binds.update(arq_job_binds) objects.ext_arq.ExtARQJobMixin.master(self.context, arq_binds) mock_get_result.return_value = ""Jobs_Generator"" mock_get_result.assert_called_once() mock_spawn.assert_called_once() def test_job_monitor_with_job_exception(self, mock_result): works = utils.ThreadWorks() err_job = works.spawn(lambda x: x / 0, 1) good_job = works.spawn(lambda x: x, 1) works_generator = works.get_workers_result( [err_job, good_job], timeout=CONF.bind_timeout) extarqs = [self.class_objects[""bitstream_program""], self.class_objects[""function_program""]] objects.ext_arq.ExtARQ.job_monitor( self.context, works_generator, extarqs) mock_result.assert_called_once_with(self.context, extarqs) @mock.patch('cyborg.objects.ext_arq.ExtARQJobMixin.check_bindings_result') def test_job_monitor_with_job_successful(self, mock_result): works = utils.ThreadWorks() job1 = works.spawn(lambda x: x, 1) job2 = works.spawn(lambda x: x, 2) works_generator = works.get_workers_result( [job1, job2], timeout=CONF.bind_timeout) extarqs = [self.class_objects[""bitstream_program""], self.class_objects[""function_program""]] objects.ext_arq.ExtARQ.job_monitor( self.context, works_generator, extarqs) mock_result.assert_called_once_with(self.context, extarqs) @mock.patch('cyborg.objects.ext_arq.ExtARQJobMixin.check_bindings_result') @mock.patch('cyborg.objects.ext_arq.ExtARQJobMixin.check_bindings_result') def test_job_monitor_with_empty_arq(self, mock_result): works = utils.ThreadWorks() good_job = works.spawn(lambda x: x, 1) works_generator = works.get_workers_result( [good_job], timeout=CONF.bind_timeout) extarqs = [] objects.ext_arq.ExtARQ.job_monitor( self.context, works_generator, extarqs) mock_result.assert_not_called() ",,69,0
openstack%2Fcyborg~master~I263f7222119d8d0c89cfc2a4758fe376ce1afd60,openstack/cyborg,master,I263f7222119d8d0c89cfc2a4758fe376ce1afd60,change default SimpleQueue to _PySimpleQueue for queue,MERGED,2020-02-19 14:01:08.000000000,2020-03-05 06:07:35.000000000,2020-03-05 06:07:35.000000000,"[{'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-02-19 14:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/4d8a311c80f7db50c31dc16f9fdfbce1e8384a5d', 'message': 'comment eventlet for unit test\n\npy3.7 deadlock with monkey patch of stdlib thread modules + use of\nThreadPoolExecutor\n\n3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it\nuses queue.Queue. No issue in 3.6\n\nThe python37 default SimpleQueue was implemented with C code, which will\ncause hang the main thread.\n\nCommit 2a71b8e introduce eventlet for unittest, but I did not find\nwhy we need it.\nCheck other project they also use ThreadPoolExecutor, but not all\nof them introduce eventlet.\n\nMaybe GreenThreadPoolExecutor is another solution.\n\nRef:\nThreadPoolExecutor\nhttps://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor\n\nSame isses about ThreadPoolExecutor and eventlet\nhttps://bugs.launchpad.net/designate/+bug/1782647\nhttps://github.com/eventlet/eventlet/issues/508\nhttps://github.com/gevent/gevent/pull/1253\nhttps://github.com/ClericPy/torequests/issues/10\nhttps://bugs.python.org/issue34173\nhttps://github.com/gevent/gevent/issues/1248\nhttps://github.com/gevent/gevent/issues/1251\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html\nhttps://www.gitmemory.com/issue/eventlet/eventlet/508/511101004\n\nChange-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60\n'}, {'number': 2, 'created': '2020-02-19 14:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/86af28599975024711eb68b30cdb72171f53b863', 'message': 'change default SimpleQueue of queue to _PySimpleQueue for unit test\n\npy3.7 deadlock with monkey patch of stdlib thread modules + use of\nThreadPoolExecutor\n\n3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it\nuses queue.Queue. No issue in 3.6\n\nThe python37 default SimpleQueue was implemented with C code, which will\ncause hang the main thread.\n\nCommit 2a71b8e introduce eventlet for unittest, but I did not find\nwhy we need it.\nCheck other project they also use ThreadPoolExecutor, but not all\nof them introduce eventlet.\n\nMaybe GreenThreadPoolExecutor is another solution.\n\nRef:\nThreadPoolExecutor\nhttps://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor\n\nSame isses about ThreadPoolExecutor and eventlet\nhttps://bugs.launchpad.net/designate/+bug/1782647\nhttps://github.com/eventlet/eventlet/issues/508\nhttps://github.com/gevent/gevent/pull/1253\nhttps://github.com/ClericPy/torequests/issues/10\nhttps://bugs.python.org/issue34173\nhttps://github.com/gevent/gevent/issues/1248\nhttps://github.com/gevent/gevent/issues/1251\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html\nhttps://www.gitmemory.com/issue/eventlet/eventlet/508/511101004\n\nChange-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60\n'}, {'number': 3, 'created': '2020-02-19 14:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9d2a9bddc623bf084a881436b54c5c3e6e8120d6', 'message': 'change default SimpleQueue to _PySimpleQueue for queue\n\npy3.7 deadlock with monkey patch of stdlib thread modules + use of\nThreadPoolExecutor\n\n3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it\nuses queue.Queue. No issue in 3.6\n\nThe python37 default SimpleQueue was implemented with C code, which will\ncause hang the main thread.\n\nCommit 2a71b8e introduce eventlet for unittest, but I did not find\nwhy we need it.\nCheck other project they also use ThreadPoolExecutor, but not all\nof them introduce eventlet.\n\nMaybe GreenThreadPoolExecutor is another solution.\n\nRef:\nThreadPoolExecutor\nhttps://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor\n\nSame isses about ThreadPoolExecutor and eventlet\nhttps://bugs.launchpad.net/designate/+bug/1782647\nhttps://github.com/eventlet/eventlet/issues/508\nhttps://github.com/gevent/gevent/pull/1253\nhttps://github.com/ClericPy/torequests/issues/10\nhttps://bugs.python.org/issue34173\nhttps://github.com/gevent/gevent/issues/1248\nhttps://github.com/gevent/gevent/issues/1251\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html\nhttps://www.gitmemory.com/issue/eventlet/eventlet/508/511101004\n\nChange-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60\n'}, {'number': 4, 'created': '2020-02-19 14:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/86293a451b2befafcd2a635e89c466fd39769d9a', 'message': 'change default SimpleQueue to _PySimpleQueue for queue\n\npy3.7 deadlock with monkey patch of stdlib thread modules + use of\nThreadPoolExecutor\n\n3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it\nuses queue.Queue. No issue in 3.6\n\nThe python37 default SimpleQueue was implemented with C code, which will\ncause hang the main thread.\n\nCommit 2a71b8e introduce eventlet for unittest, but I did not find\nwhy we need it.\nCheck other project they also use ThreadPoolExecutor, but not all\nof them introduce eventlet.\n\nMaybe GreenThreadPoolExecutor is another solution.\n\nRef:\nThreadPoolExecutor\nhttps://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor\n\nSame isses about ThreadPoolExecutor and eventlet\nhttps://bugs.launchpad.net/designate/+bug/1782647\nhttps://github.com/eventlet/eventlet/issues/508\nhttps://github.com/gevent/gevent/pull/1253\nhttps://github.com/ClericPy/torequests/issues/10\nhttps://bugs.python.org/issue34173\nhttps://github.com/gevent/gevent/issues/1248\nhttps://github.com/gevent/gevent/issues/1251\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html\nhttps://www.gitmemory.com/issue/eventlet/eventlet/508/511101004\n\nChange-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60\n'}, {'number': 5, 'created': '2020-02-19 14:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0773b89e6f2bf136e874bb1bc88c21a07dabc1d4', 'message': 'change default SimpleQueue to _PySimpleQueue for queue\n\npy3.7 deadlock with monkey patch of stdlib thread modules + use of\nThreadPoolExecutor\n\n3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it\nuses queue.Queue. No issue in 3.6\n\nThe python37 default SimpleQueue was implemented with C code, which will\ncause hang the main thread.\n\nCommit 2a71b8e introduce eventlet for unittest, but I did not find\nwhy we need it.\nCheck other project they also use ThreadPoolExecutor, but not all\nof them introduce eventlet.\n\nMaybe GreenThreadPoolExecutor is another solution.\n\nRef:\nThreadPoolExecutor\nhttps://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor\n\nSame isses about ThreadPoolExecutor and eventlet\nhttps://bugs.launchpad.net/designate/+bug/1782647\nhttps://github.com/eventlet/eventlet/issues/508\nhttps://github.com/gevent/gevent/pull/1253\nhttps://github.com/ClericPy/torequests/issues/10\nhttps://bugs.python.org/issue34173\nhttps://github.com/gevent/gevent/issues/1248\nhttps://github.com/gevent/gevent/issues/1251\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html\nhttps://www.gitmemory.com/issue/eventlet/eventlet/508/511101004\n\nChange-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60\n'}, {'number': 6, 'created': '2020-02-19 15:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1ee25bfbce28d11f40e2cc18840c32f0ad9b96f3', 'message': 'change default SimpleQueue to _PySimpleQueue for queue\n\npy3.7 deadlock with monkey patch of stdlib thread modules + use of\nThreadPoolExecutor\n\n3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it\nuses queue.Queue. No issue in 3.6\n\nThe python37 default SimpleQueue was implemented with C code, which will\ncause hang the main thread.\n\nCommit 2a71b8e introduce eventlet for unittest, but I did not find\nwhy we need it.\nCheck other project they also use ThreadPoolExecutor, but not all\nof them introduce eventlet.\n\nMaybe GreenThreadPoolExecutor is another solution.\n\nRef:\nThreadPoolExecutor\nhttps://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor\n\nSame isses about ThreadPoolExecutor and eventlet\nhttps://bugs.launchpad.net/designate/+bug/1782647\nhttps://github.com/eventlet/eventlet/issues/508\nhttps://github.com/gevent/gevent/pull/1253\nhttps://github.com/ClericPy/torequests/issues/10\nhttps://bugs.python.org/issue34173\nhttps://github.com/gevent/gevent/issues/1248\nhttps://github.com/gevent/gevent/issues/1251\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html\nhttps://www.gitmemory.com/issue/eventlet/eventlet/508/511101004\n\nChange-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60\n'}, {'number': 7, 'created': '2020-02-19 16:18:11.000000000', 'files': ['cyborg/common/utils.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/16ac71928deea9bc6e4f4d84c3a3a2b78f6e7367', 'message': 'change default SimpleQueue to _PySimpleQueue for queue\n\npy3.7 deadlock with monkey patch of stdlib thread modules + use of\nThreadPoolExecutor\n\n3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it\nuses queue.Queue. No issue in 3.6\n\nThe python37 default SimpleQueue was implemented with C code, which will\ncause hang the main thread.\n\nCommit 2a71b8e introduce eventlet for unittest, but I did not find\nwhy we need it.\nCheck other project they also use ThreadPoolExecutor, but not all\nof them introduce eventlet.\n\nMaybe GreenThreadPoolExecutor is another solution.\n\nRef:\nThreadPoolExecutor\nhttps://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor\n\nSame isses about ThreadPoolExecutor and eventlet\nhttps://bugs.launchpad.net/designate/+bug/1782647\nhttps://github.com/eventlet/eventlet/issues/508\nhttps://github.com/gevent/gevent/pull/1253\nhttps://github.com/ClericPy/torequests/issues/10\nhttps://bugs.python.org/issue34173\nhttps://github.com/gevent/gevent/issues/1248\nhttps://github.com/gevent/gevent/issues/1251\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html\nhttps://www.gitmemory.com/issue/eventlet/eventlet/508/511101004\n\nChange-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60\n'}]",2,708655,16ac71928deea9bc6e4f4d84c3a3a2b78f6e7367,19,5,7,14131,,,0,"change default SimpleQueue to _PySimpleQueue for queue

py3.7 deadlock with monkey patch of stdlib thread modules + use of
ThreadPoolExecutor

3.7, ThreadPoolExecuter was changed to use queue.SimpleQueue; on 3.6 it
uses queue.Queue. No issue in 3.6

The python37 default SimpleQueue was implemented with C code, which will
cause hang the main thread.

Commit 2a71b8e introduce eventlet for unittest, but I did not find
why we need it.
Check other project they also use ThreadPoolExecutor, but not all
of them introduce eventlet.

Maybe GreenThreadPoolExecutor is another solution.

Ref:
ThreadPoolExecutor
https://docs.python.org/3.7/library/concurrent.futures.html#threadpoolexecutor

Same isses about ThreadPoolExecutor and eventlet
https://bugs.launchpad.net/designate/+bug/1782647
https://github.com/eventlet/eventlet/issues/508
https://github.com/gevent/gevent/pull/1253
https://github.com/ClericPy/torequests/issues/10
https://bugs.python.org/issue34173
https://github.com/gevent/gevent/issues/1248
https://github.com/gevent/gevent/issues/1251
http://lists.openstack.org/pipermail/openstack-dev/2018-July/132473.html
https://www.gitmemory.com/issue/eventlet/eventlet/508/511101004

Change-Id: I263f7222119d8d0c89cfc2a4758fe376ce1afd60
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/55/708655/4 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/__init__.py'],1,4d8a311c80f7db50c31dc16f9fdfbce1e8384a5d,async-ut-v9,#import eventlet# eventlet.monkey_patch(os=False) # eventlet.monkey_patch(),import eventleteventlet.monkey_patch(os=False),3,2
openstack%2Fcyborg~master~Ib96686557c38e37c0bbeb50e141ff55284403786,openstack/cyborg,master,Ib96686557c38e37c0bbeb50e141ff55284403786,add testcase for check_bindings_result failed,MERGED,2020-01-21 07:07:50.000000000,2020-03-05 06:05:55.000000000,2020-03-05 06:05:55.000000000,"[{'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-01-21 07:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/94aa905b650cc64aa91c18db14f6f9379719de4b', 'message': 'add testcase for check_bindings_result failed\n\nChange-Id: Ib96686557c38e37c0bbeb50e141ff55284403786\n'}, {'number': 2, 'created': '2020-02-16 14:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/624c78b551f61ab29ba0786e81174e14cdb333c7', 'message': 'add testcase for check_bindings_result failed\n\nChange-Id: Ib96686557c38e37c0bbeb50e141ff55284403786\n'}, {'number': 3, 'created': '2020-02-18 15:46:19.000000000', 'files': ['cyborg/tests/unit/objects/test_ext_arq_job.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b123b100c06e0c647e1a352ae3b9486507a5ae8a', 'message': 'add testcase for check_bindings_result failed\n\nChange-Id: Ib96686557c38e37c0bbeb50e141ff55284403786\n'}]",0,703543,b123b100c06e0c647e1a352ae3b9486507a5ae8a,13,4,3,14131,,,0,"add testcase for check_bindings_result failed

Change-Id: Ib96686557c38e37c0bbeb50e141ff55284403786
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/43/703543/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/objects/test_ext_arq_job.py'],1,94aa905b650cc64aa91c18db14f6f9379719de4b,async-ut-v6," def test_check_bindings_result_with_arq_deleted( self, mock_list, mock_notify): extarqs = self.fake_obj_extarqs mock_list.return_value = self.fake_obj_fpga_extarqs device_profile_name = extarqs[0].arq.device_profile_name instance_uuid = extarqs[0].arq.instance_uuid objects.ExtARQ.check_bindings_result( self.context, extarqs) mock_notify.assert_called_once_with( device_profile_name, instance_uuid, constants.ARQ_BIND_STATUS_FAILED) @mock.patch('cyborg.objects.ExtARQ.bind_notify') @mock.patch('cyborg.objects.ExtARQ.list') def test_check_bindings_result_with_non_bound_arq( self, mock_list, mock_notify): extarqs = self.fake_obj_extarqs mock_list.return_value = extarqs device_profile_name = extarqs[0].arq.device_profile_name instance_uuid = extarqs[0].arq.instance_uuid states = [constants.ARQ_BIND_STARTED, constants.ARQ_BIND_STARTED, constants.ARQ_UNBOUND, constants.ARQ_BIND_FAILED, constants.ARQ_DELETING] extarqs[0].arq.state = states[0] objects.ExtARQ.check_bindings_result(self.context, extarqs) mock_notify.assert_called_once_with( device_profile_name, instance_uuid, constants.ARQ_BIND_STATUS_FAILED) for s in states[1:]: extarqs[0].arq.state = s objects.ExtARQ.check_bindings_result(self.context, extarqs) mock_notify.assert_called_with( device_profile_name, instance_uuid, constants.ARQ_BIND_STATUS_FAILED) @mock.patch('cyborg.objects.ExtARQ.bind_notify') @mock.patch('cyborg.objects.ExtARQ.list')",,37,0
openstack%2Ftripleo-ci~master~Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9,openstack/tripleo-ci,master,Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9,Improve build images role for CentOS8,MERGED,2020-02-19 09:50:19.000000000,2020-03-05 05:54:37.000000000,2020-03-05 05:54:36.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-19 09:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8ec6f5c8b4ebc810c9b54bedfd3e1548e4827346', 'message': '[WIP] Added CentOS 8 image build job\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-19 10:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1503a6a57279f9a446ba80cdd8451e29475b4b22', 'message': '[WIP] Added CentOS 8 image build job\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-02-19 10:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cc33dcf5dfcd5459547719c4b545a8dd6966627e', 'message': '[WIP] Added CentOS 8 image build job\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-02-19 10:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/667254880a6c31925dbbc30abca374b8bddc5c0f', 'message': '[WIP] Added CentOS 8 image build job\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-02-19 12:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/04aacb26066081960415176b6df7917edeed8271', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-02-19 12:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/33aa4db288383713fa45419ae13d17fc5a285210', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-02-19 13:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6c1aa73cd68ec086285d573379b925c23353fdbe', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-02-19 14:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0b693408bb4c897f2c286b3c0d114592537d4f5b', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-02-19 15:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5474c56d4a6f3a60a05714828cf080aa76585822', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-02-19 15:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b523b285a6d58c8eb8af4c43347f40189312d861', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2020-02-19 15:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ba5ee90c79031285b97486764f71920e00a4cef7', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2020-02-20 07:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/084b16751a437a23765c15cbbe2ee79c3b168b5e', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2020-02-20 09:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3c4e9bd571d86c56bfb161967a9eeb022bd05014', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 14, 'created': '2020-02-20 10:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/37d25caf838237568dc2cbe38ff8d1e75b59aa7f', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 15, 'created': '2020-02-20 11:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8672dae01aef878e0e33ad203ea4a770cac39752', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 16, 'created': '2020-02-20 11:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a7dac9b92ef7e29a5a3bbb7715f8505b0005036', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 17, 'created': '2020-02-21 08:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d4a12743a834e1446c5d3e66488fc2e6d0c4e42c', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 18, 'created': '2020-02-21 09:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c49148e3f3c573706b09426b7967ff96e98c1a1', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 19, 'created': '2020-02-21 10:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e070c04c0de934fb83a89da43b615da103a819fb', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 20, 'created': '2020-02-21 10:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e247cb65b0987bdc4cd5e3cb78ccfdd138b4ec80', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 21, 'created': '2020-02-21 11:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/effeb7d3c7f9ce384cd5a69c6f27d88f2993b001', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\nDepends-On: https://review.opendev.org/709082\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 22, 'created': '2020-02-21 12:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0016b78b2285b48d120e8d1955ac04991ab1b9a8', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\nDepends-On: https://review.opendev.org/709082\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 23, 'created': '2020-02-21 14:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d6a0bbf9fabc4b95423498b305c1ee482a98fbd2', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\nDepends-On: https://review.opendev.org/709082\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 24, 'created': '2020-02-21 15:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a8dcdb34b6628b6deb6e9fdbe33e7666b0c69dad', 'message': '[WIP] Improve build images role for CentOS8\n\nDepends-On: https://review.opendev.org/708606\nDepends-On: https://review.opendev.org/709082\nDepends-On: https://review.opendev.org/709085\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 25, 'created': '2020-02-24 10:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/066b406217843b42cfc5c321621e3b65804ea288', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 26, 'created': '2020-02-24 12:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/88255758501703409dd2f0671cc5d9270fbc218e', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 27, 'created': '2020-02-25 11:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c745c67182912abe48244d3a9dd7b5fc7e9b9795', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 28, 'created': '2020-02-25 11:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/af86bdff57b1ee423772156660a8a447397f2361', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 29, 'created': '2020-02-26 05:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aad076266ea92d9cacb9050a29ba7dfb8e20d778', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 30, 'created': '2020-02-26 06:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fbbf887d6b340f035ae899974f157024aa4be422', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 31, 'created': '2020-02-26 11:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e901d1de71153145b37f7dfb7c74a146b7a389ae', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 32, 'created': '2020-02-26 11:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0b309bc1cdfb50f75f8339350b98a7c3eb83b157', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 33, 'created': '2020-02-26 11:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61879a7a419f15ab022272eb01ca2d303cb043ad', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 34, 'created': '2020-03-02 08:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fb6ad7bfc6191c46f8ac054876f894fb44184697', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 35, 'created': '2020-03-02 10:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/269bd01eb351e5229391fbc51e8a553e78ee5164', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 36, 'created': '2020-03-02 10:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/60a3de190880974d1a8fc93bc82d0c3bd8086e6d', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n\nDepends-On: https://review.opendev.org/708606\n\nDepends-On: https://review.opendev.org/709082\n\nDepends-On: https://review.opendev.org/709085\n\nDepends-On: https://review.opendev.org/#/c/709159/\n\nDepends-On: https://review.opendev.org/#/c/684308/\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 37, 'created': '2020-03-02 12:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6994c51a1245a0a2ec7fe2c3ebf18285fa000701', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Moved the build image base job to centos-8 node as inherits\n  the same to CentOS-7 jobs\n- Added the centos jobs to respective places\n- Install pyyaml for centos-8\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 38, 'created': '2020-03-02 19:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8088c3f5dda4ea4a10396c0b0d63fb17d3b09099', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Added the centos jobs to respective places\n- Install pyyaml for centos-8\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 39, 'created': '2020-03-02 19:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eca663b7f7b177eed71312e00b8f4991f92a62ee', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Added the centos jobs to respective places\n- Install pyyaml for centos-8\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 40, 'created': '2020-03-02 19:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb578a7a5339cd48d249ab8b194fc8774740d1d8', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Added the centos jobs to respective places\n- Install pyyaml for centos-8\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 41, 'created': '2020-03-03 04:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e55edf0f8836a583f8b48ce22fe8dc7892f42f6', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Added the centos jobs to respective places\n- Install pyyaml for centos-8\n- Copy tripleo-centos-* repo when dib_yum_repo_conf is not defined\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 42, 'created': '2020-03-03 17:51:35.000000000', 'files': ['roles/oooci-build-images/templates/build-images.sh.j2', 'roles/oooci-build-images/tasks/main.yaml', 'roles/oooci-build-images/tasks/pre.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d485912d98702eec0c1ad573d47f2922b4675825', 'message': 'Improve build images role for CentOS8\n\n* Below is the list of improvements, it adds\n- replace rhel_image_source to tripleo_image_source by maintaining\n  backward compatibility\n- Reset dib set_facts for RHEL and CentOS-8\n- Run pathfix_repos.sh script only for few files\n- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8\n  as the Image stills have python2 content or getting pulled by\n  something else.\n- Added the centos jobs to respective places\n- Install pyyaml for centos-8\n- Copy tripleo-centos-* repo when dib_yum_repo_conf is not defined\n\nChange-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",17,708599,d485912d98702eec0c1ad573d47f2922b4675825,127,7,42,12393,,,0,"Improve build images role for CentOS8

* Below is the list of improvements, it adds
- replace rhel_image_source to tripleo_image_source by maintaining
  backward compatibility
- Reset dib set_facts for RHEL and CentOS-8
- Run pathfix_repos.sh script only for few files
- Set DIB_NAME and DIB_PYTHON_VERSION for centos-8 and RHEL-8
  as the Image stills have python2 content or getting pulled by
  something else.
- Added the centos jobs to respective places
- Install pyyaml for centos-8
- Copy tripleo-centos-* repo when dib_yum_repo_conf is not defined

Change-Id: Ibcf1cbb7e3fa669e926392f3dd2c122cabb889e9
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/99/708599/14 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/build-image.yaml']",2,8ec6f5c8b4ebc810c9b54bedfd3e1548e4827346,c8imagebuild, - tripleo-buildimage-overcloud-full-centos-8 - tripleo-buildimage-overcloud-full-centos-8 - tripleo-buildimage-ironic-python-agent-centos-8 - tripleo-buildimage-overcloud-hardened-full-centos-8 # CentOS 8 Image Build Jobs - job: name: tripleo-buildimage-ironic-python-agent-centos-8 parent: tripleo-build-images-base vars: tripleo_image_type: ironic-python-agent voting: false irrelevant-files: - ^.*\.rst$ - ^releasenotes/.*$ - job: name: tripleo-buildimage-overcloud-full-centos-8 parent: tripleo-build-images-base vars: tripleo_image_type: overcloud-full irrelevant-files: - ^.*\.rst$ - ^releasenotes/.*$ - job: name: tripleo-buildimage-overcloud-hardened-full-centos-8 parent: tripleo-build-images-base vars: tripleo_image_type: overcloud-hardened-full voting: false irrelevant-files: - ^.*\.rst$ - ^releasenotes/.*$ # CentOS 7 Image Build Jobs nodeset: single-centos-7-node nodeset: single-centos-7-node nodeset: single-centos-7-node,,44,1
openstack%2Fpython-mistralclient~master~I072fad4bf88cb078a0ae9d911c6ed06764f66036,openstack/python-mistralclient,master,I072fad4bf88cb078a0ae9d911c6ed06764f66036,Fix preinstalled workflows tests,MERGED,2020-02-26 12:33:13.000000000,2020-03-05 05:53:43.000000000,2020-03-05 05:51:21.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 12:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/81040d21446bbb53239f18010414191142d11690', 'message': ""Fix preinstalled workflows tests\n\nThe 'std' prefix was removed from the workflow name\nmake sure it passes on both cases.\n\nChange-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036\n""}, {'number': 2, 'created': '2020-02-26 12:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/c88f21879422f4400de36cd920e8e0439bb52df8', 'message': ""Fix preinstalled workflows tests\n\nThe 'std' prefix was removed from the workflow name\nmake sure it passes on both cases.\n\nChange-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036\n""}, {'number': 3, 'created': '2020-02-26 13:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/11179c61e0f3f4ad1f2b0ff04d82f7a250bb8c4c', 'message': ""Fix preinstalled workflows tests\n\nThe 'std' prefix was removed from the workflow name\nmake sure it passes on both cases.\n\nChange-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036\n""}, {'number': 4, 'created': '2020-02-26 16:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/fba438dfcd979524c199b3165336ff0e13533547', 'message': ""Fix preinstalled workflows tests\n\nThe 'std' prefix was removed from the workflow name\nmake sure it passes on both cases.\n\nChange-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036\n""}, {'number': 5, 'created': '2020-02-27 06:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/0530d7c156e178ba51ca9d48c7568a81257774a4', 'message': ""Fix preinstalled workflows tests\n\nThe 'std' prefix was removed from the workflow name\nmake sure it passes on both cases.\n\nChange-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036\n""}, {'number': 6, 'created': '2020-02-27 06:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/ba512cb883fab484fd53ec4e3e2b4a3480d614f9', 'message': ""Fix preinstalled workflows tests\n\nThe 'std' prefix was removed from the workflow name\nmake sure it passes on both cases.\n\nChange-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036\n""}, {'number': 7, 'created': '2020-02-27 06:25:10.000000000', 'files': ['mistralclient/tests/functional/cli/v2/base_v2.py', 'mistralclient/tests/functional/cli/v2/test_cli_multi_tenancy.py', '.zuul.yaml', 'mistralclient/tests/functional/cli/v2/test_cli_v2.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/7acca6deff523f87cc39dacff136f144fae4bba2', 'message': ""Fix preinstalled workflows tests\n\nThe 'std' prefix was removed from the workflow name\nmake sure it passes on both cases.\n\nChange-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036\n""}]",0,710025,7acca6deff523f87cc39dacff136f144fae4bba2,17,2,7,19134,,,0,"Fix preinstalled workflows tests

The 'std' prefix was removed from the workflow name
make sure it passes on both cases.

Change-Id: I072fad4bf88cb078a0ae9d911c6ed06764f66036
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/25/710025/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistralclient/tests/functional/cli/v2/base_v2.py', 'mistralclient/tests/functional/cli/v2/test_cli_multi_tenancy.py', 'mistralclient/tests/functional/cli/v2/test_cli_v2.py']",3,81040d21446bbb53239f18010414191142d11690,tests," params='--filter name=std.create_instance ' '--filter name=create_instance' self.assertPartIn('create_instance', workflows[0]['Name'])"," params='--filter name=std.create_instance' self.assertIn('std.create_instance', workflows[0]['Name'])",10,6
openstack%2Fmistral~master~I9270317c12eaa2d42536768e52051ed6cb35b5e4,openstack/mistral,master,I9270317c12eaa2d42536768e52051ed6cb35b5e4,Resolving an error with an invalid region in keystone client.,NEW,2020-02-14 09:53:46.000000000,2020-03-05 05:46:53.000000000,,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9373}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2020-02-14 09:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f91a9421687408fa1aa916ab626a21827525a433', 'message': 'Resolving an error with an invalid region in keystone client.\n\nChange-Id: I9270317c12eaa2d42536768e52051ed6cb35b5e4\nCloses-Bug: #1862940'}, {'number': 2, 'created': '2020-02-25 10:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/452f6f3b1378ee6df06d4db98d87ca363af4aeb9', 'message': 'Resolving an error with an invalid region in keystone client.\n\nChange-Id: I9270317c12eaa2d42536768e52051ed6cb35b5e4\nCloses-Bug: #1862940\n'}, {'number': 3, 'created': '2020-02-25 11:08:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/60511fc6ee5f874ddb90de1cc98b5ff5646e06cf', 'message': 'Resolving an error with an invalid region in keystone client.\n\nChange-Id: I9270317c12eaa2d42536768e52051ed6cb35b5e4\nCloses-Bug: #1862940\n'}, {'number': 4, 'created': '2020-03-05 05:07:05.000000000', 'files': ['mistral/utils/openstack/keystone.py', 'mistral/config.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/01efc340bcb6e011bea31e649d8c9398354b22b3', 'message': 'Resolving an error with an invalid region in keystone client.\n\nChange-Id: I9270317c12eaa2d42536768e52051ed6cb35b5e4\nCloses-Bug: #1862940\n'}]",7,707798,01efc340bcb6e011bea31e649d8c9398354b22b3,20,9,4,31596,,,0,"Resolving an error with an invalid region in keystone client.

Change-Id: I9270317c12eaa2d42536768e52051ed6cb35b5e4
Closes-Bug: #1862940
",git fetch https://review.opendev.org/openstack/mistral refs/changes/98/707798/4 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/utils/openstack/keystone.py', 'mistral/config.py']",2,f91a9421687408fa1aa916ab626a21827525a433,bug/1862940,"auth_endpoint_definition = [ cfg.StrOpt('endpoint_type', default='admin', help='Interface to define authentication endpoint.'), cfg.StrOpt('region_name', default=None, help='Region name to define authentication endpoint.') ] CONF.register_opts(auth_endpoint_definition, group=KEYSTONE_GROUP)",,11,1
openstack%2Fmistral~master~I26bd00fc4babb3e41c5c9cc513b203177931204e,openstack/mistral,master,I26bd00fc4babb3e41c5c9cc513b203177931204e,Links in Mistral README.rst are dead,ABANDONED,2020-02-21 13:48:25.000000000,2020-03-05 05:06:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-21 13:48:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/6f4c5fd17d4ca3a2262b3d89e4efe008126990cb', 'message': 'Links in Mistral README.rst are dead\n\nFix links in README to reflect changes in documentation tree structure\n\nChange-Id: I26bd00fc4babb3e41c5c9cc513b203177931204e\nCloses-Bug: 1864106\n'}]",0,709144,6f4c5fd17d4ca3a2262b3d89e4efe008126990cb,3,1,1,15279,,,0,"Links in Mistral README.rst are dead

Fix links in README to reflect changes in documentation tree structure

Change-Id: I26bd00fc4babb3e41c5c9cc513b203177931204e
Closes-Bug: 1864106
",git fetch https://review.opendev.org/openstack/mistral refs/changes/44/709144/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6f4c5fd17d4ca3a2262b3d89e4efe008126990cb,bug/1864106, * `Installation Guide <https://docs.openstack.org/mistral/latest/admin/install/index.html>`_ * `Configuration Guide <https://docs.openstack.org/mistral/latest/admin/configuration/index.html>`_, * `Installation Guide <https://docs.openstack.org/mistral/latest/install/installation_guide.html#>`_ * `Configuration Guide <https://docs.openstack.org/mistral/latest/configuration/config-guide.html>`_,2,2
openstack%2Frequirements~stable%2Fstein~I259975af909ceca2b289eae0b76c4fc4a779b7e6,openstack/requirements,stable/stein,I259975af909ceca2b289eae0b76c4fc4a779b7e6,update constraint for oslo.utils to new release 3.40.6,MERGED,2020-03-04 18:07:53.000000000,2020-03-05 04:44:45.000000000,2020-03-05 04:44:45.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 18:07:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e4bfce958d65f6050d428698c2a2545cba7d8d2', 'message': 'update constraint for oslo.utils to new release 3.40.6\n\nChange-Id: I259975af909ceca2b289eae0b76c4fc4a779b7e6\nmeta:version: 3.40.6\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: Ie91e964db15d39d253cb5ea6b475ef744ec5283e\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,711297,1e4bfce958d65f6050d428698c2a2545cba7d8d2,7,3,1,11131,,,0,"update constraint for oslo.utils to new release 3.40.6

Change-Id: I259975af909ceca2b289eae0b76c4fc4a779b7e6
meta:version: 3.40.6
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: Ie91e964db15d39d253cb5ea6b475ef744ec5283e
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/711297/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1e4bfce958d65f6050d428698c2a2545cba7d8d2,new-release,oslo.utils===3.40.6,oslo.utils===3.40.5,1,1
openstack%2Fneutron~stable%2Ftrain~Id6fee5a752968b356b884d939b708a420016c9bc,openstack/neutron,stable/train,Id6fee5a752968b356b884d939b708a420016c9bc,Ensure that default SG exists during list of SG rules API call,MERGED,2020-03-03 09:07:56.000000000,2020-03-05 04:44:00.000000000,2020-03-05 04:42:03.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-03-03 09:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cc14f3a9a7bc4f59d031d93ca5a60470e0ebb13', 'message': 'Ensure that default SG exists during list of SG rules API call\n\nDuring processing of security group rule list API call Neutron will\nnow ensure that default security group for project given in the filters\nor in the context exists.\nIt is similar to what is done for list of security groups or creation of\nnew network/port in the project.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: Id6fee5a752968b356b884d939b708a420016c9bc\nCloses-Bug: #1864171\n(cherry picked from commit 4739a4febb8c77e5a0ca48bc77ae4dccd9f8a81e)\n'}, {'number': 2, 'created': '2020-03-03 09:08:49.000000000', 'files': ['neutron/db/securitygroups_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a025723e8a25b681d1382a0c569ca84efc55269e', 'message': 'Ensure that default SG exists during list of SG rules API call\n\nDuring processing of security group rule list API call Neutron will\nnow ensure that default security group for project given in the filters\nor in the context exists.\nIt is similar to what is done for list of security groups or creation of\nnew network/port in the project.\n\nConflicts:\n    neutron/db/securitygroups_db.py\n\nChange-Id: Id6fee5a752968b356b884d939b708a420016c9bc\nCloses-Bug: #1864171\n(cherry picked from commit 4739a4febb8c77e5a0ca48bc77ae4dccd9f8a81e)\n'}]",0,710956,a025723e8a25b681d1382a0c569ca84efc55269e,29,6,2,11975,,,0,"Ensure that default SG exists during list of SG rules API call

During processing of security group rule list API call Neutron will
now ensure that default security group for project given in the filters
or in the context exists.
It is similar to what is done for list of security groups or creation of
new network/port in the project.

Conflicts:
    neutron/db/securitygroups_db.py

Change-Id: Id6fee5a752968b356b884d939b708a420016c9bc
Closes-Bug: #1864171
(cherry picked from commit 4739a4febb8c77e5a0ca48bc77ae4dccd9f8a81e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/710956/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/securitygroups_db.py'],1,4cc14f3a9a7bc4f59d031d93ca5a60470e0ebb13,bug/1864171," project_id = filters.get('project_id') or filters.get('tenant_id') if project_id: project_id = project_id[0] else: project_id = context.project_id if project_id: self._ensure_default_security_group(context, project_id) if not filters and context.project_id and not context.is_admin: rule_ids = sg_obj.SecurityGroupRule.get_security_group_rule_ids( context.project_id) filters = {'id': rule_ids} ",,13,0
openstack%2Frequirements~master~Icbfe56d6d436883b7b22665c731757cea3f56244,openstack/requirements,master,Icbfe56d6d436883b7b22665c731757cea3f56244,update constraint for futurist to new release 2.1.0,MERGED,2020-03-04 19:13:29.000000000,2020-03-05 04:43:32.000000000,2020-03-05 04:42:06.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 19:13:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/54a9243037e408a0a08695834d2603ca72497ab2', 'message': 'update constraint for futurist to new release 2.1.0\n\nChange-Id: Icbfe56d6d436883b7b22665c731757cea3f56244\nmeta:version: 2.1.0\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Monty Taylor <mordred@inaugust.com>\nmeta:release:Commit: Monty Taylor <mordred@inaugust.com>\nmeta:release:Change-Id: Iabec1cec2a3410bb399ee6ccb719f054ee0eab51\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,711304,54a9243037e408a0a08695834d2603ca72497ab2,8,3,1,11131,,,0,"update constraint for futurist to new release 2.1.0

Change-Id: Icbfe56d6d436883b7b22665c731757cea3f56244
meta:version: 2.1.0
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Monty Taylor <mordred@inaugust.com>
meta:release:Commit: Monty Taylor <mordred@inaugust.com>
meta:release:Change-Id: Iabec1cec2a3410bb399ee6ccb719f054ee0eab51
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/04/711304/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,54a9243037e408a0a08695834d2603ca72497ab2,new-release,futurist===2.1.0;python_version=='3.6' futurist===2.1.0;python_version=='3.7',futurist===2.0.0;python_version=='3.6' futurist===2.0.0;python_version=='3.7',2,2
openstack%2Ftripleo-heat-templates~master~I9501b802c0a79996864761f2f0ef92df4a3d7c70,openstack/tripleo-heat-templates,master,I9501b802c0a79996864761f2f0ef92df4a3d7c70,Fixed package names for CentOS-8 octavia deployment,MERGED,2020-03-03 07:01:27.000000000,2020-03-05 04:40:45.000000000,2020-03-05 04:40:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 07:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a755417f12c01d13f7469e6f9d201b6aeabfa02b', 'message': 'Fixed package names for CentOS-8 octavia deployment\n\nChange-Id: I9501b802c0a79996864761f2f0ef92df4a3d7c70\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-03-04 19:58:32.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e80f600ac1b071ce1eba132a02be9fc7f79d711', 'message': 'Fixed package names for CentOS-8 octavia deployment\n\nDepends-On: https://review.opendev.org/711250\nChange-Id: I9501b802c0a79996864761f2f0ef92df4a3d7c70\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,710913,0e80f600ac1b071ce1eba132a02be9fc7f79d711,18,10,2,12393,,,0,"Fixed package names for CentOS-8 octavia deployment

Depends-On: https://review.opendev.org/711250
Change-Id: I9501b802c0a79996864761f2f0ef92df4a3d7c70
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/710913/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-worker-container-puppet.yaml'],1,a755417f12c01d13f7469e6f9d201b6aeabfa02b,c8standalone10," - block: - name: Ensure packages required for configuring octavia are present for CentOS 7 package: name: - python2-neutronclient - python2-openstackclient - openssl state: present when: ansible_distribution_major_version is version(8, '<') - name: Ensure packages required for configuring octavia are present for CentOS/RHEL 8 package: name: - python3-neutronclient - python3-openstackclient - openssl state: present when: ansible_distribution_major_version is version(8, '>=')", - name: Ensure packages required for configuring octavia are present package: name: - python2-neutronclient - python2-openstackclient - openssl state: present,18,7
openstack%2Ftripleo-heat-templates~master~I5032eef6567b37c02fe53dea852aadff3e185eec,openstack/tripleo-heat-templates,master,I5032eef6567b37c02fe53dea852aadff3e185eec,Cleanup tasks for container-puppet.py,MERGED,2020-02-28 19:01:08.000000000,2020-03-05 04:16:44.000000000,2020-03-05 04:16:43.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-28 19:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63f23c89d5207b2e713495932959759b790e2bfd', 'message': ""Cleanup tasks for container-puppet.py\n\n- When Paunch is disabled, don't create container-puppet.py and if the\n  file exists, make sure we remove it so operators don't run it by\n  accident.\n- Remove the reference of that script from the README and the commands,\n  to make it clear there is a new tool now.\n\nChange-Id: I5032eef6567b37c02fe53dea852aadff3e185eec\n""}, {'number': 2, 'created': '2020-02-28 19:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b7c5ec6e5165a8e5448461580de357de73d4da8', 'message': ""Cleanup tasks for container-puppet.py\n\n- When Paunch is disabled, don't create container-puppet.py and if the\n  file exists, make sure we remove it so operators don't run it by\n  accident.\n- Remove the reference of that script from the README and the commands,\n  to make it clear there is a new tool now.\n\nChange-Id: I5032eef6567b37c02fe53dea852aadff3e185eec\n""}, {'number': 3, 'created': '2020-03-02 13:16:49.000000000', 'files': ['common/generate-config-tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfb8b2b7fddb8aaaed6579cfa3bf3d6e13d0dec3', 'message': ""Cleanup tasks for container-puppet.py\n\n- When Paunch is disabled, don't create container-puppet.py and if the\n  file exists, make sure we remove it so operators don't run it by\n  accident.\n- Remove the reference of that script from the README and the commands,\n  to make it clear there is a new tool now.\n\nChange-Id: I5032eef6567b37c02fe53dea852aadff3e185eec\n""}]",3,710506,bfb8b2b7fddb8aaaed6579cfa3bf3d6e13d0dec3,23,5,3,3153,,,0,"Cleanup tasks for container-puppet.py

- When Paunch is disabled, don't create container-puppet.py and if the
  file exists, make sure we remove it so operators don't run it by
  accident.
- Remove the reference of that script from the README and the commands,
  to make it clear there is a new tool now.

Change-Id: I5032eef6567b37c02fe53dea852aadff3e185eec
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/710506/3 && git format-patch -1 --stdout FETCH_HEAD,"['common/generate-config-tasks.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-0.j2.yaml', 'common/deploy-steps-tasks.yaml', 'common/deploy-steps-tasks-step-1.yaml', 'deployment/README.rst']",6,63f23c89d5207b2e713495932959759b790e2bfd,container-puppet, is ultimately processed via the container-puppet.py tool (in new versions it's handled by the container_puppet_config module in tripleo-ansible) which puppet containers tooling directly. The task is executed for the for initialization of things., is ultimately processed via the container-puppet.py tool which container-puppet.py tool directly. The task is executed for the for initialization of things. See container-puppet.py for formatting.,27,15
openstack%2Fwatcher~master~I69dbe8840e87a8cb0b2720caa95fb17fb7a30848,openstack/watcher,master,I69dbe8840e87a8cb0b2720caa95fb17fb7a30848,Add procname for uwsgi based service watcher-api,MERGED,2020-03-02 01:46:10.000000000,2020-03-05 04:00:11.000000000,2020-03-05 03:58:48.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30623}]","[{'number': 1, 'created': '2020-03-02 01:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/89ce2936ed280991094acc91fcbc4c5ee011b7eb', 'message': 'Add procname for uwsgi based service watcher-api\n\nCode in grenade and elsewhere rely on the process/service name\nwhen one runs ""ps auxw"" and they grep for example ""grep -e watcher-api""\nto check if the service is running. with uwsgi, let us make sure\nwe use process name prefix so it is easier to spot the services\nand be compatible with code elsewhere that relies on this.\n\nReference:\nhttps://review.opendev.org/#/c/494531/\n\nChange-Id: I69dbe8840e87a8cb0b2720caa95fb17fb7a30848\n'}, {'number': 2, 'created': '2020-03-02 08:21:37.000000000', 'files': ['devstack/lib/watcher'], 'web_link': 'https://opendev.org/openstack/watcher/commit/c17e96d38bc766978b716fb863c63b2ad59c05ad', 'message': 'Add procname for uwsgi based service watcher-api\n\nCode in grenade and elsewhere rely on the process/service name\nwhen one runs ""ps auxw"" and they grep for example ""grep -e watcher-api""\nto check if the service is running. with uwsgi, let us make sure\nwe use process name prefix so it is easier to spot the services\nand be compatible with code elsewhere that relies on this.\n\nReference:\nhttps://review.opendev.org/#/c/494531/\n\nChange-Id: I69dbe8840e87a8cb0b2720caa95fb17fb7a30848\n'}]",0,710690,c17e96d38bc766978b716fb863c63b2ad59c05ad,16,6,2,28748,,,0,"Add procname for uwsgi based service watcher-api

Code in grenade and elsewhere rely on the process/service name
when one runs ""ps auxw"" and they grep for example ""grep -e watcher-api""
to check if the service is running. with uwsgi, let us make sure
we use process name prefix so it is easier to spot the services
and be compatible with code elsewhere that relies on this.

Reference:
https://review.opendev.org/#/c/494531/

Change-Id: I69dbe8840e87a8cb0b2720caa95fb17fb7a30848
",git fetch https://review.opendev.org/openstack/watcher refs/changes/90/710690/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/watcher'],1,89ce2936ed280991094acc91fcbc4c5ee011b7eb,new_master," run_process ""watcher-api"" ""$WATCHER_BIN_DIR/uwsgi --ini $WATCHER_UWSGI_CONF --procname-prefix watcher-api"""""," run_process ""watcher-api"" ""$WATCHER_BIN_DIR/uwsgi --ini $WATCHER_UWSGI_CONF""",1,1
openstack%2Ftripleo-ci~master~I0406f9e92476a03e78f07121937e662d32d2b614,openstack/tripleo-ci,master,I0406f9e92476a03e78f07121937e662d32d2b614,Add c8 multinode containers job,MERGED,2020-02-27 04:15:28.000000000,2020-03-05 03:46:04.000000000,2020-03-05 03:46:04.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-27 04:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e8f14064d649064238880229a9a70b233f62fb18', 'message': 'Add c8 multinode containers job\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-02-27 11:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ac79fcb86e81bc1b5083951f67ec1cb7abde7199', 'message': 'Add c8 multinode containers job\n\n\nDepends-On: https://review.opendev.org/710230\nDepends-On: https://review.opendev.org/710203\nDepends-On: https://review.opendev.org/#/c/710196/\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-02-28 20:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2a6c306153153ac1a1a694c8ce2a5a2e72deb3af', 'message': 'Add c8 multinode containers job\n\n\nDepends-On: https://review.opendev.org/710230\nDepends-On: https://review.opendev.org/710203\nDepends-On: https://review.opendev.org/#/c/710196/\nDepends-On: https://review.opendev.org/#/c/710338/\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-03-01 02:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a49195332415a85542b4f8f8e8df7aa352cfe551', 'message': 'Add c8 multinode containers job\n\n\nDepends-On: https://review.opendev.org/710230\nDepends-On: https://review.opendev.org/710203\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-03-01 02:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/00993b2ff143bcf05ee8f938412af30cd8c5de14', 'message': 'Add c8 multinode containers job\n\n\nDepends-On: https://review.opendev.org/710230\nDepends-On: https://review.opendev.org/710203\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-03-02 00:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2f4c0dd10e8add9e311e1631ae740f1b59ba8359', 'message': 'Add c8 multinode containers job\n\nDepends-On: https://review.opendev.org/710230\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-03-02 16:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e652a71e3ee6c153c77f36e437af8431d3fbc450', 'message': 'Add c8 multinode containers job\n\nDepends-On: https://review.opendev.org/710230\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-03-04 10:19:19.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/55b04b86526861d1302d8defc173ce76afaae9c8', 'message': 'Add c8 multinode containers job\n\nDepends-On: https://review.opendev.org/710230\n\nChange-Id: I0406f9e92476a03e78f07121937e662d32d2b614\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,710179,55b04b86526861d1302d8defc173ce76afaae9c8,43,7,8,12393,,,0,"Add c8 multinode containers job

Depends-On: https://review.opendev.org/710230

Change-Id: I0406f9e92476a03e78f07121937e662d32d2b614
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/79/710179/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,e8f14064d649064238880229a9a70b233f62fb18,containersmultinode, - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-containers-multinode: - tripleo-ci-centos-8-containers-multinode: name: tripleo-ci-centos-8-containers-multinode parent: tripleo-ci-base-multinode-centos-8 branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein|train)).*$ vars: nodes: 1ctlr featureset: '010' playbooks: - multinode.yml - job:, - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-containers-multinode: - tripleo-ci-centos-7-containers-multinode:,14,4
openstack%2Ftripleo-ansible~master~I0a86088f55f417f1ed36a57726f5b31056953192,openstack/tripleo-ansible,master,I0a86088f55f417f1ed36a57726f5b31056953192,Fix typo in logs,MERGED,2020-03-04 21:05:41.000000000,2020-03-05 03:21:55.000000000,2020-03-05 03:21:55.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 21:05:41.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d0c1ed3cd7b6deebe10e75d4bdde0aa14c78272', 'message': 'Fix typo in logs\n\nChange-Id: I0a86088f55f417f1ed36a57726f5b31056953192\n'}]",0,711335,5d0c1ed3cd7b6deebe10e75d4bdde0aa14c78272,7,3,1,3153,,,0,"Fix typo in logs

Change-Id: I0a86088f55f417f1ed36a57726f5b31056953192
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/711335/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'],1,5d0c1ed3cd7b6deebe10e75d4bdde0aa14c78272,typo," msg: ""Container(s) which are still running after 5 min: {{ running_containers }}, check logs in /var/log/containers/stdouts/"" msg: ""Container(s) with bad ExitCode: {{ broken_containers }}, check logs in /var/log/containers/stdouts/"""," msg: ""Container(s) which are still running after 5 min: {{ running_containers }}, check logs in /var/log/containers/stdout/"" msg: ""Container(s) with bad ExitCode: {{ broken_containers }}, check logs in /var/log/containers/stdout/""",2,2
openstack%2Fsenlin~master~Ib49b38490f83fea19307751ef1cd073307e352ae,openstack/senlin,master,Ib49b38490f83fea19307751ef1cd073307e352ae,Add option to choose LB availability_zone,MERGED,2020-02-28 15:06:55.000000000,2020-03-05 02:55:22.000000000,2020-03-05 02:53:54.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-02-28 15:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/aa319721431f203ed7b22ce2e5eca3efec1c7e9f', 'message': 'Add option to choose LB availability_zone\n\nOctavia now supports availability zones for loadbalancers. Now it is\npossible to pass this option through the LB policy.\n\nChange-Id: Ib49b38490f83fea19307751ef1cd073307e352ae\n'}, {'number': 2, 'created': '2020-02-29 01:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/40c18c9deb9d6abbe1b02c6bd4932b5e83a5ee07', 'message': 'Add option to choose LB availability_zone\n\nOctavia now supports availability zones for loadbalancers. Now it is\npossible to pass this option through the LB policy.\n\nChange-Id: Ib49b38490f83fea19307751ef1cd073307e352ae\n'}, {'number': 3, 'created': '2020-02-29 01:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3af69896dc9398f8071dc4d1c45e5be5c2bf148a', 'message': 'Add option to choose LB availability_zone\n\nOctavia now supports availability zones for loadbalancers. Now it is\npossible to pass this option through the LB policy.\n\nChange-Id: Ib49b38490f83fea19307751ef1cd073307e352ae\n'}, {'number': 4, 'created': '2020-03-02 13:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/777c615bc23a771f777deae53c5f0608dd6244e4', 'message': 'Add option to choose LB availability_zone\n\nOctavia now supports availability zones for loadbalancers. Now it is\npossible to pass this option through the LB policy.\n\nDepends-On: https://review.opendev.org/#/c/710452/\n\nChange-Id: Ib49b38490f83fea19307751ef1cd073307e352ae\n'}, {'number': 5, 'created': '2020-03-03 19:11:11.000000000', 'files': ['senlin/tests/unit/policies/test_lb_policy.py', 'senlin/drivers/os/lbaas.py', 'senlin/policies/lb_policy.py', 'senlin/drivers/os/octavia_v2.py', 'doc/source/user/policy_types/load_balancing.rst', 'senlin/tests/drivers/os_test/lbaas.py', 'releasenotes/notes/add-availability_zone-option-to-loadbalancer-74b512fb0c138bfe.yaml', 'senlin/tests/unit/drivers/test_lbaas.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/senlin/commit/531283783ed0fb673437b8582b6ed1b1ccb4e717', 'message': 'Add option to choose LB availability_zone\n\nOctavia now supports availability zones for loadbalancers. Now it is\npossible to pass this option through the LB policy.\n\nDepends-On: https://review.opendev.org/#/c/710452/\n\nChange-Id: Ib49b38490f83fea19307751ef1cd073307e352ae\n'}]",1,710464,531283783ed0fb673437b8582b6ed1b1ccb4e717,20,4,5,10273,,,0,"Add option to choose LB availability_zone

Octavia now supports availability zones for loadbalancers. Now it is
possible to pass this option through the LB policy.

Depends-On: https://review.opendev.org/#/c/710452/

Change-Id: Ib49b38490f83fea19307751ef1cd073307e352ae
",git fetch https://review.opendev.org/openstack/senlin refs/changes/64/710464/4 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/policies/test_lb_policy.py', 'senlin/drivers/os/lbaas.py', 'senlin/policies/lb_policy.py', 'senlin/drivers/os/octavia_v2.py', 'doc/source/user/policy_types/load_balancing.rst', 'senlin/tests/drivers/os_test/lbaas.py', 'releasenotes/notes/add-availability_zone-option-to-loadbalancer-74b512fb0c138bfe.yaml', 'senlin/tests/unit/drivers/test_lbaas.py']",8,aa319721431f203ed7b22ce2e5eca3efec1c7e9f,," self.availability_zone = 'my_fake_az' status, res = self.lb_driver.lb_create(self.vip, self.pool, self.hm, self.availability_zone) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up'], availability_zone=self.availability_zone) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up'], availability_zone=None) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up'], availability_zone=None) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up'], availability_zone=None)"," status, res = self.lb_driver.lb_create(self.vip, self.pool, self.hm) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up']) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up']) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up']) 'SUBNET_ID', self.vip['address'], self.vip['admin_state_up'])",52,16
openstack%2Fpaunch~master~Ie8d2515b46f70b5ca39625bd0272d933f3b0ffec,openstack/paunch,master,Ie8d2515b46f70b5ca39625bd0272d933f3b0ffec,Update zuul layout to reflect recent changes in TripleO,MERGED,2020-03-02 16:41:17.000000000,2020-03-05 02:47:47.000000000,2020-03-05 02:44:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 16:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/ce400e9ec4dcef2377b880998bd378b1b3856cad', 'message': ""Update zuul layout to reflect recent changes in TripleO\n\nPaunch is now disabled by default except on a few jobs when Pacemaker is\nstill running with Docker; which is the case of scenario004.\n\nLet's remove the jobs where Paunch isn't exercised, to save resources.\nAnd also add the 'irrelevant-files' parameter to skip the job when not\nneeded.\n\nNote: it's not defined in that file but the OVB jobs running on CentOS7\nalso need to be executed until they are moved to CentOS8; since\nPacemaker and Docker are used; therefore Paunch is used to manage the\nnon-HA containers.\n\nChange-Id: Ie8d2515b46f70b5ca39625bd0272d933f3b0ffec\n""}, {'number': 2, 'created': '2020-03-02 16:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/77cfc332273a4d7ce2ba97cc3f7e358af96cf469', 'message': ""Update zuul layout to reflect recent changes in TripleO\n\nPaunch is now disabled by default except on a few jobs when Pacemaker is\nstill running with Docker; which is the case of scenario004.\n\nLet's remove the jobs where Paunch isn't exercised, to save resources.\nAnd also add the 'irrelevant-files' parameter to skip the job when not\nneeded.\n\nNote: it's not defined in that file but the OVB jobs running on CentOS7\nalso need to be executed until they are moved to CentOS8; since\nPacemaker and Docker are used; therefore Paunch is used to manage the\nnon-HA containers.\n\nChange-Id: Ie8d2515b46f70b5ca39625bd0272d933f3b0ffec\n""}, {'number': 3, 'created': '2020-03-02 17:08:22.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/paunch/commit/a0a427634548c14de3bc8a2399b1f3c72a79f9a8', 'message': ""Update zuul layout to reflect recent changes in TripleO\n\nPaunch is now disabled by default except on a few jobs when Pacemaker is\nstill running with Docker; which is the case of scenario004.\n\nLet's remove the jobs where Paunch isn't exercised, to save resources.\nAnd also add the 'irrelevant-files' parameter to skip the job when not\nneeded.\n\nNote: it's not defined in that file but the OVB jobs running on CentOS7\nalso need to be executed until they are moved to CentOS8; since\nPacemaker and Docker are used; therefore Paunch is used to manage the\nnon-HA containers.\n\nChange-Id: Ie8d2515b46f70b5ca39625bd0272d933f3b0ffec\n""}]",1,710824,a0a427634548c14de3bc8a2399b1f3c72a79f9a8,27,6,3,3153,,,0,"Update zuul layout to reflect recent changes in TripleO

Paunch is now disabled by default except on a few jobs when Pacemaker is
still running with Docker; which is the case of scenario004.

Let's remove the jobs where Paunch isn't exercised, to save resources.
And also add the 'irrelevant-files' parameter to skip the job when not
needed.

Note: it's not defined in that file but the OVB jobs running on CentOS7
also need to be executed until they are moved to CentOS8; since
Pacemaker and Docker are used; therefore Paunch is used to manage the
non-HA containers.

Change-Id: Ie8d2515b46f70b5ca39625bd0272d933f3b0ffec
",git fetch https://review.opendev.org/openstack/paunch refs/changes/24/710824/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ce400e9ec4dcef2377b880998bd378b1b3856cad,zuul, irrelevant-files: &standalone_ignored - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^docs/.*$ - ^releasenotes/.*$ - ^test-requirements.txt$ - tox.ini gate: queue: tripleo jobs: - tripleo-ci-centos-7-scenario004-standalone: *standalone_ignored, - tripleo-multinode-container-minimal - tripleo-ci-centos-7-containers-multinode: dependencies: &deps_unit_lint - openstack-tox-pep8 - openstack-tox-py27 - openstack-tox-py36 - openstack-tox-py37 - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario007-multinode-oooq-container: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario009-multinode-oooq-container: dependencies: *deps_unit_lint - tripleo-ci-centos-7-standalone-upgrade: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario001-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario002-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario003-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario012-standalone: dependencies: *deps_unit_lint - tripleo-ci-centos-7-containerized-undercloud-upgrades: dependencies: *deps_unit_lint,12,27
openstack%2Fpython-tripleoclient~master~Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d,openstack/python-tripleoclient,master,Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d,Remove mistral when creating the overcloudrc file.,MERGED,2019-11-13 18:46:50.000000000,2020-03-05 02:46:25.000000000,2020-03-05 02:44:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-11-13 18:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c7a165e25a81e00f17987155a750e9529c7ccc39', 'message': 'WIP: Do not use Mistral when creating the overcloudrc and clouds.yaml files.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-11-13 18:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4d64bdc808564b75b21c751210dadbe47c27977', 'message': 'WIP: Do not use Mistral when creating the overcloudrc\nand clouds.yaml files.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-11-13 18:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/43dd976524174904fe3963228896a574f01c4c50', 'message': 'WIP: Do not use Mistral when creating the overcloudrc\nand clouds.yaml files.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-11-20 15:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/82db4f78e7dec772f95479f331c9e41273f196d4', 'message': 'WIP: Do not use Mistral when creating the overcloudrc\nand clouds.yaml files.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-11-21 18:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cfb92c036d8e9c72546dfc1b07b79aa7a047e1f3', 'message': 'WIP: Do not use Mistral when creating the overcloudrc\nand clouds.yaml files.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2020-01-13 22:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7a1d1841e6f7cf5f9ef7d5f90d10404e582d9c80', 'message': 'WIP: Do not use Mistral when creating the overcloudrc file.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 7, 'created': '2020-02-14 14:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8f327cb906dc72fb8e6f45a65ee21e869530db46', 'message': 'WIP: Do not use Mistral when creating the overcloudrc file.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 8, 'created': '2020-02-14 16:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28e3347c585d8cf10a8eb8f2783c028f2c6ec485', 'message': 'Do not use Mistral when creating the overcloudrc file.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\n'}, {'number': 9, 'created': '2020-02-19 10:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/daca5a1133459ea660a100c1cbe322239faf00ca', 'message': 'Do not use Mistral when creating the overcloudrc file.\n\nRemove the mistral indirection and Use the tripleo-common\ninfrastructure directly when creating an overcloudrc file.\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\n'}, {'number': 10, 'created': '2020-02-21 18:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/330cc6c57ec5271bb69c2d552c867aa8001b6e3c', 'message': 'Remove mistral when creating the overcloudrc file.\n\nRemove the mistral indirection and Use the tripleo-common\ninfrastructure directly when creating an overcloudrc file.\n\nStory: 2007212\nTask: 38426\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\n'}, {'number': 11, 'created': '2020-02-21 18:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/52f9cc3810d712b141ef27b85163365ad72f0701', 'message': 'Remove mistral when creating the overcloudrc file.\n\nRemove the mistral indirection and Use the tripleo-common\ninfrastructure directly when creating an overcloudrc file.\n\nStory: 2007212\nTask: 38426\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 12, 'created': '2020-02-24 19:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/27c60eeb474eb1bae895a38b956fd2174b40036f', 'message': 'Remove mistral when creating the overcloudrc file.\n\nRemove the mistral indirection and Use the tripleo-common\ninfrastructure directly when creating an overcloudrc file.\n\nStory: 2007212\nTask: 38426\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 13, 'created': '2020-02-27 17:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/918b44d7d5b7abf131d4564666d96415af7c8ba0', 'message': 'Remove mistral when creating the overcloudrc file.\n\nRemove the mistral indirection and Use the tripleo-common\ninfrastructure directly when creating an overcloudrc file.\n\nStory: 2007212\nTask: 38426\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 14, 'created': '2020-02-28 10:41:26.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/test_overcloud_credentials.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e901cda251713b677088d165c2cbbb3b8443574', 'message': 'Remove mistral when creating the overcloudrc file.\n\nRemove the mistral indirection and Use the tripleo-common\ninfrastructure directly when creating an overcloudrc file.\n\nStory: 2007212\nTask: 38426\n\nChange-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,694138,0e901cda251713b677088d165c2cbbb3b8443574,61,9,14,25877,,,0,"Remove mistral when creating the overcloudrc file.

Remove the mistral indirection and Use the tripleo-common
infrastructure directly when creating an overcloudrc file.

Story: 2007212
Task: 38426

Change-Id: Iaf6a401f510b768f26f3ff95a9c47d2d1dced71d
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/38/694138/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_credentials.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_deploy.py']",5,c7a165e25a81e00f17987155a750e9529c7ccc39,mistral_to_ansible," container=stack.stack_name, no_proxy=parsed_args.no_proxy) cloud_data = deployment.create_cloudsyaml(container=stack.stack_name)"," self.clients, container=stack.stack_name, no_proxy=parsed_args.no_proxy) cloud_data = deployment.create_cloudsyaml( self.clients, container=stack.stack_name)",9,49
openstack%2Ftripleo-ci~master~I1a79d8f95109c2abd9e75dfcbed6342f4fc4397f,openstack/tripleo-ci,master,I1a79d8f95109c2abd9e75dfcbed6342f4fc4397f,Use centos8 built images,MERGED,2020-03-04 17:00:29.000000000,2020-03-05 02:44:46.000000000,2020-03-05 02:44:45.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 17:00:29.000000000', 'files': ['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bac1e35e2d1b622d1c35b9caa0bdee98bbc66ab6', 'message': ""Use centos8 built images\n\nConfigure images' URLs for CentOS 8 OVB jobs\n\nChange-Id: I1a79d8f95109c2abd9e75dfcbed6342f4fc4397f\n""}]",0,711280,bac1e35e2d1b622d1c35b9caa0bdee98bbc66ab6,10,5,1,10969,,,0,"Use centos8 built images

Configure images' URLs for CentOS 8 OVB jobs

Change-Id: I1a79d8f95109c2abd9e75dfcbed6342f4fc4397f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/80/711280/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci-quickstart/config/testenv/ovb-rdocloud.yml', 'toci-quickstart/config/testenv/ovb-vexxhost.yml', 'toci-quickstart/config/testenv/ovb.yml']",3,bac1e35e2d1b622d1c35b9caa0bdee98bbc66ab6,ovb_centos8, {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version|int >= 8 -%} {%- elif ansible_distribution_major_version|int >= 8-%} https://images.rdoproject.org/centos8//{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/overcloud-full.tar {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version|int >= 8 -%} {%- elif ansible_distribution_major_version|int >= 8 -%} https://images.rdoproject.org/centos8//{{ release }}/rdo_trunk/{{ dlrn_hash|default(dlrn_hash_tag) }}/ironic-python-agent.tar, {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version >= '8' -%} {% if ansible_distribution == 'RedHat' and ansible_distribution_major_version >= '8' -%},18,6
openstack%2Fansible-role-collect-logs~master~I1c5ec137c4bf65a02e0e38b6814d0ec6d151b623,openstack/ansible-role-collect-logs,master,I1c5ec137c4bf65a02e0e38b6814d0ec6d151b623,Add pattern for image prepare error,MERGED,2020-03-04 21:31:12.000000000,2020-03-05 02:44:44.000000000,2020-03-05 02:44:44.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 21:31:12.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/61a6a63000c574ddf28b096db9feb8b6cf2a4665', 'message': 'Add pattern for image prepare error\n\nChange-Id: I1c5ec137c4bf65a02e0e38b6814d0ec6d151b623\n'}]",0,711341,61a6a63000c574ddf28b096db9feb8b6cf2a4665,6,2,1,10969,,,0,"Add pattern for image prepare error

Change-Id: I1c5ec137c4bf65a02e0e38b6814d0ec6d151b623
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/41/711341/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,61a6a63000c574ddf28b096db9feb8b6cf2a4665,," - id: 526 logstash: ""ERROR:root:Image prepare failed: [Errno 17] File exists"" msg: ""Container image prepare lock error."" pattern: ""ERROR:root:Image prepare failed: [Errno 17] File exists"" tag: ""code""",,5,0
openstack%2Fironic~master~Iea786985b93645da135a697140b9b14cdecf70bb,openstack/ironic,master,Iea786985b93645da135a697140b9b14cdecf70bb,Bump minimum supported ansible version to 2.7,MERGED,2020-03-03 14:17:05.000000000,2020-03-05 02:42:32.000000000,2020-03-05 02:40:46.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-03 14:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/26df21c3dea9c0ec45c688836fb8d810ebbdeac0', 'message': '[WIP] Bump minimum supported ansible version to 2.7\n\nThis is mainly based on the fact that all version up to 2.6\nare not supported anymore [0].\nThe 2.7 version is maintained at least with security fixes.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/release_and_maintenance.html\n\nChange-Id: Iea786985b93645da135a697140b9b14cdecf70bb\n'}, {'number': 2, 'created': '2020-03-04 09:42:40.000000000', 'files': ['releasenotes/notes/bump-min-ansible-ver-a78e7885c0e9d361.yaml', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/823a01688f60a5093451f0d5ce7843462359f3e2', 'message': 'Bump minimum supported ansible version to 2.7\n\nThis is mainly based on the fact that all version up to 2.6\nare not being updated anymore [0].\nThe 2.7 version is maintained at least with security fixes.\n\n[0] https://docs.ansible.com/ansible/latest/reference_appendices/release_and_maintenance.html\n\nChange-Id: Iea786985b93645da135a697140b9b14cdecf70bb\n'}]",0,711021,823a01688f60a5093451f0d5ce7843462359f3e2,13,5,2,23851,,,0,"Bump minimum supported ansible version to 2.7

This is mainly based on the fact that all version up to 2.6
are not being updated anymore [0].
The 2.7 version is maintained at least with security fixes.

[0] https://docs.ansible.com/ansible/latest/reference_appendices/release_and_maintenance.html

Change-Id: Iea786985b93645da135a697140b9b14cdecf70bb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/711021/2 && git format-patch -1 --stdout FETCH_HEAD,['driver-requirements.txt'],1,26df21c3dea9c0ec45c688836fb8d810ebbdeac0,bump-ansible-ver,ansible>=2.7,ansible>=2.5,1,1
openstack%2Ftripleo-ci~master~If3c0161ddae3164054ce2662e0e4dd1c736ac447,openstack/tripleo-ci,master,If3c0161ddae3164054ce2662e0e4dd1c736ac447,Handle cloudsig releases,MERGED,2020-03-03 06:37:05.000000000,2020-03-05 02:31:29.000000000,2020-03-05 02:31:28.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22318}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-03 06:37:05.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml', 'roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cb9fbea469f6d4c70ddd68ab8ad5548e4370c220', 'message': 'Handle cloudsig releases\n\nBranch override can be cloudsig/train, cloudsig/stein\netc, so handle these too in build-containers and\ntripleo-repos role.\n\nChange-Id: If3c0161ddae3164054ce2662e0e4dd1c736ac447\n'}]",0,710910,cb9fbea469f6d4c70ddd68ab8ad5548e4370c220,19,7,1,13861,,,0,"Handle cloudsig releases

Branch override can be cloudsig/train, cloudsig/stein
etc, so handle these too in build-containers and
tripleo-repos role.

Change-Id: If3c0161ddae3164054ce2662e0e4dd1c736ac447
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/10/710910/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-repos/tasks/main.yml', 'roles/build-containers/tasks/main.yaml']",2,cb9fbea469f6d4c70ddd68ab8ad5548e4370c220,cloudsig-containers," ci_branch: ""{{ zuul.branch | regex_replace('(stable|cloudsig)/', '') }}"" ci_branch: ""{{ branch_override | regex_replace('(stable|cloudsig)/', '') }}"""," ci_branch: ""{{ zuul.branch | replace('stable/','') }}"" ci_branch: ""{{ branch_override | replace('stable/','') }}""",4,4
openstack%2Fnova~master~I062da797ae4a4961535155a19ad330f5e8e14950,openstack/nova,master,I062da797ae4a4961535155a19ad330f5e8e14950,Remove oslo_db.sqlalchemy.compat reference,MERGED,2020-03-03 19:35:31.000000000,2020-03-05 02:31:12.000000000,2020-03-05 02:28:23.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 14288}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-03 19:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76b40406aa8aed820df8f1384f1aa8e62d1108c3', 'message': 'Remove oslo_db.sqlalchemy.compat reference\n\noslo.db has removed this module in\nI63e4baf772be9ddfb787ac3aff01fcaddf7b901c.  To the degree that\nit is used in this Nova module is for a single check of SQLAlchemy\nprior to 0.9.0 which is well below the minimum SQLAlchemy version\nof 1.2.19.\n\nChange-Id: I062da797ae4a4961535155a19ad330f5e8e14950\n'}, {'number': 2, 'created': '2020-03-04 06:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f21949aaf2ccf322f53cd137ea42be431faff2c', 'message': 'Remove oslo_db.sqlalchemy.compat reference\n\noslo.db has removed this module in\nI63e4baf772be9ddfb787ac3aff01fcaddf7b901c.  To the degree that\nit is used in this Nova module is for a single check of SQLAlchemy\nprior to 0.9.0 which is well below the minimum SQLAlchemy version\nof 1.2.19.\n\nChange-Id: I062da797ae4a4961535155a19ad330f5e8e14950\n'}, {'number': 3, 'created': '2020-03-04 16:59:48.000000000', 'files': ['nova/tests/unit/db/test_migration_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/91973ec26c3ae77ffe349bc4c5c03f13065d9b6f', 'message': 'Remove oslo_db.sqlalchemy.compat reference\n\noslo.db has removed this module in\nI63e4baf772be9ddfb787ac3aff01fcaddf7b901c.  To the degree that\nit is used in this Nova module is for a single check of SQLAlchemy\nprior to 0.9.0 which is well below the minimum SQLAlchemy version\nof 1.2.19.\n\nChange-Id: I062da797ae4a4961535155a19ad330f5e8e14950\n'}]",2,711093,91973ec26c3ae77ffe349bc4c5c03f13065d9b6f,28,10,3,11816,,,0,"Remove oslo_db.sqlalchemy.compat reference

oslo.db has removed this module in
I63e4baf772be9ddfb787ac3aff01fcaddf7b901c.  To the degree that
it is used in this Nova module is for a single check of SQLAlchemy
prior to 0.9.0 which is well below the minimum SQLAlchemy version
of 1.2.19.

Change-Id: I062da797ae4a4961535155a19ad330f5e8e14950
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/711093/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/db/test_migration_utils.py'],1,76b40406aa8aed820df8f1384f1aa8e62d1108c3,remove_oslodb_compat,,"from oslo_db.sqlalchemy.compat import utils as compat_utilsSA_VERSION = compat_utils.SQLA_VERSION # reflection of custom types has been fixed upstream if SA_VERSION < (0, 9, 0): self.assertRaises(oslodbutils.ColumnError, utils.create_shadow_table, self.engine, table_name=table_name) ",0,9
openstack%2Frequirements~master~Icd79bd057b9578a9ec8b107cc5d1ac926899c34b,openstack/requirements,master,Icd79bd057b9578a9ec8b107cc5d1ac926899c34b,Add importlib-metadata,MERGED,2020-03-04 17:02:48.000000000,2020-03-05 02:30:09.000000000,2020-03-05 02:28:27.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 17:02:48.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1ea42b9878711306d5e4068dffa6e3cd96ac63a6', 'message': ""Add importlib-metadata\n\nThis Apache-2.0 library is intended to end up in python 3.8's stdlib.\nFor the rest of us we can get access to it via pypi on python2.7 and\npython>=3.5. Why is this important? This package replaces pkg_resources\nentrypoint and metadata APIs which are inefficient. This will give us a\nhead start in using the new more efficient tools for entrypoint\nmanagement.\n\nNeeded-By: https://review.opendev.org/#/c/661856/\nChange-Id: Icd79bd057b9578a9ec8b107cc5d1ac926899c34b\n""}]",0,711282,1ea42b9878711306d5e4068dffa6e3cd96ac63a6,11,5,1,4146,,,0,"Add importlib-metadata

This Apache-2.0 library is intended to end up in python 3.8's stdlib.
For the rest of us we can get access to it via pypi on python2.7 and
python>=3.5. Why is this important? This package replaces pkg_resources
entrypoint and metadata APIs which are inefficient. This will give us a
head start in using the new more efficient tools for entrypoint
management.

Needed-By: https://review.opendev.org/#/c/661856/
Change-Id: Icd79bd057b9578a9ec8b107cc5d1ac926899c34b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/711282/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,1ea42b9878711306d5e4068dffa6e3cd96ac63a6,importlib-metadata,importlib-metadata # Apache-2.0,,1,0
openstack%2Frequirements~stable%2Ftrain~I1b624b653253b58ee3a31d4bbe2705080729459b,openstack/requirements,stable/train,I1b624b653253b58ee3a31d4bbe2705080729459b,update constraint for ceilometer to new release 13.1.0,MERGED,2020-02-27 13:07:32.000000000,2020-03-05 02:28:20.000000000,2020-03-05 02:28:20.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 13:07:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4f28edb2883d9ac917536489d99b5395e792677b', 'message': 'update constraint for ceilometer to new release 13.1.0\n\nChange-Id: I1b624b653253b58ee3a31d4bbe2705080729459b\nmeta:version: 13.1.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Commit: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Change-Id: I6b128ff0d22ce13e1245a4c55ce608142564207d\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,710247,4f28edb2883d9ac917536489d99b5395e792677b,20,3,1,11131,,,0,"update constraint for ceilometer to new release 13.1.0

Change-Id: I1b624b653253b58ee3a31d4bbe2705080729459b
meta:version: 13.1.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Pierre Riteau <pierre@stackhpc.com>
meta:release:Commit: Pierre Riteau <pierre@stackhpc.com>
meta:release:Change-Id: I6b128ff0d22ce13e1245a4c55ce608142564207d
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/710247/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4f28edb2883d9ac917536489d99b5395e792677b,new-release,ceilometer===13.1.0,ceilometer===13.0.0,1,1
openstack%2Frequirements~stable%2Frocky~I3761e469036b1ed73e2d6b34286573daf105bebc,openstack/requirements,stable/rocky,I3761e469036b1ed73e2d6b34286573daf105bebc,update constraint for ceilometer to new release 11.1.0,MERGED,2020-02-27 13:07:40.000000000,2020-03-05 02:19:27.000000000,2020-03-05 02:19:27.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 13:07:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d85deef8b5983a70e0749877ac4f36eb3541308e', 'message': 'update constraint for ceilometer to new release 11.1.0\n\nChange-Id: I3761e469036b1ed73e2d6b34286573daf105bebc\nmeta:version: 11.1.0\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Commit: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Change-Id: I6b128ff0d22ce13e1245a4c55ce608142564207d\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,710248,d85deef8b5983a70e0749877ac4f36eb3541308e,14,3,1,11131,,,0,"update constraint for ceilometer to new release 11.1.0

Change-Id: I3761e469036b1ed73e2d6b34286573daf105bebc
meta:version: 11.1.0
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Pierre Riteau <pierre@stackhpc.com>
meta:release:Commit: Pierre Riteau <pierre@stackhpc.com>
meta:release:Change-Id: I6b128ff0d22ce13e1245a4c55ce608142564207d
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/48/710248/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d85deef8b5983a70e0749877ac4f36eb3541308e,new-release,ceilometer===11.1.0,ceilometer===11.0.1,1,1
openstack%2Fnova~stable%2Ftrain~Ia6c184c31a980e4728b7309b2afaec4d9f494ac3,openstack/nova,stable/train,Ia6c184c31a980e4728b7309b2afaec4d9f494ac3,Make RBD imagebackend flatten method idempotent,MERGED,2020-02-13 14:29:50.000000000,2020-03-05 02:18:20.000000000,2020-03-05 02:15:36.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12356}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30112}]","[{'number': 1, 'created': '2020-02-13 14:29:50.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/03d59e289369df4980bc1e7350e7f52a6f6aa828', 'message': 'Make RBD imagebackend flatten method idempotent\n\nIf glance and nova are both configured with RBD backend, but glance\ndoes not return location information from the API, nova will fail to\nclone the image from glance pool and will download it from the API.\nIn this case, image will be already flat, and subsequent flatten call\nwill fail.\n\nThis commit makes flatten call idempotent, so that it ignores already\nflat images by catching ImageUnacceptable when requesting parent info\nfrom ceph.\n\nCloses-Bug: 1860990\nChange-Id: Ia6c184c31a980e4728b7309b2afaec4d9f494ac3\n(cherry picked from commit 65825ebfbd58920adac5e8594891eec8e9cec41f)\n'}]",0,707650,03d59e289369df4980bc1e7350e7f52a6f6aa828,22,9,1,10135,,,0,"Make RBD imagebackend flatten method idempotent

If glance and nova are both configured with RBD backend, but glance
does not return location information from the API, nova will fail to
clone the image from glance pool and will download it from the API.
In this case, image will be already flat, and subsequent flatten call
will fail.

This commit makes flatten call idempotent, so that it ignores already
flat images by catching ImageUnacceptable when requesting parent info
from ceph.

Closes-Bug: 1860990
Change-Id: Ia6c184c31a980e4728b7309b2afaec4d9f494ac3
(cherry picked from commit 65825ebfbd58920adac5e8594891eec8e9cec41f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/707650/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_imagebackend.py', 'nova/virt/libvirt/imagebackend.py']",2,03d59e289369df4980bc1e7350e7f52a6f6aa828,," # NOTE(vdrok): only flatten images if they are not already flattened, # meaning that parent info is present try: self.driver.parent_info(self.rbd_name, pool=self.driver.pool) except exception.ImageUnacceptable: LOG.debug( ""Image %(img)s from pool %(pool)s has no parent info, "" ""consider it already flat"", { 'img': self.rbd_name, 'pool': self.driver.pool}) else: self.driver.flatten(self.rbd_name, pool=self.driver.pool)"," self.driver.flatten(self.rbd_name, pool=self.driver.pool)",29,2
openstack%2Fswift~stable%2Ftrain~I73b5af9645f3f7349144384609bf18a79620e92f,openstack/swift,stable/train,I73b5af9645f3f7349144384609bf18a79620e92f,Ensure domain stored in memcached gets utf8 decoded on py2,MERGED,2020-03-03 05:14:58.000000000,2020-03-05 02:17:43.000000000,2020-03-05 02:15:39.000000000,"[{'_account_id': 12050}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 05:14:58.000000000', 'files': ['test/unit/common/middleware/test_cname_lookup.py', 'swift/common/middleware/cname_lookup.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4be20e0d8c77d2bb9dbc163b504a977208d9a6b6', 'message': 'Ensure domain stored in memcached gets utf8 decoded on py2\n\nChange-Id: I73b5af9645f3f7349144384609bf18a79620e92f\nCloses-Bug: #1862115\n(cherry picked from commit 61bf5ee1c428410b70bfab0a6eae361df948d03e)\n'}]",0,710904,4be20e0d8c77d2bb9dbc163b504a977208d9a6b6,14,3,1,15343,,,0,"Ensure domain stored in memcached gets utf8 decoded on py2

Change-Id: I73b5af9645f3f7349144384609bf18a79620e92f
Closes-Bug: #1862115
(cherry picked from commit 61bf5ee1c428410b70bfab0a6eae361df948d03e)
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/710904/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_cname_lookup.py', 'swift/common/middleware/cname_lookup.py']",2,4be20e0d8c77d2bb9dbc163b504a977208d9a6b6,bug/1862115,"import sixfrom swift.common.swob import Request, HTTPBadRequest, \ str_to_wsgi, wsgi_to_str requested_host = env['HTTP_HOST'] else: requested_host = env['SERVER_NAME'] given_domain = wsgi_to_str(requested_host) if six.PY2 and found_domain: found_domain = found_domain.encode('utf-8') env['HTTP_HOST'] = ':'.join([ str_to_wsgi(found_domain), port]) else: env['HTTP_HOST'] = str_to_wsgi(found_domain)","from six.moves import rangefrom swift.common.swob import Request, HTTPBadRequest requested_host = given_domain = env['HTTP_HOST'] else: requested_host = given_domain = env['SERVER_NAME'] env['HTTP_HOST'] = ':'.join([found_domain, port]) else: env['HTTP_HOST'] = found_domain",20,6
openstack%2Fvirtualbmc~master~I7464ce425ed05248152f264d64950e0ab1c0aec0,openstack/virtualbmc,master,I7464ce425ed05248152f264d64950e0ab1c0aec0,Fix logging in vbmcd,MERGED,2020-03-04 11:01:23.000000000,2020-03-05 02:03:23.000000000,2020-03-05 02:01:21.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-03-04 11:01:23.000000000', 'files': ['virtualbmc/manager.py', 'virtualbmc/control.py'], 'web_link': 'https://opendev.org/openstack/virtualbmc/commit/b12197bb0d03f25c0b997561c7ca6c1f69eb412f', 'message': ""Fix logging in vbmcd\n\nCurrently we log any exceptions as INFO and without much details.\nStart logging them as ERROR with tracebacks. Add missing logging.\n\nHowever, don't treat KeyboardInterrupt as an exception, just exit.\nAlso log the successful start-up, its absence is confusing.\n\nChange-Id: I7464ce425ed05248152f264d64950e0ab1c0aec0\n""}]",0,711203,b12197bb0d03f25c0b997561c7ca6c1f69eb412f,12,5,1,10239,,,0,"Fix logging in vbmcd

Currently we log any exceptions as INFO and without much details.
Start logging them as ERROR with tracebacks. Add missing logging.

However, don't treat KeyboardInterrupt as an exception, just exit.
Also log the successful start-up, its absence is confusing.

Change-Id: I7464ce425ed05248152f264d64950e0ab1c0aec0
",git fetch https://review.opendev.org/openstack/virtualbmc refs/changes/03/711203/1 && git format-patch -1 --stdout FETCH_HEAD,"['virtualbmc/manager.py', 'virtualbmc/control.py']",2,b12197bb0d03f25c0b997561c7ca6c1f69eb412f,exceptions," LOG.info('Started vBMC server on port %s', server_port) except KeyboardInterrupt: LOG.info('Got keyboard interrupt, exiting') vbmc_manager.periodic(shutdown=True)",,9,3
openstack%2Fneutron~master~Ibf59ae3df4f9d0364d7aab4118e9a58145372bfa,openstack/neutron,master,Ibf59ae3df4f9d0364d7aab4118e9a58145372bfa,[OVN] Enable live-migration tests for devstack multinode,MERGED,2020-02-21 11:26:15.000000000,2020-03-05 02:02:56.000000000,2020-03-05 01:58:15.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-02-21 11:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f237897d7170b8c6bbb065b7e2b0aaaad5d0b2fc', 'message': '[OVN] Enable live-migration tests for devstack multinode\n\nLive migration now success because [1] has been fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1716335\n\nChange-Id: Ibf59ae3df4f9d0364d7aab4118e9a58145372bfa\n'}, {'number': 2, 'created': '2020-03-02 10:33:04.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c99964ead2db2af9418badd695f2681f3ccbb12', 'message': '[OVN] Enable live-migration tests for devstack multinode\n\nLive migration now success because [1] has been fixed.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1716335\n\nChange-Id: Ibf59ae3df4f9d0364d7aab4118e9a58145372bfa\n'}]",0,709110,5c99964ead2db2af9418badd695f2681f3ccbb12,36,6,2,24791,,,0,"[OVN] Enable live-migration tests for devstack multinode

Live migration now success because [1] has been fixed.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1716335

Change-Id: Ibf59ae3df4f9d0364d7aab4118e9a58145372bfa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/709110/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,f237897d7170b8c6bbb065b7e2b0aaaad5d0b2fc,,," # TODO(slaweq): live_migration related test from the blacklist when bug # https://bugzilla.redhat.com/show_bug.cgi?id=1716335 will be fixed tempest_black_regex: ""\ (^tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test)|\ (^tempest.api.compute.admin.test_live_migration.LiveMigrationTest)""",0,5
openstack%2Fkeystone~master~Icb005b2e7b9d851f5a3e8677599b32a6e3edddc2,openstack/keystone,master,Icb005b2e7b9d851f5a3e8677599b32a6e3edddc2,Ignore SQLAlchemy RemovedIn20Warning,MERGED,2020-03-03 18:36:52.000000000,2020-03-05 02:02:36.000000000,2020-03-05 01:58:18.000000000,"[{'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-03-03 18:36:52.000000000', 'files': ['keystone/tests/unit/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a183badaa4c87a4849108d11a327127211a47371', 'message': ""Ignore SQLAlchemy RemovedIn20Warning\n\nSQLAlchemy 1.4 will be introducing a new warning\nclass called RemovedIn20Warning, which will indicate behaviors\nand APIs that are planned on being changed for the\nSQLAlchemy 2.0 release [1].  As SQLAlchemy 2.0 is planned on\nbeing a more major API break, applications will normally need\nto wait until they are fully on SQLAlchemy 1.4 only as well as\nPython 3 only in order to begin using new APIs that will allow\nmigration to 2.0.\n\nFor now, Keystone and others don't have a need to be raising\nfor this warning as there are not yet clear upgrade paths\nestablished.\n\n[1] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html#sqlalchemy-1-x-to-2-0-transition\n\nChange-Id: Icb005b2e7b9d851f5a3e8677599b32a6e3edddc2\n""}]",0,711084,a183badaa4c87a4849108d11a327127211a47371,9,5,1,11816,,,0,"Ignore SQLAlchemy RemovedIn20Warning

SQLAlchemy 1.4 will be introducing a new warning
class called RemovedIn20Warning, which will indicate behaviors
and APIs that are planned on being changed for the
SQLAlchemy 2.0 release [1].  As SQLAlchemy 2.0 is planned on
being a more major API break, applications will normally need
to wait until they are fully on SQLAlchemy 1.4 only as well as
Python 3 only in order to begin using new APIs that will allow
migration to 2.0.

For now, Keystone and others don't have a need to be raising
for this warning as there are not yet clear upgrade paths
established.

[1] https://docs.sqlalchemy.org/en/14/changelog/migration_20.html#sqlalchemy-1-x-to-2-0-transition

Change-Id: Icb005b2e7b9d851f5a3e8677599b32a6e3edddc2
",git fetch https://review.opendev.org/openstack/keystone refs/changes/84/711084/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/core.py'],1,a183badaa4c87a4849108d11a327127211a47371,ignore_sqla_20_warning," if hasattr(exc, ""RemovedIn20Warning""): warnings.simplefilter('ignore', exc.RemovedIn20Warning) ",,3,0
openstack%2Frequirements~master~I55f4e83e8fd10ce49154671372e4827a62b69ecc,openstack/requirements,master,I55f4e83e8fd10ce49154671372e4827a62b69ecc,update constraint for bashate to new release 2.0.0,MERGED,2020-03-04 01:10:54.000000000,2020-03-05 02:02:12.000000000,2020-03-05 01:58:20.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 01:10:54.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/88fa78ab4370e00a141616aa31c6dfdb1f447314', 'message': 'update constraint for bashate to new release 2.0.0\n\nChange-Id: I55f4e83e8fd10ce49154671372e4827a62b69ecc\nmeta:version: 2.0.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>\nmeta:release:Change-Id: I6e1f02ea92ee950d07bcec8ef6b0e508df6df7d9\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,711139,88fa78ab4370e00a141616aa31c6dfdb1f447314,15,2,1,11131,,,0,"update constraint for bashate to new release 2.0.0

Change-Id: I55f4e83e8fd10ce49154671372e4827a62b69ecc
meta:version: 2.0.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Commit: Ghanshyam Mann <gmann@ghanshyammann.com>
meta:release:Change-Id: I6e1f02ea92ee950d07bcec8ef6b0e508df6df7d9
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/39/711139/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,88fa78ab4370e00a141616aa31c6dfdb1f447314,new-release,bashate===2.0.0;python_version=='3.6' bashate===2.0.0;python_version=='3.7',bashate===1.0.0;python_version=='3.6' bashate===1.0.0;python_version=='3.7',2,2
openstack%2Fpuppet-openstack-integration~master~Id643efdbab93f39ce3b168a2d1c451035547ecab,openstack/puppet-openstack-integration,master,Id643efdbab93f39ce3b168a2d1c451035547ecab,Run unittests and lint tests on CentOS8,MERGED,2020-02-25 00:00:02.000000000,2020-03-05 01:53:35.000000000,2020-03-05 01:53:35.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-25 00:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6c3fe164473ea9157343a8100424c059c133b9c0', 'message': 'Run unittests on CentOS8\n\nThis patch introduces a job to run unit tests on CentOS8, as we are\nmigrating from CentOS7 to CentOS8.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}, {'number': 2, 'created': '2020-02-25 11:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b83c25b451077b7a3b2259e1d260fe60475426e2', 'message': 'Run unittests on CentOS8\n\nThis patch introduces a job to run unit tests on CentOS8, as we are\nmigrating from CentOS7 to CentOS8.\n\nNote that we use Puppet 5.5 in CentOS8 initially, but the version\nshould be bumped up to 6.x when Puppet 6 package become available,\nbecause Puppet 5 will be deprecated in Ussri.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}, {'number': 3, 'created': '2020-02-25 11:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/dc11a030f1e04866da28711b9a6ae0918089d821', 'message': 'Run unittests on CentOS8\n\nThis patch introduces a job to run unit tests on CentOS8, as we are\nmigrating from CentOS7 to CentOS8.\n\nNote that we use Puppet 5.5 in CentOS8 initially, but the version\nshould be bumped up to 6.x when Puppet 6 package become available,\nbecause Puppet 5 will be deprecated in Ussri.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}, {'number': 4, 'created': '2020-02-25 11:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ee56e64b2ca5b18aa227d7afe28d6838f7db265b', 'message': 'Run unittests on CentOS8\n\nThis patch introduces a job to run unit tests on CentOS8, as we are\nmigrating from CentOS7 to CentOS8.\n\nNote that we use Puppet 5.5 in CentOS8 initially, but the version\nshould be bumped up to 6.x when Puppet 6 package become available,\nbecause Puppet 5 will be deprecated in Ussri.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}, {'number': 5, 'created': '2020-03-03 13:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cba441530f446f10184a648ff8a7ea4ca740e8e4', 'message': 'Run unittests on CentOS8\n\nThis patch introduces a job to run unit tests on CentOS8, as we are\nmigrating from CentOS7 to CentOS8.\n\nNote that we have a job with puppet 5.5 initially, because we still\nuse puppet 5.5 in rdo train, but puppet 5 will be deprecated in Ussri.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}, {'number': 6, 'created': '2020-03-03 13:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/4bc10a6dbe44be9f1e533fce578e1c52b474c38d', 'message': 'Run unittests on CentOS8\n\nThis patch introduces a job to run unit tests on CentOS8, as we are\nmigrating from CentOS7 to CentOS8.\n\nNote that we have a job with puppet 5.5 initially, because we still\nuse puppet 5.5 in rdo train, but puppet 5 will be deprecated in Ussri.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}, {'number': 7, 'created': '2020-03-03 13:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/89bb7ea833c89f2c5bd5cae85ed85cda4a1431a8', 'message': 'Run unittests and lint tests on CentOS8\n\nThis patch introduces a job to run unit tests and lint tests on\nCentOS8, as we are migrating from CentOS7 to CentOS8.\n\nNote that we have a job with puppet 5.5 initially, because we still\nuse puppet 5.5 in rdo train, but puppet 5 will be deprecated in Ussri.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}, {'number': 8, 'created': '2020-03-03 13:19:46.000000000', 'files': ['zuul.d/libraries.yaml', 'zuul.d/layout.yaml', 'zuul.d/linters.yaml', 'zuul.d/unit.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/867f939bd6c71535b49fd6738c225f3815cf5933', 'message': 'Run unittests and lint tests on CentOS8\n\nThis patch introduces a job to run unit tests and lint tests on\nCentOS8, as we are migrating from CentOS7 to CentOS8.\n\nNote that we have a job with puppet 5.5 initially, because we still\nuse puppet 5.5 in rdo train, but puppet 5 will be deprecated in Ussri.\n\nChange-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab\n'}]",299,709637,867f939bd6c71535b49fd6738c225f3815cf5933,27,5,8,9816,,,0,"Run unittests and lint tests on CentOS8

This patch introduces a job to run unit tests and lint tests on
CentOS8, as we are migrating from CentOS7 to CentOS8.

Note that we have a job with puppet 5.5 initially, because we still
use puppet 5.5 in rdo train, but puppet 5 will be deprecated in Ussri.

Change-Id: Id643efdbab93f39ce3b168a2d1c451035547ecab
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/37/709637/6 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/unit.yaml'],1,6c3fe164473ea9157343a8100424c059c133b9c0,ut-centos8, name: puppet-openstack-unit-latest-centos-8 parent: puppet-openstack-unit-base nodeset: centos-8 voting: false vars: puppet_gem_version: latest - job: - puppet-openstack-unit-latest-centos-8,,9,0
openstack%2Fheat~stable%2Ftrain~Ib5bddf12ca63849a030d1d579d0a2e853e8b848a,openstack/heat,stable/train,Ib5bddf12ca63849a030d1d579d0a2e853e8b848a,Support handling empty string for volume AZ,MERGED,2020-02-26 01:02:50.000000000,2020-03-05 01:28:11.000000000,2020-03-05 01:24:21.000000000,"[{'_account_id': 4257}, {'_account_id': 6484}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-02-26 01:02:50.000000000', 'files': ['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'releasenotes/notes/support-handling-empty-string-for-volume-az-22ad78eb0f931954.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/77b8395e7dc5aa863364367461aaf571d2b0793e', 'message': 'Support handling empty string for volume AZ\n\nWhen building a complex stack, instance and volume are both\nnecessary. But the support of AZ in Nova and Cinder are slightly\ndifferent which is causing troubles to build the Heat template.\nWithout setting, the property availability_zone of volume always\ngot """", an empty string, instead of None. As a result, Cinder will\nreturn 400 BadRequest error. This patch will turn the empty\nstring into None, to make sure Cinder can correctly handle the\nscenario when availability_zone of volume is not set.\n\nTask: 38853\nStory: 2007330\n\nChange-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a\n(cherry picked from commit 50d72b8c0b6ef9d025c8de3fe036c414f73dbd06)\n'}]",0,709918,77b8395e7dc5aa863364367461aaf571d2b0793e,12,6,1,6484,,,0,"Support handling empty string for volume AZ

When building a complex stack, instance and volume are both
necessary. But the support of AZ in Nova and Cinder are slightly
different which is causing troubles to build the Heat template.
Without setting, the property availability_zone of volume always
got """", an empty string, instead of None. As a result, Cinder will
return 400 BadRequest error. This patch will turn the empty
string into None, to make sure Cinder can correctly handle the
scenario when availability_zone of volume is not set.

Task: 38853
Story: 2007330

Change-Id: Ib5bddf12ca63849a030d1d579d0a2e853e8b848a
(cherry picked from commit 50d72b8c0b6ef9d025c8de3fe036c414f73dbd06)
",git fetch https://review.opendev.org/openstack/heat refs/changes/18/709918/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/cinder/test_volume.py', 'heat/engine/resources/openstack/cinder/volume.py', 'releasenotes/notes/support-handling-empty-string-for-volume-az-22ad78eb0f931954.yaml']",3,77b8395e7dc5aa863364367461aaf571d2b0793e,story/2007330-38853-train,"--- fixes: - | Empty string passing in for volume availability_zone can be correctly handled now. For this case, it's same as no AZ set, so the default AZ in cinder.conf will be used. ",,31,1
openstack%2Fopenstacksdk~master~I152f0c626b358328cedd404c8fc8d0bee46d2991,openstack/openstacksdk,master,I152f0c626b358328cedd404c8fc8d0bee46d2991,Handle old status-less placement service,MERGED,2020-03-04 20:23:52.000000000,2020-03-05 00:23:32.000000000,2020-03-05 00:20:16.000000000,"[{'_account_id': 2}, {'_account_id': 3099}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-04 20:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7ae13bce428d0b26d6c960656e72987ebf327f0b', 'message': ""Handle old status-less placement service\n\nOlder versions of placement didn't include the status field\nin their version discovery documents. Naughty naughty. We fixed it,\nbut those are still out there and we need to support them.\n\nChange-Id: I152f0c626b358328cedd404c8fc8d0bee46d2991\n""}, {'number': 2, 'created': '2020-03-04 21:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/72f290ccdc6b3f6f00b6e43fb3fb29a5fd1c015a', 'message': ""Handle old status-less placement service\n\nOlder versions of placement didn't include the status field\nin their version discovery documents. Naughty naughty. We fixed it,\nbut those are still out there and we need to support them.\n\nChange-Id: I152f0c626b358328cedd404c8fc8d0bee46d2991\n""}, {'number': 3, 'created': '2020-03-04 21:24:58.000000000', 'files': ['openstack/config/cloud_region.py', 'openstack/tests/unit/fixtures/bad-placement.json', 'releasenotes/notes/old-placement-4b3c34abb8fe7b81.yaml', 'openstack/tests/unit/test_placement_rest.py', 'openstack/service_description.py', 'openstack/tests/unit/base.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6f80554807ad2e08d3fe3be69522af0e6f8f3203', 'message': ""Handle old status-less placement service\n\nOlder versions of placement didn't include the status field\nin their version discovery documents. This was fixed in\nplacement in https://review.opendev.org/575117, but there\nare clouds out there in the wild running this version\nand SDK bombs out trying to talk to them.\n\nChange-Id: I152f0c626b358328cedd404c8fc8d0bee46d2991\n""}]",3,711328,6f80554807ad2e08d3fe3be69522af0e6f8f3203,12,4,3,2,,,0,"Handle old status-less placement service

Older versions of placement didn't include the status field
in their version discovery documents. This was fixed in
placement in https://review.opendev.org/575117, but there
are clouds out there in the wild running this version
and SDK bombs out trying to talk to them.

Change-Id: I152f0c626b358328cedd404c8fc8d0bee46d2991
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/711328/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/fixtures/bad-placement.json', 'openstack/tests/unit/test_placement_rest.py', 'openstack/tests/unit/base.py']",3,7ae13bce428d0b26d6c960656e72987ebf327f0b,bad-placement," def get_placement_discovery_mock_dict( self, discovery_fixture='placement.json'): self.fixtures_directory, discovery_fixture) def use_placement(self, **kwargs): self.get_placement_discovery_mock_dict(**kwargs)])"," def get_placement_discovery_mock_dict(self): self.fixtures_directory, ""placement.json"") def use_placement(self): self.get_placement_discovery_mock_dict()])",45,4
openstack%2Fhacking~master~I3ae88a4a11f3c552061eaeb7330d01c1f214bcc6,openstack/hacking,master,I3ae88a4a11f3c552061eaeb7330d01c1f214bcc6,[ussuri][goal] Drop python 2.7 support and testing,MERGED,2020-02-03 18:52:47.000000000,2020-03-05 00:13:24.000000000,2020-03-05 00:07:46.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-02-03 18:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/d0dc2b33ffd3573b44d412f4db051887868e12e2', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nhacking is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I3ae88a4a11f3c552061eaeb7330d01c1f214bcc6\n'}, {'number': 2, 'created': '2020-02-13 15:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/d74e08856ca99b13069e10f90f24c28fc166f9d5', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nhacking is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I3ae88a4a11f3c552061eaeb7330d01c1f214bcc6\n'}, {'number': 3, 'created': '2020-02-13 16:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/hacking/commit/fdb299fda40ef73211089acdfaef251d13cde1c6', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nhacking is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I3ae88a4a11f3c552061eaeb7330d01c1f214bcc6\n'}, {'number': 4, 'created': '2020-02-24 01:08:13.000000000', 'files': ['.zuul.yaml', 'doc/requirements.txt', 'releasenotes/notes/drop-py-2-7-c2bcdd28e4513532.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/hacking/commit/30154d65d792ad4052f89dc07f6d00d91ebb9b11', 'message': '[ussuri][goal] Drop python 2.7 support and testing\n\nOpenStack is dropping the py2.7 support in ussuri cycle.\n\nhacking is ready with python 3 and ok to drop the\npython 2.7 support.\n\nComplete discussion & schedule can be found in\n- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html\n- https://etherpad.openstack.org/p/drop-python2-support\n\nUssuri Communtiy-wide goal:\nhttps://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n\nChange-Id: I3ae88a4a11f3c552061eaeb7330d01c1f214bcc6\n'}]",7,705514,30154d65d792ad4052f89dc07f6d00d91ebb9b11,30,7,4,8556,,,0,"[ussuri][goal] Drop python 2.7 support and testing

OpenStack is dropping the py2.7 support in ussuri cycle.

hacking is ready with python 3 and ok to drop the
python 2.7 support.

Complete discussion & schedule can be found in
- http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010142.html
- https://etherpad.openstack.org/p/drop-python2-support

Ussuri Communtiy-wide goal:
https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html

Change-Id: I3ae88a4a11f3c552061eaeb7330d01c1f214bcc6
",git fetch https://review.opendev.org/openstack/hacking refs/changes/14/705514/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'doc/requirements.txt', 'releasenotes/notes/drop-py-2-7-c2bcdd28e4513532.yaml', 'setup.cfg', 'tox.ini']",5,d0dc2b33ffd3573b44d412f4db051887868e12e2,drop-py27-support,"minversion = 3.1.1envlist = py36,py37,pep8,pypy ignore_basepython_conflict = Truebasepython = python3","minversion = 2.0envlist = py27,py36,py37,pep8,pypybasepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3basepython = python3",13,15
openstack%2Fcinder~master~Idc13e6b580d214741c682f470af00505b7c019ae,openstack/cinder,master,Idc13e6b580d214741c682f470af00505b7c019ae,Mark Huawei Fusionstorage Driver Supported,MERGED,2020-02-26 03:29:11.000000000,2020-03-04 23:54:11.000000000,2020-03-04 06:01:05.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22495}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29217}, {'_account_id': 29705}, {'_account_id': 29716}]","[{'number': 1, 'created': '2020-02-26 03:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/010cfd1588b7e0d121d77ba5b4ad33f5d8e3dd43', 'message': ""Mark Huawei Fusionstorage Driver Supported\n\nThe Fusionstorage driver has successfully adapted to Python 3.7\nand the 3rd Party CI is happy. Therefor, the driver is being marked\nsupported in 'U' release.\n\nChange-Id: Idc13e6b580d214741c682f470af00505b7c019ae\n""}, {'number': 2, 'created': '2020-02-27 21:38:10.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/huawei-fusionstorage-driver-readd-70fecc39eeaa0f5f.yaml', 'cinder/volume/drivers/fusionstorage/dsware.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/046e172475a31f2a2e588371866286dc83c51d5b', 'message': ""Mark Huawei Fusionstorage Driver Supported\n\nThe Fusionstorage driver has successfully adapted to Python 3.7\nand the 3rd Party CI is happy. Therefor, the driver is being marked\nsupported in 'U' release.\n\nChange-Id: Idc13e6b580d214741c682f470af00505b7c019ae\n""}]",0,709948,046e172475a31f2a2e588371866286dc83c51d5b,116,35,2,29217,,,0,"Mark Huawei Fusionstorage Driver Supported

The Fusionstorage driver has successfully adapted to Python 3.7
and the 3rd Party CI is happy. Therefor, the driver is being marked
supported in 'U' release.

Change-Id: Idc13e6b580d214741c682f470af00505b7c019ae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/709948/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/huawei-fusionstorage-driver-readd-70fecc39eeaa0f5f.yaml', 'cinder/volume/drivers/fusionstorage/dsware.py']",3,010cfd1588b7e0d121d77ba5b4ad33f5d8e3dd43,,, # TODO(jsbryant) Remove driver in the 'U' release due to no py37 support. SUPPORTED = False ,6,4
openstack%2Fkuryr-kubernetes~master~I01b66dcd5c7c0e8193150a0a1b20878aaa8ec9e3,openstack/kuryr-kubernetes,master,I01b66dcd5c7c0e8193150a0a1b20878aaa8ec9e3,Nested CNI: Remove interfaces on DEL requests,MERGED,2020-03-04 13:36:19.000000000,2020-03-04 23:52:18.000000000,2020-03-04 23:49:05.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2020-03-04 13:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/10d1fd8890b0e9b2c257faa21c923e4b730487b6', 'message': ""Nested CNI: Remove interfaces on DEL requests\n\nHistorically we haven't been doing any actions on CNI DEL request when\nrunning in nested mode because all the interfaces we created will be\ngone when netns will get deleted. There is an issue with that approach:\n\n1. We get ADD request for pod A in netns X and correctly bind it using\n   VLAN ID V.\n2. We get DEL request for same pod A and netns X. We don't do anything.\n3. Netns is not yet deleted…\n4. Another ADD request comes for pod A but now with netns Y (normal K8s\n   behavior).\n   a) We try binding it, but there is a veth pair with VLAN ID V already\n   on the host namespace, so we end up with VLAN ID conflict.\n   b) Binding fails with EEXIST error.\n\nThe problem with this hypothesis is that the EEXIST error seems to be\npersistent and in theory it should disappear after the netns gets\ndeleted but maybe there's a longer delay in the netns deletion.\n\nThis commit solves this problem by making sure we always clean up all\ninterfaces on DEL requests.\n\nChange-Id: I01b66dcd5c7c0e8193150a0a1b20878aaa8ec9e3\nCloses-Bug: 1854928\n""}, {'number': 2, 'created': '2020-03-04 14:39:27.000000000', 'files': ['kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a0a6e65bb0ce4c1973030dd1f37a38a81343480a', 'message': ""Nested CNI: Remove interfaces on DEL requests\n\nHistorically we haven't been doing any actions on CNI DEL request when\nrunning in nested mode because all the interfaces we created will be\ngone when netns will get deleted. There is an issue with that approach:\n\n1. We get ADD request for pod A in netns X and correctly bind it using\n   VLAN ID V.\n2. We get DEL request for same pod A and netns X. We don't do anything.\n3. Netns is not yet deleted…\n4. Another ADD request comes for pod A but now with netns Y (normal K8s\n   behavior).\n   a) We try binding it, but there is a veth pair with VLAN ID V already\n   on the host namespace, so we end up with VLAN ID conflict.\n   b) Binding fails with EEXIST error.\n\nThe problem with this hypothesis is that the EEXIST error seems to be\npersistent and in theory it should disappear after the netns gets\ndeleted but maybe there's a longer delay in the netns deletion.\n\nThis commit solves this problem by making sure we always clean up all\ninterfaces on DEL requests.\n\nChange-Id: I01b66dcd5c7c0e8193150a0a1b20878aaa8ec9e3\nCloses-Bug: 1854928\n""}]",0,711229,a0a6e65bb0ce4c1973030dd1f37a38a81343480a,11,4,2,11600,,,0,"Nested CNI: Remove interfaces on DEL requests

Historically we haven't been doing any actions on CNI DEL request when
running in nested mode because all the interfaces we created will be
gone when netns will get deleted. There is an issue with that approach:

1. We get ADD request for pod A in netns X and correctly bind it using
   VLAN ID V.
2. We get DEL request for same pod A and netns X. We don't do anything.
3. Netns is not yet deleted…
4. Another ADD request comes for pod A but now with netns Y (normal K8s
   behavior).
   a) We try binding it, but there is a veth pair with VLAN ID V already
   on the host namespace, so we end up with VLAN ID conflict.
   b) Binding fails with EEXIST error.

The problem with this hypothesis is that the EEXIST error seems to be
persistent and in theory it should disappear after the netns gets
deleted but maybe there's a longer delay in the netns deletion.

This commit solves this problem by making sure we always clean up all
interfaces on DEL requests.

Change-Id: I01b66dcd5c7c0e8193150a0a1b20878aaa8ec9e3
Closes-Bug: 1854928
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/29/711229/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/nested.py']",2,10d1fd8890b0e9b2c257faa21c923e4b730487b6,bug/1854928," # NOTE(dulek): Interfaces should get deleted with the netns, but it may # happen that kubelet or crio will call CNI ADD before # the old netns is deleted. This might result in VLAN ID # conflict. In oder to protect from that let's remove the # ifaces here anyway. with b_base.get_ipdb(netns) as c_ipdb: self._remove_ifaces(c_ipdb, (vif.vif_name, ifname), netns) with b_base.get_ipdb() as h_ipdb: self._remove_ifaces(h_ipdb, (vif.vif_name,))"," # NOTE(vikasc): device will get deleted with container namespace, so # nothing to be done here. pass",16,4
openstack%2Fkuryr-kubernetes~master~I23b947ef5f8c56429b5c69b73489fec19c44bd7e,openstack/kuryr-kubernetes,master,I23b947ef5f8c56429b5c69b73489fec19c44bd7e,Raise K8sResourceNotFound for all client methods,MERGED,2020-03-03 15:21:19.000000000,2020-03-04 23:46:48.000000000,2020-03-04 23:44:02.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-03-03 15:21:19.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fd3f4c55d7c6d65404e2a9cf06b3c4cc3714ee1f', 'message': ""Raise K8sResourceNotFound for all client methods\n\nSeems like K8sClient wasn't raising K8sResourceNotFound exception on 404\nfrom all the methods, e.g. patch. This commit makes sure that is no\nlonger the case and any 404 results in K8sResourceNotFound exception.\n\nChange-Id: I23b947ef5f8c56429b5c69b73489fec19c44bd7e\nCloses-Bug: 1865893\n""}]",0,711038,fd3f4c55d7c6d65404e2a9cf06b3c4cc3714ee1f,15,5,1,11600,,,0,"Raise K8sResourceNotFound for all client methods

Seems like K8sClient wasn't raising K8sResourceNotFound exception on 404
from all the methods, e.g. patch. This commit makes sure that is no
longer the case and any 404 results in K8sResourceNotFound exception.

Change-Id: I23b947ef5f8c56429b5c69b73489fec19c44bd7e
Closes-Bug: 1865893
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/38/711038/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/k8s_client.py']",2,fd3f4c55d7c6d65404e2a9cf06b3c4cc3714ee1f,bug/1865893," def _raise_from_response(self, response): if response.status_code == requests.codes.not_found: raise exc.K8sResourceNotFound(response.text) if not response.ok: raise exc.K8sClientException(response.text) self._raise_from_response(response) self._raise_from_response(response) return response.json().get('status') self._raise_from_response(response) return response.json().get('status') self._raise_from_response(response) return response.json().get('status') self._raise_from_response(response) return response.json().get('status') self._raise_from_response(response) return response.json() self._raise_from_response(response) return response.json() self._raise_from_response(response)", if response.status_code == requests.codes.not_found: raise exc.K8sResourceNotFound(response.text) if not response.ok: raise exc.K8sClientException(response.text) if response.ok: return response.json().get('status') raise exc.K8sClientException(response.text) if response.ok: return response.json().get('status') raise exc.K8sClientException(response.text) if response.ok: return response.json().get('status') raise exc.K8sClientException(response.text) if response.ok: return response.json().get('status') raise exc.K8sClientException(response.text) if response.ok: return response.json() raise exc.K8sClientException(response) if response.ok: return response.json() else: if response.status_code == requests.codes.not_found: raise exc.K8sResourceNotFound(response.text) raise exc.K8sClientException(response) if response.status_code == requests.codes.not_found: raise exc.K8sResourceNotFound(response.text) else: raise exc.K8sClientException(response.text),40,29
openstack%2Fnova~master~I36da36cc5b099174eece0dfba29485fc20b2867b,openstack/nova,master,I36da36cc5b099174eece0dfba29485fc20b2867b,functional: Avoid race and fix use of self.api within test_bug_1831771,MERGED,2020-03-04 12:06:00.000000000,2020-03-04 23:38:32.000000000,2020-03-04 23:33:54.000000000,"[{'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-03-04 12:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ebc81c86620337a038e8b86eb04ac7af7a38e34', 'message': ""functional: Do not provide self.api to _wait_for_server_parameter within test_bug_1831771\n\nWith I8c96b337f32148f8f5899c9b87af331b1fa41424 this is no longer\nrequired and can lead to `TypeError: 'TestOpenStackClient' object is not\nsubscriptable` errors if still provided as an argument.\n\nChange-Id: I36da36cc5b099174eece0dfba29485fc20b2867b\n""}, {'number': 2, 'created': '2020-03-04 13:40:02.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1831771.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cbffac7df1deb106876b4fba1d481ce70bda9302', 'message': ""functional: Avoid race and fix use of self.api within test_bug_1831771\n\nThis test would previously only attempt to invoke a race between\ninstance.save(expected_task_state=task_states.SPAWNING) and a parallel\nattempt to delete an instance when the instance also has a vm_state of\nACTIVE and task_state of None. However vm_state and task_state would\noften be different within the test resulting in no attempt to invoke the\ntest being made.\n\nAs instance.save is only called with expected_task_state set to\ntask_states.SPAWNING by _unshelve_instance and _build_and_run_instance\nwe should just check for this and avoid any state races within the test.\n\nAdditionally when attempting to invoke the race this test would call\n_wait_for_server_parameter and provide self.api. This change removes\nthis argument as since I8c96b337f32148f8f5899c9b87af331b1fa41424 this is\nno longer required and will result in a `TypeError:\n'TestOpenStackClient' object is not subscriptable` error.\n\nCloses-Bug: #1866072\nChange-Id: I36da36cc5b099174eece0dfba29485fc20b2867b\n""}]",0,711211,cbffac7df1deb106876b4fba1d481ce70bda9302,20,9,2,10135,,,0,"functional: Avoid race and fix use of self.api within test_bug_1831771

This test would previously only attempt to invoke a race between
instance.save(expected_task_state=task_states.SPAWNING) and a parallel
attempt to delete an instance when the instance also has a vm_state of
ACTIVE and task_state of None. However vm_state and task_state would
often be different within the test resulting in no attempt to invoke the
test being made.

As instance.save is only called with expected_task_state set to
task_states.SPAWNING by _unshelve_instance and _build_and_run_instance
we should just check for this and avoid any state races within the test.

Additionally when attempting to invoke the race this test would call
_wait_for_server_parameter and provide self.api. This change removes
this argument as since I8c96b337f32148f8f5899c9b87af331b1fa41424 this is
no longer required and will result in a `TypeError:
'TestOpenStackClient' object is not subscriptable` error.

Closes-Bug: #1866072
Change-Id: I36da36cc5b099174eece0dfba29485fc20b2867b
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/711211/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1831771.py'],1,2ebc81c86620337a038e8b86eb04ac7af7a38e34,bug/1866072,," self.api,",0,1
openstack%2Frpm-packaging~stable%2Ftrain~I0cae22dd09d827cf3447cdfe08d434863642ff52,openstack/rpm-packaging,stable/train,I0cae22dd09d827cf3447cdfe08d434863642ff52,update constraint for oslo.config to new release 6.11.2,MERGED,2020-02-26 02:15:45.000000000,2020-03-04 23:37:02.000000000,2020-03-04 23:37:02.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-26 02:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30e83a307da5d5d187e048cd2870e4c95dcc039b', 'message': 'update constraint for oslo.config to new release 6.11.2\n\nDepends-on:I83393e38e9440b9cf0a17e2baef51f37e5a19700\nChange-Id: I0cae22dd09d827cf3447cdfe08d434863642ff52\n'}, {'number': 2, 'created': '2020-03-01 19:59:56.000000000', 'files': ['openstack/oslo.config/oslo.config.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1b6079aa0ed5565f5b785e78e3446ea9f58f31dc', 'message': 'update constraint for oslo.config to new release 6.11.2\n\nDepends-on:I83393e38e9440b9cf0a17e2baef51f37e5a19700\nChange-Id: I0cae22dd09d827cf3447cdfe08d434863642ff52\n'}]",0,709932,1b6079aa0ed5565f5b785e78e3446ea9f58f31dc,17,5,2,26571,,,0,"update constraint for oslo.config to new release 6.11.2

Depends-on:I83393e38e9440b9cf0a17e2baef51f37e5a19700
Change-Id: I0cae22dd09d827cf3447cdfe08d434863642ff52
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/32/709932/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oslo.config/oslo.config.spec.j2'],1,30e83a307da5d5d187e048cd2870e4c95dcc039b,oslo.config,{% set upstream_version = upstream_version('6.11.2') %},{% set upstream_version = upstream_version('6.11.1') %},1,1
openstack%2Fnova~stable%2Ftrain~I253f4f305ecf8b5331212be87caef41f2ebb747e,openstack/nova,stable/train,I253f4f305ecf8b5331212be87caef41f2ebb747e,libvirt: avoid cpu check at s390x arch,MERGED,2020-01-08 10:06:01.000000000,2020-03-04 23:36:26.000000000,2020-03-04 23:33:49.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-08 10:06:01.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7d7a3ba70a36f05b07ee471490f1b587663348f8', 'message': 'libvirt: avoid cpu check at s390x arch\n\nnova compute will call check_can_live_migrate_destination when doing\nlive migration and it will compare cpu model, however, following info\nindicated that cpu compare is not supported at s390x arch.\n\nURI qemu:///system does not support full set of host capabilities: this\nfunction is not supported by the connection driver:\ncannot compute baseline CPU of s390x architecture\n\nhttps://www.libvirt.org/news.html has the info\nv5.9.0 has Improvements part indicated the compare was added at 5.9\n\nso the workaround is to avoid the check and let the migration proceed.\n\nChange-Id: I253f4f305ecf8b5331212be87caef41f2ebb747e\nCloses-Bug: 1854126\n(cherry picked from commit 011cce6adb30c50737b45ec02e161fd71ab5b3e3)\n'}]",0,701525,7d7a3ba70a36f05b07ee471490f1b587663348f8,30,6,1,6062,,,0,"libvirt: avoid cpu check at s390x arch

nova compute will call check_can_live_migrate_destination when doing
live migration and it will compare cpu model, however, following info
indicated that cpu compare is not supported at s390x arch.

URI qemu:///system does not support full set of host capabilities: this
function is not supported by the connection driver:
cannot compute baseline CPU of s390x architecture

https://www.libvirt.org/news.html has the info
v5.9.0 has Improvements part indicated the compare was added at 5.9

so the workaround is to avoid the check and let the migration proceed.

Change-Id: I253f4f305ecf8b5331212be87caef41f2ebb747e
Closes-Bug: 1854126
(cherry picked from commit 011cce6adb30c50737b45ec02e161fd71ab5b3e3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/25/701525/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,7d7a3ba70a36f05b07ee471490f1b587663348f8,bug/1854126," def test_compare_cpu_virt_platform_s390x(self): _fake_s390xcpu_info = { ""arch"": ""s390x"", ""model"": ""test_model"", ""vendor"": ""test_vendor"", ""topology"": { ""sockets"": 1, ""cores"": 8, ""threads"": 16 }, ""features"": [""feature1"", ""feature2""] } instance = objects.Instance(**self.test_instance) conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) ret = conn._compare_cpu(None, jsonutils.dumps(_fake_s390xcpu_info), instance) self.assertIsNone(ret) ",,32,0
openstack%2Fopenstacksdk~stable%2Ftrain~I76b33e6c870971cdf50938d1328445702c83b64a,openstack/openstacksdk,stable/train,I76b33e6c870971cdf50938d1328445702c83b64a,Fix error handling on add/remove router iface calls,MERGED,2020-03-03 12:41:32.000000000,2020-03-04 23:23:55.000000000,2020-03-04 23:19:56.000000000,"[{'_account_id': 2}, {'_account_id': 11600}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 12:41:32.000000000', 'files': ['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/dc65d5fd302c7fe3d252871afb5f190c979a2185', 'message': 'Fix error handling on add/remove router iface calls\n\nIb1f880f75e511faaf8c798da22b9ca54dd441166 was manually processing call\nresults to raise SDKException. Instead of that\nexception.raise_from_response() should be used to make sure a correct\nexception class is thrown (e.g. NotFoundException on 404 results) and\nthis commit fixes this.\n\nChange-Id: I76b33e6c870971cdf50938d1328445702c83b64a\nStory: #2006679\nTask: #38575\n(cherry picked from commit 8afbfc7cd15a4bd8470cdcf41ee15a2a1d8e840a)\n'}]",0,710995,dc65d5fd302c7fe3d252871afb5f190c979a2185,10,4,1,21798,,,0,"Fix error handling on add/remove router iface calls

Ib1f880f75e511faaf8c798da22b9ca54dd441166 was manually processing call
results to raise SDKException. Instead of that
exception.raise_from_response() should be used to make sure a correct
exception class is thrown (e.g. NotFoundException on 404 results) and
this commit fixes this.

Change-Id: I76b33e6c870971cdf50938d1328445702c83b64a
Story: #2006679
Task: #38575
(cherry picked from commit 8afbfc7cd15a4bd8470cdcf41ee15a2a1d8e840a)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/710995/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_router.py']",2,dc65d5fd302c7fe3d252871afb5f190c979a2185,story/2006679,"from openstack import exceptions response.status_code = 200 response.status_code = 200 response.status_code = 200 response.status_code = 200 msg = '.*borked' response.headers = {'content-type': 'application/json'} with testtools.ExpectedException(exceptions.ConflictException, msg): msg = '.*borked' response.headers = {'content-type': 'application/json'} with testtools.ExpectedException(exceptions.ConflictException, msg):","from openstack.exceptions import SDKException msg = 'borked' with testtools.ExpectedException(SDKException, msg): msg = 'borked' with testtools.ExpectedException(SDKException, msg):",13,12
openstack%2Fopenstacksdk~stable%2Ftrain~Ib1f880f75e511faaf8c798da22b9ca54dd441166,openstack/openstacksdk,stable/train,Ib1f880f75e511faaf8c798da22b9ca54dd441166,Handle HTTP errors in add/remove router interface calls,MERGED,2020-03-03 12:41:32.000000000,2020-03-04 23:22:07.000000000,2020-03-04 23:19:52.000000000,"[{'_account_id': 2}, {'_account_id': 15554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 12:41:32.000000000', 'files': ['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3aa053e7b938920991da6e5d9b31cd48ca9f9e43', 'message': 'Handle HTTP errors in add/remove router interface calls\n\nConflicts:\n\topenstack/network/v2/router.py\n\topenstack/tests/unit/network/v2/test_router.py\n\nChange-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166\nStory: #2006679\nTask: #36955\n(cherry picked from commit c0745ea4d1ae98ddfb36535453c81c964ef4863d)\n'}]",0,710994,3aa053e7b938920991da6e5d9b31cd48ca9f9e43,8,3,1,21798,,,0,"Handle HTTP errors in add/remove router interface calls

Conflicts:
	openstack/network/v2/router.py
	openstack/tests/unit/network/v2/test_router.py

Change-Id: Ib1f880f75e511faaf8c798da22b9ca54dd441166
Story: #2006679
Task: #36955
(cherry picked from commit c0745ea4d1ae98ddfb36535453c81c964ef4863d)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/710994/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_router.py']",2,3aa053e7b938920991da6e5d9b31cd48ca9f9e43,story/2006679,"import testtools from openstack.exceptions import SDKException def test_add_interface_4xx(self): # Neutron may return 4xx, we have to raise if that happens sot = router.Router(**EXAMPLE) response = mock.Mock() msg = 'borked' response.body = {'NeutronError': {'message': msg}} response.json = mock.Mock(return_value=response.body) response.ok = False response.status_code = 409 sess = mock.Mock() sess.put = mock.Mock(return_value=response) body = {'subnet_id': '3'} with testtools.ExpectedException(SDKException, msg): sot.add_interface(sess, **body) def test_remove_interface_4xx(self): # Neutron may return 4xx for example if a router interface has # extra routes referring to it as a nexthop sot = router.Router(**EXAMPLE) response = mock.Mock() msg = 'borked' response.body = {'NeutronError': {'message': msg}} response.json = mock.Mock(return_value=response.body) response.ok = False response.status_code = 409 sess = mock.Mock() sess.put = mock.Mock(return_value=response) body = {'subnet_id': '3'} with testtools.ExpectedException(SDKException, msg): sot.remove_interface(sess, **body) ",,51,2
openstack%2Fpython-magnumclient~stable%2Ftrain~Ie199a1b14852aabb85a9f37ef7f55de875e7d4d5,openstack/python-magnumclient,stable/train,Ie199a1b14852aabb85a9f37ef7f55de875e7d4d5,Update .gitreview for stable/train,MERGED,2019-09-20 17:40:49.000000000,2020-03-04 23:12:16.000000000,2020-03-04 23:10:34.000000000,"[{'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-09-20 17:40:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/8323844a80ac573f9f648362c2939ec1234f08fb', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ie199a1b14852aabb85a9f37ef7f55de875e7d4d5\n'}]",0,683610,8323844a80ac573f9f648362c2939ec1234f08fb,9,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ie199a1b14852aabb85a9f37ef7f55de875e7d4d5
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/10/683610/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8323844a80ac573f9f648362c2939ec1234f08fb,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-helm-infra~master~I61a979099f5c387a8256788ceab2f91e45d17838,openstack/openstack-helm-infra,master,I61a979099f5c387a8256788ceab2f91e45d17838,Actually add Kibana Liveness Probe,MERGED,2020-03-04 17:08:12.000000000,2020-03-04 23:11:35.000000000,2020-03-04 23:09:26.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-04 17:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/582e12fcbc9baacbf97d2c629bbda091f5d51b89', 'message': 'Actually add Kibana Liveness Probe\n\nThe patch submitted last week mistakenly added a liveness probe\nfor the apache sidecar container instead of the failing Kibana\ncontainer.\n\nChange-Id: I61a979099f5c387a8256788ceab2f91e45d17838\n'}, {'number': 2, 'created': '2020-03-04 18:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/10c190c0d8fe869d6217f3fb8042dbce344672a4', 'message': 'Actually add Kibana Liveness Probe\n\nThe patch submitted last week mistakenly added a liveness probe\nfor the apache sidecar container instead of the failing Kibana\ncontainer.\n\nChange-Id: I61a979099f5c387a8256788ceab2f91e45d17838\n'}, {'number': 3, 'created': '2020-03-04 19:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a387f271fd451e846cc95309aa075b0e73891ed4', 'message': 'Actually add Kibana Liveness Probe\n\nThe patch submitted last week mistakenly added a liveness probe\nfor the apache sidecar container instead of the failing Kibana\ncontainer.\n\nChange-Id: I61a979099f5c387a8256788ceab2f91e45d17838\n'}, {'number': 4, 'created': '2020-03-04 19:28:01.000000000', 'files': ['kibana/templates/deployment.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53991041abe2219aa08e7a8b1d767cd6e8927fb6', 'message': 'Actually add Kibana Liveness Probe\n\nThe patch submitted last week mistakenly added a liveness probe\nfor the apache sidecar container instead of the failing Kibana\ncontainer.\n\nChange-Id: I61a979099f5c387a8256788ceab2f91e45d17838\n'}]",0,711285,53991041abe2219aa08e7a8b1d767cd6e8927fb6,16,4,4,30777,,,0,"Actually add Kibana Liveness Probe

The patch submitted last week mistakenly added a liveness probe
for the apache sidecar container instead of the failing Kibana
container.

Change-Id: I61a979099f5c387a8256788ceab2f91e45d17838
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/711285/3 && git format-patch -1 --stdout FETCH_HEAD,['kibana/templates/deployment.yaml'],1,582e12fcbc9baacbf97d2c629bbda091f5d51b89,," livenessProbe: httpGet: path: /status port: {{ tuple ""kibana"" ""internal"" ""http"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} httpHeaders: - name: Authorization value: Basic {{ $authHeader }} initialDelaySeconds: 180 periodSeconds: 60 periodSeconds: 30"," livenessProbe: tcpSocket: port: {{ tuple ""kibana"" ""internal"" ""http"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} initialDelaySeconds: 180 periodSeconds: 60 periodSeconds: 10",10,6
openstack%2Fopenstacksdk~master~I191d15c2783a187c8201f0a18251734b3a5ddf81,openstack/openstacksdk,master,I191d15c2783a187c8201f0a18251734b3a5ddf81,Fix: Set image name correctly if filename is not passed,MERGED,2020-02-28 02:31:23.000000000,2020-03-04 22:59:35.000000000,2020-03-04 22:57:07.000000000,"[{'_account_id': 2}, {'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-28 02:31:23.000000000', 'files': ['openstack/tests/unit/image/v2/test_proxy.py', 'openstack/image/_base_proxy.py', 'openstack/tests/functional/cloud/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/970a74e66d4d7b229351bf35c90aa82368ca336c', 'message': 'Fix: Set image name correctly if filename is not passed\n\nIf filename is not passed to create_image method, the name paramter\nis ignored. This patch fixes this problem and adds required unit and\nfunctional tests.\n\nChange-Id: I191d15c2783a187c8201f0a18251734b3a5ddf81\nCloses-Bug: #1863209\n'}]",0,710368,970a74e66d4d7b229351bf35c90aa82368ca336c,9,4,1,31648,,,0,"Fix: Set image name correctly if filename is not passed

If filename is not passed to create_image method, the name paramter
is ignored. This patch fixes this problem and adds required unit and
functional tests.

Change-Id: I191d15c2783a187c8201f0a18251734b3a5ddf81
Closes-Bug: #1863209
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/68/710368/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/image/v2/test_proxy.py', 'openstack/image/_base_proxy.py', 'openstack/tests/functional/cloud/test_image.py']",3,970a74e66d4d7b229351bf35c90aa82368ca336c,bug/1863209," def test_create_image_without_filename(self): image_name = self.getUniqueString('image') image = self.user_cloud.create_image( name=image_name, disk_format='raw', container_format='bare', min_disk=10, min_ram=1024, allow_duplicates=True, wait=False) self.assertEqual(image_name, image.name) self.user_cloud.delete_image(image.id, wait=True) ",,26,0
openstack%2Fnetworking-generic-switch~stable%2Ftrain~Ibb6735c6f03513630cd02e0cf273e0d0e5dc4d0a,openstack/networking-generic-switch,stable/train,Ibb6735c6f03513630cd02e0cf273e0d0e5dc4d0a,Fix stable/train CI,MERGED,2020-02-21 14:03:44.000000000,2020-03-04 22:54:29.000000000,2020-03-04 22:49:46.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-02-21 14:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/3003c7317d9e1005415b148fc67c9a016bfa6839', 'message': 'DNM - Testing CI\n\nChange-Id: Ibb6735c6f03513630cd02e0cf273e0d0e5dc4d0a\n'}, {'number': 2, 'created': '2020-02-21 14:47:40.000000000', 'files': ['zuul.d/networking-generic-switch-jobs.yaml', '.gitreview', 'zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/212a9e44b7618a8168b929b302c3ad4782028115', 'message': 'Fix stable/train CI\n\nThis change fixes the stable/train CI for ngs\n\n- update the .gitreview\n- update tox.ini\n- Change ironic-grenade-dsvm-multinode-multitenant to non-voting.\n- Fix tempest for networking-generic-switch-tempest-dlm-python2.\n\nChange-Id: Ibb6735c6f03513630cd02e0cf273e0d0e5dc4d0a\n'}]",1,709146,212a9e44b7618a8168b929b302c3ad4782028115,23,5,2,15519,,,0,"Fix stable/train CI

This change fixes the stable/train CI for ngs

- update the .gitreview
- update tox.ini
- Change ironic-grenade-dsvm-multinode-multitenant to non-voting.
- Fix tempest for networking-generic-switch-tempest-dlm-python2.

Change-Id: Ibb6735c6f03513630cd02e0cf273e0d0e5dc4d0a
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/46/709146/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/networking-generic-switch-jobs.yaml', '.gitreview', 'zuul.d/project.yaml', 'tox.ini']",4,3003c7317d9e1005415b148fc67c9a016bfa6839,fix_ci, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},6,9
openstack%2Fansible-collections-openstack~master~I34d544ce48f25bffde8e6e0cf82cdf9a85e681c3,openstack/ansible-collections-openstack,master,I34d544ce48f25bffde8e6e0cf82cdf9a85e681c3,Test with and assert support for python3,MERGED,2020-03-01 12:31:37.000000000,2020-03-04 22:27:00.000000000,2020-03-04 22:27:00.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-01 12:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/24bdbc784bafde099202bf1dbc26ab3cbd36c934', 'message': ""Test with and assert support for python3\n\nCollections are new. openstacksdk as of now doesn't support python2.\nWe shouldn't pretend to support python2 either. If you're using\nansible new enough to use collections, you can use python3.\n\nChange-Id: I34d544ce48f25bffde8e6e0cf82cdf9a85e681c3\n""}, {'number': 2, 'created': '2020-03-03 15:29:10.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_server.py', 'plugins/modules/os_user.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_user_role.py', 'tox.ini', 'plugins/modules/os_routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/53affc3220362435906909a0caa2233e1878802f', 'message': ""Test with and assert support for python3\n\nCollections are new. openstacksdk as of now doesn't support python2.\nWe shouldn't pretend to support python2 either. If you're using\nansible new enough to use collections, you can use python3.\n\nThis release of openstacksdk only supports 3.6 and onwards, so\nset that as our min.\n\nChange-Id: I34d544ce48f25bffde8e6e0cf82cdf9a85e681c3\n""}]",7,710641,53affc3220362435906909a0caa2233e1878802f,13,3,2,2,,,0,"Test with and assert support for python3

Collections are new. openstacksdk as of now doesn't support python2.
We shouldn't pretend to support python2 either. If you're using
ansible new enough to use collections, you can use python3.

This release of openstacksdk only supports 3.6 and onwards, so
set that as our min.

Change-Id: I34d544ce48f25bffde8e6e0cf82cdf9a85e681c3
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/41/710641/2 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_zone.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_server_info.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_server.py', 'plugins/modules/os_user.py', 'plugins/doc_fragments/openstack.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_user_role.py', 'tox.ini', 'plugins/modules/os_routers_info.py']",36,24bdbc784bafde099202bf1dbc26ab3cbd36c934,," - ""python >= 3.5"""""," - ""python >= 2.7""",37,36
openstack%2Fansible-collections-openstack~master~Ieb82eb3369c4ac73f3595dc84ca11e1f11766a79,openstack/ansible-collections-openstack,master,Ieb82eb3369c4ac73f3595dc84ca11e1f11766a79,Remove from __future__ lines,MERGED,2019-12-09 18:52:29.000000000,2020-03-04 22:26:59.000000000,2020-03-04 22:26:59.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-09 18:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/46149357e6eb33dcfc35f6f57aa4faf93cae3ce5', 'message': 'Remove from __future__ lines\n\nWe only support python3\n\nChange-Id: Ieb82eb3369c4ac73f3595dc84ca11e1f11766a79\n'}, {'number': 2, 'created': '2020-03-01 12:31:37.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/inventory/openstack.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'tools/build.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'tests/unit/compat/mock.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'tests/unit/modules/cloud/openstack/test_os_routers_info.py', 'plugins/modules/os_server_volume.py', 'tests/unit/plugins/inventory/test_openstack.py', 'tests/unit/mock/procenv.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'tests/unit/compat/unittest.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'tests/unit/compat/builtins.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'tests/unit/mock/loader.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'tests/unit/mock/vault_helper.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/96a5914eb6806da70a27391ff449813f88c4a458', 'message': 'Remove from __future__ lines\n\nWe only support python3\n\nChange-Id: Ieb82eb3369c4ac73f3595dc84ca11e1f11766a79\n'}]",0,698067,96a5914eb6806da70a27391ff449813f88c4a458,10,4,2,2,,,0,"Remove from __future__ lines

We only support python3

Change-Id: Ieb82eb3369c4ac73f3595dc84ca11e1f11766a79
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/67/698067/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_project_facts.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_server_facts.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_subnets_facts.py', 'plugins/modules/os_keystone_domain_facts.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_port_facts.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'plugins/modules/os_image.py', 'plugins/modules/os_image_facts.py', 'plugins/modules/os_zone.py', 'plugins/modules/_os_server_actions.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_flavor_facts.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_facts.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_networks_facts.py', 'plugins/modules/os_object.py']",55,46149357e6eb33dcfc35f6f57aa4faf93cae3ce5,,,"from __future__ import absolute_import, division, print_function ",0,110
openstack%2Fansible-collections-openstack~master~I35041c2c6ae421e7caaef3c04ffca92e2ff10e35,openstack/ansible-collections-openstack,master,I35041c2c6ae421e7caaef3c04ffca92e2ff10e35,Fix H236 and remove exclusion,MERGED,2019-12-09 18:52:29.000000000,2020-03-04 22:22:02.000000000,2020-03-04 22:22:02.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-09 18:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/274310dbebe33eb579765e08e573164817a6aecf', 'message': ""Fix H236 and remove exclusion\n\nWe haven't needed this in a VERY long time.\n\nChange-Id: I35041c2c6ae421e7caaef3c04ffca92e2ff10e35\n""}, {'number': 2, 'created': '2020-03-01 12:31:37.000000000', 'files': ['plugins/modules/os_keystone_domain_info.py', 'plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_server_info.py', 'plugins/inventory/openstack.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_flavor_info.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_networks_info.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_project_info.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'tools/build.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'tests/unit/compat/mock.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'tox.ini', 'plugins/modules/os_image.py', 'plugins/modules/os_zone.py', 'tests/unit/modules/cloud/openstack/test_os_routers_info.py', 'plugins/modules/os_server_volume.py', 'tests/unit/plugins/inventory/test_openstack.py', 'tests/unit/mock/procenv.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_image_info.py', 'tests/unit/compat/unittest.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_port_info.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_info.py', 'plugins/modules/os_subnets_info.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'tests/unit/compat/builtins.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'tests/unit/mock/loader.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'tests/unit/mock/vault_helper.py', 'plugins/modules/os_object.py', 'plugins/modules/os_routers_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9d29e8c847d3bc4e46c731dfff2b26d7878d4d59', 'message': ""Fix H236 and remove exclusion\n\nWe haven't needed this in a VERY long time.\n\nChange-Id: I35041c2c6ae421e7caaef3c04ffca92e2ff10e35\n""}]",0,698066,9d29e8c847d3bc4e46c731dfff2b26d7878d4d59,9,3,2,2,,,0,"Fix H236 and remove exclusion

We haven't needed this in a VERY long time.

Change-Id: I35041c2c6ae421e7caaef3c04ffca92e2ff10e35
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/66/698066/2 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/os_loadbalancer.py', 'plugins/modules/os_volume.py', 'plugins/modules/os_ironic_inspect.py', 'plugins/modules/os_server_action.py', 'plugins/modules/os_project.py', 'plugins/modules/os_volume_snapshot.py', 'plugins/modules/os_coe_cluster_template.py', 'plugins/modules/os_floating_ip.py', 'plugins/modules/os_project_facts.py', 'plugins/modules/os_listener.py', 'plugins/modules/os_router.py', 'plugins/modules/os_user_group.py', 'plugins/modules/os_stack.py', 'plugins/modules/os_server_facts.py', 'plugins/modules/os_group_info.py', 'plugins/modules/os_port.py', 'plugins/modules/os_nova_flavor.py', 'plugins/modules/os_subnets_facts.py', 'plugins/modules/os_keystone_domain_facts.py', 'plugins/modules/os_ironic.py', 'plugins/modules/os_keystone_service.py', 'plugins/modules/os_network.py', 'plugins/modules/os_port_facts.py', 'plugins/modules/os_user.py', 'plugins/modules/os_keypair.py', 'plugins/modules/os_nova_host_aggregate.py', 'plugins/modules/os_client_config.py', 'plugins/modules/os_keystone_role.py', 'plugins/modules/os_user_role.py', 'tox.ini', 'plugins/modules/os_image.py', 'plugins/modules/os_image_facts.py', 'plugins/modules/os_zone.py', 'plugins/modules/_os_server_actions.py', 'plugins/modules/os_server_volume.py', 'plugins/modules/os_subnet.py', 'plugins/modules/os_pool.py', 'plugins/modules/os_flavor_facts.py', 'plugins/modules/os_ironic_node.py', 'plugins/modules/os_user_facts.py', 'plugins/modules/os_auth.py', 'plugins/modules/os_quota.py', 'plugins/modules/os_server_group.py', 'plugins/modules/os_member.py', 'plugins/modules/os_coe_cluster.py', 'plugins/modules/os_server.py', 'plugins/modules/os_keystone_endpoint.py', 'plugins/modules/os_project_access.py', 'plugins/modules/os_recordset.py', 'plugins/modules/os_security_group.py', 'plugins/modules/os_server_metadata.py', 'plugins/modules/os_group.py', 'plugins/modules/os_keystone_domain.py', 'plugins/modules/os_security_group_rule.py', 'plugins/modules/os_networks_facts.py', 'plugins/modules/os_object.py']",56,274310dbebe33eb579765e08e573164817a6aecf,,,__metaclass__ = type,2,57
openstack%2Fpuppet-nova~master~I3a1262f70f6a801db276701a39ebb01f40025192,openstack/puppet-nova,master,I3a1262f70f6a801db276701a39ebb01f40025192,Add parameters for console proxy SSL/TLS settings,MERGED,2019-09-06 03:09:18.000000000,2020-03-04 21:58:39.000000000,2020-03-04 21:54:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7973}, {'_account_id': 9098}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 10135}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-06 03:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/45528b91c2c03e7a0130f13c27e1a48c28e1ef3e', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new ssl_ciphers and ssl_minimum_version parameters for\nconfiguring the allowed TLS ciphers and minimum protocol version\nto enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: 679502\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 2, 'created': '2019-09-06 05:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d377d73384ada6d6fd92a6216ac808e4b5ac15a5', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new ssl_ciphers and ssl_minimum_version parameters for\nconfiguring the allowed TLS ciphers and minimum protocol version\nto enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: 679502\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 3, 'created': '2019-09-06 15:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7b5409df4645f9ad780945776814c57ce28f0629', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new ssl_ciphers and ssl_minimum_version parameters for\nconfiguring the allowed TLS ciphers and minimum protocol version\nto enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: 679502\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 4, 'created': '2019-09-06 18:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3f97e4469a61cd5004f2dfe5f4fb2b35c212f5bd', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new ssl_ciphers and ssl_minimum_version parameters for\nconfiguring the allowed TLS ciphers and minimum protocol version\nto enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: 679502\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 5, 'created': '2019-09-09 21:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c535790d8d8a95920ed55cf03ca25c78a982b780', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new ssl_ciphers and ssl_minimum_version parameters for\nconfiguring the allowed TLS ciphers and minimum protocol version\nto enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: https://review.opendev.org/679502\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 6, 'created': '2019-09-17 18:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c91d1d9992d6173a7508961543228762f20f0e58', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new ssl_ciphers and ssl_minimum_version parameters for\nconfiguring the allowed TLS ciphers and minimum protocol version\nto enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: https://review.opendev.org/679502\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 7, 'created': '2020-02-11 21:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/99e1209d173a5823c8c171d41eb6a62c388e5122', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new console_ssl_ciphers and console_ssl_minimum_version\nparameters for configuring the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: I23ac1cc79482d0fabb359486a4b934463854cae5\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 8, 'created': '2020-02-12 19:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/156ae98a4049c54685722a25d4e6debf3b4c7cc7', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new console_ssl_ciphers and console_ssl_minimum_version\nparameters for configuring the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: I23ac1cc79482d0fabb359486a4b934463854cae5\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 9, 'created': '2020-02-21 12:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e2d43871c0042314cbcc2c722263a89a562b2f9c', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new console_ssl_ciphers and console_ssl_minimum_version\nparameters for configuring the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: I23ac1cc79482d0fabb359486a4b934463854cae5\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 10, 'created': '2020-02-21 12:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/68a9be913df509f659f0b0a915b353de6c69cde6', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new console_ssl_ciphers and console_ssl_minimum_version\nparameters for configuring the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: I23ac1cc79482d0fabb359486a4b934463854cae5\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 11, 'created': '2020-02-21 14:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a094d39d20f3ef63102d9cadaf7c3d3049395811', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new console_ssl_ciphers and console_ssl_minimum_version\nparameters for configuring the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: I23ac1cc79482d0fabb359486a4b934463854cae5\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}, {'number': 12, 'created': '2020-02-21 15:01:17.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/add-console-ssl-cipher-protocol-params-2ad72898a85dbe17.yaml', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/533a8b8b26297f2324efe5161a598233bc6dc3ed', 'message': 'Add parameters for console proxy SSL/TLS settings\n\nThis adds new console_ssl_ciphers and console_ssl_minimum_version\nparameters for configuring the allowed TLS ciphers and minimum protocol\nversion to enforce for incoming client connections to the console proxy\nservices (VNC, SPICE, etc).\n\nDepends-On: I23ac1cc79482d0fabb359486a4b934463854cae5\nChange-Id: I3a1262f70f6a801db276701a39ebb01f40025192\nRelated-Bug: 1842149\n'}]",13,680562,533a8b8b26297f2324efe5161a598233bc6dc3ed,65,11,12,9098,,,0,"Add parameters for console proxy SSL/TLS settings

This adds new console_ssl_ciphers and console_ssl_minimum_version
parameters for configuring the allowed TLS ciphers and minimum protocol
version to enforce for incoming client connections to the console proxy
services (VNC, SPICE, etc).

Depends-On: I23ac1cc79482d0fabb359486a4b934463854cae5
Change-Id: I3a1262f70f6a801db276701a39ebb01f40025192
Related-Bug: 1842149
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/62/680562/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/notes/add-console-ssl-cipher-protocol-params-2ad72898a85dbe17.yaml', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb']",3,45528b91c2c03e7a0130f13c27e1a48c28e1ef3e,bug/1842149, :ssl_ciphers => 'kEECDH+aECDSA+AES:kEECDH+AES+aRSA:kEDH+aRSA+AES' :ssl_minimum_verssion => 'tlsv1_2' is_expected.to contain_nova_config('DEFAULT/ssl_ciphers').with_value('kEECDH+aECDSA+AES:kEECDH+AES+aRSA:kEDH+aRSA+AES') is_expected.to contain_nova_config('DEFAULT/ssl_minimum_version').with_value('tlsv1_2'),,28,0
openstack%2Fopenstack-ansible-os_tempest~master~I0d603dfa7319d09201f5f1d64d10cc71c56c2c21,openstack/openstack-ansible-os_tempest,master,I0d603dfa7319d09201f5f1d64d10cc71c56c2c21,post_install: add missing onditional to workspace task,MERGED,2020-03-03 02:30:20.000000000,2020-03-04 21:53:16.000000000,2020-03-04 13:45:21.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2020-03-03 02:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e08311fafe91c3e208def7e3afc77c9d831cebab', 'message': 'post_install: add missing onditional to workspace task\n\nThe ""Move over workspace when config is updated"" task was running if\ncopy_tempest_config changed, but copy_tempest_config is created in\n""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional\nis met. To avoid an error like ""\'copy_tempest_config\' is undefined"", we\nneed to add the same conditional to the first mentioned task.\n\nChange-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21\n'}, {'number': 2, 'created': '2020-03-03 13:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/50db3fa995df6ddf124cbb90eee8d281ae03eb48', 'message': 'post_install: add missing onditional to workspace task\n\nThe ""Move over workspace when config is updated"" task was running if\ncopy_tempest_config changed, but copy_tempest_config is created in\n""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional\nis met. To avoid an error like ""\'copy_tempest_config\' is undefined"", we\nneed to add the same conditional to the first mentioned task.\n\nChange-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21\n'}, {'number': 3, 'created': '2020-03-03 15:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/0108bef658aa8cc6f26c475a4fb6da59dc67f8c4', 'message': 'post_install: add missing onditional to workspace task\n\nThe ""Move over workspace when config is updated"" task was running if\ncopy_tempest_config changed, but copy_tempest_config is created in\n""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional\nis met. To avoid an error like ""\'copy_tempest_config\' is undefined"", we\nneed to add the same conditional to the first mentioned task.\n\nChange-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21\n'}, {'number': 4, 'created': '2020-03-03 15:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f2f78c6ff1f730081b1b5c0f041a95919e852d64', 'message': 'post_install: add missing onditional to workspace task\n\nThe ""Move over workspace when config is updated"" task was running if\ncopy_tempest_config changed, but copy_tempest_config is created in\n""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional\nis met. To avoid an error like ""\'copy_tempest_config\' is undefined"", we\nneed to do ""is changed"" which should not fail if the task didn\'t run\npreviously.\n\nChange-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21\n'}, {'number': 5, 'created': '2020-03-03 23:05:39.000000000', 'files': ['tasks/tempest_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/2348898bc28bdebb0217245e8f925cae18c21b95', 'message': 'post_install: add missing onditional to workspace task\n\nThe ""Move over workspace when config is updated"" task was running if\ncopy_tempest_config changed, but copy_tempest_config is created in\n""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional\nis met. To avoid an error like ""\'copy_tempest_config\' is undefined"", we\nneed to add the same conditional to the first mentioned task.\n\nChange-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21\n'}]",2,710893,2348898bc28bdebb0217245e8f925cae18c21b95,24,5,5,3153,,,0,"post_install: add missing onditional to workspace task

The ""Move over workspace when config is updated"" task was running if
copy_tempest_config changed, but copy_tempest_config is created in
""Copy tempest config"" only if ""not tempest_use_tempestconf"" conditional
is met. To avoid an error like ""'copy_tempest_config' is undefined"", we
need to add the same conditional to the first mentioned task.

Change-Id: I0d603dfa7319d09201f5f1d64d10cc71c56c2c21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/93/710893/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/tempest_post_install.yml'],1,e08311fafe91c3e208def7e3afc77c9d831cebab,copy_tempest, when: - not tempest_use_tempestconf | bool - copy_tempest_config.changed, when: copy_tempest_config.changed,3,1
openstack%2Fsenlin~stable%2Ftrain~I108b1917e12a676a6265c3e223b4f0b889833100,openstack/senlin,stable/train,I108b1917e12a676a6265c3e223b4f0b889833100,Make sure we always populate flavor_id,MERGED,2020-02-10 08:13:33.000000000,2020-03-04 21:50:16.000000000,2020-03-04 21:47:15.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-02-10 08:13:33.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/9c4416448cadda92aa699ba6686bc6712d878794', 'message': 'Make sure we always populate flavor_id\n\nStarting with nova api microversion 2.47, the\nserver_get function no longer returns a flavor id.\n\nChange-Id: I108b1917e12a676a6265c3e223b4f0b889833100\n(cherry picked from commit 7e04d4a35392ab8c08b6c86b58327bb8b212b15e)\n'}]",0,706747,9c4416448cadda92aa699ba6686bc6712d878794,11,4,1,22623,,,0,"Make sure we always populate flavor_id

Starting with nova api microversion 2.47, the
server_get function no longer returns a flavor id.

Change-Id: I108b1917e12a676a6265c3e223b4f0b889833100
(cherry picked from commit 7e04d4a35392ab8c08b6c86b58327bb8b212b15e)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/47/706747/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py']",2,9c4416448cadda92aa699ba6686bc6712d878794,," def test_do_get_details_flavor_no_id_key(self): cc = mock.Mock() profile = server.ServerProfile('t', self.spec) profile._computeclient = cc node_obj = mock.Mock(physical_id='FAKE_ID') # Test normal path nova_server = mock.Mock() nova_server.to_dict.return_value = { 'addresses': { 'private': [{ 'version': 4, 'addr': '10.0.0.3', }] }, 'flavor': { 'original_name': 'FAKE_FLAVOR', }, 'id': 'FAKE_ID', 'image': {}, 'attached_volumes': [{ 'id': 'FAKE_VOLUME', }], 'security_groups': [{'name': 'default'}], } cc.server_get.return_value = nova_server cc.flavor_find.return_value = mock.PropertyMock(id='FAKE_FLAVOR_ID') res = profile.do_get_details(node_obj) expected = { 'flavor': 'FAKE_FLAVOR_ID', 'id': 'FAKE_ID', 'image': {}, 'attached_volumes': ['FAKE_VOLUME'], 'addresses': { 'private': [{ 'version': 4, 'addr': '10.0.0.3', }] }, 'security_groups': 'default', } self.assertEqual(expected, res) cc.server_get.assert_called_once_with('FAKE_ID') ",,60,1
openstack%2Fswift~stable%2Fstein~I8f65ccd7f2a79d5b877bfbef0274fb7857e21391,openstack/swift,stable/stein,I8f65ccd7f2a79d5b877bfbef0274fb7857e21391,"tests: Use timedelta to adjust dates, not string manipulations",MERGED,2020-03-03 05:04:05.000000000,2020-03-04 21:49:25.000000000,2020-03-04 21:47:34.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-03 05:04:05.000000000', 'files': ['test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/8ce27500e2ca0a17e3633bda276ec131160d78b8', 'message': 'tests: Use timedelta to adjust dates, not string manipulations\n\nChange-Id: I8f65ccd7f2a79d5b877bfbef0274fb7857e21391\n(cherry picked from commit 55049beda5b9d7038a3604a87f28312d7702ccb2)\n'}]",0,710902,8ce27500e2ca0a17e3633bda276ec131160d78b8,7,2,1,15343,,,0,"tests: Use timedelta to adjust dates, not string manipulations

Change-Id: I8f65ccd7f2a79d5b877bfbef0274fb7857e21391
(cherry picked from commit 55049beda5b9d7038a3604a87f28312d7702ccb2)
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/710902/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/s3api/test_s3request.py']",2,8ce27500e2ca0a17e3633bda276ec131160d78b8,,"from datetime import datetime, timedelta date_header = {'X-Amz-Date': self.get_v4_amz_date_header( datetime.utcnow() + timedelta(days=1) )}"," dt = self.get_v4_amz_date_header() date_header = {'X-Amz-Date': '%d%s' % (int(dt[:4]) + 1, dt[4:])}",8,4
openstack%2Fsenlin~stable%2Ftrain~I95a8b5791eee5d334f8841bebe52f37f6f5eb2e5,openstack/senlin,stable/train,I95a8b5791eee5d334f8841bebe52f37f6f5eb2e5,Fix leaking resources during cluster recover,MERGED,2020-02-10 08:11:42.000000000,2020-03-04 21:49:03.000000000,2020-03-04 21:47:14.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-02-10 08:11:42.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/74bed856020e3e1001eefdca5c8d30807b661404', 'message': 'Fix leaking resources during cluster recover\n\nIf a node recover was in progress when a cluster delete was\ncalled it would cause resources to be created, but unable\nto update the Node object as it no longer exists.\n\nWith this patch if Node.update fails because the object\nno longer exists. Delete all resources created during\nthe failed operation.\n\nChange-Id: I95a8b5791eee5d334f8841bebe52f37f6f5eb2e5\n(cherry picked from commit a6a18b8df5efb179084bf20fe382af452eb79b61)\n'}]",0,706746,74bed856020e3e1001eefdca5c8d30807b661404,11,4,1,22623,,,0,"Fix leaking resources during cluster recover

If a node recover was in progress when a cluster delete was
called it would cause resources to be created, but unable
to update the Node object as it no longer exists.

With this patch if Node.update fails because the object
no longer exists. Delete all resources created during
the failed operation.

Change-Id: I95a8b5791eee5d334f8841bebe52f37f6f5eb2e5
(cherry picked from commit a6a18b8df5efb179084bf20fe382af452eb79b61)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/46/706746/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py']",2,74bed856020e3e1001eefdca5c8d30807b661404,," @mock.patch.object(node_ob.Node, 'update') def test_do_create_fail_create_instance_when_node_longer_exists( self, mock_node_update): mock_node_update.side_effect = [ None, exc.ResourceNotFound(type='Node', id='FAKE_NODE_ID') ] cc = mock.Mock() nc = mock.Mock() profile = server.ServerProfile('t', self.spec) profile._computeclient = cc profile._networkclient = nc profile._rollback_ports = mock.Mock() profile._rollback_instance = mock.Mock() self._stubout_profile(profile, mock_image=True, mock_flavor=True, mock_keypair=True, mock_net=False) node_obj = mock.Mock(id='FAKE_NODE_ID', index=123, availability_zone=""AZ01"", cluster_id='FAKE_CLUSTER_ID', data={ 'placement': { 'zone': 'AZ1', 'servergroup': 'SERVER_GROUP_1' } }) node_obj.name = 'TEST_SERVER' fake_server = mock.Mock(id='FAKE_ID') cc.server_create.return_value = fake_server cc.server_get.return_value = fake_server self.assertRaises( exc.ResourceNotFound, profile.do_create, node_obj ) profile._rollback_ports.assert_called_once() profile._rollback_instance.assert_called_once() @mock.patch.object(node_ob.Node, 'update') def test_do_create_fail_create_port_when_node_longer_exists( self, mock_node_update): mock_node_update.side_effect = exc.ResourceNotFound( type='Node', id='FAKE_NODE_ID' ) cc = mock.Mock() nc = mock.Mock() profile = server.ServerProfile('t', self.spec) profile._computeclient = cc profile._networkclient = nc profile._rollback_ports = mock.Mock() profile._rollback_instance = mock.Mock() self._stubout_profile(profile, mock_image=True, mock_flavor=True, mock_keypair=True, mock_net=False) node_obj = mock.Mock(id='FAKE_NODE_ID', index=123, cluster_id='FAKE_CLUSTER_ID', data={ 'placement': { 'zone': 'AZ1', 'servergroup': 'SERVER_GROUP_1' } }) node_obj.name = 'TEST_SERVER' self.assertRaises( exc.ResourceNotFound, profile.do_create, node_obj ) profile._rollback_ports.assert_called_once() profile._rollback_instance.assert_not_called() def test_rollback_ports(self): nc = mock.Mock() nc.port_delete.return_value = None nc.floatingip_delete.return_value = None profile = server.ServerProfile('t', self.spec) profile._networkclient = nc ports = [ { 'id': 'FAKE_PORT_ID', 'remove': True }, { 'floating': { 'remove': True, 'id': 'FAKE_FLOATING_ID', }, 'id': 'FAKE_PORT_ID', 'remove': True }, { 'floating': { 'remove': False, 'id': 'FAKE_FLOATING_ID', }, 'id': 'FAKE_PORT_ID', 'remove': False } ] node_obj = mock.Mock(id='NODE_ID', cluster_id='', index=-1, data={}) profile._rollback_ports(node_obj, ports) nc.port_delete.assert_called() nc.floatingip_delete.assert_called_once_with('FAKE_FLOATING_ID') def test_rollback_with_no_ports(self): nc = mock.Mock() nc.port_delete.return_value = None nc.floatingip_delete.return_value = None profile = server.ServerProfile('t', self.spec) profile._networkclient = nc ports = [] node_obj = mock.Mock(id='NODE_ID', cluster_id='', index=-1, data={}) profile._rollback_ports(node_obj, ports) nc.port_delete.assert_not_called() nc.floatingip_delete.assert_not_called() def test_rollback_ports_with_internal_error(self): nc = mock.Mock() nc.port_delete.return_value = None nc.floatingip_delete.side_effect = exc.InternalError() profile = server.ServerProfile('t', self.spec) profile._networkclient = nc ports = [{ 'floating': { 'remove': True, 'id': 'FAKE_FLOATING_ID', }, 'id': 'FAKE_PORT_ID', 'remove': True }] node_obj = mock.Mock(id='NODE_ID', cluster_id='', index=-1, data={}) profile._rollback_ports(node_obj, ports) nc.port_delete.assert_not_called() nc.floatingip_delete.assert_called_once_with('FAKE_FLOATING_ID') def test_rollback_instance(self): cc = mock.Mock() cc.port_delete.return_value = None profile = server.ServerProfile('t', self.spec) profile._computeclient = cc server_obj = mock.Mock(id='SERVER_ID') node_obj = mock.Mock(id='NODE_ID', cluster_id='', index=-1, data={}) profile._rollback_instance(node_obj, server_obj) cc.server_force_delete.assert_called_once_with('SERVER_ID', True) def test_rollback_with_no_instance(self): cc = mock.Mock() cc.port_delete.return_value = None profile = server.ServerProfile('t', self.spec) profile._computeclient = cc server_obj = None node_obj = mock.Mock(id='NODE_ID', cluster_id='', index=-1, data={}) profile._rollback_instance(node_obj, server_obj) cc.server_force_delete.assert_not_called() def test_rollback_instance_with_internal_error(self): cc = mock.Mock() cc.server_force_delete.side_effect = exc.InternalError() profile = server.ServerProfile('t', self.spec) profile._computeclient = cc server_obj = mock.Mock(id='SERVER_ID') node_obj = mock.Mock(id='NODE_ID', cluster_id='', index=-1, data={}) profile._rollback_instance(node_obj, server_obj) cc.server_force_delete.assert_called_once_with('SERVER_ID', True) ",,269,11
openstack%2Frequirements~stable%2Frocky~I2d8e6ba7605a561ef5ce085a0eebfa81fff0f584,openstack/requirements,stable/rocky,I2d8e6ba7605a561ef5ce085a0eebfa81fff0f584,update constraint for python-octaviaclient to new release 1.6.2,MERGED,2020-02-27 15:58:09.000000000,2020-03-04 21:47:33.000000000,2020-03-04 21:47:32.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 15:58:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/027b8ced21008ad8257e5f04e91d89b65c351def', 'message': 'update constraint for python-octaviaclient to new release 1.6.2\n\nChange-Id: I2d8e6ba7605a561ef5ce085a0eebfa81fff0f584\nmeta:version: 1.6.2\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Change-Id: I3b7b73266e78d62440eb8d7b1bae949968d9ecb5\nmeta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>\nmeta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,710302,027b8ced21008ad8257e5f04e91d89b65c351def,12,3,1,11131,,,0,"update constraint for python-octaviaclient to new release 1.6.2

Change-Id: I2d8e6ba7605a561ef5ce085a0eebfa81fff0f584
meta:version: 1.6.2
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Michael Johnson <johnsomor@gmail.com>
meta:release:Commit: Michael Johnson <johnsomor@gmail.com>
meta:release:Change-Id: I3b7b73266e78d62440eb8d7b1bae949968d9ecb5
meta:release:Code-Review+1: Adam Harwell <flux.adam@gmail.com>
meta:release:Code-Review+1: Carlos Goncalves <cgoncalves@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/02/710302/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,027b8ced21008ad8257e5f04e91d89b65c351def,new-release,python-octaviaclient===1.6.2,python-octaviaclient===1.6.1,1,1
openstack%2Frequirements~stable%2Fstein~Ieb363dca9cae2b40e1c8aa572ed778a2b6991997,openstack/requirements,stable/stein,Ieb363dca9cae2b40e1c8aa572ed778a2b6991997,update constraint for ceilometer to new release 12.1.0,MERGED,2020-02-27 13:35:20.000000000,2020-03-04 21:46:00.000000000,2020-03-04 21:46:00.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 13:35:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/58120c0b6b2ad1a07750b7eebdc5da8de6d527e9', 'message': 'update constraint for ceilometer to new release 12.1.0\n\nChange-Id: Ieb363dca9cae2b40e1c8aa572ed778a2b6991997\nmeta:version: 12.1.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Commit: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Change-Id: I6b128ff0d22ce13e1245a4c55ce608142564207d\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,710254,58120c0b6b2ad1a07750b7eebdc5da8de6d527e9,12,3,1,11131,,,0,"update constraint for ceilometer to new release 12.1.0

Change-Id: Ieb363dca9cae2b40e1c8aa572ed778a2b6991997
meta:version: 12.1.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Pierre Riteau <pierre@stackhpc.com>
meta:release:Commit: Pierre Riteau <pierre@stackhpc.com>
meta:release:Change-Id: I6b128ff0d22ce13e1245a4c55ce608142564207d
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/710254/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,58120c0b6b2ad1a07750b7eebdc5da8de6d527e9,new-release,ceilometer===12.1.0,ceilometer===12.0.0,1,1
openstack%2Ftripleo-ansible~master~I9844ed166ecf0718935ac1537b719000da816dbb,openstack/tripleo-ansible,master,I9844ed166ecf0718935ac1537b719000da816dbb,Creates container_config_data module,MERGED,2020-03-02 22:39:45.000000000,2020-03-04 21:42:50.000000000,2020-03-04 21:42:50.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-02 22:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8816c725f2569d5d372384b46de2ef426bf1748d', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 2, 'created': '2020-03-02 22:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dfda3d48b35ec9bc9e15c163059bb73d98fdbf9a', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 3, 'created': '2020-03-02 23:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49f86f97938a2f263322418f5f304dc028d11d91', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 4, 'created': '2020-03-02 23:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49055f9b71d51499e5f5e16de3cfbc6abb14938d', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 5, 'created': '2020-03-02 23:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0aecb4dbfe4061e62dde86aa911bc1b7db8048a2', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 6, 'created': '2020-03-03 02:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/886fc3e305f823f6fe1d6dfd8b222ca7a6c308af', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 7, 'created': '2020-03-03 02:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6794cba1d631d0a832fe2d138f16b3698205c5fc', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 8, 'created': '2020-03-03 15:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eaa69cc3764cd4b668b5c39befff37575904d92b', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nUnit tests will come later.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 9, 'created': '2020-03-04 00:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3bf53253526d3e1a4384d8c3707e164e099335bf', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nUnit tests will come later.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 10, 'created': '2020-03-04 01:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bea7d4667649b1f8d7158fafccccd7b717a59fda', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nUnit tests will come later.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 11, 'created': '2020-03-04 12:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a471e8de4f5313871993f9ef76e4fec7c39ae5bf', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nUnit tests will come later.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 12, 'created': '2020-03-04 13:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a90fe0daa6bc577e3c7d2498331acb6c328d508a', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nUnit tests will come later.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}, {'number': 13, 'created': '2020-03-04 14:57:44.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/tests/modules/test_container_config_data.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c2602508e12c95dbff46827a64e0ea2d190ca646', 'message': 'Creates container_config_data module\n\ncontainer_config_data is a new module that replaces some tasks that were\npreviously used to read and process JSON files on a host.\n\nDoing it in a module will reduce the number of tasks, and make it a\nlittle bit faster and easier to debug in big deployments.\n\nUnit tests will come later.\n\nChange-Id: I9844ed166ecf0718935ac1537b719000da816dbb\n'}]",31,710882,c2602508e12c95dbff46827a64e0ea2d190ca646,44,6,13,3153,,,0,"Creates container_config_data module

container_config_data is a new module that replaces some tasks that were
previously used to read and process JSON files on a host.

Doing it in a module will reduce the number of tasks, and make it a
little bit faster and easier to debug in big deployments.

Unit tests will come later.

Change-Id: I9844ed166ecf0718935ac1537b719000da816dbb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/82/710882/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/modules/backup.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py']",5,8816c725f2569d5d372384b46de2ef426bf1748d,tcm/confighash,," 'singledict': self.singledict, def singledict(self, list_to_convert, merge_with={}): """"""Generate a single dictionary from a list of dictionaries. This filter will return a single dictionary from a list of dictionaries. If merge_with is set, the return dict will be merged with it. """""" return_dict = {} for i in list_to_convert: return_dict.update(i) for k in merge_with.keys(): if k in return_dict: for mk, mv in merge_with[k].items(): return_dict[k][mk] = mv break return return_dict ",289,103
openstack%2Fopenstack-helm-infra~master~Iae2a38fdc99654430812451c57ac2655887f942a,openstack/openstack-helm-infra,master,Iae2a38fdc99654430812451c57ac2655887f942a,[ceph-client] update checkdns script logic to handle mon_host config,MERGED,2020-03-02 14:49:34.000000000,2020-03-04 21:33:32.000000000,2020-03-04 21:30:51.000000000,"[{'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-03-02 14:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aba2176c3ad0719cd17d2f8fd8b73a6be14aaf2f', 'message': '[ceph-client] update checkdns script logic to handle mon_host config\n\nThis is to update checkdns script loigc not to update ceph.conf when dns is up\nas current logic is repalcing ceph.conf file with configmap where we have fqdn for\nceph-mon endpoint which is causing parsing issues in Nautilus.\n\nChange-Id: Iae2a38fdc99654430812451c57ac2655887f942a\n'}, {'number': 2, 'created': '2020-03-02 15:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a2b97ac8bc07a0fe2a557daf3b11045e75e3d297', 'message': '[ceph-client] update checkdns script logic to handle mon_host config\n\nThis is to update checkdns script loigc not to update ceph.conf when dns is up\nas current logic is repalcing ceph.conf file with configmap where we have fqdn for\nceph-mon endpoint which is causing parsing issues in Nautilus.\n\nChange-Id: Iae2a38fdc99654430812451c57ac2655887f942a\n'}, {'number': 3, 'created': '2020-03-03 20:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a8aa7c3c6a7f77926c7b9e9006a6c300a16e81b0', 'message': '[ceph-client] update checkdns script logic to handle mon_host config\n\nThis is to update checkdns script loigc not to update ceph.conf when dns is up\nas current logic is repalcing ceph.conf file with configmap where we have fqdn for\nceph-mon endpoint which is causing parsing issues in Nautilus.\n\nChange-Id: Iae2a38fdc99654430812451c57ac2655887f942a\n'}, {'number': 4, 'created': '2020-03-04 01:11:19.000000000', 'files': ['ceph-client/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-client/values.yaml', 'ceph-client/templates/bin/utils/_checkDNS_start.sh.tpl', 'ceph-client/templates/deployment-checkdns.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ffd06369adc6ef6cf54977ecb2b0a379cec2f610', 'message': '[ceph-client] update checkdns script logic to handle mon_host config\n\nThis is to update checkdns script loigc not to update ceph.conf when dns is up\nas current logic is repalcing ceph.conf file with configmap where we have fqdn for\nceph-mon endpoint which is causing parsing issues in Nautilus.\n\nChange-Id: Iae2a38fdc99654430812451c57ac2655887f942a\n'}]",0,710787,ffd06369adc6ef6cf54977ecb2b0a379cec2f610,17,6,4,28372,,,0,"[ceph-client] update checkdns script logic to handle mon_host config

This is to update checkdns script loigc not to update ceph.conf when dns is up
as current logic is repalcing ceph.conf file with configmap where we have fqdn for
ceph-mon endpoint which is causing parsing issues in Nautilus.

Change-Id: Iae2a38fdc99654430812451c57ac2655887f942a
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/87/710787/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/templates/bin/utils/_checkDNS.sh.tpl', 'ceph-client/templates/bin/utils/_checkDNS_start.sh.tpl', 'ceph-client/templates/deployment-checkdns.yaml']",3,aba2176c3ad0719cd17d2f8fd8b73a6be14aaf2f,," - name: MON_PORT_V2 value: {{ tuple ""ceph_mon"" ""internal"" ""mon_msgr2"" $envAll | include ""helm-toolkit.endpoints.endpoint_port_lookup"" | quote }}",,14,11
openstack%2Ftripleo-common~master~I01b22b6e13d17887fb30cca3c51c245b71530f2d,openstack/tripleo-common,master,I01b22b6e13d17887fb30cca3c51c245b71530f2d,Fix memcached healthcheck regression,MERGED,2020-03-04 11:44:56.000000000,2020-03-04 21:15:51.000000000,2020-03-04 20:35:33.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 11:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/989fc9f33b5fb7718147d8f225f32625f74a715c', 'message': 'Fix memcached healthcheck regression\n\nsource common.sh to use the wrap_ipv6() function.\n\nMissed in https://review.opendev.org/#/c/707263/\n\nChange-Id: I01b22b6e13d17887fb30cca3c51c245b71530f2d\nCloses-Bug: #1866048\n'}, {'number': 2, 'created': '2020-03-04 11:53:13.000000000', 'files': ['healthcheck/memcached'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7e5b011946a170219ad245499e9b0eace9742cb2', 'message': 'Fix memcached healthcheck regression\n\nsource common.sh to use the wrap_ipv6() function.\n\nMissed in https://review.opendev.org/#/c/707263/\n\nChange-Id: I01b22b6e13d17887fb30cca3c51c245b71530f2d\nCloses-Bug: #1866048\n'}]",0,711207,7e5b011946a170219ad245499e9b0eace9742cb2,11,4,2,8833,,,0,"Fix memcached healthcheck regression

source common.sh to use the wrap_ipv6() function.

Missed in https://review.opendev.org/#/c/707263/

Change-Id: I01b22b6e13d17887fb30cca3c51c245b71530f2d
Closes-Bug: #1866048
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/711207/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/memcached'],1,989fc9f33b5fb7718147d8f225f32625f74a715c,, . ${HEALTHCHECK_SCRIPTS:-/usr/share/openstack-tripleo-common/healthcheck}/common.sh,,1,0
openstack%2Fnova~master~Ia84899b47f330ddb5993fc90e81d9817e8b9325a,openstack/nova,master,Ia84899b47f330ddb5993fc90e81d9817e8b9325a,Add test coverage of existing deferred_delete policies,MERGED,2020-02-12 19:15:51.000000000,2020-03-04 21:09:00.000000000,2020-03-04 21:01:08.000000000,"[{'_account_id': 782}, {'_account_id': 8556}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-02-12 19:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fa32aa44cd561b4d23a4a99e91bb1039d6d27a4', 'message': 'Add test coverage of existing deferred_delete policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing deferred_delete policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ia84899b47f330ddb5993fc90e81d9817e8b9325a\n'}, {'number': 2, 'created': '2020-02-12 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f79c77f4b70cd03dc47b30cb90f0b7a8329f53f7', 'message': 'Add test coverage of existing deferred_delete policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing deferred_delete policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ia84899b47f330ddb5993fc90e81d9817e8b9325a\n'}, {'number': 3, 'created': '2020-03-04 09:58:13.000000000', 'files': ['nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8eeb8663b29b6cc34c543c51616527c9f93e9979', 'message': 'Add test coverage of existing deferred_delete policies\n\nCurrent tests do not have good test coverage of existing policies.\nEither tests for policies do not exist or if they exist then they\ndo not cover the actual negative and positive testing.\n\nFor Example, if any policy with default rule as admin only then\ntest should verify:\n- policy check pass with context having admin role\n- policy check fail with context having any other role than admin\n\nAs discussed in policy-defaults-refresh [1], to change the policies\nwith new default roles and scope_type, we need to have the enough\ntesting coverage of existing policy behavior.\nWhen we will add the scope_type in policies or new default roles,\nthen these test coverage will be extended to adopt the new changes\nand also make sure we do not break the existing behavior.\n\nThis commit covers the testing coverage of existing deferred_delete policies.\n\nPartial implement blueprint policy-defaults-refresh\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing\n\nChange-Id: Ia84899b47f330ddb5993fc90e81d9817e8b9325a\n'}]",0,707455,8eeb8663b29b6cc34c543c51616527c9f93e9979,28,9,3,8556,,,0,"Add test coverage of existing deferred_delete policies

Current tests do not have good test coverage of existing policies.
Either tests for policies do not exist or if they exist then they
do not cover the actual negative and positive testing.

For Example, if any policy with default rule as admin only then
test should verify:
- policy check pass with context having admin role
- policy check fail with context having any other role than admin

As discussed in policy-defaults-refresh [1], to change the policies
with new default roles and scope_type, we need to have the enough
testing coverage of existing policy behavior.
When we will add the scope_type in policies or new default roles,
then these test coverage will be extended to adopt the new changes
and also make sure we do not break the existing behavior.

This commit covers the testing coverage of existing deferred_delete policies.

Partial implement blueprint policy-defaults-refresh

[1] https://specs.openstack.org/openstack/nova-specs/specs/ussuri/approved/policy-defaults-refresh.html#testing

Change-Id: Ia84899b47f330ddb5993fc90e81d9817e8b9325a
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/707455/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/policies/test_deferred_delete.py', 'nova/tests/unit/api/openstack/compute/test_deferred_delete.py']",2,8fa32aa44cd561b4d23a4a99e91bb1039d6d27a4,bp/policy-defaults-refresh,," class DeferredDeletePolicyEnforcementV21(test.NoDBTestCase): def setUp(self): super(DeferredDeletePolicyEnforcementV21, self).setUp() self.controller = dd_v21.DeferredDeleteController() self.req = fakes.HTTPRequest.blank('') def test_restore_policy_failed(self): rule_name = ""os_compute_api:os-deferred-delete"" self.policy.set_rules({rule_name: ""project:non_fake""}) exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller._restore, self.req, fakes.FAKE_UUID, body={'restore': {}}) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) @mock.patch('nova.api.openstack.common.get_instance') def test_force_delete_policy_failed_with_other_project( self, get_instance_mock): get_instance_mock.return_value = ( fake_instance.fake_instance_obj(self.req.environ['nova.context'])) rule_name = ""os_compute_api:os-deferred-delete"" self.policy.set_rules({rule_name: ""project_id:%(project_id)s""}) # Change the project_id in request context. self.req.environ['nova.context'].project_id = 'other-project' exc = self.assertRaises( exception.PolicyNotAuthorized, self.controller._force_delete, self.req, fakes.FAKE_UUID, body={'forceDelete': {}}) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) @mock.patch('nova.compute.api.API.force_delete') @mock.patch('nova.api.openstack.common.get_instance') def test_force_delete_overridden_policy_pass_with_same_project( self, get_instance_mock, force_delete_mock): instance = fake_instance.fake_instance_obj( self.req.environ['nova.context'], project_id=self.req.environ['nova.context'].project_id) get_instance_mock.return_value = instance rule_name = ""os_compute_api:os-deferred-delete"" self.policy.set_rules({rule_name: ""project_id:%(project_id)s""}) self.controller._force_delete(self.req, fakes.FAKE_UUID, body={'forceDelete': {}}) force_delete_mock.assert_called_once_with( self.req.environ['nova.context'], instance) @mock.patch('nova.api.openstack.common.get_instance') def test_force_delete_overridden_policy_failed_with_other_user( self, get_instance_mock): get_instance_mock.return_value = ( fake_instance.fake_instance_obj(self.req.environ['nova.context'])) rule_name = ""os_compute_api:os-deferred-delete"" self.policy.set_rules({rule_name: ""user_id:%(user_id)s""}) # Change the user_id in request context. self.req.environ['nova.context'].user_id = 'other-user' exc = self.assertRaises(exception.PolicyNotAuthorized, self.controller._force_delete, self.req, fakes.FAKE_UUID, body={'forceDelete': {}}) self.assertEqual( ""Policy doesn't allow %s to be performed."" % rule_name, exc.format_message()) @mock.patch('nova.compute.api.API.force_delete') @mock.patch('nova.api.openstack.common.get_instance') def test_force_delete_overridden_policy_pass_with_same_user(self, get_instance_mock, force_delete_mock): instance = fake_instance.fake_instance_obj( self.req.environ['nova.context'], user_id=self.req.environ['nova.context'].user_id) get_instance_mock.return_value = instance rule_name = ""os_compute_api:os-deferred-delete"" self.policy.set_rules({rule_name: ""user_id:%(user_id)s""}) self.controller._force_delete(self.req, fakes.FAKE_UUID, body={'forceDelete': {}}) force_delete_mock.assert_called_once_with( self.req.environ['nova.context'], instance)",116,83
openstack%2Ftripleo-ci~master~I4bf5a8b0c072a9cf24871052f7fa9fd74b86ddab,openstack/tripleo-ci,master,I4bf5a8b0c072a9cf24871052f7fa9fd74b86ddab,Make tripleo-ci-centos-7-scenario010-standalone nv,ABANDONED,2020-03-04 14:45:28.000000000,2020-03-04 20:59:41.000000000,,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 14:45:28.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/259a25b3ecf19950729e68c5bbd830cc29479876', 'message': 'Make tripleo-ci-centos-7-scenario010-standalone nv\n\nSince C8 is coming and c7 tripleo-ci-centos-7-scenario010-standalone\nis killing us and make it nv to land patches and then we will move\nt0 c8 based tripleo-ci-centos-8-scenario010-standalone\n\nChange-Id: I4bf5a8b0c072a9cf24871052f7fa9fd74b86ddab\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,711242,259a25b3ecf19950729e68c5bbd830cc29479876,5,4,1,12393,,,0,"Make tripleo-ci-centos-7-scenario010-standalone nv

Since C8 is coming and c7 tripleo-ci-centos-7-scenario010-standalone
is killing us and make it nv to land patches and then we will move
t0 c8 based tripleo-ci-centos-8-scenario010-standalone

Change-Id: I4bf5a8b0c072a9cf24871052f7fa9fd74b86ddab
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/42/711242/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,259a25b3ecf19950729e68c5bbd830cc29479876,s10c7nv, voting: false, voting: true,1,1
openstack%2Ftripleo-ci~master~I92c9515b6f6e1747370898fe8127c4d981b7da3f,openstack/tripleo-ci,master,I92c9515b6f6e1747370898fe8127c4d981b7da3f,DNM: Testing scenario10,ABANDONED,2020-03-04 15:31:07.000000000,2020-03-04 20:59:14.000000000,,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-04 15:31:07.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b78e664416803ab33e8a1fac8b6231db1433388e', 'message': 'DNM: Testing scenario10\n\nChange-Id: I92c9515b6f6e1747370898fe8127c4d981b7da3f\nDepends-On: https://review.opendev.org/#/c/711250\n'}]",0,711252,b78e664416803ab33e8a1fac8b6231db1433388e,4,3,1,9976,,,0,"DNM: Testing scenario10

Change-Id: I92c9515b6f6e1747370898fe8127c4d981b7da3f
Depends-On: https://review.opendev.org/#/c/711250
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/52/711252/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b78e664416803ab33e8a1fac8b6231db1433388e,test-scenario010, - tripleo-ci-centos-7-scenario010-standalone," templates: - tripleo-ci-build-containers-jobs - tripleo-multinode-baremetal-full - tripleo-multinode-branchful - tripleo-multinode-container-full - tripleo-multinode-experimental - tripleo-standalone-scenarios-full - tripleo-undercloud-jobs - tripleo-periodic - openstack-tox-linters - tripleo-tox-molecule - openstack-tox-py35: success-url: ""tox/reports.html"" failure-url: ""tox/reports.html"" files: &py_files - ^bindep.txt$ - ^requirements.txt$ - ^scripts/emit_releases_file/.*$ - ^setup.cfg$ - ^setup.py$ - ^tox.ini$ - tripleo-buildimage-overcloud-full-centos-7: files: &build_images_files - ^playbooks/tripleo-buildimages/.*$ - ^roles/oooci-build-images/.*$ - tripleo-buildimage-ironic-python-agent-centos-7: files: *build_images_files - tripleo-buildimage-overcloud-hardened-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-scenario001-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario002-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario003-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario004-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: files: - ^playbooks/tripleo-ci/.*$ - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train - tripleo-ci-centos-7-standalone-upgrade-train: branches: master gate: queue: tripleo jobs: # Don't put a files section on the linters job, otherwise no # jobs might be defined and nothing can merge in this repo. - openstack-tox-linters - tripleo-tox-molecule - openstack-tox-py35: files: *py_files - tripleo-buildimage-overcloud-full-centos-7: files: *build_images_files - tripleo-ci-centos-7-standalone-upgrade-train: branches: master - tripleo-ci-centos-7-standalone-upgrade-stein: branches: stable/train",1,64
openstack%2Fopenstack-helm-infra~master~I2336c64d20fe689a5c7f22e8fbd170a27b1a1045,openstack/openstack-helm-infra,master,I2336c64d20fe689a5c7f22e8fbd170a27b1a1045,prometheus-kube-state-metrics; expose readiness probe via HTK,MERGED,2020-02-25 17:08:11.000000000,2020-03-04 20:57:48.000000000,2020-03-04 20:55:04.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28719}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-02-25 17:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2aaee3ad058a83244a850bb122466d69b66e4cc', 'message': ""prometheus-kube-state-metrics; probe less aggressively\n\nOn larger clusters the default timeout of 1s isn't enough.  Whilst at\nit reduce the probing to a more reasonable level.\n\nChange-Id: I2336c64d20fe689a5c7f22e8fbd170a27b1a1045\n""}, {'number': 2, 'created': '2020-02-25 17:37:08.000000000', 'files': ['prometheus-kube-state-metrics/values.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a23de914ce07efeadef97f2c6dabe086ab10c934', 'message': ""prometheus-kube-state-metrics; expose readiness probe via HTK\n\nOn larger clusters the default timeout of 1s isn't enough.  Use HTK to\nexpose settings and adjust defaults to be suitable for larger\nclusters.\n\nChange-Id: I2336c64d20fe689a5c7f22e8fbd170a27b1a1045\n""}]",0,709792,a23de914ce07efeadef97f2c6dabe086ab10c934,11,5,2,8898,,,0,"prometheus-kube-state-metrics; expose readiness probe via HTK

On larger clusters the default timeout of 1s isn't enough.  Use HTK to
expose settings and adjust defaults to be suitable for larger
clusters.

Change-Id: I2336c64d20fe689a5c7f22e8fbd170a27b1a1045
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/709792/2 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-kube-state-metrics/templates/deployment.yaml'],1,f2aaee3ad058a83244a850bb122466d69b66e4cc,, initialDelaySeconds: 30 periodSeconds: 60 timeoutSeconds: 10 successThreshold: 1 failureThreshold: 3, initialDelaySeconds: 20 periodSeconds: 10,5,2
openstack%2Fironic~stable%2Fqueens~I15464410c9e74b915a647bffbaac02770d15f6b2,openstack/ironic,stable/queens,I15464410c9e74b915a647bffbaac02770d15f6b2,[stable] consume virtualbmc from pip packages,MERGED,2020-03-03 13:41:55.000000000,2020-03-04 20:38:50.000000000,2020-03-04 20:38:50.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-03-03 13:41:55.000000000', 'files': ['playbooks/legacy/tempest-dsvm-ironic-ipa-partition-uefi-pxe_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-agent_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-redfish-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipmitool-postgres/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-bfv/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-pxe_snmp-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-resourceclasses-partition-pxe_ipmitool-tinyipa/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a6cd5cf68d912c7b19b026bc5d5b44eba3632c78', 'message': '[stable] consume virtualbmc from pip packages\n\nThe virtualbmc master has dropped support for Python 2, breaking\nstable CI jobs. Since we expect this to be a one-time breakage,\nlimit the existing stable branches to virtualbmc in upper-constraints\nby removing it from required projects in the CI jobs.\n\nChange-Id: I15464410c9e74b915a647bffbaac02770d15f6b2\n(cherry picked from commit 7c993afb1f1a4389a5a7582925f6ff6a2e9b3b81)\n'}]",0,711005,a6cd5cf68d912c7b19b026bc5d5b44eba3632c78,12,4,1,10239,,,0,"[stable] consume virtualbmc from pip packages

The virtualbmc master has dropped support for Python 2, breaking
stable CI jobs. Since we expect this to be a one-time breakage,
limit the existing stable branches to virtualbmc in upper-constraints
by removing it from required projects in the CI jobs.

Change-Id: I15464410c9e74b915a647bffbaac02770d15f6b2
(cherry picked from commit 7c993afb1f1a4389a5a7582925f6ff6a2e9b3b81)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/711005/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-ironic-ipa-partition-uefi-pxe_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-inspector/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-agent_ipmitool-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-redfish-tinyipa/run.yaml', 'playbooks/legacy/grenade-dsvm-ironic/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipmitool-postgres/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-bfv/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-bios-pxe_snmp-tinyipa/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-pxe_ipa-full/run.yaml', 'zuul.d/legacy-ironic-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-partition-pxe_ipmitool-tinyipa-python3/run.yaml', 'playbooks/legacy/tempest-dsvm-ironic-ipa-resourceclasses-partition-pxe_ipmitool-tinyipa/run.yaml']",14,a6cd5cf68d912c7b19b026bc5d5b44eba3632c78,,," export PROJECTS=""openstack/virtualbmc $PROJECTS""",0,18
