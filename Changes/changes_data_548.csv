id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-keystone~master~I622ea092e780cf1ec38cbd949ee02d3ed4903f63,openstack/charm-keystone,master,I622ea092e780cf1ec38cbd949ee02d3ed4903f63,Update tox.ini to stop using unverified package,ABANDONED,2018-04-03 16:18:02.000000000,2018-04-03 16:19:57.000000000,,[],"[{'number': 1, 'created': '2018-04-03 16:18:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/c9b39e44917237aaba49054462d6432b97e1bfc9', 'message': 'Update tox.ini to stop using unverified package\n\nAs of pip 10.0, --allow-unverified is not permitted.\n\nUse of the flag in this repo was previously used to force\ninstallation of python-apt to accommodate certain unit tests,\nwhich were arguably inadequately mocked at that time.\n\nThe unverified package, python-apt, is no longer necessary\nfor test execution.\n\nChange-Id: I622ea092e780cf1ec38cbd949ee02d3ed4903f63\nRelated-Bug: #1760720\n'}]",0,558551,c9b39e44917237aaba49054462d6432b97e1bfc9,2,0,1,20635,,,0,"Update tox.ini to stop using unverified package

As of pip 10.0, --allow-unverified is not permitted.

Use of the flag in this repo was previously used to force
installation of python-apt to accommodate certain unit tests,
which were arguably inadequately mocked at that time.

The unverified package, python-apt, is no longer necessary
for test execution.

Change-Id: I622ea092e780cf1ec38cbd949ee02d3ed4903f63
Related-Bug: #1760720
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/51/558551/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c9b39e44917237aaba49054462d6432b97e1bfc9,bug/1760720, pip install {opts} {packages}, pip install --allow-unverified python-apt {opts} {packages},1,1
openstack%2Fcharm-keystone-ldap~master~I87a3aa68d0d71bacf1e552b6d1acaa5e1521e888,openstack/charm-keystone-ldap,master,I87a3aa68d0d71bacf1e552b6d1acaa5e1521e888,Update tox.ini to stop using unverified package,ABANDONED,2018-04-03 16:18:06.000000000,2018-04-03 16:19:33.000000000,,[],"[{'number': 1, 'created': '2018-04-03 16:18:06.000000000', 'files': ['src/tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/06cb635ea2d4e9c17dfaceddc130e707da7c0c04', 'message': 'Update tox.ini to stop using unverified package\n\nAs of pip 10.0, --allow-unverified is not permitted.\n\nUse of the flag in this repo was previously used to force\ninstallation of python-apt to accommodate certain unit tests,\nwhich were arguably inadequately mocked at that time.\n\nThe unverified package, python-apt, is no longer necessary\nfor test execution.\n\nChange-Id: I87a3aa68d0d71bacf1e552b6d1acaa5e1521e888\nRelated-Bug: #1760720\n'}]",0,558552,06cb635ea2d4e9c17dfaceddc130e707da7c0c04,2,0,1,20635,,,0,"Update tox.ini to stop using unverified package

As of pip 10.0, --allow-unverified is not permitted.

Use of the flag in this repo was previously used to force
installation of python-apt to accommodate certain unit tests,
which were arguably inadequately mocked at that time.

The unverified package, python-apt, is no longer necessary
for test execution.

Change-Id: I87a3aa68d0d71bacf1e552b6d1acaa5e1521e888
Related-Bug: #1760720
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/52/558552/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tox.ini'],1,06cb635ea2d4e9c17dfaceddc130e707da7c0c04,bug/1760720, pip install {opts} {packages}, pip install --allow-unverified python-apt {opts} {packages},1,1
openstack%2Ftripleo-common~master~I1602e66230255e57c739daaecb7be8cba83b0b6d,openstack/tripleo-common,master,I1602e66230255e57c739daaecb7be8cba83b0b6d,Add support for writing hostnames to inventory,ABANDONED,2018-03-21 20:49:43.000000000,2018-04-03 16:18:06.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2018-03-21 20:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55969844e5ef26bf51b484872e5a561d77f8f91d', 'message': 'Add support for writing hostnames to inventory\n\nUsing hostnames in the ansible inventory is more user friendly than IP\naddresses and results in more easily interpreted output when running\nansible-playbook.\n\nThis commit adds an option to inventory.py to use hostnames in the\ninventory for the connection string instead of IP addresses, and uses\nthe option in the generate_inventory task and the ansible inventory\naction.\n\nChange-Id: I1602e66230255e57c739daaecb7be8cba83b0b6d\n'}, {'number': 2, 'created': '2018-03-21 20:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/785fbe25784f9e3c3f06a26afec43d208ca29396', 'message': 'Add support for writing hostnames to inventory\n\nUsing hostnames in the ansible inventory is more user friendly than IP\naddresses and results in more easily interpreted output when running\nansible-playbook.\n\nThis commit adds an option to inventory.py to use hostnames in the\ninventory for the connection string instead of IP addresses, and uses\nthe option in the generate_inventory task and the ansible inventory\naction.\n\nChange-Id: I1602e66230255e57c739daaecb7be8cba83b0b6d\n'}, {'number': 3, 'created': '2018-03-21 23:48:58.000000000', 'files': ['releasenotes/notes/add-use-hostnames-to-inventory-c87a5694f0c6f993.yaml', 'workbooks/deployment.yaml', 'tripleo_common/actions/ansible.py', 'tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/976843f391328944826219b3af5efec507eaa748', 'message': 'Add support for writing hostnames to inventory\n\nUsing hostnames in the ansible inventory is more user friendly than IP\naddresses and results in more easily interpreted output when running\nansible-playbook.\n\nThis commit adds an option to inventory.py to use hostnames in the\ninventory for the connection string instead of IP addresses, and uses\nthe option in the generate_inventory task and the ansible inventory\naction.\n\nChange-Id: I1602e66230255e57c739daaecb7be8cba83b0b6d\nDepends-On: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n'}]",3,555049,976843f391328944826219b3af5efec507eaa748,21,4,3,7144,,,0,"Add support for writing hostnames to inventory

Using hostnames in the ansible inventory is more user friendly than IP
addresses and results in more easily interpreted output when running
ansible-playbook.

This commit adds an option to inventory.py to use hostnames in the
inventory for the connection string instead of IP addresses, and uses
the option in the generate_inventory task and the ansible inventory
action.

Change-Id: I1602e66230255e57c739daaecb7be8cba83b0b6d
Depends-On: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/555049/2 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/deployment.yaml', 'tripleo_common/actions/ansible.py', 'tripleo_common/inventory.py']",3,55969844e5ef26bf51b484872e5a561d77f8f91d,hostnames," cacert=None, username=None, ansible_ssh_user=None, use_hostnames=False): self.use_hostnames = use_hostnames if self.use_hostnames: ret[name] = {'hosts': self._hosts([name])} else: ret[name] = {'hosts': self._hosts([ips[idx]])}"," cacert=None, username=None, ansible_ssh_user=None): ret[name] = {'hosts': self._hosts([ips[idx]])}",12,3
openstack%2Ftripleo-heat-templates~master~Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba,openstack/tripleo-heat-templates,master,Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba,Add HostsEntry to undercloud's /etc/hosts,ABANDONED,2018-03-21 20:37:43.000000000,2018-04-03 16:18:00.000000000,,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-21 20:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8f89b37586a000fbfe807bbd23a8f64e7ad7e38', 'message': ""Add HostsEntry to undercloud's /etc/hosts\n\nAdd the overcloud hostnames as entries to /etc/hosts on the undercloud\nwhen using config-download. This will enable using the hostnames in the\nansible inventory which results in much friendlier output of the ansible\ntasks/plays reporting about which hosts passed or failed.\n\nChange-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n""}, {'number': 2, 'created': '2018-03-21 23:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/526fd6b48256d8dee9360c853364b423240c31bc', 'message': ""Add HostsEntry to undercloud's /etc/hosts\n\nAdd the overcloud hostnames as entries to /etc/hosts on the undercloud\nwhen using config-download. This will enable using the hostnames in the\nansible inventory which results in much friendlier output of the ansible\ntasks/plays reporting about which hosts passed or failed.\n\nChange-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n""}, {'number': 3, 'created': '2018-03-22 12:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9aa878a8cba99f41e1b9d892cef8feaf99f819e', 'message': ""Add HostsEntry to undercloud's /etc/hosts\n\nAdd the overcloud hostnames as entries to /etc/hosts on the undercloud\nwhen using config-download. This will enable using the hostnames in the\nansible inventory which results in much friendlier output of the ansible\ntasks/plays reporting about which hosts passed or failed.\n\nChange-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n""}, {'number': 4, 'created': '2018-03-22 12:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/581c706d12575d6ce4f2ebee3ee237a6514d9aa3', 'message': ""Add HostsEntry to undercloud's /etc/hosts\n\nAdd the overcloud hostnames as entries to /etc/hosts on the undercloud\nwhen using config-download. This will enable using the hostnames in the\nansible inventory which results in much friendlier output of the ansible\ntasks/plays reporting about which hosts passed or failed.\n\nChange-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n""}, {'number': 5, 'created': '2018-03-22 16:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a153f940e84514cdb91a8b522ce9f7eaec1b79c7', 'message': ""Add HostsEntry to undercloud's /etc/hosts\n\nAdd the overcloud hostnames as entries to /etc/hosts on the undercloud\nwhen using config-download. This will enable using the hostnames in the\nansible inventory which results in much friendlier output of the ansible\ntasks/plays reporting about which hosts passed or failed.\n\nChange-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n""}, {'number': 6, 'created': '2018-03-23 00:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9233fa9505d048c132af520298fc875445f24f3', 'message': ""Add HostsEntry to undercloud's /etc/hosts\n\nAdd the overcloud hostnames as entries to /etc/hosts on the undercloud\nwhen using config-download. This will enable using the hostnames in the\nansible inventory which results in much friendlier output of the ansible\ntasks/plays reporting about which hosts passed or failed.\n\nChange-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n""}, {'number': 7, 'created': '2018-03-27 10:59:41.000000000', 'files': ['overcloud.j2.yaml', 'releasenotes/notes/add-hosts-entry-to-undercloud-d9e84012833cf42c.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a76c8fe02108c372da334145ddb70cb0ad39540', 'message': ""Add HostsEntry to undercloud's /etc/hosts\n\nAdd the overcloud hostnames as entries to /etc/hosts on the undercloud\nwhen using config-download. This will enable using the hostnames in the\nansible inventory which results in much friendlier output of the ansible\ntasks/plays reporting about which hosts passed or failed.\n\nChange-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba\n""}]",1,555041,3a76c8fe02108c372da334145ddb70cb0ad39540,19,3,7,7144,,,0,"Add HostsEntry to undercloud's /etc/hosts

Add the overcloud hostnames as entries to /etc/hosts on the undercloud
when using config-download. This will enable using the hostnames in the
ansible inventory which results in much friendlier output of the ansible
tasks/plays reporting about which hosts passed or failed.

Change-Id: Ib923985ae3ba69516c2a2b4835d1a6c0af4b46ba
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/555041/5 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'releasenotes/notes/add-hosts-entry-to-undercloud-d9e84012833cf42c.yaml', 'common/deploy-steps.j2']",3,c8f89b37586a000fbfe807bbd23a8f64e7ad7e38,hostnames," hosts_entry: type: string default: '' description: > The content that should be appended to your /etc/hosts if you want to get hostname-based access to the deployed nodes (useful for testing without setting up a DNS). hosts_entry: {get_param: hosts_entry} - hosts: all name: Load global variables gather_facts: no tasks: - include_vars: global_vars.yaml tags: - always - hosts: undercloud tasks: - lineinfile: state: present path: /etc/hosts line: ""{{ item }}"" with_items: ""{{ hosts_entry.split('\n') }}""", - hosts: all name: Load global variables gather_facts: no tasks: - include_vars: global_vars.yaml tags: - always,37,12
openstack%2Fneutron-fwaas-dashboard~master~Ib4c7c3003ce5d895c9c514aa0af6491da1667891,openstack/neutron-fwaas-dashboard,master,Ib4c7c3003ce5d895c9c514aa0af6491da1667891,Drop mox3 from test-requirements.txt,MERGED,2018-03-11 00:33:49.000000000,2018-04-03 16:05:01.000000000,2018-04-03 16:05:00.000000000,"[{'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-11 00:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/82848c8e7a1b8e806c1a2831c3efed2f7cefba33', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 2, 'created': '2018-03-11 01:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/256a7da2f630a02f0ca14d4d3d9e26d3981fa359', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 3, 'created': '2018-03-23 07:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/74652e04631111b329506013e8a89c1d7ac266db', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 4, 'created': '2018-03-28 04:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/c2b27671c3e32fe54e8988d8ba76709dd4de4e4c', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 5, 'created': '2018-03-28 06:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/58fe9d55746bbf373bea68e9c53fd06fb6897ab2', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 6, 'created': '2018-04-03 14:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/9f398e97e2de0f856beea8c464ffaa8d57b2474c', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 7, 'created': '2018-04-03 14:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/2935affc3a764b594f9c893fba38e0d31a194aaa', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 8, 'created': '2018-04-03 14:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/8dc041410b3ccb5a8ed65df9194892bfc2ac36eb', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}, {'number': 9, 'created': '2018-04-03 15:19:16.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'neutron_fwaas_dashboard/test/helpers.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/6faaf2cad7a77ff830c632848009c6aa035ada2a', 'message': 'Drop mox3 from test-requirements.txt\n\ncreate_stubs in test.helpers is also dropped in this commit\nbecause this creates a stub using mox.\n\nThis is part of mox-removal community goal in Rocky.\n\nlower-constraints.txt are updated to pass requirements-check\nas this file is updated automatically now and we need to update\nit when updating this file from some reasons.\n\nChange-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891\nCloses-Bug: #1753504\n'}]",0,551724,6faaf2cad7a77ff830c632848009c6aa035ada2a,24,3,9,841,,,0,"Drop mox3 from test-requirements.txt

create_stubs in test.helpers is also dropped in this commit
because this creates a stub using mox.

This is part of mox-removal community goal in Rocky.

lower-constraints.txt are updated to pass requirements-check
as this file is updated automatically now and we need to update
it when updating this file from some reasons.

Change-Id: Ib4c7c3003ce5d895c9c514aa0af6491da1667891
Closes-Bug: #1753504
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/24/551724/9 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'neutron_fwaas_dashboard/test/helpers.py']",2,82848c8e7a1b8e806c1a2831c3efed2f7cefba33,mox-removal,,create_stubs = helpers.create_stubs ,0,4
openstack%2Ftripleo-heat-templates~master~Ie1a0b9740ed18663451a3907ec3e3575adb4e778,openstack/tripleo-heat-templates,master,Ie1a0b9740ed18663451a3907ec3e3575adb4e778,Refresh keystone after deployment,MERGED,2018-03-29 15:12:03.000000000,2018-04-03 16:04:36.000000000,2018-04-03 14:10:08.000000000,"[{'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-29 15:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a92035fceb2eb6fefa5c93ce62b94a293e6e566', 'message': 'Refresh keystone after deployment\n\nThis is necessary for certain setups (such as enabling multiple LDAP\ndomains). So, instead of always adding checks every time to see if\nwe need to refresh or not, lets just do it always, thus simplifying\nthe already convoluted logic here.\n\nChange-Id: Ie1a0b9740ed18663451a3907ec3e3575adb4e778\nCloses-Bug: #1748219\nCo-Authored-By: Raildo Mascena <rmascena@redhat.com>\n'}, {'number': 2, 'created': '2018-03-29 15:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f76079edf161099255b415a613dcd58c351e9a7', 'message': 'Refresh keystone after deployment\n\nThis is necessary for certain setups (such as enabling multiple LDAP\ndomains). So, instead of always adding checks every time to see if\nwe need to refresh or not, lets just do it always, thus simplifying\nthe already convoluted logic here.\n\nChange-Id: Ie1a0b9740ed18663451a3907ec3e3575adb4e778\nCloses-Bug: #1748219\nCo-Authored-By: Raildo Mascena <rmascena@redhat.com>\n'}, {'number': 3, 'created': '2018-03-29 15:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba6bea3969e418e11e375b695844364d9f063f50', 'message': 'Refresh keystone after deployment\n\nThis is necessary for certain setups (such as enabling multiple LDAP\ndomains). So, instead of always adding checks every time to see if\nwe need to refresh or not, lets just do it always, thus simplifying\nthe already convoluted logic here.\n\nChange-Id: Ie1a0b9740ed18663451a3907ec3e3575adb4e778\nCloses-Bug: #1748219\nCo-Authored-By: Raildo Mascena <rmascena@redhat.com>\n'}, {'number': 4, 'created': '2018-03-29 15:31:08.000000000', 'files': ['docker/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffc14e3067e6eb0039dceec9656f07d7663dc87f', 'message': 'Refresh keystone after deployment\n\nThis is necessary for certain setups (such as enabling multiple LDAP\ndomains). So, instead of always adding checks every time to see if\nwe need to refresh or not, lets just do it always, thus simplifying\nthe already convoluted logic here.\n\nChange-Id: Ie1a0b9740ed18663451a3907ec3e3575adb4e778\nCloses-Bug: #1748219\nCo-Authored-By: Raildo Mascena <rmascena@redhat.com>\n'}]",4,557736,ffc14e3067e6eb0039dceec9656f07d7663dc87f,25,11,4,10873,,,0,"Refresh keystone after deployment

This is necessary for certain setups (such as enabling multiple LDAP
domains). So, instead of always adding checks every time to see if
we need to refresh or not, lets just do it always, thus simplifying
the already convoluted logic here.

Change-Id: Ie1a0b9740ed18663451a3907ec3e3575adb4e778
Closes-Bug: #1748219
Co-Authored-By: Raildo Mascena <rmascena@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/557736/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/keystone.yaml'],1,2a92035fceb2eb6fefa5c93ce62b94a293e6e566,bug/1748219," start_order: 5 step_4: keystone_refresh: start_order: 1 action: exec user: root command: [ 'keystone', 'pkill', '--signal', 'HUP', 'httpd' ]", start_order: 4,8,1
openstack%2Fheat~master~Iff1b1632c66d6727798969a8ca6506d8d0fb2051,openstack/heat,master,Iff1b1632c66d6727798969a8ca6506d8d0fb2051,Remove mox from test_scheduler.TaskTest,MERGED,2018-03-13 20:13:44.000000000,2018-04-03 16:02:00.000000000,2018-04-03 16:02:00.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 20:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7221740836383384e685466127f1a437b109f0b4', 'message': 'Remove mox from test_scheduler.TaskTest\n\nChange-Id: Iff1b1632c66d6727798969a8ca6506d8d0fb2051\n'}, {'number': 2, 'created': '2018-04-02 15:42:19.000000000', 'files': ['heat/tests/engine/test_scheduler.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ed23b68eb5ddf48e99d032df8115d1d878ddb00d', 'message': 'Remove mox from test_scheduler.TaskTest\n\nChange-Id: Iff1b1632c66d6727798969a8ca6506d8d0fb2051'}]",2,552676,ed23b68eb5ddf48e99d032df8115d1d878ddb00d,15,4,2,4257,,,0,"Remove mox from test_scheduler.TaskTest

Change-Id: Iff1b1632c66d6727798969a8ca6506d8d0fb2051",git fetch https://review.opendev.org/openstack/heat refs/changes/76/552676/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/engine/test_scheduler.py'],1,7221740836383384e685466127f1a437b109f0b4,mox-removal," task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) self.assertEqual(3, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_called_once_with(1) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_called_once_with(1) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(0), mock.call(1), mock.call(1), mock.call(1), mock.call(1), mock.call(1)]) self.assertEqual(6, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(0), mock.call(1), mock.call(1), mock.call(1), mock.call(1), mock.call(1), mock.call(1)]) self.assertEqual(7, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(0), mock.call(42), mock.call(42)]) self.assertEqual(3, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(1), mock.call(1)]) self.assertEqual(2, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(24), mock.call(24)]) self.assertEqual(2, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(0), mock.call(1), mock.call(1)]) self.assertEqual(3, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(1), mock.call(1)]) self.assertEqual(2, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2)]) self.assertEqual(2, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(0), mock.call(1)]) self.assertEqual(2, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(1), mock.call(1)]) self.assertEqual(2, scheduler.TaskRunner._sleep.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2)]) self.assertEqual(2, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(0), mock.call(1)]) self.assertEqual(2, scheduler.TaskRunner._sleep.call_count) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) scheduler.TaskRunner._sleep.assert_has_calls([mock.call(1), mock.call(1)]) self.assertEqual(2, scheduler.TaskRunner._sleep.call_count) self.patchobject(eventlet, 'sleep', return_value=None) eventlet.sleep.assert_any_call(0) eventlet.sleep.assert_called_with(sleep_time) def test_sleep_zero(self): self.patchobject(eventlet, 'sleep', return_value=None) eventlet.sleep.assert_called_with(0) def test_sleep_none(self): self.patchobject(eventlet, 'sleep', return_value=None) eventlet.sleep.assert_not_called() task = mock.Mock() task.assert_called_with(*args, **kwargs) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3)]) self.assertEqual(3, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_not_called() scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_called_once_with(1) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_not_called() scheduler.TaskRunner._sleep.assert_not_called() self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.5, st + 1.5]) self.assertEqual(3, timeutils.wallclock.call_count) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.5, st + 1.5]) self.assertEqual(3, timeutils.wallclock.call_count) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.5, st + 1.5]) self.assertEqual(3, timeutils.wallclock.call_count) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.5, st + 1.5]) self.assertEqual(3, timeutils.wallclock.call_count) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.5, st + 0.7, st + 1.6, st + 2.6]) self.assertEqual(5, timeutils.wallclock.call_count) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.5, st + 0.6, st + 1.5]) self.assertEqual(4, timeutils.wallclock.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_not_called() scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_called_once_with(1) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_has_calls([mock.call(1), mock.call(2)]) self.assertEqual(2, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.5, st + 1.0, st + 1.5]) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3), mock.call(4)]) self.assertEqual(4, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() self.assertEqual(4, timeutils.wallclock.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.1, st + 0.2, st + 0.2, st + 0.5, st + 1.0, st + 1.5]) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3), mock.call(4)]) self.assertEqual(4, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() self.assertEqual(7, timeutils.wallclock.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) self.patchobject(timeutils, 'wallclock', side_effect=[st, st + 0.1, st + 0.2, st + 0.2, st + 0.5, st + 1.0, st + 1.5]) task.do_step.assert_has_calls([mock.call(1), mock.call(2), mock.call(3), mock.call(4)]) self.assertEqual(4, task.do_step.call_count) scheduler.TaskRunner._sleep.assert_not_called() self.assertEqual(7, timeutils.wallclock.call_count) task.do_step = mock.Mock(return_value=None) self.patchobject(scheduler.TaskRunner, '_sleep', return_value=None) task.do_step.assert_not_called() scheduler.TaskRunner._sleep.assert_not_called() "," self.addCleanup(self.m.VerifyAll) self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(0).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(3).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) task.do_step(3).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) task.do_step(3).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(0).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(3).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(0).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(3).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(0).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(42).AndReturn(None) task.do_step(3).AndReturn(None) scheduler.TaskRunner._sleep(42).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(3).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(24).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(24).AndReturn(None) task.do_step(3).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(0).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(3).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(3).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) task.do_step(3).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) scheduler.TaskRunner._sleep(0).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) task.do_step(3).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') scheduler.TaskRunner._sleep(0).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') scheduler.TaskRunner._sleep(1).AndReturn(None) scheduler.TaskRunner._sleep(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(eventlet, 'sleep') eventlet.sleep(0).AndReturn(None) eventlet.sleep(sleep_time).MultipleTimes().AndReturn(None) self.m.ReplayAll() def test_sleep_zero(self): self.m.StubOutWithMock(eventlet, 'sleep') eventlet.sleep(0).MultipleTimes().AndReturn(None) self.m.ReplayAll() def test_sleep_none(self): self.m.StubOutWithMock(eventlet, 'sleep') self.m.ReplayAll() self.m.StubOutWithMock(DummyTask, '__call__') task = DummyTask() task(*args, **kwargs) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) task.do_step(3).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') self.m.ReplayAll() self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.5) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.5) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.5) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.5) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.5) timeutils.wallclock().AndReturn(st + 0.7) timeutils.wallclock().AndReturn(st + 1.6) timeutils.wallclock().AndReturn(st + 2.6) self.m.ReplayAll() self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.5) timeutils.wallclock().AndReturn(st + 0.6) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') self.m.StubOutWithMock(timeutils, 'wallclock') task.do_step(1).AndReturn(None) task.do_step(2).AndReturn(None) timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.5) task.do_step(3).AndReturn(None) timeutils.wallclock().AndReturn(st + 1.0) task.do_step(4).AndReturn(None) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.1) task.do_step(1).AndReturn(None) timeutils.wallclock().AndReturn(st + 0.2) task.do_step(2).AndReturn(None) timeutils.wallclock().AndReturn(st + 0.2) timeutils.wallclock().AndReturn(st + 0.5) task.do_step(3).AndReturn(None) timeutils.wallclock().AndReturn(st + 1.0) task.do_step(4).AndReturn(None) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') self.m.StubOutWithMock(timeutils, 'wallclock') timeutils.wallclock().AndReturn(st) timeutils.wallclock().AndReturn(st + 0.1) task.do_step(1).AndReturn(None) timeutils.wallclock().AndReturn(st + 0.2) task.do_step(2).AndReturn(None) timeutils.wallclock().AndReturn(st + 0.2) timeutils.wallclock().AndReturn(st + 0.5) task.do_step(3).AndReturn(None) timeutils.wallclock().AndReturn(st + 1.0) task.do_step(4).AndReturn(None) timeutils.wallclock().AndReturn(st + 1.5) self.m.ReplayAll() self.m.StubOutWithMock(task, 'do_step') self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') self.m.ReplayAll()",258,314
openstack%2Ftripleo-common~stable%2Fqueens~I88cf92a8c9a06eb492bdd2729754da4ff9d86d74,openstack/tripleo-common,stable/queens,I88cf92a8c9a06eb492bdd2729754da4ff9d86d74,Fail introspect_manageable_nodes if no nodes are manageable,MERGED,2018-03-22 12:57:15.000000000,2018-04-03 16:01:34.000000000,2018-04-03 16:01:34.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 12:57:15.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a856a0532b6212a61d80192bd495b35f7804310', 'message': 'Fail introspect_manageable_nodes if no nodes are manageable\n\nOperators running this workflow usually expect it to do something,\nwhile currently we report success if nothing is done.\n\nAlso include node count in the success message and remove its duplicate.\n\nCloses-Bug: #1756855\nChange-Id: I88cf92a8c9a06eb492bdd2729754da4ff9d86d74\n(cherry picked from commit 405c6b2b83336d5432e9e47df3f182902a632530)\n'}]",0,555287,9a856a0532b6212a61d80192bd495b35f7804310,10,3,1,10239,,,0,"Fail introspect_manageable_nodes if no nodes are manageable

Operators running this workflow usually expect it to do something,
while currently we report success if nothing is done.

Also include node count in the success message and remove its duplicate.

Closes-Bug: #1756855
Change-Id: I88cf92a8c9a06eb492bdd2729754da4ff9d86d74
(cherry picked from commit 405c6b2b83336d5432e9e47df3f182902a632530)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/555287/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,9a856a0532b6212a61d80192bd495b35f7804310,bug/1756855-stable/queens, message: Successfully introspected <% $.introspected_nodes.len() %> node(s). on-success: validate_nodes validate_nodes: on-success: - introspect_manageable: <% $.managed_nodes.len() > 0 %> - set_status_failed_no_nodes: <% $.managed_nodes.len() = 0 %> set_status_failed_no_nodes: on-success: send_message publish: status: FAILED message: No manageable nodes to introspect. Check node states and maintenance. , message: 'Successfully introspected nodes.' on-success: introspect_manageable message: 'Nodes introspected successfully.',13,3
openstack%2Fcloudkitty~master~Ief49cffae2a7c5a5a292eae5850ef10e21f275bb,openstack/cloudkitty,master,Ief49cffae2a7c5a5a292eae5850ef10e21f275bb,Update Devstack documentation and README,MERGED,2018-04-03 12:30:23.000000000,2018-04-03 16:01:27.000000000,2018-04-03 16:01:27.000000000,"[{'_account_id': 9642}, {'_account_id': 22348}, {'_account_id': 23173}]","[{'number': 1, 'created': '2018-04-03 12:30:23.000000000', 'files': ['devstack/README.rst', 'doc/source/devstack.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/0b978000a821bfb745bfe7029f1af2c65c0b2082', 'message': ""Update Devstack documentation and README\n\nCloudKitty's ceilometer collector and Gnocchi's devstack plugin do not exist\nanymore, so the documentation has been updated accordingly.\n\nChange-Id: Ief49cffae2a7c5a5a292eae5850ef10e21f275bb\n""}]",0,558493,0b978000a821bfb745bfe7029f1af2c65c0b2082,7,3,1,23060,,,0,"Update Devstack documentation and README

CloudKitty's ceilometer collector and Gnocchi's devstack plugin do not exist
anymore, so the documentation has been updated accordingly.

Change-Id: Ief49cffae2a7c5a5a292eae5850ef10e21f275bb
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/93/558493/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/README.rst', 'doc/source/devstack.rst']",2,0b978000a821bfb745bfe7029f1af2c65c0b2082,update-devstack-doc,gnocchi collector::Then start devstack::,"the ceilometer collector: :: CLOUDKITTY_COLLECTOR=ceilometer To enable the gnocchi collector, use the following instead: :: [[local|localrc]] # gnocchi enable_plugin gnocchi https://github.com/gnocchixyz/gnocchi.git master enable_service gnocchi-api,gnocchi-metricd # ceilometer enable_plugin ceilometer https://git.openstack.org/openstack/ceilometer.git master # cloudkitty enable_plugin cloudkitty https://git.openstack.org/openstack/cloudkitty.git master enable_service ck-api,ck-proc Then start devstack: ::",25,48
openstack%2Fneutron-fwaas-dashboard~master~I723c5b3ed3eabb5f0e2bcead5e70b4c747455a20,openstack/neutron-fwaas-dashboard,master,I723c5b3ed3eabb5f0e2bcead5e70b4c747455a20,Fix typos in documentation,MERGED,2018-03-27 21:47:24.000000000,2018-04-03 15:54:58.000000000,2018-04-03 15:54:58.000000000,"[{'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 21:47:24.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/install/index.rst', 'devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/026efd9049cef6ff3b91c35d0d583b9307162927', 'message': 'Fix typos in documentation\n\nThis commit cleans up all typos I detected in our documentation.\n\nChange-Id: I723c5b3ed3eabb5f0e2bcead5e70b4c747455a20\n'}]",0,557069,026efd9049cef6ff3b91c35d0d583b9307162927,7,3,1,841,,,0,"Fix typos in documentation

This commit cleans up all typos I detected in our documentation.

Change-Id: I723c5b3ed3eabb5f0e2bcead5e70b4c747455a20
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/69/557069/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/install/index.rst', 'devstack/README.rst']",3,026efd9049cef6ff3b91c35d0d583b9307162927,typo-fixes,How to enable FWaaS v2 dashboard --------------------------------How to enable FWaaS v1 dashboard --------------------------------,How to enable FWaaS v2 dsashboard ---------------------------------How to enable FWaaS v1 dsashboard ---------------------------------,6,6
openstack%2Fnova~master~I872b50932f7611584661efc604c8e5d4324fae9b,openstack/nova,master,I872b50932f7611584661efc604c8e5d4324fae9b,Add trusted_certs object,MERGED,2017-07-31 21:23:24.000000000,2018-04-03 15:54:50.000000000,2018-04-03 15:54:50.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10873}, {'_account_id': 11869}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 22348}, {'_account_id': 23310}, {'_account_id': 23498}, {'_account_id': 24711}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-07-31 21:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f66fc46118c3ac76440a0bd85c28834edd8ab853', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 2, 'created': '2017-08-01 21:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c51333b0b3eb2007c84108df2c830f6c8ee56ca', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 3, 'created': '2017-08-01 22:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/56b0d9a1c030ba5cec562544388b068da5fa43f9', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 4, 'created': '2017-08-02 01:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c43ca050bb545cc4d9cd23689098427116d31718', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 5, 'created': '2017-08-02 20:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a43aa10a0b0711104f81367f464ff08a10d4430', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 6, 'created': '2017-08-03 02:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1c77416dfb0baa4ec5502b0bee7dfecfa2e384c', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 7, 'created': '2017-08-06 02:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b32cd38521d1edb99b6b894dee8feebd3d982a9f', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 8, 'created': '2017-08-08 19:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97f2b3d2c06928cd199d9b41c36ea79e4a055f5c', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 9, 'created': '2017-08-08 20:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8efde9e59594698ac619d963c43e9227ba446001', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 10, 'created': '2017-08-09 03:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b79ba0f57ec8eab01b8eba10f887211adcf9feab', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 11, 'created': '2017-08-15 02:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dca61daf2f6d25cc9777c033beb2808fe960f108', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 12, 'created': '2017-08-15 20:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6f5670615201b1a24f5130a79de41566020db30', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 13, 'created': '2017-08-25 21:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef98b88ea8ad38d1f64441b11156adb07a571045', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 14, 'created': '2017-09-05 20:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c070412b715a7480d75e4fdeda8ac68ea70475d', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 15, 'created': '2017-09-19 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/834fe6b01d63b673f9c722c555dc4f7e4e59a1c4', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 16, 'created': '2017-09-22 20:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d260ce95acad870d0c83c1fb24a56f6198be6da7', 'message': 'Add trusted_certs to Instance object\n\nThis change allows us to load trusted_certs from instance_extra\ninto an Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nDepends-On: Ibce4fc0ae1be0fc84205c0997e57f5ce6276d063\nImplements: blueprint nova-validate-certificates\n'}, {'number': 17, 'created': '2017-10-10 16:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e360e318bb74f191d3f57116dc6fee0e048348e0', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 18, 'created': '2017-10-10 16:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e0ace1279830d0025e2d5519408fe4586af1dff', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 19, 'created': '2017-11-29 19:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67dd43a405a2e56f52c841588ca2ec4faaa63097', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 20, 'created': '2017-11-29 21:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/936192077e1f6bc603543ef88f96a5bcc198ef0f', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 21, 'created': '2017-12-01 19:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ffcc174b74044341f1b447455767f1ed96cfeff', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 22, 'created': '2017-12-14 19:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c30bea0ac5b035e740b0e8457c68c0a9dab23bb2', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 23, 'created': '2017-12-14 22:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b6398a850aae468f2ac2049ca9d5a592a3dd7cd', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 24, 'created': '2017-12-14 22:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9911caeac0795d4c4003c928fc0e8d76a86e87fd', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 25, 'created': '2017-12-15 23:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d1727e3f5e397400fd8c1a023c9f7dd1cbe19fe', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 26, 'created': '2017-12-15 23:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec7ddcd0a9b12d1f2f13e1211304a77d46e2416c', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 27, 'created': '2017-12-16 00:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1aa65a1e9f2b611ca6465a69adaebea7585d6d19', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 28, 'created': '2017-12-27 23:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65210bd3f9ecacb82ec960fc5d6148f5519f0811', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 29, 'created': '2017-12-29 14:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f8c63c7d335175450efbeae6bb4d2be4da60587a', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 30, 'created': '2018-01-06 19:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e6420aba09bbecabbad7f17670f400c577a0fa1', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 31, 'created': '2018-01-08 15:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/676428d60039bd643a527c8cc375e10d85e97060', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 32, 'created': '2018-01-15 16:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2eeedc21970990b02d478460c7a4e4f6df9e9e30', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 33, 'created': '2018-01-15 20:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a939ba45071c8d9732154a78936607cba51f0f1c', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 34, 'created': '2018-01-18 22:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c08d3ba9ee2cf407530d677cc5444a494edb314c', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 35, 'created': '2018-01-20 02:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb5edbf25186037f3d6c266b715643350e11a46b', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 36, 'created': '2018-01-23 14:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee1127587d39a6a1bdea770730fe3a0facd1a161', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 37, 'created': '2018-01-24 21:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81bbd9735b4685340cce56606c888516893a7698', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 38, 'created': '2018-01-24 21:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33027571058dd5e94c463d577ac1919c1bbe208a', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 39, 'created': '2018-01-24 21:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30929a76124a9db8f12e2cf70a389419a9437a42', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 40, 'created': '2018-01-25 04:45:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba2d9d24ceb43b6cad07dd684ab814e49e892142', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 41, 'created': '2018-01-25 13:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0414da670c7b6e3d48de8356e7cb321014cfda89', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 42, 'created': '2018-01-25 15:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b12e58a1412a8f32e9fd42dd7040038cb446d8b', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object. A corresponding\ndeferred-load column is added to instance_extras, which stores the\ntrusted_certs in the form of a JSON blob.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 43, 'created': '2018-01-25 15:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7628e05bc6954bb429291a272489c9ff5b16cc52', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 44, 'created': '2018-01-25 16:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a3c78ba5fb290f76296a60cb5de36bfac2fe643', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 45, 'created': '2018-01-25 21:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/090febfd59ae34a9124571bb056b944bc3d758c6', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 46, 'created': '2018-01-25 22:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0c3e007612eb72b93355a5a80ebea512d3da011', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 47, 'created': '2018-02-12 22:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9422b7c54eae1913390c49613cdb0156109f1adf', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 48, 'created': '2018-02-14 19:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/859455f5c3e3e86b941d9347ba90a7d6500e7888', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 49, 'created': '2018-03-20 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a311f2c2a7b4b1225874ce24f8b1ef9528842b6a', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 50, 'created': '2018-03-20 19:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62e785709ece8cc0f2f1bcccd9182ffe1992b4d0', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}, {'number': 51, 'created': '2018-03-30 03:04:12.000000000', 'files': ['nova/objects/trusted_certs.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/fake_instance.py', 'nova/tests/unit/objects/test_trusted_certs.py', 'nova/objects/__init__.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/589eb8872631ff4f0a4b34003152a644a35cddb7', 'message': 'Add trusted_certs object\n\nThis change adds a trusted_certs object, which stores a list of trusted\nx509 certificate IDs, to the Instance object.\n\nChange-Id: I872b50932f7611584661efc604c8e5d4324fae9b\nImplements: blueprint nova-validate-certificates\n'}]",29,489408,589eb8872631ff4f0a4b34003152a644a35cddb7,534,28,51,24711,,,0,"Add trusted_certs object

This change adds a trusted_certs object, which stores a list of trusted
x509 certificate IDs, to the Instance object.

Change-Id: I872b50932f7611584661efc604c8e5d4324fae9b
Implements: blueprint nova-validate-certificates
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/489408/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/fake_instance.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py', 'tox.ini', 'nova/db/sqlalchemy/api.py']",6,f66fc46118c3ac76440a0bd85c28834edd8ab853,bp/nova-validate-certificates," 'trusted_certs': None, 'trusted_certs', 'migration_context']", 'migration_context'],26,6
openstack%2Fopenstack-ansible-tests~stable%2Fqueens~I90eb47092ade45b5f18a2a55eda9b25f68114c57,openstack/openstack-ansible-tests,stable/queens,I90eb47092ade45b5f18a2a55eda9b25f68114c57,Remove os_tempest defaults,ABANDONED,2018-03-29 13:52:43.000000000,2018-04-03 15:53:03.000000000,,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 13:52:43.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/56fcf834c4582b6755f53e52f5b1eaf9cd08a5e4', 'message': ""Remove os_tempest defaults\n\nIf they are already defined in defaults, they don't need to\nbe redefined here.\n\nThe only reason is variable re-use, which should be limited to\nthe strict minimum or handled in group vars.\n\nChange-Id: I90eb47092ade45b5f18a2a55eda9b25f68114c57\n""}]",1,557711,56fcf834c4582b6755f53e52f5b1eaf9cd08a5e4,7,4,1,17068,,,0,"Remove os_tempest defaults

If they are already defined in defaults, they don't need to
be redefined here.

The only reason is variable re-use, which should be limited to
the strict minimum or handled in group vars.

Change-Id: I90eb47092ade45b5f18a2a55eda9b25f68114c57
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/11/557711/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,56fcf834c4582b6755f53e52f5b1eaf9cd08a5e4,remove_redundant_vars,,"tempest_git_install_branch: 70ebe69cc2e4fa8a06071d48d19f61d2f01a33f6 tempest_venv_tag: ""{{ tempest_git_install_branch }}"" # tempest_venv_bin is the same as the default in os_tempest role, but we set # it again here so we can refer to it in test-nova-functional.yml tempest_venv_bin: ""/opt/tempest_{{ tempest_venv_tag }}/bin""",0,5
openstack%2Fnova~master~I3fd4e395b31ff1b69f35242d559f8caa17c05a6a,openstack/nova,master,I3fd4e395b31ff1b69f35242d559f8caa17c05a6a,Add trusted_certs to instance_extra,MERGED,2018-01-25 13:21:47.000000000,2018-04-03 15:48:05.000000000,2018-04-03 15:48:05.000000000,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 10873}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 24711}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-25 13:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efbfb932e1c76b4a9b66f0a6764c6495f14a4049', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 2, 'created': '2018-01-25 15:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38669580b60a7f76c2d8b3b458d70b599ce74d61', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 3, 'created': '2018-01-25 16:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f01e57a9f26b755725750047051b94bc22ceca9', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 4, 'created': '2018-01-25 21:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39f509d564e1e7650b664fc79dc3ae7024225762', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 5, 'created': '2018-01-25 22:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/95b1132305195f8d424ac52f82652b36c96ec3a9', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 6, 'created': '2018-02-12 22:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68eeeacfe950950cee24ce1dda09e2acad7b48c2', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 7, 'created': '2018-02-14 19:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df76dbd71886c7e5e73d5dd929dd26977462a8c3', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 8, 'created': '2018-03-20 15:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/369b122c3968849b435df829d72cbe251b230f16', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 9, 'created': '2018-03-20 19:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5afda064969e6035f696e5a1425115d7e7189142', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}, {'number': 10, 'created': '2018-03-30 03:04:12.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/390_add_trusted_certs.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e35e8d7f3fb057dbb6ca23b186c94aca0d1d7979', 'message': 'Add trusted_certs to instance_extra\n\nThis change adds a trusted_certs deferred-load column to\ninstance_extras, which stores a list of trusted x509 certificate\nUUIDs for a given instance in the form of a JSON blob.\n\nChange-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a\nImplements: blueprint nova-validate-certificates\n'}]",0,537897,e35e8d7f3fb057dbb6ca23b186c94aca0d1d7979,108,24,10,7012,,,0,"Add trusted_certs to instance_extra

This change adds a trusted_certs deferred-load column to
instance_extras, which stores a list of trusted x509 certificate
UUIDs for a given instance in the form of a JSON blob.

Change-Id: I3fd4e395b31ff1b69f35242d559f8caa17c05a6a
Implements: blueprint nova-validate-certificates
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/537897/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/378_add_trusted_certs.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,efbfb932e1c76b4a9b66f0a6764c6495f14a4049,bp/nova-validate-certificates," 'trusted_certs': None, 'trusted_certs', 'migration_context']", 'migration_context'],48,3
openstack%2Fpython-octaviaclient~master~Ie315034dab92d9ffa8f35fc84ef60431f706444d,openstack/python-octaviaclient,master,Ie315034dab92d9ffa8f35fc84ef60431f706444d,Updated from global requirements,MERGED,2018-03-23 01:50:32.000000000,2018-04-03 15:34:24.000000000,2018-04-03 15:34:24.000000000,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28045}]","[{'number': 1, 'created': '2018-03-23 01:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/05d63cb083bc1ab6fc5e7dcdaf9e634542f8def9', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 2, 'created': '2018-03-31 02:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/2ce404b532a9f88e74dae059eb3e1d24e3515e9b', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 3, 'created': '2018-03-31 03:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/8ed78df4d29581680f1c41ba83277f86cb2cff21', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 4, 'created': '2018-03-31 03:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/9b6fed2cb4de4e421d43571f44ae6b1679326e6c', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 5, 'created': '2018-03-31 03:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/797bf6d5fb17e84e53657fe304c004b3e36658dd', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 6, 'created': '2018-03-31 04:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/0bea17692fe73b05594b6276d15513c57a23c342', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 7, 'created': '2018-04-02 01:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/649824e444e762e8f51eb94a3c64cd60a59d957a', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 8, 'created': '2018-04-02 01:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/de49363fbd7ee02d3059bba19ae3e745f0a61a7c', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}, {'number': 9, 'created': '2018-04-02 01:59:00.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/b4750b34e76d803d619970783deac68b2d0561f0', 'message': 'Updated from global requirements\n\nChange-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d\n'}]",2,555591,b4750b34e76d803d619970783deac68b2d0561f0,37,7,9,11131,,,0,"Updated from global requirements

Change-Id: Ie315034dab92d9ffa8f35fc84ef60431f706444d
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/91/555591/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,05d63cb083bc1ab6fc5e7dcdaf9e634542f8def9,requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Fnova~master~I6a9007d172b55238d02da8046311f8dc954703c5,openstack/nova,master,I6a9007d172b55238d02da8046311f8dc954703c5,Allow scheduling only to enabled cells (Filter Scheduler),MERGED,2018-03-07 16:57:53.000000000,2018-04-03 15:33:43.000000000,2018-04-03 15:33:43.000000000,"[{'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-07 16:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea1ce9864695ec216047b630bb7b1f5638b7304b', 'message': '[WIP] Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 2, 'created': '2018-03-13 12:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2105dd746695a0077299613eb8bd79e5c34bf9d6', 'message': '[WIP] Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 3, 'created': '2018-03-14 22:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7f48e74e6da9601fb9fd765c41f4f186dcc1432', 'message': '[WIP] Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 4, 'created': '2018-03-20 13:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a6299201595f284a3606f513e0cf853ee639bd7', 'message': '[WIP] Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 5, 'created': '2018-03-20 14:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11a727132449d9c55fdefd906f31f1c1dfd7d448', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIG-HUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 6, 'created': '2018-03-20 17:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c99210883cbc207fd17abd2547317d089b5f83d', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIG-HUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 7, 'created': '2018-03-21 16:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/934070f824143be72e7857237e9e0a613ac12177', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIG-HUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 8, 'created': '2018-03-22 18:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59cc6fda54abb840e6c534257848ac0e1e6b582c', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIG-HUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 9, 'created': '2018-03-23 14:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6255a1c2ce10be0ee37771dd289fc0d15b2d2a6', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIG-HUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 10, 'created': '2018-03-23 20:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/340a00d7331037201ce1101521bae31fd2f3a1e9', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 11, 'created': '2018-03-23 20:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c209bf094c10bf149f66719cb18b76bcde9d140', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 12, 'created': '2018-03-23 21:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/651317db4a0dc1080a0ab58762a7da8549fdbd0e', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 13, 'created': '2018-03-26 08:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dba3b909c419567844e385f9b0e25cfa301dcf0', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 14, 'created': '2018-03-27 12:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf01a7e33148c9f0c250fa569e5bd8649852090a', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 15, 'created': '2018-03-27 16:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/facd14f87c0c5c2f8c8dab996ba7b9db41a8cd76', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 16, 'created': '2018-03-28 13:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b4a4a8b0a7f041f8dee8ae96076896a89ca1fa1', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 17, 'created': '2018-03-28 14:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ef837f8285b2ad2bad66dbe3c55f7161ad83747', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 18, 'created': '2018-03-29 14:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a77718d7bd8302090b8bf86351a9376d07247bd7', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}, {'number': 19, 'created': '2018-03-30 23:16:38.000000000', 'files': ['nova/scheduler/manager.py', 'releasenotes/notes/stop-scheduling-to-disabled-cells-eadbfe30d1f6be65.yaml', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/ironic_host_manager.py', 'nova/tests/unit/scheduler/test_scheduler.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba083b0c9873edb12dbf5ec3216ea9ff1e83dd30', 'message': 'Allow scheduling only to enabled cells (Filter Scheduler)\n\nThis by default would be scheduling to all cells since all cells\nwould be enabled at the time of creation unless specified otherwise.\n\nSince the list of enabled cells are stored as a global cache on the\nhost_manager, a reset() handler for the SIGHUP signal has also been\nadded in the scheduler. Hence upon every create-cell/enable-cell/\ndisable-cell operation the scheduler has to be signaled so that the\ncache is refreshed.\n\nCo-Authored-By: Dan Smith <dms@danplanet.com>\n\nImplements blueprint cell-disable\n\nChange-Id: I6a9007d172b55238d02da8046311f8dc954703c5\n'}]",70,550527,ba083b0c9873edb12dbf5ec3216ea9ff1e83dd30,228,20,19,26936,,,0,"Allow scheduling only to enabled cells (Filter Scheduler)

This by default would be scheduling to all cells since all cells
would be enabled at the time of creation unless specified otherwise.

Since the list of enabled cells are stored as a global cache on the
host_manager, a reset() handler for the SIGHUP signal has also been
added in the scheduler. Hence upon every create-cell/enable-cell/
disable-cell operation the scheduler has to be signaled so that the
cache is refreshed.

Co-Authored-By: Dan Smith <dms@danplanet.com>

Implements blueprint cell-disable

Change-Id: I6a9007d172b55238d02da8046311f8dc954703c5
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/550527/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/scheduler/host_manager.py']",2,ea1ce9864695ec216047b630bb7b1f5638b7304b,bp/cell-disable," self.enabled_cells = None def _load_enabled_cells(self, context): if not self.enabled_cells: # NOTE(tssurya): Global cache of only the enabled cells. This way # scheduling is limited only to the enabled cells. However this # cache will be refreshed every time a cell is disabled or enabled. self.enabled_cells = objects.CellMappingList.get_all_enabled( context) LOG.debug('Found %(count)i cells: %(cells)s', {'count': len(self.enabled_cells), 'cells': ', '.join( [c.uuid for c in self.enabled_cells])}) def _flush_enabled_cells_cache(self, context): # NOTE(tssurya): This function is called from nova-manage update-cell # command whenever a cell is enabled/disabled and from nova-manage # create-cell command whenever a disabled cell is created. self.enabled_cells = None self._load_enabled_cells(context) if only_cell not in self.enabled_cells: raise Exception('The requested destination cell with uuid %s ' 'is currently disabled.', only_cell.uuid) cells = self.enabled_cells", self._load_cells(context) cells = self.cells,27,2
openstack%2Fcloudkitty~master~Ia7be6070ed917ca50ed75d0d48d99242f0899d78,openstack/cloudkitty,master,Ia7be6070ed917ca50ed75d0d48d99242f0899d78,Remove link to modindex,ABANDONED,2017-01-27 06:09:12.000000000,2018-04-03 15:26:41.000000000,,[{'_account_id': 8358}],"[{'number': 1, 'created': '2017-01-27 06:09:12.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d67561138f3e0d1fe8fc78e9c435f3ba5245ce47', 'message': 'Remove link to modindex\n\nThe documentation build does not generate any module index, thus\nremove the link to the page. The page\nhttp://docs.openstack.org/developer/cloudkitty/py-modindex.html\ndoes not exists\n\nChange-Id: Ia7be6070ed917ca50ed75d0d48d99242f0899d78\n'}]",0,426079,d67561138f3e0d1fe8fc78e9c435f3ba5245ce47,6,1,1,19457,,,0,"Remove link to modindex

The documentation build does not generate any module index, thus
remove the link to the page. The page
http://docs.openstack.org/developer/cloudkitty/py-modindex.html
does not exists

Change-Id: Ia7be6070ed917ca50ed75d0d48d99242f0899d78
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/79/426079/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,d67561138f3e0d1fe8fc78e9c435f3ba5245ce47,,,* :ref:`modindex`,0,1
openstack%2Ftripleo-heat-templates~master~Ibadf2d0101056b8ec6f950fb60a624d0887a0dca,openstack/tripleo-heat-templates,master,Ibadf2d0101056b8ec6f950fb60a624d0887a0dca,Add cpu shares cgroup limits for neutron ovs agent,ABANDONED,2018-03-21 10:20:37.000000000,2018-04-03 15:26:39.000000000,,"[{'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-21 10:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a1e4497291b8a99ee205df4b71f528e6a281e7e', 'message': 'Add cpu shares cgroup limits for neutron ovs agent\n\nAllow to limit CPU shares for neutron ovs agent\n\nRelated-Bug: #1755605\nDepends-On: I1f24866ea2ec01e3ef22571145efa25ab219bb3a\n\nChange-Id: Ibadf2d0101056b8ec6f950fb60a624d0887a0dca\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-03-21 10:25:34.000000000', 'files': ['releasenotes/notes/cgroups_cpu_neutron_ovs_agent-71be8387a92178ff.yaml', 'docker/services/neutron-ovs-agent.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ae6e5438b6faf2b2d4e9a1deaa13cca27889111', 'message': 'Add cpu shares cgroup limits for neutron ovs agent\n\nAllow to limit CPU shares for neutron ovs agent\n\nRelated-Bug: #1755605\nDepends-On: I1f24866ea2ec01e3ef22571145efa25ab219bb3a\n\nChange-Id: Ibadf2d0101056b8ec6f950fb60a624d0887a0dca\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,554863,0ae6e5438b6faf2b2d4e9a1deaa13cca27889111,11,8,2,6926,,,0,"Add cpu shares cgroup limits for neutron ovs agent

Allow to limit CPU shares for neutron ovs agent

Related-Bug: #1755605
Depends-On: I1f24866ea2ec01e3ef22571145efa25ab219bb3a

Change-Id: Ibadf2d0101056b8ec6f950fb60a624d0887a0dca
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/554863/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/neutron-ovs-agent.yaml'],1,8a1e4497291b8a99ee205df4b71f528e6a281e7e,bug/1755605, NeutronOvsAgentCpuShares: description: cgroups limits for cpu.shares type: string default: 0 cpu_shares: {get_param: NeutronOvsAgentCpuShares},,5,0
openstack%2Fcloudkitty~master~I01a2880626751ec989be466fe31aeae5d0ba03da,openstack/cloudkitty,master,I01a2880626751ec989be466fe31aeae5d0ba03da,Add enable/disable status when list/get services,ABANDONED,2017-03-04 07:50:19.000000000,2018-04-03 15:23:48.000000000,,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 15917}, {'_account_id': 17849}, {'_account_id': 19339}, {'_account_id': 21797}, {'_account_id': 23037}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25126}]","[{'number': 1, 'created': '2017-03-04 07:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/26d35c1817ff5766f2845c8ae55f506db7711941', 'message': 'Add enable/disable status when list/get services\n\nNow cloudkitty support 6 services in total, and they can\nbe configured in cloudkitty.conf as enabled service,\nimprove api of info-service-list/get to show the status\nof services.\n\nChange-Id: I01a2880626751ec989be466fe31aeae5d0ba03da\n'}, {'number': 2, 'created': '2017-03-08 06:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/72335e4d4d172f3144737a23508d6e33d820ab1c', 'message': 'Add enable/disable status when list/get services\n\nNow cloudkitty support 6 services in total, and they can\nbe configured in cloudkitty.conf as enabled service,\nimprove api of info-service-list/get to show the status\nof services.\n\nChange-Id: I01a2880626751ec989be466fe31aeae5d0ba03da\n'}, {'number': 3, 'created': '2017-03-13 02:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7da4bbcb0c617c3b65bc5df01ae4b5bc8d9f9372', 'message': 'Add enable/disable status when list/get services\n\nNow cloudkitty support 6 services in total, and they can\nbe configured in cloudkitty.conf as enabled service,\nimprove api of info-service-list/get to show the status\nof services.\n\nChange-Id: I01a2880626751ec989be466fe31aeae5d0ba03da\n'}, {'number': 4, 'created': '2017-03-14 03:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/945b142c714f1b627e506e8593f3d2ecb1af3230', 'message': 'Add enable/disable status when list/get services\n\nNow cloudkitty support 6 services in total, and they can\nbe configured in cloudkitty.conf as enabled service,\nimprove api of info-service-list/get to show the status\nof services.\n\nChange-Id: I01a2880626751ec989be466fe31aeae5d0ba03da\n'}, {'number': 5, 'created': '2017-03-27 10:43:14.000000000', 'files': ['cloudkitty/api/v1/datamodels/rating.py', 'cloudkitty/api/v1/datamodels/info.py', 'releasenotes/notes/add-service-status-8bd4fcfade80f82b.yaml', 'cloudkitty/collector/__init__.py', 'cloudkitty/tests/gabbi/gabbits/v1-info.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/daaacccc30d946db1ab58b9516dfac48a7128090', 'message': 'Add enable/disable status when list/get services\n\nNow cloudkitty support 6 services in total, and they can\nbe configured in cloudkitty.conf as enabled service,\nimprove api of info-service-list/get to show the status\nof services.\n\nChange-Id: I01a2880626751ec989be466fe31aeae5d0ba03da\n'}]",9,441581,daaacccc30d946db1ab58b9516dfac48a7128090,24,10,5,15917,,,0,"Add enable/disable status when list/get services

Now cloudkitty support 6 services in total, and they can
be configured in cloudkitty.conf as enabled service,
improve api of info-service-list/get to show the status
of services.

Change-Id: I01a2880626751ec989be466fe31aeae5d0ba03da
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/81/441581/4 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/api/v1/datamodels/rating.py', 'cloudkitty/api/v1/datamodels/info.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/tests/gabbi/gabbits/v1-info.yaml']",4,26d35c1817ff5766f2845c8ae55f506db7711941,bp/add_service_status, $.services[/service_id][0].enabled: 1 $.services[/service_id][1].enabled: 1 $.services[/service_id][2].enabled: 1 $.services[/service_id][3].enabled: 1 $.services[/service_id][4].enabled: 1 $.services[/service_id][5].enabled: 1 $.enabled: 1, $.collect.services.`len`: 6 $.collect.services[0]: compute $.collect.services[1]: image $.collect.services[2]: volume $.collect.services[3]: network.bw.in $.collect.services[4]: network.bw.out $.collect.services[5]: network.floating,34,25
openstack%2Fcloudkitty~master~I4deae48568d440232e65f15cb9561070f19a4313,openstack/cloudkitty,master,I4deae48568d440232e65f15cb9561070f19a4313,Add rating for volume snapshot,ABANDONED,2016-11-19 07:32:52.000000000,2018-04-03 15:20:37.000000000,,"[{'_account_id': 3}, {'_account_id': 23060}]","[{'number': 1, 'created': '2016-11-19 07:32:52.000000000', 'files': ['cloudkitty/tests/transformers/test_ceilometer.py', 'cloudkitty/transformer/ceilometer.py', 'cloudkitty/collector/fake.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/collector/ceilometer.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a029fce7c483ccfd22036d3d3455ba335cb5c393', 'message': 'Add rating for volume snapshot\n\n1. Implement collector: ceilometer and fake\n2. Implement transformer: ceilometer\n3. Add unit test for rating volume.snapshot\n\nChange-Id: I4deae48568d440232e65f15cb9561070f19a4313\nImplements: blueprint rating-volume-snapshot\n'}]",0,399831,a029fce7c483ccfd22036d3d3455ba335cb5c393,4,2,1,8358,,,0,"Add rating for volume snapshot

1. Implement collector: ceilometer and fake
2. Implement transformer: ceilometer
3. Add unit test for rating volume.snapshot

Change-Id: I4deae48568d440232e65f15cb9561070f19a4313
Implements: blueprint rating-volume-snapshot
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/31/399831/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/transformers/test_ceilometer.py', 'cloudkitty/transformer/ceilometer.py', 'cloudkitty/collector/fake.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/collector/ceilometer.py']",5,a029fce7c483ccfd22036d3d3455ba335cb5c393,bp/rating-volume-snapshot," def get_volume_snapshot(self, start, end=None, project_id=None, q_filter=None): active_volume_snapshot_stats = self.resources_stats( 'volume.snapshot.size', start, end, project_id, q_filter) volume_snapshot_data = [] for volume_snapshot_stats in active_volume_snapshot_stats: volume_snapshot_id = volume_snapshot_stats.groupby['resource_id'] if not self._cacher.has_resource_detail('volume.snapshot', volume_snapshot_id): raw_resource = self._conn.resources.get(volume_snapshot_id) volume_snapshot = self.t_ceilometer.strip_resource_data( 'volume.snapshot', raw_resource) self._cacher.add_resource_detail('volume.snapshot', volume_snapshot_id, volume_snapshot) volume_snapshot = self._cacher.get_resource_detail( 'volume.snapshot', volume_snapshot_id) volume_snapshot_data.append(self.t_cloudkitty.format_item( volume_snapshot, 'GB', volume_snapshot_stats.max)) if not volume_snapshot_data: raise collector.NoDataCollected(self.collector_name, 'volume.snapshot') return self.t_cloudkitty.format_service('volume.snapshot', volume_snapshot_data) ",,71,0
openstack%2Fcloudkitty~master~Ic2ee114e079dea60802de139544f6447d80c7f8d,openstack/cloudkitty,master,Ic2ee114e079dea60802de139544f6447d80c7f8d,Fix get collector state from stevedore driver,ABANDONED,2017-02-12 11:17:32.000000000,2018-04-03 15:19:48.000000000,,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 17843}, {'_account_id': 21387}, {'_account_id': 21797}, {'_account_id': 22589}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25126}]","[{'number': 1, 'created': '2017-02-12 11:17:32.000000000', 'files': ['cloudkitty/tests/gabbi/gabbits/v1-collector.yaml', 'cloudkitty/tests/__init__.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/api/v1/controllers/collector.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7380e8249e16154474cecdc2c3ba72c558f06df1', 'message': 'Fix get collector state from stevedore driver\n\nNow all collectors were managed with stevedore, and\nthe enabled collector was configured in cloudkitty.conf\n\nChange-Id: Ic2ee114e079dea60802de139544f6447d80c7f8d\nCloses-Bug: #1663993\n'}]",0,432745,7380e8249e16154474cecdc2c3ba72c558f06df1,8,9,1,15917,,,0,"Fix get collector state from stevedore driver

Now all collectors were managed with stevedore, and
the enabled collector was configured in cloudkitty.conf

Change-Id: Ic2ee114e079dea60802de139544f6447d80c7f8d
Closes-Bug: #1663993
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/45/432745/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/tests/gabbi/gabbits/v1-collector.yaml', 'cloudkitty/tests/__init__.py', 'cloudkitty/collector/__init__.py', 'cloudkitty/tests/gabbi/fixtures.py', 'cloudkitty/api/v1/controllers/collector.py']",5,7380e8249e16154474cecdc2c3ba72c558f06df1,bug/1663993,"from oslo_config import cfg from cloudkitty import collectorCONF = cfg.CONF try: collector_ext = collector.get_collector(name=name) except Exception as e: pecan.abort(404, six.text_type(e)) enabled = CONF.collect.collector == collector_ext.collector_name collector_model = collector_models.CollectorInfos(name=name, enabled=enabled) return collector_model collector_model = collector_models.CollectorInfos(name=name, enabled=enabled) return collector_model"," enabled = self._db.get_state('collector_{}'.format(name)) collector = collector_models.CollectorInfos(name=name, enabled=enabled) return collector collector = collector_models.CollectorInfos(name=name, enabled=enabled) return collector",47,17
openstack%2Fcloudkitty~master~I55f6d38495bb8d7a7c3429530aaec696d8fffd08,openstack/cloudkitty,master,I55f6d38495bb8d7a7c3429530aaec696d8fffd08,Add the coordination_url configure by devstack,ABANDONED,2017-04-28 06:49:02.000000000,2018-04-03 15:16:33.000000000,,"[{'_account_id': 3}, {'_account_id': 7042}, {'_account_id': 8358}, {'_account_id': 21797}, {'_account_id': 23060}, {'_account_id': 23173}]","[{'number': 1, 'created': '2017-04-28 06:49:02.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/fbf239efc15e73bae1d22c829ef958eb20a946d5', 'message': 'Add the coordination_url configure by devstack\n\nAdd the follow section to cloudkitty.conf, which can run\nmulti-cloudkitty-porcessor accurately in the single test node.\n\n[orchestrator]\ncoordination_url=file:///var/lib/cloudkitty/locks\n\nChange-Id: I55f6d38495bb8d7a7c3429530aaec696d8fffd08\n'}]",0,460848,fbf239efc15e73bae1d22c829ef958eb20a946d5,9,6,1,8358,,,0,"Add the coordination_url configure by devstack

Add the follow section to cloudkitty.conf, which can run
multi-cloudkitty-porcessor accurately in the single test node.

[orchestrator]
coordination_url=file:///var/lib/cloudkitty/locks

Change-Id: I55f6d38495bb8d7a7c3429530aaec696d8fffd08
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/48/460848/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,fbf239efc15e73bae1d22c829ef958eb20a946d5,add-coordination," # coordination_url iniset $CLOUDKITTY_CONF orchestrator coordination_url ""file:///var/lib/cloudkitty/locks"" ",,3,0
openstack%2Fnova~master~I660e431305de491ff19d4a99ca801d19f4ed754b,openstack/nova,master,I660e431305de491ff19d4a99ca801d19f4ed754b,Scheduling Optimization: Remove cell0 from the list of candidates,MERGED,2018-03-27 11:03:17.000000000,2018-04-03 15:16:18.000000000,2018-04-03 15:16:17.000000000,"[{'_account_id': 136}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-03-27 11:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08c6bfa73166bc2aa9d55f64aeb61012b3956dfb', 'message': 'Scheduling Optimization: Remove cell0 from the list of candidates\n\nThis patch removes cell0 from the list of loaded cells in the\ncache before scheduling. Doing this improves performance slightly.\n\nRelated to blueprint cell-disable\n\nChange-Id: I660e431305de491ff19d4a99ca801d19f4ed754b\n'}, {'number': 2, 'created': '2018-03-27 16:06:29.000000000', 'files': ['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/378bef70db4ca7437d716ac3e1b11a2a789f919f', 'message': 'Scheduling Optimization: Remove cell0 from the list of candidates\n\nThis patch removes cell0 from the list of loaded cells in the\ncache before scheduling. Doing this improves performance slightly.\n\nCloses-Bug: #1759306\n\nChange-Id: I660e431305de491ff19d4a99ca801d19f4ed754b\n'}]",6,556821,378bef70db4ca7437d716ac3e1b11a2a789f919f,37,17,2,26936,,,0,"Scheduling Optimization: Remove cell0 from the list of candidates

This patch removes cell0 from the list of loaded cells in the
cache before scheduling. Doing this improves performance slightly.

Closes-Bug: #1759306

Change-Id: I660e431305de491ff19d4a99ca801d19f4ed754b
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/556821/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_host_manager.py', 'nova/scheduler/host_manager.py']",2,08c6bfa73166bc2aa9d55f64aeb61012b3956dfb,bug/1759306, # NOTE(tssurya): filtering cell0 from the list since it need # not be considered for scheduling. for c in self.cells: if c.is_cell0(): self.cells.objects.remove(c) # once its done break for optimization break,,28,0
openstack%2Fproject-config~master~I083dccdc23eb1586c138ffd138a0afa4e8d2a6f9,openstack/project-config,master,I083dccdc23eb1586c138ffd138a0afa4e8d2a6f9,Setup AFS mirrors for ubuntu-xenial-arm64,MERGED,2018-04-03 02:01:46.000000000,2018-04-03 15:09:29.000000000,2018-04-03 15:09:29.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 02:01:46.000000000', 'files': ['nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/07ace8c81a3744e8bd5df0b7b7666022d05b0615', 'message': 'Setup AFS mirrors for ubuntu-xenial-arm64\n\nStop using upstream http://ports.ubuntu.com/ubuntu-ports and switch to\nour AFS mirrors. This should help with download speads, since local\nmirror, and avoid the issue of building newer images then our mirrors\nhave packages for.\n\nChange-Id: I083dccdc23eb1586c138ffd138a0afa4e8d2a6f9\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,558331,07ace8c81a3744e8bd5df0b7b7666022d05b0615,7,3,1,4162,,,0,"Setup AFS mirrors for ubuntu-xenial-arm64

Stop using upstream http://ports.ubuntu.com/ubuntu-ports and switch to
our AFS mirrors. This should help with download speads, since local
mirror, and avoid the issue of building newer images then our mirrors
have packages for.

Change-Id: I083dccdc23eb1586c138ffd138a0afa4e8d2a6f9
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/558331/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb03.openstack.org.yaml'],1,07ace8c81a3744e8bd5df0b7b7666022d05b0615,," DIB_DISTRIBUTION_MIRROR: 'http://mirror.regionone.linaro.openstack.org/ubuntu-ports' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe'",,3,0
openstack%2Fproject-config~master~I036f90d25dfc6c244e1bd010a9f2db7e295a439f,openstack/project-config,master,I036f90d25dfc6c244e1bd010a9f2db7e295a439f,Use AFS mirrors to build ubuntu-bionic DIB,MERGED,2018-04-02 16:43:38.000000000,2018-04-03 15:09:27.000000000,2018-04-03 15:09:27.000000000,"[{'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 16:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b9ed70e5e7c8a4a9513deb2245b4fb92d49ca8ca', 'message': 'Use AFS mirrors to build ubuntu-bionic DIB\n\nLike we do with ubuntu-trusty / ubuntu-xenial, pin our DIB builds for\nubuntu-bionic to our AFS mirrors. This will prevent issues with bionic\ninstalling newer packages when we have mirroring issues with reprepro.\n\nChange-Id: I036f90d25dfc6c244e1bd010a9f2db7e295a439f\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-04-02 16:45:31.000000000', 'files': ['nodepool/elements/nodepool-base/root.d/50-apt-allow-unauthenticated', 'nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/26ec98b7dc90efa0128d9394861512da4d286d1c', 'message': 'Use AFS mirrors to build ubuntu-bionic DIB\n\nLike we do with ubuntu-trusty / ubuntu-xenial, pin our DIB builds for\nubuntu-bionic to our AFS mirrors. This will prevent issues with bionic\ninstalling newer packages when we have mirroring issues with reprepro.\n\nChange-Id: I036f90d25dfc6c244e1bd010a9f2db7e295a439f\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",0,558237,26ec98b7dc90efa0128d9394861512da4d286d1c,8,3,2,4162,,,0,"Use AFS mirrors to build ubuntu-bionic DIB

Like we do with ubuntu-trusty / ubuntu-xenial, pin our DIB builds for
ubuntu-bionic to our AFS mirrors. This will prevent issues with bionic
installing newer packages when we have mirroring issues with reprepro.

Change-Id: I036f90d25dfc6c244e1bd010a9f2db7e295a439f
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/558237/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/root.d/50-apt-allow-unauthenticated', 'nodepool/nodepool.yaml']",2,b9ed70e5e7c8a4a9513deb2245b4fb92d49ca8ca,, DIB_DISTRIBUTION_MIRROR: 'http://mirror.dfw.rax.openstack.org/ubuntu' DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg', # TODO(pabelanger): Add AFS mirrors once bionic-updates is created.,4,2
openstack%2Fkayobe~stable%2Fpike~I2728421cb5dbd1dc370a3aa7d37d913c90ba38a5,openstack/kayobe,stable/pike,I2728421cb5dbd1dc370a3aa7d37d913c90ba38a5,Add overcloud deployment job,MERGED,2018-03-20 11:54:48.000000000,2018-04-03 15:03:56.000000000,2018-04-03 15:03:55.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 11:54:48.000000000', 'files': ['roles/kayobe-diagnostics/defaults/main.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/README.rst', 'roles/kayobe-diagnostics/tasks/main.yml', 'playbooks/kayobe-overcloud-base/post.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'roles/kayobe-diagnostics/tasks/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'roles/kayobe-diagnostics/tasks/post.yml', 'roles/kayobe-diagnostics/README.rst', 'zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'zuul.d/nodesets.yaml', 'roles/README.rst', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d15f0ea36fe6694bb4cf205ff551a533f628e160', 'message': 'Add overcloud deployment job\n\nAdds a Zuul job to perform deployment of an OpenStack control plane\nconsisting of a single node. Currently no tests are run against the\nresulting control plane.\n\nChange-Id: I2728421cb5dbd1dc370a3aa7d37d913c90ba38a5\nStory: #2001655\nTask: #6682\n(cherry picked from commit 4cdf71f5a117d4f8df84e1771ee9d39605cc527e)\n'}]",0,554516,d15f0ea36fe6694bb4cf205ff551a533f628e160,7,3,1,14826,,,0,"Add overcloud deployment job

Adds a Zuul job to perform deployment of an OpenStack control plane
consisting of a single node. Currently no tests are run against the
resulting control plane.

Change-Id: I2728421cb5dbd1dc370a3aa7d37d913c90ba38a5
Story: #2001655
Task: #6682
(cherry picked from commit 4cdf71f5a117d4f8df84e1771ee9d39605cc527e)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/554516/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/kayobe-diagnostics/defaults/main.yml', 'roles/kayobe-diagnostics/files/get_logs.sh', 'playbooks/README.rst', 'roles/kayobe-diagnostics/tasks/main.yml', 'playbooks/kayobe-overcloud-base/post.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'roles/kayobe-diagnostics/tasks/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'roles/kayobe-diagnostics/tasks/post.yml', 'roles/kayobe-diagnostics/README.rst', 'zuul.d/project.yaml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'zuul.d/nodesets.yaml', 'roles/README.rst', 'zuul.d/jobs.yaml']",15,d15f0ea36fe6694bb4cf205ff551a533f628e160,, # Base job for testing overcloud deployment. - job: name: kayobe-overcloud-base pre-run: playbooks/kayobe-overcloud-base/pre.yml run: playbooks/kayobe-overcloud-base/run.yml post-run: playbooks/kayobe-overcloud-base/post.yml attempts: 1 timeout: 5400 irrelevant-files: - ^.*\.rst$ - ^doc/.* - job: name: kayobe-overcloud-centos parent: kayobe-overcloud-base nodeset: kayobe-centos,,240,0
openstack%2Fpatrole~master~Ic0408b5320388d4f14544e8384f31a95f4905320,openstack/patrole,master,Ic0408b5320388d4f14544e8384f31a95f4905320,Drop min_microversion = '2.10' from compute test,MERGED,2018-03-31 19:00:17.000000000,2018-04-03 14:56:06.000000000,2018-04-03 14:56:06.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23185}]","[{'number': 1, 'created': '2018-03-31 19:00:17.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_tenant_networks_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/b43c486213d7d500e9a568c177facb08692730d0', 'message': ""Drop min_microversion = '2.10' from compute test\n\nThis is to drop min_microversion = '2.10' from compute tenant\nnetwork test to better align with [0] and because it is not\nneeded.\n\n[0] I3432f75e100fbeda21404d66f9ab0feeb29931f3\n\nChange-Id: Ic0408b5320388d4f14544e8384f31a95f4905320\n""}]",0,558071,b43c486213d7d500e9a568c177facb08692730d0,8,3,1,23186,,,0,"Drop min_microversion = '2.10' from compute test

This is to drop min_microversion = '2.10' from compute tenant
network test to better align with [0] and because it is not
needed.

[0] I3432f75e100fbeda21404d66f9ab0feeb29931f3

Change-Id: Ic0408b5320388d4f14544e8384f31a95f4905320
",git fetch https://review.opendev.org/openstack/patrole refs/changes/71/558071/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/compute/test_tenant_networks_rbac.py'],1,b43c486213d7d500e9a568c177facb08692730d0,bp/clear-deprecated-api,, min_microversion = '2.10',0,1
openstack%2Fpatrole~master~Ib63bab15d4690d23f7ffbd8724ec1351929b94c5,openstack/patrole,master,Ib63bab15d4690d23f7ffbd8724ec1351929b94c5,Set max_microversion 2.43 for virtual_interfaces tests,MERGED,2018-03-31 19:27:46.000000000,2018-04-03 14:56:05.000000000,2018-04-03 14:56:05.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23185}]","[{'number': 1, 'created': '2018-03-31 19:27:46.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/04352eaf4beedba889f523f4d8d945092c16bc13', 'message': ""Set max_microversion 2.43 for virtual_interfaces tests\n\nThe compute os-virtual-interfaces API is deprecated from the\nMicroversion 2.44, so we should set max_microversion = '2.43'\nfor compute virtual_interfaces tests.\n\nThis is based on work in Tempest [0].\n\n[0] Ie1793802fa33898ffbdad16b58b085894e66d4d1\n\nPartially Implements blueprint: clear-deprecated-api\n\nChange-Id: Ib63bab15d4690d23f7ffbd8724ec1351929b94c5\n""}]",0,558073,04352eaf4beedba889f523f4d8d945092c16bc13,7,3,1,23186,,,0,"Set max_microversion 2.43 for virtual_interfaces tests

The compute os-virtual-interfaces API is deprecated from the
Microversion 2.44, so we should set max_microversion = '2.43'
for compute virtual_interfaces tests.

This is based on work in Tempest [0].

[0] Ie1793802fa33898ffbdad16b58b085894e66d4d1

Partially Implements blueprint: clear-deprecated-api

Change-Id: Ib63bab15d4690d23f7ffbd8724ec1351929b94c5
",git fetch https://review.opendev.org/openstack/patrole refs/changes/73/558073/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/compute/test_server_misc_policy_actions_rbac.py'],1,04352eaf4beedba889f523f4d8d945092c16bc13,bp/clear-deprecated-api," class VirtualInterfacesRbacTest(rbac_base.BaseV2ComputeRbacTest): # The compute os-virtual-interfaces API is deprecated from the Microversion # 2.44 onward. For more information, see: # https://developer.openstack.org/api-ref/compute/#servers-virtual-interfaces-servers-os-virtual-interfaces-deprecated max_microversion = '2.43' @classmethod def setup_credentials(cls): # This test needs a network and a subnet cls.set_network_resources(network=True, subnet=True) super(VirtualInterfacesRbacTest, cls).setup_credentials() @classmethod def resource_setup(cls): super(VirtualInterfacesRbacTest, cls).resource_setup() cls.server = cls.create_test_server(wait_until='ACTIVE') "," For more information, see: https://developer.openstack.org/api-ref/compute/#servers-virtual-interfaces-servers-os-virtual-interfaces-deprecated",18,3
openstack%2Fpuppet-openstack-guide~master~I846426e0b6ec7d539a8b9d3516eeb66472c4d42c,openstack/puppet-openstack-guide,master,I846426e0b6ec7d539a8b9d3516eeb66472c4d42c,Added puppet-openstack-syntax-5 job introduction,MERGED,2018-03-30 01:50:07.000000000,2018-04-03 14:55:14.000000000,2018-04-03 14:55:14.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 01:50:07.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/9bed6f7700a236e18f0bea3c4c0b43083b762b28', 'message': 'Added puppet-openstack-syntax-5 job introduction\n\nChange-Id: I846426e0b6ec7d539a8b9d3516eeb66472c4d42c\n'}]",0,557866,9bed6f7700a236e18f0bea3c4c0b43083b762b28,7,3,1,9414,,,0,"Added puppet-openstack-syntax-5 job introduction

Change-Id: I846426e0b6ec7d539a8b9d3516eeb66472c4d42c
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/66/557866/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,9bed6f7700a236e18f0bea3c4c0b43083b762b28,fix," * - puppet-openstack-syntax-5 - Syntax checks for Puppet manifests, templates, and Hiera YAML. The jobs run on the latest Puppet 5.x release. - Yes - Read the job logs to see where the code does not follow the Puppet syntax style.",,6,0
openstack%2Fpuppet-openstack-guide~master~I1c0527bd91cd2fa73376a030b2ae3fc8118ea019,openstack/puppet-openstack-guide,master,I1c0527bd91cd2fa73376a030b2ae3fc8118ea019,fix job name,MERGED,2018-03-30 01:47:09.000000000,2018-04-03 14:55:13.000000000,2018-04-03 14:55:13.000000000,"[{'_account_id': 1004}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 01:47:09.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/5290513c98d159cc90bcc314f0d97e221078c9ec', 'message': 'fix job name\n\nChange-Id: I1c0527bd91cd2fa73376a030b2ae3fc8118ea019\n'}]",0,557865,5290513c98d159cc90bcc314f0d97e221078c9ec,7,3,1,9414,,,0,"fix job name

Change-Id: I1c0527bd91cd2fa73376a030b2ae3fc8118ea019
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/65/557865/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,5290513c98d159cc90bcc314f0d97e221078c9ec,fix," * - puppet-openstack-lint * - puppet-openstack-syntax-4 * - puppet-openstack-unit-{4.8} * - puppet-openstack-unit-latest * - puppet-openstack-beaker-{centos7,xenial} * - puppet-openstack-integration-4-scenarioX-tempest-{centos7,xenial}"," * - gate-puppet-puppet-lint * - gate-puppet-puppet-syntax-4 * - gate-puppet-puppet-unit-{4.8} * - gate-puppet-puppet-unit-latest * - gate-puppet-puppet-beaker-rspec-{centos7,xenial} * - gate-puppet-openstack-integration-4-scenarioX-tempest-{centos7,xenial}",6,6
openstack%2Fhorizon~master~I78761b4ca72be60a4eeb2eaa7921552e83b08615,openstack/horizon,master,I78761b4ca72be60a4eeb2eaa7921552e83b08615,Added an asterisk on the network address field of subnet create,ABANDONED,2017-04-17 09:53:04.000000000,2018-04-03 14:47:52.000000000,,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 12826}, {'_account_id': 15209}, {'_account_id': 25961}]","[{'number': 1, 'created': '2017-04-17 09:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5d1ab899d9f9dd4d20c1a64d9c8031d0e9151742', 'message': 'Fix bug #1420370\n\nChange-Id: I78761b4ca72be60a4eeb2eaa7921552e83b08615\n'}, {'number': 2, 'created': '2017-04-18 05:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4f77db7088ee3bd7d96eb07c873e649dafc1c274', 'message': 'Added an asterisk on the network address field of subnet create\n\nIn subnet create modal,there was missing asterisk in the network\naddress field. Change the field required to True from False\n\nCloses Bug: #1420370\n\nChange-Id: I78761b4ca72be60a4eeb2eaa7921552e83b08615\n'}, {'number': 3, 'created': '2017-05-27 21:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/aeb7e833e9bbacabdc216c811d2703e766a46658', 'message': 'Added an asterisk on the network address field of subnet create\n\nIn subnet create modal, the asterisk denoted it was required in the\nnetwork address field. Change removed `required=False` from the field.\n\nCloses Bug: #1420370\n\nChange-Id: I78761b4ca72be60a4eeb2eaa7921552e83b08615\n'}, {'number': 4, 'created': '2017-05-31 16:47:28.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ecd57727123dad6067b20d290935bfd0dec48ea0', 'message': 'Added an asterisk on the network address field of subnet create\n\nIn subnet create modal, the asterisk denoted it was required in the\nnetwork address field. Change removed `required=False` from the field.\n\nCloses Bug: #1420370\n\nChange-Id: I78761b4ca72be60a4eeb2eaa7921552e83b08615\n'}]",2,457194,ecd57727123dad6067b20d290935bfd0dec48ea0,19,5,4,23921,,,0,"Added an asterisk on the network address field of subnet create

In subnet create modal, the asterisk denoted it was required in the
network address field. Change removed `required=False` from the field.

Closes Bug: #1420370

Change-Id: I78761b4ca72be60a4eeb2eaa7921552e83b08615
",git fetch https://review.opendev.org/openstack/horizon refs/changes/94/457194/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/workflows.py'],1,5d1ab899d9f9dd4d20c1a64d9c8031d0e9151742,bug/1420370," required=True,"," required=False,",1,1
openstack%2Fpatrole~master~Ia97f55b2004e5fa8abbab0365b6482cf42bda738,openstack/patrole,master,Ia97f55b2004e5fa8abbab0365b6482cf42bda738,Fix: Set max_microversion to 2.38 for image metadata compute tests,MERGED,2018-03-31 19:16:50.000000000,2018-04-03 14:46:33.000000000,2018-04-03 14:46:33.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-03-31 19:16:50.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_images_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/3d8623d400ecb733ab7d4d23c076e221396d2fd8', 'message': 'Fix: Set max_microversion to 2.38 for image metadata compute tests\n\nThis is to set the max_microversion to 2.38 for image metadata\ncompute tests which is a deprecate Glance proxy API deprecated\nin 2.39. The code incorrectly includes it under the max_microversion\nfor the image proxy API whose max_microversion is 2.35. However,\n2.38 is the correct microversion for image metadata tests,\nnot 2.35, which is for image tests.\n\nFor details, see: Ic6cc22f048c2ccd427dfe6e6aea0273128d96592\n\nPartially Implements bp: clear-deprecated-api\nChange-Id: Ia97f55b2004e5fa8abbab0365b6482cf42bda738\n'}]",0,558072,3d8623d400ecb733ab7d4d23c076e221396d2fd8,10,4,1,23186,,,0,"Fix: Set max_microversion to 2.38 for image metadata compute tests

This is to set the max_microversion to 2.38 for image metadata
compute tests which is a deprecate Glance proxy API deprecated
in 2.39. The code incorrectly includes it under the max_microversion
for the image proxy API whose max_microversion is 2.35. However,
2.38 is the correct microversion for image metadata tests,
not 2.35, which is for image tests.

For details, see: Ic6cc22f048c2ccd427dfe6e6aea0273128d96592

Partially Implements bp: clear-deprecated-api
Change-Id: Ia97f55b2004e5fa8abbab0365b6482cf42bda738
",git fetch https://review.opendev.org/openstack/patrole refs/changes/72/558072/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/compute/test_images_rbac.py'],1,3d8623d400ecb733ab7d4d23c076e221396d2fd8,bp/clear-deprecated-api," """"""RBAC tests for the Nova images API. These APIs are proxy calls to the Image service. Consequently, no Nova policy actions are enforced; instead, only Glance policy actions are enforced. As such, these tests check that only Glance policy actions are @decorators.idempotent_id('5888c7aa-0803-46d4-a3fb-5d4729465cd5') @rbac_rule_validation.action( service=""glance"", rule=""delete_image"") def test_delete_image(self): image = self.glance_image_client.create_image( name=data_utils.rand_name(self.__class__.__name__ + '-image')) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.glance_image_client.delete_image, image['id']) with self.rbac_utils.override_role(self): self.compute_images_client.delete_image(image['id']) class ImagesMetadataRbacTest(rbac_base.BaseV2ComputeRbacTest): """"""RBAC tests for the Nova metadata images API. These APIs are proxy calls to the Image service. Consequently, no Nova policy actions are enforced; instead, only Glance policy actions are enforced. As such, these tests check that only Glance policy actions are executed. """""" # These tests will fail with a 404 starting from microversion 2.39. # See the following link for details: # https://developer.openstack.org/api-ref/compute/#images-deprecated max_microversion = '2.38' @classmethod def skip_checks(cls): super(ImagesMetadataRbacTest, cls).skip_checks() if not CONF.service_available.glance: skip_msg = (""%s skipped as glance is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def setup_clients(cls): super(ImagesMetadataRbacTest, cls).setup_clients() if CONF.image_feature_enabled.api_v2: cls.glance_image_client = cls.os_primary.image_client_v2 elif CONF.image_feature_enabled.api_v1: cls.glance_image_client = cls.os_primary.image_client else: raise lib_exc.InvalidConfiguration( 'Either api_v1 or api_v2 must be True in ' '[image-feature-enabled].') @classmethod def resource_setup(cls): super(ImagesMetadataRbacTest, cls).resource_setup() params = {'name': data_utils.rand_name(cls.__name__ + '-image')} if CONF.image_feature_enabled.api_v1: params = {'headers': common_image.image_meta_to_headers(**params)} cls.image = cls.glance_image_client.create_image(**params) cls.addClassResourceCleanup( cls.glance_image_client.wait_for_resource_deletion, cls.image['id']) cls.addClassResourceCleanup( cls.glance_image_client.delete_image, cls.image['id']) "," """"""RBAC tests for the Nova images client. These APIs are proxy calls to the Image service. Consequently, no nova policy actions are enforced; instead, only glance policy actions are enforced. As such, these tests check that only glance policy actions are @decorators.idempotent_id('5888c7aa-0803-46d4-a3fb-5d4729465cd5') @rbac_rule_validation.action( service=""glance"", rule=""delete_image"") def test_delete_image(self): image = self.glance_image_client.create_image( name=data_utils.rand_name(self.__class__.__name__ + '-image')) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.glance_image_client.delete_image, image['id']) with self.rbac_utils.override_role(self): self.compute_images_client.delete_image(image['id']) ",65,17
openstack%2Fnova~master~Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3,openstack/nova,master,Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3,Fix allocation_candidates not to ignore shared RPs,MERGED,2018-01-14 09:37:34.000000000,2018-04-03 14:44:59.000000000,2018-03-31 16:44:55.000000000,"[{'_account_id': 7}, {'_account_id': 6125}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-14 09:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/801d7b94e2ef2298237156a7a69f145dbc3aa393', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 2, 'created': '2018-01-14 12:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2f92f8e9204b9dc1399c27769e511b0d4591b97', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 3, 'created': '2018-01-15 01:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2d0e22b73845bf2a56615644c6ffd398c30649b2', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 4, 'created': '2018-01-17 15:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/466880c6ae8477df407d78f2a76f7142a61ce781', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 5, 'created': '2018-03-14 10:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f61b3862af3dd9585d80760901c2cec4ae7543a0', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 6, 'created': '2018-03-15 02:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/712f25e763dfae954c2c3deb068e85b0838b1267', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 7, 'created': '2018-03-26 12:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/946c2aedc42b470c4db85c484b02757096758aff', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 8, 'created': '2018-03-28 04:51:09.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py', 'nova/tests/functional/api/openstack/placement/db/test_allocation_candidates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/02e357e7c2d2ccbab0a1f6b5a807d11f1ef72d46', 'message': ""Fix allocation_candidates not to ignore shared RPs\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, this patch changes the function of\n_alloc_candidates_with_shared() to consider resources from\nnon-sharing providers and resources from sharing providers\nat the same time.\n\nChange-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3\nCloses-Bug: #1724613\nRelated-Bug: #1731072\n""}]",9,533396,02e357e7c2d2ccbab0a1f6b5a807d11f1ef72d46,134,20,8,25625,,,0,"Fix allocation_candidates not to ignore shared RPs

When both the compute node resource provider and the shared
resource provider have inventory in the same resource class,
AllocationCandidates.get_by_filters didn't return an
AllocationRequest including the shared resource provider.

To fix the bug, this patch changes the function of
_alloc_candidates_with_shared() to consider resources from
non-sharing providers and resources from sharing providers
at the same time.

Change-Id: Iaf23f35f2f9a5d27a814ef5b94abed1a8b365bc3
Closes-Bug: #1724613
Related-Bug: #1731072
",git fetch https://review.opendev.org/openstack/nova refs/changes/96/533396/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_allocation_candidates.py']",2,801d7b94e2ef2298237156a7a69f145dbc3aa393,bug/1724613," [('cn', fields.ResourceClass.VCPU, 1), ('cn', fields.ResourceClass.MEMORY_MB, 64), ('ss', fields.ResourceClass.DISK_GB, 1500)], # CUSTOM_RAID traits. # expected = [] expected = [ [('cn', fields.ResourceClass.VCPU, 1), ('cn', fields.ResourceClass.MEMORY_MB, 64), ('ss', fields.ResourceClass.DISK_GB, 1500)], ] [('cn1', fields.ResourceClass.VCPU, 1), ('cn1', fields.ResourceClass.MEMORY_MB, 64), ('ss1', fields.ResourceClass.DISK_GB, 1500)],"," # TODO(efried): Due to bug #1724613, the cn + ss candidate is not # returned. Uncomment this when the bug is fixed. # [('cn', fields.ResourceClass.VCPU, 1), # ('cn', fields.ResourceClass.MEMORY_MB, 64), # ('ss', fields.ResourceClass.DISK_GB, 1500)], # CUSTOM_RAID traits. So this is the ideal expected value: expected = [] # TODO(efried): But under the design as currently conceived, we would # expect to get the cn + ss candidate, because that combination # satisfies both traits: # expected = [ # [('cn', fields.ResourceClass.VCPU, 1), # ('cn', fields.ResourceClass.MEMORY_MB, 64), # ('ss', fields.ResourceClass.DISK_GB, 1500)], # ] # So we're getting the right value, but we really shouldn't be. # TODO(efried): We expect the rest of the results to look like: # Bug 1731072 bullet (1) (also bug 1724613) # [('cn1', fields.ResourceClass.VCPU, 1), # ('cn1', fields.ResourceClass.MEMORY_MB, 64), # ('ss1', fields.ResourceClass.DISK_GB, 1500)],",61,83
openstack%2Fkayobe~stable%2Fpike~I431ed26d907a534e2e99a8032152340d109fd49e,openstack/kayobe,stable/pike,I431ed26d907a534e2e99a8032152340d109fd49e,Add disable_selinux_do_reboot variable,MERGED,2018-03-20 11:54:48.000000000,2018-04-03 14:41:48.000000000,2018-04-03 14:41:48.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 11:54:48.000000000', 'files': ['ansible/roles/disable-selinux/defaults/main.yml', 'ansible/roles/disable-selinux/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/41089d91661bcfdac59995d26e732c94e1f5f259', 'message': 'Add disable_selinux_do_reboot variable\n\nThis allows the user to control whether hosts will be rebooted to apply\nan SELinux policy configuration change. We cannot do this in CI, where\nthe Ansible control host is the host being configured.\n\nChange-Id: I431ed26d907a534e2e99a8032152340d109fd49e\n(cherry picked from commit cff7a0f1bc09bff3009fea560f057cc5c6a5d7a2)\n'}]",0,554515,41089d91661bcfdac59995d26e732c94e1f5f259,7,3,1,14826,,,0,"Add disable_selinux_do_reboot variable

This allows the user to control whether hosts will be rebooted to apply
an SELinux policy configuration change. We cannot do this in CI, where
the Ansible control host is the host being configured.

Change-Id: I431ed26d907a534e2e99a8032152340d109fd49e
(cherry picked from commit cff7a0f1bc09bff3009fea560f057cc5c6a5d7a2)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/15/554515/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/disable-selinux/defaults/main.yml', 'ansible/roles/disable-selinux/tasks/main.yml']",2,41089d91661bcfdac59995d26e732c94e1f5f259,,"- block: - name: Set a fact to determine whether we are running locally set_fact: is_local: ""{{ lookup('pipe', 'hostname') in [ansible_hostname, ansible_nodename] }}"" # Any SSH connection errors cause ansible to fail the task. We therefore # perform a manual SSH connection and allow the command to fail. - name: Reboot the system to apply SELinux changes (remote) local_action: # Use -tt to force a pseudo tty. module: > command ssh -tt {{ ansible_user }}@{{ ansible_host | default(inventory_hostname) }} sudo shutdown -r now ""Applying SELinux changes"" register: reboot_result failed_when: - reboot_result | failed - ""'closed by remote host' not in reboot_result.stderr"" when: not is_local | bool - name: Reboot the system to apply SELinux changes (local) command: shutdown -r now ""Applying SELinux changes"" become: True when: is_local | bool # If we're running this locally we won't get here. - name: Wait for the system to boot up (remote) local_action: module: wait_for host: ""{{ ansible_host | default(inventory_hostname) }}"" port: 22 state: started # Wait for 10 seconds before polling to ensure the node has shutdown. delay: 10 timeout: ""{{ disable_selinux_do_reboot_timeout }}"" when: not is_local | bool when: - disable_selinux_do_reboot | bool","- name: Set a fact to determine whether we are running locally set_fact: is_local: ""{{ lookup('pipe', 'hostname') in [ansible_hostname, ansible_nodename] }}"" when: selinux_result | changed # Any SSH connection errors cause ansible to fail the task. We therefore # perform a manual SSH connection and allow the command to fail. - name: Reboot the system to apply SELinux changes (remote) local_action: # Use -tt to force a pseudo tty. module: > command ssh -tt {{ ansible_user }}@{{ ansible_host | default(inventory_hostname) }} sudo shutdown -r now ""Applying SELinux changes"" register: reboot_result failed_when: - reboot_result | failed - ""'closed by remote host' not in reboot_result.stderr"" when: - selinux_result | changed - not is_local | bool - name: Reboot the system to apply SELinux changes (local) command: shutdown -r now ""Applying SELinux changes"" become: True when: - selinux_result | changed - is_local | bool # If we're running this locally we won't get here. - name: Wait for the system to boot up (remote) local_action: module: wait_for host: ""{{ ansible_host | default(inventory_hostname) }}"" port: 22 state: started # Wait for 10 seconds before polling to ensure the node has shutdown. delay: 10 timeout: ""{{ disable_selinux_reboot_timeout }}"" when: - not is_local | bool",37,37
openstack%2Fkayobe~stable%2Fpike~Ic06da06901bac304e2a9ce3690471c9d4eed0c16,openstack/kayobe,stable/pike,Ic06da06901bac304e2a9ce3690471c9d4eed0c16,Specify MTU in bifrost configdrive network_data.json,MERGED,2018-03-16 13:07:36.000000000,2018-04-03 14:41:47.000000000,2018-04-03 14:41:47.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 13:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a19d545fbd4e5d79c1b8ebea1d902afbdc1bd20f', 'message': ""Specify MTU in bifrost configdrive network_data.json\n\nThis ensures that the network interface configuration applied by\ncloud-init/glean honours the provisioning network's MTU.\n\nChange-Id: Ic06da06901bac304e2a9ce3690471c9d4eed0c16\n(cherry picked from commit 6cba82f2c3b4e592ddb8d735405556cd2e481b2c)\n""}, {'number': 2, 'created': '2018-03-20 11:54:48.000000000', 'files': ['ansible/kolla-bifrost-hostvars.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/adf2bd376207d06421d51c6043345a35fbbba53b', 'message': ""Specify MTU in bifrost configdrive network_data.json\n\nThis ensures that the network interface configuration applied by\ncloud-init/glean honours the provisioning network's MTU.\n\nChange-Id: Ic06da06901bac304e2a9ce3690471c9d4eed0c16\n(cherry picked from commit 6cba82f2c3b4e592ddb8d735405556cd2e481b2c)\n""}]",0,553783,adf2bd376207d06421d51c6043345a35fbbba53b,8,3,2,14826,,,0,"Specify MTU in bifrost configdrive network_data.json

This ensures that the network interface configuration applied by
cloud-init/glean honours the provisioning network's MTU.

Change-Id: Ic06da06901bac304e2a9ce3690471c9d4eed0c16
(cherry picked from commit 6cba82f2c3b4e592ddb8d735405556cd2e481b2c)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/83/553783/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-bifrost-hostvars.yml'],1,a19d545fbd4e5d79c1b8ebea1d902afbdc1bd20f,bifrost-configdrive-mtu-stable/pike," network_mtu: ""{{ provision_oc_net_name | net_mtu or '1500' }}""",,1,0
openstack%2Fkayobe~stable%2Fpike~Id03bcb5183bfbf6e84bb4d9c22f85d9418b6b4fc,openstack/kayobe,stable/pike,Id03bcb5183bfbf6e84bb4d9c22f85d9418b6b4fc,Update README & CONTRIBUTING for OpenStack process,MERGED,2018-03-20 11:54:48.000000000,2018-04-03 14:41:46.000000000,2018-04-03 14:41:46.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 11:54:48.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5f1fd36747706f0c1db158f31fa6cadb2244aed1', 'message': 'Update README & CONTRIBUTING for OpenStack process\n\nKayobe is to become an OpenStack-related project, and as such will use\nGerrit for code reviews and Storyboard for issue and feature tracking.\nThe README and CONTRIBUTING documents have been updated to reflect that,\nand a standard OpenStack HACKING document has been added.\n\nChange-Id: Id03bcb5183bfbf6e84bb4d9c22f85d9418b6b4fc\nStory: #2001637\nTask: #6644\n(cherry picked from commit 64f502fe850f3fb3ebdc6d6d6fb6e710abe5a647)\n'}]",0,554514,5f1fd36747706f0c1db158f31fa6cadb2244aed1,7,3,1,14826,,,0,"Update README & CONTRIBUTING for OpenStack process

Kayobe is to become an OpenStack-related project, and as such will use
Gerrit for code reviews and Storyboard for issue and feature tracking.
The README and CONTRIBUTING documents have been updated to reflect that,
and a standard OpenStack HACKING document has been added.

Change-Id: Id03bcb5183bfbf6e84bb4d9c22f85d9418b6b4fc
Story: #2001637
Task: #6644
(cherry picked from commit 64f502fe850f3fb3ebdc6d6d6fb6e710abe5a647)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/14/554514/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst']",5,5f1fd36747706f0c1db158f31fa6cadb2244aed1,,kayobe Style Commandments =============================================== Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/ ,,57,26
openstack%2Fpython-glanceclient~master~I3c85bb358f669504b364d55618c21382b7a2a66b,openstack/python-glanceclient,master,I3c85bb358f669504b364d55618c21382b7a2a66b,Fix intermittent v2 shell unit test failures,MERGED,2018-03-29 21:29:10.000000000,2018-04-03 14:41:45.000000000,2018-04-03 14:41:45.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 21:29:10.000000000', 'files': ['glanceclient/tests/unit/v2/test_shell_v2.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/dc3ee4aedbd9023bba1581a987b517f00b9bfd0e', 'message': ""Fix intermittent v2 shell unit test failures\n\nThe do_image_download code has a check to make sure that there's\na place to put the data (either filename or stdout redirect) before\ninitiating the download.  The location of this check was moved by\nchange I841bebeda38814235079429eca0b1e5fd2f04dae to happen at the\nbeginning of the function.  The two intermittently failing tests\ndo not explicitly address the check condition, and as a result the\ntests do exit early, but before they can check what they're supposed\nto be testing.\n\nCloses-bug: #1759951\n\nChange-Id: I3c85bb358f669504b364d55618c21382b7a2a66b\n""}]",0,557834,dc3ee4aedbd9023bba1581a987b517f00b9bfd0e,10,4,1,5314,,,0,"Fix intermittent v2 shell unit test failures

The do_image_download code has a check to make sure that there's
a place to put the data (either filename or stdout redirect) before
initiating the download.  The location of this check was moved by
change I841bebeda38814235079429eca0b1e5fd2f04dae to happen at the
beginning of the function.  The two intermittently failing tests
do not explicitly address the check condition, and as a result the
tests do exit early, but before they can check what they're supposed
to be testing.

Closes-bug: #1759951

Change-Id: I3c85bb358f669504b364d55618c21382b7a2a66b
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/34/557834/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/tests/unit/v2/test_shell_v2.py'],1,dc3ee4aedbd9023bba1581a987b517f00b9bfd0e,bug/1759951," @mock.patch('sys.stdout', autospec=True) def test_do_image_download_with_forbidden_id(self, mocked_print_err, mocked_stdout): mocked_stdout.isatty = lambda: False @mock.patch('sys.stdout', autospec=True) def test_do_image_download_with_500(self, mocked_print_err, mocked_stdout): mocked_stdout.isatty = lambda: False"," def test_do_image_download_with_forbidden_id(self, mocked_print_err): def test_do_image_download_with_500(self, mocked_print_err):",7,2
openstack%2Fkayobe~stable%2Fpike~Ic74a62eeb65e7158ce75a082e68652c2e50a2a91,openstack/kayobe,stable/pike,Ic74a62eeb65e7158ce75a082e68652c2e50a2a91,Use pbr to build the project,MERGED,2018-03-20 11:54:48.000000000,2018-04-03 14:36:50.000000000,2018-04-03 14:36:50.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 11:54:48.000000000', 'files': ['requirements.txt', '.gitignore', 'setup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/49cc5d553d65511b26977d4a252057bcbb2962ea', 'message': 'Use pbr to build the project\n\nPython Build Reasonableness (PBR) [1] is used by most OpenStack projects\nfor building python packages, so we should fall into line here.\n\n[1] https://pypi.python.org/pypi/pbr\n\nChange-Id: Ic74a62eeb65e7158ce75a082e68652c2e50a2a91\nStory: #2001637\nTask: #6648\n(cherry picked from commit 1579dc6c413ff0e1e5c55bcd464d05a0acc5ccb5)\n'}]",0,554513,49cc5d553d65511b26977d4a252057bcbb2962ea,7,3,1,14826,,,0,"Use pbr to build the project

Python Build Reasonableness (PBR) [1] is used by most OpenStack projects
for building python packages, so we should fall into line here.

[1] https://pypi.python.org/pypi/pbr

Change-Id: Ic74a62eeb65e7158ce75a082e68652c2e50a2a91
Story: #2001637
Task: #6648
(cherry picked from commit 1579dc6c413ff0e1e5c55bcd464d05a0acc5ccb5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/13/554513/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', 'setup.py', 'setup.cfg']",4,49cc5d553d65511b26977d4a252057bcbb2962ea,,[entry_points] console_scripts= kayobe = kayobe.cmd.kayobe:main kayobe-vault-password-helper = kayobe.cmd.kayobe_vault_password_helper:main kayobe.cli= baremetal_compute_inspect = kayobe.cli.commands:BaremetalComputeInspect baremetal_compute_manage = kayobe.cli.commands:BaremetalComputeManage baremetal_compute_provide = kayobe.cli.commands:BaremetalComputeProvide control_host_bootstrap = kayobe.cli.commands:ControlHostBootstrap control_host_upgrade = kayobe.cli.commands:ControlHostUpgrade configuration_dump = kayobe.cli.commands:ConfigurationDump kolla_ansible_run = kayobe.cli.commands:KollaAnsibleRun network_connectivity_check = kayobe.cli.commands:NetworkConnectivityCheck overcloud_bios_raid_configure = kayobe.cli.commands:OvercloudBIOSRAIDConfigure overcloud_container_image_build = kayobe.cli.commands:OvercloudContainerImageBuild overcloud_container_image_pull = kayobe.cli.commands:OvercloudContainerImagePull overcloud_deployment_image_build = kayobe.cli.commands:OvercloudDeploymentImageBuild overcloud_deprovision = kayobe.cli.commands:OvercloudDeprovision overcloud_hardware_inspect = kayobe.cli.commands:OvercloudHardwareInspect overcloud_host_configure = kayobe.cli.commands:OvercloudHostConfigure overcloud_host_upgrade = kayobe.cli.commands:OvercloudHostUpgrade overcloud_introspection_data_save = kayobe.cli.commands:OvercloudIntrospectionDataSave overcloud_inventory_discover = kayobe.cli.commands:OvercloudInventoryDiscover overcloud_post_configure = kayobe.cli.commands:OvercloudPostConfigure overcloud_provision = kayobe.cli.commands:OvercloudProvision overcloud_service_configuration save = kayobe.cli.commands:OvercloudServiceConfigurationSave overcloud_service_configuration generate = kayobe.cli.commands:OvercloudServiceConfigurationGenerate overcloud_service_deploy = kayobe.cli.commands:OvercloudServiceDeploy overcloud_service_destroy = kayobe.cli.commands:OvercloudServiceDestroy overcloud_service_reconfigure = kayobe.cli.commands:OvercloudServiceReconfigure overcloud_service_upgrade = kayobe.cli.commands:OvercloudServiceUpgrade physical_network_configure = kayobe.cli.commands:PhysicalNetworkConfigure playbook_run = kayobe.cli.commands:PlaybookRun seed_container_image_build = kayobe.cli.commands:SeedContainerImageBuild seed_deployment_image_build = kayobe.cli.commands:SeedDeploymentImageBuild seed_host_configure = kayobe.cli.commands:SeedHostConfigure seed_host_upgrade = kayobe.cli.commands:SeedHostUpgrade seed_hypervisor_host_configure = kayobe.cli.commands:SeedHypervisorHostConfigure seed_hypervisor_host_upgrade = kayobe.cli.commands:SeedHypervisorHostUpgrade seed_service_deploy = kayobe.cli.commands:SeedServiceDeploy seed_vm_deprovision = kayobe.cli.commands:SeedVMDeprovision seed_vm_provision = kayobe.cli.commands:SeedVMProvision ,,69,82
openstack%2Fkayobe~stable%2Fpike~I25cd407677a4013d022f87d124c6db43ab6bb2e0,openstack/kayobe,stable/pike,I25cd407677a4013d022f87d124c6db43ab6bb2e0,"Use stestr for running unit tests, add a coverage environment",MERGED,2018-03-20 11:54:48.000000000,2018-04-03 14:36:49.000000000,2018-04-03 14:36:48.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 11:54:48.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'zuul.d/project.yaml', '.coveragerc', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/32eaa3f471c46f055b685f6d09c0d7530fbdce87', 'message': ""Use stestr for running unit tests, add a coverage environment\n\nstestr [1] is a fork of the testrunner python test runner.\n\nCoverage tests can be run using 'tox -e cover'.\n\nAdds a job for checking coverage to Zuul check and gate.\n\n[1] http://stestr.readthedocs.io/en/latest/\n\nChange-Id: I25cd407677a4013d022f87d124c6db43ab6bb2e0\nStory: #2001637\nTask: #6648\n(cherry picked from commit 048fd82bef1ec0e77957c7172f2cc3036c235375)\n""}]",0,554512,32eaa3f471c46f055b685f6d09c0d7530fbdce87,7,3,1,14826,,,0,"Use stestr for running unit tests, add a coverage environment

stestr [1] is a fork of the testrunner python test runner.

Coverage tests can be run using 'tox -e cover'.

Adds a job for checking coverage to Zuul check and gate.

[1] http://stestr.readthedocs.io/en/latest/

Change-Id: I25cd407677a4013d022f87d124c6db43ab6bb2e0
Story: #2001637
Task: #6648
(cherry picked from commit 048fd82bef1ec0e77957c7172f2cc3036c235375)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/12/554512/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'zuul.d/project.yaml', '.coveragerc', 'tox.ini', '.stestr.conf']",6,32eaa3f471c46f055b685f6d09c0d7530fbdce87,,[DEFAULT] test_path=${TESTS_DIR:-./kayobe/tests/unit/} top_dir=./ ,,32,3
openstack%2Fkayobe~stable%2Fpike~I22ff0f2f24fce8fb4ed048d62cfb54e751760264,openstack/kayobe,stable/pike,I22ff0f2f24fce8fb4ed048d62cfb54e751760264,Fix tilde expansion in development environment function library,MERGED,2018-03-20 11:54:48.000000000,2018-04-03 14:36:48.000000000,2018-04-03 14:36:48.000000000,"[{'_account_id': 14826}, {'_account_id': 16984}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 11:54:48.000000000', 'files': ['dev/functions'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fd703587bedd1fb86a4071fa127ea69773e170d6', 'message': ""Fix tilde expansion in development environment function library\n\nDue to how bash expands tildes, the `~` is treated literally here and\nresults in a folder in the Vagrant user's home directory called `~`.\n\nThis commit switches to using the `$HOME` environment variable instead.\n\n(cherry picked from commit 450a7a24f842fe1b3a3ec8737502a375b82e3dbf)\n\nChange-Id: I22ff0f2f24fce8fb4ed048d62cfb54e751760264\n""}]",0,554511,fd703587bedd1fb86a4071fa127ea69773e170d6,7,4,1,14826,,,0,"Fix tilde expansion in development environment function library

Due to how bash expands tildes, the `~` is treated literally here and
results in a folder in the Vagrant user's home directory called `~`.

This commit switches to using the `$HOME` environment variable instead.

(cherry picked from commit 450a7a24f842fe1b3a3ec8737502a375b82e3dbf)

Change-Id: I22ff0f2f24fce8fb4ed048d62cfb54e751760264
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/11/554511/1 && git format-patch -1 --stdout FETCH_HEAD,['dev/functions'],1,fd703587bedd1fb86a4071fa127ea69773e170d6,," export KAYOBE_VENV_PATH=""${KAYOBE_VENV_PATH:-${HOME}/kayobe-venv}"""," export KAYOBE_VENV_PATH=""${KAYOBE_VENV_PATH:-~/kayobe-venv}""",1,1
openstack%2Fkayobe~stable%2Fpike~I7a884f538cfeba9d6b4b990ec445b5ad6f914193,openstack/kayobe,stable/pike,I7a884f538cfeba9d6b4b990ec445b5ad6f914193,Fix use of tags with overcloud post configure,MERGED,2018-03-13 12:00:31.000000000,2018-04-03 14:36:47.000000000,2018-04-03 14:36:47.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 12:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7b6e4d84ce2b1f29f93962338215c60ae299c54f', 'message': ""Fix use of tags with overcloud post configure\n\nWhen specifying tags with 'kayobe overcloud post configure --tags <tags>', the\nexpected plays typically do not run. This seems to be due to an ansible bug,\nwhere if a dynamically created group is referenced before creation, it will\nremain empty. See https://github.com/ansible/ansible/issues/20360.\n\nThis change works around this issue by modifying the name of the dynamic groups\nused in the post configure playbooks to be unique to each playbook.\n\nFixes: #138\n(cherry picked from commit 77a41a9d0a37acd2d4c25bd7d969d965a9552428)\n\nChange-Id: I7a884f538cfeba9d6b4b990ec445b5ad6f914193\n""}, {'number': 2, 'created': '2018-03-13 12:11:58.000000000', 'files': ['ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/overcloud-introspection-rules.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/485027ebd64c6ac385cd0c8bbf5586987de5d083', 'message': ""Fix use of tags with overcloud post configure\n\nWhen specifying tags with 'kayobe overcloud post configure --tags <tags>', the\nexpected plays typically do not run. This seems to be due to an ansible bug,\nwhere if a dynamically created group is referenced before creation, it will\nremain empty. See https://github.com/ansible/ansible/issues/20360.\n\nThis change works around this issue by modifying the name of the dynamic groups\nused in the post configure playbooks to be unique to each playbook.\n\nFixes: #138\n(cherry picked from commit 77a41a9d0a37acd2d4c25bd7d969d965a9552428)\n\nChange-Id: I7a884f538cfeba9d6b4b990ec445b5ad6f914193\n""}]",0,552491,485027ebd64c6ac385cd0c8bbf5586987de5d083,8,3,2,14826,,,0,"Fix use of tags with overcloud post configure

When specifying tags with 'kayobe overcloud post configure --tags <tags>', the
expected plays typically do not run. This seems to be due to an ansible bug,
where if a dynamically created group is referenced before creation, it will
remain empty. See https://github.com/ansible/ansible/issues/20360.

This change works around this issue by modifying the name of the dynamic groups
used in the post configure playbooks to be unique to each playbook.

Fixes: #138
(cherry picked from commit 77a41a9d0a37acd2d4c25bd7d969d965a9552428)

Change-Id: I7a884f538cfeba9d6b4b990ec445b5ad6f914193
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/552491/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/provision-net.yml', 'ansible/overcloud-ipa-build.yml', 'ansible/overcloud-ipa-images.yml', 'ansible/overcloud-introspection-rules-dell-lldp-workaround.yml', 'ansible/overcloud-introspection-rules.yml']",5,7b6e4d84ce2b1f29f93962338215c60ae299c54f,," key: ""controllers_for_introspection_rules_{{ kolla_enable_ironic | bool }}"" hosts: controllers_for_introspection_rules_True[0]"," key: ""controllers_with_ironic_enabled_{{ kolla_enable_ironic | bool }}"" hosts: controllers_with_ironic_enabled_True[0]",10,10
openstack%2Fkayobe~stable%2Fpike~I925e53c2e20a75fef1a942003f5e61f6bfeedcdc,openstack/kayobe,stable/pike,I925e53c2e20a75fef1a942003f5e61f6bfeedcdc,Fix py35 python tests,MERGED,2018-03-13 12:00:31.000000000,2018-04-03 14:36:46.000000000,2018-04-03 14:36:46.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 12:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b9014edb3fd9b4aa05da8d7183d09aa6d329a18e', 'message': 'Fix py35 python tests\n\nIn python3, dict.values() is a dictview, which cannot be indexed.\n\nThis change also makes the tox py35 job voting and adds it to the gate\njobs.\n\nChange-Id: I925e53c2e20a75fef1a942003f5e61f6bfeedcdc\nStory: #2001637\nTask: #6646\n'}, {'number': 2, 'created': '2018-03-13 12:11:58.000000000', 'files': ['kayobe/cli/commands.py', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4513c2e113838d9a115e3d0d4c8cb3d9f9f2f508', 'message': 'Fix py35 python tests\n\nIn python3, dict.values() is a dictview, which cannot be indexed.\n\nThis change also makes the tox py35 job voting and adds it to the gate\njobs.\n\nChange-Id: I925e53c2e20a75fef1a942003f5e61f6bfeedcdc\nStory: #2001637\nTask: #6646\n'}]",0,552490,4513c2e113838d9a115e3d0d4c8cb3d9f9f2f508,9,3,2,14826,,,0,"Fix py35 python tests

In python3, dict.values() is a dictview, which cannot be indexed.

This change also makes the tox py35 job voting and adds it to the gate
jobs.

Change-Id: I925e53c2e20a75fef1a942003f5e61f6bfeedcdc
Story: #2001637
Task: #6646
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/552490/2 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/cli/commands.py', 'zuul.d/project.yaml']",2,b9014edb3fd9b4aa05da8d7183d09aa6d329a18e,, - openstack-tox-py35 - openstack-tox-py35, # FIXME(mgoddard): python 3.5 jobs currently failing. - openstack-tox-py35: voting: false,4,5
openstack%2Fkayobe~stable%2Fpike~If44d3bb465ab9dcc8916fd53261b1edcb9780bfb,openstack/kayobe,stable/pike,If44d3bb465ab9dcc8916fd53261b1edcb9780bfb,Add .gitreview file,MERGED,2018-03-13 12:00:31.000000000,2018-04-03 14:36:45.000000000,2018-04-03 14:36:45.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 12:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b10dd58873a2795c197f9de76c440f4eba347519', 'message': 'Add .gitreview file\n\nChange-Id: If44d3bb465ab9dcc8916fd53261b1edcb9780bfb\nStory: #2001637\nTask: #6645\n'}, {'number': 2, 'created': '2018-03-13 12:11:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b09992a3678946ad5fff336d055cef9a1f9c990f', 'message': 'Add .gitreview file\n\nChange-Id: If44d3bb465ab9dcc8916fd53261b1edcb9780bfb\nStory: #2001637\nTask: #6645\n'}]",0,552489,b09992a3678946ad5fff336d055cef9a1f9c990f,9,3,2,14826,,,0,"Add .gitreview file

Change-Id: If44d3bb465ab9dcc8916fd53261b1edcb9780bfb
Story: #2001637
Task: #6645
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/89/552489/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b10dd58873a2795c197f9de76c440f4eba347519,,[gerrit] host=review.openstack.org port=29418 project=openstack/kayobe.git ,,4,0
openstack%2Fkayobe~stable%2Fpike~Ie95bcdaabb10ab661bc3a01efbaf9143896d6913,openstack/kayobe,stable/pike,Ie95bcdaabb10ab661bc3a01efbaf9143896d6913,Add initial in-repo Zuul jobs,MERGED,2018-03-13 12:00:31.000000000,2018-04-03 14:30:57.000000000,2018-04-03 14:30:57.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 12:00:31.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8751a4545e0dac5fbf1f8549e24f611865592b98', 'message': 'Add initial in-repo Zuul jobs\n\nThis change ensures parity with the CI jobs run by TravisCI on the\nlegacy StackHPC github repo.\n\nIn addition to the system-required job in infra project-config, the\nfollowing jobs are run on check and gate:\n\n- openstack-tox-pep8\n- openstack-tox-py27\n- build-openstack-sphinx-docs\n- kayobe-tox-ansible-syntax\n- kayobe-tox-ansible\n\nAnsible molecule tests are not working currently, as they require docker\nengine to be running.\n\nChange-Id: Ie95bcdaabb10ab661bc3a01efbaf9143896d6913\nStory: #2001637\nTask: #6646\n'}]",0,552488,8751a4545e0dac5fbf1f8549e24f611865592b98,7,3,1,14826,,,0,"Add initial in-repo Zuul jobs

This change ensures parity with the CI jobs run by TravisCI on the
legacy StackHPC github repo.

In addition to the system-required job in infra project-config, the
following jobs are run on check and gate:

- openstack-tox-pep8
- openstack-tox-py27
- build-openstack-sphinx-docs
- kayobe-tox-ansible-syntax
- kayobe-tox-ansible

Ansible molecule tests are not working currently, as they require docker
engine to be running.

Change-Id: Ie95bcdaabb10ab661bc3a01efbaf9143896d6913
Story: #2001637
Task: #6646
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/88/552488/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,8751a4545e0dac5fbf1f8549e24f611865592b98,,--- # Tox job that checks Ansible playbook syntax. - job: name: kayobe-tox-ansible-syntax parent: openstack-tox vars: tox_envlist: ansible-syntax # Tox job that runs native Ansible role tests. - job: name: kayobe-tox-ansible parent: openstack-tox-with-sudo vars: tox_envlist: ansible ,,35,0
openstack%2Fneutron-fwaas-dashboard~master~I135b1745c933deca37d17e6af250e16aabf912e7,openstack/neutron-fwaas-dashboard,master,I135b1745c933deca37d17e6af250e16aabf912e7,Drop mox usage from FWaaS v2 panel tests,MERGED,2018-03-11 00:33:49.000000000,2018-04-03 14:20:25.000000000,2018-04-03 14:20:25.000000000,"[{'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-11 00:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/db16a2f4b69461aa14dfb134fb0d8327df356d18', 'message': ""Drop mox usage from FWaaS v2 panel tests\n\nPreviously expected PUT data for update tests were completely wrong.\nI don't know why the previous mox unit tests pass. After switching to\nmock, they no longer can pass and this commit fixes them.\n\nThis patch also clean up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I135b1745c933deca37d17e6af250e16aabf912e7\n""}, {'number': 2, 'created': '2018-03-11 01:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/d074a6026d5e91ead030fb319badf646ad05a326', 'message': ""Drop mox usage from FWaaS v2 panel tests\n\nPreviously expected PUT data for update tests were completely wrong.\nI don't know why the previous mox unit tests pass. After switching to\nmock, they no longer can pass and this commit fixes them.\n\nThis patch also clean up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I135b1745c933deca37d17e6af250e16aabf912e7\n""}, {'number': 3, 'created': '2018-03-23 07:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/5b2dd85522340277c07ac19efe753482236b2db7', 'message': ""Drop mox usage from FWaaS v2 panel tests\n\nPreviously expected PUT data for update tests were completely wrong.\nI don't know why the previous mox unit tests pass. After switching to\nmock, they no longer can pass and this commit fixes them.\n\nThis patch also clean up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I135b1745c933deca37d17e6af250e16aabf912e7\n""}, {'number': 4, 'created': '2018-03-28 04:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/c265da56e73f2ba885f648df2e0c4b88918d661c', 'message': ""Drop mox usage from FWaaS v2 panel tests\n\nPreviously expected PUT data for update tests were completely wrong.\nI don't know why the previous mox unit tests pass. After switching to\nmock, they no longer can pass and this commit fixes them.\n\nThis patch also clean up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I135b1745c933deca37d17e6af250e16aabf912e7\n""}, {'number': 5, 'created': '2018-03-28 06:04:39.000000000', 'files': ['neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tests.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/6cd9d487ed9dba893a8946a24c221312dde01b03', 'message': ""Drop mox usage from FWaaS v2 panel tests\n\nPreviously expected PUT data for update tests were completely wrong.\nI don't know why the previous mox unit tests pass. After switching to\nmock, they no longer can pass and this commit fixes them.\n\nThis patch also clean up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I135b1745c933deca37d17e6af250e16aabf912e7\n""}]",0,551723,6cd9d487ed9dba893a8946a24c221312dde01b03,18,3,5,841,,,0,"Drop mox usage from FWaaS v2 panel tests

Previously expected PUT data for update tests were completely wrong.
I don't know why the previous mox unit tests pass. After switching to
mock, they no longer can pass and this commit fixes them.

This patch also clean up unnecessary mocked methods.

This is part of mox-removal community goal in Rocky.
Partial-Bug: #1753504

Change-Id: I135b1745c933deca37d17e6af250e16aabf912e7
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/23/551723/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/dashboards/project/firewalls_v2/tests.py'],1,db16a2f4b69461aa14dfb134fb0d8327df356d18,mox-removal,"import mockfrom openstack_dashboard.test import helpers use_mox = False def setup_mocks(self): firewallgroups = self.firewall_groups_v2.list() self.mock_firewall_list_for_tenant.return_value = firewallgroups policies = self.fw_policies_v2.list() self.mock_policy_list_for_tenant.return_value = policies self.mock_rule_list_for_tenant.return_value = self.fw_rules_v2.list() def check_mocks(self): self.mock_firewall_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_policy_list_for_tenant, 2, mock.call(helpers.IsHttpRequest(), tenant_id)) self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) def setup_mocks_with_exception(self): self.mock_rule_list_for_tenant.side_effect = self.exceptions.neutron self.mock_policy_list_for_tenant.side_effect = self.exceptions.neutron self.mock_firewall_list_for_tenant.side_effect = \ self.exceptions.neutron def check_mocks_with_exception(self): self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) @helpers.create_mocks({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant',)}) def test_index_firewallgroups(self): self.setup_mocks() self.check_mocks() @helpers.create_mocks({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant',)}) def test_index_policies(self): self.setup_mocks() self.check_mocks() @helpers.create_mocks({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant',)}) def test_index_rules(self): self.setup_mocks() self.check_mocks() @helpers.create_mocks({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant')}) def test_index_exception_firewallgroups(self): self.setup_mocks_with_exception() self.check_mocks_with_exception() @helpers.create_mocks({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant')}) def test_index_exception_policies(self): self.setup_mocks_with_exception() self.check_mocks_with_exception() @helpers.create_mocks({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant')}) def test_index_exception_rules(self): self.setup_mocks_with_exception() self.check_mocks_with_exception() @helpers.create_mocks({api_fwaas_v2: ('rule_create',), }) self.mock_rule_create.return_value = rule1 self.mock_rule_create.assert_called_once_with( helpers.IsHttpRequest(), **form_data) @helpers.create_mocks({api_fwaas_v2: ('rule_create',), }) 'source_ip_address': '', 'source_port': '', self.mock_rule_create.return_value = rule1 data = form_data.copy() data['source_ip_address'] = None data['source_port'] = None self.mock_rule_create.assert_called_once_with( helpers.IsHttpRequest(), **data) @helpers.create_mocks({api_fwaas_v2: ('rule_create',), }) 'destination_ip_address': '', 'destination_port': '', self.mock_rule_create.return_value = rule1 data = form_data.copy() data['destination_ip_address'] = None data['destination_port'] = None self.mock_rule_create.assert_called_once_with( helpers.IsHttpRequest(), **data) @helpers.create_mocks({api_fwaas_v2: ('policy_create', 'rule_list_for_tenant'), }) self.mock_rule_list_for_tenant.return_value = rules self.mock_policy_create.return_value = policy self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_policy_create.assert_called_once_with( helpers.IsHttpRequest(), **form_data) @helpers.create_mocks({api_fwaas_v2: ('rule_list_for_tenant',)}) self.mock_rule_list_for_tenant.return_value = rules self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) @helpers.create_mocks({api_fwaas_v2: ('firewall_group_create', 'policy_list_for_tenant', 'fwg_port_list_for_tenant',)}) def test_add_firewall_group_post(self): fwg = self.firewall_groups_v2.first() form_data = { 'name': fwg.name, 'description': fwg.description, 'ingress_firewall_policy_id': fwg.ingress_firewall_policy_id, 'egress_firewall_policy_id': fwg.egress_firewall_policy_id, 'admin_state_up': fwg.admin_state_up, 'shared': False, 'port': [], } self.mock_policy_list_for_tenant.return_value = policies self.mock_fwg_port_list_for_tenant.return_value = [] self.mock_firewall_group_create.return_value = fwg self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_fwg_port_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) data = form_data.copy() data['ports'] = data.pop('port') self.mock_firewall_group_create.assert_called_once_with( helpers.IsHttpRequest(), **data) # @helpers.create_mocks({api_fwaas_v2: ('firewall_group_create', # 'policy_list_for_tenant', # 'fwg_port_list_for_tenant',)}) # self.mock_policy_list_for_tenant( # helpers.IsHttpRequest(), tenant_id).AndReturn(policies) @helpers.create_mocks({api_fwaas_v2: ('rule_get',)}) self.mock_rule_get.return_value = rule self.mock_rule_get.assert_called_once_with(helpers.IsHttpRequest(), rule.id) @helpers.create_mocks({api_fwaas_v2: ('rule_get', 'rule_update')}) self.mock_rule_get.return_value = rule self.mock_rule_update.return_value = rule data = { 'name': 'new name', 'description': 'new desc', 'protocol': 'icmp', 'action': 'allow', 'shared': False, 'enabled': True, 'ip_version': rule.ip_version, 'source_ip_address': rule.source_ip_address, 'destination_ip_address': None, 'source_port': None, 'destination_port': rule.destination_port, } expected_put_data = { 'name': 'new name', 'description': 'new desc', 'protocol': 'icmp', 'action': 'allow', 'shared': False, 'destination_ip_address': None, 'source_port': None, } self.mock_rule_get.assert_called_once_with(helpers.IsHttpRequest(), rule.id) self.mock_rule_update.assert_called_once_with( helpers.IsHttpRequest(), rule.id, **expected_put_data) @helpers.create_mocks({api_fwaas_v2: ('rule_get', 'rule_update')}) self.mock_rule_get.return_value = rule self.mock_rule_update.return_value = rule data = { 'name': 'new name', 'description': 'new desc', 'protocol': 'icmp', 'action': 'allow', 'shared': False, 'enabled': True, 'ip_version': rule.ip_version, 'source_ip_address': rule.source_ip_address, 'destination_ip_address': None, 'source_port': None, 'destination_port': rule.destination_port, } expected_put_data = { 'name': 'new name', 'description': 'new desc', 'protocol': 'icmp', 'action': 'allow', 'shared': False, 'destination_ip_address': None, 'source_port': None, } self.mock_rule_get.assert_called_once_with(helpers.IsHttpRequest(), rule.id) self.mock_rule_update.assert_called_once_with( helpers.IsHttpRequest(), rule.id, **expected_put_data) @helpers.create_mocks({api_fwaas_v2: ('rule_get', 'rule_update')}) self.mock_rule_get.return_value = rule self.mock_rule_update.return_value = rule form_data = { 'name': 'new name', 'description': 'new desc', 'protocol': 'any', 'action': 'allow', 'shared': False, 'enabled': True, 'ip_version': rule.ip_version, 'source_ip_address': rule.source_ip_address, 'destination_ip_address': '', 'source_port': '', 'destination_port': rule.destination_port, } expected_put_data = { 'name': 'new name', 'description': 'new desc', 'protocol': None, 'action': 'allow', 'shared': False, 'destination_ip_address': None, 'source_port': None, } self.mock_rule_get.assert_called_once_with(helpers.IsHttpRequest(), rule.id) self.mock_rule_update.assert_called_once_with( helpers.IsHttpRequest(), rule.id, **expected_put_data) @helpers.create_mocks({api_fwaas_v2: ('policy_get',)}) self.mock_policy_get.return_value = policy self.mock_policy_get.assert_called_once_with(helpers.IsHttpRequest(), policy.id) @helpers.create_mocks({api_fwaas_v2: ('policy_get', 'policy_update')}) self.mock_policy_get.return_value = policy self.mock_policy_update.return_value = policy data = { 'name': 'new name', 'description': 'new desc', 'shared': True, 'audited': False } expected_put_data = { 'name': 'new name', 'description': 'new desc', 'audited': False, } self.mock_policy_get.assert_called_once_with(helpers.IsHttpRequest(), policy.id) self.mock_policy_update.assert_called_once_with( helpers.IsHttpRequest(), policy.id, **expected_put_data) @helpers.create_mocks({api_fwaas_v2: ('firewall_get', 'policy_list_for_tenant')}) self.mock_policy_list_for_tenant.return_value = policies self.mock_firewall_get.return_value = firewall_group self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_get.assert_called_once_with( helpers.IsHttpRequest(), firewall_group.id) @helpers.create_mocks({api_fwaas_v2: ('firewall_get', 'policy_list_for_tenant', 'firewall_update')}) def test_update_firewall_post(self): fwg = self.firewall_groups_v2.first() data = { 'name': 'new name', 'description': 'new desc', 'ingress_firewall_policy_id': fwg.ingress_firewall_policy_id, 'egress_firewall_policy_id': '', 'admin_state_up': False, 'shared': False, } expected_put_data = { 'name': 'new name', 'description': 'new desc', 'egress_firewall_policy_id': None, 'admin_state_up': False, } self.mock_firewall_get.return_value = fwg self.mock_policy_list_for_tenant.return_value = policies self.mock_firewall_update.return_value = fwg fwg.id, self.mock_firewall_get.assert_called_once_with( helpers.IsHttpRequest(), fwg.id) self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_update.assert_called_once_with( helpers.IsHttpRequest(), fwg.id, **expected_put_data) @helpers.create_mocks({api_fwaas_v2: ('policy_get', 'policy_insert_rule', 'rule_list_for_tenant', 'rule_get')}) self.mock_policy_get.return_value = policy self.mock_rule_list_for_tenant.return_value = rules self.mock_rule_get.return_value = rules[2] self.mock_policy_insert_rule.return_value = policy self.mock_policy_get.assert_called_once_with(helpers.IsHttpRequest(), policy.id) self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_rule_get.assert_called_once_with( helpers.IsHttpRequest(), new_rule_id) self.mock_policy_insert_rule.assert_called_once_with( helpers.IsHttpRequest(), policy.id, **data) @helpers.create_mocks({api_fwaas_v2: ('policy_get', 'policy_remove_rule', 'rule_list_for_tenant', 'rule_get')}) self.mock_policy_get.return_value = policy self.mock_rule_list_for_tenant.return_value = rules self.mock_rule_get.return_value = rules[0] self.mock_policy_remove_rule.return_value = after_remove_policy self.mock_policy_get.assert_called_once_with(helpers.IsHttpRequest(), policy.id) self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_rule_get.assert_called_once_with( helpers.IsHttpRequest(), remove_rule_id) self.mock_policy_remove_rule.assert_called_once_with( helpers.IsHttpRequest(), policy.id, **data) @helpers.create_mocks({api_fwaas_v2: ('rule_list_for_tenant', 'rule_delete')}) self.mock_rule_list_for_tenant.return_value = self.fw_rules_v2.list() self.mock_rule_delete.return_value = None self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), self.tenant.id) self.mock_rule_delete.assert_called_once_with( helpers.IsHttpRequest(), rule.id) @helpers.create_mocks({api_fwaas_v2: ('policy_list_for_tenant', 'policy_delete')}) self.mock_policy_list_for_tenant.return_value = \ self.fw_policies_v2.list() self.mock_policy_delete.return_value = None self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), self.tenant.id) self.mock_policy_delete.assert_called_once_with( helpers.IsHttpRequest(), policy.id) @helpers.create_mocks({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'firewall_delete',)}) self.mock_firewall_list_for_tenant.return_value = [fwl] self.mock_policy_list_for_tenant.return_value = \ self.fw_policies_v2.list() self.mock_firewall_delete.return_value = None self.mock_firewall_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), self.tenant.id) self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), self.tenant.id) self.mock_firewall_delete.assert_called_once_with( helpers.IsHttpRequest(), fwl.id)","from django import http from mox3.mox import IsA class AttributeDict(dict): def __getattr__(self, attr): return self[attr] def __setattr__(self, attr, value): self[attr] = value def set_up_expect(self): # retrieves firewallgroups firewallgroups = self.firewall_groups_v2.list() api_fwaas_v2.firewall_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(firewallgroups) # retrieves policies policies = self.fw_policies_v2.list() api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) # retrieve rules api_fwaas_v2.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(self.fw_rules_v2.list()) def set_up_expect_with_exception(self): api_fwaas_v2.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndRaise(self.exceptions.neutron) api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndRaise(self.exceptions.neutron) api_fwaas_v2.firewall_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndRaise(self.exceptions.neutron) @test.create_stubs({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant',), api_neutron: ('is_extension_supported',), }) def test_index_firewallgroups(self): self.set_up_expect() self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant',), api_neutron: ('is_extension_supported',), }) def test_index_policies(self): self.set_up_expect() self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant',), api_neutron: ('is_extension_supported',), }) def test_index_rules(self): self.set_up_expect() self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api_neutron: ('is_extension_supported',), }) def test_index_exception_firewallgroups(self): self.set_up_expect_with_exception() self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api_neutron: ('is_extension_supported',), }) def test_index_exception_policies(self): self.set_up_expect_with_exception() self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api_neutron: ('is_extension_supported',), }) def test_index_exception_rules(self): self.set_up_expect_with_exception() self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('rule_create',), }) api_fwaas_v2.rule_create( IsA(http.HttpRequest), **form_data).AndReturn(rule1) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('rule_create',), }) api_fwaas_v2.rule_create( IsA(http.HttpRequest), **form_data).AndReturn(rule1) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('rule_create',), }) api_fwaas_v2.rule_create( IsA(http.HttpRequest), **form_data).AndReturn(rule1) self.mox.ReplayAll() self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('policy_create', 'rule_list_for_tenant'), }) api_fwaas_v2.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) api_fwaas_v2.policy_create( IsA(http.HttpRequest), **form_data).AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('policy_create', 'rule_list_for_tenant'), }) api_fwaas_v2.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_group_create', 'policy_list_for_tenant', 'fwg_port_list_for_tenant',), api_neutron: ('is_extension_supported',), }) def test_add_firewall_group_post(self): firewall_group = self.firewall_groups_v2.first() form_data = {'name': firewall_group.name, 'description': firewall_group.description, 'ingress_firewall_policy_id': firewall_group.ingress_firewall_policy_id, 'egress_firewall_policy_id': firewall_group.egress_firewall_policy_id, 'admin_state_up': firewall_group.admin_state_up } api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) api_fwaas_v2.fwg_port_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn([]) api_fwaas_v2.firewall_group_create( IsA(http.HttpRequest), **form_data).AndReturn(firewall_group) self.mox.ReplayAll() # @test.create_stubs({api_fwaas_v2: ('firewall_group_create', # 'policy_list_for_tenant', # 'fwg_port_list_for_tenant',), # api_neutron: ('is_extension_supported',), }) # api_fwaas_v2.policy_list_for_tenant( # IsA(http.HttpRequest), tenant_id).AndReturn(policies) @test.create_stubs({api_fwaas_v2: ('rule_get',)}) api_fwaas_v2.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('rule_get', 'rule_update')}) api_fwaas_v2.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) data = {'name': 'new name', 'description': 'new desc', 'protocol': 'icmp', 'action': 'allow', 'shared': False, 'enabled': True, 'ip_version': rule.ip_version, 'source_ip_address': rule.source_ip_address, 'destination_ip_address': None, 'source_port': None, 'destination_port': rule.destination_port, } api_fwaas_v2.rule_update(IsA(http.HttpRequest), rule.id, **data)\ .AndReturn(rule) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('rule_get', 'rule_update')}) api_fwaas_v2.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) data = {'name': 'new name', 'description': 'new desc', 'protocol': 'icmp', 'action': 'allow', 'shared': False, 'enabled': True, 'ip_version': rule.ip_version, 'source_ip_address': rule.source_ip_address, 'destination_ip_address': None, 'source_port': None, 'destination_port': rule.destination_port, } api_fwaas_v2.rule_update(IsA(http.HttpRequest), rule.id, **data)\ .AndReturn(rule) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('rule_get', 'rule_update')}) api_fwaas_v2.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) data = {'name': 'new name', 'description': 'new desc', 'protocol': None, 'action': 'allow', 'shared': False, 'enabled': True, 'ip_version': rule.ip_version, 'source_ip_address': rule.source_ip_address, 'destination_ip_address': None, 'source_port': None, 'destination_port': rule.destination_port, } api_fwaas_v2.rule_update(IsA(http.HttpRequest), rule.id, **data)\ .AndReturn(rule) self.mox.ReplayAll() form_data = data.copy() form_data['destination_ip_address'] = '' form_data['source_port'] = '' form_data['protocol'] = 'any' @test.create_stubs({api_fwaas_v2: ('policy_get',)}) api_fwaas_v2.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('policy_get', 'policy_update', 'rule_list_for_tenant')}) api_fwaas_v2.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) data = {'name': 'new name', 'description': 'new desc', 'shared': True, 'audited': False } api_fwaas_v2.policy_update(IsA(http.HttpRequest), policy.id, **data)\ .AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_get', 'policy_list_for_tenant')}) api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) api_fwaas_v2.firewall_get(IsA(http.HttpRequest), firewall_group.id).AndReturn(firewall_group) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_get', 'policy_list_for_tenant', 'firewall_update')}) def test_update_firewall_post(self): firewall_group = self.firewall_groups_v2.first() api_fwaas_v2.firewall_get(IsA(http.HttpRequest), firewall_group.id).AndReturn(firewall_group) data = {'name': 'new name', 'description': 'new desc', 'ingress_firewall_policy_id': firewall_group.ingress_firewall_policy_id, 'admin_state_up': False } api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) api_fwaas_v2.firewall_update( IsA(http.HttpRequest), firewall_group.id, **data)\ .AndReturn(firewall_group) self.mox.ReplayAll() firewall_group.id, @test.create_stubs({api_fwaas_v2: ('policy_get', 'policy_insert_rule', 'rule_list_for_tenant', 'rule_get')}) api_fwaas_v2.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) api_fwaas_v2.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) api_fwaas_v2.rule_get( IsA(http.HttpRequest), new_rule_id).AndReturn(rules[2]) api_fwaas_v2.policy_insert_rule( IsA(http.HttpRequest), policy.id, **data) .AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('policy_get', 'policy_remove_rule', 'rule_list_for_tenant', 'rule_get')}) api_fwaas_v2.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) api_fwaas_v2.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) api_fwaas_v2.rule_get( IsA(http.HttpRequest), remove_rule_id).AndReturn(rules[0]) api_fwaas_v2.policy_remove_rule(IsA(http.HttpRequest), policy.id, **data)\ .AndReturn(after_remove_policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('rule_list_for_tenant', 'rule_delete'), api_neutron: ('is_extension_supported',)}) api_fwaas_v2.rule_list_for_tenant( IsA(http.HttpRequest), self.tenant.id).AndReturn(self.fw_rules_v2.list()) api_fwaas_v2.rule_delete(IsA(http.HttpRequest), rule.id) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('policy_list_for_tenant', 'policy_delete'), api_neutron: ('is_extension_supported',)}) api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), self.tenant.id).AndReturn(self.fw_policies_v2.list()) api_fwaas_v2.policy_delete(IsA(http.HttpRequest), policy.id) self.mox.ReplayAll() @test.create_stubs({api_fwaas_v2: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'firewall_delete',), api_neutron: ('is_extension_supported',)}) api_fwaas_v2.firewall_list_for_tenant( IsA(http.HttpRequest), self.tenant.id).AndReturn([fwl]) api_fwaas_v2.policy_list_for_tenant( IsA(http.HttpRequest), self.tenant.id).AndReturn(self.fw_policies_v2.list()) api_fwaas_v2.firewall_delete(IsA(http.HttpRequest), fwl.id) self.mox.ReplayAll()",356,296
openstack%2Fneutron-fwaas-dashboard~master~I41362bb41384434418f1250e7a97eb1226202c51,openstack/neutron-fwaas-dashboard,master,I41362bb41384434418f1250e7a97eb1226202c51,Drop mox usage from FWaaS v2 API tests,MERGED,2018-03-11 00:33:49.000000000,2018-04-03 14:20:25.000000000,2018-04-03 14:20:25.000000000,"[{'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-11 00:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/5445c63e58c4cc52a1ed43e44985b1a652b56fdb', 'message': 'Drop mox usage from FWaaS v2 API tests\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I41362bb41384434418f1250e7a97eb1226202c51\n'}, {'number': 2, 'created': '2018-03-23 07:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/cdb88f99fa0daf8e4c48baeb7b98f84c13c60886', 'message': 'Drop mox usage from FWaaS v2 API tests\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I41362bb41384434418f1250e7a97eb1226202c51\n'}, {'number': 3, 'created': '2018-03-28 04:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/ec6a68343c58170520d3c5ec824ba61d93737f96', 'message': 'Drop mox usage from FWaaS v2 API tests\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I41362bb41384434418f1250e7a97eb1226202c51\n'}, {'number': 4, 'created': '2018-03-28 06:04:39.000000000', 'files': ['neutron_fwaas_dashboard/test/api_tests/fwaas_v2_tests.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/58804c1e994155b570b61ddaf81237a8ce37c483', 'message': 'Drop mox usage from FWaaS v2 API tests\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I41362bb41384434418f1250e7a97eb1226202c51\n'}]",0,551722,58804c1e994155b570b61ddaf81237a8ce37c483,16,3,4,841,,,0,"Drop mox usage from FWaaS v2 API tests

This is part of mox-removal community goal in Rocky.
Partial-Bug: #1753504

Change-Id: I41362bb41384434418f1250e7a97eb1226202c51
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/22/551722/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/test/api_tests/fwaas_v2_tests.py'],1,5445c63e58c4cc52a1ed43e44985b1a652b56fdb,mox-removal,"import mockfrom openstack_dashboard.test import helpers use_mox = False @helpers.create_mocks({neutronclient: ('create_fwaas_firewall_rule',)}) self.mock_create_fwaas_firewall_rule.return_value = ret_dict self.mock_create_fwaas_firewall_rule.assert_called_once_with(form_dict) @helpers.create_mocks({neutronclient: ('list_fwaas_firewall_rules',)}) self.mock_list_fwaas_firewall_rules.return_value = api_rules self.mock_list_fwaas_firewall_rules.assert_called_once_with() @helpers.create_mocks({neutronclient: ('list_fwaas_firewall_rules',)}) self.mock_list_fwaas_firewall_rules.side_effect = [ {'firewall_rules': []}, api_rules, ] self.assertEqual(2, self.mock_list_fwaas_firewall_rules.call_count) self.mock_list_fwaas_firewall_rules.assert_has_calls([ mock.call(tenant_id=tenant_id, shared=False), mock.call(shared=True), ]) @helpers.create_mocks({neutronclient: ('show_fwaas_firewall_rule',)}) self.mock_show_fwaas_firewall_rule.return_value = ret_dict self.mock_show_fwaas_firewall_rule.assert_called_once_with(exp_rule.id) @helpers.create_mocks({neutronclient: ('update_fwaas_firewall_rule',)}) self.mock_update_fwaas_firewall_rule.return_value = ret_dict self.mock_update_fwaas_firewall_rule.assert_called_once_with( rule.id, form_dict) @helpers.create_mocks({neutronclient: ('create_fwaas_firewall_policy', )}) self.mock_create_fwaas_firewall_policy.return_value = ret_dict self.mock_create_fwaas_firewall_policy.assert_called_once_with( form_dict) @helpers.create_mocks({neutronclient: ('list_fwaas_firewall_policies', 'list_fwaas_firewall_rules')}) self.mock_list_fwaas_firewall_policies.return_value = policies_dict self.mock_list_fwaas_firewall_rules.return_value = rules_dict self.mock_list_fwaas_firewall_policies.assert_called_once_with() self.mock_list_fwaas_firewall_rules.assert_called_once_with() @helpers.create_mocks({neutronclient: ('list_fwaas_firewall_policies', 'list_fwaas_firewall_rules')}) self.mock_list_fwaas_firewall_policies.side_effect = [ {'firewall_policies': []}, policies_dict, ] self.mock_list_fwaas_firewall_rules.return_value = rules_dict self.assertEqual(2, self.mock_list_fwaas_firewall_policies.call_count) self.mock_list_fwaas_firewall_policies.assert_has_calls([ mock.call(tenant_id=tenant_id, shared=False), mock.call(shared=True), ]) self.mock_list_fwaas_firewall_rules.assert_called_once_with() @helpers.create_mocks({neutronclient: ('show_fwaas_firewall_policy', 'list_fwaas_firewall_rules')}) self.mock_show_fwaas_firewall_policy.return_value = ret_dict self.mock_list_fwaas_firewall_rules.return_value = ret_dict self.mock_show_fwaas_firewall_policy.assert_called_once_with( exp_policy.id) self.mock_list_fwaas_firewall_rules.assert_called_once_with(**filters) @helpers.create_mocks({neutronclient: ('show_fwaas_firewall_policy',)}) self.mock_show_fwaas_firewall_policy.return_value = ret_dict self.mock_show_fwaas_firewall_policy.assert_called_once_with( exp_policy.id) @helpers.create_mocks({neutronclient: ('update_fwaas_firewall_policy',)}) self.mock_update_fwaas_firewall_policy.return_value = ret_dict self.mock_update_fwaas_firewall_policy.assert_called_once_with( policy.id, form_dict) @helpers.create_mocks( {neutronclient: ('insert_rule_fwaas_firewall_policy',)}) self.mock_insert_rule_fwaas_firewall_policy.return_value = policy_dict self.mock_insert_rule_fwaas_firewall_policy.assert_called_once_with( policy.id, body) @helpers.create_mocks( {neutronclient: ('remove_rule_fwaas_firewall_policy',)}) self.mock_remove_rule_fwaas_firewall_policy.return_value = policy_dict self.mock_remove_rule_fwaas_firewall_policy.assert_called_once_with( policy.id, body) @helpers.create_mocks({neutronclient: ('create_fwaas_firewall_group', )}) self.mock_create_fwaas_firewall_group.return_value = ret_dict self.mock_create_fwaas_firewall_group.assert_called_once_with( form_dict) @helpers.create_mocks({neutronclient: ('list_fwaas_firewall_groups', 'list_fwaas_firewall_policies')}) self.mock_list_fwaas_firewall_groups.return_value = firewalls_dict self.mock_list_fwaas_firewall_groups.assert_called_once_with() @helpers.create_mocks({neutronclient: ('list_fwaas_firewall_groups', 'list_fwaas_firewall_policies')}) self.mock_list_fwaas_firewall_groups.side_effect = [ firewalls_dict, firewalls_dict, ] self.assertEqual(2, self.mock_list_fwaas_firewall_groups.call_count) self.mock_list_fwaas_firewall_groups.assert_has_calls([ mock.call(shared=False, tenant_id=tenant_id), mock.call(shared=True), ]) @helpers.create_mocks({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) self.mock_list_ports.return_value = dummy_ports self.mock_list_fwaas_firewall_groups.return_value = \ {'firewall_groups': []} self.mock_list_ports.assert_called_once_with(tenant_id=tenant_id) self.mock_list_fwaas_firewall_groups.assert_called_once_with( tenant_id=tenant_id) @helpers.create_mocks({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) self.mock_list_ports.return_value = dummy_ports self.mock_list_fwaas_firewall_groups.return_value = used_ports self.mock_list_ports.assert_called_once_with(tenant_id=tenant_id) self.mock_list_fwaas_firewall_groups.assert_called_once_with( tenant_id=tenant_id) @helpers.create_mocks({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) self.mock_list_ports.return_value = dummy_ports self.mock_list_fwaas_firewall_groups.return_value = \ {'firewall_groups': []} self.mock_list_ports.assert_called_once_with(tenant_id=tenant_id) self.mock_list_fwaas_firewall_groups.assert_called_once_with( tenant_id=tenant_id) @helpers.create_mocks({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) self.mock_list_ports.return_value = {'ports': []} self.mock_list_fwaas_firewall_groups.return_value = \ {'firewall_groups': []} self.mock_list_ports.assert_called_once_with(tenant_id=tenant_id) self.mock_list_fwaas_firewall_groups.assert_called_once_with( tenant_id=tenant_id) @helpers.create_mocks({neutronclient: ('show_fwaas_firewall_group', 'show_fwaas_firewall_policy')}) self.mock_show_fwaas_firewall_group.return_value = ret_dict self.mock_show_fwaas_firewall_policy.side_effect = [ {'firewall_policy': ingress_policy}, {'firewall_policy': egress_policy} ] self.mock_show_fwaas_firewall_group.assert_called_once_with( exp_firewall.id) self.assertEqual(2, self.mock_show_fwaas_firewall_policy.call_count) self.mock_show_fwaas_firewall_policy.assert_has_calls([ mock.call(ingress_policy_id), mock.call(egress_policy_id), ]) @helpers.create_mocks({neutronclient: ('update_fwaas_firewall_group',)}) self.mock_update_fwaas_firewall_group.return_value = ret_dict self.mock_update_fwaas_firewall_group.assert_called_once_with( firewall.id, form_dict)"," @test.create_stubs({neutronclient: ('create_fwaas_firewall_rule',)}) neutronclient.create_fwaas_firewall_rule(form_dict).AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_fwaas_firewall_rules',)}) neutronclient.list_fwaas_firewall_rules().AndReturn(api_rules) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_fwaas_firewall_rules',)}) neutronclient.list_fwaas_firewall_rules( tenant_id=tenant_id, shared=False).AndReturn({'firewall_rules': []}) neutronclient.list_fwaas_firewall_rules(shared=True) \ .AndReturn(api_rules) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('show_fwaas_firewall_rule',)}) neutronclient.show_fwaas_firewall_rule(exp_rule.id).AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('update_fwaas_firewall_rule',)}) neutronclient.update_fwaas_firewall_rule( rule.id, form_dict).AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('create_fwaas_firewall_policy', )}) neutronclient.create_fwaas_firewall_policy(form_dict).\ AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_fwaas_firewall_policies', 'list_fwaas_firewall_rules')}) neutronclient.list_fwaas_firewall_policies().AndReturn(policies_dict) neutronclient.list_fwaas_firewall_rules().AndReturn(rules_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_fwaas_firewall_policies', 'list_fwaas_firewall_rules')}) neutronclient.list_fwaas_firewall_policies( tenant_id=tenant_id, shared=False).AndReturn({'firewall_policies': []}) neutronclient.list_fwaas_firewall_policies( shared=True).AndReturn(policies_dict) neutronclient.list_fwaas_firewall_rules().AndReturn(rules_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('show_fwaas_firewall_policy', 'list_fwaas_firewall_rules')}) neutronclient.show_fwaas_firewall_policy( exp_policy.id).AndReturn(ret_dict) neutronclient.list_fwaas_firewall_rules(**filters).AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('show_fwaas_firewall_policy',)}) neutronclient.show_fwaas_firewall_policy( exp_policy.id).AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('update_fwaas_firewall_policy',)}) neutronclient.update_fwaas_firewall_policy( policy.id, form_dict).AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('insert_rule_fwaas_firewall_policy',)}) neutronclient.insert_rule_fwaas_firewall_policy( policy.id, body).AndReturn(policy_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('remove_rule_fwaas_firewall_policy',)}) neutronclient.remove_rule_fwaas_firewall_policy( policy.id, body).AndReturn(policy_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('create_fwaas_firewall_group', )}) neutronclient.create_fwaas_firewall_group( form_dict).AndReturn(ret_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_fwaas_firewall_groups', 'list_fwaas_firewall_policies')}) neutronclient.list_fwaas_firewall_groups().AndReturn(firewalls_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_fwaas_firewall_groups', 'list_fwaas_firewall_policies')}) neutronclient.list_fwaas_firewall_groups(shared=False, tenant_id=tenant_id) \ .AndReturn(firewalls_dict) neutronclient.list_fwaas_firewall_groups(shared=True) \ .AndReturn(firewalls_dict) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) neutronclient.list_ports(tenant_id=tenant_id).AndReturn(dummy_ports) neutronclient.list_fwaas_firewall_groups( tenant_id=tenant_id).AndReturn({'firewall_groups': []}) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) neutronclient.list_ports(tenant_id=tenant_id).AndReturn(dummy_ports) neutronclient.list_fwaas_firewall_groups( tenant_id=tenant_id).AndReturn(used_ports) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) neutronclient.list_ports(tenant_id=tenant_id).AndReturn(dummy_ports) neutronclient.list_fwaas_firewall_groups( tenant_id=tenant_id).AndReturn({'firewall_groups': []}) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('list_ports', 'list_fwaas_firewall_groups')}) neutronclient.list_ports(tenant_id=tenant_id).AndReturn({'ports': []}) neutronclient.list_fwaas_firewall_groups( tenant_id=tenant_id).AndReturn({'firewall_groups': []}) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('show_fwaas_firewall_group', 'show_fwaas_firewall_policy')}) neutronclient.show_fwaas_firewall_group( exp_firewall.id).AndReturn(ret_dict) neutronclient.show_fwaas_firewall_policy(ingress_policy_id)\ .AndReturn({'firewall_policy': ingress_policy}) neutronclient.show_fwaas_firewall_policy(egress_policy_id)\ .AndReturn({'firewall_policy': egress_policy}) self.mox.ReplayAll() @test.create_stubs({neutronclient: ('update_fwaas_firewall_group',)}) neutronclient.update_fwaas_firewall_group( firewall.id, form_dict).AndReturn(ret_dict) self.mox.ReplayAll()",170,112
openstack%2Fneutron-fwaas-dashboard~master~I033421aeb00d97c049bec3d04da6989c811d1514,openstack/neutron-fwaas-dashboard,master,I033421aeb00d97c049bec3d04da6989c811d1514,Drop mox usage from FWaaS v1 panel tests,MERGED,2018-03-11 00:33:49.000000000,2018-04-03 14:20:24.000000000,2018-04-03 14:20:24.000000000,"[{'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-11 00:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/670a83761ae2e0efede4fba0a3f157233aa6c0b4', 'message': 'Drop mox usage from FWaaS v1 panel tests\n\nNote that test_add_firewall_post_with_router_extension() is also fixed\nbecause we need to post unassociated router IDs to the form of creating\na new firewall but the previous test sends associated router ID.\nThis fix is required to pass the test after mock is used.\nI am not sure why the test succeeded with mox though....\n\nAlso cleans up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I033421aeb00d97c049bec3d04da6989c811d1514\n'}, {'number': 2, 'created': '2018-03-23 07:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/6fbf40075437e3c74225bfb5a9dd7678c117098f', 'message': 'Drop mox usage from FWaaS v1 panel tests\n\nNote that test_add_firewall_post_with_router_extension() is also fixed\nbecause we need to post unassociated router IDs to the form of creating\na new firewall but the previous test sends associated router ID.\nThis fix is required to pass the test after mock is used.\nI am not sure why the test succeeded with mox though....\n\nAlso cleans up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I033421aeb00d97c049bec3d04da6989c811d1514\n'}, {'number': 3, 'created': '2018-03-28 04:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/a009e8448bcf279b81299fa9d11bedb87caad151', 'message': 'Drop mox usage from FWaaS v1 panel tests\n\nNote that test_add_firewall_post_with_router_extension() is also fixed\nbecause we need to post unassociated router IDs to the form of creating\na new firewall but the previous test sends associated router ID.\nThis fix is required to pass the test after mock is used.\nI am not sure why the test succeeded with mox though....\n\nAlso cleans up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I033421aeb00d97c049bec3d04da6989c811d1514\n'}, {'number': 4, 'created': '2018-03-28 06:04:39.000000000', 'files': ['neutron_fwaas_dashboard/dashboards/project/firewalls/tests.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/b17392b5fa37a4bed1159d86f06f07e451aab41d', 'message': 'Drop mox usage from FWaaS v1 panel tests\n\nNote that test_add_firewall_post_with_router_extension() is also fixed\nbecause we need to post unassociated router IDs to the form of creating\na new firewall but the previous test sends associated router ID.\nThis fix is required to pass the test after mock is used.\nI am not sure why the test succeeded with mox though....\n\nAlso cleans up unnecessary mocked methods.\n\nThis is part of mox-removal community goal in Rocky.\nPartial-Bug: #1753504\n\nChange-Id: I033421aeb00d97c049bec3d04da6989c811d1514\n'}]",0,551721,b17392b5fa37a4bed1159d86f06f07e451aab41d,15,3,4,841,,,0,"Drop mox usage from FWaaS v1 panel tests

Note that test_add_firewall_post_with_router_extension() is also fixed
because we need to post unassociated router IDs to the form of creating
a new firewall but the previous test sends associated router ID.
This fix is required to pass the test after mock is used.
I am not sure why the test succeeded with mox though....

Also cleans up unnecessary mocked methods.

This is part of mox-removal community goal in Rocky.
Partial-Bug: #1753504

Change-Id: I033421aeb00d97c049bec3d04da6989c811d1514
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/21/551721/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/dashboards/project/firewalls/tests.py'],1,670a83761ae2e0efede4fba0a3f157233aa6c0b4,mox-removal,"import mockfrom openstack_dashboard.test import helpers use_mox = False def setup_mocks(self, fwaas_router_extension=True): self.mock_is_extension_supported.return_value = fwaas_router_extension self.mock_rule_list_for_tenant.return_value = self.fw_rules.list() self.mock_policy_list_for_tenant.return_value = policies self.mock_firewall_list_for_tenant.return_value = firewalls self.mock_firewall_unassociated_routers_list.return_value = routers def check_mocks(self, fwaas_router_extension=True): self.assert_mock_multiple_calls_with_same_arguments( self.mock_is_extension_supported, 5, mock.call(helpers.IsHttpRequest(), 'fwaasrouterinsertion')) self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.assert_mock_multiple_calls_with_same_arguments( self.mock_firewall_unassociated_routers_list, 2, mock.call(helpers.IsHttpRequest(), tenant_id)) def setup_mocks_with_exception(self): self.mock_is_extension_supported.return_value = True self.mock_rule_list_for_tenant.side_effect = self.exceptions.neutron self.mock_policy_list_for_tenant.side_effect = self.exceptions.neutron self.mock_firewall_list_for_tenant.side_effect = \ self.exceptions.neutron def check_mocks_with_exception(self): tenant_id = self.tenant.id self.mock_is_extension_supported.assert_called_once_with( helpers.IsHttpRequest(), 'fwaasrouterinsertion') self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) @helpers.create_mocks({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant', 'firewall_unassociated_routers_list',), api.neutron: ('is_extension_supported',), }) def test_index_firewalls(self): self.setup_mocks() self.check_mocks() @helpers.create_mocks({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant', 'firewall_unassociated_routers_list',), api.neutron: ('is_extension_supported',), }) def test_index_policies(self): self.setup_mocks() self.check_mocks() @helpers.create_mocks({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant', 'firewall_unassociated_routers_list',), api.neutron: ('is_extension_supported',), }) def test_index_rules(self): self.setup_mocks() self.check_mocks() @helpers.create_mocks({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api.neutron: ('is_extension_supported',), }) def test_index_exception_firewalls(self): self.setup_mocks_with_exception() self.check_mocks_with_exception() @helpers.create_mocks({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api.neutron: ('is_extension_supported',), }) def test_index_exception_policies(self): self.setup_mocks_with_exception() self.check_mocks_with_exception() @helpers.create_mocks({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api.neutron: ('is_extension_supported',), }) def test_index_exception_rules(self): self.setup_mocks_with_exception() self.check_mocks_with_exception() @helpers.create_mocks({api_fwaas: ('rule_create',), }) self.mock_rule_create.return_value = rule1 self.mock_rule_create.assert_called_once_with( helpers.IsHttpRequest(), **form_data) @helpers.create_mocks({api_fwaas: ('rule_create',), }) self.mock_rule_create.return_value = rule1 data = form_data.copy() data['source_ip_address'] = None data['source_port'] = None self.mock_rule_create.assert_called_once_with( helpers.IsHttpRequest(), **data) @helpers.create_mocks({api_fwaas: ('rule_create',), }) self.mock_rule_create.return_value = rule1 data = form_data.copy() data['destination_ip_address'] = None data['destination_port'] = None self.mock_rule_create.assert_called_once_with( helpers.IsHttpRequest(), **data) @helpers.create_mocks({api_fwaas: ('policy_create', 'rule_list_for_tenant'), }) self.mock_rule_list_for_tenant.return_value = rules self.mock_policy_create.return_value = policy self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_policy_create.assert_called_once_with( helpers.IsHttpRequest(), **form_data) @helpers.create_mocks({api_fwaas: ('rule_list_for_tenant',), }) self.mock_rule_list_for_tenant.return_value = rules self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) @helpers.create_mocks({api_fwaas: ('firewall_create', 'policy_list_for_tenant', 'firewall_list_for_tenant',), api.neutron: ('is_extension_supported', 'router_list'), }) data = form_data.copy() if router_extension: # Lookup for unassociated router(s) associated = [] for fw in firewalls: associated += fw.router_ids unassociated = [r.id for r in routers if r.id not in associated] form_data['router'] = unassociated data['router_ids'] = unassociated self.mock_router_list.return_value = routers self.mock_firewall_list_for_tenant.return_value = firewalls self.mock_is_extension_supported.return_value = router_extension self.mock_policy_list_for_tenant.return_value = policies self.mock_firewall_create.return_value = firewall # self.assertRedirectsNoFollow(res, str(self.INDEX_URL)) if router_extension: self.mock_router_list.assert_called_once_with( helpers.IsHttpRequest(), tenant_id=tenant_id) self.mock_firewall_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id=tenant_id) else: self.mock_router_list.assert_not_called() self.mock_firewall_list_for_tenant.assert_not_called() self.mock_is_extension_supported.assert_called_once_with( helpers.IsHttpRequest(), 'fwaasrouterinsertion') self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_create.assert_called_once_with( helpers.IsHttpRequest(), **data) @helpers.create_mocks({api_fwaas: ('policy_list_for_tenant',), api.neutron: ('is_extension_supported',), }) self.mock_is_extension_supported.return_value = False self.mock_policy_list_for_tenant.return_value = policies self.mock_is_extension_supported.assert_called_once_with( helpers.IsHttpRequest(), 'fwaasrouterinsertion') self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) @helpers.create_mocks({api_fwaas: ('rule_get',)}) self.mock_rule_get.return_value = rule self.mock_rule_get.assert_called_once_with(helpers.IsHttpRequest(), rule.id) @helpers.create_mocks({api_fwaas: ('rule_get', 'rule_update')}) self.mock_rule_get.return_value = rule self.mock_rule_update.return_value = rule self.mock_rule_get.assert_called_once_with( helpers.IsHttpRequest(), rule.id) self.mock_rule_update.assert_called_once_with( helpers.IsHttpRequest(), rule.id, **data) @helpers.create_mocks({api_fwaas: ('rule_get', 'rule_update')}) self.mock_rule_get.return_value = rule self.mock_rule_update.return_value = rule self.mock_rule_get.assert_called_once_with( helpers.IsHttpRequest(), rule.id) self.mock_rule_update.assert_called_once_with( helpers.IsHttpRequest(), rule.id, **data) @helpers.create_mocks({api_fwaas: ('rule_get', 'rule_update')}) self.mock_rule_get.return_value = rule self.mock_rule_update.return_value = rule self.mock_rule_get.assert_called_once_with( helpers.IsHttpRequest(), rule.id) self.mock_rule_update.assert_called_once_with( helpers.IsHttpRequest(), rule.id, **data) @helpers.create_mocks({api_fwaas: ('policy_get',)}) self.mock_policy_get.return_value = policy self.mock_policy_get.assert_called_once_with( helpers.IsHttpRequest(), policy.id) @helpers.create_mocks({api_fwaas: ('policy_get', 'policy_update')}) self.mock_policy_get.return_value = policy self.mock_policy_update.return_value = policy self.mock_policy_get.assert_called_once_with( helpers.IsHttpRequest(), policy.id) self.mock_policy_update.assert_called_once_with( helpers.IsHttpRequest(), policy.id, **data) @helpers.create_mocks({api_fwaas: ('firewall_get', 'policy_list_for_tenant')}) self.mock_policy_list_for_tenant.return_value = policies self.mock_firewall_get.return_value = firewall self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_get.assert_called_once_with( helpers.IsHttpRequest(), firewall.id) @helpers.create_mocks({api_fwaas: ('firewall_get', 'policy_list_for_tenant', 'firewall_update')}) policies = self.fw_policies.list() self.mock_firewall_get.return_value = firewall self.mock_policy_list_for_tenant.return_value = policies self.mock_firewall_update.return_value = firewall self.mock_firewall_get.assert_called_once_with( helpers.IsHttpRequest(), firewall.id) self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_update.assert_called_once_with( helpers.IsHttpRequest(), firewall.id, **data) @helpers.create_mocks({api_fwaas: ('policy_get', 'policy_insert_rule', 'rule_list_for_tenant', 'rule_get')}) self.mock_policy_get.return_value = policy self.mock_rule_list_for_tenant.return_value = rules self.mock_rule_get.return_value = rules[2] self.mock_policy_insert_rule.return_value = policy self.mock_policy_get.assert_called_once_with( helpers.IsHttpRequest(), policy.id) self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_rule_get.assert_called_once_with( helpers.IsHttpRequest(), new_rule_id) self.mock_policy_insert_rule.assert_called_once_with( helpers.IsHttpRequest(), policy.id, **data) @helpers.create_mocks({api_fwaas: ('policy_get', 'policy_remove_rule', 'rule_list_for_tenant', 'rule_get')}) self.mock_policy_get.return_value = policy self.mock_rule_list_for_tenant.return_value = rules self.mock_rule_get.return_value = rules[0] self.mock_policy_remove_rule.return_value = after_remove_policy self.mock_policy_get.assert_called_once_with( helpers.IsHttpRequest(), policy.id) self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_rule_get.assert_called_once_with( helpers.IsHttpRequest(), remove_rule_id) self.mock_policy_remove_rule.assert_called_once_with( helpers.IsHttpRequest(), policy.id, **data) @helpers.create_mocks({api_fwaas: ('firewall_get', 'firewall_list_for_tenant', 'firewall_update', 'firewall_unassociated_routers_list')}) self.mock_firewall_get.return_value = firewall self.mock_firewall_unassociated_routers_list.return_value = routers self.mock_firewall_update.return_value = firewall self.mock_firewall_get.assert_called_once_with( helpers.IsHttpRequest(), firewall.id) self.mock_firewall_unassociated_routers_list.assert_called_once_with( helpers.IsHttpRequest(), tenant_id) self.mock_firewall_update.assert_called_once_with( helpers.IsHttpRequest(), firewall.id, **post_data) @helpers.create_mocks({api_fwaas: ('firewall_get', 'firewall_update'), api.neutron: ('router_list',), }) self.mock_firewall_get.return_value = firewall self.mock_router_list.return_value = routers self.mock_firewall_update.return_value = firewall self.mock_firewall_get.assert_called_once_with( helpers.IsHttpRequest(), firewall.id) api.neutron.router_list.assert_called_once_with( helpers.IsHttpRequest(), tenant_id=tenant_id) self.mock_firewall_update.assert_called_once_with( helpers.IsHttpRequest(), firewall.id, **form_data) @helpers.create_mocks({api_fwaas: ('rule_list_for_tenant', 'rule_delete'), api.neutron: ('is_extension_supported',)}) def test_delete_rule(self): self.mock_is_extension_supported.return_value = True self.mock_rule_list_for_tenant.return_value = self.fw_rules.list() self.mock_rule_delete.return_value = None self.mock_is_extension_supported.assert_called_once_with( helpers.IsHttpRequest(), 'fwaasrouterinsertion') self.mock_rule_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), self.tenant.id) self.mock_rule_delete.assert_called_once_with( helpers.IsHttpRequest(), rule.id) @helpers.create_mocks({api_fwaas: ('policy_list_for_tenant', 'policy_delete'), api.neutron: ('is_extension_supported',)}) def test_delete_policy(self): self.mock_is_extension_supported.return_value = True self.mock_policy_list_for_tenant.return_value = self.fw_policies.list() self.mock_policy_delete.return_value = None api.neutron.is_extension_supported.assert_called_once_with( helpers.IsHttpRequest(), 'fwaasrouterinsertion') self.mock_policy_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), self.tenant.id) self.mock_policy_delete.assert_called_once_with( helpers.IsHttpRequest(), policy.id) @helpers.create_mocks({api_fwaas: ('firewall_list_for_tenant', 'firewall_delete'), api.neutron: ('is_extension_supported',)}) self.mock_firewall_list_for_tenant.return_value = [fwl] self.mock_firewall_delete.return_value = None self.mock_is_extension_supported.return_value = False self.mock_firewall_list_for_tenant.assert_called_once_with( helpers.IsHttpRequest(), self.tenant.id) self.mock_firewall_delete.assert_called_once_with( helpers.IsHttpRequest(), fwl.id) self.mock_is_extension_supported.assert_called_once_with( helpers.IsHttpRequest(), 'fwaasrouterinsertion')","from mox3.mox import IsAfrom django import http class AttributeDict(dict): def __getattr__(self, attr): return self[attr] def __setattr__(self, attr, value): self[attr] = value def set_up_expect(self, fwaas_router_extension=True): # retrieve rules tenant_id = self.tenant.id api.neutron.is_extension_supported( IsA(http.HttpRequest), 'fwaasrouterinsertion' ).MultipleTimes().AndReturn(fwaas_router_extension) api_fwaas.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(self.fw_rules.list()) # retrieves policies api_fwaas.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) # retrieves firewalls api_fwaas.firewall_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(firewalls) api_fwaas.firewall_unassociated_routers_list( IsA(http.HttpRequest), tenant_id).\ MultipleTimes().AndReturn(routers) def set_up_expect_with_exception(self): api.neutron.is_extension_supported( IsA(http.HttpRequest), 'fwaasrouterinsertion').AndReturn(True) api_fwaas.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndRaise(self.exceptions.neutron) api_fwaas.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndRaise(self.exceptions.neutron) api_fwaas.firewall_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndRaise(self.exceptions.neutron) @test.create_stubs({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant', 'firewall_unassociated_routers_list',), api.neutron: ('is_extension_supported',), }) def test_index_firewalls(self): self.set_up_expect() self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant', 'firewall_unassociated_routers_list',), api.neutron: ('is_extension_supported',), }) def test_index_policies(self): self.set_up_expect() self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant', 'firewall_unassociated_routers_list',), api.neutron: ('is_extension_supported',), }) def test_index_rules(self): self.set_up_expect() self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api.neutron: ('is_extension_supported',), }) def test_index_exception_firewalls(self): self.set_up_expect_with_exception() self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api.neutron: ('is_extension_supported',), }) def test_index_exception_policies(self): self.set_up_expect_with_exception() self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_list_for_tenant', 'policy_list_for_tenant', 'rule_list_for_tenant'), api.neutron: ('is_extension_supported',), }) def test_index_exception_rules(self): self.set_up_expect_with_exception() self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_create',), }) api_fwaas.rule_create( IsA(http.HttpRequest), **form_data).AndReturn(rule1) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_create',), }) api_fwaas.rule_create( IsA(http.HttpRequest), **form_data).AndReturn(rule1) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_create',), }) api_fwaas.rule_create( IsA(http.HttpRequest), **form_data).AndReturn(rule1) self.mox.ReplayAll() self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('policy_create', 'rule_list_for_tenant'), }) api_fwaas.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) api_fwaas.policy_create( IsA(http.HttpRequest), **form_data).AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('policy_create', 'rule_list_for_tenant'), }) api_fwaas.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) self.mox.ReplayAll() if router_extension: form_data['router_ids'] = firewall.router_ids api.neutron.router_list( IsA(http.HttpRequest), tenant_id=tenant_id).AndReturn(routers) api_fwaas.firewall_list_for_tenant( IsA(http.HttpRequest), tenant_id=tenant_id).AndReturn(firewalls) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'fwaasrouterinsertion').AndReturn(router_extension) api_fwaas.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) api_fwaas.firewall_create( IsA(http.HttpRequest), **form_data).AndReturn(firewall) self.mox.ReplayAll() self.assertRedirectsNoFollow(res, str(self.INDEX_URL)) @test.create_stubs({api_fwaas: ('firewall_create', 'policy_list_for_tenant',), api.neutron: ('is_extension_supported',), }) @test.create_stubs({api_fwaas: ('firewall_create', 'policy_list_for_tenant', 'firewall_list_for_tenant',), api.neutron: ('is_extension_supported', 'router_list'), }) @test.create_stubs({api_fwaas: ('firewall_create', 'policy_list_for_tenant',), api.neutron: ('is_extension_supported',), }) api.neutron.is_extension_supported( IsA(http.HttpRequest), 'fwaasrouterinsertion').AndReturn(False) api_fwaas.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_get',)}) api_fwaas.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_get', 'rule_update')}) api_fwaas.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) api_fwaas.rule_update(IsA(http.HttpRequest), rule.id, **data)\ .AndReturn(rule) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_get', 'rule_update')}) api_fwaas.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) api_fwaas.rule_update(IsA(http.HttpRequest), rule.id, **data)\ .AndReturn(rule) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_get', 'rule_update')}) api_fwaas.rule_get(IsA(http.HttpRequest), rule.id).AndReturn(rule) api_fwaas.rule_update(IsA(http.HttpRequest), rule.id, **data)\ .AndReturn(rule) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('policy_get',)}) api_fwaas.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('policy_get', 'policy_update', 'rule_list_for_tenant')}) api_fwaas.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) api_fwaas.policy_update(IsA(http.HttpRequest), policy.id, **data)\ .AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_get', 'policy_list_for_tenant')}) api_fwaas.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) api_fwaas.firewall_get(IsA(http.HttpRequest), firewall.id).AndReturn(firewall) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_get', 'policy_list_for_tenant', 'firewall_update')}) api_fwaas.firewall_get(IsA(http.HttpRequest), firewall.id).AndReturn(firewall) policies = self.fw_policies.list() api_fwaas.policy_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(policies) api_fwaas.firewall_update(IsA(http.HttpRequest), firewall.id, **data)\ .AndReturn(firewall) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('policy_get', 'policy_insert_rule', 'rule_list_for_tenant', 'rule_get')}) api_fwaas.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) api_fwaas.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) api_fwaas.rule_get( IsA(http.HttpRequest), new_rule_id).AndReturn(rules[2]) api_fwaas.policy_insert_rule(IsA(http.HttpRequest), policy.id, **data)\ .AndReturn(policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('policy_get', 'policy_remove_rule', 'rule_list_for_tenant', 'rule_get')}) api_fwaas.policy_get(IsA(http.HttpRequest), policy.id).AndReturn(policy) api_fwaas.rule_list_for_tenant( IsA(http.HttpRequest), tenant_id).AndReturn(rules) api_fwaas.rule_get( IsA(http.HttpRequest), remove_rule_id).AndReturn(rules[0]) api_fwaas.policy_remove_rule(IsA(http.HttpRequest), policy.id, **data)\ .AndReturn(after_remove_policy) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_get', 'firewall_list_for_tenant', 'firewall_update', 'firewall_unassociated_routers_list')}) api_fwaas.firewall_get( IsA(http.HttpRequest), firewall.id).AndReturn(firewall) api_fwaas.firewall_unassociated_routers_list( IsA(http.HttpRequest), tenant_id).AndReturn(routers) api_fwaas.firewall_update( IsA(http.HttpRequest), firewall.id, **post_data).AndReturn(firewall) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_get', 'firewall_update'), api.neutron: ('router_list',), }) api_fwaas.firewall_get( IsA(http.HttpRequest), firewall.id).AndReturn(firewall) api.neutron.router_list( IsA(http.HttpRequest), tenant_id=tenant_id).AndReturn(routers) api_fwaas.firewall_update( IsA(http.HttpRequest), firewall.id, **form_data).AndReturn(firewall) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('rule_list_for_tenant', 'rule_delete'), api.neutron: ('is_extension_supported',)}) def test_delete_rule(self): api.neutron.is_extension_supported( IsA(http.HttpRequest), 'fwaasrouterinsertion').AndReturn(True) api_fwaas.rule_list_for_tenant( IsA(http.HttpRequest), self.tenant.id).AndReturn(self.fw_rules.list()) api_fwaas.rule_delete(IsA(http.HttpRequest), rule.id) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('policy_list_for_tenant', 'policy_delete'), api.neutron: ('is_extension_supported',)}) def test_delete_policy(self): api.neutron.is_extension_supported( IsA(http.HttpRequest), 'fwaasrouterinsertion').AndReturn(True) api_fwaas.policy_list_for_tenant( IsA(http.HttpRequest), self.tenant.id).AndReturn(self.fw_policies.list()) api_fwaas.policy_delete(IsA(http.HttpRequest), policy.id) self.mox.ReplayAll() @test.create_stubs({api_fwaas: ('firewall_list_for_tenant', 'firewall_delete'), api.neutron: ('is_extension_supported', 'router_list',)}) api_fwaas.firewall_list_for_tenant( IsA(http.HttpRequest), self.tenant.id).AndReturn([fwl]) api_fwaas.firewall_delete(IsA(http.HttpRequest), fwl.id) self.mox.ReplayAll()",315,290
openstack%2Fmistral~master~I94707368dbfe363a2b909985d3bd24dbae8e67f6,openstack/mistral,master,I94707368dbfe363a2b909985d3bd24dbae8e67f6,Add new indexes to optimize `task().result` expression function,MERGED,2018-03-21 21:41:22.000000000,2018-04-03 14:19:18.000000000,2018-04-03 14:19:18.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 21:41:22.000000000', 'files': ['mistral/db/sqlalchemy/migration/alembic_migrations/versions/026_optimize_task_expression_func.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/328bb2cd8eb55d1a1627f96c7a8ab77972ab49c9', 'message': 'Add new indexes to optimize `task().result` expression function\n\nChange-Id: I94707368dbfe363a2b909985d3bd24dbae8e67f6\n'}]",0,555066,328bb2cd8eb55d1a1627f96c7a8ab77972ab49c9,9,3,1,27008,,,0,"Add new indexes to optimize `task().result` expression function

Change-Id: I94707368dbfe363a2b909985d3bd24dbae8e67f6
",git fetch https://review.opendev.org/openstack/mistral refs/changes/66/555066/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/db/sqlalchemy/migration/alembic_migrations/versions/026_optimize_task_expression_func.py'],1,328bb2cd8eb55d1a1627f96c7a8ab77972ab49c9,fix/new_indexes,"# Copyright 2018 OpenStack Foundation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Optimize task expression function Revision ID: 026 Revises: 025 Create Date: 2018-22-03 15:23:04.904251 """""" # revision identifiers, used by Alembic. revision = '026' down_revision = '025' from alembic import op def upgrade(): op.create_index('action_executions_v2_task_execution_id', 'action_executions_v2', ['task_execution_id']) op.create_index('workflow_executions_v2_task_execution_id', 'workflow_executions_v2', ['task_execution_id']) ",,37,0
openstack%2Fironic~stable%2Focata~I46d94c29f858977604c0a3430257eca2bee977e3,openstack/ironic,stable/ocata,I46d94c29f858977604c0a3430257eca2bee977e3,Gate: run ironic tests in the regular multinode job,MERGED,2018-03-28 16:56:31.000000000,2018-04-03 14:19:12.000000000,2018-04-03 14:19:12.000000000,"[{'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 16:56:31.000000000', 'files': ['playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a88bd7cbcdc1b711db3f35a7919507f6cc992058', 'message': ""Gate: run ironic tests in the regular multinode job\n\nWe don't specify any regex for this job, so it runs some tests.\nThey only include test_network_basic_ops, which does not check that\nmultitenancy is in effect. We have a test for it in ironic-tempest-plugin,\nbut it does not run anywhere. There is a neutron test for the same,\nbut it's not a smoke test and it has been skipped for quite some time.\n\nThis change switches this job to the run the following tests:\n* all ironic tests (that are not skipped for any reason)\n* multinode tests from Nova\n\nUnfortunately, this patch uncovers that we don't run any tests for\nnetwork attach/detach in practice. The devstack plugin has to be updated\nfirst to support more than one port per node. A TODO is left in the playbook.\n\nChange-Id: I46d94c29f858977604c0a3430257eca2bee977e3\n(cherry picked from commit 5f03daf21f705a1002a4e06393b803005a8921cd)\n""}]",0,557439,a88bd7cbcdc1b711db3f35a7919507f6cc992058,12,8,1,10239,,,0,"Gate: run ironic tests in the regular multinode job

We don't specify any regex for this job, so it runs some tests.
They only include test_network_basic_ops, which does not check that
multitenancy is in effect. We have a test for it in ironic-tempest-plugin,
but it does not run anywhere. There is a neutron test for the same,
but it's not a smoke test and it has been skipped for quite some time.

This change switches this job to the run the following tests:
* all ironic tests (that are not skipped for any reason)
* multinode tests from Nova

Unfortunately, this patch uncovers that we don't run any tests for
network attach/detach in practice. The devstack plugin has to be updated
first to support more than one port per node. A TODO is left in the playbook.

Change-Id: I46d94c29f858977604c0a3430257eca2bee977e3
(cherry picked from commit 5f03daf21f705a1002a4e06393b803005a8921cd)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/557439/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml'],1,a88bd7cbcdc1b711db3f35a7919507f6cc992058,multinode-stable/ocata," # Run all ironic tests and the multinode smoke test from nova. # TODO(dtantsur): add test_attach_interfaces from nova when our # devstack plugin creates more than one port per node. export DEVSTACK_GATE_TEMPEST_REGEX=""(ironic|test_schedule_to_all_nodes)""",,4,0
openstack%2Fneutron~master~I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427,openstack/neutron,master,I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427,WIP: Support vlan transparent network for ml2 ovs driver,ABANDONED,2016-07-15 11:45:56.000000000,2018-04-03 14:14:00.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 4656}, {'_account_id': 5170}, {'_account_id': 7448}, {'_account_id': 8976}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 10386}, {'_account_id': 10652}, {'_account_id': 12021}, {'_account_id': 14208}, {'_account_id': 14323}, {'_account_id': 14605}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 18785}, {'_account_id': 20378}, {'_account_id': 21784}, {'_account_id': 22740}, {'_account_id': 25900}]","[{'number': 1, 'created': '2016-07-15 11:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/255b281b5bb2f59e3c071bd7099de4a35792cb6e', 'message': ""Add support for QinQ\n\nSince there's effor in ovs community to add QinQ support,\nthis patch is to add QinQ support in nuetron for ovs agent.\n\nThis patch uses the already exist property vlan_transparent of network\nto indicate that corresponding ovs port needs to be configure to QinQ\nmode.\nEnable vlan_transparent in neutron.conf, then specify vlan_transparent\nas True when create the network.\n\nChange-Id: I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427\n""}, {'number': 2, 'created': '2016-07-15 15:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/930e45af4320d7a17bed6c8659cfd200ed50640e', 'message': ""WIP: Add support for QinQ\n\nSince there's effor in ovs community to add QinQ support,\nthis patch is to add QinQ support in nuetron for ovs agent.\n\nThis patch uses the already exist property vlan_transparent of network\nto indicate that corresponding ovs port needs to be configure to QinQ\nmode.\nEnable vlan_transparent in neutron.conf, then specify vlan_transparent\nas True when create the network.\n\nChange-Id: I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427\n""}, {'number': 3, 'created': '2016-07-15 15:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0060a03058144528473516c3a71c1c233c98dde3', 'message': ""WIP: Add support for QinQ\n\nSince there's effor in ovs community to add QinQ support,\nthis patch is to add QinQ support in nuetron for ovs agent.\n\nThis patch uses the already exist property vlan_transparent of network\nto indicate that corresponding ovs port needs to be configure to QinQ\nmode.\nEnable vlan_transparent in neutron.conf, then specify vlan_transparent\nas True when create the network.\n\nChange-Id: I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427\n""}, {'number': 4, 'created': '2016-07-20 02:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70c1f13ad2c25f45d352b0bd40f6ca7d67eb0a55', 'message': ""WIP: Support vlan transparent network for ml2 ovs driver\n\nThere's progress in ovs community to add QinQ support, this patch leverages\nthe effort in ovs community to add QinQ support, in order to enable\nvlan transparent networks when using the openvswitch ML2 driver.\n\nThis patch uses the already existing property vlan_transparent of network\nto indicates that corresponding ovs port needs to be configure to QinQ mode.\n\nChange-Id: I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427\nCloses-bug: #1604222\n""}, {'number': 5, 'created': '2016-07-20 06:35:22.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/767827950bb2b21c3fbe418267f10ce614106bed', 'message': ""WIP: Support vlan transparent network for ml2 ovs driver\n\nThere's progress in ovs community to add QinQ support, this patch leverages\nthe effort in ovs community to add QinQ support, in order to enable\nvlan transparent networks when using the openvswitch ML2 driver.\n\nThis patch uses the already existing property vlan_transparent of network\nto indicates that corresponding ovs port needs to be configure to QinQ mode.\n\nChange-Id: I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427\nCloses-bug: #1604222\n""}]",13,342755,767827950bb2b21c3fbe418267f10ce614106bed,67,21,5,18785,,,0,"WIP: Support vlan transparent network for ml2 ovs driver

There's progress in ovs community to add QinQ support, this patch leverages
the effort in ovs community to add QinQ support, in order to enable
vlan transparent networks when using the openvswitch ML2 driver.

This patch uses the already existing property vlan_transparent of network
to indicates that corresponding ovs port needs to be configure to QinQ mode.

Change-Id: I741eb7ebe9a97e1fcca1ee31bfbc16205f8f6427
Closes-bug: #1604222
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/342755/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/rpc.py', 'neutron/plugins/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/mech_driver/mech_openvswitch.py']",4,255b281b5bb2f59e3c071bd7099de4a35792cb6e,bug/1604222," """"""Currently Openvswitch driver supports vlan transparency."""""" return True"," """"""Currently Openvswitch driver doesn't support vlan transparency."""""" return False",22,6
openstack%2Ftripleo-quickstart~master~Ib18cfb69dc21db7909eba98a5def46623dc1d542,openstack/tripleo-quickstart,master,Ib18cfb69dc21db7909eba98a5def46623dc1d542,Use skippy stdout callback for ansible.cfg,ABANDONED,2017-06-26 15:06:01.000000000,2018-04-03 14:13:36.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 11391}, {'_account_id': 11491}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-06-26 15:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f8f21647f94f88ba4e1b0f47859f2fd5af389a5e', 'message': 'Use skippy stdout callback for ansible.cfg\n\nReduce deployment logs by squashing details\nfor skipped tasks\n\nRelated-bug: #1698172\n\nChange-Id: Ib18cfb69dc21db7909eba98a5def46623dc1d542\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2018-03-30 15:36:37.000000000', 'files': ['ansible.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7e546c492e3b3b84676f14410dc1e5d0f7df9d30', 'message': 'Use skippy stdout callback for ansible.cfg\n\nReduce deployment logs by squashing details\nfor skipped tasks\n\nRelated-bug: #1698172\n\nChange-Id: Ib18cfb69dc21db7909eba98a5def46623dc1d542\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,477569,7e546c492e3b3b84676f14410dc1e5d0f7df9d30,27,14,2,6926,,,0,"Use skippy stdout callback for ansible.cfg

Reduce deployment logs by squashing details
for skipped tasks

Related-bug: #1698172

Change-Id: Ib18cfb69dc21db7909eba98a5def46623dc1d542
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/69/477569/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible.cfg'],1,f8f21647f94f88ba4e1b0f47859f2fd5af389a5e,bug/1698172,stdout_callback = skippy,,1,0
openstack%2Ftripleo-validations~stable%2Fpike~I58e8da19ee7d83921b2eb63024bb37df6e501be3,openstack/tripleo-validations,stable/pike,I58e8da19ee7d83921b2eb63024bb37df6e501be3,Fix MySQL Open Files Limit validation,MERGED,2018-03-22 11:22:09.000000000,2018-04-03 14:00:46.000000000,2018-04-03 14:00:46.000000000,"[{'_account_id': 9317}, {'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-22 11:22:09.000000000', 'files': ['validations/mysql-open-files-limit.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/77e3e1b4d008a29ac28b87ebbcbe740f59dcab9f', 'message': 'Fix MySQL Open Files Limit validation\n\nThe MySQL Open Files Limit validation still checks the mysql config path that\nwas used before the service was containerized, which is making the validation\nfail. This patch adds the correct path to the validation.\n\nChange-Id: I58e8da19ee7d83921b2eb63024bb37df6e501be3\nCloses-Bug: #1757409\n(cherry picked from commit 21e6ba6cb73b61bd4063cc34bbf8cbeda287d7d5)\n'}]",0,555258,77e3e1b4d008a29ac28b87ebbcbe740f59dcab9f,13,5,1,17888,,,0,"Fix MySQL Open Files Limit validation

The MySQL Open Files Limit validation still checks the mysql config path that
was used before the service was containerized, which is making the validation
fail. This patch adds the correct path to the validation.

Change-Id: I58e8da19ee7d83921b2eb63024bb37df6e501be3
Closes-Bug: #1757409
(cherry picked from commit 21e6ba6cb73b61bd4063cc34bbf8cbeda287d7d5)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/58/555258/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/mysql-open-files-limit.yaml'],1,77e3e1b4d008a29ac28b87ebbcbe740f59dcab9f,bug/1757409-stable/pike, mysql_variables: variable=open_files_limit config_file=/var/lib/config-data/mysql/root/.my.cnf, mysql_variables: variable=open_files_limit,1,1
openstack%2Fhorizon~master~I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d,openstack/horizon,master,I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d,Speed up quotas fetching using futurist library,MERGED,2017-07-14 14:06:30.000000000,2018-04-03 13:40:30.000000000,2018-04-03 13:40:30.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 14151}, {'_account_id': 16628}, {'_account_id': 22348}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-07-14 14:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9b685c867936e9914b1cba9ffca86551408e7ba7', 'message': 'WIP Speed up horizon using futurist library\n\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}, {'number': 2, 'created': '2017-08-17 10:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9bad964e9dbb89a1f6b9e71cbbe373f0991ac61d', 'message': 'WIP Speed up horizon using futurist library\n\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}, {'number': 3, 'created': '2017-08-17 10:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9acf882aa57bb6e6dd4961a4765a1f58d5d3886b', 'message': 'WIP Speed up horizon using futurist library\n\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}, {'number': 4, 'created': '2017-08-17 10:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bd5e7cf208e96859ba9ee078f850dffadbdad931', 'message': 'WIP Speed up horizon using futurist library\n\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}, {'number': 5, 'created': '2017-08-18 11:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6c2978dd6ee01cd1df1b78d27e7f34d167f9e49a', 'message': 'Speed up quotas fetching using futurist library\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}, {'number': 6, 'created': '2017-08-29 15:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bc02acb927b07daf046981b43f41266bffe9d869', 'message': 'Speed up quotas fetching using futurist library\n\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}, {'number': 7, 'created': '2017-09-19 10:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/02000968e3c6c7db028d14b052a58aeccf755a87', 'message': 'Speed up quotas fetching using futurist library\n\nPartial-implements: blueprint fetch-resources-in-parallel\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}, {'number': 8, 'created': '2018-03-15 11:01:19.000000000', 'files': ['openstack_dashboard/usage/quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b12264140c0de6b1341b1e4915e5860a94cd42d4', 'message': 'Speed up quotas fetching using futurist library\n\nPartial-implements: blueprint fetch-resources-in-parallel\nCo-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>\nChange-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d\n'}]",1,483948,b12264140c0de6b1341b1e4915e5860a94cd42d4,27,10,8,23602,,,0,"Speed up quotas fetching using futurist library

Partial-implements: blueprint fetch-resources-in-parallel
Co-Authored-By: Ivan Kolodyazhny <e0ne@e0ne.info>
Change-Id: I95f02f16b3d3dcbc1dff60d7fb35d31016e8679d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/48/483948/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/cgroups/templates/cgroups/_snapshot_limits.html', 'openstack_dashboard/dashboards/project/volumes/views.py', 'openstack_dashboard/usage/quotas.py']",3,9b685c867936e9914b1cba9ffca86551408e7ba7,bp/fetch-resources-in-parallel,"import futurist # it makes to have an opportunity to divide calls into different green threads # and not to have common resourse volume_qs = [] compute_qs = [] def _task_get_compute_quotasets(): if tenant_mode: compute_qs.append(nova.tenant_quota_get(request, tenant_id)) else: compute_qs.append(nova.default_quota_get(request, tenant_id)) def _task_get_volume_quotasets(): volume_qs.append(cinder.tenant_quota_get(request, tenant_id)) else: volume_qs.append(cinder.default_quota_get(request, tenant_id)) with futurist.GreenThreadPoolExecutor(max_workers=2) as e: if NOVA_QUOTA_FIELDS - disabled_quotas: e.submit(fn=_task_get_compute_quotasets) if CINDER_QUOTA_FIELDS - disabled_quotas: e.submit(fn=_task_get_volume_quotasets) quotasets += volume_qs quotasets += compute_qs if disabled_quotas is None: disabled_quotas = get_disabled_quotas(request) if disabled_quotas is None: disabled_quotas = get_disabled_quotas(request) qs = [] neutron_quotas = [] tenant_id = tenant_id or request.user.tenant_id def _task_get_quota_data(): qs.append(_get_quota_data(request, tenant_mode=True, disabled_quotas=disabled_quotas, tenant_id=tenant_id)) def _tast_get_neutron_quotas(): neutron_quotas.append(neutron.tenant_quota_get(request, tenant_id)) with futurist.GreenThreadPoolExecutor(max_workers=2) as e: e.submit(fn=_task_get_quota_data) if (NEUTRON_QUOTA_FIELDS - disabled_quotas): e.submit(fn=_tast_get_neutron_quotas) qs = qs[0] neutron_quotas = neutron_quotas[0] quotas_list = ['network', 'subnet', 'router'] nova_limits = {} cinder_limits = {} volumes = [] snapshots = [] is_volume_service = cinder.is_volume_service_enabled(request) def _get_nova_tenant_absolute_limits(): print(""start get_nova_tenant_absolute_limits"") try: if base.is_service_enabled(request, 'compute'): nova_limits.update(nova.tenant_absolute_limits(request, reserved=True)) except Exception: msg = _(""Unable to retrieve compute limit information."") exceptions.handle(request, msg) print(""end get_nova_tenant_absolute_limits"") def _get_cinder_tenant_absolute_limits(): print(""start _get_cinder_tenant_absolute_limits"") try: cinder_limits.update(cinder.tenant_absolute_limits(request)) except cinder.cinder_exception.ClientException: msg = _(""Unable to retrieve cinder tenant absolute limits"" ""information."") exceptions.handle(request, msg) print(""end _get_cinder_tenant_absolute_limits"") def _get_cinder_volumes(): print(""start _get_cinder_volumes"") try: volumes.extend(cinder.volume_list(request)) print(""end _get_cinder_volumes"") def _get_cinder_volume_snapshots(): print(""start _get_cinder_volume_snapshots"") try: snapshots.extend(cinder.volume_snapshot_list(request)) except cinder.cinder_exception.ClientException: msg = _(""Unable to retrieve volume limit information."") exceptions.handle(request, msg) print(""end _get_cinder_volume_snapshots"") with futurist.ThreadPoolExecutor(max_workers=4) as e: e.submit(fn=_get_nova_tenant_absolute_limits) if is_volume_service: e.submit(fn=_get_cinder_tenant_absolute_limits) e.submit(fn=_get_cinder_volumes) e.submit(fn=_get_cinder_volume_snapshots) limits.update(nova_limits) # if cinder_limits is still empty, nothing will happen limits.update(cinder_limits) return QUOTA_FIELDS - get_disabled_quotas(request)"," if NOVA_QUOTA_FIELDS - disabled_quotas: if tenant_mode: quotasets.append(nova.tenant_quota_get(request, tenant_id)) else: quotasets.append(nova.default_quota_get(request, tenant_id)) if CINDER_QUOTA_FIELDS - disabled_quotas: quotasets.append(cinder.tenant_quota_get(request, tenant_id)) else: quotasets.append(cinder.default_quota_get(request, tenant_id)) qs = _get_quota_data(request, tenant_mode=True, disabled_quotas=disabled_quotas, tenant_id=tenant_id) tenant_id = tenant_id or request.user.tenant_id neutron_quotas = neutron.tenant_quota_get(request, tenant_id) try: if base.is_service_enabled(request, 'compute'): limits.update(nova.tenant_absolute_limits(request, reserved=True)) except Exception: msg = _(""Unable to retrieve compute limit information."") exceptions.handle(request, msg) if cinder.is_volume_service_enabled(request): try: limits.update(cinder.tenant_absolute_limits(request)) volumes = cinder.volume_list(request) snapshots = cinder.volume_snapshot_list(request) # gigabytesUsed should be a total of volumes and snapshots vol_size = sum([getattr(volume, 'size', 0) for volume in volumes]) snap_size = sum([getattr(snap, 'size', 0) for snap in snapshots]) limits['gigabytesUsed'] = vol_size + snap_size limits['volumesUsed'] = len(volumes) limits['snapshotsUsed'] = len(snapshots) return QUOTA_FIELDS - get_disabled_quotas(request) ",113,37
openstack%2Fmistral~master~Ifc2762d2d0498ff38e97a3ccc57ce07e62cbbe36,openstack/mistral,master,Ifc2762d2d0498ff38e97a3ccc57ce07e62cbbe36,Remove unused nova actions,MERGED,2018-03-18 01:00:38.000000000,2018-04-03 13:38:04.000000000,2018-04-03 13:38:04.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 25167}]","[{'number': 1, 'created': '2018-03-18 01:00:38.000000000', 'files': ['mistral/actions/openstack/mapping.json'], 'web_link': 'https://opendev.org/openstack/mistral/commit/af0f8a1cbff0938f99ff9d6bd71a49738008f456', 'message': 'Remove unused nova actions\n\nThere are some actions is not found in novaclient,\n we need remove unused actions.\n\nChange-Id: Ifc2762d2d0498ff38e97a3ccc57ce07e62cbbe36\nSigned-off-by: pengdake <19921207pq@gmail.com>\n'}]",0,554018,af0f8a1cbff0938f99ff9d6bd71a49738008f456,9,4,1,25167,,,0,"Remove unused nova actions

There are some actions is not found in novaclient,
 we need remove unused actions.

Change-Id: Ifc2762d2d0498ff38e97a3ccc57ce07e62cbbe36
Signed-off-by: pengdake <19921207pq@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/18/554018/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/mapping.json'],1,af0f8a1cbff0938f99ff9d6bd71a49738008f456,remove-unused-actions,," ""cloudpipe_convert_into_with_meta"": ""cloudpipe.convert_into_with_meta"", ""cloudpipe_create"": ""cloudpipe.create"", ""cloudpipe_find"": ""cloudpipe.find"", ""cloudpipe_findall"": ""cloudpipe.findall"", ""cloudpipe_list"": ""cloudpipe.list"", ""cloudpipe_update"": ""cloudpipe.update"", ""hosts_convert_into_with_meta"": ""hosts.convert_into_with_meta"", ""hosts_find"": ""hosts.find"", ""hosts_findall"": ""hosts.findall"", ""hosts_get"": ""hosts.get"", ""hosts_host_action"": ""hosts.host_action"", ""hosts_list"": ""hosts.list"", ""hosts_list_all"": ""hosts.list_all"", ""hosts_update"": ""hosts.update"", ""servers_add_fixed_ip"": ""servers.add_fixed_ip"", ""servers_add_floating_ip"": ""servers.add_floating_ip"", ""servers_remove_fixed_ip"": ""servers.remove_fixed_ip"", ""servers_remove_floating_ip"": ""servers.remove_floating_ip"", ""virtual_interfaces_convert_into_with_meta"": ""virtual_interfaces.convert_into_with_meta"", ""virtual_interfaces_find"": ""virtual_interfaces.find"", ""virtual_interfaces_findall"": ""virtual_interfaces.findall"", ""virtual_interfaces_list"": ""virtual_interfaces.list"", ""cluster_collect"": ""cluster_collect"",",0,23
openstack%2Fnetworking-bgpvpn~master~I4f0f94ce8d526bf6e1012823409582d46402625b,openstack/networking-bgpvpn,master,I4f0f94ce8d526bf6e1012823409582d46402625b,Use ALIAS instead of LABEL,MERGED,2018-03-29 12:24:06.000000000,2018-04-03 13:37:13.000000000,2018-04-03 13:37:13.000000000,"[{'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 12:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/fc9d0bcbf431b17e6090817a7c56d0b5380c292d', 'message': 'Use ALIAS instead of LABEL\n\nSee I7e2502f8591ad664d20e23e58f33291575f29083.\n\nChange-Id: I4f0f94ce8d526bf6e1012823409582d46402625b\n'}, {'number': 2, 'created': '2018-03-30 12:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/99ee17ddfe3e054acc46a84af675731b41a45e4d', 'message': 'Use ALIAS instead of LABEL\n\nSee I7e2502f8591ad664d20e23e58f33291575f29083.\n\nChange-Id: I4f0f94ce8d526bf6e1012823409582d46402625b\n'}, {'number': 3, 'created': '2018-03-30 14:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1ac288bd62981c6965f914ecd99948d50e000dd0', 'message': 'Use ALIAS instead of LABEL\n\nSee I7e2502f8591ad664d20e23e58f33291575f29083.\n\nChange-Id: I4f0f94ce8d526bf6e1012823409582d46402625b\n'}, {'number': 4, 'created': '2018-04-03 09:21:53.000000000', 'files': ['networking_bgpvpn/neutron/services/common/utils.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_routes_control.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_vni.py', 'networking_bgpvpn/neutron/db/bgpvpn_db.py', 'networking_bgpvpn/tests/unit/services/test_plugin.py', 'networking_bgpvpn/neutron/services/plugin.py', 'networking_bgpvpn/neutron/extensions/bgpvpn_routes_control.py', 'networking_bgpvpn/neutron/extensions/bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9d2b88a2ebfa0b6c512af11052826f8cedd3065e', 'message': 'Use ALIAS instead of LABEL\n\nSee I7e2502f8591ad664d20e23e58f33291575f29083.\n\nChange-Id: I4f0f94ce8d526bf6e1012823409582d46402625b\n'}]",0,557689,9d2b88a2ebfa0b6c512af11052826f8cedd3065e,14,4,4,12021,,,0,"Use ALIAS instead of LABEL

See I7e2502f8591ad664d20e23e58f33291575f29083.

Change-Id: I4f0f94ce8d526bf6e1012823409582d46402625b
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/89/557689/4 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bgpvpn/neutron/services/common/utils.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_routes_control.py', 'networking_bgpvpn/tests/unit/extensions/test_bgpvpn_vni.py', 'networking_bgpvpn/neutron/db/bgpvpn_db.py', 'networking_bgpvpn/tests/unit/services/test_plugin.py', 'networking_bgpvpn/neutron/services/plugin.py', 'networking_bgpvpn/neutron/extensions/bgpvpn_routes_control.py', 'networking_bgpvpn/neutron/extensions/bgpvpn.py']",9,fc9d0bcbf431b17e6090817a7c56d0b5380c292d,remove_api_def_label," bgpvpn_api_def.ALIAS, plugin = directory.get_plugin(bgpvpn_api_def.ALIAS) return bgpvpn_api_def.ALIAS return bgpvpn_api_def.ALIAS"," bgpvpn_api_def.LABEL, plugin = directory.get_plugin(bgpvpn_api_def.LABEL) return bgpvpn_api_def.LABEL return bgpvpn_api_def.LABEL",17,17
openstack%2Ftricircle~master~I37feacf93b1bde1459bfd8513c7860fe77c113a7,openstack/tricircle,master,I37feacf93b1bde1459bfd8513c7860fe77c113a7,Security group deletion,MERGED,2018-01-22 08:56:59.000000000,2018-04-03 13:32:47.000000000,2018-04-03 13:32:47.000000000,"[{'_account_id': 12076}, {'_account_id': 19853}, {'_account_id': 19960}, {'_account_id': 21023}, {'_account_id': 22348}, {'_account_id': 22559}, {'_account_id': 26235}, {'_account_id': 27215}]","[{'number': 1, 'created': '2018-01-22 08:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/94cd9a5b7c352d2e2c60957f3630baacf08ba29e', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 2, 'created': '2018-01-28 08:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/03ec623a5f3b2d8a1a2ade273119e8e6a5569c52', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 3, 'created': '2018-01-28 08:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/441857d67e62034641cf8b9c6a8ae23e1f8b1540', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 4, 'created': '2018-01-31 07:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/3152687a9d941e75a073ae6ef4b831be30eedde7', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 5, 'created': '2018-01-31 11:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7e3b84dec446118e245be4ae5d2d39fad1fb99bf', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 6, 'created': '2018-03-05 01:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/a0dbf40042506c601cda4487c848fb742f097919', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 7, 'created': '2018-03-07 12:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/a52fb5b83e037d8175b51e3d8feb66697c368825', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 8, 'created': '2018-03-08 12:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/de4dea2b28eee49d1baae49000229de80e41f715', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 9, 'created': '2018-03-09 02:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/54258c4e207f01724884f32d38aca66ad7c4c7aa', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 10, 'created': '2018-03-09 07:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/364f2b0ecb81fb0138854785abc133320dfccbd2', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 11, 'created': '2018-03-17 09:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/9b43b88e904369e5a6685b2ed0382527d4cf4958', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 12, 'created': '2018-03-17 11:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/389e4b133d7cb41e0a7db9e86e9032988e9a6b47', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 13, 'created': '2018-03-18 13:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/310280800a393c28ac0280886f9caa63bcb32098', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 14, 'created': '2018-03-19 02:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/75ab7bbbb65f09af6d95e1926e7528e3f38963d1', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 15, 'created': '2018-03-21 01:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/063638135a77b8272612520b73c2218b696847b9', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 16, 'created': '2018-03-21 03:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/5b8dc8603c0d5855bfb4395ca223f2fd6aefd222', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 17, 'created': '2018-03-26 12:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/007bcb014cfb8c4f4a7a07d5f4367ff3fdc06113', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 18, 'created': '2018-03-27 03:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/6ab82558c4d13cc26367550ce78d8c788ef4afd4', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 19, 'created': '2018-03-27 03:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/4481d595982a9666d52b0f210a6890cb344b06dc', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 20, 'created': '2018-03-27 07:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/dfa7bf6ddad058d5fe705cd45a31cb3c3f14b878', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 21, 'created': '2018-03-27 08:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/7da89e88b52667f2ffaf6587020c5ffa10299b71', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}, {'number': 22, 'created': '2018-03-27 09:12:17.000000000', 'files': ['tricircle/common/resource_handle.py', 'tricircle/tests/unit/network/test_security_groups.py', 'tricircle/network/helper.py', 'tricircle/network/security_groups.py', 'tricircle/network/utils.py', 'tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/network/central_plugin.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/6e96413d87e1f424f64c3e4c6d9f8ad3b4eb9f6b', 'message': 'Security group deletion\n\n1. What is the problem?\n\nA security group(sg) may map to several local sg in local neutron.\nDuring the deletion of sg local neutron may recreate the sg if it\nrecieve a get-request of sg.\n\n2. What is the solution to the problem?\n\nThe solution to resource deleting is covered in\nspecs/queens/resource deleting.rst\n\n3. What the features to be implemented in the Tricircle to realize the solution?\nNo new features.\n\nChange-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7\n'}]",13,536257,6e96413d87e1f424f64c3e4c6d9f8ad3b4eb9f6b,64,8,22,26235,,,0,"Security group deletion

1. What is the problem?

A security group(sg) may map to several local sg in local neutron.
During the deletion of sg local neutron may recreate the sg if it
recieve a get-request of sg.

2. What is the solution to the problem?

The solution to resource deleting is covered in
specs/queens/resource deleting.rst

3. What the features to be implemented in the Tricircle to realize the solution?
No new features.

Change-Id: I37feacf93b1bde1459bfd8513c7860fe77c113a7
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/57/536257/3 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/network/helper.py', 'tricircle/network/local_plugin.py', 'tricircle/db/models.py', 'tricircle/network/central_plugin.py']",4,94cd9a5b7c352d2e2c60957f3630baacf08ba29e,sg_delete_318," if context.USER_AGENT == t_constants.LOCAL: raise t_exceptions.ResourceNotFound( dict_para['resource_id']) elif context.USER_AGENT == \ t_constants.USER_AGENT: return deleting_resource def get_security_group(self, context, sg_id, fields=None, tenant_id=None): dict_param = {'resource_id': sg_id, 'resource_type': t_constants.RT_SG} security_group_list = None try: security_group_list = \ self.check_resource_not_in_deleting(context, dict_param) except t_exceptions.ResourceNotFound: raise if security_group_list: return security_group_list else: return super(TricirclePlugin, self).get_security_group(context, sg_id) def delete_security_group(self, context, sg_id): t_ctx = t_context.get_context_from_neutron_context(context) # check the sg whether in security group super(TricirclePlugin, self).get_security_group(context, sg_id) # check the sg whether in deleting dict_para = {'resource_id': sg_id, 'resource_type': t_constants.RT_SG} security_group_in_deleting = \ self.check_resource_not_in_deleting(context, dict_para) if not security_group_in_deleting: with t_ctx.session.begin(): core.create_resource(t_ctx, models.DeletingResources, dict_para) try: for pod, bottom_security_group_id in ( self.helper.get_real_shadow_resource_iterator( t_ctx, t_constants.RT_SG, sg_id)): with t_ctx.session.begin(): self._get_client(pod['region_name']).delete_security_group( t_ctx, bottom_security_group_id) core.delete_resources( t_ctx, models.ResourceRouting, filters=[{'key': 'top_id', 'comparator': 'eq', 'value': sg_id}, {'key': 'pod_id', 'comparator': 'eq', 'value': pod['pod_id']}]) except Exception: raise with t_ctx.session.begin(): super(TricirclePlugin, self).delete_security_group(t_ctx, sg_id) core.delete_resources(t_ctx, models.DeletingResources, filters=[{'key': 'resource_id', 'comparator': 'eq', 'value': sg_id}]) 'tenant_id': project_id, 'ipv6_ra_mode': None, 'ipv6_address_mode': None", if context.neutronclient.USER_AGENT == t_constants.LOCAL: raise exceptions.ResourceNotFound(dict_para['resource_id']) elif context.neutronclient.USER_AGENT == \ t_constants.USER_AGENT: raise exceptions.ResourceIsInDeleting() 'tenant_id': project_id,68,9
openstack%2Fblazar-nova~master~Ifba0f79c391f7f9d06897ac294d3bf90b48419ff,openstack/blazar-nova,master,Ifba0f79c391f7f9d06897ac294d3bf90b48419ff,Remove climate namespace,MERGED,2018-03-13 03:05:56.000000000,2018-04-03 13:31:45.000000000,2018-04-03 13:31:45.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2018-03-13 03:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/0410413880bc188870cd9e2fce51569b89d10881', 'message': 'Remove climate namespace\n\nChange-Id: Ifba0f79c391f7f9d06897ac294d3bf90b48419ff\nPartial-Bug: #1755325\nDepends-On: Id4151b65ae1278ec7c6c488c165ba9c04082a3cb\n'}, {'number': 2, 'created': '2018-03-13 08:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/afafc3c8254d4e158f6bd6c7ec15972bb280e849', 'message': 'Remove climate namespace\n\nChange-Id: Ifba0f79c391f7f9d06897ac294d3bf90b48419ff\nPartial-Bug: #1755325\nDepends-On: https://review.openstack.org/#/c/552253\n'}, {'number': 3, 'created': '2018-04-03 13:11:12.000000000', 'files': ['blazarnova/scheduler/filters/climate_filter.py'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/14ba5b4f28d0b6a56db858285971fc2c966d2602', 'message': 'Remove climate namespace\n\nChange-Id: Ifba0f79c391f7f9d06897ac294d3bf90b48419ff\nPartial-Bug: #1755325\nDepends-On: https://review.openstack.org/#/c/552253\n'}]",0,552254,14ba5b4f28d0b6a56db858285971fc2c966d2602,13,3,3,8878,,,0,"Remove climate namespace

Change-Id: Ifba0f79c391f7f9d06897ac294d3bf90b48419ff
Partial-Bug: #1755325
Depends-On: https://review.openstack.org/#/c/552253
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/54/552254/2 && git format-patch -1 --stdout FETCH_HEAD,['blazarnova/scheduler/filters/climate_filter.py'],1,0410413880bc188870cd9e2fce51569b89d10881,bug/1755325,,"# Copyright 2014 Intel Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Only for backward compatibility from blazarnova.scheduler.filters.blazar_filter import * # noqa ",0,17
openstack%2Ftripleo-quickstart-extras~master~Ie962f4d404b8413f26d7379f5ea7691c72a78db6,openstack/tripleo-quickstart-extras,master,Ie962f4d404b8413f26d7379f5ea7691c72a78db6,Update kernel for image,ABANDONED,2018-02-21 13:48:26.000000000,2018-04-03 13:28:33.000000000,,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 10112}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 20775}, {'_account_id': 21794}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-02-21 13:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dd82f374a2382029baebb45bb286725840092800', 'message': 'Update kernel for image\n\n3.10.0-693.11.6.el7 is not present in repo anymore. Use 3.10.0-854.el7.x86_64\nas a default kernel for images.\n\nChange-Id: Ie962f4d404b8413f26d7379f5ea7691c72a78db6\n'}, {'number': 2, 'created': '2018-02-22 09:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db77bbb8842cd07dcb1d37b0726bdb14aeaed549', 'message': 'Update kernel for image\n\n3.10.0-693.11.6.el7 is not present in repo anymore. Use 3.10.0-854.el7.x86_64\nas a default kernel for images.\n\nChange-Id: Ie962f4d404b8413f26d7379f5ea7691c72a78db6\n'}, {'number': 3, 'created': '2018-02-23 14:26:52.000000000', 'files': ['roles/modify-image/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a34d12a343134627ba7d2011505cec248e452f68', 'message': 'Update kernel for image\n\n3.10.0-693.11.6.el7 is not present in repo anymore. Use 3.10.0-854.el7.x86_64\nas a default kernel for images.\n\nChange-Id: Ie962f4d404b8413f26d7379f5ea7691c72a78db6\n'}]",1,546623,a34d12a343134627ba7d2011505cec248e452f68,24,14,3,11090,,,0,"Update kernel for image

3.10.0-693.11.6.el7 is not present in repo anymore. Use 3.10.0-854.el7.x86_64
as a default kernel for images.

Change-Id: Ie962f4d404b8413f26d7379f5ea7691c72a78db6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/23/546623/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/modify-image/defaults/main.yml'],1,dd82f374a2382029baebb45bb286725840092800,update_kernel_version,libguestfs_kernel_override: 3.10.0-854.el7.x86_64,libguestfs_kernel_override: 3.10.0-693.el7.x86_64,1,1
openstack%2Fwatcher-tempest-plugin~master~I33fdb76938db483083e0adff39c0ee5f4b747a47,openstack/watcher-tempest-plugin,master,I33fdb76938db483083e0adff39c0ee5f4b747a47,Restore execution of actions in basic_consolidation strategy,MERGED,2018-04-03 09:27:22.000000000,2018-04-03 13:28:25.000000000,2018-04-03 13:28:25.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 09:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/4948cda210ebfa2d52bb9278ef77aab68020bf3c', 'message': 'Restore execution of actions in basic_consolidation strategy\n\nChange-Id: I33fdb76938db483083e0adff39c0ee5f4b747a47\n'}, {'number': 2, 'created': '2018-04-03 09:33:30.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/test_execute_basic_optim.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/10bd3b6f0f4d83e3a9c2214dc7a7192927000e04', 'message': 'Restore execution of actions in basic_consolidation strategy\n\nChange-Id: I33fdb76938db483083e0adff39c0ee5f4b747a47\n'}]",0,558462,10bd3b6f0f4d83e3a9c2214dc7a7192927000e04,9,2,2,19055,,,0,"Restore execution of actions in basic_consolidation strategy

Change-Id: I33fdb76938db483083e0adff39c0ee5f4b747a47
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/62/558462/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/test_execute_basic_optim.py'],1,4948cda210ebfa2d52bb9278ef77aab68020bf3c,restore-functional-job,, if action_plan['state'] in ('RECOMMENDED'): # It is temporary solution to get test passed. This if statement # should be removed once this job got zuulv3 support. return ,0,5
openstack%2Fpython-blazarclient~master~Id4151b65ae1278ec7c6c488c165ba9c04082a3cb,openstack/python-blazarclient,master,Id4151b65ae1278ec7c6c488c165ba9c04082a3cb,Remove climate namespace,MERGED,2018-03-13 03:05:39.000000000,2018-04-03 13:14:07.000000000,2018-04-03 13:14:06.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2018-03-13 03:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/8092ab44ae25c81c8735d3357bd4e1a9f2382d37', 'message': 'Remove climate namespace\n\nChange-Id: Id4151b65ae1278ec7c6c488c165ba9c04082a3cb\nPartial-Bug: #1755325\nDepends-On: I57dcc03c9fed3fbd407640c81db50559bef4a0dd\n'}, {'number': 2, 'created': '2018-03-13 08:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/7d0b66f490af3c52492d6d63b4e094a7d85dfa90', 'message': 'Remove climate namespace\n\nChange-Id: Id4151b65ae1278ec7c6c488c165ba9c04082a3cb\nPartial-Bug: #1755325\nDepends-On: https://review.openstack.org/#/c/552252\n'}, {'number': 3, 'created': '2018-04-03 12:57:20.000000000', 'files': ['climateclient/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/b96c671a6edf1b81fb9e7e8e195c4f27256c034f', 'message': 'Remove climate namespace\n\nChange-Id: Id4151b65ae1278ec7c6c488c165ba9c04082a3cb\nPartial-Bug: #1755325\nDepends-On: https://review.openstack.org/#/c/552252\n'}]",2,552253,b96c671a6edf1b81fb9e7e8e195c4f27256c034f,14,4,3,8878,,,0,"Remove climate namespace

Change-Id: Id4151b65ae1278ec7c6c488c165ba9c04082a3cb
Partial-Bug: #1755325
Depends-On: https://review.openstack.org/#/c/552252
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/53/552253/2 && git format-patch -1 --stdout FETCH_HEAD,"['climateclient/__init__.py', 'setup.cfg']",2,8092ab44ae25c81c8735d3357bd4e1a9f2382d37,bug/1755325,, climate = blazarclient.shell:main,0,21
openstack%2Fwatcher~master~I65335cd0b25a355c46bfea8a962f63b8ac02ebf2,openstack/watcher,master,I65335cd0b25a355c46bfea8a962f63b8ac02ebf2,zuulv3 optimization,MERGED,2018-03-27 09:46:13.000000000,2018-04-03 13:06:48.000000000,2018-04-03 13:06:48.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 09:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4de10350b4b7e80e4e0a3beb7a99671062dcf329', 'message': '[DNM] zuulv3 optimization\n\nChange-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2\n'}, {'number': 2, 'created': '2018-03-27 11:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c8171e6702ba7c5863606f515e9f2efcdddfc832', 'message': '[DNM] zuulv3 optimization\n\nChange-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2\n'}, {'number': 3, 'created': '2018-03-27 12:08:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c79a8a38fefd9d24f337966c12d18ee5b1e42de3', 'message': '[DNM] zuulv3 optimization\n\nChange-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2\n'}, {'number': 4, 'created': '2018-03-29 08:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ce73b195984a68cb016b5af54a5fc72faeff48fc', 'message': '[DNM] zuulv3 optimization\n\nChange-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2\n'}, {'number': 5, 'created': '2018-03-30 07:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/13757c53b80e697f06a6f7a52a0d9953919c71d3', 'message': '[DNM] zuulv3 optimization\n\nChange-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2\n'}, {'number': 6, 'created': '2018-03-30 07:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/6fbb52267ea1697b83a0050030725bf4f6f1e073', 'message': '[DNM] zuulv3 optimization\n\nChange-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2\n'}, {'number': 7, 'created': '2018-04-03 09:25:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/39d7ce9ee8c25a02961d062f705bbd3f691e5916', 'message': 'zuulv3 optimization\n\nThis patch set improves inheritance of watcher jobs.\n\nChange-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2\n'}]",0,556805,39d7ce9ee8c25a02961d062f705bbd3f691e5916,24,2,7,19055,,,0,"zuulv3 optimization

This patch set improves inheritance of watcher jobs.

Change-Id: I65335cd0b25a355c46bfea8a962f63b8ac02ebf2
",git fetch https://review.opendev.org/openstack/watcher refs/changes/05/556805/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4de10350b4b7e80e4e0a3beb7a99671062dcf329,zuulv3-optimization, parent: watcher-base-job WATCHER_USE_MOD_WSGI: True - job: name: watcher-base-job parent: devstack-tempest timeout: 7200 required-projects: - openstack/ceilometer - openstack-infra/devstack-gate - openstack/python-openstackclient - openstack/python-watcherclient - openstack/watcher - openstack/watcher-tempest-plugin - openstack/tempest vars: devstack_localrc: WATCHER_USE_MOD_WSGI: False devstack_plugins: # This job is used in python-watcherclient repo parent: watcher-base-job, parent: devstack-tempest timeout: 7200 required-projects: - openstack/ceilometer - openstack-infra/devstack-gate - openstack/python-openstackclient - openstack/python-watcherclient - openstack/watcher - openstack/watcher-tempest-plugin - openstack/tempest devstack_local_conf: post-config: $NOVA_CONF: libvirt: live_migration_uri: 'qemu+ssh://root@%s/system' post-config: $NOVA_CONF: libvirt: live_migration_uri: 'qemu+ssh://root@%s/system' WATCHER_USE_MOD_WSGI: False # This job is used by python-watcherclient repo parent: devstack-tempest required-projects: - openstack-dev/devstack - openstack-infra/devstack-gate - openstack/python-openstackclient - openstack/python-watcherclient - openstack/watcher - openstack/tempest WATCHER_USE_MOD_WSGI: False devstack_plugins: watcher: https://git.openstack.org/openstack/watcher devstack_services: rabbit: true mysql: true tls-proxy: false watcher-api: true watcher-decision-engine: true watcher-applier: true tempest: true tox_envlist: all,21,41
openstack%2Fswift~feature%2Fdeep~I5c49cf45594b3ce3756450e4b64e41d155a8e99b,openstack/swift,feature/deep,I5c49cf45594b3ce3756450e4b64e41d155a8e99b,Use db id and max row to key cleaving context,MERGED,2018-03-28 22:51:59.000000000,2018-04-03 12:46:49.000000000,2018-04-03 12:46:49.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 22:51:59.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c4d751dfc3384788b461eb5651f1bcde619c2da7', 'message': 'Use db id and max row to key cleaving context\n\nChange the key used to track cleaving progress to be based on the db\nid and max row rather than the db hash. The hash might change if the\ndb is replicated, because replication performs a reclaim of any old\nrows, which changes the hash. The max row will not change. However,\nmax row cannot be assumed to be unique to a particular db so the db id\nis also included in the key.\n\nChange-Id: I5c49cf45594b3ce3756450e4b64e41d155a8e99b\n'}]",1,557541,c4d751dfc3384788b461eb5651f1bcde619c2da7,10,3,1,7847,,,0,"Use db id and max row to key cleaving context

Change the key used to track cleaving progress to be based on the db
id and max row rather than the db hash. The hash might change if the
db is replicated, because replication performs a reclaim of any old
rows, which changes the hash. The max row will not change. However,
max row cannot be assumed to be unique to a particular db so the db id
is also included in the key.

Change-Id: I5c49cf45594b3ce3756450e4b64e41d155a8e99b
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/557541/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py']",3,c4d751dfc3384788b461eb5651f1bcde619c2da7,," def _get_context_ref(self): return '%s-%s' % (self.get_info()['id'], self.get_max_row()) that is based off the retiring db id and max row. This form of matches the id and max row when the context was created; if a db is modified such that its max row changes then a different context, or no dict initially has a key ``ref`` which should not be modified by any caller. cleave_ref = brokers[0]._get_context_ref() cleave_context['ref'] = cleave_ref def dump_cleave_context(self, cleave_context): stored_context = dict(cleave_context) cleave_ref = stored_context.pop('ref') {'Cursor-' + cleave_ref: json.dumps(stored_context)})"," # TODO: unit test that is based off the retiring db epoch and the db hash. This form of matches the epoch and hash when the context was created; if a db is modified such that its hash changes then a different context, or no dict initially has keys {'epoch', 'db_hash'} which should not be modified by any caller. db_hash = brokers[0].get_info()['hash'] cleave_ref = '%s-%s' % (brokers[0].db_epoch, db_hash) cleave_context['db_hash'] = db_hash cleave_context['epoch'] = brokers[0].db_epoch # TODO: unit test def dump_cleave_context(self, cleave_context): cleave_ref = '%s-%s' % (cleave_context.pop('epoch'), cleave_context.pop('db_hash')) {'Cursor-' + cleave_ref: json.dumps(cleave_context)})",128,97
openstack%2Frally~master~I7c18631f716e0dc923a4c16614747c4fa95c08de,openstack/rally,master,I7c18631f716e0dc923a4c16614747c4fa95c08de,WIP [CLI] Argparse -> Click,NEW,2018-04-02 02:49:58.000000000,2018-04-03 12:43:22.000000000,,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 02:49:58.000000000', 'files': ['rally/cli/cli.py', 'rally/cli/cliutils.py', 'rally/cli/manage.py', 'tests/unit/cli/test_cliutils.py', 'rally/cli/main.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/a6bc4268e63703e5ce66be621c432544752a7999', 'message': 'WIP [CLI] Argparse -> Click\n\nChange-Id: I7c18631f716e0dc923a4c16614747c4fa95c08de\n'}]",1,558149,a6bc4268e63703e5ce66be621c432544752a7999,4,2,1,6172,,,0,"WIP [CLI] Argparse -> Click

Change-Id: I7c18631f716e0dc923a4c16614747c4fa95c08de
",git fetch https://review.opendev.org/openstack/rally refs/changes/49/558149/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/cli.py', 'rally/cli/cliutils.py', 'rally/cli/manage.py', 'rally/cli/main.py', 'tests/unit/cli/test_cliutils.py']",5,a6bc4268e63703e5ce66be621c432544752a7999,use_clikc,," def test__methods_of_with_class(self): class fake_class(object): def public(self): pass def _private(self): pass result = cliutils._methods_of(fake_class) self.assertEqual(1, len(result)) self.assertEqual(""public"", result[0][0]) def test__methods_of_with_object(self): class fake_class(object): def public(self): pass def _private(self): pass mock_obj = fake_class() result = cliutils._methods_of(mock_obj) self.assertEqual(1, len(result)) self.assertEqual(""public"", result[0][0]) def test__methods_of_empty_result(self): class fake_class(object): def _private(self): pass def _private2(self): pass mock_obj = fake_class() result = cliutils._methods_of(mock_obj) self.assertEqual([], result) def _unregister_opts(self): CONF.reset() category_opt = cfg.SubCommandOpt(""category"", title=""Command categories"", help=""Available categories"" ) CONF.unregister_opt(category_opt) def test_help_for_grouped_methods(self): class SomeCommand(object): @cliutils.help_group(""1_manage"") def install(self): pass @cliutils.help_group(""1_manage"") def uninstall(self): pass @cliutils.help_group(""1_manage"") def reinstall(self): pass @cliutils.help_group(""2_launch"") def run(self): pass @cliutils.help_group(""2_launch"") def rerun(self): pass @cliutils.help_group(""3_results"") def show(self): pass @cliutils.help_group(""3_results"") def list(self): pass def do_do_has_do_has_mesh(self): pass self.assertEqual( ""\n\nCommands:\n"" "" do-do-has-do-has-mesh \n"" ""\n"" "" install \n"" "" reinstall \n"" "" uninstall \n"" ""\n"" "" rerun \n"" "" run \n"" ""\n"" "" list \n"" "" show \n"", cliutils._compose_category_description(SomeCommand)) class ValidateArgsTest(test.TestCase): def test_lambda_no_args(self): cliutils.validate_args(lambda: None) def _test_lambda_with_args(self, *args, **kwargs): cliutils.validate_args(lambda x, y: None, *args, **kwargs) def test_lambda_positional_args(self): self._test_lambda_with_args(1, 2) def test_lambda_kwargs(self): self._test_lambda_with_args(x=1, y=2) def test_lambda_mixed_kwargs(self): self._test_lambda_with_args(1, y=2) def test_lambda_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_args) def test_lambda_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_args, 1) def test_lambda_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_args, y=2) def test_lambda_missing_args4(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_args, 1, x=2) def _test_lambda_with_default(self, *args, **kwargs): cliutils.validate_args(lambda x, y, z=3: None, *args, **kwargs) def test_lambda_positional_args_with_default(self): self._test_lambda_with_default(1, 2) def test_lambda_kwargs_with_default(self): self._test_lambda_with_default(x=1, y=2) def test_lambda_mixed_kwargs_with_default(self): self._test_lambda_with_default(1, y=2) def test_lambda_positional_args_all_with_default(self): self._test_lambda_with_default(1, 2, 3) def test_lambda_kwargs_all_with_default(self): self._test_lambda_with_default(x=1, y=2, z=3) def test_lambda_mixed_kwargs_all_with_default(self): self._test_lambda_with_default(1, y=2, z=3) def test_lambda_with_default_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_default) def test_lambda_with_default_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_default, 1) def test_lambda_with_default_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_default, y=2) def test_lambda_with_default_missing_args4(self): self.assertRaises(cliutils.MissingArgs, self._test_lambda_with_default, y=2, z=3) def test_function_no_args(self): def func(): pass cliutils.validate_args(func) def _test_function_with_args(self, *args, **kwargs): def func(x, y): pass cliutils.validate_args(func, *args, **kwargs) def test_function_positional_args(self): self._test_function_with_args(1, 2) def test_function_kwargs(self): self._test_function_with_args(x=1, y=2) def test_function_mixed_kwargs(self): self._test_function_with_args(1, y=2) def test_function_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_function_with_args) def test_function_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_function_with_args, 1) def test_function_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_function_with_args, y=2) def _test_function_with_default(self, *args, **kwargs): def func(x, y, z=3): pass cliutils.validate_args(func, *args, **kwargs) def test_function_positional_args_with_default(self): self._test_function_with_default(1, 2) def test_function_kwargs_with_default(self): self._test_function_with_default(x=1, y=2) def test_function_mixed_kwargs_with_default(self): self._test_function_with_default(1, y=2) def test_function_positional_args_all_with_default(self): self._test_function_with_default(1, 2, 3) def test_function_kwargs_all_with_default(self): self._test_function_with_default(x=1, y=2, z=3) def test_function_mixed_kwargs_all_with_default(self): self._test_function_with_default(1, y=2, z=3) def test_function_with_default_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_function_with_default) def test_function_with_default_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_function_with_default, 1) def test_function_with_default_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_function_with_default, y=2) def test_function_with_default_missing_args4(self): self.assertRaises(cliutils.MissingArgs, self._test_function_with_default, y=2, z=3) def test_bound_method_no_args(self): class Foo(object): def bar(self): pass cliutils.validate_args(Foo().bar) def _test_bound_method_with_args(self, *args, **kwargs): class Foo(object): def bar(self, x, y): pass cliutils.validate_args(Foo().bar, *args, **kwargs) def test_bound_method_positional_args(self): self._test_bound_method_with_args(1, 2) def test_bound_method_kwargs(self): self._test_bound_method_with_args(x=1, y=2) def test_bound_method_mixed_kwargs(self): self._test_bound_method_with_args(1, y=2) def test_bound_method_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_bound_method_with_args) def test_bound_method_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_bound_method_with_args, 1) def test_bound_method_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_bound_method_with_args, y=2) def _test_bound_method_with_default(self, *args, **kwargs): class Foo(object): def bar(self, x, y, z=3): pass cliutils.validate_args(Foo().bar, *args, **kwargs) def test_bound_method_positional_args_with_default(self): self._test_bound_method_with_default(1, 2) def test_bound_method_kwargs_with_default(self): self._test_bound_method_with_default(x=1, y=2) def test_bound_method_mixed_kwargs_with_default(self): self._test_bound_method_with_default(1, y=2) def test_bound_method_positional_args_all_with_default(self): self._test_bound_method_with_default(1, 2, 3) def test_bound_method_kwargs_all_with_default(self): self._test_bound_method_with_default(x=1, y=2, z=3) def test_bound_method_mixed_kwargs_all_with_default(self): self._test_bound_method_with_default(1, y=2, z=3) def test_bound_method_with_default_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_bound_method_with_default) def test_bound_method_with_default_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_bound_method_with_default, 1) def test_bound_method_with_default_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_bound_method_with_default, y=2) def test_bound_method_with_default_missing_args4(self): self.assertRaises(cliutils.MissingArgs, self._test_bound_method_with_default, y=2, z=3) def test_unbound_method_no_args(self): class Foo(object): def bar(self): pass cliutils.validate_args(Foo.bar, Foo()) def _test_unbound_method_with_args(self, *args, **kwargs): class Foo(object): def bar(self, x, y): pass cliutils.validate_args(Foo.bar, Foo(), *args, **kwargs) def test_unbound_method_positional_args(self): self._test_unbound_method_with_args(1, 2) def test_unbound_method_kwargs(self): self._test_unbound_method_with_args(x=1, y=2) def test_unbound_method_mixed_kwargs(self): self._test_unbound_method_with_args(1, y=2) def test_unbound_method_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_unbound_method_with_args) def test_unbound_method_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_unbound_method_with_args, 1) def test_unbound_method_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_unbound_method_with_args, y=2) def _test_unbound_method_with_default(self, *args, **kwargs): class Foo(object): def bar(self, x, y, z=3): pass cliutils.validate_args(Foo.bar, Foo(), *args, **kwargs) def test_unbound_method_positional_args_with_default(self): self._test_unbound_method_with_default(1, 2) def test_unbound_method_kwargs_with_default(self): self._test_unbound_method_with_default(x=1, y=2) def test_unbound_method_mixed_kwargs_with_default(self): self._test_unbound_method_with_default(1, y=2) def test_unbound_method_with_default_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_unbound_method_with_default) def test_unbound_method_with_default_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_unbound_method_with_default, 1) def test_unbound_method_with_default_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_unbound_method_with_default, y=2) def test_unbound_method_with_default_missing_args4(self): self.assertRaises(cliutils.MissingArgs, self._test_unbound_method_with_default, y=2, z=3) def test_class_method_no_args(self): class Foo(object): @classmethod def bar(cls): pass cliutils.validate_args(Foo.bar) def _test_class_method_with_args(self, *args, **kwargs): class Foo(object): @classmethod def bar(cls, x, y): pass cliutils.validate_args(Foo.bar, *args, **kwargs) def test_class_method_positional_args(self): self._test_class_method_with_args(1, 2) def test_class_method_kwargs(self): self._test_class_method_with_args(x=1, y=2) def test_class_method_mixed_kwargs(self): self._test_class_method_with_args(1, y=2) def test_class_method_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_class_method_with_args) def test_class_method_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_class_method_with_args, 1) def test_class_method_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_class_method_with_args, y=2) def _test_class_method_with_default(self, *args, **kwargs): class Foo(object): @classmethod def bar(cls, x, y, z=3): pass cliutils.validate_args(Foo.bar, *args, **kwargs) def test_class_method_positional_args_with_default(self): self._test_class_method_with_default(1, 2) def test_class_method_kwargs_with_default(self): self._test_class_method_with_default(x=1, y=2) def test_class_method_mixed_kwargs_with_default(self): self._test_class_method_with_default(1, y=2) def test_class_method_with_default_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_class_method_with_default) def test_class_method_with_default_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_class_method_with_default, 1) def test_class_method_with_default_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_class_method_with_default, y=2) def test_class_method_with_default_missing_args4(self): self.assertRaises(cliutils.MissingArgs, self._test_class_method_with_default, y=2, z=3) def test_static_method_no_args(self): class Foo(object): @staticmethod def bar(): pass cliutils.validate_args(Foo.bar) def _test_static_method_with_args(self, *args, **kwargs): class Foo(object): @staticmethod def bar(x, y): pass cliutils.validate_args(Foo.bar, *args, **kwargs) def test_static_method_positional_args(self): self._test_static_method_with_args(1, 2) def test_static_method_kwargs(self): self._test_static_method_with_args(x=1, y=2) def test_static_method_mixed_kwargs(self): self._test_static_method_with_args(1, y=2) def test_static_method_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_static_method_with_args) def test_static_method_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_static_method_with_args, 1) def test_static_method_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_static_method_with_args, y=2) def _test_static_method_with_default(self, *args, **kwargs): class Foo(object): @staticmethod def bar(x, y, z=3): pass cliutils.validate_args(Foo.bar, *args, **kwargs) def test_static_method_positional_args_with_default(self): self._test_static_method_with_default(1, 2) def test_static_method_kwargs_with_default(self): self._test_static_method_with_default(x=1, y=2) def test_static_method_mixed_kwargs_with_default(self): self._test_static_method_with_default(1, y=2) def test_static_method_with_default_missing_args1(self): self.assertRaises(cliutils.MissingArgs, self._test_static_method_with_default) def test_static_method_with_default_missing_args2(self): self.assertRaises(cliutils.MissingArgs, self._test_static_method_with_default, 1) def test_static_method_with_default_missing_args3(self): self.assertRaises(cliutils.MissingArgs, self._test_static_method_with_default, y=2) def test_static_method_with_default_missing_args4(self): self.assertRaises(cliutils.MissingArgs, self._test_static_method_with_default, y=2, z=3) def test_alias_decorator(self): alias_fn = mock.Mock(name=""alias_fn"") cmd_name = ""test-command"" wrapped = cliutils.alias(cmd_name) self.assertEqual(cmd_name, wrapped(alias_fn).alias) class CategoryParserTestCase(test.TestCase): def setUp(self): super(CategoryParserTestCase, self).setUp() self.categoryParser = cliutils.CategoryParser() def test_format_help(self): self.assertIsNotNone(self.categoryParser.format_help())",2,958
openstack%2Fhorizon~master~I1c561607551fe6ed521772688b643cb27400e24e,openstack/horizon,master,I1c561607551fe6ed521772688b643cb27400e24e,Support description for instance update/rebuild,MERGED,2016-04-21 08:02:27.000000000,2018-04-03 12:33:28.000000000,2018-04-03 12:33:28.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 4428}, {'_account_id': 8358}, {'_account_id': 8648}, {'_account_id': 8871}, {'_account_id': 9622}, {'_account_id': 12071}, {'_account_id': 12281}, {'_account_id': 12826}, {'_account_id': 14151}, {'_account_id': 17172}, {'_account_id': 20147}, {'_account_id': 20506}, {'_account_id': 21113}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-04-21 08:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ecab9b6787caea78f13593a02631d04fc4eac60b', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 2, 'created': '2016-04-22 06:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/593711d1c757330fe9dcfd599c119678d76671b3', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 3, 'created': '2016-06-07 03:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/92eddf8b5b63f060e21cf829e7c7ea5d59c3ed3d', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 4, 'created': '2016-06-07 09:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d2a31df603ea58485e8220018ea5e1e8d3fad808', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 5, 'created': '2016-06-08 02:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/5838069215b864f1c934f85e74a25983133f3a9f', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 6, 'created': '2016-06-15 07:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/620b973673cef4b3f3c32cde9595fd07fcf88083', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 7, 'created': '2016-06-27 07:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8980c02515a430f98c3b6dbe8529b0fb88572b95', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 8, 'created': '2016-09-27 01:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/36b1e54872918a974429b07268120566d084d72e', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nImplement-blueprint: support-description-for-instance\n'}, {'number': 9, 'created': '2018-03-07 01:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f8120be9640c1a866b6a83428a302826ee35fe96', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nCloses-bug: #1753661\n'}, {'number': 10, 'created': '2018-03-07 03:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eccbc39b461a941d16d76055fa69ea825ffab2f7', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nCloses-bug: #1753661\n'}, {'number': 11, 'created': '2018-03-29 02:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e9b8ccaf47e5aae56f5c75ae05d4731e22fe0672', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nCloses-bug: #1753661\n'}, {'number': 12, 'created': '2018-03-30 03:02:57.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/workflows/update_instance.py', 'openstack_dashboard/dashboards/project/instances/tests.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2ad84cb34ff6a6b72c8a65fd91f2a731a149ab3f', 'message': 'Support description for instance update/rebuild\n\nIn Nova Compute API microversion 2.19, you can specify a description\nattribute when creating, rebuilding, or updating a server instance. This\ndescription can be retrieved by getting server details, or list details\nfor servers, this patch adds support for this attribute for instance in\nhorizon.\nThis patch adds description for instance update/rebuild\n\nChange-Id: I1c561607551fe6ed521772688b643cb27400e24e\nCloses-bug: #1753661\n'}]",19,308822,2ad84cb34ff6a6b72c8a65fd91f2a731a149ab3f,76,17,12,4428,,,0,"Support description for instance update/rebuild

In Nova Compute API microversion 2.19, you can specify a description
attribute when creating, rebuilding, or updating a server instance. This
description can be retrieved by getting server details, or list details
for servers, this patch adds support for this attribute for instance in
horizon.
This patch adds description for instance update/rebuild

Change-Id: I1c561607551fe6ed521772688b643cb27400e24e
Closes-bug: #1753661
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/308822/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/workflows/update_instance.py', 'openstack_dashboard/dashboards/project/instances/forms.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/api/nova.py']",4,ecab9b6787caea78f13593a02631d04fc4eac60b,bug/1753661," disk_config=None, description=None): kwargs = {} if description: kwargs['description'] = description password, disk_config, **kwargs) kwargs = {} if description: kwargs['description'] = description return novaclient(request).servers.update(instance_id, name=name, **kwargs)"," disk_config=None): password, disk_config) return novaclient(request).servers.update(instance_id, name=name, description=description)",47,9
openstack%2Fopenstack-ansible-tests~stable%2Fpike~I49052809c4970592c40a394a31a4d8eca12116e5,openstack/openstack-ansible-tests,stable/pike,I49052809c4970592c40a394a31a4d8eca12116e5,ARA: Prepare the ARA plugin for all the tests,MERGED,2018-03-26 10:32:28.000000000,2018-04-03 12:29:12.000000000,2018-04-03 12:29:11.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-26 10:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5e2bda8a20685edd13b6415977a6161312695b9c', 'message': 'ARA: Prepare the ARA plugin for all the tests\n\nRight now, ARA is being setup when we are running functional tests.\nHowever, we could use it for other type of tests such as the upgrade\nones. As such, we can setup ARA by default as part of the environment\npreparation steps.\n\nChange-Id: I49052809c4970592c40a394a31a4d8eca12116e5\n(cherry picked from commit 6b127cb2bcea5389528558b6a3f2a4a987c5f7e1)\n'}, {'number': 2, 'created': '2018-03-26 10:33:26.000000000', 'files': ['test-ansible-env-prep.sh', 'test-ansible-functional.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/392a240642c74d079a41d4dff7a961a01a62264a', 'message': 'ARA: Prepare the ARA plugin for all the tests\n\nRight now, ARA is being setup when we are running functional tests.\nHowever, we could use it for other type of tests such as the upgrade\nones. As such, we can setup ARA by default as part of the environment\npreparation steps.\n\nChange-Id: I49052809c4970592c40a394a31a4d8eca12116e5\n(cherry picked from commit 6b127cb2bcea5389528558b6a3f2a4a987c5f7e1)\n'}]",0,556475,392a240642c74d079a41d4dff7a961a01a62264a,8,3,2,6816,,,0,"ARA: Prepare the ARA plugin for all the tests

Right now, ARA is being setup when we are running functional tests.
However, we could use it for other type of tests such as the upgrade
ones. As such, we can setup ARA by default as part of the environment
preparation steps.

Change-Id: I49052809c4970592c40a394a31a4d8eca12116e5
(cherry picked from commit 6b127cb2bcea5389528558b6a3f2a4a987c5f7e1)
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/75/556475/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-ansible-env-prep.sh', 'test-ansible-functional.sh']",2,5e2bda8a20685edd13b6415977a6161312695b9c,prepare-ara-for-all-tests,,"function setup_ara { # Don't do anything if ARA has already been set up [[ -L ""${ANSIBLE_PLUGIN_DIR}/callback/ara"" ]] && return 0 # Install ARA from source if running in ARA gate, otherwise install from PyPi ARA_SRC_HOME=""${TESTING_HOME}/src/git.openstack.org/openstack/ara"" if [[ -d ""${ARA_SRC_HOME}"" ]]; then pip install --constraint ""${COMMON_TESTS_PATH}/test-ansible-deps.txt"" ""${ARA_SRC_HOME}"" else pip install --constraint ""${COMMON_TESTS_PATH}/test-ansible-deps.txt"" ara==0.14.0 fi # Dynamically figure out the location of ARA (ex: py2 vs py3) ara_location=$(python -c ""import os,ara; print(os.path.dirname(ara.__file__))"") echo ""Linking ${ANSIBLE_PLUGIN_DIR}/callback/ara to ${ara_location}/plugins/callbacks/"" mkdir -p ""${ANSIBLE_PLUGIN_DIR}/callback/ara"" ln -sf ""${ara_location}/plugins/callbacks"" ""${ANSIBLE_PLUGIN_DIR}/callback/ara/"" } setup_ara",24,23
openstack%2Fhorizon~master~I8e74ed93085733f781c99423b6b1c7b15f5ea244,openstack/horizon,master,I8e74ed93085733f781c99423b6b1c7b15f5ea244,Drop FWaaS related SCSS entries,MERGED,2018-03-11 00:46:59.000000000,2018-04-03 12:26:55.000000000,2018-04-03 12:26:55.000000000,"[{'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 24056}]","[{'number': 1, 'created': '2018-03-11 00:46:59.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/components/_resource_topology.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/4034f92acce3775b332913007ec8a9fa8311c28f', 'message': 'Drop FWaaS related SCSS entries\n\nThey are forgot to split out from horizon.\nThey already have been moved to neutron-fwaas-dashboard\nin https://review.openstack.org/#/c/541055/,\nso we can safely drop them from horizon.\n\nChange-Id: I8e74ed93085733f781c99423b6b1c7b15f5ea244\nCloses-Bug: #1747500\n'}]",0,551726,4034f92acce3775b332913007ec8a9fa8311c28f,8,4,1,841,,,0,"Drop FWaaS related SCSS entries

They are forgot to split out from horizon.
They already have been moved to neutron-fwaas-dashboard
in https://review.openstack.org/#/c/541055/,
so we can safely drop them from horizon.

Change-Id: I8e74ed93085733f781c99423b6b1c7b15f5ea244
Closes-Bug: #1747500
",git fetch https://review.opendev.org/openstack/horizon refs/changes/26/551726/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/dashboard/scss/components/_resource_topology.scss'],1,4034f92acce3775b332913007ec8a9fa8311c28f,bug/1747500,} ," #selected_rule { @include common_box_list_selected(""rule""); } #selected_router { @include common_box_list_selected(""router""); } }",1,7
openstack%2Fcompute-hyperv~stable%2Focata~Ibaa405577d4fa06f27fdd9440aca49be0c620af5,openstack/compute-hyperv,stable/ocata,Ibaa405577d4fa06f27fdd9440aca49be0c620af5,Raise proper exception in case of vif plug errors,MERGED,2018-04-03 10:51:18.000000000,2018-04-03 12:17:14.000000000,2018-04-03 12:17:14.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}, {'_account_id': 26415}]","[{'number': 1, 'created': '2018-04-03 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/62adf78a898ff6913c53c644764763316e07068e', 'message': ""Raise proper exception in case of vif plug errors\n\nThe Nova Compute manager expects a VirtualInterfacePlugException\nexception to be raised when a vif plug fails.\n\nThis particularly affects the service initialization step. If we're\nraising an exception other than the above mentioned one, the exception\nwon't be cought, in which case the Nova Compute service will stop.\n\nThis change ensures that we're raising the expected exception if vif\nplugging fails.\n\nChange-Id: Ibaa405577d4fa06f27fdd9440aca49be0c620af5\nCloses-bug: #1736392\n""}, {'number': 2, 'created': '2018-04-03 10:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/47d04173ffbf0fbbd1cf7227ca061ccdb580c80d', 'message': ""Raise proper exception in case of vif plug errors\n\nThe Nova Compute manager expects a VirtualInterfacePlugException\nexception to be raised when a vif plug fails.\n\nThis particularly affects the service initialization step. If we're\nraising an exception other than the above mentioned one, the exception\nwon't be cought, in which case the Nova Compute service will stop.\n\nThis change ensures that we're raising the expected exception if vif\nplugging fails.\n\n(cherry picked from commit 6adc5cf4d4201ac59b12a4403e2979c08a9fa927)\n\nChange-Id: Ibaa405577d4fa06f27fdd9440aca49be0c620af5\nCloses-bug: #1736392\n""}, {'number': 3, 'created': '2018-04-03 11:53:45.000000000', 'files': ['hyperv/nova/vmops.py', 'hyperv/tests/unit/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/fc62f89fc3036b1d5e5cd160d306de66686f0e9d', 'message': ""Raise proper exception in case of vif plug errors\n\nThe Nova Compute manager expects a VirtualInterfacePlugException\nexception to be raised when a vif plug fails.\n\nThis particularly affects the service initialization step. If we're\nraising an exception other than the above mentioned one, the exception\nwon't be cought, in which case the Nova Compute service will stop.\n\nThis change ensures that we're raising the expected exception if vif\nplugging fails.\n\n(cherry picked from commit 6adc5cf4d4201ac59b12a4403e2979c08a9fa927)\n\nChange-Id: Ibaa405577d4fa06f27fdd9440aca49be0c620af5\nCloses-bug: #1736392\n""}]",0,558473,fc62f89fc3036b1d5e5cd160d306de66686f0e9d,10,4,3,8543,,,0,"Raise proper exception in case of vif plug errors

The Nova Compute manager expects a VirtualInterfacePlugException
exception to be raised when a vif plug fails.

This particularly affects the service initialization step. If we're
raising an exception other than the above mentioned one, the exception
won't be cought, in which case the Nova Compute service will stop.

This change ensures that we're raising the expected exception if vif
plugging fails.

(cherry picked from commit 6adc5cf4d4201ac59b12a4403e2979c08a9fa927)

Change-Id: Ibaa405577d4fa06f27fdd9440aca49be0c620af5
Closes-bug: #1736392
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/73/558473/1 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/vmops.py', 'hyperv/tests/unit/test_vmops.py']",2,62adf78a898ff6913c53c644764763316e07068e,bug/1736392," def test_plug_vifs_failed(self): mock_instance = fake_instance.fake_instance_obj(self.context) fake_vif1 = {'id': mock.sentinel.ID1, 'type': mock.sentinel.vif_type1} mock_network_info = [fake_vif1] self._vmops._vif_driver.plug.side_effect = exception.NovaException self.assertRaises(exception.VirtualInterfacePlugException, self._vmops.plug_vifs, mock_instance, mock_network_info) ",,18,1
openstack%2Fmonasca-ui~master~I76154ba2d3bc2993b5b3b8e37351ce2282a13f90,openstack/monasca-ui,master,I76154ba2d3bc2993b5b3b8e37351ce2282a13f90,Fix misleading validation error,MERGED,2018-03-29 05:45:36.000000000,2018-04-03 12:10:25.000000000,2018-04-03 11:53:10.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 26639}, {'_account_id': 26702}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-03-29 05:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/683454ed864809cff5676122a2f50a9bba7ea100', 'message': 'Fix misleading validation error\n\nChange-Id: I76154ba2d3bc2993b5b3b8e37351ce2282a13f90\n'}, {'number': 2, 'created': '2018-03-29 06:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/c30ab090c532c768ad1945e77541fb41aa2a8685', 'message': 'Fix misleading validation error\n\nChange-Id: I76154ba2d3bc2993b5b3b8e37351ce2282a13f90\n'}, {'number': 3, 'created': '2018-03-29 08:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/8a2e4b57551ac31b94b37adcb220053216f15621', 'message': 'Fix misleading validation error\n\nChange-Id: I76154ba2d3bc2993b5b3b8e37351ce2282a13f90\n'}, {'number': 4, 'created': '2018-03-29 08:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/af03a942d81197ffd820b80f912dae62dde26dcd', 'message': 'Fix misleading validation error\n\nStory: 2001758\nTask: 12156\n\nChange-Id: I76154ba2d3bc2993b5b3b8e37351ce2282a13f90\n'}, {'number': 5, 'created': '2018-03-29 09:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/bcc17f78624be4d1aa54a30562ae2cf65dd0dac2', 'message': 'Fix misleading validation error\n\nStory: 2001758\nTask: 12156\n\nChange-Id: I76154ba2d3bc2993b5b3b8e37351ce2282a13f90\n'}, {'number': 6, 'created': '2018-04-03 04:57:10.000000000', 'files': ['monitoring/alarmdefs/workflows.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/56e903db8c0a9e529c1668b25c8384dd17ac647e', 'message': 'Fix misleading validation error\n\nStory: 2001758\nTask: 12156\n\nChange-Id: I76154ba2d3bc2993b5b3b8e37351ce2282a13f90\n'}]",1,557601,56e903db8c0a9e529c1668b25c8384dd17ac647e,24,7,6,16171,,,0,"Fix misleading validation error

Story: 2001758
Task: 12156

Change-Id: I76154ba2d3bc2993b5b3b8e37351ce2282a13f90
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/01/557601/6 && git format-patch -1 --stdout FETCH_HEAD,['monitoring/alarmdefs/workflows.py'],1,683454ed864809cff5676122a2f50a9bba7ea100,fix-misleading-validation-error," alarm_def_name = cleaned_data.get('name', '').strip() if not alarm_def_name: self.add_error('name', _('Alarm name can not be empty'))"," alarm_def_name = cleaned_data.get('name', '')",4,1
openstack%2Fopenstack-ansible-os_sahara~master~Id885b50194f386bc2480b9af89c747476ed8cbe1,openstack/openstack-ansible-os_sahara,master,Id885b50194f386bc2480b9af89c747476ed8cbe1,Deprecate auth_uri option,MERGED,2018-04-03 06:17:09.000000000,2018-04-03 12:09:42.000000000,2018-04-03 12:09:42.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 06:17:09.000000000', 'files': ['templates/sahara.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/ef3cf6231a8370e7523f8a0098da728af307b89d', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: Id885b50194f386bc2480b9af89c747476ed8cbe1\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558378,ef3cf6231a8370e7523f8a0098da728af307b89d,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: Id885b50194f386bc2480b9af89c747476ed8cbe1
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/78/558378/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/sahara.conf.j2'],1,ef3cf6231a8370e7523f8a0098da728af307b89d,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_cinder~master~I6f7ba1de5152e62eae1e83f972830d61e37aede3,openstack/openstack-ansible-os_cinder,master,I6f7ba1de5152e62eae1e83f972830d61e37aede3,Deprecate auth_uri option,MERGED,2018-04-03 06:17:11.000000000,2018-04-03 12:07:05.000000000,2018-04-03 12:07:05.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:11.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/83da6e06cb38335d3563a642a613ddf7c579f2ca', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I6f7ba1de5152e62eae1e83f972830d61e37aede3\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558390,83da6e06cb38335d3563a642a613ddf7c579f2ca,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I6f7ba1de5152e62eae1e83f972830d61e37aede3
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/90/558390/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,83da6e06cb38335d3563a642a613ddf7c579f2ca,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_ironic~master~I7bccd08bf45b3c9dddad9a0ada58fc3038fe9d79,openstack/openstack-ansible-os_ironic,master,I7bccd08bf45b3c9dddad9a0ada58fc3038fe9d79,Deprecate auth_uri option,MERGED,2018-04-03 06:17:11.000000000,2018-04-03 11:56:58.000000000,2018-04-03 11:56:58.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:11.000000000', 'files': ['templates/ironic.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/566d239d576a95b1aa91e5f40ba339b2a84601a6', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I7bccd08bf45b3c9dddad9a0ada58fc3038fe9d79\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558388,566d239d576a95b1aa91e5f40ba339b2a84601a6,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I7bccd08bf45b3c9dddad9a0ada58fc3038fe9d79
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/88/558388/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ironic.conf.j2'],1,566d239d576a95b1aa91e5f40ba339b2a84601a6,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_aodh~master~Ie37fb7df4837c53427975b1bb69769e6b87a1c20,openstack/openstack-ansible-os_aodh,master,Ie37fb7df4837c53427975b1bb69769e6b87a1c20,Deprecate auth_uri option,MERGED,2018-04-03 06:17:11.000000000,2018-04-03 11:54:45.000000000,2018-04-03 11:54:45.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:11.000000000', 'files': ['templates/aodh.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/2d37d17c09e1054e80481247f1541bcba3ff427c', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: Ie37fb7df4837c53427975b1bb69769e6b87a1c20\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558387,2d37d17c09e1054e80481247f1541bcba3ff427c,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: Ie37fb7df4837c53427975b1bb69769e6b87a1c20
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/87/558387/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/aodh.conf.j2'],1,2d37d17c09e1054e80481247f1541bcba3ff427c,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fmistral-tempest-plugin~master~Ib46160c8057feafb15b42c64a1834fcbea124d37,openstack/mistral-tempest-plugin,master,Ib46160c8057feafb15b42c64a1834fcbea124d37,Update the old doc links,MERGED,2018-03-14 07:40:42.000000000,2018-04-03 11:49:11.000000000,2018-04-03 11:49:11.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-03-14 07:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/00fd31f2d77da8590b9a312194a0b1929bf8d104', 'message': 'Update the old doc links\n\nThe links in CONTRIBUTING.rst and setup.cfg are old or invalid.\nUpdate them to the right ones according to the OpenStack websites.\n\nChange-Id: Ib46160c8057feafb15b42c64a1834fcbea124d37\n'}, {'number': 2, 'created': '2018-03-30 11:22:41.000000000', 'files': ['CONTRIBUTING.rst', 'setup.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral-tempest-plugin/commit/d5aee26a7d11bafb1d32758f095227d8b3694dd1', 'message': 'Update the old doc links\n\nThe links in CONTRIBUTING.rst and setup.cfg are old or invalid.\nUpdate them to the right ones according to the OpenStack websites.\n\nChange-Id: Ib46160c8057feafb15b42c64a1834fcbea124d37\n'}]",0,552821,d5aee26a7d11bafb1d32758f095227d8b3694dd1,17,5,2,23317,,,0,"Update the old doc links

The links in CONTRIBUTING.rst and setup.cfg are old or invalid.
Update them to the right ones according to the OpenStack websites.

Change-Id: Ib46160c8057feafb15b42c64a1834fcbea124d37
",git fetch https://review.opendev.org/openstack/mistral-tempest-plugin refs/changes/21/552821/2 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'setup.cfg']",2,00fd31f2d77da8590b9a312194a0b1929bf8d104,fix,home-page = https://git.openstack.org/cgit/openstack/mistral-tempest-plugin,home-page = http://www.openstack.org/,3,3
openstack%2Fmistral-dashboard~master~I9a652d01fcc1a13e07f94a9a7e48b23d1877e1c8,openstack/mistral-dashboard,master,I9a652d01fcc1a13e07f94a9a7e48b23d1877e1c8,Add py35 to tox.ini,MERGED,2018-03-26 14:22:52.000000000,2018-04-03 11:48:45.000000000,2018-04-03 11:48:45.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 14:22:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/78ae62315e56a35abf9f603a4df86d81b2b31363', 'message': 'Add py35 to tox.ini\n\nAdd py35 to tox.ini so we can check\nfor pyhton3 compatibility.\n\nChange-Id: I9a652d01fcc1a13e07f94a9a7e48b23d1877e1c8\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}]",0,556542,78ae62315e56a35abf9f603a4df86d81b2b31363,7,3,1,24,,,0,"Add py35 to tox.ini

Add py35 to tox.ini so we can check
for pyhton3 compatibility.

Change-Id: I9a652d01fcc1a13e07f94a9a7e48b23d1877e1c8
Signed-off-by: Charles Short <zulcss@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/42/556542/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,78ae62315e56a35abf9f603a4df86d81b2b31363,python3,"envlist = pep8,py27,py35","envlist = pep8,py27",1,1
openstack%2Fpuppet-ceilometer~master~I1bd6e45060f90fcbc44658f75af45e1b4ebc7acf,openstack/puppet-ceilometer,master,I1bd6e45060f90fcbc44658f75af45e1b4ebc7acf,Add cinder metrics to polling.yaml,MERGED,2018-04-01 13:56:32.000000000,2018-04-03 11:48:38.000000000,2018-04-03 11:21:54.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 13:56:32.000000000', 'files': ['templates/polling.yaml.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/49d53d4c67e2aefde09c246ad6d4884add852670', 'message': 'Add cinder metrics to polling.yaml\n\nAs of [1] you can skip using cinder-volume-usage-audit\nand instead let the ceilometer-polling agent poll the\ncinder API for the data.\n\nCeilometer itself should know if cinder is available\nor not.\n\n[1] https://review.openstack.org/#/c/388584/\n\nChange-Id: I1bd6e45060f90fcbc44658f75af45e1b4ebc7acf\n'}]",0,558111,49d53d4c67e2aefde09c246ad6d4884add852670,12,4,1,16137,,,0,"Add cinder metrics to polling.yaml

As of [1] you can skip using cinder-volume-usage-audit
and instead let the ceilometer-polling agent poll the
cinder API for the data.

Ceilometer itself should know if cinder is available
or not.

[1] https://review.openstack.org/#/c/388584/

Change-Id: I1bd6e45060f90fcbc44658f75af45e1b4ebc7acf
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/11/558111/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/polling.yaml.erb'],1,49d53d4c67e2aefde09c246ad6d4884add852670,polling-add-cinder, - volume.size - volume.snapshot.size - volume.backup.size,,3,0
openstack%2Fopenstack-ansible-os_designate~master~Iad53f424b4b6e197653bf9ddb428a78f75126dbd,openstack/openstack-ansible-os_designate,master,Iad53f424b4b6e197653bf9ddb428a78f75126dbd,Deprecate auth_uri option,MERGED,2018-04-03 06:17:09.000000000,2018-04-03 11:47:47.000000000,2018-04-03 11:47:47.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:09.000000000', 'files': ['templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/0b96636304b3ca3dccd4bdf36aaf1eef028bd8b7', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: Iad53f424b4b6e197653bf9ddb428a78f75126dbd\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558377,0b96636304b3ca3dccd4bdf36aaf1eef028bd8b7,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: Iad53f424b4b6e197653bf9ddb428a78f75126dbd
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/77/558377/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/designate.conf.j2'],1,0b96636304b3ca3dccd4bdf36aaf1eef028bd8b7,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_glance~master~I5f439e371853921394698bf385b7f1fa012d476e,openstack/openstack-ansible-os_glance,master,I5f439e371853921394698bf385b7f1fa012d476e,Deprecate auth_uri option,MERGED,2018-04-03 06:17:09.000000000,2018-04-03 11:45:55.000000000,2018-04-03 11:45:55.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:09.000000000', 'files': ['templates/glance-registry.conf.j2', 'templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/4968cfd8d690ffcfadc334f38d96770598de21e8', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I5f439e371853921394698bf385b7f1fa012d476e\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558381,4968cfd8d690ffcfadc334f38d96770598de21e8,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I5f439e371853921394698bf385b7f1fa012d476e
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/81/558381/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-registry.conf.j2', 'templates/glance-api.conf.j2']",2,4968cfd8d690ffcfadc334f38d96770598de21e8,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},2,2
openstack%2Frally~master~Ibcb949ad98323f770bf20f144ad66b4a47c00e22,openstack/rally,master,Ibcb949ad98323f770bf20f144ad66b4a47c00e22,[verify] Add support for sTestr,MERGED,2018-02-23 10:38:03.000000000,2018-04-03 11:45:04.000000000,2018-02-24 09:43:43.000000000,"[{'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 10:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/1c1d4ce5f1d98e1a1eac490b85c072ebedef9ecf', 'message': '[wip][verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 2, 'created': '2018-02-23 12:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/74e3c417ef5d387b84d581d0929ba23c6c797c5a', 'message': '[wip][verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 3, 'created': '2018-02-23 13:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c79983e68aff8a1a6ded56ebb500734a595dad74', 'message': '[wip][verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 4, 'created': '2018-02-23 14:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/0616c76a3d6153df200c6c06f7ae7ea1b8271ef4', 'message': '[wip][verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 5, 'created': '2018-02-23 15:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3d9817f0f169126d65ea1e3aa50bb901ae500362', 'message': '[wip][verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 6, 'created': '2018-02-23 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f7870c0136fb573d6eabac79b8885dda7f4ba48c', 'message': '[wip][verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 7, 'created': '2018-02-23 16:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e4e42decbc4d441389dc60f1369b3f520e522db9', 'message': '[verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 8, 'created': '2018-02-23 16:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c7f50fa571e24e5b421dee552e87abb576a8618a', 'message': '[verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}, {'number': 9, 'created': '2018-02-23 16:30:25.000000000', 'files': ['rally/plugins/common/verification/testr.py', 'tests/unit/plugins/common/verification/test_testr.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/dbf0329303b9e2137c040c66c8db0c54907d80e2', 'message': '[verify] Add support for sTestr\n\nTempest team switched from `testr` to `stestr` tool. `stestr` is\nmodified version of original `testr` and has the similar interface.\nThe support of a new tool can be easily integrated in the currect\nTestrRunner\n\nChange-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22\n'}]",0,547367,dbf0329303b9e2137c040c66c8db0c54907d80e2,31,4,9,9545,,,0,"[verify] Add support for sTestr

Tempest team switched from `testr` to `stestr` tool. `stestr` is
modified version of original `testr` and has the similar interface.
The support of a new tool can be easily integrated in the currect
TestrRunner

Change-Id: Ibcb949ad98323f770bf20f144ad66b4a47c00e22
",git fetch https://review.opendev.org/openstack/rally refs/changes/67/547367/3 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/common/verification/testr.py'],1,1c1d4ce5f1d98e1a1eac490b85c072ebedef9ecf,fix_tempest," if getattr(self.verifier.manager, ""_testr"", True): base_cmd = ""testr"" else: base_cmd = ""stestr"" self.context[""testr_cmd""] = [base_cmd, ""run"", ""--subunit""] """"""Testr/sTestr wrapper."""""" def __init__(self, *args, **kwargs): super(TestrLauncher, self).__init__(*args, **kwargs) self._testr = os.path.exists(os.path.join(self.repo_dir, "".testr"")) if self._testr: base_cmd = ""testr"" else: base_cmd = ""stestr"" try: utils.check_output([base_cmd, ""init""], cwd=self.repo_dir, if self._testr: cmd = [""testr"", ""list-tests"", pattern] else: cmd = [""stestr"", ""list"", pattern] output = utils.check_output(cmd,"," self.context[""testr_cmd""] = [""testr"", ""run"", ""--subunit""] """"""Testr wrapper."""""" try: utils.check_output([""testr"", ""init""], cwd=self.repo_dir, output = utils.check_output([""testr"", ""list-tests"", pattern],",20,4
openstack%2Fopenstack-ansible-os_gnocchi~master~I37fe1d95bf867e6ef3b68db69fc01fbda12648ca,openstack/openstack-ansible-os_gnocchi,master,I37fe1d95bf867e6ef3b68db69fc01fbda12648ca,Deprecate auth_uri option,MERGED,2018-04-03 06:20:28.000000000,2018-04-03 11:43:09.000000000,2018-04-03 11:43:09.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:20:28.000000000', 'files': ['templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/d8e45f62cb4ed2b43172f75356526b2054ad33ca', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I37fe1d95bf867e6ef3b68db69fc01fbda12648ca\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558391,d8e45f62cb4ed2b43172f75356526b2054ad33ca,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I37fe1d95bf867e6ef3b68db69fc01fbda12648ca
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/91/558391/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/gnocchi.conf.j2'],1,d8e45f62cb4ed2b43172f75356526b2054ad33ca,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_zaqar~master~I2a36117967d222529f0fe8f87eaf93d46d4219be,openstack/openstack-ansible-os_zaqar,master,I2a36117967d222529f0fe8f87eaf93d46d4219be,Deprecate auth_uri option,MERGED,2018-04-03 06:17:10.000000000,2018-04-03 11:42:50.000000000,2018-04-03 11:42:50.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 06:17:10.000000000', 'files': ['templates/zaqar.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zaqar/commit/c81b97ccffd8a58e2b0d70b3824a51073cdd021f', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I2a36117967d222529f0fe8f87eaf93d46d4219be\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558386,c81b97ccffd8a58e2b0d70b3824a51073cdd021f,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I2a36117967d222529f0fe8f87eaf93d46d4219be
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zaqar refs/changes/86/558386/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/zaqar.conf.j2'],1,c81b97ccffd8a58e2b0d70b3824a51073cdd021f,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_watcher~master~I22b9d0f06d2c547bc7ee6ae47a0bb0393ddede3d,openstack/openstack-ansible-os_watcher,master,I22b9d0f06d2c547bc7ee6ae47a0bb0393ddede3d,Deprecate auth_uri option,MERGED,2018-04-03 06:17:05.000000000,2018-04-03 11:38:33.000000000,2018-04-03 11:38:33.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 06:17:05.000000000', 'files': ['templates/watcher.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_watcher/commit/92146602e6af08bcb4c93e0ea4248bc30ac553a7', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I22b9d0f06d2c547bc7ee6ae47a0bb0393ddede3d\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558373,92146602e6af08bcb4c93e0ea4248bc30ac553a7,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I22b9d0f06d2c547bc7ee6ae47a0bb0393ddede3d
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_watcher refs/changes/73/558373/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/watcher.conf.j2'],1,92146602e6af08bcb4c93e0ea4248bc30ac553a7,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_ceilometer~master~I8f051b227247e843ceac35b23ed1bff75dbf8841,openstack/openstack-ansible-os_ceilometer,master,I8f051b227247e843ceac35b23ed1bff75dbf8841,Deprecate auth_uri option,MERGED,2018-04-03 06:17:09.000000000,2018-04-03 11:36:46.000000000,2018-04-03 11:36:46.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:09.000000000', 'files': ['templates/ceilometer.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/2012624c78e96210715e80157d8b09390b639702', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I8f051b227247e843ceac35b23ed1bff75dbf8841\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558384,2012624c78e96210715e80157d8b09390b639702,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I8f051b227247e843ceac35b23ed1bff75dbf8841
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/84/558384/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ceilometer.conf.j2'],1,2012624c78e96210715e80157d8b09390b639702,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible-os_cloudkitty~master~I5e2ac3a6b044515c84695b441602b254f4859bd8,openstack/openstack-ansible-os_cloudkitty,master,I5e2ac3a6b044515c84695b441602b254f4859bd8,Deprecate auth_uri option,MERGED,2018-04-03 06:17:10.000000000,2018-04-03 11:30:21.000000000,2018-04-03 11:30:21.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-03 06:17:10.000000000', 'files': ['templates/cloudkitty.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/90870091853916a75ef5871c2bf1cf6b80065c62', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I5e2ac3a6b044515c84695b441602b254f4859bd8\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558385,90870091853916a75ef5871c2bf1cf6b80065c62,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I5e2ac3a6b044515c84695b441602b254f4859bd8
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/85/558385/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cloudkitty.conf.j2'],1,90870091853916a75ef5871c2bf1cf6b80065c62,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fopenstack-ansible~stable%2Fpike~If66676454f06f08e4a244e95338790af3f94afa7,openstack/openstack-ansible,stable/pike,If66676454f06f08e4a244e95338790af3f94afa7,[DNM] Test gate,ABANDONED,2018-04-01 16:21:54.000000000,2018-04-03 11:26:51.000000000,,"[{'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-04-01 16:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13df860db5ec149db2f6c0f983c7670f4a4f59bb', 'message': '[DNM] Test gate\n\nChange-Id: If66676454f06f08e4a244e95338790af3f94afa7\n'}, {'number': 2, 'created': '2018-04-01 16:36:40.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7c1651abacec208eb934483bbf1945426544b5ce', 'message': '[DNM] Test gate\n\nChange-Id: If66676454f06f08e4a244e95338790af3f94afa7\n'}]",0,558117,7c1651abacec208eb934483bbf1945426544b5ce,7,2,2,17799,,,0,"[DNM] Test gate

Change-Id: If66676454f06f08e4a244e95338790af3f94afa7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/17/558117/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,13df860db5ec149db2f6c0f983c7670f4a4f59bb,test-gate,,,1,0
openstack%2Fopenstack-ansible~stable%2Fqueens~If66676454f06f08e4a244e95338790af3f94afa7,openstack/openstack-ansible,stable/queens,If66676454f06f08e4a244e95338790af3f94afa7,[DNM] Test gate,ABANDONED,2018-04-01 16:21:31.000000000,2018-04-03 11:26:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-01 16:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dac39f3ef652dddaf9d93be4e183ec1ecb162c1f', 'message': '[DNM] Test gate\n\nChange-Id: If66676454f06f08e4a244e95338790af3f94afa7\n'}, {'number': 2, 'created': '2018-04-01 16:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/04443a983342fc0c523a5141296da61d69f63da3', 'message': '[DNM] Test gate\n\nChange-Id: If66676454f06f08e4a244e95338790af3f94afa7\n'}, {'number': 3, 'created': '2018-04-01 20:55:59.000000000', 'files': ['scripts/bootstrap-ansible.sh', 'tests/bootstrap-aio.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9549199d32127ce91994beaf30019af5b7d9d052', 'message': '[DNM] Test gate\n\nChange-Id: If66676454f06f08e4a244e95338790af3f94afa7\n'}]",0,558116,9549199d32127ce91994beaf30019af5b7d9d052,7,1,3,17799,,,0,"[DNM] Test gate

Change-Id: If66676454f06f08e4a244e95338790af3f94afa7
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/16/558116/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dac39f3ef652dddaf9d93be4e183ec1ecb162c1f,test-gate,,,1,0
openstack%2Fnetworking-ovn~master~I13849da7ae52c90290c7ad4f0668440feea91c25,openstack/networking-ovn,master,I13849da7ae52c90290c7ad4f0668440feea91c25,Imported Translations from Zanata,MERGED,2018-03-01 06:31:48.000000000,2018-04-03 11:24:38.000000000,2018-04-03 11:24:38.000000000,"[{'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 21728}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-01 06:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/683192919f70cad365548d96cb10884de10ad5e2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 2, 'created': '2018-03-08 06:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/490cea2f61040351c6d3cb2c9b1c6d163485aa70', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 3, 'created': '2018-03-09 06:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d91bc5e5e70d14639ab3319d9f92f8297dee56bf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 4, 'created': '2018-03-11 06:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/400b4d4ac5a0e457bd484fcb3ecea33fdd530c3e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 5, 'created': '2018-03-13 06:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b52c0d5e6040c9e31e78e43fb8e2535d2d89f560', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 6, 'created': '2018-03-14 06:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8d61cfdc3fdf91bd9c8607ae34db99c5241620eb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 7, 'created': '2018-03-16 06:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0796c7c9f167262ebf9c19b0eb18f4ab21c6444a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 8, 'created': '2018-03-17 06:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d1fd7fbe4f30c9b4b4ff1e24c9d185d64ff8d6e6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 9, 'created': '2018-03-22 06:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/be5aced37a5b4d41d33c3e078a0f1c480811b4b3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 10, 'created': '2018-03-27 07:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2a1f9aa7c392195f3890c48b565c120e1f90a9b3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 11, 'created': '2018-03-28 07:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/472980fc52f6e8d9f3e8f641ffc2e2477a8180ba', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}, {'number': 12, 'created': '2018-03-29 07:12:14.000000000', 'files': ['networking_ovn/locale/en_GB/LC_MESSAGES/networking_ovn.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3cfc022fd1c2d3361ed0cb49d614bd56510dd09d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I13849da7ae52c90290c7ad4f0668440feea91c25\n'}]",2,548784,3cfc022fd1c2d3361ed0cb49d614bd56510dd09d,43,6,12,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I13849da7ae52c90290c7ad4f0668440feea91c25
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/84/548784/12 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/locale/en_GB/LC_MESSAGES/networking_ovn.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,683192919f70cad365548d96cb10884de10ad5e2,zanata/translations,"""POT-Creation-Date: 2018-02-28 11:23+0000\n""""PO-Revision-Date: 2017-10-17 07:17+0000\n""""Language: en_GB\n"" ""X-Generator: Zanata 4.3.3\n""","""POT-Creation-Date: 2017-12-14 16:58+0000\n""""PO-Revision-Date: 2017-12-12 09:16+0000\n""""Language: en-GB\n"" ""X-Generator: Zanata 3.9.6\n""msgid ""1.0.0"" msgstr ""1.0.0"" msgid ""4.0.0.0b2"" msgstr ""4.0.0.0b2"" ""Now distributed floating IP is supported and a new configuration option "" ""``enable_distributed_floating_ip`` is added to ovn group to control the "" ""feature."" msgstr """" ""Now distributed Floating IP is supported and a new configuration option "" ""``enable_distributed_floating_ip`` is added to ovn group to control the "" ""feature."" msgid """"msgid ""Support distributed floating IP."" msgstr ""Support distributed Floating IP."" ""networking-ovn ML2 mechanism driver now supports binding of direct(SR-IOV) "" ""ports. Traffic Control(TC) hardware offload framework for SR-IOV VFs was "" ""introduced in Linux kernel 4.8. Open vSwitch(OVS) 2.8 supports offloading "" ""OVS datapath rules using the TC framework. By using OVS version 2.8 and "" ""Linux kernel >= 4.8, a SR-IOV VF can be controlled via Openflow control "" ""plane."" msgstr """" ""networking-ovn ML2 mechanism driver now supports binding of direct(SR-IOV) "" ""ports. Traffic Control(TC) hardware offload framework for SR-IOV VFs was "" ""introduced in Linux kernel 4.8. Open vSwitch(OVS) 2.8 supports offloading "" ""OVS datapath rules using the TC framework. By using OVS version 2.8 and "" ""Linux kernel >= 4.8, a SR-IOV VF can be controlled via Openflow control "" ""plane."" msgid """" msgid ""support for binding a SR-IOV port in a networking-ovn deployment."" msgstr ""support for binding a SR-IOV port in a networking-ovn deployment.""",8,44
openstack%2Fopenstack-ansible-os_monasca~master~I130bfe3995bc5fbb5d9a2b13c9fcd5dac47c0085,openstack/openstack-ansible-os_monasca,master,I130bfe3995bc5fbb5d9a2b13c9fcd5dac47c0085,Deprecate auth_uri option,MERGED,2018-04-03 06:17:07.000000000,2018-04-03 11:15:41.000000000,2018-04-03 11:15:41.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 06:17:07.000000000', 'files': ['templates/monasca-api/api-config.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_monasca/commit/21d9c02e0f4272b4758919120967d8a2df1a7699', 'message': 'Deprecate auth_uri option\n\nOption auth_uri from group keystone_authtoken is deprecated[1].\nUse option www_authenticate_uri from group keystone_authtoken.\n\n[1]https://review.openstack.org/#/c/508522/\n\nChange-Id: I130bfe3995bc5fbb5d9a2b13c9fcd5dac47c0085\nImplements: blueprint deprecate-auth-uri-option\n'}]",0,558376,21d9c02e0f4272b4758919120967d8a2df1a7699,7,3,1,9414,,,0,"Deprecate auth_uri option

Option auth_uri from group keystone_authtoken is deprecated[1].
Use option www_authenticate_uri from group keystone_authtoken.

[1]https://review.openstack.org/#/c/508522/

Change-Id: I130bfe3995bc5fbb5d9a2b13c9fcd5dac47c0085
Implements: blueprint deprecate-auth-uri-option
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_monasca refs/changes/76/558376/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/monasca-api/api-config.conf.j2'],1,21d9c02e0f4272b4758919120967d8a2df1a7699,bp/deprecate-auth-uri-option,www_authenticate_uri = {{ keystone_service_internaluri }},auth_uri = {{ keystone_service_internaluri }},1,1
openstack%2Fironic~master~I0295cfa3bce09b336a3f460e3fd7741549e8483b,openstack/ironic,master,I0295cfa3bce09b336a3f460e3fd7741549e8483b,Describe unmasking fields in security document,MERGED,2018-04-03 03:07:03.000000000,2018-04-03 11:14:52.000000000,2018-04-03 11:14:52.000000000,"[{'_account_id': 6637}, {'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-04-03 03:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba9d880d2663878010f345917c3b1341ec64fc13', 'message': 'Describe unmasking fields in security document\n\nThis adds some words about how to unmask passwords or secrets applied\nby default policy.\n\nChange-Id: I0295cfa3bce09b336a3f460e3fd7741549e8483b\nStory: #1669331\nTask: #9725\n'}, {'number': 2, 'created': '2018-04-03 03:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7b5ae18c87ef64d526f7d341fc7b640d658ff47', 'message': 'Describe unmasking fields in security document\n\nThis adds some words about how to unmask passwords or secrets applied\nby default policy.\n\nChange-Id: I0295cfa3bce09b336a3f460e3fd7741549e8483b\nStory: #1669331\nTask: #9725\n'}, {'number': 3, 'created': '2018-04-03 09:17:16.000000000', 'files': ['doc/source/admin/security.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/739fa6c2ef3d4862fbe7573883307079c6d93022', 'message': 'Describe unmasking fields in security document\n\nThis adds some words about how to unmask passwords or secrets applied\nby default policy.\n\nChange-Id: I0295cfa3bce09b336a3f460e3fd7741549e8483b\nStory: #1669331\nTask: #9725\n'}]",8,558341,739fa6c2ef3d4862fbe7573883307079c6d93022,15,5,3,24828,,,0,"Describe unmasking fields in security document

This adds some words about how to unmask passwords or secrets applied
by default policy.

Change-Id: I0295cfa3bce09b336a3f460e3fd7741549e8483b
Story: #1669331
Task: #9725
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/558341/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/security.rst'],1,ba9d880d2663878010f345917c3b1341ec64fc13,story/1669331,"* By default, passwords and instance secrets are hidden in ``driver_info`` and ``instance_info``, respectively. In case of debugging or diagnosing, the behavior can be overridden by configuring policy file. As an example:: ""show_password"": ""role:is_admin"" Applying changes above to policy configuration file will unmask passwords in ``driver_info`` when requested by users with administrative privileges. hide passwords, regardless of the user's role. You can override with policy configuration described above.","* As before, passwords may be hidden in ``driver_info``. hide passwords, regardless of the user's role.",10,2
openstack%2Fpython-ironicclient~master~I5d80f06ed12b6ccc367485fa08a87ad694947b13,openstack/python-ironicclient,master,I5d80f06ed12b6ccc367485fa08a87ad694947b13,Minor version bump for 2.3.0,MERGED,2018-03-22 19:22:14.000000000,2018-04-03 11:14:50.000000000,2018-04-03 11:14:50.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 19:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/3a301aa69b70159a48de4356b188ace9a111f55d', 'message': ""Minor version bump for 2.3.0\n\nSince we've released 2.3.0 for Rocky,\nwe need to bump the version on the branch.\n\nChange-Id: I5d80f06ed12b6ccc367485fa08a87ad694947b13\nSem-Ver: feature\n""}]",0,555431,3a301aa69b70159a48de4356b188ace9a111f55d,7,3,1,11655,,,0,"Minor version bump for 2.3.0

Since we've released 2.3.0 for Rocky,
we need to bump the version on the branch.

Change-Id: I5d80f06ed12b6ccc367485fa08a87ad694947b13
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/31/555431/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,3a301aa69b70159a48de4356b188ace9a111f55d,,,,0,0
openstack%2Fironic~master~Ibdbdb11fbbf7a8872d6ad02e21ceddae6b180506,openstack/ironic,master,Ibdbdb11fbbf7a8872d6ad02e21ceddae6b180506,DevStack: Enroll node with iRMC hardware,MERGED,2018-03-28 11:40:39.000000000,2018-04-03 11:14:48.000000000,2018-04-03 11:14:47.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 11:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba598910c27e8bf509509bfac3d478f986c274c5', 'message': 'DevStack: Enroll node with iRMC hardware\n\nThis patch enables enrolling nodes with a hardware info file when iRMC\nhardware type (or classic driver) is used.\n\nChange-Id: Ibdbdb11fbbf7a8872d6ad02e21ceddae6b180506\n'}, {'number': 2, 'created': '2018-03-29 05:49:23.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/aafa9accf23210ffb42efce72a1ae6c6d7991814', 'message': 'DevStack: Enroll node with iRMC hardware\n\nThis patch enables enrolling nodes with a hardware info file when iRMC\nhardware type (or classic driver) is used.\n\nChange-Id: Ibdbdb11fbbf7a8872d6ad02e21ceddae6b180506\n'}]",0,557308,aafa9accf23210ffb42efce72a1ae6c6d7991814,24,9,2,13689,,,0,"DevStack: Enroll node with iRMC hardware

This patch enables enrolling nodes with a hardware info file when iRMC
hardware type (or classic driver) is used.

Change-Id: Ibdbdb11fbbf7a8872d6ad02e21ceddae6b180506
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/557308/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,ba598910c27e8bf509509bfac3d478f986c274c5,devstack-irmc,"# * irmc: # <BMC address> <MAC address> <BMC username> <BMC password> #function is_deployed_by_irmc { [[ -z ""${IRONIC_DEPLOY_DRIVER##*irmc}"" ]] && return 0 return 1 } elif is_deployed_by_irmc; then node_options+="" --driver-info irmc_address=$bmc_address \ --driver-info irmc_password=$bmc_passwd \ --driver-info irmc_username=$bmc_username"" if [[ -n ""$IRONIC_DEPLOY_ISO_ID"" ]]; then node_options+="" --driver-info irmc_deploy_iso=$IRONIC_DEPLOY_ISO_ID"" fi",,15,0
openstack%2Fcompute-hyperv~stable%2Fpike~Ibaa405577d4fa06f27fdd9440aca49be0c620af5,openstack/compute-hyperv,stable/pike,Ibaa405577d4fa06f27fdd9440aca49be0c620af5,Raise proper exception in case of vif plug errors,MERGED,2018-04-03 10:53:34.000000000,2018-04-03 11:14:12.000000000,2018-04-03 11:14:12.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}, {'_account_id': 26415}]","[{'number': 1, 'created': '2018-04-03 10:53:34.000000000', 'files': ['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/dda87c567e6c7b051c811972b02bd3b85b119426', 'message': ""Raise proper exception in case of vif plug errors\n\nThe Nova Compute manager expects a VirtualInterfacePlugException\nexception to be raised when a vif plug fails.\n\nThis particularly affects the service initialization step. If we're\nraising an exception other than the above mentioned one, the exception\nwon't be cought, in which case the Nova Compute service will stop.\n\nThis change ensures that we're raising the expected exception if vif\nplugging fails.\n\n(cherry picked from commit 6adc5cf4d4201ac59b12a4403e2979c08a9fa927)\n\nChange-Id: Ibaa405577d4fa06f27fdd9440aca49be0c620af5\nCloses-bug: #1736392\n""}]",0,558474,dda87c567e6c7b051c811972b02bd3b85b119426,6,3,1,8543,,,0,"Raise proper exception in case of vif plug errors

The Nova Compute manager expects a VirtualInterfacePlugException
exception to be raised when a vif plug fails.

This particularly affects the service initialization step. If we're
raising an exception other than the above mentioned one, the exception
won't be cought, in which case the Nova Compute service will stop.

This change ensures that we're raising the expected exception if vif
plugging fails.

(cherry picked from commit 6adc5cf4d4201ac59b12a4403e2979c08a9fa927)

Change-Id: Ibaa405577d4fa06f27fdd9440aca49be0c620af5
Closes-bug: #1736392
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/74/558474/1 && git format-patch -1 --stdout FETCH_HEAD,"['compute_hyperv/nova/vmops.py', 'compute_hyperv/tests/unit/test_vmops.py']",2,dda87c567e6c7b051c811972b02bd3b85b119426,bug/1736392," def test_plug_vifs_failed(self): mock_instance = fake_instance.fake_instance_obj(self.context) fake_vif1 = {'id': mock.sentinel.ID1, 'type': mock.sentinel.vif_type1} mock_network_info = [fake_vif1] self._vmops._vif_driver.plug.side_effect = exception.NovaException self.assertRaises(exception.VirtualInterfacePlugException, self._vmops.plug_vifs, mock_instance, mock_network_info) ",,18,1
openstack%2Fnova~master~Ia1e34df5a7e88c252924c25736ffb6bcaea42bfe,openstack/nova,master,Ia1e34df5a7e88c252924c25736ffb6bcaea42bfe,Fix a missing white space in exception message,MERGED,2018-04-02 09:45:59.000000000,2018-04-03 11:13:41.000000000,2018-04-03 09:08:08.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25113}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-02 09:45:59.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b6b65f5a9d75f19ad29960efb359ccb4fed1b2d', 'message': 'Fix a missing white space in exception message\n\nTrivialFix\nChange-Id: Ia1e34df5a7e88c252924c25736ffb6bcaea42bfe\n'}]",0,558183,8b6b65f5a9d75f19ad29960efb359ccb4fed1b2d,40,17,1,7634,,,0,"Fix a missing white space in exception message

TrivialFix
Change-Id: Ia1e34df5a7e88c252924c25736ffb6bcaea42bfe
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/558183/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,8b6b65f5a9d75f19ad29960efb359ccb4fed1b2d,fix_message," raise NotImplementedError(_(""Swap volume is not supported for """," raise NotImplementedError(_(""Swap volume is not supported for""",1,1
openstack%2Fnetworking-ovn~master~Id629481fd722004a7b7d827bf6209785f85f4c64,openstack/networking-ovn,master,Id629481fd722004a7b7d827bf6209785f85f4c64,Removing deprecated function 'IPWrapper.get_namespaces()',MERGED,2018-03-30 03:20:18.000000000,2018-04-03 11:09:27.000000000,2018-04-03 11:09:27.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 25903}]","[{'number': 1, 'created': '2018-03-30 03:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1e132d3dacba015491b9f6a88f06d3e3fa4d0c4f', 'message': ""Removing deprecated function 'IPWrapper.get_namespaces()'\n\n'IPWrapper.get_namespaces()' is deprecated in version 'Queens'\nand was marked to be removed 'Rocky'.\nThis patch removes it and switches to use\n'neutron.agent.linux.ip_lib.list_network_namespaces' instead.\n\nChange-Id: Id629481fd722004a7b7d827bf6209785f85f4c64\n""}, {'number': 2, 'created': '2018-03-30 07:58:27.000000000', 'files': ['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4abeca7297e4feac89f046cfdf181a09ab1a1a12', 'message': ""Removing deprecated function 'IPWrapper.get_namespaces()'\n\n'IPWrapper.get_namespaces()' is deprecated in version 'Queens'\nand was marked to be removed 'Rocky'.\nThis patch removes it and switches to use\n'neutron.agent.linux.ip_lib.list_network_namespaces' instead.\n\nChange-Id: Id629481fd722004a7b7d827bf6209785f85f4c64\n""}]",5,557875,4abeca7297e4feac89f046cfdf181a09ab1a1a12,13,6,2,25903,,,0,"Removing deprecated function 'IPWrapper.get_namespaces()'

'IPWrapper.get_namespaces()' is deprecated in version 'Queens'
and was marked to be removed 'Rocky'.
This patch removes it and switches to use
'neutron.agent.linux.ip_lib.list_network_namespaces' instead.

Change-Id: Id629481fd722004a7b7d827bf6209785f85f4c64
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/75/557875/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/unit/agent/metadata/test_agent.py']",2,1e132d3dacba015491b9f6a88f06d3e3fa4d0c4f,get_namespaces," ip_lib, 'list_network_namespaces') as gns,\ ip_lib, 'list_network_namespaces') as gns,\"," ip_wrap, 'get_namespaces') as gns,\ ip_wrap, 'get_namespaces') as gns,\",3,3
openstack%2Freleases~master~I566bcc35884ca2daf14a7d03a86d1e9a0b78fee4,openstack/releases,master,I566bcc35884ca2daf14a7d03a86d1e9a0b78fee4,Oslo releases for 2018-4-2,MERGED,2018-04-02 21:12:06.000000000,2018-04-03 11:00:36.000000000,2018-04-03 11:00:36.000000000,"[{'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 21:12:06.000000000', 'files': ['deliverables/rocky/oslo.cache.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/rocky/oslotest.yaml', 'deliverables/rocky/oslo.config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3f0072708cd42fefce83cf8354d328b3cd36035f', 'message': 'Oslo releases for 2018-4-2\n\nChange-Id: I566bcc35884ca2daf14a7d03a86d1e9a0b78fee4\n'}]",0,558312,3f0072708cd42fefce83cf8354d328b3cd36035f,7,4,1,6928,,,0,"Oslo releases for 2018-4-2

Change-Id: I566bcc35884ca2daf14a7d03a86d1e9a0b78fee4
",git fetch https://review.opendev.org/openstack/releases refs/changes/12/558312/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/oslo.cache.yaml', 'deliverables/_independent/pbr.yaml', 'deliverables/rocky/oslotest.yaml', 'deliverables/rocky/oslo.config.yaml']",4,3f0072708cd42fefce83cf8354d328b3cd36035f,oslo-2018-4-2, - projects: - hash: b6cfa2905511fef1f0f179baeadde0b2a2724487 repo: openstack/oslo.config version: 6.0.1,,16,0
openstack%2Fopenstack-ansible-os_keystone~master~Ie2970e2da3cdd64777259af6fb4f8263f072b4ad,openstack/openstack-ansible-os_keystone,master,Ie2970e2da3cdd64777259af6fb4f8263f072b4ad,defaults: main: Always build cryptography from source,ABANDONED,2017-07-24 15:23:07.000000000,2018-04-03 10:58:57.000000000,,"[{'_account_id': 538}, {'_account_id': 6593}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-07-24 15:23:07.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/6669ae61bc0c6ba2e84c9bd0458fcb87f9f96ca8', 'message': ""defaults: main: Always build cryptography from source\n\ncryptography may bundle openssl in the wheel and that causes symbol\nconflicts if a different openssl is provided by the distribution.\nAs such, it's probably safer to re-build cryptography ourselves just\nto be sure that the correct distro libraries are used. This has been\naddressed in openstack-ansible-tests/test-vars.yaml\n(https://review.openstack.org/#/c/486580/) to fix the CI tests but the\nproblem is also present on regular deployments so we set it in the\nrole's default variables as well.\n\nRelated-Bug: 1705521\nLink: https://github.com/pyca/cryptography/issues/3804\nChange-Id: Ie2970e2da3cdd64777259af6fb4f8263f072b4ad\n""}]",1,486656,6669ae61bc0c6ba2e84c9bd0458fcb87f9f96ca8,28,5,1,23163,,,0,"defaults: main: Always build cryptography from source

cryptography may bundle openssl in the wheel and that causes symbol
conflicts if a different openssl is provided by the distribution.
As such, it's probably safer to re-build cryptography ourselves just
to be sure that the correct distro libraries are used. This has been
addressed in openstack-ansible-tests/test-vars.yaml
(https://review.openstack.org/#/c/486580/) to fix the CI tests but the
problem is also present on regular deployments so we set it in the
role's default variables as well.

Related-Bug: 1705521
Link: https://github.com/pyca/cryptography/issues/3804
Change-Id: Ie2970e2da3cdd64777259af6fb4f8263f072b4ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/56/486656/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,6669ae61bc0c6ba2e84c9bd0458fcb87f9f96ca8,bug/1705521," # NOTE(hwoarang) cryptography may bundle openssl in the wheel and that # causes symbol conflicts if a different openssl is provided by the # distribution. As such, it's probably safer to re-build cryptography # ourselves just to be sure that the correct distro libraries are used # see https://github.com/pyca/cryptography/issues/3804 # This keeps poping up every now and then so it might worth keeping this # around even if the upstream issue is resolved pip_install_options: ""--no-binary cryptography""",,9,0
openstack%2Fswift~feature%2Fdeep~Ie0ae0ad91445bfb38b81679e4bc4561b9f2a7913,openstack/swift,feature/deep,Ie0ae0ad91445bfb38b81679e4bc4561b9f2a7913,Minor improvements to test_replicate_object,MERGED,2018-04-03 08:43:49.000000000,2018-04-03 10:58:39.000000000,2018-04-03 10:58:39.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 08:43:49.000000000', 'files': ['test/unit/common/test_db_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a26d73b7aace50ccbe514ada9f8d9f9e8feee9e7', 'message': 'Minor improvements to test_replicate_object\n\nChange-Id: Ie0ae0ad91445bfb38b81679e4bc4561b9f2a7913\nRelated-Change: I84b09c1a0820ec68bfb1a60f7d249bd3c2404e31\n'}]",0,558428,a26d73b7aace50ccbe514ada9f8d9f9e8feee9e7,6,2,1,7847,,,0,"Minor improvements to test_replicate_object

Change-Id: Ie0ae0ad91445bfb38b81679e4bc4561b9f2a7913
Related-Change: I84b09c1a0820ec68bfb1a60f7d249bd3c2404e31
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/558428/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/test_db_replicator.py'],1,a26d73b7aace50ccbe514ada9f8d9f9e8feee9e7,," self.assertRaises(StopIteration, next, fake_replicate.side_effect) self.assertFalse(replicator.logger.get_lines_for_level('error')) self.assertFalse(replicator.logger.get_lines_for_level('warning')) self.assertRaises(StopIteration, next, fake_replicate.side_effect) self.assertFalse(replicator.logger.get_lines_for_level('warning')) self.assertRaises(StopIteration, next, fake_replicate.side_effect) self.assertFalse(replicator.logger.get_lines_for_level('error')) self.assertFalse(replicator.logger.get_lines_for_level('warning')) self.assertRaises(StopIteration, next, fake_replicate.side_effect) self.assertFalse(replicator.logger.get_lines_for_level('warning')) self.assertRaises(StopIteration, next, fake_replicate.side_effect) self.assertFalse(replicator.logger.get_lines_for_level('error')) self.assertFalse(replicator.logger.get_lines_for_level('warning'))",,13,0
openstack%2Fnova~master~I6484984c374b20351aa406aa91beacf8ee503059,openstack/nova,master,I6484984c374b20351aa406aa91beacf8ee503059,Fix unit tests to work with new oslo.config,MERGED,2018-03-31 21:03:19.000000000,2018-04-03 10:58:35.000000000,2018-04-03 10:58:35.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-31 21:03:19.000000000', 'files': ['nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e458bd040636afea9d0d6f25931662f745bfb3dd', 'message': ""Fix unit tests to work with new oslo.config\n\nRecently [1] oslo.config started pawing at stack traces and adding\nsource filename locations to options set in code.  This breaks pretty\nhandily when you've got primitives like open and os.patch.exists mocked\nwhile you set conf options, as seen in [2].\n\nThis patch cleans up *just* the failing instances by pulling the mocks\ncloser to where they're actually being used, avoiding self.flags(...).\n\nThis isn't going to stop anyone from writing new tests that offend in\nthe same way.  The new oslo.config will, once it gets published, though\npeople are going to scratch their heads trying to figure out why.\n\nSee also dev ML thread [3].\n\n[1] I6dec1e09dcab203c6287f9c56c866f220a42f850\n[2] http://logs.openstack.org/12/557012/1/check/cross-nova-py27/37b2a7c/job-output.txt.gz#_2018-03-27_21_41_09_883881\n[3] http://lists.openstack.org/pipermail/openstack-dev/2018-March/128833.html\n\nChange-Id: I6484984c374b20351aa406aa91beacf8ee503059\n""}]",1,558084,e458bd040636afea9d0d6f25931662f745bfb3dd,17,13,1,14070,,,0,"Fix unit tests to work with new oslo.config

Recently [1] oslo.config started pawing at stack traces and adding
source filename locations to options set in code.  This breaks pretty
handily when you've got primitives like open and os.patch.exists mocked
while you set conf options, as seen in [2].

This patch cleans up *just* the failing instances by pulling the mocks
closer to where they're actually being used, avoiding self.flags(...).

This isn't going to stop anyone from writing new tests that offend in
the same way.  The new oslo.config will, once it gets published, though
people are going to scratch their heads trying to figure out why.

See also dev ML thread [3].

[1] I6dec1e09dcab203c6287f9c56c866f220a42f850
[2] http://logs.openstack.org/12/557012/1/check/cross-nova-py27/37b2a7c/job-output.txt.gz#_2018-03-27_21_41_09_883881
[3] http://lists.openstack.org/pipermail/openstack-dev/2018-March/128833.html

Change-Id: I6484984c374b20351aa406aa91beacf8ee503059
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/558084/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/image/test_glance.py', 'nova/tests/unit/virt/disk/mount/test_nbd.py']",2,e458bd040636afea9d0d6f25931662f745bfb3dd,oslo.config-eggshells," mock_nbd_connect, mock_listdir, mock_shuffle): with mock.patch('os.path.exists', side_effect=[ True, False, False, False, False, False, False, False]): n = nbd.NbdMount(self.file, tempdir) # Error logged, no device consumed self.assertFalse(n._inner_get_dev()) self.assertTrue(n.error.endswith('did not show up'))"," @mock.patch('os.path.exists', side_effect=[True, False, False, False, False, False, False, False]) mock_nbd_connect, mock_exists, mock_listdir, mock_shuffle): n = nbd.NbdMount(self.file, tempdir) # Error logged, no device consumed self.assertFalse(n._inner_get_dev()) self.assertTrue(n.error.endswith('did not show up'))",23,20
openstack%2Fopenstack-chef-repo~master~Ia1ce517d4ee6b4ba92fbca960852dbd1dcc298b6,openstack/openstack-chef-repo,master,Ia1ce517d4ee6b4ba92fbca960852dbd1dcc298b6,Increment ChefDK to 2.4,MERGED,2018-03-25 04:52:03.000000000,2018-04-03 10:52:17.000000000,2018-04-03 10:52:17.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-25 04:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/903c94ca7c129156f0e74b5becd84ac3c1b053f6', 'message': 'Increment ChefDK to 2.5\n\nDRY the pre playbook, use latest stable ChefDK\n\nChange-Id: Ia1ce517d4ee6b4ba92fbca960852dbd1dcc298b6\n'}, {'number': 2, 'created': '2018-03-25 05:54:29.000000000', 'files': ['playbooks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/929327b0fa4c2563581a69e846a871a6e4803f5c', 'message': 'Increment ChefDK to 2.4\n\nDRY the pre playbook, use ChefDK 2.4\n\nChange-Id: Ia1ce517d4ee6b4ba92fbca960852dbd1dcc298b6\n'}]",0,556137,929327b0fa4c2563581a69e846a871a6e4803f5c,9,3,2,14790,,,0,"Increment ChefDK to 2.4

DRY the pre playbook, use ChefDK 2.4

Change-Id: Ia1ce517d4ee6b4ba92fbca960852dbd1dcc298b6
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/37/556137/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/pre.yaml'],1,903c94ca7c129156f0e74b5becd84ac3c1b053f6,bump_chefdk, release: 2.5.3 chefdk: chefdk_{{ release }}-1_amd64.deb url: https://packages.chef.io/files/stable/chefdk/{{ release }}/ubuntu/16.04/{{ chefdk }}, chefdk: chefdk_2.3.4-1_amd64.deb chefdkrel: 2.3.4 url: https://packages.chef.io/files/stable/chefdk/{{ chefdkrel }}/ubuntu/16.04/{{ chefdk }},3,3
openstack%2Fopenstack-ansible-lxc_hosts~master~Ia3ebaf2125a00c4031f50bf03b60dd5659f9d660,openstack/openstack-ansible-lxc_hosts,master,Ia3ebaf2125a00c4031f50bf03b60dd5659f9d660,Fix lxc-system-manage ipv6 setup,MERGED,2018-04-02 03:42:20.000000000,2018-04-03 10:41:42.000000000,2018-04-03 10:41:42.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 03:42:20.000000000', 'files': ['templates/lxc-system-manage.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1871fbec7b8ad6fda759338389017bc478905735', 'message': ""Fix lxc-system-manage ipv6 setup\n\nWhen the lxc-dnsmasq service is restarted while ipv6 is active,\nit will always fail to restart because the ip -6 addr add command\nfails due to the address already existing on the interface.\n\nex.\nApr 01 22:39:48 lsn-mc1009 systemd[1]: Starting lxc dnsmasq service...\nApr 01 22:39:48 lsn-mc1009 lxc-system-manage[19134]: Creating LXC IPtables rules.\nApr 01 22:39:48 lsn-mc1009 lxc-system-manage[19134]: RTNETLINK answers: File exists\nApr 01 22:39:48 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Control process exited, code=exited status=2\nApr 01 22:39:48 lsn-mc1009 systemd[1]: Failed to start lxc dnsmasq service.\nApr 01 22:39:48 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Unit entered failed state.\nApr 01 22:39:48 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Failed with result 'exit-code'.\nApr 01 22:39:50 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Service hold-off time over, scheduling restart.\n\nChange-Id: Ia3ebaf2125a00c4031f50bf03b60dd5659f9d660\n""}]",0,558156,1871fbec7b8ad6fda759338389017bc478905735,7,3,1,17799,,,0,"Fix lxc-system-manage ipv6 setup

When the lxc-dnsmasq service is restarted while ipv6 is active,
it will always fail to restart because the ip -6 addr add command
fails due to the address already existing on the interface.

ex.
Apr 01 22:39:48 lsn-mc1009 systemd[1]: Starting lxc dnsmasq service...
Apr 01 22:39:48 lsn-mc1009 lxc-system-manage[19134]: Creating LXC IPtables rules.
Apr 01 22:39:48 lsn-mc1009 lxc-system-manage[19134]: RTNETLINK answers: File exists
Apr 01 22:39:48 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Control process exited, code=exited status=2
Apr 01 22:39:48 lsn-mc1009 systemd[1]: Failed to start lxc dnsmasq service.
Apr 01 22:39:48 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Unit entered failed state.
Apr 01 22:39:48 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Failed with result 'exit-code'.
Apr 01 22:39:50 lsn-mc1009 systemd[1]: lxc-dnsmasq.service: Service hold-off time over, scheduling restart.

Change-Id: Ia3ebaf2125a00c4031f50bf03b60dd5659f9d660
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/56/558156/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/lxc-system-manage.j2'],1,1871fbec7b8ad6fda759338389017bc478905735,lxcnet-v6-fix, ip -6 addr add dev ${LXC_BRIDGE} ${LXC_IPV6_ADDR}/${LXC_IPV6_MASK} || true, ip -6 addr add dev ${LXC_BRIDGE} ${LXC_IPV6_ADDR}/${LXC_IPV6_MASK},1,1
openstack%2Ftricircle~master~I7b42bfb75913190fa4bd0d892e72fec8f629d7a6,openstack/tricircle,master,I7b42bfb75913190fa4bd0d892e72fec8f629d7a6,Enable mutable config in Tricircle,MERGED,2018-03-20 03:20:30.000000000,2018-04-03 10:39:56.000000000,2018-04-03 10:39:56.000000000,"[{'_account_id': 12076}, {'_account_id': 21023}, {'_account_id': 22348}, {'_account_id': 27215}]","[{'number': 1, 'created': '2018-03-20 03:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/04ffa639ad418d56969609cea836fe4baf210a45', 'message': ""Enable mutable config in Tricircle\n\n1. What is the problem?\n\n   The oslo.config support a 'mutable' parameter to Opts.\n   This is only respected when the new method mutate_config_files\n   is called instead of reload_config_files.so we need to enable\n   mutable config in tricircle.\n\n2. What is the solution to the problem?\n\n   Depend on the two path in oslo.config which are\n   Icec3e664f3fe72614e373b2938e8dee53cf8bc5e and\n   I1e7a69de169cc85f4c09954b2f46ce2da7106d90 made the tricircle\n   have the ability to mutable config.\n\n3. What the features to be implemented in the Tricircle to realize the solution?\n\n   No new features.\n\n   Signed-off-by: song baisen <songbaisen@szzt.com.cn>\n   Co-Authored-By: zhiyuan_cai <luckyvega.g@gmail.com>\n\nChange-Id: I7b42bfb75913190fa4bd0d892e72fec8f629d7a6\n""}, {'number': 2, 'created': '2018-03-26 06:36:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/2e9320ce00e0253a0986d03860786dd73ee6ef27', 'message': ""Enable mutable config in Tricircle\n\n1. What is the problem?\n\n   The oslo.config support a 'mutable' parameter to Opts.\n   This is only respected when the new method mutate_config_files\n   is called instead of reload_config_files.so we need to enable\n   mutable config in tricircle.\n\n2. What is the solution to the problem?\n\n   Depend on the two path in oslo.config which are\n   Icec3e664f3fe72614e373b2938e8dee53cf8bc5e and\n   I1e7a69de169cc85f4c09954b2f46ce2da7106d90 made the Tricircle\n   have the ability to mutable config.\n\n3. What the features to be implemented in the Tricircle to realize the solution?\n\n   Further patches will be needed to make select config options be marked as\n   mutable. This change enables support for oslo provided config options\n   to be updated via SIGHUP such as log level.\n\n   Signed-off-by: song baisen <songbaisen@szzt.com.cn>\n   Co-Authored-By: zhiyuan_cai <luckyvega.g@gmail.com>\n\nChange-Id: I7b42bfb75913190fa4bd0d892e72fec8f629d7a6\n""}, {'number': 3, 'created': '2018-03-28 00:45:54.000000000', 'files': ['tricircle/common/restapp.py', 'tricircle/xjob/xservice.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/912a4cb25e013d9eb546044816ac408542f886fe', 'message': ""Enable mutable config in Tricircle\n\n1. What is the problem?\n\n   The oslo.config support a 'mutable' parameter to Opts.\n   This is only respected when the new method mutate_config_files\n   is called instead of reload_config_files.so we need to enable\n   mutable config in tricircle.\n\n2. What is the solution to the problem?\n\n   Depend on the two path in oslo.config which are\n   Icec3e664f3fe72614e373b2938e8dee53cf8bc5e and\n   I1e7a69de169cc85f4c09954b2f46ce2da7106d90 made the Tricircle\n   have the ability to mutable config.\n\n3. What the features to be implemented in the Tricircle to realize the solution?\n\n   Further patches will be needed to make select config options be marked as\n   mutable. This change enables support for oslo provided config options\n   to be updated via SIGHUP such as log level.\n\n   Signed-off-by: song baisen <songbaisen@szzt.com.cn>\n   Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>\n\nChange-Id: I7b42bfb75913190fa4bd0d892e72fec8f629d7a6\n""}]",1,554407,912a4cb25e013d9eb546044816ac408542f886fe,15,4,3,27215,,,0,"Enable mutable config in Tricircle

1. What is the problem?

   The oslo.config support a 'mutable' parameter to Opts.
   This is only respected when the new method mutate_config_files
   is called instead of reload_config_files.so we need to enable
   mutable config in tricircle.

2. What is the solution to the problem?

   Depend on the two path in oslo.config which are
   Icec3e664f3fe72614e373b2938e8dee53cf8bc5e and
   I1e7a69de169cc85f4c09954b2f46ce2da7106d90 made the Tricircle
   have the ability to mutable config.

3. What the features to be implemented in the Tricircle to realize the solution?

   Further patches will be needed to make select config options be marked as
   mutable. This change enables support for oslo provided config options
   to be updated via SIGHUP such as log level.

   Signed-off-by: song baisen <songbaisen@szzt.com.cn>
   Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>, zhiyuan_cai <luckyvega.g@gmail.com>

Change-Id: I7b42bfb75913190fa4bd0d892e72fec8f629d7a6
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/07/554407/1 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/common/restapp.py', 'tricircle/xjob/xservice.py']",2,04ffa639ad418d56969609cea836fe4baf210a45,s8," _launcher = srv.ProcessLauncher(CONF, restart_method='mutate') _launcher.launch_service(xservice, workers=workers)"," _launcher = srv.launch(CONF, xservice, workers=workers)",4,2
openstack%2Fopenstack-ansible-lxc_container_create~master~I0a6ec2d63bd09d87c556f2026443ac96890ce89e,openstack/openstack-ansible-lxc_container_create,master,I0a6ec2d63bd09d87c556f2026443ac96890ce89e,Add tests to ansible facts folder,ABANDONED,2017-04-18 08:54:28.000000000,2018-04-03 10:23:29.000000000,,[{'_account_id': 17068}],"[{'number': 1, 'created': '2017-04-18 08:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/972efc7b8656b304da5604954d3ba964477a0ea3', 'message': '[WIP] Ensure the facts folder has the right user\n\nremote_user was omitted!\n\nChange-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e\n'}, {'number': 2, 'created': '2017-04-18 09:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d87ccea35bbd498beef500cc6f39b43ed21ecb76', 'message': '[WIP] Ensure the facts folder has the right user\n\nremote_user was omitted!\n\nChange-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e\n'}, {'number': 3, 'created': '2017-04-18 09:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d449ec1e46ad32dd8f843405882c25637cb31c56', 'message': '[WIP] Ensure the facts folder has the right user\n\nremote_user was omitted!\n\nChange-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e\n'}, {'number': 4, 'created': '2017-04-18 10:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d439ffab9de157e24c02b95c71abc572e4fc7a9a', 'message': '[WIP] Ensure the facts folder has the right user\n\nremote_user was omitted!\n\nChange-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e\n'}, {'number': 5, 'created': '2017-04-18 10:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/df2ce35e43de49719d83273c12dd5978bcd6c489', 'message': '[WIP] Ensure the facts folder has the right user\n\nremote_user was omitted!\n\nChange-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e\n'}, {'number': 6, 'created': '2017-04-18 10:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/f70f7ffee4a03d64862816bf68c4ba7f58e587cc', 'message': '[WIP] Ensure the facts folder has the right user\n\nremote_user was omitted!\n\nChange-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e\n'}, {'number': 7, 'created': '2017-04-18 10:57:44.000000000', 'files': ['tests/test-containers-functional.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/8dae095697bf8034681fd21530370189cf1ff47d', 'message': 'Add tests to ansible facts folder\n\nWe never ensure that the facts folder are created\nand empty. This ensure Ansible is doing its job,\nwhatever the connection plugin is.\n\nChange-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e\n'}]",0,457528,8dae095697bf8034681fd21530370189cf1ff47d,18,1,7,17068,,,0,"Add tests to ansible facts folder

We never ensure that the facts folder are created
and empty. This ensure Ansible is doing its job,
whatever the connection plugin is.

Change-Id: I0a6ec2d63bd09d87c556f2026443ac96890ce89e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/28/457528/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/container_create.yml'],1,972efc7b8656b304da5604954d3ba964477a0ea3,, #remote_user: root,,1,0
openstack%2Ftripleo-ci~master~Ifc88a76df8de32b0a66bc507e337a9b407f17e29,openstack/tripleo-ci,master,Ifc88a76df8de32b0a66bc507e337a9b407f17e29,Use external RHCLOUD variable if set,MERGED,2018-04-02 08:09:02.000000000,2018-04-03 10:17:47.000000000,2018-04-03 10:17:46.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27898}]","[{'number': 1, 'created': '2018-04-02 08:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/958a0f91e46814bbc62a5c618b47e0206a7928dc', 'message': 'Make RHCLOUD configurable\n\nChange-Id: Ifc88a76df8de32b0a66bc507e337a9b407f17e29\n'}, {'number': 2, 'created': '2018-04-02 08:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7ed9df695a81478bc6e757f49b1180ab6a82bea0', 'message': 'Make RHCLOUD configurable\n\nChange-Id: Ifc88a76df8de32b0a66bc507e337a9b407f17e29\n'}, {'number': 3, 'created': '2018-04-02 08:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5e2127cae596b56f3e6de0782213d0ddbf192aa7', 'message': 'Make RHCLOUD configurable\n\nChange-Id: Ifc88a76df8de32b0a66bc507e337a9b407f17e29\n'}, {'number': 4, 'created': '2018-04-02 09:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/991fd1e7771b086526fa4f26c0cc9af8736078ef', 'message': 'Make RHCLOUD configurable\n\nChange-Id: Ifc88a76df8de32b0a66bc507e337a9b407f17e29\n'}, {'number': 5, 'created': '2018-04-02 09:40:12.000000000', 'files': ['toci_gate_test-oooq.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/06cc329f481e16308fa383d6196f61d3a9bc2d34', 'message': ""Use external RHCLOUD variable if set\n\nTo use  cloud environment different from RDO cloud it's needed to set this value to something that will\nmatch to the used cloud environment quickstart configuration. It also need to be stored at toci-quickstart config files.\n\nFor example, for the RHCLOUD foobar if testing with OVB, the following file have to be installed before running the gate test:\n\n/opt/stack/tripleo-ci/toci-quickstart/config/testenv/ovb-foobar.yml\n\nChange-Id: Ifc88a76df8de32b0a66bc507e337a9b407f17e29\n""}]",0,558174,06cc329f481e16308fa383d6196f61d3a9bc2d34,18,6,5,27898,,,0,"Use external RHCLOUD variable if set

To use  cloud environment different from RDO cloud it's needed to set this value to something that will
match to the used cloud environment quickstart configuration. It also need to be stored at toci-quickstart config files.

For example, for the RHCLOUD foobar if testing with OVB, the following file have to be installed before running the gate test:

/opt/stack/tripleo-ci/toci-quickstart/config/testenv/ovb-foobar.yml

Change-Id: Ifc88a76df8de32b0a66bc507e337a9b407f17e29
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/74/558174/4 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test-oooq.sh'],1,958a0f91e46814bbc62a5c618b47e0206a7928dc,," if [ -z ""$RHCLOUD"" ]; then # host setup export RHCLOUD='' if [ ${NODEPOOL_CLOUD:-''} == 'tripleo-test-cloud-rh1' ]; then RHCLOUD='rh1' elif [ ${NODEPOOL_PROVIDER:-''} == 'rdo-cloud-tripleo' ]; then RHCLOUD='rdocloud' fi if [[ ""$RHCLOUD"" != '' ]]; then source $(dirname $0)/scripts/$RHCLOUD.env # In order to save space remove the cached git repositories, at this point in # CI the ones we are interested in have been cloned to /opt/stack/new. We # can also remove some distro images cached on the images. sudo rm -rf /opt/git /opt/stack/cache/files/mysql.qcow2 /opt/stack/cache/files/ubuntu-12.04-x86_64.tar.gz fi"," # host setup export RHCLOUD='' if [ ${NODEPOOL_CLOUD:-''} == 'tripleo-test-cloud-rh1' ]; then RHCLOUD='rh1' elif [ ${NODEPOOL_PROVIDER:-''} == 'rdo-cloud-tripleo' ]; then RHCLOUD='rdocloud' fi if [[ ""$RHCLOUD"" != '' ]]; then source $(dirname $0)/scripts/$RHCLOUD.env # In order to save space remove the cached git repositories, at this point in # CI the ones we are interested in have been cloned to /opt/stack/new. We # can also remove some distro images cached on the images. sudo rm -rf /opt/git /opt/stack/cache/files/mysql.qcow2 /opt/stack/cache/files/ubuntu-12.04-x86_64.tar.gz",16,14
openstack%2Ftraining-guides~master~I5f30f12ddd7afa0dca083eaf0256c31fa2889921,openstack/training-guides,master,I5f30f12ddd7afa0dca083eaf0256c31fa2889921,[upstream] Remove content that exists in Contrib Guide,MERGED,2018-03-16 00:15:29.000000000,2018-04-03 10:15:49.000000000,2018-04-03 10:15:49.000000000,"[{'_account_id': 9562}, {'_account_id': 14482}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 00:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/5e113ef5a14be948d79dd14b592e045ea2fbef8c', 'message': '[upstream] Remove content that exists in Contrib Guide\n\nThis patch removes the info that exists in the guide, leaving the\nexercises behind to continue using them in the trainings.\n\nChange-Id: I5f30f12ddd7afa0dca083eaf0256c31fa2889921\n'}, {'number': 2, 'created': '2018-03-26 19:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/7d1baafce6cf3b936092c60244f812ef83030e8f', 'message': '[upstream] Remove content that exists in Contrib Guide\n\nThis patch removes the info that exists in the guide, leaving the\nexercises behind to continue using them in the trainings.\n\nChange-Id: I5f30f12ddd7afa0dca083eaf0256c31fa2889921\n'}, {'number': 3, 'created': '2018-03-27 20:06:49.000000000', 'files': ['doc/upstream-training/source/slides/_assets/16-05-regular-reviewer.png', 'doc/upstream-training/source/website/upstream-training-content.rst', 'doc/upstream-training/source/slides/_assets/14-02-gerrit-workflow.png', 'doc/upstream-training/source/slides/_assets/16-06-core-reviewer.png', 'doc/upstream-training/source/slides/workflow-reviewing.rst', 'doc/upstream-training/source/slides/_assets/14-17-patchset-diffs.png', 'doc/upstream-training/source/website/upstream-trainees-guide.rst', 'doc/upstream-training/source/slides/_assets/16-03-inline-comments.png', 'doc/upstream-training/source/slides/_assets/14-15-patchset-history.png', 'doc/upstream-training/source/slides/_assets/workflow-reviewing-wip-patch.png', 'doc/upstream-training/source/slides/slide-index.rst', 'doc/upstream-training/source/slides/_assets/14-01-review.png', 'doc/upstream-training/source/slides/_assets/14-03-upload-ssh-key.png', 'doc/upstream-training/source/slides/_assets/workflow-gerrit-merged-patch.png', 'doc/upstream-training/source/slides/workflow-setup-and-first-patch.rst', 'doc/upstream-training/source/slides/_assets/16-04-draft-inline-comments.png', 'doc/upstream-training/source/slides/howitsmade-communication.rst', 'doc/upstream-training/source/slides/_assets/16-01-review-unified.png', 'doc/upstream-training/source/slides/workflow-gerrit.rst', 'doc/upstream-training/source/slides/_assets/14-11-invite-reviewers.png'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/f10a3f6dd52654a6691485ab103191bc774d1fde', 'message': '[upstream] Remove content that exists in Contrib Guide\n\nThis patch removes the info that exists in the guide, leaving the\nexercises behind to continue using them in the trainings.\n\nChange-Id: I5f30f12ddd7afa0dca083eaf0256c31fa2889921\n'}]",6,553637,f10a3f6dd52654a6691485ab103191bc774d1fde,15,4,3,16708,,,0,"[upstream] Remove content that exists in Contrib Guide

This patch removes the info that exists in the guide, leaving the
exercises behind to continue using them in the trainings.

Change-Id: I5f30f12ddd7afa0dca083eaf0256c31fa2889921
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/37/553637/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/slides/slide-index.rst', 'doc/upstream-training/source/slides/workflow-setup-and-first-patch.rst', 'doc/upstream-training/source/website/upstream-training-content.rst', 'doc/upstream-training/source/slides/workflow-reviewing.rst', 'doc/upstream-training/source/slides/howitsmade-communication.rst', 'doc/upstream-training/source/slides/workflow-gerrit.rst']",6,5e113ef5a14be948d79dd14b592e045ea2fbef8c,,,==================== review.openstack.org ==================== .. image:: ./_assets/os_background.png :class: fill :width: 100% .. note:: Tags: [new_dev] [dev] review.openstack.org ==================== .. image:: ./_assets/14-01-review.png :width: 100% :class: image-pad-top gerrit workflow =============== .. image:: ./_assets/14-02-gerrit-workflow.png :width: 100% :class: image-pad-top upload an ssh key ================= - https://review.openstack.org/#/settings/ssh-keys .. image:: ./_assets/14-03-upload-ssh-key.png :width: 85% :class: image-pad-top invite reviewers ================ .. image:: ./_assets/14-11-invite-reviewers.png :width: 100% :class: image-pad-top gerrit patchset history ======================= .. image:: ./_assets/14-15-patchset-history.png :width: 100% :class: image-pad-top patchset diffs ============== .. image:: ./_assets/14-17-patchset-diffs.png :width: 100% :class: image-pad-top patch in gerrit =============== .. image:: ./_assets/workflow-gerrit-merged-patch.png :width: 100% :class: image-pad-top ,2,343
openstack%2Fkolla~master~Id5f0e9532a7714a18125832d4f38bbe7bb849c84,openstack/kolla,master,Id5f0e9532a7714a18125832d4f38bbe7bb849c84,"Revert ""Seem there are some wrong in infra ubuntu repo""",MERGED,2018-02-26 07:37:55.000000000,2018-04-03 10:13:07.000000000,2018-04-03 10:13:07.000000000,"[{'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26556}]","[{'number': 1, 'created': '2018-02-26 07:37:55.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad8666f5a0ddb1714c10ef91db71f5eb23698881', 'message': 'Revert ""Seem there are some wrong in infra ubuntu repo""\n\nThis reverts commit 7b562990b5b717bb83d56673b368de9b355bb315.\n\nChange-Id: Id5f0e9532a7714a18125832d4f38bbe7bb849c84\n'}]",0,547916,ad8666f5a0ddb1714c10ef91db71f5eb23698881,16,7,1,7488,,,0,"Revert ""Seem there are some wrong in infra ubuntu repo""

This reverts commit 7b562990b5b717bb83d56673b368de9b355bb315.

Change-Id: Id5f0e9532a7714a18125832d4f38bbe7bb849c84
",git fetch https://review.opendev.org/openstack/kolla refs/changes/16/547916/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,ad8666f5a0ddb1714c10ef91db71f5eb23698881,,"RUN sed -i -e ""s|http://archive.ubuntu.com|http://{{ nodepool_mirror_host }}|"" \ -e ""s|http://ubuntu-cloud.archive.canonical.com/ubuntu|http://{{ nodepool_mirror_host }}/ubuntu-cloud-archive|"" \ /etc/apt/sources.list \ && apt-get update","# TODO(jeffrey4l): seem the current infra repo has some issue, revert this when it is OK. #RUN sed -i -e ""s|http://archive.ubuntu.com|http://{{ nodepool_mirror_host }}|"" \ # -e ""s|http://ubuntu-cloud.archive.canonical.com/ubuntu|http://{{ nodepool_mirror_host }}/ubuntu-cloud-archive|"" \ # /etc/apt/sources.list \ # && apt-get update",4,5
openstack%2Fdragonflow~master~Id6d43a97bd77785de976d418dc835108e3b1434f,openstack/dragonflow,master,Id6d43a97bd77785de976d418dc835108e3b1434f,Avoid tox_install,MERGED,2018-03-22 08:20:12.000000000,2018-04-03 10:08:42.000000000,2018-04-03 10:08:42.000000000,"[{'_account_id': 17880}, {'_account_id': 20229}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 08:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/ec3fa2b956cb90d04e3e85acaa75576b853a074f', 'message': 'Avoid tox_install\n\nSince neutron and networking-sfc are now in global-requirements,\nwe can remove the installation from tools/tox_install.sh.\n\nRemove the tox_install files completely and update tox.ini for this.\nAdd requirements to requirements.txt instead.\n\nChange-Id: Id6d43a97bd77785de976d418dc835108e3b1434f\n'}, {'number': 2, 'created': '2018-04-03 06:10:20.000000000', 'files': ['requirements.txt', 'tools/tox_install.sh', 'tools/tox_install_project.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/60a2b6b991b1b40f7d63f79b784980f94824257a', 'message': 'Avoid tox_install\n\nSince neutron and networking-sfc are now in global-requirements,\nwe can remove the installation from tools/tox_install.sh.\n\nRemove the tox_install files completely and update tox.ini for this.\nAdd requirements to requirements.txt instead.\n\nChange-Id: Id6d43a97bd77785de976d418dc835108e3b1434f\n'}]",0,555188,60a2b6b991b1b40f7d63f79b784980f94824257a,10,3,2,6547,,,0,"Avoid tox_install

Since neutron and networking-sfc are now in global-requirements,
we can remove the installation from tools/tox_install.sh.

Remove the tox_install files completely and update tox.ini for this.
Add requirements to requirements.txt instead.

Change-Id: Id6d43a97bd77785de976d418dc835108e3b1434f
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/88/555188/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tools/tox_install.sh', 'tools/tox_install_project.sh', 'tox.ini']",4,ec3fa2b956cb90d04e3e85acaa75576b853a074f,tox-siblings,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} deps = -r{toxinidir}/requirements.txt,6,108
openstack%2Ftripleo-heat-templates~master~Id4e5e5c94be13b977281673514eea091e740cb5f,openstack/tripleo-heat-templates,master,Id4e5e5c94be13b977281673514eea091e740cb5f,Add an alternative way to check for ovs upgrade,ABANDONED,2018-03-22 11:22:35.000000000,2018-04-03 10:07:58.000000000,,"[{'_account_id': 6133}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-22 11:22:35.000000000', 'files': ['extraconfig/tasks/pacemaker_common_functions.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24c9663c1f1144ed3c121d31a5fd5bb88a0cb7be', 'message': 'Add an alternative way to check for ovs upgrade\n\nThe current way of doing that is wrong, as it relies on english\nlanguage to check if the package needs upgrade. That will cause\nthis check to fail for any other languages, that is something\nwe need to expect.\nInstead, use yum check-upgrade call, that provides a cleaner\nway to detect if a package needs upgrade.\n\nChange-Id: Id4e5e5c94be13b977281673514eea091e740cb5f\n'}]",0,555259,24c9663c1f1144ed3c121d31a5fd5bb88a0cb7be,17,3,1,6133,,,0,"Add an alternative way to check for ovs upgrade

The current way of doing that is wrong, as it relies on english
language to check if the package needs upgrade. That will cause
this check to fail for any other languages, that is something
we need to expect.
Instead, use yum check-upgrade call, that provides a cleaner
way to detect if a package needs upgrade.

Change-Id: Id4e5e5c94be13b977281673514eea091e740cb5f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/555259/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/pacemaker_common_functions.sh'],1,24c9663c1f1144ed3c121d31a5fd5bb88a0cb7be,," # first check if ovs needs upgrade OVS_NEEDS_UPGRADE=$(yum check-upgrade openvswitch | awk '/openvswitch/{print}') if [ -z ""${OVS_NEEDS_UPGRADE}"" ]; then echo ""Looks like newer version of openvswitch is already installed, skipping"" else if rpm -qa | grep ""^openvswitch-2.5.0-14"" || rpm -q --scripts openvswitch | awk '/postuninstall/,/*/' | grep ""systemctl.*try-restart"" ; then echo ""Manual upgrade of openvswitch - ovs-2.5.0-14 or restart in postun detected"" rm -rf OVS_UPGRADE mkdir OVS_UPGRADE && pushd OVS_UPGRADE echo ""Attempting to downloading latest openvswitch with yumdownloader"" yumdownloader --resolve openvswitch for pkg in $(ls -1 *.rpm); do break done popd else echo ""Skipping manual upgrade of openvswitch - no restart in postun detected"" fi"," if rpm -qa | grep ""^openvswitch-2.5.0-14"" || rpm -q --scripts openvswitch | awk '/postuninstall/,/*/' | grep ""systemctl.*try-restart"" ; then echo ""Manual upgrade of openvswitch - ovs-2.5.0-14 or restart in postun detected"" rm -rf OVS_UPGRADE mkdir OVS_UPGRADE && pushd OVS_UPGRADE echo ""Attempting to downloading latest openvswitch with yumdownloader"" yumdownloader --resolve openvswitch for pkg in $(ls -1 *.rpm); do if rpm -U --test $pkg 2>&1 | grep ""already installed"" ; then echo ""Looks like newer version of $pkg is already installed, skipping"" else fi done popd else echo ""Skipping manual upgrade of openvswitch - no restart in postun detected""",18,16
openstack%2Fbifrost~master~I55237efec922ef7764e488672046a0994bcdc9b2,openstack/bifrost,master,I55237efec922ef7764e488672046a0994bcdc9b2,Fix deployment failure due to wrong check on network interface,MERGED,2018-03-27 16:00:23.000000000,2018-04-03 10:01:34.000000000,2018-04-03 10:01:34.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19578}, {'_account_id': 22348}, {'_account_id': 22474}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-27 16:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/7f67aecc0b19f932fde60cf6a8f7c08b859a0b21', 'message': 'Fix test when using network interface containing dashes in its name\n\nChange-Id: I55237efec922ef7764e488672046a0994bcdc9b2\n'}, {'number': 2, 'created': '2018-03-27 22:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/87ef17bc0803300f33d2d12b0442db3b46858f51', 'message': 'Fix wrong test when network interface contains dashes in its name\n\nWhen interfaces have one or several dashes in their names\nlike br-xxx the corresponding ansible facts is ansible_br_xxx\nnot ansible_br-xxx (even though ansible_interfaces list contains\nbr-xxx). This patch fixes this issue.\n\nChange-Id: I55237efec922ef7764e488672046a0994bcdc9b2\n'}, {'number': 3, 'created': '2018-03-28 08:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1959b689adc043fc606d90fafe524188e7c934d3', 'message': 'Fix deployment failure due to wrong check on network interface\n\nWhen deployment interface has one or several dashes in its name\nlike br-xxx the corresponding ansible fact is ansible_br_xxx\n(all underscores) not ansible_br-xxx (even though ansible_interfaces\nlist contains br-xxx). Deployment will therefore fail if provisioning\ninterface name matches this pattern but it should succeed.\nThis patch fixes this issue.\n\nChange-Id: I55237efec922ef7764e488672046a0994bcdc9b2\n'}, {'number': 4, 'created': '2018-03-28 20:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0f568ac4270aa0db8cc1b3c3dee9952d32d55e82', 'message': 'Fix deployment failure due to wrong check on network interface\n\nWhen deployment interface has one or several dashes in its name\nlike br-xxx the corresponding ansible fact is ansible_br_xxx\n(all underscores) not ansible_br-xxx (even though ansible_interfaces\nlist contains br-xxx). Deployment will therefore fail if provisioning\ninterface name matches this pattern but it should succeed.\nThis patch fixes this issue.\n\nChange-Id: I55237efec922ef7764e488672046a0994bcdc9b2\n'}, {'number': 5, 'created': '2018-03-28 20:59:03.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/74517a8d672a4023902bd118f6e3f5eff27e0f04', 'message': 'Fix deployment failure due to wrong check on network interface\n\nWhen deployment interface has one or several dashes in its name\nlike br-xxx the corresponding ansible fact is ansible_br_xxx\n(all underscores) not ansible_br-xxx (even though ansible_interfaces\nlist contains br-xxx). Deployment will therefore fail if provisioning\ninterface name matches this pattern but it should succeed.\nThis patch fixes this issue.\n\nChange-Id: I55237efec922ef7764e488672046a0994bcdc9b2\n'}]",2,556953,74517a8d672a4023902bd118f6e3f5eff27e0f04,25,6,5,19578,,,0,"Fix deployment failure due to wrong check on network interface

When deployment interface has one or several dashes in its name
like br-xxx the corresponding ansible fact is ansible_br_xxx
(all underscores) not ansible_br-xxx (even though ansible_interfaces
list contains br-xxx). Deployment will therefore fail if provisioning
interface name matches this pattern but it should succeed.
This patch fixes this issue.

Change-Id: I55237efec922ef7764e488672046a0994bcdc9b2
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/53/556953/4 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-ironic-install/tasks/ironic_config.yml'],1,7f67aecc0b19f932fde60cf6a8f7c08b859a0b21,fix-failed-deployment-itf-name," when: ('ansible_' ~ network_interface) | regex_replace('-', '_') not in hostvars[inventory_hostname] when: not hostvars[inventory_hostname][('ansible_' ~ network_interface) | regex_replace('-', '_')].get('ipv4', {}).get('address')"," when: ('ansible_' ~ network_interface) not in hostvars[inventory_hostname] when: not hostvars[inventory_hostname]['ansible_' ~ network_interface].get('ipv4', {}).get('address')",2,2
openstack%2Fswift~feature%2Fdeep~I3f735553afaec3f67928b4004569451d14153237,openstack/swift,feature/deep,I3f735553afaec3f67928b4004569451d14153237,Require sufficient replication before deleting misplaced objects,MERGED,2018-03-22 21:11:50.000000000,2018-04-03 09:53:26.000000000,2018-03-27 23:14:53.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 21:11:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4b58e9ff8ad2f87feba8ea77f7c84fc003f15aa', 'message': ""Require sufficient replication before deleting misplaced objects\n\nLet's not just assume that replication of misplaced objects succeeded!\n\nCheck for a quorum of replication successes, similar to when cleaving [1].\nIn the case of misplaced objects though we can proceed to move other\nshard ranges despite others not successfully replicating.\n\n[1] Related-Change: I1653ed69c51c9789e2ef19fae762a96a63139766\n\nChange-Id: I3f735553afaec3f67928b4004569451d14153237\n""}, {'number': 2, 'created': '2018-03-23 17:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba5d6538ee3b2ce190c7f8a1149aa646078b9eba', 'message': ""Require sufficient replication before deleting misplaced objects\n\nLet's not just assume that replication of misplaced objects succeeded!\n\nCheck for a quorum of replication successes, similar to when cleaving [1].\nIn the case of misplaced objects though we can proceed to move other\nshard ranges despite others not successfully replicating.\n\n[1] Related-Change: I1653ed69c51c9789e2ef19fae762a96a63139766\n\nChange-Id: I3f735553afaec3f67928b4004569451d14153237\n""}, {'number': 3, 'created': '2018-03-25 11:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eaaeb8eda7f78b5a5e556af33406887aba5c70fa', 'message': ""Require sufficient replication before deleting misplaced objects\n\nLet's not just assume that replication of misplaced objects succeeded!\n\nCheck for a quorum of replication successes, similar to when cleaving [1].\nIn the case of misplaced objects though we can proceed to move other\nshard ranges despite others not successfully replicating.\n\n[1] Related-Change: I1653ed69c51c9789e2ef19fae762a96a63139766\n\nChange-Id: I3f735553afaec3f67928b4004569451d14153237\n""}, {'number': 4, 'created': '2018-03-25 12:38:56.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0d80889eb50713d0e48c9c5866dc7838f98642c2', 'message': ""Require sufficient replication before deleting misplaced objects\n\nLet's not just assume that replication of misplaced objects succeeded!\n\nCheck for a quorum of replication successes, similar to when cleaving [1].\nIn the case of misplaced objects though we can proceed to move other\nshard ranges despite others not successfully replicating.\n\n[1] Related-Change: I1653ed69c51c9789e2ef19fae762a96a63139766\n\nChange-Id: I3f735553afaec3f67928b4004569451d14153237\n""}]",2,555459,0d80889eb50713d0e48c9c5866dc7838f98642c2,12,2,4,7847,,,0,"Require sufficient replication before deleting misplaced objects

Let's not just assume that replication of misplaced objects succeeded!

Check for a quorum of replication successes, similar to when cleaving [1].
In the case of misplaced objects though we can proceed to move other
shard ranges despite others not successfully replicating.

[1] Related-Change: I1653ed69c51c9789e2ef19fae762a96a63139766

Change-Id: I3f735553afaec3f67928b4004569451d14153237
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/555459/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,d4b58e9ff8ad2f87feba8ea77f7c84fc003f15aa,553337," def _replicate_and_delete(self, broker, policy_index, dest_shard_range, part, dest_broker, node_id): success, responses = self._replicate_object( part, dest_broker.db_file, node_id) if (not success and responses.count(True) < quorum_size(self.ring.replica_count)): self.logger.warning( 'Failed to sufficiently replicate misplaced objects: %s in %s ' '(not deleting)', dest_shard_range, broker.path) return False # TODO: there may be newer objects in the source db, don't remove them! broker.remove_objects( str(dest_shard_range.lower), str(dest_shard_range.upper), policy_index) return True # TODO: consider executing the replication jobs concurrently for dest_shard_range, dest_args in brokers.items(): self._replicate_and_delete(broker, policy_index, dest_shard_range, *dest_args)"," for dest_shard_range, (part, dest_broker, node_id) in brokers.items(): self.cpool.spawn( self._replicate_object, part, dest_broker.db_file, node_id) self.cpool.waitall(None) # TODO: we need to be confident that replication succeeded before # removing misplaced items from source - if not then just leave the # misplaced items in source, but do not mark them as deleted, and # leave for next cycle to try again for dest_shard_range in brokers: broker.remove_objects( str(dest_shard_range.lower), str(dest_shard_range.upper), policy_index) self.stats['containers_sharded'] += 1",183,14
openstack%2Fmistral-dashboard~master~If8c5500e2c2f9688d3fba6be420b076a05c446a0,openstack/mistral-dashboard,master,If8c5500e2c2f9688d3fba6be420b076a05c446a0,Remove mox3 from test-requiremens.txt,MERGED,2018-03-23 16:03:30.000000000,2018-04-03 09:48:26.000000000,2018-04-03 09:48:26.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 16:03:30.000000000', 'files': ['test-requirements.txt', 'mistraldashboard/test/helpers.py'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/5f1b862cb764194ebfd09c4ba123b542baeff0be', 'message': 'Remove mox3 from test-requiremens.txt\n\nThis is part of mox-removal community goal in Rocky.\n\nStory: 2001546\nTask: 8719\n\nChange-Id: If8c5500e2c2f9688d3fba6be420b076a05c446a0\nSigned-off-by: Charles Short <zulcss@gmail.com>\n'}]",1,555842,5f1b862cb764194ebfd09c4ba123b542baeff0be,8,4,1,24,,,0,"Remove mox3 from test-requiremens.txt

This is part of mox-removal community goal in Rocky.

Story: 2001546
Task: 8719

Change-Id: If8c5500e2c2f9688d3fba6be420b076a05c446a0
Signed-off-by: Charles Short <zulcss@gmail.com>
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/42/555842/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/test/helpers.py', 'test-requirements.txt']",2,5f1b862cb764194ebfd09c4ba123b542baeff0be,,,mox3>=0.20.0 # Apache-2.0,2,1
openstack%2Fmistral-dashboard~master~I5c67d934f2a7a884ab659af43b7ff6713b908d9c,openstack/mistral-dashboard,master,I5c67d934f2a7a884ab659af43b7ff6713b908d9c,Fix workflow language link,MERGED,2018-03-02 09:36:37.000000000,2018-04-03 09:47:44.000000000,2018-04-03 09:47:44.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-02 09:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/92277e5b4caabbb57169e338483aa7f2f2a2b665', 'message': 'Fix workflow language link\n\nThere is no more DSL docs since the commit[1]\nand all of them should be updated.\n\n[1]I6e2a10932c648836a1e0632b4cd0fce3ab78f946\n\nChange-Id: I5c67d934f2a7a884ab659af43b7ff6713b908d9c\n'}, {'number': 2, 'created': '2018-03-28 11:07:20.000000000', 'files': ['mistraldashboard/workbooks/templates/workbooks/_select_definition.html', 'mistraldashboard/actions/templates/actions/_update.html', 'mistraldashboard/actions/templates/actions/_create.html'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/96186a1ba9207641e17c1ea05677138875446ed8', 'message': 'Fix workflow language link\n\nThere is no more DSL docs since the commit[1]\nand all of them should be updated.\n\n[1]I6e2a10932c648836a1e0632b4cd0fce3ab78f946\n\nChange-Id: I5c67d934f2a7a884ab659af43b7ff6713b908d9c\n'}]",0,549138,96186a1ba9207641e17c1ea05677138875446ed8,9,3,2,22752,,,0,"Fix workflow language link

There is no more DSL docs since the commit[1]
and all of them should be updated.

[1]I6e2a10932c648836a1e0632b4cd0fce3ab78f946

Change-Id: I5c67d934f2a7a884ab659af43b7ff6713b908d9c
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/38/549138/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistraldashboard/workbooks/templates/workbooks/_select_definition.html', 'mistraldashboard/actions/templates/actions/_update.html', 'mistraldashboard/actions/templates/actions/_create.html']",3,92277e5b4caabbb57169e338483aa7f2f2a2b665,lhx/wf_lang_v2," <a href=""https://docs.openstack.org/mistral/latest/user/wf_lang_v2.html#actions"" title=""Workflow Language Syntax"" target=""_blank"">"," <a href=""https://docs.openstack.org/mistral/latest/user/dsl_v2.html#actions"" title=""Workflow Language Syntax"" target=""_blank"">",3,3
openstack%2Fopenstack-ansible-lxc_container_create~master~I0b95c6c5d0f52344d476e52219c1ce31edcf65da,openstack/openstack-ansible-lxc_container_create,master,I0b95c6c5d0f52344d476e52219c1ce31edcf65da,Remove veth wiring check for machine-id,MERGED,2018-04-02 04:13:52.000000000,2018-04-03 09:41:42.000000000,2018-04-03 09:41:42.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 04:13:52.000000000', 'files': ['tasks/lxc_container_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/e58699c1bdf02380a14519a1534012d6f1901e06', 'message': 'Remove veth wiring check for machine-id\n\nmachine_id is not registered until further down in the file, so\nthis will fail with ""The error was: |changed expects a dictionary""\n\nWe don\'t see the failure in our gates because the two preceding\nconditions: not ((default_configuration_container | changed) or\n           (bind_configuration_container | changed)\n\nare always true, so the machine_id test is never used.\n\nIn an existing environment where the container is being updated\nfrom an old configuration to the new networkd installation, it is\nvery possible that default_configuration_container and\nbind_configuration_container are not changed, so the machine_id\nvar is checked for changed state. At that point ansible fails\nbecause the var is undefined.\n\nChange-Id: I0b95c6c5d0f52344d476e52219c1ce31edcf65da\n'}]",0,558158,e58699c1bdf02380a14519a1534012d6f1901e06,8,4,1,17799,,,0,"Remove veth wiring check for machine-id

machine_id is not registered until further down in the file, so
this will fail with ""The error was: |changed expects a dictionary""

We don't see the failure in our gates because the two preceding
conditions: not ((default_configuration_container | changed) or
           (bind_configuration_container | changed)

are always true, so the machine_id test is never used.

In an existing environment where the container is being updated
from an old configuration to the new networkd installation, it is
very possible that default_configuration_container and
bind_configuration_container are not changed, so the machine_id
var is checked for changed state. At that point ansible fails
because the var is undefined.

Change-Id: I0b95c6c5d0f52344d476e52219c1ce31edcf65da
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/58/558158/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_container_config.yml'],1,e58699c1bdf02380a14519a1534012d6f1901e06,networkd_lxc, (bind_configuration_container | changed)), (bind_configuration_container | changed) or (machine_id | changed)),1,2
openstack%2Fblazar-tempest-plugin~master~I57dcc03c9fed3fbd407640c81db50559bef4a0dd,openstack/blazar-tempest-plugin,master,I57dcc03c9fed3fbd407640c81db50559bef4a0dd,Remove climate namespace,MERGED,2018-03-13 03:05:08.000000000,2018-04-03 09:39:43.000000000,2018-04-03 09:39:43.000000000,"[{'_account_id': 8878}, {'_account_id': 13192}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2018-03-13 03:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/43ec688f7e88b49bc24e44eb17887954e9445e9c', 'message': 'Remove climate namespace\n\nPartial-Bug: #1755325\nChange-Id: I57dcc03c9fed3fbd407640c81db50559bef4a0dd\n'}, {'number': 2, 'created': '2018-03-13 08:18:01.000000000', 'files': ['blazar_tempest_plugin/services/reservation/reservation_client.py', 'blazar_tempest_plugin/config.py', 'blazar_tempest_plugin/tests/scenario/resource_reservation_scenario.py'], 'web_link': 'https://opendev.org/openstack/blazar-tempest-plugin/commit/21ac85f14c68684a6a51619c061cbcc5a44ee1ad', 'message': 'Remove climate namespace\n\nPartial-Bug: #1755325\nChange-Id: I57dcc03c9fed3fbd407640c81db50559bef4a0dd\n'}]",0,552252,21ac85f14c68684a6a51619c061cbcc5a44ee1ad,12,4,2,8878,,,0,"Remove climate namespace

Partial-Bug: #1755325
Change-Id: I57dcc03c9fed3fbd407640c81db50559bef4a0dd
",git fetch https://review.opendev.org/openstack/blazar-tempest-plugin refs/changes/52/552252/2 && git format-patch -1 --stdout FETCH_HEAD,"['blazar_tempest_plugin/config.py', 'blazar_tempest_plugin/tests/scenario/resource_reservation_scenario.py']",2,43ec688f7e88b49bc24e44eb17887954e9445e9c,bug/1755325, if not CONF.service_available.blazar:, if not (CONF.service_available.climate or CONF.service_available.blazar):,1,6
openstack%2Fopenstack-chef-repo~stable%2Fpike~I397bf5e61d13d217206e07351b0dbb91125c3212,openstack/openstack-chef-repo,stable/pike,I397bf5e61d13d217206e07351b0dbb91125c3212,"Remove dedicated network node for multinode, remove cloudwatch",MERGED,2018-03-22 15:06:54.000000000,2018-04-03 09:37:25.000000000,2018-04-03 09:37:25.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 15:06:54.000000000', 'files': ['roles/multinode-controller.json', '.kitchen.dokken.yml', '.kitchen.multi.yml', 'environments/multinode.json', '.kitchen.yml'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/4c56c7754c3ffa1ee7604bc0df431e062e413a82', 'message': 'Remove dedicated network node for multinode, remove cloudwatch\n\n* cloudwatch has been deprecated since Havana, removed in Queens\n* chef pinning is relaxed to major versions\n* remove dedicated network node for multinode testing\n\nChange-Id: I397bf5e61d13d217206e07351b0dbb91125c3212\n(cherry picked from commit 81935808386dfa04585bcd608596f85dc4785c6a)\n'}]",0,555333,4c56c7754c3ffa1ee7604bc0df431e062e413a82,7,3,1,14790,,,0,"Remove dedicated network node for multinode, remove cloudwatch

* cloudwatch has been deprecated since Havana, removed in Queens
* chef pinning is relaxed to major versions
* remove dedicated network node for multinode testing

Change-Id: I397bf5e61d13d217206e07351b0dbb91125c3212
(cherry picked from commit 81935808386dfa04585bcd608596f85dc4785c6a)
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/33/555333/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/multinode-controller.json', '.kitchen.dokken.yml', '.kitchen.multi.yml', 'environments/multinode.json', '.kitchen.yml']",5,4c56c7754c3ffa1ee7604bc0df431e062e413a82,queens_updates-stable/pike, cpus: 4 memory: 8192 product_name: chef product_version: 13, memory: 12000 require_chef_omnibus: '13.6.4' # workaround for chef/chef#6784 - recipe[openstack-orchestration::api-cloudwatch],67,90
openstack%2Fopenstack-chef-repo~master~I13dd84fb03f23f7768a87fccfd25202bee7bf4a6,openstack/openstack-chef-repo,master,I13dd84fb03f23f7768a87fccfd25202bee7bf4a6,Update README to reflect test kitchen commands,MERGED,2018-03-21 17:14:49.000000000,2018-04-03 09:35:34.000000000,2018-04-03 09:35:34.000000000,"[{'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 17:14:49.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/openstack-chef-repo/commit/f851a353036cd91ee8ef56a88c1f5319940e2ff3', 'message': 'Update README to reflect test kitchen commands\n\nChange-Id: I13dd84fb03f23f7768a87fccfd25202bee7bf4a6\n'}]",0,554994,f851a353036cd91ee8ef56a88c1f5319940e2ff3,7,3,1,14790,,,0,"Update README to reflect test kitchen commands

Change-Id: I13dd84fb03f23f7768a87fccfd25202bee7bf4a6
",git fetch https://review.opendev.org/openstack/openstack-chef-repo refs/changes/94/554994/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,f851a353036cd91ee8ef56a88c1f5319940e2ff3,kitchen_doc,"in monolithic, or allinone, and non-HA multinode configurations with Neutron. The cookbooks support a fully HA configuration, but we do not test for that as there are far numerous paths to- [ChefDK](https://downloads.chef.io/chef-dk/) 2.0 or later - [Vagrant](https://www.vagrantup.com/downloads.html) 2.0 or later with## Kitchen Deploy Commands## Kitchen Test Scenarios ### Initialize the ChefDK ```bash $ eval ""$(chef shell-init bash)"" ```$ kitchen test [centos|ubuntu]$ kitchen login [centos|ubuntu]# Multinode with Neutron (1 controller + 2 compute nodes) $ export KITCHEN_YAML=.kitchen.multi.yaml $ kitchen converge [centos|ubuntu|all] $ kitchen verify [centos|ubuntu|all] $ kitchen destroy [centos|ubuntu|all]$ kitchen login controller-[centos|ubuntu]$ kitchen login compute1$ kitchen login compute2","in monolithic, or allinone, and non-HA multinode configurations with Neutron. The cookbooks support a fully HA configuration, but we do not test for that as there are far numerous paths to- [ChefDK](https://downloads.chef.io/chef-dk/) 1.0 or later for a relatively recent Berkshelf - [Vagrant](https://www.vagrantup.com/downloads.html) 1.9 or later with## Rake Deploy CommandsFor CentOS, set the environment variable REPO_OS=centos7. Ubuntu is the default.$ chef exec rake allinone$ cd vms $ vagrant ssh controller# Multinode with Neutron (1 controller + 1 network + 2 compute nodes) $ chef exec rake multi_node$ cd vms $ vagrant ssh controller $ sudo su - ``` ### Access the Network Node ```bash $ cd vms $ vagrant ssh network$ vagrant ssh compute1$ vagrant ssh compute2",22,24
openstack%2Fironic-ui~master~I6154cdd83b6cbabea10f58ca487ec878b4c3956c,openstack/ironic-ui,master,I6154cdd83b6cbabea10f58ca487ec878b4c3956c,Imported Translations from Zanata,MERGED,2018-03-14 06:24:44.000000000,2018-04-03 09:28:21.000000000,2018-04-03 09:28:21.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-14 06:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/82998920af36b45e0c9735dbe598d72ead0d6550', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6154cdd83b6cbabea10f58ca487ec878b4c3956c\n'}, {'number': 2, 'created': '2018-03-21 06:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/93abb9032c3905d49bec4d9913307140b8a3c2fa', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6154cdd83b6cbabea10f58ca487ec878b4c3956c\n'}, {'number': 3, 'created': '2018-04-01 06:15:32.000000000', 'files': ['ironic_ui/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/a10c42f3afff86c74f8c1019220839734197c199', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6154cdd83b6cbabea10f58ca487ec878b4c3956c\n'}]",0,552798,a10c42f3afff86c74f8c1019220839734197c199,13,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6154cdd83b6cbabea10f58ca487ec878b4c3956c
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/98/552798/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic_ui/locale/ko_KR/LC_MESSAGES/djangojs.po'],1,82998920af36b45e0c9735dbe598d72ead0d6550,zanata/translations,"""POT-Creation-Date: 2018-03-09 11:12+0000\n""""PO-Revision-Date: 2018-03-13 02:08+0000\n""msgid ""Delete Portgroup"" msgid_plural ""Delete Portgroups"" msgstr[0] ""포트그룹 삭제"" #, python-format msgid ""Node %s is already in target maintenance state."" msgstr ""노드 %s는 이미 대상 유지보수 상태입니다."" msgid ""Soft power off"" msgstr ""소프트 전원 끄기"" #, python-format","""POT-Creation-Date: 2018-02-22 19:02+0000\n""""PO-Revision-Date: 2018-02-11 07:39+0000\n""#, fuzzy, python-format",14,3
openstack%2Ftripleo-docs~master~I03186ae31e9fe434aff9a3be6653ec6f81602b3d,openstack/tripleo-docs,master,I03186ae31e9fe434aff9a3be6653ec6f81602b3d,Document yaml inventory,MERGED,2018-03-19 18:08:57.000000000,2018-04-03 09:23:55.000000000,2018-04-03 09:23:55.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 18:08:57.000000000', 'files': ['doc/source/install/advanced_deployment/ansible_config_download.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e2afb57d75ce9a31a5b608160a0bb17dfa987458', 'message': 'Document yaml inventory\n\ntripleo-ansible-inventory only generates a yaml syntax based inventory\nnow that is usable with config-download. This patch updates the\ndocumentation to reflect the change.\n\nChange-Id: I03186ae31e9fe434aff9a3be6653ec6f81602b3d\n'}]",0,554308,e2afb57d75ce9a31a5b608160a0bb17dfa987458,7,3,1,7144,,,0,"Document yaml inventory

tripleo-ansible-inventory only generates a yaml syntax based inventory
now that is usable with config-download. This patch updates the
documentation to reflect the change.

Change-Id: I03186ae31e9fe434aff9a3be6653ec6f81602b3d
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/08/554308/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ansible_config_download.rst'],1,e2afb57d75ce9a31a5b608160a0bb17dfa987458,,tripleo-ansible-inventory.yaml --static-yaml-inventory inventory.yaml -i inventory.yaml \,tripleo-ansible-inventory --static-inventory inventory -i inventory \,3,3
openstack%2Fironic~master~I685a2aa0dcfe919b7e5318eb00f070ced6cad812,openstack/ironic,master,I685a2aa0dcfe919b7e5318eb00f070ced6cad812,Stop overriding tempdir in unit test,MERGED,2018-03-29 04:39:19.000000000,2018-04-03 09:20:21.000000000,2018-04-03 09:20:21.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 13689}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-03-29 04:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bb533332e97115ca52ec3c2cd9a405cf8531501f', 'message': ""Stop overriding tempdir in unit test\n\nIt may causes failure in test__prepare_variables_configdrive_file to\nuse a directory which doesn't exist as tempdir paramter because\ninterfaces using ipmitool see if the directory exists when they are\nloaded. Actually, this test may fail since ipmitool vendor interface\nis enabled.\n\nThis patch fixes this test to use the default tempdir.\n\nChange-Id: I685a2aa0dcfe919b7e5318eb00f070ced6cad812\nStory: #2001755\n""}, {'number': 2, 'created': '2018-03-29 04:53:48.000000000', 'files': ['ironic/tests/unit/drivers/modules/ansible/test_deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/57bca71bc6c3e31fde202510ae6499c494216874', 'message': ""Stop overriding tempdir in unit test\n\nIt may causes failure in test__prepare_variables_configdrive_file to\nuse a directory which doesn't exist as tempdir paramter because\ninterfaces using ipmitool see if the directory exists when they are\nloaded. Actually, this test may fail since ipmitool vendor interface\nis enabled.\n\nThis patch fixes this test to use the default tempdir.\n\nChange-Id: I685a2aa0dcfe919b7e5318eb00f070ced6cad812\nStory: #2001755\nTask: #12153\n""}]",2,557593,57bca71bc6c3e31fde202510ae6499c494216874,12,6,2,13689,,,0,"Stop overriding tempdir in unit test

It may causes failure in test__prepare_variables_configdrive_file to
use a directory which doesn't exist as tempdir paramter because
interfaces using ipmitool see if the directory exists when they are
loaded. Actually, this test may fail since ipmitool vendor interface
is enabled.

This patch fixes this test to use the default tempdir.

Change-Id: I685a2aa0dcfe919b7e5318eb00f070ced6cad812
Story: #2001755
Task: #12153
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/557593/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/ansible/test_deploy.py'],1,bb533332e97115ca52ec3c2cd9a405cf8531501f,bug/2001755," configdrive_path = ('%(tempdir)s/%(node)s.cndrive' % {'tempdir': ansible_deploy.CONF.tempdir, 'node': self.node.uuid}) 'location': configdrive_path}} mock.call(configdrive_path, 'w'),"," self.config(tempdir='/path/to/tmpfiles') 'location': '/path/to/tmpfiles/%s.cndrive' % self.node.uuid}} mock.call('/path/to/tmpfiles/%s.cndrive' % self.node.uuid, 'w'),",5,5
openstack%2Frpm-packaging~master~I9645a791c8558607ce89002183d2bf9b43e6afc7,openstack/rpm-packaging,master,I9645a791c8558607ce89002183d2bf9b43e6afc7,Switch to tarballs.openstack.org for monasca-transform source,MERGED,2018-04-02 21:53:28.000000000,2018-04-03 09:17:58.000000000,2018-04-03 09:17:57.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-02 21:53:28.000000000', 'files': ['openstack/monasca-transform/monasca-transform.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/949040ed9f4f2a08621e3fc6a494629b3dc11be8', 'message': 'Switch to tarballs.openstack.org for monasca-transform source\n\nDownload monasca-transform source from tarballs.openstack.org\nlocation instead of pypi mirror.\n\nChange-Id: I9645a791c8558607ce89002183d2bf9b43e6afc7\n'}]",2,558314,949040ed9f4f2a08621e3fc6a494629b3dc11be8,10,6,1,11580,,,0,"Switch to tarballs.openstack.org for monasca-transform source

Download monasca-transform source from tarballs.openstack.org
location instead of pypi mirror.

Change-Id: I9645a791c8558607ce89002183d2bf9b43e6afc7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/14/558314/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-transform/monasca-transform.spec.j2'],1,949040ed9f4f2a08621e3fc6a494629b3dc11be8,monasca-transform-download-url,{% set monasca_transform_source = fetch_source('http://tarballs.openstack.org/monasca-transform/monasca-transform-master.tar.gz') %}{% set upstream_version = upstream_version() %}Source0: {{ monasca_transform_source|basename }},{% set upstream_version = upstream_version('0.14.0') %}# Note: Unfortunately the pypi tar is named with an underscore. Source0: https://files.pythonhosted.org/packages/source/m/{{ pypi_name }}/{{ pypi_tar_name }}-%{version}.tar.gz,3,3
openstack%2Fglance~master~I6745ebfc0ca7e8b59dc4abf63b3d6dad1fde76fd,openstack/glance,master,I6745ebfc0ca7e8b59dc4abf63b3d6dad1fde76fd,Make functional tests run by default,MERGED,2018-04-02 20:16:46.000000000,2018-04-03 09:15:44.000000000,2018-04-03 09:15:44.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 20:16:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/edf41df02b9da0258ae20cc55c5af74edfcfd254', 'message': ""Make functional tests run by default\n\nThe Glance unit and functional tests were split out by change\nI93d7216340bef70fc18fc9943da5c740ba3d4761.  (Previously Glance had\nonly 'py27' and 'py35' tox testenvs that handled both unit and\nfunctional tests.)  That change made it easier to run the faster\nunit tests separately during development, but made it so that simply\nrunning 'tox' locally no longer ran all relevant tests.  This change\nmodifies tox.ini so that running tox with the defaults will run all\nunit and functional tests.  The tests continue to be run separately\nin gate/check jobs.\n\nChange-Id: I6745ebfc0ca7e8b59dc4abf63b3d6dad1fde76fd\n""}]",0,558264,edf41df02b9da0258ae20cc55c5af74edfcfd254,12,3,1,5314,,,0,"Make functional tests run by default

The Glance unit and functional tests were split out by change
I93d7216340bef70fc18fc9943da5c740ba3d4761.  (Previously Glance had
only 'py27' and 'py35' tox testenvs that handled both unit and
functional tests.)  That change made it easier to run the faster
unit tests separately during development, but made it so that simply
running 'tox' locally no longer ran all relevant tests.  This change
modifies tox.ini so that running tox with the defaults will run all
unit and functional tests.  The tests continue to be run separately
in gate/check jobs.

Change-Id: I6745ebfc0ca7e8b59dc4abf63b3d6dad1fde76fd
",git fetch https://review.opendev.org/openstack/glance refs/changes/64/558264/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,edf41df02b9da0258ae20cc55c5af74edfcfd254,restore-functests,"envlist = py35,functional-py35,py27,functional,pep8","envlist = py35,py27,pep8",1,1
openstack%2Frpm-packaging~stable%2Fpike~I42ed8d920ba4c7bcc60582a58478550e91f554c2,openstack/rpm-packaging,stable/pike,I42ed8d920ba4c7bcc60582a58478550e91f554c2,Switch to tarballs.openstack.org for monasca-transform source,MERGED,2018-04-02 22:28:30.000000000,2018-04-03 09:14:57.000000000,2018-04-03 09:14:57.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-04-02 22:28:30.000000000', 'files': ['openstack/monasca-transform/monasca-transform.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bb7b2b81ffd964d3c7431cd4900aad7ab649f8a7', 'message': 'Switch to tarballs.openstack.org for monasca-transform source\n\nDownload monasca-transform source from tarballs.openstack.org\nlocation instead of pypi mirror.\n\nChange-Id: I42ed8d920ba4c7bcc60582a58478550e91f554c2\n'}]",0,558316,bb7b2b81ffd964d3c7431cd4900aad7ab649f8a7,11,5,1,11580,,,0,"Switch to tarballs.openstack.org for monasca-transform source

Download monasca-transform source from tarballs.openstack.org
location instead of pypi mirror.

Change-Id: I42ed8d920ba4c7bcc60582a58478550e91f554c2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/16/558316/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-transform/monasca-transform.spec.j2'],1,bb7b2b81ffd964d3c7431cd4900aad7ab649f8a7,monasca-transform-download-url,{% set monasca_transform_source = fetch_source('http://tarballs.openstack.org/monasca-transform/monasca-transform-stable-pike.tar.gz') %}{% set upstream_version = upstream_version() %}Source0: {{ monasca_transform_source|basename }},{% set upstream_version = upstream_version('0.11.0') %}# Note: Unfortunately the pypi tar is named with an underscore. Source0: https://pypi.io/packages/source/m/{{ pypi_tar_name }}/{{ pypi_tar_name }}-%{version}.tar.gz,3,3
openstack%2Fos-vif~stable%2Fpike~I0ab28bc38be1f72635afa97c2c4651cd1c2ab336,openstack/os-vif,stable/pike,I0ab28bc38be1f72635afa97c2c4651cd1c2ab336,ovs: do not delete port if already exists,MERGED,2018-03-06 13:38:16.000000000,2018-04-03 09:10:49.000000000,2018-04-03 09:10:49.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-06 13:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/02ee8b06168100a5e9cbb4f49aac1c3069548913', 'message': 'ovs: do not delete port if already exists\n\nChange-Id: I0ab28bc38be1f72635afa97c2c4651cd1c2ab336\nCloses-Bug: #1670628\n(cherry picked from commit dadc65c0fae857020f75c8180f159f72cd66c7bd)\n'}, {'number': 2, 'created': '2018-03-21 19:44:13.000000000', 'files': ['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/89b0bea3f32260fc1032729e7a75c3250aed8494', 'message': 'ovs: do not delete port if already exists\n\nChange-Id: I0ab28bc38be1f72635afa97c2c4651cd1c2ab336\nCloses-Bug: #1670628\n(cherry picked from commit dadc65c0fae857020f75c8180f159f72cd66c7bd)\n(cherry picked from commit 3be52b9e650db643827b8b97b28799407f30926f)\n'}]",0,550080,89b0bea3f32260fc1032729e7a75c3250aed8494,11,4,2,7730,,,0,"ovs: do not delete port if already exists

Change-Id: I0ab28bc38be1f72635afa97c2c4651cd1c2ab336
Closes-Bug: #1670628
(cherry picked from commit dadc65c0fae857020f75c8180f159f72cd66c7bd)
(cherry picked from commit 3be52b9e650db643827b8b97b28799407f30926f)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/80/550080/2 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/linux_net.py', 'vif_plug_ovs/tests/unit/test_linux_net.py']",2,02ee8b06168100a5e9cbb4f49aac1c3069548913,bug/1670628-stable/queens-stable/pike," expected = ['--', '--may-exist', 'add-port',"," expected = ['--', '--if-exists', 'del-port', 'fake-dev', '--', 'add-port',",2,4
openstack%2Fnetworking-bagpipe~master~Id87d93e46494af1bdeab1a62d7e43b839f471b5e,openstack/networking-bagpipe,master,Id87d93e46494af1bdeab1a62d7e43b839f471b5e,bagpipe-bgp: Add FlowSpec route cleanup assist,MERGED,2018-03-30 15:56:02.000000000,2018-04-03 08:59:51.000000000,2018-04-03 08:59:50.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 15:56:02.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/engine/tracker_worker.py', 'networking_bagpipe/bagpipe_bgp/vpn/vpn_instance.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/base.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/__init__.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_vpn_instance.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/67672cd39a5d88b17b09d2cbb7bfdd1bc6da10d7', 'message': ""bagpipe-bgp: Add FlowSpec route cleanup assist\n\nWithdraw FlowSpec routes from a VRF configured with 'attract_traffic' when\nstopping to properly stop redirection VRF.\n\nSigned-off-by: Thomas Morin <thomas.morin@orange.com>\nSubmitted on behalf of a third-party: Orange\n\nChange-Id: Id87d93e46494af1bdeab1a62d7e43b839f471b5e\nCloses-Bug: 1759867\n""}]",0,557951,67672cd39a5d88b17b09d2cbb7bfdd1bc6da10d7,6,2,1,19990,,,0,"bagpipe-bgp: Add FlowSpec route cleanup assist

Withdraw FlowSpec routes from a VRF configured with 'attract_traffic' when
stopping to properly stop redirection VRF.

Signed-off-by: Thomas Morin <thomas.morin@orange.com>
Submitted on behalf of a third-party: Orange

Change-Id: Id87d93e46494af1bdeab1a62d7e43b839f471b5e
Closes-Bug: 1759867
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/51/557951/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/bagpipe_bgp/engine/tracker_worker.py', 'networking_bagpipe/bagpipe_bgp/vpn/vpn_instance.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/base.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/__init__.py', 'networking_bagpipe/tests/unit/bagpipe_bgp/test_vpn_instance.py']",5,67672cd39a5d88b17b09d2cbb7bfdd1bc6da10d7,bug/1759867," def test_cleanup_assist(self): # Configure VRF to generate traffic redirection, based on a 5-tuple # classifier, to a specific route target self._config_vrf_with_attract_traffic(ATTRACT_TRAFFIC_1) worker_a = worker.Worker(mock.Mock(), 'worker.Worker-A') vpn_nlri1 = self._generate_route_nlri(IP_ADDR_PREFIX1) self._new_route_event(engine.RouteEvent.ADVERTISE, vpn_nlri1, [t.RT1], worker_a, t.NH1, 200) # FlowSpec route flow_nlri1 = self._generate_flow_spec_nlri(TC1) self._new_flow_event(engine.RouteEvent.ADVERTISE, flow_nlri1, [t.RT5], [t.RT1], worker_a) self.mock_dp.needs_cleanup_assist.return_value = False with mock.patch.object(self.vpn, 'best_route_removed') as mock_brr: self.vpn.stop() mock_brr.assert_called_once() self.assertIsInstance(mock_brr.call_args[0][1].nlri, flowspec.Flow)",,49,11
openstack%2Fneutron~master~I18dea321d905ee7c31078be7ec88590338d3e0ec,openstack/neutron,master,I18dea321d905ee7c31078be7ec88590338d3e0ec,[WIP][log]: iptables logging driver for security group,ABANDONED,2018-04-03 08:33:39.000000000,2018-04-03 08:54:04.000000000,,[{'_account_id': 15752}],"[{'number': 1, 'created': '2018-04-03 08:33:39.000000000', 'files': ['neutron/services/logapi/drivers/linuxbridge/__init__.py', 'neutron/services/logapi/drivers/linuxbridge/driver.py', 'neutron/tests/unit/services/logapi/drivers/linuxbridge/__init__.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/plugins/ml2/drivers/linuxbridge/mech_driver/mech_linuxbridge.py', 'neutron/privileged/agent/linux/libnetfilter_log.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'setup.cfg', 'neutron/services/logapi/drivers/linuxbridge/iptables_log.py', 'neutron/tests/unit/services/logapi/drivers/linuxbridge/test_iptables_log.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e7319acb66526afbbc8df19c18a3d7134c6c7f8', 'message': '[WIP][log]: iptables logging driver for security group\n\nThis patch implements security group logging based iptables driver.\nThis patch also introduce libnetlink_log python binding to capture\nNFLOG message.\n\nChange-Id: I18dea321d905ee7c31078be7ec88590338d3e0ec\ntChange-Id: Iaaf655c49df20a96e7b79769045e6a81734fdf90\nPartially-implements: blueprint security-group-logging\nRelated-Bug: #1468366\n'}]",0,558426,2e7319acb66526afbbc8df19c18a3d7134c6c7f8,3,1,1,15471,,,0,"[WIP][log]: iptables logging driver for security group

This patch implements security group logging based iptables driver.
This patch also introduce libnetlink_log python binding to capture
NFLOG message.

Change-Id: I18dea321d905ee7c31078be7ec88590338d3e0ec
tChange-Id: Iaaf655c49df20a96e7b79769045e6a81734fdf90
Partially-implements: blueprint security-group-logging
Related-Bug: #1468366
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/558426/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/logapi/drivers/linuxbridge/__init__.py', 'neutron/services/logapi/drivers/linuxbridge/driver.py', 'neutron/tests/unit/services/logapi/drivers/linuxbridge/__init__.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/plugins/ml2/drivers/linuxbridge/mech_driver/mech_linuxbridge.py', 'neutron/privileged/agent/linux/libnetfilter_log.py', 'neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py', 'setup.cfg', 'neutron/services/logapi/drivers/linuxbridge/iptables_log.py', 'neutron/tests/unit/services/logapi/drivers/linuxbridge/test_iptables_log.py']",11,2e7319acb66526afbbc8df19c18a3d7134c6c7f8,bug/1468366,"# Copyright 2012, Nachi Ueno, NTT MCL, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutron_lib import constants from neutron_lib import context from oslo_config import cfg from neutron.agent.linux import iptables_comments as ic from neutron.conf.agent import common as agent_config from neutron.conf.agent import securitygroups_rpc as security_config from neutron.services.logapi.agent.drivers.linuxbridge import iptables_log from neutron.tests import base from neutron.tests.unit.api.v2 import test_base _uuid = test_base._uuid #TODO(mangelajo): replace all 'IPv4', 'IPv6' to constants FAKE_PREFIX = {'IPv4': '10.0.0.0/24', 'IPv6': 'fe80::/48'} FAKE_IP = {'IPv4': '10.0.0.1', 'IPv6': 'fe80::1'} #TODO(mangelajo): replace all '*_sgid' strings for the constants FAKE_SGID = 'fake_sgid' OTHER_SGID = 'other_sgid' _IPv6 = constants.IPv6 _IPv4 = constants.IPv4 direction_rule = {'ingress': 'i', 'egress': 'o', } class BaseIptablesLogTestCase(base.BaseTestCase): def setUp(self): super(BaseIptablesLogTestCase, self).setUp() cfg.CONF.register_opts(agent_config.ROOT_HELPER_OPTS, 'AGENT') security_config.register_securitygroups_opts() cfg.CONF.set_override('comment_iptables_rules', False, 'AGENT') self.utils_exec_p = mock.patch( 'neutron.agent.linux.utils.execute') self.utils_exec = self.utils_exec_p.start() self.iptables_cls_p = mock.patch( 'neutron.agent.linux.iptables_manager.IptablesManager') iptables_cls = self.iptables_cls_p.start() self.iptables_inst = mock.Mock() self.v4filter_inst = mock.Mock() self.v6filter_inst = mock.Mock() self.resource_rpc_p = mock.patch('neutron.services.logapi.' 'agent.log_extension.LoggingApiStub') resource_rpc_inst = self.resource_rpc_p.start() self.iptables_inst.ipv4 = {'filter': self.v4filter_inst, 'raw': self.v4filter_inst } self.iptables_inst.ipv6 = {'filter': self.v6filter_inst, 'raw': self.v6filter_inst } iptables_cls.return_value = self.iptables_inst self.sg_log = iptables_log.IptablesLoggingDriver() self.sg_log.iptables = self.iptables_inst self.sg_log.resource_rpc = resource_rpc_inst self.sg_log._deferred = False self.sg_log.context = context.Context('fake_user', 'fake_tenant') self.sg_log.log_ports = {} def _fake_port(self): return {'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'tcp', 'port_range_min': 12, 'port_range_max': 12, 'direction': u'ingress', 'ethertype': u'IPv4', 'security_group_id': u'fake_security_group'}, ], 'event': 'ALL', } def _fake_log_resourse(self): return {'id': 'fake_log_id', 'resource_id': 'fake_resource_id', 'target_id': 'fake_target_id', 'resource_type': 'security_group', 'event': 'ALL', 'enable': True, } class IptablesLogTestCase(BaseIptablesLogTestCase): def test_create_log_no_ports(self): log_resource = self._fake_log_resourse() self.sg_log.resource_rpc.get_sg_log_info.return_value = [] self.sg_log._create_security_group_log( self.sg_log.context, log_resource) self.assertEqual({'fake_log_id': []}, self.sg_log.log_ports) @staticmethod def _adding_clear_rules_by_tag(sg_log, *args): for calls in args: calls += [mock.call.clear_rules_by_tag(sg_log['id']), ] @staticmethod def _adding_remove_rules(*args): for calls in args: calls += [mock.call.remove_chain('log-iunused'), mock.call.remove_rule( 'FORWARD', ['-m physdev ' '--physdev-out tapunused_port ' '--physdev-is-bridged -j $log-chain'], comment=ic.VM_INT_SG_LOG, wrap=True), mock.call.remove_rule( 'log-chain', ['-m physdev ' '--physdev-out tapunused_port ' '--physdev-is-bridged -j $log-iunused'], comment=ic.SG_TO_VM_SG_LOG), mock.call.remove_chain('log-ounused'), mock.call.remove_rule( 'FORWARD', ['-m physdev ' '--physdev-in tapunused_port ' '--physdev-is-bridged -j $log-chain'], comment=ic.VM_INT_SG_LOG, wrap=True), mock.call.remove_rule( 'log-chain', ['-m physdev ' '--physdev-in tapunused_port ' '--physdev-is-bridged -j $log-ounused'], comment=ic.SG_TO_VM_SG_LOG), ] @staticmethod def _adding_log_chain(*args): for calls in args: calls += [mock.call.add_chain('log-chain'), ] @staticmethod def _adding_log_chain_out(*args): for calls in args: calls += [mock.call.add_chain('log-ifake_p'), mock.call.add_rule('FORWARD', '-m physdev ' '--physdev-out ' 'tapfake_port_i ' '--physdev-is-bridged ' '-j $log-chain', comment=ic.VM_INT_SG_LOG, tag=None, top=True), mock.call.add_rule('log-chain', '-m physdev ' '--physdev-out tapfake_port_i ' '--physdev-is-bridged ' '-j $log-ifake_p', comment=ic.SG_TO_VM_SG_LOG, tag=None, top=False), ] @staticmethod def _adding_log_chain_in(*args): for calls in args: calls += [mock.call.add_chain('log-ofake_p'), mock.call.add_rule('FORWARD', '-m physdev ' '--physdev-in tapfake_port_i ' '--physdev-is-bridged ' '-j $log-chain', comment=ic.VM_INT_SG_LOG, tag=None, top=True), mock.call.add_rule('log-chain', '-m physdev ' '--physdev-in tapfake_port_i ' '--physdev-is-bridged ' '-j $log-ofake_p', comment=ic.SG_TO_VM_SG_LOG, tag=None, top=False), ] @staticmethod def _adding_log_drop_rule_in(*args): for calls in args: calls += [mock.call.add_rule('log-ifake_p', '-m state ' '--state INVALID ' '-j LOG ' '--log-prefix fake_log_id-DROP ' '--log-level 7', comment=None, tag='fake_log_id', top=False), ] @staticmethod def _adding_log_drop_rule_fallback(driection='out', *args): for calls in args: calls += [mock.call.add_rule('sg-fallback', '-m physdev ' '--physdev-%s tapfake_port_i ' '--physdev-is-bridged ' '-j LOG ' '--log-prefix fake_log_id-DROP ' '--log-level 7' % driection, comment=None, tag='fake_log_id', top=True), ] @staticmethod def _adding_log_drop_rule_out(*args): for calls in args: calls += [mock.call.add_rule('log-ofake_p', '-m state ' '--state INVALID ' '-j LOG ' '--log-prefix fake_log_id-DROP ' '--log-level 7', comment=None, tag='fake_log_id', top=False), ] def _test_create_log(self, sg_log, ports, old_ports, protocol_rule): v4calls, v6calls = [], [] if not ports: return [] self.sg_log.resource_rpc.get_sg_log_info.return_value = ports self._adding_clear_rules_by_tag(sg_log, v4calls, v6calls) self.v4filter_inst.reset_mock() if old_ports: for old_port in old_ports: if old_port['used']: pass else: self._adding_remove_rules(v4calls, v6calls) self._adding_log_chain(v4calls, v6calls) for port in ports: sg_rule = port['security_group_rules'][0] ethertype = sg_rule['ethertype'] self._adding_log_chain_out(v4calls, v6calls) if ethertype == 'IPv4': if sg_rule['direction'] == 'ingress': if port['event'] in ['ACCEPT', 'ALL']: v4calls += [protocol_rule] else: if sg_rule['direction'] == 'ingress': if port['event'] in ['ACCEPT', 'ALL']: v6calls += [protocol_rule] if port['event'] in ['DROP', 'ALL']: self._adding_log_drop_rule_in(v4calls, v6calls) self._adding_log_drop_rule_fallback('out', v4calls, v6calls) self._adding_log_chain_in(v4calls, v6calls) if ethertype == 'IPv4': if sg_rule['direction'] == 'egress': if port['event'] in ['ACCEPT', 'ALL']: v4calls += [protocol_rule] else: if sg_rule['direction'] == 'egress': if port['event'] in ['ACCEPT', 'ALL']: v6calls += [protocol_rule] if port['event'] in ['DROP', 'ALL']: self._adding_log_drop_rule_out(v4calls, v6calls) self._adding_log_drop_rule_fallback('in', v4calls, v6calls) v4calls.append(mock.call.add_rule('log-chain', '-j RETURN')) v6calls.append(mock.call.add_rule('log-chain', '-j RETURN')) self.iptables_inst.get_chain.side_effect = self._empty_chain self.sg_log._create_security_group_log(self.sg_log.context, sg_log) self.v4filter_inst.assert_has_calls(v4calls) self.v6filter_inst.assert_has_calls(v6calls) def test_create_log_no_protocol(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'ethertype': 'IPv4', 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}] for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction port['event'] = event protocol_rule = mock.call.add_rule( 'log-%sfake_p' % direction_rule[direction], '-j LOG --log-prefix ' '""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = {log_resource['id']: [ unused_port['port_id'], used_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) def _empty_chain(self, *args, **kwargs): if args[1] in ['log-iused_p', 'log-oused_p']: return [1] else: return [] def test_create_log_icmp_protocol(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'icmp', 'ethertype': 'IPv4', 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}, ] # old_ports = [{'port': unused_port, 'used': False}] for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: port['event'] = event sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction if direction == 'ingress': protocol_rule = mock.call.add_rule( 'log-ifake_p', '-p icmp ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) else: protocol_rule = mock.call.add_rule( 'log-ofake_p', '-p icmp ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = { log_resource['id']: [used_port['port_id'], unused_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) def test_create_log_tcp_protocol_no_port_range(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'tcp', # 'ethertype': 'IPv4', 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}, ] # old_ports = [{'port': unused_port, 'used': False}] for ethertype in ['IPv4', 'IPv6']: for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: port['event'] = event sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction sg_rule['ethertype'] = ethertype if direction == 'ingress': protocol_rule = mock.call.add_rule( 'log-ifake_p', '-p tcp ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) else: protocol_rule = mock.call.add_rule( 'log-ofake_p', '-p tcp ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = { log_resource['id']: [used_port['port_id'], unused_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) def test_create_log_tcp_protocol_port(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}, ] # old_ports = [{'port': unused_port, 'used': False}] for ethertype in ['IPv4', 'IPv6']: for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: port['event'] = event sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction sg_rule['ethertype'] = ethertype if direction == 'ingress': protocol_rule = mock.call.add_rule( 'log-ifake_p', '-p tcp -m tcp ' '--dport 22 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) else: protocol_rule = mock.call.add_rule( 'log-ofake_p', '-p tcp -m tcp ' '--dport 22 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = { log_resource['id']: [used_port['port_id'], unused_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) def test_create_log_tcp_protocol_ports(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 100, 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}, ] # old_ports = [{'port': unused_port, 'used': False}] for ethertype in ['IPv4', 'IPv6']: for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: port['event'] = event sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction sg_rule['ethertype'] = ethertype if direction == 'ingress': protocol_rule = mock.call.add_rule( 'log-ifake_p', '-p tcp -m tcp -m multiport ' '--dports 22:100 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) else: protocol_rule = mock.call.add_rule( 'log-ofake_p', '-p tcp -m tcp -m multiport ' '--dports 22:100 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = { log_resource['id']: [used_port['port_id'], unused_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) def test_create_log_udp_protocol_no_port_range(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'udp', 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}, ] # old_ports = [{'port': unused_port, 'used': False}] for ethertype in ['IPv4', 'IPv6']: for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: port['event'] = event sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction sg_rule['ethertype'] = ethertype if direction == 'ingress': protocol_rule = mock.call.add_rule( 'log-ifake_p', '-p udp ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) else: protocol_rule = mock.call.add_rule( 'log-ofake_p', '-p udp ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = { log_resource['id']: [used_port['port_id'], unused_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) def test_create_log_udp_protocol_port(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'udp', 'port_range_min': 22, 'port_range_max': 22, 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}, ] # old_ports = [{'port': unused_port, 'used': False}] for ethertype in ['IPv4', 'IPv6']: for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: port['event'] = event sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction sg_rule['ethertype'] = ethertype if direction == 'ingress': protocol_rule = mock.call.add_rule( 'log-ifake_p', '-p udp -m udp ' '--dport 22 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) else: protocol_rule = mock.call.add_rule( 'log-ofake_p', '-p udp -m udp ' '--dport 22 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = { log_resource['id']: [used_port['port_id'], unused_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) def test_create_log_udp_protocol_ports(self): log_resource = self._fake_log_resourse() port = { 'port_id': 'fake_port_id', 'security_group_rules': [{ 'protocol': 'udp', 'port_range_min': 22, 'port_range_max': 100, 'ethertype': 'IPv4', 'security_group_id': 'fake_sg', }, ] } used_port = self._fake_port() used_port['port_id'] = 'used_port' unused_port = self._fake_port() unused_port['port_id'] = 'unused_port' old_ports = [{'port': used_port, 'used': True}, {'port': unused_port, 'used': False}, ] # old_ports = [{'port': unused_port, 'used': False}] for ethertype in ['IPv4', 'IPv6']: for direction in ['ingress', 'egress']: for event in ['ACCEPT', 'DROP', 'ALL']: port['event'] = event sg_rule = port['security_group_rules'][0] sg_rule['direction'] = direction sg_rule['ethertype'] = ethertype if direction == 'ingress': protocol_rule = mock.call.add_rule( 'log-ifake_p', '-p udp -m udp -m multiport ' '--dports 22:100 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) else: protocol_rule = mock.call.add_rule( 'log-ofake_p', '-p udp -m udp -m multiport ' '--dports 22:100 ' '-j LOG ' '--log-prefix ""fake_log_id-ACCEPT"" ' '--log-level 7', comment=None, tag='fake_log_id', top=False) self.sg_log.log_ports = { log_resource['id']: [used_port['port_id'], unused_port['port_id'], ], } self._test_create_log(log_resource, [port], old_ports, protocol_rule) ",,1550,3
openstack%2Fglance-specs~master~I83194bd8721581deb863389f121041bb1dfe76a3,openstack/glance-specs,master,I83194bd8721581deb863389f121041bb1dfe76a3,Hide old images from default image-list,ABANDONED,2017-09-28 12:22:48.000000000,2018-04-03 08:53:19.000000000,,"[{'_account_id': 3}, {'_account_id': 136}, {'_account_id': 2033}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-09-28 12:22:48.000000000', 'files': ['specs/queens/approved/glance/operator-image-workflow.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/77aae7775e10f84bd9b1948efad8d7f21cce8310', 'message': 'Hide old images from default image-list\n\nThis spec looks how operators can have more control over images\nthat are included in the default image-list.\nReference: https://review.openstack.org/#/c/327980\n\nChange-Id: I83194bd8721581deb863389f121041bb1dfe76a3\nCo-Authored-By: Fei Long Wang <flwang@catalyst.net.nz>\nCo-Authored-By: Brian Rosmaita <brian.rosmaita@rackspace.com>\n'}]",14,508133,77aae7775e10f84bd9b1948efad8d7f21cce8310,15,7,1,2033,,,0,"Hide old images from default image-list

This spec looks how operators can have more control over images
that are included in the default image-list.
Reference: https://review.openstack.org/#/c/327980

Change-Id: I83194bd8721581deb863389f121041bb1dfe76a3
Co-Authored-By: Fei Long Wang <flwang@catalyst.net.nz>
Co-Authored-By: Brian Rosmaita <brian.rosmaita@rackspace.com>
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/33/508133/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/glance/operator-image-workflow.rst'],1,77aae7775e10f84bd9b1948efad8d7f21cce8310,operator_image_lifecycle,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================== Operator maintained images lifecycle ==================================== This spec addresses the problem that cloud operators have into keep a public image list with only the latest images versions available [0]_. Problem description =================== Cloud operators supply *public images* that can be used by end users to boot servers. An example is an image containing the CentOS 7 operating system. Such images must be updated as security concerns, etc., are addressed. In Glance, however, image data is immutable, so each update results in a new public image. Further, operators do not want to delete the ""old"" public images, as end users may require them for different use-cases like server rebuilds. As a result, the default image-list for end users becomes very large. Further, the default image-list may contain multiple CentOS 7 images, for example, making it difficult for end users to determine which image to use. .. note:: Example An operator provides an image for CentOS 7 with a standard set of packages as image 1. Some minor security problem is discovered in OpenSSL, so the operator provides image 2 of CentOS 7 with updated OpenSSL. Then a kernel vulnerability is discovered and the operator issues image 3 of CentOS 7 with updated OpenSSL and a patched kernel. Each of these is a ""version"" of the image, but the same version of CentOS 7. The operator wants a new end user to start with image 3, but a user who's been around a while longer may want to continue to use image 1 and patch/upgrade himself (for example, the OpenSSL update brings in a dependency that conflicts with some key software the user is running). If all three images have public visibility, then all three of them will appear in an end user's default image-list. A current practice is to address this by putting a custom property on an image, for example, ``""is_current"": ""yes""``, but this is operator-specific and not interoperable. This only solves part of the problem, however, because end users must be educated to look for the ``""is_current""`` image property. It would be better if *only* those images with ``""is_current"": ""yes""`` were included in the end user's default image-list in the first place. Proposed change =============== This spec proposes adding a new visibility state ""hide"" (suggestions for the name welcome!). Images with this new visibility state will not be in the default image list that the user gets (public images + owned images). To list images with visibility ""hide"" it will be required to explicitly request it. Ex: ""property --visibility=hide"" Images with the visibility ""hide"" will always be discoverable by the user. They can be used to created new VMs if they are not deactivated. Also, user will be able to see image details with ""image-show"". Because, the visibility ""hide"" as potentially the same scope as ""public"" the user roles that can use this visibility need to be controlled by policy. Alternatives ------------ Instead using a new image visibility we can have an image property ""hide"" that can be used to filter the default image list to the user. This option could be more problematic for image discovery. However, an image property can be used by all users and the public visibility scope is not duplicated. Data model impact ----------------- None REST API impact --------------- A new visibility state will be accepted. Security impact --------------- None Notification impact ------------------- None Other end user impact --------------------- None Performance impact ------------------ None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: - Belmiro Moreira Work Items ---------- TBD Dependencies ============ None Testing ======= TBD References ========== .. [0] https://review.openstack.org/#/c/327980/ ",,137,0
openstack%2Fneutron-vpnaas~master~I3a70bf296c849485194dd7df8f06ccc60dccbedc,openstack/neutron-vpnaas,master,I3a70bf296c849485194dd7df8f06ccc60dccbedc,remove unused plugin.get_plugin_name(),MERGED,2018-03-29 10:17:29.000000000,2018-04-03 08:45:27.000000000,2018-04-03 08:45:27.000000000,"[{'_account_id': 6854}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 10:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9c9a96f2c1990fca3941d5d41df374473f550a36', 'message': 'remove unused plugin.get_plugin_name()\n\nThis method does not seem to be used anymore:\n\nhttp://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib\n\nChange-Id: I3a70bf296c849485194dd7df8f06ccc60dccbedc\n'}, {'number': 2, 'created': '2018-04-02 02:21:17.000000000', 'files': ['neutron_vpnaas/extensions/vpnaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/49d91b8197758532843703171af94678f8a37172', 'message': 'remove unused plugin.get_plugin_name()\n\nThis method does not seem to be used anymore:\n\nhttp://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib\n\nChange-Id: I3a70bf296c849485194dd7df8f06ccc60dccbedc\n'}]",0,557670,49d91b8197758532843703171af94678f8a37172,14,3,2,12021,,,0,"remove unused plugin.get_plugin_name()

This method does not seem to be used anymore:

http://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib

Change-Id: I3a70bf296c849485194dd7df8f06ccc60dccbedc
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/70/557670/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/extensions/vpnaas.py'],1,9c9a96f2c1990fca3941d5d41df374473f550a36,neutron_remove_get_plugin_name,, def get_plugin_name(self): return nconstants.VPN ,0,3
openstack%2Fnetworking-calico~master~I6f6f470fbc7cc06197576dcd7a552e62dba11733,openstack/networking-calico,master,I6f6f470fbc7cc06197576dcd7a552e62dba11733,DHCP agent: watch endpoints for this host only,MERGED,2018-03-29 14:29:33.000000000,2018-04-03 08:37:43.000000000,2018-04-03 08:37:43.000000000,"[{'_account_id': 13734}, {'_account_id': 19461}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 14:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/14327a46bd0ded8f8f746b0f6c0a354c2598b564', 'message': 'DHCP agent: watch endpoints for this host only\n\nChange-Id: I6f6f470fbc7cc06197576dcd7a552e62dba11733\n'}, {'number': 2, 'created': '2018-03-29 15:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/328ae5b9b3afb6c561ed9e3d3de6011aa93fc510', 'message': 'DHCP agent: watch endpoints for this host only\n\nChange-Id: I6f6f470fbc7cc06197576dcd7a552e62dba11733\n'}, {'number': 3, 'created': '2018-03-29 15:36:15.000000000', 'files': ['networking_calico/tests/test_dhcp_agent.py', 'networking_calico/agent/dhcp_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/2676ed88248238c21626fd2d22da6998fdeb9531', 'message': 'DHCP agent: watch endpoints for this host only\n\nChange-Id: I6f6f470fbc7cc06197576dcd7a552e62dba11733\n'}]",5,557724,2676ed88248238c21626fd2d22da6998fdeb9531,12,3,3,13734,,,0,"DHCP agent: watch endpoints for this host only

Change-Id: I6f6f470fbc7cc06197576dcd7a552e62dba11733
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/24/557724/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_calico/agent/dhcp_agent.py'],1,14327a46bd0ded8f8f746b0f6c0a354c2598b564,precise-endpoint-prefix," this_host_prefix = (workload_endpoint_prefix + hostname.replace('-', '--') + ""-openstack-"") super(CalicoEtcdWatcher, self).__init__(this_host_prefix)"," super(CalicoEtcdWatcher, self).__init__(workload_endpoint_prefix)",5,1
openstack%2Fopenstack-ansible-os_cinder~master~Idf7513a22608a602fe4e53da070c11aac115b6d0,openstack/openstack-ansible-os_cinder,master,Idf7513a22608a602fe4e53da070c11aac115b6d0,Convert role to use a common systemd service role,MERGED,2018-03-31 01:20:59.000000000,2018-04-03 08:34:32.000000000,2018-04-02 16:03:01.000000000,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 01:20:59.000000000', 'files': ['tasks/main.yml', 'templates/cinder-systemd-init.j2', 'defaults/main.yml', 'templates/cinder-systemd-tmpfiles.j2', 'tasks/cinder_init_systemd.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/2f78790cc28e135f1912a61d29571ad5d68e9788', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: Idf7513a22608a602fe4e53da070c11aac115b6d0\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,558017,2f78790cc28e135f1912a61d29571ad5d68e9788,8,3,1,7353,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed. The exterior role is built to be OSA compatible and may be pulled
into tree should we deem it necessary.

Change-Id: Idf7513a22608a602fe4e53da070c11aac115b6d0
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/17/558017/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/cinder-systemd-init.j2', 'defaults/main.yml', 'templates/cinder-systemd-tmpfiles.j2', 'tasks/cinder_init_systemd.yml']",5,2f78790cc28e135f1912a61d29571ad5d68e9788,common-systemd-service,,"--- # Copyright 2016, Rackspace US, Inc. # Copyright 2016, IBM Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create TEMP run dir file: path: ""/var/run/{{ item.service_name }}"" state: directory owner: ""{{ cinder_system_user_name }}"" group: ""{{ cinder_system_group_name }}"" mode: ""02755"" with_items: ""{{ filtered_cinder_services }}"" - name: Create TEMP lock dir file: path: ""/var/lock/{{ item.service_name }}"" state: directory owner: ""{{ cinder_system_user_name }}"" group: ""{{ cinder_system_group_name }}"" mode: ""02755"" with_items: ""{{ filtered_cinder_services }}"" - name: Create tmpfiles.d entry template: src: ""cinder-systemd-tmpfiles.j2"" dest: ""/etc/tmpfiles.d/openstack-{{ item.service_name }}.conf"" mode: ""0644"" owner: ""root"" group: ""root"" with_items: ""{{ filtered_cinder_services }}"" notify: - Manage LB - Restart cinder services - name: Place the systemd init script config_template: src: ""cinder-systemd-init.j2"" dest: ""/etc/systemd/system/{{ item.service_name }}.service"" mode: ""0644"" owner: ""root"" group: ""root"" config_overrides: ""{{ item.init_config_overrides }}"" config_type: ""ini"" with_items: ""{{ filtered_cinder_services }}"" notify: - Manage LB - Restart cinder services ",30,105
openstack%2Fnetworking-bgpvpn~master~Ib1bd0e3a97705e323aafc65aed268a59bdd92788,openstack/networking-bgpvpn,master,Ib1bd0e3a97705e323aafc65aed268a59bdd92788,remove unused plugin.get_plugin_name(),MERGED,2018-03-29 09:47:58.000000000,2018-04-03 08:34:20.000000000,2018-04-03 08:34:20.000000000,"[{'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 09:47:58.000000000', 'files': ['networking_bgpvpn/neutron/extensions/bgpvpn.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f80430bdc8355b92b8873e40452b75380801bbe4', 'message': 'remove unused plugin.get_plugin_name()\n\nThis method does not seem to be used anymore:\n\nhttp://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib\n\nChange-Id: Ib1bd0e3a97705e323aafc65aed268a59bdd92788\n'}]",0,557661,f80430bdc8355b92b8873e40452b75380801bbe4,8,4,1,12021,,,0,"remove unused plugin.get_plugin_name()

This method does not seem to be used anymore:

http://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib

Change-Id: Ib1bd0e3a97705e323aafc65aed268a59bdd92788
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/61/557661/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/extensions/bgpvpn.py'],1,f80430bdc8355b92b8873e40452b75380801bbe4,neutron_remove_get_plugin_name,, def get_plugin_name(self): return bgpvpn_api_def.LABEL ,0,3
openstack%2Fopenstack-ansible-os_trove~master~Ib326cec2272e6aa82a516bac01c7a38801315fc8,openstack/openstack-ansible-os_trove,master,Ib326cec2272e6aa82a516bac01c7a38801315fc8,Updated from OpenStack Ansible Tests,MERGED,2018-03-27 15:56:59.000000000,2018-04-03 08:29:28.000000000,2018-04-03 08:29:27.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 9414}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 15:56:59.000000000', 'files': ['run_tests.sh', '.gitignore'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/1b889264721715bf0b4f6d4486bc7c015f56b7ab', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Ib326cec2272e6aa82a516bac01c7a38801315fc8\n'}]",0,556940,1b889264721715bf0b4f6d4486bc7c015f56b7ab,15,6,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Ib326cec2272e6aa82a516bac01c7a38801315fc8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/40/556940/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', '.gitignore']",2,1b889264721715bf0b4f6d4486bc7c015f56b7ab,openstack/openstack-ansible-tests/sync-tests,previous,,54,20
openstack%2Ftacker-specs~master~Ibf40e4e4d52e9756ab52b2e9c2198e2d73037b8c,openstack/tacker-specs,master,Ibf40e4e4d52e9756ab52b2e9c2198e2d73037b8c,Update mistral_vnf_monitor_policies spec,MERGED,2018-03-28 15:42:05.000000000,2018-04-03 08:28:37.000000000,2018-04-03 08:28:37.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26490}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-03-28 15:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/093d9197aeded38652ec15e1389d6d7b33ced5d5', 'message': 'Update VNF monitoring using Mistral spec\n\nChange-Id: Ibf40e4e4d52e9756ab52b2e9c2198e2d73037b8c\n'}, {'number': 2, 'created': '2018-03-28 15:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/b18f53cc9e46b9eea01ca502d578a29a5d8b4322', 'message': 'Update mistral_vnf_monitor_policies spec\n\nChange-Id: Ibf40e4e4d52e9756ab52b2e9c2198e2d73037b8c\nImplements: blueprint mistral-monitor-policy\n'}, {'number': 3, 'created': '2018-03-28 17:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2cfa9a1f34fdd77e3c1ddfe43f640850f73325e8', 'message': 'Update mistral_vnf_monitor_policies spec\n\nThis patch also updates minor information in python_openstackclient spec\n\nChange-Id: Ibf40e4e4d52e9756ab52b2e9c2198e2d73037b8c\nImplements: blueprint mistral-monitor-policy\n'}, {'number': 4, 'created': '2018-03-28 17:04:43.000000000', 'files': ['specs/pike/python-openstackclient.rst', 'specs/pike/mistral_vnf_monitor_policies.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/701a930285be07515a82c814ee67d95dd7fd2a70', 'message': 'Update mistral_vnf_monitor_policies spec\n\nThis patch also updates minor information in python_openstackclient spec\n\nChange-Id: Ibf40e4e4d52e9756ab52b2e9c2198e2d73037b8c\nImplements: blueprint mistral-monitor-policy\n'}]",0,557376,701a930285be07515a82c814ee67d95dd7fd2a70,14,5,4,27153,,,0,"Update mistral_vnf_monitor_policies spec

This patch also updates minor information in python_openstackclient spec

Change-Id: Ibf40e4e4d52e9756ab52b2e9c2198e2d73037b8c
Implements: blueprint mistral-monitor-policy
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/76/557376/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/mistral_vnf_monitor_policies.rst'],1,093d9197aeded38652ec15e1389d6d7b33ced5d5,bp/mistral-monitor-policy,"Currently, Tacker server hosts a local variable to keep the monitoring of VNFs and uses local threads to do the monitoring. This causes tacker* If we have a lot of VNFs which needs monitoring, the tacker server will* If the tacker server restarts, the monitor threads will not start. * The system cannot run more than one tacker server, since this is making tacker server stateful. | Mistral workflow | +-(1)---> VNF monitor action | +---------------+ | | | | Tacker server +----+ +--------^------------+ +-----+---------+ | | | | | | Tacker | +-------> Tacker DB <-----+ Tacker-conductor server to do database access for the mistral actions.Sequence diagram for update VNF:Sequence diagram for deleting VNF:Sequence diagram for scale VNF: gongysh <gong.yongsheng@99cloud.net> Nguyen Hai <nguyentrihai93@gmail.com> dharmendra <dharmendra.kushwaha@nectechnologies.in>* Implement workflow version of monitor policy for VNF* Change tacker deployment document * Add a document about mistral workflow way to do actions in tacker server* https://docs.openstack.org/mistral/ocata/dsl/dsl_v2.html","currently, tacker server hosts a local variable to keep the monitoring of vnfs and uses local threads to do the monitoring. This causes tacker* if we have a lot of VNFs which needs monitoring, the tacker server will* if the tacker server restarts, the monitor threads will not start * cannot run more than one tacker server, since this is making tacker server stateful. | mistral workflow | +-(1)---> vnf monitor action | +--------------+ | | | | Tacker server+-----+ +--------^------------+ +-----+--------+ | | | | | | +-------> tacker DB <-----+ conductor server to do database access for the mistral actions.sequence diagram for update VNF:sequence diagram for deleting VNF:sequence diagram for scale VNF: Primary assignee: gongysh Other contributors: <launchpad-id or None>* implement workflow version of monitor policy for VNF* change tacker deployment document * add a document about mistral workflow way to do actions in tacker server* https://docs.openstack.org/developer/mistral/dsl/dsl_v2.html",26,28
openstack%2Ftripleo-heat-templates~master~Ib833c88d85c8e9ef488ebddb4fdddb901460431e,openstack/tripleo-heat-templates,master,Ib833c88d85c8e9ef488ebddb4fdddb901460431e,Add SshKnownHosts to noop-deploy-steps.yaml to fix update prepare,ABANDONED,2018-04-03 07:09:37.000000000,2018-04-03 08:24:21.000000000,,[],"[{'number': 1, 'created': '2018-04-03 07:09:37.000000000', 'files': ['environments/noop-deploy-steps.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cfb41a729b59fda73cb32a69aca4b9d79f758f9', 'message': 'Add SshKnownHosts to noop-deploy-steps.yaml to fix update prepare\n\nThis was needed since not overwritting those resources results in the\nupdate prepare step not working.\n\nChange-Id: Ib833c88d85c8e9ef488ebddb4fdddb901460431e\nRelated-Bug: #1746336\n'}]",0,558410,3cfb41a729b59fda73cb32a69aca4b9d79f758f9,2,0,1,10873,,,0,"Add SshKnownHosts to noop-deploy-steps.yaml to fix update prepare

This was needed since not overwritting those resources results in the
update prepare step not working.

Change-Id: Ib833c88d85c8e9ef488ebddb4fdddb901460431e
Related-Bug: #1746336
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/558410/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/noop-deploy-steps.yaml'],1,3cfb41a729b59fda73cb32a69aca4b9d79f758f9,bug/1746336, OS::TripleO::Ssh::KnownHostsDeployment: OS::Heat::None OS::TripleO::Ssh::HostPubKey: OS::Heat::None,,2,0
openstack%2Fnova~master~I9064a2598d773a814269995eed8862d093d9100e,openstack/nova,master,I9064a2598d773a814269995eed8862d093d9100e,SchedulerReportClient.update_from_provider_tree,MERGED,2018-01-15 23:30:57.000000000,2018-04-03 08:13:03.000000000,2018-04-03 01:48:05.000000000,"[{'_account_id': 1}, {'_account_id': 7}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9172}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17920}, {'_account_id': 20722}, {'_account_id': 21279}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 25638}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-15 23:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e85562478ce30a72b8a9ff4a3ac1ae7bd1cd6017', 'message': ""WIP: Scheduler[Report]Client.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to SchedulerClient\nand SchedulerReportClient.  This method accepts the ProviderTree as\nmodified by ComputeDriver.update_provider_tree, compares it to what the\nreport client has in its cache, and flushes any changes back to the\nplacement service.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nWIP: SchedulerClient shim\nWIP: resolve TODOs (they're not for future patches)\nWIP: test\n""}, {'number': 2, 'created': '2018-01-16 17:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b5ac2fe2542381e178d62a0eef65bd0bcd255dc', 'message': ""WIP: SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nWIP: resolve TODOs (they're not for future patches)\nWIP: test\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\n""}, {'number': 3, 'created': '2018-01-16 17:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0057441737c0ecd84b78560e00f35a929f70b04', 'message': ""WIP: SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nWIP: resolve TODOs (they're not for future patches)\nWIP: test\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\n""}, {'number': 4, 'created': '2018-01-18 19:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bc37a0cef17ee74cb4c6a3c9f57666dfcffc9dd', 'message': ""WIP: SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nWIP: resolve TODOs (they're not for future patches)\nWIP: test\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\n""}, {'number': 5, 'created': '2018-01-19 15:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24e5871ad710b563e5c303b8a8045072302a7f78', 'message': ""WIP: SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nWIP: resolve TODOs (they're not for future patches)\nWIP: test\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\n""}, {'number': 6, 'created': '2018-01-19 23:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3664074d13ccc4867d830847b2bea868ec47c755', 'message': ""WIP: SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nWIP: resolve TODOs (they're not for future patches)\nWIP: test\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\n""}, {'number': 7, 'created': '2018-01-22 23:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03e913645ad332ca5b263ebae899a1d4d79797bc', 'message': 'WIP: SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nWIP: Resolve the TODO about set_inventory_for_provider\nWIP: finish tests\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\n'}, {'number': 8, 'created': '2018-01-24 20:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fbcd694687fbf2c6e6d69c0593f662cdfc5efe8', 'message': 'WIP: SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nWIP: finish tests\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\n'}, {'number': 9, 'created': '2018-01-25 00:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d69b476dfaa3c549f8c9fc770ad387ec929f6f11', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\n'}, {'number': 10, 'created': '2018-01-25 02:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b2a870f5a61d982a04e8d34c6dc1f690b9ffd20', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\n'}, {'number': 11, 'created': '2018-01-25 02:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/627f769c5f5fceedbd862a3ec59644966d81a598', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\n'}, {'number': 12, 'created': '2018-01-26 00:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfae2736abdca0e93e1a7e5844a947d9221872a8', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/#/c/536545/\n'}, {'number': 13, 'created': '2018-01-27 19:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0a454623e5a74ee8141b45ba575be035f0b639e', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 14, 'created': '2018-01-28 17:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0755447c6171b18b3dd255a28808feb411859928', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 15, 'created': '2018-01-29 21:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34a00a542a1b83920f1d5de5f0b39dbe279855df', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 16, 'created': '2018-01-31 14:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/040dd1f3376eca74669e07523ae589df1e67cdff', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: nested-resource-providers\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 17, 'created': '2018-02-01 22:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d88a73ad99b80c9a3964fa63607f5e7ced190e69', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 18, 'created': '2018-02-02 16:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93c48b8c17200aa31f5a9db49efa4ee1b1cb1223', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 19, 'created': '2018-02-05 23:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff0e758d6610d9374cbc99e868e2c92956f35cec', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 20, 'created': '2018-02-08 17:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc4174aba8f5aa49025afcffe56af22a51251b5e', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 21, 'created': '2018-02-09 20:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04be2a2a3573356ff2eb4459bba51a8c568e8897', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 22, 'created': '2018-02-16 23:42:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d363b8d85eb2b3bf3de0e42b8dd50eeceb56a9b8', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 23, 'created': '2018-03-12 17:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e5002148475b6db007dfcf405c421dee25703e5', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 24, 'created': '2018-03-16 21:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ee42838beae7d6003d75d4c9da8c3c507412c61', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 25, 'created': '2018-03-22 00:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa23d4832712ec453edf0e2dc74a93ba6ed93c39', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}, {'number': 26, 'created': '2018-04-02 08:38:24.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/tests/functional/api/openstack/placement/test_report_client.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/32fdf5295802a8469b189a6ac7d0a47909daa5ac', 'message': 'SchedulerReportClient.update_from_provider_tree\n\nOnce the resource tracker has asked the compute driver to\nupdate_provider_tree, it needs to flush any changes back to placement.\n\nThis change set introduces update_from_provider_tree to\nSchedulerReportClient.  This method accepts the ProviderTree as modified\nby ComputeDriver.update_provider_tree, compares it to what the report\nclient has in its cache, and flushes any changes back to the placement\nservice.\n\nChange-Id: I9064a2598d773a814269995eed8862d093d9100e\nblueprint: update-provider-tree\nCo-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>\nDepends-On: https://review.openstack.org/536545\n'}]",59,533821,32fdf5295802a8469b189a6ac7d0a47909daa5ac,330,25,26,14070,,,0,"SchedulerReportClient.update_from_provider_tree

Once the resource tracker has asked the compute driver to
update_provider_tree, it needs to flush any changes back to placement.

This change set introduces update_from_provider_tree to
SchedulerReportClient.  This method accepts the ProviderTree as modified
by ComputeDriver.update_provider_tree, compares it to what the report
client has in its cache, and flushes any changes back to the placement
service.

Change-Id: I9064a2598d773a814269995eed8862d093d9100e
blueprint: update-provider-tree
Co-Authored-By: Radoslav Gerganov <rgerganov@vmware.com>
Depends-On: https://review.openstack.org/536545
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/533821/25 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/scheduler/client/report.py']",2,e85562478ce30a72b8a9ff4a3ac1ae7bd1cd6017,bp/vgpu-rocky," def update_from_provider_tree(self, new_tree): """"""Flush changes from a specified ProviderTree back to placement. The specified ProviderTree is compared against the local cache. Any changes are flushed back to the placement service. Upon successful completion, the local cache should reflect the specified ProviderTree. This method is not atomic. When exceptions are raised, it is possible that some of the changes have been flushed back, leaving the placement database in an inconsistent state. :param new_tree: A ProviderTree instance representing the desired state of providers in placement. :raises: ResourceProviderDeletionFailed if an API error was encountered attempting to delete a provider. """""" # NOTE(efried): We currently do not handle the ""rename"" case. This is # where new_tree contains a provider named Y whose UUID already exists # but is named X. Today the only way the consumer could accomplish # this is by deleting the provider and recreating it with the new name. # Helper methods herein will be updating the local cache (this is # intentional) so we need to grab up front any data we need to operate # on in its ""original"" form. old_tree = self._provider_tree old_uuids = old_tree.get_provider_uuids() new_uuids = new_tree.get_provider_uuids() # Do provider deletion first, since it has the best chance of failing # for non-generation-conflict reasons (i.e. allocations). for uuid_to_remove in old_uuids - new_uuids: # TODO(efried): Factor this out into a helper method? resp = self.delete('/resource_providers/%s' % uuid_to_remove) if not resp: msg = (""Failed to delete resource provider with UUID %(uuid)s "" ""from the placement API. Got %(status_code)d: "" ""%(err_text)s."") args = { 'uuid': uuid_to_remove, 'status_code': resp.status_code, 'err_text': resp.text } LOG.error(msg, args) # On conflict, the caller may wish to delete allocations and # redrive. (Note that this is not the same as a # PlacementAPIConflict case.) if resp.status_code == 409: raise exception.ResourceProviderInUse() raise exception.ResourceProviderDeletionFailed( uuid=uuid_to_remove) # Success; sync the cache self._provider_tree.remove(uuid_to_remove) # Now create (or load) any ""new"" providers for uuid_to_add in new_uuids - old_uuids: provider = new_tree.snapshot(uuid_to_add) self._ensure_resource_provider( provider.uuid, name=provider.name, parent_provider_uuid=provider.parent_uuid) # At this point the local cache should have all the same providers as # new_tree. Whether we added them or not, walk through and diff/flush # inventories, traits, and aggregates as necessary (the helper methods # are set up to check and short out when the relevant property does not # differ from what's in the cache). for uuid in new_uuids: newp = new_tree.snapshot(uuid) # TODO(efried): Don't really use _update_inventory_attempt. # Need a method that's more consistent with the others below in # terms of cache and error handling. self._update_inventory_attempt(uuid, newp.inventory) self.set_traits_for_provider(uuid, newp.traits) self.set_aggregates_for_provider(uuid, newp.aggregates) ",,78,0
openstack%2Ftripleo-common~master~I81d4a9b4d1f443b22829c2fecfb1e081ca2d3f9a,openstack/tripleo-common,master,I81d4a9b4d1f443b22829c2fecfb1e081ca2d3f9a,Move build_service_filter to kolla_builder from tripleoclient,MERGED,2018-03-21 00:41:48.000000000,2018-04-03 08:11:33.000000000,2018-04-03 08:11:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-21 00:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/07ec8fb6a46cfa4858ccc25de94387e109b60f92', 'message': 'Move build_service_filter to kolla_builder from tripleoclient\n\nHaving this logic here allows it to be reused by undercloud install\nand workflow driven prepare.\n\nThe neutron_driver mapping args code is now in\ncontainer_images_prepare so this will also work for workflow driven\nprepare.\n\nChange-Id: I81d4a9b4d1f443b22829c2fecfb1e081ca2d3f9a\nBlueprint: container-prepare-workflow\n'}, {'number': 2, 'created': '2018-03-28 21:35:06.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9258714b588b284e1ede6f0b12db60543a68ade', 'message': 'Move build_service_filter to kolla_builder from tripleoclient\n\nHaving this logic here allows it to be reused by undercloud install\nand workflow driven prepare.\n\nThe neutron_driver mapping args code is now in\ncontainer_images_prepare so this will also work for workflow driven\nprepare.\n\nChange-Id: I81d4a9b4d1f443b22829c2fecfb1e081ca2d3f9a\nBlueprint: container-prepare-workflow\n'}]",0,554738,e9258714b588b284e1ede6f0b12db60543a68ade,12,5,2,4571,,,0,"Move build_service_filter to kolla_builder from tripleoclient

Having this logic here allows it to be reused by undercloud install
and workflow driven prepare.

The neutron_driver mapping args code is now in
container_images_prepare so this will also work for workflow driven
prepare.

Change-Id: I81d4a9b4d1f443b22829c2fecfb1e081ca2d3f9a
Blueprint: container-prepare-workflow
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/554738/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,07ec8fb6a46cfa4858ccc25de94387e109b60f92,bp/container-prepare-workflow," {'imagename': 't/p-neutron-server-ovn:l'}, {'imagename': 't/p-ovn-controller:l'} 'DockerNeutronConfigImage': 't/p-neutron-server-ovn:l', 'DockerOvnControllerConfigImage': 't/p-ovn-controller:l', 'DockerOvnControllerImage': 't/p-ovn-controller:l' service_filter=[ 'OS::TripleO::Services::NeutronServer', 'OS::TripleO::Services::OVNController' ], mapping_args={ {'imagename': 't/neutron-server-opendaylight:l'}, {'imagename': 't/opendaylight:l'} 'DockerNeutronApiImage': 't/neutron-server-opendaylight:l', 'DockerNeutronConfigImage': 't/neutron-server-opendaylight:l', 'DockerOpendaylightApiImage': 't/opendaylight:l', 'DockerOpendaylightConfigImage': 't/opendaylight:l', service_filter=[ 'OS::TripleO::Services::NeutronServer', 'OS::TripleO::Services::OpenDaylightApi' ], mapping_args={ 'name_prefix': '', def test_get_enabled_services_empty(self): self.assertEqual( set([]), kb.get_enabled_services({}, []) ) def test_get_enabled_services_default_count(self): self.assertEqual( set([ 'OS::TripleO::Services::NeutronApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute' ]), kb.get_enabled_services({ 'parameter_defaults': {} }, [ { 'name': 'Controller', 'CountDefault': 1, 'ServicesDefault': [ 'OS::TripleO::Services::NeutronApi', 'OS::TripleO::Services::NovaApi' ] }, { 'name': 'Compute', 'CountDefault': 1, 'ServicesDefault': [ 'OS::TripleO::Services::NovaCompute' ] }, { 'name': 'BlockStorage', 'ServicesDefault': [ 'OS::TripleO::Services::Ntp' ] } ]) ) def test_get_enabled_services(self): self.assertEqual( set([ 'OS::TripleO::Services::NeutronApi', 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::NovaLibvirt' ]), kb.get_enabled_services({ 'parameter_defaults': { 'ControllerCount': 1, 'ComputeCount': 1, 'BlockStorageCount': 0, 'ComputeServices': [ 'OS::TripleO::Services::NovaCompute', 'OS::TripleO::Services::NovaLibvirt' ] } }, [ { 'name': 'Controller', 'CountDefault': 0, 'ServicesDefault': [ 'OS::TripleO::Services::NeutronApi', 'OS::TripleO::Services::NovaApi' ] }, { 'name': 'Compute', 'ServicesDefault': [ 'OS::TripleO::Services::NovaCompute' ] }, { 'name': 'BlockStorage', 'ServicesDefault': [ 'OS::TripleO::Services::Ntp' ] } ]) ) def test_build_service_filter(self): self.assertEqual( set([ 'OS::TripleO::Services::NovaApi', 'OS::TripleO::Services::NovaCompute' ]), kb.build_service_filter({ 'resource_registry': { 'OS::TripleO::Services::NeutronApi': '/tht/puppet/services/foo.yaml', 'OS::TripleO::Services::NovaApi': '/tht/docker/services/foo.yaml', 'OS::TripleO::Services::NovaCompute': '/tht/docker/services/foo.yaml', } }, [ { 'name': 'Controller', 'CountDefault': 1, 'ServicesDefault': [ 'OS::TripleO::Services::NeutronApi', 'OS::TripleO::Services::NovaApi' ] }, { 'name': 'Compute', 'CountDefault': 1, 'ServicesDefault': [ 'OS::TripleO::Services::NovaCompute' ] }, { 'name': 'BlockStorage', 'ServicesDefault': [ 'OS::TripleO::Services::Ntp' ] } ]) )"," {'imagename': 't/p-neutron-server-ovn:l'} 'DockerNeutronConfigImage': 't/p-neutron-server-ovn:l' service_filter=['OS::TripleO::Services::NeutronServer'], mapping_args={ 'neutron_driver': 'ovn', {'imagename': 't/p-neutron-server-opendaylight:l'} 'DockerNeutronApiImage': 't/p-neutron-server-opendaylight:l', 'DockerNeutronConfigImage': 't/p-neutron-server-opendaylight:l' service_filter=['OS::TripleO::Services::NeutronServer'], mapping_args={ 'neutron_driver': 'odl', 'name_prefix': 'p',",180,11
openstack%2Ftripleo-common~master~I8952ce7a19a67b89d8db5e90fbe65620425ee945,openstack/tripleo-common,master,I8952ce7a19a67b89d8db5e90fbe65620425ee945,Represent image prepare defaults in new heat param format,MERGED,2018-03-20 21:29:14.000000000,2018-04-03 08:11:31.000000000,2018-04-03 08:11:31.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 21:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4db3c8fdad320fb3991f3e8217ea8fcce0a6549', 'message': 'Represent image prepare defaults in new heat param format\n\nThe heat parameter ContainerImagePrepare is a list of dicts where each\nentry is a single prepare call. This represents the defaults in the\nnew format in preparation for a function which consumes this new\nformat.\n\nIt removes tag_from_label from the substitution dict, because its not\na substitution, its an actual argument to prepare.\n\nChange-Id: I8952ce7a19a67b89d8db5e90fbe65620425ee945\nBlueprint: container-prepare-workflow\n'}, {'number': 2, 'created': '2018-03-28 21:35:06.000000000', 'files': ['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b56d87deb3a30855744c0b80605770eaa5c3246c', 'message': 'Represent image prepare defaults in new heat param format\n\nThe heat parameter ContainerImagePrepare is a list of dicts where each\nentry is a single prepare call. This represents the defaults in the\nnew format in preparation for a function which consumes this new\nformat.\n\nIt removes tag_from_label from the substitution dict, because its not\na substitution, its an actual argument to prepare.\n\nChange-Id: I8952ce7a19a67b89d8db5e90fbe65620425ee945\nBlueprint: container-prepare-workflow\n'}]",0,554708,b56d87deb3a30855744c0b80605770eaa5c3246c,17,5,2,4571,,,0,"Represent image prepare defaults in new heat param format

The heat parameter ContainerImagePrepare is a list of dicts where each
entry is a single prepare call. This represents the defaults in the
new format in preparation for a function which consumes this new
format.

It removes tag_from_label from the substitution dict, because its not
a substitution, its an actual argument to prepare.

Change-Id: I8952ce7a19a67b89d8db5e90fbe65620425ee945
Blueprint: container-prepare-workflow
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/554708/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/kolla_builder.py', 'tripleo_common/tests/image/test_kolla_builder.py']",2,b4db3c8fdad320fb3991f3e8217ea8fcce0a6549,bp/container-prepare-workflow,," 'tag_from_label': 'rdo_version', 'tag_from_label': 'rdo_version',",13,13
openstack%2Fansible-config_template~master~Idd7650a93df1676065ae7b944fab616de68ed4aa,openstack/ansible-config_template,master,Idd7650a93df1676065ae7b944fab616de68ed4aa,Add support for --diff,MERGED,2018-03-21 16:00:05.000000000,2018-04-03 08:05:46.000000000,2018-04-03 08:05:46.000000000,"[{'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/c9f34c087ae686dab880cf2284aad00d5a7a8568', 'message': 'Add support for --diff\n\nChange-Id: Idd7650a93df1676065ae7b944fab616de68ed4aa\n'}, {'number': 2, 'created': '2018-03-21 16:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/104525ea5ad0dc07e636066afc039c8173e4448c', 'message': 'Add support for --diff\n\nChange-Id: Idd7650a93df1676065ae7b944fab616de68ed4aa\n'}, {'number': 3, 'created': '2018-03-22 10:04:05.000000000', 'files': ['action/config_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/a55d4a22b09f40b1a7e62049e003569c306bbd43', 'message': 'Add support for --diff\n\nChange-Id: Idd7650a93df1676065ae7b944fab616de68ed4aa\n'}]",0,554968,a55d4a22b09f40b1a7e62049e003569c306bbd43,16,5,3,2799,,,0,"Add support for --diff

Change-Id: Idd7650a93df1676065ae7b944fab616de68ed4aa
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/68/554968/1 && git format-patch -1 --stdout FETCH_HEAD,['action/config_template.py'],1,c9f34c087ae686dab880cf2284aad00d5a7a8568,diff_mode," if self._play_context.diff: rc['diff'] = [] rc['diff'].append(self._get_diff_data(_vars['dest'], transferred_data, task_vars))",,4,0
openstack%2Fnetworking-bgpvpn~master~I6c59f79334ef22afb8160aee44c244c6f5fc9b15,openstack/networking-bgpvpn,master,I6c59f79334ef22afb8160aee44c244c6f5fc9b15,[dashboard] Refactoring some common code,MERGED,2018-03-23 13:50:02.000000000,2018-04-03 08:03:49.000000000,2018-04-03 08:03:49.000000000,"[{'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 13:50:02.000000000', 'files': ['bgpvpn_dashboard/dashboards/admin/bgpvpn/tables.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/dfbfdee26a772001cb2b3384ec1c66340953b990', 'message': '[dashboard] Refactoring some common code\n\nClass BgpvpnTable between admin and project panel has\nsome common code. This patch inherit BgpvpnTable class\nfrom project in BgpvpnTable Admin table.\n\nChange-Id: I6c59f79334ef22afb8160aee44c244c6f5fc9b15\n'}]",0,555782,dfbfdee26a772001cb2b3384ec1c66340953b990,8,4,1,21800,,,0,"[dashboard] Refactoring some common code

Class BgpvpnTable between admin and project panel has
some common code. This patch inherit BgpvpnTable class
from project in BgpvpnTable Admin table.

Change-Id: I6c59f79334ef22afb8160aee44c244c6f5fc9b15
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/82/555782/1 && git format-patch -1 --stdout FETCH_HEAD,['bgpvpn_dashboard/dashboards/admin/bgpvpn/tables.py'],1,dfbfdee26a772001cb2b3384ec1c66340953b990,refactoring_code,"class BgpvpnTable(project_tables.BgpvpnTable): columns = (""tenant_id"", ""name"", ""type"", ""route_targets"", ""import_targets"", ""export_targets"", ""networks"", ""routers"")","class BgpvpnTable(tables.DataTable): tenant_id = tables.Column(""tenant_name"", verbose_name=_(""Project"")) name = tables.Column(""name_or_id"", verbose_name=_(""Name""), link=(""horizon:admin:bgpvpn:detail"")) type = tables.Column(""type"", verbose_name=_(""Type"")) networks = project_tables.NetworksColumn(""networks"", verbose_name=_(""Networks"")) routers = project_tables.RoutersColumn(""routers"", verbose_name=_(""Routers""))",3,10
openstack%2Fcinder~master~I596c94fae33767b6b8d4816e572ff5e9dda621b7,openstack/cinder,master,I596c94fae33767b6b8d4816e572ff5e9dda621b7,[Optimize] Validate configured scheduler filters when initialize,MERGED,2018-04-02 07:18:10.000000000,2018-04-03 08:01:46.000000000,2018-04-02 15:42:06.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-04-02 07:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e5a0784914e8838f7fe6831b265eeb0558501749', 'message': '[Optimize] Validate configured scheduler filters when initialize\n\nThe correctness of default scheduler filters will be validated\nonly when processing filter requests, this means administrators\nwill be unware of that until creating requests keep failing.\nThis patch moves that logic into initializing code.\n\nChange-Id: I596c94fae33767b6b8d4816e572ff5e9dda621b7\n'}, {'number': 2, 'created': '2018-04-02 07:22:06.000000000', 'files': ['cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe7b3812a67d378cbf89dfea241015c013aec4c0', 'message': '[Optimize] Validate configured scheduler filters when initialize\n\nThe correctness of default scheduler filters will be validated\nonly when processing filter requests, this means administrators\nwill be unware of that until creating requests keep failing.\nThis patch moves that logic into initialization code.\n\nChange-Id: I596c94fae33767b6b8d4816e572ff5e9dda621b7\n'}]",0,558169,fe7b3812a67d378cbf89dfea241015c013aec4c0,52,38,2,23083,,,0,"[Optimize] Validate configured scheduler filters when initialize

The correctness of default scheduler filters will be validated
only when processing filter requests, this means administrators
will be unware of that until creating requests keep failing.
This patch moves that logic into initialization code.

Change-Id: I596c94fae33767b6b8d4816e572ff5e9dda621b7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/558169/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/scheduler/host_manager.py']",2,e5a0784914e8838f7fe6831b265eeb0558501749,bug/fix_scheduler_issue, self.enabled_filters = self._choose_backend_filters( CONF.scheduler_default_filters) if filter_class_names is not None: filter_classes = self._choose_backend_filters(filter_class_names) else: filter_classes = self.enabled_filters, if filter_cls_names is None: filter_cls_names = CONF.scheduler_default_filters filter_classes = self._choose_backend_filters(filter_class_names),28,14
openstack%2Fheat-dashboard~master~Ie3e870a461d855665c9c8d435853f93a0b2d8d28,openstack/heat-dashboard,master,Ie3e870a461d855665c9c8d435853f93a0b2d8d28,Imported Translations from Zanata,MERGED,2018-04-03 07:22:30.000000000,2018-04-03 07:54:42.000000000,2018-04-03 07:54:42.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 07:22:30.000000000', 'files': ['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/6ad8ec150b1d067c4d622bc6de1333c2412d22b4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie3e870a461d855665c9c8d435853f93a0b2d8d28\n'}]",0,558413,6ad8ec150b1d067c4d622bc6de1333c2412d22b4,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie3e870a461d855665c9c8d435853f93a0b2d8d28
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/13/558413/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/pt_BR/LC_MESSAGES/releasenotes.po']",3,6ad8ec150b1d067c4d622bc6de1333c2412d22b4,zanata/translations,"""Project-Id-Version: heat-dashboard\n""""POT-Creation-Date: 2018-04-02 06:16+0000\n""""PO-Revision-Date: 2018-04-02 11:29+0000\n""msgid ""1.0.2-33"" msgstr ""1.0.2-33"" ","""Project-Id-Version: Heat Dashboard Release Notes\n""""POT-Creation-Date: 2018-03-23 08:03+0000\n""""PO-Revision-Date: 2018-03-14 08:11+0000\n""",11,15
openstack%2Fqinling~master~I18a1d3565b52b521fda6a1fb5b5e63a6d30e6654,openstack/qinling,master,I18a1d3565b52b521fda6a1fb5b5e63a6d30e6654,engine: delete workers from etcd after removing,MERGED,2018-03-23 11:38:06.000000000,2018-04-03 07:47:38.000000000,2018-04-03 07:47:38.000000000,"[{'_account_id': 6732}, {'_account_id': 10453}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 11:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/7d51bfbc12e2fb4b420a11b56dfa76076dfa3900', 'message': 'engine: delete workers from etcd after removing\n\nWhen scaling down a function, the information of the workers in etcd is\nnot taken good care of. This commit fixes the issue.\n\nChange-Id: I18a1d3565b52b521fda6a1fb5b5e63a6d30e6654\n'}, {'number': 2, 'created': '2018-03-23 11:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/cc542c8a981b9d774512c806b587ecf6c8d09abd', 'message': 'engine: delete workers from etcd after removing\n\nWhen scaling down a function, the information of the workers in etcd is\nnot taken good care of. This commit fixes the issue.\n\nChange-Id: I18a1d3565b52b521fda6a1fb5b5e63a6d30e6654\n'}, {'number': 3, 'created': '2018-03-28 13:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/27e4e40eedd9490c356cb87a19c14a92500f20e5', 'message': 'engine: delete workers from etcd after removing\n\nWhen scaling down a function, the information of the workers in etcd is\nnot taken good care of. This commit fixes the issue.\n\nChange-Id: I18a1d3565b52b521fda6a1fb5b5e63a6d30e6654\n'}, {'number': 4, 'created': '2018-04-03 04:59:24.000000000', 'files': ['qinling/engine/default_engine.py', 'qinling/utils/etcd_util.py', 'qinling/tests/unit/engine/test_default_engine.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/740bcd8540b9beccca8973600616533f8b8e60d4', 'message': 'engine: delete workers from etcd after removing\n\nWhen scaling down a function, the information of the workers in etcd is\nnot taken good care of. This commit fixes the issue.\n\nChange-Id: I18a1d3565b52b521fda6a1fb5b5e63a6d30e6654\n'}]",2,555744,740bcd8540b9beccca8973600616533f8b8e60d4,14,4,4,21781,,,0,"engine: delete workers from etcd after removing

When scaling down a function, the information of the workers in etcd is
not taken good care of. This commit fixes the issue.

Change-Id: I18a1d3565b52b521fda6a1fb5b5e63a6d30e6654
",git fetch https://review.opendev.org/openstack/qinling refs/changes/44/555744/4 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/engine/default_engine.py', 'qinling/utils/etcd_util.py', 'qinling/tests/unit/engine/test_default_engine.py']",3,7d51bfbc12e2fb4b420a11b56dfa76076dfa3900,etcd-delete-worker," @mock.patch('qinling.utils.etcd_util.delete_worker') def test_scaledown_function( self, etcd_util_get_workers_mock, etcd_util_delete_workers_mock ): etcd_util_get_workers_mock.return_value = [ 'worker_%d' % i for i in range(4) ] self.orchestrator.delete_worker.assert_called_once_with('worker_0') etcd_util_delete_workers_mock.assert_called_once_with( function_id, 'worker_0') @mock.patch('qinling.utils.etcd_util.delete_worker') self, etcd_util_get_workers_mock, etcd_util_delete_workers_mock etcd_util_get_workers_mock.return_value = [ 'worker_%d' % i for i in range(4) ] expected = [mock.call('worker_0'), mock.call('worker_1')] expected = [ mock.call(function_id, 'worker_0'), mock.call(function_id, 'worker_1') ] etcd_util_delete_workers_mock.assert_has_calls(expected) self.assertEqual(2, etcd_util_delete_workers_mock.call_count) @mock.patch('qinling.utils.etcd_util.delete_worker') self, etcd_util_get_workers_mock, etcd_util_delete_workers_mock etcd_util_get_workers_mock.return_value = [ 'worker_%d' % i for i in range(4) ] expected = [ mock.call('worker_0'), mock.call('worker_1'), mock.call('worker_2') ] expected = [ mock.call(function_id, 'worker_0'), mock.call(function_id, 'worker_1'), mock.call(function_id, 'worker_2') ] etcd_util_delete_workers_mock.assert_has_calls(expected) self.assertEqual(3, etcd_util_delete_workers_mock.call_count)"," def test_scaledown_function(self, etcd_util_get_workers_mock): etcd_util_get_workers_mock.return_value = range(4) self.orchestrator.delete_worker.assert_called_once_with(0) self, etcd_util_get_workers_mock etcd_util_get_workers_mock.return_value = range(4) expected = [mock.call(0), mock.call(1)] self, etcd_util_get_workers_mock etcd_util_get_workers_mock.return_value = range(4) expected = [mock.call(0), mock.call(1), mock.call(2)]",44,10
openstack%2Fqinling~master~I80b865f4e9d782b747f33eaae2ba6cf3f264bdf2,openstack/qinling,master,I80b865f4e9d782b747f33eaae2ba6cf3f264bdf2,periodics: switch to use futurist,MERGED,2018-03-28 10:42:33.000000000,2018-04-03 07:47:37.000000000,2018-04-03 07:47:37.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 10:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/90efe6adcb3b2b3c6e06a7b7a2e4e482b78cfdc3', 'message': 'periodics: switch to use futurist\n\nThis is a follow-up of [1]. As we switched from oslo_service to\ncotyledon, eventlet is not monkey_patched anymore. Thus the API of the\nperiodic tasks from oslo_service should be replaced by futurist.\n\n[1] Ib99565e00eedc72c388e8ebec6b7f1453f77f30f\n\nChange-Id: I80b865f4e9d782b747f33eaae2ba6cf3f264bdf2\n'}, {'number': 2, 'created': '2018-03-28 10:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/21a955c0b7d85c0ebb3a233565fa7e0ad057c2e0', 'message': 'periodics: switch to use futurist\n\nThis is a follow-up of [1]. As we switched from oslo_service to\ncotyledon, eventlet is not monkey_patched anymore. Thus the API of the\nperiodic tasks from oslo_service should be replaced by futurist.\n\n[1] Ib99565e00eedc72c388e8ebec6b7f1453f77f30f\n\nChange-Id: I80b865f4e9d782b747f33eaae2ba6cf3f264bdf2\n'}, {'number': 3, 'created': '2018-04-03 04:59:38.000000000', 'files': ['qinling/services/periodics.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/bd29ab0d9c0107909a2e5ee0dec49cb9d7fd42af', 'message': 'periodics: switch to use futurist\n\nThis is a follow-up of [1]. As we switched from oslo_service to\ncotyledon, eventlet is not monkey_patched anymore. Thus the API of the\nperiodic tasks from oslo_service should be replaced by futurist.\n\n[1] Ib99565e00eedc72c388e8ebec6b7f1453f77f30f\n\nChange-Id: I80b865f4e9d782b747f33eaae2ba6cf3f264bdf2\n'}]",0,557293,bd29ab0d9c0107909a2e5ee0dec49cb9d7fd42af,9,2,3,21781,,,0,"periodics: switch to use futurist

This is a follow-up of [1]. As we switched from oslo_service to
cotyledon, eventlet is not monkey_patched anymore. Thus the API of the
periodic tasks from oslo_service should be replaced by futurist.

[1] Ib99565e00eedc72c388e8ebec6b7f1453f77f30f

Change-Id: I80b865f4e9d782b747f33eaae2ba6cf3f264bdf2
",git fetch https://review.opendev.org/openstack/qinling refs/changes/93/557293/2 && git format-patch -1 --stdout FETCH_HEAD,['qinling/services/periodics.py'],1,90efe6adcb3b2b3c6e06a7b7a2e4e482b78cfdc3,periodics,"import threadingfrom futurist import periodics@periodics.periodic(300)@periodics.periodic(3) worker = periodics.PeriodicWorker([]) worker.add( engine=engine _periodic_tasks[constants.PERIODIC_FUNC_MAPPING_HANDLER] = worker thread = threading.Thread(target=worker.start) thread.setDaemon(True) thread.start() worker = periodics.PeriodicWorker([]) worker.add( engine_client=engine_client _periodic_tasks[constants.PERIODIC_JOB_HANDLER] = worker thread = threading.Thread(target=worker.start) thread.setDaemon(True) thread.start() for name, worker in _periodic_tasks.items(): worker.stop() worker = _periodic_tasks.get(task) if worker: worker.stop()","from oslo_service import threadgroup tg = threadgroup.ThreadGroup(1) tg.add_timer( 300, engine=engine, _periodic_tasks[constants.PERIODIC_FUNC_MAPPING_HANDLER] = tg tg = threadgroup.ThreadGroup(1) tg.add_timer( 3, engine_client=engine_client, _periodic_tasks[constants.PERIODIC_JOB_HANDLER] = tg for name, tg in _periodic_tasks.items(): tg.stop() tg = _periodic_tasks.get(task) if tg: tg.stop()",25,17
openstack%2Fkolla-ansible~master~I692ecbb0aa750baf20c013b53b57f88b474b63cc,openstack/kolla-ansible,master,I692ecbb0aa750baf20c013b53b57f88b474b63cc,keepalived: ability to use unicast instead of multicast,MERGED,2017-12-18 15:26:20.000000000,2018-04-03 07:42:56.000000000,2018-04-03 07:42:56.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 12408}, {'_account_id': 19316}, {'_account_id': 21284}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24759}, {'_account_id': 26297}, {'_account_id': 26556}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-12-18 15:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64696602def2183a8d9fa3982dd3db24ec59be18', 'message': ""keepalived: ability to use unicast instead of multicast\n\nIn some data centers multicast traffic is prohibited. Additionally\nVRRP id needs to be unique within broadcast domain when keepalived\noperates in multicast mode, otherwise it fails to start.\n\nHowever keepalived can be configured to use unicast traffic [1].\nIn unicast mode VRRP id doesn't make sense, but needs to be\nthe same among peers.\n\n[1] http://manpages.ubuntu.com/manpages/zesty/man5/keepalived.conf.5.html\n\nChange-Id: I692ecbb0aa750baf20c013b53b57f88b474b63cc\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n""}, {'number': 2, 'created': '2017-12-19 11:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0f49483da2461f365f7e60efc22a47544de0ba5', 'message': ""keepalived: ability to use unicast instead of multicast\n\nIn some data centers multicast traffic is prohibited. Additionally\nVRRP id needs to be unique within broadcast domain when keepalived\noperates in multicast mode, otherwise it fails to start.\n\nHowever keepalived can be configured to use unicast traffic [1].\nIn unicast mode VRRP id doesn't make sense, but needs to be\nthe same among peers.\n\n[1] http://manpages.ubuntu.com/manpages/zesty/man5/keepalived.conf.5.html\n\nChange-Id: I692ecbb0aa750baf20c013b53b57f88b474b63cc\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n""}, {'number': 3, 'created': '2017-12-19 12:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9940ca2b45db971b3d91e6063b21694d51d268cc', 'message': ""keepalived: ability to use unicast instead of multicast\n\nIn some data centers multicast traffic is prohibited. Additionally\nVRRP id needs to be unique within broadcast domain when keepalived\noperates in multicast mode, otherwise it fails to start.\n\nHowever keepalived can be configured to use unicast traffic [1].\nIn unicast mode VRRP id doesn't make sense, but needs to be\nthe same among peers.\n\n[1] http://manpages.ubuntu.com/manpages/zesty/man5/keepalived.conf.5.html\n\nChange-Id: I692ecbb0aa750baf20c013b53b57f88b474b63cc\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n""}, {'number': 4, 'created': '2018-01-18 12:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da66badcd80f6fc0065338e6949698a3b0c3c765', 'message': ""keepalived: ability to use unicast instead of multicast\n\nIn some data centers multicast traffic is prohibited. Additionally\nVRRP id needs to be unique within broadcast domain when keepalived\noperates in multicast mode, otherwise it fails to start.\n\nHowever keepalived can be configured to use unicast traffic [1].\nIn unicast mode VRRP id doesn't make sense, but needs to be\nthe same among peers.\n\n[1] http://manpages.ubuntu.com/manpages/zesty/man5/keepalived.conf.5.html\n\nChange-Id: I692ecbb0aa750baf20c013b53b57f88b474b63cc\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n""}, {'number': 5, 'created': '2018-02-27 08:00:53.000000000', 'files': ['ansible/roles/haproxy/templates/keepalived.conf.j2', 'ansible/roles/haproxy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6832e0aad10aa33ecfadee6656dfc93733293d5a', 'message': ""keepalived: ability to use unicast instead of multicast\n\nIn some data centers multicast traffic is prohibited. Additionally\nVRRP id needs to be unique within broadcast domain when keepalived\noperates in multicast mode, otherwise it fails to start.\n\nHowever keepalived can be configured to use unicast traffic [1].\nIn unicast mode VRRP id doesn't make sense, but needs to be\nthe same among peers.\n\n[1] http://manpages.ubuntu.com/manpages/zesty/man5/keepalived.conf.5.html\n\nChange-Id: I692ecbb0aa750baf20c013b53b57f88b474b63cc\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n""}]",8,528738,6832e0aad10aa33ecfadee6656dfc93733293d5a,31,14,5,21284,,,0,"keepalived: ability to use unicast instead of multicast

In some data centers multicast traffic is prohibited. Additionally
VRRP id needs to be unique within broadcast domain when keepalived
operates in multicast mode, otherwise it fails to start.

However keepalived can be configured to use unicast traffic [1].
In unicast mode VRRP id doesn't make sense, but needs to be
the same among peers.

[1] http://manpages.ubuntu.com/manpages/zesty/man5/keepalived.conf.5.html

Change-Id: I692ecbb0aa750baf20c013b53b57f88b474b63cc
Signed-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/528738/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/keepalived.conf.j2', 'ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",3,64696602def2183a8d9fa3982dd3db24ec59be18,keepalived_unicast,"# Use unicast instead of multicast #keepalived_use_unicast: ""no"" ",,19,0
openstack%2Fopenstack-helm~master~If040e10c48602b14163da16e4058f0f9df43ea8d,openstack/openstack-helm,master,If040e10c48602b14163da16e4058f0f9df43ea8d,gWIP: Implement Ceph-Mon component chart,ABANDONED,2018-03-31 00:02:34.000000000,2018-04-03 07:41:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28025}]","[{'number': 1, 'created': '2018-03-31 00:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e0e833b288e8b05105f37c2391a1bf0b00c7e27b', 'message': 'WIP: Implement Ceph-Mon component chart\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 2, 'created': '2018-03-31 00:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18296c4ac85f832a80dd5144670902dd02b240ba', 'message': 'WIP: Implement Ceph-Mon component chart\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 3, 'created': '2018-03-31 00:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95a668470d2d25446485ba5925587e9cf27f56bf', 'message': 'WIP: Implement Ceph-Mon component chart\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 4, 'created': '2018-03-31 00:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb82c349b9803fbd1362ca56802aeeb041492574', 'message': 'WIP: Implement Ceph-Mon component chart\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 5, 'created': '2018-03-31 00:34:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9bd5d506a00676895e5b252d248929cdfee77f83', 'message': 'WIP: Implement Ceph-Mon component chart\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 6, 'created': '2018-04-01 22:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba334e202606d2ced1259d1623d4cf4df10c49e3', 'message': 'WIP: Implement Ceph-Mon component chart\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 7, 'created': '2018-04-01 23:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/65e0d1e8a1650b921295cb5fe428b5324cc694b7', 'message': 'WIP: Implement Ceph-Mon component chart\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 8, 'created': '2018-04-02 16:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8fe464389db526d93b76e6c55816119ca9273b3c', 'message': 'WIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 9, 'created': '2018-04-02 17:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10f870b6f1cdea28a6d2a577f4dce8e4edb78a25', 'message': 'WIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 10, 'created': '2018-04-02 18:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/980637d9d43a42e730b583fb79061577d6386262', 'message': 'WIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 11, 'created': '2018-04-02 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ed5d3cfeac21e3e86ebbf4dd06185cb66c85bcbc', 'message': 'WIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 12, 'created': '2018-04-02 21:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bcb20976280e120b3a090b6798fca16cb2e1aa8a', 'message': 'WIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 13, 'created': '2018-04-02 22:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eae82da7071f5d3f210c3ef2a11d512b921d1835', 'message': 'WIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 14, 'created': '2018-04-03 00:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d694fc74f48fc61cc10b83446b9bd9934f199404', 'message': 'WIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}, {'number': 15, 'created': '2018-04-03 00:28:06.000000000', 'files': ['ceph-mon/.helmignore', 'ceph-mon/requirements.yaml', 'ceph-mon/templates/bin/moncheck/_reap-zombies.py.tpl', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph-mon/templates/service-mon-discovery.yaml', 'ceph-mon/templates/bin/mon/_stop.sh.tpl', 'ceph-mon/templates/service-mon.yaml', 'ceph-mon/templates/bin/_bootstrap.sh.tpl', 'ceph-mon/templates/bin/keys/_storage-keyring-manager.sh.tpl', 'ceph-mon/templates/bin/_init-dirs.sh.tpl', 'ceph-mon/templates/job-keyring.yaml', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-mon/values.yaml', 'ceph-mon/templates/bin/moncheck/_start.sh.tpl', 'ceph-mon/templates/utils/_osd_daemonset_overrides.tpl', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-generator.py.tpl', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-manager.sh.tpl', 'tools/deployment/developer/ceph/040-ceph.sh', 'tools/gate/playbooks/dev-deploy-ceph.yaml', 'ceph-mon/templates/configmap-templates.yaml', 'ceph-mon/templates/bin/mon/_check.sh.tpl', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-mon/.gitignore', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/Chart.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'tools/deployment/multinode/030-ceph.sh', 'ceph-mon/templates/deployment-moncheck.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cda3bc1f3871ca5edfee0cb8d3da711c0049679d', 'message': 'gWIP: Implement Ceph-Mon component chart\n\n- Deploys Mon and Mon-Check\n- Generates keyrings for: mon, mgr, rgw, osd, mds\n\nChange-Id: If040e10c48602b14163da16e4058f0f9df43ea8d\n'}]",0,558011,cda3bc1f3871ca5edfee0cb8d3da711c0049679d,20,3,15,24165,,,0,"gWIP: Implement Ceph-Mon component chart

- Deploys Mon and Mon-Check
- Generates keyrings for: mon, mgr, rgw, osd, mds

Change-Id: If040e10c48602b14163da16e4058f0f9df43ea8d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/11/558011/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-mon/.helmignore', 'ceph-mon/templates/job-namespace-client-key-cleaner.yaml', 'ceph-mon/templates/job-namespace-client-key.yaml', 'ceph-mon/templates/bin/osd/_check.sh.tpl', 'ceph-mon/templates/job-rbd-pool.yaml', 'ceph-mon/templates/bin/mds/_start.sh.tpl', 'ceph-mon/templates/deployment-cephfs-provisioner.yaml', 'ceph-mon/templates/bin/_bootstrap.sh.tpl', 'ceph-mon/templates/bin/keys/_storage-keyring-manager.sh.tpl', 'ceph-mon/templates/bin/mgr/_start.sh.tpl', 'ceph-mon/templates/bin/_init-dirs.sh.tpl', 'ceph-mon/templates/daemonset-osd.yaml', 'ceph-mon/templates/job-keyring.yaml', 'ceph-mon/templates/bin/osd/_stop.sh.tpl', 'ceph-mon/templates/deployment-rgw.yaml', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-mon/templates/deployment-rbd-provisioner.yaml', 'ceph-mon/templates/templates/_bootstrap.keyring.rgw.tpl', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-mon/templates/bin/moncheck/_start.sh.tpl', 'ceph-mon/templates/service-mgr.yaml', 'ceph-mon/templates/storageclass-rbd.yaml', 'ceph-mon/templates/job-cephfs-client-key.yaml', 'ceph-mon/templates/templates/_bootstrap.keyring.mgr.tpl', 'ceph-mon/templates/job-ks-user.yaml', 'ceph-mon/Chart.yaml', 'ceph-mon/templates/templates/_bootstrap.keyring.osd.tpl', 'ceph-mon/templates/configmap-bin-ks.yaml', 'ceph-mon/templates/bin/provisioner/cephfs/_start.sh.tpl', 'ceph-mon/templates/bin/provisioner/rbd/_namespace-client-key-manager.sh.tpl', 'ceph-mon/templates/bin/rgw/_start.sh.tpl', 'ceph-mon/requirements.yaml', 'ceph-mon/templates/bin/provisioner/rbd/_namespace-client-key-cleaner.sh.tpl', 'ceph-mon/templates/bin/moncheck/_reap-zombies.py.tpl', 'ceph-mon/templates/bin/osd/_directory.sh.tpl', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph-mon/templates/configmap-bin-clients.yaml', 'ceph-mon/templates/service-mon-discovery.yaml', 'ceph-mon/templates/bin/mon/_stop.sh.tpl', 'ceph-mon/templates/service-mon.yaml', 'ceph-mon/templates/bin/osd/_start.sh.tpl', 'ceph-mon/templates/bin/pool/_calc.py.tpl', 'ceph-mon/templates/templates/_mon.keyring.tpl', 'ceph-mon/templates/bin/mgr/_check.sh.tpl', 'ceph-mon/templates/bin/provisioner/cephfs/_client-key-manager.sh.tpl', 'ceph-mon/templates/templates/_bootstrap.keyring.mds.tpl', 'ceph-mon/templates/deployment-mds.yaml', 'ceph-mon/templates/job-ks-service.yaml', 'ceph-mon/values.yaml', 'ceph-mon/templates/bin/osd/_block.sh.tpl', 'ceph-mon/templates/utils/_osd_daemonset_overrides.tpl', 'ceph-mon/templates/service-rgw.yaml', 'ceph-mon/templates/bin/osd/_init.sh.tpl', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-generator.py.tpl', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-manager.sh.tpl', 'ceph-mon/templates/job-ks-endpoints.yaml', 'ceph-mon/templates/templates/_admin.keyring.tpl', 'ceph-mon/templates/bin/rgw/_init_keystone.sh.tpl', 'ceph-mon/templates/configmap-templates.yaml', 'ceph-mon/templates/bin/mon/_check.sh.tpl', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-mon/.gitignore', 'ceph-mon/templates/bin/pool/_init.sh.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/templates/secret-keystone.yaml', 'ceph-mon/templates/bin/provisioner/rbd/_start.sh.tpl', 'ceph-mon/templates/secret-keystone-rgw.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceph-mon/templates/storageclass-cephfs.yaml', 'ceph-mon/templates/deployment-mgr.yaml']",71,e0e833b288e8b05105f37c2391a1bf0b00c7e27b,ceph_mon_sub_chart,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if and .Values.manifests.deployment_mgr (and .Values.deployment.ceph .Values.conf.features.mgr ) }} {{- $envAll := . }} {{- $dependencies := .Values.dependencies.static.mgr }} {{- $serviceAccountName := ""ceph-mgr""}} {{ tuple $envAll $dependencies $serviceAccountName | include ""helm-toolkit.snippets.kubernetes_pod_rbac_serviceaccount"" }} --- kind: Deployment apiVersion: apps/v1beta1 metadata: name: ceph-mgr spec: replicas: {{ .Values.pod.replicas.mgr }} strategy: type: Recreate template: metadata: labels: {{ tuple $envAll ""ceph"" ""mgr"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} spec: serviceAccountName: {{ $serviceAccountName }} affinity: {{ tuple $envAll ""ceph"" ""mgr"" | include ""helm-toolkit.snippets.kubernetes_pod_anti_affinity"" | indent 8 }} nodeSelector: {{ .Values.labels.mgr.node_selector_key }}: {{ .Values.labels.mgr.node_selector_value }} hostNetwork: true dnsPolicy: {{ .Values.pod.dns_policy }} initContainers: {{ tuple $envAll $dependencies list | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} - name: ceph-init-dirs image: {{ .Values.images.tags.ceph_mgr }} imagePullPolicy: {{ .Values.images.pull_policy }} command: - /tmp/init-dirs.sh env: - name: CLUSTER value: ""ceph"" volumeMounts: - name: ceph-bin mountPath: /tmp/init-dirs.sh subPath: init-dirs.sh readOnly: true - name: pod-var-lib-ceph mountPath: /var/lib/ceph readOnly: false - name: pod-run mountPath: /run readOnly: false - name: pod-etc-ceph mountPath: /etc/ceph containers: - name: ceph-mgr image: {{ .Values.images.tags.ceph_mgr }} imagePullPolicy: {{ .Values.images.pull_policy }} {{ tuple $envAll $envAll.Values.pod.resources.mgr | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} env: - name: CLUSTER value: ""ceph"" {{- if .Values.ceph_mgr_enabled_modules }} - name: ENABLED_MODULES value: |- {{- range $value := .Values.ceph_mgr_enabled_modules }} {{ $value }} {{- end }} {{- end }} {{- if .Values.ceph_mgr_modules_config }} {{- range $module,$params := .Values.ceph_mgr_modules_config }} {{- range $key, $value := $params }} - name: {{ $module }}_{{ $key }} value: {{ $value | quote }} {{- end }} {{- end }} {{- end }} command: - /mgr-start.sh livenessProbe: exec: command: - /tmp/mgr-check.sh - liveness initialDelaySeconds: 30 timeoutSeconds: 5 readinessProbe: exec: command: - /tmp/mgr-check.sh - readiness initialDelaySeconds: 30 timeoutSeconds: 5 volumeMounts: - name: ceph-bin mountPath: /mgr-start.sh subPath: mgr-start.sh readOnly: true - name: ceph-bin mountPath: /tmp/mgr-check.sh subPath: mgr-check.sh readOnly: true - name: pod-etc-ceph mountPath: /etc/ceph - name: ceph-etc mountPath: /etc/ceph/ceph.conf subPath: ceph.conf readOnly: true - name: ceph-client-admin-keyring mountPath: /etc/ceph/ceph.client.admin.keyring subPath: ceph.client.admin.keyring readOnly: true - name: ceph-bootstrap-mgr-keyring mountPath: /var/lib/ceph/bootstrap-mgr/ceph.keyring subPath: ceph.keyring readOnly: false - name: pod-var-lib-ceph mountPath: /var/lib/ceph readOnly: false - name: pod-run mountPath: /run readOnly: false volumes: - name: pod-etc-ceph emptyDir: {} - name: ceph-bin configMap: name: ceph-bin defaultMode: 0555 - name: ceph-etc configMap: name: ceph-etc defaultMode: 0444 - name: pod-var-lib-ceph emptyDir: {} - name: pod-run emptyDir: medium: ""Memory"" - name: ceph-client-admin-keyring secret: secretName: {{ .Values.secrets.keyrings.admin }} - name: ceph-bootstrap-mgr-keyring secret: secretName: {{ .Values.secrets.keyrings.mgr }} {{- end }} ",,5409,0
openstack%2Ftrove~master~I766d3b71e0a804be239f28b37af1b8332db5b00a,openstack/trove,master,I766d3b71e0a804be239f28b37af1b8332db5b00a,Updated from global requirements,ABANDONED,2018-03-23 13:35:53.000000000,2018-04-03 07:14:37.000000000,,"[{'_account_id': 13157}, {'_account_id': 22348}, {'_account_id': 24739}]","[{'number': 1, 'created': '2018-03-23 13:35:53.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/0b26af191bfee52d87517ca8f33692581470455f', 'message': 'Updated from global requirements\n\nChange-Id: I766d3b71e0a804be239f28b37af1b8332db5b00a\n'}]",0,555775,0b26af191bfee52d87517ca8f33692581470455f,5,3,1,26297,,,0,"Updated from global requirements

Change-Id: I766d3b71e0a804be239f28b37af1b8332db5b00a
",git fetch https://review.opendev.org/openstack/trove refs/changes/75/555775/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0b26af191bfee52d87517ca8f33692581470455f,,oslo.db>=4.35.0 # Apache-2.0,oslo.db>=4.27.0 # Apache-2.0,1,1
openstack%2Fmagnum~master~Ic23a4ed71ef5ac9c385a00d116ee49cb3455478b,openstack/magnum,master,Ic23a4ed71ef5ac9c385a00d116ee49cb3455478b,"fix no role entry for ""mod""",ABANDONED,2018-04-01 01:19:30.000000000,2018-04-03 07:09:23.000000000,,"[{'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 27006}]","[{'number': 1, 'created': '2018-04-01 01:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e28206837c9ee8016bdc1e2968783ed34a25e0ce', 'message': 'fix no role entry for ""mod""\n\nChange-Id: Ic23a4ed71ef5ac9c385a00d116ee49cb3455478b\n'}, {'number': 2, 'created': '2018-04-03 06:45:24.000000000', 'files': ['doc/source/admin/gmr.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/cdadfb26142afe6fb3d4fe87313aa993024a25c7', 'message': 'fix no role entry for ""mod""\n\nChange-Id: Ic23a4ed71ef5ac9c385a00d116ee49cb3455478b\n'}]",0,558095,cdadfb26142afe6fb3d4fe87313aa993024a25c7,8,3,2,21486,,,0,"fix no role entry for ""mod""

Change-Id: Ic23a4ed71ef5ac9c385a00d116ee49cb3455478b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/95/558095/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/gmr.rst'],1,e28206837c9ee8016bdc1e2968783ed34a25e0ce,,"particular executable. For more information, see the documentation under `oslo.reports <https://docs.openstack.org/oslo.reports/latest/>`_","particular executable. For more information, see the inline documentation under :mod:`oslo.reports`",2,2
openstack%2Fsecurity-doc~master~I99cd03750aa7c6a5d5e123de3d12468b37fbe3ff,openstack/security-doc,master,I99cd03750aa7c6a5d5e123de3d12468b37fbe3ff,"Remove Duplicate explicit target name ""openstack documentation contributor guide""",ABANDONED,2018-04-03 03:28:42.000000000,2018-04-03 07:07:37.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 03:28:42.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/de22055f41b4cdbb5a1b0a447206d310f9cbfa13', 'message': 'Remove Duplicate explicit target name\n""openstack documentation contributor guide""\n\nChange-Id: I99cd03750aa7c6a5d5e123de3d12468b37fbe3ff\n'}]",0,558345,de22055f41b4cdbb5a1b0a447206d310f9cbfa13,4,2,1,21486,,,0,"Remove Duplicate explicit target name
""openstack documentation contributor guide""

Change-Id: I99cd03750aa7c6a5d5e123de3d12468b37fbe3ff
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/45/558345/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,de22055f41b4cdbb5a1b0a447206d310f9cbfa13,,,"If you would like to contribute to the documents, please see the `OpenStack Documentation contributor guide <https://docs.openstack.org/contributor-guide/>`_. ",0,4
openstack%2Fsecurity-doc~master~Ia2fdcfe8cd80b98165ad9a91dc0f103ea132dd7a,openstack/security-doc,master,Ia2fdcfe8cd80b98165ad9a91dc0f103ea132dd7a,delete unused module,MERGED,2018-03-15 14:49:21.000000000,2018-04-03 07:00:35.000000000,2018-04-03 07:00:35.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 14:49:21.000000000', 'files': ['security-threat-analysis/source/conf.py', 'security-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/67bae2e74673ec82f3612c48476c0408808f0a30', 'message': 'delete unused module\n\nChange-Id: Ia2fdcfe8cd80b98165ad9a91dc0f103ea132dd7a\n'}]",0,553421,67bae2e74673ec82f3612c48476c0408808f0a30,6,2,1,21486,,,0,"delete unused module

Change-Id: Ia2fdcfe8cd80b98165ad9a91dc0f103ea132dd7a
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/21/553421/1 && git format-patch -1 --stdout FETCH_HEAD,"['security-threat-analysis/source/conf.py', 'security-guide/source/conf.py']",2,67bae2e74673ec82f3612c48476c0408808f0a30,,,import os,0,2
openstack%2Ftacker-horizon~master~Icf6c2b0ced6dc75496a4c9e81eb1492342095c3b,openstack/tacker-horizon,master,Icf6c2b0ced6dc75496a4c9e81eb1492342095c3b,add lower-constraints job,MERGED,2018-03-25 15:42:44.000000000,2018-04-03 06:32:09.000000000,2018-04-03 06:32:09.000000000,"[{'_account_id': 2874}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-03-25 15:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/ad9b55757a82cd6152401b576e59dc8be9749f64', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: Icf6c2b0ced6dc75496a4c9e81eb1492342095c3b\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-29 15:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/b4065921fce9fe98385714115dc9f71657970bdc', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Icf6c2b0ced6dc75496a4c9e81eb1492342095c3b\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2018-04-03 05:28:25.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/44497106a3328e726f0e0ec3eb9919765da3a510', 'message': 'add lower-constraints job\n\nCreate a tox environment for running the unit tests against the lower\nbounds of the dependencies.\n\nCreate a lower-constraints.txt to be used to enforce the lower bounds\nin those tests.\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nCo-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>\nChange-Id: Icf6c2b0ced6dc75496a4c9e81eb1492342095c3b\nDepends-On: https://review.openstack.org/555034\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,556258,44497106a3328e726f0e0ec3eb9919765da3a510,16,5,3,2472,,,0,"add lower-constraints job

Create a tox environment for running the unit tests against the lower
bounds of the dependencies.

Create a lower-constraints.txt to be used to enforce the lower bounds
in those tests.

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Co-Authored-By: Nguyen Hai <nguyentrihai93@gmail.com>
Change-Id: Icf6c2b0ced6dc75496a4c9e81eb1492342095c3b
Depends-On: https://review.openstack.org/555034
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/58/556258/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,ad9b55757a82cd6152401b576e59dc8be9749f64,requirements-stop-syncing, [testenv:lower-constraints] basepython = python3 deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,,104,0
openstack%2Fkolla-ansible~stable%2Fpike~Id1ba69ebbf67b4cead855adbe440343c05ea3d1e,openstack/kolla-ansible,stable/pike,Id1ba69ebbf67b4cead855adbe440343c05ea3d1e,Use a random keepalived router id in CI environment,MERGED,2018-04-02 02:27:42.000000000,2018-04-03 06:31:48.000000000,2018-04-03 06:31:48.000000000,"[{'_account_id': 9414}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-04-02 02:27:42.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2157605c038509da580076fb8d696812f7fba4c1', 'message': 'Use a random keepalived router id in CI environment\n\nUse the same router will result in conflict in the CI environment.\n\nChange-Id: Id1ba69ebbf67b4cead855adbe440343c05ea3d1e\nCloses-Bug: #1744913\n(cherry picked from commit bf4a3c9f6c5ff95e72b1ec324004cddb3cee4081)\n'}]",0,558144,2157605c038509da580076fb8d696812f7fba4c1,13,6,1,7488,,,0,"Use a random keepalived router id in CI environment

Use the same router will result in conflict in the CI environment.

Change-Id: Id1ba69ebbf67b4cead855adbe440343c05ea3d1e
Closes-Bug: #1744913
(cherry picked from commit bf4a3c9f6c5ff95e72b1ec324004cddb3cee4081)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/558144/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,2157605c038509da580076fb8d696812f7fba4c1,bug/1744913-stable/pike,"# Use a random router id, otherwise it may result in the same router id # in the CI gate. keepalived_virtual_router_id: ""{{ 250 | random(1) }}"" ",,4,0
openstack%2Ftripleo-upgrade~master~I90aca6bb8c739dd61855430e2cb2fbd3ecb1d0fe,openstack/tripleo-upgrade,master,I90aca6bb8c739dd61855430e2cb2fbd3ecb1d0fe,Add the ability to limit the hosts where to apply FFU,ABANDONED,2018-03-21 09:00:15.000000000,2018-04-03 06:26:43.000000000,,"[{'_account_id': 6133}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 09:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/aa2e7a1a77dba2e133c15a7ba4599b3f2f4f8ad9', 'message': 'Add the ability to limit the hosts where to apply FFU\n\nAs part of our workflow, we define several maintenance windows\nfor FFU. One of the windows will be to just apply FFU on the\ncontrollers. After that, apply that on sets of computes.\nAdd the ability to pass a limit parameter on the upgrade and\ndeploy steps, to limit the nodes where those scripts are applied.\nThat feature, combined with the --tags flag of ansible, will allow\nus to apply FFU on the desired nodes.\n\nChange-Id: I90aca6bb8c739dd61855430e2cb2fbd3ecb1d0fe\n'}, {'number': 2, 'created': '2018-03-21 10:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3268483ac9061e324d64e24f2c45c7011863523f', 'message': 'Add the ability to limit the hosts where to apply FFU\n\nAs part of our workflow, we define several maintenance windows\nfor FFU. One of the windows will be to just apply FFU on the\ncontrollers. After that, apply that on sets of computes.\nAdd the ability to pass a limit parameter on the upgrade and\ndeploy steps, to limit the nodes where those scripts are applied.\nThat feature, combined with the --tags flag of ansible, will allow\nus to apply FFU on the desired nodes.\n\nChange-Id: I90aca6bb8c739dd61855430e2cb2fbd3ecb1d0fe\n'}, {'number': 3, 'created': '2018-03-23 10:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a31358ae08a8bba7f80df33b2ecc9bbaad11619b', 'message': 'Add the ability to limit the hosts where to apply FFU\n\nAs part of our workflow, we define several maintenance windows\nfor FFU. One of the windows will be to just apply FFU on the\ncontrollers. After that, apply that on sets of computes.\nAdd the ability to pass a limit parameter on the upgrade and\ndeploy steps, to limit the nodes where those scripts are applied.\nThat feature, combined with the --tags flag of ansible, will allow\nus to apply FFU on the desired nodes.\n\nChange-Id: I90aca6bb8c739dd61855430e2cb2fbd3ecb1d0fe\n'}, {'number': 4, 'created': '2018-03-24 06:58:39.000000000', 'files': ['templates/fast-forward-upgrade/ffu_upgrade_playbook.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8d3d085a641fd854f91d986c62298e09aff57dae', 'message': 'Add the ability to limit the hosts where to apply FFU\n\nAs part of our workflow, we define several maintenance windows\nfor FFU. One of the windows will be to just apply FFU on the\ncontrollers. After that, apply that on sets of computes.\nAdd the ability to pass a limit parameter on the upgrade and\ndeploy steps, to limit the nodes where those scripts are applied.\nThat feature, combined with the --tags flag of ansible, will allow\nus to apply FFU on the desired nodes.\n\nChange-Id: I90aca6bb8c739dd61855430e2cb2fbd3ecb1d0fe\n'}]",9,554833,8d3d085a641fd854f91d986c62298e09aff57dae,22,5,4,6133,,,0,"Add the ability to limit the hosts where to apply FFU

As part of our workflow, we define several maintenance windows
for FFU. One of the windows will be to just apply FFU on the
controllers. After that, apply that on sets of computes.
Add the ability to pass a limit parameter on the upgrade and
deploy steps, to limit the nodes where those scripts are applied.
That feature, combined with the --tags flag of ansible, will allow
us to apply FFU on the desired nodes.

Change-Id: I90aca6bb8c739dd61855430e2cb2fbd3ecb1d0fe
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/33/554833/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/ffu_upgrade_playbook.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",5,aa2e7a1a77dba2e133c15a7ba4599b3f2f4f8ad9,," command: ""{{working_dir}}/ffu_upgrade_steps_playbook_script.sh {{ ffu_upgrade_limit }}"" command: ""{{working_dir}}/pre_ffu_deploy_steps_playbook_workarounds.sh {{ ffu_upgrade_limit }}"" command: ""{{working_dir}}/ffu_deploy_steps_playbook_script.sh {{ ffu_upgrade_limit }}"""," command: ""{{working_dir}}/ffu_upgrade_steps_playbook_script.sh"" command: ""{{working_dir}}/pre_ffu_deploy_steps_playbook_workarounds.sh"" command: ""{{working_dir}}/ffu_deploy_steps_playbook_script.sh""",26,5
openstack%2Fcyborg~master~Ic9cc2ef54dfa1d620c349ba766f69b9f35b61ce3,openstack/cyborg,master,Ic9cc2ef54dfa1d620c349ba766f69b9f35b61ce3,Remove extra blanks for code beauty,ABANDONED,2018-04-03 04:08:26.000000000,2018-04-03 06:15:07.000000000,,"[{'_account_id': 13629}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-03 04:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a19d250b92cef4c6caa20fce833d734a562d928c', 'message': 'Remove extra blanks for code beauty\n\nReviewing the code of cyborg,\nI noticed there are many extra blanks which\nreduces the beauty of the code.\nSo I fix them.\n\nChange-Id: Ic9cc2ef54dfa1d620c349ba766f69b9f35b61ce3\n'}, {'number': 2, 'created': '2018-04-03 04:09:53.000000000', 'files': ['requirements.txt', 'README.rst', 'setup.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/075ef58dc2d397e6a5685699d69e9d49882224b9', 'message': 'Remove extra blanks for code beauty\n\nReviewing the code of cyborg,\nI noticed there are many extra blanks which\nreduce the beauty of the code.\nSo I fix them.\n\nChange-Id: Ic9cc2ef54dfa1d620c349ba766f69b9f35b61ce3\n'}]",0,558349,075ef58dc2d397e6a5685699d69e9d49882224b9,5,2,2,26571,,,0,"Remove extra blanks for code beauty

Reviewing the code of cyborg,
I noticed there are many extra blanks which
reduce the beauty of the code.
So I fix them.

Change-Id: Ic9cc2ef54dfa1d620c349ba766f69b9f35b61ce3
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/49/558349/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'README.rst', 'setup.py']",3,a19d250b92cef4c6caa20fce833d734a562d928c,, import multiprocessing # noqa, import multiprocessing # noqa,4,4
openstack%2Fkolla-ansible~master~I8eabd47b14eb698676acbcc20141fa81c663422b,openstack/kolla-ansible,master,I8eabd47b14eb698676acbcc20141fa81c663422b,fixing wrong designate producer image used in deploy,MERGED,2018-04-02 08:53:52.000000000,2018-04-03 06:11:56.000000000,2018-04-03 02:32:30.000000000,"[{'_account_id': 10068}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-04-02 08:53:52.000000000', 'files': ['ansible/roles/designate/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c5ee7519ba4e34f9d0e9ed46813e35dfb5be90e7', 'message': 'fixing wrong designate producer image used in deploy\n\nThis patch changes the wrong designate producer image\nfrom ""{{ designate_central_image }}:{{ designate_central_tag }}""\nto ""{{ designate_producer_image }}:{{ designate_producer_tag }}""\n\nChange-Id: I8eabd47b14eb698676acbcc20141fa81c663422b\nCloses-bug:1759629\n'}]",0,558178,c5ee7519ba4e34f9d0e9ed46813e35dfb5be90e7,9,4,1,27661,,,0,"fixing wrong designate producer image used in deploy

This patch changes the wrong designate producer image
from ""{{ designate_central_image }}:{{ designate_central_tag }}""
to ""{{ designate_producer_image }}:{{ designate_producer_tag }}""

Change-Id: I8eabd47b14eb698676acbcc20141fa81c663422b
Closes-bug:1759629
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/558178/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/designate/defaults/main.yml'],1,c5ee7519ba4e34f9d0e9ed46813e35dfb5be90e7,bug/1759629,"designate_producer_image_full: ""{{ designate_producer_image }}:{{ designate_producer_tag }}""","designate_producer_image_full: ""{{ designate_central_image }}:{{ designate_central_tag }}""",1,1
openstack%2Ffreezer~master~Id01d5b8cb6c60a9b3f3b5512fee6ffeff59759b5,openstack/freezer,master,Id01d5b8cb6c60a9b3f3b5512fee6ffeff59759b5,fix the link in README.rst,MERGED,2018-03-22 09:26:06.000000000,2018-04-03 05:53:48.000000000,2018-04-03 05:53:48.000000000,"[{'_account_id': 13940}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-03-22 09:26:06.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/78f4b7764e0a2363d7078239d314f2de3acd6aa5', 'message': 'fix the link in README.rst\n\nChange-Id: Id01d5b8cb6c60a9b3f3b5512fee6ffeff59759b5\n'}]",0,555212,78f4b7764e0a2363d7078239d314f2de3acd6aa5,14,6,1,26297,,,0,"fix the link in README.rst

Change-Id: Id01d5b8cb6c60a9b3f3b5512fee6ffeff59759b5
",git fetch https://review.opendev.org/openstack/freezer refs/changes/12/555212/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,78f4b7764e0a2363d7078239d314f2de3acd6aa5,,- `OpenStack Freezer <https://docs.openstack.org/freezer/latest/>`__- `Official Freezer Documentation <https://docs.openstack.org/freezer/latest/>`__ <https://docs.openstack.org/python-freezerclient/latest/>`__,- `OpenStack Freezer <https://docs.openstack.org/freezer/>`__- `Official Freezer Documentation <https://docs.openstack.org/freezer/>`__ <https://docs.openstack.org/python-freezerclient/>`__,3,3
openstack%2Ffreezer~master~I5ade256f15d38ab2966de96f157c64400648ca74,openstack/freezer,master,I5ade256f15d38ab2966de96f157c64400648ca74,fix a typo,MERGED,2018-03-29 13:04:27.000000000,2018-04-03 05:44:44.000000000,2018-04-03 05:44:44.000000000,"[{'_account_id': 13940}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-03-29 13:04:27.000000000', 'files': ['freezer/openstack/osclients.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/65d1e87ec11a4ca6195683502fb78c0528203391', 'message': 'fix a typo\n\nChange-Id: I5ade256f15d38ab2966de96f157c64400648ca74\n'}]",0,557699,65d1e87ec11a4ca6195683502fb78c0528203391,10,6,1,21486,,,0,"fix a typo

Change-Id: I5ade256f15d38ab2966de96f157c64400648ca74
",git fetch https://review.opendev.org/openstack/freezer refs/changes/99/557699/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer/openstack/osclients.py'],1,65d1e87ec11a4ca6195683502fb78c0528203391,, Return openstack auth arguments as dict, Return opentack auth arguments as dict,1,1
openstack%2Ftripleo-common~stable%2Fqueens~Ia766bc44a647fec15ff662f1ef9ffb67860b155b,openstack/tripleo-common,stable/queens,Ia766bc44a647fec15ff662f1ef9ffb67860b155b,Fix missing permissions on Swift rebalance playbook,MERGED,2018-03-28 15:31:17.000000000,2018-04-03 05:30:28.000000000,2018-04-03 05:30:27.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-28 15:31:17.000000000', 'files': ['playbooks/swift_ring_rebalance.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f8fd210e02714facaef7494b9bd4ff9946f7070', 'message': 'Fix missing permissions on Swift rebalance playbook\n\nThe playbook is executed as user heat-admin on the nodes, and some tasks\nneed to read and/or write to directories that are owned by the\ncontainers (ie with a numeric id on the host itself).\n\nCloses-Bug: 1759311\nChange-Id: Ia766bc44a647fec15ff662f1ef9ffb67860b155b\n(cherry picked from commit b78aeab4fd821aea3f5655a96e85fd67ca46fcee)\n'}]",0,557372,3f8fd210e02714facaef7494b9bd4ff9946f7070,9,5,1,6968,,,0,"Fix missing permissions on Swift rebalance playbook

The playbook is executed as user heat-admin on the nodes, and some tasks
need to read and/or write to directories that are owned by the
containers (ie with a numeric id on the host itself).

Closes-Bug: 1759311
Change-Id: Ia766bc44a647fec15ff662f1ef9ffb67860b155b
(cherry picked from commit b78aeab4fd821aea3f5655a96e85fd67ca46fcee)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/72/557372/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/swift_ring_rebalance.yaml'],1,3f8fd210e02714facaef7494b9bd4ff9946f7070,510884-stable/queens, become: true become: true become: true,,3,0
openstack%2Ftripleo-heat-templates~master~Ib340376ee80ea42a732a51d0c195b048ca0440ac,openstack/tripleo-heat-templates,master,Ib340376ee80ea42a732a51d0c195b048ca0440ac,Remove no longer used disable_upgrade_deployment flag,MERGED,2018-03-29 12:29:37.000000000,2018-04-03 05:30:26.000000000,2018-04-03 05:30:26.000000000,"[{'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 9414}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-29 12:29:37.000000000', 'files': ['releasenotes/notes/remove_disable_upgrade_deployment_flag-872df40d7ff171b8.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephFile.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeInstanceHA.yaml', 'common/deploy-steps.j2', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'extraconfig/tasks/tripleo_upgrade_node.sh', 'roles/Compute.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ObjectStorage.yaml', 'roles/ComputeRealTime.yaml', 'roles/README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/66df6bdb4666dbacd4a10d4433aede7bfa937018', 'message': 'Remove no longer used disable_upgrade_deployment flag\n\nIn I75f087dc456c50327c3b4ad98a1f89a7e012dc68 we removed much of\nthe legacy upgrade workflow. This now also removes the\ndisable_upgrade_deployment flag and the tripleo_upgrade_node.sh\nscript, both of which are no longer used and have no effect on\nthe upgrade.\n\nRelated reviews\n    I7b19c5299d6d60a96a73cafaf0d7103c3bd7939d tripleo-common\n    I4227f82168271089ae32cbb1f318d4a84e278cc7 python-tripleoclient\n\nChange-Id: Ib340376ee80ea42a732a51d0c195b048ca0440ac\n'}]",0,557693,66df6bdb4666dbacd4a10d4433aede7bfa937018,12,10,1,8449,,,0,"Remove no longer used disable_upgrade_deployment flag

In I75f087dc456c50327c3b4ad98a1f89a7e012dc68 we removed much of
the legacy upgrade workflow. This now also removes the
disable_upgrade_deployment flag and the tripleo_upgrade_node.sh
script, both of which are no longer used and have no effect on
the upgrade.

Related reviews
    I7b19c5299d6d60a96a73cafaf0d7103c3bd7939d tripleo-common
    I4227f82168271089ae32cbb1f318d4a84e278cc7 python-tripleoclient

Change-Id: Ib340376ee80ea42a732a51d0c195b048ca0440ac
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/93/557693/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_disable_upgrade_deployment_flag-872df40d7ff171b8.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephFile.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'roles/ComputeAlt.yaml', 'roles/ComputeInstanceHA.yaml', 'common/deploy-steps.j2', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'extraconfig/tasks/tripleo_upgrade_node.sh', 'roles/Compute.yaml', 'roles/HciCephMon.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'roles/ObjectStorage.yaml', 'roles/ComputeRealTime.yaml', 'roles/README.rst']",20,66df6bdb4666dbacd4a10d4433aede7bfa937018,remove_disable_upgrade_deployment,,"* disable_upgrade_deployment: (boolean) optional, whether to run the ansible upgrade steps for all services that are deployed on the role. If set to True, the operator will drive the upgrade for this role's nodes. ",7,72
openstack%2Fneutron-vpnaas~master~Iae2704f3d0653e00c18cf1fccdbcb8b926a5b15c,openstack/neutron-vpnaas,master,Iae2704f3d0653e00c18cf1fccdbcb8b926a5b15c,Improve docs to follow the standard structure,MERGED,2018-03-22 06:22:09.000000000,2018-04-03 05:07:39.000000000,2018-04-03 05:07:39.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 15905}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 06:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9d54d7d23fb347991b9327f2685cac98a0807a54', 'message': 'Improve docs to follow the standard structure\n\nneutron-vpnaas documentation needed to be updated to the document\nstructure recommended by the docs team.\nThis commits add several sections and reorganizes the existing docs.\n\nChange-Id: Iae2704f3d0653e00c18cf1fccdbcb8b926a5b15c\n'}, {'number': 2, 'created': '2018-03-29 05:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/24f7dd4fb13d754b122cfe616e9411d26c671350', 'message': 'Improve docs to follow the standard structure\n\nneutron-vpnaas documentation needed to be updated to the document\nstructure recommended by the docs team.\nThis commits add several sections and reorganizes the existing docs.\n\nChange-Id: Iae2704f3d0653e00c18cf1fccdbcb8b926a5b15c\n'}, {'number': 3, 'created': '2018-04-02 02:19:04.000000000', 'files': ['doc/source/admin/index.rst', '.gitignore', 'doc/source/user/index.rst', 'doc/source/install/index.rst', 'doc/source/configuration/samples/neutron_vpnaas.rst', 'doc/source/configuration/neutron_vpnaas.rst', 'doc/source/conf.py', 'doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/_static/.placeholder', 'doc/source/configuration/samples/l3_agent.rst', 'etc/oslo-config-generator/l3_agent.ini', 'doc/source/configuration/l3_agent.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/38d53da1881f7fa871a89d24e2eaff096c0996d5', 'message': 'Improve docs to follow the standard structure\n\nneutron-vpnaas documentation needed to be updated to the document\nstructure recommended by the docs team.\nThis commits add several sections and reorganizes the existing docs.\n\nChange-Id: Iae2704f3d0653e00c18cf1fccdbcb8b926a5b15c\n'}]",2,555167,38d53da1881f7fa871a89d24e2eaff096c0996d5,17,5,3,841,,,0,"Improve docs to follow the standard structure

neutron-vpnaas documentation needed to be updated to the document
structure recommended by the docs team.
This commits add several sections and reorganizes the existing docs.

Change-Id: Iae2704f3d0653e00c18cf1fccdbcb8b926a5b15c
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/67/555167/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', '.gitignore', 'doc/source/user/index.rst', 'doc/source/install/index.rst', 'doc/source/configuration/samples/neutron_vpnaas.rst', 'doc/source/configuration/neutron_vpnaas.rst', 'doc/source/conf.py', 'doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/_static/.placeholder', 'doc/source/configuration/samples/l3_agent.rst', 'etc/oslo-config-generator/l3_agent.ini', 'doc/source/configuration/l3_agent.rst', 'tox.ini']",15,9d54d7d23fb347991b9327f2685cac98a0807a54,doc-update,commands = sphinx-build -W -a -b html doc/source doc/build,commands = sphinx-build -W -b html doc/source doc/build,137,30
openstack%2Foctavia~master~I3aba174dcc93a654e2ec2ce7149dbc3d09eb487a,openstack/octavia,master,I3aba174dcc93a654e2ec2ce7149dbc3d09eb487a,Replace db function get_session by get_writer_session,ABANDONED,2018-04-03 04:03:25.000000000,2018-04-03 04:56:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-03 04:03:25.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'octavia/common/context.py', 'octavia/api/v1/controllers/member.py', 'octavia/tests/functional/api/v1/base.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/api/v1/controllers/listener.py', 'octavia/api/v1/controllers/load_balancer.py', 'octavia/controller/healthmanager/health_drivers/update_db.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/api/v1/controllers/health_monitor.py', 'octavia/api/v2/controllers/pool.py', 'octavia/controller/housekeeping/house_keeping.py', 'octavia/tests/functional/db/base.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/handlers/controller_simulator/handler.py', 'octavia/controller/healthmanager/health_manager.py', 'octavia/api/v2/controllers/listener.py', 'octavia/api/v1/controllers/pool.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a16ecf87e302832dedd3f66b43c407e1efec94c', 'message': 'Replace db function get_session by get_writer_session\n\nget_session was deprectaed on Ocata and removed in Queens [1].\nSo replace get_session by get_writer_session.\n\n[1] https://review.openstack.org/#/c/529143\n\nChange-Id: I3aba174dcc93a654e2ec2ce7149dbc3d09eb487a\n'}]",0,558348,5a16ecf87e302832dedd3f66b43c407e1efec94c,3,1,1,21486,,,0,"Replace db function get_session by get_writer_session

get_session was deprectaed on Ocata and removed in Queens [1].
So replace get_session by get_writer_session.

[1] https://review.openstack.org/#/c/529143

Change-Id: I3aba174dcc93a654e2ec2ce7149dbc3d09eb487a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/558348/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'octavia/common/context.py', 'octavia/api/v1/controllers/member.py', 'octavia/tests/functional/api/v1/base.py', 'octavia/api/v2/controllers/health_monitor.py', 'octavia/tests/functional/api/v2/base.py', 'octavia/api/v1/controllers/listener.py', 'octavia/api/v1/controllers/load_balancer.py', 'octavia/controller/healthmanager/health_drivers/update_db.py', 'octavia/tests/functional/db/test_repositories.py', 'octavia/api/v1/controllers/health_monitor.py', 'octavia/api/v2/controllers/pool.py', 'octavia/controller/housekeeping/house_keeping.py', 'octavia/tests/functional/db/base.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/handlers/controller_simulator/handler.py', 'octavia/controller/healthmanager/health_manager.py', 'octavia/api/v2/controllers/listener.py', 'octavia/api/v1/controllers/pool.py']",21,5a16ecf87e302832dedd3f66b43c407e1efec94c,, lock_session = db_api.get_writer_session(autocommit=False), lock_session = db_api.get_session(autocommit=False),103,103
openstack%2Fxstatic-angular-material~master~Idae0bf85862940d30be8949f8484b5d8dcde15e7,openstack/xstatic-angular-material,master,Idae0bf85862940d30be8949f8484b5d8dcde15e7,Add .gitreview file,MERGED,2018-04-03 03:00:22.000000000,2018-04-03 04:45:22.000000000,2018-04-03 04:45:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-04-03 03:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/xstatic-angular-material/commit/c93f6d70193024e1a4820b51ed710ef3a91de6f3', 'message': 'Add .gitreview file\n\nChange-Id: Idae0bf85862940d30be8949f8484b5d8dcde15e7\n'}, {'number': 2, 'created': '2018-04-03 04:00:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/xstatic-angular-material/commit/9f6499b08176383eb93a0e5c0917528e50eff65c', 'message': 'Add .gitreview file\n\nChange-Id: Idae0bf85862940d30be8949f8484b5d8dcde15e7\n'}]",0,558339,9f6499b08176383eb93a0e5c0917528e50eff65c,8,2,2,19224,,,0,"Add .gitreview file

Change-Id: Idae0bf85862940d30be8949f8484b5d8dcde15e7
",git fetch https://review.opendev.org/openstack/xstatic-angular-material refs/changes/39/558339/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c93f6d70193024e1a4820b51ed710ef3a91de6f3,add-gitreview,[gerrit] host=review.openstack.org port=29418 project=openstack/xstatic-angular-material.git ,,4,0
openstack%2Fglance~master~I297a415d6fa8700c6a131e0931d11bda65265c73,openstack/glance,master,I297a415d6fa8700c6a131e0931d11bda65265c73,Python 3.5: Image Import fails with Unicode Error,MERGED,2018-03-29 10:20:08.000000000,2018-04-03 04:40:43.000000000,2018-04-03 01:47:52.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-29 10:20:08.000000000', 'files': ['glance/common/scripts/utils.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ab4139e30ca56425fb4f62ebf2d5cb48a0455952', 'message': ""Python 3.5: Image Import fails with Unicode Error\n\nNewly added image import api fails for python 3.5 as it\nraises Unicode error as it fails to open file in binary mode.\n\nAdded 'rb' mode while opening the file which will open the provided\nfile in binary mode.\n\nChange-Id: I297a415d6fa8700c6a131e0931d11bda65265c73\nCloses-Bug: #1759510\n""}]",0,557673,ab4139e30ca56425fb4f62ebf2d5cb48a0455952,22,6,1,9303,,,0,"Python 3.5: Image Import fails with Unicode Error

Newly added image import api fails for python 3.5 as it
raises Unicode error as it fails to open file in binary mode.

Added 'rb' mode while opening the file which will open the provided
file in binary mode.

Change-Id: I297a415d6fa8700c6a131e0931d11bda65265c73
Closes-Bug: #1759510
",git fetch https://review.opendev.org/openstack/glance refs/changes/73/557673/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/common/scripts/utils.py'],1,ab4139e30ca56425fb4f62ebf2d5cb48a0455952,bug/1759510," return open(uri, ""rb"")"," return open(uri, ""r"")",1,1
openstack%2Fheat~master~Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b,openstack/heat,master,Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b,remove mox usage from test_queue,MERGED,2018-03-12 17:08:03.000000000,2018-04-03 04:38:30.000000000,2018-04-03 04:38:30.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-12 17:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/96808b12fe0137569eaf6d8bb4383d58bf4006c1', 'message': 'remove mox usage from test_queue\n\nChange-Id: Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-03-13 06:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5ce48a5545cf86d387ea0d028dd4830ffab922f4', 'message': 'remove mox usage from test_queue\n\nChange-Id: Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b\ngoal: mox-removal\n'}, {'number': 3, 'created': '2018-03-14 18:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4fabecb9320b93ca7fd264b9035746bf545d1567', 'message': 'remove mox usage from test_queue\n\nChange-Id: Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b\ngoal: mox-removal\n'}, {'number': 4, 'created': '2018-03-15 05:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/04475e3fedb20c224da143d5a49f656ac1e8266b', 'message': 'remove mox usage from test_queue\n\nChange-Id: Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b\ngoal: mox-removal\n'}, {'number': 5, 'created': '2018-04-01 17:52:03.000000000', 'files': ['heat/tests/openstack/zaqar/test_queue.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d406a33b6bf1e185e21722973882dfc06d895c55', 'message': 'remove mox usage from test_queue\n\nChange-Id: Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b\ngoal: mox-removal\n'}]",10,552090,d406a33b6bf1e185e21722973882dfc06d895c55,22,5,5,12404,,,0,"remove mox usage from test_queue

Change-Id: Iabdacfc9caea330ac7c68a992e5fed4f918ebe6b
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/90/552090/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/zaqar/test_queue.py'],1,96808b12fe0137569eaf6d8bb4383d58bf4006c1,mox-removal," self._metadata = None if new_meta: self._metadata = new_meta return self._metadataclass FakeClient(object): def __init__(self): self.api_url = 'http://127.0.0.1:8888/' self.api_version = 1.1 self.queue = mock.Mock() self.fc = FakeClient() self.patchobject(resource.Resource, 'client', return_value=self.fc) self.fc.queue.return_value = fake_q self.fc.queue.assert_called_once_with(queue.physical_resource_name(), auto_create=False) self.fc.queue.side_effect = FakeQueue self.fc.queue.assert_called_once_with(name_match, auto_create=False) self.fc.queue.return_value = fake_q self.fc.queue.assert_called_once_with(""myqueue"", auto_create=False) self.fc.queue.return_value = fake_q self.fc.queue.assert_called_once_with(""myqueue"", auto_create=False) self.fc.queue.return_value = fake_q self.fc.queue.assert_called_once_with(""myqueue"", auto_create=False) self.fc.queue.return_value = fake_q self.fc.queue.assert_called_once_with(queue.physical_resource_name(), auto_create=False) self.fc.queue.return_value = fake_q self.fc.queue.assert_called_once_with(queue.physical_resource_name(), auto_create=False)"," pass self.fc = self.m.CreateMockAnything() self.m.StubOutWithMock(queue, 'client') queue.client().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(self.fc, 'queue') self.fc.queue(queue.physical_resource_name(), auto_create=False).AndReturn(fake_q) self.m.StubOutWithMock(fake_q, 'metadata') self.m.ReplayAll() self.fc.api_url = 'http://127.0.0.1:8888/' self.fc.api_version = 1.1 self.m.VerifyAll() self.m.StubOutWithMock(queue, 'client') queue.client().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(self.fc, 'queue') self.fc.queue(name_match, auto_create=False).WithSideEffects(FakeQueue) self.m.ReplayAll() self.fc.api_url = 'http://127.0.0.1:8888' self.m.VerifyAll() self.m.StubOutWithMock(queue, 'client') queue.client().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(self.fc, 'queue') self.fc.queue(""myqueue"", auto_create=False).MultipleTimes().AndReturn(fake_q) self.m.StubOutWithMock(fake_q, 'delete') fake_q.delete() self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(queue, 'client') queue.client().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(self.fc, 'queue') self.fc.queue('myqueue', auto_create=False).MultipleTimes().AndReturn(fake_q) self.m.StubOutWithMock(fake_q, 'metadata') fake_q.metadata(new_meta={""key1"": {""key2"": ""value"", ""key3"": [1, 2]}}) # Expected to be called during update self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(queue, 'client') queue.client().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(self.fc, 'queue') self.fc.queue('myqueue', auto_create=False).MultipleTimes().AndReturn(fake_q) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(queue, 'client') queue.client().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(self.fc, 'queue') self.fc.queue(queue.physical_resource_name(), auto_create=False).AndReturn(fake_q) self.m.StubOutWithMock(fake_q, 'metadata') self.fc.queue(queue.physical_resource_name(), auto_create=False).AndReturn(fake_q) fake_q.metadata().AndReturn( {""key1"": {""key2"": ""value"", ""key3"": [1, 2]}}) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(queue, 'client') queue.client().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(self.fc, 'queue') self.fc.queue(queue.physical_resource_name(), auto_create=False).AndReturn(fake_q) self.m.StubOutWithMock(fake_q, 'metadata') self.fc.queue(queue.physical_resource_name(), auto_create=False).AndReturn(fake_q) fake_q.metadata().AndReturn( {""key1"": {""key2"": ""value"", ""key3"": [1, 2]}}) self.m.ReplayAll() self.m.VerifyAll() ",30,87
openstack%2Fheat~master~Ia646d50f53e57922814e8c86f119c665a8566fb1,openstack/heat,master,Ia646d50f53e57922814e8c86f119c665a8566fb1,Remove mox usage from test_server_tags,MERGED,2018-03-10 18:05:29.000000000,2018-04-03 04:37:55.000000000,2018-04-03 04:37:54.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-03-10 18:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bcd981049944bc3dcdd361fa2fce42b2d5b21fcb', 'message': 'Remove mox usage from test_server_tags\n\nChange-Id: Ia646d50f53e57922814e8c86f119c665a8566fb1\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-03-13 06:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/befb2088fa00599e02572022c03308500b0aff8b', 'message': 'Remove mox usage from test_server_tags\n\nChange-Id: Ia646d50f53e57922814e8c86f119c665a8566fb1\ngoal: mox-removal\n'}, {'number': 3, 'created': '2018-03-15 05:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1005f1e06ded5f409a62f91e34df75ad9df28f28', 'message': 'Remove mox usage from test_server_tags\n\nChange-Id: Ia646d50f53e57922814e8c86f119c665a8566fb1\ngoal: mox-removal\n'}, {'number': 4, 'created': '2018-04-01 17:52:03.000000000', 'files': ['heat/tests/test_server_tags.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8389d9af0d7734170fba4625ddcbe81fe70a460e', 'message': 'Remove mox usage from test_server_tags\n\nChange-Id: Ia646d50f53e57922814e8c86f119c665a8566fb1\ngoal: mox-removal\n'}]",5,551693,8389d9af0d7734170fba4625ddcbe81fe70a460e,16,5,4,12404,,,0,"Remove mox usage from test_server_tags

Change-Id: Ia646d50f53e57922814e8c86f119c665a8566fb1
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/93/551693/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_server_tags.py'],1,bcd981049944bc3dcdd361fa2fce42b2d5b21fcb,mox-removal," self.patchobject(glance.GlanceClientPlugin, 'find_image_by_name_or_id', return_value=imageId) def _setup_test_instance(self, intags=None): self.stack_name = 'tag_test' self.stack = parser.Stack(utils.dummy_context(), self.stack_name, template, self.patchobject(nova.NovaClientPlugin, '_create', return_value=self.fc) self.server_userdata = instance.client_plugin().build_userdata( self.patchobject( nova.NovaClientPlugin, 'build_userdata', return_value=self.server_userdata) self.mock_servers_create = self.patchobject( self.fc.servers, 'create', return_value=self.fc.servers.list()[1]) instance = self._setup_test_instance(intags=tags) self.mock_servers_create.assert_called_once_with( image=1, flavor=1, key_name='test', name=utils.PhysName(self.stack_name, instance.name), security_groups=None, userdata=self.server_userdata, scheduler_hints=None, meta=metadata, nics=None, availability_zone=None, block_device_mapping=None) instance = self._setup_test_instance(intags=tags) self.patchobject(self.fc.servers, 'set_meta', return_value=None)"," self.m.StubOutWithMock(glance.GlanceClientPlugin, 'find_image_by_name_or_id') glance.GlanceClientPlugin.find_image_by_name_or_id( imageId_input).MultipleTimes().AndReturn(imageId) def _setup_test_instance(self, intags=None, nova_tags=None): stack_name = 'tag_test' self.stack = parser.Stack(utils.dummy_context(), stack_name, template, self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().AndReturn(self.fc) server_userdata = instance.client_plugin().build_userdata( self.m.StubOutWithMock(nova.NovaClientPlugin, 'build_userdata') nova.NovaClientPlugin.build_userdata( metadata, instance.properties['UserData'], 'ec2-user').AndReturn(server_userdata) self.m.StubOutWithMock(self.fc.servers, 'create') self.fc.servers.create( image=1, flavor=1, key_name='test', name=utils.PhysName(stack_name, instance.name), security_groups=None, userdata=server_userdata, scheduler_hints=None, meta=nova_tags, nics=None, availability_zone=None, block_device_mapping=None).AndReturn( self.fc.servers.list()[1]) instance = self._setup_test_instance(intags=tags, nova_tags=metadata) self.m.ReplayAll() # we are just using mock to verify that the tags get through to the # nova call. self.m.VerifyAll() metadata = dict((tm['Key'], tm['Value']) for tm in tags) instance = self._setup_test_instance(intags=tags, nova_tags=metadata) self.m.ReplayAll() # we are just using mock to verify that the tags get through to the # nova call. self.m.VerifyAll() self.m.UnsetStubs() new_metadata = dict((tm['Key'], tm['Value']) for tm in new_tags) self.m.StubOutWithMock(self.fc.servers, 'set_meta') self.fc.servers.set_meta(self.fc.servers.list()[1], new_metadata).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll()",26,44
openstack%2Fheat~master~I1439a44ce16a01b65863a3843ecb03445ee96368,openstack/heat,master,I1439a44ce16a01b65863a3843ecb03445ee96368,Remove mox from test_provider_template,MERGED,2018-03-29 10:19:35.000000000,2018-04-03 04:35:54.000000000,2018-04-03 04:35:54.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-03-29 10:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7da047d6b08e7a6d5eb6ff09c904550d8462f1ab', 'message': 'Remove mox from test_provider_template\n\nChange-Id: I1439a44ce16a01b65863a3843ecb03445ee96368\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/test_provider_template.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a61fe3469ab276db9722c2a528f4ea508c96e38c', 'message': 'Remove mox from test_provider_template\n\nChange-Id: I1439a44ce16a01b65863a3843ecb03445ee96368\ngoal: mox-removal\n'}]",0,557671,a61fe3469ab276db9722c2a528f4ea508c96e38c,11,4,2,8833,,,0,"Remove mox from test_provider_template

Change-Id: I1439a44ce16a01b65863a3843ecb03445ee96368
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/557671/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_provider_template.py'],1,7da047d6b08e7a6d5eb6ff09c904550d8462f1ab,mox-removal," mock_get = self.patchobject(urlfetch, ""get"", return_value=minimal_temp) mock_get.assert_called_once_with(test_templ_name, allowed_schemes=('file',)) mock_get = self.patchobject(urlfetch, ""get"", return_value=test_templ) mock_get.assert_called_once_with(test_templ_name, allowed_schemes=('http', 'https')) mock_get = self.patchobject(urlfetch, ""get"", return_value=minimal_temp) mock_get.assert_called_once_with(test_templ_name, allowed_schemes=('http', 'https', 'file',)) mock_get = self.patchobject(urlfetch, ""get"", side_effect=urlfetch.URLFetchError( _('Failed to retrieve template'))) mock_get.assert_called_once_with(test_templ_name, allowed_schemes=('http', 'https', 'file',)) mock_get = self.patchobject(urlfetch, ""get"", side_effect=urlfetch.URLFetchError( _('Failed to retrieve template'))) mock_get.assert_called_once_with(test_templ_name, allowed_schemes=('http', 'https',)) mock_get = self.patchobject(urlfetch, ""get"", return_value=wrong_template) mock_get.assert_called_once_with(test_templ_name, allowed_schemes=('http', 'https',))"," self.m.StubOutWithMock(urlfetch, ""get"") urlfetch.get(test_templ_name, allowed_schemes=('file',)).AndReturn(minimal_temp) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(urlfetch, ""get"") urlfetch.get(test_templ_name, allowed_schemes=('http', 'https')).AndReturn(test_templ) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(urlfetch, ""get"") urlfetch.get(test_templ_name, allowed_schemes=('http', 'https', 'file')).AndReturn(minimal_temp) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(urlfetch, ""get"") urlfetch.get(test_templ_name, allowed_schemes=('http', 'https', 'file') ).AndRaise(urlfetch.URLFetchError( _('Failed to retrieve template'))) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(urlfetch, ""get"") urlfetch.get(test_templ_name, allowed_schemes=('http', 'https') ).AndRaise(urlfetch.URLFetchError( _('Failed to retrieve template'))) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(urlfetch, ""get"") urlfetch.get(test_templ_name, allowed_schemes=('http', 'https') ).AndReturn(wrong_template) self.m.ReplayAll() self.m.VerifyAll()",25,43
openstack%2Fheat~master~Ie6f07c5c8f19e4b16b474559cfcf1c9a50bef281,openstack/heat,master,Ie6f07c5c8f19e4b16b474559cfcf1c9a50bef281,Remove mox from test_user,MERGED,2018-03-28 04:00:15.000000000,2018-04-03 04:35:52.000000000,2018-04-03 04:35:52.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 04:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eb1e757c6b47f5075a5c6bed490ced130c5c9eaa', 'message': 'Remove mox from test_user\n\nChange-Id: Ie6f07c5c8f19e4b16b474559cfcf1c9a50bef281\ngoal: remove-mox\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/aws/test_user.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/3fbd481a01fcf61bbace69264002a91caab830d0', 'message': 'Remove mox from test_user\n\nChange-Id: Ie6f07c5c8f19e4b16b474559cfcf1c9a50bef281\ngoal: remove-mox\n'}]",2,557142,3fbd481a01fcf61bbace69264002a91caab830d0,10,3,2,8833,,,0,"Remove mox from test_user

Change-Id: Ie6f07c5c8f19e4b16b474559cfcf1c9a50bef281
goal: remove-mox
",git fetch https://review.opendev.org/openstack/heat refs/changes/42/557142/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/aws/test_user.py'],1,eb1e757c6b47f5075a5c6bed490ced130c5c9eaa,mox-removal," project_id, user_id='dummy_user', password=None): self.patchobject(user.User, 'keystone', return_value=self.fc) self.mock_create_project = self.patchobject( fake_ks.FakeKeystoneClient, 'create_stack_domain_project', return_value=project_id) self.patchobject(short_id, 'get_id', return_value='aabbcc') self.mock_create_user = self.patchobject( fake_ks.FakeKeystoneClient, 'create_stack_domain_user', return_value=user_id) project_id = 'stackproject' rsrc = self.create_user(t, stack, 'CfnUser', project_id) self.mock_create_project.assert_called_once_with(stack.id) self.mock_create_user.assert_called_once_with( password=None, project_id=project_id, username=self.username) project_id = 'stackproject' password = u'myP@ssW0rd' rsrc = self.create_user(t, stack, 'CfnUser', project_id=project_id, password=password) self.mock_create_project.assert_called_once_with(stack.id) self.mock_create_user.assert_called_once_with( password=password, project_id=project_id, username=self.username) project_id = 'stackproject' rsrc = self.create_user(t, stack, 'CfnUser', project_id) self.mock_create_project.assert_called_once_with(stack.id) self.mock_create_user.assert_called_once_with( password=None, project_id=project_id, username=self.username) def mock_access_allowed(resource): return True if resource == 'a_resource' else False self.patchobject(ap.AccessPolicy, 'access_allowed', side_effect=mock_access_allowed) project_id = 'stackproject' rsrc = self.create_user(t, stack, 'CfnUser', project_id) self.mock_create_project.assert_called_once_with(stack.id) self.mock_create_user.assert_called_once_with( password=None, project_id=project_id, username=self.username) def mock_access_allowed(resource): return True if resource == 'a_resource' else False self.patchobject(ap.AccessPolicy, 'access_allowed', side_effect=mock_access_allowed) project_id = 'stackproject' rsrc = self.create_user(t, stack, 'CfnUser', project_id) self.mock_create_project.assert_called_once_with(stack.id) self.mock_create_user.assert_called_once_with( password=None, project_id=project_id, username=self.username) self.patchobject(user.User, 'keystone', return_value=self.fc) self.patchobject(user.AccessKey, 'keystone', return_value=self.fc)"," project_id='stackproject', user_id='dummy_user', password=None): self.m.StubOutWithMock(user.User, 'keystone') user.User.keystone().MultipleTimes().AndReturn(self.fc) self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'create_stack_domain_project') fake_ks.FakeKeystoneClient.create_stack_domain_project( stack.id).AndReturn(project_id) self.m.StubOutWithMock(short_id, 'get_id') short_id.get_id(rsrc.uuid).MultipleTimes().AndReturn('aabbcc') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'create_stack_domain_user') fake_ks.FakeKeystoneClient.create_stack_domain_user( username=self.username, password=password, project_id=project_id).AndReturn(user_id) self.m.ReplayAll() rsrc = self.create_user(t, stack, 'CfnUser') self.m.VerifyAll() rsrc = self.create_user(t, stack, 'CfnUser', password=u'myP@ssW0rd') self.m.VerifyAll() rsrc = self.create_user(t, stack, 'CfnUser') self.m.VerifyAll() self.m.StubOutWithMock(ap.AccessPolicy, 'access_allowed') ap.AccessPolicy.access_allowed('a_resource').AndReturn(True) ap.AccessPolicy.access_allowed('b_resource').AndReturn(False) self.m.ReplayAll() rsrc = self.create_user(t, stack, 'CfnUser') self.m.VerifyAll() self.m.StubOutWithMock(ap.AccessPolicy, 'access_allowed') ap.AccessPolicy.access_allowed('a_resource').AndReturn(True) ap.AccessPolicy.access_allowed('b_resource').AndReturn(False) self.m.ReplayAll() rsrc = self.create_user(t, stack, 'CfnUser') self.m.VerifyAll() self.m.StubOutWithMock(user.User, 'keystone') user.User.keystone().MultipleTimes().AndReturn(self.fc) self.m.ReplayAll() self.m.VerifyAll() self.m.VerifyAll() self.m.StubOutWithMock(user.AccessKey, 'keystone') user.AccessKey.keystone().MultipleTimes().AndReturn(self.fc) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() ",55,52
openstack%2Fheat~master~Ib188f26d4f494f6dc6f5e10e82f70f8e51b69252,openstack/heat,master,Ib188f26d4f494f6dc6f5e10e82f70f8e51b69252,Remove mox from test_hot,MERGED,2018-03-26 08:34:04.000000000,2018-04-03 04:12:02.000000000,2018-04-03 04:12:01.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 08:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6f7b9c91062c630c46894da816eea3a9be7a8034', 'message': 'Remove mox from test_hot\n\nChange-Id: Ib188f26d4f494f6dc6f5e10e82f70f8e51b69252\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/test_hot.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/1e4a92237ff4b8f2141ed93c40445cd8cfd798a9', 'message': 'Remove mox from test_hot\n\nChange-Id: Ib188f26d4f494f6dc6f5e10e82f70f8e51b69252\ngoal: mox-removal\n'}]",0,556439,1e4a92237ff4b8f2141ed93c40445cd8cfd798a9,10,3,2,8833,,,0,"Remove mox from test_hot

Change-Id: Ib188f26d4f494f6dc6f5e10e82f70f8e51b69252
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/39/556439/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_hot.py'],1,6f7b9c91062c630c46894da816eea3a9be7a8034,mox-removal," def check_props_and_raise(*args): raise resource.UpdateReplace() mock_update = self.patchobject(generic_rsrc.ResourceWithProps, 'update_template_diff', side_effect=check_props_and_raise) mock_update.assert_called_once_with( rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'xyz'}), rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'abc'})) def check_props_and_raise(*args): raise resource.UpdateReplace() mock_update = self.patchobject(generic_rsrc.ResourceWithProps, 'update_template_diff', side_effect=check_props_and_raise) mock_update.assert_called_once_with( rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'xyz'}), rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'abc'}))"," self.m.VerifyAll() self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'update_template_diff') def check_props(*args): generic_rsrc.ResourceWithProps.update_template_diff( rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'xyz'}), rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'abc'}) ).WithSideEffects(check_props).AndRaise(resource.UpdateReplace) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(generic_rsrc.ResourceWithProps, 'update_template_diff') def check_props(*args): generic_rsrc.ResourceWithProps.update_template_diff( rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'xyz'}), rsrc_defn.ResourceDefinition('AResource', 'ResourceWithPropsType', properties={'Foo': 'abc'}) ).WithSideEffects(check_props).AndRaise(resource.UpdateReplace) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() ",24,31
openstack%2Fheat~master~I41bdf5bda3e181ad53e1a0a96d0c2d79c61c9a1d,openstack/heat,master,I41bdf5bda3e181ad53e1a0a96d0c2d79c61c9a1d,Remove mox from test_s3,MERGED,2018-03-23 04:44:47.000000000,2018-04-03 04:12:00.000000000,2018-04-03 04:11:59.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 04:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d618cf587d089085400f59a39e9aa44d3d156314', 'message': 'Remove mox from test_s3\n\nChange-Id: I41bdf5bda3e181ad53e1a0a96d0c2d79c61c9a1d\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/aws/test_s3.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c002a3e8d67397395822c7fd1e7fc89a9218b22e', 'message': 'Remove mox from test_s3\n\nChange-Id: I41bdf5bda3e181ad53e1a0a96d0c2d79c61c9a1d\ngoal: mox-removal\n'}]",0,555632,c002a3e8d67397395822c7fd1e7fc89a9218b22e,10,3,2,8833,,,0,"Remove mox from test_s3

Change-Id: I41bdf5bda3e181ad53e1a0a96d0c2d79c61c9a1d
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/32/555632/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/aws/test_s3.py'],1,d618cf587d089085400f59a39e9aa44d3d156314,mox-removal,"import mock from oslo_config import cfg self.mock_con = mock.Mock(spec=sc.Connection) self.patchobject(s3.S3Bucket, 'client', return_value=self.mock_con) self.mock_con.put_container.return_value = None self.mock_con.get_auth.return_value = ( 'http://server.test:8080/v_2', None) self.mock_con.delete_container.return_value = None self.mock_con.put_container.assert_called_once_with( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'} ) self.mock_con.get_auth.assert_called_with() self.assertEqual(2, self.mock_con.get_auth.call_count) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.return_value = None self.mock_con.put_container.assert_called_once_with( utils.PhysName(stack.name, 'test_resource'), {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': '.r:*'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.return_value = None rsrc = self.create_resource(t, stack, 'S3Bucket_with_tags') scheduler.TaskRunner(rsrc.delete)() self.mock_con.put_container.assert_called_once_with( 'X-Container-Meta-S3-Tag-location': 'here'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.return_value = None self.mock_con.put_container.assert_called_once_with( container_name, {'X-Container-Write': '.r:*', 'X-Container-Read': '.r:*'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.return_value = None self.mock_con.put_container.assert_called_once_with( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.return_value = None rsrc = self.create_resource(t, stack, 'S3BucketWebsite') scheduler.TaskRunner(rsrc.delete)() self.mock_con.put_container.assert_called_once_with( 'X-Container-Read': '.r:*'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.side_effect = sc.ClientException( 'Test Delete Failure') self.mock_con.put_container.assert_called_once_with( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.side_effect = sc.ClientException( 'Gone', http_status=404) self.mock_con.put_container.assert_called_once_with( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.side_effect = sc.ClientException( 'Not empty', http_status=409) self.mock_con.get_container.return_value = ( {'name': container_name}, [{'name': 'test_object'}]) self.mock_con.put_container.assert_called_once_with( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.get_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.delete_container.side_effect = sc.ClientException( 'Conflict', http_status=409) self.mock_con.get_container.return_value = ( {'name': container_name}, []) self.mock_con.put_container.assert_called_once_with( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}) self.mock_con.delete_container.assert_called_once_with(container_name) self.mock_con.get_container.assert_called_once_with(container_name) self.mock_con.put_container.return_value = None self.mock_con.put_container.assert_called_once_with( utils.PhysName(stack.name, 'test_resource'), {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'})","from oslo_config import cfg self.m.CreateMock(sc.Connection) self.m.StubOutWithMock(sc.Connection, 'put_container') self.m.StubOutWithMock(sc.Connection, 'get_container') self.m.StubOutWithMock(sc.Connection, 'delete_container') self.m.StubOutWithMock(sc.Connection, 'get_auth') sc.Connection.put_container( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'} ).AndReturn(None) sc.Connection.get_auth().MultipleTimes().AndReturn( ('http://server.test:8080/v_2', None)) sc.Connection.delete_container(container_name).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( utils.PhysName(stack.name, 'test_resource'), {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': '.r:*'}).AndReturn(None) sc.Connection.delete_container( container_name).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( 'X-Container-Meta-S3-Tag-location': 'here'}).AndReturn(None) sc.Connection.delete_container( container_name).AndReturn(None) self.m.ReplayAll() rsrc = self.create_resource(t, stack, 'S3Bucket_with_tags') scheduler.TaskRunner(rsrc.delete)() self.m.VerifyAll() sc.Connection.put_container( container_name, {'X-Container-Write': '.r:*', 'X-Container-Read': '.r:*'}).AndReturn(None) sc.Connection.delete_container( container_name).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant'}).AndReturn(None) sc.Connection.delete_container(container_name).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( 'X-Container-Read': '.r:*'}).AndReturn(None) sc.Connection.delete_container(container_name).AndReturn(None) self.m.ReplayAll() rsrc = self.create_resource(t, stack, 'S3BucketWebsite') scheduler.TaskRunner(rsrc.delete)() self.m.VerifyAll() sc.Connection.put_container( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}).AndReturn(None) sc.Connection.delete_container(container_name).AndRaise( sc.ClientException('Test delete failure')) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}).AndReturn(None) sc.Connection.delete_container(container_name).AndRaise( sc.ClientException('Its gone', http_status=404)) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}).AndReturn(None) sc.Connection.delete_container(container_name).AndRaise( sc.ClientException('Not empty', http_status=409)) sc.Connection.get_container(container_name).AndReturn( ({'name': container_name}, [{'name': 'test_object'}])) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( container_name, {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}).AndReturn(None) sc.Connection.delete_container(container_name).AndRaise( sc.ClientException('Conflict', http_status=409)) sc.Connection.get_container(container_name).AndReturn( ({'name': container_name}, [])) self.m.ReplayAll() self.m.VerifyAll() sc.Connection.put_container( utils.PhysName(stack.name, 'test_resource'), {'X-Container-Write': 'test_tenant:test_username', 'X-Container-Read': 'test_tenant:test_username'}).AndReturn(None) self.m.ReplayAll() self.m.VerifyAll()",98,112
openstack%2Ftripleo-heat-templates~master~Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21,openstack/tripleo-heat-templates,master,Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21,undercloud: configure mtu when creating neutron network,ABANDONED,2018-03-14 19:50:44.000000000,2018-04-03 04:08:59.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-14 19:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/388e04ea729d71599723d615a95291258607fde6', 'message': 'undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\n\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n'}, {'number': 2, 'created': '2018-03-15 12:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b2865b3495d1073545c4f2619d1dac8a73e03d65', 'message': 'undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\n\nDepends-On: I93d23581c7e8c84eaf9bb3b293360036f60f456b\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n'}, {'number': 3, 'created': '2018-03-15 14:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b42d44dc3c9967b2b00b4aa0eea4592da278fe0d', 'message': 'undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\n\nDepends-On: I93d23581c7e8c84eaf9bb3b293360036f60f456b\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n'}, {'number': 4, 'created': '2018-03-15 22:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ea130e1d06a07291dc99b4c3a32647d7888d372', 'message': 'undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\n\nDepends-On: I93d23581c7e8c84eaf9bb3b293360036f60f456b\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n'}, {'number': 5, 'created': '2018-03-18 10:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c3c1fcb0612263ff45f820dee654b38c01699da', 'message': 'undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\n\nDepends-On: I93d23581c7e8c84eaf9bb3b293360036f60f456b\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n'}, {'number': 6, 'created': '2018-03-27 00:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d9db3ecf20787a556fb454a76f4edcb6fde2d18', 'message': ""undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\nNote: we'll force a minimum of 1000 and a max of 65536.\n\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n""}, {'number': 7, 'created': '2018-03-27 08:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8130ea2d7d3fa49703472b6d40057fb0a2a566f2', 'message': ""undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\nNote: we'll force a minimum of 1000 and a max of 65536.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n""}, {'number': 8, 'created': '2018-03-27 12:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/220c34aaec7cb1fd77d102818e18df26eafc4b00', 'message': ""undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\nNote: we'll force a minimum of 1000 and a max of 65536.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n""}, {'number': 9, 'created': '2018-03-27 15:05:13.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'net-config-undercloud.j2.yaml', 'extraconfig/post_deploy/undercloud_post.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/520bff0d8df4ffa33a07fad01027da25b01728c7', 'message': ""undercloud: configure mtu when creating neutron network\n\nMTU was configured on the interface but not in the neutron network:\nhttps://review.openstack.org/#/c/546213\n\nWe need to set the mtu at the neutron network level.\nNote: we'll force a minimum of 1000 and a max of 65536.\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21\n""}]",4,553026,520bff0d8df4ffa33a07fad01027da25b01728c7,53,10,9,3153,,,0,"undercloud: configure mtu when creating neutron network

MTU was configured on the interface but not in the neutron network:
https://review.openstack.org/#/c/546213

We need to set the mtu at the neutron network level.
Note: we'll force a minimum of 1000 and a max of 65536.

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: Iaecfabcb50a28ae94e9966facae5d4c2c96c4b21
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/553026/2 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_post.sh']",2,388e04ea729d71599723d615a95291258607fde6,mtu," NETWORK_ID=$(openstack network create --mtu=$mtu --provider-network-type=flat --provider-physical-network=ctlplane ctlplane | grep "" id "" | awk '{print $4}')"," NETWORK_ID=$(openstack network create --provider-network-type=flat --provider-physical-network=ctlplane ctlplane | grep "" id "" | awk '{print $4}')",7,1
openstack%2Fheat~master~I003c70ad251639921523b7fa1b453340a3faa233,openstack/heat,master,I003c70ad251639921523b7fa1b453340a3faa233,Remove mox from test_lifecycle_plugin_utils,MERGED,2018-03-22 10:49:48.000000000,2018-04-03 04:06:03.000000000,2018-04-03 04:06:02.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 10:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1ab302274854230a27b23ae0342c24001f3206a1', 'message': 'Remove mox from test_lifecycle_plugin_utils\n\nChange-Id: I003c70ad251639921523b7fa1b453340a3faa233\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/test_lifecycle_plugin_utils.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/83e2b4ad883a8c1c15e2e2d271b29f011c9185da', 'message': 'Remove mox from test_lifecycle_plugin_utils\n\nChange-Id: I003c70ad251639921523b7fa1b453340a3faa233\ngoal: mox-removal\n'}]",1,555247,83e2b4ad883a8c1c15e2e2d271b29f011c9185da,11,3,2,8833,,,0,"Remove mox from test_lifecycle_plugin_utils

Change-Id: I003c70ad251639921523b7fa1b453340a3faa233
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/47/555247/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_lifecycle_plugin_utils.py'],1,1ab302274854230a27b23ae0342c24001f3206a1,mox-removal," self.mock_get_plugins = self.patchobject( resources.global_env(), 'get_stack_lifecycle_plugins', return_value=lcp_mappings) self.mock_get_plugins.assert_called_once_with() self.mock_get_plugins.assert_called_once_with() self.mock_get_plugins.assert_called_once_with() self.mock_get_plugins.assert_called_once_with() self.mock_get_plugins.assert_called_once_with() self.mock_get_plugins.assert_called_once_with() self.mock_get_plugins.assert_called_once_with() self.mock_get_plugins.assert_called_once_with()"," self.m.UnsetStubs() self.m.StubOutWithMock(resources.global_env(), 'get_stack_lifecycle_plugins') resources.global_env().get_stack_lifecycle_plugins( ).MultipleTimes().AndReturn(lcp_mappings) self.m.ReplayAll() return return return return return ",11,16
openstack%2Fheat~master~I86b8661ea6a3c42016d930d2e75c3e6d8bd8a2da,openstack/heat,master,I86b8661ea6a3c42016d930d2e75c3e6d8bd8a2da,Remove mox from test_event,MERGED,2018-03-22 09:37:00.000000000,2018-04-03 04:06:01.000000000,2018-04-03 04:06:01.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 09:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/54fb9c3a6aed9ada3722a7898c73ddd11b0de1f0', 'message': 'Remove mox from test_event\n\nChange-Id: I86b8661ea6a3c42016d930d2e75c3e6d8bd8a2da\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/test_event.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/3e7a03542681302d91f913cf09506116d7d54671', 'message': 'Remove mox from test_event\n\nChange-Id: I86b8661ea6a3c42016d930d2e75c3e6d8bd8a2da\ngoal: mox-removal\n'}]",0,555217,3e7a03542681302d91f913cf09506116d7d54671,10,3,2,8833,,,0,"Remove mox from test_event

Change-Id: I86b8661ea6a3c42016d930d2e75c3e6d8bd8a2da
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/555217/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_event.py'],1,54fb9c3a6aed9ada3722a7898c73ddd11b0de1f0,mox-removal,, self.m.ReplayAll() ,0,2
openstack%2Fneutron-vpnaas~master~I2e691dfcc10ebc7e28d2c546b171006601ea17d5,openstack/neutron-vpnaas,master,I2e691dfcc10ebc7e28d2c546b171006601ea17d5,Fix patterns of unit test files in irrelevant-files,MERGED,2018-03-31 16:18:17.000000000,2018-04-03 04:01:13.000000000,2018-04-03 04:01:13.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 16:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/cc367d3ee316e4f43fede2da14f4a263be0f7f83', 'message': ""Fix patterns of unit test files in irrelevant-files\n\n'neutron_vpnaas' is the correct module name.\nPreviously it was 'neutron-vpnaas' and as a result tempest and\nfunctional tests are run unexpectedly.\n\nChange-Id: I2e691dfcc10ebc7e28d2c546b171006601ea17d5\n""}, {'number': 2, 'created': '2018-04-02 02:07:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/cbe0e150fccabe352f000d2ba9a6db0946e7ec49', 'message': ""Fix patterns of unit test files in irrelevant-files\n\n'neutron_vpnaas' is the correct module name.\nPreviously it was 'neutron-vpnaas' and as a result tempest and\nfunctional tests are run unexpectedly.\n\nChange-Id: I2e691dfcc10ebc7e28d2c546b171006601ea17d5\n""}]",0,558063,cbe0e150fccabe352f000d2ba9a6db0946e7ec49,12,4,2,841,,,0,"Fix patterns of unit test files in irrelevant-files

'neutron_vpnaas' is the correct module name.
Previously it was 'neutron-vpnaas' and as a result tempest and
functional tests are run unexpectedly.

Change-Id: I2e691dfcc10ebc7e28d2c546b171006601ea17d5
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/63/558063/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cc367d3ee316e4f43fede2da14f4a263be0f7f83,fix-irrelevant-files, - ^neutron_vpnaas/tests/unit/.*$ - ^neutron_vpnaas/tests/unit/.*$ - ^neutron_vpnaas/tests/unit/.*$, - ^neutron-vpnaas/tests/unit/.*$ - ^neutron-vpnaas/tests/unit/.*$ - ^neutron-vpnaas/tests/unit/.*$,3,3
openstack%2Fheat~master~Ibd50e07647137d48a949673de4455a01dd9a90a6,openstack/heat,master,Ibd50e07647137d48a949673de4455a01dd9a90a6,Remove mox from test_stack_user,MERGED,2018-03-21 05:54:57.000000000,2018-04-03 04:00:13.000000000,2018-04-03 04:00:12.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 05:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/af05a3a632399de955cc3ae10c6c5d4e63c52b3d', 'message': 'Remove mox from test_stack_user\n\ngoal: mox-removal\n\nChange-Id: Ibd50e07647137d48a949673de4455a01dd9a90a6\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/test_stack_user.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/cf3d1f18c3a9194974beda91c675065b8771ac62', 'message': 'Remove mox from test_stack_user\n\ngoal: mox-removal\n\nChange-Id: Ibd50e07647137d48a949673de4455a01dd9a90a6\n'}]",0,554799,cf3d1f18c3a9194974beda91c675065b8771ac62,10,3,2,8833,,,0,"Remove mox from test_stack_user

goal: mox-removal

Change-Id: Ibd50e07647137d48a949673de4455a01dd9a90a6
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/554799/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_stack_user.py'],1,af05a3a632399de955cc3ae10c6c5d4e63c52b3d,mox-removal,"import mock self.fc = mock.Mock(spec=fake_ks.FakeKeystoneClient) self.patchobject(stack_user.StackUser, 'keystone', return_value=self.fc) if create_project: self.fc.create_stack_domain_project.return_value = project_id mock_get_id = self.patchobject(short_id, 'get_id') mock_get_id.return_value = 'aabbcc' self.fc.create_stack_domain_user.return_value = user_id stack_name = 'stackuser_crnoprj' resource_name = 'user' project_id = 'aproject123' user_id = 'auser123' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.assertEqual({'user_id': user_id}, rs_data) self.fc.create_stack_domain_project.assert_called_once_with( self.stack.id) expected_username = '%s-%s-%s' % (stack_name, resource_name, 'aabbcc') self.fc.create_stack_domain_user.assert_called_once_with( password=None, project_id=project_id, username=expected_username) stack_name = 'stackuser_crexistprj' resource_name = 'user' project_id = 'aproject456' user_id = 'auser456' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id, self.assertEqual({'user_id': user_id}, rs_data) self.fc.create_stack_domain_project.assert_not_called() expected_username = '%s-%s-%s' % (stack_name, resource_name, 'aabbcc') self.fc.create_stack_domain_user.assert_called_once_with( password=None, project_id=project_id, username=expected_username) stack_name = 'stackuser_testdel' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.delete_stack_domain_user.return_value = None self.fc.delete_stack_domain_user.assert_called_once_with( user_id=user_id, project_id=project_id) stack_name = 'stackuser_testdel-notfound' project_id = 'aprojectdel2' user_id = 'auserdel2' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.delete_stack_domain_user.side_effect = kc_exceptions.NotFound() self.fc.delete_stack_domain_user.assert_called_once_with( user_id=user_id, project_id=project_id) stack_name = 'stackuser_testdel-noid' project_id = 'aprojectdel2' user_id = 'auserdel2' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.delete_stack_domain_user.assert_called_once_with( user_id=user_id, project_id=project_id) stack_name = 'stackuser_testsusp' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.disable_stack_domain_user.return_value = None self.fc.disable_stack_domain_user.assert_called_once_with( user_id=user_id, project_id=project_id) stack_name = 'stackuser_testsusp_lgcy' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.disable_stack_domain_user.side_effect = ValueError() self.fc.disable_stack_user.return_value = None self.fc.disable_stack_domain_user.assert_called_once_with( user_id=user_id, project_id=project_id) self.fc.disable_stack_user.assert_called_once_with(user_id=user_id) stack_name = 'stackuser_testresume' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.enable_stack_domain_user.return_value = None self.fc.enable_stack_domain_user.assert_called_once_with( project_id=project_id, user_id=user_id) stack_name = 'stackuser_testresume_lgcy' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.enable_stack_domain_user.side_effect = ValueError() self.fc.enable_stack_user.return_value = None self.fc.enable_stack_domain_user.assert_called_once_with( user_id=user_id, project_id=project_id) self.fc.enable_stack_user.assert_called_once_with(user_id=user_id) stack_name = 'stackuser_test_cr_keypair' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) creds = fake_ks.FakeKeystoneClient().creds self.fc.creds = creds self.fc.credential_id = creds.id self.fc.access = creds.access self.fc.secret = creds.secret self.fc.create_stack_domain_user_keypair.return_value = self.fc.creds self.fc.create_stack_domain_user_keypair.assert_called_once_with( project_id=project_id, user_id=user_id) stack_name = 'stackuser_test_cr_keypair-err' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.create_stack_domain_user_keypair.return_value = None self.fc.create_stack_domain_user_keypair.assert_called_once_with( project_id=project_id, user_id=user_id) stack_name = 'stackuser_testdel_keypair' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.delete_stack_domain_user_keypair.return_value = None self.assertEqual({'user_id': user_id}, rs_data) self.fc.delete_stack_domain_user_keypair.assert_called_once_with( credential_id='acredential', project_id=project_id, user_id=user_id) stack_name = 'stackuser_testdel_keypair_nocrdid' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.delete_stack_domain_user_keypair.assert_not_called() stack_name = 'stackuser_testdel_keypair_lgcy' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.delete_stack_domain_user_keypair.side_effect = ValueError() self.fc.delete_ec2_keypair.return_value = None self.assertEqual({'user_id': user_id}, rs_data) self.fc.delete_stack_domain_user_keypair.assert_called_once_with( credential_id='acredential', project_id=project_id, user_id=user_id) self.fc.delete_ec2_keypair.assert_called_once_with( credential_id='acredential', user_id=user_id) stack_name = 'stackuser_testdel_kpr_notfound' project_id = 'aprojectdel' user_id = 'auserdel' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.delete_stack_domain_user_keypair.return_value = None self.assertEqual({'user_id': user_id}, rs_data) self.fc.delete_stack_domain_user_keypair.assert_called_once_with( credential_id='acredential', project_id=project_id, user_id=user_id) stack_name = 'stackuser_testtoken' project_id = 'aproject123' user_id = 'aaabbcc' password = 'apassword' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id, password=password) self.fc.stack_domain_user_token.return_value = 'atoken123' rsrc.password = password self.fc.stack_domain_user_token.assert_called_once_with( password=password, project_id=project_id, user_id=user_id) stack_name = 'stackuser_testtoken_err_nopwd' project_id = 'aproject123' user_id = 'auser123' rsrc = self._user_create(stack_name=stack_name, project_id=project_id, user_id=user_id) self.fc.stack_domain_user_token.assert_not_called()"," self.fc = fake_ks.FakeKeystoneClient() self.m.StubOutWithMock(stack_user.StackUser, 'keystone') stack_user.StackUser.keystone().MultipleTimes().AndReturn(self.fc) if create_project: self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'create_stack_domain_project') fake_ks.FakeKeystoneClient.create_stack_domain_project( self.stack.id).AndReturn(project_id) self.m.StubOutWithMock(short_id, 'get_id') short_id.get_id(rsrc.uuid).MultipleTimes().AndReturn('aabbcc') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'create_stack_domain_user') expected_username = '%s-%s-%s' % (stack_name, resource_name, 'aabbcc') fake_ks.FakeKeystoneClient.create_stack_domain_user( username=expected_username, password=password, project_id=project_id).AndReturn(user_id) rsrc = self._user_create(stack_name='stackuser_crnoprj', project_id='aproject123', user_id='auser123') self.m.ReplayAll() self.assertEqual({'user_id': 'auser123'}, rs_data) self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_crexistprj', project_id='aproject456', user_id='auser456', self.m.ReplayAll() self.assertEqual({'user_id': 'auser456'}, rs_data) self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testdel', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'delete_stack_domain_user') fake_ks.FakeKeystoneClient.delete_stack_domain_user( user_id='auserdel', project_id='aprojectdel').AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testdel_notfound', project_id='aprojectdel2', user_id='auserdel2') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'delete_stack_domain_user') fake_ks.FakeKeystoneClient.delete_stack_domain_user( user_id='auserdel2', project_id='aprojectdel2').AndRaise( kc_exceptions.NotFound) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testdel_noid', project_id='aprojectdel2', user_id='auserdel2') self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testsusp', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'disable_stack_domain_user') fake_ks.FakeKeystoneClient.disable_stack_domain_user( user_id='auserdel', project_id='aprojectdel').AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testsusp_lgcy', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'disable_stack_domain_user') fake_ks.FakeKeystoneClient.disable_stack_domain_user( user_id='auserdel', project_id='aprojectdel').AndRaise(ValueError) self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'disable_stack_user') fake_ks.FakeKeystoneClient.disable_stack_user( user_id='auserdel').AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testresume', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'enable_stack_domain_user') fake_ks.FakeKeystoneClient.enable_stack_domain_user( user_id='auserdel', project_id='aprojectdel').AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testresume_lgcy', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'enable_stack_domain_user') fake_ks.FakeKeystoneClient.enable_stack_domain_user( user_id='auserdel', project_id='aprojectdel').AndRaise(ValueError) self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'enable_stack_user') fake_ks.FakeKeystoneClient.enable_stack_user( user_id='auserdel').AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_test_cr_keypair', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'create_stack_domain_user_keypair') fake_ks.FakeKeystoneClient.create_stack_domain_user_keypair( user_id='auserdel', project_id='aprojectdel').AndReturn( self.fc.creds) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_test_cr_keypair_err', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'create_stack_domain_user_keypair') fake_ks.FakeKeystoneClient.create_stack_domain_user_keypair( user_id='auserdel', project_id='aprojectdel').AndReturn(None) self.m.ReplayAll() self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testdel_keypair', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'delete_stack_domain_user_keypair') fake_ks.FakeKeystoneClient.delete_stack_domain_user_keypair( user_id='auserdel', project_id='aprojectdel', credential_id='acredential').AndReturn(None) self.m.ReplayAll() self.assertEqual({'user_id': 'auserdel'}, rs_data) self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_del_keypair_nocrdid', project_id='aprojectdel', user_id='auserdel') rsrc = self._user_create(stack_name='stackuser_testdel_keypair_lgcy', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'delete_stack_domain_user_keypair') fake_ks.FakeKeystoneClient.delete_stack_domain_user_keypair( user_id='auserdel', project_id='aprojectdel', credential_id='acredential').AndRaise(ValueError()) self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'delete_ec2_keypair') fake_ks.FakeKeystoneClient.delete_ec2_keypair( user_id='auserdel', credential_id='acredential').AndReturn(None) self.m.ReplayAll() self.assertEqual({'user_id': 'auserdel'}, rs_data) self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testdel_kpr_notfound', project_id='aprojectdel', user_id='auserdel') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'delete_stack_domain_user_keypair') fake_ks.FakeKeystoneClient.delete_stack_domain_user_keypair( user_id='auserdel', project_id='aprojectdel', credential_id='acredential').AndReturn(None) self.m.ReplayAll() self.assertEqual({'user_id': 'auserdel'}, rs_data) self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testtoken', project_id='aproject123', user_id='aabbcc', password='apassword') self.m.StubOutWithMock(fake_ks.FakeKeystoneClient, 'stack_domain_user_token') fake_ks.FakeKeystoneClient.stack_domain_user_token( user_id='aabbcc', project_id='aproject123', password='apassword').AndReturn('atoken123') self.m.ReplayAll() rsrc.password = 'apassword' self.m.VerifyAll() rsrc = self._user_create(stack_name='stackuser_testtoken_err_nopwd', project_id='aproject123', user_id='auser123') self.m.ReplayAll() self.m.VerifyAll()",186,182
openstack%2Fheat~master~I0bb2993c458e58fde26714f0a0af866bbeaa84dd,openstack/heat,master,I0bb2993c458e58fde26714f0a0af866bbeaa84dd,Remove mox from test_urlfetch,MERGED,2018-03-14 06:57:36.000000000,2018-04-03 03:56:25.000000000,2018-04-03 03:56:25.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 06:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/214865c4e2c29f33b5c2a019817a2ac7bc6572c8', 'message': 'Remove mox from test_urlfetch\n\nChange-Id: I0bb2993c458e58fde26714f0a0af866bbeaa84dd\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-04-03 03:31:29.000000000', 'files': ['heat/tests/test_urlfetch.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8741f2fffd36fa7a6bccc01244acebde71468a8d', 'message': 'Remove mox from test_urlfetch\n\nChange-Id: I0bb2993c458e58fde26714f0a0af866bbeaa84dd\ngoal: mox-removal\n'}]",1,552805,8741f2fffd36fa7a6bccc01244acebde71468a8d,12,4,2,8833,,,0,"Remove mox from test_urlfetch

Change-Id: I0bb2993c458e58fde26714f0a0af866bbeaa84dd
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/552805/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_urlfetch.py'],1,214865c4e2c29f33b5c2a019817a2ac7bc6572c8,mox-removal," mock_open = self.patchobject(six.moves.urllib.request, 'urlopen') mock_open.return_value = six.moves.cStringIO(data) mock_open.assert_called_once_with(url) mock_open = self.patchobject(six.moves.urllib.request, 'urlopen') mock_open.side_effect = six.moves.urllib.error.URLError('oops') mock_open.assert_called_once_with(url) mock_get = self.patchobject(requests, 'get') mock_get.return_value = response mock_get.assert_called_once_with(url, stream=True) mock_get = self.patchobject(requests, 'get') mock_get.return_value = response mock_get.assert_called_once_with(url, stream=True) mock_get = self.patchobject(requests, 'get') mock_get.side_effect = exceptions.HTTPError() mock_get.assert_called_once_with(url, stream=True) mock_get = self.patchobject(requests, 'get') mock_get.side_effect = exceptions.Timeout() mock_get.assert_called_once_with(url, stream=True) mock_get = self.patchobject(requests, 'get') mock_get.return_value = response mock_get.assert_called_once_with(url, stream=True) mock_get = self.patchobject(requests, 'get') mock_get.return_value = response mock_get.assert_called_once_with(url, stream=True)"," def setUp(self): super(UrlFetchTest, self).setUp() self.m.StubOutWithMock(requests, 'get') self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(six.moves.urllib.request, 'urlopen') six.moves.urllib.request.urlopen(url).AndReturn( six.moves.cStringIO(data)) self.m.ReplayAll() self.m.VerifyAll() self.m.StubOutWithMock(six.moves.urllib.request, 'urlopen') six.moves.urllib.request.urlopen(url).AndRaise( six.moves.urllib.error.URLError('oops')) self.m.ReplayAll() self.m.VerifyAll() requests.get(url, stream=True).AndReturn(response) self.m.ReplayAll() self.m.VerifyAll() requests.get(url, stream=True).AndReturn(response) self.m.ReplayAll() self.m.VerifyAll() requests.get(url, stream=True).AndRaise(exceptions.HTTPError()) self.m.ReplayAll() self.m.VerifyAll() requests.get(url, stream=True).AndRaise(exceptions.Timeout()) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() requests.get(url, stream=True).AndReturn(response) self.m.ReplayAll() self.m.VerifyAll() requests.get(url, stream=True).AndReturn(response) self.m.ReplayAll() self.m.VerifyAll()",24,43
openstack%2Fproject-config~master~Ib6bd97c8f647bcecc02362ad5b79484362e834c3,openstack/project-config,master,Ib6bd97c8f647bcecc02362ad5b79484362e834c3,Pause ubuntu-xenial-arm64 image builds,ABANDONED,2018-04-02 00:40:31.000000000,2018-04-03 02:34:25.000000000,,"[{'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 00:40:31.000000000', 'files': ['nodepool/nb03.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bdb85195baed5ab2cb06495715aa1dea550d3357', 'message': ""Pause ubuntu-xenial-arm64 image builds\n\nDue to a bug in tools/image_list.sh for devstack, we are trying to\ndownload arm64 images for 3.1 on stable branches. This won't work,\nsince arm64 builds of etcd don't exist.\n\nPause builds for now, until we can land a patchs for devstack.\n\nChange-Id: Ib6bd97c8f647bcecc02362ad5b79484362e834c3\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,558134,bdb85195baed5ab2cb06495715aa1dea550d3357,4,2,1,4162,,,0,"Pause ubuntu-xenial-arm64 image builds

Due to a bug in tools/image_list.sh for devstack, we are trying to
download arm64 images for 3.1 on stable branches. This won't work,
since arm64 builds of etcd don't exist.

Pause builds for now, until we can land a patchs for devstack.

Change-Id: Ib6bd97c8f647bcecc02362ad5b79484362e834c3
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/34/558134/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nb03.openstack.org.yaml'],1,bdb85195baed5ab2cb06495715aa1dea550d3357,, pause: true,,1,0
openstack%2Ffreezer-api~master~I5b3529de5d7385f522b54aa09f2cc06a11c20224,openstack/freezer-api,master,I5b3529de5d7385f522b54aa09f2cc06a11c20224,Remove empty files,MERGED,2018-02-22 10:59:07.000000000,2018-04-03 02:20:10.000000000,2018-04-03 02:20:10.000000000,"[{'_account_id': 13940}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22405}]","[{'number': 1, 'created': '2018-02-22 10:59:07.000000000', 'files': ['freezer_api/tests/unit/test_simpledict.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/79eb8e97412830d56731443bc7c94148c30edbf9', 'message': 'Remove empty files\n\nfreezer_api/tests/unit/test_simpledict.py\n\nis empty file. We probably should delete it.\n\nChange-Id: I5b3529de5d7385f522b54aa09f2cc06a11c20224\n'}]",0,546947,79eb8e97412830d56731443bc7c94148c30edbf9,8,4,1,19853,,,0,"Remove empty files

freezer_api/tests/unit/test_simpledict.py

is empty file. We probably should delete it.

Change-Id: I5b3529de5d7385f522b54aa09f2cc06a11c20224
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/47/546947/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/tests/unit/test_simpledict.py'],1,79eb8e97412830d56731443bc7c94148c30edbf9,,,,0,0
openstack%2Fsenlin~master~I0889020d7357840a23139262e3f43e1221840f66,openstack/senlin,master,I0889020d7357840a23139262e3f43e1221840f66,Use six module format ex message,MERGED,2018-03-29 10:19:42.000000000,2018-04-03 02:19:52.000000000,2018-04-03 02:19:52.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-29 10:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2cd3ce8b91fe300a64bfe8afdd03b5513da5cecf', 'message': 'Use six module format ex message\n\nChange-Id: I0889020d7357840a23139262e3f43e1221840f66\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 2, 'created': '2018-03-29 12:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b6fb1ac1b951a45c4f005e35b751ec5c2380e654', 'message': 'Use six module format ex message\n\nChange-Id: I0889020d7357840a23139262e3f43e1221840f66\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 3, 'created': '2018-03-30 01:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/1d5660165b0c4e3cad2da87b406dde851443ff1e', 'message': 'Use six module format ex message\n\nChange-Id: I0889020d7357840a23139262e3f43e1221840f66\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 4, 'created': '2018-03-30 07:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/4b2bcc144f87353f2e2aaa14023c69909995ace4', 'message': 'Use six module format ex message\n\nChange-Id: I0889020d7357840a23139262e3f43e1221840f66\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}, {'number': 5, 'created': '2018-03-30 07:33:58.000000000', 'files': ['contrib/vdu/vdu/server.py', 'senlin/profiles/os/heat/stack.py', 'senlin/profiles/os/nova/server.py', 'contrib/kubernetes/kube/master.py', 'senlin/engine/receivers/message.py', 'contrib/kubernetes/kube/worker.py', 'senlin/engine/receivers/base.py', 'senlin/engine/notifications/message.py', 'senlin/drivers/sdk.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/a91cf438c828390134d1dd2f4d32a90c7994839c', 'message': 'Use six module format ex message\n\nChange-Id: I0889020d7357840a23139262e3f43e1221840f66\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n'}]",4,557672,a91cf438c828390134d1dd2f4d32a90c7994839c,18,5,5,23517,,,0,"Use six module format ex message

Change-Id: I0889020d7357840a23139262e3f43e1221840f66
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/72/557672/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/vdu/vdu/server.py', 'senlin/api/common/util.py', 'senlin/profiles/os/heat/stack.py', 'senlin/profiles/os/nova/server.py', 'contrib/kubernetes/kube/worker.py', 'senlin/api/middleware/fault.py', 'contrib/kubernetes/kube/master.py', 'senlin/engine/receivers/message.py', 'senlin/engine/receivers/base.py', 'senlin/engine/notifications/message.py', 'senlin/api/common/wsgi.py', 'senlin/drivers/sdk.py']",12,2cd3ce8b91fe300a64bfe8afdd03b5513da5cecf,update_ex_msg, message = six.text_type(ex) message = six.text_type(ex), message = ex.message message = ex.message,31,19
openstack%2Fsenlin~master~I5a784459299b492c6fa36ff0f28a77b0e497ff4c,openstack/senlin,master,I5a784459299b492c6fa36ff0f28a77b0e497ff4c,Fix cluster node join or leave faild error,MERGED,2018-03-30 06:43:45.000000000,2018-04-03 02:19:51.000000000,2018-04-03 02:19:51.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23517}, {'_account_id': 25167}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-30 06:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/a20dc10d95859a41cdbeed39a8f3cd006e9c275d', 'message': ""Fix cluster node join or leave faild error\n\nThis patch fix node join or leave faild error.\n- Fix can't finish metadata operation(nova metadata\n  operation appear error), the node index value has\n  change error.\n- Add cluster node join or leave exception capture.\n- Remove node join faild execute rollback operation.\n\nChange-Id: I5a784459299b492c6fa36ff0f28a77b0e497ff4c\nCloses-Bug: #1760021\n""}, {'number': 2, 'created': '2018-03-31 00:22:23.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/tests/unit/engine/test_node.py', 'senlin/engine/node.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1d98beba8ea801c98d790c1182e192371385f268', 'message': ""Fix cluster node join or leave faild error\n\nThis patch fix node join or leave faild error.\n- Fix can't finish metadata operation(nova metadata\n  operation appear error), the node index value has\n  change error.\n- Add cluster node join or leave exception capture.\n- Remove node join faild execute rollback operation.\n\nChange-Id: I5a784459299b492c6fa36ff0f28a77b0e497ff4c\nCloses-Bug: #1760021\n""}]",7,557897,1d98beba8ea801c98d790c1182e192371385f268,16,6,2,23517,,,0,"Fix cluster node join or leave faild error

This patch fix node join or leave faild error.
- Fix can't finish metadata operation(nova metadata
  operation appear error), the node index value has
  change error.
- Add cluster node join or leave exception capture.
- Remove node join faild execute rollback operation.

Change-Id: I5a784459299b492c6fa36ff0f28a77b0e497ff4c
Closes-Bug: #1760021
",git fetch https://review.opendev.org/openstack/senlin refs/changes/97/557897/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/tests/unit/engine/test_node.py', 'senlin/engine/node.py']",4,a20dc10d95859a41cdbeed39a8f3cd006e9c275d,bug/1760021," try: res = pb.Profile.join_cluster(context, self, cluster_id) except exc.EResourceUpdate: return False if res: timestamp = timeutils.utcnow(True) db_node = no.Node.migrate(context, self.id, cluster_id, timestamp) self.cluster_id = cluster_id self.updated_at = timestamp self.index = db_node.index try: res = pb.Profile.leave_cluster(context, self) except exc.EResourceDeletion: return False"," timestamp = timeutils.utcnow(True) db_node = no.Node.migrate(context, self.id, cluster_id, timestamp) self.cluster_id = cluster_id self.updated_at = timestamp self.index = db_node.index res = pb.Profile.join_cluster(context, self, cluster_id) if res: # rollback no.Node.migrate(context, self.id, None, timestamp) self.cluster_id = '' self.updated_at = timestamp self.index = -1 return False res = pb.Profile.leave_cluster(context, self) else: return False",43,30
openstack%2Fdesignate-dashboard~master~Icee6f670c4acecde843f8bd53203ac043d80f360,openstack/designate-dashboard,master,Icee6f670c4acecde843f8bd53203ac043d80f360,Remove empty file,ABANDONED,2018-02-23 09:08:28.000000000,2018-04-03 01:58:50.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-23 09:08:28.000000000', 'files': ['designatedashboard/enabled/_1722_dns_reversedns_panel.py', 'designatedashboard/enabled/_1721_dns_zones_panel.py', 'designatedashboard/static/designatedashboard/designatedashboard.scss'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/5c64bacff1e8e7896c6a9cdbb4ef5c4eb219f8dd', 'message': 'Remove empty file\n\ndesignatedashboard/static/designatedashboard/designatedashboard.scss\nis empty file. We probably should delete it.\n\nChange-Id: Icee6f670c4acecde843f8bd53203ac043d80f360\n'}]",0,547331,5c64bacff1e8e7896c6a9cdbb4ef5c4eb219f8dd,5,3,1,19853,,,0,"Remove empty file

designatedashboard/static/designatedashboard/designatedashboard.scss
is empty file. We probably should delete it.

Change-Id: Icee6f670c4acecde843f8bd53203ac043d80f360
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/31/547331/1 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/enabled/_1722_dns_reversedns_panel.py', 'designatedashboard/enabled/_1721_dns_zones_panel.py', 'designatedashboard/static/designatedashboard/designatedashboard.scss']",3,5c64bacff1e8e7896c6a9cdbb4ef5c4eb219f8dd,,,,0,4
openstack%2Fzaqar~master~I5e5419d163dc841be6d9f30259625b9ddc983411,openstack/zaqar,master,I5e5419d163dc841be6d9f30259625b9ddc983411,Remove empty files,ABANDONED,2018-01-11 09:02:30.000000000,2018-04-03 01:58:18.000000000,,"[{'_account_id': 19853}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 28035}]","[{'number': 1, 'created': '2018-01-11 09:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d7126f95bc725fbb2360df179189c71bc01595f2', 'message': 'Remove empty files\n\nzaqar_upgradetests/post_test_hook.sh\nzaqar_upgradetests/pre_test_hook.sh\n\nare empty files. We probably should delete it.\n\nChange-Id: I5e5419d163dc841be6d9f30259625b9ddc983411\n'}, {'number': 2, 'created': '2018-01-15 03:26:17.000000000', 'files': ['zaqar_upgradetests/post_test_hook.sh', 'playbooks/legacy/grenade-devstack-zaqar-base/run.yaml', 'zaqar_upgradetests/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/82073b7437ad139798a3ee51e8f76023e477eca8', 'message': 'Remove empty files\n\nzaqar_upgradetests/post_test_hook.sh\nzaqar_upgradetests/pre_test_hook.sh\n\nare empty files. We probably should delete it.\n\nChange-Id: I5e5419d163dc841be6d9f30259625b9ddc983411\n'}]",0,532771,82073b7437ad139798a3ee51e8f76023e477eca8,10,4,2,19853,,,0,"Remove empty files

zaqar_upgradetests/post_test_hook.sh
zaqar_upgradetests/pre_test_hook.sh

are empty files. We probably should delete it.

Change-Id: I5e5419d163dc841be6d9f30259625b9ddc983411
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/71/532771/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar_upgradetests/post_test_hook.sh', 'zaqar_upgradetests/pre_test_hook.sh']",2,d7126f95bc725fbb2360df179189c71bc01595f2,,,,0,0
openstack%2Fpuppet-openstack_spec_helper~master~I593989c81dc5905cf66f4d516fb1b0d774cfd6eb,openstack/puppet-openstack_spec_helper,master,I593989c81dc5905cf66f4d516fb1b0d774cfd6eb,Support puppet 4.8 and latest for libraries unit test,MERGED,2018-03-23 07:43:35.000000000,2018-04-03 01:50:00.000000000,2018-04-03 01:50:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-23 07:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/89a06bc23683d1aca3582565657fcca2bbb26691', 'message': 'Revert ""Switch puppet vertion to 4.8 for unit test""\n\nThis reverts commit ace36b5ad9c94e19555acb7073c38bb332bd936f.\n\nChange-Id: I593989c81dc5905cf66f4d516fb1b0d774cfd6eb\n'}, {'number': 2, 'created': '2018-03-27 08:01:23.000000000', 'files': ['run_unit_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/42a08109c09fc4e4979103dacab9fd572d593c66', 'message': 'Support puppet 4.8 and latest for libraries unit test\n\nChange-Id: I593989c81dc5905cf66f4d516fb1b0d774cfd6eb\nDepends-On: https://review.openstack.org/#/c/556773/\n'}]",0,555681,42a08109c09fc4e4979103dacab9fd572d593c66,20,6,2,9414,,,0,"Support puppet 4.8 and latest for libraries unit test

Change-Id: I593989c81dc5905cf66f4d516fb1b0d774cfd6eb
Depends-On: https://review.openstack.org/#/c/556773/
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/81/555681/2 && git format-patch -1 --stdout FETCH_HEAD,['run_unit_tests.sh'],1,89a06bc23683d1aca3582565657fcca2bbb26691,add_unit_puppet_version,,"if [ ""4.8"" != ""latest"" ]; then export PUPPET_GEM_VERSION='~> 4.8.0' fi",0,3
openstack%2Fglance~master~I1f839704e564f26e4923853cf4b7915ec832beda,openstack/glance,master,I1f839704e564f26e4923853cf4b7915ec832beda,Imported Translations from Zanata,MERGED,2018-03-29 07:03:21.000000000,2018-04-03 01:48:30.000000000,2018-04-03 01:48:30.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 07:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9d2301e107af5697913bb6f26ca8fb3a97ce5422', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1f839704e564f26e4923853cf4b7915ec832beda\n'}, {'number': 2, 'created': '2018-03-30 07:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/cddcb69eeeee9e366b31bf5b81cde2f223fc62f7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1f839704e564f26e4923853cf4b7915ec832beda\n'}, {'number': 3, 'created': '2018-03-31 07:19:23.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po'], 'web_link': 'https://opendev.org/openstack/glance/commit/57adf38d79d6771b5e01e749edda243eea7073c6', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1f839704e564f26e4923853cf4b7915ec832beda\n'}]",0,557625,57adf38d79d6771b5e01e749edda243eea7073c6,12,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1f839704e564f26e4923853cf4b7915ec832beda
",git fetch https://review.opendev.org/openstack/glance refs/changes/25/557625/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'glance/locale/en_GB/LC_MESSAGES/glance.po']",2,9d2301e107af5697913bb6f26ca8fb3a97ce5422,zanata/translations,"""POT-Creation-Date: 2018-03-26 17:52+0000\n""""PO-Revision-Date: 2018-03-28 11:22+0000\n""""The non-default setting for this option misaligns Glance with other\n"" ""OpenStack services with respect to resource ownership. Further, surveys\n"" ""indicate that this option is not used by operators. The option will be\n"" ""removed early in the 'S' development cycle following the standard OpenStack\n"" ""deprecation policy. As the option is not in wide use, no migration path is\n"" ""proposed.\n"" msgstr """" ""\n"" ""The non-default setting for this option misaligns Glance with other\n"" ""OpenStack services with respect to resource ownership. Further, surveys\n"" ""indicate that this option is not used by operators. The option will be\n"" ""removed early in the 'S' development cycle following the standard OpenStack\n"" ""deprecation policy. As the option is not in wide use, no migration path is\n"" ""proposed.\n"" msgid """" ""\n""","""POT-Creation-Date: 2018-03-01 15:43+0000\n""""PO-Revision-Date: 2018-02-25 01:56+0000\n""",1323,6
openstack%2Fneutron~stable%2Fqueens~I755990324db445efd0ee0b8a9db1f4d7bfb58e26,openstack/neutron,stable/queens,I755990324db445efd0ee0b8a9db1f4d7bfb58e26,Fix l3-agent crash on routers without ha_state,MERGED,2018-03-28 17:48:07.000000000,2018-04-03 01:48:27.000000000,2018-04-03 01:48:27.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 17:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25e92ab8bad5cdcc5cd69874b6b007a27634d1ae', 'message': ""Fix l3-agent crash on routers without ha_state\n\nl3-agent checks the HA state of routers when a router is updated.\nTo ensure that the HA state is only checked on HA routers the following\ncheck is performed: `if router.get('ha') and not is_dvr_only_agent`.\nThis check should ensure that the check is only performed on\nDvrEdgeHaRouter and HaRouter objects.\n\nUnfortunately, there are cases where we have DvrEdgeRouter objects\nrunning on 'dvr_snat' agents. E.g. when deploying a loadbalancer with\nneutron-lbaas in a landscape with 6 network nodes and\nmax_l3_agents_per_router set to 3, it may happen that the loadbalancer\nis placed on a network node that does not have a DvrEdgeHaRouter running\non it. In such a case, neutron will deploy a DvrEdgeRouter object on the\nnetwork node to serve the loadbalancer, just like it would deploy a\nDvrEdgeRouter on a compute node when deploying a VM.\n\nUnder such circumstances each update to the router will lead to an\nAttributeError, because the DvrEdgeRouter object does not have the\nha_state attribute.\n\nThis patch circumvents the issue by doing an additional check on the\nrouter object to ensure that it actually has the ha_state attribute.\n\nChange-Id: I755990324db445efd0ee0b8a9db1f4d7bfb58e26\nCloses-Bug: #1755243\n""}, {'number': 2, 'created': '2018-03-30 17:55:09.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/da141f0859fe5d7e77cd8fbdd84b59e19ffc7d17', 'message': ""Fix l3-agent crash on routers without ha_state\n\nl3-agent checks the HA state of routers when a router is updated.\nTo ensure that the HA state is only checked on HA routers the following\ncheck is performed: `if router.get('ha') and not is_dvr_only_agent`.\nThis check should ensure that the check is only performed on\nDvrEdgeHaRouter and HaRouter objects.\n\nUnfortunately, there are cases where we have DvrEdgeRouter objects\nrunning on 'dvr_snat' agents. E.g. when deploying a loadbalancer with\nneutron-lbaas in a landscape with 6 network nodes and\nmax_l3_agents_per_router set to 3, it may happen that the loadbalancer\nis placed on a network node that does not have a DvrEdgeHaRouter running\non it. In such a case, neutron will deploy a DvrEdgeRouter object on the\nnetwork node to serve the loadbalancer, just like it would deploy a\nDvrEdgeRouter on a compute node when deploying a VM.\n\nUnder such circumstances each update to the router will lead to an\nAttributeError, because the DvrEdgeRouter object does not have the\nha_state attribute.\n\nThis patch circumvents the issue by doing an additional check on the\nrouter object to ensure that it actually has the ha_state attribute.\n\nCloses-Bug: #1755243\nChange-Id: I755990324db445efd0ee0b8a9db1f4d7bfb58e26\n(cherry picked from commit 8c2dae659a806fdc20331de4b8a917ec3ae0e6f6)\n""}]",1,557454,da141f0859fe5d7e77cd8fbdd84b59e19ffc7d17,22,7,2,7016,,,0,"Fix l3-agent crash on routers without ha_state

l3-agent checks the HA state of routers when a router is updated.
To ensure that the HA state is only checked on HA routers the following
check is performed: `if router.get('ha') and not is_dvr_only_agent`.
This check should ensure that the check is only performed on
DvrEdgeHaRouter and HaRouter objects.

Unfortunately, there are cases where we have DvrEdgeRouter objects
running on 'dvr_snat' agents. E.g. when deploying a loadbalancer with
neutron-lbaas in a landscape with 6 network nodes and
max_l3_agents_per_router set to 3, it may happen that the loadbalancer
is placed on a network node that does not have a DvrEdgeHaRouter running
on it. In such a case, neutron will deploy a DvrEdgeRouter object on the
network node to serve the loadbalancer, just like it would deploy a
DvrEdgeRouter on a compute node when deploying a VM.

Under such circumstances each update to the router will lead to an
AttributeError, because the DvrEdgeRouter object does not have the
ha_state attribute.

This patch circumvents the issue by doing an additional check on the
router object to ensure that it actually has the ha_state attribute.

Closes-Bug: #1755243
Change-Id: I755990324db445efd0ee0b8a9db1f4d7bfb58e26
(cherry picked from commit 8c2dae659a806fdc20331de4b8a917ec3ae0e6f6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/557454/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/unit/agent/l3/test_agent.py']",3,25e92ab8bad5cdcc5cd69874b6b007a27634d1ae,bug/1755243," with mock.patch.object(agent, 'check_ha_state_for_router') as chsfr: agent._process_router_if_compatible(router) self.assertIn(router['id'], agent.router_info) self.assertFalse(chsfr.called)"," agent._process_router_if_compatible(router) self.assertIn(router['id'], agent.router_info)",35,9
openstack%2Fswift~feature%2Fdeep~Id8b9d3b28cf52ebd7f0b2db03006b2b1ffd171d8,openstack/swift,feature/deep,Id8b9d3b28cf52ebd7f0b2db03006b2b1ffd171d8,Report sharding candidates in recon cache,MERGED,2018-03-27 14:42:44.000000000,2018-04-03 01:48:22.000000000,2018-04-03 01:48:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 14:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7cce70991bd7d4dfd89a527912286923e30e9571', 'message': 'Report sharding candidates in recon cache\n\nWhen dumping sharder stats to recon cache, include a list of containers\nthat need sharding. By default the list is imited to the top five containers,\nordered by object count.\n\nThe list is refreshed each time recon cache is written; entries in the list\nare not sticky.\n\nChange-Id: Id8b9d3b28cf52ebd7f0b2db03006b2b1ffd171d8\n'}, {'number': 2, 'created': '2018-03-27 17:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7c989aab95179b10142bab112540eecb65298252', 'message': 'Report sharding candidates in recon cache\n\nWhen dumping sharder stats to recon cache, include a list of\ncontainers that need sharding. By default the list is limited to the\ntop five containers, ordered by object count.\n\nThe list is refreshed each time recon cache is written; entries in the\nlist are not sticky.\n\nChange-Id: Id8b9d3b28cf52ebd7f0b2db03006b2b1ffd171d8\n'}, {'number': 3, 'created': '2018-04-02 16:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5528e16d6a74b49945fa423d34afb28a3eee76ab', 'message': 'Report sharding candidates in recon cache\n\nWhen dumping sharder stats to recon cache, include a list of\ncontainers that need sharding. By default the list is limited to the\ntop five containers, ordered by object count.\n\nThe list is refreshed each time recon cache is written; entries in the\nlist are not sticky.\n\nChange-Id: Id8b9d3b28cf52ebd7f0b2db03006b2b1ffd171d8\n'}, {'number': 4, 'created': '2018-04-02 16:44:36.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/94dcf2165bd5271c8457dfb12625a3a411a9a3ef', 'message': 'Report sharding candidates in recon cache\n\nWhen dumping sharder stats to recon cache, include a list of\ncontainers that need sharding. By default the list is limited to the\ntop five containers, ordered by object count.\n\nThe list is refreshed each time recon cache is written; entries in the\nlist are not sticky.\n\nChange-Id: Id8b9d3b28cf52ebd7f0b2db03006b2b1ffd171d8\n'}]",3,556871,94dcf2165bd5271c8457dfb12625a3a411a9a3ef,11,2,4,7847,,,0,"Report sharding candidates in recon cache

When dumping sharder stats to recon cache, include a list of
containers that need sharding. By default the list is limited to the
top five containers, ordered by object count.

The list is refreshed each time recon cache is written; entries in the
list are not sticky.

Change-Id: Id8b9d3b28cf52ebd7f0b2db03006b2b1ffd171d8
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/556871/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/common/test_utils.py']",4,7cce70991bd7d4dfd89a527912286923e30e9571,p-sharding-recon-candidates," # nested dict items are not sticky submit_dict = {'key1': {'key2': {'value3': 3}}} expect_dict = {'key0': 101, 'key1': {'key2': {'value3': 3}, 'value1': 1, 'value2': 2}} utils.dump_recon_cache(submit_dict, testcache_file, logger) with open(testcache_file) as fd: file_dict = json.loads(fd.readline()) self.assertEqual(expect_dict, file_dict)",,214,4
openstack%2Fswift~feature%2Fdeep~I84b09c1a0820ec68bfb1a60f7d249bd3c2404e31,openstack/swift,feature/deep,I84b09c1a0820ec68bfb1a60f7d249bd3c2404e31,Add test for _replicate_object(),MERGED,2018-03-27 22:48:36.000000000,2018-04-03 01:48:19.000000000,2018-04-03 01:48:18.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 22:48:36.000000000', 'files': ['test/unit/common/test_db_replicator.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3d9c635fff35f457bd9f64d454c72db0c29804d8', 'message': 'Add test for _replicate_object()\n\nAlso, drive-by fix to use count rather than sum to count\nnumber of successful responses.\n\nRelated-Change: I1653ed69c51c9789e2ef19fae762a96a63139766\n\nChange-Id: I84b09c1a0820ec68bfb1a60f7d249bd3c2404e31\n'}]",1,557087,3d9c635fff35f457bd9f64d454c72db0c29804d8,7,3,1,7847,,,0,"Add test for _replicate_object()

Also, drive-by fix to use count rather than sum to count
number of successful responses.

Related-Change: I1653ed69c51c9789e2ef19fae762a96a63139766

Change-Id: I84b09c1a0820ec68bfb1a60f7d249bd3c2404e31
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/557087/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_db_replicator.py', 'swift/container/sharder.py']",2,3d9c635fff35f457bd9f64d454c72db0c29804d8,553337, quorum = quorum_size(self.ring.replica_count) if not success and responses.count(True) < quorum:, if (not success and sum(responses) < quorum_size(self.ring.replica_count)):,91,6
openstack%2Fswift~feature%2Fdeep~I49b546f55a2653664b8e3f2163d96ef9cab98db6,openstack/swift,feature/deep,I49b546f55a2653664b8e3f2163d96ef9cab98db6,Return an indication of success from _misplaced_objects,MERGED,2018-03-28 14:09:37.000000000,2018-04-03 01:48:16.000000000,2018-04-03 01:48:16.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 14:09:37.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9d06f17dba2c1fed69663da06c4b66cf1753fbdf', 'message': 'Return an indication of success from _misplaced_objects\n\n...and rename the method to _move_misplaced_objects() to make it\nconsistent with the other main sharding functions whose names start\nwith a verb.\n\nAlso add some stats for number of objects placed (or not).\n\nChange-Id: I49b546f55a2653664b8e3f2163d96ef9cab98db6\n'}]",0,557345,9d06f17dba2c1fed69663da06c4b66cf1753fbdf,6,2,1,7847,,,0,"Return an indication of success from _misplaced_objects

...and rename the method to _move_misplaced_objects() to make it
consistent with the other main sharding functions whose names start
with a verb.

Also add some stats for number of objects placed (or not).

Change-Id: I49b546f55a2653664b8e3f2163d96ef9cab98db6
",git fetch https://review.opendev.org/openstack/swift refs/changes/45/557345/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,9d06f17dba2c1fed69663da06c4b66cf1753fbdf,," quorum = quorum_size(self.ring.replica_count) if not success and responses.count(True) < quorum: def _move_objects(self, broker, src_shard_range, policy_index, dest_shard_ranges): brokers = {} # map shard range -> broker success = True success &= self._replicate_and_delete( broker, policy_index, dest_shard_range, **dest_args) self._increment_stat('misplaced', 'placed', step=placed) self._increment_stat('misplaced', 'unplaced', step=unplaced) return success, placed + unplaced def _move_misplaced_objects(self, broker): :return: True if all misplaced objects were sufficiently replicated to their correct shard containers, False otherwise return True return True return True success = True num_found = 0 for query in queries: part_success, part_num_found = self._move_objects( success &= part_success num_found += part_num_found if num_found: self._increment_stat('misplaced', 'success' if success else 'failure') return success self._move_misplaced_objects(broker)"," if (not success and responses.count(True) < quorum_size(self.ring.replica_count)): def _move_misplaced_objects(self, broker, src_shard_range, policy_index, dest_shard_ranges): # map shard range -> broker brokers = {} if not brokers: return False self._replicate_and_delete(broker, policy_index, dest_shard_range, **dest_args) return True def _misplaced_objects(self, broker): return return return misplaced_items = False for query in queries: misplaced_items |= self._move_misplaced_objects( if misplaced_items: self._increment_stat('misplaced', 'success') self._misplaced_objects(broker)",103,69
openstack%2Fswift~master~If6dc7b003e18ab4e8a5ed687c965025ebd417dfa,openstack/swift,master,If6dc7b003e18ab4e8a5ed687c965025ebd417dfa,Remove object replicator's lockup detector/mitigator.,MERGED,2018-03-13 18:47:02.000000000,2018-04-03 01:48:12.000000000,2018-04-03 01:48:12.000000000,"[{'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 18:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5e8f1b3dc98e983c0bbd46a044c33da40304d482', 'message': ""Remove object replicator's lockup detector/mitigator.\n\nSometimes, an rsync process just won't die. You can send SIGKILL, but\nit isn't very effective. This is sometimes seen due to attempted I/O\non a failing disk; with some disks, an rsync process won't die until\nLinux finishes the current I/O operation (whether success or failure),\nbut the disk can't succeed and will retry forever instead of\nfailing. The net effect is an unkillable rsync process.\n\nThe replicator was dealing with this by sending SIGKILL to any rsync\nthat ran too long, then calling waitpid() in a loop[1] until the rsync\ndied so it could reap the child process. This worked pretty well\nunless it met an unkillable rsync; in that case, one greenthread would\nend up blocked for a very long time. Since the replicator's main loop\nworks by (a) gathering all replication jobs, (b) performing them in\nparallel with some limited concurrency, then (c) waiting for all jobs\nto complete, an unkillable rsync would block the entire replicator.\n\nThere was an attempt to address this by adding a lockup detector: if\nthe replicator failed to complete any replication cycle in N seconds\n[2], all greenthreads except the main one would be terminated and the\nreplication cycle restarted. It works okay, but only handles total\nfailure. If you have 20 greenthreads working and 19 of them are\nblocked on unkillable rsyncs, then as long as the 20th greenthread\nmanages to replicate at least one partition every N seconds, the\nreplicator will just keep limping along.\n\nThis commit removes the lockup detector. Instead, when a replicator\ngreenthread happens upon an rsync that doesn't die promptly after\nreceiving SIGKILL, the process handle is sent to a background\ngreenthread; that background greenthread simply waits for those rsync\nprocesses to finally die and reaps them. This lets the replicator make\nbetter progress in the presence of unkillable rsyncs.\n\n[1] It's a call to subprocess.Popen.wait(); the looping and sleeping\nhappens in eventlet.\n\n[2] The default is 1800 seconds = 30 minutes, but the value is\nconfigurable.\n\nChange-Id: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa\n""}, {'number': 2, 'created': '2018-03-14 23:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f2a74f97198a1948a9411ad99caab8730302198b', 'message': ""Remove object replicator's lockup detector/mitigator.\n\nSometimes, an rsync process just won't die. You can send SIGKILL, but\nit isn't very effective. This is sometimes seen due to attempted I/O\non a failing disk; with some disks, an rsync process won't die until\nLinux finishes the current I/O operation (whether success or failure),\nbut the disk can't succeed and will retry forever instead of\nfailing. The net effect is an unkillable rsync process.\n\nThe replicator was dealing with this by sending SIGKILL to any rsync\nthat ran too long, then calling waitpid() in a loop[1] until the rsync\ndied so it could reap the child process. This worked pretty well\nunless it met an unkillable rsync; in that case, one greenthread would\nend up blocked for a very long time. Since the replicator's main loop\nworks by (a) gathering all replication jobs, (b) performing them in\nparallel with some limited concurrency, then (c) waiting for all jobs\nto complete, an unkillable rsync would block the entire replicator.\n\nThere was an attempt to address this by adding a lockup detector: if\nthe replicator failed to complete any replication cycle in N seconds\n[2], all greenthreads except the main one would be terminated and the\nreplication cycle restarted. It works okay, but only handles total\nfailure. If you have 20 greenthreads working and 19 of them are\nblocked on unkillable rsyncs, then as long as the 20th greenthread\nmanages to replicate at least one partition every N seconds, the\nreplicator will just keep limping along.\n\nThis commit removes the lockup detector. Instead, when a replicator\ngreenthread happens upon an rsync that doesn't die promptly after\nreceiving SIGKILL, the process handle is sent to a background\ngreenthread; that background greenthread simply waits for those rsync\nprocesses to finally die and reaps them. This lets the replicator make\nbetter progress in the presence of unkillable rsyncs.\n\n[1] It's a call to subprocess.Popen.wait(); the looping and sleeping\nhappens in eventlet.\n\n[2] The default is 1800 seconds = 30 minutes, but the value is\nconfigurable.\n\nChange-Id: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa\n""}, {'number': 3, 'created': '2018-03-23 01:10:34.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/ecf8ae50e14db146f9368cda73a265a92663ef03', 'message': ""Remove object replicator's lockup detector/mitigator.\n\nSometimes, an rsync process just won't die. You can send SIGKILL, but\nit isn't very effective. This is sometimes seen due to attempted I/O\non a failing disk; with some disks, an rsync process won't die until\nLinux finishes the current I/O operation (whether success or failure),\nbut the disk can't succeed and will retry forever instead of\nfailing. The net effect is an unkillable rsync process.\n\nThe replicator was dealing with this by sending SIGKILL to any rsync\nthat ran too long, then calling waitpid() in a loop[1] until the rsync\ndied so it could reap the child process. This worked pretty well\nunless it met an unkillable rsync; in that case, one greenthread would\nend up blocked for a very long time. Since the replicator's main loop\nworks by (a) gathering all replication jobs, (b) performing them in\nparallel with some limited concurrency, then (c) waiting for all jobs\nto complete, an unkillable rsync would block the entire replicator.\n\nThere was an attempt to address this by adding a lockup detector: if\nthe replicator failed to complete any replication cycle in N seconds\n[2], all greenthreads except the main one would be terminated and the\nreplication cycle restarted. It works okay, but only handles total\nfailure. If you have 20 greenthreads working and 19 of them are\nblocked on unkillable rsyncs, then as long as the 20th greenthread\nmanages to replicate at least one partition every N seconds, the\nreplicator will just keep limping along.\n\nThis commit removes the lockup detector. Instead, when a replicator\ngreenthread happens upon an rsync that doesn't die promptly after\nreceiving SIGKILL, the process handle is sent to a background\ngreenthread; that background greenthread simply waits for those rsync\nprocesses to finally die and reaps them. This lets the replicator make\nbetter progress in the presence of unkillable rsyncs.\n\n[1] It's a call to subprocess.Popen.wait(); the looping and sleeping\nhappens in eventlet.\n\n[2] The default is 1800 seconds = 30 minutes, but the value is\nconfigurable.\n\nChange-Id: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa\n""}]",31,552659,ecf8ae50e14db146f9368cda73a265a92663ef03,16,4,3,2622,,,0,"Remove object replicator's lockup detector/mitigator.

Sometimes, an rsync process just won't die. You can send SIGKILL, but
it isn't very effective. This is sometimes seen due to attempted I/O
on a failing disk; with some disks, an rsync process won't die until
Linux finishes the current I/O operation (whether success or failure),
but the disk can't succeed and will retry forever instead of
failing. The net effect is an unkillable rsync process.

The replicator was dealing with this by sending SIGKILL to any rsync
that ran too long, then calling waitpid() in a loop[1] until the rsync
died so it could reap the child process. This worked pretty well
unless it met an unkillable rsync; in that case, one greenthread would
end up blocked for a very long time. Since the replicator's main loop
works by (a) gathering all replication jobs, (b) performing them in
parallel with some limited concurrency, then (c) waiting for all jobs
to complete, an unkillable rsync would block the entire replicator.

There was an attempt to address this by adding a lockup detector: if
the replicator failed to complete any replication cycle in N seconds
[2], all greenthreads except the main one would be terminated and the
replication cycle restarted. It works okay, but only handles total
failure. If you have 20 greenthreads working and 19 of them are
blocked on unkillable rsyncs, then as long as the 20th greenthread
manages to replicate at least one partition every N seconds, the
replicator will just keep limping along.

This commit removes the lockup detector. Instead, when a replicator
greenthread happens upon an rsync that doesn't die promptly after
receiving SIGKILL, the process handle is sent to a background
greenthread; that background greenthread simply waits for those rsync
processes to finally die and reaps them. This lets the replicator make
better progress in the presence of unkillable rsyncs.

[1] It's a call to subprocess.Popen.wait(); the looping and sleeping
happens in eventlet.

[2] The default is 1800 seconds = 30 minutes, but the value is
configurable.

Change-Id: If6dc7b003e18ab4e8a5ed687c965025ebd417dfa
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/552659/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py']",2,5e8f1b3dc98e983c0bbd46a044c33da40304d482,repl-cleanup," mocked_http_conn, mock_check_drive, skip_if_no_xattrs) def wait(self, timeout=None): # Sleep so we trip the rsync timeout"," mocked_http_conn, mock_check_drive, skip_if_no_xattrs, SkipTest) def wait(self): # Sleep so we trip either the lockup detector or the rsync timeout def test_replicate_lockup_detector(self): raise SkipTest(""this is not a reliable test and must be fixed"") cur_part = '0' df = self.df_mgr.get_diskfile('sda', cur_part, 'a', 'c', 'o', policy=POLICIES[0]) mkdirs(df._datadir) f = open(os.path.join(df._datadir, normalize_timestamp(time.time()) + '.data'), 'wb') f.write('1234567890') f.close() mock_procs = [] def new_mock(*a, **kw): proc = MockHungProcess() mock_procs.append(proc) return proc with mock.patch('swift.obj.replicator.http_connect', mock_http_connect(200)), \ mock.patch.object(self.replicator, 'lockup_timeout', 0.01), \ mock.patch('eventlet.green.subprocess.Popen', new_mock): self.replicator.replicate() for proc in mock_procs: self.assertEqual(proc._calls, [ ('wait', 'running'), ('terminate', 'running'), ('wait', 'terminating'), ]) self.assertEqual(len(mock_procs), 1) ",62,80
openstack%2Fnova~master~I97215e94efdd8c05045872fb9ba7d2089dc6efb8,openstack/nova,master,I97215e94efdd8c05045872fb9ba7d2089dc6efb8,doc: Upgrade placement first,MERGED,2018-03-26 19:42:29.000000000,2018-04-03 01:47:58.000000000,2018-04-03 01:47:58.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-26 19:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d457321eebebeabe54f0b1bb10fe2bc9471f15b', 'message': ""doc: Upgrade placement first\n\nIt has long been *recommended* that the placement service be upgraded\nbefore nova services, but scenarios where it isn't have never really\nbeen explored or tested.  Following (yet another) discussion on the\ntopic [1] it was decided that we are best served by *requiring* that\nplacement be updated first.  This simplifies our test/support matrix,\nthe code we write to consume placement, the operator experience, etc.\n\nThis change set rewords the upgrade document accordingly.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2018-03-26.log.html#t2018-03-26T17:35:11\n\nChange-Id: I97215e94efdd8c05045872fb9ba7d2089dc6efb8\n""}, {'number': 2, 'created': '2018-03-26 21:10:06.000000000', 'files': ['doc/source/user/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/7f1b338bce8f761de7d02e5dbd9f836ba9d5e50e', 'message': ""doc: Upgrade placement first\n\nIt has long been *recommended* that the placement service be upgraded\nbefore nova services, but scenarios where it isn't have never really\nbeen explored or tested.  Following (yet another) discussion on the\ntopic [1] it was decided that we are best served by *requiring* that\nplacement be updated first.  This simplifies our test/support matrix,\nand the code we write to consume placement.  It also makes the operator\nexperience cleaner by giving them a clear and unambiguous script to\nfollow.\n\nThis change set rewords the upgrade document accordingly.\n\n[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2018-03-26.log.html#t2018-03-26T17:35:11\n\nChange-Id: I97215e94efdd8c05045872fb9ba7d2089dc6efb8\n""}]",7,556631,7f1b338bce8f761de7d02e5dbd9f836ba9d5e50e,25,16,2,14070,,,0,"doc: Upgrade placement first

It has long been *recommended* that the placement service be upgraded
before nova services, but scenarios where it isn't have never really
been explored or tested.  Following (yet another) discussion on the
topic [1] it was decided that we are best served by *requiring* that
placement be updated first.  This simplifies our test/support matrix,
and the code we write to consume placement.  It also makes the operator
experience cleaner by giving them a clear and unambiguous script to
follow.

This change set rewords the upgrade document accordingly.

[1] http://eavesdrop.openstack.org/irclogs/%23openstack-nova/%23openstack-nova.2018-03-26.log.html#t2018-03-26T17:35:11

Change-Id: I97215e94efdd8c05045872fb9ba7d2089dc6efb8
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/556631/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/upgrade.rst'],1,7d457321eebebeabe54f0b1bb10fe2bc9471f15b,upgrade-placement-first-dammit, * Several nova services rely on the external placement service being at the latest level. It is therefore mandatory to upgrade placement before any nova services. See the," * Several nova services rely on the external placement service, and while efforts are made for the nova code to work with older versions of the placement API, it is generally best to upgrade placement before any nova services. See the",3,4
openstack%2Fdevstack~stable%2Fqueens~I61656cbd71173b1904c7fe70af91b3873acc4d50,openstack/devstack,stable/queens,I61656cbd71173b1904c7fe70af91b3873acc4d50,Only cache ETCD tarballs for amd64.,MERGED,2018-04-02 00:49:24.000000000,2018-04-03 01:47:51.000000000,2018-04-03 01:47:51.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 00:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/51c965ba2fc750f461ef29856ab31a2876014e48', 'message': 'Only cache ETCD tarballs for amd64.\n\nMultiarch versions of ETCD only exist for v3.2.x, this means when we\ntry to cache etcd-v3.1.10-linux-arm64.tar.gz for nodepool-builder, we\nare not able to find it.  Breaking our image builds.\n\nChange-Id: I61656cbd71173b1904c7fe70af91b3873acc4d50\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2018-04-02 16:22:18.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b543369a25a9c8d530bb4ee2a10d9e6c67953afc', 'message': 'Only cache ETCD tarballs for amd64.\n\nMultiarch versions of ETCD only exist for v3.2.x, this means when we\ntry to cache etcd-v3.1.10-linux-arm64.tar.gz for nodepool-builder, we\nare not able to find it.  Breaking our image builds.\n\nChange-Id: I61656cbd71173b1904c7fe70af91b3873acc4d50\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",2,558136,b543369a25a9c8d530bb4ee2a10d9e6c67953afc,18,8,2,4162,,,0,"Only cache ETCD tarballs for amd64.

Multiarch versions of ETCD only exist for v3.2.x, this means when we
try to cache etcd-v3.1.10-linux-arm64.tar.gz for nodepool-builder, we
are not able to find it.  Breaking our image builds.

Change-Id: I61656cbd71173b1904c7fe70af91b3873acc4d50
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/558136/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,51c965ba2fc750f461ef29856ab31a2876014e48,558136,"if is_arch ""amd64""; then # NOTE(pabelanger): Only v3.2.x of ETCD has support for multiarch. This # means on stable branches our version is too old to try and cache and will # 404 DIBs for nodpeool. EXTRA_CACHE_URLS+="",$ETCD_DOWNLOAD_LOCATION"" fi","EXTRA_CACHE_URLS+="",$ETCD_DOWNLOAD_LOCATION""",6,1
openstack%2Fneutron~master~I02cdbe40fddb220623e341b94edb3d8c96099581,openstack/neutron,master,I02cdbe40fddb220623e341b94edb3d8c96099581,Have LB agent use ip_lib.ensure_device_is_ready(),MERGED,2018-03-16 15:28:02.000000000,2018-04-03 01:47:49.000000000,2018-04-03 01:47:48.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-16 15:28:02.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4f68ff211d0ebeba0355539ef01e7c00b178aa6', 'message': 'Have LB agent use ip_lib.ensure_device_is_ready()\n\nThe linuxbridge agent was using its own version of\nensure_device_is_ready() called _bridge_exists_and_ensure_up(),\njust use the one in ip_lib since it does an additional MAC\naddress check.\n\nTrivialfix\n\nChange-Id: I02cdbe40fddb220623e341b94edb3d8c96099581\n'}]",0,553824,b4f68ff211d0ebeba0355539ef01e7c00b178aa6,22,8,1,1131,,,0,"Have LB agent use ip_lib.ensure_device_is_ready()

The linuxbridge agent was using its own version of
ensure_device_is_ready() called _bridge_exists_and_ensure_up(),
just use the one in ip_lib since it does an additional MAC
address check.

Trivialfix

Change-Id: I02cdbe40fddb220623e341b94edb3d8c96099581
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/553824/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py']",2,b4f68ff211d0ebeba0355539ef01e7c00b178aa6,lb-use-ensure," with mock.patch.object(ip_lib, 'ensure_device_is_ready') as de_fn,\"," def test_bridge_exists_and_ensure_up(self): ip_lib_mock = mock.Mock() with mock.patch.object(ip_lib, 'IPDevice', return_value=ip_lib_mock): # device exists self.assertTrue(self.lbm._bridge_exists_and_ensure_up(""br0"")) self.assertTrue(ip_lib_mock.link.set_up.called) # device doesn't exists ip_lib_mock.link.set_up.side_effect = RuntimeError self.assertFalse(self.lbm._bridge_exists_and_ensure_up(""br0"")) with mock.patch.object(self.lbm, '_bridge_exists_and_ensure_up') as de_fn,\",4,25
openstack%2Fkolla-ansible~master~Ica12240440d28f930b917d5d6202f4f9e6675b2a,openstack/kolla-ansible,master,Ica12240440d28f930b917d5d6202f4f9e6675b2a,Make it possible to not haproxy memcached,MERGED,2018-03-27 17:03:51.000000000,2018-04-03 01:33:25.000000000,2018-04-03 01:33:24.000000000,"[{'_account_id': 1297}, {'_account_id': 7488}, {'_account_id': 9414}, {'_account_id': 10962}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26556}, {'_account_id': 27558}, {'_account_id': 27609}]","[{'number': 1, 'created': '2018-03-27 17:03:51.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e82fb956035a5a6a766f09ac8ea2a84841fac701', 'message': 'Make it possible to not haproxy memcached\n\nClients usually have sophisticated logic for handling\nkey redistribution on node failure; so going under the\ncovers and messing with that is bad (because then the\nclients and their sophisticated logic is unaware of\nwhat is going on).\n\nChange-Id: Ica12240440d28f930b917d5d6202f4f9e6675b2a\n'}]",1,556978,e82fb956035a5a6a766f09ac8ea2a84841fac701,20,13,1,1297,,,0,"Make it possible to not haproxy memcached

Clients usually have sophisticated logic for handling
key redistribution on node failure; so going under the
covers and messing with that is bad (because then the
clients and their sophisticated logic is unaware of
what is going on).

Change-Id: Ica12240440d28f930b917d5d6202f4f9e6675b2a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/78/556978/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/haproxy/templates/haproxy.cfg.j2', 'ansible/group_vars/all.yml']",2,e82fb956035a5a6a766f09ac8ea2a84841fac701,,"# Most memcache clients handle load-balancing via client side # hashing (consistent or not) logic, so going under the covers and messing # with things that the clients are not aware of is general wrong (but this # keeps the default as is...) enable_haproxy_memcached: ""yes"" ",,7,1
openstack%2Fpython-senlinclient~master~I3b2c26929c394a877f5e3631a3807320ab55bde6,openstack/python-senlinclient,master,I3b2c26929c394a877f5e3631a3807320ab55bde6,Fix docs cli authorize environment variables,MERGED,2018-03-21 01:17:30.000000000,2018-04-03 01:30:04.000000000,2018-04-03 01:30:04.000000000,"[{'_account_id': 8246}, {'_account_id': 21690}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23517}, {'_account_id': 27224}, {'_account_id': 27552}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-21 01:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/c757dd44ce864efbdf45c75f27d90b2e56f1480d', 'message': ""Fix docs cli index.rst file\n\n1. OpenStack is deprecating 'tenant'. Use 'project' instead:\n   export OS_PROJECT_NAME=myproject\n2. If it is Keystone v3, we need to set these parameters as well:\n   export OS_USER_DOMAIN_ID=default and export OS_PROJECT_DOMAIN_ID=default\n\nChange-Id: I3b2c26929c394a877f5e3631a3807320ab55bde6\n""}, {'number': 2, 'created': '2018-03-21 02:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/4e861a8ff7caa690d19b37dbaf94fa125c30caf1', 'message': ""Fix docs cli index.rst file\n\n1. OpenStack is deprecating 'tenant'. Use 'project' instead:\n   export OS_PROJECT_NAME=myproject\n2. If it is Keystone v3, we need to set these parameters as well:\n   export OS_USER_DOMAIN_ID=default and export OS_PROJECT_DOMAIN_ID=default\n\nChange-Id: I3b2c26929c394a877f5e3631a3807320ab55bde6\n""}, {'number': 3, 'created': '2018-03-21 02:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/50f2fb173503d2178bf209174aa13aad80de5ba9', 'message': ""Fix docs cli index.rst file\n\n1. OpenStack is deprecating 'tenant'. Use 'project' instead:\n   export OS_PROJECT_NAME=myproject\n2. If it is Keystone v3, we need to set these parameters as well:\n   export OS_USER_DOMAIN_ID=Default and export OS_PROJECT_DOMAIN_ID=Default\n\nChange-Id: I3b2c26929c394a877f5e3631a3807320ab55bde6\n""}, {'number': 4, 'created': '2018-03-21 02:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/ccddaf2f011e3dc409712ea7c9e9d92776a55ff5', 'message': ""Fix docs cli authorize environment variables\n\n1. OpenStack is deprecating 'tenant'. Use OS_PROJECT_NAME instead of OS_TENANT_NAME.\n2. If it is Keystone v3, we need to set these parameters OS_USER_DOMAIN_NAME\n   and OS_PROJECT_DOMAIN_NAME as well.\n\nChange-Id: I3b2c26929c394a877f5e3631a3807320ab55bde6\n""}, {'number': 5, 'created': '2018-03-21 03:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/bf2722505592e4b49fd0107ad1cff9683e96ab17', 'message': 'Fix docs cli authorize environment variables\n\nIn Keystone v3, we need to set OS_USER_DOMAIN_NAME and\nOS_PROJECT_DOMAIN_NAME as well. Use OS_PROJECT_NAME instead of\nOS_TENANT_NAME.\n\nChange-Id: I3b2c26929c394a877f5e3631a3807320ab55bde6\n'}, {'number': 6, 'created': '2018-03-27 03:59:36.000000000', 'files': ['doc/source/cli/index.rst'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/8354dd42918c47784ba85d00747d3ec5434f94bf', 'message': 'Fix docs cli authorize environment variables\n\nIn Keystone v3, we need to set OS_USER_DOMAIN_NAME and\nOS_PROJECT_DOMAIN_NAME as well. Use OS_PROJECT_NAME instead of\nOS_TENANT_NAME.\n\nChange-Id: I3b2c26929c394a877f5e3631a3807320ab55bde6\n'}]",13,554751,8354dd42918c47784ba85d00747d3ec5434f94bf,34,9,6,27577,,,0,"Fix docs cli authorize environment variables

In Keystone v3, we need to set OS_USER_DOMAIN_NAME and
OS_PROJECT_DOMAIN_NAME as well. Use OS_PROJECT_NAME instead of
OS_TENANT_NAME.

Change-Id: I3b2c26929c394a877f5e3631a3807320ab55bde6
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/51/554751/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/index.rst'],1,c757dd44ce864efbdf45c75f27d90b2e56f1480d,I3b2c26929c394a877f5e3631a3807320ab55bde6, export OS_PROJECT_NAME=myproject export OS_USER_DOMAIN_ID=default export OS_PROJECT_DOMAIN_ID=default, export OS_TENANT_NAME=myproject,3,1
openstack%2Ffreezer~master~Ifcf5562d20913681afa83fb26d237d23549b7e56,openstack/freezer,master,Ifcf5562d20913681afa83fb26d237d23549b7e56,Inconsistent indentation,MERGED,2018-03-15 10:28:42.000000000,2018-04-03 01:26:44.000000000,2018-04-03 01:26:44.000000000,"[{'_account_id': 13940}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 23517}, {'_account_id': 25167}, {'_account_id': 26285}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-03-15 10:28:42.000000000', 'files': ['doc/source/admin/freezer-api-install.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/572e6239d484c2ab86da1ce25f8632f2530cf7b8', 'message': 'Inconsistent indentation\n\nprevious line used spaces, this line uses tabs\n\nChange-Id: Ifcf5562d20913681afa83fb26d237d23549b7e56\n'}]",0,553318,572e6239d484c2ab86da1ce25f8632f2530cf7b8,14,10,1,21690,,,0,"Inconsistent indentation

previous line used spaces, this line uses tabs

Change-Id: Ifcf5562d20913681afa83fb26d237d23549b7e56
",git fetch https://review.opendev.org/openstack/freezer refs/changes/18/553318/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/freezer-api-install.rst'],1,572e6239d484c2ab86da1ce25f8632f2530cf7b8,inconsistent_indentation," sudo apt-get install python-dev python-pip git openssl gcc make automake git clone -b [branch] https://github.com/openstack/freezer-api.git cd freezer-api/ sudo pip install -r requirements.txt sudo python setup.py install sudo cp etc/freezer-api.conf /etc/freezer-api.conf sudo nano /etc/freezer-api.conf # change log file location log_file = /var/log/freezer-api.log # configure Keystone authentication [keystone_authtoken] auth_protocol = http auth_host = [keystone_host_ip_or_hostname] auth_port = 35357 admin_user = [freezer admin user] # admin or user with admin priviliges admin_password = [admin password] admin_tenant_name = [admin tenan] # usually admin include_service_catalog = False delay_auth_decision = False [storage] # supported db engine. currently elasticsearch only db=elasticsearch hosts='http://[elasticsearch host address]:9200' # freezer-manage db sync/update uses the following parameter to set the number of replicas number_of_replicas=1 https://goo.gl/bwDcNK service elasticsearch start freezer-manage db sync freezer-api 0.0.0.0 freezer-api 0.0.0.0 >/dev/null 2>&1 keystone service-create --name freezer --type backup \ --description ""Freezer Backup Service"" # use public IP address or hostname because Freezer Scheduler must be able to reach API from public IP or hostname. # default port is 9090. If you have changed in freezer-api.conf you must change it here too. keystone endpoint-create \ --service-id $(keystone service-list | awk '/ backup / {print $2}') \ --publicurl http://[freezer_api_publicurl]:[port] \ --internalurl http://[freezer_api_internalurl]:[port] \ --adminurl http://[freezer_api_adminurl]:[port] \ --region regionOne # With OpenStack Liberty, Keystone API v2.0 is depreciated and you will not able to use ""keystone-client"" commend instead user ""openstack"" commend openstack service create --name freezer \ --description ""Freezer Backup Service"" backup # use public IP address or hostname because Freezer Scheduler must be able to reach API from public IP or hostname. # default port is 9090. If you have changed in freezer-api.conf you must change it here too. openstack endpoint create --publicurl http://176.53.94.101:9090 \ --internalurl http://192.168.0.4:9090 \ --adminurl http://176.53.94.101:9090 \ --region RegionOne backup"," sudo apt-get install python-dev python-pip git openssl gcc make automake git clone -b [branch] https://github.com/openstack/freezer-api.git cd freezer-api/ sudo pip install -r requirements.txt sudo python setup.py install sudo cp etc/freezer-api.conf /etc/freezer-api.conf sudo nano /etc/freezer-api.conf # change log file location log_file = /var/log/freezer-api.log # configure Keystone authentication [keystone_authtoken] auth_protocol = http auth_host = [keystone_host_ip_or_hostname] auth_port = 35357 admin_user = [freezer admin user] # admin or user with admin priviliges admin_password = [admin password] admin_tenant_name = [admin tenan] # usually admin include_service_catalog = False delay_auth_decision = False [storage] # supported db engine. currently elasticsearch only db=elasticsearch hosts='http://[elasticsearch host address]:9200' # freezer-manage db sync/update uses the following parameter to set the number of replicas number_of_replicas=1 https://goo.gl/bwDcNK service elasticsearch start freezer-manage db sync freezer-api 0.0.0.0 freezer-api 0.0.0.0 >/dev/null 2>&1 keystone service-create --name freezer --type backup \ --description ""Freezer Backup Service"" # use public IP address or hostname because Freezer Scheduler must be able to reach API from public IP or hostname. # default port is 9090. If you have changed in freezer-api.conf you must change it here too. keystone endpoint-create \ --service-id $(keystone service-list | awk '/ backup / {print $2}') \ --publicurl http://[freezer_api_publicurl]:[port] \ --internalurl http://[freezer_api_internalurl]:[port] \ --adminurl http://[freezer_api_adminurl]:[port] \ --region regionOne # With OpenStack Liberty, Keystone API v2.0 is depreciated and you will not able to use ""keystone-client"" commend instead user ""openstack"" commend openstack service create --name freezer \ --description ""Freezer Backup Service"" backup # use public IP address or hostname because Freezer Scheduler must be able to reach API from public IP or hostname. # default port is 9090. If you have changed in freezer-api.conf you must change it here too. openstack endpoint create --publicurl http://176.53.94.101:9090 \ --internalurl http://192.168.0.4:9090 \ --adminurl http://176.53.94.101:9090 \ --region RegionOne backup",54,54
openstack%2Fpython-glanceclient~master~Ie6eaac4b47a6f61f5fb459581d146c9d13aab408,openstack/python-glanceclient,master,Ie6eaac4b47a6f61f5fb459581d146c9d13aab408,Updated from global requirements,MERGED,2018-03-23 01:45:20.000000000,2018-04-03 01:25:01.000000000,2018-04-03 01:25:01.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 01:45:20.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/1158cbe2ce9833ea67b76605f4911912cebd9170', 'message': 'Updated from global requirements\n\nChange-Id: Ie6eaac4b47a6f61f5fb459581d146c9d13aab408\n'}]",0,555583,1158cbe2ce9833ea67b76605f4911912cebd9170,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ie6eaac4b47a6f61f5fb459581d146c9d13aab408
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/83/555583/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1158cbe2ce9833ea67b76605f4911912cebd9170,openstack/requirements,requests-mock>=1.2.0 # Apache-2.0,requests-mock>=1.1.0 # Apache-2.0,1,1
openstack%2Fpuppet-openstack-cookiecutter~master~If7542eeadc953d6c92a0ed7eb35e413486a8fa52,openstack/puppet-openstack-cookiecutter,master,If7542eeadc953d6c92a0ed7eb35e413486a8fa52,Support puppet 4.8 and latest for libraries unit test,MERGED,2018-03-23 07:48:28.000000000,2018-04-03 01:18:24.000000000,2018-04-03 01:18:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 07:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/3592eea3c0a82ff142bb2feecd79483185c83f10', 'message': 'Revert ""Switch puppet vertion to 4.8 for unit test""\n\nThis reverts commit ac54c738db2fe7efd3a53cb04d4db16c203fdfc6.\n\nChange-Id: If7542eeadc953d6c92a0ed7eb35e413486a8fa52\n'}, {'number': 2, 'created': '2018-03-27 08:02:36.000000000', 'files': ['run_unit_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/10f16913f600092c51e8e02e45633b051727c745', 'message': 'Support puppet 4.8 and latest for libraries unit test\n\nChange-Id: If7542eeadc953d6c92a0ed7eb35e413486a8fa52\nDepends-On: https://review.openstack.org/#/c/556773/\n'}]",0,555684,10f16913f600092c51e8e02e45633b051727c745,13,4,2,9414,,,0,"Support puppet 4.8 and latest for libraries unit test

Change-Id: If7542eeadc953d6c92a0ed7eb35e413486a8fa52
Depends-On: https://review.openstack.org/#/c/556773/
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/84/555684/2 && git format-patch -1 --stdout FETCH_HEAD,['run_unit_tests.sh'],1,3592eea3c0a82ff142bb2feecd79483185c83f10,add_unit_puppet_version,,"if [ ""4.8"" != ""latest"" ]; then export PUPPET_GEM_VERSION='~> 4.8.0' fi",0,3
openstack%2Fpuppet-tripleo~stable%2Fqueens~I78a88725d297794efd854fbfb14df0611e0e0738,openstack/puppet-tripleo,stable/queens,I78a88725d297794efd854fbfb14df0611e0e0738,Update default Cinder RBD backend_host value,MERGED,2018-03-26 20:16:54.000000000,2018-04-03 01:06:10.000000000,2018-04-03 01:06:10.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 20:16:54.000000000', 'files': ['manifests/profile/base/cinder/volume/rbd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e4ad49f55c76e12c45a58fb2fb43d3989a5ec41b', 'message': ""Update default Cinder RBD backend_host value\n\nThe Cinder RBD driver's backend_host should use 'cinder::backend_host'\nhiera data first, and only use 'cinder::host' if the preferred hiera\nvalue isn't defined.\n\nPartial-Bug: #1753596\nDepends-On: I11a55571f4bed630967242c797e08e11c47eab11\nChange-Id: I78a88725d297794efd854fbfb14df0611e0e0738\n(cherry picked from commit 1ec7756676d31b6930dc775a75c16faa375f08fa)\n""}]",0,556637,e4ad49f55c76e12c45a58fb2fb43d3989a5ec41b,7,3,1,21129,,,0,"Update default Cinder RBD backend_host value

The Cinder RBD driver's backend_host should use 'cinder::backend_host'
hiera data first, and only use 'cinder::host' if the preferred hiera
value isn't defined.

Partial-Bug: #1753596
Depends-On: I11a55571f4bed630967242c797e08e11c47eab11
Change-Id: I78a88725d297794efd854fbfb14df0611e0e0738
(cherry picked from commit 1ec7756676d31b6930dc775a75c16faa375f08fa)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/556637/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/rbd.pp'],1,e4ad49f55c76e12c45a58fb2fb43d3989a5ec41b,bug/1753596-stable/queens,"# Defaults to hiera('cinder::backend_host', hiera('cinder::host', 'hostgroup')) $cinder_rbd_backend_host = hiera('cinder::backend_host', hiera('cinder::host', 'hostgroup')),","# Defaults to 'cinder::host' $cinder_rbd_backend_host = hiera('cinder::host', 'hostgroup'),",2,2
openstack%2Fadjutant~master~I1c2b8e9b984fef42b1dded444e165a907cd53f62,openstack/adjutant,master,I1c2b8e9b984fef42b1dded444e165a907cd53f62,fix typo in history document,MERGED,2018-03-20 16:41:18.000000000,2018-04-03 01:02:33.000000000,2018-04-03 01:02:33.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 16:41:18.000000000', 'files': ['doc/source/history.rst'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/f1cb43076e977b19401d2b9e1356b501685def53', 'message': 'fix typo in history document\n\nAs much as I agree that ERP systems tend to be ""eternal"", I think you\nmeant ""external"" here.\n\nChange-Id: I1c2b8e9b984fef42b1dded444e165a907cd53f62\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,554621,f1cb43076e977b19401d2b9e1356b501685def53,6,2,1,2472,,,0,"fix typo in history document

As much as I agree that ERP systems tend to be ""eternal"", I think you
meant ""external"" here.

Change-Id: I1c2b8e9b984fef42b1dded444e165a907cd53f62
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/21/554621/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/history.rst'],1,f1cb43076e977b19401d2b9e1356b501685def53,doc-type,information in an external ERP system (Odoo/OpenERP at the time) rather than a,information in an eternal ERP system (Odoo/OpenERP at the time) rather than a,1,1
openstack%2Ffreezer-web-ui~master~I632e4c57f4cebd24e921a7ef8334af2d4c366329,openstack/freezer-web-ui,master,I632e4c57f4cebd24e921a7ef8334af2d4c366329,Updated from global requirements,MERGED,2018-03-28 10:15:28.000000000,2018-04-03 01:00:25.000000000,2018-04-03 01:00:24.000000000,"[{'_account_id': 13940}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-28 10:15:28.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/90cd9346849c63a2c6a0fca8fd7471c2c3be9206', 'message': 'Updated from global requirements\n\nChange-Id: I632e4c57f4cebd24e921a7ef8334af2d4c366329\n'}]",0,557289,90cd9346849c63a2c6a0fca8fd7471c2c3be9206,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: I632e4c57f4cebd24e921a7ef8334af2d4c366329
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/89/557289/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,90cd9346849c63a2c6a0fca8fd7471c2c3be9206,openstack/requirements,horizon>=13.0.0 # Apache-2.0,horizon>=13.0.0 # Apache-2.0,1,1
openstack%2Fopenstack-helm~master~If96dec4af385ed1ce210f2d4f63e09c89ec82c76,openstack/openstack-helm,master,If96dec4af385ed1ce210f2d4f63e09c89ec82c76,Ceph: Make mon deployment compatible with k8s >= 1.10,MERGED,2018-04-02 14:39:46.000000000,2018-04-03 00:56:55.000000000,2018-04-03 00:56:55.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23981}]","[{'number': 1, 'created': '2018-04-02 14:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dbd1da86cdbacaace5e861b6f7b7b9d06e330cd1', 'message': 'Ceph: Make mon deployment compatible with k8s >= 1.10\n\nThis PS updates the ceph chart to work with newer versions of K8s\nwhich always mounts configmaps as read-only.\n\nChange-Id: If96dec4af385ed1ce210f2d4f63e09c89ec82c76\n'}, {'number': 2, 'created': '2018-04-02 16:11:59.000000000', 'files': ['ceph/templates/bin/mon/_start.sh.tpl', 'ceph/templates/daemonset-mon.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6c8041b15f28181fdf7054ea5ff39af48be2ef66', 'message': 'Ceph: Make mon deployment compatible with k8s >= 1.10\n\nThis PS updates the ceph chart to work with newer versions of K8s\nwhich always mounts configmaps as read-only.\n\nChange-Id: If96dec4af385ed1ce210f2d4f63e09c89ec82c76\n'}]",4,558214,6c8041b15f28181fdf7054ea5ff39af48be2ef66,12,5,2,23928,,,0,"Ceph: Make mon deployment compatible with k8s >= 1.10

This PS updates the ceph chart to work with newer versions of K8s
which always mounts configmaps as read-only.

Change-Id: If96dec4af385ed1ce210f2d4f63e09c89ec82c76
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/558214/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/bin/mon/_start.sh.tpl', 'ceph/templates/daemonset-mon.yaml']",2,dbd1da86cdbacaace5e861b6f7b7b9d06e330cd1,ceph/k8s-v1.10.x-compat, mountPath: /etc/ceph/ceph.mon.keyring.seed readOnly: true readOnly: true readOnly: true readOnly: true, mountPath: /etc/ceph/ceph.mon.keyring readOnly: false readOnly: false readOnly: false readOnly: false,10,7
openstack%2Ftripleo-common~master~Ia355f1b9fbbf1643b016367400d15dcac6689dd1,openstack/tripleo-common,master,Ia355f1b9fbbf1643b016367400d15dcac6689dd1,Document functions for container prepare,MERGED,2018-03-20 21:29:14.000000000,2018-04-03 00:29:37.000000000,2018-04-03 00:29:37.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 9414}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 21:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9ffae1a4385b028f754e5cc97be804ca397a0b1a', 'message': 'Document functions for container prepare\n\nThese functions are becoming the main entrypoint for container\nprepare, so they deserve decent docs.\n\nChange-Id: Ia355f1b9fbbf1643b016367400d15dcac6689dd1\nBlueprint: container-prepare-workflow\n'}, {'number': 2, 'created': '2018-03-28 21:35:06.000000000', 'files': ['tripleo_common/image/kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d53c3568d1d7eca10cb890426d8980ddcd40546d', 'message': 'Document functions for container prepare\n\nThese functions are becoming the main entrypoint for container\nprepare, so they deserve decent docs.\n\nChange-Id: Ia355f1b9fbbf1643b016367400d15dcac6689dd1\nBlueprint: container-prepare-workflow\n'}]",0,554707,d53c3568d1d7eca10cb890426d8980ddcd40546d,15,7,2,4571,,,0,"Document functions for container prepare

These functions are becoming the main entrypoint for container
prepare, so they deserve decent docs.

Change-Id: Ia355f1b9fbbf1643b016367400d15dcac6689dd1
Blueprint: container-prepare-workflow
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/554707/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/kolla_builder.py'],1,9ffae1a4385b028f754e5cc97be804ca397a0b1a,bp/container-prepare-workflow," """"""Return default dict for prepare substitutions This can be used as the mapping_args argument to the container_images_prepare function to get the same result as not specifying any mapping_args. """""" """"""Perform container image preparation :param template_file: path to Jinja2 file containing all image entries :param excludes: list of image name substrings to use for exclude filter :param service_filter: set of heat resource types for containerized services to filter by :param pull_source: DEPRECATED namespace for pulling during image uploads :param push_destination: namespace for pushing during image uploads. When specified the image parameters will use this namespace too. :param mapping_args: dict containing substitutions for template file. See CONTAINER_IMAGES_DEFAULTS for expected keys. :param output_env_file: key to use for heat environment parameter data :param output_images_file: key to use for image upload data :param tag_from_label: string when set will trigger tag discovery on every image :returns: dict with entries for the supplied output_env_file or output_images_file """""" """"""Detect insecure registries in image parameters :param params: dict of container image parameters :returns: dict containing DockerInsecureRegistryAddress parameter to be merged into other parameters """"""",,31,0
openstack%2Fadjutant~master~Ieb7610fd0fa9b626f0223e09661d167f92cfcaff,openstack/adjutant,master,Ieb7610fd0fa9b626f0223e09661d167f92cfcaff,Token not cancelled if task is invalid,MERGED,2018-04-02 23:19:57.000000000,2018-04-02 23:59:07.000000000,2018-04-02 23:59:07.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 23:19:57.000000000', 'files': ['adjutant/api/v1/views.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/45f9970cf263e7cca9d106394b5e84381887d20e', 'message': 'Token not cancelled if task is invalid\n\n* If a token is submitted to a task and that task becomes invalid\n  then that task is not complete and the token should not be\n  deleted\n\nChange-Id: Ieb7610fd0fa9b626f0223e09661d167f92cfcaff\n'}]",0,558319,45f9970cf263e7cca9d106394b5e84381887d20e,6,2,1,26263,,,0,"Token not cancelled if task is invalid

* If a token is submitted to a task and that task becomes invalid
  then that task is not complete and the token should not be
  deleted

Change-Id: Ieb7610fd0fa9b626f0223e09661d167f92cfcaff
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/19/558319/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/api/v1/views.py'],1,45f9970cf263e7cca9d106394b5e84381887d20e,," if not valid: return Response({""errors"": [""Actions invalid""]}, status=400) "," if not valid: return Response({""errors"": [""Actions invalid""]}, status=400) ",3,3
openstack%2Fneutron-tempest-plugin~master~I0fd4eb4df2e78b498962d9d42715f0cd18f81714,openstack/neutron-tempest-plugin,master,I0fd4eb4df2e78b498962d9d42715f0cd18f81714,Tempest linuxbridge scenario switch to Zuul v3 template,MERGED,2018-03-14 09:19:59.000000000,2018-04-02 23:17:49.000000000,2018-04-02 23:17:49.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1921}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 12393}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 09:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6d4e96f0ff5d91bc3c13c5954ad772effce54edd', 'message': 'Tempest single node jobs switch to use lib/neutron\n\nThis patch switch neutron-tempest-plugin-api and\nneutron-tempest-plugin-scenario-linuxbridge jobs from\nold legacy devstack template to current ""devstack-tempest"".\nDue to that new lib/neutron from devstack will be used\ninstead of old neutron-legacy library.\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 2, 'created': '2018-03-14 13:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d9b3a433758bbf814384d55b8c82330d76f418c2', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 3, 'created': '2018-03-15 21:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/95b84fac609547ea4a1f5e53d799ccba20278e85', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 4, 'created': '2018-03-15 23:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e585036d1efef2bff235274c58217a05c5280ebe', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 5, 'created': '2018-03-16 15:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cc016ae7c88b88c99a753e71d74f797433cbd7f3', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 6, 'created': '2018-03-16 21:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d898e6bf45fe6746bd0e3461356db997b78da5d9', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 7, 'created': '2018-03-18 08:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/06bf39b7833d34fe0a6f26978bac0968b3a925e3', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 8, 'created': '2018-03-18 08:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/42b9dc6ae6ea6787015973773fb878cf603a2cee', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 9, 'created': '2018-03-18 11:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/63333b7432ae38e87f0c03aa9aa61c4926eb393f', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 10, 'created': '2018-03-18 12:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6a40411fde4fb497f22f7c55d3c93bf1a2486400', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 11, 'created': '2018-03-18 16:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1696cc086c52f4ca6f6c3e67523b2cc7b0cbcffe', 'message': 'WIP Tempest linuxbridge scenario switch to new template\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 12, 'created': '2018-03-19 08:57:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d7d2d89271a0cf72a793656d10b75635726ba0a6', 'message': 'Tempest linuxbridge scenario switch to Zuul v3 template\n\nThis patch switches linuxbridge scenario job definition to\nthe new Zuul v3.\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 13, 'created': '2018-03-19 09:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/be51baeb9098f9fd08c9a37aeeb7e23d75bc3978', 'message': 'Tempest linuxbridge scenario switch to Zuul v3 template\n\nThis patch switches linuxbridge scenario job definition to\nthe new Zuul v3.\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 14, 'created': '2018-03-22 08:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0d23e18b60c7dbb66bc750d992dd1739d2ea438d', 'message': 'Tempest linuxbridge scenario switch to Zuul v3 template\n\nThis patch switches linuxbridge scenario job definition to\nthe new Zuul v3.\nIt also adds new abstract template for neutron-scenario jobs.\nThis abstract template is used by new linuxbridge scenario\ndefinition and by neutron-tempest-plugin-designate-scenario\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 15, 'created': '2018-03-22 11:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f3b25722a03a84fd19b979409f9da195d8d94f57', 'message': 'Tempest linuxbridge scenario switch to Zuul v3 template\n\nThis patch switches linuxbridge scenario job definition to\nthe new Zuul v3.\nIt also adds new abstract template for neutron-scenario jobs.\nThis abstract template is used by new linuxbridge scenario\ndefinition and by neutron-tempest-plugin-designate-scenario\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 16, 'created': '2018-03-23 18:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/db91d3aff5e00054799e172ae31ce5d7c8d62334', 'message': 'Tempest linuxbridge scenario switch to Zuul v3 template\n\nThis patch switches linuxbridge scenario job definition to\nthe new Zuul v3.\nIt also adds new abstract template for neutron-scenario jobs.\nThis abstract template is used by new linuxbridge scenario\ndefinition and by neutron-tempest-plugin-designate-scenario\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 17, 'created': '2018-03-23 21:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/45715ee3115579473c02119f472dffeedb05194e', 'message': 'Tempest linuxbridge scenario switch to Zuul v3 template\n\nThis patch switches linuxbridge scenario job definition to\nthe new Zuul v3.\nIt also adds new abstract template for neutron-scenario jobs.\nThis abstract template is used by new linuxbridge scenario\ndefinition and by neutron-tempest-plugin-designate-scenario\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}, {'number': 18, 'created': '2018-03-26 11:06:36.000000000', 'files': ['playbooks/neutron-tempest-plugin-scenario-linuxbridge/run.yaml', 'playbooks/neutron-tempest-plugin-scenario-linuxbridge/post.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/36cc7ec43652b3397a0f88535447ab2dfa85d917', 'message': 'Tempest linuxbridge scenario switch to Zuul v3 template\n\nThis patch switches linuxbridge scenario job definition to\nthe new Zuul v3.\nIt also adds new abstract template for neutron-scenario jobs.\nThis abstract template is used by new linuxbridge scenario\ndefinition and by neutron-tempest-plugin-designate-scenario\n\nChange-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714\n'}]",15,552846,36cc7ec43652b3397a0f88535447ab2dfa85d917,50,10,18,11975,,,0,"Tempest linuxbridge scenario switch to Zuul v3 template

This patch switches linuxbridge scenario job definition to
the new Zuul v3.
It also adds new abstract template for neutron-scenario jobs.
This abstract template is used by new linuxbridge scenario
definition and by neutron-tempest-plugin-designate-scenario

Change-Id: I0fd4eb4df2e78b498962d9d42715f0cd18f81714
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/46/552846/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6d4e96f0ff5d91bc3c13c5954ad772effce54edd,scenario-switch-to-lib-neutron, parent: devstack-tempest parent: devstack-tempest, parent: legacy-dsvm-base parent: legacy-dsvm-base,2,2
openstack%2Fneutron~stable%2Fpike~I755990324db445efd0ee0b8a9db1f4d7bfb58e26,openstack/neutron,stable/pike,I755990324db445efd0ee0b8a9db1f4d7bfb58e26,Fix l3-agent crash on routers without ha_state,MERGED,2018-03-28 17:57:44.000000000,2018-04-02 23:17:47.000000000,2018-04-02 23:17:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 17:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fca0f9851ca4f638fcf3fa8d0f7e255b4344030b', 'message': ""Fix l3-agent crash on routers without ha_state\n\nl3-agent checks the HA state of routers when a router is updated.\nTo ensure that the HA state is only checked on HA routers the following\ncheck is performed: `if router.get('ha') and not is_dvr_only_agent`.\nThis check should ensure that the check is only performed on\nDvrEdgeHaRouter and HaRouter objects.\n\nUnfortunately, there are cases where we have DvrEdgeRouter objects\nrunning on 'dvr_snat' agents. E.g. when deploying a loadbalancer with\nneutron-lbaas in a landscape with 6 network nodes and\nmax_l3_agents_per_router set to 3, it may happen that the loadbalancer\nis placed on a network node that does not have a DvrEdgeHaRouter running\non it. In such a case, neutron will deploy a DvrEdgeRouter object on the\nnetwork node to serve the loadbalancer, just like it would deploy a\nDvrEdgeRouter on a compute node when deploying a VM.\n\nUnder such circumstances each update to the router will lead to an\nAttributeError, because the DvrEdgeRouter object does not have the\nha_state attribute.\n\nThis patch circumvents the issue by doing an additional check on the\nrouter object to ensure that it actually has the ha_state attribute.\n\nChange-Id: I755990324db445efd0ee0b8a9db1f4d7bfb58e26\nCloses-Bug: #1755243\n""}, {'number': 2, 'created': '2018-03-30 17:55:57.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ecf8b6b4a0061f76ca2ca2d917c51a5e8dd3949', 'message': ""Fix l3-agent crash on routers without ha_state\n\nl3-agent checks the HA state of routers when a router is updated.\nTo ensure that the HA state is only checked on HA routers the following\ncheck is performed: `if router.get('ha') and not is_dvr_only_agent`.\nThis check should ensure that the check is only performed on\nDvrEdgeHaRouter and HaRouter objects.\n\nUnfortunately, there are cases where we have DvrEdgeRouter objects\nrunning on 'dvr_snat' agents. E.g. when deploying a loadbalancer with\nneutron-lbaas in a landscape with 6 network nodes and\nmax_l3_agents_per_router set to 3, it may happen that the loadbalancer\nis placed on a network node that does not have a DvrEdgeHaRouter running\non it. In such a case, neutron will deploy a DvrEdgeRouter object on the\nnetwork node to serve the loadbalancer, just like it would deploy a\nDvrEdgeRouter on a compute node when deploying a VM.\n\nUnder such circumstances each update to the router will lead to an\nAttributeError, because the DvrEdgeRouter object does not have the\nha_state attribute.\n\nThis patch circumvents the issue by doing an additional check on the\nrouter object to ensure that it actually has the ha_state attribute.\n\nCloses-Bug: #1755243\nChange-Id: I755990324db445efd0ee0b8a9db1f4d7bfb58e26\n(cherry picked from commit 8c2dae659a806fdc20331de4b8a917ec3ae0e6f6)\n""}]",0,557457,0ecf8b6b4a0061f76ca2ca2d917c51a5e8dd3949,15,6,2,7016,,,0,"Fix l3-agent crash on routers without ha_state

l3-agent checks the HA state of routers when a router is updated.
To ensure that the HA state is only checked on HA routers the following
check is performed: `if router.get('ha') and not is_dvr_only_agent`.
This check should ensure that the check is only performed on
DvrEdgeHaRouter and HaRouter objects.

Unfortunately, there are cases where we have DvrEdgeRouter objects
running on 'dvr_snat' agents. E.g. when deploying a loadbalancer with
neutron-lbaas in a landscape with 6 network nodes and
max_l3_agents_per_router set to 3, it may happen that the loadbalancer
is placed on a network node that does not have a DvrEdgeHaRouter running
on it. In such a case, neutron will deploy a DvrEdgeRouter object on the
network node to serve the loadbalancer, just like it would deploy a
DvrEdgeRouter on a compute node when deploying a VM.

Under such circumstances each update to the router will lead to an
AttributeError, because the DvrEdgeRouter object does not have the
ha_state attribute.

This patch circumvents the issue by doing an additional check on the
router object to ensure that it actually has the ha_state attribute.

Closes-Bug: #1755243
Change-Id: I755990324db445efd0ee0b8a9db1f4d7bfb58e26
(cherry picked from commit 8c2dae659a806fdc20331de4b8a917ec3ae0e6f6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/557457/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/tests/unit/agent/l3/test_agent.py']",3,fca0f9851ca4f638fcf3fa8d0f7e255b4344030b,bug/1755243," with mock.patch.object(agent, 'check_ha_state_for_router') as chsfr: agent._process_router_if_compatible(router) self.assertIn(router['id'], agent.router_info) self.assertFalse(chsfr.called)"," agent._process_router_if_compatible(router) self.assertIn(router['id'], agent.router_info)",35,9
openstack%2Fpuppet-openstack-integration~master~I571d4d1a57c76976cb671d1965b23be4892884ac,openstack/puppet-openstack-integration,master,I571d4d1a57c76976cb671d1965b23be4892884ac,Updated from Puppet OpenStack modules constraints,MERGED,2018-04-01 06:07:58.000000000,2018-04-02 22:49:09.000000000,2018-04-02 22:49:09.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-01 06:07:58.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/cbe48ec5e14186ab81e1091f0b2cc633c33044ab', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I571d4d1a57c76976cb671d1965b23be4892884ac\n'}]",0,558102,cbe48ec5e14186ab81e1091f0b2cc633c33044ab,8,4,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I571d4d1a57c76976cb671d1965b23be4892884ac
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/02/558102/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,cbe48ec5e14186ab81e1091f0b2cc633c33044ab,openstack/puppet/constraints, :ref => 'v3.0.0', :ref => 'v2.3.0',1,1
openstack%2Fpuppet-openstack-integration~master~Ie70af6ee60efee8d0fd7e81bcc2b84b8dd83b206,openstack/puppet-openstack-integration,master,Ie70af6ee60efee8d0fd7e81bcc2b84b8dd83b206,Support puppet 4.8 and latest for libraries unit test,MERGED,2018-03-27 07:57:38.000000000,2018-04-02 22:49:08.000000000,2018-04-02 22:49:08.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 07:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2eb11c49340f84bb4132f31c36c40dc93ebb5485', 'message': 'Support puppet 4.8 and latest for libraries unit test\n\nChange-Id: Ie70af6ee60efee8d0fd7e81bcc2b84b8dd83b206\n'}, {'number': 2, 'created': '2018-03-27 08:28:11.000000000', 'files': ['playbooks/run-libraries-unit-tests.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/36b6794f3a3c29346369f44eb4e8cccf845a2abc', 'message': 'Support puppet 4.8 and latest for libraries unit test\n\nChange-Id: Ie70af6ee60efee8d0fd7e81bcc2b84b8dd83b206\n'}]",0,556773,36b6794f3a3c29346369f44eb4e8cccf845a2abc,9,4,2,9414,,,0,"Support puppet 4.8 and latest for libraries unit test

Change-Id: Ie70af6ee60efee8d0fd7e81bcc2b84b8dd83b206
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/73/556773/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-libraries-unit-tests.yaml', '.zuul.yaml']",2,2eb11c49340f84bb4132f31c36c40dc93ebb5485,add-libraries-unit-puppet-version,- job: name: puppet-openstack-libraries-puppet-unit-4.8-centos-7 parent: puppet-openstack-libraries-puppet-unit-centos-7 vars: puppet_gem_version: 4.8 - job: name: puppet-openstack-libraries-puppet-unit-latest-centos-7 parent: puppet-openstack-libraries-puppet-unit-centos-7 branches: ^master voting: false vars: puppet_gem_version: latest ,,17,0
openstack%2Fopenstack-ansible~stable%2Fqueens~I124f32470dd0671b414be95eb3ecc246108c0485,openstack/openstack-ansible,stable/queens,I124f32470dd0671b414be95eb3ecc246108c0485,Bump pip_install SHA to include constraints fix,MERGED,2018-04-02 16:26:27.000000000,2018-04-02 22:47:06.000000000,2018-04-02 22:47:06.000000000,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 14288}, {'_account_id': 17068}, {'_account_id': 21314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 16:26:27.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/90d0679d209cb494b9a71817c56e2c26c7fc5ca1', 'message': 'Bump pip_install SHA to include constraints fix\n\nIncludes the fixes\nIee229eb2f6f154b2f2f629c45f4ab6689d660a50\nI32603fd34b60183607c6bd9653c36432cbe6b07a\n\nChange-Id: I124f32470dd0671b414be95eb3ecc246108c0485\n'}]",0,558228,90d0679d209cb494b9a71817c56e2c26c7fc5ca1,11,6,1,17799,,,0,"Bump pip_install SHA to include constraints fix

Includes the fixes
Iee229eb2f6f154b2f2f629c45f4ab6689d660a50
I32603fd34b60183607c6bd9653c36432cbe6b07a

Change-Id: I124f32470dd0671b414be95eb3ecc246108c0485
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/28/558228/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,90d0679d209cb494b9a71817c56e2c26c7fc5ca1,get-pip-constraints, version: 78e615c712771e33c1a7436e05bc91644318ece1, version: 99181a635478d082f5b8f2bf47d15509907fafb7,1,1
openstack%2Fpython-tripleoclient~master~I07ebb405e5f48d41d18f00d7016203211875ec87,openstack/python-tripleoclient,master,I07ebb405e5f48d41d18f00d7016203211875ec87,Change default value for update playbook,ABANDONED,2018-01-16 10:51:32.000000000,2018-04-02 22:16:16.000000000,,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-01-16 10:51:32.000000000', 'files': ['tripleoclient/v1/overcloud_update.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ecd842739e3e6df99c0e24ff13b201eb665a7f1a', 'message': 'Change default value for update playbook\n\nSince update and upgrade share the same code\nwe need to remove the default value for the playbook\nand set it to None.\nIt let the user to provide his own playbook, and we now\nset the playbook in regard of the command invoke\n\nChange-Id: I07ebb405e5f48d41d18f00d7016203211875ec87\n'}]",1,534236,ecd842739e3e6df99c0e24ff13b201eb665a7f1a,8,5,1,16515,,,0,"Change default value for update playbook

Since update and upgrade share the same code
we need to remove the default value for the playbook
and set it to None.
It let the user to provide his own playbook, and we now
set the playbook in regard of the command invoke

Change-Id: I07ebb405e5f48d41d18f00d7016203211875ec87
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/534236/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_update.py'],1,ecd842739e3e6df99c0e24ff13b201eb665a7f1a,upgrade-playbook," default=None, if parsed_args.playbook is None: if isinstance(self, UpgradeOvercloud): playbook = 'upgrade_steps_playbook.yaml' else: playbook = 'update_steps_playbook.yaml' else: playbook = parsed_args.playbook"," default=""update_steps_playbook.yaml"", playbook = parsed_args.playbook",8,2
openstack%2Fheat~master~Ide96ef861ef4cbb6afd9ab09e7b51b69e03e5520,openstack/heat,master,Ide96ef861ef4cbb6afd9ab09e7b51b69e03e5520,Don't load nested stack to get TemplateResource template,MERGED,2018-01-10 16:38:06.000000000,2018-04-02 22:08:35.000000000,2018-04-02 22:08:34.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-10 16:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e82d588abc77a3a5778932545979597b69e08fdf', 'message': ""Don't load nested stack to get TemplateResource template\n\nIn the worst-case scenario if we can't find the template for an existing\nTemplateResource, we fetch it from the extant nested stack. Rather than do\nthis by loading the nested stack in-memory, fetch the template via RPC.\n\nChange-Id: Ide96ef861ef4cbb6afd9ab09e7b51b69e03e5520\nPartial-Bug: #1731349\n""}, {'number': 2, 'created': '2018-01-19 20:42:54.000000000', 'files': ['heat/tests/test_provider_template.py', 'heat/engine/resources/template_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/c6b0d58888b8f451bb8197871bbec8119f1f2632', 'message': ""Don't load nested stack to get TemplateResource template\n\nIn the worst-case scenario if we can't find the template for an existing\nTemplateResource, we fetch it from the extant nested stack. Rather than do\nthis by loading the nested stack in-memory, fetch the template via RPC.\n\nChange-Id: Ide96ef861ef4cbb6afd9ab09e7b51b69e03e5520\nPartial-Bug: #1731349\n""}]",0,532571,c6b0d58888b8f451bb8197871bbec8119f1f2632,17,5,2,4257,,,0,"Don't load nested stack to get TemplateResource template

In the worst-case scenario if we can't find the template for an existing
TemplateResource, we fetch it from the extant nested stack. Rather than do
this by loading the nested stack in-memory, fetch the template via RPC.

Change-Id: Ide96ef861ef4cbb6afd9ab09e7b51b69e03e5520
Partial-Bug: #1731349
",git fetch https://review.opendev.org/openstack/heat refs/changes/71/532571/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/test_provider_template.py', 'heat/engine/resources/template_resource.py']",2,e82d588abc77a3a5778932545979597b69e08fdf,bug/1731349," nested_identifier = self.nested_identifier() if nested_identifier is not None: nested_t = self.rpc_client().get_template(self.context, nested_identifier) t_data = jsonutils.dumps(nested_t)", if self.resource_id is not None: t_data = jsonutils.dumps(self.nested().t.t),7,5
openstack%2Fproject-config~master~If1d21f3083d70326ac0c0e5a9b68182a073aa055,openstack/project-config,master,If1d21f3083d70326ac0c0e5a9b68182a073aa055,Ramp limestone up to 50 instances,MERGED,2018-04-02 20:27:54.000000000,2018-04-02 20:46:05.000000000,2018-04-02 20:46:04.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 20:27:54.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/162eb5e54c3a442e7e36383866f05e92381fa0fc', 'message': ""Ramp limestone up to 50 instances\n\nThe dns woes should be corrected and more recently networking and mirror\nsetups have been rebuilt to correct some problems. Let's ramp up to 50\ninstances since 10 look good.\n\nChange-Id: If1d21f3083d70326ac0c0e5a9b68182a073aa055\n""}]",0,558266,162eb5e54c3a442e7e36383866f05e92381fa0fc,8,4,1,4146,,,0,"Ramp limestone up to 50 instances

The dns woes should be corrected and more recently networking and mirror
setups have been rebuilt to correct some problems. Let's ramp up to 50
instances since 10 look good.

Change-Id: If1d21f3083d70326ac0c0e5a9b68182a073aa055
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/558266/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,162eb5e54c3a442e7e36383866f05e92381fa0fc,ramp-up-limestone, max-servers: 50, max-servers: 10,1,1
openstack%2Fneutron~master~I21ecfdc738020f121c39a3b396c2ed0a289807b5,openstack/neutron,master,I21ecfdc738020f121c39a3b396c2ed0a289807b5,DNM Test rehome of db api from neutron-lib,ABANDONED,2018-03-27 20:20:49.000000000,2018-04-02 20:35:36.000000000,,"[{'_account_id': 5367}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 20:20:49.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/services/segments/plugin.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/segments_db.py', 'neutron/common/utils.py', 'neutron/services/logapi/common/db_api.py', 'neutron/plugins/ml2/ovo_rpc.py', 'neutron/tests/unit/extensions/test_securitygroup.py', 'neutron/services/qos/qos_plugin.py', 'neutron/services/auto_allocate/db.py', 'neutron/db/quota/api.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/wsgi.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/plugins/ml2/db.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/service.py', 'neutron/tests/unit/quota/test_resource.py', 'neutron/api/v2/base.py', 'neutron/objects/base.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/core_extensions/qos.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/drivers/type_tunnel.py', 'neutron/services/tag/tag_plugin.py', 'neutron/services/trunk/plugin.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/plugins/ml2/drivers/type_flat.py', 'neutron/db/agents_db.py', 'neutron/db/extradhcpopt_db.py', 'neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/testlib_api.py', 'neutron/quota/resource.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/db/metering/metering_db.py', 'neutron/db/portbindings_db.py', 'neutron/db/provisioning_blocks.py', 'neutron/services/logapi/logging_plugin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/address_scope_db.py', 'neutron/db/rbac_db_mixin.py', 'neutron/quota/resource_registry.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/extensions/test_flavors.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/plugins/ml2/managers.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/pecan_wsgi/controllers/utils.py', 'neutron/tests/unit/db/test_api.py', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/network_ip_availability_db.py', 'neutron/services/loki/loki_plugin.py', 'neutron/db/flavors_db.py', 'neutron/tests/base.py', 'neutron/db/quota/driver.py', 'neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/dvr_mac_db.py', 'neutron/tests/unit/services/metering/test_metering_plugin.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/ipam/subnet_alloc.py', 'neutron/services/trunk/rpc/server.py', 'neutron/db/api.py', 'neutron/tests/unit/db/test_provisioning_blocks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/22ccc42970beadef38b3e01f7720175fb7820b96', 'message': 'DNM Test rehome of db api from neutron-lib\n\nDO NOT MERGE\n\nThis is a sample consumption patch for the rehome of neutron.db.api\ninto neutron_lib.db.api.\n\nAs shown herein, the changes are very widespread, but we should be able\nto chunk the changes up into multiple patches to keep the patch set size\nminimal.\n\nChange-Id: I21ecfdc738020f121c39a3b396c2ed0a289807b5\n'}]",0,557037,22ccc42970beadef38b3e01f7720175fb7820b96,7,5,1,5367,,,0,"DNM Test rehome of db api from neutron-lib

DO NOT MERGE

This is a sample consumption patch for the rehome of neutron.db.api
into neutron_lib.db.api.

As shown herein, the changes are very widespread, but we should be able
to chunk the changes up into multiple patches to keep the patch set size
minimal.

Change-Id: I21ecfdc738020f121c39a3b396c2ed0a289807b5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/557037/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/services/segments/db.py', 'neutron/services/segments/plugin.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/segments_db.py', 'neutron/common/utils.py', 'neutron/services/logapi/common/db_api.py', 'neutron/plugins/ml2/ovo_rpc.py', 'neutron/tests/unit/extensions/test_securitygroup.py', 'neutron/services/qos/qos_plugin.py', 'neutron/services/auto_allocate/db.py', 'neutron/db/quota/api.py', 'neutron/tests/unit/ipam/test_subnet_alloc.py', 'neutron/wsgi.py', 'neutron/db/securitygroups_rpc_base.py', 'neutron/plugins/ml2/db.py', 'neutron/db/allowedaddresspairs_db.py', 'neutron/service.py', 'neutron/tests/unit/quota/test_resource.py', 'neutron/api/v2/base.py', 'neutron/objects/base.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/core_extensions/qos.py', 'neutron/tests/unit/test_wsgi.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/drivers/type_tunnel.py', 'neutron/services/tag/tag_plugin.py', 'neutron/services/trunk/plugin.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/plugins/ml2/drivers/type_flat.py', 'neutron/db/agents_db.py', 'neutron/db/extradhcpopt_db.py', 'neutron/pecan_wsgi/hooks/quota_enforcement.py', 'neutron/services/revisions/revision_plugin.py', 'neutron/tests/unit/testlib_api.py', 'neutron/quota/resource.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/db/metering/metering_db.py', 'neutron/db/portbindings_db.py', 'neutron/db/provisioning_blocks.py', 'neutron/services/logapi/logging_plugin.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/address_scope_db.py', 'neutron/db/rbac_db_mixin.py', 'neutron/quota/resource_registry.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/extensions/test_flavors.py', 'neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/plugins/ml2/managers.py', 'neutron/tests/unit/extensions/test_l3_ext_gw_mode.py', 'neutron/pecan_wsgi/controllers/utils.py', 'neutron/tests/unit/db/test_api.py', 'neutron/tests/unit/extensions/test_portsecurity.py', 'neutron/tests/unit/db/test_dvr_mac_db.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/network_ip_availability_db.py', 'neutron/services/loki/loki_plugin.py', 'neutron/db/flavors_db.py', 'neutron/tests/base.py', 'neutron/db/quota/driver.py', 'neutron/db/db_base_plugin_common.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/dvr_mac_db.py', 'neutron/tests/unit/services/metering/test_metering_plugin.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/ipam/subnet_alloc.py', 'neutron/services/trunk/rpc/server.py', 'neutron/db/api.py', 'neutron/tests/unit/db/test_provisioning_blocks.py']",76,22ccc42970beadef38b3e01f7720175fb7820b96,bp/neutronlib-decouple-db,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(self.ctx):,from neutron.db import api as db_api with db_api.context_manager.writer.using(self.ctx):,277,733
openstack%2Fneutron~master~Ie95919df0f1902fa53df0e699889d4363c732278,openstack/neutron,master,Ie95919df0f1902fa53df0e699889d4363c732278,DNM: consume neutron-lib model_query,ABANDONED,2018-03-29 17:53:14.000000000,2018-04-02 20:34:10.000000000,,"[{'_account_id': 5367}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 17:53:14.000000000', 'files': ['neutron/tests/unit/objects/db/test_api.py', 'neutron/db/securitygroups_db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/objects/db/api.py', 'neutron/common/utils.py', 'neutron/db/rbac_db_mixin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/db/_model_query.py', 'neutron/objects/utils.py', 'neutron/db/l3_db.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/external_net_db.py', 'neutron/tests/base.py', 'neutron/db/agents_db.py', 'neutron/db/db_base_plugin_common.py', 'neutron/objects/agent.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/db/_resource_extend.py', 'neutron/db/portbindings_db.py', 'neutron/common/exceptions.py', 'neutron/db/common_db_mixin.py', 'neutron/tests/unit/objects/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7561b71abddc80a4a823607840824ebad5110563', 'message': 'DNM: consume neutron-lib model_query\n\nDO NOT MERGE\n\nThis is a sample consumption patch for neutron_lib.db.model_query and\nrelated APIs.\n\nChange-Id: Ie95919df0f1902fa53df0e699889d4363c732278\n'}]",0,557786,7561b71abddc80a4a823607840824ebad5110563,9,7,1,5367,,,0,"DNM: consume neutron-lib model_query

DO NOT MERGE

This is a sample consumption patch for neutron_lib.db.model_query and
related APIs.

Change-Id: Ie95919df0f1902fa53df0e699889d4363c732278
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/557786/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/objects/db/test_api.py', 'neutron/db/securitygroups_db.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/objects/db/api.py', 'neutron/common/utils.py', 'neutron/db/rbac_db_mixin.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/db/_model_query.py', 'neutron/objects/utils.py', 'neutron/db/l3_db.py', 'neutron/services/tag/tag_plugin.py', 'neutron/db/external_net_db.py', 'neutron/tests/base.py', 'neutron/db/agents_db.py', 'neutron/db/db_base_plugin_common.py', 'neutron/objects/agent.py', 'neutron/services/timestamp/timestamp_db.py', 'neutron/db/_resource_extend.py', 'neutron/db/portbindings_db.py', 'neutron/common/exceptions.py', 'neutron/db/common_db_mixin.py', 'neutron/tests/unit/objects/test_utils.py']",24,7561b71abddc80a4a823607840824ebad5110563,bp/neutronlib-decouple-db,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.common import exceptions from neutron.objects import utils from neutron.tests import base as test_base class TestConvertFilters(test_base.BaseTestCase): def test_convert_filters_no_tenant_id(self): kwargs = { 'filter%d' % i: 'value%d' % i for i in range(0, 10) } self.assertEqual(kwargs, utils.convert_filters(**kwargs)) def test_convert_filters_tenant_id(self): expected_project_id = 'fake-tenant-id' kwargs = { 'filter%d' % i: 'value%d' % i for i in range(0, 10) } expected = kwargs.copy() expected['project_id'] = expected_project_id self.assertEqual( expected, utils.convert_filters(tenant_id=expected_project_id, **kwargs) ) def test_convert_filters_tenant_id_and_project_id_raises(self): kwargs = { 'filter%d' % i: 'value%d' % i for i in range(0, 10) } kwargs['tenant_id'] = 'fake-tenant-id' kwargs['project_id'] = 'fake-tenant-id' self.assertRaises( exceptions.TenantIdProjectIdFilterConflict, utils.convert_filters, **kwargs ) ",39,480
openstack%2Ftripleo-heat-templates~stable%2Fnewton~I688d1dcdd815205404a5e4d6b86789c35fbf3555,openstack/tripleo-heat-templates,stable/newton,I688d1dcdd815205404a5e4d6b86789c35fbf3555,Make heat parameter plugin_dirs configurable,MERGED,2018-03-20 18:29:59.000000000,2018-04-02 19:57:04.000000000,2018-04-02 19:57:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 18:29:59.000000000', 'files': ['puppet/services/heat-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b9c3cbff772de23ef8d9ec46e3f9f2239aa9e67', 'message': 'Make heat parameter plugin_dirs configurable\n\nHeat has an additional configuration for plugin_dirs\nparameter. This parameter provides a list of directories\nto search for plug-ins. This change exposes the parameter\nand makes it configurable.\n\nDepends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1\nChange-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555\n(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)\n'}]",0,554659,4b9c3cbff772de23ef8d9ec46e3f9f2239aa9e67,6,2,1,18343,,,0,"Make heat parameter plugin_dirs configurable

Heat has an additional configuration for plugin_dirs
parameter. This parameter provides a list of directories
to search for plug-ins. This change exposes the parameter
and makes it configurable.

Depends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1
Change-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555
(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/554659/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/heat-engine.yaml'],1,4b9c3cbff772de23ef8d9ec46e3f9f2239aa9e67,, HeatEnginePluginDirs: type: comma_delimited_list default: [] description: An array of directories to search for plug-ins. heat::engine::plugin_dirs: {get_param: HeatEnginePluginDirs},,5,0
openstack%2Ftripleo-heat-templates~stable%2Focata~I688d1dcdd815205404a5e4d6b86789c35fbf3555,openstack/tripleo-heat-templates,stable/ocata,I688d1dcdd815205404a5e4d6b86789c35fbf3555,Make heat parameter plugin_dirs configurable,MERGED,2018-03-20 18:30:12.000000000,2018-04-02 19:57:03.000000000,2018-04-02 19:57:02.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 18:30:12.000000000', 'files': ['puppet/services/heat-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa6eb78ab534ea326f5215125573239a9142ef37', 'message': 'Make heat parameter plugin_dirs configurable\n\nHeat has an additional configuration for plugin_dirs\nparameter. This parameter provides a list of directories\nto search for plug-ins. This change exposes the parameter\nand makes it configurable.\n\nDepends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1\nChange-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555\n(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)\n'}]",0,554660,fa6eb78ab534ea326f5215125573239a9142ef37,6,2,1,18343,,,0,"Make heat parameter plugin_dirs configurable

Heat has an additional configuration for plugin_dirs
parameter. This parameter provides a list of directories
to search for plug-ins. This change exposes the parameter
and makes it configurable.

Depends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1
Change-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555
(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/554660/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/heat-engine.yaml'],1,fa6eb78ab534ea326f5215125573239a9142ef37,, HeatEnginePluginDirs: type: comma_delimited_list default: [] description: An array of directories to search for plug-ins. heat::engine::plugin_dirs: {get_param: HeatEnginePluginDirs},,5,0
openstack%2Ftripleo-heat-templates~stable%2Fpike~I688d1dcdd815205404a5e4d6b86789c35fbf3555,openstack/tripleo-heat-templates,stable/pike,I688d1dcdd815205404a5e4d6b86789c35fbf3555,Make heat parameter plugin_dirs configurable,MERGED,2018-03-20 17:20:34.000000000,2018-04-02 19:57:01.000000000,2018-04-02 19:57:01.000000000,"[{'_account_id': 14985}, {'_account_id': 18343}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 17:20:34.000000000', 'files': ['puppet/services/heat-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f56c80156d3c729ce5bfd351b804ac3d6b980dc5', 'message': 'Make heat parameter plugin_dirs configurable\n\nHeat has an additional configuration for plugin_dirs\nparameter. This parameter provides a list of directories\nto search for plug-ins. This change exposes the parameter\nand makes it configurable.\n\nDepends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1\nChange-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555\n(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)\n'}]",0,554637,f56c80156d3c729ce5bfd351b804ac3d6b980dc5,10,4,1,18343,,,0,"Make heat parameter plugin_dirs configurable

Heat has an additional configuration for plugin_dirs
parameter. This parameter provides a list of directories
to search for plug-ins. This change exposes the parameter
and makes it configurable.

Depends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1
Change-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555
(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/554637/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/heat-engine.yaml'],1,f56c80156d3c729ce5bfd351b804ac3d6b980dc5,, HeatEnginePluginDirs: type: comma_delimited_list default: [] description: An array of directories to search for plug-ins. heat::engine::plugin_dirs: {get_param: HeatEnginePluginDirs},,5,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I688d1dcdd815205404a5e4d6b86789c35fbf3555,openstack/tripleo-heat-templates,stable/queens,I688d1dcdd815205404a5e4d6b86789c35fbf3555,Make heat parameter plugin_dirs configurable,MERGED,2018-03-20 17:10:40.000000000,2018-04-02 19:57:00.000000000,2018-04-02 19:56:59.000000000,"[{'_account_id': 14985}, {'_account_id': 18343}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-20 17:10:40.000000000', 'files': ['puppet/services/heat-engine.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4cd1f9504aa1f62487d7cdaef747448f0cd59f4', 'message': 'Make heat parameter plugin_dirs configurable\n\nHeat has an additional configuration for plugin_dirs\nparameter. This parameter provides a list of directories\nto search for plug-ins. This change exposes the parameter\nand makes it configurable.\n\nDepends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1\nChange-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555\n(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)\n'}]",0,554633,f4cd1f9504aa1f62487d7cdaef747448f0cd59f4,10,4,1,18343,,,0,"Make heat parameter plugin_dirs configurable

Heat has an additional configuration for plugin_dirs
parameter. This parameter provides a list of directories
to search for plug-ins. This change exposes the parameter
and makes it configurable.

Depends-On: I636d52f867ee447eaf0e1e80bf9fdc30c91f4ec1
Change-Id: I688d1dcdd815205404a5e4d6b86789c35fbf3555
(cherry picked from commit 5a4d032759dcb7af16d80358348ed1199a08bebf)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/554633/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/heat-engine.yaml'],1,f4cd1f9504aa1f62487d7cdaef747448f0cd59f4,, HeatEnginePluginDirs: type: comma_delimited_list default: [] description: An array of directories to search for plug-ins. heat::engine::plugin_dirs: {get_param: HeatEnginePluginDirs},,5,0
openstack%2Ftripleo-quickstart~master~I8f4c37c1cbe48bda5fe432d1db3f98ecaf41af40,openstack/tripleo-quickstart,master,I8f4c37c1cbe48bda5fe432d1db3f98ecaf41af40,Add fs050: containerized undercloud upgrade,MERGED,2018-03-30 15:11:40.000000000,2018-04-02 19:54:39.000000000,2018-04-02 19:54:39.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-30 15:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/50fde3bffde58f9e23be497bb39e03edbc8da4a3', 'message': 'Add fs050: containerized undercloud upgrade\n\nThis featureset is based on fs047 but it will upgrade\na non containerized undercloud to a containerized undercloud.\n\nChange-Id: I8f4c37c1cbe48bda5fe432d1db3f98ecaf41af40\n'}, {'number': 2, 'created': '2018-03-30 20:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/97eff30b79fb32649944f4abbfc82307bd5c2f82', 'message': 'Add fs050: containerized undercloud upgrade\n\nThis featureset is based on fs047 but it will upgrade\na non containerized undercloud to a containerized undercloud.\n\nChange-Id: I8f4c37c1cbe48bda5fe432d1db3f98ecaf41af40\n'}, {'number': 3, 'created': '2018-03-30 20:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7f7ea987197720e436416059e8d825a63990e1f6', 'message': 'Add fs050: containerized undercloud upgrade\n\nThis featureset is based on fs047 but it will upgrade\na non containerized undercloud to a containerized undercloud.\n\nChange-Id: I8f4c37c1cbe48bda5fe432d1db3f98ecaf41af40\n'}, {'number': 4, 'created': '2018-03-30 20:20:09.000000000', 'files': ['doc/source/feature-configuration.rst', 'config/general_config/featureset050.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c8004e11b09b840c418c64978252af2f4d56f8e1', 'message': 'Add fs050: containerized undercloud upgrade\n\nThis featureset is based on fs047 but it will upgrade\na non containerized undercloud to a containerized undercloud.\n\nChange-Id: I8f4c37c1cbe48bda5fe432d1db3f98ecaf41af40\n'}]",0,557941,c8004e11b09b840c418c64978252af2f4d56f8e1,18,6,4,3153,,,0,"Add fs050: containerized undercloud upgrade

This featureset is based on fs047 but it will upgrade
a non containerized undercloud to a containerized undercloud.

Change-Id: I8f4c37c1cbe48bda5fe432d1db3f98ecaf41af40
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/557941/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/feature-configuration.rst', 'config/general_config/featureset050.yml']",2,50fde3bffde58f9e23be497bb39e03edbc8da4a3,fs050,"################################################## # FEATURESET050 - CONTAINERIZED UNDERCLOUD UPGRADE # Based on featureset047 ################################################## undercloud_generate_service_certificate: false ssl_overcloud: false undercloud_check_idempotency: true undercloud_check_sanity: true containerized_overcloud: false containerized_overcloud_upgrade: false # Force addition of overcloud-upgrade tag, although what will # be performed is an undercloud upgrade instead. mixed_upgrade: true # Tripleo-upgrade specific parameters use_tripleo_upgrade: true undercloud_upgrade: true containerized_undercloud_upgrade: true target_upgrade_version: ""master"" ",,23,0
openstack%2Ftripleo-quickstart-extras~master~Iecb7a30d0b4d83da9b33f50ad3becf66189666be,openstack/tripleo-quickstart-extras,master,Iecb7a30d0b4d83da9b33f50ad3becf66189666be,Rework create reproducing script,MERGED,2018-02-26 09:56:52.000000000,2018-04-02 19:54:38.000000000,2018-04-02 19:54:38.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-02-26 09:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5afc855aee78e248e7e0acb38fbf6663f9f0ca54', 'message': 'Rework create reproducing script\n\nMove job variables to defaults\nMake dlrn_hash optional\n\nChange-Id: Iecb7a30d0b4d83da9b33f50ad3becf66189666be\n'}, {'number': 2, 'created': '2018-02-26 13:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/41bacfb06dff4ad4ff950badad1e7a8b5b31f49e', 'message': 'Rework create reproducing script\n\nMove job variables to defaults\nMake dlrn_hash optional\n\nChange-Id: Iecb7a30d0b4d83da9b33f50ad3becf66189666be\n'}, {'number': 3, 'created': '2018-02-28 03:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e21959d8b42af908de7cdecded7b1200c09f3739', 'message': 'Rework create reproducing script\n\nMove job variables to defaults\nMake dlrn_hash optional\n\nChange-Id: Iecb7a30d0b4d83da9b33f50ad3becf66189666be\n'}, {'number': 4, 'created': '2018-02-28 14:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d1d80344b0ea56beb0395a4cb170731008ffd968', 'message': 'Rework create reproducing script\n\nMove job variables to defaults\nMake dlrn_hash optional\n\nChange-Id: Iecb7a30d0b4d83da9b33f50ad3becf66189666be\n'}, {'number': 5, 'created': '2018-03-02 13:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/77cae846ee4e4c3a780e0cf910309610e267aebb', 'message': 'Rework create reproducing script\n\nMove job variables to defaults\nMake dlrn_hash optional\n\nChange-Id: Iecb7a30d0b4d83da9b33f50ad3becf66189666be\n'}, {'number': 6, 'created': '2018-04-02 00:27:18.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'roles/create-reproducer-script/defaults/main.yml', 'roles/create-reproducer-script/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2cdc009510858029cec691b66bae8689c46adcf4', 'message': 'Rework create reproducing script\n\nMove job variables to defaults\nMake dlrn_hash optional\n\nChange-Id: Iecb7a30d0b4d83da9b33f50ad3becf66189666be\n'}]",8,547960,2cdc009510858029cec691b66bae8689c46adcf4,57,10,6,10969,,,0,"Rework create reproducing script

Move job variables to defaults
Make dlrn_hash optional

Change-Id: Iecb7a30d0b4d83da9b33f50ad3becf66189666be
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/547960/6 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'roles/create-reproducer-script/defaults/main.yml', 'roles/create-reproducer-script/tasks/main.yml']",3,5afc855aee78e248e7e0acb38fbf6663f9f0ca54,547960,\,"- name: Set fact for environment variables set_fact: zuul_changes: ""{{ lookup('env', 'ZUUL_CHANGES') }}"" nodes_config: ""{{ lookup('env', 'NODES_FILE') | regex_replace('^.*/tripleo-quickstart','') }}"" toci_jobtype: ""{{ lookup('env', 'TOCI_JOBTYPE') }}"" - name: Set fact for stable branch set_fact: stable_release: ""{{ lookup('env', 'STABLE_RELEASE') }}"" ",6,11
openstack%2Ftripleo-quickstart~master~Iee4ad5582acb91f6133c6f32ddc9da99b9d78aa9,openstack/tripleo-quickstart,master,Iee4ad5582acb91f6133c6f32ddc9da99b9d78aa9,remove dstat from the virthost,MERGED,2018-03-30 16:53:57.000000000,2018-04-02 19:33:04.000000000,2018-04-02 19:33:04.000000000,"[{'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-30 16:53:57.000000000', 'files': ['roles/environment/setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ec6f060d9d78233f8b2cfe1c0551601c46cbf9a8', 'message': ""remove dstat from the virthost\n\nMonitoring the performance of the virthost is no\nbuying us anything. It's also not used afaict.\n\nChange-Id: Iee4ad5582acb91f6133c6f32ddc9da99b9d78aa9\n""}]",0,557967,ec6f060d9d78233f8b2cfe1c0551601c46cbf9a8,10,6,1,9592,,,0,"remove dstat from the virthost

Monitoring the performance of the virthost is no
buying us anything. It's also not used afaict.

Change-Id: Iee4ad5582acb91f6133c6f32ddc9da99b9d78aa9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/67/557967/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/environment/setup/tasks/main.yml'],1,ec6f060d9d78233f8b2cfe1c0551601c46cbf9a8,,,- name: install the latest version of dstat on virthost package: name: dstat state: present become: true - name: Prepare directory with extra logs file: dest=/var/log/extra state=directory become: true - name: Run dstat for collecting metrics during 2 hours on virthost command: > dstat -tcmndrylpg --nocolor --output /var/log/extra/dstat-csv.log 1 7200 \ >/dev/null async: 7200 poll: 0 become: true changed_when: false ,0,19
openstack%2Ftripleo-quickstart~master~I0a6548754f1ba067ff78fcec199dc1ca8386ed0b,openstack/tripleo-quickstart,master,I0a6548754f1ba067ff78fcec199dc1ca8386ed0b,"DNM, testing scenario000",ABANDONED,2018-02-01 19:56:06.000000000,2018-04-02 19:18:41.000000000,,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-02-01 19:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3aa14d745bd4a1a168cd19a5d4a4c7f48823db34', 'message': 'DNM, testing scenario010\n\nDepends-On: I433297dcd597e49a2ffccc2e61118bbba69f883c\nChange-Id: I0a6548754f1ba067ff78fcec199dc1ca8386ed0b\n'}, {'number': 2, 'created': '2018-02-04 21:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ef1e691d82cf7237719d47854fbf70ebc283639a', 'message': 'DNM, testing scenario010\n\nDepends-On: I433297dcd597e49a2ffccc2e61118bbba69f883c\nChange-Id: I0a6548754f1ba067ff78fcec199dc1ca8386ed0b\n'}, {'number': 3, 'created': '2018-02-06 16:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3d3ffe015142349abfe32e3d32f56ff537b1660b', 'message': 'DNM, testing scenario000\n\nDepends-On: I433297dcd597e49a2ffccc2e61118bbba69f883c\nChange-Id: I0a6548754f1ba067ff78fcec199dc1ca8386ed0b\n'}, {'number': 4, 'created': '2018-02-07 15:56:21.000000000', 'files': ['config/general_config/featureset016.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6c62a04e8b33e3efde6ca34ef6c22b8e9980cac6', 'message': 'DNM, testing scenario000\n\nDepends-On: I433297dcd597e49a2ffccc2e61118bbba69f883c\nChange-Id: I0a6548754f1ba067ff78fcec199dc1ca8386ed0b\n'}]",0,540114,6c62a04e8b33e3efde6ca34ef6c22b8e9980cac6,33,5,4,9592,,,0,"DNM, testing scenario000

Depends-On: I433297dcd597e49a2ffccc2e61118bbba69f883c
Change-Id: I0a6548754f1ba067ff78fcec199dc1ca8386ed0b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/14/540114/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset016.yml'],1,3aa14d745bd4a1a168cd19a5d4a4c7f48823db34,oooq-upgrade,composable_scenario: scenario010-multinode-containers.yaml false false,composable_scenario: scenario001-multinode-containers.yaml true true,3,3
openstack%2Fpython-openstackclient~master~Ie85c5de23c6beb21fd6b4c04c83ddf2a116606ef,openstack/python-openstackclient,master,Ie85c5de23c6beb21fd6b4c04c83ddf2a116606ef,Add support to list image members,MERGED,2018-03-20 15:32:35.000000000,2018-04-02 19:05:15.000000000,2018-04-02 19:05:15.000000000,"[{'_account_id': 970}, {'_account_id': 1004}, {'_account_id': 6482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 15:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/02bc6aa22af86a86837df414b57c43ade8626793', 'message': 'Add support to list image members\n\nThe OpenStack client presently has support to add or remove members\nfrom an image, but no way to list image members.  This patch addreses\nthis issue.\n\nChange-Id: Ie85c5de23c6beb21fd6b4c04c83ddf2a116606ef\n'}, {'number': 2, 'created': '2018-03-21 12:56:22.000000000', 'files': ['doc/source/cli/command-objects/image.rst', 'releasenotes/notes/add-image-member-list-1630ead5988348c2.yaml', 'doc/source/cli/commands.rst', 'openstackclient/tests/unit/image/v2/test_image.py', 'setup.cfg', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/79577681d88e4851d4d32482e80d43ed9aa0f521', 'message': 'Add support to list image members\n\nThe OpenStack client presently has support to add or remove members\nfrom an image, but no way to list image members.  This patch addreses\nthis issue.\n\nChange-Id: Ie85c5de23c6beb21fd6b4c04c83ddf2a116606ef\n'}]",1,554590,79577681d88e4851d4d32482e80d43ed9aa0f521,16,4,2,1004,,,0,"Add support to list image members

The OpenStack client presently has support to add or remove members
from an image, but no way to list image members.  This patch addreses
this issue.

Change-Id: Ie85c5de23c6beb21fd6b4c04c83ddf2a116606ef
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/90/554590/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/command-objects/image.rst', 'setup.cfg', 'openstackclient/image/v2/image.py']",3,02bc6aa22af86a86837df414b57c43ade8626793,,"class ListImageProjects(command.Lister): _description = _(""List projects associated with image"") def get_parser(self, prog_name): parser = super(ListImageProjects, self).get_parser(prog_name) parser.add_argument( ""image"", metavar=""<image>"", help=_(""Image (name or ID)""), ) common.add_project_domain_option_to_parser(parser) return parser def take_action(self, parsed_args): image_client = self.app.client_manager.image columns = ( ""Image ID"", ""Member ID"", ""Status"" ) image_id = utils.find_resource( image_client.images, parsed_args.image).id data = image_client.image_members.list(image_id) return (columns, (utils.get_item_properties( s, columns, ) for s in data)) ",,50,0
openstack%2Fcinder~driverfixes%2Fnewton~I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,openstack/cinder,driverfixes/newton,I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2,Dell EMC SC: API 4.0 incompatibilities,MERGED,2018-03-30 16:42:32.000000000,2018-04-02 18:18:01.000000000,2018-04-02 18:18:00.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-30 16:42:32.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/13b994fb10df3a093c6c3cb2f1c5edb3ec927e9e', 'message': 'Dell EMC SC: API 4.0 incompatibilities\n\n4.0 folder paths begin with a /. Also add a check that the user formatted\nthe folder path correctly.\n\nChange-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2\nCloses-Bug: #1719428\n(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)\n(cherry picked from commit bfc740588fada01a28add541239d224efc7e2bb3)\n(cherry picked from commit 24ebe2a7ec88f23d3fbc0d13c2ac0c55e1b83c09)\n'}]",0,557964,13b994fb10df3a093c6c3cb2f1c5edb3ec927e9e,18,14,1,12112,,,0,"Dell EMC SC: API 4.0 incompatibilities

4.0 folder paths begin with a /. Also add a check that the user formatted
the folder path correctly.

Change-Id: I9bdc17c3f0daab97c33908bf3b96fbce963aa9f2
Closes-Bug: #1719428
(cherry picked from commit d414696c66ebc30c098cbb1ae24e4e772c15aca4)
(cherry picked from commit bfc740588fada01a28add541239d224efc7e2bb3)
(cherry picked from commit 24ebe2a7ec88f23d3fbc0d13c2ac0c55e1b83c09)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/557964/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py']",2,13b994fb10df3a093c6c3cb2f1c5edb3ec927e9e,bug/1719428-driverfixes/newton," # Legacy folder names are still current so we default this to true. self.scapi.legacyfoldernames = True self.scapi._find_folder('StorageCenter/ScVolumeFolder/GetList', 'devstackvol/fcvm', 12345) expected_payload = {'filter': {'filterType': 'AND', 'filters': [ {'filterType': 'Equals', 'attributeName': 'scSerialNumber', 'attributeValue': 12345}, {'filterType': 'Equals', 'attributeName': 'Name', 'attributeValue': 'fcvm'}, {'filterType': 'Equals', 'attributeName': 'folderPath', 'attributeValue': 'devstackvol/'}]}} mock_post.assert_called_once_with( 'StorageCenter/ScVolumeFolder/GetList', expected_payload) @mock.patch.object(dell_storagecenter_api.StorageCenterApi, '_get_result') @mock.patch.object(dell_storagecenter_api.HttpClient, 'post', return_value=RESPONSE_200) def test_find_folder_not_legacy(self, mock_post, mock_get_result, mock_close_connection, mock_open_connection, mock_init): self.scapi.legacyfoldernames = False self.scapi._find_folder('StorageCenter/ScVolumeFolder/GetList', 'devstackvol/fcvm', 12345) expected_payload = {'filter': {'filterType': 'AND', 'filters': [ {'filterType': 'Equals', 'attributeName': 'scSerialNumber', 'attributeValue': 12345}, {'filterType': 'Equals', 'attributeName': 'Name', 'attributeValue': 'fcvm'}, {'filterType': 'Equals', 'attributeName': 'folderPath', 'attributeValue': '/devstackvol/'}]}} mock_post.assert_called_once_with( 'StorageCenter/ScVolumeFolder/GetList', expected_payload) self.assertTrue(mock_get_result.called) self.scapi.legacyfoldernames = True"," res = self.scapi._find_folder( 'StorageCenter/ScVolumeFolder', self.configuration.dell_sc_volume_folder) self.assertTrue(mock_post.called) self.assertEqual(u'devstackvol/fcvm/', res, 'Unexpected folder')",49,7
openstack%2Fcinder~master~I51c746f0aff566cfb99f9f3e65a509c1e545f194,openstack/cinder,master,I51c746f0aff566cfb99f9f3e65a509c1e545f194,Implementation of Cinder driver over FC for Inspur InStorage,MERGED,2018-02-24 03:30:00.000000000,2018-04-02 18:17:57.000000000,2018-04-02 18:17:56.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25648}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-02-24 03:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63f7263cc3b6297a8add358602f08aaabef8dd3e', 'message': 'Implementation of Cinder driver over FC for Inspur InStorage\n\nThis driver implements the features to support the use of Inspur InStorage\nover FC. This driver is base on the iSCSI driver of Inspur InStorage.\n\nChange-Id: I51c746f0aff566cfb99f9f3e65a509c1e545f194\nImplement: blueprint inspur-instorage-fc-support\n'}, {'number': 2, 'created': '2018-03-26 07:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/63c8ddb005c61ef94b817f3929f4af3dd0f141e7', 'message': 'Implementation of Cinder driver over FC for Inspur InStorage\n\nThis driver implements the features to support the use of Inspur InStorage\nover FC. This driver is base on the iSCSI driver of Inspur InStorage.\n\nChange-Id: I51c746f0aff566cfb99f9f3e65a509c1e545f194\nImplement: blueprint inspur-instorage-fc-support\n'}, {'number': 3, 'created': '2018-03-28 00:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e48c56616ccfa96469f2be5e6618ace47a36532d', 'message': 'Implementation of Cinder driver over FC for Inspur InStorage\n\nThis driver implements the features to support the use of Inspur InStorage\nover FC. This driver is base on the iSCSI driver of Inspur InStorage.\n\nChange-Id: I51c746f0aff566cfb99f9f3e65a509c1e545f194\nImplement: blueprint inspur-instorage-fc-support\n'}, {'number': 4, 'created': '2018-03-29 23:43:32.000000000', 'files': ['cinder/volume/utils.py', 'cinder/tests/unit/test_volume_utils.py', 'doc/source/configuration/block-storage/drivers/inspur-instorage-driver.rst', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'releasenotes/notes/inspur-instorage-fc-cinder-driver-70c13e4a64d785d5.yaml', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6e79968ed237a7f0982cdc0d8fcf231d63b38fc', 'message': 'Implementation of Cinder driver over FC for Inspur InStorage\n\nThis driver implements the features to support the use of Inspur InStorage\nover FC. This driver is based on the iSCSI driver of Inspur InStorage.\n\nChange-Id: I51c746f0aff566cfb99f9f3e65a509c1e545f194\nImplement: blueprint inspur-instorage-fc-support\n'}]",14,547700,a6e79968ed237a7f0982cdc0d8fcf231d63b38fc,152,47,4,25648,,,0,"Implementation of Cinder driver over FC for Inspur InStorage

This driver implements the features to support the use of Inspur InStorage
over FC. This driver is based on the iSCSI driver of Inspur InStorage.

Change-Id: I51c746f0aff566cfb99f9f3e65a509c1e545f194
Implement: blueprint inspur-instorage-fc-support
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/547700/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py']",3,63f7263cc3b6297a8add358602f08aaabef8dd3e,bp/inspur-instorage-fc-support,"# Copyright 2017 Inspur Corp. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # """""" Tests for the Inspur InStorage volume driver. """""" from eventlet import greenthread import mock from oslo_utils import importutils from cinder import context from cinder import exception from cinder import test from cinder.tests.unit import utils as testutils from cinder.volume import configuration as conf from cinder.volume.drivers.inspur.instorage import instorage_common from cinder.volume.drivers.inspur.instorage import instorage_fc from cinder.volume import volume_types from cinder.tests.unit.volume.drivers.inspur.instorage import fakes class InStorageMCSFcDriverTestCase(test.TestCase): @mock.patch.object(greenthread, 'sleep') def setUp(self, mock_sleep): super(InStorageMCSFcDriverTestCase, self).setUp() self.fc_driver = fakes.FakeInStorageMCSFcDriver( configuration=conf.Configuration(None)) self._def_flags = {'san_ip': 'hostname', 'san_login': 'user', 'san_password': 'pass', 'instorage_mcs_volpool_name': ['openstack'], 'instorage_mcs_localcopy_timeout': 20, 'instorage_mcs_localcopy_rate': 49, 'instorage_mcs_allow_tenant_qos': True} wwpns = ['1234567890123458', '6543210987654323'] initiator = 'test.initiator.%s' % 123458 self._connector = {'ip': '1.234.56.78', 'host': 'instorage-mcs-test', 'wwpns': wwpns, 'initiator': initiator} self.sim = fakes.FakeInStorage(['openstack']) self.fc_driver.set_fake_storage(self.sim) self.ctxt = context.get_admin_context() self._reset_flags() self.ctxt = context.get_admin_context() db_driver = self.fc_driver.configuration.db_driver self.db = importutils.import_module(db_driver) self.fc_driver.db = self.db self.fc_driver.do_setup(None) self.fc_driver.check_for_setup_error() self.fc_driver._assistant.check_lcmapping_interval = 0 def _set_flag(self, flag, value): group = self.fc_driver.configuration.config_group self.fc_driver.configuration.set_override(flag, value, group) def _reset_flags(self): self.fc_driver.configuration.local_conf.reset() for k, v in self._def_flags.items(): self._set_flag(k, v) def _create_volume(self, **kwargs): pool = fakes.get_test_pool() prop = {'host': 'openstack@mcs#%s' % pool, 'size': 1} for p in prop.keys(): if p not in kwargs: kwargs[p] = prop[p] vol = testutils.create_volume(self.ctxt, **kwargs) self.fc_driver.create_volume(vol) return vol def _delete_volume(self, volume): self.fc_driver.delete_volume(volume) self.db.volume_destroy(self.ctxt, volume['id']) def _generate_vol_info(self, vol_name, vol_id): pool = fakes.get_test_pool() prop = {'mdisk_grp_name': pool} if vol_name: prop.update(volume_name=vol_name, volume_id=vol_id, volume_size=10) else: prop.update(size=10, volume_type_id=None, mdisk_grp_name=pool, host='openstack@mcs#%s' % pool) vol = testutils.create_volume(self.ctxt, **prop) return vol def _assert_vol_exists(self, name, exists): is_vol_defined = self.fc_driver._assistant.is_vdisk_defined(name) self.assertEqual(exists, is_vol_defined) def test_instorage_get_host_with_fc_connection(self): # Create a FC host del self._connector['initiator'] assistant = self.fc_driver._assistant host_name = assistant.create_host(self._connector) # Remove the first wwpn from connector, and then try get host wwpns = self._connector['wwpns'] wwpns.remove(wwpns[0]) host_name = assistant.get_host_from_connector(self._connector) self.assertIsNotNone(host_name) def test_instorage_get_host_with_fc_connection_with_volume(self): # create a FC volume extra_spec = {'capabilities:storage_protocol': '<in> FC'} vol_type_fc = volume_types.create(self.ctxt, 'FC', extra_spec) volume_fc = self._generate_vol_info(None, None) volume_fc['volume_type_id'] = vol_type_fc['id'] self.fc_driver.create_volume(volume_fc) connector = {'host': 'instorage-mcs-host', 'wwnns': ['20000090fa17311e', '20000090fa17311f'], 'wwpns': ['ff00000000000000', 'ff00000000000001'], 'initiator': 'iqn.1993-08.org.debian:01:eac5ccc1aaa'} self.fc_driver.initialize_connection(volume_fc, connector) # Create a FC host assistant = self.fc_driver._assistant # tell lsfabric to not return anything self.sim.error_injection('lsfabric', 'no_hosts') host_name = assistant.get_host_from_connector( connector, volume_fc['name']) self.assertIsNotNone(host_name) def test_instorage_get_host_from_connector_with_lshost_failure2(self): self._connector.pop('initiator') self._connector['wwpns'] = [] # Clearing will skip over fast-path assistant = self.fc_driver._assistant # Add a host to the simulator. We don't need it to match the # connector since we will force a bad failure for lshost. self.sim._cmd_mkhost(name='DifferentHost', hbawwpn='123456') # tell lshost to fail badly while called from # get_host_from_connector self.sim.error_injection('lshost', 'bigger_troubles') self.assertRaises(exception.VolumeBackendAPIException, assistant.get_host_from_connector, self._connector) def test_instorage_get_host_from_connector_not_found(self): self._connector.pop('initiator') assistant = self.fc_driver._assistant # Create some hosts. The first is not related to the connector and # we use the simulator for that. The second is for the connector. # We will force the missing_host error for the first host, but # then tolerate and find the second host on the slow path normally. self.sim._cmd_mkhost(name='instorage-mcs-test-3', hbawwpn='1234567') self.sim._cmd_mkhost(name='instorage-mcs-test-2', hbawwpn='2345678') self.sim._cmd_mkhost(name='instorage-mcs-test-1', hbawwpn='3456789') self.sim._cmd_mkhost(name='A-Different-host', hbawwpn='9345678') self.sim._cmd_mkhost(name='B-Different-host', hbawwpn='8345678') self.sim._cmd_mkhost(name='C-Different-host', hbawwpn='7345678') # tell lsfabric to skip rows so that we skip past fast path self.sim.error_injection('lsfabric', 'remove_rows') # Run test host_name = assistant.get_host_from_connector(self._connector) self.assertIsNone(host_name) def test_instorage_get_host_from_connector_fast_path(self): self._connector.pop('initiator') assistant = self.fc_driver._assistant # Create two hosts. Our lshost will return the hosts in sorted # Order. The extra host will be returned before the target # host. If we get detailed lshost info on our host without # gettting detailed info on the other host we used the fast path self.sim._cmd_mkhost(name='A-DifferentHost', hbawwpn='123456') assistant.create_host(self._connector) # tell lshost to fail while called from get_host_from_connector self.sim.error_injection('lshost', 'fail_fastpath') # tell lsfabric to skip rows so that we skip past fast path self.sim.error_injection('lsfabric', 'remove_rows') # Run test host_name = assistant.get_host_from_connector(self._connector) self.assertIsNotNone(host_name) # Need to assert that lshost was actually called. The way # we do that is check that the next simulator error for lshost # has not been reset. self.assertEqual(self.sim._next_cmd_error['lshost'], 'fail_fastpath', ""lshost was not called in the simulator. The "" ""queued error still remains."") def test_instorage_initiator_multiple_wwpns_connected(self): # Generate us a test volume volume = self._create_volume() # Fibre Channel volume type extra_spec = {'capabilities:storage_protocol': '<in> FC'} vol_type = volume_types.create(self.ctxt, 'FC', extra_spec) volume['volume_type_id'] = vol_type['id'] # Make sure that the volumes have been created self._assert_vol_exists(volume['name'], True) # Set up one WWPN that won't match and one that will. self.fc_driver._state['storage_nodes']['1']['WWPN'] = [ '123456789ABCDEF0', 'AABBCCDDEEFF0010'] wwpns = ['ff00000000000000', 'ff00000000000001'] connector = {'host': 'instorage-mcs-test', 'wwpns': wwpns} with mock.patch.object(instorage_common.InStorageAssistant, 'get_conn_fc_wwpns') as get_mappings: mapped_wwpns = ['AABBCCDDEEFF0001', 'AABBCCDDEEFF0002', 'AABBCCDDEEFF0010', 'AABBCCDDEEFF0012'] get_mappings.return_value = mapped_wwpns # Initialize the connection init_ret = self.fc_driver.initialize_connection(volume, connector) # Make sure we return all wwpns which where mapped as part of the # connection self.assertEqual(mapped_wwpns, init_ret['data']['target_wwn']) def test_instorage_mcs_fc_validate_connector(self): conn_neither = {'host': 'host'} conn_iscsi = {'host': 'host', 'initiator': 'foo'} conn_fc = {'host': 'host', 'wwpns': 'bar', 'wwnns': 'foo'} conn_both = {'host': 'host', 'initiator': 'foo', 'wwpns': 'bar', 'wwnns': 'baz'} self.fc_driver.validate_connector(conn_fc) self.fc_driver.validate_connector(conn_both) self.assertRaises(exception.InvalidConnectorException, self.fc_driver.validate_connector, conn_iscsi) self.assertRaises(exception.InvalidConnectorException, self.fc_driver.validate_connector, conn_neither) def test_instorage_terminate_fc_connection(self): # create a FC volume volume_fc = self._create_volume() extra_spec = {'capabilities:storage_protocol': '<in> FC'} vol_type_fc = volume_types.create(self.ctxt, 'FC', extra_spec) volume_fc['volume_type_id'] = vol_type_fc['id'] connector = {'host': 'instorage-mcs-host', 'wwnns': ['20000090fa17311e', '20000090fa17311f'], 'wwpns': ['ff00000000000000', 'ff00000000000001'], 'initiator': 'iqn.1993-08.org.debian:01:eac5ccc1aaa'} self.fc_driver.initialize_connection(volume_fc, connector) self.fc_driver.terminate_connection(volume_fc, connector) @mock.patch.object(instorage_fc.InStorageMCSFCDriver, '_do_terminate_connection') def test_instorage_initialize_fc_connection_failure(self, term_conn): # create a FC volume volume_fc = self._create_volume() extra_spec = {'capabilities:storage_protocol': '<in> FC'} vol_type_fc = volume_types.create(self.ctxt, 'FC', extra_spec) volume_fc['volume_type_id'] = vol_type_fc['id'] connector = {'host': 'instorage-mcs-host', 'wwnns': ['20000090fa17311e', '20000090fa17311f'], 'wwpns': ['ff00000000000000', 'ff00000000000001'], 'initiator': 'iqn.1993-08.org.debian:01:eac5ccc1aaa'} self.fc_driver._state['storage_nodes'] = {} self.assertRaises(exception.VolumeBackendAPIException, self.fc_driver.initialize_connection, volume_fc, connector) term_conn.assert_called_once_with(volume_fc, connector) def test_instorage_terminate_fc_connection_multi_attach(self): # create a FC volume volume_fc = self._create_volume() extra_spec = {'capabilities:storage_protocol': '<in> FC'} vol_type_fc = volume_types.create(self.ctxt, 'FC', extra_spec) volume_fc['volume_type_id'] = vol_type_fc['id'] connector = {'host': 'instorage-mcs-host', 'wwnns': ['20000090fa17311e', '20000090fa17311f'], 'wwpns': ['ff00000000000000', 'ff00000000000001'], 'initiator': 'iqn.1993-08.org.debian:01:eac5ccc1aaa'} connector2 = {'host': 'INSTORAGE-MCS-HOST', 'wwnns': ['30000090fa17311e', '30000090fa17311f'], 'wwpns': ['ffff000000000000', 'ffff000000000001'], 'initiator': 'iqn.1993-08.org.debian:01:eac5ccc1bbb'} # map and unmap the volume to two hosts normal case self.fc_driver.initialize_connection(volume_fc, connector) self.fc_driver.initialize_connection(volume_fc, connector2) # validate that the host entries are created for conn in [connector, connector2]: host = self.fc_driver._assistant.get_host_from_connector(conn) self.assertIsNotNone(host) self.fc_driver.terminate_connection(volume_fc, connector) self.fc_driver.terminate_connection(volume_fc, connector2) # validate that the host entries are deleted for conn in [connector, connector2]: host = self.fc_driver._assistant.get_host_from_connector(conn) self.assertIsNone(host) # map and unmap the volume to two hosts with the mapping gone self.fc_driver.initialize_connection(volume_fc, connector) self.fc_driver.initialize_connection(volume_fc, connector2) # Test multiple attachments case host_name = self.fc_driver._assistant.get_host_from_connector( connector2) self.fc_driver._assistant.unmap_vol_from_host( volume_fc['name'], host_name) host_name = self.fc_driver._assistant.get_host_from_connector( connector2) self.assertIsNotNone(host_name) with mock.patch.object(instorage_common.InStorageSSH, 'rmvdiskhostmap') as rmmap: rmmap.side_effect = Exception('boom') self.fc_driver.terminate_connection(volume_fc, connector2) host_name = self.fc_driver._assistant.get_host_from_connector( connector2) self.assertIsNone(host_name) # Test single attachment case self.fc_driver._assistant.unmap_vol_from_host( volume_fc['name'], host_name) with mock.patch.object(instorage_common.InStorageSSH, 'rmvdiskhostmap') as rmmap: rmmap.side_effect = Exception('boom') self.fc_driver.terminate_connection(volume_fc, connector) # validate that the host entries are deleted for conn in [connector, connector2]: host = self.fc_driver._assistant.get_host_from_connector(conn) self.assertIsNone(host) def test_instorage_initiator_target_map(self): # Generate us a test volume volume = self._create_volume() # FIbre Channel volume type extra_spec = {'capabilities:storage_protocol': '<in> FC'} vol_type = volume_types.create(self.ctxt, 'FC', extra_spec) volume['volume_type_id'] = vol_type['id'] # Make sure that the volumes have been created self._assert_vol_exists(volume['name'], True) wwpns = ['ff00000000000000', 'ff00000000000001'] connector = {'host': 'instorage-mcs-test', 'wwpns': wwpns} # Initialise the connection init_ret = self.fc_driver.initialize_connection(volume, connector) # Check that the initiator_target_map is as expected init_data = {'driver_volume_type': 'fibre_channel', 'data': {'initiator_target_map': {'ff00000000000000': ['AABBCCDDEEFF0011'], 'ff00000000000001': ['AABBCCDDEEFF0011']}, 'target_discovered': False, 'target_lun': 0, 'target_wwn': ['AABBCCDDEEFF0011'], 'volume_id': volume['id'] } } self.assertEqual(init_data, init_ret) # Terminate connection term_ret = self.fc_driver.terminate_connection(volume, connector) # Check that the initiator_target_map is as expected term_data = {'driver_volume_type': 'fibre_channel', 'data': {'initiator_target_map': {'ff00000000000000': ['5005076802432ADE', '5005076802332ADE', '5005076802532ADE', '5005076802232ADE', '5005076802132ADE', '5005086802132ADE', '5005086802332ADE', '5005086802532ADE', '5005086802232ADE', '5005086802432ADE'], 'ff00000000000001': ['5005076802432ADE', '5005076802332ADE', '5005076802532ADE', '5005076802232ADE', '5005076802132ADE', '5005086802132ADE', '5005086802332ADE', '5005086802532ADE', '5005086802232ADE', '5005086802432ADE']} } } self.assertItemsEqual(term_data, term_ret) def test_instorage_mcs_fc_host_maps(self): # Create two volumes to be used in mappings ctxt = context.get_admin_context() volume1 = self._generate_vol_info(None, None) self.fc_driver.create_volume(volume1) volume2 = self._generate_vol_info(None, None) self.fc_driver.create_volume(volume2) # FIbre Channel volume type extra_spec = {'capabilities:storage_protocol': '<in> FC'} vol_type = volume_types.create(self.ctxt, 'FC', extra_spec) expected = {'driver_volume_type': 'fibre_channel', 'data': {'target_lun': 0, 'target_wwn': ['AABBCCDDEEFF0011'], 'target_discovered': False}} volume1['volume_type_id'] = vol_type['id'] volume2['volume_type_id'] = vol_type['id'] ret = self.fc_driver._assistant.get_host_from_connector( self._connector) self.assertIsNone(ret) # Make sure that the volumes have been created self._assert_vol_exists(volume1['name'], True) self._assert_vol_exists(volume2['name'], True) # Initialize connection from the first volume to a host ret = self.fc_driver.initialize_connection( volume1, self._connector) self.assertEqual(expected['driver_volume_type'], ret['driver_volume_type']) for k, v in expected['data'].items(): self.assertEqual(v, ret['data'][k]) # Initialize again, should notice it and do nothing ret = self.fc_driver.initialize_connection( volume1, self._connector) self.assertEqual(expected['driver_volume_type'], ret['driver_volume_type']) for k, v in expected['data'].items(): self.assertEqual(v, ret['data'][k]) # Try to delete the 1st volume (should fail because it is mapped) self.assertRaises(exception.VolumeBackendAPIException, self.fc_driver.delete_volume, volume1) # Check bad output from lsfabric for the 2nd volume for error in ['remove_field', 'header_mismatch']: self.sim.error_injection('lsfabric', error) self.assertRaises(exception.VolumeBackendAPIException, self.fc_driver.initialize_connection, volume2, self._connector) with mock.patch.object(instorage_common.InStorageAssistant, 'get_conn_fc_wwpns') as conn_fc_wwpns: conn_fc_wwpns.return_value = [] ret = self.fc_driver.initialize_connection(volume2, self._connector) ret = self.fc_driver.terminate_connection(volume1, self._connector) # For the first volume detach, ret['data'] should be empty # only ret['driver_volume_type'] returned self.assertEqual({}, ret['data']) self.assertEqual('fibre_channel', ret['driver_volume_type']) ret = self.fc_driver.terminate_connection(volume2, self._connector) self.assertEqual('fibre_channel', ret['driver_volume_type']) # wwpn is randomly created self.assertNotEqual({}, ret['data']) ret = self.fc_driver._assistant.get_host_from_connector( self._connector) self.assertIsNone(ret) # Test no preferred node self.sim.error_injection('lsvdisk', 'no_pref_node') self.assertRaises(exception.VolumeBackendAPIException, self.fc_driver.initialize_connection, volume1, self._connector) # Initialize connection from the second volume to the host with no # preferred node set if in simulation mode, otherwise, just # another initialize connection. self.sim.error_injection('lsvdisk', 'blank_pref_node') self.fc_driver.initialize_connection(volume2, self._connector) # Try to remove connection from host that doesn't exist (should fail) conn_no_exist = self._connector.copy() conn_no_exist['initiator'] = 'i_dont_exist' conn_no_exist['wwpns'] = ['0000000000000000'] self.assertRaises(exception.VolumeDriverException, self.fc_driver.terminate_connection, volume1, conn_no_exist) # Try to remove connection from volume that isn't mapped (should print # message but NOT fail) unmapped_vol = self._generate_vol_info(None, None) self.fc_driver.create_volume(unmapped_vol) self.fc_driver.terminate_connection(unmapped_vol, self._connector) self.fc_driver.delete_volume(unmapped_vol) # Remove the mapping from the 1st volume and delete it self.fc_driver.terminate_connection(volume1, self._connector) self.fc_driver.delete_volume(volume1) self._assert_vol_exists(volume1['name'], False) # Make sure our host still exists host_name = self.fc_driver._assistant.get_host_from_connector( self._connector) self.assertIsNotNone(host_name) # Remove the mapping from the 2nd volume. The host should # be automatically removed because there are no more mappings. self.fc_driver.terminate_connection(volume2, self._connector) # Check if we successfully terminate connections when the host is not # specified fake_conn = {'ip': '127.0.0.1', 'initiator': 'iqn.fake'} self.fc_driver.initialize_connection(volume2, self._connector) host_name = self.fc_driver._assistant.get_host_from_connector( self._connector) self.assertIsNotNone(host_name) self.fc_driver.terminate_connection(volume2, fake_conn) host_name = self.fc_driver._assistant.get_host_from_connector( self._connector) self.assertIsNone(host_name) self.fc_driver.delete_volume(volume2) self._assert_vol_exists(volume2['name'], False) # Delete volume types that we created volume_types.destroy(ctxt, vol_type['id']) ret = (self.fc_driver._assistant.get_host_from_connector( self._connector)) self.assertIsNone(ret) def test_instorage_mcs_fc_multi_host_maps(self): # Create a volume to be used in mappings ctxt = context.get_admin_context() volume = self._generate_vol_info(None, None) self.fc_driver.create_volume(volume) # Create volume types for protocols types = {} for protocol in ['FC']: opts = {'storage_protocol': '<in> ' + protocol} types[protocol] = volume_types.create(ctxt, protocol, opts) # Create a connector for the second 'host' wwpns = ['1234567890123459', '6543210987654324'] initiator = 'test.initiator.%s' % 123459 conn2 = {'ip': '1.234.56.79', 'host': 'instorage-mcs-test2', 'wwpns': wwpns, 'initiator': initiator} # Check protocols for FC volume['volume_type_id'] = types[protocol]['id'] # Make sure that the volume has been created self._assert_vol_exists(volume['name'], True) self.fc_driver.initialize_connection(volume, self._connector) self.fc_driver.initialize_connection(volume, conn2) self.fc_driver.terminate_connection(volume, conn2) self.fc_driver.terminate_connection(volume, self._connector) def test_add_vdisk_copy_fc(self): # Ensure only FC is available self.fc_driver._state['enabled_protocols'] = set(['FC']) volume = self._generate_vol_info(None, None) self.fc_driver.create_volume(volume) self.fc_driver.add_vdisk_copy(volume['name'], 'fake-pool', None) ",,880,0
openstack%2Fcinder~master~I8fc93c55546e6d4a582beaea9caebcbc9f18d98b,openstack/cinder,master,I8fc93c55546e6d4a582beaea9caebcbc9f18d98b,OVO: support query for disabled services,MERGED,2018-03-27 21:40:39.000000000,2018-04-02 18:17:54.000000000,2018-04-02 18:17:54.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-27 21:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b86a23c5bf64630282e01838d505918b2f9964ca', 'message': 'OVO: support query for disabled services\n\nAdd a additional parameter to get_by_host_and_topic() to query for\ndisabled (or not) services.  This defaults to False so remains\ntransparent to existing callers.\n\nThis is needed for the coming replication promotion patch where services\nare required to be disable prior to promotion.  If this is the case, I\nmust be able to access the disabled services in order to correctly\nperform the promotion operation.\n\nChange-Id: I8fc93c55546e6d4a582beaea9caebcbc9f18d98b\n'}, {'number': 2, 'created': '2018-03-29 15:28:24.000000000', 'files': ['cinder/tests/unit/objects/test_service.py', 'cinder/objects/service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de9c02c09327327dff18f1d87e5164e316c3e3f5', 'message': 'OVO: support query for disabled services\n\nAdd a additional parameter to get_by_host_and_topic() to query for\ndisabled (or not) services.  This defaults to False so remains\ntransparent to existing callers.\n\nThis is needed for the coming replication promotion patch where services\nare required to be disable prior to promotion.  If this is the case, I\nmust be able to access the disabled services in order to correctly\nperform the promotion operation.\n\nChange-Id: I8fc93c55546e6d4a582beaea9caebcbc9f18d98b\n'}]",0,557064,de9c02c09327327dff18f1d87e5164e316c3e3f5,56,36,2,9236,,,0,"OVO: support query for disabled services

Add a additional parameter to get_by_host_and_topic() to query for
disabled (or not) services.  This defaults to False so remains
transparent to existing callers.

This is needed for the coming replication promotion patch where services
are required to be disable prior to promotion.  If this is the case, I
must be able to access the disabled services in order to correctly
perform the promotion operation.

Change-Id: I8fc93c55546e6d4a582beaea9caebcbc9f18d98b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/557064/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/objects/test_service.py', 'cinder/objects/service.py']",2,b86a23c5bf64630282e01838d505918b2f9964ca,ovo-service," def get_by_host_and_topic(cls, context, host, topic, disabled=False): db_service = db.service_get(context, disabled=disabled, host=host,"," def get_by_host_and_topic(cls, context, host, topic): db_service = db.service_get(context, disabled=False, host=host,",8,5
openstack%2Fcinder~driverfixes%2Focata~Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1,openstack/cinder,driverfixes/ocata,Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1,"VMAX Driver - Ocata, detaches fail when volume missing from backend",MERGED,2018-03-21 14:02:38.000000000,2018-04-02 18:17:50.000000000,2018-04-02 18:17:49.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 16258}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23601}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-03-21 14:02:38.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/df207d4862bba9aa42c17a9ba041775bbe40bd45', 'message': 'VMAX Driver - Ocata, detaches fail when volume missing from backend\n\nDetaches are failing when the volume has been deleted externally\nfrom the VMAX backend. This is due to insufficient error handling.\n\nThis is only in Ocata and pre Ocata versions as we changed from\nSMI-S to U4V REST in Pike.\n\nChange-Id: Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1\nCloses-Bug: #1756368\n'}]",0,554927,df207d4862bba9aa42c17a9ba041775bbe40bd45,20,16,1,12670,,,0,"VMAX Driver - Ocata, detaches fail when volume missing from backend

Detaches are failing when the volume has been deleted externally
from the VMAX backend. This is due to insufficient error handling.

This is only in Ocata and pre Ocata versions as we changed from
SMI-S to U4V REST in Pike.

Change-Id: Id9003ee38183e53ce8fa6d84ff79034ce9e7c3a1
Closes-Bug: #1756368
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/554927/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py']",4,df207d4862bba9aa42c17a9ba041775bbe40bd45,bug/1756368," 2.5.2 - detaches fail when volume removed from backend (bug #1756368) VERSION = ""2.5.2"""," VERSION = ""2.5.1""",30,5
openstack%2Foctavia~master~I3faa2b1a85b21ff413efb5b9456349f3021f6f68,openstack/octavia,master,I3faa2b1a85b21ff413efb5b9456349f3021f6f68,Update instance methods to static method,ABANDONED,2017-12-08 00:13:41.000000000,2018-04-02 18:14:04.000000000,,"[{'_account_id': 2245}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-08 00:13:41.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'octavia/api/v2/controllers/pool.py', 'octavia/network/drivers/neutron/base.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/api/v2/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5862690cb4962c6116fda5bcc759e61058997871', 'message': ""Update instance methods to static method\n\nIf instance method doesn't need instance object, we don't need\nto pass self to it. Update these methods to static method instead.\n\nChange-Id: I3faa2b1a85b21ff413efb5b9456349f3021f6f68\n""}]",0,526551,5862690cb4962c6116fda5bcc759e61058997871,11,5,1,12024,,,0,"Update instance methods to static method

If instance method doesn't need instance object, we don't need
to pass self to it. Update these methods to static method instead.

Change-Id: I3faa2b1a85b21ff413efb5b9456349f3021f6f68
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/526551/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'octavia/api/v2/controllers/pool.py', 'octavia/network/drivers/neutron/base.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'octavia/api/v2/controllers/base.py']",6,5862690cb4962c6116fda5bcc759e61058997871,, @staticmethod def _get_default_quotas(project_id):," def _get_default_quotas(self, project_id):",16,8
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I37f7a30e593263da2c18d1b2dad89e780a172a51,openstack/tripleo-heat-templates,stable/queens,I37f7a30e593263da2c18d1b2dad89e780a172a51,Remove default value for pacmaker passwords,MERGED,2018-03-29 23:31:10.000000000,2018-04-02 17:58:41.000000000,2018-04-02 17:58:41.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-29 23:31:10.000000000', 'files': ['puppet/services/pacemaker.yaml', 'releasenotes/notes/remove-pacemaker-passwords-default-values-dd0cfdf7922ecf90.yaml', 'puppet/services/pacemaker_remote.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f95de6a538518130f1ab9ec1d63aedcba061f8b', 'message': 'Remove default value for pacmaker passwords\n\nThe default values for the PcsdPassword and PacemakerRemoteAuthkey\nparameters have been removed, as they did not result in a functioning\npacemaker installation. These values are instead generated by\ntripleo-common, and in the cases where they are not (direct API), we\nwant to fail explicitly if they are not provided.\n\nChange-Id: I37f7a30e593263da2c18d1b2dad89e780a172a51\nCloses-Bug: #1753822\n(cherry picked from commit d57bd297a9470fedb15224e215733e01a198b286)\n'}]",0,557847,7f95de6a538518130f1ab9ec1d63aedcba061f8b,7,4,1,3153,,,0,"Remove default value for pacmaker passwords

The default values for the PcsdPassword and PacemakerRemoteAuthkey
parameters have been removed, as they did not result in a functioning
pacemaker installation. These values are instead generated by
tripleo-common, and in the cases where they are not (direct API), we
want to fail explicitly if they are not provided.

Change-Id: I37f7a30e593263da2c18d1b2dad89e780a172a51
Closes-Bug: #1753822
(cherry picked from commit d57bd297a9470fedb15224e215733e01a198b286)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/557847/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/pacemaker.yaml', 'releasenotes/notes/remove-pacemaker-passwords-default-values-dd0cfdf7922ecf90.yaml', 'puppet/services/pacemaker_remote.yaml']",3,7f95de6a538518130f1ab9ec1d63aedcba061f8b,bug/1753822-stable/queens,, default: '' default: '',7,4
openstack%2Fneutron-lib~master~I6a5fc69c97a0b0aca9c20e87c8f34366a4461945,openstack/neutron-lib,master,I6a5fc69c97a0b0aca9c20e87c8f34366a4461945,rehome used db utils,MERGED,2018-02-01 22:06:08.000000000,2018-04-02 17:38:07.000000000,2018-04-02 17:38:07.000000000,"[{'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 22:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b6879db7aaebf810c1bd9713a0035eb6d292c446', 'message': ""rehome used db utils\n\nThis patch rehomes the get_marker_obj and resource_fields functions\nfrom neutron's db utils. These are the only database related utils used\nby our consumers today [1].\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.db%20import%20_utils\n\nChange-Id: I6a5fc69c97a0b0aca9c20e87c8f34366a4461945\n""}, {'number': 2, 'created': '2018-03-20 20:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1cc88c2c1960b18e23563dd8d1ca6b96bd1600b3', 'message': ""rehome used db utils\n\nThis patch rehomes the get_marker_obj, filter_non_model_columns and\nresource_fields functions from neutron's db utils. These are the only\ndatabase related utils used by our consumers today [1].\n\nTEMP TESTING PATCH:\nDepends-On: https://review.openstack.org/#/c/540158\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.db%20import%20_utils\n\nChange-Id: I6a5fc69c97a0b0aca9c20e87c8f34366a4461945\n""}, {'number': 3, 'created': '2018-03-22 21:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ebcdef3a4d3d8be1525a1bc87e17c45eb2de4022', 'message': ""rehome used db utils\n\nThis patch rehomes the get_marker_obj, filter_non_model_columns,\nmodel_query_scope_is_project and resource_fields functions from\nneutron's db utils. These are the only database related utils used by\nour consumers today [1]. Note that while model_query_scope_is_project is\nnot consumed, it'll be needed in subsequent db rehome patches as shown\nin [2].\n\nTEMP TESTING PATCH:\nDepends-On: https://review.openstack.org/#/c/540158\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.db%20import%20_utils\n[2] https://review.openstack.org/#/c/540980/1/neutron_lib/db/utils.py\n\nChange-Id: I6a5fc69c97a0b0aca9c20e87c8f34366a4461945\n""}, {'number': 4, 'created': '2018-03-23 13:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a51c5660e5d39fd52fe92e35a6aa0371cb930a66', 'message': ""rehome used db utils\n\nThis patch rehomes the get_marker_obj, filter_non_model_columns,\nmodel_query_scope_is_project and resource_fields functions from\nneutron's db utils. These are the only database related utils used by\nour consumers today [1]. Note that while model_query_scope_is_project is\nnot consumed, it'll be needed in subsequent db rehome patches as shown\nin [2].\n\nFor a sample consumption patch see [3].\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.db%20import%20_utils\n[2] https://review.openstack.org/#/c/540980/1/neutron_lib/db/utils.py\n[3] https://review.openstack.org/#/c/540158\n\nChange-Id: I6a5fc69c97a0b0aca9c20e87c8f34366a4461945\n""}, {'number': 5, 'created': '2018-03-28 19:25:00.000000000', 'files': ['neutron_lib/tests/unit/db/test_utils.py', 'releasenotes/notes/rehome-db-utils-3076bf724caa31ef.yaml', 'neutron_lib/db/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2042d18d1f5c476079c777bfd945ee9bbc396b30', 'message': ""rehome used db utils\n\nThis patch rehomes the get_marker_obj, filter_non_model_columns,\nmodel_query_scope_is_project and resource_fields functions from\nneutron's db utils. These are the only database related utils used by\nour consumers today [1]. Note that while model_query_scope_is_project is\nnot consumed, it'll be needed in subsequent db rehome patches as shown\nin [2].\n\nFor a sample consumption patch see [3].\n\n[1] http://codesearch.openstack.org/?q=from%20neutron.db%20import%20_utils\n[2] https://review.openstack.org/#/c/540980/1/neutron_lib/db/utils.py\n[3] https://review.openstack.org/#/c/540158\n\nChange-Id: I6a5fc69c97a0b0aca9c20e87c8f34366a4461945\n""}]",4,540161,2042d18d1f5c476079c777bfd945ee9bbc396b30,25,4,5,5367,,,0,"rehome used db utils

This patch rehomes the get_marker_obj, filter_non_model_columns,
model_query_scope_is_project and resource_fields functions from
neutron's db utils. These are the only database related utils used by
our consumers today [1]. Note that while model_query_scope_is_project is
not consumed, it'll be needed in subsequent db rehome patches as shown
in [2].

For a sample consumption patch see [3].

[1] http://codesearch.openstack.org/?q=from%20neutron.db%20import%20_utils
[2] https://review.openstack.org/#/c/540980/1/neutron_lib/db/utils.py
[3] https://review.openstack.org/#/c/540158

Change-Id: I6a5fc69c97a0b0aca9c20e87c8f34366a4461945
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/61/540161/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/db/test_utils.py', 'releasenotes/notes/rehome-db-utils-3076bf724caa31ef.yaml', 'neutron_lib/db/utils.py']",3,b6879db7aaebf810c1bd9713a0035eb6d292c446,bp/neutronlib-decouple-db,"from sqlalchemy.orm import properties from neutron_lib._i18n import _ from neutron_lib.api import attributes from neutron_lib import exceptions as n_exc def get_marker_obj(plugin, context, resource, limit, marker): """"""Retrieve a resource marker object. This function is used to invoke: plugin._get_<resource>(context, marker) It is used for pagination. :param plugin: The plugin processing the request. :param context: The request context. :param resource: The resource name. :param limit: Indicates if pagination is in effect. :param marker: The id of the marker object. """""" if limit and marker: return getattr(plugin, '_get_%s' % resource)(context, marker) def resource_fields(resource, fields): """"""Return only the resource items that are in fields. :param resource: a resource dictionary :type resource: dict :param fields: a list of fields to select from the resource :type fields: list """""" if fields: resource = {key: item for key, item in resource.items() if key in fields} return attributes.populate_project_info(resource)",from neutron_lib import exceptions as n_exc from sqlalchemy.orm import properties from neutron_lib._i18n import _,67,4
openstack%2Fcinder~master~I12a853c24210865e9fc01220fedf6622efa231e7,openstack/cinder,master,I12a853c24210865e9fc01220fedf6622efa231e7,[sytle] use http code constant instead of int,MERGED,2018-03-25 09:59:14.000000000,2018-04-02 17:38:03.000000000,2018-04-02 17:38:03.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-03-25 09:59:14.000000000', 'files': ['cinder/api/v3/volumes.py', 'cinder/api/v3/groups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7bec6e1ed020bcebbd3e123f1aefe7978712aa8', 'message': '[sytle] use http code constant instead of int\n\nTo keep the consistency, using http_client.ACCEPTED instead\nof 202 in groups.py & volumes.py\n\nChange-Id: I12a853c24210865e9fc01220fedf6622efa231e7\n'}]",0,556160,b7bec6e1ed020bcebbd3e123f1aefe7978712aa8,40,33,1,17130,,,0,"[sytle] use http code constant instead of int

To keep the consistency, using http_client.ACCEPTED instead
of 202 in groups.py & volumes.py

Change-Id: I12a853c24210865e9fc01220fedf6622efa231e7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/556160/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/volumes.py', 'cinder/api/v3/groups.py']",2,b7bec6e1ed020bcebbd3e123f1aefe7978712aa8,status_int, return webob.Response(status_int=http_client.ACCEPTED) return webob.Response(status_int=http_client.ACCEPTED) return webob.Response(status_int=http_client.ACCEPTED), return webob.Response(status_int=202) return webob.Response(status_int=202) return webob.Response(status_int=202),4,4
openstack%2Ftripleo-common~stable%2Fqueens~I27de3a2eec82a7bd99b72744023f29af5ea323c0,openstack/tripleo-common,stable/queens,I27de3a2eec82a7bd99b72744023f29af5ea323c0,Move health_manager cfg section to octavia_worker,MERGED,2018-03-30 10:01:56.000000000,2018-04-02 17:30:23.000000000,2018-04-02 17:30:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6579}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-30 10:01:56.000000000', 'files': ['playbooks/roles/octavia-controller-post-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5510c7a62ae701587d4d997721aa49765f8788bf', 'message': 'Move health_manager cfg section to octavia_worker\n\nThe [health_manager]/controller_ip_port_list parameter should be set on\nthe octavia-worker service, not the octavia-health-manager. The config\nis used by the octavia-worker to render the octavia-agent configuration\nfile. The octavia-agent will then send heartbeats to\noctavia-health-manager instances.\n\nCo-Authored-By: Brent Eagles <beagles@redhat.com>\n\nChange-Id: I27de3a2eec82a7bd99b72744023f29af5ea323c0\n(cherry picked from commit 8ad5e47dcf6febcaadd752e854afed6f7717b617)\n'}]",0,557918,5510c7a62ae701587d4d997721aa49765f8788bf,7,5,1,6469,,,0,"Move health_manager cfg section to octavia_worker

The [health_manager]/controller_ip_port_list parameter should be set on
the octavia-worker service, not the octavia-health-manager. The config
is used by the octavia-worker to render the octavia-agent configuration
file. The octavia-agent will then send heartbeats to
octavia-health-manager instances.

Co-Authored-By: Brent Eagles <beagles@redhat.com>

Change-Id: I27de3a2eec82a7bd99b72744023f29af5ea323c0
(cherry picked from commit 8ad5e47dcf6febcaadd752e854afed6f7717b617)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/557918/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/octavia-controller-post-config/tasks/main.yml'],1,5510c7a62ae701587d4d997721aa49765f8788bf,fix_octavia_cfg-stable/queens," crudini --get ""{{octavia_confd_prefix}}/etc/octavia/conf.d/octavia-worker/worker-post-deploy.conf"" health_manager controller_ip_port_list - name: update octavia worker config file path: ""{{octavia_confd_prefix}}/etc/octavia/conf.d/octavia-worker/worker-post-deploy.conf"""," crudini --get ""{{octavia_confd_prefix}}/etc/octavia/conf.d/octavia-health-manager/manager-post-deploy.conf"" health_manager controller_ip_port_list - name: update octavia health manager config file path: ""{{octavia_confd_prefix}}/etc/octavia/conf.d/octavia-health-manager/manager-post-deploy.conf""",3,3
openstack%2Ftripleo-heat-templates~master~I0a39f2b8f1de5302fd426999acfe5043b0361987,openstack/tripleo-heat-templates,master,I0a39f2b8f1de5302fd426999acfe5043b0361987,get-occ-config.sh: fix handling multiple nodes in a role,MERGED,2018-03-28 14:10:27.000000000,2018-04-02 17:03:29.000000000,2018-04-02 17:03:06.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-28 14:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dbaa9ccc7ddbcbab6c65df501e83522cb1b6f762', 'message': 'get-occ-config.sh: fix handling multiple nodes in a role\n\nWhen using get-occ-config.sh with a role with a count greater\nthan 1, the script will now configure all nodes that are of that role\ntype instead of exiting after only configuring the first.\n\nPreviously, the expression ((i++)) evaluated to 0, and when using\narithmetic expansion, causes a rc of 1, which caused the script to exit\nafter configuring the first node.\n\nChange-Id: I0a39f2b8f1de5302fd426999acfe5043b0361987\nCloses-Bug: #1759581\n'}, {'number': 2, 'created': '2018-03-29 12:20:06.000000000', 'files': ['releasenotes/notes/fix-get-occ-config-with-role-count-greater-1-10ce2010556e5b76.yaml', 'deployed-server/scripts/get-occ-config.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/154879b68dfe3ff3834babcfb1d619a4d05044af', 'message': 'get-occ-config.sh: fix handling multiple nodes in a role\n\nWhen using get-occ-config.sh with a role with a count greater\nthan 1, the script will now configure all nodes that are of that role\ntype instead of exiting after only configuring the first.\n\nPreviously, the expression ((i++)) evaluated to 0, and when using\narithmetic expansion, causes a rc of 1, which caused the script to exit\nafter configuring the first node.\n\nChange-Id: I0a39f2b8f1de5302fd426999acfe5043b0361987\nCloses-Bug: #1759581\n'}]",4,557346,154879b68dfe3ff3834babcfb1d619a4d05044af,28,7,2,7144,,,0,"get-occ-config.sh: fix handling multiple nodes in a role

When using get-occ-config.sh with a role with a count greater
than 1, the script will now configure all nodes that are of that role
type instead of exiting after only configuring the first.

Previously, the expression ((i++)) evaluated to 0, and when using
arithmetic expansion, causes a rc of 1, which caused the script to exit
after configuring the first node.

Change-Id: I0a39f2b8f1de5302fd426999acfe5043b0361987
Closes-Bug: #1759581
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/557346/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-get-occ-config-with-role-count-greater-1-10ce2010556e5b76.yaml', 'deployed-server/scripts/get-occ-config.sh']",2,dbaa9ccc7ddbcbab6c65df501e83522cb1b6f762,bug/1759581, let i+=1, ((i++)),6,1
openstack%2Ftripleo-quickstart~master~If8111c602e1baa9b5bd0ab1f4be78ab3909b053b,openstack/tripleo-quickstart,master,If8111c602e1baa9b5bd0ab1f4be78ab3909b053b,Remove duplicate release note,MERGED,2018-03-20 13:07:10.000000000,2018-04-02 17:03:08.000000000,2018-04-02 17:03:08.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9414}, {'_account_id': 11090}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-20 13:07:10.000000000', 'files': ['releasenotes/notes/consolidate-general-configurations.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d90922a648fd9f4090f712995edd4ee14e6cdd3a', 'message': 'Remove duplicate release note\n\nThe file is a duplicate of\nconsolidate-general-configurations-4748e1b2fbd6d5c9.yaml\nand should be removed.\n\nChange-Id: If8111c602e1baa9b5bd0ab1f4be78ab3909b053b\n'}]",0,554530,d90922a648fd9f4090f712995edd4ee14e6cdd3a,13,9,1,11391,,,0,"Remove duplicate release note

The file is a duplicate of
consolidate-general-configurations-4748e1b2fbd6d5c9.yaml
and should be removed.

Change-Id: If8111c602e1baa9b5bd0ab1f4be78ab3909b053b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/30/554530/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/consolidate-general-configurations.yaml'],1,d90922a648fd9f4090f712995edd4ee14e6cdd3a,remove_release_note,,--- features: - update the config/general_config/minimal.yml and config/general_config/pacemaker.yml configuration files to more closely match what is executed upstream. deprecations: - The configurations that be default did not use containers for releases that supported containers ( pike++ ) are now deprecrated. Specifically the configuration file in tripleo-quickstart-extras config/general_config/containers_minimal.yml and config/general_config/containers_undercloud_minimal.yml are deprecrated.,0,9
openstack%2Fkolla~stable%2Focata~I89f1c4bd741de9ba184f14fcbcb708636616e420,openstack/kolla,stable/ocata,I89f1c4bd741de9ba184f14fcbcb708636616e420,Use separate sudoers for ironic conductor modprobe,MERGED,2018-03-30 19:07:11.000000000,2018-04-02 16:54:19.000000000,2018-04-02 16:54:19.000000000,"[{'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 19:07:11.000000000', 'files': ['docker/ironic/ironic-base/ironic_sudoers', 'docker/ironic/ironic-conductor/iscsi_tcp_sudoers', 'docker/ironic/ironic-conductor/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c67d4f9fb4a4522e8fa36871d81645cf0f6bedfd', 'message': 'Use separate sudoers for ironic conductor modprobe\n\nThe original fix (8b101b28a1040fd6b4753c09364106274d7e6e09) for bug\n1676466 added unnecessary entries to the sudoers file in the\nironic-base image. These included a rootwrap entry pointing to the\nvirtualenv used by source type images (not present in binary type\nimages) and a modprobe iscsi_tcp which is only required by the\nironic-conductor image.\n\nThis change adds a single sudoers file for the iscsi_tcp modprobe\nto the ironic-conductor image and reverts to the common pattern of\nadding a sudoers file to ironic-base only for source type images.\n\nChange-Id: I89f1c4bd741de9ba184f14fcbcb708636616e420\nCloses-bug: #1678143\nRelated-bug: #1676466\nRelated-bug: #1667864\n(cherry picked from commit 1c3336c8c9c1a77964041730973b4839c9a4c441)\n'}]",0,557986,c67d4f9fb4a4522e8fa36871d81645cf0f6bedfd,7,4,1,6558,,,0,"Use separate sudoers for ironic conductor modprobe

The original fix (8b101b28a1040fd6b4753c09364106274d7e6e09) for bug
1676466 added unnecessary entries to the sudoers file in the
ironic-base image. These included a rootwrap entry pointing to the
virtualenv used by source type images (not present in binary type
images) and a modprobe iscsi_tcp which is only required by the
ironic-conductor image.

This change adds a single sudoers file for the iscsi_tcp modprobe
to the ironic-conductor image and reverts to the common pattern of
adding a sudoers file to ironic-base only for source type images.

Change-Id: I89f1c4bd741de9ba184f14fcbcb708636616e420
Closes-bug: #1678143
Related-bug: #1676466
Related-bug: #1667864
(cherry picked from commit 1c3336c8c9c1a77964041730973b4839c9a4c441)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/557986/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ironic/ironic-base/ironic_sudoers', 'docker/ironic/ironic-conductor/iscsi_tcp_sudoers', 'docker/ironic/ironic-conductor/Dockerfile.j2']",3,c67d4f9fb4a4522e8fa36871d81645cf0f6bedfd,bug/1678143-stable/ocata,COPY iscsi_tcp_sudoers /etc/sudoers.d/kolla_iscsi_tcp_sudoers RUN chmod 755 /usr/local/bin/kolla_ironic_extend_start \ && chmod 440 /etc/sudoers.d/kolla_iscsi_tcp_sudoers,RUN chmod 755 /usr/local/bin/kolla_ironic_extend_start,5,2
openstack%2Foctavia~stable%2Fqueens~I68a6b66ddb2bf184528f11e73f411e0301f162e7,openstack/octavia,stable/queens,I68a6b66ddb2bf184528f11e73f411e0301f162e7,Fix logging level for keystone auth bypass,MERGED,2018-03-28 07:23:48.000000000,2018-04-02 16:51:27.000000000,2018-04-02 16:51:26.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 07:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eb6731d0b07bbebf75970e3a3b2fff7e86f51392', 'message': ""Fix logging level for keystone auth bypass\n\nFor some paths (version discovery) we don't require keystone authentication.\nPreviously each hit to these paths logged an INFO level message for the access.\nHowever, some users were using / for their API health monitoring which led\nto excessive log entries.\nThis patch changes this logging level down to DEBUG.\n\nChange-Id: I68a6b66ddb2bf184528f11e73f411e0301f162e7\nStory: 2001743\nTask: 12101\n""}, {'number': 2, 'created': '2018-03-28 21:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5877cbcb33d70df6dd6c403c0b4c02721c8ac207', 'message': ""Fix logging level for keystone auth bypass\n\nFor some paths (version discovery) we don't require keystone authentication.\nPreviously each hit to these paths logged an INFO level message for the access.\nHowever, some users were using / for their API health monitoring which led\nto excessive log entries.\nThis patch changes this logging level down to DEBUG.\n\nChange-Id: I68a6b66ddb2bf184528f11e73f411e0301f162e7\nStory: 2001743\nTask: 12150\n""}, {'number': 3, 'created': '2018-03-30 22:56:00.000000000', 'files': ['octavia/common/keystone.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2f9d1202af28ab5a30b19b6c4b5d9268ca8d106', 'message': ""Fix logging level for keystone auth bypass\n\nFor some paths (version discovery) we don't require keystone authentication.\nPreviously each hit to these paths logged an INFO level message for the access.\nHowever, some users were using / for their API health monitoring which led\nto excessive log entries.\nThis patch changes this logging level down to DEBUG.\n\nChange-Id: I68a6b66ddb2bf184528f11e73f411e0301f162e7\nStory: 2001743\nTask: 12150\n(cherry picked from commit 02a60c7373bdfc656b9ec6944412eecc17093d79)\n""}]",0,557168,e2f9d1202af28ab5a30b19b6c4b5d9268ca8d106,15,4,3,6579,,,0,"Fix logging level for keystone auth bypass

For some paths (version discovery) we don't require keystone authentication.
Previously each hit to these paths logged an INFO level message for the access.
However, some users were using / for their API health monitoring which led
to excessive log entries.
This patch changes this logging level down to DEBUG.

Change-Id: I68a6b66ddb2bf184528f11e73f411e0301f162e7
Story: 2001743
Task: 12150
(cherry picked from commit 02a60c7373bdfc656b9ec6944412eecc17093d79)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/557168/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/common/keystone.py'],1,eb6731d0b07bbebf75970e3a3b2fff7e86f51392,557168, LOG.debug(('Request path is %s and it does not require keystone ', LOG.info(('Request path is %s and it does not require keystone ',1,1
openstack%2Fheat~master~I3d832351fe050c496f0dd9b2c1a9f12623637c30,openstack/heat,master,I3d832351fe050c496f0dd9b2c1a9f12623637c30,Remove mox from test_server,MERGED,2018-03-21 21:31:46.000000000,2018-04-02 16:50:49.000000000,2018-04-02 16:50:49.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 21:31:46.000000000', 'files': ['heat/tests/openstack/nova/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0148674eac2adaf7c3af59ae6bcdb961923c8a21', 'message': 'Remove mox from test_server\n\nChange-Id: I3d832351fe050c496f0dd9b2c1a9f12623637c30\n'}]",0,555065,0148674eac2adaf7c3af59ae6bcdb961923c8a21,8,3,1,4257,,,0,"Remove mox from test_server

Change-Id: I3d832351fe050c496f0dd9b2c1a9f12623637c30
",git fetch https://review.opendev.org/openstack/heat refs/changes/65/555065/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/nova/test_server.py'],1,0148674eac2adaf7c3af59ae6bcdb961923c8a21,mox-removal, self.limits = mock.Mock() max_personality = mock.Mock() max_personality_size = mock.Mock() max_server_meta = mock.Mock(), self.limits = self.m.CreateMockAnything() max_personality = self.m.CreateMockAnything() max_personality_size = self.m.CreateMockAnything() max_server_meta = self.m.CreateMockAnything(),4,4
openstack%2Fheat~master~I68b0539da33bd438b2314a0eb5fdc6354b7e3152,openstack/heat,master,I68b0539da33bd438b2314a0eb5fdc6354b7e3152,Remove mox from test_nova_client,MERGED,2018-03-22 22:53:54.000000000,2018-04-02 16:50:47.000000000,2018-04-02 16:50:47.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 22:53:54.000000000', 'files': ['heat/tests/clients/test_nova_client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/d95897968537a0ce498b6f42b1f750508cffe9a9', 'message': 'Remove mox from test_nova_client\n\nChange-Id: I68b0539da33bd438b2314a0eb5fdc6354b7e3152\n'}]",0,555493,d95897968537a0ce498b6f42b1f750508cffe9a9,6,2,1,4257,,,0,"Remove mox from test_nova_client

Change-Id: I68b0539da33bd438b2314a0eb5fdc6354b7e3152
",git fetch https://review.opendev.org/openstack/heat refs/changes/93/555493/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/clients/test_nova_client.py'],1,d95897968537a0ce498b6f42b1f750508cffe9a9,mox-removal, server = mock.Mock() max_personality = mock.Mock() max_personality_size = mock.Mock() max_server_meta = mock.Mock(), server = self.m.CreateMockAnything() max_personality = self.m.CreateMockAnything() max_personality_size = self.m.CreateMockAnything() max_server_meta = self.m.CreateMockAnything(),4,4
openstack%2Freleases~master~Iac3804ddc6ee4ae7f4999001831d3c7434494e16,openstack/releases,master,Iac3804ddc6ee4ae7f4999001831d3c7434494e16,Add Cyborg for cycle-with-milestone in Rocky,MERGED,2018-04-02 15:38:05.000000000,2018-04-02 16:29:22.000000000,2018-04-02 16:29:21.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 15:38:05.000000000', 'files': ['deliverables/rocky/cyborg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/192752bf58c22466560ba94003399e48e97f170d', 'message': 'Add Cyborg for cycle-with-milestone in Rocky\n\nTo comply with release policy and requirement.\n\nChange-Id: Iac3804ddc6ee4ae7f4999001831d3c7434494e16\nSigned-off-by: zhipengh <huangzhipeng@huawei.com>\n'}]",0,558223,192752bf58c22466560ba94003399e48e97f170d,6,2,1,13629,,,0,"Add Cyborg for cycle-with-milestone in Rocky

To comply with release policy and requirement.

Change-Id: Iac3804ddc6ee4ae7f4999001831d3c7434494e16
Signed-off-by: zhipengh <huangzhipeng@huawei.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/558223/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/cyborg.yaml'],1,192752bf58c22466560ba94003399e48e97f170d,cyborg-rocky-ms,--- launchpad: openstack-cyborg release-model: cycle-with-milestones team: cyborg type: service repository-settings: openstack/cyborg: {} ,,7,0
openstack%2Fpython-cinderclient~master~Icb6c9808829c6088f6ae2408718bcb03ddc7b53a,openstack/python-cinderclient,master,Icb6c9808829c6088f6ae2408718bcb03ddc7b53a,fix a typo in documentation,MERGED,2018-03-23 00:09:12.000000000,2018-04-02 16:24:49.000000000,2018-04-02 16:24:49.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23083}]","[{'number': 1, 'created': '2018-03-23 00:09:12.000000000', 'files': ['cinderclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/953bd8cb8992cc286c9b0162acd1146a538c40f7', 'message': 'fix a typo in documentation\n\nChange-Id: Icb6c9808829c6088f6ae2408718bcb03ddc7b53a\n'}]",0,555510,953bd8cb8992cc286c9b0162acd1146a538c40f7,7,3,1,17130,,,0,"fix a typo in documentation

Change-Id: Icb6c9808829c6088f6ae2408718bcb03ddc7b53a
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/10/555510/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderclient/shell.py'],1,953bd8cb8992cc286c9b0162acd1146a538c40f7,trivialfix, # the auth_type being overridden by the command line., # the auth_type being overriden by the command line.,1,1
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~I32603fd34b60183607c6bd9653c36432cbe6b07a,openstack/openstack-ansible-pip_install,stable/queens,I32603fd34b60183607c6bd9653c36432cbe6b07a,Use constraints with get-pip.py,MERGED,2018-04-01 21:38:06.000000000,2018-04-02 16:07:38.000000000,2018-04-02 16:07:38.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 21:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/33418eb9ee0712961966bcdf2fccdd722df6ca65', 'message': ""Use constraints with get-pip.py\n\nPresently no constraints are passed to get-pip.py when installing\npip, so we just receive the latest version of pip/setuptools/wheel\neverywhere without respecting global-requirement-pins or any other\nconstraints.\n\nTo avoid this we'll pass pip_install_upper_constraints args to\nget-pip.py by default.\n\nChange-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a\n""}, {'number': 2, 'created': '2018-04-02 15:33:52.000000000', 'files': ['tasks/install_offline.yml', 'tasks/install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/5d6839449ed3ec6f081e566e90f6041e1a697750', 'message': ""Use constraints with get-pip.py\n\nPresently no constraints are passed to get-pip.py when installing\npip, so we just receive the latest version of pip/setuptools/wheel\neverywhere without respecting global-requirement-pins or any other\nconstraints.\n\nTo avoid this we'll pass pip_install_upper_constraints args to\nget-pip.py by default.\n\nChange-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a\n(cherry picked from commit ff2b9fa21df74d1b2b141cb398c67d22f817ffdd)\n""}]",0,558127,5d6839449ed3ec6f081e566e90f6041e1a697750,12,4,2,17799,,,0,"Use constraints with get-pip.py

Presently no constraints are passed to get-pip.py when installing
pip, so we just receive the latest version of pip/setuptools/wheel
everywhere without respecting global-requirement-pins or any other
constraints.

To avoid this we'll pass pip_install_upper_constraints args to
get-pip.py by default.

Change-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a
(cherry picked from commit ff2b9fa21df74d1b2b141cb398c67d22f817ffdd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/27/558127/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install_offline.yml', 'tasks/install_source.yml', 'defaults/main.yml']",3,33418eb9ee0712961966bcdf2fccdd722df6ca65,get-pip-constraints,"# By default we will install pip with the same constraints provided for # pip package installs. pip_get_pip_constraints: ""{{ (pip_install_upper_constraints is defined) | ternary('--constraint ' ~ pip_install_upper_constraints, '') }}""",,8,3
openstack%2Fopenstack-ansible-pip_install~stable%2Fpike~I32603fd34b60183607c6bd9653c36432cbe6b07a,openstack/openstack-ansible-pip_install,stable/pike,I32603fd34b60183607c6bd9653c36432cbe6b07a,Use constraints with get-pip.py,MERGED,2018-04-02 15:34:36.000000000,2018-04-02 16:07:37.000000000,2018-04-02 16:07:37.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 15:34:36.000000000', 'files': ['tasks/install_offline.yml', 'tasks/install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/4aeb55be0b6de43b53e4081bc0065da76d6a2589', 'message': ""Use constraints with get-pip.py\n\nPresently no constraints are passed to get-pip.py when installing\npip, so we just receive the latest version of pip/setuptools/wheel\neverywhere without respecting global-requirement-pins or any other\nconstraints.\n\nTo avoid this we'll pass pip_install_upper_constraints args to\nget-pip.py by default.\n\nChange-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a\n(cherry picked from commit ff2b9fa21df74d1b2b141cb398c67d22f817ffdd)\n""}]",0,558222,4aeb55be0b6de43b53e4081bc0065da76d6a2589,7,3,1,17799,,,0,"Use constraints with get-pip.py

Presently no constraints are passed to get-pip.py when installing
pip, so we just receive the latest version of pip/setuptools/wheel
everywhere without respecting global-requirement-pins or any other
constraints.

To avoid this we'll pass pip_install_upper_constraints args to
get-pip.py by default.

Change-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a
(cherry picked from commit ff2b9fa21df74d1b2b141cb398c67d22f817ffdd)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/22/558222/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install_offline.yml', 'tasks/install_source.yml']",2,4aeb55be0b6de43b53e4081bc0065da76d6a2589,get-pip-constraints," python /opt/get-pip.py {{ (pip_install_upper_constraints is defined) | ternary('--constraint ' ~ pip_install_upper_constraints, '') }} {{ pip_source_install_options }} python /opt/get-pip.py --isolated {{ (pip_install_upper_constraints is defined) | ternary('--constraint ' ~ pip_install_upper_constraints, '') }} {{ pip_source_install_options }} {{ pip_get_pip_options }} {{ pip_packages | map('quote') | join (' ') }}", python /opt/get-pip.py {{ pip_source_install_options }} python /opt/get-pip.py --isolated {{ pip_source_install_options }} {{ pip_get_pip_options }} {{ pip_packages | map('quote') | join (' ') }},15,5
openstack%2Fopenstack-ansible-os_magnum~master~I77515f6c90541649e188737b839a6d43fff455f7,openstack/openstack-ansible-os_magnum,master,I77515f6c90541649e188737b839a6d43fff455f7,Convert role to use a common systemd service role,MERGED,2018-03-31 04:48:22.000000000,2018-04-02 16:07:19.000000000,2018-04-02 16:07:19.000000000,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 04:48:22.000000000', 'files': ['tasks/main.yml', 'tasks/magnum_init_systemd.yml', 'templates/magnum-systemd-init.j2', 'defaults/main.yml', 'templates/magnum-systemd-tempfiles.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/bc502243666fdafa753051057dd999f564effd5e', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: I77515f6c90541649e188737b839a6d43fff455f7\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,558031,bc502243666fdafa753051057dd999f564effd5e,7,3,1,7353,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed. The exterior role is built to be OSA compatible and may be pulled
into tree should we deem it necessary.

Change-Id: I77515f6c90541649e188737b839a6d43fff455f7
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/31/558031/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/magnum_init_systemd.yml', 'templates/magnum-systemd-init.j2', 'defaults/main.yml', 'templates/magnum-systemd-tempfiles.j2']",5,bc502243666fdafa753051057dd999f564effd5e,common-systemd-service,,# {{ ansible_managed }} D /var/lock/{{ item.service_name }} 2755 {{ magnum_system_user_name }} {{ magnum_system_group_name }} D /var/run/{{ item.service_name }} 2755 {{ magnum_system_user_name }} {{ magnum_system_group_name }} ,27,98
openstack%2Fnetworking-baremetal~master~I1951982da1bb24a69301a4437fd860142e798a77,openstack/networking-baremetal,master,I1951982da1bb24a69301a4437fd860142e798a77,Updated from global requirements,MERGED,2018-03-10 13:24:21.000000000,2018-04-02 16:01:53.000000000,2018-04-02 16:01:53.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/1609f475714f72e53d5f28669362ae94d7320888', 'message': 'Updated from global requirements\n\nChange-Id: I1951982da1bb24a69301a4437fd860142e798a77\n'}, {'number': 2, 'created': '2018-03-14 05:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/5964150fa39ff029ad4a254c24e9a268e7db7b4d', 'message': 'Updated from global requirements\n\nChange-Id: I1951982da1bb24a69301a4437fd860142e798a77\n'}, {'number': 3, 'created': '2018-03-15 07:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/2147d61d018cf932c3f46a0028905b859a319409', 'message': 'Updated from global requirements\n\nChange-Id: I1951982da1bb24a69301a4437fd860142e798a77\n'}, {'number': 4, 'created': '2018-03-23 07:35:57.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/4483cc9a12b492c818bb59894a4d19ff17908415', 'message': 'Updated from global requirements\n\nChange-Id: I1951982da1bb24a69301a4437fd860142e798a77\n'}]",0,551519,4483cc9a12b492c818bb59894a4d19ff17908415,17,3,4,11131,,,0,"Updated from global requirements

Change-Id: I1951982da1bb24a69301a4437fd860142e798a77
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/19/551519/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1609f475714f72e53d5f28669362ae94d7320888,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fopenstack-ansible-os_neutron~master~I65902f2483ef2f18ac2d229c5ebd9d090b6ae040,openstack/openstack-ansible-os_neutron,master,I65902f2483ef2f18ac2d229c5ebd9d090b6ae040,Convert role to use a common systemd service role,MERGED,2018-03-27 16:00:00.000000000,2018-04-02 15:56:59.000000000,2018-04-02 15:56:59.000000000,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 16:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/43a9fdc8538604136e8d887dbecfd5d2b0bd3ad4', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nIn converting this role to use the common systemd_service role a\nkeystone_service dictionary was created in the defaults main.yml file.\nThis change follows the pattern of other services.\n\nChange-Id: I65902f2483ef2f18ac2d229c5ebd9d090b6ae040\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2018-03-27 19:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/aac7f05a7503dae42c809835e332669f2bd1f8ed', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nIn converting this role to use the common systemd_service role a\nkeystone_service dictionary was created in the defaults main.yml file.\nThis change follows the pattern of other services.\n\nChange-Id: I65902f2483ef2f18ac2d229c5ebd9d090b6ae040\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2018-03-30 13:57:10.000000000', 'files': ['tasks/main.yml', 'tasks/neutron_pre_install.yml', 'tasks/neutron_init_systemd.yml', 'templates/neutron-systemd-init.j2', 'vars/main.yml', 'templates/neutron-systemd-tmpfiles.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/34da3d0eaa5475c2b1876c208785a19ba6d27186', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded.\n\nIn converting this role to use the common systemd_service role a\nkeystone_service dictionary was created in the defaults main.yml file.\nThis change follows the pattern of other services.\n\nChange-Id: I65902f2483ef2f18ac2d229c5ebd9d090b6ae040\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,556952,34da3d0eaa5475c2b1876c208785a19ba6d27186,12,3,3,7353,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed.

In converting this role to use the common systemd_service role a
keystone_service dictionary was created in the defaults main.yml file.
This change follows the pattern of other services.

Change-Id: I65902f2483ef2f18ac2d229c5ebd9d090b6ae040
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/52/556952/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/neutron_init_systemd.yml', 'tasks/neutron_pre_install.yml', 'templates/neutron-systemd-init.j2', 'vars/main.yml', 'templates/neutron-systemd-tmpfiles.j2']",6,43a9fdc8538604136e8d887dbecfd5d2b0bd3ad4,common-systemd-service,,# {{ ansible_managed }} D /var/lock/{{ item.program_binary | default(item.service_name) }} 2755 {{ item.system_user | default(neutron_system_user_name) }} {{ item.system_group | default(neutron_system_group_name) }} D /var/run/{{ item.program_binary | default(item.service_name) }} 2755 {{ item.system_user | default(neutron_system_user_name) }} {{ item.system_group | default(neutron_system_group_name) }} D {{ neutron_lock_path }} 2755 {{ item.system_user | default(neutron_system_user_name) }} {{ item.system_group | default(neutron_system_group_name) }} ,56,129
openstack%2Fproject-config~master~I2c0bcd3adfefd2de450ec60f3bca399d5558dc05,openstack/project-config,master,I2c0bcd3adfefd2de450ec60f3bca399d5558dc05,"Revert ""Drop Limestone max-servers to 0""",MERGED,2018-04-02 15:40:08.000000000,2018-04-02 15:53:00.000000000,2018-04-02 15:52:59.000000000,"[{'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 15:40:08.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2fac607fd4719beceeeb8265888f3e5237dc6cc9', 'message': 'Revert ""Drop Limestone max-servers to 0""\n\nThis reverts commit adb71bf4a7f52a4ef667beba1d6942d1f81e59a9.\n\nChange-Id: I2c0bcd3adfefd2de450ec60f3bca399d5558dc05\n'}]",0,558224,2fac607fd4719beceeeb8265888f3e5237dc6cc9,7,3,1,17799,,,0,"Revert ""Drop Limestone max-servers to 0""

This reverts commit adb71bf4a7f52a4ef667beba1d6942d1f81e59a9.

Change-Id: I2c0bcd3adfefd2de450ec60f3bca399d5558dc05
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/558224/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,2fac607fd4719beceeeb8265888f3e5237dc6cc9,add-limestone, max-servers: 10, max-servers: 0,1,1
openstack%2Fopenstack-ansible-os_heat~master~Ic46d7f9615a492a98abecc970b72413b727290ac,openstack/openstack-ansible-os_heat,master,Ic46d7f9615a492a98abecc970b72413b727290ac,Convert role to use a common systemd service role,MERGED,2018-03-31 03:28:54.000000000,2018-04-02 15:46:51.000000000,2018-04-02 15:46:51.000000000,"[{'_account_id': 6816}, {'_account_id': 7414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 03:28:54.000000000', 'files': ['tasks/main.yml', 'templates/heat-systemd-init.j2', 'templates/heat-systemd-tmpfiles.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/49f0c7e6fecaead625ea140b19cd8d0cce3d6e9f', 'message': 'Convert role to use a common systemd service role\n\nThis removes the systemd service templates and tasks from this role and\nleverages a common systemd service role instead. This change removes a\nlot of code duplication across all roles all without sacrificing features\nor functionality. The intention of this change is to ensure uniformity and\nreduce the maintenance burden on the community when sweeping changes are\nneeded. The exterior role is built to be OSA compatible and may be pulled\ninto tree should we deem it necessary.\n\nChange-Id: Ic46d7f9615a492a98abecc970b72413b727290ac\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,558023,49f0c7e6fecaead625ea140b19cd8d0cce3d6e9f,8,3,1,7353,,,0,"Convert role to use a common systemd service role

This removes the systemd service templates and tasks from this role and
leverages a common systemd service role instead. This change removes a
lot of code duplication across all roles all without sacrificing features
or functionality. The intention of this change is to ensure uniformity and
reduce the maintenance burden on the community when sweeping changes are
needed. The exterior role is built to be OSA compatible and may be pulled
into tree should we deem it necessary.

Change-Id: Ic46d7f9615a492a98abecc970b72413b727290ac
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/23/558023/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'templates/heat-systemd-init.j2', 'templates/heat-systemd-tmpfiles.j2', 'defaults/main.yml']",4,49f0c7e6fecaead625ea140b19cd8d0cce3d6e9f,common-systemd-service," execstarts: ""{{ heat_bin }}/uwsgi --ini /etc/uwsgi/heat-api.ini"" execreloads: ""{{ heat_bin }}/uwsgi --reload /var/run/heat-api/heat-api.pid"" execstarts: ""{{ heat_bin }}/uwsgi --ini /etc/uwsgi/heat-api-cfn.ini"" execreloads: ""{{ heat_bin }}/uwsgi --reload /var/run/heat-api-cfn/heat-api-cfn.pid"" execstarts: ""{{ heat_bin }}/heat-engine"""," log_string: ""--logto "" program_override: ""{{ heat_bin }}/uwsgi --ini /etc/uwsgi/heat-api.ini"" log_string: ""--logto "" program_override: ""{{ heat_bin }}/uwsgi --ini /etc/uwsgi/heat-api-cfn.ini""",29,43
openstack%2Frally-openstack~master~I56b8b5e59946efb34920e65951e776738404db02,openstack/rally-openstack,master,I56b8b5e59946efb34920e65951e776738404db02,[ci] Use proper link for ara report,MERGED,2018-04-02 12:14:25.000000000,2018-04-02 15:41:41.000000000,2018-04-02 15:41:41.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 12:14:25.000000000', 'files': ['tests/ci/pages/task-index.html'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f24365c64604eaa2a6931a913d88679fea1f94a3', 'message': '[ci] Use proper link for ara report\n\nopenstack-infra team changed a place for storing ara report. We need to\nadopt our html template with a proper link now.\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2018-March/128902.html\n\nChange-Id: I56b8b5e59946efb34920e65951e776738404db02\n'}]",0,558203,f24365c64604eaa2a6931a913d88679fea1f94a3,8,2,1,9545,,,0,"[ci] Use proper link for ara report

openstack-infra team changed a place for storing ara report. We need to
adopt our html template with a proper link now.

http://lists.openstack.org/pipermail/openstack-dev/2018-March/128902.html

Change-Id: I56b8b5e59946efb34920e65951e776738404db02
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/03/558203/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/pages/task-index.html'],1,f24365c64604eaa2a6931a913d88679fea1f94a3,jobs," <li><a href=""ara-report/"">ARA | Ansible Run Analysis</a>"," <li><a href=""ara/"">ARA | Ansible Run Analysis</a>",1,1
openstack%2Fheat~master~Ib30fda8b81224bc2ad9361a4ce323fd6859d4846,openstack/heat,master,Ib30fda8b81224bc2ad9361a4ce323fd6859d4846,Remove mox from test_neutron_loadbalancer 2/4 - PoolTest,MERGED,2018-03-13 08:12:21.000000000,2018-04-02 15:41:01.000000000,2018-04-02 15:41:01.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 08:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6375c3b338de21489c3ecc2e579bcfcc4ef1dfe2', 'message': 'Remove mox from test_neutron_loadbalancer 2/4 - PoolTest\n\ngoal: mox_removal\n\nChange-Id: Ib30fda8b81224bc2ad9361a4ce323fd6859d4846\n'}, {'number': 2, 'created': '2018-03-14 04:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bd6fc2baf50291674acc6c7bd29f960d3076e5d9', 'message': 'Remove mox from test_neutron_loadbalancer 2/4 - PoolTest\n\ngoal: mox_removal\n\nChange-Id: Ib30fda8b81224bc2ad9361a4ce323fd6859d4846\n'}, {'number': 3, 'created': '2018-03-14 04:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f7974549aa6c3d88668731f9212b233da579e82e', 'message': 'Remove mox from test_neutron_loadbalancer 2/4 - PoolTest\n\ngoal: mox_removal\n\nChange-Id: Ib30fda8b81224bc2ad9361a4ce323fd6859d4846\n'}, {'number': 4, 'created': '2018-04-02 15:17:08.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/bee8f02b687f72c6473804d282d5ac4b430ada82', 'message': 'Remove mox from test_neutron_loadbalancer 2/4 - PoolTest\n\ngoal: mox_removal\n\nChange-Id: Ib30fda8b81224bc2ad9361a4ce323fd6859d4846\n'}]",8,552431,bee8f02b687f72c6473804d282d5ac4b430ada82,14,4,4,8833,,,0,"Remove mox from test_neutron_loadbalancer 2/4 - PoolTest

goal: mox_removal

Change-Id: Ib30fda8b81224bc2ad9361a4ce323fd6859d4846
",git fetch https://review.opendev.org/openstack/heat refs/changes/31/552431/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/neutron/test_neutron_loadbalancer.py'],1,6375c3b338de21489c3ecc2e579bcfcc4ef1dfe2,mox-removal,"import mock self.mock_create = self.patchobject(neutronclient.Client, 'create_pool') self.mock_delete = self.patchobject(neutronclient.Client, 'delete_pool') self.mock_show = self.patchobject(neutronclient.Client, 'show_pool') self.mock_update = self.patchobject(neutronclient.Client, 'update_pool') self.mock_associate = self.patchobject(neutronclient.Client, 'associate_health_monitor') self.mock_disassociate = self.patchobject( neutronclient.Client, 'disassociate_health_monitor') self.mock_create_vip = self.patchobject(neutronclient.Client, 'create_vip') self.mock_delete_vip = self.patchobject(neutronclient.Client, 'delete_vip') self.mock_show_vip = self.patchobject(neutronclient.Client, 'show_vip') def finder(client, resource_type, name, cmd_resource): return name self.mock_finder = self.patchobject( neutronV20, 'find_resourceid_by_name_or_id', side_effect=finder) self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_show.return_value = {'pool': {'status': 'ACTIVE'}} self.mock_show_vip.return_value = {'vip': {'status': 'ACTIVE'}} self.pool_create_snippet = { self.vip_create_snippet = { 'admin_state_up': True, 'subnet_id': u'sub123', 'pool_id': '5678', 'protocol_port': 80}} if with_vip_subnet: self.stub_SubnetConstraint_validate() self.vip_create_snippet['vip']['subnet_id'] = 'sub9999' self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} def _test_create(self, resolve_neutron=True, with_vip_subnet=False): rsrc = self.create_pool(resolve_neutron, with_vip_subnet) scheduler.TaskRunner(rsrc.create)() self.assertEqual((rsrc.CREATE, rsrc.COMPLETE), rsrc.state) self.mock_create.assert_called_once_with(self.pool_create_snippet) self.mock_create_vip.assert_called_once_with(self.vip_create_snippet) self._test_create(False, False) self._test_create(True, True) self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} self.mock_show.side_effect = [ {'pool': {'status': 'PENDING_CREATE'}}, {'pool': {'status': 'ACTIVE'}}] self.mock_show_vip.side_effect = [ {'vip': {'status': 'PENDING_CREATE'}}, {'vip': {'status': 'ACTIVE'}}] pool_create_snippet = { vip_create_snippet = { self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create_vip.assert_called_once_with(vip_create_snippet) self.mock_show.assert_called_with('5678') self.mock_show_vip.assert_called_with('xyz') pool_create_snippet = { vip_create_snippet = { self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} self.mock_show.return_value = { 'pool': {'status': 'ERROR', 'name': '5678'}} self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create_vip.assert_called_once_with(vip_create_snippet) self.mock_show.assert_called_once_with('5678') self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} self.mock_show.return_value = { 'pool': {'status': 'ACTIVE', 'name': '5678'}} self.mock_show_vip.return_value = { 'vip': {'status': 'SOMETHING', 'name': 'xyz'}} pool_create_snippet = { vip_create_snippet = { self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create_vip.assert_called_once_with(vip_create_snippet) self.mock_show.assert_called_once_with('5678') self.mock_show_vip.assert_called_once_with('xyz') pool_create_snippet = { self.mock_create.side_effect = exceptions.NeutronClientException() self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} self.mock_show.return_value = { 'pool': {'status': 'ACTIVE', 'name': '5678'}} self.mock_show_vip.return_value = { 'vip': {'status': 'ACTIVE', 'name': 'xyz'}} pool_create_snippet = { vip_create_snippet = { self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create_vip.assert_called_once_with(vip_create_snippet) self.mock_show.assert_called_once_with('5678') self.mock_show_vip.assert_called_once_with('xyz') self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} self.mock_show.return_value = { 'pool': {'status': 'ACTIVE', 'provider': 'test_prov'}} self.mock_show_vip.return_value = { 'vip': {'status': 'ACTIVE', 'name': 'xyz'}} pool_create_snippet = { vip_create_snippet = { self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create_vip.assert_called_once_with(vip_create_snippet) self.mock_show_vip.assert_called_once_with('xyz') self.mock_show.assert_called_with('5678') self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} self.mock_show.return_value = { 'pool': {'status': 'ACTIVE', 'name': '5678'}} self.mock_show_vip.return_value = { 'vip': {'status': 'ACTIVE', 'name': 'xyz'}} pool_create_snippet = { vip_create_snippet = { self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create_vip.assert_called_once_with(vip_create_snippet) self.mock_show.assert_called_once_with('5678') self.mock_show_vip.assert_called_once_with('xyz') self.mock_delete_vip.side_effect = exceptions.NeutronClientException( status_code=404) self.mock_delete.side_effect = exceptions.NeutronClientException( status_code=404) self.mock_delete.assert_called_once_with('5678') self.mock_delete_vip.assert_called_once_with('xyz') self.mock_show.assert_called_once_with('5678') self.mock_show_vip.assert_called_once_with('xyz') self.mock_delete_vip.side_effect = exceptions.NeutronClientException( status_code=404) self.mock_delete.side_effect = exceptions.NeutronClientException( status_code=404) self.mock_delete.assert_called_once_with('5678') self.mock_delete_vip.assert_called_once_with('xyz') self.mock_delete_vip.side_effect = exceptions.NeutronClientException( status_code=400) self.mock_delete_vip.assert_called_once_with('xyz') self.mock_delete.assert_not_called() self.mock_delete_vip.side_effect = exceptions.NeutronClientException( status_code=404) self.mock_delete.side_effect = exceptions.NeutronClientException( status_code=400) self.mock_delete.assert_called_once_with('5678') self.mock_delete_vip.assert_called_once_with('xyz') self.mock_show.return_value = { 'pool': {'admin_state_up': True, 'lb_method': 'ROUND_ROBIN'}} self.mock_show_vip.return_value = { 'vip': {'address': '10.0.0.3', 'name': 'xyz'}} self.mock_update.asster_called_once_with( '5678', {'pool': {'admin_state_up': False}}) self.mock_create.return_value = {'pool': {'id': '5678'}} self.mock_create_vip.return_value = {'vip': {'id': 'xyz'}} pool_create_snippet = { vip_create_snippet = { self.mock_show.return_value = { 'pool': {'status': 'ACTIVE', 'name': '5678'}} self.mock_show_vip.return_value = { 'vip': {'status': 'ACTIVE', 'name': 'xyz'}} associate_calls = [mock.call('5678', {'health_monitor': {'id': 'mon123'}}), mock.call('5678', {'health_monitor': {'id': 'mon456'}}), mock.call('5678', {'health_monitor': {'id': 'mon789'}})] self.mock_associate.assert_has_calls(associate_calls) self.assertEqual(3, self.mock_associate.call_count) self.mock_disassociate.assert_called_once_with('5678', 'mon456') self.mock_create.assert_called_once_with(pool_create_snippet) self.mock_create_vip.assert_called_once_with(vip_create_snippet) self.mock_show.assert_called_once_with('5678') self.mock_show_vip.assert_called_once_with('xyz')","import copy self.m.StubOutWithMock(neutronclient.Client, 'create_pool') self.m.StubOutWithMock(neutronclient.Client, 'delete_pool') self.m.StubOutWithMock(neutronclient.Client, 'show_pool') self.m.StubOutWithMock(neutronclient.Client, 'update_pool') self.m.StubOutWithMock(neutronclient.Client, 'associate_health_monitor') self.m.StubOutWithMock(neutronclient.Client, 'disassociate_health_monitor') self.m.StubOutWithMock(neutronclient.Client, 'create_vip') self.m.StubOutWithMock(neutronV20, 'find_resourceid_by_name_or_id') self.m.StubOutWithMock(neutronclient.Client, 'delete_vip') self.m.StubOutWithMock(neutronclient.Client, 'show_vip') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.show_pool('5678').AndReturn( {'pool': {'status': 'ACTIVE'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'ACTIVE'}}) stvipvsn = { 'admin_state_up': True, 'subnet_id': u'sub9999', 'pool_id': '5678', 'protocol_port': 80} } stvippsn = copy.deepcopy(stvipvsn) stvippsn['vip']['subnet_id'] = 'sub123' self.stub_SubnetConstraint_validate() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') if resolve_neutron and with_vip_subnet: neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub9999', cmd_resource=None, ).MultipleTimes().AndReturn('sub9999') neutronclient.Client.create_vip(stvipvsn ).AndReturn({'vip': {'id': 'xyz'}}) else: neutronclient.Client.create_vip(stvippsn ).AndReturn({'vip': {'id': 'xyz'}}) self._test_create(resolve_neutron=False, with_vip_subnet=False) def _test_create(self, resolve_neutron=True, with_vip_subnet=False): rsrc = self.create_pool(resolve_neutron, with_vip_subnet) self.m.ReplayAll() scheduler.TaskRunner(rsrc.create)() self.assertEqual((rsrc.CREATE, rsrc.COMPLETE), rsrc.state) self.m.VerifyAll() self._test_create(with_vip_subnet=True) neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.create_vip({ ).AndReturn({'vip': {'id': 'xyz'}}) neutronclient.Client.show_pool('5678').AndReturn( {'pool': {'status': 'PENDING_CREATE'}}) neutronclient.Client.show_pool('5678').MultipleTimes().AndReturn( {'pool': {'status': 'ACTIVE'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'PENDING_CREATE'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.create_vip({ ).AndReturn({'vip': {'id': 'xyz'}}) neutronclient.Client.show_pool('5678').AndReturn( {'pool': {'status': 'ERROR', 'name': '5678'}}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.create_vip({ ).AndReturn({'vip': {'id': 'xyz'}}) neutronclient.Client.show_pool('5678').MultipleTimes().AndReturn( {'pool': {'status': 'ACTIVE'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'SOMETHING', 'name': 'xyz'}}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndRaise(exceptions.NeutronClientException()) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.create_vip({ ).AndReturn({'vip': {'id': 'xyz'}}) neutronclient.Client.show_pool('5678').AndReturn( {'pool': {'status': 'ACTIVE'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.create_vip({ ).AndReturn({'vip': {'id': 'xyz'}}) neutronclient.Client.show_pool('5678').MultipleTimes().AndReturn( {'pool': {'status': 'ACTIVE', 'provider': 'test_prov'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.create_vip({ ).AndReturn({'vip': {'id': 'xyz'}}) neutronclient.Client.show_pool('5678').AndReturn( {'pool': {'status': 'ACTIVE'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'ACTIVE'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_vip('xyz') neutronclient.Client.show_vip('xyz').AndRaise( exceptions.NeutronClientException(status_code=404)) neutronclient.Client.delete_pool('5678') neutronclient.Client.show_pool('5678').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_vip('xyz').AndRaise( exceptions.NeutronClientException(status_code=404)) neutronclient.Client.delete_pool('5678').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_vip('xyz').AndRaise( exceptions.NeutronClientException(status_code=400)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_vip('xyz').AndRaise( exceptions.NeutronClientException(status_code=404)) neutronclient.Client.delete_pool('5678').AndRaise( exceptions.NeutronClientException(status_code=400)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_pool('5678').MultipleTimes( ).AndReturn( {'pool': {'admin_state_up': True, 'lb_method': 'ROUND_ROBIN'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'address': '10.0.0.3', 'name': 'xyz'}}) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.update_pool( '5678', {'pool': {'admin_state_up': False}}) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub123', cmd_resource=None, ).MultipleTimes().AndReturn('sub123') neutronclient.Client.create_pool({ ).AndReturn({'pool': {'id': '5678'}}) neutronclient.Client.associate_health_monitor( '5678', {'health_monitor': {'id': 'mon123'}}) neutronclient.Client.associate_health_monitor( '5678', {'health_monitor': {'id': 'mon456'}}) neutronclient.Client.create_vip({ ).AndReturn({'vip': {'id': 'xyz'}}) neutronclient.Client.show_pool('5678').AndReturn( {'pool': {'status': 'ACTIVE'}}) neutronclient.Client.show_vip('xyz').AndReturn( {'vip': {'status': 'ACTIVE'}}) neutronclient.Client.disassociate_health_monitor( '5678', 'mon456') neutronclient.Client.associate_health_monitor( '5678', {'health_monitor': {'id': 'mon789'}}) self.m.ReplayAll() self.m.VerifyAll()",175,242
openstack%2Fproject-config~master~I77fa65030094e7abbe4ece85e7512b8dee433d27,openstack/project-config,master,I77fa65030094e7abbe4ece85e7512b8dee433d27,Drop Limestone max-servers to 0,MERGED,2018-03-31 22:32:27.000000000,2018-04-02 15:40:08.000000000,2018-03-31 22:44:47.000000000,"[{'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 22:32:27.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/adb71bf4a7f52a4ef667beba1d6942d1f81e59a9', 'message': 'Drop Limestone max-servers to 0\n\nDropping max-servers to 0 until the mirror is online again.\n\nChange-Id: I77fa65030094e7abbe4ece85e7512b8dee433d27\n'}]",0,558088,adb71bf4a7f52a4ef667beba1d6942d1f81e59a9,7,2,1,17799,,,0,"Drop Limestone max-servers to 0

Dropping max-servers to 0 until the mirror is online again.

Change-Id: I77fa65030094e7abbe4ece85e7512b8dee433d27
",git fetch https://review.opendev.org/openstack/project-config refs/changes/88/558088/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,adb71bf4a7f52a4ef667beba1d6942d1f81e59a9,add-limestone, max-servers: 0, max-servers: 10,1,1
openstack%2Fopenstack-helm-infra~master~Ifd0eeab3fcb2740ab53ce23ba1bcd2146f351aed,openstack/openstack-helm-infra,master,Ifd0eeab3fcb2740ab53ce23ba1bcd2146f351aed,Grafana dashboard for Nginx using nginx-vts metrics,MERGED,2018-02-06 18:32:37.000000000,2018-04-02 15:36:38.000000000,2018-04-02 15:36:38.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-06 18:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a5617c433c1692ddc0ea9907f306058c05b6a45d', 'message': 'Grafana dashboard for Nginx using nginx-vts metrics\n\nChange-Id: Ifd0eeab3fcb2740ab53ce23ba1bcd2146f351aed\n'}, {'number': 2, 'created': '2018-02-06 18:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c28281419dcf5bd786efc82d12f2e630f4053fc', 'message': 'Grafana dashboard for Nginx using nginx-vts metrics\n\nChange-Id: Ifd0eeab3fcb2740ab53ce23ba1bcd2146f351aed\n'}, {'number': 3, 'created': '2018-03-29 18:37:48.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/430acab349ffa88fdbd6e41541074146f00d9010', 'message': 'Grafana dashboard for Nginx using nginx-vts metrics\n\nChange-Id: Ifd0eeab3fcb2740ab53ce23ba1bcd2146f351aed\n'}]",0,541396,430acab349ffa88fdbd6e41541074146f00d9010,10,3,3,18503,,,0,"Grafana dashboard for Nginx using nginx-vts metrics

Change-Id: Ifd0eeab3fcb2740ab53ce23ba1bcd2146f351aed
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/96/541396/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,a5617c433c1692ddc0ea9907f306058c05b6a45d,," title: Openstack Main nginx_stats: __inputs: - name: DS_PROMETHEUS label: prometheus description: '' type: datasource pluginId: prometheus pluginName: Prometheus __requires: - type: grafana id: grafana name: Grafana version: 4.5.2 - type: panel id: graph name: Graph version: '' - type: datasource id: prometheus name: Prometheus version: 1.0.0 annotations: list: [] description: Show stats from the hnlq715/nginx-vts-exporter. editable: true gnetId: 2949 graphTooltip: 0 hideControls: false id: links: [] refresh: 10s rows: - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 1 id: 7 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 12 stack: false steppedLine: false targets: - expr: sum(nginx_upstream_responses_total{upstream=~""^$Upstream$""}) by (status_code, upstream) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ status_code }}.{{ upstream }}"" metric: nginx_upstream_response refId: A step: 4 thresholds: [] timeFrom: timeShift: title: HTTP Response Codes by Upstream tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: false title: Dashboard Row titleSize: h6 - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 1 id: 6 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: sum(irate(nginx_upstream_requests_total{upstream=~""^$Upstream$""}[5m])) by (upstream) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ upstream}}"" metric: nginx_upstream_requests refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Upstream Requests rate tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 1 id: 5 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: sum(irate(nginx_upstream_bytes_total{upstream=~""^$Upstream$""}[5m])) by (direction, upstream) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ direction }}.{{ upstream }}"" metric: nginx_upstream_bytes refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Upstream Bytes Transfer rate tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: false title: Dashboard Row titleSize: h6 - collapse: false height: 250px panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 1 id: 1 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: sum(irate(nginx_connections_total[5m])) by (type) format: time_series intervalFactor: 2 legendFormat: ""{{ type}}"" metric: nginx_server_connections refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Overall Connections rate tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 1 id: 4 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: sum(irate(nginx_cache_total{ server_zone=~""$ingress""}[5m])) by (server_zone, type) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ type }}.{{ server_zone }}"" metric: nginx_server_cache refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Cache Action rate tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: false title: Dashboard Row titleSize: h6 - collapse: false height: 250 panels: - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 1 id: 3 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: sum(irate(nginx_requests_total{ server_zone=~""$ingress"" }[5m])) by (server_zone) format: time_series interval: '' intervalFactor: 2 legendFormat: ""{{ server_zone}}"" metric: nginx_server_requests refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Overall Requests rate tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: short label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: true - aliasColors: {} bars: false dashLength: 10 dashes: false datasource: ""${DS_PROMETHEUS}"" fill: 1 id: 2 legend: avg: false current: false max: false min: false show: true total: false values: false lines: true linewidth: 1 links: [] nullPointMode: 'null' percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 span: 6 stack: false steppedLine: false targets: - expr: sum(irate(nginx_bytes_total{ server_zone=~""$ingress"" }[5m])) by (direction, server_zone) format: time_series intervalFactor: 2 legendFormat: ""{{ direction }}.{{ server_zone }}"" metric: nginx_server_bytes refId: A step: 10 thresholds: [] timeFrom: timeShift: title: Overall Bytes Transferred rate tooltip: msResolution: false shared: true sort: 0 value_type: individual type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: bytes label: logBase: 1 max: min: '0' show: true - format: short label: logBase: 1 max: min: show: true repeat: repeatIteration: repeatRowId: showTitle: false title: Dashboard Row titleSize: h6 schemaVersion: 14 style: dark tags: - prometheus - nginx templating: list: - allValue: "".*"" current: {} datasource: ""${DS_PROMETHEUS}"" hide: 0 includeAll: false label: multi: true name: Upstream options: [] query: label_values(nginx_upstream_bytes_total, upstream) refresh: 1 regex: '' sort: 1 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false - allValue: current: {} datasource: ""${DS_PROMETHEUS}"" hide: 0 includeAll: false label: multi: true name: ingress options: [] query: label_values(nginx_bytes_total, server_zone) refresh: 1 regex: ""/^[^\\*_]+$/"" sort: 1 tagValuesQuery: '' tags: [] tagsQuery: '' type: query useTags: false time: from: now-1h to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: browser title: Nginx Stats version: 13", title: Openstack Main1,605,1
openstack%2Fopenstack-ansible-pip_install~master~I32603fd34b60183607c6bd9653c36432cbe6b07a,openstack/openstack-ansible-pip_install,master,I32603fd34b60183607c6bd9653c36432cbe6b07a,Use constraints with get-pip.py,MERGED,2018-04-01 21:21:14.000000000,2018-04-02 15:26:53.000000000,2018-04-02 15:26:53.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 21:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/d1173f9499aa5b5ba449d3bc8c8659d871fcf4d7', 'message': ""Use constraints with get-pip.py\n\nPresently no constraints are passed to get-pip.py when installing\npip, so we just receive the latest version of pip/setuptools/wheel\neverywhere without respecting global-requirement-pins or any other\nconstraints.\n\nTo avoid this we'll pass pip_install_upper_constraints args to\nget-pip.py by default.\n\nChange-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a\n""}, {'number': 2, 'created': '2018-04-02 14:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/8507d35a0879b49cd0f38b304f40c3b56dfb5df3', 'message': ""Use constraints with get-pip.py\n\nPresently no constraints are passed to get-pip.py when installing\npip, so we just receive the latest version of pip/setuptools/wheel\neverywhere without respecting global-requirement-pins or any other\nconstraints.\n\nTo avoid this we'll pass pip_install_upper_constraints args to\nget-pip.py by default.\n\nChange-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a\n""}, {'number': 3, 'created': '2018-04-02 15:06:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/eadeb4a3999d964af4ae384ca7dc1e54c5d061d3', 'message': ""Use constraints with get-pip.py\n\nPresently no constraints are passed to get-pip.py when installing\npip, so we just receive the latest version of pip/setuptools/wheel\neverywhere without respecting global-requirement-pins or any other\nconstraints.\n\nTo avoid this we'll pass pip_install_upper_constraints args to\nget-pip.py by default.\n\nChange-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a\n""}, {'number': 4, 'created': '2018-04-02 15:06:40.000000000', 'files': ['tasks/install_offline.yml', 'tasks/install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/ff2b9fa21df74d1b2b141cb398c67d22f817ffdd', 'message': ""Use constraints with get-pip.py\n\nPresently no constraints are passed to get-pip.py when installing\npip, so we just receive the latest version of pip/setuptools/wheel\neverywhere without respecting global-requirement-pins or any other\nconstraints.\n\nTo avoid this we'll pass pip_install_upper_constraints args to\nget-pip.py by default.\n\nChange-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a\n""}]",1,558124,ff2b9fa21df74d1b2b141cb398c67d22f817ffdd,17,4,4,17799,,,0,"Use constraints with get-pip.py

Presently no constraints are passed to get-pip.py when installing
pip, so we just receive the latest version of pip/setuptools/wheel
everywhere without respecting global-requirement-pins or any other
constraints.

To avoid this we'll pass pip_install_upper_constraints args to
get-pip.py by default.

Change-Id: I32603fd34b60183607c6bd9653c36432cbe6b07a
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/24/558124/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/install_offline.yml', 'tasks/install_source.yml', 'defaults/main.yml']",3,d1173f9499aa5b5ba449d3bc8c8659d871fcf4d7,get-pip-constraints,"# By default we will install pip with the same constraints provided for # pip package installs. pip_get_pip_constraints: ""{{ (pip_install_upper_constraints is defined) | ternary('--constraint ' ~ pip_install_upper_constraints, '') }}""",,8,3
openstack%2Fnova-powervm~master~I912731a65aefc336eb51ab65c43154a1648c3f86,openstack/nova-powervm,master,I912731a65aefc336eb51ab65c43154a1648c3f86,remove pycrypto,MERGED,2018-03-31 23:23:45.000000000,2018-04-02 15:24:38.000000000,2018-04-02 15:24:38.000000000,"[{'_account_id': 8190}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 23:23:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/185729b6970dbf9a13b25161f3d23a8d73665e07', 'message': ""remove pycrypto\n\nDoesn't seem to be used.\n\nChange-Id: I912731a65aefc336eb51ab65c43154a1648c3f86\n""}]",0,558091,185729b6970dbf9a13b25161f3d23a8d73665e07,9,7,1,14288,,,0,"remove pycrypto

Doesn't seem to be used.

Change-Id: I912731a65aefc336eb51ab65c43154a1648c3f86
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/91/558091/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,185729b6970dbf9a13b25161f3d23a8d73665e07,remove-pycrypto,,pycrypto>=2.6 # Public Domain,0,1
openstack%2Fsushy~master~Ic90e422d7a86cb14a874ef68d7d7b92406af0a9a,openstack/sushy,master,Ic90e422d7a86cb14a874ef68d7d7b92406af0a9a,Add processor ProcessorId field and Status field,MERGED,2018-03-21 09:23:23.000000000,2018-04-02 15:24:00.000000000,2018-04-02 15:24:00.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 09:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/cfa641b4cea4f74bf4732e6fa7a106ba86fd164a', 'message': 'Add two processor property fields:\n\n  - processor id\n  - status\n\nChange-Id: Ic90e422d7a86cb14a874ef68d7d7b92406af0a9a\n'}, {'number': 2, 'created': '2018-03-28 10:21:44.000000000', 'files': ['sushy/tests/unit/json_samples/processor.json', 'sushy/tests/unit/resources/system/test_processor.py', 'sushy/resources/system/processor.py', 'releasenotes/notes/add-processor-id-and-status-b81d4c6e6c14c25f.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/43ea0c0bd86663501d930c58c7eae8d93821cb4a', 'message': 'Add processor ProcessorId field and Status field\n\nAdd ProcessorId field to show basic information of the processor.\nAdd Status field to show the processor status.\n\nChange-Id: Ic90e422d7a86cb14a874ef68d7d7b92406af0a9a\n'}]",7,554838,43ea0c0bd86663501d930c58c7eae8d93821cb4a,11,3,2,27614,,,0,"Add processor ProcessorId field and Status field

Add ProcessorId field to show basic information of the processor.
Add Status field to show the processor status.

Change-Id: Ic90e422d7a86cb14a874ef68d7d7b92406af0a9a
",git fetch https://review.opendev.org/openstack/sushy refs/changes/38/554838/2 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/processor.json', 'sushy/resources/system/processor.py', 'sushy/tests/unit/resources/system/test_processor.py', 'releasenotes/notes/add-processor-id-and-status-b81d4c6e6c14c25f.yaml']",4,cfa641b4cea4f74bf4732e6fa7a106ba86fd164a,add_processor_property,--- features: - | Adds the processor staus and id fields to show more info about processor. ,,45,2
openstack%2Fironic-specs~master~I3442f653a2dc610213d34b55ab8a4c466c888615,openstack/ironic-specs,master,I3442f653a2dc610213d34b55ab8a4c466c888615,Support StoryBoard URLs,MERGED,2018-03-28 20:59:33.000000000,2018-04-02 15:20:24.000000000,2018-04-02 15:20:24.000000000,"[{'_account_id': 6618}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-03-28 20:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/519dc7a284daa6c7b396c44ee7bce6c97a0f7482', 'message': 'Support StoryBoard URLs\n\nNow that ironic has moved from using Launchpad to Storyboard for\ntracking features/RFEs, we need to check for StoryBoard URLs in\nthe specifications.\n\nChange-Id: I3442f653a2dc610213d34b55ab8a4c466c888615\n'}, {'number': 2, 'created': '2018-03-28 21:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fbe3a3e6411d5da1bfa06872c04684606fada128', 'message': 'Support StoryBoard URLs\n\nNow that ironic has moved from using Launchpad to Storyboard for\ntracking features/RFEs, we need to check for StoryBoard URLs in\nthe specifications.\n\nChange-Id: I3442f653a2dc610213d34b55ab8a4c466c888615\n'}, {'number': 3, 'created': '2018-04-02 14:04:55.000000000', 'files': ['tests/test_titles.py', 'specs/template.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/be2b71fe3b7363df0a1a768307e19f9b62cbcc1f', 'message': 'Support StoryBoard URLs\n\nNow that ironic has moved from using Launchpad to Storyboard for\ntracking features/RFEs, we need to check for StoryBoard URLs in\nthe specifications.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I3442f653a2dc610213d34b55ab8a4c466c888615\n'}]",2,557509,be2b71fe3b7363df0a1a768307e19f9b62cbcc1f,16,6,3,6618,,,0,"Support StoryBoard URLs

Now that ironic has moved from using Launchpad to Storyboard for
tracking features/RFEs, we need to check for StoryBoard URLs in
the specifications.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>
Change-Id: I3442f653a2dc610213d34b55ab8a4c466c888615
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/09/557509/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_titles.py'],1,519dc7a284daa6c7b396c44ee7bce6c97a0f7482,storyboard-url,# There has to be an RFE story in StoryBoard associated with this spec. STORYBOARD_URL = 'https://storyboard.openstack.org/#!/story/' # Backwards compatibility:# Backwards compatibility: if STORYBOARD_URL in line: if BUG_URL in line: return , if BUG_URL in line:,9,1
openstack%2Fopenstack-ansible-pip_install~stable%2Fpike~Iee229eb2f6f154b2f2f629c45f4ab6689d660a50,openstack/openstack-ansible-pip_install,stable/pike,Iee229eb2f6f154b2f2f629c45f4ab6689d660a50,Only attempt package installs when packages are provided,MERGED,2018-04-01 21:41:36.000000000,2018-04-02 15:11:10.000000000,2018-04-02 15:11:10.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 21:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/15d3e6f17473a3ae704911b9e79a6226dc951192', 'message': 'Only attempt package installs when packages are provided\n\npip has changed upstream[1] and now returns a non-zero code when\nno packages are provided for install. This behavior is different\nthan pip<=9 in that earlier versions still returned code 0 when\nan installation was called with no packages[2].\n\nTo avoid this we should only run install tasks when packages are\nprovided for installation.\n\n[1] https://github.com/pypa/pip/pull/4210\n[2] http://paste.openstack.org/raw/718119/\n\nChange-Id: Iee229eb2f6f154b2f2f629c45f4ab6689d660a50\n'}, {'number': 2, 'created': '2018-04-02 13:45:43.000000000', 'files': ['tasks/install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/1dfc0599f28989a614a978bd1c9e842c4687e9e7', 'message': 'Only attempt package installs when packages are provided\n\npip has changed upstream[1] and now returns a non-zero code when\nno packages are provided for install. This behavior is different\nthan pip<=9 in that earlier versions still returned code 0 when\nan installation was called with no packages[2].\n\nTo avoid this we should only run install tasks when packages are\nprovided for installation.\n\n[1] https://github.com/pypa/pip/pull/4210\n[2] http://paste.openstack.org/raw/718119/\n\nChange-Id: Iee229eb2f6f154b2f2f629c45f4ab6689d660a50\n(cherry picked from commit ab5b0f8304a4b0b43fb18115e9e638a4e4b13673)\n'}]",0,558128,1dfc0599f28989a614a978bd1c9e842c4687e9e7,12,5,2,17799,,,0,"Only attempt package installs when packages are provided

pip has changed upstream[1] and now returns a non-zero code when
no packages are provided for install. This behavior is different
than pip<=9 in that earlier versions still returned code 0 when
an installation was called with no packages[2].

To avoid this we should only run install tasks when packages are
provided for installation.

[1] https://github.com/pypa/pip/pull/4210
[2] http://paste.openstack.org/raw/718119/

Change-Id: Iee229eb2f6f154b2f2f629c45f4ab6689d660a50
(cherry picked from commit ab5b0f8304a4b0b43fb18115e9e638a4e4b13673)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/28/558128/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_source.yml'],1,15d3e6f17473a3ae704911b9e79a6226dc951192,skip-package-installs-stable/pike, when: - 'pip_required_pip_packages | length > 0',,2,0
openstack%2Fopenstack-ansible-pip_install~stable%2Focata~Iee229eb2f6f154b2f2f629c45f4ab6689d660a50,openstack/openstack-ansible-pip_install,stable/ocata,Iee229eb2f6f154b2f2f629c45f4ab6689d660a50,Only attempt package installs when packages are provided,MERGED,2018-04-02 13:46:03.000000000,2018-04-02 15:11:09.000000000,2018-04-02 15:11:09.000000000,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 13:46:03.000000000', 'files': ['tasks/install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/cd7cfb110dd9139478a50f21d1126079f5a41088', 'message': 'Only attempt package installs when packages are provided\n\npip has changed upstream[1] and now returns a non-zero code when\nno packages are provided for install. This behavior is different\nthan pip<=9 in that earlier versions still returned code 0 when\nan installation was called with no packages[2].\n\nTo avoid this we should only run install tasks when packages are\nprovided for installation.\n\n[1] https://github.com/pypa/pip/pull/4210\n[2] http://paste.openstack.org/raw/718119/\n\nChange-Id: Iee229eb2f6f154b2f2f629c45f4ab6689d660a50\n(cherry picked from commit ab5b0f8304a4b0b43fb18115e9e638a4e4b13673)\n'}]",0,558208,cd7cfb110dd9139478a50f21d1126079f5a41088,7,3,1,6816,,,0,"Only attempt package installs when packages are provided

pip has changed upstream[1] and now returns a non-zero code when
no packages are provided for install. This behavior is different
than pip<=9 in that earlier versions still returned code 0 when
an installation was called with no packages[2].

To avoid this we should only run install tasks when packages are
provided for installation.

[1] https://github.com/pypa/pip/pull/4210
[2] http://paste.openstack.org/raw/718119/

Change-Id: Iee229eb2f6f154b2f2f629c45f4ab6689d660a50
(cherry picked from commit ab5b0f8304a4b0b43fb18115e9e638a4e4b13673)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/08/558208/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_source.yml'],1,cd7cfb110dd9139478a50f21d1126079f5a41088,skip-package-installs-stable/ocata, when: - 'pip_required_pip_packages | length > 0',,2,0
openstack%2Fheat~master~I21e5750bd49832577f9fed848339386e21ee402c,openstack/heat,master,I21e5750bd49832577f9fed848339386e21ee402c,Remove mox from test_neutron_loadbalancer 1/4 - HealthMonitorTest,MERGED,2018-03-13 08:12:21.000000000,2018-04-02 15:01:51.000000000,2018-04-02 15:01:51.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 08:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3d7d928095ebb1b01d19e43b4d39d9e38aefe711', 'message': 'Remove mox from test_neutron_loadbalancer 1/4 - HealthMonitorTest\n\nChange-Id: I21e5750bd49832577f9fed848339386e21ee402c\ngoal: mox-removal\n'}, {'number': 2, 'created': '2018-03-14 04:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4644add4bb5a556aacbae16efd60e8f983131065', 'message': 'Remove mox from test_neutron_loadbalancer 1/4 - HealthMonitorTest\n\nChange-Id: I21e5750bd49832577f9fed848339386e21ee402c\ngoal: mox-removal\n'}, {'number': 3, 'created': '2018-03-14 04:18:54.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/94f213ca8733846bc2b7b148b1ce2251abe99572', 'message': 'Remove mox from test_neutron_loadbalancer 1/4 - HealthMonitorTest\n\nChange-Id: I21e5750bd49832577f9fed848339386e21ee402c\ngoal: mox-removal\n'}]",3,552430,94f213ca8733846bc2b7b148b1ce2251abe99572,16,4,3,8833,,,0,"Remove mox from test_neutron_loadbalancer 1/4 - HealthMonitorTest

Change-Id: I21e5750bd49832577f9fed848339386e21ee402c
goal: mox-removal
",git fetch https://review.opendev.org/openstack/heat refs/changes/30/552430/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/neutron/test_neutron_loadbalancer.py'],1,3d7d928095ebb1b01d19e43b4d39d9e38aefe711,mox-removal," self.mock_create = self.patchobject(neutronclient.Client, 'create_health_monitor') self.mock_delete = self.patchobject(neutronclient.Client, 'delete_health_monitor') self.mock_show = self.patchobject(neutronclient.Client, 'show_health_monitor') self.mock_update = self.patchobject(neutronclient.Client, 'update_health_monitor') self.create_snippet = { def create_health_monitor(self): self.mock_create.return_value = {'health_monitor': {'id': '5678'}} self.mock_create.assert_called_once_with(self.create_snippet) self.mock_create.side_effect = exceptions.NeutronClientException() self.mock_create.assert_called_once_with(self.create_snippet) self.mock_show.side_effect = exceptions.NeutronClientException( status_code=404) self.mock_create.assert_called_once_with(self.create_snippet) self.mock_delete.assert_called_once_with('5678') self.mock_delete.side_effect = exceptions.NeutronClientException( status_code=404) self.mock_create.assert_called_once_with(self.create_snippet) self.mock_delete.assert_called_once_with('5678') self.mock_delete.side_effect = exceptions.NeutronClientException( status_code=400) self.mock_create.assert_called_once_with(self.create_snippet) self.mock_delete.assert_called_once_with('5678') self.mock_show.return_value = { 'health_monitor': {'admin_state_up': True, 'delay': 3}} self.mock_create.assert_called_once_with(self.create_snippet) self.mock_show.assert_called_with('5678') self.mock_create.assert_called_once_with(self.create_snippet) self.mock_create.assert_called_once_with(self.create_snippet) self.mock_update.assert_called_once_with( '5678', {'health_monitor': {'delay': 10}})"," self.m.StubOutWithMock(neutronclient.Client, 'create_health_monitor') self.m.StubOutWithMock(neutronclient.Client, 'delete_health_monitor') self.m.StubOutWithMock(neutronclient.Client, 'show_health_monitor') self.m.StubOutWithMock(neutronclient.Client, 'update_health_monitor') def create_health_monitor(self): neutronclient.Client.create_health_monitor({ ).AndReturn({'health_monitor': {'id': '5678'}}) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.create_health_monitor({ 'health_monitor': { 'delay': 3, 'max_retries': 5, 'type': u'HTTP', 'timeout': 10, 'admin_state_up': True}} ).AndRaise(exceptions.NeutronClientException()) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_health_monitor('5678') neutronclient.Client.show_health_monitor('5678').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_health_monitor('5678').AndRaise( exceptions.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.delete_health_monitor('5678').AndRaise( exceptions.NeutronClientException(status_code=400)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.show_health_monitor('5678').MultipleTimes( ).AndReturn( {'health_monitor': {'admin_state_up': True, 'delay': 3}}) self.m.ReplayAll() self.m.VerifyAll() self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.update_health_monitor( '5678', {'health_monitor': {'delay': 10}}) self.m.ReplayAll() self.m.VerifyAll()",34,47
openstack%2Fglance~master~I4c432eaf8cb1bcc5076d566adf1e59db3084d52c,openstack/glance,master,I4c432eaf8cb1bcc5076d566adf1e59db3084d52c,TEST: monkey patch in cmd/__init__.py,ABANDONED,2018-03-29 19:18:18.000000000,2018-04-02 14:59:44.000000000,,"[{'_account_id': 6928}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 19:18:18.000000000', 'files': ['glance/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/370b3316dc5b5f74b6de3ff4aff04966347a260b', 'message': ""TEST: monkey patch in cmd/__init__.py\n\nWe're getting some inconsistent results locally as to whether this\nfixes the doc build.  Trying out a test patch to see what ci says.\n\nChange-Id: I4c432eaf8cb1bcc5076d566adf1e59db3084d52c\n""}]",0,557807,370b3316dc5b5f74b6de3ff4aff04966347a260b,5,3,1,6928,,,0,"TEST: monkey patch in cmd/__init__.py

We're getting some inconsistent results locally as to whether this
fixes the doc build.  Trying out a test patch to see what ci says.

Change-Id: I4c432eaf8cb1bcc5076d566adf1e59db3084d52c
",git fetch https://review.opendev.org/openstack/glance refs/changes/07/557807/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/cmd/__init__.py'],1,370b3316dc5b5f74b6de3ff4aff04966347a260b,test-docs,import eventlet # NOTE(jokke): As per the eventlet commit # b756447bab51046dfc6f1e0e299cc997ab343701 there's circular import happening # which can be solved making sure the hubs are properly and fully imported # before calling monkey_patch(). This is solved in eventlet 0.22.0 but we # need to address it before that is widely used around. eventlet.hubs.get_hub() eventlet.patcher.monkey_patch() ,,9,0
openstack%2Ftripleo-heat-templates~master~I953c394d51eaf3c125d9f36394dc2e21ddd86eb5,openstack/tripleo-heat-templates,master,I953c394d51eaf3c125d9f36394dc2e21ddd86eb5,Added release notes of tempest container,MERGED,2018-03-12 11:25:37.000000000,2018-04-02 14:48:05.000000000,2018-04-02 14:48:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 11:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb5f113ad11ace35de9d8ffb70bf3e13b8a6990f', 'message': 'Added release notes of tempest container\n\nChange-Id: I953c394d51eaf3c125d9f36394dc2e21ddd86eb5\n'}, {'number': 2, 'created': '2018-03-14 06:06:58.000000000', 'files': ['releasenotes/notes/containerized-tempest-support-0ceaaf6427ce36e9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06638e76b74e58eccdfdee9c475dc529bb8bdf5a', 'message': 'Added release notes of tempest container\n\nChange-Id: I953c394d51eaf3c125d9f36394dc2e21ddd86eb5\n'}]",0,551970,06638e76b74e58eccdfdee9c475dc529bb8bdf5a,10,3,2,12393,,,0,"Added release notes of tempest container

Change-Id: I953c394d51eaf3c125d9f36394dc2e21ddd86eb5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/551970/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/containerized-tempest-support-0ceaaf6427ce36e9.yaml'],1,fb5f113ad11ace35de9d8ffb70bf3e13b8a6990f,containerize_tempest,--- features: - Added containerized tempest support in undercloud. - Add DockerTempestImage parameter to add a fake tempest service which makes sure tempest container exists on the undercloud. ,,6,0
openstack%2Ftripleo-quickstart~master~Ib42604b4853bcd97561769dce87179844292e173,openstack/tripleo-quickstart,master,Ib42604b4853bcd97561769dce87179844292e173,Updated tempest plugin names,MERGED,2018-02-14 10:50:55.000000000,2018-04-02 14:48:04.000000000,2018-04-02 14:48:04.000000000,"[{'_account_id': 3153}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11391}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-02-14 10:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f5a74ae2c5338ca4eedf1d9a7d993c8b8538930a', 'message': ""Updated tempest plugin names\n\n* https://review.rdoproject.org/r/#/c/11008/ marks the addition of\n  python-mistral-tests-tempest by moving tempest plugin to a\n  seperate repo. Let's consume it.\n* https://review.rdoproject.org/r/#/c/10309/ marks the addition of\n  zaqar-tempest-plugin in RDO from Queens release.\n\nChange-Id: Ib42604b4853bcd97561769dce87179844292e173\n""}, {'number': 2, 'created': '2018-02-15 05:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/72cecf0ec912c6eb73998a92df7873e8a218ce78', 'message': ""Updated tempest plugin names\n\n* https://review.rdoproject.org/r/#/c/11008/ marks the addition of\n  python-mistral-tests-tempest by moving tempest plugin to a\n  seperate repo. Let's consume it.\n* https://review.rdoproject.org/r/#/c/10309/ marks the addition of\n  zaqar-tempest-plugin in RDO from Queens release.\n\nChange-Id: Ib42604b4853bcd97561769dce87179844292e173\n""}, {'number': 3, 'created': '2018-02-21 15:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7aaecf7731c9f1df3139cb9667676aa1a6b11182', 'message': ""Updated tempest plugin names\n\n* https://review.rdoproject.org/r/#/c/11008/ marks the addition of\n  python-mistral-tests-tempest by moving tempest plugin to a\n  seperate repo. Let's consume it.\n* https://review.rdoproject.org/r/#/c/10309/ marks the addition of\n  zaqar-tempest-plugin in RDO from Queens release.\n\nChange-Id: Ib42604b4853bcd97561769dce87179844292e173\n""}, {'number': 4, 'created': '2018-02-26 14:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3b0bc32d209b8aa67400f6682edccf3b43d16d1c', 'message': ""Updated tempest plugin names\n\n* https://review.rdoproject.org/r/#/c/11008/ marks the addition of\n  python-mistral-tests-tempest by moving tempest plugin to a\n  seperate repo. Let's consume it.\n* https://review.rdoproject.org/r/#/c/10309/ marks the addition of\n  zaqar-tempest-plugin in RDO from Queens release.\n\nChange-Id: Ib42604b4853bcd97561769dce87179844292e173\n""}, {'number': 5, 'created': '2018-03-05 06:50:17.000000000', 'files': ['config/general_config/featureset006.yml', 'config/general_config/featureset007.yml', 'config/general_config/featureset017.yml', 'config/general_config/featureset018.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0c42cbe2203629b533a8c13e32b9146c029414ea', 'message': ""Updated tempest plugin names\n\n* https://review.rdoproject.org/r/#/c/11008/ marks the addition of\n  python-mistral-tests-tempest by moving tempest plugin to a\n  seperate repo. Let's consume it.\n* https://review.rdoproject.org/r/#/c/10309/ marks the addition of\n  zaqar-tempest-plugin in RDO from Queens release.\n\nChange-Id: Ib42604b4853bcd97561769dce87179844292e173\n""}]",0,544242,0c42cbe2203629b533a8c13e32b9146c029414ea,48,11,5,12393,,,0,"Updated tempest plugin names

* https://review.rdoproject.org/r/#/c/11008/ marks the addition of
  python-mistral-tests-tempest by moving tempest plugin to a
  seperate repo. Let's consume it.
* https://review.rdoproject.org/r/#/c/10309/ marks the addition of
  zaqar-tempest-plugin in RDO from Queens release.

Change-Id: Ib42604b4853bcd97561769dce87179844292e173
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/42/544242/4 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset006.yml', 'config/general_config/featureset007.yml', 'config/general_config/featureset017.yml', 'config/general_config/featureset018.yml']",4,f5a74ae2c5338ca4eedf1d9a7d993c8b8538930a,tempest_plugins,"tempest_plugins_old:tempest_plugins_new: - python-sahara-tests-tempest - python-mistral-tests-tempest tempest_plugins: >- {% if release not in ['newton', 'ocata', 'pike'] -%}{{ tempest_plugins_new }} {%- else -%}{{ tempest_plugins_old }} {%- endif -%}",tempest_plugins:,23,8
openstack%2Fnova-powervm~master~Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74,openstack/nova-powervm,master,Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74,Set volume ID as dev tag when mapping VSCSI vols,MERGED,2018-03-12 23:04:08.000000000,2018-04-02 14:39:35.000000000,2018-04-02 14:39:35.000000000,"[{'_account_id': 8190}, {'_account_id': 9514}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16710}, {'_account_id': 18876}, {'_account_id': 20138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 23:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/d6bb6b8e67ebe8194e44ee74e1dc5f5250a867dc', 'message': 'WIP: Set volume ID on PVs when mapping VSCSI volumes\n\nWIP: test\nWIP: real commit message\nWIP: pypowervm dependency\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 2, 'created': '2018-03-13 20:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/962ce60fb76af165889c4e188e26cc1c1571b308', 'message': 'Set volume ID as PV tag when mapping VSCSI volumes\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the physical volume with the\nvolume_id from the BDM connection info when it is attached.\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 3, 'created': '2018-03-14 20:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2a38720786d92e03f42fd64aaea95a17da5aa1f4', 'message': 'Set volume ID as dev tag when mapping VSCSI vols\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the device with the volume_id from\nthe BDM connection info when it is attached.\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 4, 'created': '2018-03-14 21:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/bd43ec2a63eaec0b38b4b45b13009383d828ba0b', 'message': 'Set volume ID as dev tag when mapping VSCSI vols\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the device with the volume_id from\nthe BDM connection info when it is attached.\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 5, 'created': '2018-03-19 17:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/650cfe63398b36d65778f13ebc6ebee5e9aeff9d', 'message': 'Set volume ID as dev tag when mapping VSCSI vols\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the device with the volume_id from\nthe BDM connection info when it is attached.  This sprung out of [1].\n\n[1] https://github.ibm.com/powercloud/icp-ppc64le/issues/151#issuecomment-4075391\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 6, 'created': '2018-03-30 00:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/564ddd2ce2562b5c31b608538c6d3809cb6f8d73', 'message': 'Set volume ID as dev tag when mapping VSCSI vols\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the device with the volume_id from\nthe BDM connection info when it is attached.  This sprung out of [1].\n\n[1] https://github.ibm.com/powercloud/icp-ppc64le/issues/151#issuecomment-4075391\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 7, 'created': '2018-03-30 18:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/628e858e32bb3f55e1729a6b4370b232e146bdb1', 'message': 'Set volume ID as dev tag when mapping VSCSI vols\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the device with the volume_id from\nthe BDM connection info when it is attached.  This sprung out of [1].\n\n[1] https://github.ibm.com/powercloud/icp-ppc64le/issues/151#issuecomment-4075391\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 8, 'created': '2018-03-30 18:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/5244bf7e927fc97a40d160d9c254459851190c72', 'message': 'Set volume ID as dev tag when mapping VSCSI vols\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the device with the volume_id from\nthe BDM connection info when it is attached.  This sprung out of [1].\n\n[1] https://github.ibm.com/powercloud/icp-ppc64le/issues/151#issuecomment-4075391\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}, {'number': 9, 'created': '2018-04-01 20:41:10.000000000', 'files': ['nova_powervm/virt/powervm/volume/iscsi.py', 'nova_powervm/virt/powervm/volume/volume.py', 'nova_powervm/tests/virt/powervm/volume/test_rbd.py', 'nova_powervm/tests/virt/powervm/volume/test_vscsi.py', 'nova_powervm/virt/powervm/volume/fileio.py', 'nova_powervm/tests/virt/powervm/volume/test_fileio.py', 'nova_powervm/virt/powervm/volume/vscsi.py', 'nova_powervm/tests/virt/powervm/volume/test_iscsi.py', 'nova_powervm/virt/powervm/volume/rbd.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1f84164ae520441a66168225d99e95d9cf15b23c', 'message': 'Set volume ID as dev tag when mapping VSCSI vols\n\nTo facilitate subsequent discovery and correlation between the cinder\nvolume and the physical device, tag the device with the volume_id from\nthe BDM connection info when it is attached.  This sprung out of [1].\n\n[1] https://github.ibm.com/powercloud/icp-ppc64le/issues/151#issuecomment-4075391\n\nChange-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74\n'}]",8,552172,1f84164ae520441a66168225d99e95d9cf15b23c,41,9,9,14070,,,0,"Set volume ID as dev tag when mapping VSCSI vols

To facilitate subsequent discovery and correlation between the cinder
volume and the physical device, tag the device with the volume_id from
the BDM connection info when it is attached.  This sprung out of [1].

[1] https://github.ibm.com/powercloud/icp-ppc64le/issues/151#issuecomment-4075391

Change-Id: Ifa345764df119d0a8f2ff985b74f8ecc21aa2b74
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/72/552172/9 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/volume/iscsi.py', 'nova_powervm/virt/powervm/volume/volume.py', 'nova_powervm/virt/powervm/driver.py', 'nova_powervm/virt/powervm/volume/vscsi.py']",4,d6bb6b8e67ebe8194e44ee74e1dc5f5250a867dc,device_tag," volume_id = self.connection_info[""data""][""volume_id""] lpar_slot_num=slot, lua=lua, volume_id=volume_id)"," lpar_slot_num=slot, lua=lua)",19,5
openstack%2Fnetworking-ovn~stable%2Fqueens~Iddd2da546c4cabe743a2eabca36fcdb5103f068f,openstack/networking-ovn,stable/queens,Iddd2da546c4cabe743a2eabca36fcdb5103f068f,l3ha: Update router gateway port binding,MERGED,2018-03-14 05:02:04.000000000,2018-04-02 14:39:15.000000000,2018-04-02 14:39:15.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 10267}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-03-14 05:02:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/329d38c031645ad6d5cb3cf7d03bd214cf815d85', 'message': ""l3ha: Update router gateway port binding\n\nIn reference implementation, user can check HA master router host\nin two ways\n1) CLI l3-agent-list-hosting-router (As OVN doesn't support agents,\n   it can't implement this CLI)\n2) router gateway port binding - Router gateway port's host will\n   reflect the master router host.\nOVN driver supports second approach i.e it will update router\ngateway port binding to active host and users can use this\ninformation to find master router host.\n\nWhen I enbaled ovn_worker for the tests, they are randomly failing\nwhile creating segmenthostmappings(bug 1753657). The error(i.e\nforeign key constraint failed) shows segment missing in DB(or not\nyet commited to DB) while adding segmenthostmappings. So I changed\nsubscribing for SEGMENT resource from PRECOMMIT_CREATE to AFTER_CREATE\nevent. With this change, I ran tests several times and they are\nconsistently passing.\n\nCloses-bug: #1753657\nChange-Id: Iddd2da546c4cabe743a2eabca36fcdb5103f068f\n(cherry picked from commit 85feaa7f61d12bc817e230e62b5fcb94922ed221)\n""}, {'number': 2, 'created': '2018-03-14 09:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/db3836cb9f325b6a9ac164c1ecd4dc0db5d232ef', 'message': ""l3ha: Update router gateway port binding\n\nIn reference implementation, user can check HA master router host\nin two ways\n1) CLI l3-agent-list-hosting-router (As OVN doesn't support agents,\n   it can't implement this CLI)\n2) router gateway port binding - Router gateway port's host will\n   reflect the master router host.\nOVN driver supports second approach i.e it will update router\ngateway port binding to active host and users can use this\ninformation to find master router host.\n\nWhen I enbaled ovn_worker for the tests, they are randomly failing\nwhile creating segmenthostmappings(bug 1753657). The error(i.e\nforeign key constraint failed) shows segment missing in DB(or not\nyet commited to DB) while adding segmenthostmappings. So I changed\nsubscribing for SEGMENT resource from PRECOMMIT_CREATE to AFTER_CREATE\nevent. With this change, I ran tests several times and they are\nconsistently passing.\n\nCloses-bug: #1753657\nChange-Id: Iddd2da546c4cabe743a2eabca36fcdb5103f068f\n(cherry picked from commit 85feaa7f61d12bc817e230e62b5fcb94922ed221)\n""}, {'number': 3, 'created': '2018-03-14 09:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e84cfab44d223f3554de2f7740737500a14665d4', 'message': ""l3ha: Update router gateway port binding\n\nIn reference implementation, user can check HA master router host\nin two ways\n1) CLI l3-agent-list-hosting-router (As OVN doesn't support agents,\n   it can't implement this CLI)\n2) router gateway port binding - Router gateway port's host will\n   reflect the master router host.\nOVN driver supports second approach i.e it will update router\ngateway port binding to active host and users can use this\ninformation to find master router host.\n\nWhen I enbaled ovn_worker for the tests, they are randomly failing\nwhile creating segmenthostmappings(bug 1753657). The error(i.e\nforeign key constraint failed) shows segment missing in DB(or not\nyet commited to DB) while adding segmenthostmappings. So I changed\nsubscribing for SEGMENT resource from PRECOMMIT_CREATE to AFTER_CREATE\nevent. With this change, I ran tests several times and they are\nconsistently passing.\n\nCloses-bug: #1753657\nChange-Id: Iddd2da546c4cabe743a2eabca36fcdb5103f068f\n(cherry picked from commit 85feaa7f61d12bc817e230e62b5fcb94922ed221)\n""}, {'number': 4, 'created': '2018-03-26 07:26:10.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/l3/l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8530ca4d897d305cb7c64b379d943fda967de3cd', 'message': ""l3ha: Update router gateway port binding\n\nIn reference implementation, user can check HA master router host\nin two ways\n1) CLI l3-agent-list-hosting-router (As OVN doesn't support agents,\n   it can't implement this CLI)\n2) router gateway port binding - Router gateway port's host will\n   reflect the master router host.\nOVN driver supports second approach i.e it will update router\ngateway port binding to active host and users can use this\ninformation to find master router host.\n\nWhen I enbaled ovn_worker for the tests, they are randomly failing\nwhile creating segmenthostmappings(bug 1753657). The error(i.e\nforeign key constraint failed) shows segment missing in DB(or not\nyet commited to DB) while adding segmenthostmappings. So I changed\nsubscribing for SEGMENT resource from PRECOMMIT_CREATE to AFTER_CREATE\nevent. With this change, I ran tests several times and they are\nconsistently passing.\n\nCloses-bug: #1753657\nChange-Id: Iddd2da546c4cabe743a2eabca36fcdb5103f068f\n(cherry picked from commit 85feaa7f61d12bc817e230e62b5fcb94922ed221)\n""}]",0,552737,8530ca4d897d305cb7c64b379d943fda967de3cd,17,7,4,10267,,,0,"l3ha: Update router gateway port binding

In reference implementation, user can check HA master router host
in two ways
1) CLI l3-agent-list-hosting-router (As OVN doesn't support agents,
   it can't implement this CLI)
2) router gateway port binding - Router gateway port's host will
   reflect the master router host.
OVN driver supports second approach i.e it will update router
gateway port binding to active host and users can use this
information to find master router host.

When I enbaled ovn_worker for the tests, they are randomly failing
while creating segmenthostmappings(bug 1753657). The error(i.e
foreign key constraint failed) shows segment missing in DB(or not
yet commited to DB) while adding segmenthostmappings. So I changed
subscribing for SEGMENT resource from PRECOMMIT_CREATE to AFTER_CREATE
event. With this change, I ran tests several times and they are
consistently passing.

Closes-bug: #1753657
Change-Id: Iddd2da546c4cabe743a2eabca36fcdb5103f068f
(cherry picked from commit 85feaa7f61d12bc817e230e62b5fcb94922ed221)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/37/552737/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/tests/functional/test_router.py', 'networking_ovn/ml2/mech_driver.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/l3/l3_ovn.py']",5,329d38c031645ad6d5cb3cf7d03bd214cf815d85,bug/1753657,"from neutron_lib.api.definitions import portbindings def update_router_gateway_port_bindings(self, router, host): context = n_context.get_admin_context() filters = {'device_id': [router], 'device_owner': [n_const.DEVICE_OWNER_ROUTER_GW]} for port in self._plugin.get_ports(context, filters=filters): self._plugin.update_port( context, port['id'], {'port': {portbindings.HOST_ID: host}}) ",,86,16
openstack%2Foctavia-dashboard~master~I29130311346c8627473222491a76777a9dc95f52,openstack/octavia-dashboard,master,I29130311346c8627473222491a76777a9dc95f52,Add l7 support,MERGED,2018-03-12 10:15:13.000000000,2018-04-02 14:38:29.000000000,2018-04-02 14:38:28.000000000,"[{'_account_id': 2245}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 10:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/adbad6a44a71ab63ee7710c9af862c4fba3588db', 'message': 'Add l7 support\n\nChange-Id: I29130311346c8627473222491a76777a9dc95f52\n'}, {'number': 2, 'created': '2018-03-13 14:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/33663b4a7130a92cf62e2de5c42499c4abaff4ac', 'message': 'Add l7 support\n\nEnable users to create l7 policies and rules on a listener.\n\nChange-Id: I29130311346c8627473222491a76777a9dc95f52\n'}, {'number': 3, 'created': '2018-03-14 03:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/6d6e8bb732e2b97294a0ebb7b2c0aa27a87c94ca', 'message': 'Add l7 support\n\nEnable users to create l7 policies and rules on a listener.\n\nChange-Id: I29130311346c8627473222491a76777a9dc95f52\n'}, {'number': 4, 'created': '2018-03-15 03:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/66827ca1a6d972c67b14e627c3b0684bc98c2bee', 'message': 'Add l7 support\n\nEnable users to create l7 policies and rules on a listener.\n\nChange-Id: I29130311346c8627473222491a76777a9dc95f52\n'}, {'number': 5, 'created': '2018-03-28 18:44:15.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.html', 'octavia_dashboard/static/app/core/openstack-service-api/lbaasv2.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/loadbalancers.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/details/drawer.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/listeners/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/l7rules.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/l7rules.module.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/drawer.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/workflow.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/create/create.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/delete/delete.action.service.js', 'octavia_dashboard/static/app/core/openstack-service-api/lbaasv2.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/edit/wizard.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/workflow.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/edit.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/delete/delete.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/create/create.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/edit/wizard.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/create.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/wizard.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/wizard.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/details/detail.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/delete/delete.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/detail.html', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/edit/edit.action.service.js', 'releasenotes/notes/add-l7-support-05a790bc2965c38f.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/delete/delete.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/actions/create/wizard.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/wizard.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/edit/edit.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/loadbalancers.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/detail.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/create/wizard.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7rule/l7rule.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/create.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/edit.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7rules/actions/create/wizard.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/wizard.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/l7policies.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/l7policies.module.spec.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/5b7326405aab97fe8c976d1dc16ff8c2a65fa788', 'message': 'Add l7 support\n\nEnable users to create l7 policies and rules on a listener.\n\nChange-Id: I29130311346c8627473222491a76777a9dc95f52\n'}]",0,551947,5b7326405aab97fe8c976d1dc16ff8c2a65fa788,17,4,5,2245,,,0,"Add l7 support

Enable users to create l7 policies and rules on a listener.

Change-Id: I29130311346c8627473222491a76777a9dc95f52
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/47/551947/5 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.html', 'octavia_dashboard/static/app/core/openstack-service-api/lbaasv2.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/detail.html', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/drawer.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/delete/delete.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/wizard.controller.spec.js', 'octavia_dashboard/static/app/core/openstack-service-api/lbaasv2.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/detail.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/edit.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/create.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/delete/delete.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/edit.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/create.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/wizard.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/edit/wizard.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/l7policy/l7policy.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/actions/create/wizard.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/l7policies.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/l7policies/l7policies.module.spec.js']",27,adbad6a44a71ab63ee7710c9af862c4fba3588db,l7,"/* * Copyright 2018 Walmart. * * Licensed under the Apache License, Version 2.0 (the 'License'); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an 'AS IS' BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. * See the License for the specific language governing permissions and * limitations under the License. */ (function() { 'use strict'; describe('LBaaS v2 L7Policies Module', function() { it('should exist', function() { expect(angular.module('horizon.dashboard.project.lbaasv2.l7policies')).toBeDefined(); }); }); describe('LBaaS v2 L7Policies Registry', function () { var registry, resourceType; beforeEach(module('horizon.dashboard.project.lbaasv2')); beforeEach(inject(function($injector) { resourceType = $injector.get('horizon.dashboard.project.lbaasv2.l7policies.resourceType'); registry = $injector.get('horizon.framework.conf.resource-type-registry.service'); })); it('should define resourceType', function () { expect(resourceType).toBeDefined(); }); it('should register item actions', function () { var actions = registry.getResourceType(resourceType).itemActions; expect(actionHasId(actions, 'l7policyEdit')).toBe(true); expect(actionHasId(actions, 'l7policyDelete')).toBe(true); }); it('should register global actions', function () { var actions = registry.getResourceType(resourceType).globalActions; expect(actionHasId(actions, 'l7policyCreate')).toBe(true); }); it('should register batch actions', function () { var actions = registry.getResourceType(resourceType).batchActions; expect(actionHasId(actions, 'l7policyBatchDelete')).toBe(true); }); function actionHasId(list, value) { return list.filter(matchesId).length === 1; function matchesId(action) { if (action.id === value) { return true; } } } }); })(); ",,2065,1
openstack%2Fsushy~stable%2Fqueens~Ic7750b48e5f5f3b5976f0a020d68c7d3197eaa8d,openstack/sushy,stable/queens,Ic7750b48e5f5f3b5976f0a020d68c7d3197eaa8d,Mark Systems/Managers/SessionService optional,MERGED,2018-03-25 10:27:59.000000000,2018-04-02 14:38:00.000000000,2018-04-02 14:38:00.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 16635}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-25 10:27:59.000000000', 'files': ['releasenotes/notes/bug-1754514-ca6ebe16c4e4b3b0.yaml', 'sushy/tests/unit/test_main.py', 'sushy/main.py', 'sushy/tests/unit/json_samples/bare_minimum_root.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ae06c028d41f4e284745b1c14988ef267127cf77', 'message': ""Mark Systems/Managers/SessionService optional\n\nApparently in Redfish standard the root resource doesn't enforce any\nof the depicted top level attributes to be mandatory. Till now all\nthose attributes are mandatory parameters for Sushy object creation.\nTherefore, to keep Sushy aligned to standard Redfish this patch marks\nthem as optional.\n\nChange-Id: Ic7750b48e5f5f3b5976f0a020d68c7d3197eaa8d\nCloses-Bug: #1754514\n(cherry picked from commit 8c12c2505c488d4e1974b496dc8308e3fb2ce662)\n""}]",1,556163,ae06c028d41f4e284745b1c14988ef267127cf77,7,4,1,10239,,,0,"Mark Systems/Managers/SessionService optional

Apparently in Redfish standard the root resource doesn't enforce any
of the depicted top level attributes to be mandatory. Till now all
those attributes are mandatory parameters for Sushy object creation.
Therefore, to keep Sushy aligned to standard Redfish this patch marks
them as optional.

Change-Id: Ic7750b48e5f5f3b5976f0a020d68c7d3197eaa8d
Closes-Bug: #1754514
(cherry picked from commit 8c12c2505c488d4e1974b496dc8308e3fb2ce662)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/63/556163/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1754514-ca6ebe16c4e4b3b0.yaml', 'sushy/tests/unit/test_main.py', 'sushy/main.py', 'sushy/tests/unit/json_samples/bare_minimum_root.json']",4,ae06c028d41f4e284745b1c14988ef267127cf77,bug/1754514-stable/queens,"{ ""@odata.type"": ""#ServiceRoot.v1_0_2.ServiceRoot"", ""Id"": ""RootService"", ""Name"": ""Root Service"", ""RedfishVersion"": ""1.0.2"", ""UUID"": ""92384634-2938-2342-8820-489239905423"", ""Oem"": {}, ""@odata.context"": ""/redfish/v1/$metadata#ServiceRoot"", ""@odata.id"": ""/redfish/v1/"", ""@Redfish.Copyright"": ""Copyright 2014-2016 Distributed Management Task Force, Inc. (DMTF). For the full DMTF copyright policy, see http://www.dmtf.org/about/policies/copyright."" } ",,62,5
openstack%2Foctavia-dashboard~master~I4607d41156994b865a28f7eb63b2f7877105b93b,openstack/octavia-dashboard,master,I4607d41156994b865a28f7eb63b2f7877105b93b,Being able to edit default pool of listener,MERGED,2018-03-10 09:24:35.000000000,2018-04-02 14:30:04.000000000,2018-04-02 14:30:04.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 09:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/e5d4fb1638c270ca535677ecd4c132f69820343a', 'message': 'Being able to edit default pool of listener\n\nChange-Id: I4607d41156994b865a28f7eb63b2f7877105b93b\nStory: 1713859\nTask: 5450\n'}, {'number': 2, 'created': '2018-03-10 13:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/96fb83ccf6b67a23da5b0151e423adbb66979f4b', 'message': 'Being able to edit default pool of listener\n\nChange-Id: I4607d41156994b865a28f7eb63b2f7877105b93b\nStory: 1713859\nTask: 5450\n'}, {'number': 3, 'created': '2018-03-15 03:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/88ff731dca5510c67b9a4b3e77b8a1eba5fe3d23', 'message': 'Being able to edit default pool of listener\n\nChange-Id: I4607d41156994b865a28f7eb63b2f7877105b93b\nStory: 1713859\nTask: 5450\n'}, {'number': 4, 'created': '2018-03-28 18:36:19.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'releasenotes/notes/edit-default-pool-on-listener-206d8dfeea135360.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/e9b3988a9d49f76cef0e145c9feeef11f6273208', 'message': 'Being able to edit default pool of listener\n\nChange-Id: I4607d41156994b865a28f7eb63b2f7877105b93b\nStory: 1713859\nTask: 5450\n'}]",0,551436,e9b3988a9d49f76cef0e145c9feeef11f6273208,14,3,4,2245,,,0,"Being able to edit default pool of listener

Change-Id: I4607d41156994b865a28f7eb63b2f7877105b93b
Story: 1713859
Task: 5450
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/36/551436/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.html', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/listener/listener.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js']",5,e5d4fb1638c270ca535677ecd4c132f69820343a,editlistpool," admin_state_up: true, default_pool_id: null certificates: [], availablePools: [] neutronAPI.getSubnets().then(onGetSubnets).then(getListener) .then(onGetListener).then(getPools).then(onGetPools), function onGetPools(response) { angular.forEach(response.data.items, function addPool(pool) { if (pool.listeners.length > 0 && pool.listeners[0].id !== model.spec.listener.id) { return; } if (pool.protocol === model.spec.listener.protocol) { model.spec.availablePools.push(pool.id); } else if (pool.protocol === 'HTTP' && model.spec.listener.protocol === 'TERMINATED_HTTPS') { model.spec.availablePools.push(pool.id); } }); } function getPools() { return lbaasv2API.getPools(model.spec.loadbalancer_id); } spec.default_pool_id = listener.default_pool_id;"," admin_state_up: true certificates: [] neutronAPI.getSubnets().then(onGetSubnets).then(getListener).then(onGetListener),",62,6
openstack%2Fopenstack-helm~master~I9383ad2bee1fa4671606a9ce19fa3965adcc2c52,openstack/openstack-helm,master,I9383ad2bee1fa4671606a9ce19fa3965adcc2c52,Fix document ref link,MERGED,2018-04-02 05:53:55.000000000,2018-04-02 14:29:47.000000000,2018-04-02 14:29:47.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-02 05:53:55.000000000', 'files': ['doc/source/install/multinode.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d19f7816f20d7055d3c293572bf2f0d0dc2a6c05', 'message': 'Fix document ref link\n\nA link referencing software verion is broken (404). This patch set updates\nthe link the correct ansible var yaml file.\n\nChange-Id: I9383ad2bee1fa4671606a9ce19fa3965adcc2c52\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,558162,d19f7816f20d7055d3c293572bf2f0d0dc2a6c05,7,3,1,20466,,,0,"Fix document ref link

A link referencing software verion is broken (404). This patch set updates
the link the correct ansible var yaml file.

Change-Id: I9383ad2bee1fa4671606a9ce19fa3965adcc2c52
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/558162/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/multinode.rst'],1,d19f7816f20d7055d3c293572bf2f0d0dc2a6c05,fix-doc, `source variable file <https://github.com/openstack/openstack-helm-infra/blob/master/tools/gate/playbooks/vars.yaml>`_., `source variable file <https://github.com/openstack/openstack-helm/blob/master/tools/gate/vars.sh>`_.,1,1
openstack%2Foctavia-dashboard~master~Icc3c16ba49a934c50622e745faf02701f4bde0df,openstack/octavia-dashboard,master,Icc3c16ba49a934c50622e745faf02701f4bde0df,List children pools on LB details page,MERGED,2018-03-09 14:55:09.000000000,2018-04-02 14:29:22.000000000,2018-04-02 14:29:22.000000000,"[{'_account_id': 2245}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-09 14:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/29b62d473ebe6d73bbedd767dd410171a71cd37b', 'message': 'List children pools on LB details page\n\nChange-Id: Icc3c16ba49a934c50622e745faf02701f4bde0df\nStory: 1713851\nTask: 5365\n'}, {'number': 2, 'created': '2018-03-10 02:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/3e7003019780103a3af5982882c67153ff894075', 'message': 'List children pools on LB details page\n\nChange-Id: Icc3c16ba49a934c50622e745faf02701f4bde0df\nStory: 1713851\nTask: 5365\n'}, {'number': 3, 'created': '2018-03-10 05:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/03c40a4ba921d67fe9d4d68deb0bd7eeae5ed74b', 'message': 'List children pools on LB details page\n\nChange-Id: Icc3c16ba49a934c50622e745faf02701f4bde0df\nStory: 1713851\nTask: 5365\n'}, {'number': 4, 'created': '2018-03-10 13:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/1c02fb21bb08ff603412fa2255c1304479085b4f', 'message': 'List children pools on LB details page\n\nChange-Id: Icc3c16ba49a934c50622e745faf02701f4bde0df\nStory: 1713851\nTask: 5365\n'}, {'number': 5, 'created': '2018-03-15 03:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/30d7fc61bd6866817792784f7947ecfe453d23e5', 'message': 'List children pools on LB details page\n\nChange-Id: Icc3c16ba49a934c50622e745faf02701f4bde0df\nStory: 1713851\nTask: 5365\n'}, {'number': 6, 'created': '2018-03-28 18:27:22.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/loadbalancers.service.js', 'releasenotes/notes/list-pools-on-lb-details-page-eb0400bdb2b3650f.yaml', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/actions/delete/delete.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/actions/create/wizard.controller.js', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.help.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/details/detail.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/delete/delete.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/actions/delete/delete.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/loadbalancers.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/actions/delete/delete.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/actions/create/wizard.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/details/detail.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/details/detail.controller.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/actions/create/create.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/actions/delete/delete.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/actions/delete/delete.action.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/details/detail.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/9711760b337a8f887c19ad3ffb09c4eabe9ff90a', 'message': 'List children pools on LB details page\n\nChange-Id: Icc3c16ba49a934c50622e745faf02701f4bde0df\nStory: 1713851\nTask: 5365\n'}]",0,551305,9711760b337a8f887c19ad3ffb09c4eabe9ff90a,23,4,6,2245,,,0,"List children pools on LB details page

Change-Id: Icc3c16ba49a934c50622e745faf02701f4bde0df
Story: 1713851
Task: 5365
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/05/551305/4 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/members/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/details/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/loadbalancers.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/details/detail.controller.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/lbaasv2.module.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/actions/create/create.action.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/details/detail.html']",12,29b62d473ebe6d73bbedd767dd410171a71cd37b,pools," <li class=""breadcrumb-item-truncate"" ng-style=""ctrl.withListenerStyle""><a href=""project/load_balancer/{$ ::ctrl.loadbalancer.id $}/listeners/{$ :: ctrl.listener.id $}"">{$ :: (ctrl.listener.name || ctrl.listener.id) $}</a></li> <li class=""breadcrumb-item-truncate"" ng-style=""ctrl.withListenerStyle""><a href=""project/load_balancer/{$ ::ctrl.loadbalancer.id $}/listeners/{$ :: ctrl.listener.id $}/pools/{$ ::ctrl.pool.id $}"">{$ ::(ctrl.pool.name || ctrl.pool.id) $}</a></li> <li class=""breadcrumb-item-truncate"" ng-style=""ctrl.withoutListenerStyle""><a href=""project/load_balancer/{$ ::ctrl.loadbalancer.id $}/pools/{$ ::ctrl.pool.id $}"">{$ ::(ctrl.pool.name || ctrl.pool.id) $}</a></li>"," <li class=""breadcrumb-item-truncate""><a href=""project/load_balancer/{$ ::ctrl.loadbalancer.id $}/listeners/{$ ::ctrl.listener.id $}"">{$ ::(ctrl.listener.name || ctrl.listener.id) $}</a></li> <li class=""breadcrumb-item-truncate""><a href=""project/load_balancer/{$ ::ctrl.loadbalancer.id $}/listeners/{$ ::ctrl.listener.id $}/pools/{$ ::ctrl.pool.id $}"">{$ ::(ctrl.pool.name || ctrl.pool.id) $}</a></li>",354,40
openstack%2Fopenstack-helm~master~I177ddfe8c932733aeacb0fdb9b3e60ef75881c6a,openstack/openstack-helm,master,I177ddfe8c932733aeacb0fdb9b3e60ef75881c6a,Ironic: Move all config to be directly values driven.,MERGED,2018-03-30 04:52:31.000000000,2018-04-02 14:28:35.000000000,2018-04-02 14:28:35.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-30 04:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1d7a0cc2f3c83c2558e1029b365682a3411e285a', 'message': 'Ironic: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: I177ddfe8c932733aeacb0fdb9b3e60ef75881c6a\n'}, {'number': 2, 'created': '2018-03-30 05:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f66c58e9abab33bb633548dec7a9b1daa8056a30', 'message': 'Ironic: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: I177ddfe8c932733aeacb0fdb9b3e60ef75881c6a\n'}, {'number': 3, 'created': '2018-03-30 18:24:40.000000000', 'files': ['ironic/templates/etc/_nginx.conf.tpl', 'ironic/templates/configmap-etc.yaml', 'ironic/templates/etc/_tftp-map-file.tpl', 'ironic/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7d241e7a6c26248301526ca627e562af2825422a', 'message': 'Ironic: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: I177ddfe8c932733aeacb0fdb9b3e60ef75881c6a\n'}]",0,557882,7d241e7a6c26248301526ca627e562af2825422a,15,4,3,23928,,,0,"Ironic: Move all config to be directly values driven.

This PS moves all the config files to be directly values driven,
both simplifying over-ride and allowing configs to be targeted
to pods in future work.

Change-Id: I177ddfe8c932733aeacb0fdb9b3e60ef75881c6a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/82/557882/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/templates/etc/_nginx.conf.tpl', 'ironic/templates/configmap-etc.yaml', 'ironic/templates/etc/_tftp-map-file.tpl', 'ironic/values.yaml']",4,1d7a0cc2f3c83c2558e1029b365682a3411e285a,ironic/etc," tftp_map_file: | re ^(/tftpboot/) /tftpboot/\2 re ^/tftpboot/ /tftpboot/ re ^(^/) /tftpboot/\1 re ^([^/]) /tftpboot/\1 nginx: | user nginx; worker_processes 1; error_log /var/log/nginx/error.log warn; pid /var/run/nginx.pid; events { worker_connections 1024; } http { include /etc/nginx/mime.types; default_type application/octet-stream; log_format main '$remote_addr - $remote_user [$time_local] ""$request"" ' '$status $body_bytes_sent ""$http_referer"" ' '""$http_user_agent"" ""$http_x_forwarded_for""'; access_log /var/log/nginx/access.log main; sendfile on; #tcp_nopush on; keepalive_timeout 65; #gzip on; server { listen OSH_PXE_IP:{{ tuple ""baremetal"" ""internal"" ""pxe_http"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}; server_name localhost; #charset koi8-r; #access_log /var/log/nginx/host.access.log main; location / { root /var/lib/openstack-helm/httpboot; } } }", tftp_map_file: override: append: nginx: override: append:,36,70
openstack%2Frally-openstack~master~I38adfe6868112d9f2919ccc08c0d40d0bc6b1d51,openstack/rally-openstack,master,I38adfe6868112d9f2919ccc08c0d40d0bc6b1d51,[ci] Do not transmit plugins dir as cli argument,MERGED,2018-04-02 12:08:46.000000000,2018-04-02 14:21:46.000000000,2018-04-02 14:21:46.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 12:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d639d04b671667c7c0ceb89323afc3a855b285bc', 'message': '[ci] Do not transmit plugins dir as cli argument\n\nRally base job copies custom plugins to ~/.rally/plugins dir. This\ndirectory should be loaded automatically. Specifing the same dir via\ncli argument `--plugin-paths` leads to PluginWithSuchNameExists errors.\n\nChange-Id: I38adfe6868112d9f2919ccc08c0d40d0bc6b1d51\n'}, {'number': 2, 'created': '2018-04-02 12:12:12.000000000', 'files': ['.zuul.d/rally-task-simple-job.yaml', 'tests/ci/playbooks/roles/run-rally-task/tasks/main.yaml', 'rally-jobs/simple-job.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/56c40bec2cea1bc83b41e9bd91a85bb11bc97b70', 'message': '[ci] Do not transmit plugins dir as cli argument\n\nRally base job copies custom plugins to ~/.rally/plugins dir. This\ndirectory should be loaded automatically. Specifing the same dir via\ncli argument `--plugin-paths` leads to PluginWithSuchNameExists errors.\n\nAlso, this patch extends rally-task-simple-job job to check that there\nare no issues related to loading plugins from ~/.rally/plugins dir\n\nChange-Id: I38adfe6868112d9f2919ccc08c0d40d0bc6b1d51\n'}]",0,558202,56c40bec2cea1bc83b41e9bd91a85bb11bc97b70,7,2,2,9545,,,0,"[ci] Do not transmit plugins dir as cli argument

Rally base job copies custom plugins to ~/.rally/plugins dir. This
directory should be loaded automatically. Specifing the same dir via
cli argument `--plugin-paths` leads to PluginWithSuchNameExists errors.

Also, this patch extends rally-task-simple-job job to check that there
are no issues related to loading plugins from ~/.rally/plugins dir

Change-Id: I38adfe6868112d9f2919ccc08c0d40d0bc6b1d51
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/02/558202/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/roles/run-rally-task/tasks/main.yaml'],1,d639d04b671667c7c0ceb89323afc3a855b285bc,jobs, rally --rally-debug task start --task {{ rally_home_dir }}/task.yaml #--task-args-file {{ rally_home_dir }}/task_args_file.yaml," rally --rally-debug --plugin-paths ""{{ rally_home_dir }}/plugins"" task start --task {{ rally_home_dir }}/task.yaml #--task-args-file {{ rally_home_dir }}/task_args_file.yaml",1,1
openstack%2Fcinder~master~Ie3bb23dcb6299f15ae69e12095c1aa9640565c33,openstack/cinder,master,Ie3bb23dcb6299f15ae69e12095c1aa9640565c33,Document more review processes,MERGED,2018-03-12 17:14:49.000000000,2018-04-02 14:14:46.000000000,2018-04-02 14:14:46.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27248}, {'_account_id': 27997}]","[{'number': 1, 'created': '2018-03-12 17:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/614bc65d6ecbb7f248ba6a5e93a1c68b992d131e', 'message': 'Document more review processes\n\nThe Cinder team has some code review policies that are\ngenerally known but not documented anywhere.  This patch\nprovides a place for us to document those reiview\npractices that may not be known to everyone.\n\nI have started by documenting the new process proposed at\nthe Dublin PTG for targeting milestones.  I also add\ndocumentation to formalize the fact that we should not\nmerge vendor patches without their CI passing on the\npatch.\n\nChange-Id: Ie3bb23dcb6299f15ae69e12095c1aa9640565c33\n'}, {'number': 2, 'created': '2018-03-12 21:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2084eab2009c4d4ffbbdd70ff41684dc5788e28d', 'message': 'Document more review processes\n\nThe Cinder team has some code review policies that are\ngenerally known but not documented anywhere.  This patch\nprovides a place for us to document those reiview\npractices that may not be known to everyone.\n\nI have started by documenting the new process proposed at\nthe Dublin PTG for targeting milestones.  I also add\ndocumentation to formalize the fact that we should not\nmerge vendor patches without their CI passing on the\npatch.\n\nChange-Id: Ie3bb23dcb6299f15ae69e12095c1aa9640565c33\n'}, {'number': 3, 'created': '2018-03-12 22:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/552fdf21a9f6241e377706d2b31ca0ad3c4acfb1', 'message': 'Document more review processes\n\nThe Cinder team has some code review policies that are\ngenerally known but not documented anywhere.  This patch\nprovides a place for us to document those reiview\npractices that may not be known to everyone.\n\nI have started by documenting the new process proposed at\nthe Dublin PTG for targeting milestones.  I also add\ndocumentation to formalize the fact that we should not\nmerge vendor patches without their CI passing on the\npatch.\n\nChange-Id: Ie3bb23dcb6299f15ae69e12095c1aa9640565c33\n'}, {'number': 4, 'created': '2018-03-14 19:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e4bb3a0e2decf784c131998b17f9c5c0fcf86d6', 'message': 'Document more review processes\n\nThe Cinder team has some code review policies that are\ngenerally known but not documented anywhere.  This patch\nprovides a place for us to document those reiview\npractices that may not be known to everyone.\n\nI have started by documenting the new process proposed at\nthe Dublin PTG for targeting milestones.  I also add\ndocumentation to formalize the fact that we should not\nmerge vendor patches without their CI passing on the\npatch.\n\nChange-Id: Ie3bb23dcb6299f15ae69e12095c1aa9640565c33\n'}, {'number': 5, 'created': '2018-03-23 17:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dce8bc5b476d2a9e9e413d037726f14cbacee927', 'message': 'Document more review processes\n\nThe Cinder team has some code review policies that are\ngenerally known but not documented anywhere.  This patch\nprovides a place for us to document those reiview\npractices that may not be known to everyone.\n\nI have started by documenting the new process proposed at\nthe Dublin PTG for targeting milestones.  I also add\ndocumentation to formalize the fact that we should not\nmerge vendor patches without their CI passing on the\npatch.\n\nChange-Id: Ie3bb23dcb6299f15ae69e12095c1aa9640565c33\n'}, {'number': 6, 'created': '2018-03-26 14:30:32.000000000', 'files': ['doc/source/contributor/gerrit.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8d73a93c579018f7b406b14af98cb27b2be072e', 'message': 'Document more review processes\n\nThe Cinder team has some code review policies that are\ngenerally known but not documented anywhere.  This patch\nprovides a place for us to document those reiview\npractices that may not be known to everyone.\n\nI have started by documenting the new process proposed at\nthe Dublin PTG for targeting milestones.  I also add\ndocumentation to formalize the fact that we should not\nmerge vendor patches without their CI passing on the\npatch.\n\nChange-Id: Ie3bb23dcb6299f15ae69e12095c1aa9640565c33\n'}]",32,552094,a8d73a93c579018f7b406b14af98cb27b2be072e,154,39,6,7198,,,0,"Document more review processes

The Cinder team has some code review policies that are
generally known but not documented anywhere.  This patch
provides a place for us to document those reiview
practices that may not be known to everyone.

I have started by documenting the new process proposed at
the Dublin PTG for targeting milestones.  I also add
documentation to formalize the fact that we should not
merge vendor patches without their CI passing on the
patch.

Change-Id: Ie3bb23dcb6299f15ae69e12095c1aa9640565c33
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/552094/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/gerrit.rst'],1,614bc65d6ecbb7f248ba6a5e93a1c68b992d131e,document-review-info,"Code Reviews ============ Cinder follows the same `Review guidelines`_ outlined by the Open Stack community. This page provides additional information that is helpful for reviewers of patches to Cinder. Gerrit ------Targeting Milestones -------------------- In an effort to guide team review priorities the Cinder team has adopted the process of adding comments to reviews to target a milestone for a particular patch. This process is not required for all patches but is benefical for patches that may be time sensitive. For example patches that need to land earlier in the release cycle so as to get additional test time or because later development activities are dependent upon that functionality merging. To target a patch to a milestone a reviewer should add a comment using the following format: ``target-<release>-<milestone>`` Release should be used to indicate the release to which the patch should be targeted, all lower case. The milestone is a single number, 1 to 3, indicating the milestone number. So, to target a patch to land in Milestone 2 of the Rocky release a comment like the following would be added: ``target-rocky-2`` Adding this tag allows reviewers to search for these tags and use them as a guide in review priorities. Targeting patches should be done by Cinder Core Review Team members. It may also be done by the patch developers in the case there is reason for prioritizing the patch. Reviewing Vendor Patches ------------------------ It is important to consider, when reviewing patches to a vendor's Cinder driver, whether the patch passes the vendor's CI process. CI reports are the only tool we have to ensure that a patch works with the Vendor's driver. A patch to a vendor's driver that does not pass that vendor's CI should not be merged. This also means that a patch should not be merged before the Vendor's CI has run against the patch. .. note:: Down voting a patch to hold it on failed CI runs is an acceptable practice. .. _Review guidelines: https://docs.openstack.org/doc-contrib-guide/docs-review-guidelines.html",Code Reviews with Gerrit ========================,52,2
openstack%2Ftripleo-common~stable%2Fqueens~I3e878e5dacf8e78710c892309b0d064506ec7345,openstack/tripleo-common,stable/queens,I3e878e5dacf8e78710c892309b0d064506ec7345,Fails to get DPDK feature status.,MERGED,2018-03-29 08:10:44.000000000,2018-04-02 14:11:13.000000000,2018-04-02 14:11:12.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-29 08:10:44.000000000', 'files': ['workbooks/derive_params.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18204f22b54864b2706a02610ef85533645408e4', 'message': 'Fails to get DPDK feature status.\n\nThis change is to get dpdk feature status for a role\nwhen using docker service neutron-ovs-dpdk-agent.yaml file.\nDPDK derive params workflow is not invoked and derived\nparameters for dpdk role when using docker service\nneutron-ovs-dpdk-agent.yaml file for deployment.\n_get_role_info workflow is failed to get dpdk feature enabled\nstatus for dpdk role.\n\nChange-Id: I3e878e5dacf8e78710c892309b0d064506ec7345\nCloses-Bug: #1759296\n(cherry picked from commit 13e1aca771a90adce5f9ecfc96af1dc3964b59a1)\n'}]",0,557646,18204f22b54864b2706a02610ef85533645408e4,9,5,1,22865,,,0,"Fails to get DPDK feature status.

This change is to get dpdk feature status for a role
when using docker service neutron-ovs-dpdk-agent.yaml file.
DPDK derive params workflow is not invoked and derived
parameters for dpdk role when using docker service
neutron-ovs-dpdk-agent.yaml file for deployment.
_get_role_info workflow is failed to get dpdk feature enabled
status for dpdk role.

Change-Id: I3e878e5dacf8e78710c892309b0d064506ec7345
Closes-Bug: #1759296
(cherry picked from commit 13e1aca771a90adce5f9ecfc96af1dc3964b59a1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/557646/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/derive_params.yaml'],1,18204f22b54864b2706a02610ef85533645408e4,bug/1759296-stable/queens," # The role supports the DPDK feature if the NeutronDatapathType parameter is present dpdk: <% let(resources => $.heat_resource_tree.resources) -> $.role_services.any($.get('parameters', []).contains('NeutronDatapathType') or $.get('resources', []).select($resources.get($)).any($.get('parameters', []).contains('NeutronDatapathType'))) %>"," # The role supports the DPDK feature if the NeutronDatapathType parameter is present. dpdk: <% $.role_services.any($.get('parameters', []).contains('NeutronDatapathType')) %>",2,2
openstack%2Fopenstack-helm~master~I9b179db066867f00b8cd8cdbf92d37ea2dc8836d,openstack/openstack-helm,master,I9b179db066867f00b8cd8cdbf92d37ea2dc8836d,Gnocchi: move to use templater for apache config,MERGED,2018-03-30 04:49:16.000000000,2018-04-02 14:08:53.000000000,2018-04-02 14:08:53.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-03-30 04:49:16.000000000', 'files': ['gnocchi/templates/configmap-etc.yaml', 'gnocchi/values.yaml', 'gnocchi/templates/etc/_wsgi-gnocchi.conf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2462dffb83e00ccfecbdb51fc28e9ef4c2d4551e', 'message': 'Gnocchi: move to use templater for apache config\n\nThis PS moves gnocchi to use the templater function for its apache\nconfig.\n\nChange-Id: I9b179db066867f00b8cd8cdbf92d37ea2dc8836d\n'}]",0,557881,2462dffb83e00ccfecbdb51fc28e9ef4c2d4551e,7,3,1,23928,,,0,"Gnocchi: move to use templater for apache config

This PS moves gnocchi to use the templater function for its apache
config.

Change-Id: I9b179db066867f00b8cd8cdbf92d37ea2dc8836d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/81/557881/1 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/templates/configmap-etc.yaml', 'gnocchi/values.yaml', 'gnocchi/templates/etc/_wsgi-gnocchi.conf.tpl']",3,2462dffb83e00ccfecbdb51fc28e9ef4c2d4551e,gnocchi/etc,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} Listen 0.0.0.0:{{ tuple ""metric"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }} SetEnvIf X-Forwarded-For ""^.*\..*\..*\..*"" forwarded CustomLog /dev/stdout combined env=!forwarded CustomLog /dev/stdout proxy env=forwarded <VirtualHost *:{{ tuple ""metric"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.endpoint_port_lookup"" }}> WSGIDaemonProcess gnocchi processes=1 threads=2 user=gnocchi group=gnocchi display-name=%{GROUP} WSGIProcessGroup gnocchi WSGIScriptAlias / ""/var/lib/kolla/venv/lib/python2.7/site-packages/gnocchi/rest/app.wsgi"" WSGIApplicationGroup %{GLOBAL} ErrorLog /dev/stderr SetEnvIf X-Forwarded-For ""^.*\..*\..*\..*"" forwarded CustomLog /dev/stdout combined env=!forwarded CustomLog /dev/stdout proxy env=forwarded <Directory ""/var/lib/kolla/venv/lib/python2.7/site-packages/gnocchi/rest""> Require all granted </Directory> </VirtualHost> ",23,39
openstack%2Fopenstack-helm~master~Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658,openstack/openstack-helm,master,Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658,Glance: Move all config to be directly values driven.,MERGED,2018-03-27 19:48:50.000000000,2018-04-02 14:08:51.000000000,2018-04-02 14:08:51.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-27 19:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa99b5e62e01c6aa630822418ba4281403d6bf22', 'message': 'GLance: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658\n'}, {'number': 2, 'created': '2018-03-27 19:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d67e74f7f02c8b7f61049daf70bec475b4fd6c5f', 'message': 'Glance: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658\n'}, {'number': 3, 'created': '2018-03-28 06:20:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88bbc3108649e396b6f98bda7e0fd02260a86c97', 'message': 'Glance: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658\n'}, {'number': 4, 'created': '2018-03-28 06:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d6316c9ad608c7f6fb03cedfc0027a881317e71', 'message': 'Glance: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658\n'}, {'number': 5, 'created': '2018-03-29 19:27:51.000000000', 'files': ['glance/templates/etc/_swift-store.conf.tpl', 'glance/templates/configmap-etc.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ce6f3226689504fc1fc3346a0b1f5dcbe36c24d', 'message': 'Glance: Move all config to be directly values driven.\n\nThis PS moves all the config files to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658\n'}]",0,557023,2ce6f3226689504fc1fc3346a0b1f5dcbe36c24d,16,4,5,23928,,,0,"Glance: Move all config to be directly values driven.

This PS moves all the config files to be directly values driven,
both simplifying over-ride and allowing configs to be targeted
to pods in future work.

Change-Id: Ida5d9e312cc18cb50f5805a59f9fc4fef1a98658
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/23/557023/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/etc/_swift-store.conf.tpl', 'glance/templates/configmap-etc.yaml', 'glance/values.yaml']",3,fa99b5e62e01c6aa630822418ba4281403d6bf22,glance/etc-values," swift_store: | [{{ .Values.conf.glance.glance_store.default_swift_reference }}] {{- if eq .Values.storage ""radosgw"" }} auth_version = 1 auth_address = {{ tuple ""ceph_object_store"" ""public"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" }} user = {{ .Values.endpoints.ceph_object_store.auth.glance.username }}:swift key = {{ .Values.endpoints.ceph_object_store.auth.glance.password }} {{- else }} user = {{ .Values.endpoints.identity.auth.glance.project_name }}:{{ .Values.endpoints.identity.auth.glance.username }} key = {{ .Values.endpoints.identity.auth.glance.password }} auth_address = {{ tuple ""identity"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" }} user_domain_name = {{ .Values.endpoints.identity.auth.glance.user_domain_name }} project_domain_name = {{ .Values.endpoints.identity.auth.glance.project_domain_name }} auth_version = 3 {{- end -}}", swift_store: override: append:,21,34
openstack%2Fmanila~master~I959381f156debd01c9db48be335d8fa056426116,openstack/manila,master,I959381f156debd01c9db48be335d8fa056426116,Move the job manila-ui-dsvm in-tree,ABANDONED,2018-03-29 07:15:45.000000000,2018-04-02 14:07:56.000000000,,"[{'_account_id': 6547}, {'_account_id': 12016}, {'_account_id': 16657}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 27697}]","[{'number': 1, 'created': '2018-03-29 07:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/04d95f2f71c45a434ad714348e9964909a84ee23', 'message': 'Move manila-ui-dsvm in-tree\n\nChange-Id: I959381f156debd01c9db48be335d8fa056426116\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 2, 'created': '2018-03-29 07:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c6ae0542cc26ff4dbb17e21296b33df44940bb00', 'message': 'Move the job manila-ui-dsvm in-tree\n\nChange-Id: I959381f156debd01c9db48be335d8fa056426116\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 3, 'created': '2018-03-29 07:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cb8b10c6f35705d22e8be082411decf751ee2a61', 'message': 'Move the job manila-ui-dsvm in-tree\n\nDependsOn: I052958989a51547e5979cccf0a52a4502c81d7c6\nChange-Id: I959381f156debd01c9db48be335d8fa056426116\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 4, 'created': '2018-03-29 08:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/51561fb8a7db0b85a240544fda2eec2a52773017', 'message': 'Move the job manila-ui-dsvm in-tree\n\nDepends-On: I052958989a51547e5979cccf0a52a4502c81d7c6\nDepends-On: I41f6b62c550df353e1e6d6845bc8d058fcf1a60c\nChange-Id: I959381f156debd01c9db48be335d8fa056426116\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 5, 'created': '2018-04-01 14:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/73b813cf665a4987b9c071be71e8ed605f758081', 'message': 'Move the job manila-ui-dsvm in-tree\n\nChange-Id: I959381f156debd01c9db48be335d8fa056426116\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 6, 'created': '2018-04-02 13:21:02.000000000', 'files': ['playbooks/legacy/manila-ui-dsvm/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-ui-dsvm/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/215e5ae3966393ad7eed565fc7c70eb0bed4d537', 'message': 'Move the job manila-ui-dsvm in-tree\n\nChange-Id: I959381f156debd01c9db48be335d8fa056426116\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}]",1,557630,215e5ae3966393ad7eed565fc7c70eb0bed4d537,26,10,6,27697,,,0,"Move the job manila-ui-dsvm in-tree

Change-Id: I959381f156debd01c9db48be335d8fa056426116
Signed-off-by: Rishabh Dave <ridave@redhat.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/30/557630/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-ui-dsvm/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-ui-dsvm/post.yaml']",3,04d95f2f71c45a434ad714348e9964909a84ee23,move-manila-ui-dsvm-in-tree,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,175,0
openstack%2Ftripleo-quickstart~master~Iac67db9debfe92796ecf261119f2a362b0dd3338,openstack/tripleo-quickstart,master,Iac67db9debfe92796ecf261119f2a362b0dd3338,Import gated tripleo-upgrade role.,ABANDONED,2018-04-02 10:32:35.000000000,2018-04-02 14:04:26.000000000,,"[{'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-04-02 10:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ebf08068b089d32ecc3d7e3516ad0cce78d785d6', 'message': ""Import gated tripleo-upgrade role.\n\nTo leverage tha tripleo-upgrade is now\nbeing gated, let's import it from the\nlocation where zuul is downloading it.\n\nChange-Id: Iac67db9debfe92796ecf261119f2a362b0dd3338\n""}, {'number': 2, 'created': '2018-04-02 10:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/883fac1d9b53b43526c58fba20286ad794ece7e6', 'message': ""Import gated tripleo-upgrade role.\n\nTo leverage tha tripleo-upgrade is now\nbeing gated, let's import it from the\nlocation where zuul is downloading it.\n\nChange-Id: Iac67db9debfe92796ecf261119f2a362b0dd3338\n""}, {'number': 3, 'created': '2018-04-02 10:54:47.000000000', 'files': ['quickstart-extras-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dd39af27585d92fefe3748cb0b58b47e4c7c925e', 'message': ""Import gated tripleo-upgrade role.\n\nTo leverage tha tripleo-upgrade is now\nbeing gated, let's import it from the\nlocation where zuul is downloading it.\n\nChange-Id: Iac67db9debfe92796ecf261119f2a362b0dd3338\n""}]",0,558188,dd39af27585d92fefe3748cb0b58b47e4c7c925e,13,4,3,26343,,,0,"Import gated tripleo-upgrade role.

To leverage tha tripleo-upgrade is now
being gated, let's import it from the
location where zuul is downloading it.

Change-Id: Iac67db9debfe92796ecf261119f2a362b0dd3338
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/88/558188/2 && git format-patch -1 --stdout FETCH_HEAD,['quickstart-extras-requirements.txt'],1,ebf08068b089d32ecc3d7e3516ad0cce78d785d6,undercloud_upgrade_refactor,file:////opt/stack/new/tripleo-upgrade#egg=tripleo-upgrade,,1,0
openstack%2Floci~master~I7b43b8a6325c79c6b83c374cfdabeaba8899eaa5,openstack/loci,master,I7b43b8a6325c79c6b83c374cfdabeaba8899eaa5,split sg3 utils package for dpkg based distro given seperate convention,MERGED,2018-04-02 13:15:30.000000000,2018-04-02 13:57:25.000000000,2018-04-02 13:57:25.000000000,"[{'_account_id': 14119}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-04-02 13:15:30.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/641e485dc578b5a09eab56f130234867c930f699', 'message': 'split sg3 utils package for dpkg based distro given seperate convention\n\nChange-Id: I7b43b8a6325c79c6b83c374cfdabeaba8899eaa5\n'}]",0,558207,641e485dc578b5a09eab56f130234867c930f699,7,3,1,28025,,,0,"split sg3 utils package for dpkg based distro given seperate convention

Change-Id: I7b43b8a6325c79c6b83c374cfdabeaba8899eaa5
",git fetch https://review.opendev.org/openstack/loci refs/changes/07/558207/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,641e485dc578b5a09eab56f130234867c930f699,purestorage,sg3-utils [platform:dpkg (cinder purestorage) (nova purestorage)] sg3_utils [platform:rpm (cinder purestorage) (nova purestorage)],sg3_utils [(cinder purestorage) (nova purestorage)],2,1
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~Iee229eb2f6f154b2f2f629c45f4ab6689d660a50,openstack/openstack-ansible-pip_install,stable/queens,Iee229eb2f6f154b2f2f629c45f4ab6689d660a50,Only attempt package installs when packages are provided,MERGED,2018-04-01 21:31:15.000000000,2018-04-02 13:46:03.000000000,2018-04-02 13:29:27.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 21:31:15.000000000', 'files': ['tasks/install_source.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/ab5b0f8304a4b0b43fb18115e9e638a4e4b13673', 'message': 'Only attempt package installs when packages are provided\n\npip has changed upstream[1] and now returns a non-zero code when\nno packages are provided for install. This behavior is different\nthan pip<=9 in that earlier versions still returned code 0 when\nan installation was called with no packages[2].\n\nTo avoid this we should only run install tasks when packages are\nprovided for installation.\n\n[1] https://github.com/pypa/pip/pull/4210\n[2] http://paste.openstack.org/raw/718119/\n\nChange-Id: Iee229eb2f6f154b2f2f629c45f4ab6689d660a50\n'}]",0,558126,ab5b0f8304a4b0b43fb18115e9e638a4e4b13673,15,4,1,17799,,,0,"Only attempt package installs when packages are provided

pip has changed upstream[1] and now returns a non-zero code when
no packages are provided for install. This behavior is different
than pip<=9 in that earlier versions still returned code 0 when
an installation was called with no packages[2].

To avoid this we should only run install tasks when packages are
provided for installation.

[1] https://github.com/pypa/pip/pull/4210
[2] http://paste.openstack.org/raw/718119/

Change-Id: Iee229eb2f6f154b2f2f629c45f4ab6689d660a50
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/26/558126/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/install_source.yml'],1,ab5b0f8304a4b0b43fb18115e9e638a4e4b13673,skip-package-installs, when: - 'pip_required_pip_packages | length > 0',,2,0
openstack%2Fheat~master~Id826ffb43e6ff3c131a66b6d9e78e6fd0ee8e9e5,openstack/heat,master,Id826ffb43e6ff3c131a66b6d9e78e6fd0ee8e9e5,Update links in README,ABANDONED,2018-03-22 09:00:59.000000000,2018-04-02 13:42:01.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 09:00:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/abd45f5b00e6a67be199e1dabd3a3fd21bf29743', 'message': 'Update links in README\n\nChange-Id: Id826ffb43e6ff3c131a66b6d9e78e6fd0ee8e9e5\n'}]",0,555207,abd45f5b00e6a67be199e1dabd3a3fd21bf29743,4,2,1,26297,,,0,"Update links in README

Change-Id: Id826ffb43e6ff3c131a66b6d9e78e6fd0ee8e9e5
",git fetch https://review.opendev.org/openstack/heat refs/changes/07/555207/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,abd45f5b00e6a67be199e1dabd3a3fd21bf29743,,.. image:: http://governance.openstack.org/tc/badges/heat.svg :target: http://governance.openstack.org/tc/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/heat.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fheat~master~I67498e459c9187a6019db59eed57210323e2ff17,openstack/heat,master,I67498e459c9187a6019db59eed57210323e2ff17,fix error url,ABANDONED,2018-03-23 03:14:37.000000000,2018-04-02 13:41:53.000000000,,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 03:14:37.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/1b9004ff2878b1baecedf8cb2748a680915cdaa9', 'message': 'fix error url\n\nChange-Id: I67498e459c9187a6019db59eed57210323e2ff17\n'}]",0,555613,1b9004ff2878b1baecedf8cb2748a680915cdaa9,4,2,1,26297,,,0,"fix error url

Change-Id: I67498e459c9187a6019db59eed57210323e2ff17
",git fetch https://review.opendev.org/openstack/heat refs/changes/13/555613/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,1b9004ff2878b1baecedf8cb2748a680915cdaa9,, https://docs.openstack.org/hacking/latest/, http://docs.openstack.org/developer/hacking/,1,1
openstack%2Fheat~master~I778f0991accb344e51fea8fde28e486f3c7506cb,openstack/heat,master,I778f0991accb344e51fea8fde28e486f3c7506cb,Fix wrong links in heat,ABANDONED,2018-03-29 12:06:40.000000000,2018-04-02 13:40:59.000000000,,"[{'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 12:06:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/80451597c7d109c6b6e72e48292d140be3514582', 'message': 'Fix wrong links in heat\n\nSome docs links have changed.\nWe should update the wrong links in our codes.\n\nChange-Id: I778f0991accb344e51fea8fde28e486f3c7506cb\n'}, {'number': 2, 'created': '2018-03-30 08:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3429c489aec521a61db2b8b663399c5c9c1099f2', 'message': 'Fix wrong links in heat\n\nSome docs links have changed.\nWe should update the wrong links in our codes.\n\nChange-Id: I778f0991accb344e51fea8fde28e486f3c7506cb\n'}, {'number': 3, 'created': '2018-03-30 08:42:44.000000000', 'files': ['doc/source/install/launch-instance.rst', 'heat/common/i18n.py', 'doc/source/install/index.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/template_guide/hello_world.rst', 'contrib/heat_docker/setup.cfg', 'doc/source/install/next-steps.rst', 'tools/README.rst', 'doc/source/developing_guides/gmr.rst', 'setup.cfg', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/2eacf28ccd0aed9b01abc5baebc05a0fbbb784a7', 'message': 'Fix wrong links in heat\n\nSome docs links have changed.\nWe should update the wrong links in our codes.\n\nChange-Id: I778f0991accb344e51fea8fde28e486f3c7506cb\n'}]",0,557685,2eacf28ccd0aed9b01abc5baebc05a0fbbb784a7,10,2,3,25432,,,0,"Fix wrong links in heat

Some docs links have changed.
We should update the wrong links in our codes.

Change-Id: I778f0991accb344e51fea8fde28e486f3c7506cb
",git fetch https://review.opendev.org/openstack/heat refs/changes/85/557685/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/launch-instance.rst', 'heat/common/i18n.py', 'doc/source/install/index.rst', 'doc/source/operating_guides/scale_deployment.rst', 'doc/source/template_guide/hello_world.rst', 'contrib/heat_docker/setup.cfg', 'doc/source/install/next-steps.rst', 'doc/source/developing_guides/gmr.rst', 'setup.cfg', 'tools/README.rst', 'HACKING.rst']",11,80451597c7d109c6b6e72e48292d140be3514582,, https://docs.openstack.org/hacking/latest/, http://docs.openstack.org/developer/hacking/,16,15
openstack%2Ftripleo-heat-templates~master~I37eb8b3091a8870332d4e82725b553f8ec9a7b70,openstack/tripleo-heat-templates,master,I37eb8b3091a8870332d4e82725b553f8ec9a7b70,Changing to L2GW Opendaylight v2 driver,MERGED,2018-03-09 12:23:26.000000000,2018-04-02 13:38:46.000000000,2018-04-02 13:38:46.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 9414}, {'_account_id': 18575}, {'_account_id': 21626}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25865}]","[{'number': 1, 'created': '2018-03-09 12:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa64e03ac237de83333b1e7432c1c07f2487475d', 'message': 'Changing to L2GW Opendaylight v2 driver\n\nChange-Id: I37eb8b3091a8870332d4e82725b553f8ec9a7b70\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}, {'number': 2, 'created': '2018-03-20 09:58:14.000000000', 'files': ['environments/neutron-l2gw-opendaylight.yaml', 'environments/neutron-l2gw.yaml', 'releasenotes/notes/l2gw-driver-change-1f5b11d5676c5015.yaml', 'environments/services-docker/neutron-l2gw-opendaylight.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/add4ce1ccabd4b3e52e9fc89772af8ce7c29ed00', 'message': 'Changing to L2GW Opendaylight v2 driver\n\nChange-Id: I37eb8b3091a8870332d4e82725b553f8ec9a7b70\nSigned-off-by: Ricardo Noriega <rnoriega@redhat.com>\n'}]",0,551270,add4ce1ccabd4b3e52e9fc89772af8ce7c29ed00,38,8,2,21626,,,0,"Changing to L2GW Opendaylight v2 driver

Change-Id: I37eb8b3091a8870332d4e82725b553f8ec9a7b70
Signed-off-by: Ricardo Noriega <rnoriega@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/551270/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-l2gw-opendaylight.yaml', 'environments/neutron-l2gw.yaml', 'environments/services-docker/neutron-l2gw-opendaylight.yaml']",3,aa64e03ac237de83333b1e7432c1c07f2487475d,551270,# - OpenDaylight: L2GW:OpenDaylight:networking_odl.l2gateway.driver_v2.OpenDaylightL2gwDriver:default L2gwServiceProvider: ['L2GW:OpenDaylight:networking_odl.l2gateway.driver_v2.OpenDaylightL2gwDriver:default'],# - OpenDaylight: L2GW:OpenDaylight:networking_odl.l2gateway.driver.OpenDaylightL2gwDriver:default L2gwServiceProvider: ['L2GW:OpenDaylight:networking_odl.l2gateway.driver.OpenDaylightL2gwDriver:default'],5,5
openstack%2Fheat~master~I3dc61c8afb4077c047a0d9833567a5fb6944d556,openstack/heat,master,I3dc61c8afb4077c047a0d9833567a5fb6944d556,fix a typo,ABANDONED,2018-03-27 13:46:10.000000000,2018-04-02 13:33:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-27 13:46:10.000000000', 'files': ['heat/tests/api/openstack_v1/test_stacks.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a9a799a9d2c46f36274629078ab1ad3596e4a94d', 'message': 'fix a typo\n\nChange-Id: I3dc61c8afb4077c047a0d9833567a5fb6944d556\n'}]",0,556855,a9a799a9d2c46f36274629078ab1ad3596e4a94d,3,1,1,21486,,,0,"fix a typo

Change-Id: I3dc61c8afb4077c047a0d9833567a5fb6944d556
",git fetch https://review.opendev.org/openstack/heat refs/changes/55/556855/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/api/openstack_v1/test_stacks.py'],1,a9a799a9d2c46f36274629078ab1ad3596e4a94d,," def test_create_err_stack_bad_request(self, mock_enforce):"," def test_create_err_stack_bad_reqest(self, mock_enforce):",1,1
openstack%2Freleases~master~Iea4b42daf3cc4a19e7dac338ec0d8c1fbae98b50,openstack/releases,master,Iea4b42daf3cc4a19e7dac338ec0d8c1fbae98b50,Release Ocata kolla 4.0.4,MERGED,2018-04-02 09:00:28.000000000,2018-04-02 13:16:33.000000000,2018-04-02 13:16:33.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-02 09:00:28.000000000', 'files': ['deliverables/ocata/kolla.yaml', 'deliverables/ocata/kolla-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/39bcc8c4405aee6a54b9b4af652151b83625758e', 'message': 'Release Ocata kolla 4.0.4\n\nChange-Id: Iea4b42daf3cc4a19e7dac338ec0d8c1fbae98b50\n'}]",0,558179,39bcc8c4405aee6a54b9b4af652151b83625758e,6,2,1,7488,,,0,"Release Ocata kolla 4.0.4

Change-Id: Iea4b42daf3cc4a19e7dac338ec0d8c1fbae98b50
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/558179/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/kolla.yaml', 'deliverables/ocata/kolla-ansible.yaml']",2,39bcc8c4405aee6a54b9b4af652151b83625758e,, - version: 4.0.4 projects: - repo: openstack/kolla-ansible hash: 2bc2890d243d031dc6120e80a90c8f4bc013d181,,8,0
openstack%2Freleases~master~I2e3bc12e468d62868c736f9df4ae9c818a518e06,openstack/releases,master,I2e3bc12e468d62868c736f9df4ae9c818a518e06,nova: release pike 16.1.1,MERGED,2018-04-01 22:31:12.000000000,2018-04-02 13:14:54.000000000,2018-04-02 13:14:53.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 22:31:12.000000000', 'files': ['deliverables/pike/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2f08a09517a970e15a16d6f4e36350ff896e07f8', 'message': 'nova: release pike 16.1.1\n\nWhole lotta bug fixes.\n\nChange-Id: I2e3bc12e468d62868c736f9df4ae9c818a518e06\n'}]",0,558130,2f08a09517a970e15a16d6f4e36350ff896e07f8,7,6,1,6873,,,0,"nova: release pike 16.1.1

Whole lotta bug fixes.

Change-Id: I2e3bc12e468d62868c736f9df4ae9c818a518e06
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/558130/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/nova.yaml'],1,2f08a09517a970e15a16d6f4e36350ff896e07f8,nova-pike-16.1.1, - version: 16.1.1 projects: - repo: openstack/nova hash: 708342fe8d6e930d7fe942fb5f2043c2907cd5e9,,4,0
openstack%2Freleases~master~I54d3719d416d8f7ab61f71946ba4f3685f8dce35,openstack/releases,master,I54d3719d416d8f7ab61f71946ba4f3685f8dce35,nova: release queens 17.0.2,MERGED,2018-03-29 13:18:10.000000000,2018-04-02 13:05:09.000000000,2018-04-02 13:05:09.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 13:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/88a5259e68cbf573c5bd6e2c1449ec4bf3f1e0db', 'message': 'nova: release queens 17.0.2\n\nDepends-On: https://review.openstack.org/557621/\nChange-Id: I54d3719d416d8f7ab61f71946ba4f3685f8dce35\n'}, {'number': 2, 'created': '2018-03-29 21:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bc7899a691a72ecd3e76980b6df1a577cce89d49', 'message': 'nova: release queens 17.0.2\n\nChange-Id: I54d3719d416d8f7ab61f71946ba4f3685f8dce35\n'}, {'number': 3, 'created': '2018-03-29 22:01:55.000000000', 'files': ['deliverables/queens/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3f01be9ad8811e1fb16bf4862e1c9dc67b7dd9b9', 'message': 'nova: release queens 17.0.2\n\nDepends-On: https://review.openstack.org/557837/\n\nChange-Id: I54d3719d416d8f7ab61f71946ba4f3685f8dce35\n'}]",0,557704,3f01be9ad8811e1fb16bf4862e1c9dc67b7dd9b9,20,6,3,6873,,,0,"nova: release queens 17.0.2

Depends-On: https://review.openstack.org/557837/

Change-Id: I54d3719d416d8f7ab61f71946ba4f3685f8dce35
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/557704/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/nova.yaml'],1,88a5259e68cbf573c5bd6e2c1449ec4bf3f1e0db,nova-queens-17.0.2, - version: 17.0.2 projects: - repo: openstack/nova hash: 2dc4d7a366efe11acb1099eca13bd3f3c2af9012,,4,0
openstack%2Freleases~master~If2a15ae44c9cb77c69cb3d62068445f5d218d129,openstack/releases,master,If2a15ae44c9cb77c69cb3d62068445f5d218d129,Add Masakari Projects to Rocky Release,MERGED,2018-03-30 17:01:10.000000000,2018-04-02 13:04:52.000000000,2018-04-02 13:04:52.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 17:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f888ff6766354064218f3b4fe2fe59bacfb68866', 'message': 'Add Masakari Projects to Rocky Release\n\nThis patch propose Rocky release model for following 4 Masakari\nprojects.\n(1) masakari: Instance HA service\n(2) python-masakariclient: python client library\n(3) masakari-monitors: Failure monitoring tool\n(4) masakari-dashboard: Horizon dashboard\n\nChange-Id: If2a15ae44c9cb77c69cb3d62068445f5d218d129\nSigned-off-by: Sampath Priyankara <sam47priya@gmail.com>\n'}, {'number': 2, 'created': '2018-03-30 18:08:23.000000000', 'files': ['deliverables/rocky/masakari-monitors.yaml', 'deliverables/rocky/masakari-dashboard.yaml', 'deliverables/rocky/masakari.yaml', 'deliverables/rocky/python-masakariclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0a803e8203474d8ea7604a134760d339c4ed1952', 'message': 'Add Masakari Projects to Rocky Release\n\nThis patch propose Rocky release model for following 4 Masakari\nprojects.\n(1) masakari: Instance HA service\n(2) python-masakariclient: python client library\n(3) masakari-monitors: Failure monitoring tool\n(4) masakari-dashboard: Horizon dashboard\n\nChange-Id: If2a15ae44c9cb77c69cb3d62068445f5d218d129\nSigned-off-by: Sampath Priyankara <sam47priya@gmail.com>\n'}]",0,557968,0a803e8203474d8ea7604a134760d339c4ed1952,8,2,2,8716,,,0,"Add Masakari Projects to Rocky Release

This patch propose Rocky release model for following 4 Masakari
projects.
(1) masakari: Instance HA service
(2) python-masakariclient: python client library
(3) masakari-monitors: Failure monitoring tool
(4) masakari-dashboard: Horizon dashboard

Change-Id: If2a15ae44c9cb77c69cb3d62068445f5d218d129
Signed-off-by: Sampath Priyankara <sam47priya@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/68/557968/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/masakari-monitors.yaml', 'deliverables/rocky/masakari-dashboard.yaml', 'deliverables/rocky/masakari.yaml', 'deliverables/rocky/python-masakariclient.yaml']",4,f888ff6766354064218f3b4fe2fe59bacfb68866,masakari-deliverables,--- launchpad: python-masakariclient release-model: cycle-with-milestones team: masakari type: library repository-settings: openstack/python-masakariclient: {} ,,29,0
openstack%2Fnova-powervm~master~I63b80fc80ef6634396a460d74794216b09ed2f2d,openstack/nova-powervm,master,I63b80fc80ef6634396a460d74794216b09ed2f2d,Add affinity score check attribute to flavor,MERGED,2018-03-22 13:58:54.000000000,2018-04-02 13:02:05.000000000,2018-04-02 13:02:05.000000000,"[{'_account_id': 10608}, {'_account_id': 13557}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16551}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-22 13:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/766dd53ce9df860729fe5ebc72a46f316de24dfd', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}, {'number': 2, 'created': '2018-03-26 07:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/a0c2d13e3f5e968366f836ae1506ba734b9e5037', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}, {'number': 3, 'created': '2018-03-26 16:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/9955d1dcf5ff3a89c24687919387b4c4ec8b7650', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}, {'number': 4, 'created': '2018-03-30 00:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/d0a053b6ec63415e46d07d670010465a4535b671', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}, {'number': 5, 'created': '2018-03-30 18:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/b2445b3ed916bead2e0ab4768f17d7790333989d', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}, {'number': 6, 'created': '2018-03-30 18:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/73e27d5119c658e08365afa77b4772d70b58c4ba', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}, {'number': 7, 'created': '2018-04-01 20:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/47ba778cb073dfa12555c90ce9935833b7c616a7', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}, {'number': 8, 'created': '2018-04-02 11:01:10.000000000', 'files': ['nova_powervm/tests/virt/powervm/test_vm.py', 'nova_powervm/virt/powervm/vm.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1dc302b7198ad749dc14cc69cf8f2e45e929d132', 'message': 'Add affinity score check attribute to flavor\n\nThis change request is to enable adding affinity score check\nattribute as part of VM deploy based on the host capability.\n\nChange-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d\n'}]",12,555309,1dc302b7198ad749dc14cc69cf8f2e45e929d132,47,7,8,16551,,,0,"Add affinity score check attribute to flavor

This change request is to enable adding affinity score check
attribute as part of VM deploy based on the host capability.

Change-Id: I63b80fc80ef6634396a460d74794216b09ed2f2d
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/09/555309/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/test_vm.py', 'nova_powervm/virt/powervm/vm.py']",2,766dd53ce9df860729fe5ebc72a46f316de24dfd,arrbranch,"# Copyright 2014, 2018 IBM Corp. _PVM_ENFORCE_AFFINITY_CHECK = 'powervm:enforce_affinity_check' _PVM_ENFORCE_AFFINITY_CHECK: lpar_bldr.ENFORCE_AFFINITY_CHECK, elif bldr_key == lpar_bldr.ENFORCE_AFFINITY_CHECK: if (instance.task_state == task_states.REBUILD_SPAWNING and not self.host_w.get_capability('affinity_check_capable')): # We still want to be able to rebuild from hosts that # support affinity score check to hosts that don't support # affinity score check. LOG.info(""Skipping affinity check attribute processing "" ""on rebuild to affinity check unsupported "" ""host. The current metadata setting will be "" ""retained."", instance=instance) else: attrs[bldr_key] = instance.flavor.extra_specs[key]","# Copyright 2014, 2017 IBM Corp.",28,2
openstack%2Fmanila~stable%2Fpike~Ia761819a352163176d353f61682cf47a1f429966,openstack/manila,stable/pike,Ia761819a352163176d353f61682cf47a1f429966,Utilize requests lib for Huawei storage connection,MERGED,2018-02-06 12:16:13.000000000,2018-04-02 12:56:47.000000000,2018-04-02 12:56:47.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 15100}, {'_account_id': 16203}, {'_account_id': 16657}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23327}]","[{'number': 1, 'created': '2018-02-06 12:16:13.000000000', 'files': ['releasenotes/notes/Huawei-driver-utilize-requests-lib-67f2c4e7ae0d2efa.yaml', 'manila/share/drivers/huawei/v3/helper.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/1849ac3fa37b8344f6662f68f0ac01b4a90cd3fe', 'message': ""Utilize requests lib for Huawei storage connection\n\nFor the latest Python 2.7 release, urllib uses the SSL certification\nwhile launching URL connection by default, which causes Huawei driver\nfailed to connect backend storage because it doesn't support SSL\ncertification.\nThis patch fixes this issue by updating Huawei driver logic to use\nrequests lib for Huawei storage connection, and specifying no use of\nSSL certification.\n\nChange-Id: Ia761819a352163176d353f61682cf47a1f429966\nCloses-Bug: #1733451\n(cherry picked from commit 683feaef9aa34f65e9ff7cfd93880d3b9e91e046)\n""}]",0,541253,1849ac3fa37b8344f6662f68f0ac01b4a90cd3fe,19,9,1,16203,,,0,"Utilize requests lib for Huawei storage connection

For the latest Python 2.7 release, urllib uses the SSL certification
while launching URL connection by default, which causes Huawei driver
failed to connect backend storage because it doesn't support SSL
certification.
This patch fixes this issue by updating Huawei driver logic to use
requests lib for Huawei storage connection, and specifying no use of
SSL certification.

Change-Id: Ia761819a352163176d353f61682cf47a1f429966
Closes-Bug: #1733451
(cherry picked from commit 683feaef9aa34f65e9ff7cfd93880d3b9e91e046)
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/541253/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Huawei-driver-utilize-requests-lib-67f2c4e7ae0d2efa.yaml', 'manila/share/drivers/huawei/v3/helper.py', 'manila/tests/share/drivers/huawei/test_huawei_nas.py']",3,1849ac3fa37b8344f6662f68f0ac01b4a90cd3fe,bug/1733451,"import requests def do_call(self, url, data, method, calltimeout=4): @ddt.ddt class HuaweiDriverHelperTestCase(test.TestCase): def setUp(self): super(HuaweiDriverHelperTestCase, self).setUp() self.helper = helper.RestHelper(None) def test_init_http_head(self): self.helper.init_http_head() self.assertIsNone(self.helper.url) self.assertFalse(self.helper.session.verify) self.assertEqual(""keep-alive"", self.helper.session.headers[""Connection""]) self.assertEqual(""application/json"", self.helper.session.headers[""Content-Type""]) @ddt.data(('fake_data', 'POST'), (None, 'POST'), (None, 'PUT'), (None, 'GET'), ('fake_data', 'PUT'), (None, 'DELETE'), ) @ddt.unpack def test_do_call_with_valid_method(self, data, method): self.helper.init_http_head() mocker = self.mock_object(self.helper.session, method.lower()) self.helper.do_call(""fake-rest-url"", data, method) kwargs = {'timeout': constants.SOCKET_TIMEOUT} if data: kwargs['data'] = data mocker.assert_called_once_with(""fake-rest-url"", **kwargs) def test_do_call_with_invalid_method(self): self.assertRaises(exception.ShareBackendException, self.helper.do_call, ""fake-rest-url"", None, 'fake-method') def test_do_call_with_http_error(self): self.helper.init_http_head() fake_res = requests.Response() fake_res.reason = 'something wrong' fake_res.status_code = 500 fake_res.url = ""fake-rest-url"" self.mock_object(self.helper.session, 'post', mock.Mock(return_value=fake_res)) res = self.helper.do_call(""fake-rest-url"", None, 'POST') expected = { ""error"": { ""code"": 500, ""description"": '500 Server Error: something wrong for ' 'url: fake-rest-url'} } self.assertDictEqual(expected, res)"," def do_call(self, url, data=None, method=None, calltimeout=4):",118,44
openstack%2Fheat~master~Iaaecc95f2224714c57f6c855ef84bb3a8eb42776,openstack/heat,master,Iaaecc95f2224714c57f6c855ef84bb3a8eb42776,Remove mox from test_scheduler.DependencyTaskGroupTest,MERGED,2018-03-13 20:13:44.000000000,2018-04-02 12:54:12.000000000,2018-04-02 12:54:12.000000000,"[{'_account_id': 4257}, {'_account_id': 8289}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-13 20:13:44.000000000', 'files': ['heat/tests/engine/test_scheduler.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9d679ffe1572fabc62f31e8f575ae86b9fc3dde1', 'message': 'Remove mox from test_scheduler.DependencyTaskGroupTest\n\nChange-Id: Iaaecc95f2224714c57f6c855ef84bb3a8eb42776\n'}]",0,552675,9d679ffe1572fabc62f31e8f575ae86b9fc3dde1,9,4,1,4257,,,0,"Remove mox from test_scheduler.DependencyTaskGroupTest

Change-Id: Iaaecc95f2224714c57f6c855ef84bb3a8eb42776
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/552675/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/engine/test_scheduler.py'],1,9d679ffe1572fabc62f31e8f575ae86b9fc3dde1,mox-removal,"import mockclass StepTracker(object): def __init__(self): self.expected_groups = [] self.side_effects = {} def expect_call_group(self, step_num, targets): self.expected_groups.append(set((step_num, t) for t in targets)) def expect_call(self, step_num, target): self.expect_call_group(step_num, (target,)) def raise_on(self, step_num, target, exc): self.side_effects[(step_num, target)] = exc def sleep_on(self, step_num, target, sleep_time): self.side_effects[(step_num, target)] = float(sleep_time) def side_effect(self, step_num, target): se = self.side_effects.get((step_num, target), None) if isinstance(se, BaseException): raise se if isinstance(se, float): eventlet.sleep(se) def verify_calls(self, mock_step): actual_calls = mock_step.mock_calls CallList = type(actual_calls) idx = 0 try: for group in self.expected_groups: group_len = len(group) group_actual = CallList(actual_calls[idx:idx + group_len]) idx += group_len mock_step.mock_calls = group_actual mock_step.assert_has_calls( [mock.call(s, t) for s, t in group], any_order=True) finally: mock_step.actual_calls = actual_calls if len(actual_calls) > idx: raise AssertionError(""Unexpected calls: %s"" % CallList(actual_calls[idx:])) tracker = StepTracker() yield tracker dummy.do_step = mock.Mock(side_effect=tracker.side_effect) tracker.verify_calls(dummy.do_step) def test_test(self): def failing_test(): with self._dep_test(('only', None)) as track: track.expect_call(1, 'only') track.expect_call(3, 'only') self.assertRaises(AssertionError, failing_test) @mock.patch.object(scheduler.TaskRunner, '_sleep') def test_no_steps(self, mock_sleep): with self._dep_test(('only', None)) as track: track.expect_call(1, 'only') track.expect_call(2, 'only') track.expect_call(3, 'only') with self._dep_test(('1', None), ('2', None)) as track: track.expect_call_group(1, ('1', '2')) track.expect_call_group(2, ('1', '2')) track.expect_call_group(3, ('1', '2')) with self._dep_test(('second', 'first')) as track: track.expect_call(1, 'first') track.expect_call(2, 'first') track.expect_call(3, 'first') track.expect_call(1, 'second') track.expect_call(2, 'second') track.expect_call(3, 'second') ('second', 'first')) as track: track.expect_call(1, 'first') track.expect_call(2, 'first') track.expect_call(3, 'first') track.expect_call(1, 'second') track.expect_call(2, 'second') track.expect_call(3, 'second') track.expect_call(1, 'third') track.expect_call(2, 'third') track.expect_call(3, 'third') ('mid1', 'first'), ('mid2', 'first')) as track: track.expect_call(1, 'first') track.expect_call(2, 'first') track.expect_call(3, 'first') track.expect_call_group(1, ('mid1', 'mid2')) track.expect_call_group(2, ('mid1', 'mid2')) track.expect_call_group(3, ('mid1', 'mid2')) track.expect_call(1, 'last') track.expect_call(2, 'last') track.expect_call(3, 'last') ('mid3', 'first'), ('mid2', 'first')) as track: track.expect_call(1, 'first') track.expect_call(2, 'first') track.expect_call(3, 'first') track.expect_call_group(1, ('mid2', 'mid3')) track.expect_call_group(2, ('mid2', 'mid3')) track.expect_call_group(3, ('mid2', 'mid3')) track.expect_call(1, 'mid1') track.expect_call(2, 'mid1') track.expect_call(3, 'mid1') track.expect_call(1, 'last') track.expect_call(2, 'last') track.expect_call(3, 'last') ('mid3', 'e3')) as track: track.expect_call_group(1, ('e1', 'e2', 'e3')) track.expect_call_group(2, ('e1', 'e2', 'e3')) track.expect_call_group(3, ('e1', 'e2', 'e3')) track.expect_call(1, 'mid3') track.expect_call(2, 'mid3') track.expect_call(3, 'mid3') track.expect_call_group(1, ('mid2', 'mid1')) track.expect_call_group(2, ('mid2', 'mid1')) track.expect_call_group(3, ('mid2', 'mid1')) track.expect_call(1, 'last') track.expect_call(2, 'last') track.expect_call(3, 'last') ('b1', 'first'), ('b2', 'first')) as track: track.expect_call(1, 'first') track.expect_call(2, 'first') track.expect_call(3, 'first') track.expect_call_group(1, ('b1', 'b2')) track.expect_call_group(2, ('b1', 'b2')) track.expect_call_group(3, ('b1', 'b2')) track.expect_call_group(1, ('a1', 'a2')) track.expect_call_group(2, ('a1', 'a2')) track.expect_call_group(3, ('a1', 'a2')) track.expect_call(1, 'last') track.expect_call(2, 'last') track.expect_call(3, 'last') with self._dep_test(*tasks) as track: track.expect_call_group(1, ('A', 'B', 'C')) track.raise_on(1, 'C', e1) track.expect_call_group(2, ('A', 'B')) track.raise_on(2, 'B', e2) track.expect_call(3, 'A') with self._dep_test(*tasks) as track: track.expect_call(1, 'A') track.raise_on(1, 'A', e1) with self._dep_test(*tasks) as track: track.expect_call(1, 'C') track.raise_on(1, 'C', e1) with self._dep_test(*tasks) as track: track.expect_call_group(1, ('A', 'B')) track.expect_call_group(2, ('A', 'B')) track.raise_on(2, 'B', e1) track.expect_call(3, 'B') with self._dep_test(*tasks) as track: track.expect_call_group(1, ('A', 'B')) track.expect_call_group(2, ('A', 'B')) track.raise_on(2, 'B', e1) track.expect_call(3, 'B') track.expect_call(4, 'B') track.sleep_on(4, 'B', self.error_wait_time) with self._dep_test(*tasks) as track: track.expect_call_group(1, ('A', 'B')) track.expect_call_group(2, ('A', 'B')) track.raise_on(2, 'A', e1) track.expect_call(3, 'B')"," self.addCleanup(self.m.VerifyAll) self.m.StubOutWithMock(dummy, 'do_step') yield dummy self.m.ReplayAll() def test_no_steps(self): self.m.StubOutWithMock(scheduler.TaskRunner, '_sleep') with self._dep_test(('only', None)) as dummy: dummy.do_step(1, 'only').AndReturn(None) dummy.do_step(2, 'only').AndReturn(None) dummy.do_step(3, 'only').AndReturn(None) with self._dep_test(('1', None), ('2', None)) as dummy: dummy.do_step(1, '1').InAnyOrder('1') dummy.do_step(1, '2').InAnyOrder('1') dummy.do_step(2, '1').InAnyOrder('2') dummy.do_step(2, '2').InAnyOrder('2') dummy.do_step(3, '1').InAnyOrder('3') dummy.do_step(3, '2').InAnyOrder('3') with self._dep_test(('second', 'first')) as dummy: dummy.do_step(1, 'first').AndReturn(None) dummy.do_step(2, 'first').AndReturn(None) dummy.do_step(3, 'first').AndReturn(None) dummy.do_step(1, 'second').AndReturn(None) dummy.do_step(2, 'second').AndReturn(None) dummy.do_step(3, 'second').AndReturn(None) ('second', 'first')) as dummy: dummy.do_step(1, 'first').AndReturn(None) dummy.do_step(2, 'first').AndReturn(None) dummy.do_step(3, 'first').AndReturn(None) dummy.do_step(1, 'second').AndReturn(None) dummy.do_step(2, 'second').AndReturn(None) dummy.do_step(3, 'second').AndReturn(None) dummy.do_step(1, 'third').AndReturn(None) dummy.do_step(2, 'third').AndReturn(None) dummy.do_step(3, 'third').AndReturn(None) ('mid1', 'first'), ('mid2', 'first')) as dummy: dummy.do_step(1, 'first').AndReturn(None) dummy.do_step(2, 'first').AndReturn(None) dummy.do_step(3, 'first').AndReturn(None) dummy.do_step(1, 'mid1').InAnyOrder('1') dummy.do_step(1, 'mid2').InAnyOrder('1') dummy.do_step(2, 'mid1').InAnyOrder('2') dummy.do_step(2, 'mid2').InAnyOrder('2') dummy.do_step(3, 'mid1').InAnyOrder('3') dummy.do_step(3, 'mid2').InAnyOrder('3') dummy.do_step(1, 'last').AndReturn(None) dummy.do_step(2, 'last').AndReturn(None) dummy.do_step(3, 'last').AndReturn(None) ('mid3', 'first'), ('mid2', 'first')) as dummy: dummy.do_step(1, 'first').AndReturn(None) dummy.do_step(2, 'first').AndReturn(None) dummy.do_step(3, 'first').AndReturn(None) dummy.do_step(1, 'mid2').InAnyOrder('1') dummy.do_step(1, 'mid3').InAnyOrder('1') dummy.do_step(2, 'mid2').InAnyOrder('2') dummy.do_step(2, 'mid3').InAnyOrder('2') dummy.do_step(3, 'mid2').InAnyOrder('3') dummy.do_step(3, 'mid3').InAnyOrder('3') dummy.do_step(1, 'mid1').AndReturn(None) dummy.do_step(2, 'mid1').AndReturn(None) dummy.do_step(3, 'mid1').AndReturn(None) dummy.do_step(1, 'last').AndReturn(None) dummy.do_step(2, 'last').AndReturn(None) dummy.do_step(3, 'last').AndReturn(None) ('mid3', 'e3')) as dummy: dummy.do_step(1, 'e1').InAnyOrder('1edges') dummy.do_step(1, 'e2').InAnyOrder('1edges') dummy.do_step(1, 'e3').InAnyOrder('1edges') dummy.do_step(2, 'e1').InAnyOrder('2edges') dummy.do_step(2, 'e2').InAnyOrder('2edges') dummy.do_step(2, 'e3').InAnyOrder('2edges') dummy.do_step(3, 'e1').InAnyOrder('3edges') dummy.do_step(3, 'e2').InAnyOrder('3edges') dummy.do_step(3, 'e3').InAnyOrder('3edges') dummy.do_step(1, 'mid3').AndReturn(None) dummy.do_step(2, 'mid3').AndReturn(None) dummy.do_step(3, 'mid3').AndReturn(None) dummy.do_step(1, 'mid2').InAnyOrder('1mid') dummy.do_step(1, 'mid1').InAnyOrder('1mid') dummy.do_step(2, 'mid2').InAnyOrder('2mid') dummy.do_step(2, 'mid1').InAnyOrder('2mid') dummy.do_step(3, 'mid2').InAnyOrder('3mid') dummy.do_step(3, 'mid1').InAnyOrder('3mid') dummy.do_step(1, 'last').AndReturn(None) dummy.do_step(2, 'last').AndReturn(None) dummy.do_step(3, 'last').AndReturn(None) ('b1', 'first'), ('b2', 'first')) as dummy: dummy.do_step(1, 'first').AndReturn(None) dummy.do_step(2, 'first').AndReturn(None) dummy.do_step(3, 'first').AndReturn(None) dummy.do_step(1, 'b1').InAnyOrder('1b') dummy.do_step(1, 'b2').InAnyOrder('1b') dummy.do_step(2, 'b1').InAnyOrder('2b') dummy.do_step(2, 'b2').InAnyOrder('2b') dummy.do_step(3, 'b1').InAnyOrder('3b') dummy.do_step(3, 'b2').InAnyOrder('3b') dummy.do_step(1, 'a1').InAnyOrder('1a') dummy.do_step(1, 'a2').InAnyOrder('1a') dummy.do_step(2, 'a1').InAnyOrder('2a') dummy.do_step(2, 'a2').InAnyOrder('2a') dummy.do_step(3, 'a1').InAnyOrder('3a') dummy.do_step(3, 'a2').InAnyOrder('3a') dummy.do_step(1, 'last').AndReturn(None) dummy.do_step(2, 'last').AndReturn(None) dummy.do_step(3, 'last').AndReturn(None) with self._dep_test(*tasks) as dummy: dummy.do_step(1, 'A').InAnyOrder('1') dummy.do_step(1, 'B').InAnyOrder('1') dummy.do_step(1, 'C').InAnyOrder('1').AndRaise(e1) dummy.do_step(2, 'A').InAnyOrder('2') dummy.do_step(2, 'B').InAnyOrder('2').AndRaise(e2) dummy.do_step(3, 'A').InAnyOrder('3') with self._dep_test(*tasks) as dummy: dummy.do_step(1, 'A').AndRaise(e1) with self._dep_test(*tasks) as dummy: dummy.do_step(1, 'C').AndRaise(e1) with self._dep_test(*tasks) as dummy: dummy.do_step(1, 'A').InAnyOrder('1') dummy.do_step(1, 'B').InAnyOrder('1') dummy.do_step(2, 'A').InAnyOrder('2').AndRaise(e1) dummy.do_step(2, 'B').InAnyOrder('2') dummy.do_step(3, 'B') with self._dep_test(*tasks) as dummy: dummy.do_step(1, 'A').InAnyOrder('1') dummy.do_step(1, 'B').InAnyOrder('1') dummy.do_step(2, 'A').InAnyOrder('2').AndRaise(e1) dummy.do_step(2, 'B').InAnyOrder('2') dummy.do_step(3, 'B') dummy.do_step(4, 'B').WithSideEffects(sleep) with self._dep_test(*tasks) as dummy: dummy.do_step(1, 'A').InAnyOrder('1') dummy.do_step(1, 'B').InAnyOrder('1') dummy.do_step(2, 'A').InAnyOrder('2').AndRaise(e1) dummy.do_step(2, 'B').InAnyOrder('2') dummy.do_step(3, 'B')",165,134
openstack%2Foslo.service~master~Icb39a334b82834b592932facf93be0687563c316,openstack/oslo.service,master,Icb39a334b82834b592932facf93be0687563c316,"Revert ""Permit aborting loopingcall while sleeping""",MERGED,2017-12-15 08:32:24.000000000,2018-04-02 12:35:08.000000000,2017-12-15 12:08:58.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7293}, {'_account_id': 8768}, {'_account_id': 9796}, {'_account_id': 10068}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 25437}, {'_account_id': 26477}]","[{'number': 1, 'created': '2017-12-15 08:32:24.000000000', 'files': ['oslo_service/tests/test_loopingcall.py', 'oslo_service/loopingcall.py'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/5975da493bc35b2736eb86c1d7a19b2c0e025ee9', 'message': 'Revert ""Permit aborting loopingcall while sleeping""\n\nThis reverts commit ba28d511e08c02803ac834bf563eb30a135c2c6e.\n\nThe original change breaks trove and vitrage.\n\nChange-Id: Icb39a334b82834b592932facf93be0687563c316\n'}]",0,528202,5975da493bc35b2736eb86c1d7a19b2c0e025ee9,9,10,1,9796,,,0,"Revert ""Permit aborting loopingcall while sleeping""

This reverts commit ba28d511e08c02803ac834bf563eb30a135c2c6e.

The original change breaks trove and vitrage.

Change-Id: Icb39a334b82834b592932facf93be0687563c316
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/02/528202/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_service/tests/test_loopingcall.py', 'oslo_service/loopingcall.py']",2,5975da493bc35b2736eb86c1d7a19b2c0e025ee9,bug/1660210, self._running = False self._running = False self._running = False self._running = True greenthread.sleep(initial_delay) greenthread.sleep(idle),"import threading self.abort = threading.Event() @property def _running(self): return not self.abort.is_set() self.abort.set() def _sleep(self, timeout): return self.abort.wait(timeout) self.abort.clear() self._sleep(initial_delay) self._sleep(idle)",14,21
openstack%2Fwatcher~master~Ib5e0d285de0f25515702890778aca5e6417befaf,openstack/watcher,master,Ib5e0d285de0f25515702890778aca5e6417befaf,filter exclude instances during migration,MERGED,2017-09-28 10:42:36.000000000,2018-04-02 12:09:47.000000000,2018-04-02 12:09:47.000000000,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}]","[{'number': 1, 'created': '2017-09-28 10:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3b33d6138b90f79ac77778628901b29ca162d8a3', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 2, 'created': '2017-11-22 10:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/03258fd1e2a5d6cc01816ff18a92ff73709cbb10', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 3, 'created': '2017-11-27 06:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/584ade5c8b98e96fee4187dc7727a13e89d72af0', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 4, 'created': '2017-12-06 12:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/8885d6060574ee1a9a05c8b42bce98c82bbc7c0c', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 5, 'created': '2017-12-06 13:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/fc0dea189c3731b2ed0b9b3e866276fa9c6fae96', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 6, 'created': '2017-12-12 12:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/e7c1a3d313eb5fa7fc9c8a7b1b408944d18b843e', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 7, 'created': '2018-01-16 05:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/61c0966d1c38319aa95931fa30ab4b801bc47a83', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 8, 'created': '2018-01-16 07:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f76492d4596fd2017f7b0767087273b081a38ea7', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 9, 'created': '2018-01-16 12:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d38e38e73b8335b62fecfb29e64c782013c74bba', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 10, 'created': '2018-01-17 02:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0deb1813e049f586a3db317c1c94c5bfa02c3baf', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 11, 'created': '2018-01-17 03:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/88a8391c50e20284af3f40d280c882194fa6697e', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 12, 'created': '2018-01-18 07:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/c06f72970de59f629d78108d8bb8d9a6d87dbaa1', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 13, 'created': '2018-02-09 07:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/4d8dea1244b6e950a16b2ca8f78d4a95deeabe44', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 14, 'created': '2018-02-09 10:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/29790583c1d27f952a43debbd363caa5569af46d', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 15, 'created': '2018-02-23 03:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/77b34cfe6cc97866427363b9c80cac0604d427a5', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}, {'number': 16, 'created': '2018-02-23 03:13:51.000000000', 'files': ['watcher/tests/decision_engine/model/data/scenario_8_with_4_nodes.xml', 'watcher/tests/decision_engine/strategy/strategies/test_workload_stabilization.py', 'watcher/decision_engine/strategy/strategies/vm_workload_consolidation.py', 'watcher/decision_engine/strategy/strategies/outlet_temp_control.py', 'watcher/tests/decision_engine/model/data/scenario_5_with_instance_disk_0.xml', 'watcher/tests/decision_engine/model/faker_cluster_state.py', 'watcher/tests/decision_engine/model/data/scenario_7_with_2_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_3_with_metrics.xml', 'watcher/tests/decision_engine/model/data/scenario_3_with_2_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_1_with_metrics.xml', 'watcher/tests/decision_engine/model/data/scenario_1_with_1_node_unavailable.xml', 'watcher/decision_engine/strategy/strategies/basic_consolidation.py', 'watcher/decision_engine/strategy/strategies/uniform_airflow.py', 'watcher/tests/decision_engine/model/data/scenario_6_with_2_nodes.xml', 'watcher/decision_engine/strategy/strategies/workload_stabilization.py', 'releasenotes/notes/compute-cdm-include-all-instances-f7506ded2d57732f.yaml', 'watcher/decision_engine/strategy/strategies/workload_balance.py', 'watcher/tests/decision_engine/model/data/scenario_9_with_3_active_plus_1_disabled_nodes.xml', 'watcher/tests/decision_engine/model/data/scenario_1.xml', 'watcher/tests/decision_engine/model/data/scenario_1_with_all_instances_exclude.xml', 'watcher/decision_engine/model/model_root.py', 'watcher/tests/decision_engine/model/data/scenario_2_with_metrics.xml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/dad60fb87887c82070a509c7909eefc140d90b10', 'message': 'filter exclude instances during migration\n\nChange-Id: Ib5e0d285de0f25515702890778aca5e6417befaf\nImplements:blueprint compute-cdm-include-all-instances\n'}]",11,508108,dad60fb87887c82070a509c7909eefc140d90b10,62,12,16,24501,,,0,"filter exclude instances during migration

Change-Id: Ib5e0d285de0f25515702890778aca5e6417befaf
Implements:blueprint compute-cdm-include-all-instances
",git fetch https://review.opendev.org/openstack/watcher refs/changes/08/508108/16 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/strategy/strategies/uniform_airflow.py', 'watcher/decision_engine/strategy/strategies/workload_stabilization.py', 'watcher/decision_engine/strategy/strategies/outlet_temp_control.py', 'watcher/decision_engine/strategy/strategies/workload_balance.py']",4,3b33d6138b90f79ac77778628901b29ca162d8a3,bp/compute-cdm-include-all-instances," if instance.exclude: LOG.debug(""Instance is excluded by scope, "" ""skipped: %s"", instance.uuid) continue",,16,0
openstack%2Foslo.config~master~I25bd71ffa49f4232972370a35bf9040e7c45bf70,openstack/oslo.config,master,I25bd71ffa49f4232972370a35bf9040e7c45bf70,disable stack inspection when setting option values,MERGED,2018-03-28 21:19:35.000000000,2018-04-02 12:07:58.000000000,2018-04-02 12:07:58.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 21:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/f09f31e5fb363d9868d7682aebcbd06cd873ab8f', 'message': 'disable stack inspection when setting option values\n\nInspecting the stack every time we create an Opt or call\nset_defaults() is too expensive. This patch disables it but leaves the\ncode in place to make it easier for someone else to come along and\nwork on the performance issue without having to revert the patch\ncompletely.\n\nChange-Id: I25bd71ffa49f4232972370a35bf9040e7c45bf70\nAddresses-Bug: #1759689\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2018-03-28 23:04:10.000000000', 'files': ['oslo_config/tests/test_get_location.py', 'oslo_config/cfg.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/b6cfa2905511fef1f0f179baeadde0b2a2724487', 'message': 'disable stack inspection when setting option values\n\nInspecting the stack every time we create an Opt or call\nset_defaults() is too expensive. This patch disables it but leaves the\ncode in place to make it easier for someone else to come along and\nwork on the performance issue without having to revert the patch\ncompletely.\n\nChange-Id: I25bd71ffa49f4232972370a35bf9040e7c45bf70\nAddresses-Bug: #1759689\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,557513,b6cfa2905511fef1f0f179baeadde0b2a2724487,11,4,2,2472,,,0,"disable stack inspection when setting option values

Inspecting the stack every time we create an Opt or call
set_defaults() is too expensive. This patch disables it but leaves the
code in place to make it easier for someone else to come along and
work on the performance issue without having to revert the patch
completely.

Change-Id: I25bd71ffa49f4232972370a35bf9040e7c45bf70
Addresses-Bug: #1759689
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/13/557513/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/tests/test_get_location.py', 'oslo_config/cfg.py']",2,f09f31e5fb363d9868d7682aebcbd06cd873ab8f,bug/1759689," return None # FIXME(dhellmann): We need to look at the performance issues with # doing this for every Opt instance. # s = inspect.stack()[:n + 1] # try: # frame = s[n] # try: # return frame[1] # # WARNING(dhellmann): Using frame.lineno to include the # # line number in the return value causes some sort of # # memory or stack corruption that manifests in values not # # being cleaned up in the cfgfilter tests. # # return '%s:%s' % (frame[1], frame[2]) # finally: # del frame # finally: # del s"," s = inspect.stack()[:n + 1] try: frame = s[n] try: return frame[1] # WARNING(dhellmann): Using frame.lineno to include the # line number in the return value causes some sort of # memory or stack corruption that manifests in values not # being cleaned up in the cfgfilter tests. # return '%s:%s' % (frame[1], frame[2]) finally: del frame finally: del s",25,18
openstack%2Foctavia~master~I159dd4b371b870dc752fa01f738a2910263e3918,openstack/octavia,master,I159dd4b371b870dc752fa01f738a2910263e3918,Rename q- to neutron- services,MERGED,2018-02-14 12:28:23.000000000,2018-04-02 11:34:48.000000000,2018-03-13 01:21:47.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9545}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 14885}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 12:28:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2d76980f5e6f0d25730ab8eb72a0e4ed38657900', 'message': 'Rename q- to neutron- services\n\nWe were using neutron lib/neutron-legacy on our devstack plugin as we\nwere enabling legacy services. This commit changes it so we rely on\nlib/neutron.\n\nChange-Id: I159dd4b371b870dc752fa01f738a2910263e3918\n'}, {'number': 2, 'created': '2018-02-14 12:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c835576bbdb1c041043a491ca4313ae0ab320dec', 'message': 'Rename q- to neutron- services\n\nWe were using neutron lib/neutron-legacy on our devstack plugin as we\nwere enabling legacy services. This commit changes it so we rely on\nlib/neutron.\n\nChange-Id: I159dd4b371b870dc752fa01f738a2910263e3918\n'}, {'number': 3, 'created': '2018-02-14 14:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cb8a6d2ec77c44e37ede55cc27537ec511271a7', 'message': 'Rename q- to neutron- services\n\nWe were using neutron lib/neutron-legacy on our devstack plugin as we\nwere enabling legacy services. This commit changes it so we rely on\nlib/neutron.\n\nChange-Id: I159dd4b371b870dc752fa01f738a2910263e3918\n'}, {'number': 4, 'created': '2018-03-09 00:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8c62953680156b46614b74006b8ddcee56437d39', 'message': 'Rename q- to neutron- services\n\nWe were using neutron lib/neutron-legacy on our devstack plugin as we\nwere enabling legacy services. This commit changes it so we rely on\nlib/neutron.\n\nChange-Id: I159dd4b371b870dc752fa01f738a2910263e3918\n'}, {'number': 5, 'created': '2018-03-11 21:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f274f93d3f7f2a737856db994042046fa7a23adf', 'message': 'Rename q- to neutron- services\n\nWe were using neutron lib/neutron-legacy on our devstack plugin as we\nwere enabling legacy services. This commit changes it so we rely on\nlib/neutron.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\n\nChange-Id: I159dd4b371b870dc752fa01f738a2910263e3918\n'}, {'number': 6, 'created': '2018-03-12 09:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a298298d71caaceb6a153e825249405cee384843', 'message': 'Rename q- to neutron- services\n\nWe were using neutron lib/neutron-legacy on our devstack plugin as we\nwere enabling legacy services. This commit changes it so we rely on\nlib/neutron.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\n\nChange-Id: I159dd4b371b870dc752fa01f738a2910263e3918\n'}, {'number': 7, 'created': '2018-03-12 09:48:41.000000000', 'files': ['devstack/contrib/new-octavia-devstack.sh', 'devstack/samples/multinode/local.conf', 'devstack/samples/singlenode/local.conf', 'devstack/plugin.sh', 'devstack/samples/multinode/local-2.conf', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6eb4c1f33245fee66d59569a8df9fa906b019857', 'message': 'Rename q- to neutron- services\n\nWe were using neutron lib/neutron-legacy on our devstack plugin as we\nwere enabling legacy services. This commit changes it so we rely on\nlib/neutron.\n\nCo-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>\n\nChange-Id: I159dd4b371b870dc752fa01f738a2910263e3918\n'}]",21,544281,6eb4c1f33245fee66d59569a8df9fa906b019857,38,10,7,14885,,,0,"Rename q- to neutron- services

We were using neutron lib/neutron-legacy on our devstack plugin as we
were enabling legacy services. This commit changes it so we rely on
lib/neutron.

Co-Authored-By: Carlos Goncalves <cgoncalves@redhat.com>

Change-Id: I159dd4b371b870dc752fa01f738a2910263e3918
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/544281/6 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,2d76980f5e6f0d25730ab8eb72a0e4ed38657900,allow_neutron_api,"NEUTRON_API=${NEUTRON_API:-""neutron-api""} LBAAS_V2=${LBAAS_V2:-""neutron-lbaasv2""}","Q_SVC=${Q_SVC:-""q-svc""} LBAAS_V2=${LBAAS_V2:-""q-lbaasv2""}",4,4
openstack%2Foslotest~master~Ib9709f1cf5dbed4792f5dd7c49d8f9c77f04419f,openstack/oslotest,master,Ib9709f1cf5dbed4792f5dd7c49d8f9c77f04419f,mock: Properly patch mock.MagicMock,MERGED,2018-03-28 15:20:31.000000000,2018-04-02 10:58:18.000000000,2018-04-02 10:58:18.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 15:20:31.000000000', 'files': ['oslotest/mock_fixture.py', 'oslotest/tests/unit/test_mock_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/bb78b84c3fc8485e590f2c925c07731a9740a852', 'message': 'mock: Properly patch mock.MagicMock\n\nMockAutospecFixture should patch both internal and external usages\nof MagicMock (mock.MagicMock and mock.mock.MagicMock). However, only\nthe internal one is patched properly.\n\nRelated-Bug: #1735588\n\nChange-Id: Ib9709f1cf5dbed4792f5dd7c49d8f9c77f04419f\n'}]",0,557368,bb78b84c3fc8485e590f2c925c07731a9740a852,7,3,1,8213,,,0,"mock: Properly patch mock.MagicMock

MockAutospecFixture should patch both internal and external usages
of MagicMock (mock.MagicMock and mock.mock.MagicMock). However, only
the internal one is patched properly.

Related-Bug: #1735588

Change-Id: Ib9709f1cf5dbed4792f5dd7c49d8f9c77f04419f
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/68/557368/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslotest/mock_fixture.py', 'oslotest/tests/unit/test_mock_fixture.py']",2,bb78b84c3fc8485e590f2c925c07731a9740a852,bug/1735588," def _check_mock_autospec_all_members(self, mock_cls): for spec in [Foo, Foo()]: foo = mock_cls(autospec=spec) def test_mock_autospec_all_members(self): self._check_mock_autospec_all_members(mock.Mock) def test_magic_mock_autospec_all_members(self): self._check_mock_autospec_all_members(mock.MagicMock) "," def test_mock_autospec_all_members(self): for spec in [Foo, Foo()]: foo = mock.Mock(autospec=spec)",9,3
openstack%2Fovsdbapp~master~Id6186f5b9ad558665b38e1765d26a55fce706925,openstack/ovsdbapp,master,Id6186f5b9ad558665b38e1765d26a55fce706925,Updated from global requirements,MERGED,2018-03-10 13:44:56.000000000,2018-04-02 10:36:31.000000000,2018-04-02 10:36:31.000000000,"[{'_account_id': 10237}, {'_account_id': 20229}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 13:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/239200f58cea3c96a813088421bb6cbd719eca21', 'message': 'Updated from global requirements\n\nChange-Id: Id6186f5b9ad558665b38e1765d26a55fce706925\n'}, {'number': 2, 'created': '2018-03-15 07:53:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/332c7e683653cfb2a53a50e0264e77509823b2b0', 'message': 'Updated from global requirements\n\nChange-Id: Id6186f5b9ad558665b38e1765d26a55fce706925\n'}]",0,551613,332c7e683653cfb2a53a50e0264e77509823b2b0,10,3,2,11131,,,0,"Updated from global requirements

Change-Id: Id6186f5b9ad558665b38e1765d26a55fce706925
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/13/551613/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,239200f58cea3c96a813088421bb6cbd719eca21,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fzun~master~Ie6b32eaa1dffda0f9421a79d5e41da9b9173c831,openstack/zun,master,Ie6b32eaa1dffda0f9421a79d5e41da9b9173c831,Modify the content of rebuild in the api-ref doc,MERGED,2018-04-02 05:53:21.000000000,2018-04-02 10:27:27.000000000,2018-04-02 10:27:27.000000000,"[{'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-04-02 05:53:21.000000000', 'files': ['api-ref/source/containers.inc'], 'web_link': 'https://opendev.org/openstack/zun/commit/ff90044235509fd978e10eeb4781e21ef4133807', 'message': 'Modify the content of rebuild in the api-ref doc\n\nChange-Id: Ie6b32eaa1dffda0f9421a79d5e41da9b9173c831\nImplements:blueprint replace-image\n'}]",0,558161,ff90044235509fd978e10eeb4781e21ef4133807,7,4,1,21428,,,0,"Modify the content of rebuild in the api-ref doc

Change-Id: Ie6b32eaa1dffda0f9421a79d5e41da9b9173c831
Implements:blueprint replace-image
",git fetch https://review.opendev.org/openstack/zun refs/changes/61/558161/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/containers.inc'],1,ff90044235509fd978e10eeb4781e21ef4133807,bp/replace-image, - image: image - image_driver: image_driver,,2,0
openstack%2Fopenstack-ansible-pip_install~master~I209e64786c85dafb44faf82a48a11f0445380b0b,openstack/openstack-ansible-pip_install,master,I209e64786c85dafb44faf82a48a11f0445380b0b,Implement stable package pins,ABANDONED,2018-04-01 18:33:20.000000000,2018-04-02 10:25:21.000000000,,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 18:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/1e8a74dfbc3adffd660ae61728d597570c6187a4', 'message': 'Implement stable package pins\n\nImplements stable package pins for pip/setuptools/wheel.\n\nChange-Id: I209e64786c85dafb44faf82a48a11f0445380b0b\n'}, {'number': 2, 'created': '2018-04-01 20:33:35.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/279988b655c71231d7fd9cc8de057c20576775fd', 'message': 'Implement stable package pins\n\nImplements stable package pins for pip/setuptools/wheel.\n\nChange-Id: I209e64786c85dafb44faf82a48a11f0445380b0b\n'}]",2,558119,279988b655c71231d7fd9cc8de057c20576775fd,9,3,2,17799,,,0,"Implement stable package pins

Implements stable package pins for pip/setuptools/wheel.

Change-Id: I209e64786c85dafb44faf82a48a11f0445380b0b
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/19/558119/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1e8a74dfbc3adffd660ae61728d597570c6187a4,pip-stable-pins,"pip_install_version: latest pip_packages: ""{{ _pip_packages[pip_install_version] }}"" _pip_packages: latest: - pip - setuptools - wheel stable: - pip==9.0.1 - setuptools==38.5.1 - wheel==0.30.0",pip_packages: - pip - setuptools - wheel,11,4
openstack%2Fzun~master~I5a614c4faac719393dea7bb731eb16847317a219,openstack/zun,master,I5a614c4faac719393dea7bb731eb16847317a219,Fix typo on rest_api_version_history.rst,MERGED,2018-04-02 06:45:06.000000000,2018-04-02 09:34:08.000000000,2018-04-02 09:34:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-04-02 06:45:06.000000000', 'files': ['zun/api/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/d3050f8e66c24e8c20b16c47d3b42a329fb327b4', 'message': 'Fix typo on rest_api_version_history.rst\n\nTrivial fix.\n\nChange-Id: I5a614c4faac719393dea7bb731eb16847317a219\n'}]",0,558168,d3050f8e66c24e8c20b16c47d3b42a329fb327b4,7,3,1,15122,,,0,"Fix typo on rest_api_version_history.rst

Trivial fix.

Change-Id: I5a614c4faac719393dea7bb731eb16847317a219
",git fetch https://review.opendev.org/openstack/zun refs/changes/68/558168/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/api/rest_api_version_history.rst'],1,d3050f8e66c24e8c20b16c47d3b42a329fb327b4,fix_typo,----,---,1,1
openstack%2Fzun~master~I788ae497628d803589ae8862605601e47cbad3ac,openstack/zun,master,I788ae497628d803589ae8862605601e47cbad3ac,The incoming parameters is not effective,MERGED,2018-03-30 06:29:18.000000000,2018-04-02 09:23:51.000000000,2018-04-02 09:23:50.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-30 06:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3988a9ef07ddb3d82f264fe8c17b05369c2cfa36', 'message': 'The incoming parameters is not effective\n\nThe image_driver parameter is not used,\nand it will not take effect when the user passes the value.\n\nChange-Id: I788ae497628d803589ae8862605601e47cbad3ac\nCloses-Bug: #1760031\n'}, {'number': 2, 'created': '2018-03-30 06:44:30.000000000', 'files': ['zun/image/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f42267ec1862379f92572c74156872d9d3d3add3', 'message': 'The incoming parameters is not effective\n\nThe image_driver parameter is not used,\nand it will not take effect when call \nthe function with image_driver..\n\nChange-Id: I788ae497628d803589ae8862605601e47cbad3ac\nCloses-Bug: #1760031\n'}]",0,557892,f42267ec1862379f92572c74156872d9d3d3add3,9,4,2,23829,,,0,"The incoming parameters is not effective

The image_driver parameter is not used,
and it will not take effect when call 
the function with image_driver..

Change-Id: I788ae497628d803589ae8862605601e47cbad3ac
Closes-Bug: #1760031
",git fetch https://review.opendev.org/openstack/zun refs/changes/92/557892/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/image/driver.py'],1,3988a9ef07ddb3d82f264fe8c17b05369c2cfa36,bug/1760031,"def delete_image(context, img_id, image_driver=None): if image_driver: image_driver_list = [image_driver.lower()] else: image_driver_list = CONF.image_driver_list for driver_name in image_driver_list: try: image_driver = load_image_driver(driver_name) LOG.exception('Unknown exception occurred while deleting' 'image %s', img_id)","def delete_image(context, img_id, image_driver): image_driver_list = CONF.image_driver_list for driver in image_driver_list: try: image_driver = load_image_driver(driver) LOG.exception('Unknown exception occurred while deleting image %s', img_id)",9,6
openstack%2Fneutron-fwaas~stable%2Fqueens~I13bdb33871451fab42f6c6c024601bc8f4664a34,openstack/neutron-fwaas,stable/queens,I13bdb33871451fab42f6c6c024601bc8f4664a34,Fix sanity check for default firewall group name,ABANDONED,2018-04-02 09:18:56.000000000,2018-04-02 09:21:17.000000000,,[],"[{'number': 1, 'created': '2018-04-02 09:18:56.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d6e112c1c7b7036daa0a41d6fdf6a81b349a360b', 'message': 'Fix sanity check for default firewall group name\n\nOnly query name for duplicate firewall group named check\n\nChange-Id: I13bdb33871451fab42f6c6c024601bc8f4664a34\n'}]",0,558182,d6e112c1c7b7036daa0a41d6fdf6a81b349a360b,2,0,1,16264,,,0,"Fix sanity check for default firewall group name

Only query name for duplicate firewall group named check

Change-Id: I13bdb33871451fab42f6c6c024601bc8f4664a34
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/82/558182/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py'],1,d6e112c1c7b7036daa0a41d6fdf6a81b349a360b,fix_db_upgrade, default_fwg = session.query(resources.FIREWALL_GROUP.name).filter(, default_fwg = session.query(resources.FIREWALL_GROUP).filter(,1,1
openstack%2Ftacker~master~Ic8f660ab4f8cab1431ba9e1d951cd789c6665123,openstack/tacker,master,Ic8f660ab4f8cab1431ba9e1d951cd789c6665123,Remove six.iteritems and dict.itervalues,NEW,2016-08-19 10:35:44.000000000,2018-04-02 09:17:24.000000000,,"[{'_account_id': 2874}, {'_account_id': 13380}, {'_account_id': 22132}]","[{'number': 1, 'created': '2016-08-19 10:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6ae6a7df865bd71883431d15b8166d60d21ce32b', 'message': 'Remove six.iteritems and dict.iteritems/itervalues\n\n1、Rapleace dict.iteritems/itervalues() with dict.items/values(). In python 3 dict\ntype has no iteritems/itervalues() methods, the iteritems/itervalues() methods was\nrenamed to items/values().\n2、As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators in\nPY3 as well.\n3、In py2, the performance about list should be negligible, see the link [2].\n\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ic8f660ab4f8cab1431ba9e1d951cd789c6665123\n'}, {'number': 2, 'created': '2016-12-16 10:28:41.000000000', 'files': ['tacker/api/extensions.py', 'tacker/tests/unit/test_api_v2.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/1facc73a84c85364ecd552073363428050f0db28', 'message': 'Remove six.iteritems and dict.itervalues\n\n1、Rapleace dict.itervalues() with dict.values(). In python 3 dict\ntype has no itervalues() methods, the itervalues() methods was\nrenamed to values().\n2、In py2, the performance about list should be negligible, see the link [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nCo-Authored-By: ShuYingya<yingya.shu@easystack.cn>\nChange-Id: Ic8f660ab4f8cab1431ba9e1d951cd789c6665123\n'}]",0,357749,1facc73a84c85364ecd552073363428050f0db28,11,3,2,22132,,,0,"Remove six.iteritems and dict.itervalues

1、Rapleace dict.itervalues() with dict.values(). In python 3 dict
type has no itervalues() methods, the itervalues() methods was
renamed to values().
2、In py2, the performance about list should be negligible, see the link [1].

[1] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Co-Authored-By: ShuYingya<yingya.shu@easystack.cn>
Change-Id: Ic8f660ab4f8cab1431ba9e1d951cd789c6665123
",git fetch https://review.opendev.org/openstack/tacker refs/changes/49/357749/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/policy.py', 'tacker/common/utils.py', 'tacker/api/extensions.py', 'tacker/tests/unit/test_api_v2.py', 'tacker/wsgi.py']",5,6ae6a7df865bd71883431d15b8166d60d21ce32b,six," for (key, value) in resp.headers.items():"," for (key, value) in six.iteritems(resp.headers):",14,17
openstack%2Fnetworking-generic-switch~master~I2c1d23b930e32f9e50afa1054286a74bb18cc766,openstack/networking-generic-switch,master,I2c1d23b930e32f9e50afa1054286a74bb18cc766,Change launchpad to storyboard references,MERGED,2018-03-26 22:13:30.000000000,2018-04-02 09:17:05.000000000,2018-04-02 09:17:05.000000000,"[{'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 22:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/7b734ca017cea5c513292ec3d44f3f6f15c39938', 'message': 'Change launchpad to storyboard references\n\nAdditionally added the doc link that was missing.\n\nChange-Id: I2c1d23b930e32f9e50afa1054286a74bb18cc766\n'}, {'number': 2, 'created': '2018-03-28 18:53:20.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/daff1f94e67453609cce513a8d4d94c1005b30ec', 'message': 'Change launchpad to storyboard references\n\nAdditionally added the doc link that was missing.\n\nChange-Id: I2c1d23b930e32f9e50afa1054286a74bb18cc766\n'}]",3,556668,daff1f94e67453609cce513a8d4d94c1005b30ec,11,4,2,11655,,,0,"Change launchpad to storyboard references

Additionally added the doc link that was missing.

Change-Id: I2c1d23b930e32f9e50afa1054286a74bb18cc766
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/68/556668/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,7b734ca017cea5c513292ec3d44f3f6f15c39938,556668,* Bugs: https://storyboard.openstack.org/#!/project/956 * Docs: https://docs.openstack.org/networking-generic-switch/latest/,* Bugs: https://bugs.launchpad.net/networking-generic-switch * Docs: TBD,8,9
openstack%2Fzun~master~I44b850eae15a2dce93845fe31ebd3a4cf07f0141,openstack/zun,master,I44b850eae15a2dce93845fe31ebd3a4cf07f0141,Allow force delete a rebuilding container,MERGED,2018-03-29 01:18:22.000000000,2018-04-02 09:06:41.000000000,2018-04-02 09:06:41.000000000,"[{'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-29 01:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7ef3833e7f156071a49cbe83a23e11d05d0828e5', 'message': 'Allow force delete a rebuilding container\n\nChange-Id: I44b850eae15a2dce93845fe31ebd3a4cf07f0141\n'}, {'number': 2, 'created': '2018-03-30 03:56:44.000000000', 'files': ['zun/common/utils.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/eed00713386a0db35cf71fce0191e4581b9c81a9', 'message': 'Allow force delete a rebuilding container\n\nChange-Id: I44b850eae15a2dce93845fe31ebd3a4cf07f0141\n'}]",0,557565,eed00713386a0db35cf71fce0191e4581b9c81a9,10,4,2,11536,,,0,"Allow force delete a rebuilding container

Change-Id: I44b850eae15a2dce93845fe31ebd3a4cf07f0141
",git fetch https://review.opendev.org/openstack/zun refs/changes/65/557565/2 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/utils.py'],1,7ef3833e7f156071a49cbe83a23e11d05d0828e5,," consts.DELETED, consts.REBUILDING],"," consts.DELETED],",1,1
openstack%2Fglance~master~Ia89dd8fb128d18318605d49ae026960b5125b80c,openstack/glance,master,Ia89dd8fb128d18318605d49ae026960b5125b80c,"Remove the deprecated ""giturl"" option",ABANDONED,2018-02-28 08:55:00.000000000,2018-04-02 08:34:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 25903}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-28 08:55:00.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/58fe6ca462260f2e6fd3fdb916f9955c9eb2f111', 'message': 'Remove the deprecated ""giturl"" option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: Ia89dd8fb128d18318605d49ae026960b5125b80c\n'}]",0,548520,58fe6ca462260f2e6fd3fdb916f9955c9eb2f111,5,3,1,21486,,,0,"Remove the deprecated ""giturl"" option

From openstackdocstheme 1.18.0, valid Git URLs can be retrieved by
openstackdocstheme[1], we do not need giturl option anymore.

[1] https://review.openstack.org/532163

Change-Id: Ia89dd8fb128d18318605d49ae026960b5125b80c
",git fetch https://review.opendev.org/openstack/glance refs/changes/20/548520/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,58fe6ca462260f2e6fd3fdb916f9955c9eb2f111,,,"# Config logABug featuregiturl = ( u'https://git.openstack.org/cgit/openstack/glance/tree/api-ref/source') 'giturl': giturl,",0,4
openstack%2Fpython-watcherclient~master~I0a0781d4a86bb860bb8c85923e7be8b803f91ae2,openstack/python-watcherclient,master,I0a0781d4a86bb860bb8c85923e7be8b803f91ae2,Update links in README,MERGED,2018-03-10 19:01:06.000000000,2018-04-02 08:09:51.000000000,2018-04-02 08:09:51.000000000,"[{'_account_id': 19055}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 19:01:06.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/ed9ce5b952b490c02c138074c8c3103430b98a03', 'message': 'Update links in README\n\nChange the outdated links to the latest links in README\n\nChange-Id: I0a0781d4a86bb860bb8c85923e7be8b803f91ae2\n'}]",0,551708,ed9ce5b952b490c02c138074c8c3103430b98a03,7,2,1,17130,,,0,"Update links in README

Change the outdated links to the latest links in README

Change-Id: I0a0781d4a86bb860bb8c85923e7be8b803f91ae2
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/08/551708/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ed9ce5b952b490c02c138074c8c3103430b98a03,readme,.. image:: https://governance.openstack.org/tc/badges/python-watcherclient.svg :target: https://governance.openstack.org/tc/reference/tags/index.html,.. image:: https://governance.openstack.org/badges/python-watcherclient.svg :target: https://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fceilometer~master~I65e9f83213afe480e112b0c562908403a4bddeeb,openstack/ceilometer,master,I65e9f83213afe480e112b0c562908403a4bddeeb,Imported Translations from Zanata,MERGED,2018-04-02 06:14:38.000000000,2018-04-02 08:04:32.000000000,2018-04-02 08:04:32.000000000,"[{'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 22752}]","[{'number': 1, 'created': '2018-04-02 06:14:38.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5c244b0bc43a19e78444e7e23768ace8eabc9206', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I65e9f83213afe480e112b0c562908403a4bddeeb\n'}]",0,558165,5c244b0bc43a19e78444e7e23768ace8eabc9206,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I65e9f83213afe480e112b0c562908403a4bddeeb
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/65/558165/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,5c244b0bc43a19e78444e7e23768ace8eabc9206,zanata/translations,"""Project-Id-Version: ceilometer\n""""POT-Creation-Date: 2018-04-02 00:26+0000\n""""PO-Revision-Date: 2018-03-02 11:25+0000\n"" ""Last-Translator: \n""msgid ""10.0.0-8"" msgstr ""10.0.0-8""","""Project-Id-Version: Ceilometer Release Notes\n""""POT-Creation-Date: 2018-03-26 17:38+0000\n""""PO-Revision-Date: 2018-03-28 11:14+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n""msgid ""10.0.0-29"" msgstr ""10.0.0-29"" msgid ""10.0.0-7"" msgstr ""10.0.0-7""""Ceilometer now creates it own archive policies in Gnocchi and use them to "" ""create metrics in Gnocchi. Old metrics kept their current archive policies "" ""and will not be updated with ceilometer-upgrade. Only newly created metrics "" ""will be impacted. Archive policy can still be overriden with the publisher "" ""url (e.g: gnocchi://archive_policy=high)."" msgstr """" ""Ceilometer now creates it own archive policies in Gnocchi and use them to "" ""create metrics in Gnocchi. Old metrics kept their current archive policies "" ""and will not be updated with ceilometer-upgrade. Only newly created metrics "" ""will be impacted. Archive policy can still be overridden with the publisher "" ""URL (e.g: gnocchi://archive_policy=high)."" msgid """"",6,22
openstack%2Fwatcher-tempest-plugin~master~I2c6293c7d127b69e649935e19e3795a0289bf699,openstack/watcher-tempest-plugin,master,I2c6293c7d127b69e649935e19e3795a0289bf699,Updated from global requirements,MERGED,2018-03-10 14:00:54.000000000,2018-04-02 08:01:43.000000000,2018-04-02 08:01:43.000000000,"[{'_account_id': 13111}, {'_account_id': 19055}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-10 14:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/a1941b4aa48048a71f260b88f324e6df70df73b6', 'message': 'Updated from global requirements\n\nChange-Id: I2c6293c7d127b69e649935e19e3795a0289bf699\n'}, {'number': 2, 'created': '2018-03-15 09:40:40.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/d96dcc68ef85d44a25b3ba0bd522a882d401520d', 'message': 'Updated from global requirements\n\nChange-Id: I2c6293c7d127b69e649935e19e3795a0289bf699\n'}]",0,551668,d96dcc68ef85d44a25b3ba0bd522a882d401520d,13,4,2,11131,,,0,"Updated from global requirements

Change-Id: I2c6293c7d127b69e649935e19e3795a0289bf699
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/68/551668/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,a1941b4aa48048a71f260b88f324e6df70df73b6,openstack/requirements,"sphinx!=1.6.6,<1.7.0,>=1.6.2 # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",1,1
openstack%2Fneutron-fwaas~master~Ie50e4fba5bb794f980cdd671e180074cca2849b4,openstack/neutron-fwaas,master,Ie50e4fba5bb794f980cdd671e180074cca2849b4,[WIP] PoC FWaaS v2 logging iptables based driver,ABANDONED,2017-11-09 07:31:24.000000000,2018-04-02 07:48:12.000000000,,"[{'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-11-09 07:31:24.000000000', 'files': ['neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/agents/l3reference/firewall_l3_agent_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d211c4d5df027002072c3d58dce08f7f1c88c3ee', 'message': '[WIP] PoC FWaaS v2 logging iptables based driver\n\n- This is PoC for the FWaaS v2 logging iptables based driver.\nThe PoC here is to demonstrate the structure of iptables rules/chains\nto capture logs of packets go through iptables. Curent spec at [1]\n\n[1] https://review.openstack.org/#/c/509725/\n\nChange-Id: Ie50e4fba5bb794f980cdd671e180074cca2849b4\n'}]",0,518671,d211c4d5df027002072c3d58dce08f7f1c88c3ee,4,3,1,24441,,,0,"[WIP] PoC FWaaS v2 logging iptables based driver

- This is PoC for the FWaaS v2 logging iptables based driver.
The PoC here is to demonstrate the structure of iptables rules/chains
to capture logs of packets go through iptables. Curent spec at [1]

[1] https://review.openstack.org/#/c/509725/

Change-Id: Ie50e4fba5bb794f980cdd671e180074cca2849b4
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/71/518671/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/services/firewall/drivers/linux/iptables_fwaas_v2.py', 'neutron_fwaas/services/firewall/agents/l3reference/firewall_l3_agent_v2.py']",2,d211c4d5df027002072c3d58dce08f7f1c88c3ee,iptables_driver," def create_firewall_group(self, context, firewall_group, host, enabled_logging=False): firewall_group, enabled_logging)"," def create_firewall_group(self, context, firewall_group, host): firewall_group)",66,19
openstack%2Fnetworking-bgpvpn~master~I598f602360d33e38451a44d99bfe7398957d65cf,openstack/networking-bgpvpn,master,I598f602360d33e38451a44d99bfe7398957d65cf,‘vni’ should not be updated  for policy in bgpvpn.conf,ABANDONED,2018-01-25 06:18:16.000000000,2018-04-02 07:30:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-25 06:18:16.000000000', 'files': ['etc/neutron/policy.d/bgpvpn.conf'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f7092727150697e20a31e0c62a70c2249f605776', 'message': '‘vni’ should not be updated  for policy in bgpvpn.conf\n\n\'allow_put\' for \'vni\' attribute to BGPVPN resource  is false.\nPolicy of‘vni’ with ""update_bgpvpn:vni"" should be removed.\n\nChange-Id: I598f602360d33e38451a44d99bfe7398957d65cf\n'}]",0,537755,f7092727150697e20a31e0c62a70c2249f605776,3,1,1,26018,,,0,"‘vni’ should not be updated  for policy in bgpvpn.conf

'allow_put' for 'vni' attribute to BGPVPN resource  is false.
Policy of‘vni’ with ""update_bgpvpn:vni"" should be removed.

Change-Id: I598f602360d33e38451a44d99bfe7398957d65cf
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/55/537755/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/neutron/policy.d/bgpvpn.conf'],1,f7092727150697e20a31e0c62a70c2249f605776,,," ""update_bgpvpn:vni"": ""rule:admin_only"",",0,1
openstack%2Fopenstack-helm~master~I60ba9c32540e35ed9e97254f672fafffd426372d,openstack/openstack-helm,master,I60ba9c32540e35ed9e97254f672fafffd426372d,[WIP][Neutron] Set privsep daemon to run via rootwrap,ABANDONED,2018-02-19 04:16:46.000000000,2018-04-02 07:22:50.000000000,,"[{'_account_id': 6678}, {'_account_id': 16513}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-19 04:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ce2ed2aff4881ea8e134d68e5d86b399de36303', 'message': '[WIP][Neutron] Set privsep daemon to run via rootwrap\n\nprivsep daemon is run with sudo by default, which results in failure\nfor lacking privilege for neutron user. This patch adds rootwrap filters\nfor privsep and configuration to run privsep daemon via rootwrap.\n\nChange-Id: I60ba9c32540e35ed9e97254f672fafffd426372d\nCloses-Bug:1750304\n'}, {'number': 2, 'created': '2018-02-19 10:32:02.000000000', 'files': ['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/etc/rootwrap.d/_privsep.filters.tpl', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/718ca92660060978ad06efbf307f61a66c8b8e69', 'message': '[WIP][Neutron] Set privsep daemon to run via rootwrap\n\nprivsep daemon is run with sudo by default, which results in failure\nfor lacking privilege for neutron user. This patch adds rootwrap filters\nfor privsep and configuration to run privsep daemon via rootwrap.\n\nChange-Id: I60ba9c32540e35ed9e97254f672fafffd426372d\nCloses-Bug:1750304\n'}]",6,545743,718ca92660060978ad06efbf307f61a66c8b8e69,11,4,2,6678,,,0,"[WIP][Neutron] Set privsep daemon to run via rootwrap

privsep daemon is run with sudo by default, which results in failure
for lacking privilege for neutron user. This patch adds rootwrap filters
for privsep and configuration to run privsep daemon via rootwrap.

Change-Id: I60ba9c32540e35ed9e97254f672fafffd426372d
Closes-Bug:1750304
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/43/545743/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/etc/rootwrap.d/_privsep.filters.tpl', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'neutron/templates/configmap-etc.yaml']",8,5ce2ed2aff4881ea8e134d68e5d86b399de36303,bug/1750304," privsep.filters: |+ {{- tuple .Values.conf.rootwrap_filters.privsep ""etc/rootwrap.d/_privsep.filters.tpl"" . | include ""helm-toolkit.utils.configmap_templater"" }}",,80,14
openstack%2Fopenstack-helm~master~Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a,openstack/openstack-helm,master,Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a,[WIP] Neutron: add ability to enable neutron lbaas service,ABANDONED,2017-11-22 08:05:42.000000000,2018-04-02 07:22:41.000000000,,"[{'_account_id': 6678}, {'_account_id': 8181}, {'_account_id': 16513}, {'_account_id': 20466}, {'_account_id': 21307}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 25062}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-11-22 08:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6ce17b22aee9fe51185f361ab118e098651dccf0', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}, {'number': 2, 'created': '2017-11-27 10:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b8d79be8c1b946d9b83535cd30fe32b87699e2f', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}, {'number': 3, 'created': '2017-11-29 03:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f5a66332c2bad7eac3d7c1d1e76c8272c33da75', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}, {'number': 4, 'created': '2017-12-06 09:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/89ed79af7509177bbf4b324ee824b39f1b5b5c6a', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}, {'number': 5, 'created': '2017-12-08 05:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10c91981447ab2efed735585c7cffad1babb9f19', 'message': 'Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}, {'number': 6, 'created': '2017-12-12 02:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/998976b520a62bf515daa5b6a9ca20fd0193bd29', 'message': '[WIP] Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}, {'number': 7, 'created': '2017-12-14 02:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a6013548b51948e7f9d844d3ef6a6b051d42269c', 'message': '[WIP] Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}, {'number': 8, 'created': '2018-02-26 06:38:02.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/bin/_db-sync.sh.tpl', 'neutron/templates/bin/_neutron-lbaas-agent.sh.tpl', 'neutron/templates/etc/rootwrap.d/_lbaas-haproxy.filters.tpl', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml', 'neutron/templates/daemonset-lbaas-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe741034b6efc9e8e618b86f4d2b1e267d1aedfd', 'message': '[WIP] Neutron: add ability to enable neutron lbaas service\n\nAlso added haproxy driver as a default.\n\nChange-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a\n'}]",3,522162,fe741034b6efc9e8e618b86f4d2b1e267d1aedfd,48,10,8,6678,,,0,"[WIP] Neutron: add ability to enable neutron lbaas service

Also added haproxy driver as a default.

Change-Id: Ifed1f5ecbdf855ae3df36bfec98a22566fc2d28a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/522162/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/bin/_db-sync.sh.tpl', 'neutron/templates/bin/_neutron-lbaas-agent.sh.tpl', 'neutron/templates/etc/rootwrap.d/_lbaas-haproxy.filters.tpl', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/templates/job-db-sync.yaml', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml', 'neutron/templates/daemonset-lbaas-agent.yaml']",10,6ce17b22aee9fe51185f361ab118e098651dccf0,neutron/lbaas,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- if .Values.manifests.daemonset_lbaas_agent }} {{- $envAll := . }} {{- $dependencies := .Values.dependencies.lbaas_agent }} {{- $mounts_neutron_lbaas_agent := .Values.pod.mounts.neutron_lbaas_agent.neutron_lbaas_agent }} {{- $mounts_neutron_lbaas_agent_init := .Values.pod.mounts.neutron_lbaas_agent.init_container }} --- apiVersion: extensions/v1beta1 kind: DaemonSet metadata: name: neutron-lbaas-agent spec: {{ tuple $envAll ""lbaas_agent"" | include ""helm-toolkit.snippets.kubernetes_upgrades_daemonset"" | indent 2 }} template: metadata: labels: {{ tuple $envAll ""neutron"" ""lbaas-agent"" | include ""helm-toolkit.snippets.kubernetes_metadata_labels"" | indent 8 }} annotations: configmap-bin-hash: {{ tuple ""configmap-bin.yaml"" . | include ""helm-toolkit.utils.hash"" }} configmap-etc-hash: {{ tuple ""configmap-etc.yaml"" . | include ""helm-toolkit.utils.hash"" }} spec: nodeSelector: {{ .Values.labels.agent.lbaas.node_selector_key }}: {{ .Values.labels.agent.lbaas.node_selector_value }} dnsPolicy: ClusterFirstWithHostNet hostNetwork: true initContainers: {{ tuple $envAll $dependencies $mounts_neutron_lbaas_agent_init | include ""helm-toolkit.snippets.kubernetes_entrypoint_init_container"" | indent 8 }} containers: - name: neutron-lbaas-agent image: {{ .Values.images.tags.neutron_lbaas_agent }} imagePullPolicy: {{ .Values.images.pull_policy }} {{ tuple $envAll $envAll.Values.pod.resources.agent.lbaas | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }} securityContext: runAsUser: {{ .Values.pod.user.neutron.uid }} privileged: true command: - /tmp/neutron-lbaas-agent.sh volumeMounts: - name: neutron-bin mountPath: /tmp/neutron-lbaas-agent.sh subPath: neutron-lbaas-agent.sh readOnly: true - name: neutron-etc mountPath: /etc/neutron/neutron.conf subPath: neutron.conf readOnly: true - name: neutron-etc mountPath: /etc/neutron/plugins/ml2/ml2_conf.ini subPath: ml2_conf.ini readOnly: true {{- if eq .Values.network.backend ""ovs"" }} - name: neutron-etc mountPath: /etc/neutron/plugins/ml2/openvswitch_agent.ini subPath: openvswitch_agent.ini readOnly: true - name: runopenvswitch mountPath: /run/openvswitch {{- end }} - name: neutron-etc mountPath: /etc/neutron/neutron_lbaas.conf subPath: neutron_lbaas.conf readOnly: true - name: neutron-etc mountPath: /etc/neutron/services/loadbalancer/haproxy/lbaas_agent.ini subPath: lbaas_agent.ini readOnly: true - name: neutron-etc mountPath: /etc/sudoers.d/kolla_neutron_sudoers subPath: neutron_sudoers readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.conf subPath: rootwrap.conf readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/debug.filters subPath: debug.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/dibbler.filters subPath: dibbler.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/ipset-firewall.filters subPath: ipset-firewall.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/l3.filters subPath: l3.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/netns-cleanup.filters subPath: netns-cleanup.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/dhcp.filters subPath: dhcp.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/ebtables.filters subPath: ebtables.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/iptables-firewall.filters subPath: iptables-firewall.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/linuxbridge-plugin.filters subPath: linuxbridge-plugin.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/openvswitch-plugin.filters subPath: openvswitch-plugin.filters readOnly: true - name: neutron-etc mountPath: /etc/neutron/rootwrap.d/lbaas-haproxy.filters subPath: lbaas-haproxy.filters readOnly: true {{ if $mounts_neutron_lbaas_agent.volumeMounts }}{{ toYaml $mounts_neutron_lbaas_agent.volumeMounts | indent 12 }}{{ end }} volumes: - name: neutron-bin configMap: name: neutron-bin defaultMode: 0555 - name: neutron-etc configMap: name: neutron-etc defaultMode: 0444 {{- if eq .Values.network.backend ""ovs"" }} - name: runopenvswitch hostPath: path: /run/openvswitch {{- end }} {{ if $mounts_neutron_lbaas_agent.volumes }}{{ toYaml $mounts_neutron_lbaas_agent.volumes | indent 8 }}{{ end }} {{- end }} ",,288,4
openstack%2Fproject-config~master~Id58a14017f376a6bbd6f014003f7300038cec65d,openstack/project-config,master,Id58a14017f376a6bbd6f014003f7300038cec65d,Add job: project-config-bindep-fallback-ubuntu-xenial-arm64,ABANDONED,2018-03-30 10:13:26.000000000,2018-04-02 06:50:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-30 10:13:26.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c5e4590781ee3920faf9142e1638ad85195e9064', 'message': 'Add job: project-config-bindep-fallback-ubuntu-xenial-arm64\n\nubuntu-xenial-arm64 node is online. To make it ready to run job,\nit need to check installation of binary packages for file\nnodepool/elements/bindep-fallback.txt.\n\nChange-Id: Id58a14017f376a6bbd6f014003f7300038cec65d\n'}]",0,557920,c5e4590781ee3920faf9142e1638ad85195e9064,3,1,1,22997,,,0,"Add job: project-config-bindep-fallback-ubuntu-xenial-arm64

ubuntu-xenial-arm64 node is online. To make it ready to run job,
it need to check installation of binary packages for file
nodepool/elements/bindep-fallback.txt.

Change-Id: Id58a14017f376a6bbd6f014003f7300038cec65d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/557920/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,c5e4590781ee3920faf9142e1638ad85195e9064,add-job-project-config-bindep-fallback-ubuntu-xenial-arm64, - job: name: project-config-bindep-fallback-ubuntu-xenial-arm64 parent: project-config-bindep-fallback description: | Check installation of binary packages for file nodepool/elements/bindep-fallback.txt. The testing is done for Ubuntu Xenial. nodeset: ubuntu-xenial-arm64,,12,0
openstack%2Fceilometer~stable%2Fpike~I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4,openstack/ceilometer,stable/pike,I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4,ignore compute.instance.create.start for metrics,MERGED,2018-03-20 14:12:48.000000000,2018-04-02 06:49:34.000000000,2018-04-02 06:49:33.000000000,"[{'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 22348}, {'_account_id': 26240}]","[{'number': 1, 'created': '2018-03-20 14:12:48.000000000', 'files': ['ceilometer/meter/notifications.py', 'ceilometer/data/meters.d/meters.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/ff72f0f1d3f4bf0b6147ac1f14ebbc5234789a57', 'message': ""ignore compute.instance.create.start for metrics\n\ndo not build metrics off compute.instance.create.start as it\ndoesn't have enough information in it to push to Gnocchi. there is\nan .end event that happens seconds later so .start event has little\nvalue outside context of event.\n\nwe change fnmatch to regex for more useful regex comparison and it's\nfaster\n\nnot a complete fix as compute.instance.update also is missing host\nvalue occasionally\n\nPartial-Bug: #1718290\nChange-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4\n(cherry picked from commit 3a5fd619fabd1380290f39e8677b255db01158a1)\n""}]",0,554555,ff72f0f1d3f4bf0b6147ac1f14ebbc5234789a57,10,4,1,18368,,,0,"ignore compute.instance.create.start for metrics

do not build metrics off compute.instance.create.start as it
doesn't have enough information in it to push to Gnocchi. there is
an .end event that happens seconds later so .start event has little
value outside context of event.

we change fnmatch to regex for more useful regex comparison and it's
faster

not a complete fix as compute.instance.update also is missing host
value occasionally

Partial-Bug: #1718290
Change-Id: I2aa7045873fd740255a3be5f64b9e9f5fd94e2d4
(cherry picked from commit 3a5fd619fabd1380290f39e8677b255db01158a1)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/55/554555/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/meter/notifications.py', 'ceilometer/data/meters.d/meters.yaml']",2,ff72f0f1d3f4bf0b6147ac1f14ebbc5234789a57,bug/1718290-stable/pike, event_type: &instance_events compute.instance.(?!create.start).* event_type: *instance_events event_type: *instance_events event_type: *instance_events, event_type: 'compute.instance.*' event_type: 'compute.instance.*' event_type: 'compute.instance.*' event_type: 'compute.instance.*',7,6
openstack%2Fkolla-ansible~stable%2Focata~I63d5da39d315e5fe91a70d4b036969246a68b742,openstack/kolla-ansible,stable/ocata,I63d5da39d315e5fe91a70d4b036969246a68b742,[DNM]prepare 4.0.4 release,ABANDONED,2018-04-02 03:30:12.000000000,2018-04-02 06:16:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-02 03:30:12.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2a983aaba5590fc1ee080245b19f3f333d445d9', 'message': '[DNM]prepare 4.0.4 release\n\nChange-Id: I63d5da39d315e5fe91a70d4b036969246a68b742\n'}]",0,558153,c2a983aaba5590fc1ee080245b19f3f333d445d9,3,1,1,7488,,,0,"[DNM]prepare 4.0.4 release

Change-Id: I63d5da39d315e5fe91a70d4b036969246a68b742
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/558153/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c2a983aaba5590fc1ee080245b19f3f333d445d9,,,,1,0
openstack%2Fheat-dashboard~master~I8099301b1e89601819cf36e7fa14ee4020e9bd83,openstack/heat-dashboard,master,I8099301b1e89601819cf36e7fa14ee4020e9bd83,Imported Translations from Zanata,MERGED,2018-03-31 07:13:50.000000000,2018-04-02 06:05:31.000000000,2018-04-02 06:05:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25221}]","[{'number': 1, 'created': '2018-03-31 07:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/93ed0ee818889bfc3212869533d84196a33ef575', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8099301b1e89601819cf36e7fa14ee4020e9bd83\n'}, {'number': 2, 'created': '2018-04-01 07:14:17.000000000', 'files': ['releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/65d82aebdca6f3cb36c8801c0b6acc411bf7f659', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8099301b1e89601819cf36e7fa14ee4020e9bd83\n'}]",0,558035,65d82aebdca6f3cb36c8801c0b6acc411bf7f659,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8099301b1e89601819cf36e7fa14ee4020e9bd83
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/35/558035/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,93ed0ee818889bfc3212869533d84196a33ef575,zanata/translations,"""Project-Id-Version: heat-dashboard\n""""POT-Creation-Date: 2018-03-30 00:12+0000\n""""PO-Revision-Date: 2018-03-30 07:00+0000\n""msgid ""1.0.2-32"" msgstr ""1.0.2-32""","""Project-Id-Version: Heat Dashboard Release Notes\n""""POT-Creation-Date: 2018-03-27 05:37+0000\n""""PO-Revision-Date: 2018-03-27 08:27+0000\n""msgid ""1.0.2-31"" msgstr ""1.0.2-31""",5,5
openstack%2Fzaqar-specs~master~I7a6982faab782047a34778d086205af792abb099,openstack/zaqar-specs,master,I7a6982faab782047a34778d086205af792abb099,Support queue filter for zaqar,MERGED,2017-11-17 03:11:33.000000000,2018-04-02 05:51:38.000000000,2018-04-02 05:51:38.000000000,"[{'_account_id': 6484}, {'_account_id': 8846}, {'_account_id': 15054}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 23630}, {'_account_id': 28035}]","[{'number': 1, 'created': '2017-11-17 03:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/bfb6c37dff83c85ab52126fded7040bdce33619d', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 2, 'created': '2017-11-17 03:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/d07c0ed7b12deb1b52de822df898c1123b4ee94f', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 3, 'created': '2017-11-17 03:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/a33a1d1a4792dc353b62be5b0f85127569d9761a', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 4, 'created': '2017-11-17 03:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/0f15e34f60440e76716dba73f41bf38141ad18fa', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 5, 'created': '2017-11-17 04:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/9965bbe9182a7672a415223c6c5e4c367d0a7d10', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 6, 'created': '2017-11-17 05:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/300b41dcc9775ec3b182928cc7b924867c3f9086', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 7, 'created': '2017-11-17 06:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/9c8667192570910957936fb5df43d298a24d5295', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 8, 'created': '2017-11-17 06:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/53b62eebf0c06fb7d572e43fa52c721553fe9433', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 9, 'created': '2017-11-17 08:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/9414b1b0f5305354f92117c83c42b6ac46269554', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 10, 'created': '2017-11-17 08:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/4c6f42e7eb46a5aed7af9ce3d7e003c8eca43607', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 11, 'created': '2017-11-18 02:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/e24832a47de9e1a5629021419b589968a2cb06ef', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 12, 'created': '2017-11-18 02:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/69b2af15b6b4d7c7481b6c84202de55eca45faa5', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 13, 'created': '2017-11-18 02:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/0118127b59622a544737dcc61055de20f2f311c6', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 14, 'created': '2017-11-21 03:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/2e54a2ccca41e9ba51ff2ae8053a4bf2be942eb8', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 15, 'created': '2017-11-21 03:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/2d0386aa5a0575c4fda953ab402078ec64096651', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 16, 'created': '2017-11-21 03:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/2569ca0c9cb5c9dbd6c5655af72b5a8994523f67', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 17, 'created': '2017-11-21 03:45:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/ebed151373ff59e2073c80a4677b5fbd34fac14f', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 18, 'created': '2017-11-21 06:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/3bec5aa4f99f3f845e7cc8d1bd5a1996ae3a8e17', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 19, 'created': '2017-11-21 06:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/51d8e046a6235ed1991dcbf38358da335646d36d', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 20, 'created': '2017-11-21 06:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/5209ad90c09576ba4032dfb1fea5f0e112d5564f', 'message': 'Support queue filter function\n\nIntroduce queue filter function to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 21, 'created': '2017-11-21 06:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/eb807a73c6ef103a7911caea41c4a26b1fd8bb3b', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 22, 'created': '2017-12-04 06:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/ef91562d9b15ea4948ebf3b6b2e131492fafec8d', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 23, 'created': '2017-12-05 08:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/44425cbf3a7a8c5b3de106f3f2cfdb5823300128', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 24, 'created': '2018-01-08 06:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/60d4ae4e13b51a3a58a73d78f715576cc1bc2f35', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 25, 'created': '2018-01-10 12:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/f17552e8fd42e38f989053fad70a959a21bf173b', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 26, 'created': '2018-01-10 12:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/7d7618286e0604a5aa31642a70e42c5a1d5ec388', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 27, 'created': '2018-01-12 06:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/b4aa129e1cf22d1dfa3e50e3e0aa5119aca6fabc', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 28, 'created': '2018-01-25 02:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/677648b175d9a14d391d0caed1ae3b6372300943', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 29, 'created': '2018-01-25 02:40:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/07fb750ff50766dc078ff5d54020f3ce87427a81', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 30, 'created': '2018-01-25 02:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/58f5df924c6303750c005104ca707b4c54bf5001', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 31, 'created': '2018-01-25 02:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/6ffbb46e635fc15dd368760804934e5743fa2f3c', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}, {'number': 32, 'created': '2018-04-02 01:37:46.000000000', 'files': ['specs/rocky/queue-filter-support.rst', 'specs/rocky/index.rst'], 'web_link': 'https://opendev.org/openstack/zaqar-specs/commit/93dbc58d46daeb2054549e5908966d8919171f96', 'message': 'Support queue filter for zaqar\n\nIntroduce queue filter to Zaqar.\n\nChange-Id: I7a6982faab782047a34778d086205af792abb099\n'}]",25,520856,93dbc58d46daeb2054549e5908966d8919171f96,80,8,32,21387,,,0,"Support queue filter for zaqar

Introduce queue filter to Zaqar.

Change-Id: I7a6982faab782047a34778d086205af792abb099
",git fetch https://review.opendev.org/openstack/zaqar-specs refs/changes/56/520856/15 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/queue-filter-support.rst'],1,bfb6c37dff83c85ab52126fded7040bdce33619d,bp-queueFilter,".. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/zaqar/+spec/awesome-thing should be named awesome-thing.rst. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ===================== queue filter support ===================== https://blueprints.launchpad.net/zaqar/+spec/queue-filter-support Metadata is a group of key-value pairs that belong to a queue. Generally, it's used and set by end users. A user can create a lot of queues, Then he can add the metadata {""keyx"": ""valuex""} to distinguish them. Users can filter the queue by the specified key-value. Problem description =================== Zaqar doesn't support queue filter when queue listing, we may add this feature now. Proposed change =============== when queue listing , we add filter option like this : ""filter"":{ ""key1"": value1, ""key2"": value2, ........ } if metadata of queue is consistent with the filter , the queue will be listed to the user, otherwise the queue will be filtered. Drawbacks --------- None Alternatives ------------ None Implementation ============== Assignee(s) ----------- gecong<ge.cong@zte.com.cn> Milestones ---------- Queen-3 Work Items ---------- * Add filter option in queue list. * UTs for this feature. Dependencies ============ None ",,78,0
openstack%2Fbarbican~master~I3ac8de0e606e355bc0cde8e2ffadbf5f900a6b76,openstack/barbican,master,I3ac8de0e606e355bc0cde8e2ffadbf5f900a6b76,Imported Translations from Zanata,MERGED,2018-03-29 07:15:38.000000000,2018-04-02 05:32:29.000000000,2018-04-02 05:32:29.000000000,"[{'_account_id': 10873}, {'_account_id': 21797}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 07:15:38.000000000', 'files': ['barbican/locale/en_GB/LC_MESSAGES/barbican.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/9ad1f1824baad3144f60395f2c040ef493d54967', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I3ac8de0e606e355bc0cde8e2ffadbf5f900a6b76\n'}]",0,557629,9ad1f1824baad3144f60395f2c040ef493d54967,10,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I3ac8de0e606e355bc0cde8e2ffadbf5f900a6b76
",git fetch https://review.opendev.org/openstack/barbican refs/changes/29/557629/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/locale/en_GB/LC_MESSAGES/barbican.po'],1,9ad1f1824baad3144f60395f2c040ef493d54967,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2018. #zanata""POT-Creation-Date: 2018-03-26 04:19+0000\n""""PO-Revision-Date: 2018-03-28 11:14+0000\n""msgid ""Key archival failed. Error returned from KRA."" msgstr ""Key archival failed. Error returned from KRA."" msgid ""Key generation failed. Error returned from KRA."" msgstr ""Key generation failed. Error returned from KRA."" msgid ""Retries when storing or generating secrets"" msgstr ""Retries when storing or generating secrets"" ","""POT-Creation-Date: 2018-03-19 22:02+0000\n""""PO-Revision-Date: 2017-11-09 09:53+0000\n""",12,2
openstack%2Fnova-specs~master~I3c95c60a38c191ff053d2514cc0d4644dfc7e475,openstack/nova-specs,master,I3c95c60a38c191ff053d2514cc0d4644dfc7e475,Commonalize and simplify IPs API response,ABANDONED,2018-04-01 22:08:36.000000000,2018-04-02 05:28:59.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 22944}]","[{'number': 1, 'created': '2018-04-01 22:08:36.000000000', 'files': ['specs/rocky/approved/common-ips-api.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/607178a8cb5efb42153bda53fa8ebba779cd3f7d', 'message': 'Commonalize and simplify IPs API response\n\nThere is no reason to keep two distinct IP addresses responses for\nserver detail and server IPs API paths.\n\nAPIImpact\n\nSpec for blueprint common-ips-api\n\nChange-Id: I3c95c60a38c191ff053d2514cc0d4644dfc7e475\nSigned-off-by: Maciej Kucia <maciej@kucia.net>\n'}]",0,558129,607178a8cb5efb42153bda53fa8ebba779cd3f7d,4,4,1,23942,,,0,"Commonalize and simplify IPs API response

There is no reason to keep two distinct IP addresses responses for
server detail and server IPs API paths.

APIImpact

Spec for blueprint common-ips-api

Change-Id: I3c95c60a38c191ff053d2514cc0d4644dfc7e475
Signed-off-by: Maciej Kucia <maciej@kucia.net>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/29/558129/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/common-ips-api.rst'],1,607178a8cb5efb42153bda53fa8ebba779cd3f7d,,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================= Commonalize and simplify IPs API response ========================================= https://blueprints.launchpad.net/nova/+spec/common-ips-api There is no reason to keep two distinct IP addresses responses for server detail and server IPs API paths. Problem description =================== Currently there are two different responses for the same resource. .. code-block:: javascript // GET /servers/68c1b82f-adf2-4b71-a411-0b70da3c1748/ips { ""addresses"": { ""private"": [ { ""version"": 4, ""addr"": ""192.168.0.12"", }, ] } } .. code-block:: javascript // GET /servers/details // GET /servers/68c1b82f-adf2-4b71-a411-0b70da3c1748/details { ""server"": { ... ""addresses"": { ""private"": [ { ""OS-EXT-IPS-MAC:mac_addr"": ""aa:bb:cc:dd:ee:ff"", ""OS-EXT-IPS:type"": ""fixed"", ""addr"": ""192.168.0.12"", ""version"": 4 } ] }, ... } } Instead, the responses should be the same. Furthermore there is no need to keep ``OS-EXT-IPS`` and ``OS-EXT-IPS-MAC`` prefixes. .. code-block:: javascript // GET /servers/68c1b82f-adf2-4b71-a411-0b70da3c1748/ips // GET /servers/68c1b82f-adf2-4b71-a411-0b70da3c1748/details // GET /servers/details ... ""addresses"": { ""private"": [ { ""mac_addr"": ""aa:bb:cc:dd:ee:ff"", ""type"": ""fixed"", ""addr"": ""192.168.0.3"", ""version"": 4 } ] }, ... Uese Cases --------- As a developer I want to maintain minimal number of API-rendering classes. As an API user I want to have access to consistent API schema. Proposed change =============== This spec propose to commonalize APIs as a microversion by changing response schema. The legacy API won't be fixed. Alternatives ------------ * Keep separate responses Data model impact ----------------- None REST API impact --------------- Two changes to API by new microversion: Change schema of ``/servers/{server_id}/ips`` and ``/servers/{server_id}/ips/{network_label}`` resources as in description. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignees: Maciej Kucia <maciej@kucia.net> Work Items ---------- * Fix the API by new microversion * Reflect API changes in nova-client * Reflect API changes in documentation Dependencies ============ None Testing ======= Tests shall be updated to reflect API changes. Documentation Impact ==================== Update the `api-ref`_ to reflect new API schema. References ========== * https://developer.openstack.org/api-ref/compute/#servers-ips-servers-ips .. _api-ref: http://developer.openstack.org/api-ref/compute/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced ",,195,0
openstack%2Fcinder~master~Ib319702f085930a6bf528ef95fb17a7da8451e96,openstack/cinder,master,Ib319702f085930a6bf528ef95fb17a7da8451e96,Remove extended attribute 'os-volume-replication' in Doc,MERGED,2018-03-31 03:58:09.000000000,2018-04-02 04:50:38.000000000,2018-03-31 16:13:15.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-31 03:58:09.000000000', 'files': ['api-ref/source/v2/samples/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes-list-detailed-response.json', 'api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/samples/volume-show-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/samples/volume-show-response.json', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/902719a46ed9b8f84f9753bd624ad59b5a968134', 'message': ""Remove extended attribute 'os-volume-replication' in Doc\n\n'os-volume-replication:extended_status' and\n'os-volume-replication:driver_date' are unavailable\nsince the merge of patch [1] during Liberty, remove these\nfrom API document.\n\n[1]: https://review.openstack.org/#/c/275797/\n\nChange-Id: Ib319702f085930a6bf528ef95fb17a7da8451e96\n""}]",0,558025,902719a46ed9b8f84f9753bd624ad59b5a968134,33,29,1,23083,,,0,"Remove extended attribute 'os-volume-replication' in Doc

'os-volume-replication:extended_status' and
'os-volume-replication:driver_date' are unavailable
since the merge of patch [1] during Liberty, remove these
from API document.

[1]: https://review.openstack.org/#/c/275797/

Change-Id: Ib319702f085930a6bf528ef95fb17a7da8451e96
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/558025/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/volumes-list-detailed-response.json', 'api-ref/source/v3/samples/volumes-list-detailed-response.json', 'api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/samples/volume-show-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/samples/volume-show-response.json', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml']",8,902719a46ed9b8f84f9753bd624ad59b5a968134,bug/fix_replication_error,,os-volume-replication:driver_data: description: | The name of the volume replication driver. in: body required: false type: string os-volume-replication:extended_status: description: | The volume replication status managed by the driver of backend storage. in: body required: false type: string os-volume-replication:extended_status_1: description: | The status of the volume replication. in: body required: false type: string,0,58
openstack%2Fheat~master~I75f08137495afcb89ab294ee5ef0f91116a529dd,openstack/heat,master,I75f08137495afcb89ab294ee5ef0f91116a529dd,Remove mox usage from test_nokey,MERGED,2018-03-01 17:34:58.000000000,2018-04-02 04:35:51.000000000,2018-04-02 04:35:51.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 17:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/90b0e9b2db46a9f3246e2c70ced2671aca3e3aaf', 'message': 'Remove mox usage from test_nokey\n\nmox-removal\n\nChange-Id: I75f08137495afcb89ab294ee5ef0f91116a529dd\n'}, {'number': 2, 'created': '2018-03-20 09:15:30.000000000', 'files': ['heat/tests/test_nokey.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5151d0615bc2bc0baa551d30065d01d1f6e9ce14', 'message': 'Remove mox usage from test_nokey\n\nmox-removal\n\nChange-Id: I75f08137495afcb89ab294ee5ef0f91116a529dd\n'}]",2,549011,5151d0615bc2bc0baa551d30065d01d1f6e9ce14,10,3,2,7385,,,0,"Remove mox usage from test_nokey

mox-removal

Change-Id: I75f08137495afcb89ab294ee5ef0f91116a529dd
",git fetch https://review.opendev.org/openstack/heat refs/changes/11/549011/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_nokey.py'],1,90b0e9b2db46a9f3246e2c70ced2671aca3e3aaf,mox-removal,"class NoKeyTest(common.HeatTestCase): fc = fakes_nova.FakeClient() self.patchobject(nova.NovaClientPlugin, '_create', return_value=fc) self.patchobject(glance.GlanceClientPlugin, 'find_image_by_name_or_id', return_value=1234) self.patchobject(fc.servers, 'create', return_value=fc.servers.list()[1]) call = fc.servers.create.mock_calls[0] # Sanity check self.assertEqual(1234, call[2][""image""]) self.assertIsNone(call[2][""key_name""])","class nokeyTest(common.HeatTestCase): def setUp(self): super(nokeyTest, self).setUp() self.fc = fakes_nova.FakeClient() t['Resources']['WebServer']['Properties']['ImageId'] = 'CentOS 5.2' t['Resources']['WebServer']['Properties'][ 'InstanceType'] = '256 MB Server' self.m.StubOutWithMock(nova.NovaClientPlugin, '_create') nova.NovaClientPlugin._create().AndReturn(self.fc) self.m.StubOutWithMock(glance.GlanceClientPlugin, 'find_image_by_name_or_id') glance.GlanceClientPlugin.find_image_by_name_or_id( 'CentOS 5.2').MultipleTimes().AndReturn(1) # need to resolve the template functions metadata = instance.metadata_get() server_userdata = instance.client_plugin().build_userdata( metadata, instance.properties['UserData'], 'ec2-user') self.m.StubOutWithMock(nova.NovaClientPlugin, 'build_userdata') nova.NovaClientPlugin.build_userdata( metadata, instance.properties['UserData'], 'ec2-user').AndReturn(server_userdata) self.m.StubOutWithMock(self.fc.servers, 'create') self.fc.servers.create( image=1, flavor=1, key_name=None, name=utils.PhysName(stack_name, instance.name), security_groups=None, userdata=server_userdata, scheduler_hints=None, meta=None, nics=None, availability_zone=None, block_device_mapping=None).AndReturn( self.fc.servers.list()[1]) self.m.ReplayAll() self.m.VerifyAll()",12,37
openstack%2Fheat~master~I212aaae5c68b90b72c7d693f658c83693cc07bf4,openstack/heat,master,I212aaae5c68b90b72c7d693f658c83693cc07bf4,Avoid loading nested stack in CloudFormation Stack resource,MERGED,2018-01-09 21:56:49.000000000,2018-04-02 04:35:49.000000000,2018-04-02 04:35:49.000000000,"[{'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-09 21:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/864d65e9b1d21f8b3f909e018a5c49d7743dccf9', 'message': 'Avoid loading nested stack in CloudFormation Stack resource\n\nWe can obtain the reference ID of an AWS::CloudFormation::Stack resource\nmuch more cheaply by not calling nested().\n\nChange-Id: I212aaae5c68b90b72c7d693f658c83693cc07bf4\nPartial-Bug: #1731349\n'}, {'number': 2, 'created': '2018-01-19 20:42:54.000000000', 'files': ['heat/engine/resources/aws/cfn/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/94b62e591077b22738e911f9010cbbdbfebb3d22', 'message': 'Avoid loading nested stack in CloudFormation Stack resource\n\nWe can obtain the reference ID of an AWS::CloudFormation::Stack resource\nmuch more cheaply by not calling nested().\n\nChange-Id: I212aaae5c68b90b72c7d693f658c83693cc07bf4\nPartial-Bug: #1731349\n'}]",0,532341,94b62e591077b22738e911f9010cbbdbfebb3d22,9,3,2,4257,,,0,"Avoid loading nested stack in CloudFormation Stack resource

We can obtain the reference ID of an AWS::CloudFormation::Stack resource
much more cheaply by not calling nested().

Change-Id: I212aaae5c68b90b72c7d693f658c83693cc07bf4
Partial-Bug: #1731349
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/532341/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/aws/cfn/stack.py'],1,864d65e9b1d21f8b3f909e018a5c49d7743dccf9,bug/1731349, identifier = self.nested_identifier() if identifier is None: return identifier.arn(), if self.nested() is None: return self.nested().identifier().arn(),3,2
openstack%2Fheat~master~Ic6909e42edf709ba1cd99ba71f2d2f06570a615f,openstack/heat,master,Ic6909e42edf709ba1cd99ba71f2d2f06570a615f,Eliminate nested stack loading in InstanceGroup/ASG scaling,MERGED,2018-01-09 20:10:20.000000000,2018-04-02 04:35:47.000000000,2018-04-02 04:35:47.000000000,"[{'_account_id': 4257}, {'_account_id': 7385}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-09 20:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9e3fa953e20ec3aae1093022e29557804b8b772f', 'message': 'Eliminate nested stack loading in InstanceGroup/ASG scaling\n\nObtain the current group capacity, and the reference IDs for updating load\nbalancers (if any) over RPC from a GroupInspector and the nested stack\noutputs. Fall back to grouputils (which loads the nested stack in memory)\nonly if the output containing the reference IDs is not available.\n\nChange-Id: Ic6909e42edf709ba1cd99ba71f2d2f06570a615f\nCloses-Bug: #1731349\n'}, {'number': 2, 'created': '2018-01-19 20:42:54.000000000', 'files': ['heat/scaling/lbutils.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/test_grouputils.py', 'heat/common/grouputils.py', 'heat/engine/resources/openstack/heat/autoscaling_group.py', 'heat/tests/autoscaling/test_lbutils.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/42b386d8a69a60259e4803755810b945ef81b0d5', 'message': 'Eliminate nested stack loading in InstanceGroup/ASG scaling\n\nObtain the current group capacity, and the reference IDs for updating load\nbalancers (if any) over RPC from a GroupInspector and the nested stack\noutputs. Fall back to grouputils (which loads the nested stack in memory)\nonly if the output containing the reference IDs is not available.\n\nChange-Id: Ic6909e42edf709ba1cd99ba71f2d2f06570a615f\nCloses-Bug: #1731349\n'}]",0,532302,42b386d8a69a60259e4803755810b945ef81b0d5,11,4,2,4257,,,0,"Eliminate nested stack loading in InstanceGroup/ASG scaling

Obtain the current group capacity, and the reference IDs for updating load
balancers (if any) over RPC from a GroupInspector and the nested stack
outputs. Fall back to grouputils (which loads the nested stack in memory)
only if the output containing the reference IDs is not available.

Change-Id: Ic6909e42edf709ba1cd99ba71f2d2f06570a615f
Closes-Bug: #1731349
",git fetch https://review.opendev.org/openstack/heat refs/changes/02/532302/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/scaling/lbutils.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/test_grouputils.py', 'heat/common/grouputils.py', 'heat/engine/resources/openstack/heat/autoscaling_group.py', 'heat/tests/autoscaling/test_lbutils.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py']",8,9e3fa953e20ec3aae1093022e29557804b8b772f,bug/1731349, group._group_data().size = mock.Mock(return_value=12), group.nested = mock.MagicMock(return_value=range(12)),117,97
openstack%2Fkolla-ansible~stable%2Fpike~Iebc619cea158685077928b54cb5c9332427bc596,openstack/kolla-ansible,stable/pike,Iebc619cea158685077928b54cb5c9332427bc596,[HyperV] Add pull and precheck actions to nova-hyperv role,MERGED,2017-10-11 12:55:41.000000000,2018-04-02 04:23:37.000000000,2018-04-02 04:23:37.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23267}]","[{'number': 1, 'created': '2017-10-11 12:55:41.000000000', 'files': ['ansible/roles/nova-hyperv/tasks/precheck.yml', 'ansible/roles/nova-hyperv/tasks/pull.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ced4af4c2a179e3647498715ce82ff5e79b24d3', 'message': '[HyperV] Add pull and precheck actions to nova-hyperv role\n\nCloses-Bug: #1720777\nChange-Id: Iebc619cea158685077928b54cb5c9332427bc596\n(cherry picked from commit e82855559d12240e83731ac056bd8ae3639f7c68)\n'}]",0,511226,4ced4af4c2a179e3647498715ce82ff5e79b24d3,13,6,1,19316,,,0,"[HyperV] Add pull and precheck actions to nova-hyperv role

Closes-Bug: #1720777
Change-Id: Iebc619cea158685077928b54cb5c9332427bc596
(cherry picked from commit e82855559d12240e83731ac056bd8ae3639f7c68)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/511226/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-hyperv/tasks/precheck.yml', 'ansible/roles/nova-hyperv/tasks/pull.yml']",2,4ced4af4c2a179e3647498715ce82ff5e79b24d3,bug/1720777-stable/pike,--- ,,2,0
openstack%2Fkolla~stable%2Focata~Ieea47c4e7d9bc918eed9965cd047809207c702f8,openstack/kolla,stable/ocata,Ieea47c4e7d9bc918eed9965cd047809207c702f8,[DNM]prepare 4.0.4 release,ABANDONED,2018-04-02 02:38:16.000000000,2018-04-02 04:08:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-02 02:38:16.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9609dd8f4885c53a7bb9fb8103aead3fd0163077', 'message': '[DNM]prepare 4.0.4 release\n\nChange-Id: Ieea47c4e7d9bc918eed9965cd047809207c702f8\n'}]",0,558146,9609dd8f4885c53a7bb9fb8103aead3fd0163077,3,1,1,7488,,,0,"[DNM]prepare 4.0.4 release

Change-Id: Ieea47c4e7d9bc918eed9965cd047809207c702f8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/558146/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9609dd8f4885c53a7bb9fb8103aead3fd0163077,,,,1,0
openstack%2Fkolla-ansible~master~I63d5da39d315e5fe91a70d4b036969246a68b742,openstack/kolla-ansible,master,I63d5da39d315e5fe91a70d4b036969246a68b742,[DNM]prepare 4.0.4 release,ABANDONED,2018-04-02 02:38:59.000000000,2018-04-02 03:30:44.000000000,,[],"[{'number': 1, 'created': '2018-04-02 02:38:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c32630b90698fc2a3f2e94cd681fe30cc98ec23e', 'message': '[DNM]prepare 4.0.4 release\n\nChange-Id: I63d5da39d315e5fe91a70d4b036969246a68b742\n'}]",0,558147,c32630b90698fc2a3f2e94cd681fe30cc98ec23e,2,0,1,7488,,,0,"[DNM]prepare 4.0.4 release

Change-Id: I63d5da39d315e5fe91a70d4b036969246a68b742
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/47/558147/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c32630b90698fc2a3f2e94cd681fe30cc98ec23e,,,,1,0
openstack%2Fzun~master~I518c3da393242bb3731ccb47e7fc0783849fa363,openstack/zun,master,I518c3da393242bb3731ccb47e7fc0783849fa363,Modifying the parameters,MERGED,2018-03-30 06:40:06.000000000,2018-04-02 02:52:41.000000000,2018-04-02 02:52:41.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-30 06:40:06.000000000', 'files': ['zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/8b73eee4503ab178458ca5cc99052e2366c80463', 'message': 'Modifying the parameters\n\nInterface has changed in zun/image/driver.py:\ndelete_image(context, img_id, image_driver=None)\n\nChange-Id: I518c3da393242bb3731ccb47e7fc0783849fa363\n'}]",0,557895,8b73eee4503ab178458ca5cc99052e2366c80463,8,3,1,23829,,,0,"Modifying the parameters

Interface has changed in zun/image/driver.py:
delete_image(context, img_id, image_driver=None)

Change-Id: I518c3da393242bb3731ccb47e7fc0783849fa363
",git fetch https://review.opendev.org/openstack/zun refs/changes/95/557895/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,8b73eee4503ab178458ca5cc99052e2366c80463,, 'glance') 'glance'), glance.GlanceDriver()) glance.GlanceDriver()),2,2
openstack%2Fzun~master~I4011ce0947fc85ed3b0cc17d6b159025b39f2284,openstack/zun,master,I4011ce0947fc85ed3b0cc17d6b159025b39f2284,rebuild a container with a different image,MERGED,2018-03-28 09:01:15.000000000,2018-04-02 02:52:40.000000000,2018-04-02 02:52:39.000000000,"[{'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-03-28 09:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a3966d4700e22720ff553fbcbb9326f42905e9f7', 'message': 'rebuild a container with a different image\n\nrebuild a container with a different image.\nby this way, you can upgrade the container.\nFor example, rebuild a ubuntu:14.04 container to ubuntu:16.04 for upgrade.\n\nChange-Id: I4011ce0947fc85ed3b0cc17d6b159025b39f2284\nImplements:blueprint replace-image\n'}, {'number': 2, 'created': '2018-03-29 11:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/1dd9940892cce343af2041ebe1c0aecfb7c9ba36', 'message': 'rebuild a container with a different image\n\nrebuild a container with a different image.\nby this way, you can upgrade the container.\nFor example, rebuild a ubuntu:14.04 container to ubuntu:16.04 for upgrade.\n\nChange-Id: I4011ce0947fc85ed3b0cc17d6b159025b39f2284\nImplements:blueprint replace-image\n'}, {'number': 3, 'created': '2018-03-31 06:35:43.000000000', 'files': ['zun/common/utils.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/cb41f019d6d2aea181bb67107b9dedcd2ab5dfb6', 'message': 'rebuild a container with a different image\n\nrebuild a container with a different image.\nby this way, you can upgrade the container.\nFor example, rebuild a ubuntu:14.04 container to ubuntu:16.04 for upgrade.\n\nChange-Id: I4011ce0947fc85ed3b0cc17d6b159025b39f2284\nImplements:blueprint replace-image\n'}]",4,557205,cb41f019d6d2aea181bb67107b9dedcd2ab5dfb6,22,4,3,21428,,,0,"rebuild a container with a different image

rebuild a container with a different image.
by this way, you can upgrade the container.
For example, rebuild a ubuntu:14.04 container to ubuntu:16.04 for upgrade.

Change-Id: I4011ce0947fc85ed3b0cc17d6b159025b39f2284
Implements:blueprint replace-image
",git fetch https://review.opendev.org/openstack/zun refs/changes/05/557205/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py']",2,a3966d4700e22720ff553fbcbb9326f42905e9f7,bp/replace-image, if kwargs.get('image'): container.image = kwargs.get('image') if kwargs.get('image_driver'): container.image_driver = kwargs.get('image_driver'),,14,0
openstack%2Fos-vif~master~Ie26e0be944aa4b2fc1c80940cae2090a19d36fc7,openstack/os-vif,master,Ie26e0be944aa4b2fc1c80940cae2090a19d36fc7,Add Constraints support,ABANDONED,2016-12-21 01:40:58.000000000,2018-04-02 02:42:02.000000000,,"[{'_account_id': 7}, {'_account_id': 8213}, {'_account_id': 11604}, {'_account_id': 12340}, {'_account_id': 12898}, {'_account_id': 17671}]","[{'number': 1, 'created': '2016-12-21 01:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5f4a85944598f060410e12fda170ca1532719365', 'message': ""Add Constraints support\n\nAdding constraints support to libraries is slightly more complex than\nservices as the libraries themselves are listed in upper-constraints.txt\nwhich leads to errors that you can't install a specific version and a\nconstrained version.\n\nThis change adds constraints support by also adding a helper script to\nedit the constraints to remove os-vif.\n\nChange-Id: Ie26e0be944aa4b2fc1c80940cae2090a19d36fc7\n""}, {'number': 2, 'created': '2017-03-09 03:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/d7054ae715ce92e7dcc28e64ff92c3658ba66363', 'message': ""Add Constraints support\n\nAdding constraints support to libraries is slightly more complex than\nservices as the libraries themselves are listed in upper-constraints.txt\nwhich leads to errors that you can't install a specific version and a\nconstrained version.\n\nThis change adds constraints support by also adding a helper script to\nedit the constraints to remove os-vif.\n\nChange-Id: Ie26e0be944aa4b2fc1c80940cae2090a19d36fc7\n""}, {'number': 3, 'created': '2017-03-17 00:31:51.000000000', 'files': ['tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/3bf6a493a10cc25c1c795ff599134d58d2c3e99c', 'message': ""Add Constraints support\n\nAdding constraints support to libraries is slightly more complex than\nservices as the libraries themselves are listed in upper-constraints.txt\nwhich leads to errors that you can't install a specific version and a\nconstrained version.\n\nThis change adds constraints support by also adding a helper script to\nedit the constraints to remove os-vif.\n\nChange-Id: Ie26e0be944aa4b2fc1c80940cae2090a19d36fc7\n""}]",12,413325,3bf6a493a10cc25c1c795ff599134d58d2c3e99c,27,6,3,12898,,,0,"Add Constraints support

Adding constraints support to libraries is slightly more complex than
services as the libraries themselves are listed in upper-constraints.txt
which leads to errors that you can't install a specific version and a
constrained version.

This change adds constraints support by also adding a helper script to
edit the constraints to remove os-vif.

Change-Id: Ie26e0be944aa4b2fc1c80940cae2090a19d36fc7
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/25/413325/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/tox_install.sh', 'tox.ini']",2,5f4a85944598f060410e12fda170ca1532719365,feature/add-constraints-support,minversion = 2.0install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} BRANCH_NAME=master CLIENT_NAME=os-vif,minversion = 1.6install_command = pip install -U {opts} {packages},34,2
openstack%2Fanchor~master~Ib8afc2d2cff0f22ef1019e8b2d00f09300175e68,openstack/anchor,master,Ib8afc2d2cff0f22ef1019e8b2d00f09300175e68,Add Constraints support,ABANDONED,2016-12-20 04:31:49.000000000,2018-04-02 02:41:57.000000000,,"[{'_account_id': 1528}, {'_account_id': 6593}, {'_account_id': 11397}, {'_account_id': 12898}, {'_account_id': 18462}]","[{'number': 1, 'created': '2016-12-20 04:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/anchor/commit/2cf405723fce3a7896042a7c71a5333c8bd19abc', 'message': ""Add Constraints support\n\nTo be co-installable with other OpenStack projects and have consistent\ntesting it's a good idea (tm) to use constraints when creating tox\nenvironments\n\nChange-Id: Ib8afc2d2cff0f22ef1019e8b2d00f09300175e68\n""}, {'number': 2, 'created': '2017-04-07 07:55:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/anchor/commit/0226362d23e8fcbd9cec95ebf833ec7ef45db900', 'message': ""Add Constraints support\n\nTo be co-installable with other OpenStack projects and have consistent\ntesting it's a good idea (tm) to use constraints when creating tox\nenvironments\n\nChange-Id: Ib8afc2d2cff0f22ef1019e8b2d00f09300175e68\n""}]",0,412738,0226362d23e8fcbd9cec95ebf833ec7ef45db900,15,5,2,12898,,,0,"Add Constraints support

To be co-installable with other OpenStack projects and have consistent
testing it's a good idea (tm) to use constraints when creating tox
environments

Change-Id: Ib8afc2d2cff0f22ef1019e8b2d00f09300175e68
",git fetch https://review.opendev.org/openstack/anchor refs/changes/38/412738/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2cf405723fce3a7896042a7c71a5333c8bd19abc,feature/add-constraints-support,minversion = 2.0install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},minversion = 1.6install_command = pip install -U {opts} {packages},2,2
openstack%2Fos-client-config~master~Id457ea68938aea955162dc42a112568b2e55b850,openstack/os-client-config,master,Id457ea68938aea955162dc42a112568b2e55b850,Add Limestone Networks vendor info,MERGED,2018-03-28 03:44:39.000000000,2018-04-02 02:31:53.000000000,2018-04-02 02:31:53.000000000,"[{'_account_id': 2}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 03:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/907436ddb7d623de3f304b27bd3068bd36045733', 'message': 'Add Limestone Networks vendor info\n\nAdds the Limestone Networks provider info for the Dallas and\nSalt Lake regions.\n\nChange-Id: Id457ea68938aea955162dc42a112568b2e55b850\n'}, {'number': 2, 'created': '2018-03-29 04:03:54.000000000', 'files': ['releasenotes/notes/vendor-add-limestonenetworks-99b2ffab9fc23b08.yaml', 'doc/source/user/vendor-support.rst', 'os_client_config/vendors/limestonenetworks.json'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/9c9337234faa14774ab301c1d342d73264c74633', 'message': 'Add Limestone Networks vendor info\n\nAdds the Limestone Networks provider info for the Dallas and\nSalt Lake regions.\n\nChange-Id: Id457ea68938aea955162dc42a112568b2e55b850\n'}]",0,557139,9c9337234faa14774ab301c1d342d73264c74633,12,3,2,17799,,,0,"Add Limestone Networks vendor info

Adds the Limestone Networks provider info for the Dallas and
Salt Lake regions.

Change-Id: Id457ea68938aea955162dc42a112568b2e55b850
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/39/557139/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/vendor-add-limestonenetworks-99b2ffab9fc23b08.yaml', 'doc/source/user/vendor-support.rst', 'os_client_config/vendors/limestonenetworks.json']",3,907436ddb7d623de3f304b27bd3068bd36045733,add-vendor-limestone,"{ ""name"": ""limestonenetworks"", ""profile"": { ""auth"": { ""auth_url"": ""https://auth.cloud.lstn.net:5000/v3"" }, ""regions"": [ ""us-dfw-1"", ""us-slc"" ], ""identity_api_version"": ""3"", ""image_format"": ""raw"", ""volume_api_version"": ""3"" } } ",,35,0
openstack%2Fkolla-ansible~master~Id1ba69ebbf67b4cead855adbe440343c05ea3d1e,openstack/kolla-ansible,master,Id1ba69ebbf67b4cead855adbe440343c05ea3d1e,Use a random keepalived router id in CI environment,MERGED,2018-01-23 10:19:50.000000000,2018-04-02 02:27:42.000000000,2018-01-23 14:43:53.000000000,"[{'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 16984}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-23 10:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/494a55796063b90778871ed0f155df530f409edb', 'message': 'Use a random keepalived router id in CI environment\n\nUse the same router will result in conflict in the CI environment.\n\nChange-Id: Id1ba69ebbf67b4cead855adbe440343c05ea3d1e\nCloses-Bug: #1744913\n'}, {'number': 2, 'created': '2018-01-23 12:58:30.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf4a3c9f6c5ff95e72b1ec324004cddb3cee4081', 'message': 'Use a random keepalived router id in CI environment\n\nUse the same router will result in conflict in the CI environment.\n\nChange-Id: Id1ba69ebbf67b4cead855adbe440343c05ea3d1e\nCloses-Bug: #1744913\n'}]",0,536750,bf4a3c9f6c5ff95e72b1ec324004cddb3cee4081,17,7,2,7488,,,0,"Use a random keepalived router id in CI environment

Use the same router will result in conflict in the CI environment.

Change-Id: Id1ba69ebbf67b4cead855adbe440343c05ea3d1e
Closes-Bug: #1744913
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/536750/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,494a55796063b90778871ed0f155df530f409edb,bug/1744913,"# Use a random router id, otherwise it may result in the same router # in the CI gate. keepalived_virtual_router_id: ""{{ 250 | random(1) }}""",,3,0
openstack%2Fironic~stable%2Fpike~I46d94c29f858977604c0a3430257eca2bee977e3,openstack/ironic,stable/pike,I46d94c29f858977604c0a3430257eca2bee977e3,Gate: run ironic tests in the regular multinode job,MERGED,2018-03-28 16:56:20.000000000,2018-04-02 02:20:56.000000000,2018-04-01 17:41:40.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 16:56:20.000000000', 'files': ['playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b0dea61fb11eea96cf733553ff2739e933a17ad', 'message': ""Gate: run ironic tests in the regular multinode job\n\nWe don't specify any regex for this job, so it runs some tests.\nThey only include test_network_basic_ops, which does not check that\nmultitenancy is in effect. We have a test for it in ironic-tempest-plugin,\nbut it does not run anywhere. There is a neutron test for the same,\nbut it's not a smoke test and it has been skipped for quite some time.\n\nThis change switches this job to the run the following tests:\n* all ironic tests (that are not skipped for any reason)\n* multinode tests from Nova\n\nUnfortunately, this patch uncovers that we don't run any tests for\nnetwork attach/detach in practice. The devstack plugin has to be updated\nfirst to support more than one port per node. A TODO is left in the playbook.\n\nChange-Id: I46d94c29f858977604c0a3430257eca2bee977e3\n(cherry picked from commit 5f03daf21f705a1002a4e06393b803005a8921cd)\n""}]",0,557438,9b0dea61fb11eea96cf733553ff2739e933a17ad,22,7,1,10239,,,0,"Gate: run ironic tests in the regular multinode job

We don't specify any regex for this job, so it runs some tests.
They only include test_network_basic_ops, which does not check that
multitenancy is in effect. We have a test for it in ironic-tempest-plugin,
but it does not run anywhere. There is a neutron test for the same,
but it's not a smoke test and it has been skipped for quite some time.

This change switches this job to the run the following tests:
* all ironic tests (that are not skipped for any reason)
* multinode tests from Nova

Unfortunately, this patch uncovers that we don't run any tests for
network attach/detach in practice. The devstack plugin has to be updated
first to support more than one port per node. A TODO is left in the playbook.

Change-Id: I46d94c29f858977604c0a3430257eca2bee977e3
(cherry picked from commit 5f03daf21f705a1002a4e06393b803005a8921cd)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/557438/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/tempest-dsvm-ironic-ipa-wholedisk-agent_ipmitool-tinyipa-multinode/run.yaml'],1,9b0dea61fb11eea96cf733553ff2739e933a17ad,multinode-stable/pike," # Run all ironic tests and the multinode smoke test from nova. # TODO(dtantsur): add test_attach_interfaces from nova when our # devstack plugin creates more than one port per node. export DEVSTACK_GATE_TEMPEST_REGEX=""(ironic|test_schedule_to_all_nodes)""",,4,0
openstack%2Fneutron-fwaas~stable%2Fqueens~I0fddf6da4f718479f72390a36209a0e8fffb7158,openstack/neutron-fwaas,stable/queens,I0fddf6da4f718479f72390a36209a0e8fffb7158,Fix sanity check for default firewall group name,ABANDONED,2018-03-30 01:27:40.000000000,2018-04-02 01:50:36.000000000,,"[{'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 01:27:40.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d6f6c29f2abf0f994bf9c0457b6447497707d7ef', 'message': 'Fix sanity check for default firewall group name\n\nOnly query name for duplicate firewall group named check\n\nChange-Id: I0fddf6da4f718479f72390a36209a0e8fffb7158\n'}]",2,557862,d6f6c29f2abf0f994bf9c0457b6447497707d7ef,8,3,1,16264,,,0,"Fix sanity check for default firewall group name

Only query name for duplicate firewall group named check

Change-Id: I0fddf6da4f718479f72390a36209a0e8fffb7158
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/62/557862/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py'],1,d6f6c29f2abf0f994bf9c0457b6447497707d7ef,fix_db_upgrade, default_fwg = session.query(resources.FIREWALL_GROUP.name).filter(, default_fwg = session.query(resources.FIREWALL_GROUP).filter(,1,1
openstack%2Fneutron-vpnaas~master~I2017be0e9ca069abfdd1c5250bc06b3b4109fa83,openstack/neutron-vpnaas,master,I2017be0e9ca069abfdd1c5250bc06b3b4109fa83,test: Register L3 option in L3 ext tests,MERGED,2018-03-31 16:07:20.000000000,2018-04-02 01:42:19.000000000,2018-04-02 01:42:19.000000000,"[{'_account_id': 6854}, {'_account_id': 15905}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 16:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/a8af73185801c07c821988d5546beec975e6cc27', 'message': 'test: Register L3 option in L3 ext tests\n\nAfter https://review.openstack.org/#/c/524406/ landed,\nwe need to register L3 opts before initializing router info.\n\nChange-Id: I2017be0e9ca069abfdd1c5250bc06b3b4109fa83\nCloses-Bug: #1760320\n'}, {'number': 2, 'created': '2018-03-31 16:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/675854f74fed97ec77cd24035771daeca243f448', 'message': 'test: Register L3 option in L3 ext tests\n\nAfter https://review.openstack.org/#/c/524406/ landed,\nwe need to register L3 opts before initializing router info.\n\nChange-Id: I2017be0e9ca069abfdd1c5250bc06b3b4109fa83\nCloses-Bug: #1760320\n'}, {'number': 3, 'created': '2018-03-31 16:27:59.000000000', 'files': ['neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/e10993c98ccf0500f4b309170c1b82041385568f', 'message': 'test: Register L3 option in L3 ext tests\n\nAfter https://review.openstack.org/#/c/524406/ landed,\nwe need to register L3 opts before initializing router info.\n\nChange-Id: I2017be0e9ca069abfdd1c5250bc06b3b4109fa83\nCloses-Bug: #1760320\n'}]",0,558060,e10993c98ccf0500f4b309170c1b82041385568f,10,3,3,841,,,0,"test: Register L3 option in L3 ext tests

After https://review.openstack.org/#/c/524406/ landed,
we need to register L3 opts before initializing router info.

Change-Id: I2017be0e9ca069abfdd1c5250bc06b3b4109fa83
Closes-Bug: #1760320
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/60/558060/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/tests/unit/services/vpn/device_drivers/test_ipsec.py'],1,a8af73185801c07c821988d5546beec975e6cc27,bug/1760320,"from neutron.conf.agent.l3 import config as l3_config l3_config.register_l3_agent_config_opts(l3_config.OPTS, self.conf)",,2,0
openstack%2Fzun~master~Ic9ecf8b8c217d30a86120991263cb5b76b525dd4,openstack/zun,master,Ic9ecf8b8c217d30a86120991263cb5b76b525dd4,[DNM] Test neutron change,ABANDONED,2018-03-17 01:00:43.000000000,2018-04-02 01:28:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-17 01:00:43.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/79359596f327aef8c1ca2dbee784db018c71fdcb', 'message': '[DNM] Test neutron change\n\nDepends-On: I97095453610fff114d999a526d67e78119546ff5\nChange-Id: Ic9ecf8b8c217d30a86120991263cb5b76b525dd4\n'}]",0,553925,79359596f327aef8c1ca2dbee784db018c71fdcb,3,1,1,11536,,,0,"[DNM] Test neutron change

Depends-On: I97095453610fff114d999a526d67e78119546ff5
Change-Id: Ic9ecf8b8c217d30a86120991263cb5b76b525dd4
",git fetch https://review.opendev.org/openstack/zun refs/changes/25/553925/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,79359596f327aef8c1ca2dbee784db018c71fdcb,,# test neutron,,1,0
openstack%2Fzun~master~I6e12578f53bc2cb895a5f411d8e0c5e0d78a09d4,openstack/zun,master,I6e12578f53bc2cb895a5f411d8e0c5e0d78a09d4,[DNM] Test kuryr-libnetwork fix,ABANDONED,2018-02-14 17:14:27.000000000,2018-04-02 01:28:05.000000000,,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 17:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d93b5949bcc343a92878b874a244e01cbed0999f', 'message': '[DNM] Test kuryr-libnetwork fix\n\nDepends-On: Iaea07e046dbf47b1e6e2d9c6f265c0b18a040b86\nChange-Id: I6e12578f53bc2cb895a5f411d8e0c5e0d78a09d4\n'}, {'number': 2, 'created': '2018-02-14 17:19:50.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/564861c2ce45ff508dfbc9bb64706808a5a7171b', 'message': '[DNM] Test kuryr-libnetwork fix\n\nDepends-On: Iaea07e046dbf47b1e6e2d9c6f265c0b18a040b86\nChange-Id: I6e12578f53bc2cb895a5f411d8e0c5e0d78a09d4\n'}]",0,544553,564861c2ce45ff508dfbc9bb64706808a5a7171b,10,2,2,11536,,,0,"[DNM] Test kuryr-libnetwork fix

Depends-On: Iaea07e046dbf47b1e6e2d9c6f265c0b18a040b86
Change-Id: I6e12578f53bc2cb895a5f411d8e0c5e0d78a09d4
",git fetch https://review.opendev.org/openstack/zun refs/changes/53/544553/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,d93b5949bcc343a92878b874a244e01cbed0999f,,# dummy change,,1,0
openstack%2Fzun~master~I06bece0175ee0cc7f67f310b3a6cd8c847596ff6,openstack/zun,master,I06bece0175ee0cc7f67f310b3a6cd8c847596ff6,[DNM] Test kuryr-libnetwork change,ABANDONED,2018-03-17 00:59:15.000000000,2018-04-02 01:27:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-17 00:59:15.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/ade2d510a5026f8d43b984401247ff94055da589', 'message': '[DNM] Test kuryr-libnetwork change\n\nDepends-On: I295a5b84eb7fa3439561fa009b7499f94d8df4d2\nChange-Id: I06bece0175ee0cc7f67f310b3a6cd8c847596ff6\n'}]",0,553924,ade2d510a5026f8d43b984401247ff94055da589,3,1,1,11536,,,0,"[DNM] Test kuryr-libnetwork change

Depends-On: I295a5b84eb7fa3439561fa009b7499f94d8df4d2
Change-Id: I06bece0175ee0cc7f67f310b3a6cd8c847596ff6
",git fetch https://review.opendev.org/openstack/zun refs/changes/24/553924/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,ade2d510a5026f8d43b984401247ff94055da589,,# dummy change,,1,0
openstack%2Fopenstack-helm~master~Iebe382bd7945abe9bfbb30c4cf48c53f17fcb1f4,openstack/openstack-helm,master,Iebe382bd7945abe9bfbb30c4cf48c53f17fcb1f4,Rally: Move all heat templates to be directly values driven.,MERGED,2018-03-31 14:21:35.000000000,2018-04-02 00:22:26.000000000,2018-04-02 00:22:26.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 14:21:35.000000000', 'files': ['rally/templates/tasks/test-templates/_random-strings.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group-with-outputs.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-replace.yaml.template.tpl', 'rally/templates/tasks/test-templates/_server-with-ports.yaml.template.tpl', 'rally/templates/configmap-test-templates.yaml', 'rally/templates/tasks/test-templates/_autoscaling-group.yaml.template.tpl', 'rally/templates/tasks/test-templates/_server-with-volume.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-resource-group-increase.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-autoscaling-policy-inplace.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-resource-group-reduce.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group-server-with-volume.yaml.template.tpl', 'rally/templates/tasks/test-templates/_default.yaml.template.tpl', 'rally/templates/tasks/test-templates/_autoscaling-policy.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-add.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group-with-constraint.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-delete.yaml.template.tpl', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/901013edac28bf5d7b29315e37b655b592cdec38', 'message': 'Rally: Move all heat templates to be directly values driven.\n\nThis PS moves all the heat templates to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: Iebe382bd7945abe9bfbb30c4cf48c53f17fcb1f4\n'}]",0,558058,901013edac28bf5d7b29315e37b655b592cdec38,7,3,1,23928,,,0,"Rally: Move all heat templates to be directly values driven.

This PS moves all the heat templates to be directly values driven,
both simplifying over-ride and allowing configs to be targeted
to pods in future work.

Change-Id: Iebe382bd7945abe9bfbb30c4cf48c53f17fcb1f4
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/58/558058/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/templates/tasks/test-templates/_random-strings.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group-with-outputs.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-replace.yaml.template.tpl', 'rally/templates/tasks/test-templates/_server-with-ports.yaml.template.tpl', 'rally/templates/configmap-test-templates.yaml', 'rally/templates/tasks/test-templates/_autoscaling-group.yaml.template.tpl', 'rally/templates/tasks/test-templates/_server-with-volume.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-resource-group-increase.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-autoscaling-policy-inplace.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-resource-group-reduce.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group-server-with-volume.yaml.template.tpl', 'rally/templates/tasks/test-templates/_default.yaml.template.tpl', 'rally/templates/tasks/test-templates/_autoscaling-policy.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-add.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group-with-constraint.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-delete.yaml.template.tpl', 'rally/values.yaml']",18,901013edac28bf5d7b29315e37b655b592cdec38,rally/cleanup," autoscaling_group: heat_template_version: '2013-05-23' outputs: scaling_url: value: get_attr: - scaling_policy - alarm_url parameters: flavor: constraints: - custom_constraint: nova.flavor default: m1.tiny type: string image: constraints: - custom_constraint: glance.image default: cirros-0.3.4-x86_64-uec type: string max_size: constraints: - range: min: 1 default: 5 type: number scaling_adjustment: default: 1 type: number resources: asg: properties: desired_capacity: 3 max_size: get_param: max_size min_size: 1 resource: properties: flavor: get_param: flavor image: get_param: image type: 'OS::Nova::Server' type: 'OS::Heat::AutoScalingGroup' scaling_policy: properties: adjustment_type: change_in_capacity auto_scaling_group_id: get_resource: asg scaling_adjustment: get_param: scaling_adjustment type: 'OS::Heat::ScalingPolicy' autoscaling_policy: heat_template_version: '2013-05-23' resources: test_group: properties: desired_capacity: 0 max_size: 0 min_size: 0 resource: type: 'OS::Heat::RandomString' type: 'OS::Heat::AutoScalingGroup' test_policy: properties: adjustment_type: change_in_capacity auto_scaling_group_id: get_resource: test_group scaling_adjustment: 1 type: 'OS::Heat::ScalingPolicy' default: heat_template_version: '2014-10-16' random_strings: description: Test template for rally create-update-delete scenario heat_template_version: '2014-10-16' resources: test_string_one: properties: length: 20 type: 'OS::Heat::RandomString' test_string_two: properties: length: 20 type: 'OS::Heat::RandomString' resource_group: description: Test template for rally create-update-delete scenario heat_template_version: '2014-10-16' resources: test_group: properties: count: 2 resource_def: properties: length: 20 type: 'OS::Heat::RandomString' type: 'OS::Heat::ResourceGroup' resource_group_server_with_volume: description: | Test template that creates a resource group with servers and volumes. The template allows to create a lot of nested stacks with standard configuration: nova instance, cinder volume attached to that instance heat_template_version: '2014-10-16' parameters: instance_availability_zone: default: nova description: The Availability Zone to launch the instance. type: string instance_flavor: default: m1.tiny description: Type of the instance to be created. type: string instance_image: default: cirros-0.3.4-x86_64-uec type: string instance_volume_size: constraints: - range: max: 1024 min: 1 default: 1 description: Size of volume to attach to instance type: number num_instances: constraints: - range: min: 1 description: number of instances that should be created in resource group type: number resources: group_of_volumes: properties: count: get_param: num_instances resource_def: properties: availability_zone: get_param: instance_availability_zone flavor: get_param: instance_flavor image: get_param: instance_image volume_size: get_param: instance_volume_size type: templates/server-with-volume.yaml.template type: 'OS::Heat::ResourceGroup' resource_group_with_constraint: description: Template for testing caching. heat_template_version: '2013-05-23' parameters: count: default: 40 type: number delay: default: 0.1 type: number resources: rg: properties: count: get_param: count resource_def: properties: constraint_prop_secs: get_param: delay type: 'OS::Heat::TestResource' type: 'OS::Heat::ResourceGroup' resource_group_with_outputs: heat_template_version: '2013-05-23' outputs: val1: value: get_attr: - rg - resource.0.output val10: value: get_attr: - rg - resource.9.output val2: value: get_attr: - rg - resource.1.output val3: value: get_attr: - rg - resource.2.output val4: value: get_attr: - rg - resource.3.output val5: value: get_attr: - rg - resource.4.output val6: value: get_attr: - rg - resource.5.output val7: value: get_attr: - rg - resource.6.output val8: value: get_attr: - rg - resource.7.output val9: value: get_attr: - rg - resource.8.output parameters: attr_wait_secs: default: 0.5 type: number resources: rg: properties: count: 10 resource_def: properties: attr_wait_secs: get_param: attr_wait_secs type: 'OS::Heat::TestResource' type: 'OS::Heat::ResourceGroup' server_with_ports: heat_template_version: '2013-05-23' parameters: cidr: default: 11.11.11.0/24 type: string flavor: default: m1.tiny type: string image: default: cirros-0.3.4-x86_64-uec type: string public_net: default: public type: string resources: port_security_group: properties: description: | Default security group assigned to port. The neutron default group is not used because neutron creates several groups with the same name=default and nova cannot chooses which one should it use. name: default_port_security_group type: 'OS::Neutron::SecurityGroup' private_net: type: 'OS::Neutron::Net' private_subnet: properties: cidr: get_param: cidr network: get_resource: private_net type: 'OS::Neutron::Subnet' router: properties: external_gateway_info: network: get_param: public_net type: 'OS::Neutron::Router' router_interface: properties: router_id: get_resource: router subnet_id: get_resource: private_subnet type: 'OS::Neutron::RouterInterface' server: properties: flavor: get_param: flavor image: get_param: image networks: - port: get_resource: server_port type: 'OS::Nova::Server' server_port: properties: fixed_ips: - subnet: get_resource: private_subnet network: get_resource: private_net security_groups: - get_resource: port_security_group type: 'OS::Neutron::Port' server_with_volume: heat_template_version: '2013-05-23' parameters: availability_zone: default: nova description: The Availability Zone to launch the instance. type: string flavor: default: m1.tiny type: string image: default: cirros-0.3.4-x86_64-uec type: string volume_size: constraints: - description: must be between 1 and 1024 Gb. range: max: 1024 min: 1 default: 1 description: Size of the volume to be created. type: number resources: cinder_volume: properties: availability_zone: get_param: availability_zone size: get_param: volume_size type: 'OS::Cinder::Volume' server: properties: flavor: get_param: flavor image: get_param: image type: 'OS::Nova::Server' volume_attachment: properties: instance_uuid: get_resource: server mountpoint: /dev/vdc volume_id: get_resource: cinder_volume type: 'OS::Cinder::VolumeAttachment' updated_random_strings_add: description: | Test template for create-update-delete-stack scenario in rally. The template updates the stack defined by random-strings.yaml.template with additional resource. heat_template_version: '2014-10-16' resources: test_string_one: properties: length: 20 type: 'OS::Heat::RandomString' test_string_three: properties: length: 20 type: 'OS::Heat::RandomString' test_string_two: properties: length: 20 type: 'OS::Heat::RandomString' updated_random_strings_delete: description: | Test template for create-update-delete-stack scenario in rally. The template deletes one resource from the stack defined by random-strings.yaml.template. heat_template_version: '2014-10-16' resources: test_string_one: properties: length: 20 type: 'OS::Heat::RandomString' updated_random_strings_replace: description: | Test template for create-update-delete-stack scenario in rally. The template deletes one resource from the stack defined by random-strings.yaml.template and re-creates it with the updated parameters (so-called update-replace). That happens because some parameters cannot be changed without resource re-creation. The template allows to measure performance of update-replace operation. heat_template_version: '2014-10-16' resources: test_string_one: properties: length: 20 type: 'OS::Heat::RandomString' test_string_two: properties: length: 40 type: 'OS::Heat::RandomString' updated_resource_group_increase: description: | Test template for create-update-delete-stack scenario in rally. The template updates one resource from the stack defined by resource-group.yaml.template and adds children resources to that resource. heat_template_version: '2014-10-16' resources: test_group: properties: count: 3 resource_def: properties: length: 20 type: 'OS::Heat::RandomString' type: 'OS::Heat::ResourceGroup' updated_resource_group_reduce: description: | Test template for create-update-delete-stack scenario in rally. The template updates one resource from the stack defined by resource-group.yaml.template and deletes children resources from that resource. heat_template_version: '2014-10-16' resources: test_group: properties: count: 1 resource_def: properties: length: 20 type: 'OS::Heat::RandomString' type: 'OS::Heat::ResourceGroup'", paste: override: append: policy: override: append: audit_map: override: append: random_strings: override: prefix: append: updated_random_strings_replace: override: prefix: append: updated_random_strings_add: override: prefix: append: updated_random_strings_delete: override: prefix: append: resource_group_with_constraint: override: prefix: append: resource_group_with_outputs: override: prefix: append: resource_group_server_with_volume: override: prefix: append: resource_group: override: prefix: append: default: override: prefix: append: autoscaling_group: override: prefix: append: server_with_ports: override: prefix: append: server_with_volume: override: prefix: append: updated_resource_group_increase: override: prefix: append: updated_resource_group_reduce: override: prefix: append:,423,494
openstack%2Fceilometer~master~I18b3af31424fbe3979f3ab3324b8c6ca89498cf4,openstack/ceilometer,master,I18b3af31424fbe3979f3ab3324b8c6ca89498cf4,fix a typo in documentation,MERGED,2018-03-23 00:30:33.000000000,2018-04-02 00:22:00.000000000,2018-04-02 00:22:00.000000000,"[{'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:30:33.000000000', 'files': ['releasenotes/notes/save-rate-in-gnocchi-66244262bc4b7842.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/e906bcda82918aff000ab76f067a2dc49660d0b4', 'message': 'fix a typo in documentation\n\nChange-Id: I18b3af31424fbe3979f3ab3324b8c6ca89498cf4\n'}]",0,555544,e906bcda82918aff000ab76f067a2dc49660d0b4,7,3,1,17130,,,0,"fix a typo in documentation

Change-Id: I18b3af31424fbe3979f3ab3324b8c6ca89498cf4
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/44/555544/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/save-rate-in-gnocchi-66244262bc4b7842.yaml'],1,e906bcda82918aff000ab76f067a2dc49660d0b4,triviafix, will be impacted. Archive policy can still be overridden with the publisher url, will be impacted. Archive policy can still be overriden with the publisher url,1,1
openstack%2Fceilometer~master~Ia9031712c5483e01700dd4449682b52457179676,openstack/ceilometer,master,Ia9031712c5483e01700dd4449682b52457179676,Imported Translations from Zanata,MERGED,2018-03-22 07:34:08.000000000,2018-04-02 00:21:58.000000000,2018-04-02 00:21:58.000000000,"[{'_account_id': 6537}, {'_account_id': 15843}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-22 07:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/384217804c59f338f06a576a51369b205a694e2a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia9031712c5483e01700dd4449682b52457179676\n'}, {'number': 2, 'created': '2018-03-27 07:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/51779e4451f89e2162e34a558597373d84e1805f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia9031712c5483e01700dd4449682b52457179676\n'}, {'number': 3, 'created': '2018-03-29 06:25:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f81fd7dde18df430d6902e6d4c4bfe69ed4a5577', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia9031712c5483e01700dd4449682b52457179676\n'}]",0,555183,f81fd7dde18df430d6902e6d4c4bfe69ed4a5577,14,4,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia9031712c5483e01700dd4449682b52457179676
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/83/555183/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,384217804c59f338f06a576a51369b205a694e2a,zanata/translations,"""POT-Creation-Date: 2018-03-19 10:07+0000\n""""PO-Revision-Date: 2018-03-21 09:50+0000\n""msgid ""10.0.0-28"" msgstr ""10.0.0-28"" msgid ""10.0.0-7"" msgstr ""10.0.0-7""","""POT-Creation-Date: 2018-03-14 12:57+0000\n""""PO-Revision-Date: 2018-03-16 11:14+0000\n""msgid ""10.0.0-27"" msgstr ""10.0.0-27""",7,4
openstack%2Fopenstack-helm~master~I9aff9e48236dd637271f1e2419180bf520d98dbe,openstack/openstack-helm,master,I9aff9e48236dd637271f1e2419180bf520d98dbe,WIP Implements Ceph-Mon chart,ABANDONED,2018-03-29 23:06:21.000000000,2018-04-02 00:21:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-03-29 23:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e87fea96c0c44dbe5bc45b96943d8e0842f34cc9', 'message': 'WIP Implements Ceph-Mon chart\n\nSplitting Ceph charts into multiple components.\nThis PS tracks changes for Ceph-Mon component\n\nChange-Id: I9aff9e48236dd637271f1e2419180bf520d98dbe\n'}, {'number': 2, 'created': '2018-03-30 17:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/149e253c307148b6bc43e76952ee42d97ea6923e', 'message': 'WIP Implements Ceph-Mon chart\n\nSplitting Ceph charts into multiple components.\nThis PS tracks changes for Ceph-Mon component\n\nChange-Id: I9aff9e48236dd637271f1e2419180bf520d98dbe\n'}, {'number': 3, 'created': '2018-03-30 23:40:31.000000000', 'files': ['ceph-mon/.helmignore', 'ceph-mon/templates/job-namespace-client-key-cleaner.yaml', 'ceph-mon/requirements.yaml', 'ceph-mon/templates/job-namespace-client-key.yaml', 'ceph-mon/templates/bin/moncheck/_reap-zombies.py.tpl', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph/values.yaml', 'ceph-mon/templates/service-mon-discovery.yaml', 'ceph-mon/templates/bin/mon/_stop.sh.tpl', 'ceph-mon/templates/service-mon.yaml', 'ceph-mon/templates/bin/_bootstrap.sh.tpl', 'ceph-mon/templates/bin/keys/_storage-keyring-manager.sh.tpl', 'ceph-mon/templates/bin/_init-dirs.sh.tpl', 'ceph-mon/templates/templates/_mon.keyring.tpl', 'ceph-mon/templates/job-keyring.yaml', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-mon/templates/templates/_bootstrap.keyring.mds.tpl', 'ceph-mon/templates/templates/_bootstrap.keyring.rgw.tpl', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-mon/values.yaml', 'ceph-mon/templates/bin/moncheck/_start.sh.tpl', 'ceph-mon/templates/utils/_osd_daemonset_overrides.tpl', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-generator.py.tpl', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-manager.sh.tpl', 'tools/deployment/developer/ceph/040-ceph.sh', 'ceph-mon/templates/job-cephfs-client-key.yaml', 'ceph-mon/templates/templates/_admin.keyring.tpl', 'ceph-mon/templates/configmap-templates.yaml', 'ceph-mon/templates/bin/mon/_check.sh.tpl', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-mon/.gitignore', 'ceph-mon/templates/templates/_bootstrap.keyring.mgr.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph-mon/Chart.yaml', 'tools/deployment/developer/ceph/040-ceph-mon.sh', 'ceph-mon/templates/templates/_bootstrap.keyring.osd.tpl', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/templates/deployment-moncheck.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/98f9346a3bcb13a4c28ae9146af42cad5e4ac873', 'message': 'WIP Implements Ceph-Mon chart\n\nSplitting Ceph charts into multiple components.\nThis PS tracks changes for Ceph-Mon component\n\nChange-Id: I9aff9e48236dd637271f1e2419180bf520d98dbe\n'}]",0,557846,98f9346a3bcb13a4c28ae9146af42cad5e4ac873,7,1,3,24165,,,0,"WIP Implements Ceph-Mon chart

Splitting Ceph charts into multiple components.
This PS tracks changes for Ceph-Mon component

Change-Id: I9aff9e48236dd637271f1e2419180bf520d98dbe
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/46/557846/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph/values.yaml'],1,e87fea96c0c44dbe5bc45b96943d8e0842f34cc9,ceph_split_mon, rbd_provisioner: false cephfs_provisioner: false configmap_bin_clients: false configmap_bin_ks: false daemonset_osd: false deployment_mds: false deployment_rbd_provisioner: false deployment_cephfs_provisioner: false deployment_rgw: false deployment_mgr: false job_cephfs_client_key: false job_ks_endpoints: false job_ks_service: false job_ks_user: false job_namespace_client_key_cleaner: false job_namespace_client_key: false job_rbd_pool: false secret_keystone_rgw: false secret_keystone: false service_mgr: false service_rgw: false storageclass_cephfs: false storageclass_rbd: false, rbd_provisioner: true cephfs_provisioner: true configmap_bin_clients: true configmap_bin_ks: true daemonset_osd: true deployment_mds: true deployment_rbd_provisioner: true deployment_cephfs_provisioner: true deployment_rgw: true deployment_mgr: true job_cephfs_client_key: true job_ks_endpoints: true job_ks_service: true job_ks_user: true job_namespace_client_key_cleaner: true job_namespace_client_key: true job_rbd_pool: true secret_keystone_rgw: true secret_keystone: true service_mgr: true service_rgw: true storageclass_cephfs: true storageclass_rbd: true,23,23
openstack%2Fopenstack-helm~master~Iaf6168e377aaf9a2b895af8c8a76b5cb420bb5e8,openstack/openstack-helm,master,Iaf6168e377aaf9a2b895af8c8a76b5cb420bb5e8,Rally: remove unused config template,MERGED,2018-03-31 13:53:35.000000000,2018-04-02 00:20:24.000000000,2018-04-02 00:20:24.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-31 13:53:35.000000000', 'files': ['rally/templates/configmap-tasks.yaml', 'rally/templates/etc/_rally.conf.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88d085b089aac69546f27b862eba01a15bb9d403', 'message': 'Rally: remove unused config template\n\nThis PS removes an unused config template in the rally chart,\nand also cleans up some whitespace issues.\n\nChange-Id: Iaf6168e377aaf9a2b895af8c8a76b5cb420bb5e8\n'}]",0,558057,88d085b089aac69546f27b862eba01a15bb9d403,7,3,1,23928,,,0,"Rally: remove unused config template

This PS removes an unused config template in the rally chart,
and also cleans up some whitespace issues.

Change-Id: Iaf6168e377aaf9a2b895af8c8a76b5cb420bb5e8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/57/558057/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/templates/configmap-tasks.yaml', 'rally/templates/etc/_rally.conf.tpl']",2,88d085b089aac69546f27b862eba01a15bb9d403,rally/cleanup,,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{ include ""rally.conf.rally_values_skeleton"" .Values.conf.rally | trunc 0 }} {{ include ""rally.conf.rally"" .Values.conf.rally }} {{- define ""rally.conf.rally_values_skeleton"" -}} {{- if not .default -}}{{- set . ""default"" dict -}}{{- end -}} {{- if not .default.oslo -}}{{- set .default ""oslo"" dict -}}{{- end -}} {{- if not .default.oslo.log -}}{{- set .default.oslo ""log"" dict -}}{{- end -}} {{- if not .default.rally -}}{{- set .default ""rally"" dict -}}{{- end -}} {{- if not .benchmark -}}{{- set . ""benchmark"" dict -}}{{- end -}} {{- if not .benchmark.rally -}}{{- set .benchmark ""rally"" dict -}}{{- end -}} {{- if not .cleanup -}}{{- set . ""cleanup"" dict -}}{{- end -}} {{- if not .cleanup.rally -}}{{- set .cleanup ""rally"" dict -}}{{- end -}} {{- if not .database -}}{{- set . ""database"" dict -}}{{- end -}} {{- if not .database.oslo -}}{{- set .database ""oslo"" dict -}}{{- end -}} {{- if not .database.oslo.db -}}{{- set .database.oslo ""db"" dict -}}{{- end -}} {{- if not .roles_context -}}{{- set . ""roles_context"" dict -}}{{- end -}} {{- if not .roles_context.rally -}}{{- set .roles_context ""rally"" dict -}}{{- end -}} {{- if not .tempest -}}{{- set . ""tempest"" dict -}}{{- end -}} {{- if not .tempest.rally -}}{{- set .tempest ""rally"" dict -}}{{- end -}} {{- if not .users_context -}}{{- set . ""users_context"" dict -}}{{- end -}} {{- if not .users_context.rally -}}{{- set .users_context ""rally"" dict -}}{{- end -}} {{- end -}} {{- define ""rally.conf.rally"" -}} [DEFAULT] # # From oslo.log # # If set to true, the logging level will be set to DEBUG instead of # the default INFO level. (boolean value) # Note: This option can be changed without restarting. # from .default.oslo.log.debug {{ if not .default.oslo.log.debug }}#{{ end }}debug = {{ .default.oslo.log.debug | default ""false"" }} # The name of a logging configuration file. This file is appended to # any existing logging configuration files. For details about logging # configuration files, see the Python logging module documentation. # Note that when logging configuration files are used then all logging # configuration is set in the configuration file and other logging # configuration options are ignored (for example, # logging_context_format_string). (string value) # Note: This option can be changed without restarting. # Deprecated group/name - [DEFAULT]/log-config # Deprecated group/name - [DEFAULT]/log_config # from .default.oslo.log.log_config_append {{ if not .default.oslo.log.log_config_append }}#{{ end }}log_config_append = {{ .default.oslo.log.log_config_append | default ""<None>"" }} # Defines the format string for %%(asctime)s in log records. Default: # %(default)s . This option is ignored if log_config_append is set. # (string value) # from .default.oslo.log.log_date_format {{ if not .default.oslo.log.log_date_format }}#{{ end }}log_date_format = {{ .default.oslo.log.log_date_format | default ""%Y-%m-%d %H:%M:%S"" }} # (Optional) Name of log file to send logging output to. If no default # is set, logging will go to stderr as defined by use_stderr. This # option is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logfile # from .default.oslo.log.log_file {{ if not .default.oslo.log.log_file }}#{{ end }}log_file = {{ .default.oslo.log.log_file | default ""<None>"" }} # (Optional) The base directory used for relative log_file paths. # This option is ignored if log_config_append is set. (string value) # Deprecated group/name - [DEFAULT]/logdir # from .default.oslo.log.log_dir {{ if not .default.oslo.log.log_dir }}#{{ end }}log_dir = {{ .default.oslo.log.log_dir | default ""<None>"" }} # Uses logging handler designed to watch file system. When log file is # moved or removed this handler will open a new log file with # specified path instantaneously. It makes sense only if log_file # option is specified and Linux platform is used. This option is # ignored if log_config_append is set. (boolean value) # from .default.oslo.log.watch_log_file {{ if not .default.oslo.log.watch_log_file }}#{{ end }}watch_log_file = {{ .default.oslo.log.watch_log_file | default ""false"" }} # Use syslog for logging. Existing syslog format is DEPRECATED and # will be changed later to honor RFC5424. This option is ignored if # log_config_append is set. (boolean value) # from .default.oslo.log.use_syslog {{ if not .default.oslo.log.use_syslog }}#{{ end }}use_syslog = {{ .default.oslo.log.use_syslog | default ""false"" }} # Enable journald for logging. If running in a systemd environment you # may wish to enable journal support. Doing so will use the journal # native protocol which includes structured metadata in addition to # log messages.This option is ignored if log_config_append is set. # (boolean value) # from .default.oslo.log.use_journal {{ if not .default.oslo.log.use_journal }}#{{ end }}use_journal = {{ .default.oslo.log.use_journal | default ""false"" }} # Syslog facility to receive log lines. This option is ignored if # log_config_append is set. (string value) # from .default.oslo.log.syslog_log_facility {{ if not .default.oslo.log.syslog_log_facility }}#{{ end }}syslog_log_facility = {{ .default.oslo.log.syslog_log_facility | default ""LOG_USER"" }} # Log output to standard error. This option is ignored if # log_config_append is set. (boolean value) # from .default.oslo.log.use_stderr {{ if not .default.oslo.log.use_stderr }}#{{ end }}use_stderr = {{ .default.oslo.log.use_stderr | default ""false"" }} # Format string to use for log messages with context. (string value) # from .default.oslo.log.logging_context_format_string {{ if not .default.oslo.log.logging_context_format_string }}#{{ end }}logging_context_format_string = {{ .default.oslo.log.logging_context_format_string | default ""%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(request_id)s %(user_identity)s] %(instance)s%(message)s"" }} # Format string to use for log messages when context is undefined. # (string value) # from .default.oslo.log.logging_default_format_string {{ if not .default.oslo.log.logging_default_format_string }}#{{ end }}logging_default_format_string = {{ .default.oslo.log.logging_default_format_string | default ""%(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [-] %(instance)s%(message)s"" }} # Additional data to append to log message when logging level for the # message is DEBUG. (string value) # from .default.oslo.log.logging_debug_format_suffix {{ if not .default.oslo.log.logging_debug_format_suffix }}#{{ end }}logging_debug_format_suffix = {{ .default.oslo.log.logging_debug_format_suffix | default ""%(funcName)s %(pathname)s:%(lineno)d"" }} # Prefix each line of exception output with this format. (string # value) # from .default.oslo.log.logging_exception_prefix {{ if not .default.oslo.log.logging_exception_prefix }}#{{ end }}logging_exception_prefix = {{ .default.oslo.log.logging_exception_prefix | default ""%(asctime)s.%(msecs)03d %(process)d ERROR %(name)s %(instance)s"" }} # Defines the format string for %(user_identity)s that is used in # logging_context_format_string. (string value) # from .default.oslo.log.logging_user_identity_format {{ if not .default.oslo.log.logging_user_identity_format }}#{{ end }}logging_user_identity_format = {{ .default.oslo.log.logging_user_identity_format | default ""%(user)s %(tenant)s %(domain)s %(user_domain)s %(project_domain)s"" }} # List of package logging levels in logger=LEVEL pairs. This option is # ignored if log_config_append is set. (list value) # from .default.oslo.log.default_log_levels {{ if not .default.oslo.log.default_log_levels }}#{{ end }}default_log_levels = {{ .default.oslo.log.default_log_levels | default ""amqp=WARN,amqplib=WARN,boto=WARN,qpid=WARN,sqlalchemy=WARN,suds=INFO,oslo.messaging=INFO,oslo_messaging=INFO,iso8601=WARN,requests.packages.urllib3.connectionpool=WARN,urllib3.connectionpool=WARN,websocket=WARN,requests.packages.urllib3.util.retry=WARN,urllib3.util.retry=WARN,keystonemiddleware=WARN,routes.middleware=WARN,stevedore=WARN,taskflow=WARN,keystoneauth=WARN,oslo.cache=INFO,dogpile.core.dogpile=INFO"" }} # Enables or disables publication of error events. (boolean value) # from .default.oslo.log.publish_errors {{ if not .default.oslo.log.publish_errors }}#{{ end }}publish_errors = {{ .default.oslo.log.publish_errors | default ""false"" }} # The format for an instance that is passed with the log message. # (string value) # from .default.oslo.log.instance_format {{ if not .default.oslo.log.instance_format }}#{{ end }}instance_format = {{ .default.oslo.log.instance_format | default ""\""[instance: %(uuid)s] \"""" }} # The format for an instance UUID that is passed with the log message. # (string value) # from .default.oslo.log.instance_uuid_format {{ if not .default.oslo.log.instance_uuid_format }}#{{ end }}instance_uuid_format = {{ .default.oslo.log.instance_uuid_format | default ""\""[instance: %(uuid)s] \"""" }} # Interval, number of seconds, of log rate limiting. (integer value) # from .default.oslo.log.rate_limit_interval {{ if not .default.oslo.log.rate_limit_interval }}#{{ end }}rate_limit_interval = {{ .default.oslo.log.rate_limit_interval | default ""0"" }} # Maximum number of logged messages per rate_limit_interval. (integer # value) # from .default.oslo.log.rate_limit_burst {{ if not .default.oslo.log.rate_limit_burst }}#{{ end }}rate_limit_burst = {{ .default.oslo.log.rate_limit_burst | default ""0"" }} # Log level name used by rate limiting: CRITICAL, ERROR, INFO, # WARNING, DEBUG or empty string. Logs with level greater or equal to # rate_limit_except_level are not filtered. An empty string means that # all levels are filtered. (string value) # from .default.oslo.log.rate_limit_except_level {{ if not .default.oslo.log.rate_limit_except_level }}#{{ end }}rate_limit_except_level = {{ .default.oslo.log.rate_limit_except_level | default ""CRITICAL"" }} # Enables or disables fatal status of deprecations. (boolean value) # from .default.oslo.log.fatal_deprecations {{ if not .default.oslo.log.fatal_deprecations }}#{{ end }}fatal_deprecations = {{ .default.oslo.log.fatal_deprecations | default ""false"" }} # # From rally # # Print debugging output only for Rally. Off-site components stay # quiet. (boolean value) # from .default.rally.rally_debug {{ if not .default.rally.rally_debug }}#{{ end }}rally_debug = {{ .default.rally.rally_debug | default ""false"" }} # HTTP timeout for any of OpenStack service in seconds (floating point # value) # from .default.rally.openstack_client_http_timeout {{ if not .default.rally.openstack_client_http_timeout }}#{{ end }}openstack_client_http_timeout = {{ .default.rally.openstack_client_http_timeout | default ""180.0"" }} # Size of raw result chunk in iterations (integer value) # Minimum value: 1 # from .default.rally.raw_result_chunk_size {{ if not .default.rally.raw_result_chunk_size }}#{{ end }}raw_result_chunk_size = {{ .default.rally.raw_result_chunk_size | default ""1000"" }} [benchmark] # # From rally # # Time to sleep after creating a resource before polling for it status # (floating point value) # from .benchmark.rally.cinder_volume_create_prepoll_delay {{ if not .benchmark.rally.cinder_volume_create_prepoll_delay }}#{{ end }}cinder_volume_create_prepoll_delay = {{ .benchmark.rally.cinder_volume_create_prepoll_delay | default ""2.0"" }} # Time to wait for cinder volume to be created. (floating point value) # from .benchmark.rally.cinder_volume_create_timeout {{ if not .benchmark.rally.cinder_volume_create_timeout }}#{{ end }}cinder_volume_create_timeout = {{ .benchmark.rally.cinder_volume_create_timeout | default ""600.0"" }} # Interval between checks when waiting for volume creation. (floating # point value) # from .benchmark.rally.cinder_volume_create_poll_interval {{ if not .benchmark.rally.cinder_volume_create_poll_interval }}#{{ end }}cinder_volume_create_poll_interval = {{ .benchmark.rally.cinder_volume_create_poll_interval | default ""2.0"" }} # Time to wait for cinder volume to be deleted. (floating point value) # from .benchmark.rally.cinder_volume_delete_timeout {{ if not .benchmark.rally.cinder_volume_delete_timeout }}#{{ end }}cinder_volume_delete_timeout = {{ .benchmark.rally.cinder_volume_delete_timeout | default ""600.0"" }} # Interval between checks when waiting for volume deletion. (floating # point value) # from .benchmark.rally.cinder_volume_delete_poll_interval {{ if not .benchmark.rally.cinder_volume_delete_poll_interval }}#{{ end }}cinder_volume_delete_poll_interval = {{ .benchmark.rally.cinder_volume_delete_poll_interval | default ""2.0"" }} # Time to wait for cinder backup to be restored. (floating point # value) # from .benchmark.rally.cinder_backup_restore_timeout {{ if not .benchmark.rally.cinder_backup_restore_timeout }}#{{ end }}cinder_backup_restore_timeout = {{ .benchmark.rally.cinder_backup_restore_timeout | default ""600.0"" }} # Interval between checks when waiting for backup restoring. (floating # point value) # from .benchmark.rally.cinder_backup_restore_poll_interval {{ if not .benchmark.rally.cinder_backup_restore_poll_interval }}#{{ end }}cinder_backup_restore_poll_interval = {{ .benchmark.rally.cinder_backup_restore_poll_interval | default ""2.0"" }} # Time to sleep after boot before polling for status (floating point # value) # from .benchmark.rally.ec2_server_boot_prepoll_delay {{ if not .benchmark.rally.ec2_server_boot_prepoll_delay }}#{{ end }}ec2_server_boot_prepoll_delay = {{ .benchmark.rally.ec2_server_boot_prepoll_delay | default ""1.0"" }} # Server boot timeout (floating point value) # from .benchmark.rally.ec2_server_boot_timeout {{ if not .benchmark.rally.ec2_server_boot_timeout }}#{{ end }}ec2_server_boot_timeout = {{ .benchmark.rally.ec2_server_boot_timeout | default ""300.0"" }} # Server boot poll interval (floating point value) # from .benchmark.rally.ec2_server_boot_poll_interval {{ if not .benchmark.rally.ec2_server_boot_poll_interval }}#{{ end }}ec2_server_boot_poll_interval = {{ .benchmark.rally.ec2_server_boot_poll_interval | default ""1.0"" }} # Time to sleep after creating a resource before polling for it status # (floating point value) # from .benchmark.rally.glance_image_create_prepoll_delay {{ if not .benchmark.rally.glance_image_create_prepoll_delay }}#{{ end }}glance_image_create_prepoll_delay = {{ .benchmark.rally.glance_image_create_prepoll_delay | default ""2.0"" }} # Time to wait for glance image to be created. (floating point value) # from .benchmark.rally.glance_image_create_timeout {{ if not .benchmark.rally.glance_image_create_timeout }}#{{ end }}glance_image_create_timeout = {{ .benchmark.rally.glance_image_create_timeout | default ""120.0"" }} # Interval between checks when waiting for image creation. (floating # point value) # from .benchmark.rally.glance_image_create_poll_interval {{ if not .benchmark.rally.glance_image_create_poll_interval }}#{{ end }}glance_image_create_poll_interval = {{ .benchmark.rally.glance_image_create_poll_interval | default ""1.0"" }} # Time(in sec) to sleep after creating a resource before polling for # it status. (floating point value) # from .benchmark.rally.heat_stack_create_prepoll_delay {{ if not .benchmark.rally.heat_stack_create_prepoll_delay }}#{{ end }}heat_stack_create_prepoll_delay = {{ .benchmark.rally.heat_stack_create_prepoll_delay | default ""2.0"" }} # Time(in sec) to wait for heat stack to be created. (floating point # value) # from .benchmark.rally.heat_stack_create_timeout {{ if not .benchmark.rally.heat_stack_create_timeout }}#{{ end }}heat_stack_create_timeout = {{ .benchmark.rally.heat_stack_create_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack # creation. (floating point value) # from .benchmark.rally.heat_stack_create_poll_interval {{ if not .benchmark.rally.heat_stack_create_poll_interval }}#{{ end }}heat_stack_create_poll_interval = {{ .benchmark.rally.heat_stack_create_poll_interval | default ""1.0"" }} # Time(in sec) to wait for heat stack to be deleted. (floating point # value) # from .benchmark.rally.heat_stack_delete_timeout {{ if not .benchmark.rally.heat_stack_delete_timeout }}#{{ end }}heat_stack_delete_timeout = {{ .benchmark.rally.heat_stack_delete_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack # deletion. (floating point value) # from .benchmark.rally.heat_stack_delete_poll_interval {{ if not .benchmark.rally.heat_stack_delete_poll_interval }}#{{ end }}heat_stack_delete_poll_interval = {{ .benchmark.rally.heat_stack_delete_poll_interval | default ""1.0"" }} # Time(in sec) to wait for stack to be checked. (floating point value) # from .benchmark.rally.heat_stack_check_timeout {{ if not .benchmark.rally.heat_stack_check_timeout }}#{{ end }}heat_stack_check_timeout = {{ .benchmark.rally.heat_stack_check_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack # checking. (floating point value) # from .benchmark.rally.heat_stack_check_poll_interval {{ if not .benchmark.rally.heat_stack_check_poll_interval }}#{{ end }}heat_stack_check_poll_interval = {{ .benchmark.rally.heat_stack_check_poll_interval | default ""1.0"" }} # Time(in sec) to sleep after updating a resource before polling for # it status. (floating point value) # from .benchmark.rally.heat_stack_update_prepoll_delay {{ if not .benchmark.rally.heat_stack_update_prepoll_delay }}#{{ end }}heat_stack_update_prepoll_delay = {{ .benchmark.rally.heat_stack_update_prepoll_delay | default ""2.0"" }} # Time(in sec) to wait for stack to be updated. (floating point value) # from .benchmark.rally.heat_stack_update_timeout {{ if not .benchmark.rally.heat_stack_update_timeout }}#{{ end }}heat_stack_update_timeout = {{ .benchmark.rally.heat_stack_update_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack update. # (floating point value) # from .benchmark.rally.heat_stack_update_poll_interval {{ if not .benchmark.rally.heat_stack_update_poll_interval }}#{{ end }}heat_stack_update_poll_interval = {{ .benchmark.rally.heat_stack_update_poll_interval | default ""1.0"" }} # Time(in sec) to wait for stack to be suspended. (floating point # value) # from .benchmark.rally.heat_stack_suspend_timeout {{ if not .benchmark.rally.heat_stack_suspend_timeout }}#{{ end }}heat_stack_suspend_timeout = {{ .benchmark.rally.heat_stack_suspend_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack suspend. # (floating point value) # from .benchmark.rally.heat_stack_suspend_poll_interval {{ if not .benchmark.rally.heat_stack_suspend_poll_interval }}#{{ end }}heat_stack_suspend_poll_interval = {{ .benchmark.rally.heat_stack_suspend_poll_interval | default ""1.0"" }} # Time(in sec) to wait for stack to be resumed. (floating point value) # from .benchmark.rally.heat_stack_resume_timeout {{ if not .benchmark.rally.heat_stack_resume_timeout }}#{{ end }}heat_stack_resume_timeout = {{ .benchmark.rally.heat_stack_resume_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack resume. # (floating point value) # from .benchmark.rally.heat_stack_resume_poll_interval {{ if not .benchmark.rally.heat_stack_resume_poll_interval }}#{{ end }}heat_stack_resume_poll_interval = {{ .benchmark.rally.heat_stack_resume_poll_interval | default ""1.0"" }} # Time(in sec) to wait for stack snapshot to be created. (floating # point value) # from .benchmark.rally.heat_stack_snapshot_timeout {{ if not .benchmark.rally.heat_stack_snapshot_timeout }}#{{ end }}heat_stack_snapshot_timeout = {{ .benchmark.rally.heat_stack_snapshot_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack snapshot # to be created. (floating point value) # from .benchmark.rally.heat_stack_snapshot_poll_interval {{ if not .benchmark.rally.heat_stack_snapshot_poll_interval }}#{{ end }}heat_stack_snapshot_poll_interval = {{ .benchmark.rally.heat_stack_snapshot_poll_interval | default ""1.0"" }} # Time(in sec) to wait for stack to be restored from snapshot. # (floating point value) # from .benchmark.rally.heat_stack_restore_timeout {{ if not .benchmark.rally.heat_stack_restore_timeout }}#{{ end }}heat_stack_restore_timeout = {{ .benchmark.rally.heat_stack_restore_timeout | default ""3600.0"" }} # Time interval(in sec) between checks when waiting for stack to be # restored. (floating point value) # from .benchmark.rally.heat_stack_restore_poll_interval {{ if not .benchmark.rally.heat_stack_restore_poll_interval }}#{{ end }}heat_stack_restore_poll_interval = {{ .benchmark.rally.heat_stack_restore_poll_interval | default ""1.0"" }} # Time (in sec) to wait for stack to scale up or down. (floating point # value) # from .benchmark.rally.heat_stack_scale_timeout {{ if not .benchmark.rally.heat_stack_scale_timeout }}#{{ end }}heat_stack_scale_timeout = {{ .benchmark.rally.heat_stack_scale_timeout | default ""3600.0"" }} # Time interval (in sec) between checks when waiting for a stack to # scale up or down. (floating point value) # from .benchmark.rally.heat_stack_scale_poll_interval {{ if not .benchmark.rally.heat_stack_scale_poll_interval }}#{{ end }}heat_stack_scale_poll_interval = {{ .benchmark.rally.heat_stack_scale_poll_interval | default ""1.0"" }} # Interval(in sec) between checks when waiting for node creation. # (floating point value) # from .benchmark.rally.ironic_node_create_poll_interval {{ if not .benchmark.rally.ironic_node_create_poll_interval }}#{{ end }}ironic_node_create_poll_interval = {{ .benchmark.rally.ironic_node_create_poll_interval | default ""1.0"" }} # Ironic node create timeout (floating point value) # from .benchmark.rally.ironic_node_create_timeout {{ if not .benchmark.rally.ironic_node_create_timeout }}#{{ end }}ironic_node_create_timeout = {{ .benchmark.rally.ironic_node_create_timeout | default ""300"" }} # Ironic node poll interval (floating point value) # from .benchmark.rally.ironic_node_poll_interval {{ if not .benchmark.rally.ironic_node_poll_interval }}#{{ end }}ironic_node_poll_interval = {{ .benchmark.rally.ironic_node_poll_interval | default ""1.0"" }} # Ironic node create timeout (floating point value) # from .benchmark.rally.ironic_node_delete_timeout {{ if not .benchmark.rally.ironic_node_delete_timeout }}#{{ end }}ironic_node_delete_timeout = {{ .benchmark.rally.ironic_node_delete_timeout | default ""300"" }} # Time(in sec) to sleep after creating a resource before polling for # the status. (floating point value) # from .benchmark.rally.magnum_cluster_create_prepoll_delay {{ if not .benchmark.rally.magnum_cluster_create_prepoll_delay }}#{{ end }}magnum_cluster_create_prepoll_delay = {{ .benchmark.rally.magnum_cluster_create_prepoll_delay | default ""5.0"" }} # Time(in sec) to wait for magnum cluster to be created. (floating # point value) # from .benchmark.rally.magnum_cluster_create_timeout {{ if not .benchmark.rally.magnum_cluster_create_timeout }}#{{ end }}magnum_cluster_create_timeout = {{ .benchmark.rally.magnum_cluster_create_timeout | default ""1200.0"" }} # Time interval(in sec) between checks when waiting for cluster # creation. (floating point value) # from .benchmark.rally.magnum_cluster_create_poll_interval {{ if not .benchmark.rally.magnum_cluster_create_poll_interval }}#{{ end }}magnum_cluster_create_poll_interval = {{ .benchmark.rally.magnum_cluster_create_poll_interval | default ""1.0"" }} # Delay between creating Manila share and polling for its status. # (floating point value) # from .benchmark.rally.manila_share_create_prepoll_delay {{ if not .benchmark.rally.manila_share_create_prepoll_delay }}#{{ end }}manila_share_create_prepoll_delay = {{ .benchmark.rally.manila_share_create_prepoll_delay | default ""2.0"" }} # Timeout for Manila share creation. (floating point value) # from .benchmark.rally.manila_share_create_timeout {{ if not .benchmark.rally.manila_share_create_timeout }}#{{ end }}manila_share_create_timeout = {{ .benchmark.rally.manila_share_create_timeout | default ""300.0"" }} # Interval between checks when waiting for Manila share creation. # (floating point value) # from .benchmark.rally.manila_share_create_poll_interval {{ if not .benchmark.rally.manila_share_create_poll_interval }}#{{ end }}manila_share_create_poll_interval = {{ .benchmark.rally.manila_share_create_poll_interval | default ""3.0"" }} # Timeout for Manila share deletion. (floating point value) # from .benchmark.rally.manila_share_delete_timeout {{ if not .benchmark.rally.manila_share_delete_timeout }}#{{ end }}manila_share_delete_timeout = {{ .benchmark.rally.manila_share_delete_timeout | default ""180.0"" }} # Interval between checks when waiting for Manila share deletion. # (floating point value) # from .benchmark.rally.manila_share_delete_poll_interval {{ if not .benchmark.rally.manila_share_delete_poll_interval }}#{{ end }}manila_share_delete_poll_interval = {{ .benchmark.rally.manila_share_delete_poll_interval | default ""2.0"" }} # mistral execution timeout (integer value) # from .benchmark.rally.mistral_execution_timeout {{ if not .benchmark.rally.mistral_execution_timeout }}#{{ end }}mistral_execution_timeout = {{ .benchmark.rally.mistral_execution_timeout | default ""200"" }} # Delay between creating Monasca metrics and polling for its elements. # (floating point value) # from .benchmark.rally.monasca_metric_create_prepoll_delay {{ if not .benchmark.rally.monasca_metric_create_prepoll_delay }}#{{ end }}monasca_metric_create_prepoll_delay = {{ .benchmark.rally.monasca_metric_create_prepoll_delay | default ""15.0"" }} # A timeout in seconds for an environment deploy (integer value) # Deprecated group/name - [benchmark]/deploy_environment_timeout # from .benchmark.rally.murano_deploy_environment_timeout {{ if not .benchmark.rally.murano_deploy_environment_timeout }}#{{ end }}murano_deploy_environment_timeout = {{ .benchmark.rally.murano_deploy_environment_timeout | default ""1200"" }} # Deploy environment check interval in seconds (integer value) # Deprecated group/name - [benchmark]/deploy_environment_check_interval # from .benchmark.rally.murano_deploy_environment_check_interval {{ if not .benchmark.rally.murano_deploy_environment_check_interval }}#{{ end }}murano_deploy_environment_check_interval = {{ .benchmark.rally.murano_deploy_environment_check_interval | default ""5"" }} # Time to sleep after start before polling for status (floating point # value) # from .benchmark.rally.nova_server_start_prepoll_delay {{ if not .benchmark.rally.nova_server_start_prepoll_delay }}#{{ end }}nova_server_start_prepoll_delay = {{ .benchmark.rally.nova_server_start_prepoll_delay | default ""0.0"" }} # Server start timeout (floating point value) # from .benchmark.rally.nova_server_start_timeout {{ if not .benchmark.rally.nova_server_start_timeout }}#{{ end }}nova_server_start_timeout = {{ .benchmark.rally.nova_server_start_timeout | default ""300.0"" }} # Server start poll interval (floating point value) # from .benchmark.rally.nova_server_start_poll_interval {{ if not .benchmark.rally.nova_server_start_poll_interval }}#{{ end }}nova_server_start_poll_interval = {{ .benchmark.rally.nova_server_start_poll_interval | default ""1.0"" }} # Time to sleep after stop before polling for status (floating point # value) # from .benchmark.rally.nova_server_stop_prepoll_delay {{ if not .benchmark.rally.nova_server_stop_prepoll_delay }}#{{ end }}nova_server_stop_prepoll_delay = {{ .benchmark.rally.nova_server_stop_prepoll_delay | default ""0.0"" }} # Server stop timeout (floating point value) # from .benchmark.rally.nova_server_stop_timeout {{ if not .benchmark.rally.nova_server_stop_timeout }}#{{ end }}nova_server_stop_timeout = {{ .benchmark.rally.nova_server_stop_timeout | default ""300.0"" }} # Server stop poll interval (floating point value) # from .benchmark.rally.nova_server_stop_poll_interval {{ if not .benchmark.rally.nova_server_stop_poll_interval }}#{{ end }}nova_server_stop_poll_interval = {{ .benchmark.rally.nova_server_stop_poll_interval | default ""2.0"" }} # Time to sleep after boot before polling for status (floating point # value) # from .benchmark.rally.nova_server_boot_prepoll_delay {{ if not .benchmark.rally.nova_server_boot_prepoll_delay }}#{{ end }}nova_server_boot_prepoll_delay = {{ .benchmark.rally.nova_server_boot_prepoll_delay | default ""1.0"" }} # Server boot timeout (floating point value) # from .benchmark.rally.nova_server_boot_timeout {{ if not .benchmark.rally.nova_server_boot_timeout }}#{{ end }}nova_server_boot_timeout = {{ .benchmark.rally.nova_server_boot_timeout | default ""300.0"" }} # Server boot poll interval (floating point value) # from .benchmark.rally.nova_server_boot_poll_interval {{ if not .benchmark.rally.nova_server_boot_poll_interval }}#{{ end }}nova_server_boot_poll_interval = {{ .benchmark.rally.nova_server_boot_poll_interval | default ""1.0"" }} # Time to sleep after delete before polling for status (floating point # value) # from .benchmark.rally.nova_server_delete_prepoll_delay {{ if not .benchmark.rally.nova_server_delete_prepoll_delay }}#{{ end }}nova_server_delete_prepoll_delay = {{ .benchmark.rally.nova_server_delete_prepoll_delay | default ""2.0"" }} # Server delete timeout (floating point value) # from .benchmark.rally.nova_server_delete_timeout {{ if not .benchmark.rally.nova_server_delete_timeout }}#{{ end }}nova_server_delete_timeout = {{ .benchmark.rally.nova_server_delete_timeout | default ""300.0"" }} # Server delete poll interval (floating point value) # from .benchmark.rally.nova_server_delete_poll_interval {{ if not .benchmark.rally.nova_server_delete_poll_interval }}#{{ end }}nova_server_delete_poll_interval = {{ .benchmark.rally.nova_server_delete_poll_interval | default ""2.0"" }} # Time to sleep after reboot before polling for status (floating point # value) # from .benchmark.rally.nova_server_reboot_prepoll_delay {{ if not .benchmark.rally.nova_server_reboot_prepoll_delay }}#{{ end }}nova_server_reboot_prepoll_delay = {{ .benchmark.rally.nova_server_reboot_prepoll_delay | default ""2.0"" }} # Server reboot timeout (floating point value) # from .benchmark.rally.nova_server_reboot_timeout {{ if not .benchmark.rally.nova_server_reboot_timeout }}#{{ end }}nova_server_reboot_timeout = {{ .benchmark.rally.nova_server_reboot_timeout | default ""300.0"" }} # Server reboot poll interval (floating point value) # from .benchmark.rally.nova_server_reboot_poll_interval {{ if not .benchmark.rally.nova_server_reboot_poll_interval }}#{{ end }}nova_server_reboot_poll_interval = {{ .benchmark.rally.nova_server_reboot_poll_interval | default ""2.0"" }} # Time to sleep after rebuild before polling for status (floating # point value) # from .benchmark.rally.nova_server_rebuild_prepoll_delay {{ if not .benchmark.rally.nova_server_rebuild_prepoll_delay }}#{{ end }}nova_server_rebuild_prepoll_delay = {{ .benchmark.rally.nova_server_rebuild_prepoll_delay | default ""1.0"" }} # Server rebuild timeout (floating point value) # from .benchmark.rally.nova_server_rebuild_timeout {{ if not .benchmark.rally.nova_server_rebuild_timeout }}#{{ end }}nova_server_rebuild_timeout = {{ .benchmark.rally.nova_server_rebuild_timeout | default ""300.0"" }} # Server rebuild poll interval (floating point value) # from .benchmark.rally.nova_server_rebuild_poll_interval {{ if not .benchmark.rally.nova_server_rebuild_poll_interval }}#{{ end }}nova_server_rebuild_poll_interval = {{ .benchmark.rally.nova_server_rebuild_poll_interval | default ""1.0"" }} # Time to sleep after rescue before polling for status (floating point # value) # from .benchmark.rally.nova_server_rescue_prepoll_delay {{ if not .benchmark.rally.nova_server_rescue_prepoll_delay }}#{{ end }}nova_server_rescue_prepoll_delay = {{ .benchmark.rally.nova_server_rescue_prepoll_delay | default ""2.0"" }} # Server rescue timeout (floating point value) # from .benchmark.rally.nova_server_rescue_timeout {{ if not .benchmark.rally.nova_server_rescue_timeout }}#{{ end }}nova_server_rescue_timeout = {{ .benchmark.rally.nova_server_rescue_timeout | default ""300.0"" }} # Server rescue poll interval (floating point value) # from .benchmark.rally.nova_server_rescue_poll_interval {{ if not .benchmark.rally.nova_server_rescue_poll_interval }}#{{ end }}nova_server_rescue_poll_interval = {{ .benchmark.rally.nova_server_rescue_poll_interval | default ""2.0"" }} # Time to sleep after unrescue before polling for status (floating # point value) # from .benchmark.rally.nova_server_unrescue_prepoll_delay {{ if not .benchmark.rally.nova_server_unrescue_prepoll_delay }}#{{ end }}nova_server_unrescue_prepoll_delay = {{ .benchmark.rally.nova_server_unrescue_prepoll_delay | default ""2.0"" }} # Server unrescue timeout (floating point value) # from .benchmark.rally.nova_server_unrescue_timeout {{ if not .benchmark.rally.nova_server_unrescue_timeout }}#{{ end }}nova_server_unrescue_timeout = {{ .benchmark.rally.nova_server_unrescue_timeout | default ""300.0"" }} # Server unrescue poll interval (floating point value) # from .benchmark.rally.nova_server_unrescue_poll_interval {{ if not .benchmark.rally.nova_server_unrescue_poll_interval }}#{{ end }}nova_server_unrescue_poll_interval = {{ .benchmark.rally.nova_server_unrescue_poll_interval | default ""2.0"" }} # Time to sleep after suspend before polling for status (floating # point value) # from .benchmark.rally.nova_server_suspend_prepoll_delay {{ if not .benchmark.rally.nova_server_suspend_prepoll_delay }}#{{ end }}nova_server_suspend_prepoll_delay = {{ .benchmark.rally.nova_server_suspend_prepoll_delay | default ""2.0"" }} # Server suspend timeout (floating point value) # from .benchmark.rally.nova_server_suspend_timeout {{ if not .benchmark.rally.nova_server_suspend_timeout }}#{{ end }}nova_server_suspend_timeout = {{ .benchmark.rally.nova_server_suspend_timeout | default ""300.0"" }} # Server suspend poll interval (floating point value) # from .benchmark.rally.nova_server_suspend_poll_interval {{ if not .benchmark.rally.nova_server_suspend_poll_interval }}#{{ end }}nova_server_suspend_poll_interval = {{ .benchmark.rally.nova_server_suspend_poll_interval | default ""2.0"" }} # Time to sleep after resume before polling for status (floating point # value) # from .benchmark.rally.nova_server_resume_prepoll_delay {{ if not .benchmark.rally.nova_server_resume_prepoll_delay }}#{{ end }}nova_server_resume_prepoll_delay = {{ .benchmark.rally.nova_server_resume_prepoll_delay | default ""2.0"" }} # Server resume timeout (floating point value) # from .benchmark.rally.nova_server_resume_timeout {{ if not .benchmark.rally.nova_server_resume_timeout }}#{{ end }}nova_server_resume_timeout = {{ .benchmark.rally.nova_server_resume_timeout | default ""300.0"" }} # Server resume poll interval (floating point value) # from .benchmark.rally.nova_server_resume_poll_interval {{ if not .benchmark.rally.nova_server_resume_poll_interval }}#{{ end }}nova_server_resume_poll_interval = {{ .benchmark.rally.nova_server_resume_poll_interval | default ""2.0"" }} # Time to sleep after pause before polling for status (floating point # value) # from .benchmark.rally.nova_server_pause_prepoll_delay {{ if not .benchmark.rally.nova_server_pause_prepoll_delay }}#{{ end }}nova_server_pause_prepoll_delay = {{ .benchmark.rally.nova_server_pause_prepoll_delay | default ""2.0"" }} # Server pause timeout (floating point value) # from .benchmark.rally.nova_server_pause_timeout {{ if not .benchmark.rally.nova_server_pause_timeout }}#{{ end }}nova_server_pause_timeout = {{ .benchmark.rally.nova_server_pause_timeout | default ""300.0"" }} # Server pause poll interval (floating point value) # from .benchmark.rally.nova_server_pause_poll_interval {{ if not .benchmark.rally.nova_server_pause_poll_interval }}#{{ end }}nova_server_pause_poll_interval = {{ .benchmark.rally.nova_server_pause_poll_interval | default ""2.0"" }} # Time to sleep after unpause before polling for status (floating # point value) # from .benchmark.rally.nova_server_unpause_prepoll_delay {{ if not .benchmark.rally.nova_server_unpause_prepoll_delay }}#{{ end }}nova_server_unpause_prepoll_delay = {{ .benchmark.rally.nova_server_unpause_prepoll_delay | default ""2.0"" }} # Server unpause timeout (floating point value) # from .benchmark.rally.nova_server_unpause_timeout {{ if not .benchmark.rally.nova_server_unpause_timeout }}#{{ end }}nova_server_unpause_timeout = {{ .benchmark.rally.nova_server_unpause_timeout | default ""300.0"" }} # Server unpause poll interval (floating point value) # from .benchmark.rally.nova_server_unpause_poll_interval {{ if not .benchmark.rally.nova_server_unpause_poll_interval }}#{{ end }}nova_server_unpause_poll_interval = {{ .benchmark.rally.nova_server_unpause_poll_interval | default ""2.0"" }} # Time to sleep after shelve before polling for status (floating point # value) # from .benchmark.rally.nova_server_shelve_prepoll_delay {{ if not .benchmark.rally.nova_server_shelve_prepoll_delay }}#{{ end }}nova_server_shelve_prepoll_delay = {{ .benchmark.rally.nova_server_shelve_prepoll_delay | default ""2.0"" }} # Server shelve timeout (floating point value) # from .benchmark.rally.nova_server_shelve_timeout {{ if not .benchmark.rally.nova_server_shelve_timeout }}#{{ end }}nova_server_shelve_timeout = {{ .benchmark.rally.nova_server_shelve_timeout | default ""300.0"" }} # Server shelve poll interval (floating point value) # from .benchmark.rally.nova_server_shelve_poll_interval {{ if not .benchmark.rally.nova_server_shelve_poll_interval }}#{{ end }}nova_server_shelve_poll_interval = {{ .benchmark.rally.nova_server_shelve_poll_interval | default ""2.0"" }} # Time to sleep after unshelve before polling for status (floating # point value) # from .benchmark.rally.nova_server_unshelve_prepoll_delay {{ if not .benchmark.rally.nova_server_unshelve_prepoll_delay }}#{{ end }}nova_server_unshelve_prepoll_delay = {{ .benchmark.rally.nova_server_unshelve_prepoll_delay | default ""2.0"" }} # Server unshelve timeout (floating point value) # from .benchmark.rally.nova_server_unshelve_timeout {{ if not .benchmark.rally.nova_server_unshelve_timeout }}#{{ end }}nova_server_unshelve_timeout = {{ .benchmark.rally.nova_server_unshelve_timeout | default ""300.0"" }} # Server unshelve poll interval (floating point value) # from .benchmark.rally.nova_server_unshelve_poll_interval {{ if not .benchmark.rally.nova_server_unshelve_poll_interval }}#{{ end }}nova_server_unshelve_poll_interval = {{ .benchmark.rally.nova_server_unshelve_poll_interval | default ""2.0"" }} # Time to sleep after image_create before polling for status (floating # point value) # from .benchmark.rally.nova_server_image_create_prepoll_delay {{ if not .benchmark.rally.nova_server_image_create_prepoll_delay }}#{{ end }}nova_server_image_create_prepoll_delay = {{ .benchmark.rally.nova_server_image_create_prepoll_delay | default ""0.0"" }} # Server image_create timeout (floating point value) # from .benchmark.rally.nova_server_image_create_timeout {{ if not .benchmark.rally.nova_server_image_create_timeout }}#{{ end }}nova_server_image_create_timeout = {{ .benchmark.rally.nova_server_image_create_timeout | default ""300.0"" }} # Server image_create poll interval (floating point value) # from .benchmark.rally.nova_server_image_create_poll_interval {{ if not .benchmark.rally.nova_server_image_create_poll_interval }}#{{ end }}nova_server_image_create_poll_interval = {{ .benchmark.rally.nova_server_image_create_poll_interval | default ""2.0"" }} # Time to sleep after image_delete before polling for status (floating # point value) # from .benchmark.rally.nova_server_image_delete_prepoll_delay {{ if not .benchmark.rally.nova_server_image_delete_prepoll_delay }}#{{ end }}nova_server_image_delete_prepoll_delay = {{ .benchmark.rally.nova_server_image_delete_prepoll_delay | default ""0.0"" }} # Server image_delete timeout (floating point value) # from .benchmark.rally.nova_server_image_delete_timeout {{ if not .benchmark.rally.nova_server_image_delete_timeout }}#{{ end }}nova_server_image_delete_timeout = {{ .benchmark.rally.nova_server_image_delete_timeout | default ""300.0"" }} # Server image_delete poll interval (floating point value) # from .benchmark.rally.nova_server_image_delete_poll_interval {{ if not .benchmark.rally.nova_server_image_delete_poll_interval }}#{{ end }}nova_server_image_delete_poll_interval = {{ .benchmark.rally.nova_server_image_delete_poll_interval | default ""2.0"" }} # Time to sleep after resize before polling for status (floating point # value) # from .benchmark.rally.nova_server_resize_prepoll_delay {{ if not .benchmark.rally.nova_server_resize_prepoll_delay }}#{{ end }}nova_server_resize_prepoll_delay = {{ .benchmark.rally.nova_server_resize_prepoll_delay | default ""2.0"" }} # Server resize timeout (floating point value) # from .benchmark.rally.nova_server_resize_timeout {{ if not .benchmark.rally.nova_server_resize_timeout }}#{{ end }}nova_server_resize_timeout = {{ .benchmark.rally.nova_server_resize_timeout | default ""400.0"" }} # Server resize poll interval (floating point value) # from .benchmark.rally.nova_server_resize_poll_interval {{ if not .benchmark.rally.nova_server_resize_poll_interval }}#{{ end }}nova_server_resize_poll_interval = {{ .benchmark.rally.nova_server_resize_poll_interval | default ""5.0"" }} # Time to sleep after resize_confirm before polling for status # (floating point value) # from .benchmark.rally.nova_server_resize_confirm_prepoll_delay {{ if not .benchmark.rally.nova_server_resize_confirm_prepoll_delay }}#{{ end }}nova_server_resize_confirm_prepoll_delay = {{ .benchmark.rally.nova_server_resize_confirm_prepoll_delay | default ""0.0"" }} # Server resize_confirm timeout (floating point value) # from .benchmark.rally.nova_server_resize_confirm_timeout {{ if not .benchmark.rally.nova_server_resize_confirm_timeout }}#{{ end }}nova_server_resize_confirm_timeout = {{ .benchmark.rally.nova_server_resize_confirm_timeout | default ""200.0"" }} # Server resize_confirm poll interval (floating point value) # from .benchmark.rally.nova_server_resize_confirm_poll_interval {{ if not .benchmark.rally.nova_server_resize_confirm_poll_interval }}#{{ end }}nova_server_resize_confirm_poll_interval = {{ .benchmark.rally.nova_server_resize_confirm_poll_interval | default ""2.0"" }} # Time to sleep after resize_revert before polling for status # (floating point value) # from .benchmark.rally.nova_server_resize_revert_prepoll_delay {{ if not .benchmark.rally.nova_server_resize_revert_prepoll_delay }}#{{ end }}nova_server_resize_revert_prepoll_delay = {{ .benchmark.rally.nova_server_resize_revert_prepoll_delay | default ""0.0"" }} # Server resize_revert timeout (floating point value) # from .benchmark.rally.nova_server_resize_revert_timeout {{ if not .benchmark.rally.nova_server_resize_revert_timeout }}#{{ end }}nova_server_resize_revert_timeout = {{ .benchmark.rally.nova_server_resize_revert_timeout | default ""200.0"" }} # Server resize_revert poll interval (floating point value) # from .benchmark.rally.nova_server_resize_revert_poll_interval {{ if not .benchmark.rally.nova_server_resize_revert_poll_interval }}#{{ end }}nova_server_resize_revert_poll_interval = {{ .benchmark.rally.nova_server_resize_revert_poll_interval | default ""2.0"" }} # Time to sleep after live_migrate before polling for status (floating # point value) # from .benchmark.rally.nova_server_live_migrate_prepoll_delay {{ if not .benchmark.rally.nova_server_live_migrate_prepoll_delay }}#{{ end }}nova_server_live_migrate_prepoll_delay = {{ .benchmark.rally.nova_server_live_migrate_prepoll_delay | default ""1.0"" }} # Server live_migrate timeout (floating point value) # from .benchmark.rally.nova_server_live_migrate_timeout {{ if not .benchmark.rally.nova_server_live_migrate_timeout }}#{{ end }}nova_server_live_migrate_timeout = {{ .benchmark.rally.nova_server_live_migrate_timeout | default ""400.0"" }} # Server live_migrate poll interval (floating point value) # from .benchmark.rally.nova_server_live_migrate_poll_interval {{ if not .benchmark.rally.nova_server_live_migrate_poll_interval }}#{{ end }}nova_server_live_migrate_poll_interval = {{ .benchmark.rally.nova_server_live_migrate_poll_interval | default ""2.0"" }} # Time to sleep after migrate before polling for status (floating # point value) # from .benchmark.rally.nova_server_migrate_prepoll_delay {{ if not .benchmark.rally.nova_server_migrate_prepoll_delay }}#{{ end }}nova_server_migrate_prepoll_delay = {{ .benchmark.rally.nova_server_migrate_prepoll_delay | default ""1.0"" }} # Server migrate timeout (floating point value) # from .benchmark.rally.nova_server_migrate_timeout {{ if not .benchmark.rally.nova_server_migrate_timeout }}#{{ end }}nova_server_migrate_timeout = {{ .benchmark.rally.nova_server_migrate_timeout | default ""400.0"" }} # Server migrate poll interval (floating point value) # from .benchmark.rally.nova_server_migrate_poll_interval {{ if not .benchmark.rally.nova_server_migrate_poll_interval }}#{{ end }}nova_server_migrate_poll_interval = {{ .benchmark.rally.nova_server_migrate_poll_interval | default ""2.0"" }} # Nova volume detach timeout (floating point value) # from .benchmark.rally.nova_detach_volume_timeout {{ if not .benchmark.rally.nova_detach_volume_timeout }}#{{ end }}nova_detach_volume_timeout = {{ .benchmark.rally.nova_detach_volume_timeout | default ""200.0"" }} # Nova volume detach poll interval (floating point value) # from .benchmark.rally.nova_detach_volume_poll_interval {{ if not .benchmark.rally.nova_detach_volume_poll_interval }}#{{ end }}nova_detach_volume_poll_interval = {{ .benchmark.rally.nova_detach_volume_poll_interval | default ""2.0"" }} # A timeout in seconds for a cluster create operation (integer value) # Deprecated group/name - [benchmark]/cluster_create_timeout # from .benchmark.rally.sahara_cluster_create_timeout {{ if not .benchmark.rally.sahara_cluster_create_timeout }}#{{ end }}sahara_cluster_create_timeout = {{ .benchmark.rally.sahara_cluster_create_timeout | default ""1800"" }} # A timeout in seconds for a cluster delete operation (integer value) # Deprecated group/name - [benchmark]/cluster_delete_timeout # from .benchmark.rally.sahara_cluster_delete_timeout {{ if not .benchmark.rally.sahara_cluster_delete_timeout }}#{{ end }}sahara_cluster_delete_timeout = {{ .benchmark.rally.sahara_cluster_delete_timeout | default ""900"" }} # Cluster status polling interval in seconds (integer value) # Deprecated group/name - [benchmark]/cluster_check_interval # from .benchmark.rally.sahara_cluster_check_interval {{ if not .benchmark.rally.sahara_cluster_check_interval }}#{{ end }}sahara_cluster_check_interval = {{ .benchmark.rally.sahara_cluster_check_interval | default ""5"" }} # A timeout in seconds for a Job Execution to complete (integer value) # Deprecated group/name - [benchmark]/job_execution_timeout # from .benchmark.rally.sahara_job_execution_timeout {{ if not .benchmark.rally.sahara_job_execution_timeout }}#{{ end }}sahara_job_execution_timeout = {{ .benchmark.rally.sahara_job_execution_timeout | default ""600"" }} # Job Execution status polling interval in seconds (integer value) # Deprecated group/name - [benchmark]/job_check_interval # from .benchmark.rally.sahara_job_check_interval {{ if not .benchmark.rally.sahara_job_check_interval }}#{{ end }}sahara_job_check_interval = {{ .benchmark.rally.sahara_job_check_interval | default ""5"" }} # Amount of workers one proxy should serve to. (integer value) # from .benchmark.rally.sahara_workers_per_proxy {{ if not .benchmark.rally.sahara_workers_per_proxy }}#{{ end }}sahara_workers_per_proxy = {{ .benchmark.rally.sahara_workers_per_proxy | default ""20"" }} # Interval between checks when waiting for a VM to become pingable # (floating point value) # from .benchmark.rally.vm_ping_poll_interval {{ if not .benchmark.rally.vm_ping_poll_interval }}#{{ end }}vm_ping_poll_interval = {{ .benchmark.rally.vm_ping_poll_interval | default ""1.0"" }} # Time to wait for a VM to become pingable (floating point value) # from .benchmark.rally.vm_ping_timeout {{ if not .benchmark.rally.vm_ping_timeout }}#{{ end }}vm_ping_timeout = {{ .benchmark.rally.vm_ping_timeout | default ""120.0"" }} # Watcher audit launch interval (floating point value) # from .benchmark.rally.watcher_audit_launch_poll_interval {{ if not .benchmark.rally.watcher_audit_launch_poll_interval }}#{{ end }}watcher_audit_launch_poll_interval = {{ .benchmark.rally.watcher_audit_launch_poll_interval | default ""2.0"" }} # Watcher audit launch timeout (integer value) # from .benchmark.rally.watcher_audit_launch_timeout {{ if not .benchmark.rally.watcher_audit_launch_timeout }}#{{ end }}watcher_audit_launch_timeout = {{ .benchmark.rally.watcher_audit_launch_timeout | default ""300"" }} [cleanup] # # From rally # # A timeout in seconds for deleting resources (integer value) # from .cleanup.rally.resource_deletion_timeout {{ if not .cleanup.rally.resource_deletion_timeout }}#{{ end }}resource_deletion_timeout = {{ .cleanup.rally.resource_deletion_timeout | default ""600"" }} # Number of cleanup threads to run (integer value) # from .cleanup.rally.cleanup_threads {{ if not .cleanup.rally.cleanup_threads }}#{{ end }}cleanup_threads = {{ .cleanup.rally.cleanup_threads | default ""20"" }} [database] # # From oslo.db # # If True, SQLite uses synchronous mode. (boolean value) # Deprecated group/name - [DEFAULT]/sqlite_synchronous # from .database.oslo.db.sqlite_synchronous {{ if not .database.oslo.db.sqlite_synchronous }}#{{ end }}sqlite_synchronous = {{ .database.oslo.db.sqlite_synchronous | default ""true"" }} # The back end to use for the database. (string value) # Deprecated group/name - [DEFAULT]/db_backend # from .database.oslo.db.backend {{ if not .database.oslo.db.backend }}#{{ end }}backend = {{ .database.oslo.db.backend | default ""sqlalchemy"" }} # The SQLAlchemy connection string to use to connect to the database. # (string value) # Deprecated group/name - [DEFAULT]/sql_connection # Deprecated group/name - [DATABASE]/sql_connection # Deprecated group/name - [sql]/connection # from .database.oslo.db.connection {{ if not .database.oslo.db.connection }}#{{ end }}connection = {{ .database.oslo.db.connection | default ""<None>"" }} # The SQLAlchemy connection string to use to connect to the slave # database. (string value) # from .database.oslo.db.slave_connection {{ if not .database.oslo.db.slave_connection }}#{{ end }}slave_connection = {{ .database.oslo.db.slave_connection | default ""<None>"" }} # The SQL mode to be used for MySQL sessions. This option, including # the default, overrides any server-set SQL mode. To use whatever SQL # mode is set by the server configuration, set this to no value. # Example: mysql_sql_mode= (string value) # from .database.oslo.db.mysql_sql_mode {{ if not .database.oslo.db.mysql_sql_mode }}#{{ end }}mysql_sql_mode = {{ .database.oslo.db.mysql_sql_mode | default ""TRADITIONAL"" }} # If True, transparently enables support for handling MySQL Cluster # (NDB). (boolean value) # from .database.oslo.db.mysql_enable_ndb {{ if not .database.oslo.db.mysql_enable_ndb }}#{{ end }}mysql_enable_ndb = {{ .database.oslo.db.mysql_enable_ndb | default ""false"" }} # Timeout before idle SQL connections are reaped. (integer value) # Deprecated group/name - [DEFAULT]/sql_idle_timeout # Deprecated group/name - [DATABASE]/sql_idle_timeout # Deprecated group/name - [sql]/idle_timeout # from .database.oslo.db.idle_timeout {{ if not .database.oslo.db.idle_timeout }}#{{ end }}idle_timeout = {{ .database.oslo.db.idle_timeout | default ""3600"" }} # Minimum number of SQL connections to keep open in a pool. (integer # value) # Deprecated group/name - [DEFAULT]/sql_min_pool_size # Deprecated group/name - [DATABASE]/sql_min_pool_size # from .database.oslo.db.min_pool_size {{ if not .database.oslo.db.min_pool_size }}#{{ end }}min_pool_size = {{ .database.oslo.db.min_pool_size | default ""1"" }} # Maximum number of SQL connections to keep open in a pool. Setting a # value of 0 indicates no limit. (integer value) # Deprecated group/name - [DEFAULT]/sql_max_pool_size # Deprecated group/name - [DATABASE]/sql_max_pool_size # from .database.oslo.db.max_pool_size {{ if not .database.oslo.db.max_pool_size }}#{{ end }}max_pool_size = {{ .database.oslo.db.max_pool_size | default ""5"" }} # Maximum number of database connection retries during startup. Set to # -1 to specify an infinite retry count. (integer value) # Deprecated group/name - [DEFAULT]/sql_max_retries # Deprecated group/name - [DATABASE]/sql_max_retries # from .database.oslo.db.max_retries {{ if not .database.oslo.db.max_retries }}#{{ end }}max_retries = {{ .database.oslo.db.max_retries | default ""10"" }} # Interval between retries of opening a SQL connection. (integer # value) # Deprecated group/name - [DEFAULT]/sql_retry_interval # Deprecated group/name - [DATABASE]/reconnect_interval # from .database.oslo.db.retry_interval {{ if not .database.oslo.db.retry_interval }}#{{ end }}retry_interval = {{ .database.oslo.db.retry_interval | default ""10"" }} # If set, use this value for max_overflow with SQLAlchemy. (integer # value) # Deprecated group/name - [DEFAULT]/sql_max_overflow # Deprecated group/name - [DATABASE]/sqlalchemy_max_overflow # from .database.oslo.db.max_overflow {{ if not .database.oslo.db.max_overflow }}#{{ end }}max_overflow = {{ .database.oslo.db.max_overflow | default ""50"" }} # Verbosity of SQL debugging information: 0=None, 100=Everything. # (integer value) # Minimum value: 0 # Maximum value: 100 # Deprecated group/name - [DEFAULT]/sql_connection_debug # from .database.oslo.db.connection_debug {{ if not .database.oslo.db.connection_debug }}#{{ end }}connection_debug = {{ .database.oslo.db.connection_debug | default ""0"" }} # Add Python stack traces to SQL as comment strings. (boolean value) # Deprecated group/name - [DEFAULT]/sql_connection_trace # from .database.oslo.db.connection_trace {{ if not .database.oslo.db.connection_trace }}#{{ end }}connection_trace = {{ .database.oslo.db.connection_trace | default ""false"" }} # If set, use this value for pool_timeout with SQLAlchemy. (integer # value) # Deprecated group/name - [DATABASE]/sqlalchemy_pool_timeout # from .database.oslo.db.pool_timeout {{ if not .database.oslo.db.pool_timeout }}#{{ end }}pool_timeout = {{ .database.oslo.db.pool_timeout | default ""<None>"" }} # Enable the experimental use of database reconnect on connection # lost. (boolean value) # from .database.oslo.db.use_db_reconnect {{ if not .database.oslo.db.use_db_reconnect }}#{{ end }}use_db_reconnect = {{ .database.oslo.db.use_db_reconnect | default ""false"" }} # Seconds between retries of a database transaction. (integer value) # from .database.oslo.db.db_retry_interval {{ if not .database.oslo.db.db_retry_interval }}#{{ end }}db_retry_interval = {{ .database.oslo.db.db_retry_interval | default ""1"" }} # If True, increases the interval between retries of a database # operation up to db_max_retry_interval. (boolean value) # from .database.oslo.db.db_inc_retry_interval {{ if not .database.oslo.db.db_inc_retry_interval }}#{{ end }}db_inc_retry_interval = {{ .database.oslo.db.db_inc_retry_interval | default ""true"" }} # If db_inc_retry_interval is set, the maximum seconds between retries # of a database operation. (integer value) # from .database.oslo.db.db_max_retry_interval {{ if not .database.oslo.db.db_max_retry_interval }}#{{ end }}db_max_retry_interval = {{ .database.oslo.db.db_max_retry_interval | default ""10"" }} # Maximum retries in case of connection error or deadlock error before # error is raised. Set to -1 to specify an infinite retry count. # (integer value) # from .database.oslo.db.db_max_retries {{ if not .database.oslo.db.db_max_retries }}#{{ end }}db_max_retries = {{ .database.oslo.db.db_max_retries | default ""20"" }} [roles_context] # # From rally # # How many concurrent threads to use for serving roles context # (integer value) # from .roles_context.rally.resource_management_workers {{ if not .roles_context.rally.resource_management_workers }}#{{ end }}resource_management_workers = {{ .roles_context.rally.resource_management_workers | default ""30"" }} [tempest] # # From rally # # image URL (string value) # from .tempest.rally.img_url {{ if not .tempest.rally.img_url }}#{{ end }}img_url = {{ .tempest.rally.img_url | default ""http://download.cirros-cloud.net/0.3.5/cirros-0.3.5-x86_64-disk.img"" }} # Image disk format to use when creating the image (string value) # from .tempest.rally.img_disk_format {{ if not .tempest.rally.img_disk_format }}#{{ end }}img_disk_format = {{ .tempest.rally.img_disk_format | default ""qcow2"" }} # Image container format to use when creating the image (string value) # from .tempest.rally.img_container_format {{ if not .tempest.rally.img_container_format }}#{{ end }}img_container_format = {{ .tempest.rally.img_container_format | default ""bare"" }} # Regular expression for name of a public image to discover it in the # cloud and use it for the tests. Note that when Rally is searching # for the image, case insensitive matching is performed. Specify # nothing ('img_name_regex =') if you want to disable discovering. In # this case Rally will create needed resources by itself if the values # for the corresponding config options are not specified in the # Tempest config file (string value) # from .tempest.rally.img_name_regex {{ if not .tempest.rally.img_name_regex }}#{{ end }}img_name_regex = {{ .tempest.rally.img_name_regex | default ""^.*(cirros|testvm).*$"" }} # Role required for users to be able to create Swift containers # (string value) # from .tempest.rally.swift_operator_role {{ if not .tempest.rally.swift_operator_role }}#{{ end }}swift_operator_role = {{ .tempest.rally.swift_operator_role | default ""Member"" }} # User role that has reseller admin (string value) # from .tempest.rally.swift_reseller_admin_role {{ if not .tempest.rally.swift_reseller_admin_role }}#{{ end }}swift_reseller_admin_role = {{ .tempest.rally.swift_reseller_admin_role | default ""ResellerAdmin"" }} # Role required for users to be able to manage Heat stacks (string # value) # from .tempest.rally.heat_stack_owner_role {{ if not .tempest.rally.heat_stack_owner_role }}#{{ end }}heat_stack_owner_role = {{ .tempest.rally.heat_stack_owner_role | default ""heat_stack_owner"" }} # Role for Heat template-defined users (string value) # from .tempest.rally.heat_stack_user_role {{ if not .tempest.rally.heat_stack_user_role }}#{{ end }}heat_stack_user_role = {{ .tempest.rally.heat_stack_user_role | default ""heat_stack_user"" }} # Primary flavor RAM size used by most of the test cases (integer # value) # from .tempest.rally.flavor_ref_ram {{ if not .tempest.rally.flavor_ref_ram }}#{{ end }}flavor_ref_ram = {{ .tempest.rally.flavor_ref_ram | default ""64"" }} # Alternate reference flavor RAM size used by test thatneed two # flavors, like those that resize an instance (integer value) # from .tempest.rally.flavor_ref_alt_ram {{ if not .tempest.rally.flavor_ref_alt_ram }}#{{ end }}flavor_ref_alt_ram = {{ .tempest.rally.flavor_ref_alt_ram | default ""128"" }} # RAM size flavor used for orchestration test cases (integer value) # from .tempest.rally.heat_instance_type_ram {{ if not .tempest.rally.heat_instance_type_ram }}#{{ end }}heat_instance_type_ram = {{ .tempest.rally.heat_instance_type_ram | default ""64"" }} [users_context] # # From rally # # The number of concurrent threads to use for serving users context. # (integer value) # from .users_context.rally.resource_management_workers {{ if not .users_context.rally.resource_management_workers }}#{{ end }}resource_management_workers = {{ .users_context.rally.resource_management_workers | default ""20"" }} # ID of domain in which projects will be created. (string value) # from .users_context.rally.project_domain {{ if not .users_context.rally.project_domain }}#{{ end }}project_domain = {{ .users_context.rally.project_domain | default ""default"" }} # ID of domain in which users will be created. (string value) # from .users_context.rally.user_domain {{ if not .users_context.rally.user_domain }}#{{ end }}user_domain = {{ .users_context.rally.user_domain | default ""default"" }} # The default role name of the keystone to assign to users. (string # value) # from .users_context.rally.keystone_default_role {{ if not .users_context.rally.keystone_default_role }}#{{ end }}keystone_default_role = {{ .users_context.rally.keystone_default_role | default ""member"" }} {{- end -}} ",11,1021
openstack%2Fneutron-fwaas~master~I2b1e85546de6d778532e43097d56d6b629acf436,openstack/neutron-fwaas,master,I2b1e85546de6d778532e43097d56d6b629acf436,Fix sanity check for default firewall group name,MERGED,2018-03-27 02:58:17.000000000,2018-04-01 23:56:15.000000000,2018-03-30 07:44:47.000000000,"[{'_account_id': 6995}, {'_account_id': 13702}, {'_account_id': 16264}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 02:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/12f16ced4973926998a8feefc5eb0cbe5062568e', 'message': 'Only query name for dulicate firewall group named check\n\nChange-Id: I2b1e85546de6d778532e43097d56d6b629acf436\nCloses-Bug: #1758786\n'}, {'number': 2, 'created': '2018-03-27 08:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/c27ba942febaadb52ea491372d5af6d35b987896', 'message': 'Only query name for duplicate firewall group named check\n\nChange-Id: I2b1e85546de6d778532e43097d56d6b629acf436\nCloses-Bug: #1758786\n'}, {'number': 3, 'created': '2018-03-30 01:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/41d144d66e5cd017275fb8c4c8a7d36825713f09', 'message': 'Fix sanity check for default firewall group name\n\nOnly query name for duplicate firewall group named check\n\nChange-Id: I2b1e85546de6d778532e43097d56d6b629acf436\nCloses-Bug: #1758786\n'}, {'number': 4, 'created': '2018-03-30 01:33:08.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/d9c52bcd54881d336cf1d5a74b4ed3697a1223fe', 'message': 'Fix sanity check for default firewall group name\n\nOnly query name for duplicate firewall group named check\n\nChange-Id: I2b1e85546de6d778532e43097d56d6b629acf436\nCloses-Bug: #1758786\n'}]",4,556739,d9c52bcd54881d336cf1d5a74b4ed3697a1223fe,16,5,4,16264,,,0,"Fix sanity check for default firewall group name

Only query name for duplicate firewall group named check

Change-Id: I2b1e85546de6d778532e43097d56d6b629acf436
Closes-Bug: #1758786
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/39/556739/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/migration/alembic_migrations/versions/queens/expand/876782258a43_create_default_firewall_groups_table.py'],1,12f16ced4973926998a8feefc5eb0cbe5062568e,fix_upgrade, default_fwg = session.query(resources.FIREWALL_GROUP.name).filter(, default_fwg = session.query(resources.FIREWALL_GROUP).filter(,1,1
openstack%2Fneutron-fwaas-dashboard~master~I1fd3ceaa011bb9247a45eb08c81a7e4d6df934eb,openstack/neutron-fwaas-dashboard,master,I1fd3ceaa011bb9247a45eb08c81a7e4d6df934eb,Imported Translations from Zanata,MERGED,2018-03-28 07:19:40.000000000,2018-04-01 21:13:41.000000000,2018-04-01 21:13:41.000000000,"[{'_account_id': 841}, {'_account_id': 13702}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 07:19:40.000000000', 'files': ['neutron_fwaas_dashboard/locale/fr/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/26466b29a063a4b2861aba5b00e0f8b15a54f45c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1fd3ceaa011bb9247a45eb08c81a7e4d6df934eb\n'}]",0,557167,26466b29a063a4b2861aba5b00e0f8b15a54f45c,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1fd3ceaa011bb9247a45eb08c81a7e4d6df934eb
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/67/557167/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/locale/fr/LC_MESSAGES/django.po'],1,26466b29a063a4b2861aba5b00e0f8b15a54f45c,zanata/translations,"# Adrien Cunin <adrien@adriencunin.fr>, 2016. #zanata # Gérald LONLAS <g.lonlas@gmail.com>, 2016. #zanata # Sylvie Chesneau <sissicdf@fr.ibm.com>, 2016. #zanata # Cédric Savignan <liced@liced.fr>, 2017. #zanata # JF Taltavull <jftalta@gmail.com>, 2017. #zanata # Loic Nicolle <loic.nicolle@orange.com>, 2017. #zanata # Pascal Larivée <pascal@larivee.photo>, 2017. #zanata # Loic Nicolle <loic.nicolle@orange.com>, 2018. #zanata msgid """" msgstr """" ""Project-Id-Version: neutron-fwaas-dashboard VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2018-03-28 00:10+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2018-03-27 03:11+0000\n"" ""Last-Translator: Loic Nicolle <loic.nicolle@orange.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""-"" msgstr ""-"" msgid ""ALLOW"" msgstr ""AUTORISER"" msgctxt ""Action Name of a Firewall Rule"" msgid ""ALLOW"" msgstr ""AUTORISER"" msgctxt ""Action name of a firewall rule"" msgid ""ALLOW"" msgstr ""AUTORISER"" msgid ""ANY"" msgstr ""TOUT"" msgid ""Action"" msgstr ""Action"" msgid ""Action for the firewall rule"" msgstr ""Action pour la règle de pare-feu"" msgctxt ""Current status of a Firewall Group"" msgid ""Active"" msgstr ""Actif"" msgctxt ""Current status of a firewall"" msgid ""Active"" msgstr ""Actif"" msgid ""Add"" msgstr ""Ajouter"" msgid ""Add Firewall"" msgstr ""Ajouter un pare-feu"" msgid ""Add Firewall Group"" msgstr ""Ajouter un groupe de pare-feux"" msgid ""Add New Firewall"" msgstr ""Ajouter un nouveau pare-feu"" msgid ""Add New Policy"" msgstr ""Ajouter une nouvelle stratégie"" msgid ""Add New Rule"" msgstr ""Ajouter une nouvelle règle"" msgid ""Add Policy"" msgstr ""Ajouter une stratégie"" msgid ""Add Router"" msgstr ""Ajouter un routeur"" msgid ""Add Router to Firewall"" msgstr ""Ajouter un routeur au pare-feu"" msgid ""Add Routers"" msgstr ""Ajouter des routeurs"" msgid ""Add Rule"" msgstr ""Ajouter une règle"" msgid ""Add selected router(s) to the firewall."" msgstr ""Ajouter le ou les routeurs sélectionnés au pare-feu."" #, python-format msgid ""Added Policy \""%s\""."" msgstr ""Stratégie \""%s\"" ajoutée."" #, python-format msgid ""Added Rule \""%s\""."" msgstr ""Règle \""%s\"" ajoutée."" #, python-format msgid ""Added firewall \""%s\""."" msgstr ""Pare-feu \""%s\"" ajouté."" #, python-format msgid ""Added policy \""%s\""."" msgstr ""Stratégie \""%s\"" ajoutée."" #, python-format msgid ""Added rule \""%s\""."" msgstr ""Règle \""%s\"" ajoutée."" msgid ""Admin State"" msgstr ""État Administateur"" msgid ""Admin State Up"" msgstr ""Etat Admin activé"" msgid ""After"" msgstr ""Après"" msgid ""Associated Routers"" msgstr ""Routeurs associés"" msgid ""Audited"" msgstr ""Audité"" msgid ""Available Ports"" msgstr ""Ports disponibles"" msgid ""Available Routers"" msgstr ""Routeurs disponibles"" msgid ""Available Rules"" msgstr ""Règles disponibles"" msgid ""Before"" msgstr ""Avant"" msgid """" ""Choose router(s) from Available Routers to Selected Routers by push button "" ""or drag and drop. "" msgstr """" ""Choisir les routeur(s) en les déplaçant de Routeurs Disponibles vers les "" ""Routeurs Sélectionnés en cliquant sur le bouton ou par glisser-déposer."" msgid """" ""Choose rule(s) from Available Rules to Selected Rule by push button or drag "" ""and drop, you may change their order by drag and drop as well."" msgstr """" ""Choisissez une ou plusieurs règles en les faisant passer des règles "" ""disponibles aux règles sélectionnées en cliquant sur le bouton ou par "" ""glisser-déposer. Vous pouvez aussi changer l'ordre des règles par glisser-"" ""déposer."" msgid ""Choose the router(s) you want to add."" msgstr ""Choisir le(s) routeur(s) que vous voulez ajouter."" msgid """" ""Choose the rule you want to insert. Specify either the rule you want to "" ""insert immediately before, or the rule to insert immediately after. If both "" ""are specified, the prior takes precedence."" msgstr """" ""Choisissez la règle que vous souhaitez insérer. Spécifiez la règle qui doit "" ""précéder immédiatement votre nouvelle règle, ou la règle qui doit suivre "" ""immédiatement votre nouvelle règle. Si vous spécifiez les deux, le premier "" ""critère est prioritaire."" msgid ""Choose the rule you want to remove."" msgstr ""Choisissez la règle que vous voulez enlever."" msgid ""Create Firewall"" msgstr ""Créer un pare-feu"" msgid ""Create a Firewall Group with selected ports."" msgstr ""Créer un groupe de pare-feux avec les ports sélectionnés."" msgid """" ""Create a firewall based on a policy.\n"" ""\n"" ""A firewall represents a logical firewall resource that a tenant can "" ""instantiate and manage. A firewall must be associated with one policy, all "" ""other fields are optional."" msgstr """" ""Créer un pare-feu basé sur une stratégie.\n"" ""\n"" ""Un pare-feu représente une ressource de pare-feu logique pouvant être "" ""instanciée et gérée par un locataire. Un pare-feu doit être associé à une "" ""stratégie, toutes les autres zones sont facultatives."" msgid """" ""Create a firewall policy with an ordered list of firewall rules.\n"" ""\n"" ""A firewall policy is an ordered collection of firewall rules. So if the "" ""traffic matches the first rule, the other rules are not executed. If the "" ""traffic does not match the current rule, then the next rule is executed. A "" ""firewall policy has the following attributes:\n"" ""\n"" ""<li>Shared: A firewall policy can be shared across tenants. Thus it can also "" ""be made part of an audit workflow wherein the firewall policy can be audited "" ""by the relevant entity that is authorized.</li><li>Audited: When audited is "" ""set to True, it indicates that the firewall policy has been audited. Each "" ""time the firewall policy or the associated firewall rules are changed, this "" ""attribute will be set to False and will have to be explicitly set to True "" ""through an update operation.</li>\n"" ""The name field is required, all others are optional."" msgstr """" ""Créer une stratégie de pare-feu avec une liste ordonnée de règles de pare-"" ""feu.\n"" ""\n"" ""Une stratégie de pare-feu est un ensemble ordonné de règles de pare-feu. Si "" ""le trafic correspond à la première règle, les autres règles ne sont pas "" ""exécutées. Si le trafic ne correspond pas à la règle en cours, la règle "" ""suivante est exécutée. Une stratégie de pare-feu comporte les attributs "" ""suivants :\n"" ""\n"" ""<li>Partagé (shared) : Une stratégie de pare-feu peut être partagée entre "" ""locataires. Elle peut ainsi faire partie d'un flux de travaux d'audit au "" ""sein duquel la stratégie de pare-feu peut être auditée par l'entité "" ""appropriée autorisée.</li><li>Audité (audited) : Lorsque l'attribut est "" ""défini sur True, la stratégie de pare-feu a été auditée. Chaque fois qu'une "" ""stratégie de pare-feu ou les règles de pare-feu associées sont modifiées, "" ""cet attribut est défini sur False et devra être explicitement défini avec la "" ""valeur True via une opération de mise à jour.</li>\n"" ""La zone de nom est obligatoire, toutes les autres sont facultatives."" msgid """" ""Create a firewall rule.\n"" ""\n"" ""A Firewall rule is an association of the following attributes:\n"" ""\n"" ""<li>IP Addresses: The addresses from/to which the traffic filtration needs "" ""to be applied.</li><li>IP Version: The type of IP packets (IP V4/V6) that "" ""needs to be filtered.</li><li>Protocol: Type of packets (UDP, ICMP, TCP, "" ""Any) that needs to be checked.</li><li>Action: Action is the type of "" ""filtration required, it can be Reject/Deny/Allow data packets.</li>\n"" ""The protocol and action fields are required, all others are optional."" msgstr """" ""Créer une règle de pare-feu.\n"" ""\n"" ""Une règle de pare-feu est une association des attributs suivants :\n"" ""\n"" ""<li>Adresses IP : Adresses depuis/vers lesquelles le filtrage du trafic doit "" ""s'appliquer.</li><li>Version d'IP : Type des paquets IP (IP V4/V6) à filtrer."" ""</li><li>Protocole : Type des paquets (UDP, ICMP, TCP, Tout) à vérifier.</"" ""li><li>Action : Type de filtrage requis ; Il peut s'agir de Rejeter/Refuser/"" ""Autoriser les paquets de données.</li>\n"" ""Les zones de protocole et d'action sont obligatoires, toutes les autres sont "" ""facultatives."" msgid """" ""Create a firewall rule.\n"" ""\n"" ""A firewall rule is an association of the following attributes:\n"" ""\n"" ""<li>IP Addresses: The addresses from/to which the traffic filtration needs "" ""to be applied.</li><li>IP Version: The type of IP packets (IP V4/V6) that "" ""needs to be filtered.</li><li>Protocol: Type of packets (UDP, ICMP, TCP, "" ""Any) that needs to be checked.</li><li>Action: Action is the type of "" ""filtration required, it can be Reject/Deny/Allow data packets.</li>\n"" ""The protocol and action fields are required, all others are optional."" msgstr """" ""Créer une règle de pare-feu.\n"" ""\n"" ""Une règle de pare-feu est une association des attributs suivants :\n"" ""\n"" ""<li>Adresses IP : Adresses depuis/vers lesquelles le filtrage du trafic doit "" ""s'appliquer.</li><li>Version d'IP : Type des paquets IP (IP V4/V6) à filtrer."" ""</li><li>Protocole : Type des paquets (UDP, ICMP, TCP, Tout) à vérifier.</"" ""li><li>Action : Type de filtrage requis ; Il peut s'agir de Rejeter/Refuser/"" ""Autoriser les paquets de données.</li>\n"" ""Les zones de protocole et d'action sont obligatoires, toutes les autres sont "" ""facultatives."" msgid ""Create a firewall with selected routers."" msgstr ""Créer un pare-feu avec les routeurs sélectionnés."" msgid ""Create a policy with selected rules."" msgstr ""Créer une stratégie avec les règles sélectionnées."" msgctxt ""Current status of a Firewall Group"" msgid ""Created"" msgstr ""Créé"" msgctxt ""Current status of a firewall"" msgid ""Created"" msgstr ""Créé"" msgid ""DENY"" msgstr ""REFUSER"" msgctxt ""Action Name of a Firewall Rule"" msgid ""DENY"" msgstr ""REFUSER"" msgctxt ""Action name of a firewall rule"" msgid ""DENY"" msgstr ""REFUSER"" msgctxt ""Admin state of a Firewall Group"" msgid ""DOWN"" msgstr ""INACTIF"" msgctxt ""Admin state of a firewall"" msgid ""DOWN"" msgstr ""INACTIF"" msgid ""Delete Firewall"" msgid_plural ""Delete Firewalls"" msgstr[0] ""Supprimer le pare-feu"" msgstr[1] ""Supprimer les pare-feux"" msgid ""Delete Policy"" msgid_plural ""Delete Policies"" msgstr[0] ""Supprimer la stratégie"" msgstr[1] ""Supprimer les stratégies"" msgid ""Delete Rule"" msgid_plural ""Delete Rules"" msgstr[0] ""Supprimer la règle"" msgstr[1] ""Supprimer les règles"" msgid ""Description"" msgstr ""Description"" msgid ""Description:"" msgstr ""Description:"" msgid ""Destination IP"" msgstr ""IP de destination"" msgid ""Destination IP Address"" msgstr ""Adresse IP de destination"" msgid ""Destination IP Address/Subnet"" msgstr ""Adresse IP/Sous-réseau de destination"" msgid ""Destination IP address or subnet"" msgstr ""Adresse IP ou sous-réseau de destination"" msgid ""Destination Port"" msgstr ""Port de destination"" msgid ""Destination Port/Port Range"" msgstr ""Port/Plage de ports de destination"" msgid ""Destination port (integer in [1, 65535] or range in a:b)"" msgstr ""Port de destination (entier compris dans [1, 65535] ou plage a:b)"" msgctxt ""Current status of a Firewall Group"" msgid ""Down"" msgstr ""Inactif"" msgctxt ""Current status of a firewall"" msgid ""Down"" msgstr ""Inactif"" msgid ""Edit Firewall"" msgstr ""Éditer le pare-feu"" msgid ""Edit Firewall {{ name }}"" msgstr ""Editer le pare-feu {{ name }}"" msgid ""Edit Policy"" msgstr ""Editer la stratégie"" msgid ""Edit Policy {{ name }}"" msgstr ""Editer la stratégie {{ name }}"" msgid ""Edit Rule"" msgstr ""Éditer la règle"" msgid ""Edit Rule {{ name }}"" msgstr ""Editer la règle {{ name }}"" msgid ""Egress Policy"" msgstr ""Stratégie sortante"" msgid ""Enable Admin State"" msgstr ""État Administratif Actif"" msgid ""Enabled"" msgstr ""Activé"" msgctxt ""Current status of a Firewall Group"" msgid ""Error"" msgstr ""Erreur"" msgctxt ""Current status of a firewall"" msgid ""Error"" msgstr ""Erreur"" #, python-format msgid ""Failed to add router(s) to firewall %(name)s: %(reason)s"" msgstr ""Echec d'ajout du ou des routeurs au pare-feu %(name)s : %(reason)s"" #, python-format msgid ""Failed to insert rule to policy %(name)s: %(reason)s"" msgstr ""Echec d'insertion de la règle dans la stratégie %(name)s : %(reason)s"" #, python-format msgid ""Failed to remove router(s) from firewall %(name)s: %(reason)s"" msgstr ""Échec à retirer routeur(s) du pare-feu %(name)s: %(reason)s"" #, python-format msgid ""Failed to remove rule from policy %(name)s: %(reason)s"" msgstr ""Echec de retrait de la règle de la stratégie %(name)s : %(reason)s"" #, python-format msgid ""Failed to retrieve available routers: %s"" msgstr ""Échec de la récupération des routeurs disponibles: %s"" #, python-format msgid ""Failed to retrieve available rules: %s"" msgstr ""Impossible de récupérer les règles disponibles : %s"" #, python-format msgid ""Failed to retrieve current routers in firewall %(name)s: %(reason)s"" msgstr """" ""Échec de la récupération des routeurs dans le pare-feu %(name)s: %(reason)s"" #, python-format msgid ""Failed to retrieve current rules in policy %(name)s: %(reason)s"" msgstr """" ""Échec de la récupération des règles courantes de la stratégie %(name)s : "" ""%(reason)s"" #, python-format msgid ""Failed to update firewall %(name)s: %(reason)s"" msgstr ""Échec de la mise à jour du pare-feu %(name)s : %(reason)s"" #, python-format msgid ""Failed to update policy %(name)s: %(reason)s"" msgstr ""Echec de mise à jour de la stratégie %(name)s : %(reason)s"" #, python-format msgid ""Failed to update rule %(name)s: %(reason)s"" msgstr ""Échec de la mise à jour de la règle %(name)s : %(reason)s"" msgid ""Firewall"" msgstr ""Pare-feu"" #, python-format msgid ""Firewall %s was successfully updated."" msgstr ""Le pare-feu %s a été mis à jour."" msgid ""Firewall Policies"" msgstr ""Stratégies de pare-feu"" msgid ""Firewall Rules"" msgstr ""Règles de pare-feu"" msgid ""Firewalls"" msgstr ""Pare-feux"" msgid ""ICMP"" msgstr ""ICMP"" msgid ""ID"" msgstr ""ID"" msgid ""IP Version"" msgstr ""Version d'IP"" msgid ""IP Version for Firewall Rule"" msgstr ""Version d'IP pour la règle de pare-feu"" msgid ""In Policy"" msgstr ""Stratégies associées"" msgctxt ""Current status of a Firewall Group"" msgid ""Inactive"" msgstr ""Inactif"" msgctxt ""Current status of a firewall"" msgid ""Inactive"" msgstr ""Inactif"" msgid ""Ingress Policy"" msgstr ""Stratégie entrante"" msgid ""Insert Rule"" msgstr ""Insérer une règle"" msgid ""Insert Rule to Policy"" msgstr ""Insérer une règle dans la stratégie"" msgid ""Name"" msgstr ""Nom"" msgid ""None"" msgstr ""Aucun"" msgctxt ""Current status of a Firewall Group"" msgid ""Pending Create"" msgstr ""Création en attente"" msgctxt ""Current status of a firewall"" msgid ""Pending Create"" msgstr ""Création en attente"" msgctxt ""Current status of a Firewall Group"" msgid ""Pending Delete"" msgstr ""Suppression en attente"" msgctxt ""Current status of a firewall"" msgid ""Pending Delete"" msgstr ""Suppression en attente"" msgctxt ""Current status of a Firewall Group"" msgid ""Pending Update"" msgstr ""Mise à jour en attente"" msgctxt ""Current status of a firewall"" msgid ""Pending Update"" msgstr ""Mise à jour en attente"" msgid ""Policies"" msgstr ""Stratégies"" msgid ""Policy"" msgstr ""Stratégie"" #, python-format msgid ""Policy %s was successfully updated."" msgstr ""La stratégie %s a été mise à jour."" msgid ""Ports"" msgstr ""Ports"" msgid ""Position in Policy"" msgstr ""Position dans la stratégie"" msgid ""Project ID"" msgstr ""Project ID"" msgid ""Protocol"" msgstr ""Protocole"" msgid ""Protocol for the firewall rule"" msgstr ""Protocole pour la règle de pare-feu"" msgid ""REJECT"" msgstr ""REJETER"" msgctxt ""Action Name of a Firewall Rule"" msgid ""REJECT"" msgstr ""REJETER"" msgctxt ""Action name of a firewall rule"" msgid ""REJECT"" msgstr ""REJETER"" msgid ""Remove Port"" msgstr ""Supprimer le port"" msgid ""Remove Router"" msgstr ""Supprimer le routeur"" msgid ""Remove Router from Firewall"" msgstr ""Retirer un routeur du pare-feu"" msgid ""Remove Rule"" msgstr ""Retirer la règle"" msgid ""Remove Rule from Policy"" msgstr ""Retirer une règle de la stratégie"" #, python-format msgid ""Router(s) was successfully removed from firewall %(firewall)s."" msgstr ""Le ou les routeurs ont été retirés du pare-feu %(firewall)s."" #, python-format msgid ""Router(s) was/were successfully added to firewall %(firewall)s."" msgstr ""Le ou les routeurs ont été ajoutés au pare-feu %(firewall)s."" msgid ""Routers"" msgstr ""Routeurs"" msgid ""Rule"" msgstr ""Règle"" #, python-format msgid ""Rule %(rule)s was successfully inserted to policy %(policy)s."" msgstr ""La règle %(rule)s a été insérée dans la stratégie %(policy)s."" #, python-format msgid ""Rule %(rule)s was successfully removed from policy %(policy)s."" msgstr ""La règle %(rule)s a été retirée de la stratégie %(policy)s."" #, python-format msgid ""Rule %s was successfully updated."" msgstr ""La règle %s a été mise à jour."" msgid ""Rules"" msgstr ""Règles"" msgid ""Save Changes"" msgstr ""Enregistrer les changements"" msgid ""Scheduled deletion of Policy"" msgid_plural ""Scheduled deletion of Policies"" msgstr[0] ""Suppression planifiée de la stratégie"" msgstr[1] ""Suppression planifiée des stratégies"" msgid ""Scheduled deletion of Rule"" msgid_plural ""Scheduled deletion of Rules"" msgstr[0] ""Suppression planifiée de la règle"" msgstr[1] ""Suppression planifiée des règles"" #, fuzzy msgid ""Scheduled deletion of rule"" msgid_plural ""Scheduled deletion of rules"" msgstr[0] ""Suppression planifiée de la règle"" msgstr[1] """" msgid ""Select a Policy"" msgstr ""Sélectionner une stratégie"" msgid ""Select a policy"" msgstr ""Sélectionner une stratégie"" msgid ""Select routers for your firewall."" msgstr ""Sélectionnez des routeurs pour votre pare-feu."" msgid ""Select rules for your policy."" msgstr ""Sélectionnez des règles pour votre stratégie."" msgid ""Selected Routers"" msgstr ""Routeurs sélectionnés"" msgid ""Selected Rules"" msgstr ""Règles sélectionnées"" msgid ""Shared"" msgstr ""Partagé"" msgid ""Source IP"" msgstr ""IP source"" msgid ""Source IP Address"" msgstr ""Adresse IP source"" msgid ""Source IP Address/Subnet"" msgstr ""Adresse IP/Sous-réseau source"" msgid ""Source IP address or subnet"" msgstr ""Adresse IP ou sous-réseau source"" msgid ""Source Port"" msgstr ""Port source"" msgid ""Source Port/Port Range"" msgstr ""Port/plage de ports source"" msgid ""Source port (integer in [1, 65535] or range in a:b)"" msgstr ""Port source (entier compris dans [1,65535] ou plage a:b)"" msgid """" ""Source/Destination Network Address and IP version are inconsistent. Please "" ""make them consistent."" msgstr """" ""La version d'IP et l'adresse réseau source/de destination ne sont pas "" ""cohérentes. Corrigez-les en conséquence."" msgid ""Status"" msgstr ""Statut"" msgid ""TCP"" msgstr ""TCP"" msgid ""UDP"" msgstr ""UDP"" msgctxt ""Admin state of a Firewall Group"" msgid ""UP"" msgstr ""ACTIF"" msgctxt ""Admin state of a firewall"" msgid ""UP"" msgstr ""ACTIF"" #, python-format msgid ""Unable to add Policy \""%s\""."" msgstr ""Impossible d'ajouter la stratégie \""%s\""."" #, python-format msgid ""Unable to add Rule \""%s\""."" msgstr ""Impossible d'ajouter la règle \""%s\""."" #, python-format msgid ""Unable to add firewall \""%s\""."" msgstr ""Impossible d'ajouter le pare-feu \""%s\""."" #, python-format msgid ""Unable to add policy \""%s\""."" msgstr ""Impossible d'ajouter la stratégie \""%s\""."" #, python-format msgid ""Unable to add rule \""%s\""."" msgstr ""Impossible d'ajouter la règle \""%s\""."" #, python-format msgid ""Unable to delete firewall. %s"" msgstr ""Impossible de supprimer le pare-feu %s"" #, python-format msgid ""Unable to delete policy. %s"" msgstr ""Impossible de supprimer la stratégie. %s"" #, python-format msgid ""Unable to delete rule. %s"" msgstr ""Impossible de supprimer la règle %s"" msgid ""Unable to retrieve firewall details."" msgstr ""Impossible de récupérer les détails du pare-feu."" msgid ""Unable to retrieve firewall list."" msgstr ""Impossible de récupérer la liste des pare-feux."" msgid ""Unable to retrieve policies list."" msgstr ""Impossible de récupérer la liste des stratégies."" msgid ""Unable to retrieve policy details."" msgstr ""Impossible de récupérer les détails de la stratégie."" #, python-format msgid ""Unable to retrieve policy list (%(error)s)."" msgstr ""Impossible de récupérer la liste des stratégies (%(error)s)."" #, python-format msgid ""Unable to retrieve policy list (%s)."" msgstr ""Impossible de récupérer la liste des stratégies (%s)."" msgid ""Unable to retrieve policy list."" msgstr ""Impossible de récupérer la liste des stratégies."" msgid ""Unable to retrieve port list."" msgstr ""Impossible de récupérer la liste des ports."" #, python-format msgid ""Unable to retrieve ports (%s)."" msgstr ""Impossible de récupérer les ports (%s)."" #, python-format msgid ""Unable to retrieve routers (%(error)s)."" msgstr ""Impossible de récupérer les routeurs (%(error)s)."" msgid ""Unable to retrieve rule details."" msgstr ""Impossible de récupérer les détails de la règle."" #, python-format msgid ""Unable to retrieve rules (%(error)s)."" msgstr ""Impossible de récupérer les règles (%(error)s)."" #, python-format msgid ""Unable to retrieve rules (%s)."" msgstr ""Impossible de récupérer les règles (%s)."" msgid ""Unable to retrieve rules list."" msgstr ""Impossible de récupérer la liste des règles."" msgid ""Unselect the router(s) to be removed from firewall."" msgstr ""Désélectionner le ou les routeurs à retirer du pare-feu."" msgid ""Unselect the routers you want to disassociate from the firewall."" msgstr ""Désélectionner les routeurs que vous voulez dissocier du pare-feu."" msgid ""Used in Policy"" msgstr ""Utilisée dans la stratégie"" msgid ""You may update firewall details here."" msgstr ""Ici, vous pouvez mettre à jour les détails du pare-feu."" msgid """" ""You may update policy details here. Use 'Insert Rule' or 'Remove Rule' links "" ""instead to insert or remove a rule"" msgstr """" ""Mettez à jour les détails de la stratégie ici. Utilisez les liens 'Insérer "" ""une règle' ou 'Enlever une règle' pour insérer ou enlever une règle."" msgid ""You may update rule details here."" msgstr ""Ici, vous pouvez mettre à jour les détails de la règle."" ",,781,0
openstack%2Fnova-powervm~master~Ie23f2b0877778a11daeb1534a349ed7fb2a7b91a,openstack/nova-powervm,master,Ie23f2b0877778a11daeb1534a349ed7fb2a7b91a,Bump pypowervm minimum to 1.1.13,MERGED,2018-03-30 00:21:10.000000000,2018-04-01 21:06:20.000000000,2018-04-01 21:06:20.000000000,"[{'_account_id': 8190}, {'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 16551}, {'_account_id': 16710}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 00:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/bccde2e3ab992bf1baae584de279b81337e15dc4', 'message': 'Bump pypowervm minimum to 1.1.13\n\n...for [1] and [2].\n\n[1] https://review.openstack.org/#/c/555309/\n[2] https://review.openstack.org/#/c/552172/\n\nChange-Id: Ie23f2b0877778a11daeb1534a349ed7fb2a7b91a\n'}, {'number': 2, 'created': '2018-03-30 18:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2fb5fdc361d483446d73b8f419b8ae3748930e9b', 'message': 'Bump pypowervm minimum to 1.1.13\n\n...for [1] and [2].\n\n[1] https://review.openstack.org/#/c/555309/\n[2] https://review.openstack.org/#/c/552172/\n\nChange-Id: Ie23f2b0877778a11daeb1534a349ed7fb2a7b91a\n'}, {'number': 3, 'created': '2018-03-30 18:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/cb0c2c3b39fd27f9768ce7ec3e9c9139f7054915', 'message': 'Bump pypowervm minimum to 1.1.13\n\n...for [1] and [2].\n\n[1] https://review.openstack.org/#/c/555309/\n[2] https://review.openstack.org/#/c/552172/\n\nChange-Id: Ie23f2b0877778a11daeb1534a349ed7fb2a7b91a\n'}, {'number': 4, 'created': '2018-04-01 20:40:13.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/62497064882bccbb5f1467df3b9f687c5eafbc40', 'message': 'Bump pypowervm minimum to 1.1.13\n\n...for [1] and [2].\n\n[1] https://review.openstack.org/#/c/555309/\n[2] https://review.openstack.org/#/c/552172/\n\nChange-Id: Ie23f2b0877778a11daeb1534a349ed7fb2a7b91a\n'}]",0,557854,62497064882bccbb5f1467df3b9f687c5eafbc40,28,7,4,14070,,,0,"Bump pypowervm minimum to 1.1.13

...for [1] and [2].

[1] https://review.openstack.org/#/c/555309/
[2] https://review.openstack.org/#/c/552172/

Change-Id: Ie23f2b0877778a11daeb1534a349ed7fb2a7b91a
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/54/557854/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bccde2e3ab992bf1baae584de279b81337e15dc4,pypowervm-1.1.13,pypowervm>=1.1.13 # Apache-2.0,pypowervm>=1.1.11 # Apache-2.0,1,1
openstack%2Fopenstack-ansible~master~Ic4510a90c41ec035f3712c3c10bc2e0580888e1a,openstack/openstack-ansible,master,Ic4510a90c41ec035f3712c3c10bc2e0580888e1a,Use stable pip pins,ABANDONED,2018-04-01 18:34:45.000000000,2018-04-01 20:57:12.000000000,,"[{'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-04-01 18:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/295b2799cc918e2713bd454b9b81519f29adcfde', 'message': 'Use stable pip pins\n\nUse pinned pip when installing packages with the pip_install role.\n\nChange-Id: Ic4510a90c41ec035f3712c3c10bc2e0580888e1a\n'}, {'number': 2, 'created': '2018-04-01 18:35:26.000000000', 'files': ['inventory/group_vars/all/pip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/251af288f062dcc4b65be57f78b685d7dc14e067', 'message': 'Use stable pip pins\n\nUse pinned pip when installing packages with the pip_install role.\n\nDepends-On: https://review.openstack.org/#/c/558119/\nChange-Id: Ic4510a90c41ec035f3712c3c10bc2e0580888e1a\n'}]",0,558120,251af288f062dcc4b65be57f78b685d7dc14e067,8,5,2,17799,,,0,"Use stable pip pins

Use pinned pip when installing packages with the pip_install role.

Depends-On: https://review.openstack.org/#/c/558119/
Change-Id: Ic4510a90c41ec035f3712c3c10bc2e0580888e1a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/558120/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/all/pip.yml'],1,295b2799cc918e2713bd454b9b81519f29adcfde,pip-stable-pins,pip_install_version: stable ,,2,0
openstack%2Fheat~master~If6a8ee1373916d778ebe769e2b904d68f564a40e,openstack/heat,master,If6a8ee1373916d778ebe769e2b904d68f564a40e,Imported Translations from Zanata,MERGED,2018-03-29 07:40:05.000000000,2018-04-01 18:17:38.000000000,2018-04-01 18:17:38.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-03-29 07:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ecf47f611f5be20162a6155dd2d9ffbc07fe7e11', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If6a8ee1373916d778ebe769e2b904d68f564a40e\n'}, {'number': 2, 'created': '2018-03-30 06:57:08.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/c864920a3377b7d675b608b481a10ba0fc1f1be2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If6a8ee1373916d778ebe769e2b904d68f564a40e\n'}]",0,557641,c864920a3377b7d675b608b481a10ba0fc1f1be2,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If6a8ee1373916d778ebe769e2b904d68f564a40e
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/557641/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,ecf47f611f5be20162a6155dd2d9ffbc07fe7e11,zanata/translations,"""POT-Creation-Date: 2018-03-28 15:31+0000\n""""PO-Revision-Date: 2018-03-28 11:20+0000\n""msgid ""10.0.0.0rc1-69"" msgstr ""10.0.0.0rc1-69"" msgid """" ""Passwords generated by the OS::Heat::RandomString resource may have had less "" ""entropy than expected, depending on what is specified in the "" ""``character_class`` and ``character_sequence`` properties. This has been "" ""corrected so that each character present in any of the specified classes or "" ""sequences now has an equal probability of appearing at each point in the "" ""generated random string."" msgstr """" ""Passwords generated by the OS::Heat::RandomString resource may have had less "" ""entropy than expected, depending on what is specified in the "" ""``character_class`` and ``character_sequence`` properties. This has been "" ""corrected so that each character present in any of the specified classes or "" ""sequences now has an equal probability of appearing at each point in the "" ""generated random string."" ","""POT-Creation-Date: 2018-03-12 03:45+0000\n""""PO-Revision-Date: 2018-03-10 10:07+0000\n""",20,2
openstack%2Fkolla~master~Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b,openstack/kolla,master,Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b,Add support for Infoblox IPAM agent,MERGED,2018-03-21 19:48:50.000000000,2018-04-01 17:31:31.000000000,2018-04-01 17:31:31.000000000,"[{'_account_id': 1390}, {'_account_id': 9414}, {'_account_id': 16520}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26089}, {'_account_id': 26556}]","[{'number': 1, 'created': '2018-03-21 19:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6f06507a98917d3929ff109ddbe1bec65efe26b1', 'message': ""Add support for Infoblox IPAM agent\n\nThe Infoblox IPAM agent will be started when\n'infoblox' is configured as the pluggable IPAM\ndriver in neutron.\n\nChange-Id: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}, {'number': 2, 'created': '2018-03-26 12:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/167a34185dbfe845740b993b23fbc89819f5c271', 'message': ""Add support for Infoblox IPAM agent\n\nThe Infoblox IPAM agent will be started when\n'infoblox' is configured as the pluggable IPAM\ndriver in neutron.\n\nChange-Id: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}, {'number': 3, 'created': '2018-03-27 12:53:43.000000000', 'files': ['docker/neutron/neutron-infoblox-ipam-agent/Dockerfile.j2', 'releasenotes/notes/add-neutron-ipam-driver-infoblox-0cee3c06f359c5e4.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac2fe6cf5ce912dabba59fe71a7a623014d309e7', 'message': ""Add support for Infoblox IPAM agent\n\nThe Infoblox IPAM agent will be started when\n'infoblox' is configured as the pluggable IPAM\ndriver in neutron.\n\nChange-Id: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b\nPartially-Implements: blueprint neutron-ipam-driver-infoblox\n""}]",2,555031,ac2fe6cf5ce912dabba59fe71a7a623014d309e7,27,8,3,26089,,,0,"Add support for Infoblox IPAM agent

The Infoblox IPAM agent will be started when
'infoblox' is configured as the pluggable IPAM
driver in neutron.

Change-Id: Ia44f0e0d7a0d60cebf0857ad51700e02eba5099b
Partially-Implements: blueprint neutron-ipam-driver-infoblox
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/555031/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/neutron/neutron-infoblox-ipam-agent/Dockerfile.j2', 'kolla/common/config.py']",2,6f06507a98917d3929ff109ddbe1bec65efe26b1,bp/neutron-ipam-driver-infoblox," 'neutron-server-plugin-networking-infoblox': { 'type': 'url', 'location': ('$tarballs_base/networking-infoblox/' 'networking-infoblox-master.tar.gz')},",,15,0
openstack%2Fopenstack-helm~master~I62a169cff39a96f98ec2b5664d483db26c771e4c,openstack/openstack-helm,master,I62a169cff39a96f98ec2b5664d483db26c771e4c,Helm-Toolkit: Reduce delta between OSH and OSH-Infra to image repo,MERGED,2018-03-31 13:45:37.000000000,2018-04-01 17:11:04.000000000,2018-04-01 17:11:04.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-03-31 13:45:37.000000000', 'files': ['helm-toolkit/templates/endpoints/_keystone_endpoint_scheme_lookup.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b5ea314c7494286a914c3c30a855ae034930f88', 'message': 'Helm-Toolkit: Reduce delta between OSH and OSH-Infra to image repo\n\nThis PS reduces the delta between OSH and OSH-Infra helm toolkits\nto simply the image repo management functions.\n\nChange-Id: I62a169cff39a96f98ec2b5664d483db26c771e4c\n'}]",0,558056,0b5ea314c7494286a914c3c30a855ae034930f88,7,3,1,23928,,,0,"Helm-Toolkit: Reduce delta between OSH and OSH-Infra to image repo

This PS reduces the delta between OSH and OSH-Infra helm toolkits
to simply the image repo management functions.

Change-Id: I62a169cff39a96f98ec2b5664d483db26c771e4c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/558056/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/endpoints/_keystone_endpoint_scheme_lookup.tpl'],1,0b5ea314c7494286a914c3c30a855ae034930f88,helm-toolkit/sync,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} # This function returns the scheme for a service, it takes an tuple # input in the form: service-type, endpoint-class, port-name. eg: # { tuple ""etcd"" ""internal"" ""client"" . | include ""helm-toolkit.endpoints.keystone_scheme_lookup"" } # will return the scheme setting for this particular endpoint. In other words, for most endpoints # it will return either 'http' or 'https' {{- define ""helm-toolkit.endpoints.keystone_endpoint_scheme_lookup"" -}} {{- $type := index . 0 -}} {{- $endpoint := index . 1 -}} {{- $port := index . 2 -}} {{- $context := index . 3 -}} {{- $typeYamlSafe := $type | replace ""-"" ""_"" }} {{- $endpointMap := index $context.Values.endpoints $typeYamlSafe }} {{- with $endpointMap -}} {{- $endpointScheme := index .scheme $endpoint | default .scheme.default | default ""http"" }} {{- printf ""%s"" $endpointScheme -}} {{- end -}} {{- end -}} ",,34,0
openstack%2Fkolla~master~Ic99e9e7b499e82a998386e13dceab4e67f23e989,openstack/kolla,master,Ic99e9e7b499e82a998386e13dceab4e67f23e989,Add octavia-dashboard to horizon image,MERGED,2018-03-27 15:23:40.000000000,2018-04-01 16:48:29.000000000,2018-04-01 16:48:29.000000000,"[{'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 13039}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-03-27 15:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/12710844ae07cf0c5c318e6658c277546db52fa9', 'message': 'Add octavia-dashboard to horizon image\n\nChange-Id: Ic99e9e7b499e82a998386e13dceab4e67f23e989\n'}, {'number': 2, 'created': '2018-03-28 07:07:42.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'docker/horizon/extend_start.sh', 'releasenotes/notes/add-octavia-dashboard-e2b1d1aeebcc0eba.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c2960f73d2002264f627b79a1c052efdd29be852', 'message': 'Add octavia-dashboard to horizon image\n\nChange-Id: Ic99e9e7b499e82a998386e13dceab4e67f23e989\n'}]",0,556888,c2960f73d2002264f627b79a1c052efdd29be852,22,10,2,6469,,,0,"Add octavia-dashboard to horizon image

Change-Id: Ic99e9e7b499e82a998386e13dceab4e67f23e989
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/556888/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/horizon/Dockerfile.j2', 'releasenotes/notes/add-octavia-dashboard-e2b1d1aeebcc0eba.yaml', 'kolla/common/config.py']",3,12710844ae07cf0c5c318e6658c277546db52fa9,octavia-ui," 'horizon-plugin-octavia-dashboard': { 'type': 'url', 'location': ('$tarballs_base/octavia-dashboard/' 'octavia-dashboard-master.tar.gz')},",,8,0
openstack%2Fcinder~stable%2Fpike~I0edda1fa23aed0b3d25691d5f4440a7234decc9a,openstack/cinder,stable/pike,I0edda1fa23aed0b3d25691d5f4440a7234decc9a,Cinder Tempest plugin tests: Switch to stable interface,MERGED,2018-03-28 15:56:54.000000000,2018-04-01 16:12:31.000000000,2018-04-01 16:12:31.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-28 15:56:54.000000000', 'files': ['cinder/tests/tempest/api/volume/test_consistencygroups.py', 'cinder/tests/tempest/api/volume/test_volume_backup.py', 'cinder/tests/tempest/api/volume/test_volume_revert.py', 'cinder/tests/tempest/api/volume/base.py', 'cinder/tests/tempest/api/volume/test_volume_unicode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b52b4533c802e5143588d37cf2e854a31f5fbc13', 'message': 'Cinder Tempest plugin tests: Switch to stable interface\n\nAll the cinder tempest plugin tests are inherited from tempest/api/volume/base.py\nwhich is not stable class and can be changed anytime by tempest.\n\nOne recent case where some changes in base class on tempest side could\nhave break the cinder tests-\n http://logs.openstack.org/07/522707/3/check/legacy-tempest-dsvm-full-devstack-plugin-ceph/a92cd60/logs/testr_results.html.gz\n\nThis commit switch cinder tests to use test.py which is stable interface\nfor plugin and create a base class with commonly used function & variable.\n\nChange-Id: I0edda1fa23aed0b3d25691d5f4440a7234decc9a\nCloses-Bug: #1734821\n(cherry picked from commit dae4b6df5f354355cf56eee2547314b2282670f4)\n'}]",0,557385,b52b4533c802e5143588d37cf2e854a31f5fbc13,27,21,1,4523,,,0,"Cinder Tempest plugin tests: Switch to stable interface

All the cinder tempest plugin tests are inherited from tempest/api/volume/base.py
which is not stable class and can be changed anytime by tempest.

One recent case where some changes in base class on tempest side could
have break the cinder tests-
 http://logs.openstack.org/07/522707/3/check/legacy-tempest-dsvm-full-devstack-plugin-ceph/a92cd60/logs/testr_results.html.gz

This commit switch cinder tests to use test.py which is stable interface
for plugin and create a base class with commonly used function & variable.

Change-Id: I0edda1fa23aed0b3d25691d5f4440a7234decc9a
Closes-Bug: #1734821
(cherry picked from commit dae4b6df5f354355cf56eee2547314b2282670f4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/557385/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/tempest/api/volume/test_consistencygroups.py', 'cinder/tests/tempest/api/volume/test_volume_backup.py', 'cinder/tests/tempest/api/volume/test_volume_revert.py', 'cinder/tests/tempest/api/volume/base.py', 'cinder/tests/tempest/api/volume/test_volume_unicode.py']",5,b52b4533c802e5143588d37cf2e854a31f5fbc13,bug/1734821,"from tempest.lib.common.utils import test_utils from cinder.tests.tempest.api.volume import baseclass CinderUnicodeTest(base.BaseVolumeTest): cls.addClassResourceCleanup( cls.volumes_client.wait_for_resource_deletion, volume['id']) cls.addClassResourceCleanup(test_utils.call_and_ignore_notfound_exc, cls.volumes_client.delete_volume, volume['id']) result = self.volumes_client.show_volume(self.volume['id'])",from tempest.api.volume import base as volume_baseclass CinderUnicodeTest(volume_base.BaseVolumeTest): cls.volumes.append(volume) result = self.volumes_client.show_volume(self.volumes[0]['id']),199,21
openstack%2Ftempest~master~Ide8cf348f5804ab8ec82b5069d8aa79ed1223f6f,openstack/tempest,master,Ide8cf348f5804ab8ec82b5069d8aa79ed1223f6f,Set max_microversion 2.35 for nova floating ip bulk tests,MERGED,2018-03-30 02:48:13.000000000,2018-04-01 15:26:18.000000000,2018-03-30 10:18:05.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-30 02:48:13.000000000', 'files': ['tempest/api/compute/admin/test_floating_ips_bulk.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f642a13bb2afd19a92bb47ef8a3ea622880b23be', 'message': ""Set max_microversion 2.35 for nova floating ip bulk tests\n\nThe compute os-floating-ips-bulk API is deprecated from Microversion\n2.36, so we should set max_microversion = '2.35' for compute floating ip\nbulk tests.\n\nref: https://developer.openstack.org/api-ref/compute/#list-floating-ips\n\nImplements blueprint: clear-deprecated-api\n\nChange-Id: Ide8cf348f5804ab8ec82b5069d8aa79ed1223f6f\n""}]",0,557871,f642a13bb2afd19a92bb47ef8a3ea622880b23be,10,6,1,20190,,,0,"Set max_microversion 2.35 for nova floating ip bulk tests

The compute os-floating-ips-bulk API is deprecated from Microversion
2.36, so we should set max_microversion = '2.35' for compute floating ip
bulk tests.

ref: https://developer.openstack.org/api-ref/compute/#list-floating-ips

Implements blueprint: clear-deprecated-api

Change-Id: Ide8cf348f5804ab8ec82b5069d8aa79ed1223f6f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/557871/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_floating_ips_bulk.py'],1,f642a13bb2afd19a92bb47ef8a3ea622880b23be,bp/clear-deprecated-api, max_microversion = '2.35',,1,0
openstack%2Fnova-specs~master~I10c780ad10cd0bbc3c4a4c096a61d286e89d2507,openstack/nova-specs,master,I10c780ad10cd0bbc3c4a4c096a61d286e89d2507,Mention (no) granular support for image traits,MERGED,2018-03-19 17:41:16.000000000,2018-04-01 14:50:35.000000000,2018-04-01 14:50:35.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14091}, {'_account_id': 17190}, {'_account_id': 22348}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-03-19 17:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6805a96d080201db21321d9767be08530d7fc621', 'message': ""Mention (no) granular support for image traits\n\nAdd a paragraph describing how we (don't) support granular request\ngroups when specifying traits in image metadata.\n\nFix some typos along the way.\n\nChange-Id: I10c780ad10cd0bbc3c4a4c096a61d286e89d2507\nblueprint: glance-image-traits.\n""}, {'number': 2, 'created': '2018-03-22 00:32:48.000000000', 'files': ['specs/rocky/approved/glance-image-traits.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fd45be14f35b98b5f5b16baa2cb4e687b9cd2ab5', 'message': ""Mention (no) granular support for image traits\n\nAdd a paragraph describing how we (don't) support granular request\ngroups when specifying traits in image metadata.\n\nFix some typos along the way.\n\nChange-Id: I10c780ad10cd0bbc3c4a4c096a61d286e89d2507\nblueprint: glance-image-traits.\n""}]",15,554305,fd45be14f35b98b5f5b16baa2cb4e687b9cd2ab5,30,10,2,14070,,,0,"Mention (no) granular support for image traits

Add a paragraph describing how we (don't) support granular request
groups when specifying traits in image metadata.

Fix some typos along the way.

Change-Id: I10c780ad10cd0bbc3c4a4c096a61d286e89d2507
blueprint: glance-image-traits.
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/05/554305/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/approved/glance-image-traits.rst'],1,6805a96d080201db21321d9767be08530d7fc621,bp/glance-image-traits,"instruction set, NIC features or whether it's a trusted host, etc.The administrator would be able to add these capability requirements to the glance image as required traits. This would allow the nova scheduler toThe glance image already allows users to specify additional properties asDue to the difficulty of attempting to reconcile `granular request groups`_ between an image and a flavor, only the (unnumbered) ``trait`` group is supported. The traits listed there are merged with those of the unnumbered request group from the flavor. quantitative and qualitative aspects of the request, the number of flavors will.. _granular request groups: http://specs.openstack.org/openstack/nova-specs/specs/rocky/approved/granular-resource-requests.html#numbered-request-groups","instruction set, nic features or whether its a trusted host etcThe administrator would be able to add this capability requirements to the glance image as a required traits. This would allow the nova scheduler toThe glance image already allow users to specify additional properties asquantitative and qualitative aspects of the request, the number of flavor will",11,5
openstack%2Fironic-python-agent~master~Ie052c596b536325cbd3d26fe27e476a4b0b1981d,openstack/ironic-python-agent,master,Ie052c596b536325cbd3d26fe27e476a4b0b1981d,GenericHardwareManager: get mac address using netifaces,MERGED,2018-03-13 14:08:46.000000000,2018-04-01 14:32:09.000000000,2018-04-01 14:32:09.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12171}, {'_account_id': 22348}, {'_account_id': 26682}]","[{'number': 1, 'created': '2018-03-13 14:08:46.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4f9ee6ae5ec2bc45f3df6ac227ed6d5c4cfe9546', 'message': 'GenericHardwareManager: get mac address using netifaces\n\nChange-Id: Ie052c596b536325cbd3d26fe27e476a4b0b1981d\n'}]",0,552525,4f9ee6ae5ec2bc45f3df6ac227ed6d5c4cfe9546,8,5,1,22948,,,0,"GenericHardwareManager: get mac address using netifaces

Change-Id: Ie052c596b536325cbd3d26fe27e476a4b0b1981d
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/25/552525/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py']",2,4f9ee6ae5ec2bc45f3df6ac227ed6d5c4cfe9546,mlnx_fix,"from ironic_python_agent import netutils @mock.patch.object(netutils, 'get_mac_addr', autospec=True) @mock.patch.object(netutils, 'interface_has_carrier', autospec=True) mock_has_carrier, mock_get_mac, read_mock.side_effect = ['1'] mock_get_mac.mock_has_carrier = True mock_get_mac.return_value = '00:0c:29:8c:11:b1' @mock.patch.object(netutils, 'get_mac_addr', autospec=True) @mock.patch.object(netutils, 'interface_has_carrier', autospec=True) mock_has_carrier, mock_get_mac, read_mock.side_effect = ['1'] mock_get_mac.return_value = '00:0c:29:8c:11:b1' mock_has_carrier.return_value = True @mock.patch.object(netutils, 'get_mac_addr', autospec=True) @mock.patch.object(netutils, 'interface_has_carrier', autospec=True) mock_has_carrier, mock_get_mac, read_mock.side_effect = ['1'] mock_has_carrier.return_value = True mock_get_mac.return_value = '00:0c:29:8c:11:b1' @mock.patch.object(netutils, 'interface_has_carrier', autospec=True) @mock.patch.object(netutils, 'get_mac_addr', autospec=True) mocked_ifaddresses, mocked_lldp_info, mocked_get_managers, mock_get_mac, mock_has_carrier): read_mock.side_effect = ['1'] mock_has_carrier.return_value = True mock_get_mac.return_value = '00:0c:29:8c:11:b1' @mock.patch.object(netutils, 'get_mac_addr', autospec=True) @mock.patch.object(netutils, 'interface_has_carrier', autospec=True) mock_has_carrier, mock_get_mac, read_mock.side_effect = [OSError('boom')] mock_has_carrier.return_value = False mock_get_mac.return_value = '00:0c:29:8c:11:b1' @mock.patch.object(netutils, 'get_mac_addr', autospec=True) @mock.patch.object(netutils, 'interface_has_carrier', autospec=True) mock_has_carrier, mock_get_mac, read_mock.side_effect = ['0x15b3\n', '0x1014\n'] mock_has_carrier.return_value = True mock_get_mac.return_value = mac"," read_mock.side_effect = ['00:0c:29:8c:11:b1\n', '1'] read_mock.side_effect = ['00:0c:29:8c:11:b1\n', '1'] read_mock.side_effect = ['00:0c:29:8c:11:b1\n', '1'] mocked_ifaddresses, mocked_lldp_info, mocked_get_managers): read_mock.side_effect = ['00:0c:29:8c:11:b1\n', '1'] read_mock.side_effect = ['00:0c:29:8c:11:b1\n', OSError('boom')] read_mock.side_effect = [mac + '\n', '1', '0x15b3\n', '0x1014\n']",47,12
openstack%2Fhorizon~master~I04685a81d9ddd312d33d0931a4b3ec4857a77b2d,openstack/horizon,master,I04685a81d9ddd312d33d0931a4b3ec4857a77b2d,Imported Translations from Zanata,MERGED,2018-04-01 07:07:06.000000000,2018-04-01 12:32:58.000000000,2018-04-01 12:32:57.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 07:07:06.000000000', 'files': ['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9ca9b5cd81db29bddf6dbcc5fc535009a9ec63b0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I04685a81d9ddd312d33d0931a4b3ec4857a77b2d\n'}]",0,558104,9ca9b5cd81db29bddf6dbcc5fc535009a9ec63b0,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I04685a81d9ddd312d33d0931a4b3ec4857a77b2d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/04/558104/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",4,9ca9b5cd81db29bddf6dbcc5fc535009a9ec63b0,zanata/translations,"""POT-Creation-Date: 2018-03-31 02:35+0000\n""","""POT-Creation-Date: 2018-03-29 09:23+0000\n""msgid ""13.0.0.0rc1-134"" msgstr ""13.0.0.0rc1-134"" ",138,13
openstack%2Fhorizon~master~I2091c3ff4d67300dcdc67b92804f74e61956e199,openstack/horizon,master,I2091c3ff4d67300dcdc67b92804f74e61956e199,Move default settings to a separate module,ABANDONED,2018-03-12 15:17:11.000000000,2018-04-01 12:11:22.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-12 15:17:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b15e1c9fd91ce27cc793f8721eda62fcdf5ad64a', 'message': 'Move default settings to a separate module\n\nAs of now there is no way for local_settings.py to load default settings\ndefined in openstack_dashboard.settings.\nAs the first step, this commit moves the default settings from\nsettings.py to a separate module.\n\nChange-Id: I2091c3ff4d67300dcdc67b92804f74e61956e199\n'}, {'number': 2, 'created': '2018-03-13 05:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a8a700d2de39ee224f34ee253bc77f11167c57b3', 'message': 'Move default settings to a separate module\n\nAs of now there is no way for local_settings.py to load default settings\ndefined in openstack_dashboard.settings.\nAs the first step, this commit moves the default settings from\nsettings.py to a separate module.\n\nChange-Id: I2091c3ff4d67300dcdc67b92804f74e61956e199\n'}, {'number': 3, 'created': '2018-03-14 20:59:48.000000000', 'files': ['openstack_dashboard/defaults.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cb3c79eee2ae8d81e8b28487088de5f23e1ec91f', 'message': 'Move default settings to a separate module\n\nAs of now there is no way for local_settings.py to load default settings\ndefined in openstack_dashboard.settings.\nAs the first step, this commit moves the default settings from\nsettings.py to a separate module.\n\nChange-Id: I2091c3ff4d67300dcdc67b92804f74e61956e199\n'}]",0,552054,cb3c79eee2ae8d81e8b28487088de5f23e1ec91f,16,2,3,841,,,0,"Move default settings to a separate module

As of now there is no way for local_settings.py to load default settings
defined in openstack_dashboard.settings.
As the first step, this commit moves the default settings from
settings.py to a separate module.

Change-Id: I2091c3ff4d67300dcdc67b92804f74e61956e199
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/552054/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/opts/__init__.py', 'openstack_dashboard/opts/defaults.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py']",4,b15e1c9fd91ce27cc793f8721eda62fcdf5ad64a,default-settings,# ------------------------------------------------------------ # Load default configurations from openstack_dashboard.opts.defaults import * # noqa # ------------------------------------------------------------,"from django.utils.translation import pgettext_lazy from django.utils.translation import ugettext_lazy as _ from openstack_dashboard import exceptionsDEBUG = False SITE_BRANDING = 'OpenStack Dashboard' WEBROOT = '/' LOGIN_URL = None LOGOUT_URL = None LOGIN_REDIRECT_URL = None MEDIA_ROOT = None MEDIA_URL = None STATIC_ROOT = None STATIC_URL = None SELECTABLE_THEMES = None INTEGRATION_TESTS_SUPPORT = False NG_TEMPLATE_CACHE_AGE = 2592000 ROOT_URLCONF = 'openstack_dashboard.urls' HORIZON_CONFIG = { 'user_home': 'openstack_dashboard.views.get_user_home', 'ajax_queue_limit': 10, 'auto_fade_alerts': { 'delay': 3000, 'fade_duration': 1500, 'types': ['alert-success', 'alert-info'] }, 'bug_url': None, 'help_url': ""http://docs.openstack.org"", 'exceptions': {'recoverable': exceptions.RECOVERABLE, 'not_found': exceptions.NOT_FOUND, 'unauthorized': exceptions.UNAUTHORIZED}, 'modal_backdrop': 'static', 'angular_modules': [], 'js_files': [], 'js_spec_files': [], 'external_templates': [], 'plugins': [], 'integration_tests_support': INTEGRATION_TESTS_SUPPORT } # The OPENSTACK_IMAGE_BACKEND settings can be used to customize features # in the OpenStack Dashboard related to the Image service, such as the list # of supported image formats. OPENSTACK_IMAGE_BACKEND = { 'image_formats': [ ('', _('Select format')), ('aki', _('AKI - Amazon Kernel Image')), ('ami', _('AMI - Amazon Machine Image')), ('ari', _('ARI - Amazon Ramdisk Image')), ('docker', _('Docker')), ('iso', _('ISO - Optical Disk Image')), ('ova', _('OVA - Open Virtual Appliance')), ('ploop', _('PLOOP - Virtuozzo/Parallels Loopback Disk')), ('qcow2', _('QCOW2 - QEMU Emulator')), ('raw', _('Raw')), ('vdi', _('VDI - Virtual Disk Image')), ('vhd', _('VHD - Virtual Hard Disk')), ('vhdx', _('VHDX - Large Virtual Hard Disk')), ('vmdk', _('VMDK - Virtual Machine Disk')), ] } MIDDLEWARE = ( 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'horizon.middleware.OperationLogMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'horizon.middleware.HorizonMiddleware', 'horizon.themes.ThemeMiddleware', 'django.middleware.locale.LocaleMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware', 'openstack_dashboard.contrib.developer.profiler.middleware.' 'ProfilerClientMiddleware', 'openstack_dashboard.contrib.developer.profiler.middleware.' 'ProfilerMiddleware', ) CACHED_TEMPLATE_LOADERS = [ 'django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader', 'horizon.loaders.TemplateLoader' ] ADD_TEMPLATE_LOADERS = [] TEMPLATES = [ { 'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [os.path.join(ROOT_PATH, 'templates')], 'OPTIONS': { 'context_processors': [ 'django.template.context_processors.debug', 'django.template.context_processors.i18n', 'django.template.context_processors.request', 'django.template.context_processors.media', 'django.template.context_processors.static', 'django.contrib.messages.context_processors.messages', 'horizon.context_processors.horizon', 'openstack_dashboard.context_processors.openstack', ], 'loaders': [ 'horizon.themes.ThemeTemplateLoader' ], }, }, ] STATICFILES_FINDERS = ( 'django.contrib.staticfiles.finders.FileSystemFinder', 'horizon.contrib.staticfiles.finders.HorizonStaticFinder', 'compressor.finders.CompressorFinder', ) COMPRESS_PRECOMPILERS = ( ('text/scss', 'horizon.utils.scss_filter.HorizonScssFilter'), ) COMPRESS_CSS_FILTERS = ( 'compressor.filters.css_default.CssAbsoluteFilter', ) COMPRESS_ENABLED = True COMPRESS_OUTPUT_DIR = 'dashboard' COMPRESS_CSS_HASHING_METHOD = 'hash' COMPRESS_PARSER = 'compressor.parser.HtmlParser' INSTALLED_APPS = [ 'openstack_dashboard', 'django.contrib.contenttypes', 'django.contrib.auth', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'django.contrib.humanize', 'django_pyscss', 'openstack_dashboard.django_pyscss_fix', 'compressor', 'horizon', 'openstack_auth', ] TEST_RUNNER = 'django_nose.NoseTestSuiteRunner' AUTHENTICATION_BACKENDS = ('openstack_auth.backend.KeystoneBackend',) AUTHENTICATION_URLS = ['openstack_auth.urls'] AUTH_USER_MODEL = 'openstack_auth.User' MESSAGE_STORAGE = 'django.contrib.messages.storage.fallback.FallbackStorage' SESSION_ENGINE = 'django.contrib.sessions.backends.signed_cookies' SESSION_COOKIE_HTTPONLY = True SESSION_EXPIRE_AT_BROWSER_CLOSE = True SESSION_COOKIE_SECURE = False # SESSION_TIMEOUT is a method to supersede the token timeout with a shorter # horizon session timeout (in seconds). So if your token expires in 60 # minutes, a value of 1800 will log users out after 30 minutes SESSION_TIMEOUT = 3600 # When using cookie-based sessions, log error when the session cookie exceeds # the following size (common browsers drop cookies above a certain size): SESSION_COOKIE_MAX_SIZE = 4093 # when doing upgrades, it may be wise to stick to PickleSerializer # NOTE(berendt): Check during the K-cycle if this variable can be removed. # https://bugs.launchpad.net/horizon/+bug/1349463 SESSION_SERIALIZER = 'django.contrib.sessions.serializers.PickleSerializer' CSRF_FAILURE_VIEW = 'openstack_dashboard.views.csrf_failure' LANGUAGES = ( ('cs', 'Czech'), ('de', 'German'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('fr', 'French'), ('id', 'Indonesian'), ('it', 'Italian'), ('ja', 'Japanese'), ('ko', 'Korean (Korea)'), ('pl', 'Polish'), ('pt-br', 'Portuguese (Brazil)'), ('ru', 'Russian'), ('tr', 'Turkish'), ('zh-cn', 'Simplified Chinese'), ('zh-tw', 'Chinese (Taiwan)'), ) LANGUAGE_CODE = 'en' LANGUAGE_COOKIE_NAME = 'horizon_language' USE_I18N = True USE_L10N = True USE_TZ = True LOCALE_PATHS = [ 'horizon/locale', 'openstack_dashboard/locale', ] # Set OPENSTACK_CLOUDS_YAML_NAME to provide a nicer name for this cloud for # the clouds.yaml file than ""openstack"". OPENSTACK_CLOUDS_YAML_NAME = 'openstack' # If this cloud has a vendor profile in os-client-config, put it's name here. OPENSTACK_CLOUDS_YAML_PROFILE = '' OPENSTACK_KEYSTONE_DEFAULT_ROLE = '_member_' DEFAULT_EXCEPTION_REPORTER_FILTER = 'horizon.exceptions.HorizonReporterFilter' POLICY_FILES_PATH = os.path.join(ROOT_PATH, ""conf"") # Map of local copy of service policy files POLICY_FILES = { 'identity': 'keystone_policy.json', 'compute': 'nova_policy.json', 'volume': 'cinder_policy.json', 'image': 'glance_policy.json', 'network': 'neutron_policy.json', } # Services for which horizon has extra policies are defined # in POLICY_DIRS by default. POLICY_DIRS = { 'compute': ['nova_policy.d'], 'volume': ['cinder_policy.d'], } SECRET_KEY = None LOCAL_PATH = None SECURITY_GROUP_RULES = { 'all_tcp': { 'name': _('All TCP'), 'ip_protocol': 'tcp', 'from_port': '1', 'to_port': '65535', }, 'all_udp': { 'name': _('All UDP'), 'ip_protocol': 'udp', 'from_port': '1', 'to_port': '65535', }, 'all_icmp': { 'name': _('All ICMP'), 'ip_protocol': 'icmp', 'from_port': '-1', 'to_port': '-1', }, } ADD_INSTALLED_APPS = [] USER_MENU_LINKS = [ {'name': _('OpenStack RC File v2'), 'icon_classes': ['fa-download', ], 'url': 'horizon:project:api_access:openrcv2' }, {'name': _('OpenStack RC File v3'), 'icon_classes': ['fa-download', ], 'url': 'horizon:project:api_access:openrc' } ] # Deprecated Theme Settings CUSTOM_THEME_PATH = None DEFAULT_THEME_PATH = None # 'key', 'label', 'path' AVAILABLE_THEMES = [ ( 'default', pgettext_lazy('Default style theme', 'Default'), 'themes/default' ), ( 'material', pgettext_lazy(""Google's Material Design style theme"", ""Material""), 'themes/material' ), ] # The default theme if no cookie is present DEFAULT_THEME = 'default' # Theme Static Directory THEME_COLLECTION_DIR = 'themes' # Theme Cookie Name THEME_COOKIE_NAME = 'theme' POLICY_CHECK_FUNCTION = 'openstack_auth.policy.check' CSRF_COOKIE_AGE = None COMPRESS_OFFLINE_CONTEXT = 'horizon.themes.offline_context' SHOW_KEYSTONE_V2_RC = True # Dictionary of currently available angular features ANGULAR_FEATURES = { 'images_panel': True, 'key_pairs_panel': True, 'flavors_panel': False, 'domains_panel': False, 'users_panel': False, 'groups_panel': False, 'roles_panel': True } # Notice all customizable configurations should be above this line XSTATIC_MODULES = settings_utils.BASE_XSTATIC_MODULES OPENSTACK_PROFILER = { 'enabled': False }",349,320
openstack%2Fkolla-ansible~master~I44aefcf3d71faecaf1ffe384fd5a2f611e584a37,openstack/kolla-ansible,master,I44aefcf3d71faecaf1ffe384fd5a2f611e584a37,Add common_options to keystone container check,MERGED,2018-03-29 21:09:52.000000000,2018-04-01 11:39:44.000000000,2018-03-30 12:26:20.000000000,"[{'_account_id': 1390}, {'_account_id': 9414}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 21:09:52.000000000', 'files': ['ansible/roles/keystone/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/735012c4bb4aaf83aa2eaadefde7b8b0a4674397', 'message': 'Add common_options to keystone container check\n\nkeystone_* containers are created via the kolla_docker ansible module\nwith common_options set to docker_common_options. However, when the\ncontainers are checked, common_options are not passed to the\nkolla_docker ansible module. This can cause the keystone_* containers\nto be restarted during a reconfigure when there are no changes to\nkeystone configuration.\n\nAdd the common_options argument to the kolla_docker ansible module when\nchecking the keystone containers and set it to docker_common_options.\n\nChange-Id: I44aefcf3d71faecaf1ffe384fd5a2f611e584a37\nCloses-Bug: #1759922\n'}]",0,557832,735012c4bb4aaf83aa2eaadefde7b8b0a4674397,10,4,1,27330,,,0,"Add common_options to keystone container check

keystone_* containers are created via the kolla_docker ansible module
with common_options set to docker_common_options. However, when the
containers are checked, common_options are not passed to the
kolla_docker ansible module. This can cause the keystone_* containers
to be restarted during a reconfigure when there are no changes to
keystone configuration.

Add the common_options argument to the kolla_docker ansible module when
checking the keystone containers and set it to docker_common_options.

Change-Id: I44aefcf3d71faecaf1ffe384fd5a2f611e584a37
Closes-Bug: #1759922
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/557832/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/config.yml'],1,735012c4bb4aaf83aa2eaadefde7b8b0a4674397,bug/1759922," common_options: ""{{ docker_common_options }}""",,1,0
openstack%2Fkolla-ansible~master~Iedeaad4fc3256f0d65fda5c4b73691b6a4d0f750,openstack/kolla-ansible,master,Iedeaad4fc3256f0d65fda5c4b73691b6a4d0f750,Set glance to alphabetically in globals.yml,MERGED,2018-04-01 10:12:27.000000000,2018-04-01 11:30:40.000000000,2018-04-01 11:30:40.000000000,"[{'_account_id': 11869}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-01 10:12:27.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58dbe2e11669e24b295e5dc5c6ecf90a141cf87c', 'message': 'Set glance to alphabetically in globals.yml\n\nChange-Id: Iedeaad4fc3256f0d65fda5c4b73691b6a4d0f750\n'}]",0,558105,58dbe2e11669e24b295e5dc5c6ecf90a141cf87c,7,3,1,11869,,,0,"Set glance to alphabetically in globals.yml

Change-Id: Iedeaad4fc3256f0d65fda5c4b73691b6a4d0f750
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/558105/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,58dbe2e11669e24b295e5dc5c6ecf90a141cf87c,a8,"#glance_backend_file: ""yes""#glance_backend_vmware: ""no""","#glance_backend_file: ""yes""#glance_backend_vmware: ""no""",2,2
openstack%2Fkolla-ansible~stable%2Fpike~If5c91cf7b491966b1deac42c694af5995df9b11e,openstack/kolla-ansible,stable/pike,If5c91cf7b491966b1deac42c694af5995df9b11e,Remove duplicate configuration options on trove templates,MERGED,2018-03-28 10:06:49.000000000,2018-04-01 10:39:19.000000000,2018-04-01 10:39:19.000000000,"[{'_account_id': 18665}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-03-28 10:06:49.000000000', 'files': ['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17d39b98c20f85acbfdd1ea4a767c0cdc4d3f8f5', 'message': 'Remove duplicate configuration options on trove templates\n\nThe option neutron_endpoint_type is duplicate on these files:\n - trove/templates/trove.conf.j2\n - trove/templates/trove-taskmanager.conf.j2\n\nWe just have to remove one occurrence.\n\nChange-Id: If5c91cf7b491966b1deac42c694af5995df9b11e\n(cherry picked from commit 953433ce7bb9ed62a14f6a9f4178f8bcba30c5a9)\n'}]",0,557288,17d39b98c20f85acbfdd1ea4a767c0cdc4d3f8f5,7,4,1,7488,,,0,"Remove duplicate configuration options on trove templates

The option neutron_endpoint_type is duplicate on these files:
 - trove/templates/trove.conf.j2
 - trove/templates/trove-taskmanager.conf.j2

We just have to remove one occurrence.

Change-Id: If5c91cf7b491966b1deac42c694af5995df9b11e
(cherry picked from commit 953433ce7bb9ed62a14f6a9f4178f8bcba30c5a9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/557288/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2']",2,17d39b98c20f85acbfdd1ea4a767c0cdc4d3f8f5,duplicate-stable/pike,,neutron_endpoint_type = internalURL,0,2
openstack%2Fkolla-ansible~stable%2Fqueens~Idc536ee347fdb042653c662c777f27c9d0e411ae,openstack/kolla-ansible,stable/queens,Idc536ee347fdb042653c662c777f27c9d0e411ae,Fix wrong panko mysql connection string,MERGED,2018-03-28 15:03:15.000000000,2018-04-01 10:35:14.000000000,2018-04-01 10:35:14.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-03-28 15:03:15.000000000', 'files': ['ansible/roles/panko/templates/panko.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acbfd52ccd6bd7535a60f8e6c2dc464503359e57', 'message': 'Fix wrong panko mysql connection string\n\nChange-Id: Idc536ee347fdb042653c662c777f27c9d0e411ae\nCloses-Bug: #1757385\n(cherry picked from commit 5fc656eb5c8c82328d51837d9274c308eaa95142)\n'}]",0,557360,acbfd52ccd6bd7535a60f8e6c2dc464503359e57,7,3,1,7488,,,0,"Fix wrong panko mysql connection string

Change-Id: Idc536ee347fdb042653c662c777f27c9d0e411ae
Closes-Bug: #1757385
(cherry picked from commit 5fc656eb5c8c82328d51837d9274c308eaa95142)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/557360/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/panko/templates/panko.conf.j2'],1,acbfd52ccd6bd7535a60f8e6c2dc464503359e57,bug/1757385-stable/queens,event_connection = mysql+pymysql://{{ panko_database_user }}:{{ panko_database_password }}@{{ panko_database_mysql_address }}/{{ panko_database_name }} metering_connection = mysql+pymysql://{{ panko_database_user }}:{{ panko_database_password }}@{{ panko_database_mysql_address }}/{{ panko_database_name }},event_connection = mysql+pymysql://{{ panko_database_user }}:{{ panko_database_password }}@{{ panko_database_mysql_address }}:{{ panko_database_port }}/{{ panko_database_name }} metering_connection = mysql+pymysql://{{ panko_database_user }}:{{ panko_database_password }}@{{ panko_database_mysql_address }}:{{ panko_database_port }}/{{ panko_database_name }},2,2
openstack%2Fkolla-ansible~stable%2Fqueens~Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753,openstack/kolla-ansible,stable/queens,Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753,Update ceph client.admin caps during upgrade,MERGED,2018-03-31 07:28:23.000000000,2018-04-01 10:24:58.000000000,2018-04-01 10:24:58.000000000,"[{'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-03-31 07:28:23.000000000', 'files': ['ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/library/kolla_ceph_keyring.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4fbb2571d31eeb13f0103bdb54f906cc9477fda6', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n(cherry picked from commit 20c5e8fe13ae57ac59c8b536830ee4b133f75d52)\n""}]",0,558036,4fbb2571d31eeb13f0103bdb54f906cc9477fda6,8,4,1,7488,,,0,"Update ceph client.admin caps during upgrade

When upgrade from ceph Jewel to ceph luminous, the client.admin caps
should add `mgr 'allow *'` caps

Change-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753
Closes-Bug: #1750967
(cherry picked from commit 20c5e8fe13ae57ac59c8b536830ee4b133f75d52)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/558036/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/library/kolla_ceph_keyring.py']",4,4fbb2571d31eeb13f0103bdb54f906cc9477fda6,bug/1750967-stable/queens,"#!/usr/bin/env python # Copyright 2018 99cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import json import subprocess # nosec DOCUMENTATION = ''' --- module: kolla_ceph_keyring short_description: > Module for update ceph client keyring caps in kolla. description: - A module used to update ceph client keyring caps in kolla. options: name: description: - the client name in ceph required: True type: str container_name: description: - the ceph mon container name required: True default: ceph_mon type: str caps: description: - the ceph auth caps required: True type: dict author: Jeffrey Zhang ''' EXAMPLES = ''' - name: configure admin client caps kolla_ceph_keyring: name: client.admin container_name: ceph_mon caps: mds: 'allow' mon: 'allow *' osd: 'allow *' mgr: 'allow *' ''' class CephKeyring(object): def __init__(self, name, caps, container_name='ceph_mon'): self.name = name self.caps = caps self.container_name = container_name self.changed = False self.message = None def _run(self, cmd): _prefix = ['docker', 'exec', self.container_name] cmd = _prefix + cmd proc = subprocess.Popen(cmd, # nosec stdout=subprocess.PIPE, stderr=subprocess.PIPE) stdout, stderr = proc.communicate() retcode = proc.poll() if retcode != 0: output = 'stdout: ""%s"", stderr: ""%s""' % (stdout, stderr) raise subprocess.CalledProcessError(retcode, cmd, output) return stdout def _format_caps(self): caps = [] for obj in sorted(self.caps): caps.extend([obj, self.caps[obj]]) return caps def parse_stdout(self, stdout): keyring = json.loads(stdout) # there should be only one element return keyring[0] def ensure_keyring(self): try: stdout = self.get_keyring() except subprocess.CalledProcessError: # keyring doesn't exsit, try to create it stdout = self.create_keyring() self.changed = True self.message = 'ceph keyring for %s is created' % self.name keyring = self.parse_stdout(stdout) if keyring['caps'] != self.caps: self.update_caps() stdout = self.get_keyring() keyring = self.parse_stdout(stdout) self.changed = True self.message = 'ceph keyring for %s is updated' % self.name self.keyring = keyring return self.keyring def get_keyring(self): ceph_cmd = ['ceph', '--format', 'json', 'auth', 'get', self.name] return self._run(ceph_cmd) def update_caps(self): ceph_cmd = ['ceph', '--format', 'json', 'auth', 'caps', self.name] caps = self._format_caps() ceph_cmd.extend(caps) self._run(ceph_cmd) def create_keyring(self): ceph_cmd = ['ceph', '--format', 'json', 'auth', 'get-or-create', self.name] caps = self._format_caps() ceph_cmd.extend(caps) return self._run(ceph_cmd) def main(): specs = dict( name=dict(type='str', required=True), container_name=dict(type='str', default='ceph_mon'), caps=dict(type='dict', required=True) ) module = AnsibleModule(argument_spec=specs) # noqa params = module.params ceph_keyring = CephKeyring(params['name'], params['caps'], params['container_name']) try: keyring = ceph_keyring.ensure_keyring() module.exit_json(changed=ceph_keyring.changed, keyring=keyring, message=ceph_keyring.message) except subprocess.CalledProcessError as ex: msg = ('Failed to call command: %s returncode: %s output: %s' % (ex.cmd, ex.returncode, ex.output)) module.fail_json(msg=msg) from ansible.module_utils.basic import * # noqa if __name__ == ""__main__"": main() ",,175,0
openstack%2Fupstream-institute-virtual-environment~master~I6163f3e6d04ac213090df3d0daeb86790f001bca,openstack/upstream-institute-virtual-environment,master,I6163f3e6d04ac213090df3d0daeb86790f001bca,Mention VirtualBox extension pack,MERGED,2018-03-01 21:15:42.000000000,2018-04-01 09:47:12.000000000,2018-04-01 09:46:43.000000000,"[{'_account_id': 7198}, {'_account_id': 10298}, {'_account_id': 14482}, {'_account_id': 21723}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-01 21:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/b2fab6d86a6b43f5b2ad7b85d7c096dd4c11e902', 'message': 'Mention VirtualBox extension pack\n\nAs the ExtensionPack is also needed for VirtualBox this change\nmentions it.\n\nChange-Id: I6163f3e6d04ac213090df3d0daeb86790f001bca\nSigned-off-by: Gergely Csatari <gergely.csatari@nokia.com>\n'}, {'number': 2, 'created': '2018-03-26 23:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/d613d1a19f72ed71fa6b84e79653cb2aee0ba9bc', 'message': 'Mention VirtualBox extension pack\n\nAs the ExtensionPack is also needed for VirtualBox this change\nmentions it.\n\nChange-Id: I6163f3e6d04ac213090df3d0daeb86790f001bca\nSigned-off-by: Gergely Csatari <gergely.csatari@nokia.com>\n'}, {'number': 3, 'created': '2018-03-27 18:22:17.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/b4614d0b8cf150cdb72b09c087f8d7a0e81495a1', 'message': 'Mention VirtualBox extension pack\n\nAs the ExtensionPack is also needed for VirtualBox this change\nmentions it.\n\nChange-Id: I6163f3e6d04ac213090df3d0daeb86790f001bca\nSigned-off-by: Gergely Csatari <gergely.csatari@nokia.com>\n'}]",6,549044,b4614d0b8cf150cdb72b09c087f8d7a0e81495a1,19,5,3,21723,,,0,"Mention VirtualBox extension pack

As the ExtensionPack is also needed for VirtualBox this change
mentions it.

Change-Id: I6163f3e6d04ac213090df3d0daeb86790f001bca
Signed-off-by: Gergely Csatari <gergely.csatari@nokia.com>
",git fetch https://review.opendev.org/openstack/upstream-institute-virtual-environment refs/changes/44/549044/3 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b2fab6d86a6b43f5b2ad7b85d7c096dd4c11e902,virtualbox-extensions,1. Set up [VirtualBox] and the [Extension Pack][Extension Pack]: https://download.virtualbox.org/virtualbox/5.2.8/Oracle_VM_VirtualBox_Extension_Pack-5.2.8-121009.vbox-extpack [image]: https://github.com/kmARC/openstack-training-virtual-environment/releases/download/next/upstream-training-alpha.ova [ova-import-help]: README-virtualbox-import.md [releases]: https://github.com/kmARC/openstack-training-virtual-environment/releases,1. Set up [VirtualBox][image]: https://github.com/kmARC/openstack-training-virtual-environment/releases/download/next/upstream-training-alpha.ova [releases]: https://github.com/kmARC/openstack-training-virtual-environment/releases [ova-import-help]: README-virtualbox-import.md,5,4
openstack%2Fnetworking-odl~master~Ibdd6efe8c1462f99acc48922708521d8a8c79322,openstack/networking-odl,master,Ibdd6efe8c1462f99acc48922708521d8a8c79322,DNM: Testing job lower-constraints actually works,ABANDONED,2018-03-28 15:49:18.000000000,2018-04-01 08:09:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-03-28 15:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/176a5d88d13da8935b87a6e15dfead6689481051', 'message': 'DNM: Testing job lower-constraints actually works\n\nChange-Id: Ibdd6efe8c1462f99acc48922708521d8a8c79322\nDepends-On: https://review.openstack.org/557379/\n'}, {'number': 2, 'created': '2018-03-29 13:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/61d3416c7bc957f110f596ffa726d3fb518b02fc', 'message': 'DNM: Testing job lower-constraints actually works\n\nChange-Id: Ibdd6efe8c1462f99acc48922708521d8a8c79322\n'}, {'number': 3, 'created': '2018-03-29 14:09:41.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/703a8555562c92146bf7cbf72a36d00488c165ff', 'message': 'DNM: Testing job lower-constraints actually works\n\nChange-Id: Ibdd6efe8c1462f99acc48922708521d8a8c79322\n'}]",0,557381,703a8555562c92146bf7cbf72a36d00488c165ff,9,2,3,26507,,,0,"DNM: Testing job lower-constraints actually works

Change-Id: Ibdd6efe8c1462f99acc48922708521d8a8c79322
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/81/557381/3 && git format-patch -1 --stdout FETCH_HEAD,[],0,176a5d88d13da8935b87a6e15dfead6689481051,requirements-stop-syncing,,,0,0
openstack%2Fvitrage-tempest-plugin~master~Ie92424a08c1d1cd3d09d173a1d7e8e08da279bfc,openstack/vitrage-tempest-plugin,master,Ie92424a08c1d1cd3d09d173a1d7e8e08da279bfc,sometimes gethostbyname fails,MERGED,2018-03-28 09:55:47.000000000,2018-04-01 08:01:30.000000000,2018-04-01 08:01:30.000000000,"[{'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 27609}]","[{'number': 1, 'created': '2018-03-28 09:55:47.000000000', 'files': ['vitrage_tempest_plugin/tests/utils.py'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/997f480403e7ef547290c06ecf891428da5c5d35', 'message': 'sometimes gethostbyname fails\n\nfallback to 127.0.0.1\n\nChange-Id: Ie92424a08c1d1cd3d09d173a1d7e8e08da279bfc\n'}]",0,557284,997f480403e7ef547290c06ecf891428da5c5d35,9,5,1,19134,,,0,"sometimes gethostbyname fails

fallback to 127.0.0.1

Change-Id: Ie92424a08c1d1cd3d09d173a1d7e8e08da279bfc
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/84/557284/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage_tempest_plugin/tests/utils.py'],1,997f480403e7ef547290c06ecf891428da5c5d35,," local_ip = '127.0.0.1' try: local_ip = socket.gethostbyname(socket.gethostname()) except socket.error: LOG.info(""didn't get local ip using default hostname=%s"", socket.gethostname())", local_ip = socket.gethostbyname(socket.gethostname()),6,1
openstack%2Fproject-config~master~I4516a29a8b83f73e2439b65a0833a7fc7169a6ce,openstack/project-config,master,I4516a29a8b83f73e2439b65a0833a7fc7169a6ce,Add lower-constraints job to networking-odl,ABANDONED,2018-03-28 15:44:21.000000000,2018-04-01 07:58:47.000000000,,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-03-28 15:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/193fa0c9530399c349f7eda697b76f19b9547e4d', 'message': 'Add lower-constraints job to networking-odl\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I4516a29a8b83f73e2439b65a0833a7fc7169a6ce\nDepends-On: https://review.openstack.org/556303\n'}, {'number': 2, 'created': '2018-03-28 15:50:42.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a92cbe4a0df231e62bcad9fee3ce748da93e3006', 'message': 'Add lower-constraints job to networking-odl\n\nAdd openstack-tox-lower-constraints job to the zuul configuration.\n\nSee http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html\nfor more details.\n\nChange-Id: I4516a29a8b83f73e2439b65a0833a7fc7169a6ce\nDepends-On: https://review.openstack.org/556303\n'}]",0,557379,a92cbe4a0df231e62bcad9fee3ce748da93e3006,9,4,2,26507,,,0,"Add lower-constraints job to networking-odl

Add openstack-tox-lower-constraints job to the zuul configuration.

See http://lists.openstack.org/pipermail/openstack-dev/2018-March/128352.html
for more details.

Change-Id: I4516a29a8b83f73e2439b65a0833a7fc7169a6ce
Depends-On: https://review.openstack.org/556303
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/557379/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,193fa0c9530399c349f7eda697b76f19b9547e4d,requirements-stop-syncing, - openstack-tox-lower-constraints: required-projects: - openstack/ceilometer - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn - openstack-tox-lower-constraints: required-projects: - openstack/ceilometer - openstack/neutron - openstack/neutron-fwaas - openstack/neutron-lbaas - openstack/networking-l2gw - openstack/networking-sfc - openstack/networking-bgpvpn,,18,0
openstack%2Fopenstack-ansible~stable%2Fqueens~If2c6b83abafdc66879d818df4c9690142389a965,openstack/openstack-ansible,stable/queens,If2c6b83abafdc66879d818df4c9690142389a965,[Docs] Restructure inventory documentation,MERGED,2018-03-26 07:41:50.000000000,2018-04-01 04:14:17.000000000,2018-04-01 04:14:17.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 07:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9aba7f18e045165c8fee9fe5db34a1a562714c67', 'message': '[Docs] Restructure inventory documentation\n\nThe documentation of the inventory started to be spread out, but\nalso massive to be inside one page.\n\nThis moves it to the inventory section of the reference, but at the\nsame time, to improve readability, moves the previous content into\nsub pages.\n\nChange-Id: If2c6b83abafdc66879d818df4c9690142389a965\n(cherry picked from commit 181c83baef8aa87ef2374cef961eddf3d036f2ad)\n'}, {'number': 2, 'created': '2018-03-26 07:43:36.000000000', 'files': ['doc/source/reference/configuration/extending-osa.rst', 'doc/source/reference/inventory/configure-inventory.rst', 'doc/source/reference/inventory/inventory.rst', 'doc/source/reference/inventory/understanding-inventory.rst', 'doc/source/reference/configuration/using-overrides.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/inventory-and-vars.rst', 'doc/source/reference/inventory/openstack-user-config-reference.rst', 'doc/source/reference/configuration/extra-python-software.rst', 'doc/source/reference/architecture/container-networking.rst', 'doc/source/reference/inventory/manage-inventory.rst', 'doc/source/reference/configuration/advanced-config.rst', 'doc/source/reference/inventory/generate-inventory.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/75808673393996028b0c4975ebec5658653dc98a', 'message': '[Docs] Restructure inventory documentation\n\nThe documentation of the inventory started to be spread out, but\nalso massive to be inside one page.\n\nThis moves it to the inventory section of the reference, but at the\nsame time, to improve readability, moves the previous content into\nsub pages.\n\nChange-Id: If2c6b83abafdc66879d818df4c9690142389a965\n(cherry picked from commit 181c83baef8aa87ef2374cef961eddf3d036f2ad)\n'}]",2,556378,75808673393996028b0c4975ebec5658653dc98a,9,4,2,17068,,,0,"[Docs] Restructure inventory documentation

The documentation of the inventory started to be spread out, but
also massive to be inside one page.

This moves it to the inventory section of the reference, but at the
same time, to improve readability, moves the previous content into
sub pages.

Change-Id: If2c6b83abafdc66879d818df4c9690142389a965
(cherry picked from commit 181c83baef8aa87ef2374cef961eddf3d036f2ad)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/556378/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/configuration/extending-osa.rst', 'doc/source/reference/inventory/configure-inventory.rst', 'doc/source/reference/inventory/inventory.rst', 'doc/source/reference/inventory/understanding-inventory.rst', 'doc/source/reference/configuration/using-overrides.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/inventory-and-vars.rst', 'doc/source/reference/inventory/openstack-user-config-reference.rst', 'doc/source/reference/configuration/extra-python-software.rst', 'doc/source/reference/architecture/container-networking.rst', 'doc/source/reference/inventory/manage-inventory.rst', 'doc/source/reference/configuration/advanced-config.rst', 'doc/source/reference/inventory/generate-inventory.rst']",13,9aba7f18e045165c8fee9fe5db34a1a562714c67,restructure_inventory_docs,"This section explains how ansible runs the inventory, and how you can run it manually to see its behavior. Executing the dynamic_inventory.py script manually ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~``openstack-ansible``) Ansible automatically executes the ``dynamic_inventory.py`` script Checking inventory configuration for errors ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Using the ``--check`` flag when running ``dynamic_inventory.py`` will run the inventory build process and look for known errors, but not write any files to disk. If any groups defined in the ``openstack_user_config.yml`` or ``conf.d`` files are not found in the environment, a warning will be raised. This check does not do YAML syntax validation, though it will fail if there are unparseable errors. Writing debug logs ~~~~~~~~~~~~~~~~~~~ The ``--debug/-d`` parameter allows writing of a detailed log file for debugging the inventory script's behavior. The output is written to ``inventory.log`` in the current working directory. The ``inventory.log`` file is appended to, not overwritten. Like ``--check``, this flag is not invoked when running from ansible.",Executing the dynamic_inventory.py script ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~``openstack-ansible``) Ansible executes the ``dynamic_inventory.py`` script,258,217
openstack%2Fopenstack-ansible~stable%2Fqueens~Ifb3ef041c773ee6dbe6606e2e5efc0542776dfc5,openstack/openstack-ansible,stable/queens,Ifb3ef041c773ee6dbe6606e2e5efc0542776dfc5,[Docs] Include OpenStack-Ansible Manifesto,MERGED,2018-03-26 07:08:26.000000000,2018-04-01 04:13:56.000000000,2018-04-01 04:13:55.000000000,"[{'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-03-26 07:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8e75e33296f18163bddc1e141d78bf5d16b14d62', 'message': '[Docs] Include OpenStack-Ansible Manifesto\n\nThe OpenStack Ansible Deployment manifesto [1] was lost in times in\npages long forgotten of the wiki.\n\nInstead, it should be part of the documentation, in our reference\nsection. The reference is a great place because it\'s where we\nexplain WHY we are doing things.\n\nTo increase visibility of this page, the design decisions are\ndirectly linked from the deploy guide appendix about\n""Why OpenStack-Ansible"".\n\nChange-Id: Ifb3ef041c773ee6dbe6606e2e5efc0542776dfc5\n(cherry picked from commit d99c1d34694bdadf4ce462252e558cbf35164995)\n'}, {'number': 2, 'created': '2018-03-26 07:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d18db1adf9c6d615c66d09c53a180807fe6bf0b2', 'message': '[Docs] Include OpenStack-Ansible Manifesto\n\nThe OpenStack Ansible Deployment manifesto [1] was lost in times in\npages long forgotten of the wiki.\n\nInstead, it should be part of the documentation, in our reference\nsection. The reference is a great place because it\'s where we\nexplain WHY we are doing things.\n\nTo increase visibility of this page, the design decisions are\ndirectly linked from the deploy guide appendix about\n""Why OpenStack-Ansible"".\n\nChange-Id: Ifb3ef041c773ee6dbe6606e2e5efc0542776dfc5\n(cherry picked from commit d99c1d34694bdadf4ce462252e558cbf35164995)\n'}, {'number': 3, 'created': '2018-03-29 19:52:30.000000000', 'files': ['doc/source/reference/architecture/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'doc/source/reference/architecture/manifesto.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/48786615db899de2b3be51cb3fbbf2fa8de5d789', 'message': '[Docs] Include OpenStack-Ansible Manifesto\n\nThe OpenStack Ansible Deployment manifesto [1] was lost in times in\npages long forgotten of the wiki.\n\nInstead, it should be part of the documentation, in our reference\nsection. The reference is a great place because it\'s where we\nexplain WHY we are doing things.\n\nTo increase visibility of this page, the design decisions are\ndirectly linked from the deploy guide appendix about\n""Why OpenStack-Ansible"".\n\nChange-Id: Ifb3ef041c773ee6dbe6606e2e5efc0542776dfc5\n(cherry picked from commit d99c1d34694bdadf4ce462252e558cbf35164995)\n'}]",2,556362,48786615db899de2b3be51cb3fbbf2fa8de5d789,14,5,3,17068,,,0,"[Docs] Include OpenStack-Ansible Manifesto

The OpenStack Ansible Deployment manifesto [1] was lost in times in
pages long forgotten of the wiki.

Instead, it should be part of the documentation, in our reference
section. The reference is a great place because it's where we
explain WHY we are doing things.

To increase visibility of this page, the design decisions are
directly linked from the deploy guide appendix about
""Why OpenStack-Ansible"".

Change-Id: Ifb3ef041c773ee6dbe6606e2e5efc0542776dfc5
(cherry picked from commit d99c1d34694bdadf4ce462252e558cbf35164995)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/556362/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/architecture/index.rst', 'deploy-guide/source/app-aboutosa.rst', 'doc/source/reference/architecture/manifesto.rst']",3,8e75e33296f18163bddc1e141d78bf5d16b14d62,bp/docs-improvements-stable/queens,"OpenStack-Ansible Manifesto =========================== This project will be a **Batteries included** project. Which means deployer can expect that deploying from any of the named feature branches or tags should provide an OpenStack cloud built for production which will be available at the successful completion of the deployment. Project scope ~~~~~~~~~~~~ This project will be a **Batteries included** project. Which means deployer can expect that deploying from any of the named feature branches or tags should provide an OpenStack cloud built for production which will be available at the successful completion of the deployment. However, this project solely focuses on the deployment of OpenStack and its requirements. This project does **not** PXE boot hosts. Host setup and lifecycle management is left to the deployer. This project also requires that bridges are setup within the hosts to allow the containers to attach to a local bridge for network access. See also the :dev_docs:`Container networking <reference/architecture/container-networking.html>`. Ansible Usage ~~~~~~~~~~~~~ Ansible provides an automation platform to simplify system and application deployment. Ansible manages systems by using Secure Shell (SSH) instead of unique protocols that require remote daemons or agents. Ansible uses playbooks written in the YAML language for orchestration. For more information, see `Ansible - Intro to Playbooks <http://docs.ansible.com/playbooks_intro.html>`_. Ansible is a simple yet powerful orchestration tool that is ideally equipped for deploying OpenStack-powered clouds. The declarative nature of Ansible allows the deployer to turn an entire deployment into a rather simple set of instructions. Roles within the Openstack-Ansible umbrella are built using Ansible best practices and contain namespaced variables that are *human* understandable. All roles are independant of each other and testable separately. All roles are built as Galaxy compatible roles even when the given role is not intended for standalone use. While the project will offer a lot of built-in roles the deployer will be able to pull down or override roles with external ones using the built-in Ansible capabilities. This allows extreme flexibility for deployers. Source based deployments ~~~~~~~~~~~~~~~~~~~~~~~~ When the OpenStack-Ansible project was created, it was required to provide a system able to override any OpenStack upstream source code. This means that OpenStack services and their python dependencies are built and installed from source code as found within the OpenStack Git repositories by default, but allow deployers to point to their own repositories. This also allows developers to point to their own code for their work. A source based deployment, for Python-built parts of OpenStack, makes sense when dealing with scale and wanting consistency over long periods of time. A deployer should have the ability to deploy the same OpenStack release on every node throughout the life cycle of the cloud, even when some components are end of life. By providing a repository of the sources, the deployment can be re-created even years after the initial deployment, assuming the underlying operating systems and packages stay the same. This means that there will never be a time where OpenStack specific packages, as provided by the distributions, are being used for OpenStack services. Third party repositories like *CloudArchive* and or *RDO* may still be required within a given deployment but only as a means to meet application dependencies. Containerized deployments ~~~~~~~~~~~~~~~~~~~~~~~~~ This project introduces containers as a means to abstract services from one another. The use of containers allows for additional abstractions of entire application stacks to be run all within the same physical host machines. The ""containerized"" applications are sometimes grouped within a single container where it makes sense, or distributed in multiple containers based on application and or architectural needs. The default container architecture has been built in such a way to allow for scalability and highly available deployments. The simple nature of machine containers allows the deployer to treat containers as physical machines. The same concepts apply for machine containers and physical machines: This will allow deployers to use existing operational tool sets to troubleshoot issues within a deployment and the ability to revert an application or service within inventory to a known working state without having to re-kick a physical host. Not all services are containerized: some don't make sense to run within a container. Logic needs to be applied in regards on how services are containerized. If their requirements can't be met due to system limitations, (kernel, application maturity, etc...), then the service is not set to run within a container. Example of un-containerized services: * Nova compute (for direct access to virtualization devices) * Swift storage (for direct access to drive) The containers are not a mean of securing a system. The containers were not chosen for any eventual security safe guards. The machine containers were chosen because of their practicality with regard to providing a more uniform OpenStack deployment. Even if the abstractions that the containers provides do improve overall deployment security these potential benefits are not the intention of the containerization of services. ",,135,13
openstack%2Ffreezer~master~Icb9ad4e9fb5b706cbb996cecd9f83f998c60efec,openstack/freezer,master,Icb9ad4e9fb5b706cbb996cecd9f83f998c60efec,"No directive entry for ""oslo.config:group"" in module ""docutils.parsers.rst.languages.en""",ABANDONED,2018-04-01 01:09:46.000000000,2018-04-01 02:40:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-01 01:09:46.000000000', 'files': ['doc/source/cli/freezer-scheduler.rst', 'doc/source/cli/freezer-agent.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/8726cd7a24c07d089f10e2d40ff43656888b6c3d', 'message': 'No directive entry for ""oslo.config:group"" in module ""docutils.parsers.rst.languages.en""\n\nChange-Id: Icb9ad4e9fb5b706cbb996cecd9f83f998c60efec\n'}]",0,558094,8726cd7a24c07d089f10e2d40ff43656888b6c3d,3,1,1,21486,,,0,"No directive entry for ""oslo.config:group"" in module ""docutils.parsers.rst.languages.en""

Change-Id: Icb9ad4e9fb5b706cbb996cecd9f83f998c60efec
",git fetch https://review.opendev.org/openstack/freezer refs/changes/94/558094/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/freezer-scheduler.rst', 'doc/source/cli/freezer-agent.rst']",2,8726cd7a24c07d089f10e2d40ff43656888b6c3d,,,.. oslo.config:group:: DEFAULT,0,2
openstack%2Fopenstack-helm~master~If676418e68a72e7a571409c15b2e641b9d3b82a9,openstack/openstack-helm,master,If676418e68a72e7a571409c15b2e641b9d3b82a9,Fix role for heat_stacker_user,ABANDONED,2018-03-15 20:45:35.000000000,2018-03-31 22:01:04.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 20:45:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4d130764d206c29a10ed3d85e30a92a3c78f0056', 'message': 'WIP: Fix role for heat_stacker_user\n\nThis patch set changes the default role for the heat_stack_user\nfrom admin to a new ""heat_stack_user"" role.\n\nChange-Id: If676418e68a72e7a571409c15b2e641b9d3b82a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2018-03-15 21:47:59.000000000', 'files': ['heat/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0254793f0db0615b2f81511eaf68f6b7a0ec411f', 'message': 'Fix role for heat_stacker_user\n\nThis patch set changes the default role for the heat_stack_user\nfrom admin to a new ""heat_stack_user"" role.\n\nChange-Id: If676418e68a72e7a571409c15b2e641b9d3b82a9\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,553607,0254793f0db0615b2f81511eaf68f6b7a0ec411f,5,2,2,20466,,,0,"Fix role for heat_stacker_user

This patch set changes the default role for the heat_stack_user
from admin to a new ""heat_stack_user"" role.

Change-Id: If676418e68a72e7a571409c15b2e641b9d3b82a9
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/553607/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/values.yaml'],1,4d130764d206c29a10ed3d85e30a92a3c78f0056,heat-role-fix, role: heat_stack_user, role: admin,1,1
openstack%2Fpuppet-tempest~master~If3da47c332b2f1d79951a78b432ae0ab6e919ad9,openstack/puppet-tempest,master,If3da47c332b2f1d79951a78b432ae0ab6e919ad9,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:45.000000000,2018-03-31 20:34:35.000000000,2018-03-31 20:34:35.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:45.000000000', 'files': ['releasenotes/notes/remove_deprecated_ensure_package_option-a22d645117cc993c.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/77c810d6b5994b2d01a36eed34563b61f7031d44', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: If3da47c332b2f1d79951a78b432ae0ab6e919ad9\n'}]",0,557608,77c810d6b5994b2d01a36eed34563b61f7031d44,15,4,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: If3da47c332b2f1d79951a78b432ae0ab6e919ad9
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/08/557608/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_deprecated_ensure_package_option-a22d645117cc993c.yaml', 'manifests/init.pp']",2,77c810d6b5994b2d01a36eed34563b61f7031d44,remove_ensure_package," ensure => $package_ensure,","# [*ensure_package*] # (optional) The state of tempest packages # Defaults to undef $ensure_package = 'present', if $ensure_package { warning(""tempest::ensure_package is deprecated and will be removed in \ the future release. Please use tempest::package_ensure instead."") $package_ensure_real = $ensure_package } else { $package_ensure_real = $package_ensure } ensure => $package_ensure_real,",4,13
openstack%2Fopenstack-helm~master~I5026b0238555513f8415a864adf4e91e81e3fbd8,openstack/openstack-helm,master,I5026b0238555513f8415a864adf4e91e81e3fbd8,Helm-Toolkit: Reduce delta between OSH and OSH-Infra,MERGED,2018-03-30 20:37:48.000000000,2018-03-31 20:04:07.000000000,2018-03-31 20:04:07.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-30 20:37:48.000000000', 'files': ['helm-toolkit/templates/endpoints/_hostname_short_endpoint_lookup.tpl', 'helm-toolkit/templates/endpoints/_service_name_endpoint_with_namespace_lookup.tpl', 'helm-toolkit/templates/endpoints/_keystone_endpoint_uri_lookup.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/63f883b57c1f2a82bd80db55d7990d2beb27d94d', 'message': 'Helm-Toolkit: Reduce delta between OSH and OSH-Infra\n\nThis PS reduces the delta between OSH and OSH-Infra helm toolkits.\n\nChange-Id: I5026b0238555513f8415a864adf4e91e81e3fbd8\n'}]",0,557993,63f883b57c1f2a82bd80db55d7990d2beb27d94d,11,4,1,23928,,,0,"Helm-Toolkit: Reduce delta between OSH and OSH-Infra

This PS reduces the delta between OSH and OSH-Infra helm toolkits.

Change-Id: I5026b0238555513f8415a864adf4e91e81e3fbd8
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/93/557993/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/endpoints/_hostname_short_endpoint_lookup.tpl', 'helm-toolkit/templates/endpoints/_service_name_endpoint_with_namespace_lookup.tpl', 'helm-toolkit/templates/endpoints/_keystone_endpoint_uri_lookup.tpl']",3,63f883b57c1f2a82bd80db55d7990d2beb27d94d,helm-toolkit/sync,"{{- if regexMatch ""[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+"" $endpointHost }} {{- printf ""%s://%s:%1.f%s"" $endpointScheme $endpointHost $endpointPort $endpointPath -}} {{- else -}} {{- $endpointFqdnHostname := index .host_fqdn_override $endpoint | default .host_fqdn_override.default | default $endpointClusterHostname }} {{- printf ""%s://%s:%1.f%s"" $endpointScheme $endpointFqdnHostname $endpointPort $endpointPath -}} {{- end -}}","{{- $endpointHostname := index .host_fqdn_override $endpoint | default .host_fqdn_override.default | default $endpointClusterHostname }} {{- printf ""%s://%s:%1.f%s"" $endpointScheme $endpointHostname $endpointPort $endpointPath -}}",24,2
openstack%2Fansible-role-systemd_mount~master~I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb,openstack/ansible-role-systemd_mount,master,I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb,Change mount states to ensure uptime,MERGED,2018-03-30 17:42:10.000000000,2018-03-31 18:18:13.000000000,2018-03-31 18:18:12.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 17:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/4fd6f3a9e72af8aa7c65e3d609b1ebd0cc72e601', 'message': ""Change mount states to ensure uptime\n\nThe mount role was using the systemd module to start / stop mounts\nhowever if a mount was restarted when it could have been reloaded\nthe role could create a fair amount of chaos in a running environment.\nThis change maps the mount states appropriately to the systemctl command\noptions to ensure we're not needlessly restarting mounts should the unit\nfiles change. The `systemd_mount_states` has been added which will map\nthe normal Ansible states to suitable systemd mount states and the mount\nstate is being managed using the `systemctl` command instead of the\nansible module.\n\nChange-Id: I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 2, 'created': '2018-03-30 17:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/6a47b90afe01be69e9e9cb59975dd59e630d6c99', 'message': ""Change mount states to ensure uptime\n\nThe mount role was using the systemd module to start / stop mounts\nhowever if a mount was restarted when it could have been reloaded\nthe role could create a fair amount of chaos in a running environment.\nThis change maps the mount states appropriately to the systemctl command\noptions to ensure we're not needlessly restarting mounts should the unit\nfiles change. The `systemd_mount_states` has been added which will map\nthe normal Ansible states to suitable systemd mount states and the mount\nstate is being managed using the `systemctl` command instead of the\nansible module.\n\nChange-Id: I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 3, 'created': '2018-03-30 17:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/8fb6294a518be0cde8b3379290cc51765063c5c0', 'message': ""Change mount states to ensure uptime\n\nThe mount role was using the systemd module to start / stop mounts\nhowever if a mount was restarted when it could have been reloaded\nthe role could create a fair amount of chaos in a running environment.\nThis change maps the mount states appropriately to the systemctl command\noptions to ensure we're not needlessly restarting mounts should the unit\nfiles change. The `systemd_mount_states` has been added which will map\nthe normal Ansible states to suitable systemd mount states and the mount\nstate is being managed using the `systemctl` command instead of the\nansible module.\n\nChange-Id: I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 4, 'created': '2018-03-30 18:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/c6f1b8f54b0e7ccaa22bce95de1970a3c974ec96', 'message': ""Change mount states to ensure uptime\n\nThe mount role was using the systemd module to start / stop mounts\nhowever if a mount was restarted when it could have been reloaded\nthe role could create a fair amount of chaos in a running environment.\nThis change maps the mount states appropriately to the systemctl command\noptions to ensure we're not needlessly restarting mounts should the unit\nfiles change. The `systemd_mount_states` has been added which will map\nthe normal Ansible states to suitable systemd mount states and the mount\nstate is being managed using the `systemctl` command instead of the\nansible module.\n\nChange-Id: I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 5, 'created': '2018-03-30 18:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/3a2c9bfc818241b2d63e5e1abff6c93078fbdf92', 'message': ""Change mount states to ensure uptime\n\nThe mount role was using the systemd module to start / stop mounts\nhowever if a mount was restarted when it could have been reloaded\nthe role could create a fair amount of chaos in a running environment.\nThis change maps the mount states appropriately to the systemctl command\noptions to ensure we're not needlessly restarting mounts should the unit\nfiles change. The `systemd_mount_states` has been added which will map\nthe normal Ansible states to suitable systemd mount states and the mount\nstate is being managed using the `systemctl` command instead of the\nansible module.\n\nChange-Id: I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}, {'number': 6, 'created': '2018-03-30 19:47:21.000000000', 'files': ['templates/systemd-mount.j2', 'tasks/systemd_mounts.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/d1dc867ef105140f9cd805a6a0050d8ba76787f4', 'message': ""Change mount states to ensure uptime\n\nThe mount role was using the systemd module to start / stop mounts\nhowever if a mount was restarted when it could have been reloaded\nthe role could create a fair amount of chaos in a running environment.\nThis change maps the mount states appropriately to the systemctl command\noptions to ensure we're not needlessly restarting mounts should the unit\nfiles change. The `systemd_mount_states` has been added which will map\nthe normal Ansible states to suitable systemd mount states and the mount\nstate is being managed using the `systemctl` command instead of the\nansible module.\n\nChange-Id: I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n""}]",3,557973,d1dc867ef105140f9cd805a6a0050d8ba76787f4,19,4,6,7353,,,0,"Change mount states to ensure uptime

The mount role was using the systemd module to start / stop mounts
however if a mount was restarted when it could have been reloaded
the role could create a fair amount of chaos in a running environment.
This change maps the mount states appropriately to the systemctl command
options to ensure we're not needlessly restarting mounts should the unit
files change. The `systemd_mount_states` has been added which will map
the normal Ansible states to suitable systemd mount states and the mount
state is being managed using the `systemctl` command instead of the
ansible module.

Change-Id: I5c7e5105e54d3ff9ad040f2a1d003d3dd12e4efb
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/73/557973/6 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/systemd_mounts.yml', 'vars/main.yml']",2,4fd6f3a9e72af8aa7c65e3d609b1ebd0cc72e601,,"--- # Copyright 2018, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. systemd_mount_states: reloaded: reload restarted: reload-or-restart started: reload-or-restart stopped: stopped absent: stopped ",,38,2
openstack%2Fopenstack-ansible-os_trove~stable%2Fpike~I4e715cfe5e3077b2cb3baebfbff93a96b9c90d09,openstack/openstack-ansible-os_trove,stable/pike,I4e715cfe5e3077b2cb3baebfbff93a96b9c90d09,Remove Trove's support for Heat,MERGED,2018-03-08 16:52:50.000000000,2018-03-31 18:16:25.000000000,2018-03-31 18:16:25.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-08 16:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/ddabb36e81870bed1f7c29dbfa20162fe75a5f08', 'message': ""Remove Trove's support for Heat\n\nThis patch[1] removed heat related support.\n\n[1]https://review.openstack.org/#/c/385513/\n\nChange-Id: I4e715cfe5e3077b2cb3baebfbff93a96b9c90d09\nCloses-Bug: #1743717\n(cherry picked from commit aea2785d882d0bb2fa8be6e185ad9ad32749d7ba)\n""}, {'number': 2, 'created': '2018-03-26 10:46:29.000000000', 'files': ['templates/trove-taskmanager.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/cd068d338255f4335ed018c26a9c0834e8595712', 'message': ""Remove Trove's support for Heat\n\nThis patch[1] removed heat related support.\n\n[1]https://review.openstack.org/#/c/385513/\n\nChange-Id: I4e715cfe5e3077b2cb3baebfbff93a96b9c90d09\nCloses-Bug: #1743717\n(cherry picked from commit aea2785d882d0bb2fa8be6e185ad9ad32749d7ba)\n""}]",0,550905,cd068d338255f4335ed018c26a9c0834e8595712,8,2,2,9414,,,0,"Remove Trove's support for Heat

This patch[1] removed heat related support.

[1]https://review.openstack.org/#/c/385513/

Change-Id: I4e715cfe5e3077b2cb3baebfbff93a96b9c90d09
Closes-Bug: #1743717
(cherry picked from commit aea2785d882d0bb2fa8be6e185ad9ad32749d7ba)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/05/550905/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/trove-taskmanager.conf.j2'],1,ddabb36e81870bed1f7c29dbfa20162fe75a5f08,bug/1743717-stable/pike,,# Heat heat_service_type = orchestration ,0,3
openstack%2Fpython-openstackclient~master~Ic1a8976559255529a8785b1b301a0307812433cb,openstack/python-openstackclient,master,Ic1a8976559255529a8785b1b301a0307812433cb,Add --image-property parameter in 'server create',MERGED,2018-01-19 08:21:49.000000000,2018-03-31 17:20:27.000000000,2018-03-31 17:20:27.000000000,"[{'_account_id': 970}, {'_account_id': 6482}, {'_account_id': 19944}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-19 08:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e5ce54e2366d837ff4e90f730e79a93827bad7c4', 'message': ""Add --image-with parameter in 'server create'\n\nadd --image-with option, just like novaclient did.\n\nChange-Id: Ic1a8976559255529a8785b1b301a0307812433cb\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}, {'number': 2, 'created': '2018-01-22 14:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2dabdc262d40d2206540185e5188ad49dfb2005c', 'message': ""Add --image-property parameter in 'server create'\n\nadd --image-property option, just like --image-with of novaclient did.\n\nChange-Id: Ic1a8976559255529a8785b1b301a0307812433cb\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}, {'number': 3, 'created': '2018-01-22 15:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/71c0cf9eb0fb7017426b737282a78d89ca0a3081', 'message': ""Add --image-property parameter in 'server create'\n\nadd --image-property option, just like --image-with of novaclient did.\n\nChange-Id: Ic1a8976559255529a8785b1b301a0307812433cb\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}, {'number': 4, 'created': '2018-01-31 10:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f98cff91501287779471fb250d030f8b1d9febf3', 'message': ""Add --image-property parameter in 'server create'\n\nadd --image-property option, just like --image-with of novaclient did.\n\nChange-Id: Ic1a8976559255529a8785b1b301a0307812433cb\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}, {'number': 5, 'created': '2018-02-22 09:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0c0430ca841fd55e8a024246fee40a6c30403cc4', 'message': ""Add --image-property parameter in 'server create'\n\nadd --image-property option, just like --image-with of novaclient did.\n\nChange-Id: Ic1a8976559255529a8785b1b301a0307812433cb\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}, {'number': 6, 'created': '2018-03-28 08:10:29.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py', 'releasenotes/notes/add-server-create-image-property-ef76af26233b472b.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/447d5d9e344060be4f284ad56b430b20eb190c2b', 'message': ""Add --image-property parameter in 'server create'\n\nadd --image-property option, just like --image-with of novaclient did.\n\nChange-Id: Ic1a8976559255529a8785b1b301a0307812433cb\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}]",12,535664,447d5d9e344060be4f284ad56b430b20eb190c2b,24,4,6,19944,,,0,"Add --image-property parameter in 'server create'

add --image-property option, just like --image-with of novaclient did.

Change-Id: Ic1a8976559255529a8785b1b301a0307812433cb
Signed-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/535664/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",2,e5ce54e2366d837ff4e90f730e79a93827bad7c4,image_with,"from __future__ import print_function def _key_value_pairing(text): try: (k, v) = text.split('=', 1) return (k, v) except ValueError: msg = _(""'%s' is not in the format of 'key=value'"") % text raise argparse.ArgumentTypeError(msg) def emit_duplicated_image_with_warning(img, image_with): img_uuid_list = [str(image.id) for image in img] print(_('WARNING: Multiple matching images: %(img_uuid_list)s\n' 'Using image: %(chosen_one)s') % {'img_uuid_list': img_uuid_list, 'chosen_one': img_uuid_list[0]}, file=sys.stderr) '--image-with', metavar='<key=value>', action='append', default=[], type=_key_value_pairing, help=_(""Image metadata property to be matched""), ) disk_group.add_argument( def _match_image(image_api, wanted_properties): image_list = image_api.image_list() images_matched = [] match = set(wanted_properties) for img in image_list: img_dict = {} # exclude any unhashable entries for key, value in img.items(): try: set([key, value]) except TypeError: pass else: img_dict[key] = value if match == match.intersection(set(img_dict.items())): images_matched.append(img) return images_matched if not image and parsed_args.image_with: images = _match_image(image_client.api, parsed_args.image_with) if len(images) > 1: emit_duplicated_image_with_warning(images, parsed_args.image_with) if images: image = images[0] else: raise exceptions.CommandError(_(""No images match the "" ""property expected by "" ""--image-with"")) ",,119,0
openstack%2Fkolla-ansible~master~I54616925abb76bda7efa2f2ae962d4e43f097551,openstack/kolla-ansible,master,I54616925abb76bda7efa2f2ae962d4e43f097551,Specification for additions for Prometheus monitoring,MERGED,2018-03-21 13:39:41.000000000,2018-03-31 16:51:58.000000000,2018-03-31 16:51:58.000000000,"[{'_account_id': 1390}, {'_account_id': 2276}, {'_account_id': 16520}, {'_account_id': 17669}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 24147}, {'_account_id': 27609}]","[{'number': 1, 'created': '2018-03-21 13:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc74f4ffbd3ee031947d289ba693b9b6117a5482', 'message': 'Specification for additions for Prometheus monitoring\n\nDescribes the proposed approach to introduce Prometheus monitoring\nfor Kolla-Ansible deployment.\n\nPartially-Implements: blueprint prometheus\nChange-Id: I54616925abb76bda7efa2f2ae962d4e43f097551\n'}, {'number': 2, 'created': '2018-03-21 20:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd991550800bc67d1fda9a5435bb5d0317ef9d5b', 'message': 'Specification for additions for Prometheus monitoring\n\nDescribes the proposed approach to introduce Prometheus monitoring\nfor Kolla-Ansible deployment.\n\nPartially-Implements: blueprint prometheus\nChange-Id: I54616925abb76bda7efa2f2ae962d4e43f097551\n'}, {'number': 3, 'created': '2018-03-27 16:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c8c54b6a0cad2bfd92abe1f95051a3e7a3cb320', 'message': 'Specification for additions for Prometheus monitoring\n\nDescribes the proposed approach to introduce Prometheus monitoring\nfor Kolla-Ansible deployment.\n\nPartially-Implements: blueprint prometheus\nChange-Id: I54616925abb76bda7efa2f2ae962d4e43f097551\n'}, {'number': 4, 'created': '2018-03-29 13:45:59.000000000', 'files': ['specs/prometheus.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f932f49f0165a80354194b274a12716b761e122', 'message': 'Specification for additions for Prometheus monitoring\n\nDescribes the proposed approach to introduce Prometheus monitoring\nfor Kolla-Ansible deployment.\n\nPartially-Implements: blueprint prometheus\nChange-Id: I54616925abb76bda7efa2f2ae962d4e43f097551\n'}]",46,554924,6f932f49f0165a80354194b274a12716b761e122,33,9,4,24147,,,0,"Specification for additions for Prometheus monitoring

Describes the proposed approach to introduce Prometheus monitoring
for Kolla-Ansible deployment.

Partially-Implements: blueprint prometheus
Change-Id: I54616925abb76bda7efa2f2ae962d4e43f097551
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/554924/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/prometheus.rst'],1,fc74f4ffbd3ee031947d289ba693b9b6117a5482,bp/prometheus,"===================== Prometheus Monitoring ===================== https://blueprints.launchpad.net/kolla-ansible/+spec/prometheus One of the challenges faced by Kolla-Ansible operators, particularly of large deployments, is monitoring the behavior and performance of the nodes. To help address this concern, it is proposed that Kolla-Ansible use Prometheus [1]_ as a framework for introducing monitoring capabilities. Prometheus is a widely adopted and supported tool for monitoring. Many projects have existing support for exporting data in Prometheus format either directly from the product itself or via a separate exporter [2]_. This includes several tools used as part of the Kolla-Ansible software stack, meaning that with minimal work we could provide visibility into the performance characteristics of some of the underlying software frameworks. There are also exporters to do system performance monitoring which could provide further visibility into the health of the cluster. Prometheus can also use the OpenStack APIs to automatically discover running OpenStack servers such that servers can also easily expose data to Prometheus. Problem description =================== There are three aspects to any useful system monitoring solution using Prometheus: * Exposing the data * Configuring and running Prometheus to collect and store data * Analyzing the data and reporting problems Prometheus and existing exporters can help address the first two items above. Analysis and reporting is the most complex part of the problem and will require additional tools on top of Prometheus. For example, Grafana can be configured to use Prometheus as a data source and can help provide visibility into the data collected by Prometheus. Use Cases --------- 1. Query performance characteristics of components in Kolla-Ansible software stack 2. Display dashboard illustrating overall system performance of Kolla-Ansible nodes 3. Determine high-level status of Kolla-Ansible containers and identify potential issues encountered during deployment Proposed change =============== Exposing the Data ----------------- Prometheus generally works through a pull model where data is scraped at regular intervals from data providers. Therefore, the first step in any Prometheus solution is to expose the data so that Prometheus can access it. Some tools natively expose data in a useful format. In these cases all that is necessary is proper configuration of the tool to ensure the data is exported on a known port and configuration of the Kolla-Ansible container to expose the relevant port such that Prometheus can access the data. Most tools, however, use exporters or collectors that run as separate processes from the tool itself. These collect data using exposed APIs and format the data in a manner that can be collected by Prometheus. In these cases, each exporter would be run on a separate container from the main process. This will require building of the requisite containers as well as modifications to the Kolla-Ansible deployment to run these containers during deployment. Furthermore, each exporter requires configuration of the Prometheus server to configure it to scrape the data. The following is a list of exporters that already exist for Prometheus that are related to components of a typical OpenStack Kolla-Ansible deployment. This is based largely on the list of Prometheus Exporters and Integrations [2]_, and links to more information about each exporter can be found there. It is not expected that we will expose all of these initially. It is proposed that we start with the exporters for which Kolla containers already exist. cAdvisor is also recommended for early implementation since it provides more detailed metrics for Docker container performance. We can investigate and add exporters for additional services as time allows, but how far we proceed will depend largely on the level of interest amongst Kolla-Ansible developers who might help do the work. Existing Kolla Containers ^^^^^^^^^^^^^^^^^^^^^^^^^ The following exporters already have associated Kolla containers (used in Kolla-Kubernetes) and therefore should be minimal work to make available for a Kolla-Ansible deployment: * HAProxy * MySQL * Node Exporter - This exposes basic performance metrics (CPU, memory, IO, etc) on the host itself * Prometheus - The Prometheus server contains support for monitoring its own performance without any need for an additional exporter Other Possible Integrations ^^^^^^^^^^^^^^^^^^^^^^^^^^^ (in no particular order) * cAdvisor * OpenStack discovery - Prometheus contains support for discovering exposed services running on OpenStack instances. It uses OpenStack client APIs to locate the instances and then can contact these instances that are accessible on the network and load Prometheus data from exporters running on those instances. It is not clear exactly how we would make use of this since we don't know what services might be running on the instances but it could be useful to set up access to a node exporter if it is running. This not only provides insight into the instances' performance, but also would serve as a template for operators wishing to expose their own exporters from OpenStack instances. * Docker - The existing Docker metric support is considered ""experimental"" and is subject to change so we may not want to use this until the API becomes more stable. * Memcached * ElasticSearch * Fluentd * Grafana Kolla-Container Exporter ------------------------ One piece of critical instrumentation is notably lacking from the existing providers, and that is the ability to determine which Docker containers are running on a node. The existing Docker instrumentation can show how many containers are running, but provides no visibility into which containers they are. The cAdvisor exporter also exposes information about containers (and provides more detailed view into specific containers than the built-in Docker metrics), but the high-level state of the container is still not available. Determining which containers may have failed to start or are in the 'restarting' state is one of the first troubleshooting steps of a broken Kolla-Ansible deployment, so this is a significant shortcoming. Therefore, it is proposed that a simple Prometheus collector be implemented that exposes this data to Prometheus. Initially this collector will be quite simple, but more functionality can be added if and when we find more critical data missing from the existing set of exporters or when additional health checking becomes available for Kolla-Ansible containers [3]_. The key metric exposed by this collector is a gauge called kolla_containers and has two labels, name and state which refer respectively to the name of the container (e.g. cinder_volume) and the container state (e.g. running). Since the collector runs on each node, Prometheus will also automatically add an implied label, instance, that indicates which node the container is running on. The value of the gauge is either 0 or 1 (1 indicating the container with that name is in the indicated state). A few examples of useful queries on this data include: * Total number of Kolla-Ansible containers across all nodes: ``sum(kolla_containers)`` * Number of containers in each state on each node: ``sum(kolla_containers) by (instance)`` * Number of containers in each state for a given service. For example, for cinder: ``sum(kolla_containers{name=~'cinder_.*'}) by (state)`` * A list of containers not in a normal (running) state: ``kolla_containers{state!=""running""}`` Of course, this is just a sample list, and other queries can be constructed to provide more specific data. The Kolla-Container collector uses the docker api to query this data and connects via the unix socket. It will use Python docker module to connect to docker and the Prometheus_client module to expose this data in Prometheus format. It will filter the docker containers based on container label to only expose statistics for Kolla-Ansible containers. Additionally, the collector should expose certain standard metrics exposed by most collectors such as the scrape duration which represents the performance characteristics of the collector itself. As with other collectors, this will run in its own docker container deployed via the standard Ansible deployment. Running Prometheus ------------------ Prometheus itself will run inside a container on each node in the monitoring group. A Prometheus container already exists in the Kolla repository (initially provided for Kolla-Kubernetes) and this container can be used in Kolla-Ansible deployment as well. Additions will be required to the Kolla-Ansible deployment process to run this container. Since this monitoring tool is useful in determining the state of deployment and analyzing problems that may occur during deployment, the container should be started as early as possible during deployment. Although Prometheus could be started even earlier, it is proposed that the Prometheus deployment role be applied just after the MariaDB role since the Prometheus MySQL exporter requires database user creation to function. We should also expose Prometheus via HAProxy so that Prometheus data can be queried using the virtual IP that is used to access other OpenStack APIs and browser UIs. This also will require modifications to the existing HAProxy configuration template in the Kolla-Ansible repository. Data Analysis and Reporting --------------------------- The Prometheus server can be directly queried to display and graph any of the metrics collected by the server. However, with the addition of Grafana, the information may be organized into dashboards that collect multiple datapoints into a single page and present them in a manner that is more useful to the operator consuming this data. In order to integrate with Grafana, Prometheus would need to be defined as a datasource using the Grafana provisioning framework. Once that is done an operator can create or import dashboards that make use of this data. *Note: It would also be possible to define one or more default, preloaded dashboards for Grafana to display any information deemed most useful. If anybody more knowledgeable about Grafana has proposals in this regard I can add more details to the specification.* The addition of the data exported by the proposed Kolla-Container Exporter provides a useful tool for checking the state of a Kolla-Ansible deployment. By analyzing the data from this exporter, a tool can provide high-level deployment status. This functionality should be provided via a new status command within the kolla-ansible command (or via a CLI if one is introduced [4]_). Information to be displayed will include: * If Prometheus is not running or cannot be contacted, the status will indicate as such. This could indicate that Prometheus is disabled, that deployment has not yet been initiated, or that deployment failed before the Prometheus container was started. In this case, no further information can be provided. * Nodes on which the Kolla-Container collector are not running should be highlighted since other information cannot be obtained on those nodes. This will require correlating the instances on which the kolla_containers metric is exposed against the list of inventory hosts. This could indicate a problem with the collector or with deployment of the collector, or it might just indicate that deployment has not yet proceeded to the point where the collector has been started. * Kolla-Ansible containers that are not in the running state should be listed. For example, containers in a restarting state may represent a misconfiguration of the cluster and should be identified. * Other health statistics: on a normally running cluster, some basic statistics can be provided to help identify potential problems. The set of statistics should include such details as the total number of running Kolla-Ansible containers on each system (an unexpectedly low number on one or more systems might indicate a problem). Other details can be added in the future as deemed necessary. * Optional arguments could limit the output to a specific host, inventory group, or service. Another common use of Prometheus is the use of a Prometheus Alertmanager which is capable of sending alerts in cases where problems occur or predefined thresholds are exceeded. However, defining Alertmanager configuration requires detailed knowledge concerning the alert delivery mechanism such as the SMTP server configuration for email alerts. Therefore, although we could run a Prometheus Alertmanager instance, it would provide little value without manual configuration by the operator. For this reason, alerts and alert handling will not be handled in the initial implementation. Configuration ------------- As with all optional services in Kolla-Ansible, Prometheus deployment should be controlled by Kolla-Ansible variables. A high level enable_prometheus variable should control whether Prometheus is used at all. Additionally, additional variables can be used to control individual exporters. For example, enable_prometheus_haproxy could be used to enable/disable the HAProxy exporter to Prometheus. By default Prometheus should be enabled and exporters should be enabled if both Prometheus and the associated service are enabled. Limitations ----------- At it's core, Prometheus gathers numerical statistics about exposed services, and provides a robust query language that allow an operator to query, manipulate, and graph this data. However, collecting and exposing this data is really only half of any system monitoring solution. Operators may not understand the inner workings of the system enough for this data to be useful without interpretation. Prometheus can provide a lot of detailed data, but it is not ideal for looking at a complex system and determining at a glance whether it is running normally. Initial integrations with Grafana and with a kolla-ansible (or CLI) status command will provide useful data, but may prove insufficient for many situations. However, even without more detailed analysis tools, some benefit can still be drawn from merely collecting and storing the data in Prometheus. Knowledgeable operators can perform their own analysis as long as the raw data is available. Also, having the raw data available allows us to incrementally improve on the complex problem of analysis and reporting over subsequent releases. Security Impact --------------- A detailed analysis of the security model of Prometheus and its impact can be found at [5]_. In general, Prometheus considers collected metrics to be insecure data accessible to anybody with access to the HTTP API. For this reason, Prometheus should only be exposed on the internal network interface and VIP address and not exposed externally. Operators who want to access Prometheus data via the external network can access the data via the Grafana integration which adds an additional security layer and requires a password to access any data. Performance Impact ------------------ Enabling Prometheus monitoring will have some impact on system performance. It adds a number of additional containers including one for each exporter and for Prometheus itself. Furthermore, the Prometheus server performs periodic endpoint scraping wherein it queries each provider for the latest metrics. The impact of this data gathering will vary by exporter. Although the impact of any one exporter should be negligible, it's possible that in combination they might have a measurable impact on the system. Any potential risk to performance may be mitigated in several ways. Each exporter should be able to be enabled or disabled independently through Kolla-Ansible properties so if an exporter is found to have a significant detrimental impact it may be disabled. In order to help determine any potential impact, Prometheus provides metrics for monitoring its own performance, and most exporters also include performance metrics for the exporters themselves. Alternatives ------------ There are a number of possible alternatives to Prometheus for collecting, maintaining, and exposing performance metrics. Some of the primary options are discussed at [6]_. Prometheus is more widely adopted and supported than many of the alternatives and has rich support for many of the tools already used in the Kolla-Ansible software stack. It's integration with Grafana provides an additional advantage over some of the alternate solutions. Implementation ============== Assignee(s) ----------- Mark Giles (mark-giles) *If you are interested in contributing, add your name here* Milestones ---------- Target Milestone for completion: Rocky 1 Work Items ---------- 1. Prometheus server configuration for Kolla-Ansible 2. Ansible deployment of existing Prometheus server container 3. Configuration of HAProxy to handle Prometheus server 4. Implement Kolla-Container Exporter 5. kolla-ansible (or CLI) status command to display Kolla-Container Exporter results 6. Integration with Grafana 7. Implement Grafana dashboard(s) to provide visualization of Kolla-Ansible cluster behavior 8. Exporters (see below) For each exporter, the following work items exist: 1. Create a Docker image for the exporter 2. Depending on the exporter, it may be necessary to modify settings for the monitored service's container to properly expose any necessary APIs 3. Implement Ansible deployment of the container 4. Modify Prometheus server configuration to scrape data from the exporter 5. (Optional) Implement or enhance Grafana dashboard(s) as appropriate. The MySQL exporter in particular will require additional work: 6. Ansible definition to create Prometheus database user Testing ======= The existing gate checks will be used to ensure successful deployment. Behavior of the newly exposed functionality will require manual testing. Documentation Impact ==================== A new documentation reference page should be created for ""Prometheus in Kolla"". This page will document how to enable or disable Prometheus and/or individual exporters as well as how to access the exposed data. References ========== .. [1] https://prometheus.io .. [2] https://prometheus.io/docs/instrumenting/exporters/ .. [3] https://blueprints.launchpad.net/kolla/+spec/container-health-check .. [4] http://lists.openstack.org/pipermail/openstack-dev/2018-March/128561.html .. [5] https://prometheus.io/docs/operating/security/ .. [6] https://prometheus.io/docs/introduction/comparison/ ",,368,0
openstack%2Fopenstack-helm-infra~master~I3addfbcda6a3c1d34c9f967be07eaceffb468f0e,openstack/openstack-helm-infra,master,I3addfbcda6a3c1d34c9f967be07eaceffb468f0e,Helm-Toolkit: Reduce delta between OSH and OSH-Infra to image repo,MERGED,2018-03-31 13:44:24.000000000,2018-03-31 15:45:46.000000000,2018-03-31 15:45:46.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-03-31 13:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68749a15bcb92e592dc3e085ddb3bf8f70330131', 'message': 'Helm-Toolkit: Reduce delta between OSH and OSH-Infra to image repo\n\nThis PS reduces the delta between OSH and OSH-Infra helm toolkits\nto simply the image repo management functions.\n\nChange-Id: I3addfbcda6a3c1d34c9f967be07eaceffb468f0e\n'}, {'number': 2, 'created': '2018-03-31 13:45:11.000000000', 'files': ['helm-toolkit/templates/utils/_joinListWithSpace.tpl', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_job-bootstrap.yaml', 'helm-toolkit/templates/utils/_dependency_resolver.tpl', 'helm-toolkit/.gitignore', 'helm-toolkit/templates/manifests/_job-ks-service.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-endpoints.yaml.tpl', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'helm-toolkit/templates/manifests/_job-db-sync.yaml.tpl', 'helm-toolkit/templates/utils/_to_kv_list.tpl', 'helm-toolkit/templates/utils/_values_template_renderer.tpl', 'helm-toolkit/templates/manifests/_job-db-init-mysql.yaml.tpl', 'helm-toolkit/templates/manifests/_ingress.yaml.tpl', 'helm-toolkit/templates/manifests/_service-ingress.tpl', 'helm-toolkit/templates/scripts/_rabbit-init.sh.tpl', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/37de340600b16434392a59f1bb947342085ea639', 'message': 'Helm-Toolkit: Reduce delta between OSH and OSH-Infra to image repo\n\nThis PS reduces the delta between OSH and OSH-Infra helm toolkits\nto simply the image repo management functions.\n\nChange-Id: I3addfbcda6a3c1d34c9f967be07eaceffb468f0e\n'}]",0,558055,37de340600b16434392a59f1bb947342085ea639,8,3,2,23928,,,0,"Helm-Toolkit: Reduce delta between OSH and OSH-Infra to image repo

This PS reduces the delta between OSH and OSH-Infra helm toolkits
to simply the image repo management functions.

Change-Id: I3addfbcda6a3c1d34c9f967be07eaceffb468f0e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/558055/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/utils/_joinListWithSpace.tpl', 'helm-toolkit/templates/utils/_to_kv_list.tpl', 'helm-toolkit/templates/utils/_values_template_renderer.tpl', 'helm-toolkit/templates/utils/_dependency_resolver.tpl', 'helm-toolkit/.gitignore', 'helm-toolkit/templates/scripts/_rabbit-init.sh.tpl', 'helm-toolkit/templates/utils/_daemonset_overrides.tpl']",7,68749a15bcb92e592dc3e085ddb3bf8f70330131,helm-toolkit/sync,"{{/* Copyright 2017 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{- define ""helm-toolkit.utils.daemonset_overrides"" }} {{- $daemonset := index . 0 }} {{- $daemonset_yaml := index . 1 }} {{- $configmap_include := index . 2 }} {{- $configmap_name := index . 3 }} {{- $context := index . 4 }} {{- $_ := unset $context "".Files"" }} {{- $_ := set $context.Values ""__daemonset_yaml"" $daemonset_yaml }} {{- $daemonset_root_name := printf (print $context.Chart.Name ""_"" $daemonset) }} {{- $_ := set $context.Values ""__daemonset_list"" list }} {{- $_ := set $context.Values ""__default"" dict }} {{- if hasKey $context.Values.conf ""overrides"" }} {{- range $key, $val := $context.Values.conf.overrides }} {{- if eq $key $daemonset_root_name }} {{- range $type, $type_data := . }} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{/* dictionary that will contain all info needed to generate this iteration of the daemonset */}} {{- $current_dict := dict }} {{/* set daemonset name */}} {{- $_ := set $current_dict ""name"" $host_data.name }} {{/* apply overrides */}} {{- $override_conf_copy := $host_data.conf }} {{- $root_conf_copy := omit $context.Values.conf ""overrides"" }} {{- $merged_dict := merge $override_conf_copy $root_conf_copy }} {{- $root_conf_copy2 := dict ""conf"" $merged_dict }} {{- $context_values := omit $context.Values ""conf"" }} {{- $root_conf_copy3 := merge $context_values $root_conf_copy2 }} {{- $root_conf_copy4 := dict ""Values"" $root_conf_copy3 }} {{- $_ := set $current_dict ""nodeData"" $root_conf_copy4 }} {{/* Schedule to this host explicitly. */}} {{- $nodeSelector_dict := dict }} {{- $_ := set $nodeSelector_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $nodeSelector_dict ""operator"" ""In"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $nodeSelector_dict ""values"" $values_list }} {{- $list_aggregate := list $nodeSelector_dict }} {{- $_ := set $current_dict ""matchExpressions"" $list_aggregate }} {{/* store completed daemonset entry/info into global list */}} {{- $list_aggregate := append $context.Values.__daemonset_list $current_dict }} {{- $_ := set $context.Values ""__daemonset_list"" $list_aggregate }} {{- end }} {{- end }} {{- if eq $type ""labels"" }} {{- $_ := set $context.Values ""__label_list"" . }} {{- range $label_data := . }} {{/* dictionary that will contain all info needed to generate this iteration of the daemonset. */}} {{- $_ := set $context.Values ""__current_label"" dict }} {{/* set daemonset name */}} {{- $_ := set $context.Values.__current_label ""name"" $label_data.label.key }} {{/* apply overrides */}} {{- $override_conf_copy := $label_data.conf }} {{- $root_conf_copy := omit $context.Values.conf ""overrides"" }} {{- $merged_dict := merge $override_conf_copy $root_conf_copy }} {{- $root_conf_copy2 := dict ""conf"" $merged_dict }} {{- $context_values := omit $context.Values ""conf"" }} {{- $root_conf_copy3 := merge $context_values $root_conf_copy2 }} {{- $root_conf_copy4 := dict ""Values"" $root_conf_copy3 }} {{- $_ := set $context.Values.__current_label ""nodeData"" $root_conf_copy4 }} {{/* Schedule to the provided label value(s) */}} {{- $label_dict := omit $label_data.label ""NULL"" }} {{- $_ := set $label_dict ""operator"" ""In"" }} {{- $list_aggregate := list $label_dict }} {{- $_ := set $context.Values.__current_label ""matchExpressions"" $list_aggregate }} {{/* Do not schedule to other specified labels, with higher precedence as the list position increases. Last defined label is highest priority. */}} {{- $other_labels := without $context.Values.__label_list $label_data }} {{- range $label_data2 := $other_labels }} {{- $label_dict := omit $label_data2.label ""NULL"" }} {{- $_ := set $label_dict ""operator"" ""NotIn"" }} {{- $list_aggregate := append $context.Values.__current_label.matchExpressions $label_dict }} {{- $_ := set $context.Values.__current_label ""matchExpressions"" $list_aggregate }} {{- end }} {{- $_ := set $context.Values ""__label_list"" $other_labels }} {{/* Do not schedule to any other specified hosts */}} {{- range $type, $type_data := $val }} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{- $label_dict := dict }} {{- $_ := set $label_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $label_dict ""operator"" ""NotIn"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $label_dict ""values"" $values_list }} {{- $list_aggregate := append $context.Values.__current_label.matchExpressions $label_dict }} {{- $_ := set $context.Values.__current_label ""matchExpressions"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{/* store completed daemonset entry/info into global list */}} {{- $list_aggregate := append $context.Values.__daemonset_list $context.Values.__current_label }} {{- $_ := set $context.Values ""__daemonset_list"" $list_aggregate }} {{- $_ := unset $context.Values ""__current_label"" }} {{- end }} {{- end }} {{- end }} {{/* scheduler exceptions for the default daemonset */}} {{- $_ := set $context.Values.__default ""matchExpressions"" list }} {{- range $type, $type_data := . }} {{/* Do not schedule to other specified labels */}} {{- if eq $type ""labels"" }} {{- range $label_data := . }} {{- $default_dict := omit $label_data.label ""NULL"" }} {{- $_ := set $default_dict ""operator"" ""NotIn"" }} {{- $list_aggregate := append $context.Values.__default.matchExpressions $default_dict }} {{- $_ := set $context.Values.__default ""matchExpressions"" $list_aggregate }} {{- end }} {{- end }} {{/* Do not schedule to other specified hosts */}} {{- if eq $type ""hosts"" }} {{- range $host_data := . }} {{- $default_dict := dict }} {{- $_ := set $default_dict ""key"" ""kubernetes.io/hostname"" }} {{- $_ := set $default_dict ""operator"" ""NotIn"" }} {{- $values_list := list $host_data.name }} {{- $_ := set $default_dict ""values"" $values_list }} {{- $list_aggregate := append $context.Values.__default.matchExpressions $default_dict }} {{- $_ := set $context.Values.__default ""matchExpressions"" $list_aggregate }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{- end }} {{/* generate the default daemonset */}} {{/* set name */}} {{- $_ := set $context.Values.__default ""name"" ""default"" }} {{/* no overrides apply, so copy as-is */}} {{- $root_conf_copy1 := omit $context.Values.conf ""overrides"" }} {{- $root_conf_copy2 := dict ""conf"" $root_conf_copy1 }} {{- $context_values := omit $context.Values ""conf"" }} {{- $root_conf_copy3 := merge $context_values $root_conf_copy2 }} {{- $root_conf_copy4 := dict ""Values"" $root_conf_copy3 }} {{- $_ := set $context.Values.__default ""nodeData"" $root_conf_copy4 }} {{/* add to global list */}} {{- $list_aggregate := append $context.Values.__daemonset_list $context.Values.__default }} {{- $_ := set $context.Values ""__daemonset_list"" $list_aggregate }} {{- $_ := set $context.Values ""__last_configmap_name"" $configmap_name }} {{- range $current_dict := $context.Values.__daemonset_list }} {{- $context_novalues := omit $context ""Values"" }} {{- $merged_dict := merge $current_dict.nodeData $context_novalues }} {{- $_ := set $current_dict ""nodeData"" $merged_dict }} {{/* name needs to be a DNS-1123 compliant name. Ensure lower case */}} {{- $name_format1 := printf (print $daemonset_root_name ""-"" $current_dict.name) | lower }} {{/* labels may contain underscores which would be invalid here, so we replace them with dashes there may be other valid label names which would make for an invalid DNS-1123 name but these will be easier to handle in future with sprig regex* functions (not availabile in helm 2.5.1) */}} {{- $name_format2 := $name_format1 | replace ""_"" ""-"" }} {{/* To account for the case where the same label is defined multiple times in overrides (but with different label values), we add a sha of the scheduling data to ensure name uniqueness */}} {{- $_ := set $current_dict ""dns_1123_name"" dict }} {{- if hasKey $current_dict ""matchExpressions"" }} {{- $_ := set $current_dict ""dns_1123_name"" (printf (print $name_format2 ""-"" ($current_dict.matchExpressions | quote | sha256sum | trunc 8))) }} {{- else }} {{- $_ := set $current_dict ""dns_1123_name"" $name_format2 }} {{- end }} {{/* set daemonset metadata name */}} {{- if not $context.Values.__daemonset_yaml.metadata }}{{- $_ := set $context.Values.__daemonset_yaml ""metadata"" dict }}{{- end }} {{- if not $context.Values.__daemonset_yaml.metadata.name }}{{- $_ := set $context.Values.__daemonset_yaml.metadata ""name"" dict }}{{- end }} {{- $_ := set $context.Values.__daemonset_yaml.metadata ""name"" $current_dict.dns_1123_name }} {{/* set container name assume not more than one container is defined */}} {{- $container := first $context.Values.__daemonset_yaml.spec.template.spec.containers }} {{- $_ := set $container ""name"" $current_dict.dns_1123_name }} {{- $cont_list := list $container }} {{- $_ := set $context.Values.__daemonset_yaml.spec.template.spec ""containers"" $cont_list }} {{/* cross-reference configmap name to container volume definitions */}} {{- $_ := set $context.Values ""__volume_list"" list }} {{- range $current_volume := $context.Values.__daemonset_yaml.spec.template.spec.volumes }} {{- $_ := set $context.Values ""__volume"" $current_volume }} {{- if hasKey $context.Values.__volume ""configMap"" }} {{- if eq $context.Values.__volume.configMap.name $context.Values.__last_configmap_name }} {{- $_ := set $context.Values.__volume.configMap ""name"" $current_dict.dns_1123_name }} {{- end }} {{- end }} {{- $updated_list := append $context.Values.__volume_list $context.Values.__volume }} {{- $_ := set $context.Values ""__volume_list"" $updated_list }} {{- end }} {{- $_ := set $context.Values.__daemonset_yaml.spec.template.spec ""volumes"" $context.Values.__volume_list }} {{/* populate scheduling restrictions */}} {{- if hasKey $current_dict ""matchExpressions"" }} {{- if not $context.Values.__daemonset_yaml.spec.template.spec }}{{- $_ := set $context.Values.__daemonset_yaml.spec.template ""spec"" dict }}{{- end }} {{- if not $context.Values.__daemonset_yaml.spec.template.spec.affinity }}{{- $_ := set $context.Values.__daemonset_yaml.spec.template.spec ""affinity"" dict }}{{- end }} {{- if not $context.Values.__daemonset_yaml.spec.template.spec.affinity.nodeAffinity }}{{- $_ := set $context.Values.__daemonset_yaml.spec.template.spec.affinity ""nodeAffinity"" dict }}{{- end }} {{- if not $context.Values.__daemonset_yaml.spec.template.spec.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution }}{{- $_ := set $context.Values.__daemonset_yaml.spec.template.spec.affinity.nodeAffinity ""requiredDuringSchedulingIgnoredDuringExecution"" dict }}{{- end }} {{- $match_exprs := dict }} {{- $_ := set $match_exprs ""matchExpressions"" $current_dict.matchExpressions }} {{- $appended_match_expr := list $match_exprs }} {{- $_ := set $context.Values.__daemonset_yaml.spec.template.spec.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution ""nodeSelectorTerms"" $appended_match_expr }} {{- end }} {{/* input value hash for current set of values overrides */}} {{- if not $context.Values.__daemonset_yaml.spec }}{{- $_ := set $context.Values.__daemonset_yaml ""spec"" dict }}{{- end }} {{- if not $context.Values.__daemonset_yaml.spec.template }}{{- $_ := set $context.Values.__daemonset_yaml.spec ""template"" dict }}{{- end }} {{- if not $context.Values.__daemonset_yaml.spec.template.metadata }}{{- $_ := set $context.Values.__daemonset_yaml.spec.template ""metadata"" dict }}{{- end }} {{- if not $context.Values.__daemonset_yaml.spec.template.metadata.annotations }}{{- $_ := set $context.Values.__daemonset_yaml.spec.template.metadata ""annotations"" dict }}{{- end }} {{- $cmap := list $current_dict.dns_1123_name $current_dict.nodeData | include $configmap_include }} {{- $values_hash := $cmap | quote | sha256sum }} {{- $_ := set $context.Values.__daemonset_yaml.spec.template.metadata.annotations ""configmap-etc-hash"" $values_hash }} {{/* generate configmap */}} --- {{ $cmap }} {{/* generate daemonset yaml */}} --- {{ $context.Values.__daemonset_yaml | toYaml }} {{- $_ := set $context.Values ""__last_configmap_name"" $current_dict.dns_1123_name }} {{- end }} {{- end }} ",,518,1
openstack%2Fos-client-config~master~I425f03574858dd582118d5544381af703134da72,openstack/os-client-config,master,I425f03574858dd582118d5544381af703134da72,Use 'none' auth plugin,MERGED,2018-03-14 08:35:29.000000000,2018-03-31 14:53:37.000000000,2018-03-31 14:53:37.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 08:35:29.000000000', 'files': ['os_client_config/config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/ca52061c40e3147fd2b55072789b4b08aa3eb1f1', 'message': ""Use 'none' auth plugin\n\nsince keystoneauth 3.0.0 there is a proper 'none' auth plugin to\nuse for standalone services deployed w/o Keystone support.\n\nUse this plugin instead of 'admin_token' for auth_type specified as\nvariants of 'None'.\n\nChange-Id: I425f03574858dd582118d5544381af703134da72\n""}]",0,552837,ca52061c40e3147fd2b55072789b4b08aa3eb1f1,7,2,1,9542,,,0,"Use 'none' auth plugin

since keystoneauth 3.0.0 there is a proper 'none' auth plugin to
use for standalone services deployed w/o Keystone support.

Use this plugin instead of 'admin_token' for auth_type specified as
variants of 'None'.

Change-Id: I425f03574858dd582118d5544381af703134da72
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/37/552837/1 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/config.py'],1,ca52061c40e3147fd2b55072789b4b08aa3eb1f1,none-auth," # Use the 'none' plugin for variants of None specified, # 'none' auth_plugin has token as 'notused' so validate_auth will # not strip the value (which it does for actual python None) config['auth_type'] = 'none'"," # Re-use the admin_token plugin for the ""None"" plugin config['auth_type'] = 'admin_token' # Set to notused rather than None because validate_auth will # strip the value if it's actually python None config['auth']['token'] = 'notused'",5,5
openstack%2Fkolla-ansible~master~If37623e8fda5260ab0b38d2203f5266777dba063,openstack/kolla-ansible,master,If37623e8fda5260ab0b38d2203f5266777dba063,Use a large number for haproxy timeout tunnel,MERGED,2018-03-29 07:03:55.000000000,2018-03-31 14:45:46.000000000,2018-03-31 14:45:46.000000000,"[{'_account_id': 1390}, {'_account_id': 9414}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2018-03-29 07:03:55.000000000', 'files': ['ansible/roles/haproxy/templates/haproxy.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7aeb6825ff90da14f32251969b254e2115a3438d', 'message': 'Use a large number for haproxy timeout tunnel\n\ntimeout tunnel is use for WebSocket and CONNECT protocol. Need use a\nlarger number for it. Otherwise, novnc will be auto disconnected if no\naction happend in a short time on browser.\n\nChange-Id: If37623e8fda5260ab0b38d2203f5266777dba063\nCloses-Bug: #1759774\n'}]",0,557626,7aeb6825ff90da14f32251969b254e2115a3438d,9,5,1,7488,,,0,"Use a large number for haproxy timeout tunnel

timeout tunnel is use for WebSocket and CONNECT protocol. Need use a
larger number for it. Otherwise, novnc will be auto disconnected if no
action happend in a short time on browser.

Change-Id: If37623e8fda5260ab0b38d2203f5266777dba063
Closes-Bug: #1759774
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/557626/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/templates/haproxy.cfg.j2'],1,7aeb6825ff90da14f32251969b254e2115a3438d,bug/1759774, timeout tunnel 1h,,1,0
openstack%2Fkolla~master~Ide8478c248e77b9c85201981e8086f3dbf06d131,openstack/kolla,master,Ide8478c248e77b9c85201981e8086f3dbf06d131,Skip known failed kolla images,MERGED,2017-09-22 14:33:09.000000000,2018-03-31 14:20:46.000000000,2017-09-26 16:34:42.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 9927}, {'_account_id': 10787}, {'_account_id': 14119}, {'_account_id': 22165}]","[{'number': 1, 'created': '2017-09-22 14:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c35b6eb00d10bff2c09af13de8d0f3328fc8dd46', 'message': 'refactor build.py\n\nChange-Id: Ide8478c248e77b9c85201981e8086f3dbf06d131\n'}, {'number': 2, 'created': '2017-09-23 01:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b05cd11e0213c7a907a980edfa1c5c710dc5c2ff', 'message': 'refactor build.py\n\nChange-Id: Ide8478c248e77b9c85201981e8086f3dbf06d131\n'}, {'number': 3, 'created': '2017-09-23 08:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4f710afe76c1802aa97dbf09e0de1945586add74', 'message': 'Skip known failed kolla images\n\nChange-Id: Ide8478c248e77b9c85201981e8086f3dbf06d131\n'}, {'number': 4, 'created': '2017-09-23 08:05:49.000000000', 'files': ['kolla/image/build.py', 'tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b1b7492e658cd6b15408bd796c679b7ea479b308', 'message': 'Skip known failed kolla images\n\nChange-Id: Ide8478c248e77b9c85201981e8086f3dbf06d131\n'}]",4,506677,b1b7492e658cd6b15408bd796c679b7ea479b308,19,7,4,7488,,,0,"Skip known failed kolla images

Change-Id: Ide8478c248e77b9c85201981e8086f3dbf06d131
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/506677/3 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'tests/test_build.py']",2,c35b6eb00d10bff2c09af13de8d0f3328fc8dd46,, excluded_images = [] ," excluded_images = abc.abstractproperty() excluded_images = [ ""bifrost-base"", ""blazar-base"", ""dragonflow-base"", ""freezer-base"", ""kafka"", ""karbor-base"", ""kuryr-base"", ""monasca-base"", ""neutron-bgp-dragent"", ""ovsdpdk"", ""searchlight-base"", ""senlin-base"", ""solum-base"", ""vitrage-base"", ""vmtp"", ""zun-base"", ] excluded_images = [ ""bifrost-base"", ""kafka"", ""ovsdpdk"", ] excluded_images = [ ""bifrost-base"", ""blazar-base"", ""cloudkitty-base"", ""congress-base"", ""dragonflow-base"", ""ec2-api"", ""freezer-base"", ""heat-all"", ""karbor-base"", ""kuryr-base"", ""mistral-event-engine"", ""monasca-base"", ""novajoin-base"", ""octavia-base"", ""searchlight-base"", ""senlin-base"", ""solum-base"", ""tacker-base"", ""vitrage-base"", ""vmtp"", ""zaqar"", ""zun-base"", ] excluded_images = [ ""bifrost-base"", ] excluded_images = [ ""bifrost-base"", ""blazar-base"", ""cloudkitty-base"", ""congress-base"", ""dragonflow-base"", ""ec2-api"", ""freezer-base"", ""heat-all"", ""karbor-base"", ""kuryr-base"", ""mistral-event-engine"", ""monasca-base"", ""novajoin-base"", ""octavia-base"", ""searchlight-base"", ""senlin-base"", ""sensu-base"", ""solum-base"", ""tacker-base"", ""vitrage-base"", ""vmtp"", ""zaqar"", ""zun-base"" ] excluded_images = [ ""bifrost-base"", ""sensu-base"", ] excluded_images = [ ""bifrost-base"", ""blazar-base"", ""dragonflow-base"", ""freezer-base"", ""kafka"", ""karbor-base"", ""kuryr-base"", ""monasca-base"", ""neutron-bgp-dragent"", ""ovsdpdk"", ""searchlight-base"", ""senlin-base"", ""solum-base"", ""vitrage-base"", ""vmtp"", ""zun-base"", ] excluded_images = [ ""bifrost-base"", ""kafka"", ""ovsdpdk"", ]",118,103
openstack%2Fshade~master~I58844125ba37d81f1611e4e8ec641c1b8573884d,openstack/shade,master,I58844125ba37d81f1611e4e8ec641c1b8573884d,list_servers pagination support,MERGED,2018-03-23 17:32:49.000000000,2018-03-31 13:47:17.000000000,2018-03-31 13:47:16.000000000,"[{'_account_id': 2}, {'_account_id': 4330}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 17:32:49.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/6040b343455dbab426d8512ea16c7f2d0e446eee', 'message': 'list_servers pagination support\n\nIf we want to list the servers of a deployment with more servers than\nnova.conf max_limit, currently we only return max_limit. This patch\nmakes it behave as expected, getting you all the servers.\n\nChange-Id: I58844125ba37d81f1611e4e8ec641c1b8573884d\nSigned-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>\n'}]",0,555876,6040b343455dbab426d8512ea16c7f2d0e446eee,6,4,1,14352,,,0,"list_servers pagination support

If we want to list the servers of a deployment with more servers than
nova.conf max_limit, currently we only return max_limit. This patch
makes it behave as expected, getting you all the servers.

Change-Id: I58844125ba37d81f1611e4e8ec641c1b8573884d
Signed-off-by: Antoni Segura Puimedon <antonisp@celebdor.com>
",git fetch https://review.opendev.org/openstack/shade refs/changes/76/555876/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,6040b343455dbab426d8512ea16c7f2d0e446eee,limitless_list_servers," unprocessed_servers = {'servers': []} while 'servers_links' in data: unprocessed_servers['servers'].extend(data['servers']) parse_result = urllib.parse.urlparse( data['servers_links'][0]['href']) pagination_params = dict( urllib.parse.parse_qsl(parse_result.query)) params.update(pagination_params) data = self._compute_client.get( '/servers/detail', params=params, error_message=error_msg) unprocessed_servers['servers'].extend(data['servers']) self._get_and_munchify('servers', unprocessed_servers))"," self._get_and_munchify('servers', data))",13,1
openstack%2Fshade~master~I073b53c6bb34fa904e9595169b135fde7c393d0e,openstack/shade,master,I073b53c6bb34fa904e9595169b135fde7c393d0e,create_subnet: Add filter on tenant_id if specified,MERGED,2018-03-27 08:44:49.000000000,2018-03-31 13:39:32.000000000,2018-03-31 13:39:32.000000000,"[{'_account_id': 2}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 08:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/6862becb61450f3d307480705d9000a082205b82', 'message': 'create_subnet: Add filter on tenant_id if specified\n\nChange-Id: I073b53c6bb34fa904e9595169b135fde7c393d0e\nTask: 12102\nStory: 2001744\n'}, {'number': 2, 'created': '2018-03-27 12:57:34.000000000', 'files': ['shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/f609876f2d733fa3f1379ca383b6b5fb13a1dd99', 'message': 'create_subnet: Add filter on tenant_id if specified\n\nChange-Id: I073b53c6bb34fa904e9595169b135fde7c393d0e\nTask: 12102\nStory: 2001744\n'}]",0,556782,f609876f2d733fa3f1379ca383b6b5fb13a1dd99,9,3,2,28023,,,0,"create_subnet: Add filter on tenant_id if specified

Change-Id: I073b53c6bb34fa904e9595169b135fde7c393d0e
Task: 12102
Story: 2001744
",git fetch https://review.opendev.org/openstack/shade refs/changes/82/556782/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/openstackcloud.py'],1,6862becb61450f3d307480705d9000a082205b82,story/2001617, if tenant_id is not None: filters = {'tenant_id': tenant_id} else: filters = None ,,5,0
openstack%2Fhorizon~master~I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e,openstack/horizon,master,I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e,Fixes the bugs in the xstatic-d3 upgrades,ABANDONED,2017-02-01 21:00:56.000000000,2018-03-31 13:34:15.000000000,,"[{'_account_id': 9155}, {'_account_id': 12826}, {'_account_id': 20509}, {'_account_id': 20910}]","[{'number': 1, 'created': '2017-02-01 21:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7c28ca576cd442afacf205d60b85ba42ed4cbd34', 'message': 'Fixes the Projects Overview page charts\n\n[WIP]: This patch fixes some of the errors in\nthe pie charts of the projects overview page.\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}, {'number': 2, 'created': '2017-02-01 23:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6181038ea668e6df7216e42c21a9c243e0ecc1b4', 'message': 'Fixes the bugs in the xstatic-d3 upgrades\n\n[WIP]: This patch fixes some of the errors in the pie charts\nof the projects overview page, and graphs in the network\ntopology page.\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}, {'number': 3, 'created': '2017-02-03 17:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c567310d88c29a8cab08b7d5bf3f20f3db3367d9', 'message': 'Fixes the bugs in the xstatic-d3 upgrades\n\n[WIP]: This patch fixes some of the errors in the pie charts\nof the projects overview page, and graphs in the network\ntopology page.\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}, {'number': 4, 'created': '2017-02-06 06:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/82331107c11588e534c7d980b8493801aa719ca6', 'message': 'Fixes the bugs in the xstatic-d3 upgrades\n\n[WIP]: This patch fixes some of the errors in the pie charts\nof the projects overview page, and graphs in the network\ntopology page.\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}, {'number': 5, 'created': '2017-02-27 16:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f524c8b7079fedda2ab0fae2e5aa558f8c07e587', 'message': 'Fixes the bugs in the xstatic-d3 upgrades\n\n[WIP]: This patch fixes some of the errors in the pie charts\nof the projects overview page, and graphs in the network\ntopology page.\n\nCo-Authored-By: Daniel Castellanos <luis.daniel.castellanos@intel.com>\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}, {'number': 6, 'created': '2017-02-27 20:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/98ccfc76b26a25a15ad069b867cc3d4650a79ede', 'message': 'Fixes the bugs in the xstatic-d3 upgrades\n\n[WIP]: This patch fixes some of the errors in the pie charts\nof the projects overview page, and graphs in the network\ntopology page.\n\nCo-Authored-By: Daniel Castellanos <luis.daniel.castellanos@intel.com>\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}, {'number': 7, 'created': '2017-03-06 20:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/29c995bc5b49100e2029aba7429b55cfc0272309', 'message': 'Fixes the bugs in the xstatic-d3 upgrades\n\n[WIP]: This patch fixes some of the errors in the projects overview,\nnetwork topology and stack topology pages.\n\nCo-Authored-By: Daniel Castellanos <luis.daniel.castellanos@intel.com>\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}, {'number': 8, 'created': '2017-03-13 15:52:52.000000000', 'files': ['horizon/static/framework/widgets/charts/pie-chart.directive.js', 'openstack_dashboard/static/js/horizon.networktopology.js', 'horizon/static/horizon/js/horizon.d3piechart.js', 'openstack_dashboard/static/js/horizon.flatnetworktopology.js', 'horizon/static/horizon/js/horizon.heattop.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/aa69174a2a0e22174c3b1cc6cb5459a5d274c468', 'message': 'Fixes the bugs in the xstatic-d3 upgrades\n\n[WIP]: More fixes in the stack topology page.\n\nCo-Authored-By: Daniel Castellanos <luis.daniel.castellanos@intel.com>\n\nChange-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e\nDepends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0\n'}]",1,427918,aa69174a2a0e22174c3b1cc6cb5459a5d274c468,27,4,8,20910,,,0,"Fixes the bugs in the xstatic-d3 upgrades

[WIP]: More fixes in the stack topology page.

Co-Authored-By: Daniel Castellanos <luis.daniel.castellanos@intel.com>

Change-Id: I3eec8c5bae53f9b6f86de9d1f100a5e7b10f6a3e
Depends-on: Ie438a5b8ce0aaaf61e3db40fc7b5237ea73a18c0
",git fetch https://review.opendev.org/openstack/horizon refs/changes/18/427918/1 && git format-patch -1 --stdout FETCH_HEAD,['horizon/static/horizon/js/horizon.d3piechart.js'],1,7c28ca576cd442afacf205d60b85ba42ed4cbd34,proj_overview_1, return d3.arc() return d3.pie() var vis = create_vis(self.chart._groups[0][i]);, return d3.svg.arc() return d3.layout.pie() var vis = create_vis(self.chart[0][i]);,3,3
openstack%2Fhorizon~master~Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a,openstack/horizon,master,Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a,Add new column and row for instance owner.,ABANDONED,2016-05-23 20:29:27.000000000,2018-03-31 13:26:09.000000000,,"[{'_account_id': 6763}, {'_account_id': 8871}, {'_account_id': 9622}, {'_account_id': 12826}, {'_account_id': 13474}, {'_account_id': 14151}, {'_account_id': 15209}, {'_account_id': 17172}, {'_account_id': 20509}, {'_account_id': 21152}, {'_account_id': 21511}, {'_account_id': 22587}, {'_account_id': 22779}, {'_account_id': 23165}]","[{'number': 1, 'created': '2016-05-23 20:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/99ab34b2580f40093b521602a7b5686fbe607ef8', 'message': ""Add new columns and rows for instance owner.\n\n* Adds 'Owner' column to instances table (yes/no)\n* Adds 'Creator ID' row to Instance details > Overview\n\nChange-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a\nCloses-bug: 1583083\n""}, {'number': 2, 'created': '2016-05-23 20:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/489179950097a21b4ead2cc892b854ea99f00d9a', 'message': ""Add new column and row for instance owner.\n\n* Adds 'Owner' column to instances table (yes/no)\n* Adds 'Creator ID' row to Instance details > Overview\n\nChange-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a\nCloses-bug: 1583083\n""}, {'number': 3, 'created': '2016-05-24 22:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/051de35928c5fc99e94d16682fc876c5dcbab54a', 'message': ""Add new column and row for instance owner.\n\n* Adds 'Owner' column to instances table (yes/no)\n* Adds 'Creator ID' row to Instance details > Overview\n\nChange-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a\nCloses-bug: 1583083\n""}, {'number': 4, 'created': '2016-08-30 00:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8735e1e7261a674b74a3b41bb56f0c456ee1f08b', 'message': ""Add new column and row for instance owner.\n\n* Adds 'Owner' column to instances table (yes/no)\n* Adds 'Creator ID' row to Instance details > Overview\n\nChange-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a\nCloses-bug: 1583083\n""}, {'number': 5, 'created': '2016-09-09 23:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/87310020d493d319b3f88510cb8058a3974b2053', 'message': ""Add new column and row for instance owner.\n\n* Adds 'Owner' column to instances table (yes/no)\n* Adds 'Creator ID' row to Instance details > Overview\n\nChange-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a\nCloses-bug: 1583083\n""}, {'number': 6, 'created': '2016-09-14 17:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/28be423ad465944d4451be8872e91a862b6d43f7', 'message': ""Add new column and row for instance owner.\n\n* Adds 'Owner' column to instances table (yes/no)\n* Adds 'Creator ID' row to Instance details > Overview\n\nChange-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a\nCloses-bug: 1583083\n""}, {'number': 7, 'created': '2016-10-05 16:15:06.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/templates/instances/_detail_overview.html', 'openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/0cbb3d874c0b426092a91cd08f5337937a028c70', 'message': ""Add new column and row for instance owner.\n\n* Adds 'Owner' column to instances table (yes/no)\n* Adds 'Instance Owner' and 'Instance Owner Name' rows to Instance details > Overview\n\nChange-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a\nCloses-bug: 1583083\n""}]",17,320129,0cbb3d874c0b426092a91cd08f5337937a028c70,39,14,7,13474,,,0,"Add new column and row for instance owner.

* Adds 'Owner' column to instances table (yes/no)
* Adds 'Instance Owner' and 'Instance Owner Name' rows to Instance details > Overview

Change-Id: Ibd7c05f588e74ec736c1b08f9a455f20e6e61f9a
Closes-bug: 1583083
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/320129/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/instances/templates/instances/_detail_overview.html', 'openstack_dashboard/dashboards/project/instances/tables.py', 'openstack_dashboard/dashboards/project/instances/views.py']",3,99ab34b2580f40093b521602a7b5686fbe607ef8,bug/1583083," if hasattr(instance, 'user_id'): instance.owner = instance.user_id == self.request.user.id ",,10,0
openstack%2Fdevstack~master~I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1,openstack/devstack,master,I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1,Allow public router external net to use a non-flat provider network.,MERGED,2017-12-16 22:19:34.000000000,2018-03-31 13:12:18.000000000,2018-03-20 08:31:58.000000000,"[{'_account_id': 162}, {'_account_id': 1653}, {'_account_id': 6694}, {'_account_id': 6995}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 14757}, {'_account_id': 16376}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27552}]","[{'number': 1, 'created': '2017-12-16 22:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/18ece47ed594205363711b86e3ab3479ec5a5359', 'message': 'WIP: Allow router external net to use a non-flat provider network.\n\nAllow users to auto-create a neutron non-flat providernet public network\nand use it for external router interfaces.\n\nChange-Id: I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1\n'}, {'number': 2, 'created': '2017-12-18 14:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6d014a5600d090cdc00227c60b6dd757a6fd2dab', 'message': 'Allow public router external net to use a non-flat provider network.\n\nAllow users to auto-create a neutron non-flat providernet public network\nand use it for external router interfaces.  By default, keep the existing\nflat network type behavior.\n\nChange-Id: I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1\n'}, {'number': 3, 'created': '2018-01-18 16:00:19.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bb7d2f233b92a3f9ee17ad0702fecb68bbf1e712', 'message': 'Allow public router external net to use a non-flat provider network.\n\nAllow users to auto-create a neutron non-flat providernet public network\nand use it for external router interfaces.  By default, keep the existing\nflat network type behavior.\n\nChange-Id: I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1\n'}]",2,528510,bb7d2f233b92a3f9ee17ad0702fecb68bbf1e712,39,14,3,14757,,,0,"Allow public router external net to use a non-flat provider network.

Allow users to auto-create a neutron non-flat providernet public network
and use it for external router interfaces.  By default, keep the existing
flat network type behavior.

Change-Id: I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/10/528510/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,18ece47ed594205363711b86e3ab3479ec5a5359,providernet_pub_vlan," EXT_NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create ""$PUBLIC_NETWORK_NAME"" $EXTERNAL_NETWORK_FLAGS --provider-network-type ${PUBLIC_PROVIDERNET_TYPE:-flat} ${PUBLIC_PROVIDERNET_SEGMENTATION_ID:+--provider-segment $PUBLIC_PROVIDERNET_SEGMENTATION_ID} --provider-physical-network ${PUBLIC_PHYSICAL_NETWORK} | grep ' id ' | get_field 2)"," EXT_NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create ""$PUBLIC_NETWORK_NAME"" $EXTERNAL_NETWORK_FLAGS --provider-network-type flat --provider-physical-network ${PUBLIC_PHYSICAL_NETWORK} | grep ' id ' | get_field 2)",1,1
openstack%2Fhorizon~master~I05c0804b20c0f742dfbc77fa7fa37a3e80cb7e45,openstack/horizon,master,I05c0804b20c0f742dfbc77fa7fa37a3e80cb7e45,Sort the default flavor list depinding on Ram,ABANDONED,2017-09-05 12:34:51.000000000,2018-03-31 12:55:04.000000000,,"[{'_account_id': 841}, {'_account_id': 14151}]","[{'number': 1, 'created': '2017-09-05 12:34:51.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9538cd0c779800def9af3560f8cf338549b6bc94', 'message': 'Sort the default flavor list depinding on Ram\n\nChange-Id: I05c0804b20c0f742dfbc77fa7fa37a3e80cb7e45\n'}]",0,500797,9538cd0c779800def9af3560f8cf338549b6bc94,5,2,1,26766,,,0,"Sort the default flavor list depinding on Ram

Change-Id: I05c0804b20c0f742dfbc77fa7fa37a3e80cb7e45
",git fetch https://review.opendev.org/openstack/horizon refs/changes/97/500797/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,9538cd0c779800def9af3560f8cf338549b6bc94,1715042," flavors = getattr(flavors, 'ram')",,1,0
openstack%2Fhorizon~master~I8bfbd33ab358257f320c9986e03209ea01859b1f,openstack/horizon,master,I8bfbd33ab358257f320c9986e03209ea01859b1f,Sort the default flavor list depinding on Ram,ABANDONED,2017-09-06 11:21:46.000000000,2018-03-31 12:52:03.000000000,,[{'_account_id': 841}],"[{'number': 1, 'created': '2017-09-06 11:21:46.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/07560124b4012104ff0257b7021903d5dfd75783', 'message': 'Sort the default flavor list depinding on Ram\n\nChange-Id: I8bfbd33ab358257f320c9986e03209ea01859b1f\n'}]",0,501229,07560124b4012104ff0257b7021903d5dfd75783,5,1,1,26766,,,0,"Sort the default flavor list depinding on Ram

Change-Id: I8bfbd33ab358257f320c9986e03209ea01859b1f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/501229/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,07560124b4012104ff0257b7021903d5dfd75783,bug-1715042,"from openstack_dashboard.dashboards.project import instances if len(flavors) > 1: flavors = instances.utils.sort_flavor_list(self.request, flavors) ",,4,0
openstack%2Fhorizon~master~I86a13104f2cc516ae98393aa2c9ea8046c5f9df1,openstack/horizon,master,I86a13104f2cc516ae98393aa2c9ea8046c5f9df1,Sort the default flavor list depinding on Ram,ABANDONED,2017-09-05 13:33:27.000000000,2018-03-31 12:51:55.000000000,,"[{'_account_id': 841}, {'_account_id': 14151}]","[{'number': 1, 'created': '2017-09-05 13:33:27.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/55f39f183ab27cceb5f0d5e4c077f08bee8db8a0', 'message': 'Sort the default flavor list depinding on Ram\n\nChange-Id: I86a13104f2cc516ae98393aa2c9ea8046c5f9df1\n'}]",1,500824,55f39f183ab27cceb5f0d5e4c077f08bee8db8a0,6,2,1,26766,,,0,"Sort the default flavor list depinding on Ram

Change-Id: I86a13104f2cc516ae98393aa2c9ea8046c5f9df1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/24/500824/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,55f39f183ab27cceb5f0d5e4c077f08bee8db8a0,1715042,"from openstack_dashboard.dashboards.project import instances from openstack_dashboard. import filters flavors = instances.utils.sort_flavor_list(self.request, flavors)","from openstack_dashboard.utils import filters flavors = getattr(flavors, 'ram')",4,2
openstack%2Fhorizon~master~Ie1463a2c915627a49b1d2ff73d49a2399330a60c,openstack/horizon,master,Ie1463a2c915627a49b1d2ff73d49a2399330a60c,Sort the default flavor list depinding on Ram,ABANDONED,2017-09-06 13:30:32.000000000,2018-03-31 12:51:43.000000000,,"[{'_account_id': 841}, {'_account_id': 16628}, {'_account_id': 26247}, {'_account_id': 26576}, {'_account_id': 26766}]","[{'number': 1, 'created': '2017-09-06 13:30:32.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/35f26e356e7522696684bfd1f35abe4437af86bb', 'message': 'Sort the default flavor list depinding on Ram\n\nChange-Id: Ie1463a2c915627a49b1d2ff73d49a2399330a60c\n'}]",1,501256,35f26e356e7522696684bfd1f35abe4437af86bb,10,5,1,26766,,,0,"Sort the default flavor list depinding on Ram

Change-Id: Ie1463a2c915627a49b1d2ff73d49a2399330a60c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/56/501256/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,35f26e356e7522696684bfd1f35abe4437af86bb,bug-1715042," import utils as project_utils from openstack_dashboard.dashboards.project.instances \ if len(flavors) > 1: flavors = project_utils.sort_flavor_list (self.request, flavors)",,6,1
openstack%2Fhorizon~master~I0d35650825ff5092d8038def07d9d9d6a761ae4d,openstack/horizon,master,I0d35650825ff5092d8038def07d9d9d6a761ae4d,Detail pages delete confirmation name is not displayed bug fixed.,ABANDONED,2016-10-04 06:52:18.000000000,2018-03-31 12:47:31.000000000,,"[{'_account_id': 6763}, {'_account_id': 9155}, {'_account_id': 14151}, {'_account_id': 17172}, {'_account_id': 20509}, {'_account_id': 21063}, {'_account_id': 22587}, {'_account_id': 22779}]","[{'number': 1, 'created': '2016-10-04 06:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1a92fe3598c0ab86f2975aab7d358f69b28f214d', 'message': 'Router name is not displayed bug fixed.\n\nChange-Id: I0d35650825ff5092d8038def07d9d9d6a761ae4d\nCloses-Bug: #1629198\n'}, {'number': 2, 'created': '2016-10-07 08:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f9aa5d7eae2c9fb28e3c89b86e1378175b0dfc8c', 'message': 'Router name is not displayed bug fixed.\n\nReview and Jenkins tests review fixes.\nAlso, bug solved for not only project dashboard but also admin dashboard.\n\nChange-Id: I0d35650825ff5092d8038def07d9d9d6a761ae4d\nCloses-Bug: #1629198\n'}, {'number': 3, 'created': '2016-10-17 12:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ef60e23a93b51a9a63bb108a8c7a7bac5e7b27ea', 'message': 'Router name is not displayed bug fixed.\n\nReview and Jenkins tests review fixes.\nAlso, bug solved for not only project dashboard but also admin dashboard.\n\nChange-Id: I0d35650825ff5092d8038def07d9d9d6a761ae4d\nCloses-Bug: #1629198\n'}, {'number': 4, 'created': '2016-11-25 11:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ee15baddeb9939c08c4e121b126768aea57e8d55', 'message': 'Detail pages delete confirmation name is not displayed bug fixed.\n\nReview and Jenkins tests review fixes.\nAlso, bug solved for not only project dashboard but also admin dashboard.\n\nChange-Id: I0d35650825ff5092d8038def07d9d9d6a761ae4d\nCloses-Bug: #1629198\n'}, {'number': 5, 'created': '2016-11-29 07:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/483b7bd928d6fc9de8a4dcf190e6f88a54dc63db', 'message': 'Detail pages delete confirmation name is not displayed bug fixed.\n\nReview and Jenkins tests review fixes.\nAlso, bug solved for not only project dashboard but also admin dashboard.\n\nChange-Id: I0d35650825ff5092d8038def07d9d9d6a761ae4d\nCloses-Bug: #1629198\n'}, {'number': 6, 'created': '2016-11-30 08:20:05.000000000', 'files': ['openstack_dashboard/dashboards/project/volumes/templates/volumes/volumes/_detail_overview.html', 'openstack_dashboard/dashboards/project/instances/templates/instances/_detail_overview.html', 'openstack_dashboard/dashboards/project/volumes/templates/volumes/snapshots/_detail_overview.html', 'openstack_dashboard/dashboards/project/stacks/templates/stacks/_detail_overview.html', 'openstack_dashboard/dashboards/project/routers/templates/routers/_detail_overview.html', 'horizon/static/horizon/js/horizon.tables.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b4f180204c01a33e642251074a4a88cafb4fbfb8', 'message': 'Detail pages delete confirmation name is not displayed bug fixed.\n\nReview and Jenkins tests review fixes.\nAlso, bug solved for not only project dashboard but also admin dashboard.\n\nChange-Id: I0d35650825ff5092d8038def07d9d9d6a761ae4d\nCloses-Bug: #1629198\n'}]",4,381444,b4f180204c01a33e642251074a4a88cafb4fbfb8,27,8,6,23719,,,0,"Detail pages delete confirmation name is not displayed bug fixed.

Review and Jenkins tests review fixes.
Also, bug solved for not only project dashboard but also admin dashboard.

Change-Id: I0d35650825ff5092d8038def07d9d9d6a761ae4d
Closes-Bug: #1629198
",git fetch https://review.opendev.org/openstack/horizon refs/changes/44/381444/2 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/templates/horizon/common/_data_table_action.html', 'horizon/static/horizon/js/horizon.tables.js']",2,1a92fe3598c0ab86f2975aab7d358f69b28f214d,bug/1629198," var name_string = $action.attr(""display_name"") || """"; if (name_string) { name_string = ' ""' + name_string + '""'; } else { // Add the display name defined by table.get_object_display(datum) var $closest_table = $action.closest(""table""); // Check if data-display attribute is available var $data_display = $closest_table.find('tr[data-display]'); if ($data_display.length > 0) { var $actions_div = $action.closest(""div""); if ($actions_div.hasClass(""table_actions"") || $actions_div.hasClass(""table_actions_menu"")) { // One or more checkboxes selected $data_display.has("".table-row-multi-select:checked"").each(function() { name_array.push("" \"""" + $(this).attr(""data-display"") + ""\""""); }); name_string = name_array.join("", ""); } else { // If no checkbox is selected name_string = "" \"""" + $action.closest(""tr"").attr(""data-display"") + ""\""""; name_array = [name_string]; } } else{ // Probably we are getting the action from a detail view, so we try to get // the data-display from a dd element instead $data_display = $('dd[data-display]'); if($data_display.length > 0) { name_string = ' ""' + $('dd[data-display]').attr(""data-display"") + '""'; name_array = [name_string]; }"," var name_string = """"; // Add the display name defined by table.get_object_display(datum) var $closest_table = $action.closest(""table""); // Check if data-display attribute is available var $data_display = $closest_table.find('tr[data-display]'); if ($data_display.length > 0) { var $actions_div = $action.closest(""div""); if ($actions_div.hasClass(""table_actions"") || $actions_div.hasClass(""table_actions_menu"")) { // One or more checkboxes selected $data_display.has("".table-row-multi-select:checked"").each(function() { name_array.push("" \"""" + $(this).attr(""data-display"") + ""\""""); }); name_string = name_array.join("", ""); } else { // If no checkbox is selected name_string = "" \"""" + $action.closest(""tr"").attr(""data-display"") + ""\""""; name_array = [name_string]; } } else{ // Probably we are getting the action from a detail view, so we try to get // the data-display from a dd element instead $data_display = $('dd[data-display]'); if($data_display.length > 0) { name_string = ' ""' + $('dd[data-display]').attr(""data-display"") + '""'; name_array = [name_string];",33,25
openstack%2Fhorizon~master~I306f156c9621d797616047c95e7c5d8c3d10785f,openstack/horizon,master,I306f156c9621d797616047c95e7c5d8c3d10785f,Remove integration tests,ABANDONED,2017-08-16 13:04:18.000000000,2018-03-31 12:45:28.000000000,,[{'_account_id': 14151}],"[{'number': 1, 'created': '2017-08-16 13:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/47c4fd1d1264843f7a8553fd5bf8f4b8c07b497c', 'message': 'Remove integration tests\n\nIntegration tests have been disabled for a long time. This commit\nremoves them and some references to run_tests.sh\n\nChange-Id: I306f156c9621d797616047c95e7c5d8c3d10785f\n'}, {'number': 2, 'created': '2017-08-16 15:35:43.000000000', 'files': ['openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/tests/test_defaults.py', 'openstack_dashboard/test/integration_tests/tests/test_images.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/instancespage.py', 'openstack_dashboard/test/integration_tests/pages/pageobject.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/volumes/volumesnapshotspage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/hostaggregatespage.py', 'doc/source/contributor/ref/index.rst', 'openstack_dashboard/test/integration_tests/tests/test-data/empty_namespace.json', 'openstack_dashboard/test/integration_tests/pages/admin/system/flavorspage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/managerulespage.py', 'openstack_dashboard/test/integration_tests/pages/settings/usersettingspage.py', 'openstack_dashboard/test/integration_tests/tests/test_host_aggregates.py', 'openstack_dashboard/test/integration_tests/tests/test_networks.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/routerspage.py', 'openstack_dashboard/test/integration_tests/pages/project/network/networkoverviewpage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/metadatadefinitionspage.py', 'openstack_dashboard/test/integration_tests/pages/settings/__init__.py', 'openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/__init__.py', 'openstack_dashboard/test/integration_tests/regions/__init__.py', 'openstack_dashboard/test/integration_tests/tests/test_router_gateway.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/apiaccesspage.py', 'openstack_dashboard/test/integration_tests/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/__init__.py', 'openstack_dashboard/test/integration_tests/pages/identity/userspage.py', 'openstack_dashboard/test/integration_tests/pages/project/network/__init__.py', 'openstack_dashboard/test/integration_tests/horizon.conf', 'openstack_dashboard/test/integration_tests/pages/identity/projectspage.py', 'openstack_dashboard/test/integration_tests/tests/test_credentials.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/securitygroupspage.py', 'openstack_dashboard/test/integration_tests/tests/test_keypairs.py', 'openstack_dashboard/test/integration_tests/tests/test_groups.py', 'openstack_dashboard/test/integration_tests/tests/test_volume_snapshots.py', 'MANIFEST.in', 'openstack_dashboard/test/integration_tests/pages/project/compute/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/orchestration/__init__.py', 'openstack_dashboard/test/integration_tests/tests/__init__.py', 'openstack_dashboard/test/integration_tests/basewebobject.py', 'openstack_dashboard/test/integration_tests/tests/test_user_settings.py', 'openstack_dashboard/test/integration_tests/tests/test_stacks.py', 'openstack_dashboard/test/integration_tests/pages/loginpage.py', 'openstack_dashboard/test/integration_tests/regions/messages.py', 'openstack_dashboard/test/integration_tests/pages/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/overviewpage.py', 'openstack_dashboard/test/integration_tests/tests/test_security_groups.py', 'openstack_dashboard/test/integration_tests/README.rst', 'openstack_dashboard/test/integration_tests/pages/admin/system/instancespage.py', 'openstack_dashboard/test/integration_tests/tests/test_flavors.py', 'openstack_dashboard/test/integration_tests/pages/admin/__init__.py', 'openstack_dashboard/test/integration_tests/pages/navigation.py', 'openstack_dashboard/test/integration_tests/pages/identity/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/volumes/__init__.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/resource_usage/__init__.py', 'openstack_dashboard/test/integration_tests/regions/bars.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routerspage.py', 'openstack_dashboard/test/integration_tests/helpers.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routerinterfacespage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/volumespage.py', 'openstack_dashboard/test/integration_tests/tests/test_volumes.py', 'openstack_dashboard/test/integration_tests/video_recorder.py', 'openstack_dashboard/test/integration_tests/tests/test_instances.py', 'openstack_dashboard/test/integration_tests/tests/test_projects.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/volumesnapshotspage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/overviewpage.py', 'openstack_dashboard/test/integration_tests/pages/identity/groupspage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/defaultspage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/volumes/volumespage.py', 'openstack_dashboard/test/integration_tests/tests/test_router.py', 'openstack_dashboard/test/integration_tests/tests/test_users.py', 'openstack_dashboard/test/integration_tests/tests/test_floatingips.py', 'openstack_dashboard/test/integration_tests/tests/test_volumetypes.py', 'openstack_dashboard/test/integration_tests/pages/project/orchestration/stackspage.py', 'openstack_dashboard/test/integration_tests/tests/test-data/stack_template', 'doc/source/contributor/ref/run_tests.rst', 'openstack_dashboard/test/integration_tests/pages/settings/changepasswordpage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/keypairspage.py', 'openstack_dashboard/test/integration_tests/pages/project/object_store/__init__.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/imagespage.py', 'openstack_dashboard/test/integration_tests/regions/tables.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/floatingipspage.py', 'openstack_dashboard/test/integration_tests/regions/menus.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routeroverviewpage.py', 'openstack_dashboard/test/integration_tests/regions/exceptions.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/system_info/__init__.py', 'openstack_dashboard/test/integration_tests/tests/test_metadata_definitions.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/network/networkspage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/imagespage.py', 'openstack_dashboard/test/integration_tests/tests/test_login.py', 'openstack_dashboard/test/integration_tests/pages/basepage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/volumetypespage.py', 'openstack_dashboard/test/integration_tests/regions/baseregion.py', 'openstack_dashboard/test/integration_tests/decorators.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/00556ce95e2f61e9c10f7c6e64945ddfb6797fed', 'message': 'Remove integration tests\n\nIntegration tests have been disabled for a long time. This commit\nremoves them and some references to run_tests.sh\n\nChange-Id: I306f156c9621d797616047c95e7c5d8c3d10785f\n'}]",0,494199,00556ce95e2f61e9c10f7c6e64945ddfb6797fed,7,1,2,19740,,,0,"Remove integration tests

Integration tests have been disabled for a long time. This commit
removes them and some references to run_tests.sh

Change-Id: I306f156c9621d797616047c95e7c5d8c3d10785f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/99/494199/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/integration_tests/regions/forms.py', 'openstack_dashboard/test/integration_tests/tests/test_defaults.py', 'openstack_dashboard/test/integration_tests/tests/test_images.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/instancespage.py', 'openstack_dashboard/test/integration_tests/pages/pageobject.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/volumes/volumesnapshotspage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/hostaggregatespage.py', 'openstack_dashboard/test/integration_tests/tests/test-data/empty_namespace.json', 'openstack_dashboard/test/integration_tests/pages/admin/system/flavorspage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/managerulespage.py', 'openstack_dashboard/test/integration_tests/pages/settings/usersettingspage.py', 'openstack_dashboard/test/integration_tests/tests/test_host_aggregates.py', 'openstack_dashboard/test/integration_tests/tests/test_networks.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/routerspage.py', 'openstack_dashboard/test/integration_tests/pages/project/network/networkoverviewpage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/metadatadefinitionspage.py', 'openstack_dashboard/test/integration_tests/pages/settings/__init__.py', 'openstack_dashboard/test/integration_tests/config.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/__init__.py', 'openstack_dashboard/test/integration_tests/regions/__init__.py', 'openstack_dashboard/test/integration_tests/tests/test_router_gateway.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/apiaccesspage.py', 'openstack_dashboard/test/integration_tests/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/__init__.py', 'openstack_dashboard/test/integration_tests/pages/identity/userspage.py', 'openstack_dashboard/test/integration_tests/pages/project/network/__init__.py', 'openstack_dashboard/test/integration_tests/horizon.conf', 'openstack_dashboard/test/integration_tests/pages/identity/projectspage.py', 'openstack_dashboard/test/integration_tests/tests/test_credentials.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/securitygroupspage.py', 'openstack_dashboard/test/integration_tests/tests/test_keypairs.py', 'openstack_dashboard/test/integration_tests/tests/test_groups.py', 'openstack_dashboard/test/integration_tests/tests/test_volume_snapshots.py', 'MANIFEST.in', 'openstack_dashboard/test/integration_tests/pages/project/compute/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/orchestration/__init__.py', 'openstack_dashboard/test/integration_tests/tests/__init__.py', 'openstack_dashboard/test/integration_tests/basewebobject.py', 'openstack_dashboard/test/integration_tests/tests/test_user_settings.py', 'openstack_dashboard/test/integration_tests/tests/test_stacks.py', 'openstack_dashboard/test/integration_tests/pages/loginpage.py', 'openstack_dashboard/test/integration_tests/regions/messages.py', 'openstack_dashboard/test/integration_tests/pages/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/overviewpage.py', 'openstack_dashboard/test/integration_tests/tests/test_security_groups.py', 'openstack_dashboard/test/integration_tests/README.rst', 'openstack_dashboard/test/integration_tests/pages/admin/system/instancespage.py', 'openstack_dashboard/test/integration_tests/tests/test_flavors.py', 'openstack_dashboard/test/integration_tests/pages/admin/__init__.py', 'openstack_dashboard/test/integration_tests/pages/navigation.py', 'openstack_dashboard/test/integration_tests/pages/identity/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/volumes/__init__.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/resource_usage/__init__.py', 'openstack_dashboard/test/integration_tests/regions/bars.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routerspage.py', 'openstack_dashboard/test/integration_tests/helpers.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routerinterfacespage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/volumespage.py', 'openstack_dashboard/test/integration_tests/tests/test_volumes.py', 'openstack_dashboard/test/integration_tests/video_recorder.py', 'openstack_dashboard/test/integration_tests/tests/test_instances.py', 'openstack_dashboard/test/integration_tests/tests/test_projects.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/volumesnapshotspage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/overviewpage.py', 'openstack_dashboard/test/integration_tests/pages/identity/groupspage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/defaultspage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/volumes/volumespage.py', 'openstack_dashboard/test/integration_tests/tests/test_router.py', 'openstack_dashboard/test/integration_tests/tests/test_users.py', 'openstack_dashboard/test/integration_tests/tests/test_floatingips.py', 'openstack_dashboard/test/integration_tests/tests/test_volumetypes.py', 'openstack_dashboard/test/integration_tests/pages/project/orchestration/stackspage.py', 'openstack_dashboard/test/integration_tests/tests/test-data/stack_template', 'doc/source/contributor/ref/run_tests.rst', 'openstack_dashboard/test/integration_tests/pages/settings/changepasswordpage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/keypairspage.py', 'openstack_dashboard/test/integration_tests/pages/project/object_store/__init__.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/imagespage.py', 'openstack_dashboard/test/integration_tests/regions/tables.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/access_and_security/floatingipspage.py', 'openstack_dashboard/test/integration_tests/regions/menus.py', 'openstack_dashboard/test/integration_tests/pages/project/network/routeroverviewpage.py', 'openstack_dashboard/test/integration_tests/regions/exceptions.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/system_info/__init__.py', 'openstack_dashboard/test/integration_tests/tests/test_metadata_definitions.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/__init__.py', 'openstack_dashboard/test/integration_tests/pages/project/network/networkspage.py', 'openstack_dashboard/test/integration_tests/pages/project/compute/imagespage.py', 'openstack_dashboard/test/integration_tests/tests/test_login.py', 'openstack_dashboard/test/integration_tests/pages/basepage.py', 'openstack_dashboard/test/integration_tests/pages/admin/system/volumes/volumetypespage.py', 'openstack_dashboard/test/integration_tests/regions/baseregion.py', 'openstack_dashboard/test/integration_tests/decorators.py']",94,47c4fd1d1264843f7a8553fd5bf8f4b8c07b497c,remove-integration-tests,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import functools import inspect import testtools from openstack_dashboard.test.integration_tests import config def _is_test_method_name(method): return method.startswith('test_') def _is_test_fixture(method): return method in ['setUp', 'tearDown'] def _is_test_cls(cls): return cls.__name__.startswith('Test') def _mark_method_skipped(meth, reason): """"""Decorate to mark method as skipped. This marks method as skipped by replacing the actual method with wrapper that raises the testtools.testcase.TestSkipped exception. """""" @functools.wraps(meth) def wrapper(*args, **kwargs): raise testtools.testcase.TestSkipped(reason) return wrapper def _mark_class_skipped(cls, reason): """"""Mark every test method of the class as skipped."""""" tests = [attr for attr in dir(cls) if _is_test_method_name(attr) or _is_test_fixture(attr)] for test in tests: method = getattr(cls, test) if callable(method): setattr(cls, test, _mark_method_skipped(method, reason)) return cls NOT_TEST_OBJECT_ERROR_MSG = ""Decorator can be applied only on test"" \ "" classes and test methods."" def _get_skip_method(obj): """"""Make sure that we can decorate both methods and classes."""""" if inspect.isclass(obj): if not _is_test_cls(obj): raise ValueError(NOT_TEST_OBJECT_ERROR_MSG) return _mark_class_skipped else: if not _is_test_method_name(obj.__name__): raise ValueError(NOT_TEST_OBJECT_ERROR_MSG) return _mark_method_skipped def services_required(*req_services): """"""Decorator for marking test's service requirements. If requirements are not met in the configuration file test is marked as skipped. Usage: from openstack_dashboard.test.integration_tests.tests import decorators @decorators.services_required(""sahara"") class TestLogin(helpers.BaseTestCase): . . . from openstack_dashboard.test.integration_tests.tests import decorators class TestLogin(helpers.BaseTestCase): @decorators.services_required(""sahara"") def test_login(self): login_pg = loginpage.LoginPage(self.driver, self.conf) . . . """""" def actual_decoration(obj): skip_method = _get_skip_method(obj) # get available services from configuration avail_services = config.get_config().service_available for req_service in req_services: if not getattr(avail_services, req_service, False): obj = skip_method(obj, ""%s service is required for this test"" "" to work properly."" % req_service) break return obj return actual_decoration def _parse_compound_config_option_value(option_name): """"""Parses the value of a given config option. The section name of the option is separated from option name by '.'. """""" name_parts = option_name.split('.') name_parts.reverse() option = config.get_config() while name_parts: option = getattr(option, name_parts.pop()) return option def config_option_required(option_key, required_value, message=None): if message is None: message = ""%s option equal to '%s' is required for this test to work"" \ "" properly."" % (option_key, required_value) def actual_decoration(obj): skip_method = _get_skip_method(obj) option_value = _parse_compound_config_option_value(option_key) if option_value != required_value: obj = skip_method(obj, message) return obj return actual_decoration def skip_because(**kwargs): """"""Decorator for skipping tests hitting known bugs Usage: from openstack_dashboard.test.integration_tests.tests import decorators class TestDashboardHelp(helpers.TestCase): @decorators.skip_because(bugs=[""1234567""]) def test_dashboard_help_redirection(self): . . . """""" def actual_decoration(obj): skip_method = _get_skip_method(obj) bugs = kwargs.get(""bugs"") if bugs and isinstance(bugs, collections.Iterable): for bug in bugs: if not bug.isdigit(): raise ValueError(""bug must be a valid bug number"") obj = skip_method(obj, ""Skipped until Bugs: %s are resolved."" % "", "".join([bug for bug in bugs])) return obj return actual_decoration def attach_video(func): """"""Notify test runner to attach test video in any case"""""" @functools.wraps(func) def wrapper(self, *args, **kwgs): self._need_attach_video = True return func(self, *args, **kwgs) return wrapper ",0,9250
openstack%2Fhorizon~master~I2ac773ee7f7088972f55d79508f9e32d5bbf5ac0,openstack/horizon,master,I2ac773ee7f7088972f55d79508f9e32d5bbf5ac0,Filter the stacks not belong to the login user,ABANDONED,2017-08-10 07:58:04.000000000,2018-03-31 12:44:12.000000000,,"[{'_account_id': 3}, {'_account_id': 26247}]","[{'number': 1, 'created': '2017-08-10 07:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f35a4ab8757237088d508e6ce6cae458f7931c28', 'message': 'Filter the stacks not belong to the login user\n\nThere should not display the stacks which belong to the other project.\n\nChange-Id: I2ac773ee7f7088972f55d79508f9e32d5bbf5ac0\nCloses-Bug: #1709808\n'}, {'number': 2, 'created': '2017-08-11 01:35:33.000000000', 'files': ['openstack_dashboard/dashboards/project/stacks/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/963dc6585673eb36bdeaebf1f4fe43bac4006673', 'message': 'Filter the stacks not belong to the login user\n\nThere should not display the stacks which belong to the other project.\n\nChange-Id: I2ac773ee7f7088972f55d79508f9e32d5bbf5ac0\nCloses-Bug: #1709808\n'}]",1,492422,963dc6585673eb36bdeaebf1f4fe43bac4006673,6,2,2,14151,,,0,"Filter the stacks not belong to the login user

There should not display the stacks which belong to the other project.

Change-Id: I2ac773ee7f7088972f55d79508f9e32d5bbf5ac0
Closes-Bug: #1709808
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/492422/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/stacks/views.py'],1,f35a4ab8757237088d508e6ce6cae458f7931c28,bug/1709808," project_id = self.request.user.project_id if self.request.user.is_superuser: stacks = filter( lambda x: getattr(x, 'project', None) == project_id, stacks)",,6,0
openstack%2Fhorizon~master~Iaafa4436554623ee629e1b8946662975cc869ad6,openstack/horizon,master,Iaafa4436554623ee629e1b8946662975cc869ad6,Switches to using oslo_log for all logging purposes.,ABANDONED,2016-08-10 19:10:21.000000000,2018-03-31 12:39:54.000000000,,"[{'_account_id': 841}, {'_account_id': 12800}, {'_account_id': 12826}, {'_account_id': 14151}]","[{'number': 1, 'created': '2016-08-10 19:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ec235636320d957c86928b4b87b72f89bcbe8283', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iaafa4436554623ee629e1b8946662975cc869ad6\n'}, {'number': 2, 'created': '2016-08-12 07:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9938c4450aa568a1c5924ead80526975a3159d6b', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iaafa4436554623ee629e1b8946662975cc869ad6\n'}, {'number': 3, 'created': '2016-08-12 11:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/166bd62b6c563aee981653fcb814449614420c10', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iaafa4436554623ee629e1b8946662975cc869ad6\n'}, {'number': 4, 'created': '2016-08-12 12:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8da1c261a8f61d39c8654a44d0b230f73bfbc7f2', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iaafa4436554623ee629e1b8946662975cc869ad6\n'}, {'number': 5, 'created': '2016-08-17 04:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3c7cd90b9e0acd3f36a8aaac62a5c4a94e29fa99', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iaafa4436554623ee629e1b8946662975cc869ad6\n'}, {'number': 6, 'created': '2016-08-17 06:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/43922a6e62f633bfa97b585b8cdcd23b34f80031', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iaafa4436554623ee629e1b8946662975cc869ad6\n'}, {'number': 7, 'created': '2016-08-18 11:58:03.000000000', 'files': ['horizon/tables/base.py', 'openstack_dashboard/dashboards/admin/networks/tables.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/admin/images/views.py', 'openstack_dashboard/api/keystone.py', 'horizon/base.py', 'horizon/exceptions.py', 'openstack_dashboard/dashboards/admin/networks/subnets/tables.py', 'horizon/tables/actions.py', 'openstack_dashboard/dashboards/admin/defaults/workflows.py', 'horizon/middleware/operation_log.py', 'horizon/tables/formset.py', 'openstack_dashboard/dashboards/project/instances/console.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/wsgi/django.wsgi', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/api/nova.py', 'openstack_dashboard/dashboards/project/stacks/forms.py', 'openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/project/stacks/tabs.py', 'openstack_dashboard/dashboards/project/access_and_security/floating_ips/tables.py', 'horizon/notifications.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/forms.py', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/tabs.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/rulemanager.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/dashboards/project/instances/tables.py', 'horizon/utils/file_discovery.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/forms.py', 'openstack_dashboard/dashboards/project/loadbalancers/workflows.py', 'doc/source/topics/deployment.rst', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/forms.py', 'openstack_dashboard/django_pyscss_fix/__init__.py', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/dashboards/project/networks/forms.py', 'openstack_dashboard/dashboards/project/routers/forms.py', 'openstack_dashboard/dashboards/identity/groups/forms.py', 'openstack_dashboard/dashboards/project/routers/tables.py', 'openstack_dashboard/dashboards/identity/users/views.py', 'openstack_dashboard/dashboards/project/vpn/panel.py', 'openstack_dashboard/dashboards/identity/identity_providers/protocols/forms.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'horizon/workflows/base.py', 'openstack_dashboard/dashboards/project/firewalls/forms.py', 'openstack_dashboard/dashboards/project/containers/tables.py', 'openstack_dashboard/dashboards/project/routers/ports/forms.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/views.py', 'openstack_dashboard/dashboards/project/firewalls/workflows.py', 'openstack_dashboard/dashboards/admin/networks/agents/tables.py', 'requirements.txt', 'openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'horizon/utils/secret_key.py', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/theme_settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/tables.py', 'openstack_dashboard/dashboards/admin/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/subnets/tables.py', 'openstack_dashboard/api/rest/utils.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tabs.py', 'openstack_dashboard/dashboards/identity/groups/tables.py', 'openstack_dashboard/dashboards/admin/aggregates/panel.py', 'openstack_dashboard/dashboards/project/vpn/forms.py', 'openstack_dashboard/utils/metering.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'horizon/middleware/base.py', 'openstack_dashboard/dashboards/project/networks/ports/forms.py', 'openstack_dashboard/dashboards/identity/domains/tables.py', 'openstack_dashboard/dashboards/project/firewalls/tables.py', 'openstack_dashboard/dashboards/project/loadbalancers/forms.py', 'openstack_dashboard/dashboards/project/firewalls/panel.py', 'openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/loadbalancers/panel.py', 'openstack_dashboard/dashboards/project/routers/ports/tables.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/dashboards/project/stacks/mappings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/51ec03280817cdf4921b34a7f4e5591f6a96e2eb', 'message': 'Switches to using oslo_log for all logging purposes.\n\nThis commit switches all modules to using oslo_log.log for all logging needs,\nalongside the appropriate updates to the documentation and regarding import ordering.\n\nChange-Id: Iaafa4436554623ee629e1b8946662975cc869ad6\n'}]",0,353695,51ec03280817cdf4921b34a7f4e5591f6a96e2eb,23,4,7,12800,,,0,"Switches to using oslo_log for all logging purposes.

This commit switches all modules to using oslo_log.log for all logging needs,
alongside the appropriate updates to the documentation and regarding import ordering.

Change-Id: Iaafa4436554623ee629e1b8946662975cc869ad6
",git fetch https://review.opendev.org/openstack/horizon refs/changes/95/353695/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/tables/base.py', 'openstack_dashboard/dashboards/admin/networks/tables.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/admin/images/views.py', 'openstack_dashboard/api/keystone.py', 'horizon/base.py', 'horizon/exceptions.py', 'openstack_dashboard/dashboards/admin/networks/subnets/tables.py', 'horizon/tables/actions.py', 'openstack_dashboard/dashboards/admin/defaults/workflows.py', 'horizon/middleware/operation_log.py', 'horizon/tables/formset.py', 'openstack_dashboard/dashboards/project/instances/console.py', 'openstack_dashboard/dashboards/project/instances/views.py', 'openstack_dashboard/wsgi/django.wsgi', 'openstack_dashboard/api/glance.py', 'openstack_dashboard/api/nova.py', 'openstack_dashboard/dashboards/project/stacks/forms.py', 'openstack_dashboard/dashboards/admin/networks/forms.py', 'openstack_dashboard/dashboards/project/stacks/tabs.py', 'openstack_dashboard/dashboards/project/access_and_security/floating_ips/tables.py', 'horizon/notifications.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/forms.py', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/tabs.py', 'openstack_dashboard/dashboards/project/routers/extensions/routerrules/rulemanager.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/dashboards/project/instances/tables.py', 'horizon/utils/file_discovery.py', 'openstack_dashboard/dashboards/identity/domains/workflows.py', 'openstack_dashboard/dashboards/identity/users/forms.py', 'openstack_dashboard/local/local_settings.py.example', 'openstack_dashboard/settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/forms.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/forms.py', 'openstack_dashboard/dashboards/project/loadbalancers/workflows.py', 'doc/source/topics/deployment.rst', 'openstack_dashboard/dashboards/project/routers/extensions/extraroutes/forms.py', 'openstack_dashboard/django_pyscss_fix/__init__.py', 'openstack_dashboard/usage/quotas.py', 'openstack_dashboard/dashboards/project/networks/forms.py', 'openstack_dashboard/dashboards/project/routers/forms.py', 'openstack_dashboard/dashboards/identity/groups/forms.py', 'openstack_dashboard/dashboards/project/routers/tables.py', 'openstack_dashboard/dashboards/identity/users/views.py', 'openstack_dashboard/dashboards/project/vpn/panel.py', 'openstack_dashboard/dashboards/identity/identity_providers/protocols/forms.py', 'openstack_dashboard/api/cinder.py', 'openstack_dashboard/dashboards/project/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/tables.py', 'horizon/workflows/base.py', 'openstack_dashboard/dashboards/project/firewalls/forms.py', 'openstack_dashboard/dashboards/project/containers/tables.py', 'openstack_dashboard/dashboards/project/routers/ports/forms.py', 'openstack_dashboard/dashboards/project/access_and_security/api_access/views.py', 'openstack_dashboard/dashboards/project/firewalls/workflows.py', 'openstack_dashboard/dashboards/admin/networks/agents/tables.py', 'openstack_dashboard/dashboards/project/instances/workflows/create_instance.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'horizon/utils/secret_key.py', 'openstack_dashboard/utils/settings.py', 'openstack_dashboard/theme_settings.py', 'openstack_dashboard/dashboards/admin/networks/ports/tables.py', 'openstack_dashboard/dashboards/admin/networks/subnets/workflows.py', 'openstack_dashboard/dashboards/project/networks/subnets/tables.py', 'openstack_dashboard/api/rest/utils.py', 'openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tabs.py', 'openstack_dashboard/dashboards/identity/groups/tables.py', 'openstack_dashboard/dashboards/admin/aggregates/panel.py', 'openstack_dashboard/dashboards/project/vpn/forms.py', 'openstack_dashboard/utils/metering.py', 'openstack_dashboard/dashboards/project/networks/workflows.py', 'horizon/middleware/base.py', 'openstack_dashboard/dashboards/project/networks/ports/forms.py', 'openstack_dashboard/dashboards/identity/domains/tables.py', 'openstack_dashboard/dashboards/project/firewalls/tables.py', 'openstack_dashboard/dashboards/project/loadbalancers/forms.py', 'openstack_dashboard/dashboards/project/firewalls/panel.py', 'openstack_dashboard/dashboards/project/instances/utils.py', 'openstack_dashboard/dashboards/project/loadbalancers/panel.py', 'openstack_dashboard/dashboards/project/routers/ports/tables.py', 'openstack_dashboard/dashboards/identity/projects/workflows.py', 'openstack_dashboard/dashboards/project/stacks/mappings.py']",82,ec235636320d957c86928b4b87b72f89bcbe8283,,from oslo_log import log as logging,import logging,178,254
openstack%2Fhorizon~master~I0da625df9bbbf747b873a7cb13a987d1b3d8f64c,openstack/horizon,master,I0da625df9bbbf747b873a7cb13a987d1b3d8f64c,Remove invalid image format choices,ABANDONED,2017-06-22 06:49:48.000000000,2018-03-31 12:37:36.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 16628}, {'_account_id': 20128}, {'_account_id': 22406}, {'_account_id': 22587}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-06-22 06:49:48.000000000', 'files': ['openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3b36d15e39352b1a616f184e5441ec0e461b17c1', 'message': ""Remove invalid image format choices\n\nAccording to the glance developer guide, the disk format does not\ncontain 'docker' and 'ova', which are actually used in the\ncontainer format. However, these two are displayed as disk format\nchoices in the form of creating image.\n\nTo eliminate the misunderstanding, remove these two choices from\nthe 'OPENSTACK_IMAGE_BACKEND' in setting.py.\n\nChange-Id: I0da625df9bbbf747b873a7cb13a987d1b3d8f64c\n""}]",0,476373,3b36d15e39352b1a616f184e5441ec0e461b17c1,10,7,1,20128,,,0,"Remove invalid image format choices

According to the glance developer guide, the disk format does not
contain 'docker' and 'ova', which are actually used in the
container format. However, these two are displayed as disk format
choices in the form of creating image.

To eliminate the misunderstanding, remove these two choices from
the 'OPENSTACK_IMAGE_BACKEND' in setting.py.

Change-Id: I0da625df9bbbf747b873a7cb13a987d1b3d8f64c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/73/476373/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/settings.py'],1,3b36d15e39352b1a616f184e5441ec0e461b17c1,,," ('docker', _('Docker')), ('ova', _('OVA - Open Virtual Appliance')),",0,2
openstack%2Fhorizon~master~Ie79e2718622caaaae55a619d1906eacca8eca142,openstack/horizon,master,Ie79e2718622caaaae55a619d1906eacca8eca142,Drag and drop of links in text field shows the button-action,ABANDONED,2016-07-19 16:29:57.000000000,2018-03-31 12:34:48.000000000,,"[{'_account_id': 3}, {'_account_id': 6763}, {'_account_id': 12826}, {'_account_id': 14151}, {'_account_id': 20506}]","[{'number': 1, 'created': '2016-07-19 16:29:57.000000000', 'files': ['openstack_dashboard/static/dashboard/scss/components/_links.scss', 'openstack_dashboard/static/dashboard/scss/horizon.scss'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c616d5b084335c1c76bdd59d6141a4642e8a69d4', 'message': 'Drag and drop of links in text field shows the button-action\n\nWhen dragging and dropping a button based on a link or any links\nin general, in a text field, the actual link referenced or the\naction referenced is shown in that text field.\nThis has been reported as a defect. Modifying the css for\nevery links in horizon will fix that issue.\n\nChange-Id: Ie79e2718622caaaae55a619d1906eacca8eca142\nCloses-Bug:#1587556\n'}]",0,344359,c616d5b084335c1c76bdd59d6141a4642e8a69d4,9,5,1,20316,,,0,"Drag and drop of links in text field shows the button-action

When dragging and dropping a button based on a link or any links
in general, in a text field, the actual link referenced or the
action referenced is shown in that text field.
This has been reported as a defect. Modifying the css for
every links in horizon will fix that issue.

Change-Id: Ie79e2718622caaaae55a619d1906eacca8eca142
Closes-Bug:#1587556
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/344359/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/dashboard/scss/components/_links.scss', 'openstack_dashboard/static/dashboard/scss/horizon.scss']",2,c616d5b084335c1c76bdd59d6141a4642e8a69d4,,"@import ""components/links"";",,5,0
openstack%2Fhorizon~master~Iafa2950407eb452877aa5cbf260b61f926f42621,openstack/horizon,master,Iafa2950407eb452877aa5cbf260b61f926f42621,Assignment can be replaced with augmented assignment,ABANDONED,2017-03-02 13:36:33.000000000,2018-03-31 12:33:09.000000000,,"[{'_account_id': 3}, {'_account_id': 12826}]","[{'number': 1, 'created': '2017-03-02 13:36:33.000000000', 'files': ['openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7007c1b4fbc5c422ba9f0af0f5f8872057bb3197', 'message': 'Assignment can be replaced with augmented assignment\n\nChange-Id: Iafa2950407eb452877aa5cbf260b61f926f42621\n'}]",0,440560,7007c1b4fbc5c422ba9f0af0f5f8872057bb3197,4,2,1,19481,,,0,"Assignment can be replaced with augmented assignment

Change-Id: Iafa2950407eb452877aa5cbf260b61f926f42621
",git fetch https://review.opendev.org/openstack/horizon refs/changes/60/440560/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/nova.py'],1,7007c1b4fbc5c422ba9f0af0f5f8872057bb3197,replaced-with-augmented-assignment," msg %= {'name': server['name'], 'uuid': server['uuid']} msg %= {'name': server['name'], 'uuid': server['uuid']}"," msg = msg % {'name': server['name'], 'uuid': server['uuid']} msg = msg % {'name': server['name'], 'uuid': server['uuid']}",2,2
openstack%2Fnetworking-sfc~master~I7a9e8f4a1396618fa7cc534d50625af022f3a715,openstack/networking-sfc,master,I7a9e8f4a1396618fa7cc534d50625af022f3a715,remove unused plugin.get_plugin_name(),MERGED,2018-03-29 09:53:00.000000000,2018-03-31 12:20:49.000000000,2018-03-31 12:20:48.000000000,"[{'_account_id': 6854}, {'_account_id': 11313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 09:53:00.000000000', 'files': ['networking_sfc/extensions/servicegraph.py', 'networking_sfc/extensions/flowclassifier.py', 'networking_sfc/extensions/sfc.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/1bebc7191a889f884468ffb41ab47826c569ea73', 'message': 'remove unused plugin.get_plugin_name()\n\nThis method does not seem to be used anymore:\n\nhttp://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib\n\nChange-Id: I7a9e8f4a1396618fa7cc534d50625af022f3a715\n'}]",0,557662,1bebc7191a889f884468ffb41ab47826c569ea73,9,4,1,12021,,,0,"remove unused plugin.get_plugin_name()

This method does not seem to be used anymore:

http://codesearch.openstack.org/?q=get_plugin_name&i=nope&files=&repos=neutron,neutron-lib

Change-Id: I7a9e8f4a1396618fa7cc534d50625af022f3a715
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/62/557662/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/extensions/servicegraph.py', 'networking_sfc/extensions/flowclassifier.py', 'networking_sfc/extensions/sfc.py']",3,1bebc7191a889f884468ffb41ab47826c569ea73,neutron_remove_get_plugin_name,, def get_plugin_name(self): return SFC_EXT ,0,9
openstack%2Fopenstack-ansible~stable%2Fqueens~Ic21bf2ef50836f793d3c3549f2400ac05c6f751a,openstack/openstack-ansible,stable/queens,Ic21bf2ef50836f793d3c3549f2400ac05c6f751a,Update repo_build role for PBR fix,MERGED,2018-03-29 18:57:59.000000000,2018-03-31 11:16:47.000000000,2018-03-31 11:16:47.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 20705}, {'_account_id': 22348}, {'_account_id': 28045}]","[{'number': 1, 'created': '2018-03-29 18:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5860b2ee60ed549a915aa04de5100c2e873bd829', 'message': 'Update repo_build role for PBR fix\n\nA new version of PBR was released which causes some services, like\ngnocchi, to break in new and exciting ways. This change installs PBR\nwithin the repo_build role which will ensure all of the correct tools\nare available to the repo build process and are installed using known\nconstraints.\n\nChange-Id: Ic21bf2ef50836f793d3c3549f2400ac05c6f751a\n'}, {'number': 2, 'created': '2018-03-30 20:42:43.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0b135c7f84b0f6c0624b849028e6a6e86261b13a', 'message': 'Update repo_build role for PBR fix\n\nA new version of PBR was released which causes some services, like\ngnocchi, to break in new and exciting ways. This change installs PBR\nwithin the repo_build role which will ensure all of the correct tools\nare available to the repo build process and are installed using known\nconstraints.\n\nChange-Id: Ic21bf2ef50836f793d3c3549f2400ac05c6f751a\n'}]",0,557805,0b135c7f84b0f6c0624b849028e6a6e86261b13a,40,8,2,6816,,,0,"Update repo_build role for PBR fix

A new version of PBR was released which causes some services, like
gnocchi, to break in new and exciting ways. This change installs PBR
within the repo_build role which will ensure all of the correct tools
are available to the repo build process and are installed using known
constraints.

Change-Id: Ic21bf2ef50836f793d3c3549f2400ac05c6f751a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/557805/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,5860b2ee60ed549a915aa04de5100c2e873bd829,, version: 0e50a282b09f62670494ada2f7d42509c148067f, version: df5483086d92d1148d1e763247e086ff44388aaf,1,1
openstack%2Fnova-powervm~master~I058126637ff29cc0d8180d446426b7424b68bab0,openstack/nova-powervm,master,I058126637ff29cc0d8180d446426b7424b68bab0,[WIP] support volume multiattach,NEW,2018-01-26 19:27:32.000000000,2018-03-31 10:04:36.000000000,,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-26 19:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/a0bcf591989118d01cfd6152b03d245a7357d465', 'message': '[WIP] support volume multiattach\n\nAdds the capability to attach a single volume to multiple instances.\n\nThis is expected to be a no-op other than flipping the capabilities bit, but\nneeds testing across the various types of volumes that we support.\n\nChange-Id: I058126637ff29cc0d8180d446426b7424b68bab0\n'}, {'number': 2, 'created': '2018-01-26 22:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/31b88993a20c64c4129b3a91835ad711ae236f57', 'message': ""[WIP] support volume multiattach\n\nAdds the capability to attach a single volume to multiple instances.\n\nTODO: determine whether we have any buffered device cases. If so, need\nto make sure shared volumes are opened without buffering\n\nTODO: need to be carefule not to remove a device from the VIOS/NovaLink\nwhen one LPAR no longer needs it if another still does. May always want\nto be smart about discovery as well (detecting that it's already\ndiscovered because another LPAR is already using it).\n\nTODO: test across the various types of volumes that we support.\n\nChange-Id: I058126637ff29cc0d8180d446426b7424b68bab0\n""}, {'number': 3, 'created': '2018-03-31 09:13:40.000000000', 'files': ['doc/source/support-matrix.ini'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/18baea9f4bfb463c33b87e3f9d3cb8418456ebc8', 'message': '[WIP] support volume multiattach\n\nAdds the capability to attach a single volume to multiple instances.\n\nTODO: need to be careful not to remove a device from the VIOS/NovaLink\nwhen one LPAR no longer needs it but another still does.\n\nTODO: handle case that a disk is already connected to the VIOS because\nanother LPAR is already using it.\n\nTODO: test across the various types of volumes that we support.\n\nChange-Id: I058126637ff29cc0d8180d446426b7424b68bab0\n'}]",1,538329,18baea9f4bfb463c33b87e3f9d3cb8418456ebc8,11,4,3,10608,,,0,"[WIP] support volume multiattach

Adds the capability to attach a single volume to multiple instances.

TODO: need to be careful not to remove a device from the VIOS/NovaLink
when one LPAR no longer needs it but another still does.

TODO: handle case that a disk is already connected to the VIOS because
another LPAR is already using it.

TODO: test across the various types of volumes that we support.

Change-Id: I058126637ff29cc0d8180d446426b7424b68bab0
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/29/538329/2 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/virt/powervm/driver.py'],1,a0bcf591989118d01cfd6152b03d245a7357d465,vol_multiattach," ""supports_extend_volume"": True, ""supports_multiattach"": True,"," ""supports_extend_volume"": True",2,1
openstack%2Fkolla-ansible~master~Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753,openstack/kolla-ansible,master,Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753,Update ceph client.admin caps during upgrade,MERGED,2018-02-22 14:44:20.000000000,2018-03-31 07:28:23.000000000,2018-03-30 12:21:05.000000000,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 21486}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 14:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d49b86eabe12444ccf4764a0c3a8fb113175897', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}, {'number': 2, 'created': '2018-02-22 14:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eca84590e878000436bc03c1d8cff26c23de8171', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}, {'number': 3, 'created': '2018-03-30 02:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/684692063cd2e4374b3b076c4cd51ccd251f11e2', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}, {'number': 4, 'created': '2018-03-30 02:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/236b6c601b66f52c17f8126b82bc5661da61e3b6', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}, {'number': 5, 'created': '2018-03-30 02:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e706a3be54180d6953bd3973c6afa1845c3599b5', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}, {'number': 6, 'created': '2018-03-30 03:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22193736960f03cc16f58634e672f03aa71f0e7a', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}, {'number': 7, 'created': '2018-03-30 03:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c44f7a77c2b7f4102ed322a6c8b60d1431042c24', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}, {'number': 8, 'created': '2018-03-30 08:07:22.000000000', 'files': ['ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/library/kolla_ceph_keyring.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20c5e8fe13ae57ac59c8b536830ee4b133f75d52', 'message': ""Update ceph client.admin caps during upgrade\n\nWhen upgrade from ceph Jewel to ceph luminous, the client.admin caps\nshould add `mgr 'allow *'` caps\n\nChange-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753\nCloses-Bug: #1750967\n""}]",2,547012,20c5e8fe13ae57ac59c8b536830ee4b133f75d52,23,5,8,7488,,,0,"Update ceph client.admin caps during upgrade

When upgrade from ceph Jewel to ceph luminous, the client.admin caps
should add `mgr 'allow *'` caps

Change-Id: Ia4cb7a59d4cf215a1dce1efe31e00f1401e0b753
Closes-Bug: #1750967
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/547012/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ceph/tasks/upgrade.yml', 'ansible/roles/ceph/defaults/main.yml', 'ansible/roles/ceph/tasks/deploy.yml', 'ansible/library/kolla_ceph_keyring.py']",4,6d49b86eabe12444ccf4764a0c3a8fb113175897,bug/1750967,"#!/usr/bin/env python # Copyright 2018 99cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import subprocess import json DOCUMENTATION = ''' --- module: kolla_ceph_keyring short_description: > Module for update ceph client keyring caps in kolla. description: - A module used to update ceph client keyring caps in kolla. options: name: description: - the client name in ceph required: True type: str container_name: description: - the ceph mon container name required: True default: ceph_mon type: str caps: description: - the ceph auth caps required: True type: dict author: Jeffrey Zhang ''' EXAMPLES = ''' - name: configure admin client caps kolla_ceph_keyring: name: client.admin container_name: ceph_mon caps: mds: 'allow' mon: 'allow *' osd: 'allow *' mgr: allow * ''' class CephKeyring(object): def __init__(self, name, caps, container_name='ceph_mon'): self.name = name self.caps = caps self.container_name = container_name self.changed = False self.message = None def _run(self, cmd): _prefix = ['docker', 'exec', self.container_name] cmd = _prefix + cmd proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) stdout, stderr = proc.communicate() retcode = proc.poll() if retcode != 0: output = 'stdout: ""%s"", stderr: ""%s""' % (stdout, stderr) raise subprocess.CalledProcessError(retcode, cmd, output) return stdout def get_current_caps(self): ceph_cmd = ['ceph', '--format', 'json', 'auth', 'get', self.name] keyring = self._run(ceph_cmd).stdout keyring = json.loads(keyring) return keyring def _format_caps(self): caps = [] for obj in sorted(self.caps): caps.extend([obj, self.caps[obj]]) return caps def parse_stdout(self, stdout): keyring = json.loads(stdout) # there should be only one element return keyring[0] def ensure_keyring(self): try: stdout = self.get_keyring() except subprocess.CalledProcessError: # keyring doesn't exsit, try to create it stdout = self.create_keyring() self.changed = True self.message = 'ceph keyring for %s is created' % self.name keyring = self.parse_stdout(stdout) if keyring['caps'] != self.caps: self.update_caps() stdout = self.get_keyring() keyring = self.parse_stdout(stdout) self.changed = True self.message = 'ceph keyring for %s is updated' % self.name self.keyring = keyring def get_keyring(self): ceph_cmd = ['ceph', '--format', 'json', 'auth', 'get', self.name] return self._run(ceph_cmd) def update_caps(self): ceph_cmd = ['ceph', '--format', 'json', 'auth', 'caps', self.name] caps = self._format_caps() ceph_cmd.extend(caps) self._run(ceph_cmd) def create_keyring(self): ceph_cmd = ['ceph', '--format', 'json', 'auth', 'create', self.name] caps = self._format_caps() ceph_cmd.extend(caps) return self._run(ceph_cmd) def main(): specs = dict( name=dict(type='str', required=True), container_name=dict(type='str', default='ceph_mon'), caps=dict(type='dict', required=True) ) module = AnsibleModule(argument_spec=specs) # noqa params = module.params ceph_keyring = CephKeyring(params['name'], params['caps'], params['container_name']) try: ceph_keyring.ensure_keyring() module.exit_json(changed=ceph_keyring.changed, message=ceph_keyring.message) except subprocess.CalledProcessError as ex: msg = ('Failed to call command: %s returncode: %s output: %s' % (ex.cmd, ex.returncode, ex.output)) module.fail_json(msg=msg) from ansible.module_utils.basic import * # noqa if __name__ == ""__main__"": main() ",,176,0
openstack%2Fopenstack-helm~master~I7752cbfdeef85f71a1a084437556de062cbb5680,openstack/openstack-helm,master,I7752cbfdeef85f71a1a084437556de062cbb5680,Ceph: Move all config to be directly values driven.,MERGED,2018-03-30 05:41:35.000000000,2018-03-31 05:25:31.000000000,2018-03-31 05:25:31.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-30 05:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb04869a2182a77bfc7cc85ef43a57e1a2091dbb', 'message': 'Ceph: Move all config to be directly values driven.\n\nThis PS moves all the keyring templates to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: I7752cbfdeef85f71a1a084437556de062cbb5680\n'}, {'number': 2, 'created': '2018-03-31 01:57:18.000000000', 'files': ['ceph/templates/templates/_bootstrap.keyring.rgw.tpl', 'ceph/templates/templates/_bootstrap.keyring.mds.tpl', 'ceph/templates/configmap-templates.yaml', 'ceph/templates/templates/_admin.keyring.tpl', 'ceph/templates/templates/_bootstrap.keyring.osd.tpl', 'ceph/templates/templates/_mon.keyring.tpl', 'ceph/templates/templates/_bootstrap.keyring.mgr.tpl', 'ceph/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e6758afeecfc0b584e9895e2f6b2af3ef93e7b48', 'message': 'Ceph: Move all config to be directly values driven.\n\nThis PS moves all the keyring templates to be directly values driven,\nboth simplifying over-ride and allowing configs to be targeted\nto pods in future work.\n\nChange-Id: I7752cbfdeef85f71a1a084437556de062cbb5680\n'}]",0,557888,e6758afeecfc0b584e9895e2f6b2af3ef93e7b48,20,4,2,23928,,,0,"Ceph: Move all config to be directly values driven.

This PS moves all the keyring templates to be directly values driven,
both simplifying over-ride and allowing configs to be targeted
to pods in future work.

Change-Id: I7752cbfdeef85f71a1a084437556de062cbb5680
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/88/557888/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/templates/_bootstrap.keyring.mds.tpl', 'ceph/templates/templates/_bootstrap.keyring.rgw.tpl', 'ceph/templates/configmap-templates.yaml', 'ceph/templates/templates/_admin.keyring.tpl', 'ceph/templates/templates/_bootstrap.keyring.osd.tpl', 'ceph/templates/templates/_mon.keyring.tpl', 'ceph/templates/templates/_bootstrap.keyring.mgr.tpl', 'ceph/values.yaml']",8,cb04869a2182a77bfc7cc85ef43a57e1a2091dbb,ceph/templates," templates: keyring: admin: | [client.admin] key = {{ key }} auid = 0 caps mds = ""allow"" caps mon = ""allow *"" caps osd = ""allow *"" caps mgr = ""allow *"" mon: | [mon.] key = {{ key }} caps mon = ""allow *"" bootstrap: mds: | [client.bootstrap-mds] key = {{ key }} caps mon = ""allow profile bootstrap-mds"" mgr: | [client.bootstrap-mgr] key = {{ key }} caps mgr = ""allow profile bootstrap-mgr"" osd: | [client.bootstrap-osd] key = {{ key }} caps mon = ""allow profile bootstrap-osd"" rgw: | [client.bootstrap-rgw] key = {{ key }} caps mon = ""allow profile bootstrap-rgw""",,41,32
openstack%2Fcongress~master~I9e1b98b8f304f46da05aa72aed84e7ce0b22e098,openstack/congress,master,I9e1b98b8f304f46da05aa72aed84e7ce0b22e098,Revise neutronv1 removal release note,MERGED,2018-03-27 20:44:17.000000000,2018-03-31 04:29:57.000000000,2018-03-31 04:29:57.000000000,"[{'_account_id': 11278}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 20:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress/commit/e8b8fce57aa17c1bee0d798f60d8373b6bc0644e', 'message': 'Revise neutronv1 removal release note\n\nMoved to upgrade section because the deprecation had\nalready taken place back in Kilo.\nAn upgrading deployer may not carefully look at deprecation\nsection because newly deprecated things are expected to\nremain available for a time. Upgrade section notes more\nimmediate issues for upgrader.\n\nChange-Id: I9e1b98b8f304f46da05aa72aed84e7ce0b22e098\n'}, {'number': 2, 'created': '2018-03-31 04:09:43.000000000', 'files': ['releasenotes/notes/remove-deprecated-neutron-driver-f6dec90e66bd4855.yaml'], 'web_link': 'https://opendev.org/openstack/congress/commit/1229ba1397b4b2fe9421126a110031068bd5b4d1', 'message': 'Revise neutronv1 removal release note\n\nMoved to upgrade section because the deprecation had\nalready taken place back in Kilo.\nAn upgrading deployer may not carefully look at deprecation\nsection because newly deprecated things are expected to\nremain available for a time. Upgrade section notes more\nimmediate issues for upgrader.\n\nChange-Id: I9e1b98b8f304f46da05aa72aed84e7ce0b22e098\n'}]",1,557044,1229ba1397b4b2fe9421126a110031068bd5b4d1,9,3,2,18591,,,0,"Revise neutronv1 removal release note

Moved to upgrade section because the deprecation had
already taken place back in Kilo.
An upgrading deployer may not carefully look at deprecation
section because newly deprecated things are expected to
remain available for a time. Upgrade section notes more
immediate issues for upgrader.

Change-Id: I9e1b98b8f304f46da05aa72aed84e7ce0b22e098
",git fetch https://review.opendev.org/openstack/congress refs/changes/44/557044/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/remove-deprecated-neutron-driver-f6dec90e66bd4855.yaml'],1,e8b8fce57aa17c1bee0d798f60d8373b6bc0644e,,"upgrade: Neutron data source driver had been deprecated since Kilo and is now removed in the Rocky released. In its place, please use the NeutronV2 data source driver.",deprecations: neutron datasource driver is deprecated and no longer to be used. The same has been removed in Rocky release. NeutronV2 datasource driver needs to be used instead.,4,4
openstack%2Fopenstack-ansible~master~I7c9bcfe29e4bad802d154e99c3312f6a0448fbaf,openstack/openstack-ansible,master,I7c9bcfe29e4bad802d154e99c3312f6a0448fbaf,Update run_tests.sh and remove tests-repo-clone.sh,MERGED,2018-03-27 17:55:28.000000000,2018-03-31 04:04:11.000000000,2018-03-31 04:04:11.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-27 17:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/259a551812ac1fd15a7438b282d0e28eae238562', 'message': 'Update run_tests.sh and remove tests-repo-clone.sh\n\nThe lint tests make use of the common linters test\nused by the roles, so we need to ensure that the\nrun_tests.sh script is updated and the configuration\nadjusted accordingly.\n\nChange-Id: I7c9bcfe29e4bad802d154e99c3312f6a0448fbaf\n'}, {'number': 2, 'created': '2018-03-29 02:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4b306933ad77f3aed0d898b65f14907ec27beefb', 'message': 'Update run_tests.sh and remove tests-repo-clone.sh\n\nThe lint tests make use of the common linters test\nused by the roles, so we need to ensure that the\nrun_tests.sh script is updated and the configuration\nadjusted accordingly.\n\nChange-Id: I7c9bcfe29e4bad802d154e99c3312f6a0448fbaf\n'}, {'number': 3, 'created': '2018-03-30 20:42:53.000000000', 'files': ['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8662acf5ec83ab015c1f2d5f6802e90f6554b672', 'message': 'Update run_tests.sh and remove tests-repo-clone.sh\n\nThe lint tests make use of the common linters test\nused by the roles, so we need to ensure that the\nrun_tests.sh script is updated and the configuration\nadjusted accordingly.\n\nChange-Id: I7c9bcfe29e4bad802d154e99c3312f6a0448fbaf\n'}]",0,556994,8662acf5ec83ab015c1f2d5f6802e90f6554b672,56,7,3,6816,,,0,"Update run_tests.sh and remove tests-repo-clone.sh

The lint tests make use of the common linters test
used by the roles, so we need to ensure that the
run_tests.sh script is updated and the configuration
adjusted accordingly.

Change-Id: I7c9bcfe29e4bad802d154e99c3312f6a0448fbaf
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/556994/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tests/tests-repo-clone.sh', 'tox.ini']",3,259a551812ac1fd15a7438b282d0e28eae238562,simplify-osa-role-tests,," bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh"" bash -c ""{toxinidir}/tests/tests-repo-clone.sh""",53,141
openstack%2Ftripleo-quickstart~master~Id92fbbb9c25ee27fd15038ba1452b222679ae273,openstack/tripleo-quickstart,master,Id92fbbb9c25ee27fd15038ba1452b222679ae273,Remove unnecessary parameters from featureset047.,MERGED,2018-03-16 16:40:33.000000000,2018-03-31 02:55:11.000000000,2018-03-31 00:46:48.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11391}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-16 16:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f1af95b69170173045488fc7444e0459f0f468e4', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}, {'number': 2, 'created': '2018-03-19 13:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/99a0313fd7f2bd8c11678a3774c5a7e205771957', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}, {'number': 3, 'created': '2018-03-20 11:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/049a122f1a6d802251129c288d6d917ea0b42a3d', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\nAlso, overcloud validations are disabled by\nsetting test_ping and run_tempest to false.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}, {'number': 4, 'created': '2018-03-21 11:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d61b81b75d7081e41015d39098d975e1d9066699', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\nAlso, overcloud validations are disabled by\nsetting test_ping and run_tempest to false.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}, {'number': 5, 'created': '2018-03-21 15:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a6f771cac1799b852d60ec3ec8484ec10f4550ec', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\nAlso, overcloud validations are disabled by\nsetting test_ping and run_tempest to false.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}, {'number': 6, 'created': '2018-03-21 17:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/86fa098fbe239b53722081e0859e2649aca21a4c', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\nAlso, overcloud validations are disabled by\nsetting test_ping and run_tempest to false.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}, {'number': 7, 'created': '2018-03-30 20:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5f60c6189bbc652f554bbf9092c57829888459fb', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\nAlso, overcloud validations are disabled by\nsetting test_ping and run_tempest to false.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}, {'number': 8, 'created': '2018-03-30 20:19:23.000000000', 'files': ['config/general_config/featureset047.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ba304fdbbdca69c9039bffd552d0c6a49e976788', 'message': ""Remove unnecessary parameters from featureset047.\n\nfeatureset047 covers the undercloud upgrade\nusing tripleo-upgrade. Now that a playbook\nhas been enabled to run the job [0] it's not\nneeded to set some of the variables set when\nthe multinode-overcloud-upgrade-new.yml playbook\nwas used to run the job.\nAlso, overcloud validations are disabled by\nsetting test_ping and run_tempest to false.\n\n[0] https://review.openstack.org/#/c/553827/\n\nChange-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273\n""}]",0,553850,ba304fdbbdca69c9039bffd552d0c6a49e976788,52,9,8,26343,,,0,"Remove unnecessary parameters from featureset047.

featureset047 covers the undercloud upgrade
using tripleo-upgrade. Now that a playbook
has been enabled to run the job [0] it's not
needed to set some of the variables set when
the multinode-overcloud-upgrade-new.yml playbook
was used to run the job.
Also, overcloud validations are disabled by
setting test_ping and run_tempest to false.

[0] https://review.openstack.org/#/c/553827/

Change-Id: Id92fbbb9c25ee27fd15038ba1452b222679ae273
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/553850/8 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset047.yml'],1,f1af95b69170173045488fc7444e0459f0f468e4,553850,,"# Force addition of overcloud-upgrade tag, although what will # be performed is an undercloud upgrade instead. mixed_upgrade: true use_tripleo_upgrade: truetarget_upgrade_version: ""master""",0,6
openstack%2Fhorizon~master~Ic2532f73dba64605bc646f88ed088fbcedc6e44a,openstack/horizon,master,Ic2532f73dba64605bc646f88ed088fbcedc6e44a,Cleanup Plugin Registry,MERGED,2018-03-30 13:06:37.000000000,2018-03-31 02:29:08.000000000,2018-03-31 02:29:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 5623}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 13:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/bb56f584f030f130ef8a7a958a9c7b4264c466b1', 'message': 'Cleanup Plugin Registry\n\nThis patch removes unsupported plugins and changes links from http to\nhttps.\n\nChange-Id: Ic2532f73dba64605bc646f88ed088fbcedc6e44a\n'}, {'number': 2, 'created': '2018-03-30 20:42:18.000000000', 'files': ['doc/source/install/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c3d6036f8a8d6fd9463b2269b2ff585376d0ae3a', 'message': 'Cleanup Plugin Registry\n\nThis patch removes unsupported plugins and changes links from http to\nhttps.\n\nChange-Id: Ic2532f73dba64605bc646f88ed088fbcedc6e44a\n'}]",2,557929,c3d6036f8a8d6fd9463b2269b2ff585376d0ae3a,11,4,2,1736,,,0,"Cleanup Plugin Registry

This patch removes unsupported plugins and changes links from http to
https.

Change-Id: Ic2532f73dba64605bc646f88ed088fbcedc6e44a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/29/557929/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/plugin-registry.rst'],1,bb56f584f030f130ef8a7a958a9c7b4264c466b1,plugins-cleanup, - https://github.com/openstack/magnum-ui - https://github.com/openstack/manila-ui - https://github.com/openstack/murano-dashboard - https://launchpad.net/murano - https://launchpad.net/senlin-dashboard - https://github.com/openstack/vitrage-dashboard - https://github.com/openstack/watcher-dashboard - https://github.com/openstack/zaqar-ui, * - Cerberus Dashboard - https://github.com/openstack/cerberus-dashboard - https://launchpad.net/cerberus * - Cisco UI - http://github.com/openstack/horizon-cisco-ui - https://launchpad.net/horizon-cisco-ui * - Cue Dashboard - https://github.com/openstack/cue-dashboard - https://launchpad.net/cue-dashboard - http://github.com/openstack/magnum-ui - http://github.com/openstack/manila-ui - http://github.com/openstack/murano-dashboard - http://launchpad.net/murano - http://launchpad.net/senlin-dashboard * - Sticks Dashboard - https://github.com/openstack/sticks-dashboard - https://wiki.openstack.org/wiki/Sticks - http://github.com/openstack/vitrage-dashboard - http://github.com/openstack/watcher-dashboard - http://github.com/openstack/zaqar-ui,8,20
openstack%2Fsenlin~master~I18294cbc8fbbed5c857db979117cb8ffb750b2cd,openstack/senlin,master,I18294cbc8fbbed5c857db979117cb8ffb750b2cd,Add nova profile use block_device_mapping_v2 volume check,MERGED,2018-03-28 04:05:40.000000000,2018-03-31 02:25:55.000000000,2018-03-31 02:25:55.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-28 04:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/584c6539bb3c60f4efd6149d360f9d21c2375076', 'message': ""Add nova profile use block_device_mapping_v2 volume check\n\nIf nova profile use block_device_mapping_v2 schema, When this\nparameter specifies the special source_type and uuid, we need\nto test the special source_type to detect whether the uuid is\na valid parameter.\n\nExample the source_type value 'volume', the physical vm will\nuse exist bootable volume create.\n\nChange-Id: I18294cbc8fbbed5c857db979117cb8ffb750b2cd\n""}, {'number': 2, 'created': '2018-03-28 07:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/b5135c634520081ff7b732b77f3c090454fc7cbc', 'message': ""Add nova profile use block_device_mapping_v2 volume check\n\nIf nova profile use block_device_mapping_v2 schema, When this\nparameter specifies the special source_type and uuid, we need\nto test the special source_type to detect whether the uuid is\na valid parameter.\n\nExample the source_type value 'volume', the physical vm will\nuse exist bootable volume create.\n\nChange-Id: I18294cbc8fbbed5c857db979117cb8ffb750b2cd\n""}, {'number': 3, 'created': '2018-03-30 07:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2a7401e9b8796dd597684d4a0c1e3e0d8aae60c9', 'message': ""Add nova profile use block_device_mapping_v2 volume check\n\nIf nova profile use block_device_mapping_v2 schema, When this\nparameter specifies the special source_type and uuid, we need\nto test the special source_type to detect whether the uuid is\na valid parameter.\n\nExample the source_type value 'volume', the physical vm will\nuse exist bootable volume create.\n\nChange-Id: I18294cbc8fbbed5c857db979117cb8ffb750b2cd\n""}, {'number': 4, 'created': '2018-03-30 07:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/107e93d0660a3d8d9ee7cae8913d265f644cdcc2', 'message': ""Add nova profile use block_device_mapping_v2 volume check\n\nIf nova profile use block_device_mapping_v2 schema, When this\nparameter specifies the special source_type and uuid, we need\nto test the special source_type to detect whether the uuid is\na valid parameter.\n\nExample the source_type value 'volume', the physical vm will\nuse exist bootable volume create.\n\nChange-Id: I18294cbc8fbbed5c857db979117cb8ffb750b2cd\n""}, {'number': 5, 'created': '2018-03-30 07:29:55.000000000', 'files': ['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/tests/unit/profiles/test_nova_server_validate.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/6d3712f204fa957cc9e239c2fc740664b3590665', 'message': ""Add nova profile use block_device_mapping_v2 volume check\n\nIf nova profile use block_device_mapping_v2 schema, When this\nparameter specifies the special source_type and uuid, we need\nto test the special source_type to detect whether the uuid is\na valid parameter.\n\nExample the source_type value 'volume', the physical vm will\nuse exist bootable volume create.\n\nChange-Id: I18294cbc8fbbed5c857db979117cb8ffb750b2cd\n""}]",4,557144,6d3712f204fa957cc9e239c2fc740664b3590665,20,6,5,23517,,,0,"Add nova profile use block_device_mapping_v2 volume check

If nova profile use block_device_mapping_v2 schema, When this
parameter specifies the special source_type and uuid, we need
to test the special source_type to detect whether the uuid is
a valid parameter.

Example the source_type value 'volume', the physical vm will
use exist bootable volume create.

Change-Id: I18294cbc8fbbed5c857db979117cb8ffb750b2cd
",git fetch https://review.opendev.org/openstack/senlin refs/changes/44/557144/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/profiles/os/nova/server.py', 'senlin/tests/unit/profiles/test_nova_server.py', 'senlin/tests/unit/profiles/test_nova_server_validate.py']",3,584c6539bb3c60f4efd6149d360f9d21c2375076,volume_validate,"class TestVolumeValidation(base.SenlinTestCase): scenarios = [ ('validate:success', dict( reason=None, success=True, validate_result=[mock.Mock(id='VOLUME_ID', status='available')], result='VOLUME_ID', exception=None, message='')), ('validate:failure', dict( reason=None, success=False, validate_result=[mock.Mock(id='VOLUME_ID', status='in-use')], result='VOLUME_ID', exception=exc.InvalidSpec, message='The volume VOLUME in in-use status.')), ('validate:driver_failure', dict( reason=None, success=False, validate_result=exc.InternalError(message='BANG.'), result='FID', exception=exc.InternalError, message='BANG.')), ('validate:not_found', dict( reason=None, success=False, validate_result=exc.InternalError(code=404, message='BANG.'), result='FID', exception=exc.InvalidSpec, message=""The specified volume 'VOLUME' could not be found."")), ('create:success', dict( reason='create', success=True, validate_result=[mock.Mock(id='VOLUME_ID', status='available')], result='VOLUME_ID', exception=None, message='')), ('create:driver_failure', dict( reason='create', success=False, validate_result=exc.InternalError(message='BANG'), result='FID', exception=exc.EResourceCreation, message='Failed in creating server: BANG.')), ('create:not_found', dict( reason='create', success=False, validate_result=exc.InternalError(code=404, message='BANG'), result='FID', exception=exc.EResourceCreation, message=""Failed in creating server: BANG."")), ] def setUp(self): super(TestVolumeValidation, self).setUp() bdm_v2 = [ { 'volume_size': 1, 'uuid': '6ce0be68', 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, }, ] volume_spec = { 'type': 'os.nova.server', 'version': '1.0', 'properties': { 'flavor': 'FLAV', 'name': 'FAKE_SERVER_NAME', 'security_groups': ['HIGH_SECURITY_GROUP'], 'block_device_mapping_v2': bdm_v2, } } self.vc = mock.Mock() self.profile = server.ServerProfile('t', volume_spec) self.profile._block_storageclient = self.vc def test_validation(self): self.vc.volume_get.side_effect = self.validate_result node = mock.Mock(id='NODE_ID', physical_id='NOVA_ID') volume = 'VOLUME' if self.success: res = self.profile._validate_volume(node, volume, self.reason) self.assertIsNotNone(res) self.assertEqual(self.result, res.id) else: ex = self.assertRaises(self.exception, self.profile._validate_volume, node, volume, self.reason) self.assertEqual(self.message, six.text_type(ex)) self.vc.volume_get.assert_called_once_with(volume) ",,172,0
openstack%2Ftripleo-heat-templates~master~I6f1b3e101c92663ab2a6446612c88d1bacea4dfb,openstack/tripleo-heat-templates,master,I6f1b3e101c92663ab2a6446612c88d1bacea4dfb,Add map_merge to masqurade network service,ABANDONED,2018-03-30 21:18:24.000000000,2018-03-31 02:08:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-30 21:18:24.000000000', 'files': ['puppet/services/masquerade-networks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9bd44febc20ab5a94a358d5882023bfc789d0c1c', 'message': 'Add map_merge to masqurade network service\n\npuppet-tripleo module expects a hash, not a list.\nThe repeat function in HOT creates a list.\n\nChange-Id: I6f1b3e101c92663ab2a6446612c88d1bacea4dfb\nCloses-Bug: #1760211\n'}]",1,558000,9bd44febc20ab5a94a358d5882023bfc789d0c1c,5,3,1,24245,,,0,"Add map_merge to masqurade network service

puppet-tripleo module expects a hash, not a list.
The repeat function in HOT creates a list.

Change-Id: I6f1b3e101c92663ab2a6446612c88d1bacea4dfb
Closes-Bug: #1760211
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/558000/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/masquerade-networks.yaml'],1,9bd44febc20ab5a94a358d5882023bfc789d0c1c,bug/1760211, map_merge: repeat: for_each: NETWORK: {get_param: MasqueradeNetworks} INDEX: yaql: expression: range(len($.data)).select(str($)) data: {get_param: MasqueradeNetworks} DESTINATIONS: yaql: expression: $.data.values().select(' - ' + $.join('\n - ')) data: {get_param: MasqueradeNetworks} template: > '137 routed_network return_INDEX': table: 'nat' source: 'NETWORK' destination: DESTINATIONS jump: 'RETURN' '138 routed_network masquerade_INDEX': table: 'nat' source: 'NETWORK' jump: 'MASQUERADE', repeat: for_each: NETWORK: {get_param: MasqueradeNetworks} INDEX: yaql: expression: range(len($.data)).select(str($)) data: {get_param: MasqueradeNetworks} DESTINATIONS: yaql: expression: $.data.values().select(' - ' + $.join('\n - ')) data: {get_param: MasqueradeNetworks} template: > '137 routed_network return_INDEX': table: 'nat' source: 'NETWORK' destination: DESTINATIONS jump: 'RETURN' '138 routed_network masquerade_INDEX': table: 'nat' source: 'NETWORK' jump: 'MASQUERADE',23,22
openstack%2Ftripleo-quickstart~master~Id35eac7ea87662fbfc134203886f7fb58147153b,openstack/tripleo-quickstart,master,Id35eac7ea87662fbfc134203886f7fb58147153b,Ignore empty values for dlrn hashes,MERGED,2018-03-21 11:27:56.000000000,2018-03-31 01:33:15.000000000,2018-03-31 00:46:47.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-21 11:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f9007ff322b45383253ad7baed254cefabf288be', 'message': 'Ignore empty values for dlrn hashes\n\nWhen dlrn_hash_path(_newest) is empty, ignore it and use default\nvalue.\n\nChange-Id: Id35eac7ea87662fbfc134203886f7fb58147153b\n'}, {'number': 2, 'created': '2018-03-21 17:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/49ca87351ced3a2e5ac66f9d7ed2ec8bf7027aa6', 'message': ""Ignore empty values for dlrn hashes\n\nWhen dlrn_hash_path(_newest) is empty, ignore it and use default\nvalue.\nThis patch also adds the option of not running 'yum update' when\nconfiguring any release file. This can be achieved by setting\n'repo_setup_run_update' fo false when invoking repo-setup role.\n\nChange-Id: Id35eac7ea87662fbfc134203886f7fb58147153b\n""}, {'number': 3, 'created': '2018-03-27 15:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c610aa067dd548ca574e93b70575686284dc0e1e', 'message': ""Ignore empty values for dlrn hashes\n\nWhen dlrn_hash_path(_newest) is empty, ignore it and use default\nvalue.\nThis patch also adds the option of not running 'yum update' when\nconfiguring any release file. This can be achieved by setting\n'repo_setup_run_update' fo false when invoking repo-setup role.\n\nChange-Id: Id35eac7ea87662fbfc134203886f7fb58147153b\n""}, {'number': 4, 'created': '2018-03-30 20:19:18.000000000', 'files': ['config/release/trunk/queens.yml', 'config/release/tripleo-ci/newton.yml', 'config/release/tripleo-ci/ocata.yml', 'config/release/tripleo-ci/consistent-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-pike.yml', 'config/release/centosci/ocata-current-tripleo.yml', 'config/release/tripleo-ci/pike.yml', 'config/release/tripleo-ci/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/queens.yml', 'config/release/tripleo-ci/master.yml', 'config/release/centosci/queens-current-tripleo.yml', 'config/release/trunk/pike.yml', 'config/release/tripleo-ci/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/consistent-pike.yml', 'config/release/trunk/ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/consistent-ocata.yml', 'config/release/centosci/pike-current-tripleo.yml', 'config/release/tripleo-ci/promotion-testing-hash-master.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/consistent-queens.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/consistent-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9b77bdaf0a1629d941e37b35fe62741432618e6d', 'message': ""Ignore empty values for dlrn hashes\n\nWhen dlrn_hash_path(_newest) is empty, ignore it and use default\nvalue.\nThis patch also adds the option of not running 'yum update' when\nconfiguring any release file. This can be achieved by setting\n'repo_setup_run_update' fo false when invoking repo-setup role.\n\nChange-Id: Id35eac7ea87662fbfc134203886f7fb58147153b\n""}]",0,554882,9b77bdaf0a1629d941e37b35fe62741432618e6d,38,12,4,10969,,,0,"Ignore empty values for dlrn hashes

When dlrn_hash_path(_newest) is empty, ignore it and use default
value.
This patch also adds the option of not running 'yum update' when
configuring any release file. This can be achieved by setting
'repo_setup_run_update' fo false when invoking repo-setup role.

Change-Id: Id35eac7ea87662fbfc134203886f7fb58147153b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/82/554882/2 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/trunk/queens.yml', 'config/release/tripleo-ci/newton.yml', 'config/release/tripleo-ci/ocata.yml', 'config/release/tripleo-ci/consistent-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-pike.yml', 'config/release/centosci/ocata-current-tripleo.yml', 'config/release/tripleo-ci/pike.yml', 'config/release/tripleo-ci/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/queens.yml', 'config/release/tripleo-ci/master.yml', 'config/release/centosci/queens-current-tripleo.yml', 'config/release/trunk/pike.yml', 'config/release/tripleo-ci/master-undercloud-queens-overcloud.yml', 'config/release/tripleo-ci/consistent-pike.yml', 'config/release/trunk/ocata.yml', 'config/release/tripleo-ci/promotion-testing-hash-newton.yml', 'config/release/tripleo-ci/promotion-testing-hash-queens.yml', 'config/release/tripleo-ci/consistent-ocata.yml', 'config/release/centosci/pike-current-tripleo.yml', 'config/release/tripleo-ci/promotion-testing-hash-master.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/consistent-queens.yml', 'config/release/centosci/master-current-tripleo.yml', 'config/release/tripleo-ci/consistent-master.yml']",25,f9007ff322b45383253ad7baed254cefabf288be,553850," rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-master/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo | grep baseurl | cut -d= -f2`", rdo_dlrn=`curl --silent ${NODEPOOL_RDO_PROXY}/centos7-master/{{ dlrn_hash_path|default(dlrn_hash_tag) }}/delorean.repo | grep baseurl | cut -d= -f2`,33,33
openstack%2Fsenlin-dashboard~master~Ie587a29a795faa788fc7502dd7804a6dc2bb5012,openstack/senlin-dashboard,master,Ie587a29a795faa788fc7502dd7804a6dc2bb5012,Imported Translations from Zanata,MERGED,2018-03-30 06:34:43.000000000,2018-03-31 01:07:00.000000000,2018-03-31 01:06:59.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 06:34:43.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/58d28d276ccb83690858acfd109d2ce4c8bdcef9', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie587a29a795faa788fc7502dd7804a6dc2bb5012\n'}]",0,557893,58d28d276ccb83690858acfd109d2ce4c8bdcef9,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie587a29a795faa788fc7502dd7804a6dc2bb5012
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/93/557893/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,58d28d276ccb83690858acfd109d2ce4c8bdcef9,zanata/translations,"""Project-Id-Version: senlin-dashboard\n""""POT-Creation-Date: 2018-03-29 08:05+0000\n""""PO-Revision-Date: 2018-03-29 09:34+0000\n""msgid ""0.8.0-33"" msgstr ""0.8.0-33""","""Project-Id-Version: Senlin Dashboard Release Notes\n""""POT-Creation-Date: 2018-03-28 00:23+0000\n""""PO-Revision-Date: 2018-03-28 11:10+0000\n""msgid ""0.8.0-31"" msgstr ""0.8.0-31""",5,5
openstack%2Fnova~stable%2Fpike~I2d9ab06b485f76550dbbff46f79f40ff4c97d12f,openstack/nova,stable/pike,I2d9ab06b485f76550dbbff46f79f40ff4c97d12f,compute: Cleans up allocations after failed resize,MERGED,2018-02-28 12:32:22.000000000,2018-03-31 00:53:19.000000000,2018-03-31 00:53:18.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-28 12:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/495617f5512d3de445c1fb76456f313fd7ed8bbc', 'message': ""compute: Cleans up allocations after failed resize\n\nDuring cold resize, the ComputeManager's prep_resize calls the\nrpcapi.ComputeAPI's resize_instance method, which will then do an\nRPC cast (async).\n\nBecause the RPC cast is asynchronous, the exception branch in prep_resize\nwill not be executed if the cold resize failed, the allocations will not\nbe cleaned up, and the instance will not be rescheduled.\n\nThis patch adds allocation cleanup in the resize_instance and finish_resize\nmethods.\n\nConflicts:\n      nova/compute/manager.py\n      nova/tests/functional/test_servers.py\n      nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(mriedem): The conflicts are due to not having these changes in Pike:\n\n  Id2f352a68f99df430d20634695be51f74db95d87\n\n  I4f0c99bb11d921d2875737c5cfbbb866be55c37c\n\n  Icc3ffe4037a44f4f323bec2f80d99ca226742e22\n\n  I9bcc1605945ddc35df2288be72e194c050b8ddd9\n\n  I7c3c95d4e0836e1af054d076aad29172574eab2c\n\nBecause we don't have I7c3c95d4e0836e1af054d076aad29172574eab2c which\nadded the _revert_allocation method, this backport has to use the\nResourceTracker.delete_allocation_for_failed_resize method to rollback\nthe *new* flavor allocation for the instance (the new flavor is the one\nbeing used for the resize). When we fail, we remove the new flavor\nallocation so the instance is left with it's current (old) flavor\nallocation on the source compute node. As a result, several unit tests\nmust be updated to mock delete_allocation_for_failed_resize.\n\nChange-Id: I2d9ab06b485f76550dbbff46f79f40ff4c97d12f\nCloses-Bug: #1749215\n(cherry picked from commit caf167862dd82e98f0189c9598856de57dfa7d35)\n(cherry picked from commit 5039511840bd64151f3111d9c8d7d8a01344193b)\n""}, {'number': 2, 'created': '2018-02-28 14:02:23.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f6371c868625351e3b017d6b2aaaa458cd73172', 'message': ""compute: Cleans up allocations after failed resize\n\nDuring cold resize, the ComputeManager's prep_resize calls the\nrpcapi.ComputeAPI's resize_instance method, which will then do an\nRPC cast (async).\n\nBecause the RPC cast is asynchronous, the exception branch in prep_resize\nwill not be executed if the cold resize failed, the allocations will not\nbe cleaned up, and the instance will not be rescheduled.\n\nThis patch adds allocation cleanup in the resize_instance and finish_resize\nmethods.\n\nConflicts:\n      nova/compute/manager.py\n      nova/tests/functional/test_servers.py\n      nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(mriedem): The conflicts are due to not having these changes in Pike:\n\n  Id2f352a68f99df430d20634695be51f74db95d87\n\n  I4f0c99bb11d921d2875737c5cfbbb866be55c37c\n\n  Icc3ffe4037a44f4f323bec2f80d99ca226742e22\n\n  I9bcc1605945ddc35df2288be72e194c050b8ddd9\n\n  I7c3c95d4e0836e1af054d076aad29172574eab2c\n\nBecause we don't have I7c3c95d4e0836e1af054d076aad29172574eab2c which\nadded the _revert_allocation method, this backport has to use the\nResourceTracker.delete_allocation_for_failed_resize method to rollback\nthe *new* flavor allocation for the instance (the new flavor is the one\nbeing used for the resize). When we fail, we remove the new flavor\nallocation so the instance is left with it's current (old) flavor\nallocation on the source compute node. As a result, several unit tests\nmust be updated to mock delete_allocation_for_failed_resize.\n\nChange-Id: I2d9ab06b485f76550dbbff46f79f40ff4c97d12f\nCloses-Bug: #1749215\n(cherry picked from commit caf167862dd82e98f0189c9598856de57dfa7d35)\n(cherry picked from commit 5039511840bd64151f3111d9c8d7d8a01344193b)\n""}]",3,548584,8f6371c868625351e3b017d6b2aaaa458cd73172,22,11,2,6873,,,0,"compute: Cleans up allocations after failed resize

During cold resize, the ComputeManager's prep_resize calls the
rpcapi.ComputeAPI's resize_instance method, which will then do an
RPC cast (async).

Because the RPC cast is asynchronous, the exception branch in prep_resize
will not be executed if the cold resize failed, the allocations will not
be cleaned up, and the instance will not be rescheduled.

This patch adds allocation cleanup in the resize_instance and finish_resize
methods.

Conflicts:
      nova/compute/manager.py
      nova/tests/functional/test_servers.py
      nova/tests/unit/compute/test_compute_mgr.py

NOTE(mriedem): The conflicts are due to not having these changes in Pike:

  Id2f352a68f99df430d20634695be51f74db95d87

  I4f0c99bb11d921d2875737c5cfbbb866be55c37c

  Icc3ffe4037a44f4f323bec2f80d99ca226742e22

  I9bcc1605945ddc35df2288be72e194c050b8ddd9

  I7c3c95d4e0836e1af054d076aad29172574eab2c

Because we don't have I7c3c95d4e0836e1af054d076aad29172574eab2c which
added the _revert_allocation method, this backport has to use the
ResourceTracker.delete_allocation_for_failed_resize method to rollback
the *new* flavor allocation for the instance (the new flavor is the one
being used for the resize). When we fail, we remove the new flavor
allocation so the instance is left with it's current (old) flavor
allocation on the source compute node. As a result, several unit tests
must be updated to mock delete_allocation_for_failed_resize.

Change-Id: I2d9ab06b485f76550dbbff46f79f40ff4c97d12f
Closes-Bug: #1749215
(cherry picked from commit caf167862dd82e98f0189c9598856de57dfa7d35)
(cherry picked from commit 5039511840bd64151f3111d9c8d7d8a01344193b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/548584/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",4,495617f5512d3de445c1fb76456f313fd7ed8bbc,bug/1749215," def _test_resize_to_same_host_instance_fails(self, failing_method, event_name): the given method, we cleanup the allocations before rescheduling. def fake_resize_method(*args, **kwargs): raise test.TestingException('Simulated resize failure.') self.stub_out( 'nova.compute.manager.ComputeManager.%s' % failing_method, fake_resize_method) server, instance_actions.RESIZE, event_name) def test_resize_to_same_host_prep_resize_fails(self): self._test_resize_to_same_host_instance_fails( '_prep_resize', 'compute_prep_resize') def test_resize_instance_fails_allocation_cleanup(self): self._test_resize_to_same_host_instance_fails( '_resize_instance', 'compute_resize_instance') def test_finish_resize_fails_allocation_cleanup(self): self._test_resize_to_same_host_instance_fails( '_finish_resize', 'compute_finish_resize') "," def test_resize_to_same_host_prep_resize_fails(self): the prep_resize method, we cleanup the allocations before rescheduling. def fake_prep_resize(*args, **kwargs): raise test.TestingException('Simulated _prep_resize failure.') self.stub_out('nova.compute.manager.ComputeManager._prep_resize', fake_prep_resize) server, instance_actions.RESIZE, 'compute_prep_resize')",85,26
openstack%2Fopenstack-helm~master~Ic9a5907064547ad84345d578f40eb84f5334e849,openstack/openstack-helm,master,Ic9a5907064547ad84345d578f40eb84f5334e849,WIP - Implement Ceph-Mon component chart,ABANDONED,2018-03-30 23:43:42.000000000,2018-03-30 23:59:19.000000000,,[],"[{'number': 1, 'created': '2018-03-30 23:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/326a809a3a7f2fb5df3d03726ff37cd12e7d86ee', 'message': 'WIP - Implement Ceph-Mon component chart\n\nChange-Id: Ic9a5907064547ad84345d578f40eb84f5334e849\n'}, {'number': 2, 'created': '2018-03-30 23:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3304061a989298c081814c1d0d7d152b97ecc32f', 'message': 'WIP - Implement Ceph-Mon component chart\n\nChange-Id: Ic9a5907064547ad84345d578f40eb84f5334e849\n'}, {'number': 3, 'created': '2018-03-30 23:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28616cf8c59005c958738536bbcc6c293e35df51', 'message': 'WIP - Implement Ceph-Mon component chart\n\nChange-Id: Ic9a5907064547ad84345d578f40eb84f5334e849\n'}, {'number': 4, 'created': '2018-03-30 23:56:07.000000000', 'files': ['ceph-mon/.helmignore', 'ceph-mon/templates/job-namespace-client-key-cleaner.yaml', 'ceph/templates/bin/provisioner/cephfs/_client-key-manager.sh.tpl', 'ceph-mon/templates/job-namespace-client-key.yaml', 'ceph/templates/bin/mgr/_start.sh.tpl', 'ceph-mon/templates/job-rbd-pool.yaml', 'ceph/templates/bin/provisioner/rbd/_start.sh.tpl', 'ceph-mon/templates/deployment-cephfs-provisioner.yaml', 'ceph-mon/templates/bin/_bootstrap.sh.tpl', 'ceph-mon/templates/bin/keys/_storage-keyring-manager.sh.tpl', 'ceph-mon/templates/bin/_init-dirs.sh.tpl', 'ceph/templates/bin/provisioner/rbd/_namespace-client-key-cleaner.sh.tpl', 'ceph-mon/templates/daemonset-osd.yaml', 'ceph/templates/bin/osd/_block.sh.tpl', 'ceph-mon/templates/job-keyring.yaml', 'ceph-mon/templates/deployment-rgw.yaml', 'ceph-mon/templates/configmap-etc.yaml', 'ceph-mon/templates/deployment-rbd-provisioner.yaml', 'ceph-mon/templates/templates/_bootstrap.keyring.rgw.tpl', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-mon/templates/bin/moncheck/_start.sh.tpl', 'ceph-mon/templates/service-mgr.yaml', 'ceph-mon/templates/storageclass-rbd.yaml', 'ceph-mon/templates/job-cephfs-client-key.yaml', 'ceph-mon/templates/templates/_bootstrap.keyring.mgr.tpl', 'ceph-mon/templates/job-ks-user.yaml', 'ceph-mon/Chart.yaml', 'ceph-mon/templates/templates/_bootstrap.keyring.osd.tpl', 'ceph-mon/templates/configmap-bin-ks.yaml', 'ceph/templates/bin/mds/_start.sh.tpl', 'ceph-mon/requirements.yaml', 'ceph-mon/templates/bin/moncheck/_reap-zombies.py.tpl', 'ceph/templates/bin/osd/_start.sh.tpl', 'ceph-mon/templates/job-bootstrap.yaml', 'ceph-mon/templates/configmap-bin-clients.yaml', 'ceph-mon/templates/service-mon-discovery.yaml', 'ceph-mon/templates/bin/mon/_stop.sh.tpl', 'ceph-mon/templates/service-mon.yaml', 'ceph/templates/bin/rgw/_start.sh.tpl', 'ceph/templates/bin/provisioner/rbd/_namespace-client-key-manager.sh.tpl', 'ceph-mon/templates/templates/_mon.keyring.tpl', 'ceph-mon/templates/templates/_bootstrap.keyring.mds.tpl', 'ceph/templates/bin/osd/_stop.sh.tpl', 'ceph-mon/templates/deployment-mds.yaml', 'ceph-mon/templates/job-ks-service.yaml', 'ceph-mon/values.yaml', 'ceph/templates/bin/rgw/_init_keystone.sh.tpl', 'ceph/templates/bin/provisioner/cephfs/_start.sh.tpl', 'ceph-mon/templates/utils/_osd_daemonset_overrides.tpl', 'ceph/templates/bin/osd/_init.sh.tpl', 'ceph-mon/templates/service-rgw.yaml', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-generator.py.tpl', 'ceph-mon/templates/bin/keys/_bootstrap-keyring-manager.sh.tpl', 'ceph-mon/templates/job-ks-endpoints.yaml', 'ceph-mon/templates/templates/_admin.keyring.tpl', 'ceph/templates/bin/pool/_init.sh.tpl', 'ceph-mon/templates/configmap-templates.yaml', 'ceph-mon/templates/bin/mon/_check.sh.tpl', 'ceph-mon/templates/bin/mon/_start.sh.tpl', 'ceph-mon/.gitignore', 'ceph/templates/bin/mgr/_check.sh.tpl', 'ceph-mon/templates/configmap-bin.yaml', 'ceph/templates/bin/pool/_calc.py.tpl', 'ceph/templates/bin/osd/_check.sh.tpl', 'ceph-mon/templates/daemonset-mon.yaml', 'ceph-mon/templates/secret-keystone.yaml', 'ceph-mon/templates/secret-keystone-rgw.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'ceph/templates/bin/osd/_directory.sh.tpl', 'ceph-mon/templates/storageclass-cephfs.yaml', 'ceph-mon/templates/deployment-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b620694bf3a5de3b6839efac62ceb4b0961d2ef5', 'message': 'WIP - Implement Ceph-Mon component chart\n\nChange-Id: Ic9a5907064547ad84345d578f40eb84f5334e849\n'}]",0,558010,b620694bf3a5de3b6839efac62ceb4b0961d2ef5,5,0,4,24165,,,0,"WIP - Implement Ceph-Mon component chart

Change-Id: Ic9a5907064547ad84345d578f40eb84f5334e849
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/558010/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph/test.txt'],1,326a809a3a7f2fb5df3d03726ff37cd12e7d86ee,create_ceph_mon_chart,will delete later ,,1,0
openstack%2Fopenstack-helm-infra~master~I00a684b3801a0990550f55c8facb0252fddb67f2,openstack/openstack-helm-infra,master,I00a684b3801a0990550f55c8facb0252fddb67f2,Helm-Toolkit: Reduce delta between OSH and OSH-Infra,MERGED,2018-03-30 20:37:40.000000000,2018-03-30 23:57:08.000000000,2018-03-30 23:57:08.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 20:37:40.000000000', 'files': ['helm-toolkit/templates/scripts/_rally_test.sh.tpl', 'helm-toolkit/templates/scripts/_ks-user.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c2e96d87eed2105794fddb965e92ba1653fb12e', 'message': 'Helm-Toolkit: Reduce delta between OSH and OSH-Infra\n\nThis PS reduces the delta between OSH and OSH-Infra helm toolkits.\n\nChange-Id: I00a684b3801a0990550f55c8facb0252fddb67f2\n'}]",0,557992,0c2e96d87eed2105794fddb965e92ba1653fb12e,7,3,1,23928,,,0,"Helm-Toolkit: Reduce delta between OSH and OSH-Infra

This PS reduces the delta between OSH and OSH-Infra helm toolkits.

Change-Id: I00a684b3801a0990550f55c8facb0252fddb67f2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/557992/1 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/scripts/_rally_test.sh.tpl', 'helm-toolkit/templates/scripts/_ks-user.sh.tpl']",2,0c2e96d87eed2105794fddb965e92ba1653fb12e,helm-toolkit/sync," # Get user role USER_ROLE_ID=$(openstack role create --or-show -f value -c id \ ""${SERVICE_OS_ROLE}""); IFS=',' for SERVICE_OS_ROLE in ${SERVICE_OS_ROLES}; do ks_assign_user_role done","export USER_ROLE_ID=$(openstack role create --or-show -f value -c id \ ""${SERVICE_OS_ROLE}""); ks_assign_user_role",42,11
openstack%2Fkolla-ansible~master~Ifc690d8825fd731586352a82ba8c8b9b1929630d,openstack/kolla-ansible,master,Ifc690d8825fd731586352a82ba8c8b9b1929630d,Nova upgrade fail because of missing condition,ABANDONED,2017-12-08 20:47:14.000000000,2018-03-30 23:27:39.000000000,,"[{'_account_id': 7488}, {'_account_id': 16006}, {'_account_id': 18665}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26556}]","[{'number': 1, 'created': '2017-12-08 20:47:14.000000000', 'files': ['ansible/roles/nova/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07139ec88c1a158a9106b62b42b6791812197f37', 'message': 'Nova upgrade fail because of missing condition\n\nWhen we try to upgrade nova component using kolla-ansible upgrade\ncommand it failed because of a missing condition in upgrade.yml file.\n\nWithout the condition, kolla tries to run the register tasks from a\ncompute node.\n\nChange-Id: Ifc690d8825fd731586352a82ba8c8b9b1929630d\nCloses-Bug: #1737244\n'}]",2,526771,07139ec88c1a158a9106b62b42b6791812197f37,12,8,1,16006,,,0,"Nova upgrade fail because of missing condition

When we try to upgrade nova component using kolla-ansible upgrade
command it failed because of a missing condition in upgrade.yml file.

Without the condition, kolla tries to run the register tasks from a
compute node.

Change-Id: Ifc690d8825fd731586352a82ba8c8b9b1929630d
Closes-Bug: #1737244
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/526771/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/upgrade.yml'],1,07139ec88c1a158a9106b62b42b6791812197f37,bug/1737244, when: inventory_hostname in groups['nova-api'],,1,0
openstack%2Frequirements~master~Ic044fa906dc80fdf4a01390a4ab4fcd1970befba,openstack/requirements,master,Ic044fa906dc80fdf4a01390a4ab4fcd1970befba,Updated from generate-constraints,MERGED,2018-03-30 06:24:35.000000000,2018-03-30 23:16:30.000000000,2018-03-30 23:16:29.000000000,"[{'_account_id': 12898}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 06:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb39690219bc26e3bfdf1776efa2bb8222d3f520', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic044fa906dc80fdf4a01390a4ab4fcd1970befba\n'}, {'number': 2, 'created': '2018-03-30 16:54:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7aee8f9b2171228c74e7c71f9a5ab55cb466a77b', 'message': ""Updated from generate-constraints\n\nremoved the following updates\npecan: (neutron team is working on it)\npbr: to be done Monday https://review.openstack.org/557009\noslo.config: https://review.openstack.org/557012\npika: conflicts :|\npysaml2: keystone hasn't updated their requirements yet\nsphinx: breaks doc builds\npyldap: yes, it does look odd\npython-openstackclient: was merged last night\n\nChange-Id: Ic044fa906dc80fdf4a01390a4ab4fcd1970befba\n""}]",0,557891,7aee8f9b2171228c74e7c71f9a5ab55cb466a77b,9,3,2,11131,,,0,"Updated from generate-constraints

removed the following updates
pecan: (neutron team is working on it)
pbr: to be done Monday https://review.openstack.org/557009
oslo.config: https://review.openstack.org/557012
pika: conflicts :|
pysaml2: keystone hasn't updated their requirements yet
sphinx: breaks doc builds
pyldap: yes, it does look odd
python-openstackclient: was merged last night

Change-Id: Ic044fa906dc80fdf4a01390a4ab4fcd1970befba
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/557891/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cb39690219bc26e3bfdf1776efa2bb8222d3f520,openstack/requirements/constraints,pecan===1.3.2pbr===4.0.0sphinx-feature-classification===0.1.0pika===0.11.2pysaml2===4.5.0Sphinx===1.7.2 oslo.config===6.0.0httplib2===0.11.3fortiosclient===0.0.3botocore===1.9.20pyldap===3.0.0;python_version=='2.7' pyldap===3.0.0.post1;python_version=='3.4' pyldap===3.0.0.post1;python_version=='3.5'python-openstackclient===3.15.0docker===3.2.0,pecan===1.2.1pbr===3.1.1pika===0.10.0pysaml2===4.0.2repoze.who===2.3Sphinx===1.6.5 oslo.config===5.2.0httplib2===0.11.1fortiosclient===0.0.2botocore===1.9.7pyldap===3.0.0python-openstackclient===3.14.0zope.interface===4.4.3docker===3.1.4sphinx-feature-classification===0.1.0,15,15
openstack%2Ftripleo-quickstart~master~Icf05fd710dd8917b64959ae88da7e98da9c024b1,openstack/tripleo-quickstart,master,Icf05fd710dd8917b64959ae88da7e98da9c024b1,fs001/035: enable MasqueradeNetworks service,ABANDONED,2018-03-30 15:46:45.000000000,2018-03-30 23:01:37.000000000,,"[{'_account_id': 3153}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-30 15:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f424dcf9fb0e7c1691ddd0cdd8602b7c7d87b4c9', 'message': ""fs001/035: enable MasqueradeNetworks service\n\nIn TripleO CI / OVB, we need to configure the masquerading on the\nundercloud so the traffic from the overcloud to external can go through\nthe undercloud.  It's something specific to CI or dev environments, not\nsomething we want to enable by default, hence we enable these\nservices in tripleo-quickstart.\n\nChange-Id: Icf05fd710dd8917b64959ae88da7e98da9c024b1\n""}, {'number': 2, 'created': '2018-03-30 17:28:59.000000000', 'files': ['config/general_config/featureset035.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/805e2394382f6910d93442867b643b441991a90d', 'message': ""fs001/035: enable MasqueradeNetworks service\n\nIn TripleO CI / OVB, we need to configure the masquerading on the\nundercloud so the traffic from the overcloud to external can go through\nthe undercloud.  It's something specific to CI or dev environments, not\nsomething we want to enable by default, hence we enable these\nservices in tripleo-quickstart.\n\nChange-Id: Icf05fd710dd8917b64959ae88da7e98da9c024b1\n""}]",0,557950,805e2394382f6910d93442867b643b441991a90d,9,3,2,3153,,,0,"fs001/035: enable MasqueradeNetworks service

In TripleO CI / OVB, we need to configure the masquerading on the
undercloud so the traffic from the overcloud to external can go through
the undercloud.  It's something specific to CI or dev environments, not
something we want to enable by default, hence we enable these
services in tripleo-quickstart.

Change-Id: Icf05fd710dd8917b64959ae88da7e98da9c024b1
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/50/557950/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset035.yml', 'config/general_config/featureset001.yml']",2,f424dcf9fb0e7c1691ddd0cdd8602b7c7d87b4c9,enable/masquerade," {% if release not in ['newton', 'ocata', 'pike', 'queens'] %} -e {{ overcloud_templates_path }}/environments/services/masquerade-networks.yaml {% endif %}",,6,0
openstack%2Fopenstack-helm~master~I52b6577cdad58a21848f7eb31abb66ebdc47d81e,openstack/openstack-helm,master,I52b6577cdad58a21848f7eb31abb66ebdc47d81e,Ceph: Update images and references,MERGED,2018-03-29 19:35:36.000000000,2018-03-30 22:05:22.000000000,2018-03-30 22:05:22.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24165}]","[{'number': 1, 'created': '2018-03-29 19:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1eb44da72589e288c285a8fb0cdef59af5b539e9', 'message': 'Ceph: Update images and references\n\nThis PS udpdates the Ceph charts images and references.\n\nChange-Id: I52b6577cdad58a21848f7eb31abb66ebdc47d81e\n'}, {'number': 2, 'created': '2018-03-29 20:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f857e5b0f78d0a458e7c0bb7755533cafce05cce', 'message': 'Ceph: Update images and references\n\nThis PS udpdates the Ceph charts images and references.\n\nChange-Id: I52b6577cdad58a21848f7eb31abb66ebdc47d81e\n'}, {'number': 3, 'created': '2018-03-30 04:38:51.000000000', 'files': ['ceph/templates/deployment-mgr.yaml', 'ceph/templates/daemonset-mon.yaml', 'ceph/templates/deployment-rgw.yaml', 'ceph/templates/deployment-moncheck.yaml', 'tools/images/ceph-config-helper/README.rst', 'ceph/templates/deployment-mds.yaml', 'ceph/templates/job-rbd-pool.yaml', 'ceph/values.yaml', 'tools/images/ceph-config-helper/Dockerfile', 'tools/images/ceph-config-helper/Makefile', 'ceph/templates/daemonset-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/276374aacba96c8b7e6a6402484fd2a903c5b0c5', 'message': 'Ceph: Update images and references\n\nThis PS udpdates the Ceph charts images and references.\n\nChange-Id: I52b6577cdad58a21848f7eb31abb66ebdc47d81e\n'}]",2,557814,276374aacba96c8b7e6a6402484fd2a903c5b0c5,12,5,3,23928,,,0,"Ceph: Update images and references

This PS udpdates the Ceph charts images and references.

Change-Id: I52b6577cdad58a21848f7eb31abb66ebdc47d81e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/557814/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/deployment-mgr.yaml', 'ceph/templates/daemonset-mon.yaml', 'ceph/templates/deployment-rgw.yaml', 'ceph/templates/deployment-moncheck.yaml', 'tools/images/ceph-config-helper/README.rst', 'ceph/templates/deployment-mds.yaml', 'ceph/templates/job-rbd-pool.yaml', 'ceph/values.yaml', 'tools/images/ceph-config-helper/Dockerfile', 'tools/images/ceph-config-helper/Makefile', 'ceph/templates/daemonset-osd.yaml']",11,1eb44da72589e288c285a8fb0cdef59af5b539e9,ceph/remove-dead-pods, image: {{ .Values.images.tags.ceph_osd }} image: {{ .Values.images.tags.ceph_osd }} image: {{ .Values.images.tags.ceph_osd }}, image: {{ .Values.images.tags.ceph_daemon }} image: {{ .Values.images.tags.ceph_daemon }} image: {{ .Values.images.tags.ceph_daemon }},37,28
openstack%2Fironic~stable%2Fpike~I639a421fa06fff7ab07b8eab557531b8f36c5ed9,openstack/ironic,stable/pike,I639a421fa06fff7ab07b8eab557531b8f36c5ed9,Allow Swift endpoint override,MERGED,2018-03-15 11:11:06.000000000,2018-03-30 21:40:41.000000000,2018-03-28 22:33:48.000000000,"[{'_account_id': 1091}, {'_account_id': 1916}, {'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 20312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-15 11:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd9c31e5e8069bffe4f23eb9e600e56e854f2d9b', 'message': ""Use internal Swift endpoint by default\n\nSwiftclient uses public endpoint by default. Ironic uses the base URL\nfrom Swift connection to build TempURLs for generated images.\nSome drivers (e.g. iLO) use those TempURLs to mount images as vmedia.\nWith public URLs it will fail if the BMC doesn't have access to the\npublic network.\n\nThis change introduces an option to specify the interface type to be\nused for Swift with default of 'internal' which matches the behavior\nfrom later releases where keystoneauth adapter is used for finding\nthe correct endpoint URL.\n\nChange-Id: I639a421fa06fff7ab07b8eab557531b8f36c5ed9\nCloses-Bug: #1755164\nRelated-Bug: #1699547\n""}, {'number': 2, 'created': '2018-03-16 12:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6a7928934f61ee2357ec89dc15f47362c388049', 'message': ""Use internal Swift endpoint by default\n\nSwiftclient uses public endpoint by default. Ironic uses the base URL\nfrom Swift connection to build TempURLs for generated images.\nSome drivers (e.g. iLO) use those TempURLs to mount images as vmedia.\nWith public URLs it will fail if the BMC doesn't have access to the\npublic network.\n\nThis change introduces an option to specify the interface type to be\nused for Swift with default of 'internal' which matches the behavior\nfrom later releases where keystoneauth adapter is used for finding\nthe correct endpoint URL.\n\nChange-Id: I639a421fa06fff7ab07b8eab557531b8f36c5ed9\nCloses-Bug: #1755164\nRelated-Bug: #1699547\n""}, {'number': 3, 'created': '2018-03-26 19:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/058dc9397b7e912e9bf3993831898d9d4cfcd19d', 'message': ""Allow Swift endpoint override\n\nSwiftclient uses public endpoint by default. Ironic uses the base URL\nfrom Swift connection to build TempURLs for generated images.\nSome drivers (e.g. iLO) use those TempURLs to mount images as vmedia.\nWith public URLs it will fail if the BMC doesn't have access to the\npublic network.\n\nThis change introduces an option to explicitly set the endpoint URL\nused for Swift.\n\nChange-Id: I639a421fa06fff7ab07b8eab557531b8f36c5ed9\nCloses-Bug: #1755164\nRelated-Bug: #1699547\n""}, {'number': 4, 'created': '2018-03-27 13:41:42.000000000', 'files': ['ironic/common/swift.py', 'ironic/tests/unit/common/test_swift.py', 'ironic/conf/swift.py', 'releasenotes/notes/swift-endpoint-override-4151d2fbb159950d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca4fb9b1cfe2693771e6b0d346d5923db66696e8', 'message': ""Allow Swift endpoint override\n\nSwiftclient uses public endpoint by default. Ironic uses the base URL\nfrom Swift connection to build TempURLs for generated images.\nSome drivers (e.g. iLO) use those TempURLs to mount images as vmedia.\nWith public URLs it will fail if the BMC doesn't have access to the\npublic network.\n\nThis change introduces an option to explicitly set the endpoint URL\nused for Swift.\n\nThis is a stable-only change as the problem is fixed by refactoring\nchanges in later releases. This is the only version where Ironic uses\npublic Swift endpoints and there is no option to override this.\n\nChange-Id: I639a421fa06fff7ab07b8eab557531b8f36c5ed9\nCloses-Bug: #1755164\nRelated-Bug: #1699547\n""}]",1,553330,ca4fb9b1cfe2693771e6b0d346d5923db66696e8,64,12,4,20312,,,0,"Allow Swift endpoint override

Swiftclient uses public endpoint by default. Ironic uses the base URL
from Swift connection to build TempURLs for generated images.
Some drivers (e.g. iLO) use those TempURLs to mount images as vmedia.
With public URLs it will fail if the BMC doesn't have access to the
public network.

This change introduces an option to explicitly set the endpoint URL
used for Swift.

This is a stable-only change as the problem is fixed by refactoring
changes in later releases. This is the only version where Ironic uses
public Swift endpoints and there is no option to override this.

Change-Id: I639a421fa06fff7ab07b8eab557531b8f36c5ed9
Closes-Bug: #1755164
Related-Bug: #1699547
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/553330/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/swift.py', 'ironic/tests/unit/common/test_swift.py', 'ironic/conf/swift.py']",3,cd9c31e5e8069bffe4f23eb9e600e56e854f2d9b,bug/1755164," cfg.StrOpt('os_interface', default='internal', choices=['public', 'admin', 'internal'], help=_('Endpoint interface for Swift API lookup in service ' 'catalog. It also controls base URL used for image ' 'TempURLs.')),",,13,2
openstack%2Fnova~master~Ibd509c5a59407da1db46c6c12b82f8707f655466,openstack/nova,master,Ibd509c5a59407da1db46c6c12b82f8707f655466,remove unnecessary short cut in placement,MERGED,2018-03-15 02:11:58.000000000,2018-03-30 21:30:59.000000000,2018-03-30 21:30:58.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-15 02:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f022f465375334d64934f699285a56d3a2cc5d23', 'message': ""remove not necessary short cut\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, we at first remove the shortcut in the logic to\nconsider sharing providers even if the non-sharing provider can\nsatisfy the resource request for itself.\n\nChange-Id: Ibd509c5a59407da1db46c6c12b82f8707f655466\nPartial-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 2, 'created': '2018-03-26 12:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60b1cd1d363d9d04a6d3416c7af198f703fb735c', 'message': ""remove not necessary short cut\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, we at first remove the shortcut in the logic to\nconsider sharing providers even if the non-sharing provider can\nsatisfy the resource request for itself.\n\nChange-Id: Ibd509c5a59407da1db46c6c12b82f8707f655466\nPartial-Bug: #1724613\nRelated-Bug: #1731072\n""}, {'number': 3, 'created': '2018-03-28 04:51:09.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ecb09b29b743808a97751383dc6c7a0eefae2aa9', 'message': ""remove unnecessary short cut in placement\n\nWhen both the compute node resource provider and the shared\nresource provider have inventory in the same resource class,\nAllocationCandidates.get_by_filters didn't return an\nAllocationRequest including the shared resource provider.\n\nTo fix the bug, we at first remove the shortcut in the logic to\nconsider sharing providers even if the non-sharing provider can\nsatisfy the resource request for itself.\n\nChange-Id: Ibd509c5a59407da1db46c6c12b82f8707f655466\nPartial-Bug: #1724613\nRelated-Bug: #1731072\n""}]",9,553122,ecb09b29b743808a97751383dc6c7a0eefae2aa9,64,17,3,25625,,,0,"remove unnecessary short cut in placement

When both the compute node resource provider and the shared
resource provider have inventory in the same resource class,
AllocationCandidates.get_by_filters didn't return an
AllocationRequest including the shared resource provider.

To fix the bug, we at first remove the shortcut in the logic to
consider sharing providers even if the non-sharing provider can
satisfy the resource request for itself.

Change-Id: Ibd509c5a59407da1db46c6c12b82f8707f655466
Partial-Bug: #1724613
Related-Bug: #1731072
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/553122/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/placement/objects/resource_provider.py'],1,f022f465375334d64934f699285a56d3a2cc5d23,bug/1724613,," # Determine if the non-sharing provider actually has all the # resources requested. If not, we need to add an AllocationRequest # alternative containing this resource for each sharing provider. # NOTE(jaypipes): If a provider has inventory for a resource class and # ALSO has that resource class shared with it, we currently ALWAYS take # the non-shared inventory. # See: https://bugs.launchpad.net/nova/+bug/1724613 has_all = len(shared_resources) == 0 if has_all: # If this resource provider has all the requested resources, then # require that it must also have ALL required traits. # TODO(jaypipes): This is kind of buggy behaviour. We should be # able to consider permutations of non-sharing providers that have # all the resources but have missing required traits with sharing # providers that have those missing traits. if missing_traits: LOG.debug('Excluding non-sharing provider %s: it has all ' 'resources but is missing traits (%s).', ns_rp_uuid, ', '.join(missing_traits)) continue req = _allocation_request_for_provider(ctx, requested_resources, ns_rp_uuid) alloc_requests.append(req) continue ",0,25
openstack%2Fswift~master~Idfa95bf3aa355bf804fc48302e70857338dc905b,openstack/swift,master,Idfa95bf3aa355bf804fc48302e70857338dc905b,WIP: let container updates come in piecewise,ABANDONED,2016-03-06 22:27:05.000000000,2018-03-30 21:23:06.000000000,,"[{'_account_id': 2622}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2016-03-06 22:27:05.000000000', 'files': ['swift/common/direct_client.py', 'test/probe/test_object_async_update.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/172db48708fe7433dfbae3bed80bf5622b4525a0', 'message': 'WIP: let container updates come in piecewise\n\nSo far this is just a failing probetest for the behavior\n\nChange-Id: Idfa95bf3aa355bf804fc48302e70857338dc905b\n'}]",3,289090,172db48708fe7433dfbae3bed80bf5622b4525a0,7,3,1,2622,,,0,"WIP: let container updates come in piecewise

So far this is just a failing probetest for the behavior

Change-Id: Idfa95bf3aa355bf804fc48302e70857338dc905b
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/289090/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/direct_client.py', 'test/probe/test_object_async_update.py']",2,172db48708fe7433dfbae3bed80bf5622b4525a0,your-etag-is-showing,"import hashlibclass TestUpdateContentTypeAsync(ReplProbeTest): """""" PUT an object while the container server is down, POST to change Content-Type once the container server is up, and then feed in the async_pending. """""" def setUp(self): """""" Reset the world, start one container server and one object server, and make sure the container exists. """""" super(TestUpdateContentTypeAsync, self).setUp() self.container = 'container-%s' % uuid4() self.object = 'object-%s' % uuid4() cpart, cnodes = self.container_ring.get_nodes(self.account, self.container) opart, onodes = self.object_ring.get_nodes( self.account, self.container, self.object) self.container_part = cpart self.container_node = cnodes[0] self.object_part = opart self.object_node = onodes[0] direct_client.direct_put_container( self.container_node, self.container_part, self.account, self.container) Manager(['all']).stop(wait=True) def test(self): # With just the object server running, PUT an object. This'll force # the container update to go to an async_pending. start_server((self.object_node['ip'], self.object_node['port']), self.ipport2server, self.pids) container_update_headers = { 'X-Container-Host': ""%s:%d"" % ( self.container_node['ip'], self.container_node['port']), 'X-Container-Device': self.container_node['device'], 'X-Container-Partition': str(self.container_part)} obj_body = ""just imagine a JPEG of a kitten here instead of this"" put_headers = container_update_headers.copy() put_headers['Content-Type'] = 'ct/old-one-from-the-PUT-request' put_headers['X-Backend-Etag-Is-At'] = 'Real-Etag-From-Middleware' put_headers['Real-Etag-From-Middleware'] = 'etag_for_container' direct_client.direct_put_object( self.object_node, self.object_part, self.account, self.container, self.object, obj_body, headers=put_headers) # With a container server running as well, POST to the object to # change its Content-Type. start_server((self.container_node['ip'], self.container_node['port']), self.ipport2server, self.pids) post_headers = container_update_headers.copy() post_headers['Content-Type'] = 'ct/new-one-from-the-POST-request' direct_client.direct_post_object( self.object_node, self.object_part, self.account, self.container, self.object, headers=post_headers) # This does not cause the object to appear in the container listing. # Generally speaking, the object's Etag and Content-Length # attributes may or may not match what's in the container listing; # various things in middleware (e.g. crypto) or in the proxy (e.g. # erasure coding) can cause those values to differ. # # The correct-for-the-listing values are available at PUT time, of # course, but may not be available at POST time. resp_headers, container_list = direct_client.direct_get_container( self.container_node, self.container_part, self.account, self.container) self.assertEqual(container_list, []) # Get the async_pending in there Manager(['object-updater']).once() # Make sure it's in the listing with the right Content-Type, Etag, # and such resp_headers, container_list = direct_client.direct_get_container( self.container_node, self.container_part, self.account, self.container) self.assertDictContainsSubset({ 'name': self.object, 'bytes': len(obj_body), 'hash': 'etag_for_container', 'content_type': 'ct/new-one-from-the-POST-request', }, container_list[0]) ",,115,1
openstack%2Frequirements~master~I2516ce4657848cc23e24a2030fe5c5268d79d263,openstack/requirements,master,I2516ce4657848cc23e24a2030fe5c5268d79d263,Fix key name of lower-constraints.txt,MERGED,2018-03-30 12:48:42.000000000,2018-03-30 21:20:45.000000000,2018-03-30 21:20:45.000000000,"[{'_account_id': 841}, {'_account_id': 5638}, {'_account_id': 14070}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 12:48:42.000000000', 'files': ['playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0cc95d4428679b0eacd50a6ea5f778abfc5f9516', 'message': 'Fix key name of lower-constraints.txt\n\nChange-Id: I2516ce4657848cc23e24a2030fe5c5268d79d263\n'}]",0,557927,0cc95d4428679b0eacd50a6ea5f778abfc5f9516,11,6,1,841,,,0,"Fix key name of lower-constraints.txt

Change-Id: I2516ce4657848cc23e24a2030fe5c5268d79d263
",git fetch https://review.opendev.org/openstack/requirements refs/changes/27/557927/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/files/project-requirements-change.py'],1,0cc95d4428679b0eacd50a6ea5f778abfc5f9516,," head_proj['lower-constraints.txt'],"," head_proj['lower_constraints.txt'],",1,1
openstack%2Fironic~stable%2Fqueens~I379c1335692046ca9423fda5ea68d2f10c065cb5,openstack/ironic,stable/queens,I379c1335692046ca9423fda5ea68d2f10c065cb5,Rework logic handling reserved orphaned nodes in the conductor,MERGED,2018-03-19 11:41:49.000000000,2018-03-30 21:12:57.000000000,2018-03-30 21:12:56.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-19 11:41:49.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/orphan-nodes-389cb6d90c2917ec.yaml', 'ironic/conductor/utils.py', 'ironic/conductor/base_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a90b999a2d8afec0476dbd82d4eb2578ece313d0', 'message': ""Rework logic handling reserved orphaned nodes in the conductor\n\nIf a conductor dies while holding a reservation, the node can get\nstuck in its current state. Currently the conductor that takes\nover the node only cleans it up if it's in the DEPLOYING state.\n\nThis change applies the same logic for all nodes:\n\n1. Reservation is cleared by the conductor that took over the node\n   no matter what provision state.\n\n2. CLEANING is also aborted, nodes are moved to CLEAN FAIL with\n   maintenance on.\n\n3. Target power state is cleared as well.\n\nThe reservation is cleared even for nodes in maintenance mode,\notherwise it's impossible to move them out of maintenance.\n\nChange-Id: I379c1335692046ca9423fda5ea68d2f10c065cb5\nCloses-Bug: #1588901\n(cherry picked from commit 5694b98fc81032933b112528bf08cb6688fa7c1a)\n""}]",0,554202,a90b999a2d8afec0476dbd82d4eb2578ece313d0,14,7,1,10239,,,0,"Rework logic handling reserved orphaned nodes in the conductor

If a conductor dies while holding a reservation, the node can get
stuck in its current state. Currently the conductor that takes
over the node only cleans it up if it's in the DEPLOYING state.

This change applies the same logic for all nodes:

1. Reservation is cleared by the conductor that took over the node
   no matter what provision state.

2. CLEANING is also aborted, nodes are moved to CLEAN FAIL with
   maintenance on.

3. Target power state is cleared as well.

The reservation is cleared even for nodes in maintenance mode,
otherwise it's impossible to move them out of maintenance.

Change-Id: I379c1335692046ca9423fda5ea68d2f10c065cb5
Closes-Bug: #1588901
(cherry picked from commit 5694b98fc81032933b112528bf08cb6688fa7c1a)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/554202/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/orphan-nodes-389cb6d90c2917ec.yaml', 'ironic/conductor/utils.py', 'ironic/conductor/base_manager.py']",6,a90b999a2d8afec0476dbd82d4eb2578ece313d0,bug/1588901-stable/queens,"import six for the provisioning activity to have failed, either one string or a set. if isinstance(provision_state, six.string_types): provision_state = {provision_state} task.node.provision_state not in provision_state):", for the provisioning activity to have failed. task.node.provision_state != provision_state):,193,40
openstack%2Fironic~stable%2Fqueens~Ia448431a2922ea6f7adc27065dbcab1ba8358daa,openstack/ironic,stable/queens,Ia448431a2922ea6f7adc27065dbcab1ba8358daa,Prevent overwriting of last_error on cleaning failures,MERGED,2018-03-27 12:20:20.000000000,2018-03-30 21:12:55.000000000,2018-03-30 21:12:55.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 12:20:20.000000000', 'files': ['ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/no-last-error-overwrite-b90aac3303eb992e.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/26f1e784daa5210f0ca13b2aa49c8462a25bdf32', 'message': 'Prevent overwriting of last_error on cleaning failures\n\nThis changes moves the call to tear_down_cleaning to before we set\nthe last_error and maintenance_reason fields. Thus we avoid\noverwriting last_error by e.g. power actions.\n\nRelated-Bug: #1588901\nChange-Id: Ia448431a2922ea6f7adc27065dbcab1ba8358daa\n(cherry picked from commit b93e5b05c43bd1ce23c7ffa85ee0ef1e8aa582ea)\n'}]",0,556836,26f1e784daa5210f0ca13b2aa49c8462a25bdf32,10,6,1,10239,,,0,"Prevent overwriting of last_error on cleaning failures

This changes moves the call to tear_down_cleaning to before we set
the last_error and maintenance_reason fields. Thus we avoid
overwriting last_error by e.g. power actions.

Related-Bug: #1588901
Change-Id: Ia448431a2922ea6f7adc27065dbcab1ba8358daa
(cherry picked from commit b93e5b05c43bd1ce23c7ffa85ee0ef1e8aa582ea)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/36/556836/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_utils.py', 'ironic/conductor/utils.py', 'releasenotes/notes/no-last-error-overwrite-b90aac3303eb992e.yaml']",3,26f1e784daa5210f0ca13b2aa49c8462a25bdf32,bug/1588901-stable/queens,--- fixes: - | Fixes empty ``last_error`` field on cleaning failures. ,,24,9
openstack%2Fnetworking-baremetal~stable%2Fqueens~I147570646a990a77943cf9203bce380e08618c1b,openstack/networking-baremetal,stable/queens,I147570646a990a77943cf9203bce380e08618c1b,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-08 17:26:11.000000000,2018-03-30 21:05:14.000000000,2018-03-30 21:05:14.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-08 17:26:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/c538ec9278516158373faa6129d7e91f0d888930', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/queens\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I147570646a990a77943cf9203bce380e08618c1b\n""}]",0,542329,c538ec9278516158373faa6129d7e91f0d888930,9,3,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/queens

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I147570646a990a77943cf9203bce380e08618c1b
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/29/542329/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c538ec9278516158373faa6129d7e91f0d888930,create-queens,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages},install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnetworking-baremetal~stable%2Fqueens~Ia85782507b7e5efc326188f86e6cd4f4934affae,openstack/networking-baremetal,stable/queens,Ia85782507b7e5efc326188f86e6cd4f4934affae,Update .gitreview for stable/queens,MERGED,2018-02-08 17:26:08.000000000,2018-03-30 21:05:14.000000000,2018-03-30 21:05:13.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-08 17:26:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-baremetal/commit/11350731a7242db32b8652a69679bce3e160f7d0', 'message': 'Update .gitreview for stable/queens\n\nChange-Id: Ia85782507b7e5efc326188f86e6cd4f4934affae\n'}]",0,542327,11350731a7242db32b8652a69679bce3e160f7d0,11,3,1,22816,,,0,"Update .gitreview for stable/queens

Change-Id: Ia85782507b7e5efc326188f86e6cd4f4934affae
",git fetch https://review.opendev.org/openstack/networking-baremetal refs/changes/27/542327/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,11350731a7242db32b8652a69679bce3e160f7d0,create-queens,defaultbranch=stable/queens,,1,0
openstack%2Fopenstack-helm-infra~master~I469302bc2c6f15cfbe110a2dfb949bee0eaf5cee,openstack/openstack-helm-infra,master,I469302bc2c6f15cfbe110a2dfb949bee0eaf5cee,Add systemd logs to fluentbit configuration,ABANDONED,2018-01-04 19:44:44.000000000,2018-03-30 21:01:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-01-04 19:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/23c79895c1483448d7cd7a3096ec5546c5c01bea', 'message': 'WIP: Add systemd logs to fluentbit configuration\n\nThis adds support for gathering logs from journald. Units included\nare: dockerd\n\nChange-Id: I469302bc2c6f15cfbe110a2dfb949bee0eaf5cee\n'}, {'number': 2, 'created': '2018-01-05 21:18:34.000000000', 'files': ['fluent-logging/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ade732c91fee811266a28ffa0bb225a2d7dda6a5', 'message': 'Add systemd logs to fluentbit configuration\n\nThis adds configuration values to fluentbit for gathering logs\nfor dockerd and the kubelet from journald.\n\nChange-Id: I469302bc2c6f15cfbe110a2dfb949bee0eaf5cee\n'}]",0,531223,ade732c91fee811266a28ffa0bb225a2d7dda6a5,5,1,2,17591,,,0,"Add systemd logs to fluentbit configuration

This adds configuration values to fluentbit for gathering logs
for dockerd and the kubelet from journald.

Change-Id: I469302bc2c6f15cfbe110a2dfb949bee0eaf5cee
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/531223/1 && git format-patch -1 --stdout FETCH_HEAD,['fluent-logging/values.yaml'],1,23c79895c1483448d7cd7a3096ec5546c5c01bea,add_journald_support, - docker_daemon: header: input Name: systemd Path: /var/log/journal Tag: host.* Systemd_Filter: _SYSTEMD_UNIT=docker.service DB: /var/log/journal.db,,7,0
openstack%2Fopenstack-helm~master~Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b,openstack/openstack-helm,master,Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b,Add gate for rbd storage backend.,MERGED,2018-03-23 07:23:07.000000000,2018-03-30 20:35:51.000000000,2018-03-30 20:35:50.000000000,"[{'_account_id': 8181}, {'_account_id': 20466}, {'_account_id': 21830}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26196}]","[{'number': 1, 'created': '2018-03-23 07:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7d3b5fb436ab7700d730a7c91b7235e994302d46', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently, only\nradosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}, {'number': 2, 'created': '2018-03-23 07:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9ef799628b9e85e97d14f8bbbb8e95a89284d2e3', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently,\nonly radosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}, {'number': 3, 'created': '2018-03-26 01:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e9c8166aa2805d39dd399e70b62104545e09815', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently,\nonly radosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}, {'number': 4, 'created': '2018-03-26 01:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7cbd8ce652057251ab61683dae36be356dd9d8a', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently,\nonly radosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}, {'number': 5, 'created': '2018-03-26 01:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c68ac5b28d3a6de3f6271993b1f289f5dc98330c', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently,\nonly radosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}, {'number': 6, 'created': '2018-03-26 05:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/346905609b5803462412a909599f4437dfee219a', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently,\nonly radosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}, {'number': 7, 'created': '2018-03-26 08:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/27d563b25caa2153dc0422ba0f85fd077afeb172', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently,\nonly radosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}, {'number': 8, 'created': '2018-03-27 06:22:20.000000000', 'files': ['tools/deployment/developer/ceph/120-glance.sh', '.zuul.yaml', 'tools/gate/playbooks/dev-deploy-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b5f2d97e03ace4a3d76e84714d6292b9bdd9026', 'message': 'Add gate for rbd storage backend.\n\nThis PS allows to test rbd storage backend when apply glance. Currently,\nonly radosgw is verified after ceph distribution.\n\nChange-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b\nBlueprint: add-rbd-gate\n'}]",4,555668,2b5f2d97e03ace4a3d76e84714d6292b9bdd9026,32,7,8,21830,,,0,"Add gate for rbd storage backend.

This PS allows to test rbd storage backend when apply glance. Currently,
only radosgw is verified after ceph distribution.

Change-Id: Ia3c2c915a2e9a65b09123b8e1c47892069c9ae1b
Blueprint: add-rbd-gate
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/68/555668/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/dev-deploy-ceph-rbd.yaml', 'tools/gate/playbooks/dev-deploy-ceph-radosgw.yaml', '.zuul.yaml', 'tools/deployment/developer/ceph/121-glance-rbd.sh']",4,7d3b5fb436ab7700d730a7c91b7235e994302d46,bp/add-rbd-gate,"#!/bin/bash # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Pull images and lint chart make pull-images glance #NOTE: Deploy command : ${OSH_EXTRA_HELM_ARGS:=""""} GLANCE_BACKEND=""rbd"" # NOTE(portdirect), this could be: radosgw, rbd, swift or pvc helm upgrade --install glance ./glance \ --namespace=openstack \ --set storage=${GLANCE_BACKEND} \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_GLANCE} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Validate Deployment info helm status glance export OS_CLOUD=openstack_helm openstack service list sleep 30 #NOTE(portdirect): Wait for ingress controller to update rules and restart Nginx openstack image list openstack image show 'Cirros 0.3.5 64-bit' ",,254,8
openstack%2Ftripleo-quickstart~master~I52bc78132e68876d35f182cda7c70add8634d32e,openstack/tripleo-quickstart,master,I52bc78132e68876d35f182cda7c70add8634d32e,move virtbmc var to common,MERGED,2018-03-30 15:34:40.000000000,2018-03-30 20:30:46.000000000,2018-03-30 20:30:46.000000000,"[{'_account_id': 9592}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-30 15:34:40.000000000', 'files': ['roles/virtbmc/defaults/main.yml', 'roles/common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c00049a8367fa925d9e68e8fa90e1c6ff6e02162', 'message': ""move virtbmc var to common\n\nThe undercloud-deploy role is failing on\n'enable_vbmc' is undefined\\\n\nChange-Id: I52bc78132e68876d35f182cda7c70add8634d32e\n""}]",0,557944,c00049a8367fa925d9e68e8fa90e1c6ff6e02162,8,4,1,9592,,,0,"move virtbmc var to common

The undercloud-deploy role is failing on
'enable_vbmc' is undefined\

Change-Id: I52bc78132e68876d35f182cda7c70add8634d32e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/44/557944/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/common/defaults/main.yml', 'roles/virtbmc/defaults/main.yml']",2,c00049a8367fa925d9e68e8fa90e1c6ff6e02162,,# moved to common # enable_vbmc: true,enable_vbmc: true,5,1
openstack%2Finstack-undercloud~stable%2Fqueens~Icd95d10d18e5dd8b69ca01c98f00d19da123c85d,openstack/instack-undercloud,stable/queens,Icd95d10d18e5dd8b69ca01c98f00d19da123c85d,Fix help string for subnets option,MERGED,2018-03-28 21:40:32.000000000,2018-03-30 20:30:45.000000000,2018-03-30 20:30:45.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-03-28 21:40:32.000000000', 'files': ['instack_undercloud/undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/bb7f6ad89c730cdc6922b6756fa0c9a75aa8fa3e', 'message': ""Fix help string for subnets option\n\nThe option to enable masquerading for the network\nis 'masquerade', not 'masquerade_network'.\n\nChange-Id: Icd95d10d18e5dd8b69ca01c98f00d19da123c85d\n(cherry picked from commit 3bab1292a9def2486fa6429361360cddba321283)\n""}]",0,557521,bb7f6ad89c730cdc6922b6756fa0c9a75aa8fa3e,15,6,1,24245,,,0,"Fix help string for subnets option

The option to enable masquerading for the network
is 'masquerade', not 'masquerade_network'.

Change-Id: Icd95d10d18e5dd8b69ca01c98f00d19da123c85d
(cherry picked from commit 3bab1292a9def2486fa6429361360cddba321283)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/21/557521/1 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/undercloud.py'],1,bb7f6ad89c730cdc6922b6756fa0c9a75aa8fa3e,fix-option-help-stable/queens, 'gateway and masquerade.' 'masquerade = True', 'gateway and masquerade_network.' 'masquerade_network = True',2,2
openstack%2Ftripleo-quickstart-extras~master~Ifd4bea27b2c5f31b30580c098024ba55c8abda51,openstack/tripleo-quickstart-extras,master,Ifd4bea27b2c5f31b30580c098024ba55c8abda51,Collect dstat on overcloud nodes,MERGED,2018-03-28 17:48:17.000000000,2018-03-30 20:30:44.000000000,2018-03-30 20:30:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 11391}, {'_account_id': 13861}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2018-03-28 17:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2eb137e6a61e6aa39543a8fba4ad65c60ffff180', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before deploy runs.\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}, {'number': 2, 'created': '2018-03-28 20:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/36fe6b10bbeea5b4fe407fb0d9eb0fa7616c931d', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before deploy runs.\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}, {'number': 3, 'created': '2018-03-28 23:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f37f238c5494754283f1ba3c6248b469595753d2', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before deploy runs.\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}, {'number': 4, 'created': '2018-03-29 16:51:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85bfee351c29fea3a79cd4a916c6eaf595ffa2d8', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before deploy runs.\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}, {'number': 5, 'created': '2018-03-29 19:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1d2a145396d8d4c2e4e56b251350029931414d45', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before deploy runs.\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}, {'number': 6, 'created': '2018-03-29 22:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fb58e732256632d0bcc3777909a6fbf018e315be', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before deploy runs.\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}, {'number': 7, 'created': '2018-03-30 13:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4b0fefb6c251cb7caba751dee2461cb72bfdaad9', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before tempest runs.\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}, {'number': 8, 'created': '2018-03-30 14:51:03.000000000', 'files': ['roles/undercloud-deploy/tasks/install-undercloud.yml', 'playbooks/multinode-validate.yml', 'roles/validate-perf/defaults/main.yml', 'playbooks/quickstart-extras-validate.yml', 'roles/validate-perf/tasks/main.yml', 'roles/validate-perf/meta/main.yml', 'roles/extras-common/defaults/main.yml', 'playbooks/baremetal-full-overcloud-validate.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b5e349bc478a5b3bf4bd896224a888843a2fc21b', 'message': 'Collect dstat on overcloud nodes\n\nStart dstat on overcloud before tempest runs.\n\nCloses-Bug: #1674382\n\nChange-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51\n'}]",6,557455,b5e349bc478a5b3bf4bd896224a888843a2fc21b,50,10,8,8175,,,0,"Collect dstat on overcloud nodes

Start dstat on overcloud before tempest runs.

Closes-Bug: #1674382

Change-Id: Ifd4bea27b2c5f31b30580c098024ba55c8abda51
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/55/557455/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/tasks/pre-deploy.yml'],1,2eb137e6a61e6aa39543a8fba4ad65c60ffff180,dstat_overcloud,- name: install the latest version of dstat on overcloud package: name: dstat state: present become: true - name: Run dstat for collecting metrics during 2 hours on overcloud command: > dstat -tcmndrylpg --nocolor --output /var/log/extra/dstat-csv.log 1 7200 \ >/dev/null async: 7200 poll: 0 become: true changed_when: false ,,15,0
openstack%2Foctavia~stable%2Fqueens~Id95c84f2a6f552714f1af955cf027e7f50d90ab0,openstack/octavia,stable/queens,Id95c84f2a6f552714f1af955cf027e7f50d90ab0,Reduce runtime for l7rule too_many_rules test,ABANDONED,2018-03-28 08:48:00.000000000,2018-03-30 20:16:49.000000000,,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-28 08:48:00.000000000', 'files': ['octavia/tests/functional/api/v2/test_l7rule.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f52cfa3f4d3d0521a8dcc4bef974f224688264c', 'message': 'Reduce runtime for l7rule too_many_rules test\n\nRunning 50 times (our max limit for l7 rules) takes a really long time.\nIf we mock the limit to something more reasonable, it will still\nvalidate that we limit correctly.\n\nChange-Id: Id95c84f2a6f552714f1af955cf027e7f50d90ab0\n(cherry picked from commit 388f6a8c4fba552b9d56d926db705b23c391bbf8)\n'}]",0,557197,2f52cfa3f4d3d0521a8dcc4bef974f224688264c,8,5,1,6469,,,0,"Reduce runtime for l7rule too_many_rules test

Running 50 times (our max limit for l7 rules) takes a really long time.
If we mock the limit to something more reasonable, it will still
validate that we limit correctly.

Change-Id: Id95c84f2a6f552714f1af955cf027e7f50d90ab0
(cherry picked from commit 388f6a8c4fba552b9d56d926db705b23c391bbf8)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/97/557197/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/tests/functional/api/v2/test_l7rule.py'],1,2f52cfa3f4d3d0521a8dcc4bef974f224688264c,," @mock.patch('octavia.common.constants.MAX_L7RULES_PER_L7POLICY', new=2)",,1,0
openstack%2Fopenstack-helm~master~I9efe6fe643c636b660dd54b60dfe7c8785d7fec2,openstack/openstack-helm,master,I9efe6fe643c636b660dd54b60dfe7c8785d7fec2,Gate: Update heat templates and enable cinder in ceph dev pipeline,MERGED,2018-03-09 05:02:41.000000000,2018-03-30 20:00:52.000000000,2018-03-30 20:00:52.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-09 05:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87331cfb16f02e0932fdcedbd6347e6da8628f2e', 'message': 'Gate: Update heat templates and enable cinder in ceph dev pipeline\n\nThis PS updates the heat templates, reducing the size of the\nlaunched vm. In addition cinder is enabled in the ceph dev\npipeline, this is possible due to the resources no longer\nconsumed by the test vm.\n\nChange-Id: I9efe6fe643c636b660dd54b60dfe7c8785d7fec2\n'}, {'number': 2, 'created': '2018-03-10 18:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c2614df19ee0cf5db76b9a0e02ad9a3cb5e61fb9', 'message': 'Gate: Update heat templates and enable cinder in ceph dev pipeline\n\nThis PS updates the heat templates, reducing the size of the\nlaunched vm. In addition cinder is enabled in the ceph dev\npipeline, this is possible due to the resources no longer\nconsumed by the test vm.\n\nChange-Id: I9efe6fe643c636b660dd54b60dfe7c8785d7fec2\n'}, {'number': 3, 'created': '2018-03-28 03:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/798a606cb0158c652e8ae15ad1751a249a1ad95e', 'message': 'Gate: Update heat templates and enable cinder in ceph dev pipeline\n\nThis PS updates the heat templates, reducing the size of the\nlaunched vm. In addition cinder is enabled in the ceph dev\npipeline, this is possible due to the resources no longer\nconsumed by the test vm.\n\nChange-Id: I9efe6fe643c636b660dd54b60dfe7c8785d7fec2\n'}, {'number': 4, 'created': '2018-03-30 05:25:08.000000000', 'files': ['tools/gate/files/heat-basic-vm-deployment.yaml', 'tools/gate/files/heat-subnet-pool-deployment.yaml', 'tools/deployment/developer/common/900-use-it.sh', 'tools/gate/files/heat-public-net-deployment.yaml', 'tools/gate/files/heat-basic-bm-deployment.yaml', 'tools/gate/playbooks/dev-deploy-ceph.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a9bd125f698703e894b996ec8df484a11024a8a2', 'message': 'Gate: Update heat templates and enable cinder in ceph dev pipeline\n\nThis PS updates the heat templates, reducing the size of the\nlaunched vm. In addition cinder is enabled in the ceph dev\npipeline, this is possible due to the resources no longer\nconsumed by the test vm.\n\nChange-Id: I9efe6fe643c636b660dd54b60dfe7c8785d7fec2\n'}]",0,551167,a9bd125f698703e894b996ec8df484a11024a8a2,21,4,4,23928,,,0,"Gate: Update heat templates and enable cinder in ceph dev pipeline

This PS updates the heat templates, reducing the size of the
launched vm. In addition cinder is enabled in the ceph dev
pipeline, this is possible due to the resources no longer
consumed by the test vm.

Change-Id: I9efe6fe643c636b660dd54b60dfe7c8785d7fec2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/551167/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/files/heat-basic-vm-deployment.yaml', 'tools/gate/files/heat-subnet-pool-deployment.yaml', 'tools/deployment/developer/common/900-use-it.sh', 'tools/gate/files/heat-basic-bm-deployment.yaml', 'tools/gate/files/heat-public-net-deployment.yaml', 'tools/gate/playbooks/dev-deploy-ceph.yaml']",6,87331cfb16f02e0932fdcedbd6347e6da8628f2e,bug/1754535," - name: Deploy Cinder shell: | set -xe; ./tools/deployment/developer/ceph/130-cinder.sh environment: OSH_EXTRA_HELM_ARGS: ""{{ zuul_osh_extra_helm_args_relative_path | default('') }}"" OSH_INFRA_PATH: ""{{ zuul_osh_infra_relative_path | default('') }}"" args: chdir: ""{{ zuul.project.src_dir }}"""," # - name: Deploy Cinder # shell: | # set -xe; # ./tools/deployment/developer/ceph/130-cinder.sh # args: # chdir: ""{{ zuul.project.src_dir }}""",101,53
openstack%2Fopenstack-ansible-os_keystone~stable%2Fqueens~Id3ccba83a402074af77b62f67754a834d6f765b7,openstack/openstack-ansible-os_keystone,stable/queens,Id3ccba83a402074af77b62f67754a834d6f765b7,Only try to stop services that exist,MERGED,2018-03-16 10:27:50.000000000,2018-03-30 19:58:38.000000000,2018-03-30 19:58:37.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2018-03-16 10:27:50.000000000', 'files': ['tasks/keystone_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/705f58fb0b3bd3599e3265a982d7d6235a2d2d8d', 'message': 'Only try to stop services that exist\n\nTest for the presence of services before trying to stop them.\nAvoids a delay during initial deploy.\n\nChange-Id: Id3ccba83a402074af77b62f67754a834d6f765b7\n(cherry picked from commit 966b08123c4b350eb5a47e0ac301d2f89f85cd74)\n'}]",0,553746,705f58fb0b3bd3599e3265a982d7d6235a2d2d8d,11,5,1,6816,,,0,"Only try to stop services that exist

Test for the presence of services before trying to stop them.
Avoids a delay during initial deploy.

Change-Id: Id3ccba83a402074af77b62f67754a834d6f765b7
(cherry picked from commit 966b08123c4b350eb5a47e0ac301d2f89f85cd74)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/46/553746/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_db_setup.yml'],1,705f58fb0b3bd3599e3265a982d7d6235a2d2d8d,service_test-stable/queens,"# host this task is executed on. Detect the presence of the services. - name: Test if keystone service exists check_mode: yes register: keystone_service_exists with_items: ""{{ keystone_wsgi_program_names }}"" - name: Ensure keystone service is stopped service: name: ""{{ item.name }}"" with_items: ""{{ keystone_service_exists.results }}"" - ""(item.status['LoadState'] == 'loaded' | bool)""","# host this task is executed on. We therefore use failed_when for the task # to catch a failure that's outside the norm. - name: Ensure keystone service is stopped with_items: ""{{ keystone_wsgi_program_names }}"" failed_when: - ""_stop.msg is defined"" - ""'no service or tool' not in _stop.msg"" - ""'systemd could not find' not in _stop.msg"" - ""'Could not find the requested service' not in _stop.msg""",11,9
openstack%2Fcinder~master~I36b2fdb38a66808175b7c66eaaba0c8ff6a9fb2c,openstack/cinder,master,I36b2fdb38a66808175b7c66eaaba0c8ff6a9fb2c,3PAR: Report backend state in service list,MERGED,2018-03-27 06:50:34.000000000,2018-03-30 19:51:48.000000000,2018-03-30 19:51:48.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21517}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23083}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-27 06:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd44828f4cfca4e4f91cc2e1405202de48f5aeb3', 'message': '3Par: Report backend state in service list\n\nThis commit implements report backend state in\nservice list\n\nChange-Id: I36b2fdb38a66808175b7c66eaaba0c8ff6a9fb2c\nImplements: blueprint report-backend-state-in-service-list\n'}, {'number': 2, 'created': '2018-03-27 08:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24f56015de90ff4ded8bbf799be527066b3c9b59', 'message': '3Par: Report backend state in service list\n\nThis commit implements report backend state in\nservice list\n\nChange-Id: I36b2fdb38a66808175b7c66eaaba0c8ff6a9fb2c\nImplements: blueprint report-backend-state-in-service-list\n'}, {'number': 3, 'created': '2018-03-27 09:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b051299a5f4e7e90ab01c341153102363a44c7a', 'message': '3PAR: Report backend state in service list\n\nThis commit implements report backend state in\nservice list\n\nChange-Id: I36b2fdb38a66808175b7c66eaaba0c8ff6a9fb2c\nImplements: blueprint report-backend-state-in-service-list\n'}, {'number': 4, 'created': '2018-03-28 05:35:50.000000000', 'files': ['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'releasenotes/notes/report-backend-state-in-service-list-93e9f2b204b735c0.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c5a8000b9c857521e896e1fc39a77f0fcfc12ccc', 'message': '3PAR: Report backend state in service list\n\nThis commit implements report backend state in\nservice list\n\nChange-Id: I36b2fdb38a66808175b7c66eaaba0c8ff6a9fb2c\nImplements: blueprint report-backend-state-in-service-list\n'}]",15,556765,c5a8000b9c857521e896e1fc39a77f0fcfc12ccc,90,39,4,24952,,,0,"3PAR: Report backend state in service list

This commit implements report backend state in
service list

Change-Id: I36b2fdb38a66808175b7c66eaaba0c8ff6a9fb2c
Implements: blueprint report-backend-state-in-service-list
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/556765/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'releasenotes/notes/report-backend-state-in-service-list-93e9f2b204b735c0.yaml']",3,bd44828f4cfca4e4f91cc2e1405202de48f5aeb3,bp/report-backend-state-in-service-list,--- features: - | Added report-backend-state-in-service-list in 3par driver. ,,12,2
openstack%2Fnova-powervm~master~Ifcd8b67b00760e4dcbda243b6e1a370ea32924fb,openstack/nova-powervm,master,Ifcd8b67b00760e4dcbda243b6e1a370ea32924fb,Introduce (empty) lower_constraints.txt,ABANDONED,2018-03-30 18:39:19.000000000,2018-03-30 19:39:09.000000000,,"[{'_account_id': 10608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 18:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/ef7607f035e8657727eb511a14e478f701d08cab', 'message': 'Introduce (empty) lower-constraints.txt\n\n...because apparently the build requires it to exist now.\n\nChange-Id: Ifcd8b67b00760e4dcbda243b6e1a370ea32924fb\n'}, {'number': 2, 'created': '2018-03-30 18:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/45dfab87c88a04be76131a2780af7eebf90917d7', 'message': 'Introduce (empty) lower_constraints.txt\n\n...because apparently the build requires it to exist now.\n\nChange-Id: Ifcd8b67b00760e4dcbda243b6e1a370ea32924fb\n'}, {'number': 3, 'created': '2018-03-30 18:56:04.000000000', 'files': ['lower_constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/15785223ac50eb85e6ad9fe4056282e17c2139dc', 'message': 'Introduce (empty) lower_constraints.txt\n\n...because apparently the build requires it to exist now.\n\nChange-Id: Ifcd8b67b00760e4dcbda243b6e1a370ea32924fb\n'}]",0,557982,15785223ac50eb85e6ad9fe4056282e17c2139dc,8,2,3,14070,,,0,"Introduce (empty) lower_constraints.txt

...because apparently the build requires it to exist now.

Change-Id: Ifcd8b67b00760e4dcbda243b6e1a370ea32924fb
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/82/557982/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ef7607f035e8657727eb511a14e478f701d08cab,lower-constraints-empty,,,0,0
openstack%2Fopenstack-ansible-tests~master~Ibc191f6fc33ca9a1807c01a23f476c4dfe225f33,openstack/openstack-ansible-tests,master,Ibc191f6fc33ca9a1807c01a23f476c4dfe225f33,Disable developer mode for tempest role tests,MERGED,2018-03-29 14:16:10.000000000,2018-03-30 19:13:15.000000000,2018-03-30 19:13:15.000000000,"[{'_account_id': 6816}, {'_account_id': 7307}, {'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 14:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/bdf70badd55584e8707b1c4b2416525bafdc4155', 'message': ""[TEST] Disable developer mode for tempest\n\nGiven that tempest is in upper-constraints and its releases\nare published to pip, we don't need to use developer mode\nfor our tests. Given that we're not really in a position\nto closely track every move the QA team makes, perhaps it\nmakes better sense for us to just used the released versions\nfor our tests so that we only have to deal with those changes\nwhenever they release, implying the confidence that they have\ncompleted their implementation changes.\n\nChange-Id: Ibc191f6fc33ca9a1807c01a23f476c4dfe225f33\n""}, {'number': 2, 'created': '2018-03-29 18:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6b21b82f7755b27cdc0fc3792a490515747cd1ae', 'message': ""Disable developer mode for tempest role tests\n\nGiven that tempest is in upper-constraints and its releases\nare published to pip, we don't need to use developer mode\nfor our tests. Also, given that we're not really in a position\nto closely track every move the QA team makes, perhaps it\nmakes better sense for us to just used the released versions\nfor our tests so that we only have to deal with those changes\nwhenever they release, implying the confidence that they have\ncompleted their implementation changes.\n\nChange-Id: Ibc191f6fc33ca9a1807c01a23f476c4dfe225f33\n""}, {'number': 3, 'created': '2018-03-29 18:53:50.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/8d10757619e4e243f0e65d85cf0730c48047562b', 'message': ""Disable developer mode for tempest role tests\n\nGiven that tempest is in upper-constraints and its releases\nare published to pip, we don't need to use developer mode\nfor our tests. Also, given that we're not really in a position\nto closely track every move the QA team makes, perhaps it\nmakes better sense for us to just used the released versions\nfor our tests so that we only have to deal with those changes\nwhenever they release, implying the confidence that they have\ncompleted their implementation changes.\n\nChange-Id: Ibc191f6fc33ca9a1807c01a23f476c4dfe225f33\n""}]",0,557720,8d10757619e4e243f0e65d85cf0730c48047562b,16,5,3,6816,,,0,"Disable developer mode for tempest role tests

Given that tempest is in upper-constraints and its releases
are published to pip, we don't need to use developer mode
for our tests. Also, given that we're not really in a position
to closely track every move the QA team makes, perhaps it
makes better sense for us to just used the released versions
for our tests so that we only have to deal with those changes
whenever they release, implying the confidence that they have
completed their implementation changes.

Change-Id: Ibc191f6fc33ca9a1807c01a23f476c4dfe225f33
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/20/557720/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,bdf70badd55584e8707b1c4b2416525bafdc4155,use-released-tempest,tempest_developer_mode: False tempest_venv_download: False,tempest_developer_mode: True,2,1
openstack%2Fnova~stable%2Fpike~Ib2abf73166598ff14fce4e935efe15eeea0d4f7d,openstack/nova,stable/pike,Ib2abf73166598ff14fce4e935efe15eeea0d4f7d,Always deallocate networking before reschedule if using Neutron,MERGED,2018-03-23 19:28:45.000000000,2018-03-30 19:11:42.000000000,2018-03-30 19:11:42.000000000,"[{'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 25113}, {'_account_id': 26515}, {'_account_id': 26580}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-03-23 19:28:45.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad20a87028523f0a1fdf2e9319fac4537c9fbbf3', 'message': ""Always deallocate networking before reschedule if using Neutron\n\nWhen a server build fails on a selected compute host, the compute\nservice will cast to conductor which calls the scheduler to select\nanother host to attempt the build if retries are not exhausted.\n\nWith commit 08d24b733ee9f4da44bfbb8d6d3914924a41ccdc, if retries\nare exhausted or the scheduler raises NoValidHost, conductor will\ndeallocate networking for the instance. In the case of neutron, this\nmeans unbinding any ports that the user provided with the server\ncreate request and deleting any ports that nova-compute created during\nthe allocate_for_instance() operation during server build.\n\nWhen an instance is deleted, it's networking is deallocated in the same\nway - unbind pre-existing ports, delete ports that nova created.\n\nThe problem is when rescheduling from a failed host, if we successfully\nreschedule and build on a secondary host, any ports created from the\noriginal host are not cleaned up until the instance is deleted. For\nIronic or SR-IOV ports, those are always deallocated.\n\nThe ComputeDriver.deallocate_networks_on_reschedule() method defaults\nto False just so that the Ironic driver could override it, but really\nwe should always cleanup neutron ports before rescheduling.\n\nLooking over bug report history, there are some mentions of different\nnetworking backends handling reschedules with multiple ports differently,\nin that sometimes it works and sometimes it fails. Regardless of the\nnetworking backend, however, we are at worst taking up port quota for\nthe tenant for ports that will not be bound to whatever host the instance\nends up on.\n\nThere could also be legacy reasons for this behavior with nova-network,\nso that is side-stepped here by just restricting this check to whether\nor not neutron is being used. When we eventually remove nova-network we\ncan then also remove the deallocate_networks_on_reschedule() method and\nSR-IOV check.\n\nNOTE(mriedem): There are a couple of changes to the unit test for code\nthat didn't exist in Pike, due to the change for alternate hosts\nIae904afb6cb4fcea8bb27741d774ffbe986a5fb4 and the change to pass the\nrequest spec to conductor Ie5233bd481013413f12e55201588d37a9688ae78.\n\nChange-Id: Ib2abf73166598ff14fce4e935efe15eeea0d4f7d\nCloses-Bug: #1597596\n(cherry picked from commit 3a503a8f2b934f19049531c5c92130ca7cdd6a7f)\n(cherry picked from commit 9203326f84cd35243e9e6a73cd5fac62af27aaf5)\n""}]",0,555907,ad20a87028523f0a1fdf2e9319fac4537c9fbbf3,22,13,1,6873,,,0,"Always deallocate networking before reschedule if using Neutron

When a server build fails on a selected compute host, the compute
service will cast to conductor which calls the scheduler to select
another host to attempt the build if retries are not exhausted.

With commit 08d24b733ee9f4da44bfbb8d6d3914924a41ccdc, if retries
are exhausted or the scheduler raises NoValidHost, conductor will
deallocate networking for the instance. In the case of neutron, this
means unbinding any ports that the user provided with the server
create request and deleting any ports that nova-compute created during
the allocate_for_instance() operation during server build.

When an instance is deleted, it's networking is deallocated in the same
way - unbind pre-existing ports, delete ports that nova created.

The problem is when rescheduling from a failed host, if we successfully
reschedule and build on a secondary host, any ports created from the
original host are not cleaned up until the instance is deleted. For
Ironic or SR-IOV ports, those are always deallocated.

The ComputeDriver.deallocate_networks_on_reschedule() method defaults
to False just so that the Ironic driver could override it, but really
we should always cleanup neutron ports before rescheduling.

Looking over bug report history, there are some mentions of different
networking backends handling reschedules with multiple ports differently,
in that sometimes it works and sometimes it fails. Regardless of the
networking backend, however, we are at worst taking up port quota for
the tenant for ports that will not be bound to whatever host the instance
ends up on.

There could also be legacy reasons for this behavior with nova-network,
so that is side-stepped here by just restricting this check to whether
or not neutron is being used. When we eventually remove nova-network we
can then also remove the deallocate_networks_on_reschedule() method and
SR-IOV check.

NOTE(mriedem): There are a couple of changes to the unit test for code
that didn't exist in Pike, due to the change for alternate hosts
Iae904afb6cb4fcea8bb27741d774ffbe986a5fb4 and the change to pass the
request spec to conductor Ie5233bd481013413f12e55201588d37a9688ae78.

Change-Id: Ib2abf73166598ff14fce4e935efe15eeea0d4f7d
Closes-Bug: #1597596
(cherry picked from commit 3a503a8f2b934f19049531c5c92130ca7cdd6a7f)
(cherry picked from commit 9203326f84cd35243e9e6a73cd5fac62af27aaf5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/555907/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,ad20a87028523f0a1fdf2e9319fac4537c9fbbf3,bug/1597596," # NOTE(mriedem): Always deallocate networking when using Neutron. # This is to unbind any ports that the user supplied in the server # create request, or delete any ports that nova created which were # meant to be bound to this host. This check intentionally bypasses # the result of deallocate_networks_on_reschedule because the # default value in the driver is False, but that method was really # only meant for Ironic and should be removed when nova-network is # removed (since is_neutron() will then always be True). utils.is_neutron() or",,60,0
openstack%2Ftripleo-heat-templates~master~Id20984e9992898a0910fe048bed89464f29fcacb,openstack/tripleo-heat-templates,master,Id20984e9992898a0910fe048bed89464f29fcacb,Adding parameters to Enable or Disbale Nuage VRS and Metadata,ABANDONED,2018-03-30 03:25:19.000000000,2018-03-30 19:08:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-30 03:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f69a8b3d0620fb74420c823bde65167c62ff492a', 'message': 'Adding parameters to Enable or Disbale Nuage VRS and Metadata\n\nUsing this change, users will have a option to enable or disable\nNuage VRS and Nuage Metadata Agent on overcloud nodes.\n\nChange-Id: Id20984e9992898a0910fe048bed89464f29fcacb\n'}, {'number': 2, 'created': '2018-03-30 03:26:45.000000000', 'files': ['puppet/services/neutron-plugin-ml2-nuage.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63a5c3bc62b9b4773af122bcfcae5bb8aa01ce3b', 'message': 'Adding parameters to Enable or Disbale Nuage VRS and Metadata\n\nUsing this change, users will have a option to enable or disable\nNuage VRS and Nuage Metadata Agent on overcloud nodes.\n\nChange-Id: Id20984e9992898a0910fe048bed89464f29fcacb\nDepends-On: Ica4564b105d49c9713a393e8efe848c4bcd42251\n'}]",0,557877,63a5c3bc62b9b4773af122bcfcae5bb8aa01ce3b,5,2,2,27069,,,0,"Adding parameters to Enable or Disbale Nuage VRS and Metadata

Using this change, users will have a option to enable or disable
Nuage VRS and Nuage Metadata Agent on overcloud nodes.

Change-Id: Id20984e9992898a0910fe048bed89464f29fcacb
Depends-On: Ica4564b105d49c9713a393e8efe848c4bcd42251
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/557877/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/neutron-plugin-ml2-nuage.yaml'],1,f69a8b3d0620fb74420c823bde65167c62ff492a,, NuageControllerEnableMetadataAgent: description: Enbale Nuage Metadata Agent on Controller or not type: boolean default: false NuageControllerEnableVrs: description: Enbale Nuage VRS on Controller or not type: boolean default: false tripleo::profile::base::neutron::agents::nuage::enable_metadata: {get_param: NuageControllerEnableMetadataAgent} tripleo::profile::base::neutron::agents::nuage::enable_vrs: {get_param: NuageControllerEnableVrs},,12,0
openstack%2Fkolla~master~I89f1c4bd741de9ba184f14fcbcb708636616e420,openstack/kolla,master,I89f1c4bd741de9ba184f14fcbcb708636616e420,Use separate sudoers for ironic conductor modprobe,MERGED,2017-03-31 13:43:57.000000000,2018-03-30 19:07:11.000000000,2017-04-04 06:34:43.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 7488}, {'_account_id': 13039}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-03-31 13:43:57.000000000', 'files': ['docker/ironic/ironic-base/ironic_sudoers', 'docker/ironic/ironic-conductor/iscsi_tcp_sudoers', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/ironic/ironic-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c3336c8c9c1a77964041730973b4839c9a4c441', 'message': 'Use separate sudoers for ironic conductor modprobe\n\nThe original fix (8b101b28a1040fd6b4753c09364106274d7e6e09) for bug\n1676466 added unnecessary entries to the sudoers file in the\nironic-base image. These included a rootwrap entry pointing to the\nvirtualenv used by source type images (not present in binary type\nimages) and a modprobe iscsi_tcp which is only required by the\nironic-conductor image.\n\nThis change adds a single sudoers file for the iscsi_tcp modprobe\nto the ironic-conductor image and reverts to the common pattern of\nadding a sudoers file to ironic-base only for source type images.\n\nChange-Id: I89f1c4bd741de9ba184f14fcbcb708636616e420\nCloses-bug: #1678143\nRelated-bug: #1676466\nRelated-bug: #1667864\n'}]",2,452207,1c3336c8c9c1a77964041730973b4839c9a4c441,21,6,1,14826,,,0,"Use separate sudoers for ironic conductor modprobe

The original fix (8b101b28a1040fd6b4753c09364106274d7e6e09) for bug
1676466 added unnecessary entries to the sudoers file in the
ironic-base image. These included a rootwrap entry pointing to the
virtualenv used by source type images (not present in binary type
images) and a modprobe iscsi_tcp which is only required by the
ironic-conductor image.

This change adds a single sudoers file for the iscsi_tcp modprobe
to the ironic-conductor image and reverts to the common pattern of
adding a sudoers file to ironic-base only for source type images.

Change-Id: I89f1c4bd741de9ba184f14fcbcb708636616e420
Closes-bug: #1678143
Related-bug: #1676466
Related-bug: #1667864
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/452207/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ironic/ironic-base/ironic_sudoers', 'docker/ironic/ironic-conductor/iscsi_tcp_sudoers', 'docker/ironic/ironic-conductor/Dockerfile.j2', 'docker/ironic/ironic-base/Dockerfile.j2']",4,1c3336c8c9c1a77964041730973b4839c9a4c441,bug/1678143,{% endif %} ,{% endif %} ,7,4
openstack%2Fpuppet-tripleo~stable%2Fqueens~Ica4564b105d49c9713a393e8efe848c4bcd42251,openstack/puppet-tripleo,stable/queens,Ica4564b105d49c9713a393e8efe848c4bcd42251,Conditionally include Nuage VRS and Nuage Metadata Agent,ABANDONED,2018-03-29 12:02:35.000000000,2018-03-30 19:06:23.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-29 12:02:35.000000000', 'files': ['manifests/profile/base/neutron/agents/nuage.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ed6c053491ce160748434edd052b61a73f60967b', 'message': 'Conditionally include Nuage VRS and Nuage Metadata Agent\n\nUsing this change, users can conditionally include\nNuage VRS and Nuage Metadata Agent\n\nChange-Id: Ica4564b105d49c9713a393e8efe848c4bcd42251\n(cherry picked from commit fd3c3e504dac590e3b87e1240ebd0971d4e28bb9)\n'}]",0,557683,ed6c053491ce160748434edd052b61a73f60967b,5,3,1,27069,,,0,"Conditionally include Nuage VRS and Nuage Metadata Agent

Using this change, users can conditionally include
Nuage VRS and Nuage Metadata Agent

Change-Id: Ica4564b105d49c9713a393e8efe848c4bcd42251
(cherry picked from commit fd3c3e504dac590e3b87e1240ebd0971d4e28bb9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/83/557683/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/neutron/agents/nuage.pp'],1,ed6c053491ce160748434edd052b61a73f60967b,,"# [*enable_vrs*] # (Optional) Enable VRS or not # Defaults to true # # [*enable_metadata*] # (Optional) Enable Nuage Metadata or not # Defaults to true # $enable_vrs = true, $enable_metadata = true, if $enable_vrs { include ::nuage::vrs } if $enable_metadata { class { '::nuage::metadataagent': nova_os_tenant_name => $nova_os_tenant_name, nova_os_password => $nova_os_password, nova_metadata_ip => $nova_metadata_ip, nova_auth_ip => $nova_auth_ip, }"," include ::nuage::vrs class { '::nuage::metadataagent': nova_os_tenant_name => $nova_os_tenant_name, nova_os_password => $nova_os_password, nova_metadata_ip => $nova_metadata_ip, nova_auth_ip => $nova_auth_ip,",20,6
openstack%2Fcinder~master~I383304c78fadd43eb97126b7911c524c6e6cc429,openstack/cinder,master,I383304c78fadd43eb97126b7911c524c6e6cc429,Imported Translations from Zanata,MERGED,2018-03-29 07:41:45.000000000,2018-03-30 18:59:54.000000000,2018-03-29 13:11:49.000000000,"[{'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-03-29 07:41:45.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/266522696c1f2a689dcbd67a30358b9f21f6ea50', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I383304c78fadd43eb97126b7911c524c6e6cc429\n'}]",0,557642,266522696c1f2a689dcbd67a30358b9f21f6ea50,32,28,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I383304c78fadd43eb97126b7911c524c6e6cc429
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/557642/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",12,266522696c1f2a689dcbd67a30358b9f21f6ea50,zanata/translations,"""POT-Creation-Date: 2018-03-29 04:10+0000\n""","""POT-Creation-Date: 2018-03-20 18:45+0000\n""msgid """" ""Key names can only contain alphanumeric characters, underscores, periods, "" ""colons and hyphens."" msgstr """" ""Názvy klíče mohou obsahovat pouze alfanumerické znaky, podtržítka, tečky, "" ""dvojtečky a pomlčky."" msgid ""Request body empty"" msgstr ""Tělo žádosti je prázdné"" ",58,123
openstack%2Fnova-powervm~master~Icaa125418a2590103147572212978b3d850aa4dd,openstack/nova-powervm,master,Icaa125418a2590103147572212978b3d850aa4dd,Specify UUIDs in VIOS mocks for FeedTasks,MERGED,2018-03-30 18:13:17.000000000,2018-03-30 18:49:03.000000000,2018-03-30 18:49:03.000000000,"[{'_account_id': 10608}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 18:13:17.000000000', 'files': ['nova_powervm/tests/virt/powervm/disk/test_ssp.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/b925fcba37dc991e8b8dcbde65347a12022481dd', 'message': 'Specify UUIDs in VIOS mocks for FeedTasks\n\nThis is a weird one.  Bear with me.\n\nA change in oslotest [1] introduced some mock classes with underscores.\n\nThis was harmless until nova started using them (indirectly) [2].\n\nThe effect was that str()s of mocked attributes could now contain\nunderscores, which they didn\'t previously.\n\nThere\'s one line of pypowervm code [3] that\'s splitting on underscore in\nsuch a way that this new underscore broke six of the nova-powervm unit\ntests with symptoms like:\n\n  File ""/home/zuul/src/git.openstack.org/openstack/nova-powervm/.tox/py27/local/lib/python2.7/site-packages/pypowervm/utils/transaction.py"", line 745, in _process_subtask_rets\n    wrapper=subtask_rets[\'wrapper_%s\' % uuid])\nKeyError: ""wrapper_AutospecMock name=\'mock.uuid\' id=\'139651774598224\'>""\n\nAn oslotest patch [4] has been proposed to remove the underscores.\n\nBut the other solution (this patch) was for us to find those pesky\nmocked attributes and put real strings in \'em, to avoid that underscore\naltogether.\n\n[1] I0e4a55fbf4c1d175726ca22b664e240849a99856\n[2] I3636833962c905faa0f144c7fdc4833037324d31\n[3] https://github.com/powervm/pypowervm/blob/release/1.1.13/pypowervm/utils/transaction.py#L742\n[4] I0e0bb5629f63ec18af27b26cb5675ff88f041c00\n\nChange-Id: Icaa125418a2590103147572212978b3d850aa4dd\n'}]",0,557975,b925fcba37dc991e8b8dcbde65347a12022481dd,7,3,1,14070,,,0,"Specify UUIDs in VIOS mocks for FeedTasks

This is a weird one.  Bear with me.

A change in oslotest [1] introduced some mock classes with underscores.

This was harmless until nova started using them (indirectly) [2].

The effect was that str()s of mocked attributes could now contain
underscores, which they didn't previously.

There's one line of pypowervm code [3] that's splitting on underscore in
such a way that this new underscore broke six of the nova-powervm unit
tests with symptoms like:

  File ""/home/zuul/src/git.openstack.org/openstack/nova-powervm/.tox/py27/local/lib/python2.7/site-packages/pypowervm/utils/transaction.py"", line 745, in _process_subtask_rets
    wrapper=subtask_rets['wrapper_%s' % uuid])
KeyError: ""wrapper_AutospecMock name='mock.uuid' id='139651774598224'>""

An oslotest patch [4] has been proposed to remove the underscores.

But the other solution (this patch) was for us to find those pesky
mocked attributes and put real strings in 'em, to avoid that underscore
altogether.

[1] I0e4a55fbf4c1d175726ca22b664e240849a99856
[2] I3636833962c905faa0f144c7fdc4833037324d31
[3] https://github.com/powervm/pypowervm/blob/release/1.1.13/pypowervm/utils/transaction.py#L742
[4] I0e0bb5629f63ec18af27b26cb5675ff88f041c00

Change-Id: Icaa125418a2590103147572212978b3d850aa4dd
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/75/557975/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/tests/virt/powervm/disk/test_ssp.py', 'nova_powervm/tests/virt/powervm/test_driver.py']",2,b925fcba37dc991e8b8dcbde65347a12022481dd,fix-uuids," self.stg_ftsk = pvm_tx.FeedTask( 'fake', [mock.Mock(spec=pvm_vios.VIOS, uuid='uuid')])"," self.stg_ftsk = pvm_tx.FeedTask('fake', [mock.Mock(spec=pvm_vios.VIOS)])",3,3
openstack%2Fironic~master~I3ba63cdd6805dda100cc56e5380b351f6c32db21,openstack/ironic,master,I3ba63cdd6805dda100cc56e5380b351f6c32db21,WIP: pass global_request_id to cinder/neutron,ABANDONED,2017-06-09 13:01:30.000000000,2018-03-30 18:37:57.000000000,,"[{'_account_id': 2750}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-06-09 13:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8872dbdb05cde87ea158eb39485a0a350898e1a', 'message': 'WIP: pass global_request_id to cinder/neutron\n\nThis is an attempt to pass the global request id down to cinder /\nneutron by pulling it out of the current context.\n\nChange-Id: I3ba63cdd6805dda100cc56e5380b351f6c32db21\n'}, {'number': 2, 'created': '2017-06-12 14:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed421f14261e2ffc6697837398b2722a3fe93fc0', 'message': 'WIP: pass global_request_id to cinder/neutron\n\nThis is an attempt to pass the global request id down to cinder /\nneutron by pulling it out of the current context.\n\nChange-Id: I3ba63cdd6805dda100cc56e5380b351f6c32db21\n'}, {'number': 3, 'created': '2017-06-12 18:14:29.000000000', 'files': ['ironic/common/cinder.py', 'ironic/common/neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/526e3ebb44a88d65a95c40bffaa9c911e87b7e12', 'message': 'WIP: pass global_request_id to cinder/neutron\n\nThis is an attempt to pass the global request id down to cinder /\nneutron by pulling it out of the current context.\n\nChange-Id: I3ba63cdd6805dda100cc56e5380b351f6c32db21\n'}]",0,472666,526e3ebb44a88d65a95c40bffaa9c911e87b7e12,19,5,3,2750,,,0,"WIP: pass global_request_id to cinder/neutron

This is an attempt to pass the global request id down to cinder /
neutron by pulling it out of the current context.

Change-Id: I3ba63cdd6805dda100cc56e5380b351f6c32db21
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/472666/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/cinder.py', 'ironic/common/neutron.py']",2,e8872dbdb05cde87ea158eb39485a0a350898e1a,global_request_id,from oslo_context import context current_ctx = context.get_current() global_id = None if current_ctx is not None: global_id = current_ctx.global_id params['global_request_id'] = global_id ,,16,0
openstack%2Fnova~stable%2Fpike~I7a9de211ecfaa7f2816fbf8bcd73ebbdd990643c,openstack/nova,stable/pike,I7a9de211ecfaa7f2816fbf8bcd73ebbdd990643c,Return 400 when compute host is not found,MERGED,2018-03-08 06:24:09.000000000,2018-03-30 18:37:04.000000000,2018-03-30 18:37:04.000000000,"[{'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 18339}, {'_account_id': 20733}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-08 06:24:09.000000000', 'files': ['nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ebdd91d463fd9f5bee8598a0f3358c8ce440716', 'message': 'Return 400 when compute host is not found\n\nPreviously user was getting a 500 error code for ComputeHostNotFound\nif they are using latest microversion that does live migration in\nasync. This patches changes return response to 400 as 500 internal\nserver error should not be returned to the user for failures due to\nuser error that can be fixed by changing to request on client side.\n\nChange-Id: I7a9de211ecfaa7f2816fbf8bcd73ebbdd990643c\ncloses-bug:1643623\n(cherry picked from commit fb68fd12e2fd6e9686ad45c9875508bd9fa0df91)\n'}]",0,550707,8ebdd91d463fd9f5bee8598a0f3358c8ce440716,27,12,1,20733,,,0,"Return 400 when compute host is not found

Previously user was getting a 500 error code for ComputeHostNotFound
if they are using latest microversion that does live migration in
async. This patches changes return response to 400 as 500 internal
server error should not be returned to the user for failures due to
user error that can be fixed by changing to request on client side.

Change-Id: I7a9de211ecfaa7f2816fbf8bcd73ebbdd990643c
closes-bug:1643623
(cherry picked from commit fb68fd12e2fd6e9686ad45c9875508bd9fa0df91)
",git fetch https://review.opendev.org/openstack/nova refs/changes/07/550707/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/migrate_server.py', 'nova/tests/unit/api/openstack/compute/test_migrate_server.py']",2,8ebdd91d463fd9f5bee8598a0f3358c8ce440716,bug/1643623-stable/queens-stable/pike," def test_migrate_live_compute_host_not_found(self): exc = exception.ComputeHostNotFound( reason=""Compute host %(host)s could not be found."", host='hostname') self.mox.StubOutWithMock(self.compute_api, 'live_migrate') instance = self._stub_instance_get() self.compute_api.live_migrate(self.context, instance, None, self.disk_over_commit, 'hostname', self.force, self.async).AndRaise(exc) self.mox.ReplayAll() body = {'os-migrateLive': {'host': 'hostname', 'block_migration': 'auto'}} self.assertRaises(webob.exc.HTTPBadRequest, self.controller._migrate_live, self.req, instance.uuid, body=body) def test_migrate_live_unexpected_error(self): exc = exception.InvalidHypervisorType( reason=""The supplied hypervisor type of is invalid."")"," def test_migrate_live_unexpected_error(self): exc = exception.NoValidHost(reason=""No valid host found"")",22,2
openstack%2Fironic~master~I3bc7dbe5f65f10fcb5c6300c1ba09a7a8e8e4c83,openstack/ironic,master,I3bc7dbe5f65f10fcb5c6300c1ba09a7a8e8e4c83,Support setting inbound global-request-id,MERGED,2017-06-08 13:20:44.000000000,2018-03-30 18:27:23.000000000,2018-03-30 18:27:23.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11297}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-06-08 13:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9a18ffe1a49da58379aeef6670d1dd1a0516f4ba', 'message': 'WIP: support setting inbound global-request-id\n\noslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I3bc7dbe5f65f10fcb5c6300c1ba09a7a8e8e4c83\n'}, {'number': 2, 'created': '2017-06-09 12:26:45.000000000', 'files': ['ironic/api/hooks.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0eb138ce2f75ec66733d6890be8ef92784afae81', 'message': ""Support setting inbound global-request-id\n\nAs ironic doesn't use oslo.middleware for accepting the inbound\nx-openstack-request-id header, this produces the same result as\noslo.middleware does, including the enforcement that it's well formed,\nand sets it into the same bit of request environment that will make it\npossible for oslo.context to extract it.\n\nThis would allow Nova to start calling Ironic with it's request id,\nwhich would show up in Ironic logs as the global_request_id.\n\noslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42\n\nChange-Id: I3bc7dbe5f65f10fcb5c6300c1ba09a7a8e8e4c83\n""}]",2,472258,0eb138ce2f75ec66733d6890be8ef92784afae81,31,13,2,2750,,,0,"Support setting inbound global-request-id

As ironic doesn't use oslo.middleware for accepting the inbound
x-openstack-request-id header, this produces the same result as
oslo.middleware does, including the enforcement that it's well formed,
and sets it into the same bit of request environment that will make it
possible for oslo.context to extract it.

This would allow Nova to start calling Ironic with it's request id,
which would show up in Ironic logs as the global_request_id.

oslo spec I65de8261746b25d45e105394f4eeb95b9cb3bd42

Change-Id: I3bc7dbe5f65f10fcb5c6300c1ba09a7a8e8e4c83
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/472258/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/api/hooks.py'],1,9a18ffe1a49da58379aeef6670d1dd1a0516f4ba,global_request_id,"INBOUND_HEADER = 'X-Openstack-Request-Id' GLOBAL_REQ_ID = 'openstack.global_request_id' ID_FORMAT = (r'^req-[a-f0-9]{8}-[a-f0-9]{4}-' r'[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$') # set the global_request_id if we have an inbound request id gr_id = state.request.headers.get(INBOUND_HEADER, """") if re.match(ID_FORMAT, gr_id): state.request.environ[GLOBAL_REQ_ID] = gr_id ",,10,0
openstack%2Fnova-powervm~master~Ib71e043d3434a564992b6bf6e05429e448a26326,openstack/nova-powervm,master,Ib71e043d3434a564992b6bf6e05429e448a26326,DNM: Testing zuul,ABANDONED,2018-03-30 16:06:33.000000000,2018-03-30 18:22:04.000000000,,"[{'_account_id': 8213}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 16:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/2e985cf910cad8b30430393bfc661a2a86b44212', 'message': 'DNM: Testing zuul\n\nChange-Id: Ib71e043d3434a564992b6bf6e05429e448a26326\n'}, {'number': 2, 'created': '2018-03-30 17:59:57.000000000', 'files': ['nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/dfb9cc768f6e0620e86a017a05baee7c823cc9ca', 'message': 'DNM: Testing zuul\n\nDepends-On: https://review.openstack.org/557974\n\nChange-Id: Ib71e043d3434a564992b6bf6e05429e448a26326\n'}]",0,557956,dfb9cc768f6e0620e86a017a05baee7c823cc9ca,6,3,2,14070,,,0,"DNM: Testing zuul

Depends-On: https://review.openstack.org/557974

Change-Id: Ib71e043d3434a564992b6bf6e05429e448a26326
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/56/557956/2 && git format-patch -1 --stdout FETCH_HEAD,['nova_powervm/tests/virt/powervm/test_driver.py'],1,2e985cf910cad8b30430393bfc661a2a86b44212,test-tox,zero = 0,,1,0
openstack%2Fsenlin~master~I586df9689585dad8fe461b256ae6a1de084f67f6,openstack/senlin,master,I586df9689585dad8fe461b256ae6a1de084f67f6,Fix webhook trigger V query param to be required,MERGED,2018-03-29 18:43:48.000000000,2018-03-30 18:19:48.000000000,2018-03-30 18:19:48.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-03-29 18:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c12a0c86f916620608b72899d5e320b322c177d3', 'message': 'Fix webhook trigger V query param to be required\n\n* Raise webob.exc.HTTPBadRequest if webhook trigger URL is missing V\nquery param\n* Update API docs to show V query parameter as required\n\nCloses-Bug: 1759663\n\nChange-Id: I586df9689585dad8fe461b256ae6a1de084f67f6\nSigned-off-by: Duc Truong <dtruong@blizzard.com>\n'}, {'number': 2, 'created': '2018-03-29 20:21:51.000000000', 'files': ['api-ref/source/parameters.yaml', 'senlin/api/middleware/webhook.py', 'senlin/tests/unit/api/middleware/test_webhook.py', 'api-ref/source/webhooks.inc'], 'web_link': 'https://opendev.org/openstack/senlin/commit/fbc788c0fc3c34442e26c9c26640fc362236f1d7', 'message': 'Fix webhook trigger V query param to be required\n\n* Raise webob.exc.HTTPBadRequest if webhook trigger URL is missing V\nquery param\n* Update API docs to show V query parameter as required\n\nCloses-Bug: 1759663\n\nChange-Id: I586df9689585dad8fe461b256ae6a1de084f67f6\nSigned-off-by: Duc Truong <dtruong@blizzard.com>\n'}]",0,557798,fbc788c0fc3c34442e26c9c26640fc362236f1d7,11,5,2,27224,,,0,"Fix webhook trigger V query param to be required

* Raise webob.exc.HTTPBadRequest if webhook trigger URL is missing V
query param
* Update API docs to show V query parameter as required

Closes-Bug: 1759663

Change-Id: I586df9689585dad8fe461b256ae6a1de084f67f6
Signed-off-by: Duc Truong <dtruong@blizzard.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/98/557798/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'senlin/api/middleware/webhook.py', 'senlin/tests/unit/api/middleware/test_webhook.py']",3,c12a0c86f916620608b72899d5e320b322c177d3,bug/1759663,"import six import webob def test_parse_url_version_provided_no_key(self): # The structure /<webhook_id>/trigger?V=1 should be valid self.url_slices.pop('05_params') res = self.middleware._parse_url(self._generate_url()) self.assertEqual(('WEBHOOK_ID', {}), res) def test_parse_url_no_version_provided_no_key_provided(self): # The structure /<webhook_id>/trigger should be invalid # because version is missing self.url_slices.pop('04_version') self.url_slices.pop('05_params') ex = self.assertRaises(webob.exc.HTTPBadRequest, self.middleware._parse_url, self._generate_url()) self.assertEqual(""V query parameter is required in webhook trigger "" ""URL"", six.text_type(ex)) def test_parse_url_no_version_provided_key_provided(self): # The structure /<webhook_id>/trigger?key=value should be invalid # because version is missing self.url_slices.pop('04_version') self.url_slices.pop('05_params') self.url_slices['05_params'] = 'key=TEST_KEY' ex = self.assertRaises(webob.exc.HTTPBadRequest, self.middleware._parse_url, self._generate_url()) self.assertEqual(""V query parameter is required in webhook trigger "" ""URL"", six.text_type(ex)) ", def test_parse_url_no_key_provided(self): # Bottom string of the url does not start with 'trigger' self.url_slices['04_key_str'] = 'version=1' res = self.middleware._parse_url(self._generate_url()) self.assertIsNone(res) ,48,9
openstack%2Fopenstack-helm~master~I48fd712c2b0565cb2cfe850482e8501f4e5022a4,openstack/openstack-helm,master,I48fd712c2b0565cb2cfe850482e8501f4e5022a4,fix the vms turn transient after libvirt pod restarts,MERGED,2018-03-30 06:13:22.000000000,2018-03-30 18:07:40.000000000,2018-03-30 18:07:40.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-30 06:13:22.000000000', 'files': ['libvirt/templates/daemonset-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f0e696ae8d5b8b87c84fa8942c1b2c91e90b85e', 'message': 'fix the vms turn transient after libvirt pod restarts\n\nAfter libvirt pod restarts, the virtual machines created before\nturn transient ,then opetrate these vms ,nova-compute will throw\nexception. This is because that the directory /etc/libivrt/qemu\nin pod contains vitual machines xml files and it is temporary,\nthe xmls files disappear after the pod restarts, so we mount it\nto hostpath /etc/libvirt/qemu.\n\nChange-Id: I48fd712c2b0565cb2cfe850482e8501f4e5022a4\nClosed-bug: 1760003\n'}]",0,557889,0f0e696ae8d5b8b87c84fa8942c1b2c91e90b85e,12,4,1,25050,,,0,"fix the vms turn transient after libvirt pod restarts

After libvirt pod restarts, the virtual machines created before
turn transient ,then opetrate these vms ,nova-compute will throw
exception. This is because that the directory /etc/libivrt/qemu
in pod contains vitual machines xml files and it is temporary,
the xmls files disappear after the pod restarts, so we mount it
to hostpath /etc/libvirt/qemu.

Change-Id: I48fd712c2b0565cb2cfe850482e8501f4e5022a4
Closed-bug: 1760003
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/557889/1 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/templates/daemonset-libvirt.yaml'],1,0f0e696ae8d5b8b87c84fa8942c1b2c91e90b85e,bug/1760003, - name: etc-libvirt-qemu mountPath: /etc/libvirt/qemu - name: etc-libvirt-qemu hostPath: path: /etc/libvirt/qemu,,5,0
openstack%2Fnetworking-odl~master~Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9,openstack/networking-odl,master,Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9,Better defaults for the debug context,MERGED,2018-01-29 17:13:03.000000000,2018-03-30 17:57:35.000000000,2018-03-30 17:57:35.000000000,"[{'_account_id': 333}, {'_account_id': 7921}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26507}]","[{'number': 1, 'created': '2018-01-29 17:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/7b6d7937a0a642d01eac4a000060709fecbdd0ab', 'message': 'Better defaults for the debug context\n\nWhen debugging the test environment should not capture standard error\nand output, nor put a timeout on the tests.\n\nThis patches add them to the environment, given this variables are\nset as defaults for all environments.\n\nChange-Id: Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9\n'}, {'number': 2, 'created': '2018-02-20 13:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/744451ec50426f5221586b549cf869c6ca092543', 'message': 'Better defaults for the debug context\n\nWhen debugging the test environment should not capture standard error\nand output, nor put a timeout on the tests.\n\nThis patch adds them to the environment, given this variables are\nset as defaults for all environments.\n\nChange-Id: Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9\n'}, {'number': 3, 'created': '2018-03-19 16:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9c9e72fca8b4b81bdbc3bf287aa7e8800e93d03e', 'message': 'Better defaults for the debug context\n\nWhen debugging the test environment should not capture standard error\nand output, nor put a timeout on the tests.\n\nThis patch adds them to the environment, given this variables are\nset as defaults for all environments.\n\nChange-Id: Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9\n'}, {'number': 4, 'created': '2018-03-21 09:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/5232379b7294e22be836092f97d815b3d916ae89', 'message': 'Better defaults for the debug context\n\nWhen debugging the test environment should not capture standard error\nand output, nor put a timeout on the tests.\n\nThis patch adds them to the environment, given this variables are\nset as defaults for all environments.\n\nChange-Id: Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9\n'}, {'number': 5, 'created': '2018-03-26 14:25:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/229f7c24b6370085b03c64b68260350ebeb31e61', 'message': 'Better defaults for the debug context\n\nWhen debugging the test environment should not capture standard error\nand output, nor put a timeout on the tests.\n\nThis patch adds them to the environment, given this variables are\nset as defaults for all environments.\n\nChange-Id: Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9\n'}]",9,538977,229f7c24b6370085b03c64b68260350ebeb31e61,24,5,5,26507,,,0,"Better defaults for the debug context

When debugging the test environment should not capture standard error
and output, nor put a timeout on the tests.

This patch adds them to the environment, given this variables are
set as defaults for all environments.

Change-Id: Idcb6fe96de5dc8fc3d9a6431eb7db46a13c7d7f9
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/77/538977/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7b6d7937a0a642d01eac4a000060709fecbdd0ab,change/capture_logs_and_incorporate_missing_env,setenv = {[testenv]setenv} OS_LOG_CAPTURE=0 OS_STDOUT_CAPTURE=0 OS_STDERR_CAPTURE=0 OS_TEST_TIMEOUT=0,,5,0
openstack%2Fopenstack-ansible-os_tempest~stable%2Fpike~Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007,openstack/openstack-ansible-os_tempest,stable/pike,Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007,update for changes needed to pass refstack,MERGED,2018-03-14 13:55:23.000000000,2018-03-30 17:52:10.000000000,2018-03-30 17:52:10.000000000,"[{'_account_id': 7414}, {'_account_id': 16479}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 13:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/f40ed5d84dd399624f62823be38b11390a41cd9c', 'message': ""update for changes needed to pass refstack\n\nWithout the image_ref_alt and subnet_allocation fix we pass 98.7%\nhttps://refstack.openstack.org/#/results/218a2d45-e0c7-461a-957e-e5ca4c1271ad\n\nWith the following commit we pass 100%\nhttps://refstack.openstack.org/#/results/2d2e8eaa-4cf5-4494-a418-97dbb1fee74a\n\nA second image (image_ref_alt) needs to be uploaded for tests run by\ntempest.  subnet_allocation also needs to be added to the list of\nplugins in neutron's api_extensions within network-feature-enabled.\n\nThis gets us passing refstack in pike (not yet tested for queens or\nrocky).\n\nChange-Id: Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007\n(cherry picked from commit dde032531fc035324f39d2788603a4d895b923f0)\n""}, {'number': 2, 'created': '2018-03-30 04:28:01.000000000', 'files': ['templates/tempest.conf.j2', 'tasks/tempest_resources.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/ab0d01abcee9938593e40ba7183d6abcb101fede', 'message': ""update for changes needed to pass refstack\n\nWithout the image_ref_alt and subnet_allocation fix we pass 98.7%\nhttps://refstack.openstack.org/#/results/218a2d45-e0c7-461a-957e-e5ca4c1271ad\n\nWith the following commit we pass 100%\nhttps://refstack.openstack.org/#/results/2d2e8eaa-4cf5-4494-a418-97dbb1fee74a\n\nA second image (image_ref_alt) needs to be uploaded for tests run by\ntempest.  subnet_allocation also needs to be added to the list of\nplugins in neutron's api_extensions within network-feature-enabled.\n\nThis gets us passing refstack in pike (not yet tested for queens or\nrocky).\n\nChange-Id: Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007\n""}]",0,552906,ab0d01abcee9938593e40ba7183d6abcb101fede,12,4,2,14288,,,0,"update for changes needed to pass refstack

Without the image_ref_alt and subnet_allocation fix we pass 98.7%
https://refstack.openstack.org/#/results/218a2d45-e0c7-461a-957e-e5ca4c1271ad

With the following commit we pass 100%
https://refstack.openstack.org/#/results/2d2e8eaa-4cf5-4494-a418-97dbb1fee74a

A second image (image_ref_alt) needs to be uploaded for tests run by
tempest.  subnet_allocation also needs to be added to the list of
plugins in neutron's api_extensions within network-feature-enabled.

This gets us passing refstack in pike (not yet tested for queens or
rocky).

Change-Id: Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/06/552906/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/tempest.conf.j2', 'tasks/tempest_resources.yml']",2,f40ed5d84dd399624f62823be38b11390a41cd9c,make-it-pass-refstack,"- name: Upload first tempest image to glance name: ""{{ item.name | default(item.url | basename) }} 1"" register: tempest_image_create_1 until: tempest_image_create_1 | success- name: Store first tempest image id set_fact: tempest_glance_image_id_1: ""{{ tempest_service_available_glance | ternary(tempest_image_create_1['results'][0]['id'], '') }}"" - name: Upload second tempest image to glance os_image: cloud: default endpoint_type: internal validate_certs: ""{{ keystone_service_internaluri_insecure | ternary(false, true) }}"" name: ""{{ item.name | default(item.url | basename) }} 2"" filename: ""{{ tempest_image_dir }}/{{ item.url | basename }}"" container_format: bare disk_format: ""{{ item.format }}"" is_public: True with_items: ""{{ tempest_images }}"" register: tempest_image_create_2 until: tempest_image_create_2 | success retries: 5 delay: 15 when: tempest_service_available_glance | bool # This fact is used in tempest.conf.j2; we set an empty string if it doesn't get # set above to ensure the template will parse correctly. - name: Store second tempest image id set_fact: tempest_glance_image_id_2: ""{{ tempest_service_available_glance | ternary(tempest_image_create_2['results'][0]['id'], '') }}""","- name: Upload tempest images to glance name: ""{{ item.name | default(item.url | basename) }}"" register: tempest_image_create until: tempest_image_create | success- name: Store tempest image id set_fact: tempest_glance_image_id: ""{{ tempest_service_available_glance | ternary(tempest_image_create['results'][0]['id'], '') }}""",32,9
openstack%2Fnova~stable%2Fpike~I60de179c72eede6746696f29462ee9d805dace47,openstack/nova,stable/pike,I60de179c72eede6746696f29462ee9d805dace47,unquiesce instance on volume snapshot failure,MERGED,2018-02-19 20:03:26.000000000,2018-03-30 17:46:45.000000000,2018-03-30 17:46:44.000000000,"[{'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 24638}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-19 20:03:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/17b9b900a249f6f432552fe27a9cdd54c1495b99', 'message': 'unquiesce instance on volume snapshot failure\n\nThis patch adds an exception catch to ""snapshot_volume_backed()"" of\ncompute/api.py that catches (at the moment) _all_ exceptions from the\nunderlying cinderclient. Previously, if the instance is quiesced ( frozen\nfilesystem ) then the exception will break execution of the function,\nskipping the needed unquiesce, and leave the instance in a frozen state.\n\nNow, the exception catch will unquiesce the instance if it was prior to\nthe failure.\n\nGot a unit test in place with the help of Matt Riedemann.\n    test_snapshot_volume_backed_with_quiesce_create_snap_fails\n\nConflicts:\n      nova/compute/api.py\n      nova/tests/unit/compute/test_compute_api.py\n\nNOTE(mriedem): The conflicts are due to not having change\nI9ce48e768cc67543f27a6c87c57b47501fff38c2 in Pike.\n\nChange-Id: I60de179c72eede6746696f29462ee9d805dace47\nCloses-bug: #1731986\n(cherry picked from commit bca425a33f52584051348a3ace832be8151299a7)\n(cherry picked from commit 7ab98b5345f4a023bd209e714cd0aa60b3a31d48)\n'}]",0,545966,17b9b900a249f6f432552fe27a9cdd54c1495b99,15,10,1,6873,,,0,"unquiesce instance on volume snapshot failure

This patch adds an exception catch to ""snapshot_volume_backed()"" of
compute/api.py that catches (at the moment) _all_ exceptions from the
underlying cinderclient. Previously, if the instance is quiesced ( frozen
filesystem ) then the exception will break execution of the function,
skipping the needed unquiesce, and leave the instance in a frozen state.

Now, the exception catch will unquiesce the instance if it was prior to
the failure.

Got a unit test in place with the help of Matt Riedemann.
    test_snapshot_volume_backed_with_quiesce_create_snap_fails

Conflicts:
      nova/compute/api.py
      nova/tests/unit/compute/test_compute_api.py

NOTE(mriedem): The conflicts are due to not having change
I9ce48e768cc67543f27a6c87c57b47501fff38c2 in Pike.

Change-Id: I60de179c72eede6746696f29462ee9d805dace47
Closes-bug: #1731986
(cherry picked from commit bca425a33f52584051348a3ace832be8151299a7)
(cherry picked from commit 7ab98b5345f4a023bd209e714cd0aa60b3a31d48)
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/545966/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,17b9b900a249f6f432552fe27a9cdd54c1495b99,bug/1731986," LOG.info(""Attempting to quiesce instance before volume "" ""snapshot."", instance=instance) try: for bdm in bdms: if bdm.no_device: continue if bdm.is_volume: # create snapshot based on volume_id volume = self.volume_api.get(context, bdm.volume_id) # NOTE(yamahata): Should we wait for snapshot creation? # Linux LVM snapshot creation completes in short time, # it doesn't matter for now. name = _('snapshot for %s') % image_meta['name'] LOG.debug('Creating snapshot from volume %s.', volume['id'], instance=instance) snapshot = self.volume_api.create_snapshot_force( context, volume['id'], name, volume['display_description']) mapping_dict = block_device.snapshot_from_bdm( snapshot['id'], bdm) mapping_dict = mapping_dict.get_image_mapping() else: mapping_dict = bdm.get_image_mapping() mapping.append(mapping_dict) # NOTE(tasker): No error handling is done in the above for loop. # This means that if the snapshot fails and throws an exception # the traceback will skip right over the unquiesce needed below. # Here, catch any exception, unquiesce the instance, and raise the # error so that the calling function can do what it needs to in # order to properly treat a failed snap. except Exception: with excutils.save_and_reraise_exception(): if quiesced: LOG.info(""Unquiescing instance after volume snapshot "" ""failure."", instance=instance) self.compute_rpcapi.unquiesce_instance( context, instance, mapping)"," for bdm in bdms: if bdm.no_device: continue if bdm.is_volume: # create snapshot based on volume_id volume = self.volume_api.get(context, bdm.volume_id) # NOTE(yamahata): Should we wait for snapshot creation? # Linux LVM snapshot creation completes in # short time, it doesn't matter for now. name = _('snapshot for %s') % image_meta['name'] LOG.debug('Creating snapshot from volume %s.', volume['id'], instance=instance) snapshot = self.volume_api.create_snapshot_force( context, volume['id'], name, volume['display_description']) mapping_dict = block_device.snapshot_from_bdm(snapshot['id'], bdm) mapping_dict = mapping_dict.get_image_mapping() else: mapping_dict = bdm.get_image_mapping() mapping.append(mapping_dict)",60,25
openstack%2Fnova~stable%2Fpike~I0ffe93a031154b123c8beff96a695df5a280b935,openstack/nova,stable/pike,I0ffe93a031154b123c8beff96a695df5a280b935,Don't launch guestfs in a thread pool if guestfs.debug is enabled,MERGED,2018-01-31 14:07:25.000000000,2018-03-30 17:46:39.000000000,2018-03-30 17:46:38.000000000,"[{'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-31 14:07:25.000000000', 'files': ['nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/guestfs.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e521616afd14e6eedc0d3bfca0adf2179f4e05c2', 'message': ""Don't launch guestfs in a thread pool if guestfs.debug is enabled\n\nWhen guestfs.debug is enabled, we're handling callback events\nfrom guestfs and logging them at debug level. When guestfs\nis launched to inspect capabilities, that is currently done\nin an eventlet thread pool. Because of the concurrent logging\nalong with the eventlet thread, we can hit an issue where eventlet\ntries to switch threads and fails and then we hang the launch\ncall to guestfs, which hangs creating an instance.\n\nThis change simply avoids using a thread pool to launch guestfs\nif guestfs.debug is True.\n\nChange-Id: I0ffe93a031154b123c8beff96a695df5a280b935\nCloses-Bug: #1737214\n(cherry picked from commit 7c30da13842469e641d171b6008a57d5db8c5d5e)\n""}]",0,539541,e521616afd14e6eedc0d3bfca0adf2179f4e05c2,13,9,1,6873,,,0,"Don't launch guestfs in a thread pool if guestfs.debug is enabled

When guestfs.debug is enabled, we're handling callback events
from guestfs and logging them at debug level. When guestfs
is launched to inspect capabilities, that is currently done
in an eventlet thread pool. Because of the concurrent logging
along with the eventlet thread, we can hit an issue where eventlet
tries to switch threads and fails and then we hang the launch
call to guestfs, which hangs creating an instance.

This change simply avoids using a thread pool to launch guestfs
if guestfs.debug is True.

Change-Id: I0ffe93a031154b123c8beff96a695df5a280b935
Closes-Bug: #1737214
(cherry picked from commit 7c30da13842469e641d171b6008a57d5db8c5d5e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/539541/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/disk/vfs/test_guestfs.py', 'nova/virt/disk/vfs/guestfs.py']",2,e521616afd14e6eedc0d3bfca0adf2179f4e05c2,bug/1737214-stable/pike," # If guestfs debug is enabled, we can't launch in a thread because # the debug logging callback can make eventlet try to switch # threads and then the launch hangs, causing eternal sadness. if CONF.guestfs.debug: LOG.debug('Inspecting guestfs capabilities non-threaded.') g = guestfs.GuestFS() else: g = tpool.Proxy(guestfs.GuestFS())", g = tpool.Proxy(guestfs.GuestFS()),24,2
openstack%2Fnova~stable%2Fpike~I3c7aea7d8959a20c3c404bc6616b47336ff40b67,openstack/nova,stable/pike,I3c7aea7d8959a20c3c404bc6616b47336ff40b67,Do not set allocation.id in AllocationList.create_all(),MERGED,2018-01-02 20:20:34.000000000,2018-03-30 17:46:33.000000000,2018-03-30 17:46:33.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8213}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-02 20:20:34.000000000', 'files': ['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py', 'nova/tests/unit/objects/test_resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cedcef7ecb9673530ca0241c2976dfd862c4f75a', 'message': ""Do not set allocation.id in AllocationList.create_all()\n\nThe _set_allocations method used by AllocationList.create_all is\nside-effecty: it sets the 'id' attribute on the list of Allocation\nobjects that is passed to it.\n\nAt the start of the method the incoming Allocation objects are\nchecked to see if they have already been created, by checking\nfor an 'id' field.\n\nMeanwhile, _set_allocations is also configured to retry on db\ndeadlock. The deadlock can happen for a variety of reasons within\nthe transaction. The original theory, discussed in the original\nfix, I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a, is that it is\nduring resource provider generation checks. In the associated bug it\nlooks like it may happen sometimes while inserting allocations.\n\nIn either case, if we have gone through the 'for alloc in allocs'\nloop at least once, the contents of the 'allocs' list has been\nmodified to have at least one of the alloc.id fields set. Upon\nretry, the 'id' field check at the start of the method will fail,\nleading to an ObjectActionError and an eventual 500 at the placement\nAPI level.\n\nThis change takes the simplest approach and simply removes the setting\nof the 'id' attribute on the allocations in the 'allocs' list. There are\nother ways to deal with this, this is the least intrusive. It works\nbecause:\n\n* create_all is only called from the allocation handler in placement,\n  and the objects are not used (the response bodies are empty)\n* other than the 'id' change, the alloc members in the allocs list\n  are otherwise unchanged\n* this kind of side-effecty business is dangerous, so let's not\n  rely on it\n\nTests which were relying on the side-effecty business have been adjusted\naccordingly.\n\nConflicts:\n      nova/objects/resource_provider.py\n      nova/tests/unit/objects/test_resource_provider.py\n\nNOTE(mriedem): The resource_provider.py conflict is due to not\nhaving 31751a7149a3bb4b51087aecdc3b14c061c60d9b in Pike. The\ntest_resource_provider.py conflict is due to not having\n5a1ef8fa862321e50a9063f22b27dd5fd93446e7 in Pike. Furthermore,\nthe functional test had to be adjusted because of not having\ndb4d6799f1a220f69aa804754a0913065ff9436a in Pike.\n\nChange-Id: I3c7aea7d8959a20c3c404bc6616b47336ff40b67\nCloses-Bug: #1739453\n(cherry picked from commit 3491f3d6f2334b80c364deeb21d65004262c2846)\n""}]",0,530794,cedcef7ecb9673530ca0241c2976dfd862c4f75a,23,11,1,6873,,,0,"Do not set allocation.id in AllocationList.create_all()

The _set_allocations method used by AllocationList.create_all is
side-effecty: it sets the 'id' attribute on the list of Allocation
objects that is passed to it.

At the start of the method the incoming Allocation objects are
checked to see if they have already been created, by checking
for an 'id' field.

Meanwhile, _set_allocations is also configured to retry on db
deadlock. The deadlock can happen for a variety of reasons within
the transaction. The original theory, discussed in the original
fix, I2c276dc0125b5b9f7a54a1cd431b1b2f5239e93a, is that it is
during resource provider generation checks. In the associated bug it
looks like it may happen sometimes while inserting allocations.

In either case, if we have gone through the 'for alloc in allocs'
loop at least once, the contents of the 'allocs' list has been
modified to have at least one of the alloc.id fields set. Upon
retry, the 'id' field check at the start of the method will fail,
leading to an ObjectActionError and an eventual 500 at the placement
API level.

This change takes the simplest approach and simply removes the setting
of the 'id' attribute on the allocations in the 'allocs' list. There are
other ways to deal with this, this is the least intrusive. It works
because:

* create_all is only called from the allocation handler in placement,
  and the objects are not used (the response bodies are empty)
* other than the 'id' change, the alloc members in the allocs list
  are otherwise unchanged
* this kind of side-effecty business is dangerous, so let's not
  rely on it

Tests which were relying on the side-effecty business have been adjusted
accordingly.

Conflicts:
      nova/objects/resource_provider.py
      nova/tests/unit/objects/test_resource_provider.py

NOTE(mriedem): The resource_provider.py conflict is due to not
having 31751a7149a3bb4b51087aecdc3b14c061c60d9b in Pike. The
test_resource_provider.py conflict is due to not having
5a1ef8fa862321e50a9063f22b27dd5fd93446e7 in Pike. Furthermore,
the functional test had to be adjusted because of not having
db4d6799f1a220f69aa804754a0913065ff9436a in Pike.

Change-Id: I3c7aea7d8959a20c3c404bc6616b47336ff40b67
Closes-Bug: #1739453
(cherry picked from commit 3491f3d6f2334b80c364deeb21d65004262c2846)
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/530794/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/resource_provider.py', 'nova/tests/functional/db/test_resource_provider.py', 'nova/tests/unit/objects/test_resource_provider.py']",3,cedcef7ecb9673530ca0241c2976dfd862c4f75a,bug/1739453," rp_al = resource_provider.AllocationList saved_allocations = rp_al.get_all_by_resource_provider_uuid( self.context, rp.uuid) self.assertEqual(1, len(saved_allocations)) self.assertEqual(obj.used, saved_allocations[0].used)"," self.assertNotIn(""id"", obj) self.assertIn(""id"", obj)",10,7
openstack%2Fnova~stable%2Fpike~I4253cffca3dbf558c875eed7e77711a31e9e3406,openstack/nova,stable/pike,I4253cffca3dbf558c875eed7e77711a31e9e3406,Re-use existing ComputeNode on ironic rebalance,MERGED,2017-12-12 15:11:13.000000000,2018-03-30 17:46:27.000000000,2018-03-30 17:46:27.000000000,"[{'_account_id': 782}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10343}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-12 15:11:13.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e95277fa3eba86a7290212313da4dc3c81c286f3', 'message': 'Re-use existing ComputeNode on ironic rebalance\n\nWhen a nova-compute service dies that is one of several ironic based\nnova-compute services running, a node rebalance occurs to ensure there\nis still an active nova-compute service dealing with requests for the\ngiven instance that is running.\n\nToday, when this occurs, we create a new ComputeNode entry. This change\nalters that logic to detect the case of the ironic node rebalance and in\nthat case we re-use the existing ComputeNode entry, simply updating the\nhost field to match the new host it has been rebalanced onto.\n\nPreviously we hit problems with placement when we get a new\nComputeNode.uuid for the same ironic_node.uuid. This reusing of the\nexisting entry keeps the ComputeNode.uuid the same when the rebalance of\nthe ComputeNode occurs.\n\nWithout keeping the same ComputeNode.uuid placement errors out with a 409\nbecause we attempt to create a ResourceProvider that has the same name\nas an existing ResourceProvdier. Had that worked, we would have noticed\nthe race that occurs after we create the ResourceProvider but before we\nadd back the existing allocations for existing instances. Keeping the\nComputeNode.uuid the same means we simply look up the existing\nResourceProvider in placement, avoiding all this pain and tears.\n\nCloses-Bug: #1714248\nCo-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>\nChange-Id: I4253cffca3dbf558c875eed7e77711a31e9e3406\n(cherry picked from commit e3c5e22d1fde7ca916a8cc364f335fba8a3a798f)\n'}]",0,527423,e95277fa3eba86a7290212313da4dc3c81c286f3,15,12,1,6873,,,0,"Re-use existing ComputeNode on ironic rebalance

When a nova-compute service dies that is one of several ironic based
nova-compute services running, a node rebalance occurs to ensure there
is still an active nova-compute service dealing with requests for the
given instance that is running.

Today, when this occurs, we create a new ComputeNode entry. This change
alters that logic to detect the case of the ironic node rebalance and in
that case we re-use the existing ComputeNode entry, simply updating the
host field to match the new host it has been rebalanced onto.

Previously we hit problems with placement when we get a new
ComputeNode.uuid for the same ironic_node.uuid. This reusing of the
existing entry keeps the ComputeNode.uuid the same when the rebalance of
the ComputeNode occurs.

Without keeping the same ComputeNode.uuid placement errors out with a 409
because we attempt to create a ResourceProvider that has the same name
as an existing ResourceProvdier. Had that worked, we would have noticed
the race that occurs after we create the ResourceProvider but before we
add back the existing allocations for existing instances. Keeping the
ComputeNode.uuid the same means we simply look up the existing
ResourceProvider in placement, avoiding all this pain and tears.

Closes-Bug: #1714248
Co-Authored-By: Dmitry Tantsur <dtantsur@redhat.com>
Change-Id: I4253cffca3dbf558c875eed7e77711a31e9e3406
(cherry picked from commit e3c5e22d1fde7ca916a8cc364f335fba8a3a798f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/527423/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/virt/fake.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/virt/driver.py', 'nova/compute/resource_tracker.py']",5,e95277fa3eba86a7290212313da4dc3c81c286f3,bug/1714248," def _check_for_nodes_rebalance(self, context, resources, nodename): """"""Check if nodes rebalance has happened. The ironic driver maintains a hash ring mapping bare metal nodes to compute nodes. If a compute dies, the hash ring is rebuilt, and some of its bare metal nodes (more precisely, those not in ACTIVE state) are assigned to other computes. This method checks for this condition and adjusts the database accordingly. :param context: security context :param resources: initial values :param nodename: node name :returns: True if a suitable compute node record was found, else False """""" if not self.driver.rebalances_nodes: return False # Its possible ironic just did a node re-balance, so let's # check if there is a compute node that already has the correct # hypervisor_hostname. We can re-use that rather than create a # new one and have to move existing placement allocations cn_candidates = objects.ComputeNodeList.get_by_hypervisor( context, nodename) if len(cn_candidates) == 1: cn = cn_candidates[0] LOG.info(""ComputeNode %(name)s moving from %(old)s to %(new)s"", {""name"": nodename, ""old"": cn.host, ""new"": self.host}) cn.host = self.host self.compute_nodes[nodename] = cn self._copy_resources(cn, resources) self._setup_pci_tracker(context, cn, resources) self._update(context, cn) return True elif len(cn_candidates) > 1: LOG.error( ""Found more than one ComputeNode for nodename %s. "" ""Please clean up the orphaned ComputeNode records in your DB."", nodename) return False if self._check_for_nodes_rebalance(context, resources, nodename): return ",,144,2
openstack%2Fopenstack-ansible-os_tempest~stable%2Fqueens~Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007,openstack/openstack-ansible-os_tempest,stable/queens,Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007,update for changes needed to pass refstack,MERGED,2018-03-14 13:55:09.000000000,2018-03-30 17:43:07.000000000,2018-03-30 17:43:07.000000000,"[{'_account_id': 7414}, {'_account_id': 14288}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-14 13:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/d574e5d8c4fe5f622a7d0d93a4a926744ffd64aa', 'message': ""update for changes needed to pass refstack\n\nWithout the image_ref_alt and subnet_allocation fix we pass 98.7%\nhttps://refstack.openstack.org/#/results/218a2d45-e0c7-461a-957e-e5ca4c1271ad\n\nWith the following commit we pass 100%\nhttps://refstack.openstack.org/#/results/2d2e8eaa-4cf5-4494-a418-97dbb1fee74a\n\nA second image (image_ref_alt) needs to be uploaded for tests run by\ntempest.  subnet_allocation also needs to be added to the list of\nplugins in neutron's api_extensions within network-feature-enabled.\n\nThis gets us passing refstack in pike (not yet tested for queens or\nrocky).\n\nChange-Id: Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007\n(cherry picked from commit dde032531fc035324f39d2788603a4d895b923f0)\n""}, {'number': 2, 'created': '2018-03-30 04:26:56.000000000', 'files': ['templates/tempest.conf.j2', 'tasks/tempest_resources.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/e18b1be1cf57b1f086a7143dc7a025a2f5b81de3', 'message': ""update for changes needed to pass refstack\n\nWithout the image_ref_alt and subnet_allocation fix we pass 98.7%\nhttps://refstack.openstack.org/#/results/218a2d45-e0c7-461a-957e-e5ca4c1271ad\n\nWith the following commit we pass 100%\nhttps://refstack.openstack.org/#/results/2d2e8eaa-4cf5-4494-a418-97dbb1fee74a\n\nA second image (image_ref_alt) needs to be uploaded for tests run by\ntempest.  subnet_allocation also needs to be added to the list of\nplugins in neutron's api_extensions within network-feature-enabled.\n\nThis gets us passing refstack in pike (not yet tested for queens or\nrocky).\n\nChange-Id: Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007\n""}]",3,552905,e18b1be1cf57b1f086a7143dc7a025a2f5b81de3,13,4,2,14288,,,0,"update for changes needed to pass refstack

Without the image_ref_alt and subnet_allocation fix we pass 98.7%
https://refstack.openstack.org/#/results/218a2d45-e0c7-461a-957e-e5ca4c1271ad

With the following commit we pass 100%
https://refstack.openstack.org/#/results/2d2e8eaa-4cf5-4494-a418-97dbb1fee74a

A second image (image_ref_alt) needs to be uploaded for tests run by
tempest.  subnet_allocation also needs to be added to the list of
plugins in neutron's api_extensions within network-feature-enabled.

This gets us passing refstack in pike (not yet tested for queens or
rocky).

Change-Id: Ia31a8a9c5bac5b3bdbeded25ad9a9f3db2e62007
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/05/552905/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/tempest.conf.j2', 'tasks/tempest_resources.yml']",2,d574e5d8c4fe5f622a7d0d93a4a926744ffd64aa,make-it-pass-refstack,"- name: Upload first tempest image to glance name: ""{{ item.name | default(item.url | basename) }} 1"" register: tempest_image_create_1 until: tempest_image_create_1 | success- name: Store first tempest image id set_fact: tempest_glance_image_id_1: ""{{ tempest_service_available_glance | ternary(tempest_image_create_1['results'][0]['id'], '') }}"" - name: Upload second tempest image to glance os_image: cloud: default endpoint_type: internal validate_certs: ""{{ keystone_service_internaluri_insecure | ternary(false, true) }}"" name: ""{{ item.name | default(item.url | basename) }} 2"" filename: ""{{ tempest_image_dir }}/{{ item.url | basename }}"" container_format: bare disk_format: ""{{ item.format }}"" is_public: True with_items: ""{{ tempest_images }}"" register: tempest_image_create_2 until: tempest_image_create_2 | success retries: 5 delay: 15 when: tempest_service_available_glance | bool # This fact is used in tempest.conf.j2; we set an empty string if it doesn't get # set above to ensure the template will parse correctly. - name: Store second tempest image id set_fact: tempest_glance_image_id_2: ""{{ tempest_service_available_glance | ternary(tempest_image_create_2['results'][0]['id'], '') }}""","- name: Upload tempest images to glance name: ""{{ item.name | default(item.url | basename) }}"" register: tempest_image_create until: tempest_image_create | success- name: Store tempest image id set_fact: tempest_glance_image_id: ""{{ tempest_service_available_glance | ternary(tempest_image_create['results'][0]['id'], '') }}""",32,9
openstack%2Fkeystone~master~I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a,openstack/keystone,master,I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a,Log warning when using token_flush,MERGED,2018-03-27 15:26:00.000000000,2018-03-30 17:34:14.000000000,2018-03-30 17:34:14.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 15:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9bd01a54a1118e41352025d257682f67d2e09638', 'message': ""Log warning when using token_flush\n\nThe `keystone-manage token_flush` command was useful when we\nsupported token format that were actually written to disk. Now that\nkeystone has moved towards formats that don't require physical\nstorage in the name of scalability, we no longer need the\ntoken_flush utility.\n\nThis commit logs a warning when using `keystone-manage token_flush`\nso that people are aware they don't need to use it anymore if they\nare using supported upstream non-persistent token providers.\n\nChange-Id: I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a\nCloses-Bug: 1759289\n""}, {'number': 2, 'created': '2018-03-27 18:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0f62018978f4b278533ad936f60aeb8b50731bda', 'message': ""Log warning when using token_flush\n\nThe `keystone-manage token_flush` command was useful when we\nsupported token format that were actually written to disk. Now that\nkeystone has moved towards formats that don't require physical\nstorage in the name of scalability, we no longer need the\ntoken_flush utility.\n\nThis commit logs a warning when using `keystone-manage token_flush`\nso that people are aware they don't need to use it anymore if they\nare using supported upstream non-persistent token providers.\n\nChange-Id: I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a\nCloses-Bug: 1759289\n""}, {'number': 3, 'created': '2018-03-27 19:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b7f1b4028a1cfce5fe015ea8bac073f3981a886a', 'message': ""Log warning when using token_flush\n\nThe `keystone-manage token_flush` command was useful when we\nsupported token format that were actually written to disk. Now that\nkeystone has moved towards formats that don't require physical\nstorage in the name of scalability, we no longer need the\ntoken_flush utility.\n\nThis commit logs a warning when using `keystone-manage token_flush`\nso that people are aware they don't need to use it anymore if they\nare using supported upstream non-persistent token providers.\n\nChange-Id: I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a\nCloses-Bug: 1759289\n""}, {'number': 4, 'created': '2018-03-29 20:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64544774be5f89e73cd62a207c9dcc509faabbb2', 'message': ""Log warning when using token_flush\n\nThe `keystone-manage token_flush` command was useful when we\nsupported token format that were actually written to disk. Now that\nkeystone has moved towards formats that don't require physical\nstorage in the name of scalability, we no longer need the\ntoken_flush utility.\n\nThis commit logs a warning when using `keystone-manage token_flush`\nso that people are aware they don't need to use it anymore if they\nare using supported upstream non-persistent token providers.\n\nChange-Id: I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a\nCloses-Bug: 1759289\n""}, {'number': 5, 'created': '2018-03-29 20:15:58.000000000', 'files': ['keystone/cmd/cli.py', 'releasenotes/notes/bug-1759289-466cdf4514de3498.yaml', 'keystone/tests/unit/test_cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ca374091b795d77fe3fba45599e5ad13aed5c51', 'message': ""Log warning when using token_flush\n\nThe `keystone-manage token_flush` command was useful when we\nsupported token format that were actually written to disk. Now that\nkeystone has moved towards formats that don't require physical\nstorage in the name of scalability, we no longer need the\ntoken_flush utility.\n\nThis commit logs a warning when using `keystone-manage token_flush`\nso that people are aware they don't need to use it anymore if they\nare using supported upstream non-persistent token providers.\n\nChange-Id: I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a\nCloses-Bug: 1759289\n""}]",7,556889,9ca374091b795d77fe3fba45599e5ad13aed5c51,37,6,5,5046,,,0,"Log warning when using token_flush

The `keystone-manage token_flush` command was useful when we
supported token format that were actually written to disk. Now that
keystone has moved towards formats that don't require physical
storage in the name of scalability, we no longer need the
token_flush utility.

This commit logs a warning when using `keystone-manage token_flush`
so that people are aware they don't need to use it anymore if they
are using supported upstream non-persistent token providers.

Change-Id: I14d1e8a3ae367c8f13b6819a1a216f3f8f6b001a
Closes-Bug: 1759289
",git fetch https://review.opendev.org/openstack/keystone refs/changes/89/556889/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/cmd/cli.py', 'releasenotes/notes/bug-1759289-466cdf4514de3498.yaml', 'keystone/tests/unit/test_cli.py']",3,9bd01a54a1118e41352025d257682f67d2e09638,bug/1759289," class TestTokenFlush(unit.TestCase): def test_token_flush_emits_warning(self): expected_msg = ( 'This command is no longer needed with the development of ' 'non-persistent token formats. It is recommended that you remove ' 'usage of this command or integrate it\'s functionality into a ' 'seprate tool.' ) logging = self.useFixture(fixtures.FakeLogger()) tf = cli.TokenFlush() tf.main() self.assertThat(logging.output, matchers.Contains(expected_msg))",,31,10
openstack%2Fnova~master~Idb06e7562d88957a00f52cba7d0a788dbff42a28,openstack/nova,master,Idb06e7562d88957a00f52cba7d0a788dbff42a28,Documentation for tenant isolation with placement,MERGED,2018-03-28 19:30:07.000000000,2018-03-30 17:34:06.000000000,2018-03-30 17:34:06.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16929}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-28 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94240ad8bdb1888baea2e7569c455abf86b39c04', 'message': 'WIP: Documentation for tenant isolation with placement\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}, {'number': 2, 'created': '2018-03-28 19:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ebade7e7ffafde724da7b55c4902cad2274b33a', 'message': 'WIP: Documentation for tenant isolation with placement\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}, {'number': 3, 'created': '2018-03-28 20:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b169802e98014709d747c29c71cbc670f77b2a9d', 'message': 'WIP: Documentation for tenant isolation with placement\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}, {'number': 4, 'created': '2018-03-28 20:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9654b3dfddcdc2c86a9ca4e873544bff2e439cff', 'message': 'WIP: Documentation for tenant isolation with placement\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}, {'number': 5, 'created': '2018-03-28 22:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f460b2b9d8e1e8818f9df9472229b75a5f11ec03', 'message': 'WIP: Documentation for tenant isolation with placement\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}, {'number': 6, 'created': '2018-03-29 16:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab2b5c6680c0a35cd9e2e915d5a5647937001edc', 'message': 'Documentation for tenant isolation with placement\n\nThis explains how to actually wire up placement aggregates to allow\nfor filtering on tenant.\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}, {'number': 7, 'created': '2018-03-29 16:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8bf529da69d5b63808e9e2c68cfd8adc56bb1d0', 'message': 'Documentation for tenant isolation with placement\n\nThis explains how to actually wire up placement aggregates to allow\nfor filtering on tenant.\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}, {'number': 8, 'created': '2018-03-29 18:25:40.000000000', 'files': ['releasenotes/notes/tenant_aggregate_placement_filter-c2fed8889f43b6e3.yaml', 'doc/source/admin/configuration/schedulers.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/a27da62d823447ad4c61d07914a6acd593082c87', 'message': 'Documentation for tenant isolation with placement\n\nThis explains how to actually wire up placement aggregates to allow\nfor filtering on tenant.\n\nChange-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28\n'}]",19,557490,a27da62d823447ad4c61d07914a6acd593082c87,57,17,8,4393,,,0,"Documentation for tenant isolation with placement

This explains how to actually wire up placement aggregates to allow
for filtering on tenant.

Change-Id: Idb06e7562d88957a00f52cba7d0a788dbff42a28
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/557490/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/configuration/schedulers.rst'],1,94240ad8bdb1888baea2e7569c455abf86b39c04,bp/placement-req-filter,"Aggregates in Placement ----------------------- Aggregates also exist in placement and are not the same thing as host aggregates in nova. These aggregates are defined (purely) as groupings of related resource providers. Since compute nodes in nova are represented in placement as resource providers, they can be added to a placement aggregate as well. For example, get the uuid of the compute node using :command:`nova hypervisor-show node1` and add it to an aggregate in placement using :command:`openstack placement aggregate add`. ..code-block:: console $ get compute node uuid $ add host to placement Some scheduling filter operations can be performed by placement for increased speed and efficiency. Tenant Isolation with Placement ------------------------------- In order to use placement to isolate tenants, there must be placement aggregates that match the membership and UUID of nova host aggregates that you want to use for isolation. The same key pattern in aggregate metadata used by the `AggregateMultiTenancyIsolation` filter controls this function, and is enabled by setting `[scheduler]/limit_tenants_to_placement_aggregate=True`. ..code-block:: console $ create aggregate $ add host $ set metadata for tenant $ mirror to placement ",,37,0
openstack%2Fnova~master~Idb52b2a9af539df653da7a36763cb9a1d0de3d1b,openstack/nova,master,Idb52b2a9af539df653da7a36763cb9a1d0de3d1b,Add require_tenant_aggregate request filter,MERGED,2018-02-15 15:07:20.000000000,2018-03-30 17:33:58.000000000,2018-03-30 17:33:58.000000000,"[{'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2018-02-15 15:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54d548ddbbd6f771c624526b17aa5d263279d36e', 'message': 'WIP: Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 2, 'created': '2018-02-15 18:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2a1dab004c1e4fc26a5fcfa7902fb04aee84f59', 'message': 'WIP: Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 3, 'created': '2018-02-20 19:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28a6e8e222d73cdc2bc34a5186d244beb566d5b2', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 4, 'created': '2018-02-20 19:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a83e97572a0e2449d9c8c3531f74ba33933dcddd', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 5, 'created': '2018-02-20 20:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/490001d1729242a6c98dae13595c6a67470e2913', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 6, 'created': '2018-02-20 20:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0392de05b3e5826a15fdebbd9ed1e47e40fad73', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 7, 'created': '2018-02-26 11:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c814d6839cf8e1033f4ec75a4cc7edfab2e09af', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 8, 'created': '2018-02-26 13:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e0b1b3ab180ada17b16e71962fc65628f5aa3f1', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 9, 'created': '2018-03-08 14:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52958b3aec89a7cede82472b8a99ce78dc403dac', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 10, 'created': '2018-03-13 19:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6930a2c054d1efb303e229dd2c9bfaa0caba7e94', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 11, 'created': '2018-03-19 19:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55d151e789548fd43321fd63b9634ac5c1a2b7ab', 'message': '[WIP] Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\n** Needs functional tests\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 12, 'created': '2018-03-20 18:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a52b35d9271e041768702b69c1ef466b85f74f4', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 13, 'created': '2018-03-21 15:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bee4b8bd0d90732a4cd53cb5240b6d8513b6cbde', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 14, 'created': '2018-03-21 15:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f20d33b126e2ebecbb733745c3b0b69daf5e6f3', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 15, 'created': '2018-03-22 18:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4311151b84f1728bdf66224fa6a4676c251c56e', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 16, 'created': '2018-03-22 18:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b50e21505c9eddbf6b68cf0883b25dbe1ce2974', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 17, 'created': '2018-03-23 16:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f95b511344be9223046940d0863157a2faaf140', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 18, 'created': '2018-03-26 18:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9def2a13a5578caff5c9c18f1b898e8bd8c3b73e', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 19, 'created': '2018-03-27 14:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16feed978cd95c60200fa216ac126282582594b9', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 20, 'created': '2018-03-28 18:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47215cbecaaef55447ea93ace1a23135f9e87145', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 21, 'created': '2018-03-28 18:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25ee1e61ce479e12fa273c1d95d4b3f78ae9efa7', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 22, 'created': '2018-03-28 19:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c47897cc6dae9182a7ec3d068150c77a3c48cbab', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 23, 'created': '2018-03-28 19:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e09aee2764d4ea4b55a5126d600950c1fb51883', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 24, 'created': '2018-03-28 19:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f28818242f7f239e00edd2e749ed5a92d2af5c1c', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 25, 'created': '2018-03-28 20:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/965a2f736375988f93a255fc8ef058e2bb88db99', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 26, 'created': '2018-03-28 20:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60ea5bf4c32e867c41cd80c4767f0877b9365291', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}, {'number': 27, 'created': '2018-03-28 22:58:52.000000000', 'files': ['releasenotes/notes/tenant_aggregate_placement_filter-c2fed8889f43b6e3.yaml', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/scheduler/request_filter.py', 'nova/conf/scheduler.py', 'nova/tests/functional/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/732e202e81142a8ea462a9ebcde9a7226a62a60b', 'message': 'Add require_tenant_aggregate request filter\n\nThis adds a require_tenant_aggregate request filter which uses overlaid\nnova and placement aggregates to limit placement results during scheduling.\nIt uses the same `filter_tenant_id` metadata key as the existing scheduler\nfilter we have today, so people already doing this with that filter will\nbe able to enable this and get placement to pre-filter those hosts for\nthem automatically.\n\nThis also allows making this filter advisory but not required, and supports\nmultiple tenants per aggregate, unlike the original filter.\n\nRelated to blueprint placement-req-filter\n\nChange-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b\n'}]",57,545002,732e202e81142a8ea462a9ebcde9a7226a62a60b,221,21,27,4393,,,0,"Add require_tenant_aggregate request filter

This adds a require_tenant_aggregate request filter which uses overlaid
nova and placement aggregates to limit placement results during scheduling.
It uses the same `filter_tenant_id` metadata key as the existing scheduler
filter we have today, so people already doing this with that filter will
be able to enable this and get placement to pre-filter those hosts for
them automatically.

This also allows making this filter advisory but not required, and supports
multiple tenants per aggregate, unlike the original filter.

Related to blueprint placement-req-filter

Change-Id: Idb52b2a9af539df653da7a36763cb9a1d0de3d1b
",git fetch https://review.opendev.org/openstack/nova refs/changes/02/545002/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_request_filter.py', 'nova/scheduler/request_filter.py', 'nova/conf/scheduler.py']",3,54d548ddbbd6f771c624526b17aa5d263279d36e,bp/placement-req-filter," cfg.BoolOpt(""limit_tenants_to_placement_aggregate"", default=False, help="""""" This setting causes the scheduler to look up a host aggregate with the metadata key of `filter_tenant_id` set to the project of an incoming request, and request results from placement be limited to that aggregate. The matching aggregate UUID must be mirrored in placement for proper operation. If no host aggregate with the tenant id is found, or that aggregate does not match one in placement, the result will be the same as not finding any suitable hosts for the request. """"""),",,76,1
openstack%2Fnova~master~I1425005f94e2ac22e7e07bc09c7305900a25ca4a,openstack/nova,master,I1425005f94e2ac22e7e07bc09c7305900a25ca4a,Add AggregateList.get_by_metadata() query method,MERGED,2018-02-14 23:03:59.000000000,2018-03-30 17:13:09.000000000,2018-03-30 17:13:09.000000000,"[{'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7730}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-14 23:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd580a128e81e6bdd2789d2249035132c49eee5f', 'message': 'Add AggregateList.get_by_metadata_value() query method\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 2, 'created': '2018-02-20 19:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf17717af580cb64121ff28a9d926b2d70f29cdf', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 3, 'created': '2018-02-20 19:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81dddc0b0809a5702341925eea5ab1d69a4d696c', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 4, 'created': '2018-02-20 20:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f9becffd5730b8a16e772b3e53af03088f1d561', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 5, 'created': '2018-02-26 11:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ef7d46d50f0b5f9933f69be24392d19358e3aa2', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 6, 'created': '2018-02-26 13:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59f364fccbd20af7fbb9e1ce14e91a801f2f73de', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 7, 'created': '2018-03-08 14:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30d41c87259213e6ef8dc488b6a275e0059a3d9d', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 8, 'created': '2018-03-13 19:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9c5af9489d78b7371fd5b3262e7410c6fa887e9', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 9, 'created': '2018-03-19 19:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1e02439e851a03480e23993d7e078e08b3db64c', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 10, 'created': '2018-03-22 18:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f589acc0f31c0bcfbeb02dca03db886bc70cdd30', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 11, 'created': '2018-03-23 16:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0d2c1b432b8eba45429c6036caaa950e36881e8', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 12, 'created': '2018-03-26 18:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7178f229e73694db5f61dae7590f5038b9e55168', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 13, 'created': '2018-03-27 14:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a4560247026f4c17544edae0e05000d8e98c3fa', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 14, 'created': '2018-03-28 18:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3775408699b3aa036d2b4c8c7daefd60947f5f7', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 15, 'created': '2018-03-28 20:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/896f61da4583474c117b58f6863a34fc875e2bcd', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 16, 'created': '2018-03-28 20:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bd2ce2b1ff9ccf798739ceb225a479cccbd04bc', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}, {'number': 17, 'created': '2018-03-28 22:58:52.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/objects/aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/952279436228868bcf25aabc63cc4e62e944004f', 'message': 'Add AggregateList.get_by_metadata() query method\n\nThis query method lets us pull aggregates by key, value,\nor key and value.\n\nChange-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a\n'}]",9,544728,952279436228868bcf25aabc63cc4e62e944004f,219,24,17,4393,,,0,"Add AggregateList.get_by_metadata() query method

This query method lets us pull aggregates by key, value,
or key and value.

Change-Id: I1425005f94e2ac22e7e07bc09c7305900a25ca4a
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/544728/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/objects/aggregate.py']",3,dd580a128e81e6bdd2789d2249035132c49eee5f,bp/placement-req-filter,"def _get_by_metadata_key_from_db(context, key, value=None): if value is not None: query = query.filter(api_models.AggregateMetadata.value == value) # Version 1.3: Added get_by_metadata_key VERSION = '1.3' @base.remotable_classmethod def get_by_metadata_value(cls, context, key, value): db_aggregates = _get_by_metadata_key_from_db(context, key=key, value=value) return base.obj_make_list(context, cls(context), objects.Aggregate, db_aggregates)","def _get_by_metadata_key_from_db(context, key): # Version 1.2: Added get_by_metadata_key VERSION = '1.2'",25,4
openstack%2Fnova~stable%2Fpike~Ie9f064cb9caf6dcba2414acb24d12b825df45fab,openstack/nova,stable/pike,Ie9f064cb9caf6dcba2414acb24d12b825df45fab,Add --by-service to discover_hosts,MERGED,2018-03-20 15:54:50.000000000,2018-03-30 17:13:01.000000000,2018-03-30 17:13:01.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-20 15:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5861f59f2fab5e94fe34f7dfb0f29a584d39a86e', 'message': 'Add --by-service to discover_hosts\n\nThis allows us to discover and map compute hosts by service instead of\nby compute node, which will solve a major deployment ordering problem for\npeople using ironic. This also allows closing a really nasty race when\ndoing HA of nova-compute/ironic.\n\nConflicts:\n\tdoc/source/cli/nova-manage.rst\n\nNOTE(danms): Conflicts in nova-manage.rst due to pike not having recent\n             changes to the man page.\n\nChange-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab\nCloses-Bug: #1755602\n(cherry picked from commit 005a66d7e0bb716e32d29a6b5c9d9f24192596e2)\n(cherry picked from commit 39fdea4279fa4772062517cc1baf1ba46e053849)\n'}, {'number': 2, 'created': '2018-03-21 17:43:27.000000000', 'files': ['nova/tests/unit/objects/test_host_mapping.py', 'nova/objects/host_mapping.py', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py', 'releasenotes/notes/discover-hosts-by-service-06ee20365b895127.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/76b9cbd12b1fcc3d92fd4b284a90c4238df5c485', 'message': 'Add --by-service to discover_hosts\n\nThis allows us to discover and map compute hosts by service instead of\nby compute node, which will solve a major deployment ordering problem for\npeople using ironic. This also allows closing a really nasty race when\ndoing HA of nova-compute/ironic.\n\nConflicts:\n\tdoc/source/cli/nova-manage.rst\n\nNOTE(danms): Conflicts in nova-manage.rst due to queens not having recent\n             changes to the man page.\n\nChange-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab\nCloses-Bug: #1755602\n(cherry picked from commit 005a66d7e0bb716e32d29a6b5c9d9f24192596e2)\n(cherry picked from commit dd90b5dbf31ba28ff3e6d54182a8badac4548313)\n'}]",2,554603,76b9cbd12b1fcc3d92fd4b284a90c4238df5c485,27,10,2,4393,,,0,"Add --by-service to discover_hosts

This allows us to discover and map compute hosts by service instead of
by compute node, which will solve a major deployment ordering problem for
people using ironic. This also allows closing a really nasty race when
doing HA of nova-compute/ironic.

Conflicts:
	doc/source/cli/nova-manage.rst

NOTE(danms): Conflicts in nova-manage.rst due to queens not having recent
             changes to the man page.

Change-Id: Ie9f064cb9caf6dcba2414acb24d12b825df45fab
Closes-Bug: #1755602
(cherry picked from commit 005a66d7e0bb716e32d29a6b5c9d9f24192596e2)
(cherry picked from commit dd90b5dbf31ba28ff3e6d54182a8badac4548313)
",git fetch https://review.opendev.org/openstack/nova refs/changes/03/554603/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/host_mapping.py', 'nova/tests/unit/objects/test_host_mapping.py', 'doc/source/cli/nova-manage.rst', 'nova/tests/unit/test_nova_manage.py', 'nova/cmd/manage.py', 'releasenotes/notes/discover-hosts-by-service-06ee20365b895127.yaml']",6,5861f59f2fab5e94fe34f7dfb0f29a584d39a86e,bug/1755602,"--- features: - | The nova-manage discover_hosts command now has a ``--by-service`` option which allows discovering hosts in a cell purely by the presence of a nova-compute binary. At this point, there is no need to use this unless you're using ironic, as it is less efficient. However, if you are using ironic, this allows discovery and mapping of hosts even when no ironic nodes are present.",,149,21
openstack%2Fnova~master~I9860a44512d6bc9a29ce62b55280e374b2935d6a,openstack/nova,master,I9860a44512d6bc9a29ce62b55280e374b2935d6a,Fix comments in get_all_with_shared(),MERGED,2018-01-12 14:30:33.000000000,2018-03-30 17:12:54.000000000,2018-03-30 17:12:54.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25638}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-01-12 14:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d4e665c89bd7e95d62931b6d8230a95f89943f4', 'message': 'Fix comments in get_all_with_shared()\n\nThis patch changes comments in get_all_with_shared()\naddressing the nonblocking review comments from\nhttps://review.openstack.org/#/c/522409/.\n\nChange-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a\n'}, {'number': 2, 'created': '2018-01-12 21:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bf989dd63ade3f38696572327efea928235ac82', 'message': 'Fix comments in get_all_with_shared()\n\nThis patch changes comments in get_all_with_shared()\naddressing the nonblocking review comments from\nhttps://review.openstack.org/#/c/522409/.\n\nChange-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a\n'}, {'number': 3, 'created': '2018-01-14 09:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7b24f5b04e9978ed57e92f43c75bfb0e486418d', 'message': 'Fix comments in get_all_with_shared()\n\nThis patch changes comments in get_all_with_shared() along with\nthe change in https://review.openstack.org/#/c/522409/, where\nSQL condition is fixed to use rp.id.\n\nThis patch also fixes some bugs in comments in the first place,\nsuch as,\n    (total + reserved) * allocation_ratio\nshould be\n    (total - reserved) * allocation_ratio\nin some functions in resource_provider.py.\n\nChange-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a\n'}, {'number': 4, 'created': '2018-01-17 15:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a8ea8b8c82df84d73f8c9f387b2099057d355ee', 'message': 'Fix comments in get_all_with_shared()\n\nThis patch changes comments in get_all_with_shared() along with\nthe change in https://review.openstack.org/#/c/522409/, where\nSQL condition is fixed to use rp.id.\n\nThis patch also fixes some bugs in comments in the first place,\nsuch as,\n    (total + reserved) * allocation_ratio\nshould be\n    (total - reserved) * allocation_ratio\nin some functions in resource_provider.py.\n\nChange-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a\n'}, {'number': 5, 'created': '2018-03-15 02:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/299637cecffe9ddd64271dd3413c477ef31677ec', 'message': 'Fix comments in get_all_with_shared()\n\nThis patch changes comments in get_all_with_shared() along with\nthe change in https://review.openstack.org/#/c/522409/, where\nSQL condition is fixed to use rp.id.\n\nThis patch also fixes some bugs in comments in the first place,\nsuch as,\n    (total + reserved) * allocation_ratio\nshould be\n    (total - reserved) * allocation_ratio\nin some functions in resource_provider.py.\n\nChange-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a\n'}, {'number': 6, 'created': '2018-03-19 04:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3be8aeed08659255b96e254b95674756fe2c100d', 'message': 'Fix comments in get_all_with_shared()\n\nThis patch changes comments in get_all_with_shared() along with\nthe change in https://review.openstack.org/#/c/522409/, where\nSQL condition is fixed to use rp.id.\n\nThis patch also fixes some bugs in comments in the first place,\nsuch as,\n    (total + reserved) * allocation_ratio\nshould be\n    (total - reserved) * allocation_ratio\nin some functions in resource_provider.py.\n\nChange-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a\n'}, {'number': 7, 'created': '2018-03-28 04:51:09.000000000', 'files': ['nova/api/openstack/placement/objects/resource_provider.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac51b5beda7c56612eda47ca6c9977fac1ff0f92', 'message': 'Fix comments in get_all_with_shared()\n\nThis patch changes comments in get_all_with_shared() along with\nthe change in https://review.openstack.org/#/c/522409/, where\nSQL condition is fixed to use rp.id.\n\nThis patch also fixes some bugs in comments in the first place,\nsuch as,\n    (total + reserved) * allocation_ratio\nshould be\n    (total - reserved) * allocation_ratio\nin some functions in resource_provider.py.\n\nChange-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a\n'}]",1,533195,ac51b5beda7c56612eda47ca6c9977fac1ff0f92,100,18,7,25625,,,0,"Fix comments in get_all_with_shared()

This patch changes comments in get_all_with_shared() along with
the change in https://review.openstack.org/#/c/522409/, where
SQL condition is fixed to use rp.id.

This patch also fixes some bugs in comments in the first place,
such as,
    (total + reserved) * allocation_ratio
should be
    (total - reserved) * allocation_ratio
in some functions in resource_provider.py.

Change-Id: I9860a44512d6bc9a29ce62b55280e374b2935d6a
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/533195/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/resource_provider.py'],1,4d4e665c89bd7e95d62931b6d8230a95f89943f4,trivial," # ON rp.id = inv_{RC_NAME}.resource_provider_id # WHERE resource_class_id = $RC_ID # ON rp.id = usage_{RC_NAME}.resource_provider_id # ON rp.id = shared_{RC_NAME}.resource_provider_id # AND sharing_{RC_NAME}.resource_provider_id IN($RPS_{RC_NAME}) # $AMOUNT % inv_{RC_NAME}.step_size == 0) # COALESCE(usage_{RC_NAME}.used, 0) + $AMOUNT <= # inv_{RC_NAME}.min_unit <= $AMOUNT AND # inv_{RC_NAME}.max_unit >= $AMOUNT AND # $AMOUNT % inv_{RC_NAME}.step_size == 0 # SELECT rp.id # ON rp.id = usage_vcpu.resource_provider_id # ON rp.id = inv_memory_mb.resource_provider_id # AND inv_memory_mb.resource_class_id = $MEMORY_MB_ID # ON rp.id = usage_memory_mb.resource_provider_id # ON rp.id = usage_disk_gb.resource_provider_id # ON rp.id = shared_disk.resource_provider_id # AND sharing_disk_gb.resource_provider_id IN ($RPS_SHARING_DISK) # (inv_vcpu.total - inv_vcpu.reserved) # COALESCE(usage_memory_mb.used, 0) + $AMOUNT_MEMORY_MB <= # (inv_memory_mb.total - inv_memory_mb.reserved) # (inv_disk_gb.total - inv_disk_gb.reserved)"," # ON {JOINING TABLE}.id = inv_{RC_NAME}.resource_provider_id # WHERE resource_class_id = $VCPU_ID # ON inv_{RC_NAME}.resource_provider_id = \ # usage_{RC_NAME}.resource_provider_id # ON {JOINING_TABLE}.id = shared_{RC_NAME}.resource_provider_id # $AMOUNT_VCPU % inv_{RC_NAME}.step_size == 0) # COALESCE(usage_{RC_NAME}.used, 0) + $AMOUNT_VCPU <= # inv_{RC_NAME}.min_unit <= $AMOUNT_VCPU AND # inv_{RC_NAME}.max_unit >= $AMOUNT_VCPU AND # $AMOUNT_VCPU % inv_{RC_NAME}.step_size == 0 # SELECT rp.* # ON inv_vcpu.resource_provider_id = \ # usage_vcpu.resource_provider_id # ON inv_vcpu.resource_provider_id = inv_memory_mb.resource_provider_id # AND inv_memory_mb.resource_class_id = $MEMORY_MB_ID # ON inv_memory_mb.resource_provider_id = \ # usage_memory_mb.resource_provider_id # ON inv_disk_gb.resource_provider_id = \ # usage_disk_gb.resource_provider_id # ON inv_memory_mb.resource_provider_id = \ # shared_disk.resource_provider_id # AND sharing_disk_gb.resource_provider_id IN ($RPS_SHARING_DISK) # (inv_vcpu.total + inv_vcpu.reserved) # COALESCE(usage_memory_mb.used, 0) + $AMOUNT_VCPU <= # (inv_memory_mb.total + inv_memory_mb.reserved) # (inv_disk_gb.total + inv_disk_gb.reserved)",22,26
openstack%2Fnova~stable%2Fpike~I7fde8ce9dea16679e76b0cb2db1427aeeec0c222,openstack/nova,stable/pike,I7fde8ce9dea16679e76b0cb2db1427aeeec0c222,Only attempt a rebuild claim for an evacuation to a new host,MERGED,2018-03-07 18:12:38.000000000,2018-03-30 17:12:47.000000000,2018-03-30 17:12:46.000000000,"[{'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-03-07 18:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c58cc1127d1e2797b42ea4dcb450db866a147717', 'message': ""Only attempt a rebuild claim for an evacuation to a new host\n\nChange I11746d1ea996a0f18b7c54b4c9c21df58cc4714b changed the\nbehavior of the API and conductor when rebuilding an instance\nwith a new image such that the image is run through the scheduler\nfilters again to see if it will work on the existing host that\nthe instance is running on.\n\nAs a result, conductor started passing 'scheduled_node' to the\ncompute which was using it for logic to tell if a claim should be\nattempted. We don't need to do a claim for a rebuild since we're\non the same host.\n\nThis removes the scheduled_node logic from the claim code, as we\nshould only ever attempt a claim if we're evacuating, which we\ncan determine based on the 'recreate' parameter.\n\nConflicts:\n      nova/compute/manager.py\n\nNOTE(mriedem): The conflict is due to change\nI0883c2ba1989c5d5a46e23bcbcda53598707bcbc in Queens.\n\nChange-Id: I7fde8ce9dea16679e76b0cb2db1427aeeec0c222\nCloses-Bug: #1750618\n(cherry picked from commit a39029076c7997236a7f999682fb1e998c474204)\n(cherry picked from commit 3c5e519a8875a9766a0d3a06cb76cceba26634e6)\n""}, {'number': 2, 'created': '2018-03-29 21:59:28.000000000', 'files': ['nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9890f3f69622489a0fd57cb1df354d7aa60161e0', 'message': ""Only attempt a rebuild claim for an evacuation to a new host\n\nChange I11746d1ea996a0f18b7c54b4c9c21df58cc4714b changed the\nbehavior of the API and conductor when rebuilding an instance\nwith a new image such that the image is run through the scheduler\nfilters again to see if it will work on the existing host that\nthe instance is running on.\n\nAs a result, conductor started passing 'scheduled_node' to the\ncompute which was using it for logic to tell if a claim should be\nattempted. We don't need to do a claim for a rebuild since we're\non the same host.\n\nThis removes the scheduled_node logic from the claim code, as we\nshould only ever attempt a claim if we're evacuating, which we\ncan determine based on the 'recreate' parameter.\n\nConflicts:\n      nova/compute/manager.py\n\nNOTE(mriedem): The conflict is due to change\nI0883c2ba1989c5d5a46e23bcbcda53598707bcbc in Queens.\n\nChange-Id: I7fde8ce9dea16679e76b0cb2db1427aeeec0c222\nCloses-Bug: #1750618\n(cherry picked from commit a39029076c7997236a7f999682fb1e998c474204)\n(cherry picked from commit 3c5e519a8875a9766a0d3a06cb76cceba26634e6)\n""}]",0,550555,9890f3f69622489a0fd57cb1df354d7aa60161e0,41,11,2,6873,,,0,"Only attempt a rebuild claim for an evacuation to a new host

Change I11746d1ea996a0f18b7c54b4c9c21df58cc4714b changed the
behavior of the API and conductor when rebuilding an instance
with a new image such that the image is run through the scheduler
filters again to see if it will work on the existing host that
the instance is running on.

As a result, conductor started passing 'scheduled_node' to the
compute which was using it for logic to tell if a claim should be
attempted. We don't need to do a claim for a rebuild since we're
on the same host.

This removes the scheduled_node logic from the claim code, as we
should only ever attempt a claim if we're evacuating, which we
can determine based on the 'recreate' parameter.

Conflicts:
      nova/compute/manager.py

NOTE(mriedem): The conflict is due to change
I0883c2ba1989c5d5a46e23bcbcda53598707bcbc in Queens.

Change-Id: I7fde8ce9dea16679e76b0cb2db1427aeeec0c222
Closes-Bug: #1750618
(cherry picked from commit a39029076c7997236a7f999682fb1e998c474204)
(cherry picked from commit 3c5e519a8875a9766a0d3a06cb76cceba26634e6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/550555/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",2,c58cc1127d1e2797b42ea4dcb450db866a147717,bug/1750618," # A rebuild to the same host should never attempt a rebuild claim. @mock.patch('nova.compute.resource_tracker.ResourceTracker.rebuild_claim', new_callable=mock.NonCallableMock) def test_rebuild_with_new_image(self, mock_rebuild_claim):", def test_rebuild_with_new_image(self):,9,15
openstack%2Fpuppet-aodh~master~I5be8fdc2705988a0fdcc5d3801b67078e7acb2c3,openstack/puppet-aodh,master,I5be8fdc2705988a0fdcc5d3801b67078e7acb2c3,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:37.000000000,2018-03-30 17:11:26.000000000,2018-03-30 17:11:26.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:37.000000000', 'files': ['releasenotes/notes/remove_deprecated_ensure_package_option-825213ae8953e207.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/7023c98764a6935a24c2c74d2df1fc463986dcd9', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: I5be8fdc2705988a0fdcc5d3801b67078e7acb2c3\n'}]",0,557604,7023c98764a6935a24c2c74d2df1fc463986dcd9,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: I5be8fdc2705988a0fdcc5d3801b67078e7acb2c3
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/04/557604/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_deprecated_ensure_package_option-825213ae8953e207.yaml', 'manifests/init.pp']",2,7023c98764a6935a24c2c74d2df1fc463986dcd9,remove_ensure_package," package { 'aodh': ensure => $package_ensure,","# [*ensure_package*] # (optional) The state of aodh packages # Defaults to undef # $ensure_package = undef, if $ensure_package { warning(""aodh::ensure_package is deprecated and will be removed in \ the future release. Please use aodh::package_ensure instead."") $package_ensure_real = $ensure_package } else { $package_ensure_real = $package_ensure } package { 'aodh': ensure => $package_ensure_real,",4,14
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fqueens~I992c045273646995a6d9cebb6ea10db214ff588a,openstack/openstack-ansible-openstack_hosts,stable/queens,I992c045273646995a6d9cebb6ea10db214ff588a,Add retries to requirement package install,MERGED,2018-03-30 16:43:31.000000000,2018-03-30 17:08:49.000000000,2018-03-30 17:08:49.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 16:43:31.000000000', 'files': ['tasks/openstack_hosts_configure_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6b4a115ab0fba9dba8273691cb2c22bca926f7c4', 'message': 'Add retries to requirement package install\n\nThe requirement package install task includes two actions:\n1. update the apt cache\n2. install the packages from a remote mirror\n\nBoth of these may fail due to transient issues and should\ntherefore be retried.\n\nChange-Id: I992c045273646995a6d9cebb6ea10db214ff588a\n(cherry picked from commit eced28f9a95eb09383116035f40329410bbbccc4)\n'}]",0,557966,6b4a115ab0fba9dba8273691cb2c22bca926f7c4,7,3,1,6816,,,0,"Add retries to requirement package install

The requirement package install task includes two actions:
1. update the apt cache
2. install the packages from a remote mirror

Both of these may fail due to transient issues and should
therefore be retried.

Change-Id: I992c045273646995a6d9cebb6ea10db214ff588a
(cherry picked from commit eced28f9a95eb09383116035f40329410bbbccc4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/66/557966/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_apt.yml'],1,6b4a115ab0fba9dba8273691cb2c22bca926f7c4,, register: _install_packages until: _install_packages | success retries: 5 delay: 2,,4,0
openstack%2Fpuppet-panko~master~I40cc47c2001e86914177cb38a91392fa8d9a56ba,openstack/puppet-panko,master,I40cc47c2001e86914177cb38a91392fa8d9a56ba,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:37.000000000,2018-03-30 16:58:38.000000000,2018-03-30 16:58:38.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:37.000000000', 'files': ['releasenotes/notes/remove_deprecated_ensure_package_option-8af908c11bc0b950.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/f92f708d4c1c2f67ed0da709e0553341dda67432', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: I40cc47c2001e86914177cb38a91392fa8d9a56ba\n'}]",0,557603,f92f708d4c1c2f67ed0da709e0553341dda67432,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: I40cc47c2001e86914177cb38a91392fa8d9a56ba
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/03/557603/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_deprecated_ensure_package_option-8af908c11bc0b950.yaml', 'manifests/init.pp']",2,f92f708d4c1c2f67ed0da709e0553341dda67432,remove_ensure_package," package { 'panko': ensure => $package_ensure,","# DEPRECATED PARAMETERS # # [*ensure_package*] # (optional) The state of panko packages # Defaults to undef # # DEPRECATED PARAMETERS $ensure_package = undef, if $ensure_package { warning(""panko::ensure_package is deprecated and will be removed in \ the future release. Please use panko::package_ensure instead."") $package_ensure_real = $ensure_package } else { $package_ensure_real = $package_ensure } package { 'panko': ensure => $package_ensure_real,",4,17
openstack%2Fopenstack-helm~master~Ia17cdabd38291c1365aab7aca71dd59ee9a32b4f,openstack/openstack-helm,master,Ia17cdabd38291c1365aab7aca71dd59ee9a32b4f,Fix indent on Postgres pod resources,MERGED,2018-03-29 13:32:25.000000000,2018-03-30 16:53:43.000000000,2018-03-30 16:53:43.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 24165}]","[{'number': 1, 'created': '2018-03-29 13:32:25.000000000', 'files': ['postgresql/templates/statefulset.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1233817ae97224fb2bf60a1c2dc93cca7a621a7f', 'message': 'Fix indent on Postgres pod resources\n\n- Properly align the `resources` key in the Postgres\n  server pod spec.\n\nChange-Id: Ia17cdabd38291c1365aab7aca71dd59ee9a32b4f\n'}]",0,557708,1233817ae97224fb2bf60a1c2dc93cca7a621a7f,8,7,1,26449,,,0,"Fix indent on Postgres pod resources

- Properly align the `resources` key in the Postgres
  server pod spec.

Change-Id: Ia17cdabd38291c1365aab7aca71dd59ee9a32b4f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/08/557708/1 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/templates/statefulset.yaml'],1,1233817ae97224fb2bf60a1c2dc93cca7a621a7f,postgres_res_limits,"{{ tuple $envAll $envAll.Values.pod.resources.server | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 8 }}","{{ tuple $envAll $envAll.Values.pod.resources.server | include ""helm-toolkit.snippets.kubernetes_resources"" | indent 10 }}",1,1
openstack%2Fpuppet-designate~master~I4c5efcd60ef2582a47861c0ad0f96079837bb7a5,openstack/puppet-designate,master,I4c5efcd60ef2582a47861c0ad0f96079837bb7a5,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:46.000000000,2018-03-30 16:52:25.000000000,2018-03-30 16:52:25.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:46.000000000', 'files': ['manifests/generic_service.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-b1a7d2a9e67af4c0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8c891f34a95f2a27251ddc60875c816b3f4ba822', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: I4c5efcd60ef2582a47861c0ad0f96079837bb7a5\n'}]",0,557610,8c891f34a95f2a27251ddc60875c816b3f4ba822,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: I4c5efcd60ef2582a47861c0ad0f96079837bb7a5
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/10/557610/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/generic_service.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-b1a7d2a9e67af4c0.yaml']",2,8c891f34a95f2a27251ddc60875c816b3f4ba822,remove_ensure_package,--- upgrade: - Deprecated ensure_package option has been removed. ,,4,17
openstack%2Fpuppet-barbican~master~Ia368b6d359d20fe84e438bda23e558a5b71ed918,openstack/puppet-barbican,master,Ia368b6d359d20fe84e438bda23e558a5b71ed918,Remove deprecated ensure_package option,MERGED,2018-03-29 05:51:03.000000000,2018-03-30 16:47:51.000000000,2018-03-30 16:47:51.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:51:03.000000000', 'files': ['releasenotes/notes/remove_deprecated_ensure_package_option-93527d0ab3e932f0.yaml', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/8fc5ab3224bda9647d1e2fd94e5b03e63c6cd7f5', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: Ia368b6d359d20fe84e438bda23e558a5b71ed918\n'}]",0,557611,8fc5ab3224bda9647d1e2fd94e5b03e63c6cd7f5,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: Ia368b6d359d20fe84e438bda23e558a5b71ed918
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/11/557611/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_deprecated_ensure_package_option-93527d0ab3e932f0.yaml', 'manifests/api.pp']",2,8fc5ab3224bda9647d1e2fd94e5b03e63c6cd7f5,remove_ensure_package," ensure => $package_ensure,","# [*ensure_package*] # (optional) The state of barbican packages # Defaults to undef # $ensure_package = undef, if $ensure_package { warning(""barbican::api::ensure_package is deprecated and will be removed in \ the future release. Please use barbican::api::package_ensure instead."") $package_ensure_real = $ensure_package } else { $package_ensure_real = $package_ensure } ensure => $package_ensure_real,",4,14
openstack%2Fpuppet-gnocchi~master~I4f4e1993795625a24785ce548cd06f2447e13349,openstack/puppet-gnocchi,master,I4f4e1993795625a24785ce548cd06f2447e13349,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:36.000000000,2018-03-30 16:47:13.000000000,2018-03-30 16:47:13.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:36.000000000', 'files': ['manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-b6afaafe8e6bf9fd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/e3b7c250a82b022765641c30c861b281d428d7c4', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: I4f4e1993795625a24785ce548cd06f2447e13349\n'}]",0,557602,e3b7c250a82b022765641c30c861b281d428d7c4,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: I4f4e1993795625a24785ce548cd06f2447e13349
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/02/557602/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/db.pp', 'manifests/init.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-b6afaafe8e6bf9fd.yaml']",3,e3b7c250a82b022765641c30c861b281d428d7c4,remove_ensure_package,--- upgrade: - Deprecated ensure_package option has been removed. ,,5,34
openstack%2Fpuppet-trove~master~I4d667ea525c9b7a48d8175b37c1cdfb55543ed39,openstack/puppet-trove,master,I4d667ea525c9b7a48d8175b37c1cdfb55543ed39,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:45.000000000,2018-03-30 16:47:07.000000000,2018-03-30 16:47:07.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:45.000000000', 'files': ['manifests/generic_service.pp', 'manifests/conductor.pp', 'manifests/api.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-a4088afe0b345a44.yaml', 'manifests/taskmanager.pp', 'manifests/guestagent.pp'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/2a99e642d8d3761dfdfc3af49fc0a3da47d27757', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: I4d667ea525c9b7a48d8175b37c1cdfb55543ed39\n'}]",0,557609,2a99e642d8d3761dfdfc3af49fc0a3da47d27757,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: I4d667ea525c9b7a48d8175b37c1cdfb55543ed39
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/09/557609/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/generic_service.pp', 'manifests/conductor.pp', 'manifests/api.pp', 'manifests/taskmanager.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-a4088afe0b345a44.yaml', 'manifests/guestagent.pp']",6,2a99e642d8d3761dfdfc3af49fc0a3da47d27757,remove_ensure_package," package_ensure => $package_ensure,","# [*ensure_package*] # (optional) The state of the trove guest agent package # Defaults to undef # $ensure_package = undef, if $ensure_package { warning(""trove::guestagent::ensure_package is deprecated and will be removed \ in the future release. Please use trove::guestagent::package_ensure instead."") $package_ensure_real = $ensure_package } else { $package_ensure_real = $package_ensure } package_ensure => $package_ensure_real,",8,79
openstack%2Fopenstack-ansible-openstack_hosts~master~I992c045273646995a6d9cebb6ea10db214ff588a,openstack/openstack-ansible-openstack_hosts,master,I992c045273646995a6d9cebb6ea10db214ff588a,Add retries to requirement package install,MERGED,2018-03-30 15:25:59.000000000,2018-03-30 16:43:31.000000000,2018-03-30 16:41:40.000000000,"[{'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 15:25:59.000000000', 'files': ['tasks/openstack_hosts_configure_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/eced28f9a95eb09383116035f40329410bbbccc4', 'message': 'Add retries to requirement package install\n\nThe requirement package install task includes two actions:\n1. update the apt cache\n2. install the packages from a remote mirror\n\nBoth of these may fail due to transient issues and should\ntherefore be retried.\n\nChange-Id: I992c045273646995a6d9cebb6ea10db214ff588a\n'}]",0,557943,eced28f9a95eb09383116035f40329410bbbccc4,8,3,1,6816,,,0,"Add retries to requirement package install

The requirement package install task includes two actions:
1. update the apt cache
2. install the packages from a remote mirror

Both of these may fail due to transient issues and should
therefore be retried.

Change-Id: I992c045273646995a6d9cebb6ea10db214ff588a
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/43/557943/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_apt.yml'],1,eced28f9a95eb09383116035f40329410bbbccc4,, register: _install_packages until: _install_packages | success retries: 5 delay: 2,,4,0
openstack%2Fpuppet-watcher~master~I3c5d099bea57fde3816877efdfce9ed69650c964,openstack/puppet-watcher,master,I3c5d099bea57fde3816877efdfce9ed69650c964,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:44.000000000,2018-03-30 16:35:57.000000000,2018-03-30 16:35:57.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 27609}]","[{'number': 1, 'created': '2018-03-29 05:50:44.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-989408783eac7d73.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/edc11d0bd979d64ebf498e1aed1a2cec92f1a2b4', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: I3c5d099bea57fde3816877efdfce9ed69650c964\n'}]",0,557607,edc11d0bd979d64ebf498e1aed1a2cec92f1a2b4,8,4,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: I3c5d099bea57fde3816877efdfce9ed69650c964
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/07/557607/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/remove_deprecated_ensure_package_option-989408783eac7d73.yaml']",2,edc11d0bd979d64ebf498e1aed1a2cec92f1a2b4,remove_ensure_package,--- upgrade: - Deprecated ensure_package option has been removed. ,,4,14
openstack%2Fpuppet-octavia~master~If45fc4c3aeb97520d7b430cf6529fd453a1a324c,openstack/puppet-octavia,master,If45fc4c3aeb97520d7b430cf6529fd453a1a324c,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:37.000000000,2018-03-30 16:14:56.000000000,2018-03-30 16:14:56.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:37.000000000', 'files': ['releasenotes/notes/remove_deprecated_ensure_package_option-8b6ede6e5dc3761c.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1f3ee8eccb1f5d00e4ba6f205944e858f04facf4', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: If45fc4c3aeb97520d7b430cf6529fd453a1a324c\n'}]",0,557605,1f3ee8eccb1f5d00e4ba6f205944e858f04facf4,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: If45fc4c3aeb97520d7b430cf6529fd453a1a324c
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/05/557605/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_deprecated_ensure_package_option-8b6ede6e5dc3761c.yaml', 'manifests/init.pp']",2,1f3ee8eccb1f5d00e4ba6f205944e858f04facf4,remove_ensure_package," ensure => $package_ensure,","# [*ensure_package*] # (optional) The state of aodh packages # Defaults to undef # $ensure_package = undef, if $ensure_package { warning(""octavia::ensure_package is deprecated and will be removed in \ the future release. Please use octavia::package_ensure instead."") $package_ensure_real = $ensure_package } else { $package_ensure_real = $package_ensure } ensure => $package_ensure_real,",4,14
openstack%2Fpuppet-rally~master~Ic750e3905871bd7faad19ab764e7b762441a6304,openstack/puppet-rally,master,Ic750e3905871bd7faad19ab764e7b762441a6304,Remove deprecated ensure_package option,MERGED,2018-03-29 05:50:44.000000000,2018-03-30 16:01:56.000000000,2018-03-30 16:01:56.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 05:50:44.000000000', 'files': ['releasenotes/notes/remove_deprecated_ensure_package_option-a07df1c72c1926a6.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/d6636b66668843d7674fb9434c19cec5232e12eb', 'message': 'Remove deprecated ensure_package option\n\nChange-Id: Ic750e3905871bd7faad19ab764e7b762441a6304\n'}]",0,557606,d6636b66668843d7674fb9434c19cec5232e12eb,7,3,1,9414,,,0,"Remove deprecated ensure_package option

Change-Id: Ic750e3905871bd7faad19ab764e7b762441a6304
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/06/557606/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_deprecated_ensure_package_option-a07df1c72c1926a6.yaml', 'manifests/init.pp']",2,d6636b66668843d7674fb9434c19cec5232e12eb,remove_ensure_package," package { 'rally': ensure => $package_ensure,","# DEPRECATED PARAMETERS # # [*ensure_package*] # (optional) The state of rally packages # Defaults to undef. # # DEPRECATED PARAMETERS $ensure_package = undef, if $ensure_package { warning(""rally::ensure_package is deprecated and will be removed in \ the future release. Please use rally::package_ensure instead."") $package_ensure_real = $ensure_package } else { $package_ensure_real = $package_ensure } package { 'rally': ensure => $package_ensure_real,",4,17
openstack%2Fmonasca-transform~stable%2Fpike~I82b00e9d88704835537cfd0285678b94bcc0f3a8,openstack/monasca-transform,stable/pike,I82b00e9d88704835537cfd0285678b94bcc0f3a8,Set region in metric meta from config file,MERGED,2018-03-29 16:23:48.000000000,2018-03-30 16:00:14.000000000,2018-03-30 16:00:14.000000000,"[{'_account_id': 10311}, {'_account_id': 11934}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26733}]","[{'number': 1, 'created': '2018-03-29 16:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/cd80d38e984ed5985bd51b31da1b332b6d46ce5a', 'message': ""Set region in metric meta from config file\n\n- set region in 'meta' section of aggregated\n  metric from config file.\n\nChange-Id: I82b00e9d88704835537cfd0285678b94bcc0f3a8\nTask: 12164\nStory: 2001764\n""}, {'number': 2, 'created': '2018-03-29 16:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/fcacdabda85b3084f3b9b8d2c627146486a63579', 'message': ""Set region in metric meta from config file\n\n- set region in 'meta' section of aggregated\n  metric from config file.\n\nChange-Id: I82b00e9d88704835537cfd0285678b94bcc0f3a8\nTask: 12164\nStory: 2001764\n(cherry picked from commit 3589dd0820ddc46456ce3575c929b8f6f5fcf071)\n""}, {'number': 3, 'created': '2018-03-29 20:01:44.000000000', 'files': ['monasca_transform/component/insert/__init__.py', 'etc/monasca-transform.conf', 'monasca_transform/config/config_initializer.py'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/b5acdd55b8c558f691f93a33417d75496d98b7b7', 'message': ""Set region in metric meta from config file\n\n- set region in 'meta' section of aggregated\n  metric from config file.\n\nChange-Id: I82b00e9d88704835537cfd0285678b94bcc0f3a8\nTask: 12164\nStory: 2001764\n(cherry picked from commit 3589dd0820ddc46456ce3575c929b8f6f5fcf071)\n""}]",0,557751,b5acdd55b8c558f691f93a33417d75496d98b7b7,13,5,3,11580,,,0,"Set region in metric meta from config file

- set region in 'meta' section of aggregated
  metric from config file.

Change-Id: I82b00e9d88704835537cfd0285678b94bcc0f3a8
Task: 12164
Story: 2001764
(cherry picked from commit 3589dd0820ddc46456ce3575c929b8f6f5fcf071)
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/51/557751/3 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_transform/component/insert/__init__.py', 'etc/monasca-transform.conf', 'monasca_transform/config/config_initializer.py']",3,cd80d38e984ed5985bd51b31da1b332b6d46ce5a,," cfg.StrOpt('publish_region', default='useast', help='publish aggregated metrics region'),",,5,1
openstack%2Ftripleo-heat-templates~master~I34368c6831a6c849541a8ccf90dfc4415c115092,openstack/tripleo-heat-templates,master,I34368c6831a6c849541a8ccf90dfc4415c115092,FFU: Add support for panko service upgrade,MERGED,2018-01-15 19:11:31.000000000,2018-03-30 15:59:06.000000000,2018-03-29 11:10:16.000000000,"[{'_account_id': 3153}, {'_account_id': 6133}, {'_account_id': 6924}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 10135}, {'_account_id': 11166}, {'_account_id': 18851}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-01-15 19:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8a2dbd288a3391508c475fd83fbd13b6308e7e56', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 2, 'created': '2018-01-22 15:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39adb4d725c8d9aa27eab86d25f4aca08973982e', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 3, 'created': '2018-01-22 21:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cef1b7ce2a85b11f69eb0d776ec24795ece73b1e', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 4, 'created': '2018-01-23 18:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85c7083e0266d16690b40b2d815f5083f1a0a615', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 5, 'created': '2018-01-24 10:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d509b7e2a443d7719a0c447e76f2eb616fecfd30', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 6, 'created': '2018-01-26 15:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/744dab92c774e4848f790efaa5ab24d536e9a7cb', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 7, 'created': '2018-02-09 19:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c94f24f14b5d152c11a5519a7975878680afaa7', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 8, 'created': '2018-02-21 01:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01a4b641da42499a89f8c220df2eb2209bb1b971', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 9, 'created': '2018-02-21 15:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5db22dd647c71ddfb6e967c43eea9c3083ebf3f9', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 10, 'created': '2018-03-02 11:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b41753d2a521834735336b50b5bd651c663900ee', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 11, 'created': '2018-03-08 15:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/970044aa30adcfe467477dd5098332552f9a269d', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 12, 'created': '2018-03-09 16:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5b5e033df1015acd91193a90ad8defb9b8ca888', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 13, 'created': '2018-03-15 20:52:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e62aed8ef33b5c43ad017e00e19416bdb755f280', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 14, 'created': '2018-03-28 17:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0d6988ed30f311acc3ea42ae30514a30ac2f7806', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}, {'number': 15, 'created': '2018-03-28 17:41:45.000000000', 'files': ['docker/services/panko-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bd48087520c5f0846363bdc0c025508ba450ceb3', 'message': 'FFU: Add support for panko service upgrade\n\nAdd fast forward upgrade tasks to upgrade panko api service.\n\nbp fast-forward-upgrades\n\nChange-Id: I34368c6831a6c849541a8ccf90dfc4415c115092\n'}]",40,533764,bd48087520c5f0846363bdc0c025508ba450ceb3,101,11,15,6924,,,0,"FFU: Add support for panko service upgrade

Add fast forward upgrade tasks to upgrade panko api service.

bp fast-forward-upgrades

Change-Id: I34368c6831a6c849541a8ccf90dfc4415c115092
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/533764/4 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/panko-api.yaml'],1,8a2dbd288a3391508c475fd83fbd13b6308e7e56,bp/fast-forward-upgrades, fast_forward_upgrade_tasks: - name: Stop panko (under httpd) service: name=httpd state=stopped enabled=no when: (step|int == 2) and (release == 'ocata') - name: Panko package update yum: name: '{{ package }}' state: latest when: (step|int == 6) and (release == 'ocata') loop_control: loop_var: package with_items: - openstack-panko-api - python2-pankoclient - name: panko db sync command: panko-dbsync when: (step|int == 8) and (release == 'ocata'),,17,0
openstack%2Fpuppet-openstack-guide~master~I77d27b06ba94c869798d79eed68f8936ba359901,openstack/puppet-openstack-guide,master,I77d27b06ba94c869798d79eed68f8936ba359901,Remove tripleo-ci from gate,MERGED,2018-03-30 01:41:25.000000000,2018-03-30 15:52:45.000000000,2018-03-30 15:52:45.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 01:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/f533725946021dc1e8d29499bf9159b73a5bfa4c', 'message': 'Remove tripleo-ci from gate\n\nNow the puppet openstack modules do not run the tripleo test. We can\nremove it.\n\nChange-Id: I77d27b06ba94c869798d79eed68f8936ba359901\n'}, {'number': 2, 'created': '2018-03-30 01:42:48.000000000', 'files': ['doc/source/contributor/ci.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/d2493ac70270080104edd964f8197ea53145974d', 'message': 'Remove tripleo-ci from gate\n\nNow the puppet openstack modules do not run the tripleo test. We can\nremove it.\n\nChange-Id: I77d27b06ba94c869798d79eed68f8936ba359901\n'}]",0,557864,d2493ac70270080104edd964f8197ea53145974d,8,3,2,9414,,,0,"Remove tripleo-ci from gate

Now the puppet openstack modules do not run the tripleo test. We can
remove it.

Change-Id: I77d27b06ba94c869798d79eed68f8936ba359901
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/64/557864/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/ci.rst'],1,f533725946021dc1e8d29499bf9159b73a5bfa4c,fix,," * - gate-tripleo-ci-centos-7-nonha-multinode-nv - Deploy a `TripleO <http://docs.openstack.org/developer/tripleo-docs/>`__ overcloud by running Puppet OpenStack modules. - Yes - If it's not a TripleO CI downtime, you can dig into logs/postci.txt.gz to see why catalog is failing (grep Error). Also make sure to consult the `status of TripleO CI <http://tripleo.org/cistatus.html>`__.",0,7
openstack%2Fnova-specs~master~I805e7e071384eddbd88e69fe90ab65024b5c0796,openstack/nova-specs,master,I805e7e071384eddbd88e69fe90ab65024b5c0796,Update the vGPU spec,MERGED,2018-03-30 09:12:29.000000000,2018-03-30 15:39:54.000000000,2018-03-30 15:39:54.000000000,"[{'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 09:12:29.000000000', 'files': ['specs/queens/implemented/add-support-for-vgpu.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b81e7f0c23c346a7cf14abb406f72c7022873713', 'message': ""Update the vGPU spec\n\nThe display heads was designed as consumable resource; but actually\nit's not. We will change to make it as vGPU's trait. This commit\nis to reflect this change and also refine some sections to make the\ndocument be rendered better.\n\nChange-Id: I805e7e071384eddbd88e69fe90ab65024b5c0796\nblueprint: vgpu-rocky\n""}]",0,557912,b81e7f0c23c346a7cf14abb406f72c7022873713,7,4,1,17920,,,0,"Update the vGPU spec

The display heads was designed as consumable resource; but actually
it's not. We will change to make it as vGPU's trait. This commit
is to reflect this change and also refine some sections to make the
document be rendered better.

Change-Id: I805e7e071384eddbd88e69fe90ab65024b5c0796
blueprint: vgpu-rocky
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/12/557912/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/implemented/add-support-for-vgpu.rst'],1,b81e7f0c23c346a7cf14abb406f72c7022873713,bp/vgpu-rocky," | Max Resolution | 2560x1600 | 1920x1200 |* Define resource tracking model for vGPU: There are both **quantitative** and **qualitative** aspects need to be tracked for vGPU resources. amount of vGPUs (``ResourceClass.VGPU``) in the resource providers. available. The resource tracking model is as the following:: / | \ inventory: vGPU_inv_1 vGPU_inv_2 ... vGPU_inv_n the hypervisor to get the existing pGPUs, their capacity for vGPUs. compute_node's children[`nested-resource-providers`_]. * *RP for GPU*: For example, libvirt will report the available vGPU number for each pGPU. In this way, if there are multiple pGPUs (same model), it can create one type of vGPUs on a pGPU and create other types of vGPUs on the remaining pGPUs. * *RP for pGPU group*: XenServer uses pGPU groups to manage pGPUs. A pGPU group is a collection of pGPUs which belong to the same model. On creating vGPU, it will search the target group for a GPU which can supply the requested vGPU. In another word, **it is not possible to specify which pGPU the vGPU to be created on**. So XenAPI (the virt of XenServer) should make RP for each pGPU group. And the amount of in the inventory should be total number of vGPUs which can be supplied by pGPUs belong the group. ""GRID M60-0B"". If we want to enable this vGPU type, .. code:: enabled_vgpu_types = [ ""nvidia-11"" ] .. code:: enabled_vgpu_types = [ ""GRID M60-0B"" ] The vGPU resource number should be 8 (4 GPU per card * 2 vGPU per GPU). The inventory data for the resource provider for vGPUs should be as: .. code:: { obj_fields.ResourceClass.vGPU: { ""total"": 8, ""reserved"": 0, ""min_unit"": 1, ""max_unit"": 1, ""step_size"": 1, ""allocation_ratio"": 1.0 }, } * The feature of traits is targeted to support representing *qualitative* aspects for resources to differentiate their characteristics[`os-traits`_]. * GPUs also have different characteristics. We define traits for GPUs in os-traits[`gpu-traits`_]: include `maximum display heads`, `resolutions`, `features`. In virt driver, it should query for the `qualitative` aspects of the vGPU resources; map them to the defined traits and associate these traits to the resource providers. * Define flavor: allow the cloud administrator to create different flavors* Scheduler: Basing on the amount of vGPU and the required traits, the resource* At spawning an instance, the virt drivers should retrieve the vGPU amount of vGPU to be requested, and other expected traits (e.g. the dispaly resolutions, display heads, features), so that users can use different flavor to request vGPUs basing on their graphics processing demands.* Define standard traits into os-traits for GPUs; * In virt driver, add code to:"," | Max Resolution | 2560x1600 | 1920×1200 |# Define resource tracking model for vGPU: There are both **quantitative** and **qualitative** aspects need to be tracked for vGPU resources: amount of vGPUs (``ResourceClass.VGPU``) and define another resource class (``ResourceClass.VGPU_DISPLAY_HEAD``) to track the display heads in the resource providers. available and the number of vGPU display heads. The resource tracking model is as the following:: / | \ inventory: vGPU_inv_1 vGPU_inv_2 ... vGPU_inv_n DIS_HEAD_inv_1 DIS_HEAD_inv_2 ... DIS_HEAD_inv_n the hypervisor to get the existing pGPUs, their capacity for vGPUs and the number of vGPU display heads. Note: if the hypervisor doesn't return the number of display heads, then the VGPU_DISPLAY_HEAD inventory record should not be created. compute_node's children `nested-resource-providers`_. * *RP for GPU*: For example, libvirt will report the available vGPU number for each pGPU. In this way, if there are multiple pGPUs (same model), it can create one type of vGPUs on a pGPU and create other types of vGPUs on the remaining pGPUs. * *RP for pGPU group*: XenServer uses pGPU groups to manage pGPUs. A pGPU group is a collection of pGPUs which belong to the same model. On creating vGPU, it will search the target group for a GPU which can supply the requested vGPU. In another word, **it is not possible to specify which pGPU the vGPU to be created on**. So XenAPI (the virt of XenServer) should make RP for each pGPU group. And the amount of in the inventory should be total number of vGPUs which can be supplied by pGPUs belong the group. ""GRID M60-0B"". If we want to enable this vGPU type:: enabled_vgpu_types = [ ""nvidia-11"" ] enabled_vgpu_types = [ ""GRID M60-0B"" ] The vGPU resource number should be 8 (4 GPU per card * 2 vGPU per GPU); The display heads's total number is 32 (4 heads per vGPU * 8 vGPUs). And the inventory data for the resource provider for vGPUs should be as:: { obj_fields.ResourceClass.vGPU: { ""total"": 8, ""reserved"": 0, ""min_unit"": 1, ""max_unit"": 1, ""step_size"": 1, ""allocation_ratio"": 1.0 }, obj_fields.ResourceClass.GPU_DISPLAY_HEADS: { ""total"":32, ""reserved"": 0, ""min_unit"": 4, ""max_unit"": 4, ""step_size"": 4, ""allocation_ratio"": 1.0 } } The feature of traits is targeted to support representing *qualitative* aspects for resources to differentiate their characteristics(`os-traits`_) GPUs also have different characteristics: e.g. the maximum resolutions, supported features. We need define traits for GPUs. In virt driver (in the function of ``get_inventory()``), it should query for the **qualitative** aspects of the vGPU resources; map them to the defined traits and associate these traits to the resource providers. * Define traits in os-traits Note: `_gpu-traits` the following two trait types for vGPU have already be merged to os-traits. * `supported-resolutions`_ * `supported-features`_ # Define flavor: allow the cloud administrator to create different flavors# Scheduler: Basing on the amount of vGPU and the required traits, the resource# At spawning an instance, the virt drivers should retrieve the vGPU amount of vGPU to be requested, the expected amount of display heads, and other expected traits (e.g. the dispaly resolutions, features), so that users can use different flavor to request vGPUs basing on their graphics processing demands.# Define standard traits into os-traits for GPUs; # In virt driver, add code to:.. _supported-resolutions: https://github.com/openstack/os-traits/blob/master/os_traits/hw/gpu/resolution.py .. _supported-features: https://github.com/openstack/os-traits/blob/master/os_traits/hw/gpu/api.py ",65,79
openstack%2Fglance~master~Ieea44dd05f8d164ed4c27f1205fb29b6e66d9660,openstack/glance,master,Ieea44dd05f8d164ed4c27f1205fb29b6e66d9660,Update Glance landing pages,MERGED,2018-03-20 17:22:05.000000000,2018-03-30 15:27:47.000000000,2018-03-30 15:27:47.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-20 17:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f712b6a6b04800e3ba0658f806e80e8531c3fa3d', 'message': ""Update Glance landing pages\n\nCurrently https://docs.openstack.org/glance/latest/ is a long\nunorganized list of documentation links.  This patch revises that\npage and the 'Glance Contribution Guidelines' page to make it\neasier to locate content.\n\nChange-Id: Ieea44dd05f8d164ed4c27f1205fb29b6e66d9660\n""}, {'number': 2, 'created': '2018-03-20 19:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/fbfa60058d6f75317271430abbc356e41708dcb8', 'message': ""Update Glance landing pages\n\nCurrently https://docs.openstack.org/glance/latest/ is a long\nunorganized list of documentation links.  This patch revises that\npage and the 'Glance Contribution Guidelines' page to make it\neasier to locate content.  Also updates the main heading on other\nindex pages.\n\nChange-Id: Ieea44dd05f8d164ed4c27f1205fb29b6e66d9660\n""}, {'number': 3, 'created': '2018-03-20 20:04:58.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/index.rst', 'doc/source/user/index.rst', 'doc/source/install/index.rst', 'doc/source/contributor/index.rst', 'doc/source/cli/index.rst', 'doc/source/deprecation-note.inc'], 'web_link': 'https://opendev.org/openstack/glance/commit/b13987cd415cb6e6d8088aa66b46ea0fe4db50b5', 'message': ""Update Glance landing pages\n\nCurrently https://docs.openstack.org/glance/latest/ is a long\nunorganized list of documentation links.  This patch revises that\npage and the 'Glance Contribution Guidelines' page to make it\neasier to locate content.  Also updates the main heading on other\nindex pages.\n\nChange-Id: Ieea44dd05f8d164ed4c27f1205fb29b6e66d9660\n""}]",1,554638,b13987cd415cb6e6d8088aa66b46ea0fe4db50b5,21,5,3,5314,,,0,"Update Glance landing pages

Currently https://docs.openstack.org/glance/latest/ is a long
unorganized list of documentation links.  This patch revises that
page and the 'Glance Contribution Guidelines' page to make it
easier to locate content.  Also updates the main heading on other
index pages.

Change-Id: Ieea44dd05f8d164ed4c27f1205fb29b6e66d9660
",git fetch https://review.opendev.org/openstack/glance refs/changes/38/554638/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/contributor/index.rst', 'doc/source/deprecation-note.inc']",3,f712b6a6b04800e3ba0658f806e80e8531c3fa3d,new-landing-page,".. note:: The Images API v1, DEPRECATED in the Newton release, has been removed.",".. note:: The Images API v1 has been DEPRECATED in the Newton release. The migration path is to use the `Images API v2 <http://developer.openstack.org/api-ref/image/v2/>`_ instead of version 1 of the API. The Images API v1 will ultimately be removed, following the `OpenStack standard deprecation policy <https://governance.openstack.org/reference/tags/assert_follows-standard-deprecation.html>`_.",78,38
openstack%2Fdevstack~stable%2Fqueens~I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1,openstack/devstack,stable/queens,I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1,Allow public router external net to use a non-flat provider network.,MERGED,2018-03-21 16:55:20.000000000,2018-03-30 15:27:46.000000000,2018-03-30 15:27:46.000000000,"[{'_account_id': 162}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 14757}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 16:55:20.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f1fa7fc86b0bc69a19861ca937d2d7890d60a936', 'message': 'Allow public router external net to use a non-flat provider network.\n\nAllow users to auto-create a neutron non-flat providernet public network\nand use it for external router interfaces.  By default, keep the existing\nflat network type behavior.\n\nChange-Id: I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1\n(cherry picked from commit bb7d2f233b92a3f9ee17ad0702fecb68bbf1e712)\n'}]",0,554988,f1fa7fc86b0bc69a19861ca937d2d7890d60a936,13,8,1,14757,,,0,"Allow public router external net to use a non-flat provider network.

Allow users to auto-create a neutron non-flat providernet public network
and use it for external router interfaces.  By default, keep the existing
flat network type behavior.

Change-Id: I64f71b0c9fcac97b9b84b7d30ee61659b2a690f1
(cherry picked from commit bb7d2f233b92a3f9ee17ad0702fecb68bbf1e712)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/554988/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,f1fa7fc86b0bc69a19861ca937d2d7890d60a936,providernet_pub_vlan-stable/queens,"# Use providernet for public network# If Q_USE_PROVIDERNET_FOR_PUBLIC=True, use a provider network# # The provider-network-type defaults to flat, however, the values # PUBLIC_PROVIDERNET_TYPE and PUBLIC_PROVIDERNET_SEGMENTATION_ID could # be set to specify the parameters for an alternate network type. EXT_NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create ""$PUBLIC_NETWORK_NAME"" $EXTERNAL_NETWORK_FLAGS --provider-network-type ${PUBLIC_PROVIDERNET_TYPE:-flat} ${PUBLIC_PROVIDERNET_SEGMENTATION_ID:+--provider-segment $PUBLIC_PROVIDERNET_SEGMENTATION_ID} --provider-physical-network ${PUBLIC_PHYSICAL_NETWORK} | grep ' id ' | get_field 2)","# Use flat providernet for public network# If Q_USE_PROVIDERNET_FOR_PUBLIC=True, use a flat provider network EXT_NET_ID=$(openstack --os-cloud devstack-admin --os-region ""$REGION_NAME"" network create ""$PUBLIC_NETWORK_NAME"" $EXTERNAL_NETWORK_FLAGS --provider-network-type flat --provider-physical-network ${PUBLIC_PHYSICAL_NETWORK} | grep ' id ' | get_field 2)",7,3
openstack%2Fmagnum~stable%2Fqueens~I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a,openstack/magnum,stable/queens,I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a,k8s_fedora: Explicitly set etcd authentication,MERGED,2018-03-29 11:40:04.000000000,2018-03-30 15:07:50.000000000,2018-03-30 15:07:50.000000000,"[{'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 11:40:04.000000000', 'files': ['releasenotes/notes/configure-etcd-auth-bug-1759813-baac5e0fe8a2e97f.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/beb124e81ead85dd04b2e839a68c941222b945c5', 'message': 'k8s_fedora: Explicitly set etcd authentication\n\nSet client and peer auth to true and add\ntrusted_ca configuration to enable authentication\nvia certs for both clients and other etcd members.\n\nChange-Id: I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a\nCloses-Bug: #1759813\n'}]",0,557679,beb124e81ead85dd04b2e839a68c941222b945c5,7,3,1,20498,,,0,"k8s_fedora: Explicitly set etcd authentication

Set client and peer auth to true and add
trusted_ca configuration to enable authentication
via certs for both clients and other etcd members.

Change-Id: I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a
Closes-Bug: #1759813
",git fetch https://review.opendev.org/openstack/magnum refs/changes/79/557679/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/configure-etcd-auth-bug-1759813-baac5e0fe8a2e97f.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",2,beb124e81ead85dd04b2e839a68c941222b945c5,bug/1759813-stable/queens,ETCD_TRUSTED_CA_FILE=$cert_dir/ca.crtETCD_CLIENT_CERT_AUTH=trueETCD_PEER_TRUSTED_CA_FILE=$cert_dir/ca.crtETCD_PEER_CLIENT_CERT_AUTH=true,,11,0
openstack%2Fmagnum~stable%2Fqueens~I2c6046ce5921a63a2d56f51435433497b1ff30ba,openstack/magnum,stable/queens,I2c6046ce5921a63a2d56f51435433497b1ff30ba,k8s_fedora: Add kubelet authentication/authorization,MERGED,2018-03-25 14:53:17.000000000,2018-03-30 15:07:49.000000000,2018-03-30 15:07:49.000000000,"[{'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-25 14:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/93448b4eeb0515ef1149a9650c85e0a2edb23f4e', 'message': 'k8s_fedora: Add kubelet authentication/authorization\n\n* disable kubelet anonymous-auth\n* enable kubelet webhook-(token) authorization\n* disable kubelet cadvisor and read-only ports\n* listen kubelet only on internal ipv4 ip\n* update kubelet certs\n* Update heapster RBAC to access kubelets\n* update api config to access kubelet over https\n\nCloses-Bug: #1758672\nChange-Id: I2c6046ce5921a63a2d56f51435433497b1ff30ba\n'}, {'number': 2, 'created': '2018-03-25 14:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a435bbaadf07816184e808feecb1d0926d765468', 'message': 'k8s_fedora: Add kubelet authentication/authorization\n\n* disable kubelet anonymous-auth\n* enable kubelet webhook-(token) authorization\n* disable kubelet cadvisor and read-only ports\n* listen kubelet only on internal ipv4 ip\n* update kubelet certs\n* Update heapster RBAC to access kubelets\n* update api config to access kubelet over https\n\nCloses-Bug: #1758672\nChange-Id: I2c6046ce5921a63a2d56f51435433497b1ff30ba\n(cherry-picked from f570abf0c97da521c34719a6369fa5fcad97aa7f)\n'}, {'number': 3, 'created': '2018-03-26 15:19:11.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'releasenotes/notes/k8s_fedora_protect_kubelet-8468ddcb92c2a624.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/dba9203f6a62a32c24a6540ae37fcd5814b11b4a', 'message': 'k8s_fedora: Add kubelet authentication/authorization\n\n* disable kubelet anonymous-auth\n* enable kubelet webhook-(token) authorization\n* disable kubelet cadvisor and read-only ports\n* listen kubelet only on internal ipv4 ip\n* update kubelet certs\n* Update heapster RBAC to access kubelets\n* update api config to access kubelet over https\n\nCloses-Bug: #1758672\nChange-Id: I2c6046ce5921a63a2d56f51435433497b1ff30ba\n'}]",0,556214,dba9203f6a62a32c24a6540ae37fcd5814b11b4a,10,3,3,20498,,,0,"k8s_fedora: Add kubelet authentication/authorization

* disable kubelet anonymous-auth
* enable kubelet webhook-(token) authorization
* disable kubelet cadvisor and read-only ports
* listen kubelet only on internal ipv4 ip
* update kubelet certs
* Update heapster RBAC to access kubelets
* update api config to access kubelet over https

Closes-Bug: #1758672
Change-Id: I2c6046ce5921a63a2d56f51435433497b1ff30ba
",git fetch https://review.opendev.org/openstack/magnum refs/changes/14/556214/3 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",4,93448b4eeb0515ef1149a9650c85e0a2edb23f4e,bug/1758672-stable/queens," KUBE_API_ARGS=""$KUBE_API_ARGS --tls-ca-file=${CERT_DIR}/ca.crt"" KUBE_API_ARGS=""$KUBE_API_ARGS --service-account-key-file=${CERT_DIR}/server.key"" KUBE_API_ARGS=""$KUBE_API_ARGS --kubelet-certificate-authority=${CERT_DIR}/ca.crt --kubelet-client-certificate=${CERT_DIR}/server.crt --kubelet-client-key=${CERT_DIR}/server.key --kubelet-https=true""",,50,3
openstack%2Fcharm-rabbitmq-server~master~Ia39c05a4fe0ce74682af24ffe3d17d3006001b62,openstack/charm-rabbitmq-server,master,Ia39c05a4fe0ce74682af24ffe3d17d3006001b62,Add action to check rmq queues,MERGED,2017-09-14 00:22:24.000000000,2018-03-30 15:05:49.000000000,2018-03-30 15:05:49.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20868}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-14 00:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/28a97c38062800da2d5730116f88f5d0692760d6', 'message': 'Adding action to check for queues with great than N messages\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 2, 'created': '2017-09-20 18:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/f4715bb6089e8ad00ad910ac86e41043a66e31d3', 'message': 'Adding action to check for queues with great than N messages\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 3, 'created': '2017-09-28 23:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/e4cc28021a93ca290aa0971936ddcaeb75902212', 'message': 'Adding action to check for queues with great than N messages\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 4, 'created': '2017-10-05 17:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/1058a04ead61554ae232c74e3d740b57c89a7ff0', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 5, 'created': '2017-10-10 17:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/1f273260855953b005e9b8c013c54f00330d25b6', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 6, 'created': '2017-10-16 20:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/c006c2dadb8a3b4b93ee0f6a3b27c94a2d7dccc3', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 7, 'created': '2017-10-16 21:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/71999adef81fbeae1069ffe49d88600d15af6c8e', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 8, 'created': '2017-10-17 11:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ebed3b85a63458c6af6810194d2912fca09dbff1', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 9, 'created': '2017-11-03 17:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/4030776c73497cbef13b1992ad8ad43ee79abd31', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 10, 'created': '2017-12-27 01:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/1c0c09573f6cf60acd36b61f567de08c2651a19c', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}, {'number': 11, 'created': '2018-02-26 16:49:08.000000000', 'files': ['actions/check-queues', 'actions/actions.py', 'tests/basic_deployment.py', 'unit_tests/test_actions.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/58b8ca09fc71f56ff5c09b768123336178bbd4e0', 'message': 'Add action to check rmq queues\n\nReport back to the user any queues with greater than N messages.\n\nChange-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62\nCloses-Bug: 1716981\n'}]",10,503881,58b8ca09fc71f56ff5c09b768123336178bbd4e0,68,10,11,20868,,,0,"Add action to check rmq queues

Report back to the user any queues with greater than N messages.

Change-Id: Ia39c05a4fe0ce74682af24ffe3d17d3006001b62
Closes-Bug: 1716981
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/81/503881/7 && git format-patch -1 --stdout FETCH_HEAD,"['actions/check-queues', 'actions/actions.py', 'tests/basic_deployment.py', 'unit_tests/test_actions.py', 'actions.yaml']",5,28a97c38062800da2d5730116f88f5d0692760d6,bug/1716981,"check-queues: description: | Show current queues, optionally only show queues with more than N messages or queues containing STRING params: queue-depth: type: integer default: -1 description: | Only show queues with >= this many messages. -1 shows all. Note that if the result exceeds command line length (1/4 ulimit -s) on the target system this will fail (For ex; -1 in an openstack env) See lp:1437366, lp:1274460 vhost: type: string default: ""/"" description: Show queues from the specified vhost. Eg; ""openstack"".",,105,4
openstack%2Ftripleo-upgrade~stable%2Fqueens~I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970,openstack/tripleo-upgrade,stable/queens,I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970,Include new CLI changes for overcloud update.,MERGED,2018-03-30 12:50:02.000000000,2018-03-30 15:03:25.000000000,2018-03-30 15:03:25.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-30 12:50:02.000000000', 'files': ['templates/overcloud_update_setup.sh.j2', 'templates/overcloud_update_run.sh.j2', 'tasks/update/create-update-scripts.yaml', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml', 'templates/overcloud_update.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'defaults/main.yml', 'tasks/update/overcloud_update_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/80e2df6713b9c10ab4fb4f7d8ed5326a773022d0', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n(cherry picked from commit c28e85c5afc48bb3f8d8eb9c1c7b6289e013bfd6)\n""}]",0,557928,80e2df6713b9c10ab4fb4f7d8ed5326a773022d0,7,4,1,8297,,,0,"Include new CLI changes for overcloud update.

Adds the new commands used to update the overcloud:
'overcloud update prepare' & 'overcloud update run'
at the same time that some extra tasks have been
added to collect extra logs.

The main tasks which run 'update prepare' and
'update run' have been included into its own tasks
file which is included from main.

Co-Authored-By: Jiri Stransky <jistr@redhat.com>
Change-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970
(cherry picked from commit c28e85c5afc48bb3f8d8eb9c1c7b6289e013bfd6)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/28/557928/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_update_run.sh.j2', 'templates/overcloud_update_setup.sh.j2', 'tasks/update/create-update-scripts.yaml', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml', 'templates/overcloud_update.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'defaults/main.yml', 'tasks/update/overcloud_update_prepare.yml']",10,80e2df6713b9c10ab4fb4f7d8ed5326a773022d0,updates_queens-stable/queens,"--- - name: setup HEAT outputs via update prepare shell: | source {{ undercloud_rc }} bash {{ overcloud_update_prepare_script }} &> {{ working_dir }}/overcloud_update_prepare.log register: overcloud_update_prepare ignore_errors: yes - block: - name: print stack failures shell: | source {{ undercloud_rc }} openstack stack failures list --long {{ overcloud_stack_name }} | tee {{ working_dir}}/overcloud_failed_update_prepare.log - name: print resource list shell: | source {{ undercloud_rc }} openstack stack resource list --filter status=FAILED --nested-depth 5 {{ overcloud_stack_name }} | tee {{ working_dir}}/overcloud_failed_prepare_resources.log - fail: msg=""Overcloud minor update preparation step failed..."" when: overcloud_update_prepare.rc != 0 ",,138,70
openstack%2Ftripleo-upgrade~stable%2Fqueens~I2050be38e709e04916d86924924c1ce3496c4a0c,openstack/tripleo-upgrade,stable/queens,I2050be38e709e04916d86924924c1ce3496c4a0c,Correct var name tripleo_upgrade_validations_non_fatal.,MERGED,2018-03-30 12:48:31.000000000,2018-03-30 15:03:25.000000000,2018-03-30 15:03:24.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-30 12:48:31.000000000', 'files': ['templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1f1f342038c45d042349c9ed055137b9d2a449b8', 'message': 'Correct var name tripleo_upgrade_validations_non_fatal.\n\nAfter [0] merged the name of the variable\ntripleo_upgrade_skip_validations changed\ninto tripleo_upgrade_validations_non_fatal.\n\nThis modification was missed in the upgrade\nconverge template file.\n\n[0] https://review.openstack.org/#/c/550517/\n\nChange-Id: I2050be38e709e04916d86924924c1ce3496c4a0c\n(cherry picked from commit 680993e6b0b8fc8bd49b2b42bed9b6c4f0d3eb4b)\n'}]",0,557926,1f1f342038c45d042349c9ed055137b9d2a449b8,8,5,1,8297,,,0,"Correct var name tripleo_upgrade_validations_non_fatal.

After [0] merged the name of the variable
tripleo_upgrade_skip_validations changed
into tripleo_upgrade_validations_non_fatal.

This modification was missed in the upgrade
converge template file.

[0] https://review.openstack.org/#/c/550517/

Change-Id: I2050be38e709e04916d86924924c1ce3496c4a0c
(cherry picked from commit 680993e6b0b8fc8bd49b2b42bed9b6c4f0d3eb4b)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/26/557926/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_converge.sh.j2'],1,1f1f342038c45d042349c9ed055137b9d2a449b8,,{% if tripleo_upgrade_validations_non_fatal|bool %},{% if tripleo_upgrade_skip_validations|bool %},1,1
openstack%2Ftripleo-quickstart~master~Ic2db0775b55c7c6dc9a4920e406fcedbe49fc9af,openstack/tripleo-quickstart,master,Ic2db0775b55c7c6dc9a4920e406fcedbe49fc9af,Add overcloud related variables in master upgrade release file.,MERGED,2018-03-29 13:19:41.000000000,2018-03-30 15:03:24.000000000,2018-03-30 15:03:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9976}, {'_account_id': 16515}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}, {'_account_id': 26343}]","[{'number': 1, 'created': '2018-03-29 13:19:41.000000000', 'files': ['config/release/tripleo-ci/master-undercloud-queens-overcloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/68d98c715904598c5dbefa216e5da299d2487d73', 'message': 'Add overcloud related variables in master upgrade release file.\n\nThis is required for mixed version deployment.\n\nChange-Id: Ic2db0775b55c7c6dc9a4920e406fcedbe49fc9af\nCloses-Bug: #1759426\n'}]",0,557705,68d98c715904598c5dbefa216e5da299d2487d73,11,9,1,8297,,,0,"Add overcloud related variables in master upgrade release file.

This is required for mixed version deployment.

Change-Id: Ic2db0775b55c7c6dc9a4920e406fcedbe49fc9af
Closes-Bug: #1759426
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/05/557705/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/master-undercloud-queens-overcloud.yml'],1,68d98c715904598c5dbefa216e5da299d2487d73,bug/1759426," overcloud_templates_path: ""{{ working_dir }}/tripleo-heat-templates"" overcloud_templates_repo: https://git.openstack.org/openstack/tripleo-heat-templates overcloud_templates_branch: stable/{{ overcloud_release }} ",,5,0
openstack%2Fironic-specs~master~Ia8e80626b713aa88223bf523fc57a5eac07dbf00,openstack/ironic-specs,master,Ia8e80626b713aa88223bf523fc57a5eac07dbf00,fix typos in documentation,MERGED,2018-03-23 00:56:52.000000000,2018-03-30 15:02:40.000000000,2018-03-30 15:02:39.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 00:56:52.000000000', 'files': ['specs/approved/ansible-deploy-driver.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f35581eebf8c45e92fe4273a5705efd29962f690', 'message': 'fix typos in documentation\n\nChange-Id: Ia8e80626b713aa88223bf523fc57a5eac07dbf00\n'}]",0,555556,f35581eebf8c45e92fe4273a5705efd29962f690,6,2,1,17130,,,0,"fix typos in documentation

Change-Id: Ia8e80626b713aa88223bf523fc57a5eac07dbf00
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/56/555556/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/ansible-deploy-driver.rst'],1,f35581eebf8c45e92fe4273a5705efd29962f690,trivialfix, It may be overridden by per-node ``ansible_username`` option It may be overridden by per-node ``ansible_key_file`` option It may be overridden by per-node ``ansible_deploy_playbook`` option It may be overridden by per-node ``ansible_shutdown_playbook`` option It may be overridden by per-node ``ansible_clean_playbook`` option It may be overridden by per-node ``ansible_clean_steps_config`` option, It may be overriden by per-node ``ansible_username`` option It may be overriden by per-node ``ansible_key_file`` option It may be overriden by per-node ``ansible_deploy_playbook`` option It may be overriden by per-node ``ansible_shutdown_playbook`` option It may be overriden by per-node ``ansible_clean_playbook`` option It may be overriden by per-node ``ansible_clean_steps_config`` option,6,6
openstack%2Fironic-specs~master~I640103500fe27e26e5bcbd680dc9be6b032fdea9,openstack/ironic-specs,master,I640103500fe27e26e5bcbd680dc9be6b032fdea9,fix typos in documentation,MERGED,2018-02-09 15:08:10.000000000,2018-03-30 15:02:39.000000000,2018-03-30 15:02:39.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-09 15:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/0bdadbd5e28d3cc3d3dfd061787df58d01dc4bc5', 'message': 'fix typos in documentation\n\nChange-Id: I640103500fe27e26e5bcbd680dc9be6b032fdea9\n'}, {'number': 2, 'created': '2018-03-23 00:06:39.000000000', 'files': ['specs/approved/active-node-creation.rst', 'specs/approved/ansible-deploy-driver.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f1ef725c3d2cb3cf0a9333db14346b26a0ae734d', 'message': 'fix typos in documentation\n\nChange-Id: I640103500fe27e26e5bcbd680dc9be6b032fdea9\n'}]",0,542871,f1ef725c3d2cb3cf0a9333db14346b26a0ae734d,8,2,2,17130,,,0,"fix typos in documentation

Change-Id: I640103500fe27e26e5bcbd680dc9be6b032fdea9
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/71/542871/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/active-node-creation.rst'],1,0bdadbd5e28d3cc3d3dfd061787df58d01dc4bc5,typos-fix,"Ultimately this means that an imported host MAY already be allocatedof doing so, and require that documentation is updated in lock-step with","Ultimately this means that that an imported host MAY already be allocatedof doing so, and require that that documentation is updated in lock-step with",2,2
openstack%2Fironic-specs~master~Ibd7c956e472fe77be296df17573c43f2c47b0de1,openstack/ironic-specs,master,Ibd7c956e472fe77be296df17573c43f2c47b0de1,fix the invalid url in pages,MERGED,2018-02-27 02:54:32.000000000,2018-03-30 14:58:20.000000000,2018-03-30 14:58:20.000000000,"[{'_account_id': 11655}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2018-02-27 02:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8de8a70a135e14d91bfb2b901eae7c1bf4a8189f', 'message': 'fix the invalid url in pages\n\nChange-Id: Ibd7c956e472fe77be296df17573c43f2c47b0de1\n'}, {'number': 2, 'created': '2018-03-02 13:06:58.000000000', 'files': ['specs/approved/osc-driver-property-commands.rst', 'specs/approved/physical-network-awareness.rst', 'specs/approved/sighup_on_ironic_services.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/d722e3aaab1eaface818825c4fa4b0cafaec5962', 'message': 'fix the invalid url in pages\n\nChange-Id: Ibd7c956e472fe77be296df17573c43f2c47b0de1\n'}]",4,548129,d722e3aaab1eaface818825c4fa4b0cafaec5962,11,4,2,17130,,,0,"fix the invalid url in pages

Change-Id: Ibd7c956e472fe77be296df17573c43f2c47b0de1
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/29/548129/2 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/osc-driver-property-commands.rst', 'specs/approved/physical-network-awareness.rst', 'specs/approved/sighup_on_ironic_services.rst']",3,8de8a70a135e14d91bfb2b901eae7c1bf4a8189f,fix-url,.. _`launched`: https://docs.openstack.org/oslo.service/latest/#oslo_service.service.launch,.. _`launched`: https://docs.openstack.org/developer/oslo.service/api/service.html#oslo_service.service.launch,3,3
openstack%2Fironic~master~I3ddb39226be53a515817cec53366cc7f8349a469,openstack/ironic,master,I3ddb39226be53a515817cec53366cc7f8349a469,Changes in cleaning framework to support post reboot operation.,NEW,2018-03-08 12:32:25.000000000,2018-03-30 14:45:46.000000000,,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 22977}]","[{'number': 1, 'created': '2018-03-08 12:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b529ae43a1e0f43768ca0f7f6d2fb05368f0dfb9', 'message': 'Changes in cleaning framework to support post reboot operation.\n\nThis commit adds an additional positional argument `reboot_required`\nto the manual cleaning architecture for cleaning steps which are\nout of band and requires post reboot once they are done with their\nfunctionality.\n\nChange-Id: I3ddb39226be53a515817cec53366cc7f8349a469\n'}, {'number': 2, 'created': '2018-03-13 06:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/61f6a0bee123da998e1e396e0807bd080bd55405', 'message': 'Changes in cleaning framework to support post reboot operation.\n\nThis commit adds an additional positional argument `reboot_required`\nto the manual cleaning architecture for cleaning steps which are\nout of band and requires post reboot once they are done with their\nfunctionality.\n\nChange-Id: I3ddb39226be53a515817cec53366cc7f8349a469\n'}, {'number': 3, 'created': '2018-03-26 08:48:04.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/drivers/base.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/test_base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/88bf6b9aeab2fde978b49a123280bf6c81f6fa26', 'message': 'Changes in cleaning framework to support post reboot operation.\n\nThis commit adds an additional positional argument `reboot_required`\nto the manual cleaning architecture for cleaning steps which are\nout of band and requires post reboot once they are done with their\nfunctionality.\n\nChange-Id: I3ddb39226be53a515817cec53366cc7f8349a469\nCloses-Bug: 1716329\n'}]",21,550812,88bf6b9aeab2fde978b49a123280bf6c81f6fa26,36,9,3,22977,,,0,"Changes in cleaning framework to support post reboot operation.

This commit adds an additional positional argument `reboot_required`
to the manual cleaning architecture for cleaning steps which are
out of band and requires post reboot once they are done with their
functionality.

Change-Id: I3ddb39226be53a515817cec53366cc7f8349a469
Closes-Bug: 1716329
",git fetch https://review.opendev.org/openstack/ironic refs/changes/12/550812/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/drivers/base.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/drivers/test_base.py']",6,b529ae43a1e0f43768ca0f7f6d2fb05368f0dfb9,oob-clean-framework," del method_mock._clean_step_reboot_required argsinfo=argsinfo, reboot_required=True) self.assertTrue(self.method._clean_step_reboot_required) def test_clean_step_bad_reboot_required(self): d = driver_base.clean_step(priority=0, reboot_required='badvalue') self.assertRaisesRegex(exception.InvalidParameterValue, 'reboot_required', d, self.method) self.assertTrue(self.method._is_clean_step) self.assertTrue(hasattr(self.method, '_clean_step_priority')) self.assertTrue(hasattr(self.method, '_clean_step_abortable')) self.assertFalse(hasattr(self.method, '_clean_step_reboot_required')) self.assertFalse(hasattr(self.method, '_clean_step_argsinfo')) ", argsinfo=argsinfo),73,4
openstack%2Ftripleo-common~stable%2Fqueens~I4310a90a087d33f504850e456eac47f97ce66aff,openstack/tripleo-common,stable/queens,I4310a90a087d33f504850e456eac47f97ce66aff,Check if plan_env has resource_registry key,MERGED,2018-03-29 13:15:21.000000000,2018-03-30 14:45:29.000000000,2018-03-30 14:45:29.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-29 13:15:21.000000000', 'files': ['tripleo_common/actions/plan.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bde0a4e0b3607b189965bf72001806be5c28fc87', 'message': 'Check if plan_env has resource_registry key\n\nTo avoid keyerror failure is the plan_env has no\nresource_registry element.\n\nChange-Id: I4310a90a087d33f504850e456eac47f97ce66aff\n(cherry picked from commit a40f1517a4cdc72c2ae30d7efe650e52f6309918)\n'}]",0,557703,bde0a4e0b3607b189965bf72001806be5c28fc87,8,4,1,16515,,,0,"Check if plan_env has resource_registry key

To avoid keyerror failure is the plan_env has no
resource_registry element.

Change-Id: I4310a90a087d33f504850e456eac47f97ce66aff
(cherry picked from commit a40f1517a4cdc72c2ae30d7efe650e52f6309918)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/557703/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/plan.py'],1,bde0a4e0b3607b189965bf72001806be5c28fc87,major-upgrade-stable/queens," if step in plan_env.get('resource_registry', {}):", if step in plan_env['resource_registry'].keys():,1,1
openstack%2Fcharm-guide~master~I5672a81e63de4a471ba9fb67b1e9106162fad220,openstack/charm-guide,master,I5672a81e63de4a471ba9fb67b1e9106162fad220,Update openstack-on-lxd section,MERGED,2018-01-12 11:55:48.000000000,2018-03-30 14:14:17.000000000,2018-03-30 14:14:17.000000000,"[{'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2018-01-12 11:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8315787a2b4cedd3fb6b57677247b686c7660352', 'message': 'Update openstack-on-lxd section\n\nAdd queens and related comments to document\n\nChange-Id: I5672a81e63de4a471ba9fb67b1e9106162fad220\n'}, {'number': 2, 'created': '2018-01-16 20:52:25.000000000', 'files': ['doc/source/openstack-on-lxd.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/fc32e182ab8c70f5042b313b71dac3c0d42441b5', 'message': 'Update openstack-on-lxd section\n\nAdd queens and related comments to document\n\nChange-Id: I5672a81e63de4a471ba9fb67b1e9106162fad220\n'}]",0,533164,fc32e182ab8c70f5042b313b71dac3c0d42441b5,14,4,2,22799,,,0,"Update openstack-on-lxd section

Add queens and related comments to document

Change-Id: I5672a81e63de4a471ba9fb67b1e9106162fad220
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/64/533164/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/openstack-on-lxd.rst'],1,8315787a2b4cedd3fb6b57677247b686c7660352,update-oolxd," sudo add-apt-repository cloud-archive:queens -y && sudo apt updateFor amd64, arm64, or ppc64el Pike: .. code:: bash juju deploy bundle-pike.yaml For amd64, arm64, or ppc64el Queens on Xenial: .. code:: bash juju deploy bundle-xenial-queens.yaml For amd64, arm64, or ppc64el Queens on Bionic: .. code:: bash juju deploy bundle-bionic-queens.yaml For s390x Pike: .. code:: bash juju deploy bundle-pike-s390x.yaml For s390x Queens on Xenial: .. code:: bash juju deploy bundle-xenial-queens-s390x.yaml For s390x Queens on Bionic: .. code:: bash juju deploy bundle-bionic-queens-s390x.yaml Note: If you are using a ZFS backend for this deployment, force-raw-images must be disabled on the nova-compute charm in Pike and later. We have made this the default in our bundles - however, be aware that using this setting in a production environment is discouraged as it may have an impact on performance. ", sudo add-apt-repository cloud-archive:ocata -y && sudo apt update,40,1
openstack%2Ftripleo-upgrade~master~I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970,openstack/tripleo-upgrade,master,I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970,Include new CLI changes for overcloud update.,MERGED,2018-03-07 16:08:38.000000000,2018-03-30 12:50:02.000000000,2018-03-22 15:37:11.000000000,"[{'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 21728}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28000}]","[{'number': 1, 'created': '2018-03-07 16:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/79b896028c69ba1579b8869c01daffa542eec0a8', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 2, 'created': '2018-03-07 17:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/060a1bd2a9a1dd1d306a39344dedb27b20285f2a', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 3, 'created': '2018-03-08 09:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cd08793d48b8fb23b786e0f0a76a1faf9f56f195', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 4, 'created': '2018-03-08 15:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/066eb5feab19b20764ea45282c1f60ec2dbcb405', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 5, 'created': '2018-03-08 16:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8504818d56d2b84c9a1eedaa820b196b2858bcf4', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 6, 'created': '2018-03-09 11:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d96dea10da1cab245ab340ba17406f7b037e0557', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 7, 'created': '2018-03-12 08:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/60e48ed832511f12100613a0c6bbc978be096bcf', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 8, 'created': '2018-03-14 15:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9f8771db461f8ca5a336b82cd886e4b1d36ab755', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 9, 'created': '2018-03-15 08:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d2cc4feab1ebc9fb9cc83b8e7aa63ad55df45363', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 10, 'created': '2018-03-19 17:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/33afd7e2a54f46ef513f0b39bc71a5042f50fce1', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 11, 'created': '2018-03-20 08:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a32750a6e48d0af4cd374cc706e2c7abeca041ca', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 12, 'created': '2018-03-20 12:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b80fa5ab5a58b915278429a39e0c950e670e5fd0', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 13, 'created': '2018-03-20 13:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/401dbb2f0d9ac7f107a4f42f092a1bcd42d6ef7d', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 14, 'created': '2018-03-20 13:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1e75d12c0de1f361c5b14ed234ae76a08faad882', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 15, 'created': '2018-03-21 10:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d90d1a202bc4501c9cafbe1b056e413141e518b3', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}, {'number': 16, 'created': '2018-03-21 16:27:32.000000000', 'files': ['templates/overcloud_update_setup.sh.j2', 'templates/overcloud_update_run.sh.j2', 'tasks/update/create-update-scripts.yaml', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml', 'templates/overcloud_update.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'defaults/main.yml', 'tasks/update/overcloud_update_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c28e85c5afc48bb3f8d8eb9c1c7b6289e013bfd6', 'message': ""Include new CLI changes for overcloud update.\n\nAdds the new commands used to update the overcloud:\n'overcloud update prepare' & 'overcloud update run'\nat the same time that some extra tasks have been\nadded to collect extra logs.\n\nThe main tasks which run 'update prepare' and\n'update run' have been included into its own tasks\nfile which is included from main.\n\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nChange-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970\n""}]",47,550517,c28e85c5afc48bb3f8d8eb9c1c7b6289e013bfd6,73,9,16,26343,,,0,"Include new CLI changes for overcloud update.

Adds the new commands used to update the overcloud:
'overcloud update prepare' & 'overcloud update run'
at the same time that some extra tasks have been
added to collect extra logs.

The main tasks which run 'update prepare' and
'update run' have been included into its own tasks
file which is included from main.

Co-Authored-By: Jiri Stransky <jistr@redhat.com>
Change-Id: I8d44a8bd8e7c6d8a3ca6c5b8f3e0806e755e4970
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/17/550517/8 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_update_setup.sh.j2', 'tasks/update/create-update-scripts.yaml', 'tasks/update/overcloud_update_run.yml', 'tasks/update/main.yml', 'templates/overcloud_update.sh.j2', 'templates/overcloud_update_prepare.sh.j2', 'defaults/main.yml', 'tasks/update/overcloud_update_prepare.yml']",8,79b896028c69ba1579b8869c01daffa542eec0a8,updates_queens,"--- - name: setup HEAT outputs via update prepare shell: | source {{ undercloud_rc }} bash {{ overcloud_update_prepare_script }} &> {{ working_dir }}/overcloud_update_prepare.log register: overcloud_update_prepare ignore_errors: yes - block: - name: print stack failures shell: | source {{ undercloud_rc }} openstack stack failures list --long {{ overcloud_stack_name }} | tee {{ working_dir}}/overcloud_failed_update_prepare.log - name: print resource list shell: | source {{ undercloud_rc }} openstack stack resource list --filter status=FAILED --nested-depth 5 {{ overcloud_stack_name }} | tee {{ working_dir}}/overcloud_failed_prepare_resources.log - fail: msg=""Overcloud minor update preparation step failed..."" when: overcloud_update_prepare.rc != 0 ",,69,57
openstack%2Ftripleo-upgrade~master~I2050be38e709e04916d86924924c1ce3496c4a0c,openstack/tripleo-upgrade,master,I2050be38e709e04916d86924924c1ce3496c4a0c,Correct var name tripleo_upgrade_validations_non_fatal.,MERGED,2018-03-23 14:33:14.000000000,2018-03-30 12:48:31.000000000,2018-03-25 20:27:30.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 18851}, {'_account_id': 21537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-23 14:33:14.000000000', 'files': ['templates/overcloud_upgrade_converge.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/680993e6b0b8fc8bd49b2b42bed9b6c4f0d3eb4b', 'message': 'Correct var name tripleo_upgrade_validations_non_fatal.\n\nAfter [0] merged the name of the variable\ntripleo_upgrade_skip_validations changed\ninto tripleo_upgrade_validations_non_fatal.\n\nThis modification was missed in the upgrade\nconverge template file.\n\n[0] https://review.openstack.org/#/c/550517/\n\nChange-Id: I2050be38e709e04916d86924924c1ce3496c4a0c\n'}]",0,555813,680993e6b0b8fc8bd49b2b42bed9b6c4f0d3eb4b,9,6,1,26343,,,0,"Correct var name tripleo_upgrade_validations_non_fatal.

After [0] merged the name of the variable
tripleo_upgrade_skip_validations changed
into tripleo_upgrade_validations_non_fatal.

This modification was missed in the upgrade
converge template file.

[0] https://review.openstack.org/#/c/550517/

Change-Id: I2050be38e709e04916d86924924c1ce3496c4a0c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/555813/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_converge.sh.j2'],1,680993e6b0b8fc8bd49b2b42bed9b6c4f0d3eb4b,,{% if tripleo_upgrade_validations_non_fatal|bool %},{% if tripleo_upgrade_skip_validations|bool %},1,1
openstack%2Fopenstack-ansible~stable%2Fpike~Ic21bf2ef50836f793d3c3549f2400ac05c6f751a,openstack/openstack-ansible,stable/pike,Ic21bf2ef50836f793d3c3549f2400ac05c6f751a,Update repo_build role for PBR fix,MERGED,2018-03-29 19:28:21.000000000,2018-03-30 12:46:46.000000000,2018-03-30 12:46:46.000000000,"[{'_account_id': 7414}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-03-29 19:28:21.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba277a28c0ea3ef9e71f545121b0b4c7d08c7ef8', 'message': 'Update repo_build role for PBR fix\n\nA new version of PBR was released which causes some services, like\ngnocchi, to break in new and exciting ways. This change installs PBR\nwithin the repo_build role which will ensure all of the correct tools\nare available to the repo build process and are installed using known\nconstraints.\n\nChange-Id: Ic21bf2ef50836f793d3c3549f2400ac05c6f751a\n'}]",0,557812,ba277a28c0ea3ef9e71f545121b0b4c7d08c7ef8,14,5,1,6816,,,0,"Update repo_build role for PBR fix

A new version of PBR was released which causes some services, like
gnocchi, to break in new and exciting ways. This change installs PBR
within the repo_build role which will ensure all of the correct tools
are available to the repo build process and are installed using known
constraints.

Change-Id: Ic21bf2ef50836f793d3c3549f2400ac05c6f751a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/557812/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,ba277a28c0ea3ef9e71f545121b0b4c7d08c7ef8,, version: 475d9efc075fdd078a226fcdf7e4f92a5855507e, version: e82614bd8ada0643abd0bc71c813b79a3c003aa7,1,1
openstack%2Fkolla-ansible~master~I3a26ac40cd6e4a9c0e16b668bae577a795a1e100,openstack/kolla-ansible,master,I3a26ac40cd6e4a9c0e16b668bae577a795a1e100,Add gather_facts to ovs roles,MERGED,2018-01-31 03:30:42.000000000,2018-03-30 12:44:38.000000000,2018-03-30 12:44:38.000000000,"[{'_account_id': 1390}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24759}]","[{'number': 1, 'created': '2018-01-31 03:30:42.000000000', 'files': ['ansible/site.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb50892e6ade1161f1fd43afb84f01a9c38afa89', 'message': 'Add gather_facts to ovs roles\n\nAdd gather_facts: false to ovs roles to avoid\nAnsible gathering facts twice.\n\nChange-Id: I3a26ac40cd6e4a9c0e16b668bae577a795a1e100\nCloses-Bug: #1746396\n'}]",0,539411,fb50892e6ade1161f1fd43afb84f01a9c38afa89,9,4,1,22905,,,0,"Add gather_facts to ovs roles

Add gather_facts: false to ovs roles to avoid
Ansible gathering facts twice.

Change-Id: I3a26ac40cd6e4a9c0e16b668bae577a795a1e100
Closes-Bug: #1746396
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/539411/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/site.yml'],1,fb50892e6ade1161f1fd43afb84f01a9c38afa89,bug/1746396, gather_facts: false gather_facts: false,,2,0
openstack%2Ftripleo-common~master~I7c310f52d872b4fd03e9bfa4a6e2e63684350f07,openstack/tripleo-common,master,I7c310f52d872b4fd03e9bfa4a6e2e63684350f07,Check mode support for Server Deployments,MERGED,2018-03-01 23:45:12.000000000,2018-03-30 12:26:31.000000000,2018-03-30 12:26:31.000000000,"[{'_account_id': 7144}, {'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 20868}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-03-01 23:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6572ac1512682494398186dc5b62caab2943af91', 'message': 'Check mode support for Server Deployments\n\nAdds a task for overcloud config-download server deployments that will run\nonly during check mode to test if the deployment file exists, and reports\nwhether ansible would make a change.\n\nMakes the ""Output for"" and ""Run deploment"" tasks not run in check mode.\nshell tasks are implicitly not run by ansible in check mode, and the\n""Output for"" task depends on the deployment_result var registered by\n""Run deployment"".\n\nChange-Id: I7c310f52d872b4fd03e9bfa4a6e2e63684350f07\nCloses-Bug: 1750438\n'}, {'number': 2, 'created': '2018-03-07 01:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06e26e84ae684d6880046edda466b59bb0a801af', 'message': 'Check mode support for Server Deployments\n\nAdds a task for overcloud config-download server deployments that will run\nonly during check mode to test if the deployment file exists, and reports\nwhether ansible would make a change.\n\nMakes the ""Output for"" and ""Run deploment"" tasks not run in check mode.\nshell tasks are implicitly not run by ansible in check mode, and the\n""Output for"" task depends on the deployment_result var registered by\n""Run deployment"".\n\nChange-Id: I7c310f52d872b4fd03e9bfa4a6e2e63684350f07\nCloses-Bug: 1750438\n'}, {'number': 3, 'created': '2018-03-26 21:03:48.000000000', 'files': ['tripleo_common/templates/deployments.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/936522fe238350d4b1f77d97b17cc9e4469f931e', 'message': 'Check mode support for Server Deployments\n\nAdds a task for overcloud config-download server deployments that will run\nonly during check mode to test if the deployment file exists, and reports\nwhether ansible would make a change.\n\nMakes the ""Output for"" and ""Run deploment"" tasks not run in check mode.\nshell tasks are implicitly not run by ansible in check mode, and the\n""Output for"" task depends on the deployment_result var registered by\n""Run deployment"".\n\nChange-Id: I7c310f52d872b4fd03e9bfa4a6e2e63684350f07\nCloses-Bug: 1750438\n'}]",0,549066,936522fe238350d4b1f77d97b17cc9e4469f931e,37,6,3,20868,,,0,"Check mode support for Server Deployments

Adds a task for overcloud config-download server deployments that will run
only during check mode to test if the deployment file exists, and reports
whether ansible would make a change.

Makes the ""Output for"" and ""Run deploment"" tasks not run in check mode.
shell tasks are implicitly not run by ansible in check mode, and the
""Output for"" task depends on the deployment_result var registered by
""Run deployment"".

Change-Id: I7c310f52d872b4fd03e9bfa4a6e2e63684350f07
Closes-Bug: 1750438
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/549066/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/templates/deployments.yaml'],1,6572ac1512682494398186dc5b62caab2943af91,bug/1750438," when: not ansible_check_mode - name: ""Check-mode run deployment {{ item }}"" shell: | [[ -e /var/lib/heat-config/deployed/{{ vars[item].id }}.json ]] become: true register: deploy_exists changed_when: deploy_exists.rc != 0 when: ansible_check_mode check_mode: no when: not ansible_check_mode",,12,0
openstack%2Fmagnum~master~I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a,openstack/magnum,master,I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a,k8s_fedora: Explicitly set etcd authentication,MERGED,2018-03-29 11:38:58.000000000,2018-03-30 12:25:09.000000000,2018-03-30 12:25:09.000000000,"[{'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-29 11:38:58.000000000', 'files': ['releasenotes/notes/configure-etcd-auth-bug-1759813-baac5e0fe8a2e97f.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a1fb448c3a2a1761ba337c67cd38d11a74ab15f9', 'message': 'k8s_fedora: Explicitly set etcd authentication\n\nSet client and peer auth to true and add\ntrusted_ca configuration to enable authentication\nvia certs for both clients and other etcd members.\n\nChange-Id: I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a\nCloses-Bug: #1759813\n'}]",0,557677,a1fb448c3a2a1761ba337c67cd38d11a74ab15f9,8,3,1,20498,,,0,"k8s_fedora: Explicitly set etcd authentication

Set client and peer auth to true and add
trusted_ca configuration to enable authentication
via certs for both clients and other etcd members.

Change-Id: I1d0fbd6f89dc2e95e016299c5ce0c68eb4fe8e1a
Closes-Bug: #1759813
",git fetch https://review.opendev.org/openstack/magnum refs/changes/77/557677/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/configure-etcd-auth-bug-1759813-baac5e0fe8a2e97f.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-etcd.sh']",2,a1fb448c3a2a1761ba337c67cd38d11a74ab15f9,bug/1759813,ETCD_TRUSTED_CA_FILE=$cert_dir/ca.crtETCD_CLIENT_CERT_AUTH=trueETCD_PEER_TRUSTED_CA_FILE=$cert_dir/ca.crtETCD_PEER_CLIENT_CERT_AUTH=true,,11,0
openstack%2Fmagnum~master~I2c6046ce5921a63a2d56f51435433497b1ff30ba,openstack/magnum,master,I2c6046ce5921a63a2d56f51435433497b1ff30ba,k8s_fedora: Add kubelet authentication/authorization,MERGED,2018-03-25 14:52:41.000000000,2018-03-30 12:25:08.000000000,2018-03-30 12:25:08.000000000,"[{'_account_id': 6484}, {'_account_id': 13861}, {'_account_id': 17795}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-25 14:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f570abf0c97da521c34719a6369fa5fcad97aa7f', 'message': 'k8s_fedora: Add kubelet authentication/authorization\n\n* disable kubelet anonymous-auth\n* enable kubelet webhook-(token) authorization\n* disable kubelet cadvisor and read-only ports\n* listen kubelet only on internal ipv4 ip\n* update kubelet certs\n* Update heapster RBAC to access kubelets\n* update api config to access kubelet over https\n\nCloses-Bug: #1758672\nChange-Id: I2c6046ce5921a63a2d56f51435433497b1ff30ba\n'}, {'number': 2, 'created': '2018-03-26 15:18:21.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'releasenotes/notes/k8s_fedora_protect_kubelet-8468ddcb92c2a624.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/205e8adafaf883e6dc81177eee3fa08d12b26f77', 'message': 'k8s_fedora: Add kubelet authentication/authorization\n\n* disable kubelet anonymous-auth\n* enable kubelet webhook-(token) authorization\n* disable kubelet cadvisor and read-only ports\n* listen kubelet only on internal ipv4 ip\n* update kubelet certs\n* Update heapster RBAC to access kubelets\n* update api config to access kubelet over https\n\nCloses-Bug: #1758672\nChange-Id: I2c6046ce5921a63a2d56f51435433497b1ff30ba\n'}]",0,556213,205e8adafaf883e6dc81177eee3fa08d12b26f77,18,5,2,20498,,,0,"k8s_fedora: Add kubelet authentication/authorization

* disable kubelet anonymous-auth
* enable kubelet webhook-(token) authorization
* disable kubelet cadvisor and read-only ports
* listen kubelet only on internal ipv4 ip
* update kubelet certs
* Update heapster RBAC to access kubelets
* update api config to access kubelet over https

Closes-Bug: #1758672
Change-Id: I2c6046ce5921a63a2d56f51435433497b1ff30ba
",git fetch https://review.opendev.org/openstack/magnum refs/changes/13/556213/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/make-cert-client.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/common/templates/kubernetes/fragments/kube-dashboard-service.sh', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh']",4,f570abf0c97da521c34719a6369fa5fcad97aa7f,bug/1758672," KUBE_API_ARGS=""$KUBE_API_ARGS --tls-ca-file=${CERT_DIR}/ca.crt"" KUBE_API_ARGS=""$KUBE_API_ARGS --service-account-key-file=${CERT_DIR}/server.key"" KUBE_API_ARGS=""$KUBE_API_ARGS --kubelet-certificate-authority=${CERT_DIR}/ca.crt --kubelet-client-certificate=${CERT_DIR}/server.crt --kubelet-client-key=${CERT_DIR}/server.key --kubelet-https=true""",,50,3
openstack%2Fhorizon~master~I5a61d26d21f14ec44e8e82f6539196d53b6783fd,openstack/horizon,master,I5a61d26d21f14ec44e8e82f6539196d53b6783fd,Convert project tests into mock: api_access/backups/overview/snapshots,MERGED,2018-01-08 12:27:19.000000000,2018-03-30 12:02:42.000000000,2018-03-30 12:02:42.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-08 12:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e1e26ca4f73f2e1a64bafec60bd594a9e8e854b8', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}, {'number': 2, 'created': '2018-01-08 13:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0aee84286a64875e48fc5207ec420b2c08d619ea', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}, {'number': 3, 'created': '2018-02-16 20:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d9a63704f4b2c6b7e78c5e67dcb458cb23f342aa', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}, {'number': 4, 'created': '2018-02-17 09:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f80294f2f63a0b98cf86c903f1751f8230c68a21', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}, {'number': 5, 'created': '2018-02-19 23:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3a0dbdad7fa58731a2cd475a6d6cf4fa6a2e4617', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}, {'number': 6, 'created': '2018-02-20 12:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/669a91e0dec77adb56010f16479ea7f1f6e12a96', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}, {'number': 7, 'created': '2018-03-04 20:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8f765c16e8e571bba1625a4ff91ae36c6010aee1', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}, {'number': 8, 'created': '2018-03-07 14:27:12.000000000', 'files': ['openstack_dashboard/dashboards/project/api_access/tests.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/project/backups/tests.py', 'openstack_dashboard/dashboards/project/snapshots/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/dd560d95fd2edd09ea8b30501c715999eac26530', 'message': 'Convert project tests into mock: api_access/backups/overview/snapshots\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd\n'}]",14,531728,dd560d95fd2edd09ea8b30501c715999eac26530,33,5,8,841,,,0,"Convert project tests into mock: api_access/backups/overview/snapshots

Partially-Implements: blueprint mock-framework-in-unit-tests
Change-Id: I5a61d26d21f14ec44e8e82f6539196d53b6783fd
",git fetch https://review.opendev.org/openstack/horizon refs/changes/28/531728/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/api_access/tests.py', 'openstack_dashboard/dashboards/project/overview/tests.py', 'openstack_dashboard/dashboards/project/backups/tests.py', 'openstack_dashboard/dashboards/project/snapshots/tests.py']",4,e1e26ca4f73f2e1a64bafec60bd594a9e8e854b8,bp/mock-framework-in-unit-tests,"import mock @mock.patch.object(api.cinder, 'tenant_absolute_limits') @mock.patch.object(api.cinder, 'volume_snapshot_list_paged') @mock.patch.object(api.cinder, 'volume_list') @mock.patch.object(api.base, 'is_service_enabled') def _test_snapshots_index_paginated(self, mock_is_service_enabled, mock_volume_list, mock_volume_snapshot_list_paged, mock_tenant_absolute_limits, marker, sort_dir, snapshots, url, has_more, has_prev): mock_is_service_enabled.return_value = True mock_volume_snapshot_list_paged.return_value = [snapshots, has_more, has_prev] mock_volume_list.return_value = self.cinder_volumes.list() self.assert_mock_multiple_calls_with_same_arguments( mock_is_service_enabled, 2, mock.call(test.IsHttpRequest(), 'volumev3')) mock_volume_snapshot_list_paged.assert_called_once_with( test.IsHttpRequest(), marker=marker, sort_dir=sort_dir, paginate=True) mock_volume_list.assert_called_once_with(test.IsHttpRequest()) @mock.patch.object(api.cinder, 'volume_get') @mock.patch.object(quotas, 'tenant_limit_usages') def test_create_snapshot_get(self, mock_tenant_limit_usages, mock_volume_get): mock_volume_get.return_value = volume mock_tenant_limit_usages.return_value = usage_limit mock_volume_get.assert_called_once_with(test.IsHttpRequest(), volume.id) mock_tenant_limit_usages.assert_called_once_with(test.IsHttpRequest()) @mock.patch.object(api.cinder, 'volume_get') @mock.patch.object(api.cinder, 'volume_snapshot_create') def test_create_snapshot_post(self, mock_volume_snapshot_create, mock_volume_get): mock_volume_get.return_value = volume mock_volume_snapshot_create.return_value = snapshot mock_volume_get.assert_called_once_with(test.IsHttpRequest(), volume.id) mock_volume_snapshot_create.assert_called_once_with( test.IsHttpRequest(), volume.id, snapshot.name, snapshot.description, force=False) @mock.patch.object(api.cinder, 'volume_get') @mock.patch.object(api.cinder, 'volume_snapshot_create') def test_force_create_snapshot(self, mock_volume_snapshot_create, mock_volume_get): mock_volume_get.return_value = volume mock_volume_snapshot_create.return_value = snapshot mock_volume_get.assert_called_once_with(test.IsHttpRequest(), volume.id) mock_volume_snapshot_create.assert_called_once_with( test.IsHttpRequest(), volume.id, snapshot.name, snapshot.description, force=True) @mock.patch.object(api.cinder, 'volume_snapshot_list_paged') @mock.patch.object(api.cinder, 'volume_list') @mock.patch.object(api.cinder, 'volume_snapshot_delete') def test_delete_volume_snapshot(self, mock_volume_snapshot_delete, mock_volume_list, mock_volume_snapshot_list_paged): mock_volume_snapshot_list_paged.return_value = [vol_snapshots, False, False] mock_volume_list.return_value = volumes mock_volume_snapshot_delete.return_value = None mock_volume_snapshot_list_paged.assert_called_once_with( test.IsHttpRequest(), paginate=True, marker=None, sort_dir='desc') mock_volume_list.assert_called_once_with(test.IsHttpRequest()) mock_volume_snapshot_delete.assert_called_once_with( test.IsHttpRequest(), snapshot.id) @mock.patch.object(api.cinder, 'volume_snapshot_get') @mock.patch.object(api.cinder, 'volume_get') def test_volume_snapshot_detail_get(self, mock_volume_get, mock_volume_snapshot_get): mock_volume_get.return_value = volume mock_volume_snapshot_get.return_value = snapshot mock_volume_get.assert_has_calls([ mock.call(test.IsHttpRequest(), volume.id), mock.call(test.IsHttpRequest(), snapshot.volume_id), ]) self.assertEqual(2, mock_volume_get.call_count) mock_volume_snapshot_get.assert_called_once_with( test.IsHttpRequest(), snapshot.id) @mock.patch.object(api.cinder, 'volume_snapshot_get') def test_volume_snapshot_detail_get_with_exception( self, mock_volume_snapshot_get): mock_volume_snapshot_get.side_effect = self.exceptions.cinder mock_volume_snapshot_get.assert_called_once_with( test.IsHttpRequest(), snapshot.id) @mock.patch.object(api.cinder, 'volume_snapshot_get') @mock.patch.object(api.cinder, 'volume_get') def test_volume_snapshot_detail_with_volume_get_exception( self, mock_volume_get, mock_volume_snapshot_get): mock_volume_get.side_effect = self.exceptions.cinder mock_volume_snapshot_get.return_value = snapshot mock_volume_get.assert_called_once_with(test.IsHttpRequest(), volume.id) mock_volume_snapshot_get.assert_called_once_with(test.IsHttpRequest(), snapshot.id) @mock.patch.object(api.cinder, 'volume_snapshot_update') @mock.patch.object(api.cinder, 'volume_snapshot_get') def test_update_snapshot(self, mock_volume_snapshot_get, mock_volume_snapshot_update): mock_volume_snapshot_get.return_value = snapshot mock_volume_snapshot_update.return_value = snapshot mock_volume_snapshot_get.assert_called_once_with( test.IsHttpRequest(), snapshot.id) mock_volume_snapshot_update.assert_called_once_with( test.IsHttpRequest(), snapshot.id, snapshot.name, snapshot.description)","from django import httpfrom mox3.mox import IsAfrom openstack_dashboard.api import cinder @test.create_stubs({api.cinder: ('tenant_absolute_limits', 'volume_snapshot_list_paged', 'volume_list',), api.base: ('is_service_enabled',)}) def _test_snapshots_index_paginated(self, marker, sort_dir, snapshots, url, has_more, has_prev): api.base.is_service_enabled(IsA(http.HttpRequest), 'volumev3') \ .AndReturn(True) api.base.is_service_enabled(IsA(http.HttpRequest), 'volumev3') \ .AndReturn(True) api.cinder.volume_snapshot_list_paged( IsA(http.HttpRequest), marker=marker, sort_dir=sort_dir, paginate=True).AndReturn([snapshots, has_more, has_prev]) api.cinder.volume_list(IsA(http.HttpRequest)).AndReturn( self.cinder_volumes.list()) self.mox.ReplayAll() self.mox.UnsetStubs() @test.create_stubs({cinder: ('volume_get',), quotas: ('tenant_limit_usages',)}) def test_create_snapshot_get(self): cinder.volume_get(IsA(http.HttpRequest), volume.id) \ .AndReturn(volume) quotas.tenant_limit_usages(IsA(http.HttpRequest)).\ AndReturn(usage_limit) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_get', 'volume_snapshot_create',)}) def test_create_snapshot_post(self): cinder.volume_get(IsA(http.HttpRequest), volume.id) \ .AndReturn(volume) cinder.volume_snapshot_create(IsA(http.HttpRequest), volume.id, snapshot.name, snapshot.description, force=False) \ .AndReturn(snapshot) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_get', 'volume_snapshot_create',)}) def test_force_create_snapshot(self): cinder.volume_get(IsA(http.HttpRequest), volume.id) \ .AndReturn(volume) cinder.volume_snapshot_create(IsA(http.HttpRequest), volume.id, snapshot.name, snapshot.description, force=True) \ .AndReturn(snapshot) self.mox.ReplayAll() @test.create_stubs({api.cinder: ('volume_snapshot_list_paged', 'volume_list', 'volume_snapshot_delete', 'tenant_absolute_limits')}) def test_delete_volume_snapshot(self): api.cinder.volume_snapshot_list_paged( IsA(http.HttpRequest), paginate=True, marker=None, sort_dir='desc').AndReturn([vol_snapshots, False, False]) api.cinder.volume_list(IsA(http.HttpRequest)). \ AndReturn(volumes) api.cinder.volume_snapshot_delete(IsA(http.HttpRequest), snapshot.id) self.mox.ReplayAll() @test.create_stubs({api.cinder: ('volume_snapshot_get', 'volume_get')}) def test_volume_snapshot_detail_get(self): api.cinder.volume_get(IsA(http.HttpRequest), volume.id). \ AndReturn(volume) api.cinder.volume_snapshot_get(IsA(http.HttpRequest), snapshot.id). \ AndReturn(snapshot) api.cinder.volume_get(IsA(http.HttpRequest), snapshot.volume_id). \ AndReturn(volume) self.mox.ReplayAll() @test.create_stubs({api.cinder: ('volume_snapshot_get',)}) def test_volume_snapshot_detail_get_with_exception(self): api.cinder.volume_snapshot_get(IsA(http.HttpRequest), snapshot.id).\ AndRaise(self.exceptions.cinder) self.mox.ReplayAll() @test.create_stubs({api.cinder: ('volume_snapshot_get', 'volume_get')}) def test_volume_snapshot_detail_with_volume_get_exception(self): api.cinder.volume_get(IsA(http.HttpRequest), volume.id). \ AndRaise(self.exceptions.cinder) api.cinder.volume_snapshot_get(IsA(http.HttpRequest), snapshot.id). \ AndReturn(snapshot) self.mox.ReplayAll() @test.create_stubs({cinder: ('volume_snapshot_update', 'volume_snapshot_get')}) def test_update_snapshot(self): cinder.volume_snapshot_get(IsA(http.HttpRequest), snapshot.id) \ .AndReturn(snapshot) cinder.volume_snapshot_update(IsA(http.HttpRequest), snapshot.id, snapshot.name, snapshot.description) \ .AndReturn(snapshot) self.mox.ReplayAll()",491,330
openstack%2Fhorizon~master~I13b3f15736b9a26863d18f732fd26ea35ac00f00,openstack/horizon,master,I13b3f15736b9a26863d18f732fd26ea35ac00f00,Convert project tests into mock: fip/sg/key_pairs/topology,MERGED,2018-01-08 12:25:28.000000000,2018-03-30 12:01:59.000000000,2018-03-30 12:01:59.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8478}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-01-08 12:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0f5bf22ec2fe1b2f6c4a20870ab20d9137d5fa23', 'message': 'Convert project tests into mock\n\nfloating_ips\nsecurity_groups\nkey_pairs\nnetwork_topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}, {'number': 2, 'created': '2018-01-08 13:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d50ab8cb924b32aa06c0629033c6fe7458241cc8', 'message': 'Convert project tests into mock: fip/sg/key_pairs/topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}, {'number': 3, 'created': '2018-01-08 18:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/03729365ef28aba13893110cef442aa2391e9954', 'message': 'Convert project tests into mock: fip/sg/key_pairs/topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}, {'number': 4, 'created': '2018-02-16 19:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/887a82da7e639bb0818c6685ce1654a8781ec029', 'message': 'Convert project tests into mock: fip/sg/key_pairs/topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}, {'number': 5, 'created': '2018-02-20 18:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b39c5af3ef9ac3f6d94c35e1f70ae48d8ef88314', 'message': 'Convert project tests into mock: fip/sg/key_pairs/topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}, {'number': 6, 'created': '2018-03-04 21:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e35e8a162a1a10fcffc79652a9e521afb1936451', 'message': 'Convert project tests into mock: fip/sg/key_pairs/topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}, {'number': 7, 'created': '2018-03-09 18:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/da559bfb060b7d72033615696f54f2f9be733b7a', 'message': 'Convert project tests into mock: fip/sg/key_pairs/topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}, {'number': 8, 'created': '2018-03-19 23:33:18.000000000', 'files': ['openstack_dashboard/dashboards/project/network_topology/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/dashboards/project/key_pairs/tests.py', 'openstack_dashboard/dashboards/project/security_groups/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d62d6e39e188416e982c6bef6d343d48d93bc1a3', 'message': 'Convert project tests into mock: fip/sg/key_pairs/topology\n\nPartially-Implements: blueprint mock-framework-in-unit-tests\nChange-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00\n'}]",4,531727,d62d6e39e188416e982c6bef6d343d48d93bc1a3,28,6,8,841,,,0,"Convert project tests into mock: fip/sg/key_pairs/topology

Partially-Implements: blueprint mock-framework-in-unit-tests
Change-Id: I13b3f15736b9a26863d18f732fd26ea35ac00f00
",git fetch https://review.opendev.org/openstack/horizon refs/changes/27/531727/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/network_topology/tests.py', 'openstack_dashboard/dashboards/project/floating_ips/tests.py', 'openstack_dashboard/dashboards/project/key_pairs/tests.py', 'openstack_dashboard/dashboards/project/security_groups/tests.py']",4,0f5bf22ec2fe1b2f6c4a20870ab20d9137d5fa23,bp/mock-framework-in-unit-tests,"import mock @mock.patch.object(api.neutron, 'security_group_list') @mock.patch.object(quotas, 'tenant_quota_usages') def test_index(self, mock_tenant_quota_usages, mock_security_group_list): mock_security_group_list.return_value = sec_groups mock_tenant_quota_usages.return_value = quota_data mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) self.assert_mock_multiple_calls_with_same_arguments( mock_tenant_quota_usages, 2, mock.call(test.IsHttpRequest(), targets=('security_group', ))) @mock.patch.object(api.neutron, 'security_group_list') @mock.patch.object(quotas, 'tenant_quota_usages') def test_create_button_attributes(self, mock_tenant_quota_usages, mock_security_group_list): mock_security_group_list.return_value = sec_groups mock_tenant_quota_usages.return_value = quota_data mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) self.assert_mock_multiple_calls_with_same_arguments( mock_tenant_quota_usages, 3, mock.call(test.IsHttpRequest(), targets=('security_group', ))) @mock.patch.object(api.neutron, 'security_group_list') @mock.patch.object(quotas, 'tenant_quota_usages') def _test_create_button_disabled_when_quota_exceeded( self, network_enabled, mock_tenant_quota_usages, mock_security_group_list): mock_security_group_list.return_value = sec_groups mock_tenant_quota_usages.return_value = quota_data mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) self.assert_mock_multiple_calls_with_same_arguments( mock_tenant_quota_usages, 3, mock.call(test.IsHttpRequest(), targets=('security_group', ))) def _add_security_group_rule_fixture(self, mock_security_group_list, mock_security_group_rule_create, **kwargs): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list return sec_group, rule def _check_add_security_group_rule(self, mock_security_group_list, mock_security_group_rule_create, **kwargs): sec_group = self.security_groups.first() rule = self.security_group_rules.first() mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), kwargs.get('security_group', u'%s' % sec_group.id)) mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_get') def test_update_security_groups_get(self, mock_security_group_get): mock_security_group_get.return_value = sec_group mock_security_group_get.assert_called_once_with( test.IsHttpRequest(), sec_group.id) @mock.patch.object(api.neutron, 'security_group_update') @mock.patch.object(api.neutron, 'security_group_get') def test_update_security_groups_post(self, mock_security_group_get, mock_security_group_update): mock_security_group_update.return_value = sec_group mock_security_group_get.return_value = sec_group mock_security_group_update.assert_called_once_with( test.IsHttpRequest(), str(sec_group.id), sec_group.name, sec_group.description) mock_security_group_get.assert_called_once_with( test.IsHttpRequest(), sec_group.id) sec_group.name = b'@group name-\xe3\x82\xb3' @mock.patch.object(api.neutron, 'security_group_create') def _create_security_group(self, sec_group, mock_security_group_create): mock_security_group_create.return_value = sec_group name_decoded = sec_group.name.decode('utf8') mock_security_group_create.assert_called_once_with( test.IsHttpRequest(), name_decoded, sec_group.description) @mock.patch.object(api.neutron, 'security_group_create') def test_create_security_groups_post_exception(self, mock_security_group_create): mock_security_group_create.side_effect = self.exceptions.nova mock_security_group_create.assert_called_once_with( test.IsHttpRequest(), sec_group.name, sec_group.description) @mock.patch.object(api.neutron, 'security_group_get') def test_detail_get(self, mock_security_group_get): mock_security_group_get.return_value = sec_group mock_security_group_get.assert_called_once_with( test.IsHttpRequest(), sec_group.id) @mock.patch.object(api.neutron, 'security_group_get') def test_detail_get_exception(self, mock_security_group_get): mock_security_group_get.side_effect = self.exceptions.nova mock_security_group_get.assert_called_once_with( test.IsHttpRequest(), sec_group.id) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_cidr(self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_list, mock_security_group_rule_create, self._check_add_security_group_rule( mock_security_group_list, mock_security_group_rule_create, @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_cidr_with_invalid_unused_fields( self, mock_security_group_list, mock_security_group_rule_create): sec_group, rule = self._add_security_group_rule_fixture( mock_security_group_list, mock_security_group_rule_create, security_group=None) self._check_add_security_group_rule( mock_security_group_list, mock_security_group_rule_create, security_group=None) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_securitygroup_with_invalid_unused_fields( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_list, mock_security_group_rule_create, self._check_add_security_group_rule( mock_security_group_list, mock_security_group_rule_create, cidr=None, ethertype='') @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_icmp_with_invalid_unused_fields( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_list, mock_security_group_rule_create, self._check_add_security_group_rule( mock_security_group_list, mock_security_group_rule_create, ip_protocol='icmp', security_group=None) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_cidr_with_template( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'ingress', 'IPv4', rule.ip_protocol, int(rule.from_port), int(rule.to_port), rule.ip_range['cidr'], None) mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_self_as_source_group( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), u'%s' % sec_group.id) mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_self_as_source_group_with_template( self, mock_security_group_list, mock_security_group_rule_create): sec_group = self.security_groups.first() sec_group_list = self.security_groups.list() rule = self._get_source_group_rule() mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'ingress', # ethertype is empty for source_group of Nova Security Group '', rule.ip_protocol, int(rule.from_port), int(rule.to_port), None, u'%s' % sec_group.id) mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_list') def test_detail_invalid_port(self, mock_security_group_list): mock_security_group_list.return_value = sec_group_list # Call 1 time (*2 if Django >= 1.9) call_count = 1 if django.VERSION >= (1, 9): call_count *= 2 self.assert_mock_multiple_calls_with_same_arguments( mock_security_group_list, call_count, mock.call(test.IsHttpRequest())) @mock.patch.object(api.neutron, 'security_group_list') def test_detail_invalid_port_range(self, mock_security_group_list): mock_security_group_list.return_value = sec_group_list # Call 3 time (*2 if Django >= 1.9) call_count = 3 if django.VERSION >= (1, 9): call_count *= 2 self.assert_mock_multiple_calls_with_same_arguments( mock_security_group_list, call_count, mock.call(test.IsHttpRequest())) @mock.patch.object(api.neutron, 'security_group_list') def test_detail_invalid_icmp_rule(self, mock_security_group_list): mock_security_group_list.return_value = sec_group_list # Call POST 5 times (*2 if Django >= 1.9) call_post = 5 if django.VERSION >= (1, 9): call_post *= 2 self.assert_mock_multiple_calls_with_same_arguments( mock_security_group_list, call_post, mock.call(test.IsHttpRequest())) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_exception( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.side_effect = self.exceptions.nova mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), None) mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_duplicated( self, mock_security_group_list, mock_security_group_rule_create): sec_group = self.security_groups.first() sec_group_list = self.security_groups.list() rule = self.security_group_rules.first() mock_security_group_rule_create.side_effect = exceptions.Conflict mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'ingress', 'IPv4', rule.ip_protocol, int(rule.from_port), int(rule.to_port), rule.ip_range['cidr'], None) mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_delete') def test_detail_delete_rule(self, mock_security_group_rule_delete): mock_security_group_rule_delete.return_value = None mock_security_group_rule_delete.assert_called_once_with( test.IsHttpRequest(), rule.id) @mock.patch.object(api.neutron, 'security_group_rule_delete') def test_detail_delete_rule_exception(self, mock_security_group_rule_delete): mock_security_group_rule_delete.side_effect = self.exceptions.nova mock_security_group_rule_delete.assert_called_once_with( test.IsHttpRequest(), rule.id) @mock.patch.object(api.neutron, 'security_group_delete') def test_delete_group(self, mock_security_group_delete): mock_security_group_delete.return_value = None mock_security_group_delete.assert_called_once_with( test.IsHttpRequest(), sec_group.id) @mock.patch.object(api.neutron, 'security_group_delete') def test_delete_group_exception(self, mock_security_group_delete): mock_security_group_delete.side_effect = self.exceptions.nova mock_security_group_delete.assert_called_once_with( test.IsHttpRequest(), sec_group.id) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_custom_protocol( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'ingress', 'IPv6', 37, None, None, 'fe80::/48', None) mock_security_group_list.assert_called_once_with(test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_egress( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'egress', 'IPv4', 'udp', 80, 80, '10.1.1.0/24', None) mock_security_group_list.assert_called_once_with(test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_egress_with_all_tcp( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'egress', 'IPv4', rule.ip_protocol, int(rule.from_port), int(rule.to_port), rule.ip_range['cidr'], None) mock_security_group_list.assert_called_once_with(test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_source_group_with_direction_ethertype( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'egress', # ethertype is empty for source_group of Nova Security Group 'IPv6', rule.ip_protocol, int(rule.from_port), int(rule.to_port), None, u'%s' % sec_group.id) mock_security_group_list.assert_called_once_with(test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_list') def test_add_rule_ethertype_with_ipv6_disabled(self, mock_security_group_list): mock_security_group_list.return_value = self.security_groups.list() mock_security_group_list.assert_called_once_with(test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_list') def test_add_rule_cidr_with_ipv6_disabled(self, mock_security_group_list): mock_security_group_list.return_value = self.security_groups.list() self.assert_mock_multiple_calls_with_same_arguments( mock_security_group_list, 2, mock.call(test.IsHttpRequest())) @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_invalid_port(self, mock_security_group_list): mock_security_group_list.return_value = sec_group_list call_count = 1 if django.VERSION >= (1, 9): call_count *= 2 self.assert_mock_multiple_calls_with_same_arguments( mock_security_group_list, call_count, mock.call(test.IsHttpRequest())) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_ingress_tcp_without_port( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'ingress', 'IPv4', 'tcp', None, None, rule.ip_range['cidr'], None) mock_security_group_list.assert_called_once_with( test.IsHttpRequest()) @mock.patch.object(api.neutron, 'security_group_rule_create') @mock.patch.object(api.neutron, 'security_group_list') def test_detail_add_rule_custom_without_protocol( self, mock_security_group_list, mock_security_group_rule_create): mock_security_group_rule_create.return_value = rule mock_security_group_list.return_value = sec_group_list mock_security_group_rule_create.assert_called_once_with( test.IsHttpRequest(), sec_group.id, 'ingress', 'IPv4', -1, None, None, rule.ip_range['cidr'], None) mock_security_group_list.assert_called_once_with( test.IsHttpRequest())","from mox3.mox import IsAfrom django import http @test.create_stubs({api.neutron: ('security_group_list',), quotas: ('tenant_quota_usages',)}) def test_index(self): api.neutron.security_group_list(IsA(http.HttpRequest)) \ .AndReturn(sec_groups) quotas.tenant_quota_usages( IsA(http.HttpRequest), targets=('security_group', )).MultipleTimes() \ .AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_list',), quotas: ('tenant_quota_usages',)}) def test_create_button_attributes(self): api.neutron.security_group_list( IsA(http.HttpRequest)) \ .AndReturn(sec_groups) quotas.tenant_quota_usages( IsA(http.HttpRequest), targets=('security_group', )).MultipleTimes() \ .AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_list',), quotas: ('tenant_quota_usages',)}) def _test_create_button_disabled_when_quota_exceeded(self, network_enabled): api.neutron.security_group_list( IsA(http.HttpRequest)) \ .AndReturn(sec_groups) quotas.tenant_quota_usages( IsA(http.HttpRequest), targets=('security_group', )).MultipleTimes() \ .AndReturn(quota_data) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def _add_security_group_rule_fixture(self, **kwargs): api.neutron.security_group_rule_create( IsA(http.HttpRequest), kwargs.get('security_group', u'%s' % sec_group.id)).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) return sec_group, rule @test.create_stubs({api.neutron: ('security_group_get',)}) def test_update_security_groups_get(self): api.neutron.security_group_get(IsA(http.HttpRequest), sec_group.id).AndReturn(sec_group) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_update', 'security_group_get')}) def test_update_security_groups_post(self): api.neutron.security_group_update( IsA(http.HttpRequest), str(sec_group.id), sec_group.name, sec_group.description).AndReturn(sec_group) api.neutron.security_group_get( IsA(http.HttpRequest), sec_group.id).AndReturn(sec_group) self.mox.ReplayAll() sec_group.name = '@group name-\xe3\x82\xb3' @test.create_stubs({api.neutron: ('security_group_create',)}) def _create_security_group(self, sec_group): api.neutron.security_group_create( IsA(http.HttpRequest), sec_group.name, sec_group.description).AndReturn(sec_group) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_create',)}) def test_create_security_groups_post_exception(self): api.neutron.security_group_create( IsA(http.HttpRequest), sec_group.name, sec_group.description).AndRaise(self.exceptions.nova) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_get',)}) def test_detail_get(self): api.neutron.security_group_get(IsA(http.HttpRequest), sec_group.id).AndReturn(sec_group) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_get',)}) def test_detail_get_exception(self): api.neutron.security_group_get( IsA(http.HttpRequest), sec_group.id).AndRaise(self.exceptions.nova) self.mox.ReplayAll() def test_detail_add_rule_cidr(self): self.mox.ReplayAll() def test_detail_add_rule_cidr_with_invalid_unused_fields(self): sec_group, rule = self._add_security_group_rule_fixture( self.mox.ReplayAll() def test_detail_add_rule_securitygroup_with_invalid_unused_fields(self): self.mox.ReplayAll() def test_detail_add_rule_icmp_with_invalid_unused_fields(self): self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_cidr_with_template(self): api.neutron.security_group_rule_create(IsA(http.HttpRequest), sec_group.id, 'ingress', 'IPv4', rule.ip_protocol, int(rule.from_port), int(rule.to_port), rule.ip_range['cidr'], None).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list',)}) def test_detail_add_rule_self_as_source_group(self): api.neutron.security_group_rule_create( IsA(http.HttpRequest), sec_group.id, 'ingress', # ethertype is empty for source_group of Nova Security Group '', rule.ip_protocol, int(rule.from_port), int(rule.to_port), None, u'%s' % sec_group.id).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list',)}) def test_detail_add_rule_self_as_source_group_with_template(self): sec_group = self.security_groups.first() sec_group_list = self.security_groups.list() rule = self._get_source_group_rule() api.neutron.security_group_rule_create( IsA(http.HttpRequest), u'%s' % sec_group.id).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_list',)}) def test_detail_invalid_port(self): api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) if django.VERSION >= (1, 9): api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_list',)}) def test_detail_invalid_port_range(self): for i in range(3): api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) if django.VERSION >= (1, 9): for i in range(3): api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_get', 'security_group_list')}) def test_detail_invalid_icmp_rule(self): # Call POST 5 times (*2 if Django >= 1.9) call_post = 5 if django.VERSION >= (1, 9): call_post *= 2 for i in range(call_post): api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_exception(self): api.neutron.security_group_rule_create( IsA(http.HttpRequest), sec_group.id, 'ingress', 'IPv4', rule.ip_protocol, int(rule.from_port), int(rule.to_port), rule.ip_range['cidr'], None).AndRaise(self.exceptions.nova) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_duplicated(self): sec_group = self.security_groups.first() sec_group_list = self.security_groups.list() rule = self.security_group_rules.first() api.neutron.security_group_rule_create( IsA(http.HttpRequest), None).AndRaise(exceptions.Conflict) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_delete',)}) def test_detail_delete_rule(self): api.neutron.security_group_rule_delete(IsA(http.HttpRequest), rule.id) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_delete',)}) def test_detail_delete_rule_exception(self): api.neutron.security_group_rule_delete( IsA(http.HttpRequest), rule.id).AndRaise(self.exceptions.nova) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_delete',)}) def test_delete_group(self): api.neutron.security_group_delete(IsA(http.HttpRequest), sec_group.id) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_delete',)}) def test_delete_group_exception(self): api.neutron.security_group_delete( IsA(http.HttpRequest), sec_group.id).AndRaise(self.exceptions.nova) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_custom_protocol(self): api.neutron.security_group_rule_create(IsA(http.HttpRequest), sec_group.id, 'ingress', 'IPv6', 37, None, None, 'fe80::/48', None).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_egress(self): api.neutron.security_group_rule_create(IsA(http.HttpRequest), sec_group.id, 'egress', 'IPv4', 'udp', 80, 80, '10.1.1.0/24', None).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_egress_with_all_tcp(self): api.neutron.security_group_rule_create(IsA(http.HttpRequest), sec_group.id, 'egress', 'IPv4', rule.ip_protocol, int(rule.from_port), int(rule.to_port), rule.ip_range['cidr'], None).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_source_group_with_direction_ethertype(self): api.neutron.security_group_rule_create( IsA(http.HttpRequest), sec_group.id, 'egress', # ethertype is empty for source_group of Nova Security Group 'IPv6', rule.ip_protocol, int(rule.from_port), int(rule.to_port), None, u'%s' % sec_group.id).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_add_rule_ethertype_with_ipv6_disabled(self): self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_list',)}) def test_add_rule_cidr_with_ipv6_disabled(self): self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_list',)}) def test_detail_add_rule_invalid_port(self): api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) if django.VERSION >= (1, 9): api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_ingress_tcp_without_port(self): api.neutron.security_group_rule_create(IsA(http.HttpRequest), sec_group.id, 'ingress', 'IPv4', 'tcp', None, None, rule.ip_range['cidr'], None).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll() @test.create_stubs({api.neutron: ('security_group_rule_create', 'security_group_list')}) def test_detail_add_rule_custom_without_protocol(self): api.neutron.security_group_rule_create(IsA(http.HttpRequest), sec_group.id, 'ingress', 'IPv4', None, None, None, rule.ip_range['cidr'], None).AndReturn(rule) api.neutron.security_group_list( IsA(http.HttpRequest)).AndReturn(sec_group_list) self.mox.ReplayAll()",769,600
openstack%2Ftripleo-heat-templates~master~I1cd594564d1628a6e1fccb9eadf18b716ccc5c72,openstack/tripleo-heat-templates,master,I1cd594564d1628a6e1fccb9eadf18b716ccc5c72,Add ctlplane networking for routed networks,MERGED,2018-02-23 08:53:08.000000000,2018-03-30 12:01:45.000000000,2018-03-30 12:01:45.000000000,"[{'_account_id': 360}, {'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2018-02-23 08:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09f3475c1af2e5d261f2322064fc47378c6ab578', 'message': 'Add ctlplane networking for routed networks\n\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 2, 'created': '2018-03-12 09:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c73b4390671b72ddf11678146e9766dd9bbe8239', 'message': 'Add ctlplane networking for routed networks\n\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 3, 'created': '2018-03-15 15:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/239cfd873d2a71f9a8c4bf0a4af414667ff058e6', 'message': 'Add ctlplane networking for routed networks\n\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 4, 'created': '2018-03-15 15:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1f0d5d789a2cb30c41e42722afb4ae452fa0172', 'message': 'Add ctlplane networking for routed networks\n\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 5, 'created': '2018-03-15 16:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/918fa27306f877bfa80c0c7a43d6e7700fdbee85', 'message': 'Add ctlplane networking for routed networks\n\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 6, 'created': '2018-03-16 13:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6acb2e482b927ffd2bbbacb527a94ac90f5444f', 'message': 'Add ctlplane networking for routed networks\n\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 7, 'created': '2018-03-21 11:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5017bd355156d4584f7324f6cba7ce4cc17269b9', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n* Enable neutron segments service plug-in\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 8, 'created': '2018-03-21 13:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdfc4e2d5eaaa802b74f7158bc9a2df4bded8168', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n* Enable neutron segments service plug-in\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 9, 'created': '2018-03-21 13:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/671eb688420a2fcb8341a2f820cd24f26aa79e55', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n* Enable neutron segments service plug-in\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 10, 'created': '2018-03-21 21:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/589d22f08a0cfeeb88b2bb92bec97e3af3db4c9a', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n* Enable neutron segments service plug-in\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 11, 'created': '2018-03-22 14:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffdb4b7d86ba9b669f360951bdcaaff6e8f1490e', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n* Enable neutron segments service plug-in\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 12, 'created': '2018-03-22 18:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b3d4e943974e6f5d67e339889fb8840bd66eb34', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 13, 'created': '2018-03-22 19:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a20f4b84ab1375a78432f06a33012f85d2abbaa1', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 14, 'created': '2018-03-24 11:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4bd2e6c29cebb64c7275f62f6ff869756be82a7c', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 15, 'created': '2018-03-29 13:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3aa095fe6dd6e1b9453d3c24e122cdb2d292103e', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 16, 'created': '2018-03-29 23:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e2dfc594e7702431313ecc88660a061845cbc4e', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n\nDepends-On: I5fbac0c4a75ad2fb719bfd10887778c8eaeacfd6\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}, {'number': 17, 'created': '2018-03-29 23:32:48.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'environments/undercloud.yaml', 'net-config-undercloud.j2.yaml', 'extraconfig/post_deploy/undercloud_post.sh', 'extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e947c7e610e45d07da537a102f3309a34823b6d7', 'message': 'Add ctlplane networking for routed networks\n\n* Add a new post install software deployment which runs\na python script to configure the undercloud control\nplane network. Replaces section in post shell script.\n\nChange-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72\n'}]",3,547326,e947c7e610e45d07da537a102f3309a34823b6d7,64,8,17,24245,,,0,"Add ctlplane networking for routed networks

* Add a new post install software deployment which runs
a python script to configure the undercloud control
plane network. Replaces section in post shell script.

Change-Id: I1cd594564d1628a6e1fccb9eadf18b716ccc5c72
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/547326/17 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'environments/undercloud.yaml', 'extraconfig/post_deploy/undercloud_post.sh', 'extraconfig/post_deploy/undercloud_ctlplane_network.py']",4,09f3475c1af2e5d261f2322064fc47378c6ab578,containers-routed-spine-leaf,"#!/usr/bin/python import os import subprocess import yaml import os_client_config PHYSICAL_NETWORK = 'ctlplane' SUBNETS = yaml.load(""$subnets"") LOCAL_SUBNET = ""$local_subnet"" LOCAL_IP = ""$local_ip"" DNS_NAMESERVERS = yaml.load(""$undercloud_nameservers"") # Authentication USER = 'admin' PASSWORD = ""$admin_password"" PROJECT = 'admin' AUTH_URL = ""$auth_url"" def _run_command(args, env=None, name=None): """"""Run the command defined by args and return its output :param args: List of arguments for the command to be run. :param env: Dict defining the environment variables. Pass None to use the current environment. :param name: User-friendly name for the command being run. A value of None will cause args[0] to be used. """""" if name is None: name = args[0] if env is None: env = os.environ env = env.copy() # When running a localized python script, we need to tell it that we're # using utf-8 for stdout, otherwise it can't tell because of the pipe. env['PYTHONIOENCODING'] = 'utf8' try: return subprocess.check_output(args, stderr=subprocess.STDOUT, env=env).decode('utf-8') except subprocess.CalledProcessError as e: print(ERROR: '%s failed: %s', name, e.output) raise def _ensure_neutron_network(sdk): try: network = list(sdk.network.networks(name=PHYSICAL_NETWORK)) if not network: network = sdk.network.create_network( name=PHYSICAL_NETWORK, provider_network_type='flat', provider_physical_network=PHYSICAL_NETWORK) print(""INFO: Network created %s"", network) # (hjensas) Delete the default segment, we create a new segment # per subnet later. segments = list(sdk.network.segments(network_id=network.id)) sdk.network.delete_segment(segments[0].id) print(""INFO: Default segment on network %s deleted."", network.name) else: print(""INFO: Not creating %s network, because it already exists."", PHYSICAL_NETWORK) network = network[0] except Exception as e: LOG.info(""Network create/update failed %s"", e) raise return network def _neutron_subnet_create(sdk, network_id, cidr, gateway, host_routes, allocation_pool, name, segment_id, dns_nameservers): try: # DHCP_START contains a "":"" then assume a IPv6 subnet if ':' in allocation_pool[0]['start']: host_routes = '' subnet = sdk.network.create_subnet( name=name, cidr=cidr, gateway_ip=gateway, host_routes=host_routes, enable_dhcp=True, ip_version='6', ipv6_address_mode='dhcpv6-stateless', ipv6_ra_mode='dhcpv6-stateless', allocation_pools=allocation_pool, network_id=network_id, segment_id=segment_id, dns_nameservers=dns_nameservers) else: subnet = sdk.network.create_subnet( name=name, cidr=cidr, gateway_ip=gateway, host_routes=host_routes, enable_dhcp=True, ip_version='4', allocation_pools=allocation_pool, network_id=network_id, segment_id=segment_id, dns_nameservers=dns_nameservers) print(""INFO: Subnet created %s"", subnet) except Exception as e: print(""ERROR: Create subnet %s failed: %s"", name, e) raise return subnet def _neutron_subnet_update(sdk, subnet_id, gateway, host_routes, allocation_pool, name, dns_nameservers): try: # DHCP_START contains a "":"" then assume a IPv6 subnet if ':' in allocation_pool[0]['start']: host_routes = '' subnet = sdk.network.update_subnet( subnet_id, name=name, gateway_ip=gateway, host_routes=host_routes, allocation_pools=allocation_pool, dns_nameservers=dns_nameservers) print(""INFO: Subnet updated %s"", subnet) except Exception as e: print(""ERROR: Update subnet %s failed: %s"", name, e) raise def _neutron_segment_create(sdk, name, network_id, phynet): try: segment = sdk.network.create_segment( name=name, network_id=network_id, physical_network=phynet, network_type='flat') print(""INFO: Neutron Segment created %s"", segment) except Exception as e: print(""ERROR: Neutron Segment %s create failed %s"", name, e) raise return segment def _neutron_segment_update(sdk, segment_id, name): try: segment = sdk.network.update_segment(segment_id, name=name) print(""INFO: Neutron Segment updated %s"", segment) except Exception as e: print(""ERROR: Neutron Segment %s update failed %s"", name, e) raise def _ensure_neutron_router(sdk, name, subnet_id): try: router = sdk.network.create_router(name=name, admin_state_up='true') sdk.network.add_interface_to_router(router.id, subnet_id=subnet_id) except Exception as e: print(""ERROR: Create router for subnet %s failed: %s"", name, e) raise def _get_subnet(sdk, cidr, network_id): try: subnet = list(sdk.network.subnets(cidr=cidr, network_id=network_id)) except Exception as e: print(""ERROR: Get subnet with cidr %s failed: %s"", cidr, e) raise return False if not subnet else subnet[0] def _get_segment(sdk, phy, network_id): try: segment = list(sdk.network.segments(physical_network=phy, network_id=network_id)) except Exception as e: print(""ERROR: Get segment for physical_network %s on network %s "" ""failed: %s"", cidr, e) raise return False if not segment else segment[0] def config_neutron_segments_and_subnets(sdk, ctlplane_id): s = SUBNETS.get(LOCAL_SUBNET) subnet = _get_subnet(sdk, s.cidr, ctlplane_id) if subnet and not subnet.segment_id: print(""WARNING: Local subnet %s already exists and is not associated"" ""with a network segment. Any additional subnets will be "" ""ignored."", LOCAL_SUBNET) host_routes = [{'destination': '169.254.169.254/32', 'nexthop': LOCAL_IP}] allocation_pool = [{'start': s.dhcp_start, 'end': s.dhcp_end}] _neutron_subnet_update(sdk, subnet.id, s.gateway, host_routes, allocation_pool, LOCAL_SUBNET, DNS_NAMESERVERS) # If the subnet is IPv6 we need to start a router so that router # advertisments are sent out for stateless IP addressing to work. if ':' in s.dhcp_start: _ensure_neutron_router(sdk, LOCAL_SUBNET, subnet.id) else: for name in SUBNETS: s = SUBNETS.get(name) phynet = name if name == LOCAL_SUBNET: phynet = PHYSICAL_NETWORK metadata_nexthop = s.gateway if LOCAL_IP in s.cidr: metadata_nexthop = LOCAL_IP host_routes = [{'destination': '169.254.169.254/32', 'nexthop': metadata_nexthop}] allocation_pool = [{'start': s.dhcp_start, 'end': s.dhcp_end}] subnet = _get_subnet(sdk, s.cidr, ctlplane_id) segment = _get_segment(sdk, phynet, ctlplane_id) if name == LOCAL_SUBNET: if ((subnet and not segment) or (subnet and segment and subnet.segment_id != segment.id)): print(""ERROR: The cidr: %s of the local subnet is already"" ""used in subnet: %s associated with segment_id: %s."" % (s.cidr, subnet.id, subnet.segment_id)) raise RuntimeError('Local subnet cidr already associated.') if subnet: _neutron_segment_update(sdk, subnet.segment_id, name) _neutron_subnet_update(sdk, subnet.id, s.gateway, host_routes, allocation_pool, name, DNS_NAMESERVERS) else: if segment: _neutron_segment_update(sdk, segment.id, name) else: segment = _neutron_segment_create(sdk, name, ctlplane_id, phynet) subnet = _neutron_subnet_create(sdk, ctlplane_id, s.cidr, s.gateway, host_routes, allocation_pool, name, segment.id, DNS_NAMESERVERS) # If the subnet is IPv6 we need to start a router so that router # advertisments are sent out for stateless IP addressing to work. if ':' in s.dhcp_start: _ensure_neutron_router(sdk, name, subnet.id) if _run_command(['hiera', 'neutron_api_enabled'], name='hiera'): sdk = os_client_config.make_sdk(auth_url=AUTH_URL, project_name=PROJECT, username=USER, password=PASSWORD, project_domain_name='Default', user_domain_name='Default') network = _ensure_neutron_network(sdk) config_neutron_segments_and_subnets(sdk, network.id) ",,317,76
openstack%2Fnova~master~Ib4c881058b9b90ba136ff223064c113e63f98379,openstack/nova,master,Ib4c881058b9b90ba136ff223064c113e63f98379,Fix SUSE Install Guide: Placement port,MERGED,2018-01-26 07:08:40.000000000,2018-03-30 11:58:07.000000000,2018-02-05 10:03:43.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7233}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 16128}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-01-26 07:08:40.000000000', 'files': ['doc/source/install/controller-install-obs.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/0f8cdc606f391bdb9da75645a8f5417406151f6f', 'message': 'Fix SUSE Install Guide: Placement port\n\nThe bug report says all:\n""There is a mismatch configuration for placement.\n In the controller configuration, the guide suggests endpoints creation\n pointing to port 8778, however in the default file provided in SLES 12\n SP3, the port used is 8780.""\n\nFix documentation to match sample file.\n\nChange-Id: Ib4c881058b9b90ba136ff223064c113e63f98379\nCloses-Bug: #1741329\n'}]",0,538163,0f8cdc606f391bdb9da75645a8f5417406151f6f,20,13,1,6547,,,0,"Fix SUSE Install Guide: Placement port

The bug report says all:
""There is a mismatch configuration for placement.
 In the controller configuration, the guide suggests endpoints creation
 pointing to port 8778, however in the default file provided in SLES 12
 SP3, the port used is 8780.""

Fix documentation to match sample file.

Change-Id: Ib4c881058b9b90ba136ff223064c113e63f98379
Closes-Bug: #1741329
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/538163/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/controller-install-obs.rst'],1,0f8cdc606f391bdb9da75645a8f5417406151f6f,bug/1741329, $ openstack endpoint create --region RegionOne placement public http://controller:8780 | url | http://controller:8780 | $ openstack endpoint create --region RegionOne placement internal http://controller:8780 | url | http://controller:8780 | $ openstack endpoint create --region RegionOne placement admin http://controller:8780 | url | http://controller:8780 |, $ openstack endpoint create --region RegionOne placement public http://controller:8778 | url | http://controller:8778 | $ openstack endpoint create --region RegionOne placement internal http://controller:8778 | url | http://controller:8778 | $ openstack endpoint create --region RegionOne placement admin http://controller:8778 | url | http://controller:8778 |,6,6
openstack%2Fansible-config_template~master~Id0bba86629a33ce74528c0bd51b11183f5315d86,openstack/ansible-config_template,master,Id0bba86629a33ce74528c0bd51b11183f5315d86,Retain the ordering when using with MultiStringOp,MERGED,2018-03-27 16:16:00.000000000,2018-03-30 11:46:54.000000000,2018-03-30 11:46:54.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-27 16:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/30027fd73646395abf4d3b758e9f1e4681c09125', 'message': 'Retain the ordering when using with MultiStringOp\n\nWhen using config_template with a MultiStringOp the order was subject to\nchange because of the use of set theory. This change converts the use of\nsets to tuples which allow us to retain the ability to override options\nwithout losing the ordering of keys.\n\nChange-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit 662a2805c0dce43a1efec31a85e09056207ec3d2)\n'}, {'number': 2, 'created': '2018-03-28 20:26:30.000000000', 'files': ['action/config_template.py'], 'web_link': 'https://opendev.org/openstack/ansible-config_template/commit/0f917064876f60d3c5c3978012df9cf65dbc937a', 'message': 'Retain the ordering when using with MultiStringOp\n\nWhen using config_template with a MultiStringOp the order was subject to\nchange because of the use of set theory. This change converts the use of\nsets to tuples which allow us to retain the ability to override options\nwithout losing the ordering of keys.\n\nChange-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit 662a2805c0dce43a1efec31a85e09056207ec3d2)\n'}]",0,556956,0f917064876f60d3c5c3978012df9cf65dbc937a,15,4,2,7353,,,0,"Retain the ordering when using with MultiStringOp

When using config_template with a MultiStringOp the order was subject to
change because of the use of set theory. This change converts the use of
sets to tuples which allow us to retain the ability to override options
without losing the ordering of keys.

Change-Id: Id0bba86629a33ce74528c0bd51b11183f5315d86
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit 662a2805c0dce43a1efec31a85e09056207ec3d2)
",git fetch https://review.opendev.org/openstack/ansible-config_template refs/changes/56/556956/2 && git format-patch -1 --stdout FETCH_HEAD,['action/config_template.py'],1,30027fd73646395abf4d3b758e9f1e4681c09125,," singular value to a python tuple. This tuple type forces all values to be a ... {'a': tuple(['1', '2']), 'c': {'a': 1}, 'b': ['a', 'b', 'c']} if isinstance(self[key], tuple): if str(value) not in items: items += tuple([str(value)]) super(MultiKeyDict, self).__setitem__(key, items) else: if str(self[key]) != str(value): items = tuple([str(self[key]), str(value)]) super(MultiKeyDict, self).__setitem__(key, items) if isinstance(value, (tuple, set)): if isinstance(cursect[optname], (tuple, set)): if not any(list(value.values())): value = tuple(value.keys()) if isinstance(value, (tuple, set)): config.set(str(section), str(key), value) elif isinstance(value, set): elif isinstance(value, (tuple, set)): if isinstance(base_items.get(key), tuple) and list_extend: base_items[key] += tuple(value) elif isinstance(base_items.get(key), list) and list_extend: base_items[key].extend(list(value)) else: base_items[key] = value"," singular value to a python set. This set type forces all values to be a ... {'a': set(['1', '2']), 'c': {'a': 1}, 'b': ['a', 'b', 'c']} if isinstance(self[key], set): items.add(str(value)) super(MultiKeyDict, self).__setitem__(key, items) else: items = [str(value), str(self[key])] super(MultiKeyDict, self).__setitem__(key, set(items)) if isinstance(value, set): if isinstance(cursect[optname], set): if not any(i for i in value.values()): value = set(value) if isinstance(value, set):",24,12
openstack%2Frally~master~I1f0bd76a32fad7b95a1702f0f0df7fd3e4688a9a,openstack/rally,master,I1f0bd76a32fad7b95a1702f0f0df7fd3e4688a9a,Speed up RPS runner test cases,MERGED,2018-03-30 09:23:48.000000000,2018-03-30 11:30:34.000000000,2018-03-30 11:30:33.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 09:23:48.000000000', 'files': ['tests/unit/plugins/common/runners/test_rps.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/4c687b50d97841f131c9f375d708e3fb59e6915e', 'message': 'Speed up RPS runner test cases\n\nThis reduce ~10 second (about 20%) of running time of tests\n\nChange-Id: I1f0bd76a32fad7b95a1702f0f0df7fd3e4688a9a\n'}]",0,557914,4c687b50d97841f131c9f375d708e3fb59e6915e,6,2,1,6172,,,0,"Speed up RPS runner test cases

This reduce ~10 second (about 20%) of running time of tests

Change-Id: I1f0bd76a32fad7b95a1702f0f0df7fd3e4688a9a
",git fetch https://review.opendev.org/openstack/rally refs/changes/14/557914/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/plugins/common/runners/test_rps.py'],1,4c687b50d97841f131c9f375d708e3fb59e6915e,use_clikc," ""start"": 20, ""end"": 40, ""step"": 10, ""times"": 40 ""start"": 10, ""end"": 20, ""step"": 2, ""times"": 40 ""start"": 10, ""end"": 15, ""times"": 20"," ""start"": 1, ""end"": 10, ""step"": 1, ""times"": 55 ""start"": 1, ""end"": 10, ""step"": 1, ""times"": 50 ""start"": 1, ""end"": 10, ""times"": 75",11,11
openstack%2Frally~master~I8949cfba54f3b8abaa3ba845b76cb44413b3c4ae,openstack/rally,master,I8949cfba54f3b8abaa3ba845b76cb44413b3c4ae,Remove unused clitutils.process_keystone_exc,MERGED,2018-03-30 09:23:48.000000000,2018-03-30 11:30:32.000000000,2018-03-30 11:30:32.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 09:23:48.000000000', 'files': ['rally/cli/cliutils.py', 'tests/unit/cli/test_cliutils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/98e70684f9526c7d0769a161bcb220b46d70cab2', 'message': ""Remove unused clitutils.process_keystone_exc\n\nThis method is not used so let's just remove it\n\nChange-Id: I8949cfba54f3b8abaa3ba845b76cb44413b3c4ae\n""}]",0,557913,98e70684f9526c7d0769a161bcb220b46d70cab2,6,2,1,6172,,,0,"Remove unused clitutils.process_keystone_exc

This method is not used so let's just remove it

Change-Id: I8949cfba54f3b8abaa3ba845b76cb44413b3c4ae
",git fetch https://review.opendev.org/openstack/rally refs/changes/13/557913/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/cliutils.py', 'tests/unit/cli/test_cliutils.py']",2,98e70684f9526c7d0769a161bcb220b46d70cab2,use_clikc,,"from keystoneclient import exceptions as keystone_exc def test_process_keyestone_exc(self): @cliutils.process_keystone_exc def a(a): if a == 1: raise keystone_exc.Unauthorized() if a == 2: raise keystone_exc.AuthorizationFailure() if a == 3: raise keystone_exc.ConnectionRefused() return a self.assertEqual(1, a(1)) self.assertEqual(1, a(2)) self.assertEqual(1, a(3)) self.assertEqual(4, a(4)) ",0,39
openstack%2Fhorizon~master~I791ed79f681708ddc1567a29f4bbae0c03e5ff6f,openstack/horizon,master,I791ed79f681708ddc1567a29f4bbae0c03e5ff6f,Imported Translations from Zanata,MERGED,2018-03-30 07:10:01.000000000,2018-03-30 10:46:17.000000000,2018-03-30 10:46:16.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-30 07:10:01.000000000', 'files': ['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6aa3c665438d601e01807946626915d3beea8353', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I791ed79f681708ddc1567a29f4bbae0c03e5ff6f\n'}]",0,557900,6aa3c665438d601e01807946626915d3beea8353,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I791ed79f681708ddc1567a29f4bbae0c03e5ff6f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/557900/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",3,6aa3c665438d601e01807946626915d3beea8353,zanata/translations,"""POT-Creation-Date: 2018-03-29 09:23+0000\n""""PO-Revision-Date: 2018-03-29 09:33+0000\n""msgid ""12.0.2-27"" msgstr ""12.0.2-27"" msgid ""13.0.0.0rc1-134"" msgstr ""13.0.0.0rc1-134"" ","""POT-Creation-Date: 2018-03-29 05:30+0000\n""""PO-Revision-Date: 2018-03-27 09:56+0000\n""",63,6
openstack%2Fnetworking-hyperv~master~I6d0b62b3ec082fba4c4298bfcf18330537b77c19,openstack/networking-hyperv,master,I6d0b62b3ec082fba4c4298bfcf18330537b77c19,pypy is not checked at gate,MERGED,2018-03-21 12:55:12.000000000,2018-03-30 10:17:11.000000000,2018-03-30 10:17:11.000000000,"[{'_account_id': 8213}, {'_account_id': 16367}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-21 12:55:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/c76728a79bfaa521fd2063b27e4b717ad30ef7b3', 'message': 'pypy is not checked at gate\n\nChange-Id: I6d0b62b3ec082fba4c4298bfcf18330537b77c19\n'}]",0,554903,c76728a79bfaa521fd2063b27e4b717ad30ef7b3,7,3,1,16367,,,0,"pypy is not checked at gate

Change-Id: I6d0b62b3ec082fba4c4298bfcf18330537b77c19
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/03/554903/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c76728a79bfaa521fd2063b27e4b717ad30ef7b3,,"envlist = py27,py35,pep8local-check-factory = neutron_lib.hacking.checks.factory ","envlist = py27,py35,pypy,pep8local-check-factory = neutron_lib.hacking.checks.factory",2,2
